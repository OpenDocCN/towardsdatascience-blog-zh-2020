<html>
<head>
<title>TQDM: Python progress bar made easy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TQDM: Python 进度条变得简单</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/tqdm-python-progress-bar-made-easy-b9c735af4b93?source=collection_archive---------24-----------------------#2020-04-08">https://towardsdatascience.com/tqdm-python-progress-bar-made-easy-b9c735af4b93?source=collection_archive---------24-----------------------#2020-04-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d4ee" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在 Python 中创建进度条</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d9b88faf952ff03f30d233be24cb3b99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XFjr5QOQcqc3Lm-N"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@oowgnuj?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Jungwoo Hong </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="f36e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在过去的一个月里，我一直在和一个研究员同事一起创建一个 python 包。创建一个 python 包包括一些瞧和一些令人沮丧的时刻。虽然我们将在其他时间讨论 python 包的创建过程，但今天我们将学习 Python 中的进度条。</p><h1 id="2ec6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">进度条的需要</h1><p id="bc75" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">老实说，如果你一次处理最少的信息(数据)，进度条永远不会真正进入你的工作流程。但是对于迭代数据集、对大量信息进行编码或训练模型等情况，进度条会非常方便。</p><ol class=""><li id="622c" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">它们为您提供了已经取得的进展的估计和可能需要更多时间的近似值。</li><li id="c9e2" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">它们向您提供进程仍在运行且没有突然终止的信息。</li></ol><h1 id="1cd0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">进步</h1><p id="2011" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><code class="fe ng nh ni nj b">progress</code>包是我一直用来在 Python 中创建进度条的包。它简单，直观，并提供各种风格的进度条。</p><p id="104a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先初始化进度条的对象<code class="fe ng nh ni nj b">bar</code>。然后，对于每个进度，使用<code class="fe ng nh ni nj b">bar.step()</code>步进，最后使用<code class="fe ng nh ni nj b">bar.finish()</code>关闭该栏。该模块在处<a class="ae ky" href="https://pypi.org/project/progress/" rel="noopener ugc nofollow" target="_blank">可用。</a></p><h2 id="adb5" class="nk lw it bd lx nl nm dn mb nn no dp mf li np nq mh lm nr ns mj lq nt nu ml nv bi translated">例子</h2><p id="4948" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">要迭代 10 个数据点，您将使用以下代码:</p><pre class="kj kk kl km gt nw nj nx ny aw nz bi"><span id="9652" class="nk lw it nj b gy oa ob l oc od">from progress.bar import Bar<br/><br/>bar = Bar('Progress bar', max = 10)<br/>for i in range(10):<br/>    bar.next()<br/>bar.finish()</span></pre><p id="2256" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然它在终端上运行得很好，但当我在 Jupyter 笔记本上运行时，它根本没有显示进度条。所以，我开始寻找替代品，我找到了<code class="fe ng nh ni nj b">tqdm</code>，我发现它被广泛使用，并决定进行转换。</p><h1 id="11d0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">tqdm</h1><p id="ba5d" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">这个<code class="fe ng nh ni nj b">tqdm</code>包使得创建进度条变得非常简单，既可以在终端上显示，也可以在 Jupyter 笔记本上显示。所以，我把代码换成了使用<code class="fe ng nh ni nj b">tqdm</code>。文档和用法可在<a class="ae ky" href="https://github.com/tqdm/tqdm" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获得。</p><h2 id="620b" class="nk lw it bd lx nl nm dn mb nn no dp mf li np nq mh lm nr ns mj lq nt nu ml nv bi translated">例子</h2><p id="38e2" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">假设您有下面的循环，它迭代了 1000000000 次。</p><pre class="kj kk kl km gt nw nj nx ny aw nz bi"><span id="5347" class="nk lw it nj b gy oa ob l oc od">for i in range(1000000000):<br/>    pass</span></pre><p id="2b25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了有一个进度条来显示你已经取得的进展，我们将修改上面的代码如下(只要用<code class="fe ng nh ni nj b">tqdm()</code>把这个范围括起来就行了):</p><pre class="kj kk kl km gt nw nj nx ny aw nz bi"><span id="682a" class="nk lw it nj b gy oa ob l oc od">from tqdm import tqdm</span><span id="a49f" class="nk lw it nj b gy oe ob l oc od">for i in tqdm(range(1000000000)):<br/>    pass</span></pre><p id="7552" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们用<code class="fe ng nh ni nj b">tqdm</code>运行这个循环时，<code class="fe ng nh ni nj b">i</code>仍然保存来自<code class="fe ng nh ni nj b">range()</code>方法的值。另一方面，<code class="fe ng nh ni nj b">tqdm</code>获取迭代次数并使用它来显示进度条，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/71104ddf7a5b1cbc6a91b687a8ce45ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VjZXDNE2fG5y6KbkhSqMrg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用 tqdm 的进度条</p></figure><p id="c327" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该模块还可以扩展到许多复杂的问题，并可以与<code class="fe ng nh ni nj b">pandas</code>、<code class="fe ng nh ni nj b">keras</code>等集成。</p><h1 id="b7df" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="8963" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">今天，我们探索了进度条，尤其是<code class="fe ng nh ni nj b">progress</code>和<code class="fe ng nh ni nj b">tqdm</code>。我建议你使用<code class="fe ng nh ni nj b">tdqm,</code>，但是这两个进度条都有很大的价值。</p></div><div class="ab cl og oh hx oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="im in io ip iq"><p id="c17b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请在评论中与我分享你的想法、观点和建议。你也可以在 LinkedIn 上联系我:<a class="ae ky" href="https://www.linkedin.com/in/bhanotkaran22/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/bhanotkaran22/</a></p></div></div>    
</body>
</html>