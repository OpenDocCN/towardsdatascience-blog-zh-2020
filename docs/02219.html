<html>
<head>
<title>Introducing Amazon SageMaker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍亚马逊SageMaker</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introducing-amazon-sagemaker-8061d0fc476d?source=collection_archive---------39-----------------------#2020-03-02">https://towardsdatascience.com/introducing-amazon-sagemaker-8061d0fc476d?source=collection_archive---------39-----------------------#2020-03-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="436c" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">说到SageMaker</h2><div class=""/><div class=""><h2 id="b6a6" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated"><strong class="ak">面向云的解耦数据科学解决方案</strong></h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/03f7b4331308d830df2b17d72f281c16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I4kbb7A5UutCFnNBS8WEJg.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://www.pexels.com/photo/corn-fields-under-white-clouds-with-blue-sky-during-daytime-158827/" rel="noopener ugc nofollow" target="_blank">https://www . pexels . com/photo/白天蓝天白云下的玉米田-158827/ </a></p></figure><p id="768c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">电脑。它们是棘手的事情——有些日子你会觉得不够，有些日子你会觉得比你需要的更多。您可能认为您只是在安装一个新的开源项目，但是四个小时后您仍然在和安装经理争论。你有一个很好的模型，但是没有一个框架来把它构建到应用程序中。现在，让我们重新想象一下这种体验，但是要使用专门为您构建的工具。欢迎，亚马逊SageMaker。<br/> <br/>亚马逊SageMaker是来自AWS的全托管机器学习解决方案。它将您的环境从开发、培训和部署中分离出来，使您能够分别扩展这些环境，并优化您的支出和时间。世界各地成千上万的开发人员正在以各种方式采用SageMaker，有时是为了端到端的流程，有时是为了扩大培训工作，有时是为了死一般简单的RESTful API集成。在这里，我将带你了解我称之为SageMaker classic的主要方面，或者SageMaker的基本要素。</p><h1 id="d032" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">SageMaker提供了一个托管的开发环境</h1><p id="144f" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">SageMaker从一个notebook实例开始，这是一个EC2实例，专门用于运行Jupyter、您的环境以及您进行特性工程所需的任何额外代码。笔记本实例会自动配置您的AWS凭证，如boto3和aws cli，因此您只需几行代码就可以轻松连接到您在S3、红移、RDS、DynamoDB、Aurora或任何其他位置的数据。为了将访问从您的笔记本实例扩展到其他AWS资源，只需确保更新分配给您的笔记本实例的ExecutionRole。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi my"><img src="../Images/68944049c743b1c7ec7553cf4df6a8bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kvH8NdKOkZ7ehwlOOY9_jQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated"><strong class="bd mz"> SageMaker笔记本实例</strong></p></figure><p id="0270" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">亚马逊SageMaker上的笔记本实例</strong></p><p id="7ca2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">SageMaker提供了运行Jupyter的完全托管的EC2实例，有10多个环境、1400多个包和数百个示例。</p><p id="f5d7" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">最好在一个较小的EC2实例上启动您的笔记本，一般来说<strong class="lh ja"> ml.t2.medium </strong>是一个不错的选择。这是一台笔记本电脑每小时可以获得的最低金额。</p><p id="bbab" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">但是一旦你开始钻研你的特性工程，当你意识到你实际上需要一个更大的实例或者更多的磁盘空间时，你可以<strong class="lh ja">轻松地调整托管你的笔记本的EC2实例的大小</strong>。你需要关闭它，更新设置，然后再次打开它。往返7分钟，但非常值得。</p><p id="b3d2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">不要忘记关闭您的笔记本电脑，因为费用是按小时计算的，而不是按次计算的。通常最好是<a class="ae le" href="https://github.com/aws-samples/amazon-sagemaker-architecting-for-ml/blob/master/Starter-Code/clean-sm-resources.py" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja">实现一个Lambda函数来自动关闭这些</strong> </a>，要么基于一天中的某个时间，要么根据笔记本本身的使用情况。</p><h1 id="af50" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">SageMaker专门为您的每一款车型提供集群</h1><p id="b091" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">现在有趣的部分来了——你可以在训练的时候为你的每个模型获得专用的EC2实例。这些被称为<strong class="lh ja">训练作业</strong>，无论你是使用17种内置算法中的一种，在Docker容器中引入自己的模型，还是在脚本模式下使用AWS管理的容器，你都可以配置它们。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi na"><img src="../Images/ff0ee1e199d0af3c40ca3fa51a6a0044.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wWL54IBiPrvRz0IiF7zQfg.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">亚马逊SageMaker上的培训工作</p></figure><p id="5965" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">亚马逊SageMaker上的培训工作</strong></p><p id="9a82" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">关于你的培训工作的所有细节都被发送到CloudWatch，并且你的模型工件在完成后被存储在S3。</p><p id="f547" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">每个训练作业在SageMaker上都配置了一个<a class="ae le" href="https://sagemaker.readthedocs.io/en/stable/estimators.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja">估算器</strong> </a>，需要使用17种内置算法中的一种，没有任何限制。它们可能提供一些时间优势，因为通过使用它们，您编写的代码更少，但是如果您更喜欢使用TensorFlow、MxNet、PyTorch、Sci-kit Learn或任何框架来创建自己的模型，SageMaker <a class="ae le" href="https://github.com/awslabs/amazon-sagemaker-examples" rel="noopener ugc nofollow" target="_blank">提供了一些示例来看看这是如何工作的</a>。</p><p id="979b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">每个训练作业都记录在AWS控制台中，因此您可以很容易地看到您使用了哪个数据集、它在哪里、模型在哪里以及客观结果，甚至在您完成6个多月后也是如此。</p><h1 id="8ad7" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">SageMaker会围绕您的模型自动创建一个RESTful API</h1><p id="2452" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">在别的地方训练你的模特？别担心！实际上，你可以把任何预先训练好的模型放在SageMaker上——只要你能把它放在Docker容器中，你就可以在SageMaker上运行它。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/5c23ab9ead7117cd8dd8ccc813c1cba6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*YAnoC85ZfnP8UnQVFhELWw.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://aws.amazon.com/blogs/machine-learning/load-test-and-optimize-an-amazon-sagemaker-endpoint-using-automatic-scaling/" rel="noopener ugc nofollow" target="_blank">https://AWS . Amazon . com/blogs/machine-learning/load-test-and-optimize-an-Amazon-sagemaker-endpoint-using-automatic-scaling/</a></p></figure><p id="8858" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">使用SageMaker围绕任何模型创建RESTful API</strong></p><p id="fc02" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果您在脚本模式托管容器支持的框架中引入模型，AWS会为您实现API。</p><p id="12b8" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">初始化您的端点的所有资源需要7分钟以上，所以如果您看到端点显示“Pending”状态，请不要担心如果您将它投入生产以响应常规流量，那么最好为高可用性API设置至少两个EC2实例。这些将位于AWS管理的负载平衡器之后，位于API端点本身之后，API端点可以连接到接收应用程序流量的Lambda函数。</p><p id="b2fd" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">保持开启的端点也会变得昂贵，因此确保<a class="ae le" href="https://github.com/aws-samples/amazon-sagemaker-architecting-for-ml/blob/master/Starter-Code/clean-sm-resources.py" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja">实现一个Lambda函数</strong> </a> <strong class="lh ja"> </strong>，以便在它们不在生产环境中时定期关闭它们。您可以在这里随意试验，选择一个更小的EC2实例，但是仍然能够满足您的需求。端点自带自动扩展功能，您只需<a class="ae le" href="https://aws.amazon.com/blogs/machine-learning/load-test-and-optimize-an-amazon-sagemaker-endpoint-using-automatic-scaling/" rel="noopener ugc nofollow" target="_blank">配置和负载测试这些</a>。</p><h1 id="d790" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">SageMaker记录你所有的资源</h1><p id="4002" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">默认情况下，SageMaker会在控制台中为您记录所有培训作业、端点和超参数调整作业。每个作业都会向CloudWatch发出指标，因此您可以近乎实时地查看这些指标，以监控您的模型的训练情况。此外，通过<strong class="lh ja"> SageMaker Studio </strong>提供的改进，您可以建立<strong class="lh ja">实验</strong>并监控这些实验的进展。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nc"><img src="../Images/71c2a83518d2b2fda07f09c8ca2bf70c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LoPyT0tmcb_sMDYoq41ilg.png"/></div></div></figure><p id="36db" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja"> SageMaker Studio提供实验管理，方便查看和跟踪项目进展。</strong></p><p id="6c8c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在SageMaker中创建了一个实验之后，只需点击一个按钮，所有与之相关的作业就会在Studio中显示出来。</p><p id="1cea" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">SageMaker Studio在re:Invent 2019上公布，目前仍在公开预览中。这意味着AWS仍在微调解决方案，随着他们的开发，可能会有一些变化。因为预览版是公开的，任何拥有AWS帐户的人都可以在美国东部2区或俄亥俄州开设工作室，并开始使用。</p><h1 id="37fc" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">资源</h1><p id="e489" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">AWS在机器学习方面的资源正呈爆炸式增长。GitHub <a class="ae le" href="https://github.com/awslabs/amazon-sagemaker-examples" rel="noopener ugc nofollow" target="_blank">上为SageMaker托管了250多个示例笔记本，就在这里</a>。数百个培训视频可供不同角色和经验水平的人免费使用<a class="ae le" href="https://aws.amazon.com/training/learning-paths/machine-learning/" rel="noopener ugc nofollow" target="_blank">点击这里</a>。如果你想深入了解这篇文章中的任何内容，我亲自经历了在一个11视频系列中概述所有这些功能的麻烦，<a class="ae le" href="https://www.youtube.com/playlist?list=PLhr1KZpdzukcOr_6j_zmSrvYnLUtgqsZz" rel="noopener ugc nofollow" target="_blank">在这里主持</a>。看看吧！</p><p id="cb8f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">默认情况下，SageMaker存在于每个AWS帐户中。你也可以创建自己的AWS账户，并在<a class="ae le" href="https://aws.amazon.com/free/?all-free-tier.sort-by=item.additionalFields.SortRank&amp;all-free-tier.sort-order=asc" rel="noopener ugc nofollow" target="_blank">免费等级中进行实验。</a></p><p id="1ec3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">黑客快乐！在LinkedIn上随时联系——我喜欢听你在自己的机器学习冒险中如何实现SageMaker的成功故事，所以继续吧！</p></div></div>    
</body>
</html>