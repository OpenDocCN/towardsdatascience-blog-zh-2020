<html>
<head>
<title>The Most Underrated Tool in Data Science: NumPy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学中最被低估的工具:NumPy</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-most-underrated-tool-in-data-science-numpy-68d8fcbde524?source=collection_archive---------19-----------------------#2020-02-20">https://towardsdatascience.com/the-most-underrated-tool-in-data-science-numpy-68d8fcbde524?source=collection_archive---------19-----------------------#2020-02-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="dc38" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">NumPy 的强大功能以及如何有效地使用它</h2></div><p id="8f21" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据科学的一切都始于数据，数据有多种格式。数字、图像、文本、x 光、声音和视频记录只是数据源的一些例子。无论数据以何种格式传入，都需要转换成数字数组进行分析。复杂的计算机视觉模型无法像人类一样看到或处理图像。在分析之前，图像被转换成一组数字。因此，在数据科学中有效地存储和修改数字数组是至关重要的。NumPy(数字 Python)是一个科学计算包，它提供了非常实用的方法来创建和操作数字数组。所以我们对 numpy 的了解绝对要多于“把 NumPy 当 np 导入”。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/7ee94edd920872c89e50c65e2e59fef4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cPjhU_z5tW7WpZcAh0PjHg.jpeg"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated"><a class="ae lu" href="https://www.123rf.com/photo_2947926_zeros-and-ones-binary-code-background-.html" rel="noopener ugc nofollow" target="_blank">图来源</a></p></figure><p id="c8cd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Python 列表处理混合数据类型。例如，我们可以创建一个包含整数、浮点数、字符串和布尔值的列表。但是，NumPy 数组的所有元素必须属于同一类型。这听起来好像列表比 NumPy 数组更受欢迎，NumPy 数组对于小型列表可能是正确的。然而，我们几乎总是在现实生活的数据集中处理非常大的数字数组。就存储和处理而言，NumPy 数组比列表有效得多。</p><p id="ab7b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">值得注意的是，最常用的数据分析工具<strong class="kk iu">熊猫</strong>是建立在<strong class="kk iu"> NumPy </strong>之上的。</p><p id="8c87" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇文章中，我将通过例子介绍 NumPy 数组的基础知识。</p><h1 id="c7df" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">创建 NumPy 数组</strong></h1><p id="1013" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">我们可以从 python 列表创建一个数组:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/c7e8e272fc2f2dde8623e9fb1e06591f.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*eu9k_sqPy6wFmdgp1ifL3A.png"/></div></figure><p id="7f69" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">可以使用<strong class="kk iu"> dtype </strong>明确选择数据类型:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/26d813b37e64587e0ad96e424e52a6bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*74XiQXXzyPlP3iNYQNyfeQ.png"/></div></figure><p id="30ea" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以使用嵌套列表创建更高维的数组:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/52b8b63a805b88cc979468d9411b03cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:402/format:webp/1*n_Zt8Z284rL6F3tHQ1Y5TQ.png"/></div></figure><p id="f51d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">NumPy 有内置函数来从头开始创建数组，这样我们就不需要传入值了。<strong class="kk iu">0</strong>和<strong class="kk iu">1</strong>函数分别创建充满 0 和 1 的数组。<strong class="kk iu"> full </strong>功能允许选择要填充到数组中的值。我们只需要传入维度:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/7891a0a72cf53bc7744ee40bde8878c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*YOT9KyFLqZGKwfq1tHjl1w.png"/></div></figure><p id="2a0a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们也可以使用<strong class="kk iu">arrange</strong>函数在特定范围内创建一个具有特定增量的数组:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/f43bf14aa113374966e3d03daa1fdc6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*SdrEPpmDecaC4yX6YLH6JQ.png"/></div></figure><p id="3b16" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">前两个参数指定范围，第三个参数是增量的大小。请注意，上限值不包含在内。</p><p id="e93f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在一个范围内创建数组的另一种方法是<strong class="kk iu"> linspace </strong>函数。在 linspace 函数中，我们需要在指定的范围内选择我们想要多少个值(不是增量的大小):</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/e1243de5b6e8051294310bfa713193eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*iXn89z269ioLEwTcdhCJ7A.png"/></div></figure><p id="c9a5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些值是等距的，下限和上限都包括在内。记住上限不包括<strong class="kk iu">范围</strong>功能。</p><p id="31dc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们有时需要随机数据集进行实践或实验分析。NumPy 的<strong class="kk iu"> random </strong>函数用随机数创建数组:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi my"><img src="../Images/b105e89a92482df1e2df547895e3ea74.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*vmvSMZOAWwrapV3CBAFyjA.png"/></div></figure><ul class=""><li id="d002" class="mz na it kk b kl km ko kp kr nb kv nc kz nd ld ne nf ng nh bi translated">random.random 创建 0 到 1 之间均匀分布的随机值。</li><li id="ffba" class="mz na it kk b kl ni ko nj kr nk kv nl kz nm ld ne nf ng nh bi translated">random.normal 的自变量依次为均值、标准差和极差。</li><li id="bbe8" class="mz na it kk b kl ni ko nj kr nk kv nl kz nm ld ne nf ng nh bi translated">random.randint 创建指定范围内具有指定维数的整数数组。</li></ul><p id="eea1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们在上面的例子中创建了数组，所以我们知道它们的属性。我们不会总是事先知道这些特性。NumPy 提供了<strong class="kk iu"> ndim </strong>、<strong class="kk iu"> size </strong>和<strong class="kk iu"> shape </strong>方法来了解数组:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/7e4c8837ce16d187dc27ab360038a44d.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*qzsX7-e5Jp6y50U0e6zybQ.png"/></div></figure><h1 id="c55e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">访问数组元素</strong></h1><p id="7f44" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">访问单个元素或数组片段类似于 Python 列表的相同操作:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi no"><img src="../Images/88e656a24d38f2c4f206dc9c13074f3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*sSUv0hRaPAeVMCrIbmS7Dg.png"/></div></figure><p id="e9c6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一个元素的索引是 0。如果从末尾开始，第一个元素的索引是-1，第二个元素是-2，以此类推。要访问数组的一部分，我们需要指定上限和下限，中间用冒号隔开。如果不指定下限(即[:3])，就从头开始。同样，如果没有指定上限，上限就是数组的结尾。请注意，指定的范围上限是唯一的。</p><p id="5571" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">选择一个范围内的单个元素或所有元素不是唯一的选项。在某些情况下，我们可能需要访问每第二个或第三个元素。此任务的语法是[开始:结束:步骤]。通过示例，这一点变得更加清楚:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi np"><img src="../Images/f0937db9500dbb7fdb8c3ca337e5cc11.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*BAxEPdqeTM3lqmdBsf03zA.png"/></div></figure><p id="fc22" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果未指定下限值和上限值，数组的开始和结束将作为下限值和上限值。</p><p id="422f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要访问多维数组的元素，可以使用逗号分隔索引或嵌套索引:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/f0a640b338978f41eaed9a896b61b3c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/format:webp/1*UfyGFyzDevQ4DSpp-JM3DQ.png"/></div></figure><h1 id="3cee" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">对数组的操作</strong></h1><p id="2844" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">数组是可变的，所以我们可以改变数组中元素的值:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/5b06a05e6ac9c12ffad68809a11b81a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:422/format:webp/1*Os4zzMJUHUZEKqW843V1Qw.png"/></div></figure><p id="8015" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以使用<strong class="kk iu">整形</strong>功能改变数组的尺寸:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/2a447c6453ea85ee22d8930f1565dc72.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*92KdtTKkiHJPN-OUxkIUAw.png"/></div></figure><p id="dbba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">算术运算可以作为矢量化运算在数组上进行。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/44b1c490d402200fcbf870feb97abe04.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*LxFRK2yq2bZzUbRcSBMUsw.png"/></div></figure><p id="3686" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">NumPy 还提供了数学函数，用作矢量化运算。这些功能也被称为<strong class="kk iu"> ufuncs </strong>(通用功能)。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/556ce77a3e4e2eb810bb80c7893dffa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*EZeUspDv1dJ4NNQD_a2-jA.png"/></div></figure><p id="95cc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">NumPy 中还有许多其他的 ufuncs。你可以随时查看 NumPy 官网上的<a class="ae lu" href="https://numpy.org/devdocs/" rel="noopener ugc nofollow" target="_blank">文档</a>了解更多详情。</p><p id="b020" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> <em class="nu">注:</em> </strong> <em class="nu">向量化运算的优势在于执行速度。我在这里展示的例子包括小数组。然而，在实际项目中，我们需要对非常大的数字数组(即 100 万个元素)进行操作，这对速度至关重要。</em></p><p id="5c45" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我已经介绍了一些基础知识，但是 NumPy 提供了更多的东西，我计划在第二篇关于 NumPy 的文章中介绍。您可以随时访问官方<a class="ae lu" href="https://numpy.org/" rel="noopener ugc nofollow" target="_blank">网站</a>获取更详细的信息。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><p id="4d3a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p><h1 id="68bb" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">我的其他帖子</strong></h1><p id="8e1e" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated"><strong class="kk iu">数据分析</strong></p><ul class=""><li id="1d81" class="mz na it kk b kl km ko kp kr nb kv nc kz nd ld ne nf ng nh bi translated"><a class="ae lu" rel="noopener" target="_blank" href="/combining-dataframes-using-pandas-b9e2e83b9869">使用熊猫组合数据帧</a></li><li id="c88a" class="mz na it kk b kl ni ko nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><a class="ae lu" rel="noopener" target="_blank" href="/handling-missing-values-with-pandas-b876bf6f008f">用熊猫处理缺失值</a></li></ul><p id="9a24" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">机器学习算法</strong></p><ul class=""><li id="834a" class="mz na it kk b kl km ko kp kr nb kv nc kz nd ld ne nf ng nh bi translated"><a class="ae lu" rel="noopener" target="_blank" href="/naive-bayes-classifier-explained-50f9723571ed">朴素贝叶斯分类器—解释</a></li><li id="4d6b" class="mz na it kk b kl ni ko nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><a class="ae lu" rel="noopener" target="_blank" href="/logistic-regression-explained-593e9ddb7c6c">逻辑回归—已解释</a></li><li id="08b7" class="mz na it kk b kl ni ko nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><a class="ae lu" rel="noopener" target="_blank" href="/support-vector-machine-explained-8d75fe8738fd">支持向量机——解释</a></li><li id="7ee0" class="mz na it kk b kl ni ko nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><a class="ae lu" rel="noopener" target="_blank" href="/decision-tree-and-random-forest-explained-8d20ddabc9dd">决策树和随机森林—解释</a></li><li id="071b" class="mz na it kk b kl ni ko nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><a class="ae lu" rel="noopener" target="_blank" href="/gradient-boosted-decision-trees-explained-9259bd8205af">梯度提升决策树——解释</a></li></ul><h1 id="ee2a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">参考文献</strong></h1><ul class=""><li id="19e5" class="mz na it kk b kl mn ko mo kr oc kv od kz oe ld ne nf ng nh bi translated"><a class="ae lu" href="https://numpy.org/" rel="noopener ugc nofollow" target="_blank">https://numpy.org/</a></li><li id="e0b2" class="mz na it kk b kl ni ko nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><a class="ae lu" href="https://jakevdp.github.io/PythonDataScienceHandbook/" rel="noopener ugc nofollow" target="_blank">https://jakevdp.github.io/PythonDataScienceHandbook/</a></li></ul></div></div>    
</body>
</html>