<html>
<head>
<title>How to be fancy with OOP in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python中熟练使用OOP</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-be-fancy-with-python-part-2-70fab0a3e492?source=collection_archive---------6-----------------------#2020-01-03">https://towardsdatascience.com/how-to-be-fancy-with-python-part-2-70fab0a3e492?source=collection_archive---------6-----------------------#2020-01-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3cb2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">本文基于Python中的神奇方法，通过Python中的OOP让我们的生活变得更加轻松。希望你喜欢它。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/95c3a8f6a6d25579c9e1bb9b79b22859.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZXcyTDpPg8XOVfEZ-yngAQ.jpeg"/></div></div></figure><p id="79ef" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你不熟悉Python中的OOP，我强烈推荐科里·斯查费的YouTube播放列表。</p><h2 id="7385" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">什么是魔术方法？</h2><p id="834b" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">魔术方法是python中的特殊方法，以2个下划线开始和结束。它们也被称为<strong class="kt ir"> <em class="mm">邓德</em> </strong>。我们在Python中做的很多事情都是在幕后使用<strong class="kt ir"> <em class="mm"> dunder方法</em> </strong>完成的。看看下面的例子。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mn"><img src="../Images/f2dd6304c80c56e581f670e798ece615.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HmevgdK_OUYJzPmZbJuP4A.png"/></div></div></figure><p id="1776" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">很酷，不是吗？我们将为我们的类实现这些方法，使它们更加直观。让我们看看怎么做。</p><h2 id="3fdf" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">1.__init__()</h2><p id="197b" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">第一个神奇的方法是init方法。在Python中，它被用作类的构造函数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mo"><img src="../Images/26e4657e1ccc648957e16f558158abf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wF9gOi1HM7MEvwsXLu-g4g.png"/></div></div></figure><h2 id="2a1c" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">2.__str__()</h2><p id="4775" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">当我们创建类的对象时，我们希望能够看到它们内部的内容。我们希望我们的类有一个人类可读的表示。这就是邓德海峡的用武之地。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/621c5335a1f95b3e884393cc560ed709.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pncYhFK3Ed7GqAfv-3eFYA.png"/></div></div></figure><p id="e0fa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">还有另一个方法叫做<strong class="kt ir"> <em class="mm"> __repr__() </em> </strong>可以用来返回对象的状态，但是在本文中我们将跳过它。</p><h2 id="b14a" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">3.__len__()</h2><p id="d70c" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">现在假设我们有一个存储学生详细信息的班级学校。我们想要一种简单的方法来统计学校的学生人数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/d0c9ac1004f519a045f3b6eb27f62e7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UaNeBO-OPigJIGijbHFm2g.png"/></div></div></figure><h2 id="0d1d" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">4.__getitem__()</h2><p id="bc81" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">我们还希望有一种简单的方法来访问特定学生的记录…</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/5654f853cab3a25cd2267bd4a08cc114.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YmbR_oRjVX6_ChyEIx6pxQ.png"/></div></div></figure><h2 id="8b1e" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">5.__setitem__()</h2><p id="706f" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">…并编辑它们</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mr"><img src="../Images/e4f552a88ecaae00e70a768736cac628.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B7TtlcahiM-Yq0Xl1ADaPA.png"/></div></div></figure><h2 id="6393" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">6.__getattr__()和__setattr__()</h2><p id="e009" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">当您创建一个类来获取和设置其属性时，这些方法在Python中自动可用。因此我们不需要定义它们。然而，如果我们想改变他们的行为，我们可以这样做。</p><p id="1407" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如，我们可以修改<strong class="kt ir"><em class="mm">_ _ setattr _ _()</em></strong>的行为，以便在设置属性时将其存储在一个列表中，这样我们就可以轻松地访问所有属性。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/4cad2f0b7ff01195d3cbc0200390b06d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-BptkOZ8fqiSXwUmMlItGA.png"/></div></div></figure><h2 id="e277" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">7.__iter__()</h2><p id="10d8" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">我们可以使用<strong class="kt ir"> <em class="mm"> __iter__() </em> </strong>方法创建一个迭代器。然后我们可以用它一次访问一个学生。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mt"><img src="../Images/f04f6991b7c2714012b2d42a7697b63e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sM8xz7Un_4YnZZ1ukn6h7Q.png"/></div></div></figure><h2 id="7aa4" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">8.__加_ _()等数学方法</h2><p id="c999" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">假设我们有一个名为Cost的类。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/cbfd98f829bdf268ae0aa1ca0fc315c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s3_5RAVd2XgU-bnXvB-u9w.png"/></div></div></figure><p id="360e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">能够对这些物体进行数学运算是有意义的。这将使我们的代码更加直观和优雅。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/e32614732189859550eb50d0a86ccf56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J9bMDObiRyhBd7JagIvBgw.png"/></div></div></figure><h2 id="9974" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">结论:</h2><p id="0d8b" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">这些是我发现非常有用的一些简单的dunder方法。如果你想了解更多，下面列出了一些你可以研究的方法。如果你有任何建议，请在评论中提出来，我会把它们写进文章里。</p><h2 id="f654" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated"><code class="fe mv mw mx my b">More methods</code></h2><ul class=""><li id="a546" class="mz na iq kt b ku mh kx mi la nb le nc li nd lm ne nf ng nh bi translated"><code class="fe mv mw mx my b">__new__</code></li><li id="772b" class="mz na iq kt b ku ni kx nj la nk le nl li nm lm ne nf ng nh bi translated"><code class="fe mv mw mx my b">__del__</code></li><li id="1c4c" class="mz na iq kt b ku ni kx nj la nk le nl li nm lm ne nf ng nh bi translated"><code class="fe mv mw mx my b">__enter__</code></li><li id="d526" class="mz na iq kt b ku ni kx nj la nk le nl li nm lm ne nf ng nh bi translated"><code class="fe mv mw mx my b">__exit__</code></li></ul><p id="ed0b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">~快乐学习。</p></div></div>    
</body>
</html>