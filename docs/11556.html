<html>
<head>
<title>Build a Movie Recommendation API using Scikit-Learn, Flask and Heroku</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Scikit-Learn、Flask 和 Heroku 构建一个电影推荐 API</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/build-a-movie-recommendation-api-using-scikit-learn-flask-and-heroku-bee239dc96e3?source=collection_archive---------6-----------------------#2020-08-11">https://towardsdatascience.com/build-a-movie-recommendation-api-using-scikit-learn-flask-and-heroku-bee239dc96e3?source=collection_archive---------6-----------------------#2020-08-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8346" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建您自己的电影推荐 API，供其他开发者在他们的应用程序或网站中使用</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ca0648943478f2557a1a80f1d52b943b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*knH-izmVp9_QwYPE"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Noom Peerapong 在<a class="ae ky" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="39e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">推荐系统无处不在。一些最好的例子是<strong class="lb iu"> YouTube、网飞、Spotify </strong>。网飞和 YouTube<strong class="lb iu">非常依赖他们的推荐系统来让用户在他们的平台上停留更长时间。<strong class="lb iu"> Spotify </strong>根据用户的兴趣向用户推荐精选的歌曲列表。推荐系统发挥关键作用的例子还有很多。</strong></p><h2 id="bb9b" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">但是等等，什么是推荐系统？</h2><blockquote class="mo mp mq"><p id="7d11" class="kz la mr lb b lc ld ju le lf lg jx lh ms lj lk ll mt ln lo lp mu lr ls lt lu im bi translated">简而言之，推荐系统是一种算法，旨在基于用户过去给出的偏好或评级向用户建议相关数据，或者基于项目的属性向用户建议相关数据。</p></blockquote><p id="5a90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要了解更多关于推荐系统的信息，请点击下面的链接</p><ul class=""><li id="bf46" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Recommender_system" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">关于推荐系统</strong> </a></li></ul><h1 id="4006" class="ne lw it bd lx nf ng nh ma ni nj nk md jz nl ka mg kc nm kd mj kf nn kg mm no bi translated">目标:-</h1><blockquote class="mo mp mq"><p id="4c24" class="kz la mr lb b lc ld ju le lf lg jx lh ms lj lk ll mt ln lo lp mu lr ls lt lu im bi translated"><strong class="lb iu">建立一个基本的基于内容的电影推荐系统，用 Flask 做一个 API，部署到 Heroku。</strong></p></blockquote><p id="7dca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着本文的深入，我们将详细讨论<strong class="lb iu">基于内容的推荐系统、API </strong>和<strong class="lb iu"> Heroku </strong>。</p><p id="9723" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="mr">现在，我们来看看这篇文章的内容。</em>T25】</strong></p><h1 id="b95d" class="ne lw it bd lx nf ng nh ma ni nj nk md jz nl ka mg kc nm kd mj kf nn kg mm no bi translated">内容:-</h1><ol class=""><li id="cb24" class="mv mw it lb b lc np lf nq li nr lm ns lq nt lu nu nb nc nd bi translated"><strong class="lb iu">数据集描述</strong></li><li id="f708" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu nu nb nc nd bi translated">建立一个基于内容的推荐系统</li><li id="0831" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu nu nb nc nd bi translated"><strong class="lb iu">使用 Flask </strong>构建一个 REST API</li><li id="6717" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu nu nb nc nd bi translated"><strong class="lb iu">在本地主机— 127.0.0.1 </strong>上测试</li><li id="12f0" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu nu nb nc nd bi translated"><strong class="lb iu">部署到 Heroku — API 上线</strong></li></ol><p id="e2c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将逐步介绍这些主题，最后，我们将构建一个<strong class="lb iu">电影推荐 API </strong>，任何人都可以使用它在应用程序或网站中向他们的用户提供相关的电影建议。</p><h1 id="1221" class="ne lw it bd lx nf ng nh ma ni nj nk md jz nl ka mg kc nm kd mj kf nn kg mm no bi translated">那么，让我们开始吧。</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3049cc037bb6e9252845eb13d3cb58cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nho-IEG25_8qvnvd"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">杰瑞米·毕晓普在<a class="ae ky" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="e2b8" class="ne lw it bd lx nf ng nh ma ni nj nk md jz nl ka mg kc nm kd mj kf nn kg mm no bi translated"><strong class="ak"> <em class="oa"> 1。数据集描述</em> </strong></h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e61cb39302fd8e22812426e3d07373cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*82Nh-AJhDuJO9KPf"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">弗兰基·查马基在<a class="ae ky" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="a902" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">关于数据集</h2><p id="dbd5" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li ob lk ll lm oc lo lp lq od ls lt lu im bi translated">我们首先需要的是数据。关于电影的数据，比如<strong class="lb iu">类型、演员阵容、剧情</strong>等等。在这个任务中，我从 Kaggle 获取了数据。我们有两个数据来源。</p><ul class=""><li id="ec71" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><a class="ae ky" href="https://www.kaggle.com/tmdb/tmdb-movie-metadata" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> TMDB 5000 部电影数据集</strong> </a></li><li id="eb19" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><a class="ae ky" href="https://www.kaggle.com/pncnmnp/the-indian-movie-database" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">印度电影数据库</strong> </a></li></ul><p id="b20b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，由于我们想要一个非常基本的推荐系统来查看 API 在应用程序或网站中使用时的外观，因此我们根据我们的需要组合并修改数据集。</p><p id="74e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据集的修剪和预处理部分是在我的一个 Jupyter 笔记本上单独完成的，这将在以后讨论。但是，如果您仍想了解修剪数据集所涉及的步骤，请访问下面的链接。</p><ul class=""><li id="f1f9" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><a class="ae ky" href="https://github.com/dD2405/BioScope-Recommendation-API/tree/master/Jupyter%20Notebook" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Jupyter 笔记本预处理。</strong> </a></li></ul><p id="34ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">笔记本可能有点不整洁，因为它从来没有打算上网。因此，如果任何人都难以理解的话，我道歉。</p><p id="7c1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是数据集的链接，该数据集将用于构建我们的<strong class="lb iu">基于内容的推荐系统。</strong>下载这个数据集，我们就可以开始了。</p><ul class=""><li id="2a97" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><a class="ae ky" href="https://github.com/dD2405/BioScope-Recommendation-API/tree/master/dataset" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">组合预处理后的电影数据集</strong> </a></li></ul><h2 id="60c5" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">数据集概述</h2><p id="1249" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li ob lk ll lm oc lo lp lq od ls lt lu im bi translated"><strong class="lb iu">因此，我们的数据集中有 6477 部电影，具有以下属性:- </strong></p><ul class=""><li id="0d0d" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated">演员阵容:电影前三名男女演员</li><li id="f113" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">流派:</strong>电影的前 3 大流派</li><li id="cb0b" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated">好莱坞和宝莱坞电影的<strong class="lb iu"> movie_id: TMDb </strong>和<strong class="lb iu">IMDb</strong>id</li><li id="2191" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">原创 _ 标题:</strong>电影的标题</li><li id="5630" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">剧情:</strong>电影基本概况</li></ul><p id="73b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经准备好了数据集。让我们进入下一部分，即<strong class="lb iu">构建基于内容的推荐系统。</strong></p><h1 id="b099" class="ne lw it bd lx nf ng nh ma ni nj nk md jz nl ka mg kc nm kd mj kf nn kg mm no bi translated"><strong class="ak">2<em class="oa">。构建基于内容的推荐系统</em> </strong></h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/92b3fb51440e7e91302bca803e83d3a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*kTjMtqslf6_wjXMBBcV5uQ.png"/></div></figure><h2 id="f824" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">好了，现在什么是基于内容的推荐系统？</h2><blockquote class="mo mp mq"><p id="1a64" class="kz la mr lb b lc ld ju le lf lg jx lh ms lj lk ll mt ln lo lp mu lr ls lt lu im bi translated">基于内容的推荐的工作原理是，如果用户喜欢某个项目，那么我们根据项目的特征或属性向用户推荐类似的项目。所以在我们的例子中，如果一个用户喜欢一部特定类型的电影或者一个演员，那么我们就向用户推荐一部类似的电影。因此，如果用户已经观看了电影<strong class="lb iu">小丑</strong>，那么我们的推荐系统将预测与<strong class="lb iu">小丑</strong>相似的电影，或者如果我们考虑电影的演员阵容，与<strong class="lb iu">小丑</strong>具有相同演员阵容的电影。</p></blockquote><p id="45b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们对什么是基于内容的推荐系统以及它是如何工作的有了一个基本的概念，让我们来编码一下。</p><h2 id="adb8" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">文件 1 — recommendation.py</h2><h2 id="149e" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated"><strong class="ak">导入所需的包</strong></h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="88df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> recommendation.py </strong>中有 5 个函数。让我们逐一讨论它们。</p><h2 id="7d91" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated"><strong class="ak"> i) get_data() </strong></h2><p id="75a5" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li ob lk ll lm oc lo lp lq od ls lt lu im bi translated"><strong class="lb iu"><em class="mr">get _ data()</em></strong><em class="mr">用于获取电影的相关数据，并将数据集及其属性作为结果返回，以便进一步预处理。</em></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><ul class=""><li id="6543" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第二行:</strong>我们使用<strong class="lb iu"> pandas.read_csv() </strong>读取<strong class="lb iu"> movie_data.csv.zip </strong>文件。</li><li id="f5de" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 3 行:</strong>将所有电影的标题转换成小写字母。</li><li id="572d" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 4 行:</strong>返回数据集作为函数的结果。</li></ul><p id="a367" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">get _ data()的返回值:- </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/e6cc7c00a8ff71fcdea4735cbcb55ce4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XbCH8vioupYE4MjaePyO3w.png"/></div></div></figure><h2 id="7f79" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">ii)合并数据()</h2><p id="2440" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li ob lk ll lm oc lo lp lq od ls lt lu im bi translated"><strong class="lb iu"><em class="mr">combine _ data()</em></strong><em class="mr">删除特征提取不需要的列，然后合并</em><strong class="lb iu"><em class="mr">cast</em></strong><em class="mr">和</em> <strong class="lb iu"> <em class="mr">流派</em> </strong> <em class="mr">列，最后返回</em><strong class="lb iu"><em class="mr">combine</em></strong><em class="mr">列作为该函数的结果。</em></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="59f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第 2 行:</strong>删除特征提取不需要的属性。</p><p id="f679" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第 3 行:</strong>将两列<strong class="lb iu">演员</strong>和<strong class="lb iu">流派</strong>合并成一列。</p><p id="a780" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第 5 行:</strong>我们有一个带有<strong class="lb iu">造型</strong>和<strong class="lb iu">流派</strong>值的组合列，因此我们从数据集中删除了单独存在的<strong class="lb iu">造型</strong>和<strong class="lb iu">流派</strong>列。</p><p id="35e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第 6 行:</strong>返回带有<strong class="lb iu">合并</strong>列的数据集。</p><p id="7215" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">combine _ data()的返回值:- </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/88025c017def52e0e593d9cdac9f89aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bjn1UpDksEQpHTWHJ22DTg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">演员表和流派栏合并</p></figure><p id="c306" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi oj translated">在继续下一步之前，请浏览下面提到的主题及其链接。在我们进入下一部分，即 <strong class="lb iu"> <em class="mr"> transform_data()之前，对这些主题有一个基本的了解将会很有帮助。</em>T11】</strong></p><ul class=""><li id="a2cc" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/handling-sparse-matrix-concept-behind-compressed-sparse-row-csr-matrix-4fe6abe58a7a"> <strong class="lb iu">稀疏矩阵</strong> </a></li><li id="c452" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><a class="ae ky" href="https://docs.google.com/document/d/1QDDOoU0zo-uf9hGXHcOdNWiG7sq-pUPk0vAWLFeVi84/edit?usp=sharing" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">包话</strong> </a></li><li id="341d" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><a class="ae ky" href="https://docs.google.com/document/d/1afbxNmhKSQrLCAHHjmjr7_Wqin31gj_xbkhIBvBDFlg/edit?usp=sharing" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Tf-Idf 矢量器</strong> </a></li><li id="0fdd" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><a class="ae ky" href="https://www.machinelearningplus.com/nlp/cosine-similarity/#5softcosinesimilarity" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">余弦相似度</strong> </a></li></ul><h2 id="db0f" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">iii)转换数据()</h2><p id="cb9c" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li ob lk ll lm oc lo lp lq od ls lt lu im bi translated"><strong class="lb iu"><em class="mr">transform _ data()</em></strong><em class="mr">取</em><strong class="lb iu"><em class="mr">combine _ data()</em></strong><em class="mr">和</em><strong class="lb iu"><em class="mr">plot</em></strong><em class="mr">column from</em><strong class="lb iu"><em class="mr">get _ data()</em></strong><em class="mr">并应用</em> <strong class="lb iu"> <em class="mr">计数矢量器</em> </strong> <em class="mr">和<em class="mr"/> </em></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><ul class=""><li id="b22f" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第 2 行:</strong>为<strong class="lb iu"> CountVectorizer </strong>创建一个对象，并使用<strong class="lb iu"> stop_words </strong>参数开始删除英文停用词。</li><li id="73d4" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 3 行:</strong>将<strong class="lb iu">计数矢量器</strong>对象<strong class="lb iu">计数</strong>拟合到<strong class="lb iu"> combine_data() </strong>返回的值上，即<strong class="lb iu"> cast </strong>和<strong class="lb iu">流派</strong>的组合列值。在这之后，我们得到一个<strong class="lb iu">稀疏矩阵</strong>，如我们在关于<strong class="lb iu">单词袋</strong>的讨论中所示，带有每个单词的计数值。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/6d1c84cbdc45c4681c65ed86dedeb834.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*PeMD2bHv17uD3XCBufDHHg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">计数矢量器稀疏矩阵输出</p></figure><ul class=""><li id="e5da" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第 5 行:</strong>为<strong class="lb iu"> TfidfVectorizer </strong>创建一个对象，并使用<strong class="lb iu"> stop_words </strong>参数开始移除英文停用词。</li><li id="c680" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 6 行:</strong>将<strong class="lb iu">tfidf 矢量器</strong>对象<strong class="lb iu"> tfdif </strong>拟合到我们从<strong class="lb iu"> get_data()得到的<strong class="lb iu"> plot </strong>列上。</strong>在此之后，我们得到一个<strong class="lb iu">稀疏矩阵</strong>，如我们讨论的<strong class="lb iu"> Tf-Idf 矢量器</strong>所示，其中包含每个单词的值。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/7fb64f95ae8d9c8f39828862133ac6b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*c5u46g-epB24FE5ae5cPYw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">tfidf 矢量器稀疏矩阵输出</p></figure><ul class=""><li id="4d3f" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第 8 行:</strong>我们将通过<strong class="lb iu">计数矢量器</strong>和<strong class="lb iu"> TfidfVectorizer </strong>得到的两个<strong class="lb iu">稀疏矩阵</strong>组合成一个单一的<strong class="lb iu">稀疏矩阵</strong>。</li><li id="cdd7" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 10 行:</strong>我们现在对我们组合的稀疏矩阵应用<strong class="lb iu">余弦相似度</strong>。</li><li id="fffe" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 12 行:</strong>返回作为<strong class="lb iu"> transform_data() </strong>的结果生成的余弦相似度矩阵</li></ul><p id="accc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">transform _ data()的返回值:- </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/9df70584a7927d08e6d4f50215cb1073.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*DMV5_eytR3aVm7Op7L9PFA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">余弦相似性</p></figure><p id="3a61" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mr">我们将</em><strong class="lb iu"><em class="mr">Tf Idf 矢量器</em> </strong> <em class="mr">用于</em> <strong class="lb iu"> <em class="mr">图</em> </strong> <em class="mr">列，因为</em><strong class="lb iu"><em class="mr">Tf-Idf</em></strong><em class="mr">将较低的值分配给特定文档中具有较高频率的词，而将较高的值分配给具有较低频率的词。</em></p><p id="902d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mr">例如</em></p><blockquote class="mo mp mq"><p id="06e6" class="kz la mr lb b lc ld ju le lf lg jx lh ms lj lk ll mt ln lo lp mu lr ls lt lu im bi translated">在星际军阀灭霸瓦解了半个宇宙后，复仇者们必须重新团结起来，重振他们被击败的盟友，恢复平衡。T59】</p></blockquote><p id="0137" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mr">在这部来自</em> <strong class="lb iu"> <em class="mr">复仇者联盟 4：终局之战</em> </strong> <em class="mr">的电影情节中，我们将赋予诸如</em> <strong class="lb iu"> <em class="mr">灭霸</em> </strong> <em class="mr">和</em> <strong class="lb iu"> <em class="mr">复仇者联盟</em> </strong> <em class="mr">等词语更高的价值，因为它们出现的次数更少，但在确定电影的主旋律方面具有更高的意义。</em></p><h2 id="dd3f" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">四)推荐 _ 电影()</h2><p id="2313" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li ob lk ll lm oc lo lp lq od ls lt lu im bi translated"><strong class="lb iu">推荐 _ 电影()</strong>需要四个参数。</p><ul class=""><li id="8d37" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">标题:</strong>电影名称</li><li id="0eef" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">数据:</strong>返回值为<strong class="lb iu"> get_data() </strong></li><li id="02c5" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">combine:</strong><strong class="lb iu">combine _ data()</strong>的返回值</li><li id="5881" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">transform:</strong><strong class="lb iu">transform _ data()</strong>的返回值</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><ul class=""><li id="8384" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第 3 行:</strong>创建<strong class="lb iu"> </strong>一个<strong class="lb iu">熊猫系列</strong>，包含我们数据集中所有电影的索引。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/5fa80d46e3d9e1cbe212aa1f0298def0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*kzCrTkOpA1ochpnikSx08g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫系列</p></figure><ul class=""><li id="8833" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第 4 行:</strong>在<strong class="lb iu">标题</strong>参数中获取传递给我们的<strong class="lb iu">推荐 _ 电影()</strong>函数的输入电影的索引。</li></ul><p id="f606" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mr">例如，我们通过电影</em> <strong class="lb iu"> <em class="mr"> Logan </em> </strong> <em class="mr">作为我们的输入电影。这一行给了我们熊猫系列电影</em><strong class="lb iu"><em class="mr">Logan</em></strong><em class="mr">的索引。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/2ce8b6cbfd0353e9ca8d1b60e56b3d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:380/format:webp/1*orY8viG_UcDHvouGBd1wYw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们输入电影的索引</p></figure><ul class=""><li id="e33c" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated">第 6 行:这里我们存储每部电影相对于输入电影的余弦值。</li></ul><p id="6633" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mr">比如我们输入的电影是</em> <strong class="lb iu"> <em class="mr">黑暗骑士。</em> </strong> <em class="mr">这行代码的作用是计算所有电影相对于我们输入的电影的余弦值。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/5a09fbc68a46d609e218f34f08ca45c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yAkhjmptzAgHY8yKiJnNuw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">关于<strong class="bd oy">黑暗骑士</strong>的余弦值</p></figure><ul class=""><li id="a366" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第 7 行:</strong>得到余弦值后，我们以逆序排序。正如我们从余弦相似性主题的简介中读到的，文档离源越近，余弦值越高。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/737ca62e3024a5610aa0b0d5341913d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1vwWIW5GO6DPG61479l39w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">相对于<strong class="bd oy">黑暗骑士</strong>排序的余弦值</p></figure><p id="64a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mr">在上面的图像中，我们看到了输入电影的所有余弦值。输入的电影将是最相似的，所以它的值是</em><strong class="lb iu"><em class="mr">0.99</em></strong><em class="mr">。之后我们看到对于</em> <strong class="lb iu"> <em class="mr">索引 3 </em> </strong> <em class="mr">我们的余弦值是</em> <strong class="lb iu"> <em class="mr"> 0.530。</em> </strong> <em class="mr">现在如果你把它和我们之前的熊猫系列输出</em> <strong class="lb iu"> <em class="mr">【黑暗骑士崛起】</em> </strong> <em class="mr">处于</em> <strong class="lb iu"> <em class="mr">指数 3 </em> </strong> <em class="mr">不出所料这是最类似于</em> <strong class="lb iu"> <em class="mr">黑暗骑士</em> </strong> <em class="mr">的电影。</em></p><ul class=""><li id="6a87" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第 8 行:</strong>我们需要输入电影的前 20 部电影。因此，我们存储了与输入电影最相似的 20 部电影</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/6fd486f8e03f600f187cbe9a8bc87a8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nIj6SqC3nmovYB-od1dAIQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">关于<strong class="bd oy">黑暗骑士</strong>的前 20 个余弦值</p></figure><ul class=""><li id="8d6a" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第 10 行:</strong>我们将按照余弦值排序的前 20 部电影存储在一个列表中。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/09fbd168389fda1c77e0d60452e7731a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-3suSlJwXTkxG0hL5UL0ZA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">20 大电影指数</p></figure><ul class=""><li id="b7ba" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第 12–14 行:</strong>在这几行中，我们将电影索引存储在它们各自的列中。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/ae7c6153418b518946e5f7340122cb21.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*zgixJ0rj98Gx0mH5f1n_ZA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">movie_id 及其索引</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/197f724daba7ea4cd6393d85cd23596f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*P8ef9iVG1ltOVDDu78el0A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">电影标题及其索引</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/d970765cb6d5828da3d5ff34ff08ee5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*Ly2ufl2D-Xi8YLzvYUVQ9A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">电影类型及其索引</p></figure><ul class=""><li id="5523" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第 16 行:</strong>我们创建一个熊猫数据帧，以<strong class="lb iu">电影 Id、名称、类型</strong>为列。</li><li id="7eb3" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 18 — 20 行:</strong>我们在刚刚创建的熊猫数据帧中存储了所有 20 部与我们的输入电影相似的电影，即<strong class="lb iu">黑暗骑士</strong>。</li><li id="1e6a" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 22 行:</strong>返回推荐前 20 部电影的熊猫数据帧。</li></ul><p id="f10c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">推荐 _ 电影()</strong>返回值为<strong class="lb iu"> <em class="mr">黑暗骑士</em> :- </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/ec335bd9bfae05be8845ebd15f20f8f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wCnFw3EzNicaCGfA6FAMqA.png"/></div></div></figure><h2 id="aa78" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">五)结果()</h2><p id="759f" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li ob lk ll lm oc lo lp lq od ls lt lu im bi translated"><strong class="lb iu"><em class="mr">result()</em></strong><em class="mr">取一个</em> <strong class="lb iu"> <em class="mr">电影的片名</em> </strong> <em class="mr">作为输入，返回前 20 个推荐。</em></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><ul class=""><li id="ff2e" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第 2 行:</strong>将<strong class="lb iu"> movie_name </strong>转换为小写，因为在我们的数据集中所有的电影都是小写。我们这样做是作为预防措施。如果用户同时用小写字母和大写字母输入电影名称，这不会有问题，因为我们的函数仍然会返回结果。</li></ul><p id="19a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="mr">例如:</em> </strong> <em class="mr">如果输入的是</em><strong class="lb iu"><em class="mr">Logan</em></strong><em class="mr">或</em><strong class="lb iu"><em class="mr">Logan</em></strong><em class="mr">或</em><strong class="lb iu"><em class="mr">Logan</em></strong><em class="mr">我们还是得到我们的推荐。</em></p><ul class=""><li id="2ca3" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第 4–6 行:</strong>我们存储<strong class="lb iu"> get_data()、combine_data()和 transform_data()返回的值。</strong></li><li id="d5df" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 8–9 行:</strong>检查输入电影是否存在于我们的数据集中。如果在我们的数据集中没有找到，那么我们返回没有找到电影。</li><li id="a220" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 11–12 行:</strong>如果我们的电影出现在数据集中，那么我们调用我们的 recommend_movies()函数并传递<strong class="lb iu"> get_data()、combine_data()和 transform_data() </strong>的返回值以及电影名称作为函数的参数。</li><li id="8aaf" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 13 行:</strong>我们以 Python 字典格式返回电影结果。</li></ul><p id="9b51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">结果的返回值():- </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/e19f9da255d47c8d2e4500f7c81a4264.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O15P9qfufgTJNogN1c4dag.png"/></div></div></figure><p id="7b6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然我们的推荐系统已经准备好了，让我们进入下一部分，即<strong class="lb iu">使用 Flask 构建一个 REST API。</strong></p><h1 id="1e6e" class="ne lw it bd lx nf ng nh ma ni nj nk md jz nl ka mg kc nm kd mj kf nn kg mm no bi translated">3.<strong class="ak">使用 Flask </strong>构建一个 REST API</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a918e2f80ff4dffff08ee87dd27a4cf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7OAgb9vPSaoKy1bj"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@marvelous" rel="noopener ugc nofollow" target="_blank"> Marvin Meyer </a>在<a class="ae ky" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="b2e4" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">烧瓶:-</h2><p id="553f" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li ob lk ll lm oc lo lp lq od ls lt lu im bi translated">为了理解文章的这一部分，我建议你对 Flask 有一个基本的概念。对于我们的任务，我们只需要了解一些初级功能。</p><p id="0a70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要在您的系统上安装 Flask，请打开终端/命令提示符，键入<strong class="lb iu"> <em class="mr"> pip install Flask。</em> </strong>就这样，Flask 现在已经安装在你的系统上了。</p><p id="9d3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要了解一个简单的 Flask 应用程序的基本知识，请点击下面的链接。</p><ul class=""><li id="b296" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><a class="ae ky" href="https://flask.palletsprojects.com/en/1.1.x/quickstart/#quickstart" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">烧瓶你好世界</strong>T3】</a></li></ul><p id="a010" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢视频讲座，请仔细阅读视频中关于<strong class="lb iu">烧瓶</strong>的简要说明。</p><p id="6b7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://youtu.be/tvRnBbwQwvs?list=PLXmMXHVSvS-AjwTOtiW1DXFYTgUlrUmHV" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">烧瓶你好世界—视频讲座</strong> </a></p><p id="9278" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们对 Flask 有了一个基本的概念，让我们进入下一个主题，即<strong class="lb iu">REST API。</strong></p><h2 id="985a" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">REST API:-</h2><p id="4ac6" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li ob lk ll lm oc lo lp lq od ls lt lu im bi translated">我强烈建议你们对<strong class="lb iu">API</strong>和<strong class="lb iu"> API </strong>的设计原则之一(即<strong class="lb iu"> REST API)有一个基本的了解。</strong></p><p id="6437" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">浏览下面提到的链接。它将为您提供关于<strong class="lb iu">API</strong>和<strong class="lb iu">REST API 的基本概述。</strong></p><ul class=""><li id="6ac0" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><a class="ae ky" href="https://www.smashingmagazine.com/2018/01/understanding-using-rest-api/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">理解和使用 REST API</strong></a></li></ul><p id="4288" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢视频讲座，请仔细阅读 Telusko 提供的关于<strong class="lb iu">API</strong>和<strong class="lb iu">REST API 的简要说明。</strong></p><ul class=""><li id="5682" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><a class="ae ky" href="https://www.youtube.com/watch?v=qVTAB8Z2VmA&amp;list=PLsyeobzWxl7ps4Z1C4VMtvZEx5-PgyoYI" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">什么是 REST API？</strong> </a></li></ul><p id="468c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要了解如何创建一个<strong class="lb iu"> REST API </strong>，如果我们先编写一些基本的应用程序，并了解更多关于<strong class="lb iu"> GET </strong>方法及其工作原理，这将非常有用。</p><p id="b983" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面提到的链接使用 Flask 和<strong class="lb iu"> GET </strong>方法构建了一个<strong class="lb iu"> REST API </strong>来向客户端显示数据。把这些代码写出来，理解基础知识，然后继续我们的<strong class="lb iu"> app.py </strong>文件中的代码。</p><ul class=""><li id="76b9" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><a class="ae ky" href="https://youtu.be/CjYKrbq8BCw?list=PLXmMXHVSvS-AFMUmbBeIfL3PqTvgw8ygb" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">用 Flask 创建 RESTful API—GET 请求</strong> </a></li></ul><h2 id="a724" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">文件 2 — app.py</h2><p id="fae9" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li ob lk ll lm oc lo lp lq od ls lt lu im bi translated">在这个文件中，我们将编写 Flask 应用程序，并使用我们之前构建的推荐系统。</p><h2 id="100c" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">导入所需的包</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="183f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第 1 行:</strong>我们导入<strong class="lb iu">烧瓶</strong>类，然后<strong class="lb iu">请求</strong>库发送<strong class="lb iu"> HTTPS </strong>请求，最后我们导入<strong class="lb iu"> jsonify </strong>以<strong class="lb iu"> JSON </strong>格式返回我们的结果。</p><p id="0c96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第 2 行:</strong>我们导入<strong class="lb iu"> flask_cors </strong>来为我们的 API <strong class="lb iu">启用跨来源请求。</strong></p><p id="81b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">什么是<strong class="lb iu">跨来源请求</strong>？</p><blockquote class="mo mp mq"><p id="1db6" class="kz la mr lb b lc ld ju le lf lg jx lh ms lj lk ll mt ln lo lp mu lr ls lt lu im bi translated"><strong class="lb iu">跨源资源共享</strong> ( <strong class="lb iu"> CORS </strong>)是一种机制，允许从提供第一资源的域之外的另一个域请求网页上的受限资源。</p></blockquote><p id="cc31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要了解更多关于 CORS 的政策，请点击下面的链接。它解释了你需要知道的关于 CORS 政策的一切。</p><ul class=""><li id="a712" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><a class="ae ky" href="https://www.codecademy.com/articles/what-is-cors" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">什么是 CORS？</strong>T19】</a></li></ul><p id="209c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第 3 行:</strong>我们导入我们的<strong class="lb iu">推荐. py </strong>文件作为一个模块，在我们的<strong class="lb iu"> app.py </strong>文件中使用它。</p><h2 id="cc45" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">烧瓶代码:-</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><ul class=""><li id="d4a9" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated">第 1 行:我们创建了这个类的一个实例。第一个参数是应用程序的模块或包的名称。</li><li id="b99c" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 2 行:</strong>我们使用<strong class="lb iu"> CORS() </strong>方法在我们的 API 上启用<strong class="lb iu"> CORS </strong>策略。</li><li id="167a" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 4 行:</strong>然后我们使用<strong class="lb iu"> route() </strong> decorator 告诉 Flask 哪个 URL 应该触发我们的函数。在这种情况下，我们使用带有基本 URL 的<strong class="lb iu"> /movie </strong>端点。</li><li id="9997" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 5 行:</strong>现在，我们定义一个名为<strong class="lb iu"> recommend_movies() </strong>的函数，它将用于返回前 20 个推荐。</li><li id="646e" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 6 行:</strong>在这一行中，我们从<strong class="lb iu"> recommendation.py </strong>文件中调用<strong class="lb iu"> results() </strong>函数，并将推荐存储在一个名为<strong class="lb iu"> res. </strong>的变量中。使用<strong class="lb iu">request . args()</strong>将电影名称作为<strong class="lb iu">查询字符串</strong>传递给我们的<strong class="lb iu"> results() </strong>函数，参数名称为<strong class="lb iu"> title。</strong></li><li id="bd71" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 7 行:</strong>最后我们将从<strong class="lb iu"> recommendation.py </strong>接收到的结果以字典格式返回到<strong class="lb iu"> app.py </strong>并转换成<strong class="lb iu"> JSON </strong>格式返回结果。</li><li id="d84f" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 9 行:</strong>这一行表示如果我们直接从终端/命令提示符调用我们的<strong class="lb iu"> app.py </strong>文件，那么它将执行后面的内容。</li><li id="ff01" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">第 10 行:</strong>我们在终端/命令提示符下直接调用我们的<strong class="lb iu"> app.py </strong>文件后运行 app。当在<strong class="lb iu"><em class="mr">localhost</em></strong><em class="mr"/>上运行时，我们将端口号设置为 5000，并设置<strong class="lb iu"> debug=True </strong>来追溯运行我们的应用程序时发生的任何错误。</li></ul><h1 id="db65" class="ne lw it bd lx nf ng nh ma ni nj nk md jz nl ka mg kc nm kd mj kf nn kg mm no bi translated"><strong class="ak"> 4。在 localhost — 127.0.0.1 </strong>上测试</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/73a2be12035e50147480540075f6c071.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DaIfl7VX1k5dTHRK"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@dtravisphd" rel="noopener ugc nofollow" target="_blank">大卫·特拉维斯</a>在<a class="ae ky" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="2d4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们已经完成了编码部分，让我们在<strong class="lb iu"> <em class="mr"> localhost </em> </strong>上测试我们的应用程序，看看它是否工作。</p><p id="9ebb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想用 Postman 测试我们的 API，那么从下面的链接下载。</p><ul class=""><li id="033b" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><a class="ae ky" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">下载邮差</strong> </a></li></ul><p id="e397" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢用浏览器而不是邮递员，你也可以用浏览器来测试。我们将对他们两个进行测试，你将会看到结果。</p><h2 id="9286" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">测试我们的 API:-</h2><p id="2587" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li ob lk ll lm oc lo lp lq od ls lt lu im bi translated"><strong class="lb iu">步骤— 1: </strong>如果在 Windows 中，请打开命令提示符；如果使用 Linux，请打开终端。</p><p id="ba76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">步骤— 2: </strong>使用命令行导航到存储数据集、<strong class="lb iu"> recommendation.py </strong>文件和<strong class="lb iu"> app.py </strong>文件的文件夹。</p><p id="931c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将文件存储在名为<strong class="lb iu">建议 2.0 的文件夹中。下面是我们的目录结构。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pg"><img src="../Images/594ab02906e5bd7044c7c7c0ca882960.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DzNCDj9JoYC_skvoQEoTTQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们的目录结构</p></figure><p id="4c4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开发应用程序时，所有文件和数据集都应该放在一个文件夹中，以便于使用。</p><p id="d034" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">步骤 3: </strong>当我们在<strong class="lb iu">建议 2.0 </strong>文件夹中时，在命令行中键入以下命令。</p><pre class="kj kk kl km gt ph pi pj pk aw pl bi"><span id="19c7" class="lv lw it pi b gy pm pn l po pp"><strong class="pi iu">set FLASK_APP=app.py</strong></span></pre><p id="7d79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">运行应用程序:- </strong></p><pre class="kj kk kl km gt ph pi pj pk aw pl bi"><span id="42c0" class="lv lw it pi b gy pm pn l po pp"><strong class="pi iu">flask run</strong></span></pre><p id="88ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">执行完这两个命令后，我们将看到我们的应用程序运行在<strong class="lb iu"> localhost </strong>上。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/20afc07ad04acd8a2f8201162c459981.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*niPdsshcKAsj-OpdXESoSQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd oy">烧瓶应用程序启动并运行</strong></p></figure><p id="b59e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">步骤 4: </strong>使用 Postman 或任何浏览器在<strong class="lb iu"> <em class="mr"> localhost </em> </strong>上测试我们的 API。</p><p id="02a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们将一部电影传递给我们的 API 时，让我们看看我们的结果。</p><h2 id="ba78" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated"><strong class="ak">邮递员:- </strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/e19bb69e3e64c05d55907e37aa4b1354.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cbeL-_cju6ktcdLGyPohdQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">对<strong class="bd oy">洛根</strong>的建议</p></figure><h2 id="ccb3" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">浏览器:-</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/11884dc3ad099ba3b5493204d30d5673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ch4lAkDojJ7espDSBWADpw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">对<strong class="bd oy">逝者的推荐</strong></p></figure><p id="5d8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经在<strong class="lb iu"> <em class="mr"> localhost </em> </strong>上完成了对我们的 API 的测试，它工作得非常好。</p><p id="bcbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们进入最后一部分，即将我们的 API 部署到 Heroku。</p><h1 id="b45a" class="ne lw it bd lx nf ng nh ma ni nj nk md jz nl ka mg kc nm kd mj kf nn kg mm no bi translated"><strong class="ak"> 5。部署到 Heroku — API 上线</strong></h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6814c0e7ec78554432127cf0baaa51e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*I6hwjcO89u7sqli4"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">莱昂·塞伯特在<a class="ae ky" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="b7d7" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">GitHub 存储库:-</h2><p id="561c" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li ob lk ll lm oc lo lp lq od ls lt lu im bi translated">在我们进入部署部分之前，我们需要对<strong class="lb iu"> GitHub 有一个基本的了解。</strong>您应该能够<strong class="lb iu">创建一个新的存储库，添加文件，删除文件</strong>和<strong class="lb iu">在存储库中创建文件夹</strong>如果需要的话。</p><ul class=""><li id="3c04" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">步骤 1: </strong>创建一个存储库，可以使用您喜欢的任何名称。我已经把我的库命名为<strong class="lb iu"> BioScope，</strong>因为我和我的朋友们认为这是一个很酷的名字。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pt"><img src="../Images/3825f8048a3b3a2cfe3647dcba034c54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ulbekOPsgxsLtePqH15IxA.png"/></div></div></figure><ul class=""><li id="c298" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第二步:</strong> <strong class="lb iu">创建过程文件</strong></li></ul><blockquote class="mo mp mq"><p id="4377" class="kz la mr lb b lc ld ju le lf lg jx lh ms lj lk ll mt ln lo lp mu lr ls lt lu im bi translated">Heroku 应用程序包括一个<strong class="lb iu"> Procfile </strong>，它指定了应用程序在启动时执行的命令。您可以使用 Procfile 来声明各种进程类型，包括:您的应用程序的 web 服务器。</p></blockquote><p id="8d3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要创建一个，在工作目录中打开一个名为<strong class="lb iu"> Procfile(无扩展名)</strong>的新文件，并粘贴以下内容。</p><pre class="kj kk kl km gt ph pi pj pk aw pl bi"><span id="4bdd" class="lv lw it pi b gy pm pn l po pp"><strong class="pi iu">web: gunicorn app:app --max-requests 2</strong></span></pre><p id="5822" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们添加了<strong class="lb iu"> max requests </strong>来确保我们的服务器在每第二次请求我们的 API 后重启。这样做是为了确保我们在使用 API 时不会超过 Heroku 分配的 512 MB 的 RAM 限制。</p><ul class=""><li id="f360" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu">第三步:</strong> <strong class="lb iu">创建需求. txt </strong></li></ul><blockquote class="mo mp mq"><p id="1dd0" class="kz la mr lb b lc ld ju le lf lg jx lh ms lj lk ll mt ln lo lp mu lr ls lt lu im bi translated">requirements.txt 文件将包含 flask 应用程序的所有依赖项。如果您不是在一个新的环境中工作，这个文件将包含您当前环境中的所有需求。</p></blockquote><p id="315e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这个项目，你的<strong class="lb iu"> requirements.txt </strong>至少应该包含:</p><pre class="kj kk kl km gt ph pi pj pk aw pl bi"><span id="4277" class="lv lw it pi b gy pm pn l po pp"><strong class="pi iu">Flask==1.1.2 <br/>Flask-Cors==3.0.8 <br/>Flask-RESTful==0.3.7 <br/>gunicorn==20.0.4 <br/>joblib==0.13.2 <br/>jsonschema==2.6.0 <br/>pandas==0.25.1 <br/>pickleshare==0.7.5<br/>requests==2.23.0 <br/>requests-file==1.4.3 <br/>scikit-learn==0.22.2 <br/>scipy==1.4.1 <br/>wcwidth==0.1.7 <br/>webencodings==0.5.1<br/>Werkzeug==1.0.1</strong></span></pre><p id="6fa3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将上述内容复制粘贴到您的<strong class="lb iu"> requirements.txt </strong>文件中，并提交到存储库。</p><p id="a4f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第四步:</strong>提交<strong class="lb iu">推荐. py，应用. py. </strong></p><p id="9296" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第五步:</strong>在你的存储库中创建一个名为<strong class="lb iu"> dataset/ </strong>的文件夹，提交<strong class="lb iu"> movie_data.csv.zip </strong>文件。</p><p id="61dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">我们的存储库结构应该是这样的:- </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pu"><img src="../Images/fa1d7149308a4e66ba0a2f821790bf60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pfAzkvw90SorM2HP-JiNKA.png"/></div></div></figure><p id="4abd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Jupyter 笔记本包含制作我们的<strong class="lb iu"> movie_data.csv.zip </strong>文件所需的预处理部分。所以，这个文件夹是可选的。除此之外，所有其他文件和文件夹都是必要的。</p><ul class=""><li id="6677" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated"><strong class="lb iu"><em class="mr">re commendation . py</em></strong></li><li id="0f7b" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">T53】app . pyT55】</strong></li><li id="94a0" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu">T57】requirements . txtT59】</strong></li><li id="fe73" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><strong class="lb iu"> <em class="mr"> Procfile </em> </strong></li></ul><p id="cdf1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi oj translated"><span class="l ok ol om bm on oo op oq or di">N</span><strong class="lb iu">ote:<em class="mr"/></strong><em class="mr">以上所有文件都应该在工作目录级别，而不是在另一个文件夹中。</em></p><h2 id="fa81" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">部署到 Heroku:-</h2><blockquote class="mo mp mq"><p id="dc7d" class="kz la mr lb b lc ld ju le lf lg jx lh ms lj lk ll mt ln lo lp mu lr ls lt lu im bi translated">我们可以使用<strong class="lb iu"> Heroku CLI </strong>或<strong class="lb iu"> GitHub </strong>部署我们的应用程序。在本文中，我们将讨论如何使用<strong class="lb iu"> GitHub 部署我们的应用程序。</strong></p></blockquote><p id="8148" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">步骤— 1: </strong>在<a class="ae ky" href="https://www.heroku.com" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">www.heroku.com</strong></a><strong class="lb iu">创建自由账户。</strong></p><p id="1a0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第二步:</strong>选择一个名称，点击<strong class="lb iu">“创建应用”</strong>，创建一个新的应用。这个名称并不重要，但它必须是唯一的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pv"><img src="../Images/e6a136249ce45d26bea0022e6d7900de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rvS10voxgGMB9iR2tQub2A.png"/></div></div></figure><p id="8c23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第三步:</strong>点击下面的<strong class="lb iu"> GitHub </strong>图标，连接您的<strong class="lb iu"> GitHub </strong>账户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pw"><img src="../Images/90e438fcc4855272c4cebd28563fe042.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Vix_ddBVCHAxCK3a.png"/></div></div></figure><p id="3b44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">步骤 4: </strong>搜索正确的存储库并单击连接。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi px"><img src="../Images/51fc0952da36486e1a178775287befac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HfpabHwILd8VTMUasKTODA.png"/></div></div></figure><p id="bd98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第五步:</strong>滚动到页面底部，点击<strong class="lb iu">“部署分支”。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/0b06ba55ea43db7b33c4d81e0231f36c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sEWYvaJSGM4J16gK.gif"/></div></div></figure><h2 id="aeca" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">如果一切正常，您应该会看到这条消息。</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pz"><img src="../Images/8addedec37a281242b5544fefc0c7f9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/0*j4nBy_OoTZM_8_j0.png"/></div></figure><p id="ead1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果出现问题，检查你的<strong class="lb iu"> requirements.txt </strong>，删除给你带来问题的依赖项，然后再试一次。</p><h2 id="e861" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">部署后测试我们的 API</h2><ul class=""><li id="9ae5" class="mv mw it lb b lc np lf nq li nr lm ns lq nt lu na nb nc nd bi translated">注意我们发送<strong class="lb iu"> GET </strong>请求的链接。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qa"><img src="../Images/754c06d0a758316863e6f655d2529d81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nEE_c2dg2mDKmcICupMCKA.png"/></div></div></figure><h2 id="6997" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">最后，我们的电影推荐 API 现已上线。</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ef73fdc12039b311f015924a2109e06f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oXsjKJDCnx5hKMkK"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@aaronpaulos" rel="noopener ugc nofollow" target="_blank">亚伦·保尔</a>在<a class="ae ky" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b62d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">任何拥有 Heroku 链接的人现在都可以访问电影推荐 API，并向他们的用户显示电影建议。</p></div><div class="ab cl qb qc hx qd" role="separator"><span class="qe bw bk qf qg qh"/><span class="qe bw bk qf qg qh"/><span class="qe bw bk qf qg"/></div><div class="im in io ip iq"><p id="39f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mr">就这样，我们到了这篇文章的结尾。我希望你们已经学到了一些新的东西，我当然希望你们都使用这个 API 或者构建类似的东西。</em></p><p id="c3a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mr">我们刚刚构建了一个基本的</em> <strong class="lb iu"> <em class="mr">基于内容的推荐系统</em> </strong> <em class="mr">。可以做的比这多得多，比如构建一个</em> <strong class="lb iu"> <em class="mr">协同推荐系统</em> </strong> <em class="mr">或者甚至构建一个</em> <strong class="lb iu"> <em class="mr">混合推荐系统。我们会详细讨论这个问题，但那是另一篇博文的内容了。</em></strong></p><h2 id="3da1" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">API 链接:-</h2><ul class=""><li id="7fb7" class="mv mw it lb b lc np lf nq li nr lm ns lq nt lu na nb nc nd bi translated"><a class="ae ky" href="https://bioscope-api.herokuapp.com/movie?title=insert-movie-name" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> BioScope 电影推荐 API </strong> </a></li></ul><h2 id="9e93" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">完整代码:-</h2><ul class=""><li id="1cf5" class="mv mw it lb b lc np lf nq li nr lm ns lq nt lu na nb nc nd bi translated"><a class="ae ky" href="https://github.com/dD2405/BioScope-Recommendation-API" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> GitHub 资源库</strong> </a></li></ul><h2 id="822b" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated"><strong class="ak">你可以打:- </strong>找到我</h2><ul class=""><li id="d28c" class="mv mw it lb b lc np lf nq li nr lm ns lq nt lu na nb nc nd bi translated"><a class="ae ky" href="https://www.linkedin.com/in/deepak-das-profile/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">领英</strong> </a></li><li id="c28a" class="mv mw it lb b lc nv lf nw li nx lm ny lq nz lu na nb nc nd bi translated"><a class="ae ky" href="https://github.com/dD2405" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> GitHub </strong> </a></li></ul><h1 id="f7c2" class="ne lw it bd lx nf ng nh ma ni nj nk md jz nl ka mg kc nm kd mj kf nn kg mm no bi translated">快乐阅读！！！</h1></div></div>    
</body>
</html>