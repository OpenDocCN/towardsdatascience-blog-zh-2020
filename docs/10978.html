<html>
<head>
<title>AI in Industry: How a Maintenance Routine ruined my Machine Learning model!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">工业中的人工智能:一个维护程序如何毁了我的机器学习模型！</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/ai-in-industry-how-a-maintenance-routine-ruined-my-machine-learning-model-9b45acc69f83?source=collection_archive---------43-----------------------#2020-07-30">https://towardsdatascience.com/ai-in-industry-how-a-maintenance-routine-ruined-my-machine-learning-model-9b45acc69f83?source=collection_archive---------43-----------------------#2020-07-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="3d52" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">基于一个真实的用例，发现为什么在建模一个工业过程时你应该总是注意维护活动……以及如果你不这样做该怎么做！</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/dcf534a0c4c5d32dd9439e74b7e1e730.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rdaiPAwFBVW4A4SH"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">亚伦·巴纳比在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="38e9" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">机器学习的挑战:</h1><p id="a57d" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">许多数据科学家确实同意在实际使用机器学习算法之前进行数据准备的重要性。这一挑战通常被描绘成下图左侧显示的冰山。</p><p id="afd8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第二个挑战可能是将概念验证(P.O.C .)转移到真实环境中，在真实环境中实时收集数据并将预测集成到现有的数字基础设施中。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mi"><img src="../Images/a14b3f1712025ff23ef429f5cb86454b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K8xW3frPFF1Pf13n3mZ7nw.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">(冰山绘图来源:fr.123rf.com)</p></figure><p id="612e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是，在我看来，最大的挑战是创造一个可以长期持续的解决方案:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mj"><img src="../Images/b687dd29f91244fac694ffd36aa73209.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TI5XgGFNfTfS3PoMmNwcJg.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">(冰山绘图来源:fr.123rf.com)</p></figure><p id="1d88" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">令人高兴的是，工业过程通常不会像人类消费者那样在一夜之间改变他们的行为。(如果你需要一个奇怪行为转换的例子，只需记住当第一次 COVID 锁定开始时卫生纸短缺是多么不合理，人工智能系统应对它是多么困难！)</p><p id="b52e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是，即使是工业机器学习模型也可能会偏离，因为它们的鲁棒性也依赖于数据科学的 3 个公理:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mk"><img src="../Images/9c734dc59b3fc15b52b6b7d680d43978.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kTMSR0B1JfB2no15OXLP_A.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">(图标来源:flaticon.com 的 Freepix)</p></figure><h1 id="d1ae" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">从好…到伟大…到更坏！</h1><p id="4e1d" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">对于每一个建模项目，从一个运营团队带着一个要解决的用例来找我，到质量预测以相当高的准确度实时显示在控制室的仪表板上，我花了几个星期的时间。</p><p id="b14e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，几个星期后，预测准确性的突然漂移使我质疑整个模型的稳健性，进而质疑工业过程的稳定性！</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ml"><img src="../Images/5ada3cc85c682dfd0ca08193e8a4fa9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W6Kf4JIBlg1yBbRGGPjcpQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">预测的趋势似乎不错，但总是被低估。</p></figure><p id="2eb2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以从“绝对误差”度量的角度来看待它:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mm"><img src="../Images/f1b5859ec2f39518a8e7f3621160ab4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IBFYUpgkAdAF9TTrnksqTg.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">上个月的预测准确度(MAE)</p></figure><p id="860b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们看到，过去四天的预测超出了我们与团队定义的稳健性阈值(2，2)，并且显著高于 0.9 的平均绝对误差(M.A.E .)。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/6af7553ae55469ee11b6b91301459fb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*TvfGWhvUV5R5QCOQu2PGMw.jpeg"/></div></figure><p id="4a12" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我并没有花很长时间去检查和理解发生了什么:一个为期 6 个月的全面维护已经在周末进行了！</p><p id="42ef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们来了解一下我们是如何分析数据的变化，从而使模型立即回到正轨的！</p><h1 id="6246" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">精度漂移的三个潜在原因</h1><h2 id="84c8" class="mo lg it bd lh mp mq dn ll mr ms dp lp kb mt mu lt kf mv mw lx kj mx my mb mz bi translated">1)设备的完全更换</h2><p id="d1f3" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">让我们想象一下，你用一台全新的压缩机替换了一台 40 年的旧压缩机。</p><p id="5561" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">是的，除了电场强度、压力、转速等，它的基本工作原理是一样的。测出来会完全不一样。</p><p id="b4d6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这可能是最糟糕的情况，因为预先收集的数据现在已经过时。更不用说车间布局或设备类型(从燃气转换为电力)也发生变化的情况了…</p><p id="4e6f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里没有魔法:最简单的解决方案是收集新的数据，根据您以前的配置经验，可能将重点放在最相关的特性上…</p><h2 id="3492" class="mo lg it bd lh mp mq dn ll mr ms dp lp kb mt mu lt kf mv mw lx kj mx my mb mz bi translated">2)测量系统的变化</h2><p id="6005" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">全面维护不仅仅意味着更换备件或润滑剂；也可以是重新校准传感器、探头等。</p><p id="5c2b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们的模型使用 8 个特征来预测产品的质量，所以我决定看看测量值是否有显著变化，因为尽管有维护工作，系统应该是相当稳定的。让我们来看看维护停止前 30 天和维护停止后几天的每个特性的中值:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi na"><img src="../Images/db5c30ff06d9a3e10ff2e095f5405287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pkTGMw96F5xmhdXMxtWGnQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">(出于保密原因，对数据进行了清理)</p></figure><p id="970c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">八个特征中的三个，包括最重要的一个(中的<strong class="js iu">流速)，似乎发生了显著变化。</strong></p><p id="af57" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是我们知道“<strong class="js iu">水流 1 </strong>”和“<strong class="js iu">水流 2 </strong>”回路可以交替使用(一个优先于另一个，反之亦然)，并且总流量应该保持稳定。我把这两个特征相加，检测是否有真正的变化；这并不明显。我对流出的流量做了同样的分析，同样的结论:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nb"><img src="../Images/0c66df46abf522af66aa30a3a5414493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9e4pT0IbEQSitjkr1qK79A.png"/></div></div></figure><p id="5537" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，似乎模型的最关键参数(进气流量)的测量值发生了变化，并且很可能在完全相同的物理情况下增加了 5%!(这一点后来得到了维修团队的确认，他们重新校准了相应的传感器)</p><p id="53e3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，为了保持整个数据集的一致性，我决定在维护和重新训练模型之前对所有值应用+5%的增量。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nc"><img src="../Images/cd0e11926db8144a4794761d250f3bbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KdcksczCde5wY6NGmn274w.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">在更新的数据集上重新训练模型后，上个月的预测准确度(MAE)</p></figure><p id="1275" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">即使不完美，新模型也表现得更好，维护后的平均寿命从 3.5(原始状态)下降到 1.6。</p><p id="aaca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">(注意:在两种情况下(原始模型和更新模型)，算法仅使用维护工作之前获得的值进行训练；这里没有目标泄漏！)</p><h2 id="ac0e" class="mo lg it bd lh mp mq dn ll mr ms dp lp kb mt mu lt kf mv mw lx kj mx my mb mz bi translated">3)缓慢的性能下降</h2><p id="8374" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这种突然漂移的最后一个可能原因是，随着时间的推移，过程的性能已经慢慢下降…这就是为什么我们需要定期执行日常维护的第一个原因！</p><p id="5a59" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们来看看最近两次维护操作之间的流程性能:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nd"><img src="../Images/25f4e018c41839b6e93242c255d0b28e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5kwXY2h43OIvUJ3rVw8kGw.png"/></div></div></figure><p id="c68f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">同样，在过程的自然变化之外，下降趋势是明显的，直到我们达到某种平稳状态！</p><h2 id="2617" class="mo lg it bd lh mp mq dn ll mr ms dp lp kb mt mu lt kf mv mw lx kj mx my mb mz bi translated">现在的问题是:我们如何将这些信息集成到模型中？</h2><p id="ee04" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">一种可能的选择是简单地添加自上次维护工作以来经过的天数。</p><p id="8bb4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是我建议以较低的频率提供“维护”信息。</p><p id="4c28" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">提供较低频率的信息就像迫使模型在一个移动范围内工作，从而使过程的自然高点和低点变平。</p><p id="b203" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如。:如果您每天都获得预测和相应的结果，请提供自上次操作以来经过的周数。</p><p id="4f7b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，模型将更容易确定该特征的重要性。</p><p id="c39b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您以决策树的形式考虑它，它可能看起来像:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ne"><img src="../Images/c935cc603d2d27bcb7d3c94b51b4fb7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KHd35QJwbhCqLaDoihK_XQ.png"/></div></div></figure><h2 id="b626" class="mo lg it bd lh mp mq dn ll mr ms dp lp kb mt mu lt kf mv mw lx kj mx my mb mz bi translated">每次修正都对应于该期间的平均业绩下降。</h2><p id="7c4d" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">显然，您需要几个周期来集成到您的数据集中，以便模型可以学习此模式，但是能够包括此信息(在本例中为 4 个维护周期)使我们的模型在维护重启后达到了更低的 m . a . e . 1，2。</p><p id="8d16" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">总之，获取维护周期信息和所收集数据的潜在变化对于确保您的模型能够长期持续至关重要！你可能会想到！</strong></p><div class="nf ng gp gr nh ni"><a href="https://pl-bescond.medium.com/pierre-louis-besconds-articles-on-medium-f6632a6895ad" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">皮埃尔-路易·贝斯康德关于媒介的文章</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">数据科学、机器学习和创新</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">pl-bescond.medium.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw ky ni"/></div></div></a></div></div></div>    
</body>
</html>