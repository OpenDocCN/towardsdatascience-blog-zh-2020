<html>
<head>
<title>Comprehension of the AUC-ROC curve</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解AUC-ROC曲线</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/comprehension-of-the-auc-roc-curve-e876191280f9?source=collection_archive---------18-----------------------#2020-02-19">https://towardsdatascience.com/comprehension-of-the-auc-roc-curve-e876191280f9?source=collection_archive---------18-----------------------#2020-02-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1c98" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">深入了解AUC-ROC…</h2></div><blockquote class="ki kj kk"><p id="bc6e" class="kl km kn ko b kp kq ju kr ks kt jx ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">预测建模是指在我们没有答案的情况下，利用历史数据开发一个模型，对新数据进行预测。— <a class="ae li" href="https://machinelearningmastery.com/classification-versus-regression-in-machine-learning/" rel="noopener ugc nofollow" target="_blank">杰森·布朗利</a></p></blockquote><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/00ccf7073a7a4237f881075f2a18a7a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*afDqQ79RfYICyUDsFlWXTw.jpeg"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图1:51区限制标志——来源:【https://www.atlasobscura.com/places/area-51 T2】</p></figure><p id="40f7" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">当我们进行监督学习时，我们经常试图为一些特定的度量优化我们的算法。在分类任务中，我们模型的输出是一个离散的标签，受试者操作特征曲线下的面积——或AUC-ROC曲线——可能是一个我们试图根据我们试图解决的问题进行优化的指标。</p><p id="6266" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">不幸的是，51区与AUC无关(或者说是吗？嗯)我对此没有什么见解，所以我们可以忽略<em class="kn">图1</em>——但这是一张很酷的照片，然而在这篇文章中，我的目的是分解AUC-ROC指标。在这篇文章结束时，你会知道:</p><ol class=""><li id="fbbd" class="ly lz it ko b kp kq ks kt lv ma lw mb lx mc lh md me mf mg bi translated"><strong class="ko iu">什么是ROC曲线。</strong></li><li id="8508" class="ly lz it ko b kp mh ks mi lv mj lw mk lx ml lh md me mf mg bi translated"><strong class="ko iu">如何创建ROC曲线。</strong></li><li id="7e66" class="ly lz it ko b kp mh ks mi lv mj lw mk lx ml lh md me mf mg bi translated"><strong class="ko iu">推导绘制ROC曲线时使用的指标的公式。</strong></li><li id="279e" class="ly lz it ko b kp mh ks mi lv mj lw mk lx ml lh md me mf mg bi translated"><strong class="ko iu">如何解读ROC曲线？</strong></li><li id="ace6" class="ly lz it ko b kp mh ks mi lv mj lw mk lx ml lh md me mf mg bi translated"><strong class="ko iu">曲线下的面积是多少。</strong></li></ol><p id="bcc0" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">如果你以前没有遇到过什么是困惑矩阵，我建议你打开另一个窗口，熟悉一下我关于这个主题的最后一篇文章。当你对混淆矩阵感到舒服时，理解ROC曲线将是轻而易举的事。</p><div class="mm mn gp gr mo mp"><a rel="noopener follow" target="_blank" href="/confusion-matrix-un-confused-1ba98dee0d7f"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd iu gy z fp mu fr fs mv fu fw is bi translated">混淆矩阵“未混淆”</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">打破混乱矩阵</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">towardsdatascience.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd lp mp"/></div></div></a></div></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="29e5" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated"><strong class="ko iu">什么是ROC？</strong></p><p id="3aa2" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">ROC曲线是一个图表。其目的是说明我们的分类模型在不同阈值下区分类别的能力。让我们深入探讨一下这个问题…</p><p id="9c1d" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">我们将从简要概述混淆矩阵开始。混淆矩阵将我们的预测分为两类错误和正确预测，如图<em class="kn">图2 </em>所示。第一类错误被称为假警报，因为当它实际上是负的时候我们说是正的，而当真正的标签是正的时候我们的分类模型预测是负的时候，第二类错误是a，因此留给我们的只有真正的正标签和真正的负标签。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi nl"><img src="../Images/86db2cdc5a8c5ad07c57c22182ec0b02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AFh0ZojmvlUu_8hCQ2bsHA.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图2:模型区分0-1范围内不同阈值的能力图。来源:<a class="ae li" href="https://stackoverflow.com/questions/57280577/sensitivity-specificity-plot-python" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/57280577/sensitivity-specificity-plot-python</a></p></figure><p id="e31c" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated"><em class="kn">图2 </em>上的垂直虚线表示当前模型的阈值。我们可以通过沿该轴向右或向左移动该线来改变模型的阈值，但是，这将导致灵敏度或特异性的折衷，具体取决于我们移动它的方式。如果您还不理解这两个术语，请不要担心，看看如果我们将它向左或向右移动，模型会做出不同的权衡。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="eece" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated"><strong class="ko iu">如何创建ROC曲线</strong></p><p id="fe4e" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">现在，我们可以通过在0-1之间的各种阈值设置下绘制真阳性率(TPR)与假阳性率(FPR ),来推断模型在各种阈值下区分类别的能力，这正是ROC曲线。我知道你在想什么…我们如何得出这些指标？问得好。</p><p id="78b3" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">真实阳性率(也称为敏感度或召回率)是从我们的模型预测中正确识别的实际阳性数量的度量。这一点很重要，因为当分类器进行预测时，我们作为数据科学家应该想知道我们的数据中所有实际正确标签(以及有错误的标签和原因)的正确预测比例，因为在理想世界中，我们希望我们所有的预测都是正确的。</p><p id="ac56" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">然而，由于我们并不是生活在一个理想的世界中(或者你可以在twitter上分享为什么你认为我们是这样做的)，甚至我们人类，可能是地球上最聪明的生命，也可能难以区分阶级，例如，细胞是否是恶性的。我们分类的假警报数量被称为假阳性率。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="2ce1" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated"><strong class="ko iu">导出指标的公式</strong></p><p id="76f7" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">要获得真正的阳性率，我们必须从我们的模型中识别所有真正的阳性预测(正确预测的阳性预测)，并将其除以真正的阳性和我们的模型分类为阴性的阳性标签(假阴性-第二类错误)。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi nq"><img src="../Images/f688857ae62af08983508517234d0bfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kiahw9yFpC5aUC_kQ4pfhA.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图3:敏感度公式(真阳性率)。</p></figure><p id="c0c3" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">另一方面，为了从我们的模型预测中得出假阳性率，我们必须识别来自我们的模型的假阳性预测——假警报——并将其除以假阳性和我们的模型归类为阴性的阴性标签(真阴性——正确剔除)。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi nr"><img src="../Images/837eed76893f7a0564100717caf9ad37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E9wyILd1c_hT5GUqRdG3oA.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图4:假阳性率的公式(1-特异性)。</p></figure><p id="1495" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">回顾一下，到目前为止，我们已经了解到ROC曲线是一个图形图，它说明了我们的分类模型在不同阈值下区分类别的能力。此外，我们现在知道该图是通过将真阳性率作为假阳性率的函数来绘制的，并且我们知道如何导出这些指标。太棒了。我们知道这些信息就足够了，但是它意味着什么，我们能从中推断出什么来推动商业价值呢？</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="c340" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated"><strong class="ko iu">如何解读ROC曲线</strong></p><blockquote class="ki kj kk"><p id="a33d" class="kl km kn ko b kp kq ju kr ks kt jx ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">我们现在知道这个图是通过将真阳性率作为假阳性率的函数来绘制的。</p></blockquote><p id="799f" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">如果我们沿着x轴绘制假阳性率，值的范围从0到1，代表不同的概率阈值，沿着y轴绘制真阳性率，从0到1，代表概率阈值，当x = y(当假阳性率概率阈值等于真阳性率概率阈值时)时，该图明确表示，随着我们增加假警报数量的阈值，真阳性率也会增加。</p><p id="a01c" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">当我们的模型做出更多积极的预测时，它会增加我们的真阳性率和假阳性率，从而降低我们的真阴性率。简而言之，我们正在用更积极的预测来取代消极的预测。</p><p id="d66a" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">因此，当x=y时，我们的模型就像随机猜测一样好，因为模型的真实阳性率随着我们做出的更积极的预测而增加——用雷曼的话说，它正在努力区分不同的类别。在一些教科书中，您可能会看到假阳性率被称为1特异性，因为通过增加假阳性率，我们抵消了真阴性率(正确剔除)，因为我们沿着x轴移动时会做出更多的阳性预测。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/abbdc8f034594b6e937cd40e23f2457e.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*4Him2B87x3lBGLHyImjzcw.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图5:显示随机猜测模型的ROC曲线</p></figure><p id="4a40" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated"><strong class="ko iu">注意:</strong>特异性(也称为选择性和真阴性率)是通过我们的模型预测(正确拒绝率)正确识别的实际阴性标记的量的量度。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi nt"><img src="../Images/ab67518ff2811f687d14921cfe1dc2cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5cTOTbhceE7f4zEvvA1P3w.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图6:特异性公式(真阴性率)。</p></figure><p id="c0eb" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">如果不参考<em class="kn">图5 </em>并尝试理解图表中发生的事情，你现在可能已经开始理解ROC曲线的要点了。然而，如果您对ROC曲线有更深的直觉，您可能会意识到，能够很好地区分类别的模型具有较低的假阳性率和较高的真阳性率——从视觉上看，这意味着这些图将紧挨着图表的左上角(<em class="kn">参见图7 </em>)。这就把我们带到了这篇文章的最后一部分。</p><p id="6f0b" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">作为数据科学家，我们的任务是能够理解我们试图解决的问题类型。这有助于我们了解在不同的设置中优化什么。例如，在我们试图预测恶性肿瘤的情况下，我们可能希望设置我们的阈值来优化灵敏度，以便我们谨慎地不要说患者实际上患有恶性肿瘤，而在垃圾邮件检测设置中，我们不想将重要邮件归类为垃圾邮件，因此我们优化特异性。</p><p id="c4a1" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated"><strong class="ko iu">什么是AUC？</strong></p><p id="b736" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">如果我们想量化我们的模型区分类别的能力(ROC ),我们使用AUC，它代表曲线下面积。“下方面积”是ROC曲线下方图的百分比。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi nu"><img src="../Images/b1b8bbc4805a6dc51916b24fa76dd7aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7F14rIWOHTd4bpE2rBnVQA.jpeg"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图7: ROC曲线显示了一个模型，该模型可以很好地区分具有高AUC的类别。来源:<a class="ae li" href="https://stats.stackexchange.com/questions/260845/what-is-more-important-in-a-test-set-sensitivity-specificity-or-roc-auc" rel="noopener ugc nofollow" target="_blank">https://stats . stack exchange . com/questions/260845/什么是测试中更重要的-敏感性-特异性-或-roc-auc </a></p></figure><p id="851a" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">你现在知道什么是AUC-ROC，如何创建图，如何推导TPR和FPR，如何解释ROC曲线，以及什么是AUC曲线。这篇文章到此结束，尽管您可能希望扩展您已经获得的知识基础，以了解AUC-ROC如何扩展到多类分类任务，其中我们的分类器旨在将我们的实例分类到三个或更多类中的一个，或者您可能还想知道AUC-ROC如何处理不平衡数据。下面，我给你参考了一些好的资料来源，让你扩展知识面！</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="f4e2" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated"><strong class="ko iu">参考文献:</strong></p><p id="47c8" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">数据学校。(2014年11月20日)。<em class="kn"> ROC曲线和曲线下面积(AUC)解释。</em><a class="ae li" href="https://www.youtube.com/watch?v=OAl6eAyP-yo" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=OAl6eAyP-yo</a></p><p id="8715" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">USMLE生物统计学。(2016年4月29日)。<em class="kn">敏感性与特异性:权衡。</em><a class="ae li" href="https://www.youtube.com/watch?v=yax-n3ROboE" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=yax-n3ROboE</a></p><p id="4ea3" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">Scikit学习文档。<em class="kn">接收机工作特性(ROC)。</em><a class="ae li" href="https://scikit-learn.org/stable/auto_examples/model_selection/plot_roc.html" rel="noopener ugc nofollow" target="_blank">https://scikit-learn . org/stable/auto _ examples/model _ selection/plot _ roc . html</a></p><p id="ed18" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku lv kw kx ky lw la lb lc lx le lf lg lh im bi translated">维基百科。<em class="kn">多类分类。</em><a class="ae li" href="https://en.wikipedia.org/wiki/Multiclass_classification" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Multiclass_classification</a></p></div></div>    
</body>
</html>