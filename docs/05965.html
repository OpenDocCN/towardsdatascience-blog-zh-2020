<html>
<head>
<title>Exploring News about Covid-19 in Indian Media | NLP| Wordcloud | Covid-19 Article 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索印度媒体中关于新冠肺炎的新闻| NLP| Wordcloud |新冠肺炎文章1</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/exploring-news-about-covid-19-in-indian-media-nlp-wordcloud-covid-19-article-1-2bcbb127dfb3?source=collection_archive---------58-----------------------#2020-05-15">https://towardsdatascience.com/exploring-news-about-covid-19-in-indian-media-nlp-wordcloud-covid-19-article-1-2bcbb127dfb3?source=collection_archive---------58-----------------------#2020-05-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="1dfd" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/covid-19-text-analysis" rel="noopener" target="_blank">新冠肺炎文字分析</a></h2><div class=""/><p id="9270" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd"> <em class="kx">编者注:</em> </strong> <em class="kx"> </em> <a class="ae ky" href="http://towardsdatascience.com/" rel="noopener" target="_blank"> <em class="kx">走向数据科学</em> </a> <em class="kx">是一份以研究数据科学和机器学习为主的中型刊物。我们不是健康专家或流行病学家，本文的观点不应被解释为专业建议。想了解更多关于疫情冠状病毒的信息，可以点击</em> <a class="ae ky" href="https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports" rel="noopener ugc nofollow" target="_blank"> <em class="kx">这里</em> </a> <em class="kx">。</em></p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi kz"><img src="../Images/4fc6df74f2986c5b267eeb40a140d334.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-AEppCRT9lZkOog_"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">马库斯·斯皮斯克在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="d6a5" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi lp translated"><span class="l lq lr ls bm lt lu lv lw lx di"> C </span>现在全球的流行词是冠状病毒、死亡、隔离和封锁。因此，在这篇博客中，我试图挖掘来自印度媒体的新闻文章，并使用词云可视化哪些词出现得最多。</p></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><blockquote class="mf"><p id="d86e" class="mg mh it bd mi mj mk ml mm mn mo kw dk translated">对wordcloud的结果感兴趣吗？</p><p id="ffce" class="mg mh it bd mi mj mk ml mm mn mo kw dk translated">滚动到底部！</p></blockquote></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><h1 id="c0b4" class="mp mq it bd mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm bi translated">关于我的新冠肺炎新闻文章数据集:</h1><p id="be22" class="pw-post-body-paragraph jz ka it kb b kc nn ke kf kg no ki kj kk np km kn ko nq kq kr ks nr ku kv kw im bi translated">我用过的新闻文章都是用<a class="ae ky" href="https://newsapi.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="kb jd"> NewsAPI的</strong> </a> <strong class="kb jd">开发者计划刮出来的。</strong>因为，我<strong class="kb jd"> </strong>几天前才决定这个用例，我的数据集的日期范围是<strong class="kb jd">2020年3月10日到4月10日</strong>。因此，数据集将每月增长。此外，新闻文章的<strong class="kb jd">内容</strong>被限制在<strong class="kb jd">260个字符</strong>以内，但是你知道他们说什么——如果读者对引言不感兴趣，他们可能不会读到第二段。所以我们只有很少但<em class="kx">重要的</em>信息。</p><p id="1b05" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">使用的新闻来源:</strong>谷歌印度新闻、印度时报和印度教徒报</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi ns"><img src="../Images/20d39289c3b8dedf7f1c1794f19fc95f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gVtbxSfQJObbM_ku"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@doran_erickson?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Doran Erickson </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><h1 id="6209" class="mp mq it bd mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm bi translated"><strong class="ak">数据集预处理:</strong></h1><p id="8e50" class="pw-post-body-paragraph jz ka it kb b kc nn ke kf kg no ki kj kk np km kn ko nq kq kr ks nr ku kv kw im bi translated">我使用传统的NLP清洗流程:</p><ol class=""><li id="1324" class="nt nu it kb b kc kd kg kh kk nv ko nw ks nx kw ny nz oa ob bi translated">标记化、停用词删除、标点符号删除</li><li id="96cb" class="nt nu it kb b kc oc kg od kk oe ko of ks og kw ny nz oa ob bi translated">词性标注和生成词条</li></ol><p id="5851" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">我使用lambda函数来遍历这些行，并将最终数据集存储到pickle文件中以备后用。</p><p id="e78b" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">这很大程度上源于我之前的一篇博客，所以我将跳过细节。</p><p id="ffe2" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">数据转换的一个例子:</strong></p><pre class="la lb lc ld gt oh oi oj ok aw ol bi"><span id="ade8" class="om mq it oi b gy on oo l op oq"><strong class="oi jd">Actual Content:</strong></span><span id="84cb" class="om mq it oi b gy or oo l op oq">The spectre of COVID-19 has made its appearance in one of Indias most storied tiger reserves. The death of a 10-year-old ailing male tiger, in the Pench Tiger Reserve (PTR) the countrys most munificent reserve that succumbed to a respiratory illness last Satu… [+3272 chars]</span><span id="2d4f" class="om mq it oi b gy or oo l op oq"><strong class="oi jd">Cleaned and Normalized Content:</strong></span><span id="dd3c" class="om mq it oi b gy or oo l op oq">[[number, covid-19, case, continue, rise, 6, 33, new, case, report, 12-hour, span, take, tally, positive, case, 781], [witness, 19, fresh, case, 11, report, fro]]</span></pre><p id="89a9" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd"> Github链接笔记本进行数据清理:</strong></p><div class="os ot gp gr ou ov"><a href="https://github.com/royn5618/Medium_Blog_Codes/blob/master/Covid-Blog-Codes/Cleaning-Covid-Dataset-NLP.ipynb" rel="noopener  ugc nofollow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd jd gy z fp pa fr fs pb fu fw jc bi translated">royn5618/Medium_Blog_Codes</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">permalink dissolve GitHub是超过5000万开发人员的家园，他们一起工作来托管和审查代码，管理…</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">github.com</p></div></div><div class="pe l"><div class="pf l pg ph pi pe pj lj ov"/></div></div></a></div></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><h1 id="6e9d" class="mp mq it bd mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm bi translated">生成词频&amp; Wordcloud:</h1><p id="1456" class="pw-post-body-paragraph jz ka it kb b kc nn ke kf kg no ki kj kk np km kn ko nq kq kr ks nr ku kv kw im bi translated">我使用了独一无二的<a class="ae ky" href="https://pypi.org/project/wordcloud/" rel="noopener ugc nofollow" target="_blank"> Wordcloud </a> Python库来创建这个word-cloud。我自己生成了术语频率词典，并在下面一步一步地记录了这个过程:</p><p id="8c50" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd"> <em class="kx">第一步:</em> </strong>我创建了一个令牌列表，如下所示:</p><pre class="la lb lc ld gt oh oi oj ok aw ol bi"><span id="e260" class="om mq it oi b gy on oo l op oq">temp_list = [k <strong class="oi jd">for</strong> i <strong class="oi jd">in</strong> list(df[col]) <strong class="oi jd">if</strong> i <strong class="oi jd">for</strong> j <strong class="oi jd">in</strong> i <strong class="oi jd">for</strong> k <strong class="oi jd">in</strong> j]</span></pre><p id="4836" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">在笔记本中，我还根据结果单词云中出现的不需要的单词做了一些清理。</p><p id="3bfb" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">步骤2: </strong>我将唯一的单词作为<em class="kx">键</em>存储到<em class="kx">字典</em>中，并将它们的频率分配到各自的<em class="kx">值</em>中。</p><pre class="la lb lc ld gt oh oi oj ok aw ol bi"><span id="5ea0" class="om mq it oi b gy on oo l op oq"># Use <em class="kx">set</em> to get the unique elements of the list<br/>unique_words = set(terms_list)</span><span id="d9e9" class="om mq it oi b gy or oo l op oq"># Iterate through the terms and store count of the indexed words to <br/>dict_terms_count = {}<br/><strong class="oi jd">for</strong> word <strong class="oi jd">in</strong> unique_words:<br/>    dict_terms_count[word] = terms_list.count(word)<br/>    </span></pre><p id="2b9e" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">第三步:</strong>现在，我从前面的字典中得到最大的词频，并根据最高的词频调整其他的词频。</p><pre class="la lb lc ld gt oh oi oj ok aw ol bi"><span id="ce57" class="om mq it oi b gy on oo l op oq">max_tf = max(dict_term_count.values())<br/>dict_tf_scaled = {}<br/><strong class="oi jd">for</strong> word, count <strong class="oi jd">in</strong> dict_term_count.items():<br/>    dict_tf_scaled[word] = count/max_tf<br/>sorted_dict_term_count = dict(sorted(dict_tf_scaled.items(),<br/>                              key=<strong class="oi jd">lambda</strong> kv: kv[1], reverse=<strong class="oi jd">True</strong>))</span></pre><p id="8225" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">在这种情况下，“新冠肺炎”一词的出现频率最高，为7536次。看看下面的情节。很明显，Covid和冠状病毒占据了新闻，因为刮擦集中在具有这两个关键词的文章上。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi pk"><img src="../Images/df6e71b94fa730e65d5427acc528fbce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LulPOrJ16Dle3yiLOdRRNg.png"/></div></div></figure><p id="5827" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">第四步:生成词云。我在评论中加入了一些关于在单词云中生成颜色的解释。我使用了许多图片进行试验，并选择了最适合的一个。我用过的那个在我的GitHub回购上。说真的，很好玩！下载随机图像，使用<a class="ae ky" href="https://amueller.github.io/word_cloud/generated/wordcloud.ImageColorGenerator.html" rel="noopener ugc nofollow" target="_blank"> ImageColorGenerator </a>生成本地化的彩色像素，并尝试匹配您的文字云。</p><pre class="la lb lc ld gt oh oi oj ok aw ol bi"><span id="58c7" class="om mq it oi b gy on oo l op oq"># imports<br/>from PIL import Image<br/>import PIL.ImageOps<br/>from wordcloud import ImageColorGenerator</span><span id="c710" class="om mq it oi b gy or oo l op oq"># Load the mask image<br/>image_mask = np.array(Image.open(mask_image))</span><span id="efd2" class="om mq it oi b gy or oo l op oq"># Generate the wc colours from the image pixels<br/># This method takes the average of a region of pixels and assigns <br/># that colour to the texts in that region</span><span id="2ecd" class="om mq it oi b gy or oo l op oq">image_colors = ImageColorGenerator(image_mask)</span><span id="8739" class="om mq it oi b gy or oo l op oq"># Generate the Wordcloud object using the mask. 'mask' is to <br/># generate the outline of the image you have chosen.<br/># For me it it rectangular - so no visible change<br/># Since I have passed custom frequencies, I have used<br/># 'generate_from_frequencies' method</span><span id="8399" class="om mq it oi b gy or oo l op oq">stopwords = set(STOPWORDS)<br/>wordcloud = WordCloud(width = 2000, height = 1200, <br/>                      max_words = 500, normalize_plurals = True,   <br/>                      <strong class="oi jd">mask=image_mask</strong>, background_color =’black’, <br/>                      font_step = 1, relative_scaling = 0.5,<br/>                      collocations = False, include_numbers = False,<br/>                      stopwords =stopwords)<br/>                      .generate_from_frequencies(dict_term_freq)</span><span id="407c" class="om mq it oi b gy or oo l op oq"># Some matplotlib settings </span><span id="0f2c" class="om mq it oi b gy or oo l op oq">plt.figure(figsize = (80, 50), facecolor = None)<br/>plt.style.use(‘dark_background’)<br/>plt.imshow(wordcloud.recolor(color_func=image_colors))<br/>plt.text(xpos, ypos, custom_text, fontsize=font_size)<br/>plt.axis(“off”)<br/>plt.show()</span></pre><h1 id="cf64" class="mp mq it bd mr ms pl mu mv mw pm my mz na pn nc nd ne po ng nh ni pp nk nl nm bi translated"><strong class="ak">云这个词在这里:</strong></h1><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi pq"><img src="../Images/25546432a8dd47b122a03b394b7459af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KuxohrxPFX3foCKEeRrTHw.png"/></div></div></figure><h1 id="db16" class="mp mq it bd mr ms pl mu mv mw pm my mz na pn nc nd ne po ng nh ni pp nk nl nm bi translated"><strong class="ak">意见和结论:</strong></h1><p id="590b" class="pw-post-body-paragraph jz ka it kb b kc nn ke kf kg no ki kj kk np km kn ko nq kq kr ks nr ku kv kw im bi translated">在所有的词语中，<em class="kx">正面</em>和<em class="kx">战斗</em>比较有意思。这是因为“战斗”通常被认为是消极情绪<em class="kx"/>，而“积极”正如其名称所示，是积极情绪<em class="kx"/>。然而，形势显然已经发生了逆转。<strong class="kb jd"> </strong>“拼”是正面情绪，“正面”是负面情绪在2020年疫情新冠肺炎的语境中。这清楚地表明了单词袋&amp; tf-idf作为文本表示模型的缺点、情感分析中的挑战以及我们为什么需要基于上下文/顺序的模型。</p><p id="7e52" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">“说”的出现表明已经说了很多，众所周知，还有很多工作要做。这些话让我好奇，在下一次刮擦中，wordcloud会有什么不同。我在云中找不到疫苗、解毒剂或治疗之类的词。</p><p id="2b64" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">就像在wordcloud中一样，很自然地，许多负面情绪被表达了出来。这个数据集可能有助于发现与种群和社会经济因素的相互关系。但那是另一个博客讨论的问题！</p></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><h1 id="bfb4" class="mp mq it bd mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm bi translated">关于新冠肺炎文章系列:</h1><p id="1728" class="pw-post-body-paragraph jz ka it kb b kc nn ke kf kg no ki kj kk np km kn ko nq kq kr ks nr ku kv kw im bi translated">我将会写更多关于探索和操作这个数据集的博客，这个数据集将会越来越大。如果您有兴趣了解这个数据集是如何形成的，请跟我来！</p></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><h2 id="f729" class="om mq it bd mr pr ps dn mv pt pu dp mz kk pv pw nd ko px py nh ks pz qa nl iz bi translated"><strong class="ak"> Github链接到此数据集上的所有笔记本:</strong></h2><div class="os ot gp gr ou ov"><a href="https://github.com/royn5618/Medium_Blog_Codes/tree/master/Covid-Blog-Codes" rel="noopener  ugc nofollow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd jd gy z fp pa fr fs pb fu fw jc bi translated">royn5618/Medium_Blog_Codes</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">github.com</p></div></div><div class="pe l"><div class="qb l pg ph pi pe pj lj ov"/></div></div></a></div></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><p id="9191" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">我的链接:</strong> <a class="ae ky" href="https://medium.com/@nroy0110" rel="noopener">中</a>|<a class="ae ky" href="https://www.linkedin.com/in/nabanita-roy/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae ky" href="https://github.com/royn5618" rel="noopener ugc nofollow" target="_blank">GitHub</a></p><p id="5265" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd"> <em class="kx">感谢来访。我希望你喜欢阅读这篇博客。</em> </strong></p></div></div>    
</body>
</html>