<html>
<head>
<title>Creating a Finance Web App in 3 Minutes!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 3 分钟内创建一个财务 Web 应用程序！</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-a-finance-web-app-in-3-minutes-8273d56a39f8?source=collection_archive---------14-----------------------#2020-07-20">https://towardsdatascience.com/creating-a-finance-web-app-in-3-minutes-8273d56a39f8?source=collection_archive---------14-----------------------#2020-07-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="86e0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何使用 Python 中的 Streamlit 创建技术分析应用程序！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9a902dac7ebbd773204fa370f19710a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5M-tUG-u_mB54YdL.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://pixabay.com/users/3844328-3844328/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=1863880" rel="noopener ugc nofollow" target="_blank">洛伦佐·卡法罗</a>从<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=1863880" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>拍摄</p></figure><p id="7681" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">任何数据驱动项目的一个重要部分是它能够被容易地解释和查看，甚至对于那些事先可能对数据一无所知的人。<strong class="lb iu">T5】Python 中的 Streamlit 介绍！ </strong></p><p id="4d01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Streamlit </strong> </a>是一个极其易用和直观的工具，用于在 Python 中构建高度交互式、数据驱动的 web 应用程序。有了这个工具，您可以只关注数据方面，而不用担心使用 Flask 或 Django 进行繁琐的部署。</p><p id="1ecb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个过程是完全直观的，到本文结束时，您也应该能够在几分钟内部署您的 web 应用程序，并且只需要几行代码！</p><h2 id="4e38" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">设置项目</h2><p id="5d75" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">要开始使用我们的 Streamlit web 应用程序，我们必须首先使用 PyPi (Python 的包管理器)下载它。对于您可能没有的任何包(包括 streamlit ),只需在您的终端中键入以下内容，我们就可以开始了。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="71a5" class="lw lx it mv b gy mz na l nb nc">pip install streamlit</span></pre><p id="10c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您的计算机上没有安装 pip，您可以快速浏览一下<a class="ae ky" href="https://pip.pypa.io/en/stable/installing/" rel="noopener ugc nofollow" target="_blank">这篇文章</a>并在安装后返回这里。</p><h2 id="708d" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">开始项目！</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">导入依赖项</p></figure><p id="3353" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们必须导入整个程序中需要的所有依赖项。我们将使用的主要库是 Yfinance、Streamlit 和 TaLib。Yfinance 将允许我们接收任何股票的历史股价，Streamlit 将允许我们将 web 应用程序部署到本地主机上，TaLib 将允许我们计算稍后将在应用程序上显示的技术指标。</p><p id="489d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们已经设置了依赖项，我们终于可以开始构建我们的应用程序了！</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">设置 web 应用程序！</p></figure><p id="d536" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，为了运行程序，到你的终端键入命令<em class="lv">streamlit run file _ name . py</em>。用您选择从此程序创建的文件名替换 file_name.py。然后，一个 web 应用程序将在您的本地主机上打开！</p><p id="a260" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了在网站上写文章，我们可以使用。Streamlit 中的 write()方法。为了显示更大更粗的文本，我们可以在前面使用一个标签(# ), Streamlit 会自动改变文本，使其看起来像一个标题(Markdown formatting)。要加粗文本，我们可以简单地用两个星号将我们想要加粗的文本括起来。</p><p id="f082" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们可以使用 header 方法创建一个标题，并设置一个函数来获取用户的输入。因为我们正在创建一个技术分析 web 应用程序，所以我们需要一个股票代码、开始日期和结束日期。我们可以将值自动设置在那里，以防用户没有输入自己的值。在这种情况下，我使用苹果公司的股票代码(AAPL)，2019-01-01 作为开始日期，今天作为结束日期。</p><p id="9899" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使 web 应用程序看起来更好，我们可以创建一个向 Yahoo Finance 发送请求的函数，并检索我们输入的任何股票的公司名称！</p><p id="b330" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用 pandas.to_datetime()方法将开始和结束日期从字符串转换为日期时间格式，这样我们就不会在以后出现任何错误。最后，我们可以用前面提到的 Yfinance 模块检索历史股票数据。只是为了跟踪我们目前所处的位置，这是 web 应用程序现在应该呈现的样子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/70a415d3238f390b414ec9d2dd358eff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b1SCYjdeqa-IAY6mSyB83A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">到目前为止，web 应用程序应该是什么样子！</p></figure><p id="5229" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，剩下的工作就是创建我们将要显示的图表。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">计算并绘制技术指标！</p></figure><p id="f24c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我之前提到的，奇妙的 TaLib 库使得计算我们将要绘制的技术指标变得简单得可笑。对于这个项目，我选择了流行的指标，如移动平均线交叉，布林线，移动平均线收敛发散，商品通道指数，相对强度指数，和总成交量。要想更深入地了解这些指标能显示什么，我建议在<a class="ae ky" href="https://www.investopedia.com/" rel="noopener ugc nofollow" target="_blank">Investopedia.com</a>上查找它们。</p><p id="6458" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这一部分代码，我们将显示每个指标的三个主要部分。首先，我们必须使用 TaLib 计算指标，然后我们必须设置一个包含指标实际内容的标题，最后，我们可以使用 streamlit.line_chart()显示图表。这就够了！</p><p id="ddf2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们有了一个完全交互式的、实时的、响应迅速的、易于使用的 web 应用程序，只需几分钟，代码不到 100 行。如果你一直遵循这段代码，我们应该有一个类似的网站如下。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/ae09d7de34d66d24144570c4f47c8e3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1e7ea8axnM2Ob6a_0W4-7g.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">网站现在应该是什么样子！</p></figure><p id="8d3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我已经在下面的 GitHub 要点中包含了这个程序的全部代码！</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h1 id="fe08" class="nh lx it bd ly ni nj nk mb nl nm nn me jz no ka mh kc np kd mk kf nq kg mn nr bi translated">后续步骤</h1><p id="b91c" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">在接下来的步骤中，你可以扩展我们显示的数据，因为 Streamlit 允许用户显示几乎任何类型的数据，包括熊猫数据帧。或者您可以决定使用 Heroku 将它部署到云上(如果您想这么做，请查看汉密尔顿·张的文章<a class="ae ky" rel="noopener" target="_blank" href="/from-streamlit-to-heroku-62a655b7319">)。既然您已经知道如何创建自己的数据 web 应用程序，那么这种可能性真的是无穷无尽的！</a></p><p id="79b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常感谢你的阅读，我希望你喜欢它！</p><p id="d62e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">注意:如果您正在将这个特定的应用程序部署到 Heroku，请记住从 requirements.txt 中删除 TaLib，而是为它添加一个</em><a class="ae ky" href="https://github.com/numrut/heroku-buildpack-python-talib" rel="noopener ugc nofollow" target="_blank"><em class="lv">build pack</em></a><em class="lv">！</em></p></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="5e78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢这篇文章，可以看看下面我写的其他一些 Python for Finance 文章！</p><div class="nz oa gp gr ob oc"><a rel="noopener follow" target="_blank" href="/parse-thousands-of-stock-recommendations-in-minutes-with-python-6e3e562f156d"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">使用 Python 在几分钟内解析数千份股票推荐！</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">了解如何在不到 3 分钟的时间内解析顶级分析师的数千条建议！</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">towardsdatascience.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq ks oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a rel="noopener follow" target="_blank" href="/stock-news-sentiment-analysis-with-python-193d4b4378d4"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">用 Python 进行股票新闻情绪分析！</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">对财经新闻进行秒级情感分析！</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">towardsdatascience.com</p></div></div><div class="ol l"><div class="or l on oo op ol oq ks oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a rel="noopener follow" target="_blank" href="/creating-a-finance-web-app-in-3-minutes-8273d56a39f8"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">在 3 分钟内创建一个财务 Web 应用程序！</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">了解如何使用 Python 中的 Streamlit 创建技术分析应用程序！</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">towardsdatascience.com</p></div></div><div class="ol l"><div class="os l on oo op ol oq ks oc"/></div></div></a></div></div></div>    
</body>
</html>