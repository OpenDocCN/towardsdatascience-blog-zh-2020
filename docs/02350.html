<html>
<head>
<title>A Day described in Grakn</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用格拉克描述的一天</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-day-described-in-grakn-part-i-46bb7e3cd82a?source=collection_archive---------31-----------------------#2020-03-05">https://towardsdatascience.com/a-day-described-in-grakn-part-i-46bb7e3cd82a?source=collection_archive---------31-----------------------#2020-03-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="c283" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">Graphbits:一堆关于图形的5分钟文章</h2><div class=""/><div class=""><h2 id="8f2b" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">Grakn模式</h2></div><p id="bc66" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">先说超图！长话短说，超图可以有同时连接两个以上节点的边。所以一定有超图模型的数据库对吧？是的，有，而且是<a class="ae ln" href="https://grakn.ai" rel="noopener ugc nofollow" target="_blank"><strong class="kt jd">Grakn</strong></a>……这就是这篇文章(以及其他一些文章)将要讨论的内容。</p><h1 id="97e2" class="lo lp it bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">Grakn</h1><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mg"><img src="../Images/36bba6d03111ffc696e60bbf307c5196.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nn4s30Civ3YaGdQugvh3hg.png"/></div></div><p class="ms mt gj gh gi mu mv bd b be z dk translated"><a class="ae ln" href="https://camo.githubusercontent.com/a4b2afa276e152da35ecbd6454755fc14182b891/68747470733a2f2f6772616b6e2e61692f6173736574732f696d672f6772616b6e2d6c6f676f2d6e616d652e706e67" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="d332" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">Grakn  被称为“智能数据库”,它允许您通过扩展实体关系方法(主要用于SQL数据库)来为不同领域建模知识库。由自动推理引擎驱动，它能够在大型数据集上执行逻辑推理。Grakn有自己的声明式查询语言Graql，同时也有自己的可视化工具<strong class="kt jd">Grakn工作库</strong>。(稍后将详细介绍)</p><p id="c85a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">说得够多了…让我们言归正传。</p><h2 id="cc32" class="mw lp it bd lq mx my dn lu mz na dp ly la nb nc ma le nd ne mc li nf ng me iz bi translated">Grakn模式</h2><p id="a804" class="pw-post-body-paragraph kr ks it kt b ku nh kd kw kx ni kg kz la nj lc ld le nk lg lh li nl lk ll lm im bi translated">在将任何数据加载到数据库之前，应该创建一个模式。</p><p id="70ef" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">可以将模式视为数据库的蓝图，它为您提供了一个关于如何构建数据的清晰思路。</p><p id="21cb" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">请注意！模式设计是创建数据库的第一步，也是最关键的一步。几乎所有其他操作都取决于模式的定义方式。</p><p id="5aed" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">让我们用一个例子创建一个简单的模式。</p><p id="8ab0" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">考虑这个场景</p><blockquote class="nm nn no"><p id="308b" class="kr ks np kt b ku kv kd kw kx ky kg kz nq lb lc ld nr lf lg lh ns lj lk ll lm im bi translated">Whatsville市在新年前夕举办了一场Gina Goodvoice的音乐会，该市期待着来自邻近城市的游客激增。鲍比是其中之一。想要探索这个城市，博比决定提前到达。那天早上，他从WhoTown乘火车到达Whatsville，和他的朋友Tim在附近的一家咖啡馆共进早餐。然后他决定去参观城市博物馆，并顺便买了一本书。午餐，他从食品车买了一个三明治，在湖边坐了一会儿。傍晚时分，他前往将举行音乐会的城市体育场。他在音乐会上玩得很开心，听着Gina Goodvoice的曲子。音乐会一直持续到深夜，之后，博比乘最后一班火车回家。</p></blockquote><p id="330a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">为什么我跑题这么多？原因很简单。</p><p id="4a08" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">想象一下鲍比的世界。或者说，鲍比的一天。他遇到了一些人；他去过的地方；他买的东西等等。只是一整天发生的一系列事件。现在，我们要在同一天在格拉克做这个模型。</p><p id="c29e" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">要创建模式，首先需要确定实体、属性、关系和角色。以下是对它们的简要描述</p><ul class=""><li id="2de9" class="nt nu it kt b ku kv kx ky la nv le nw li nx lm ny nz oa ob bi translated"><strong class="kt jd">实体</strong>独立存在。它们是实际存在的东西。</li><li id="3e7f" class="nt nu it kt b ku oc kx od la oe le of li og lm ny nz oa ob bi translated"><strong class="kt jd">关系</strong>通常代表实体之间某种形式的联系。</li><li id="a188" class="nt nu it kt b ku oc kx od la oe le of li og lm ny nz oa ob bi translated">实体或关系的特征可以使用<strong class="kt jd">属性</strong>指定。</li><li id="7566" class="nt nu it kt b ku oc kx od la oe le of li og lm ny nz oa ob bi translated">最后，在任何关系中，实体(或属性)总是扮演某种<strong class="kt jd">角色</strong></li></ul><p id="da60" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">迷茫？在我们的例子中，让我们来识别每一个。</p><p id="35fb" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">可以称为实体的东西有哪些？一个简单的方法是识别人、地点和事物(如果有动物的话，还有动物)</p><p id="4fc2" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">所以我们有博比、蒂姆、吉娜·古德沃斯、Whatsville、WhoTown、博比乘坐的火车、他吃早餐的咖啡馆、举行音乐会的体育场、他买的三明治等等。那里！我们有基本的实体:人、地点和事物。</p><p id="abd4" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这些实体的特征是什么？所以一个人可以有一个<strong class="kt jd">名字和一个年龄，比如</strong>。一个城市(或任何地方)可以有一个<strong class="kt jd">名字</strong>，一个<strong class="kt jd">母国家/州，一个纬度，一个经度</strong>等等来标识它。同样，一个事物也可以有一个名称和其他某些特征。这些都可以成为你的属性。</p><p id="29b0" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">接下来，如果你仔细想想，是什么把所有这些实体联系在一起？<strong class="kt jd">一个</strong>一个<strong class="kt jd">事件</strong>。</p><p id="0d35" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">Gina Goodvoice的演唱会是一个联系Bobby，Tim，Gina的活动，在新年前夕在体育场举行。那是一个事件，是你的图式中连接一个人、一个地方和一件事物的关系。</p><p id="a90c" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">此外，一个人在事件中扮演<strong class="kt jd">参与者</strong>的<strong class="kt jd">角色</strong>，地点扮演事件地点的角色。在那里，我们为关系中的实体分配角色。</p><h1 id="6f74" class="lo lp it bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">一直到代码</h1><p id="9529" class="pw-post-body-paragraph kr ks it kt b ku nh kd kw kx ni kg kz la nj lc ld le nk lg lh li nl lk ll lm im bi translated">好了，是时候开始敲打了。我们将创建之前为Grakn定义的模式。</p><p id="ecf2" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kt jd">但是首先！安装:</strong></p><p id="1596" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">确保您已经安装了Grakn服务器和工作库。如果没有，那就在这里绕道<a class="ae ln" href="https://grakn.ai/download" rel="noopener ugc nofollow" target="_blank">再回来。</a></p><h2 id="b0f9" class="mw lp it bd lq mx my dn lu mz na dp ly la nb nc ma le nd ne mc li nf ng me iz bi translated">创建模式</h2><p id="0317" class="pw-post-body-paragraph kr ks it kt b ku nh kd kw kx ni kg kz la nj lc ld le nk lg lh li nl lk ll lm im bi translated">该模式可以在带有“.”的文件中定义。<strong class="kt jd"> gql </strong>扩展。</p><p id="6bb5" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">模式定义总是以关键字“<strong class="kt jd"> define </strong>”开始。</p><p id="ad77" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">接下来，我们定义实体。所以我们有一个<strong class="kt jd">人、地点和事物</strong>作为我们的实体。此外，我们可以定义实体的属性和角色。</p><p id="f7a5" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">比如一个<strong class="kt jd">人有一个属性名，在一个事件中扮演参与者</strong>的角色。</p><ul class=""><li id="95fc" class="nt nu it kt b ku kv kx ky la nv le nw li nx lm ny nz oa ob bi translated">关键字<strong class="kt jd">“sub”</strong>用于指定一个<strong class="kt jd">实体、关系或属性</strong>。</li><li id="ead5" class="nt nu it kt b ku oc kx od la oe le of li og lm ny nz oa ob bi translated"><strong class="kt jd">实体或关系的属性</strong>使用“<strong class="kt jd">has”</strong>关键字定义。</li><li id="6a48" class="nt nu it kt b ku oc kx od la oe le of li og lm ny nz oa ob bi translated">使用关键字<strong class="kt jd">“plays”</strong>定义<strong class="kt jd">角色</strong>。</li></ul><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/8f2abbbc07a9ad3d94d860e8e259ce5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*FpJwgqkWFOOhaqGzKosMYA.png"/></div><p class="ms mt gj gh gi mu mv bd b be z dk translated">定义实体</p></figure><p id="385e" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">接下来，我们需要定义模式中提到的所有<strong class="kt jd">属性</strong>。定义每个属性时，必须指定属性的数据类型。这可以使用“<strong class="kt jd">数据类型</strong>”关键字来完成。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/22fca701d8a6d8a97f32c7cbc8b0f896.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*RFpfzKHhOjSROpDlHmVvng.png"/></div><p class="ms mt gj gh gi mu mv bd b be z dk translated">定义属性</p></figure><p id="dda2" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">最后，说到人际关系。<strong class="kt jd">关系</strong>定义类似于实体定义。<strong class="kt jd">关系可以有属性，甚至可以扮演角色</strong>。</p><p id="2326" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">定义中使用了关键字“<strong class="kt jd"> relates </strong>”来指定关系连接哪些角色。一个关系可以连接属性、实体甚至关系！</p><p id="d326" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">例如，事件关系与角色“<strong class="kt jd"> eventParticipant </strong>”和“<strong class="kt jd"> eventLocation </strong>”相关，这两个角色分别由实体person和Location扮演。</p><p id="ad2b" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">(注意，关系可以连接角色，而不是实体)</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/7306eb445768f0e26e02ab4b35496f7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*wgabMr4xywxph3NckX9WRA.png"/></div><p class="ms mt gj gh gi mu mv bd b be z dk translated">定义关系</p></figure><p id="6cf6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">既然我们已经定义了模式。我们需要把它载入Grakn。</p><h2 id="27fe" class="mw lp it bd lq mx my dn lu mz na dp ly la nb nc ma le nd ne mc li nf ng me iz bi translated"><strong class="ak">将模式加载到Grakn中</strong></h2><p id="ebcb" class="pw-post-body-paragraph kr ks it kt b ku nh kd kw kx ni kg kz la nj lc ld le nk lg lh li nl lk ll lm im bi translated">前往您的终端并启动Grakn服务器:</p><pre class="mh mi mj mk gt ok ol om on aw oo bi"><span id="2b6c" class="mw lp it ol b gy op oq l or os">grakn server start</span></pre><p id="ef14" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">现在使用以下命令加载模式:</p><pre class="mh mi mj mk gt ok ol om on aw oo bi"><span id="c346" class="mw lp it ol b gy op oq l or os">grakn console -k grakn_example -f schema.gql</span></pre><p id="f8df" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这里的<strong class="kt jd"> -k </strong>自变量<strong class="kt jd"> </strong>代表“<strong class="kt jd">键槽</strong>”。请将密钥空间视为数据库的名称。而这里的<strong class="kt jd"> -f </strong>则是模式文件的<strong class="kt jd">文件路径</strong>。</p><h2 id="2e9d" class="mw lp it bd lq mx my dn lu mz na dp ly la nb nc ma le nd ne mc li nf ng me iz bi translated">最终检查</h2><p id="3573" class="pw-post-body-paragraph kr ks it kt b ku nh kd kw kx ni kg kz la nj lc ld le nk lg lh li nl lk ll lm im bi translated">如果您得到如下输出</p><pre class="mh mi mj mk gt ok ol om on aw oo bi"><span id="bee8" class="mw lp it ol b gy op oq l or os">Successful commit: schema.gql</span></pre><p id="fcc4" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">那么这意味着您的模式已经加载。现在您可以前往Grakn Workbase并查看您的模式。它看起来应该有点像这样:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi ot"><img src="../Images/7417d1ca35744dd8eab33e59c2ea3fc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l2ggzbdBXb8nAzsCtHsjXQ.png"/></div></div><p class="ms mt gj gh gi mu mv bd b be z dk translated">Grakn模式:(黄色箭头将告诉您每个形状的含义)</p></figure><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/747c0c3aea2e2a171a1825319c2b22ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*LPIzRFo0jT-fRFpoF2JyqA.png"/></div><p class="ms mt gj gh gi mu mv bd b be z dk translated">解读模式图的简单方法</p></figure></div><div class="ab cl ov ow hx ox" role="separator"><span class="oy bw bk oz pa pb"/><span class="oy bw bk oz pa pb"/><span class="oy bw bk oz pa"/></div><div class="im in io ip iq"><p id="cdb7" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">搞定了。下一步是将数据加载到数据库中。这本身就值得一整篇文章。所以我只能说敬请期待！祝阅读愉快！</p><p id="ee78" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">链接到以前的博客:</p><div class="pc pd gp gr pe pf"><a rel="noopener follow" target="_blank" href="/the-graph-epiphany-4050e96ddcf6"><div class="pg ab fo"><div class="ph ab pi cl cj pj"><h2 class="bd jd gy z fp pk fr fs pl fu fw jc bi translated">图形顿悟</h2><div class="pm l"><h3 class="bd b gy z fp pk fr fs pl fu fw dk translated">Graphbits:一堆5分钟的文章:都是关于图形的</h3></div><div class="pn l"><p class="bd b dl z fp pk fr fs pl fu fw dk translated">towardsdatascience.com</p></div></div><div class="po l"><div class="pp l pq pr ps po pt mq pf"/></div></div></a></div><div class="pc pd gp gr pe pf"><a rel="noopener follow" target="_blank" href="/the-graph-models-656a0005aa21"><div class="pg ab fo"><div class="ph ab pi cl cj pj"><h2 class="bd jd gy z fp pk fr fs pl fu fw jc bi translated">图形模型</h2><div class="pm l"><h3 class="bd b gy z fp pk fr fs pl fu fw dk translated">Graphbits:一堆关于图形的5分钟文章</h3></div><div class="pn l"><p class="bd b dl z fp pk fr fs pl fu fw dk translated">towardsdatascience.com</p></div></div><div class="po l"><div class="pu l pq pr ps po pt mq pf"/></div></div></a></div></div></div>    
</body>
</html>