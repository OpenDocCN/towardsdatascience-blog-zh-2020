<html>
<head>
<title>Upgrade your Nvidia GPU Drivers for a Better Performance ğŸš€</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å‡çº§æ‚¨çš„ Nvidia GPU é©±åŠ¨ç¨‹åºä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ğŸš€</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/upgrade-your-nvidia-gpu-drivers-for-a-better-performance-52818ad7ee8d?source=collection_archive---------27-----------------------#2020-05-23">https://towardsdatascience.com/upgrade-your-nvidia-gpu-drivers-for-a-better-performance-52818ad7ee8d?source=collection_archive---------27-----------------------#2020-05-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="729b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">ä½ çš„è®­ç»ƒä¸ç¨³å®šï¼Ÿè€ƒè™‘å°† Cuda å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬</h2></div><p id="d4dd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘æœ‰ä¸€ä¸ªè¿è¡Œåœ¨ Ubuntu 16.04 å‘è¡Œç‰ˆå’Œ Nvidia 1080 TI ä¸Šçš„ GPU æœåŠ¡å™¨ã€‚2018 å¹´ä¹°çš„ï¼Œåˆ°ä»Šå¤©è¿˜åœ¨ç”¨ Cuda 9.0ï¼Œé©±åŠ¨ç‰ˆæœ¬ 384.130ã€‚</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/30aaed75b1214c16d8dc8d103e2d8dca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tcZubNoJvd8s1pVBtx_exA.jpeg"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">æˆ‘çš„è®¾ç½®</p></figure><p id="8316" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘å†³å®šå‡çº§åˆ° Cuda 10.2ï¼Œç”¨æœ€æ–°ç‰ˆæœ¬çš„é©±åŠ¨(440.33.01)ã€‚å‡ºäºå‡ ä¸ªåŸå› ï¼Œæˆ‘å¾ˆæ—©å°±æƒ³è¿™ä¹ˆåšäº†:</p><ul class=""><li id="7f5f" class="lu lv it kk b kl km ko kp kr lw kv lx kz ly ld lz ma mb mc bi translated">æˆ‘å¶å°”ä¼šæ³¨æ„åˆ°æˆ‘å½“å‰è®¾ç½®çš„ä¸ç¨³å®šè®­ç»ƒå’Œ GPU æ•…éšœ</li><li id="6782" class="lu lv it kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated">ä¸€äº›æœ€æ–°ç‰ˆæœ¬çš„é€šç”¨æ·±åº¦å­¦ä¹ æ¡†æ¶(ä¸»è¦æ˜¯ PyTorch)åªèƒ½åœ¨ Cuda 10+ä¸Šè¿è¡Œ</li></ul><p id="2a00" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ‰€ä»¥è¿™æ˜¯åšè¿™ä»¶äº‹çš„æœ€ä½³æ—¶æœºã€‚æˆ‘åœ¨è¿™ç¯‡æ–‡ç« ä¸­è®°å½•äº†ä¸åŒçš„æ­¥éª¤ã€‚æˆ‘ä»¬èµ°å§ï¼</p><ol class=""><li id="8630" class="lu lv it kk b kl km ko kp kr lw kv lx kz ly ld mi ma mb mc bi translated">å¤´é¡¶<a class="ae mj" href="https://developer.nvidia.com/cuda-downloads" rel="noopener ugc nofollow" target="_blank">https://developer.nvidia.com/cuda-downloads</a></li><li id="4f6c" class="lu lv it kk b kl md ko me kr mf kv mg kz mh ld mi ma mb mc bi translated">é€‰æ‹©æ‚¨çš„<br/> -æ“ä½œç³»ç»Ÿ(Linux) <br/> -æ¶æ„(x86_64) <br/> -å‘è¡Œç‰ˆ(Ubuntu) <br/> -ç‰ˆæœ¬(16.04) <br/> -å®‰è£…ç¨‹åºç±»å‹(runfile (local))</li><li id="8639" class="lu lv it kk b kl md ko me kr mf kv mg kz mh ld mi ma mb mc bi translated">ä¸€æ—¦æ‚¨é€‰æ‹©äº†å…ƒç´ ï¼Œæ‚¨å°†ä¼šå¾—åˆ°ä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤çš„æç¤ºã€‚å¤„å†³ä»–ä»¬</li></ol><pre class="lf lg lh li gt mk ml mm mn aw mo bi"><span id="6180" class="mp mq it ml b gy mr ms l mt mu"><strong class="ml iu">wget </strong><a class="ae mj" href="http://developer.download.nvidia.com/compute/cuda/10.2/Prod/local_installers/cuda_10.2.89_440.33.01_linux.run" rel="noopener ugc nofollow" target="_blank"><strong class="ml iu">http://developer.download.nvidia.com/compute/cuda/10.2/Prod/local_installers/cuda_10.2.89_440.33.01_linux.run</strong></a></span><span id="ea19" class="mp mq it ml b gy mv ms l mt mu"><strong class="ml iu">sudo sh cuda_10.2.89_440.33.01_linux.run</strong></span></pre><p id="cf3e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.é‡å¯ä½ çš„æœºå™¨</p><p id="5c07" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my ml b"><strong class="kk iu">sudo reboot now</strong></code></p><p id="7ac5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä½ ç°åœ¨åº”è¯¥æ²¡äº‹äº†ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨åœ¨è¿è¡Œ<code class="fe mw mx my ml b">nvidia-smi</code>æ—¶é‡åˆ°æ­¤é”™è¯¯æ¶ˆæ¯</p><p id="a5fd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">æœªèƒ½åˆå§‹åŒ– NVML:é©±åŠ¨ç¨‹åº/åº“ç‰ˆæœ¬ä¸åŒ¹é…</strong></p><p id="c9e7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™æ„å‘³ç€æ‚¨ä»¥å‰çš„é©±åŠ¨ç¨‹åºå¤ªæ—§ï¼Œæ— æ³•è¢«<code class="fe mw mx my ml b"><strong class="kk iu">cuda_10.2.89_440.33.01_linux.run</strong></code> <strong class="kk iu"> </strong>è„šæœ¬æ£€æµ‹å’Œåˆ é™¤ã€‚</p><p id="e033" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ éœ€è¦æ¸…é™¤ Nvidia æ—§çš„ä¾èµ–:</p><pre class="lf lg lh li gt mk ml mm mn aw mo bi"><span id="2ba3" class="mp mq it ml b gy mr ms l mt mu"><strong class="ml iu">sudo apt-get update<br/>sudo apt-get --purge remove cuda<br/>sudo apt-get autoremove<br/>dpkg --list |grep "^rc" | cut -d " " -f 3 | xargs sudo dpkg --purge<br/>sudo apt-get purge nvidia*<br/>sudo apt-get update<br/>sudo reboot now</strong></span></pre><p id="4a99" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.åˆ›å»ºæŒ‡å‘ Cuda æœ€æ–°ç‰ˆæœ¬çš„ç¬¦å·é“¾æ¥</p><pre class="lf lg lh li gt mk ml mm mn aw mo bi"><span id="a0ac" class="mp mq it ml b gy mr ms l mt mu"><strong class="ml iu">sudo ln -s /usr/local/cuda-10.2 /usr/local/cuda</strong></span></pre><p id="7da0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">6.æ›´æ–°æ‚¨çš„ã€‚bashrc</p><p id="1e5e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">æ—§è¡Œ:<br/> </strong>å¯¼å‡ºè·¯å¾„=/usr/local/cuda-9.0/bin:$ PATH<br/>å¯¼å‡º LD _ LIBRARY _ PATH =/usr/local/cuda-9.0/lib 64:$ LD _ LIBRARY _ PATH</p><p id="5db6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">æ–°è¡Œ:<br/> </strong>å¯¼å‡ºè·¯å¾„=/usr/local/cuda/bin:$PATH <br/>å¯¼å‡º LD _ LIBRARY _ PATH =/usr/local/cuda/lib 64:$ LD _ LIBRARY _ PATH</p><p id="7bbe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶åé‡å¯ä»¥ä¿å­˜æ›´æ”¹ã€‚</p><p id="086c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">7.å®‰è£…<strong class="kk iu"> Cudnn </strong></p><p id="865e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨è¿™é‡Œåˆ›å»ºä¸€ä¸ª Nvidia å¼€å‘è€…è´¦å·<a class="ae mj" href="https://developer.nvidia.com/developer-program" rel="noopener ugc nofollow" target="_blank">ã€‚ç„¶åï¼Œç‚¹å¼€è¿™ä¸ª</a><a class="ae mj" href="https://developer.nvidia.com/compute/machine-learning/cudnn/secure/7.6.5.32/Production/10.2_20191118/cudnn-10.2-linux-x64-v7.6.5.32.tgz" rel="noopener ugc nofollow" target="_blank">é“¾æ¥</a>ï¼Œä¸‹è½½ Cudnnã€‚</p><p id="bcd1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸‹è½½è¯¥æ–‡ä»¶åï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤:</p><pre class="lf lg lh li gt mk ml mm mn aw mo bi"><span id="d669" class="mp mq it ml b gy mr ms l mt mu"><strong class="ml iu">sudo cp cuda/include/cudnn.h /usr/local/cuda/include </strong></span><span id="6004" class="mp mq it ml b gy mv ms l mt mu"><strong class="ml iu">sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64 </strong></span><span id="03ba" class="mp mq it ml b gy mv ms l mt mu"><strong class="ml iu">sudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda/lib64/libcudnn*</strong></span></pre><p id="88cb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">8.æ£€æŸ¥æ‚¨çš„å®‰è£…</p><p id="0b45" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ç”¨æ”¯æŒ Cuda 10.2 çš„æœ€æ–° PyTorch ç‰ˆæœ¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ conda ç¯å¢ƒã€‚å®‰è£…åï¼Œæˆ‘è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p><pre class="lf lg lh li gt mk ml mm mn aw mo bi"><span id="075c" class="mp mq it ml b gy mr ms l mt mu"><strong class="ml iu">import torch</strong></span><span id="c7c0" class="mp mq it ml b gy mv ms l mt mu"><strong class="ml iu">torch.cuda.is_available()<br/># True</strong></span><span id="ab88" class="mp mq it ml b gy mv ms l mt mu"><strong class="ml iu">torch.version.cuda<br/># '10.2'</strong></span><span id="16bc" class="mp mq it ml b gy mv ms l mt mu"><strong class="ml iu">torch.backends.cudnn.version()<br/># 7605</strong></span></pre><p id="515b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä½†æ˜¯æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨æ‚¨æœ€å–œæ¬¢çš„æ¡†æ¶è¿›è¡Œæ£€æŸ¥ã€‚</p><p id="a28f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ„Ÿè°¢é˜…è¯»ï¼Œæˆ‘å¸Œæœ›è¿™æ˜¯æœ‰ç”¨çš„ï¼</p><p id="16fa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¹²æ¯ï¼</p></div></div>    
</body>
</html>