<html>
<head>
<title>Effective Approaches for Time Series Anomaly Detection</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">时间序列异常检测的有效方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/effective-approaches-for-time-series-anomaly-detection-9485b40077f1?source=collection_archive---------2-----------------------#2020-06-01">https://towardsdatascience.com/effective-approaches-for-time-series-anomaly-detection-9485b40077f1?source=collection_archive---------2-----------------------#2020-06-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/1b5fde98c1a8f096119bceb7fdb4a33c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UkrZd9aXCXHWXKpEE1SWiA.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/photos/HTyONr8k5TQ" rel="noopener ugc nofollow" target="_blank">取自Unsplash。</a></p></figure><p id="31be" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在当前的形势下，整个世界到处都在经历前所未有的情景，这通常被每个人称为<em class="le">“新常态”。</em>但在成为<em class="le">“</em><a class="ae kf" href="https://aditya-bhattacharya.net/2020/07/20/sales-and-demand-forecast-analysis/3/" rel="noopener ugc nofollow" target="_blank"><em class="le">新常态</em> </a> <em class="le">”，</em>这些异常或反常的结果会对任何组织产生积极或消极的影响，对制定长期业务战略来说，跟踪这些结果非常重要。因此，每个领域中的异常检测都将是一个重要的讨论主题，关于执行异常检测的有效方法的知识将是任何数据科学家和数据分析师都必须掌握的一项重要技能。</p><p id="10b0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们深入研究之前，我们必须澄清，异常现象到底是什么？<strong class="ki iu">异常</strong>的定义可能因域而异。在我们上面看到的封面图片中，母狮是斑马群中的异类。因此，从技术上概括地说，我们可以说异常是异常数据点，它不遵循大多数数据点的<em class="le">集体共同模式</em>，因此可以很容易地从其余数据中分离或区分出来。</p><p id="96c0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，进入今天的主题范围，<a class="ae kf" href="https://aditya-bhattacharya.net/2020/07/20/sales-and-demand-forecast-analysis/3/" rel="noopener ugc nofollow" target="_blank"><em class="le"/></a><em class="le">。</em>我们将在本文中讨论<em class="le">什么</em>、<em class="le">为什么</em>和<em class="le">如何</em>时间序列异常检测部分。<strong class="ki iu">详细的</strong> <a class="ae kf" href="https://aditya-bhattacharya.net/2020/07/20/sales-and-demand-forecast-analysis/3/" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">编码走读</strong> </a> <strong class="ki iu">，请访问我的</strong> <a class="ae kf" href="https://aditya-bhattacharya.net/2020/07/20/sales-and-demand-forecast-analysis/3/" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">网站</strong> </a> <strong class="ki iu">。</strong></p><p id="0986" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我在YouTube上的一段视频记录了一个类似的话题:</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="lj lk l"/></div></figure><p id="a99f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">** <strong class="ki iu">更新</strong> **如果你喜欢这篇文章，并希望更多地支持我对社区的贡献，请看看我的书<strong class="ki iu"> " </strong> <a class="ae kf" href="https://www.amazon.com/dp/1803246154/ref=as_sl_pc_as_ss_li_til?tag=adib0073-20&amp;linkCode=w00&amp;linkId=74817cc3f53ad04fe861a6ed9f619830&amp;creativeASIN=1803246154" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">应用机器学习可解释性技术</strong> </a> <strong class="ki iu"> " </strong>，这是GitHub资源库，其中包含了书中涉及的各个章节的许多实践教程:<a class="ae kf" href="https://github.com/PacktPublishing/Applied-Machine-Learning-Explainability-Techniques" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/packt publishing/Applied-Machine-Learning-explability-Techniques</a>。如果你喜欢GitHub资源库中提供的教程，请在资源库中做fork和star，以示你对这个项目的支持！请订购该书的<a class="ae kf" href="https://www.amazon.com/dp/1803246154/ref=as_sl_pc_as_ss_li_til?tag=adib0073-20&amp;linkCode=w00&amp;linkId=74817cc3f53ad04fe861a6ed9f619830&amp;creativeASIN=1803246154" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">纸质本</strong> </a>或<a class="ae kf" href="https://www.amazon.com/dp/B0B2PTF5PC/ref=as_sl_pc_as_ss_li_til?tag=adib0073-20&amp;linkCode=w00&amp;linkId=e180f73d5590baee93582fc1a8b17d15&amp;creativeASIN=B0B2PTF5PC" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">电子本</strong> </a>以示支持。</p><div class="ll lm gp gr ln lo"><a href="https://www.amazon.com/Applied-Machine-Learning-Explainability-Techniques/dp/1803246154?_encoding=UTF8&amp;pd_rd_w=Wr6SJ&amp;content-id=amzn1.sym.716a1ed9-074f-4780-9325-0019fece3c64&amp;pf_rd_p=716a1ed9-074f-4780-9325-0019fece3c64&amp;pf_rd_r=6P2PM599T97MRG7NZD9J&amp;pd_rd_wg=m4qUW&amp;pd_rd_r=6e349d93-5ba0-4bfe-9055-905c0153fe58&amp;linkCode=li3&amp;tag=adib0073-20&amp;linkId=35506e1847de5c011fc57aa66c2b1d8e&amp;language=en_US&amp;ref_=as_li_ss_il" rel="noopener  ugc nofollow" target="_blank"><div class="lp ab fo"><div class="lq ab lr cl cj ls"><h2 class="bd iu gy z fp lt fr fs lu fu fw is bi translated">应用机器学习可解释技术:使ML模型可解释和可信…</h2><div class="lv l"><h3 class="bd b gy z fp lt fr fs lu fu fw dk translated">应用机器学习可解释技术:使ML模型可解释和可信赖的实践…</h3></div><div class="lw l"><p class="bd b dl z fp lt fr fs lu fu fw dk translated">www.amazon.com</p></div></div><div class="lx l"><div class="ly l lz ma mb lx mc jz lo"/></div></div></a></div><h1 id="7cdc" class="md me it bd mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na bi translated"><strong class="ak">什么是时间序列异常？</strong></h1><p id="00a3" class="pw-post-body-paragraph kg kh it ki b kj nb kl km kn nc kp kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">在时间序列数据中，异常值或离群值可以被定义为不遵循整个数据的共同集体趋势或季节或周期模式的数据点，并且与其余数据明显不同。大多数数据科学家所说的<em class="le">显著性</em>是指<em class="le">统计显著性</em>，换句话说，这意味着数据点的统计属性与序列的其余部分不一致。</p><figure class="lf lg lh li gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ng"><img src="../Images/55a3d8e8ea59e803e9abf95b49810457.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yZM5C7zS3aO32L4v5GQaQw.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">突出显示异常数据点的时间序列图(图片由作者提供)</p></figure><p id="21c5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从上面的时间序列图中，我们可以看到，与整个序列<em class="le">显著不同的5个数据点用红圈突出显示。因此这5个异常数据点不符合时间序列的总体正弦性质，因此可以被称为<a class="ae kf" href="https://aditya-bhattacharya.net/2020/07/20/sales-and-demand-forecast-analysis/3/" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">时间序列异常</strong> </a>。</em></p><h1 id="7b4f" class="md me it bd mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na bi translated">为什么时间序列异常检测如此重要？</h1><figure class="lf lg lh li gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/c961ed2034a004e42c47a54cc64f101b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xTJtSQEGM4gkapqbeMRhAA.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/photos/unRkg2jH1j0" rel="noopener ugc nofollow" target="_blank">取自unsplash。</a></p></figure><p id="7304" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如前所述，为了评估<em class="le">【新常态】</em>以及重组和重构业务战略和决策流程，跟踪每个部门的异常情况非常重要，并且迫切需要持续详细地研究这些异常情况。数据科学家的角色不仅在这些困难时期变得至关重要，而且对于数据科学家来说，想出一种方法来跟踪、研究和分析异常数据点并获得对业务有意义的信息也成为一种自然的期望。从销售和营销，到供应链和制造，企业的每个阶段都需要足够的信息，特别是关于这些异常的信息，以塑造其流程并最大限度地提高生产率和成果。因此，只要我们在数据中有一个共同的模式，特别是对于时间序列数据，这是非常重要的隔离离群值，并抽出时间和精力来研究这些。</p><h1 id="448f" class="md me it bd mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na bi translated">时间序列异常检测怎么做？</h1><p id="6543" class="pw-post-body-paragraph kg kh it ki b kj nb kl km kn nc kp kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">现在，进入本文最重要的部分，关于<em class="le"/><em class="le"/>部分如何做<strong class="ki iu">时间序列异常检测</strong>。从一个非常高的层次和一个非常通用的方式，时间序列异常检测可以通过三种主要方式来完成:</p><ol class=""><li id="4183" class="ni nj it ki b kj kk kn ko kr nk kv nl kz nm ld nn no np nq bi translated"><strong class="ki iu">通过预测置信水平方法</strong></li><li id="8185" class="ni nj it ki b kj nr kn ns kr nt kv nu kz nv ld nn no np nq bi translated"><strong class="ki iu">统计剖析方法</strong></li><li id="f521" class="ni nj it ki b kj nr kn ns kr nt kv nu kz nv ld nn no np nq bi translated"><strong class="ki iu">基于聚类的无监督方法</strong></li></ol><p id="44c6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这一节中，我们将只关注技术，在下一篇文章或帖子中，我们将体验算法的确切代码部分以及如何用Python编程这些方法的有效方式。</p><h2 id="d0de" class="nw me it bd mf nx ny dn mj nz oa dp mn kr ob oc mr kv od oe mv kz of og mz oh bi translated">基于预测置信度方法的时间序列异常检测</h2><figure class="lf lg lh li gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oi"><img src="../Images/92de7b0dafb673bc798d485f9a2ab526.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*W4hjA99UhdH4H0AilAAXeA.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">通过置信度方法进行异常检测(图片由作者提供)</p></figure><p id="f7e5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用时间序列数据进行异常检测的一种方式是通过使用历史数据建立预测模型，以估计和了解时间序列数据的总体共同趋势、季节性或周期性模式。使用预测模型来预测未来值，并基于误差率(可以使用MAPE-平均绝对百分比误差来计算)，我们可以得出预测值的置信区间或置信带，任何超出该置信带的实际数据点都是异常的。为了建立预测模型，也可以有效地使用流行的时间序列建模算法，如ARIMA、萨里玛、GARCH、VAR或任何回归或基于机器学习和深度学习的算法，如LSTM。这种方法的主要优点是发现局部异常值，但主要缺点是，这种方法高度依赖于预测模型的效率。预测模型中的任何循环漏洞都可能导致假阳性和假阴性。</p><h2 id="5309" class="nw me it bd mf nx ny dn mj nz oa dp mn kr ob oc mr kv od oe mv kz of og mz oh bi translated">通过<strong class="ak">统计剖析方法</strong>进行时间序列异常检测</h2><figure class="lf lg lh li gt ju gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/b33d6ca23cd041dc601e09d05c7628bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*ZHI1WdLn78Ag5g7hEEIFcw.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">通过统计分析方法进行异常检测(图片由作者提供)</p></figure><p id="a517" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种方法可能是统计学家和数学家最喜欢的方法，在经济和金融领域得到了有效的应用。生成给定数据的统计模型或概况可能是最快和最有用的方法，因为这种方法可以提供更可控和更可解释的结果。这可以通过计算统计值来实现，如历史数据的平均值或中值移动平均值，并使用标准偏差来得出一组统计值，这些统计值可以定义上限和下限，超出这些范围的任何值都可能是异常值。正如我所说的，这种方法非常方便，并且总是可以作为基线方法，而不是使用任何需要大量微调并且可能无法解释的复杂方法。这对于高度不稳定的时间序列也非常有效，因为当数据高度不稳定时，大多数时间序列预测模型算法都会失败。但是这种方法的主要缺点是检测局部异常值。正如我们在上图中看到的，在五个明显的异常点中，只有两个最重要的异常点被检测到。</p><h2 id="e4fe" class="nw me it bd mf nx ny dn mj nz oa dp mn kr ob oc mr kv od oe mv kz of og mz oh bi translated">通过基于<strong class="ak">聚类的无监督方法进行时间序列异常检测</strong></h2><figure class="lf lg lh li gt ju gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/69a7ea3a4bfd71a145f3cf5f1bceb40c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*TvZ9jI9vGX-fWwc3AHwNDw.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">通过基于聚类的无监督方法进行异常检测(图片由作者提供)</p></figure><p id="bcaa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">无监督的方法对于异常检测非常有用，因为它不需要任何标记的数据，提到特定的数据点是异常。因此，聚类算法对于时间序列异常检测非常方便。目前，用于异常检测的聚类算法的一个常见缺陷或瓶颈是定义聚类数，这是大多数聚类算法需要的输入。虽然有许多估计聚类数的技术，但是对于时间序列数据，动态估计每个序列的聚类数是不可行的。这时，<strong class="ki iu">带噪声的应用程序的基于密度的空间聚类(DBSCAN) </strong>成为自然的选择。<strong class="ki iu"> DBSCAN </strong>不需要任何预定义的聚类数，只有两个参数(一个聚类中的最小点数和ε，聚类之间的距离)，所以非常容易调优，性能非常快。由于这些优点，DBSCAN成为进行异常检测的最明显的选择，并且它不像传统的硬聚类技术(如K-Means)那样将所有数据点分组到一个聚类中。DBSCAN不将异常或离群数据点分组到任何集群，因此它变得非常容易应用。此外，DBSCAN有助于绘制大多数其他方法可能会失败的<em class="le">【新常态】</em>。但是DBSCAN也有一些缺点。一些异常数据点如果在稀疏间隔内重复多次，根据DBSCAN，这些可能不会被映射为异常。因此，在这种情况下，使用基于<strong class="ki iu">滚动窗口的DBSCAN </strong>有助于更有效地绘制这些局部异常。</p><p id="5aae" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> **更新**如果你喜欢这篇文章，并希望更多地支持我为社区所做的贡献，请看看我的书“</strong> <a class="ae kf" href="https://www.amazon.com/dp/1803246154/ref=as_sl_pc_as_ss_li_til?tag=adib0073-20&amp;linkCode=w00&amp;linkId=74817cc3f53ad04fe861a6ed9f619830&amp;creativeASIN=1803246154" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">【应用机器学习可解释技术</strong> </a> <strong class="ki iu">”，这是GitHub资源库，其中包含许多关于书中各个章节的实践教程:</strong><a class="ae kf" href="https://github.com/PacktPublishing/Applied-Machine-Learning-Explainability-Techniques" rel="noopener ugc nofollow" target="_blank"><strong class="ki iu">https://GitHub . com/packt publishing/Applied-Machine-Learning-explability-Techniques</strong></a><strong class="ki iu">。如果你喜欢GitHub资源库中提供的教程，请在资源库中做fork和star，以示你对这个项目的支持！请订购本书的</strong> <a class="ae kf" href="https://www.amazon.com/dp/1803246154/ref=as_sl_pc_as_ss_li_til?tag=adib0073-20&amp;linkCode=w00&amp;linkId=74817cc3f53ad04fe861a6ed9f619830&amp;creativeASIN=1803246154" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">实体本</strong> </a> <strong class="ki iu">或</strong> <a class="ae kf" href="https://www.amazon.com/dp/B0B2PTF5PC/ref=as_sl_pc_as_ss_li_til?tag=adib0073-20&amp;linkCode=w00&amp;linkId=e180f73d5590baee93582fc1a8b17d15&amp;creativeASIN=B0B2PTF5PC" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">电子本</strong> </a> <strong class="ki iu">以示支持。</strong></p><div class="ll lm gp gr ln lo"><a href="https://www.amazon.com/Applied-Machine-Learning-Explainability-Techniques/dp/1803246154?_encoding=UTF8&amp;pd_rd_w=Wr6SJ&amp;content-id=amzn1.sym.716a1ed9-074f-4780-9325-0019fece3c64&amp;pf_rd_p=716a1ed9-074f-4780-9325-0019fece3c64&amp;pf_rd_r=6P2PM599T97MRG7NZD9J&amp;pd_rd_wg=m4qUW&amp;pd_rd_r=6e349d93-5ba0-4bfe-9055-905c0153fe58&amp;linkCode=li3&amp;tag=adib0073-20&amp;linkId=35506e1847de5c011fc57aa66c2b1d8e&amp;language=en_US&amp;ref_=as_li_ss_il" rel="noopener  ugc nofollow" target="_blank"><div class="lp ab fo"><div class="lq ab lr cl cj ls"><h2 class="bd iu gy z fp lt fr fs lu fu fw is bi translated">应用机器学习可解释技术:使ML模型可解释和可信…</h2><div class="lv l"><h3 class="bd b gy z fp lt fr fs lu fu fw dk translated">应用机器学习可解释技术:使ML模型可解释和可信赖的实践…</h3></div><div class="lw l"><p class="bd b dl z fp lt fr fs lu fu fw dk translated">www.amazon.com</p></div></div><div class="lx l"><div class="ly l lz ma mb lx mc jz lo"/></div></div></a></div><p id="e513" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，这就把我们带到了本文的结尾。在 <a class="ae kf" href="https://aditya-bhattacharya.net/" rel="noopener ugc nofollow" target="_blank"> <em class="le">我的个人网站</em> </a> <em class="le">中，我</em> <a class="ae kf" href="https://aditya-bhattacharya.net/2020/07/20/sales-and-demand-forecast-analysis/3/" rel="noopener ugc nofollow" target="_blank"> <em class="le">写了一篇详细的文章，讨论并提供了如何应用这些技术的精确python代码，并更深入地解释了常见的优点和缺点</em> </a> <em class="le">。在那之前，请鼓掌并激励我进行更多的讨论，并与社区分享我的发现。希望我能帮上忙！继续关注:</em><a class="ae kf" href="https://medium.com/@adib0073" rel="noopener"><em class="le">https://medium.com/@adib0073</em></a><em class="le">和我的网站:</em><a class="ae kf" href="https://aditya-bhattacharya.net/" rel="noopener ugc nofollow" target="_blank">https://www.aditya-bhattacharya.net/</a></p></div></div>    
</body>
</html>