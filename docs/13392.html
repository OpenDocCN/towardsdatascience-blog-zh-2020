<html>
<head>
<title>Optimal Sample Size Determination</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">最佳样本量的确定</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/optimal-sample-size-determination-43c5dca1f720?source=collection_archive---------30-----------------------#2020-09-14">https://towardsdatascience.com/optimal-sample-size-determination-43c5dca1f720?source=collection_archive---------30-----------------------#2020-09-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d06b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何从统计上找到所需的样本量，以做出准确和高度可信的概括。(附实例！)</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5be1fbbf1ffaaf04f837ca23fcde4702.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WRH0MLAE5KFNrVSar85pTQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@morningbrew" rel="noopener ugc nofollow" target="_blank">晨酿</a>在<a class="ae kv" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><h1 id="b2c9" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="ac5d" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">从收集选举中的投票意向到评估公司机器的质量，寻找最佳样本量在许多不同的情况下都很重要。找到最能代表总体的样本有助于减少成本和时间，同时还能提供适用于总体的结论。</p><p id="1b51" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">帮助理解这一点的方法来自乔治·盖洛普，他是调查抽样技术的先驱。</p><blockquote class="mp mq mr"><p id="d23e" class="lo lp ms lq b lr mk jr lt lu ml ju lw mt mm lz ma mu mn md me mv mo mh mi mj ij bi translated">“如果你煮了一大锅汤，你不需要把它都吃完，然后再看是否需要更多的调料。你可以尝一勺，只要你把它搅拌好”，乔治·盖洛普。</p></blockquote><p id="99ce" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">为了选择样本量，可以使用统计学方法。这可以让<em class="ms">量化</em>我们对样本的信心。</p><p id="5131" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这篇文章将首先给出样本大小选择的数学证明，然后用 Python 做一个计算证明，展示如何在一些模拟数据上工作。</p><h1 id="0320" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">战略</h1><p id="34e8" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">本节将讨论如何在二元情况下找到最佳样本量——这是指有两种结果的情况。一个例子可以是带有“是”或“否”问题的投票，或者是对机器的好或坏的评级。</p><p id="6e7d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">首先，这篇文章将讨论这个方法所基于的置信区间，然后最后讨论如何从置信区间计算最优样本量。</p><h2 id="3296" class="mw kx iq bd ky mx my dn lc mz na dp lg lx nb nc li mb nd ne lk mf nf ng lm nh bi translated">设置</h2><p id="686e" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在统计学中，<em class="ms">样本</em>是一组对象或测量值，是通过统计抽样技术获得的整个总体的子集。我们把二元问题的两个结果叫做<em class="ms">结果 1 </em>和<em class="ms">结果 2 </em>。</p><p id="c95c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">定义<em class="ms"> p </em>为<em class="ms">结果 1 </em>发生的概率，给出<em class="ms">结果 2 </em>的概率为<em class="ms"> 1-p. </em></p><p id="f6a8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">问题是，我们需要多大的样本量才能高精度地计算 p ？</p><h2 id="1d9e" class="mw kx iq bd ky mx my dn lc mz na dp lg lx nb nc li mb nd ne lk mf nf ng lm nh bi translated">置信区间</h2><p id="2adf" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">为了回答这个问题，我们需要一个<em class="ms"> p. </em>的置信区间</p><p id="f011" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">定义</strong>:一个<em class="ms"> p </em>的<em class="ms"> 95% </em> <em class="ms">置信区间</em>是这样一个区间，如果我们计算区间<em class="ms"> 100 次</em>其中<em class="ms"> 95 次</em>将包含给定样本量<em class="ms"> n </em>的<em class="ms"> p </em>的真值。</p><p id="c44f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">对于一般情况，其公式为:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="f953" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">其中 p hat 是我们对<em class="ms"> p 的估计值(我们试图寻找的值)，z </em>表示正态分布的 z 得分(例如，1.96 表示 95%的 z 得分)。</p><h2 id="4c7f" class="mw kx iq bd ky mx my dn lc mz na dp lg lx nb nc li mb nd ne lk mf nf ng lm nh bi translated">最佳样本量</h2><p id="7587" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">现在，为了计算最佳样本量，我们可以从另一个角度来看这个问题，并重新排列这个公式以找到 n。首先，让我们扩大置信区间:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="53ec" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">因为我们想要找到高精度的<em class="ms"> p </em>，我们将想要使这个置信区间小于某个宽度(你选择的)，让我们称这个宽度为<em class="ms"> W </em>。将这些放在一起，我们得到:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="eac6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这给出了:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="1e16" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在继续重新排列直到<em class="ms"> n </em>在一边是<em class="ms">T9:</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="d8d4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这是一个通用公式，如果你已经对<em class="ms"> p </em>有了一个很好的估计，就可以使用这个公式，但是如果没有的话，还可以通过一个假设进一步使用这个公式。让我们看看二项分布的方差公式:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="d79e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">为了编码我们的不确定性，我们可以最大化这个方差，在<em class="ms"> n </em>保持不变的情况下，这是通过假设<em class="ms"> p </em>值为 0.5 来实现的。这给了我们:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="7bd2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">可以简化为:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="d021" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在，让我们输入一些值。对于 95%的置信水平，我们想设置<em class="ms"> z = 1.96 </em>(来自标准正态分布)，让<em class="ms"> W = 0.02 </em>。<em class="ms"> W </em>是置信区间的宽度，这意味着<em class="ms"> W/2 </em>是<em class="ms">误差幅度</em>，因此在这个例子中，我的误差幅度为 0.01。</p><p id="1d25" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">将所有这些放在一起:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><blockquote class="mp mq mr"><p id="7fe0" class="lo lp ms lq b lr mk jr lt lu ml ju lw mt mm lz ma mu mn md me mv mo mh mi mj ij bi translated">对于这个例子，我们现在可以说，<strong class="lq ir">样本量大于 9604 的样本中，95%的样本将包含准确度在 1%以内的真实比例</strong>。</p></blockquote><h1 id="a16a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">例子</h1><p id="265b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">现在，数学证明已经完成，我将生成一些数据来给出一个动手的例子。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="2efc" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">进一步阅读</h1><ul class=""><li id="80f6" class="nk nl iq lq b lr ls lu lv lx nm mb nn mf no mj np nq nr ns bi translated">这篇文章假设总人口是未知的和无限的。如果总人口是已知的，有几种方法可以解释这一点:<a class="ae kv" href="https://byjus.com/sample-size-formula/" rel="noopener ugc nofollow" target="_blank">https://byjus.com/sample-size-formula/</a></li><li id="d4da" class="nk nl iq lq b lr nt lu nu lx nv mb nw mf nx mj np nq nr ns bi translated">更多关于置信区间这里有一个很好的介绍<a class="ae kv" rel="noopener" target="_blank" href="/understanding-confidence-interval-d7b5aa68e3b">https://towards data science . com/understanding-confidence-interval-d 7 b5 aa 68 e3b</a></li><li id="5114" class="nk nl iq lq b lr nt lu nu lx nv mb nw mf nx mj np nq nr ns bi translated">关于样本量重要性的更多信息，请查看:<a class="ae kv" href="https://medium.com/swlh/is-the-sample-size-of-a-poll-important-2b25b5bfe64d" rel="noopener">https://medium . com/swlh/is-the-sample-size-of-a-poll-important-2b 25 b5 bfe 64d</a></li></ul><h1 id="ab6a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="0efa" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">这篇文章介绍了一种在给定的置信水平和允许的误差范围内寻找好的样本量的方法，但是这里只讨论了二进制方法。为了将这里计算的结果扩展到多类场景(其中有两个以上的选项)，该问题可以简单地视为几个二元问题。这就留给读者了。</p><p id="682a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">有关相关的公式笔记本和示例笔记本，请访问我的<a class="ae kv" href="https://github.com/henriwoodcock/blog-post-codes/tree/master/optimal_sample_size" rel="noopener ugc nofollow" target="_blank"> Github </a>。</p></div></div>    
</body>
</html>