<html>
<head>
<title>Create Your Own DataFrame with Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用熊猫创建你自己的数据框架</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/create-your-own-dataframe-with-pandas-c20942d2ff91?source=collection_archive---------67-----------------------#2020-05-13">https://towardsdatascience.com/create-your-own-dataframe-with-pandas-c20942d2ff91?source=collection_archive---------67-----------------------#2020-05-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="339f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建样本数据框的简单方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d81e0766e7a2def3863be9520c767e0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*015GVhs_DPU3fhbzDms2Tg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/s/photos/pandas?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@chuttersnap?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> chuttersnap </a>拍摄</p></figure><p id="8cce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas 是一个非常强大的 Python 数据分析库，可以加速项目的预处理步骤。在这篇文章中，我将介绍用熊猫创建样本数据框的不同方法。</p><p id="6784" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">练习是学习任何学科的关键基础。在编码中更是如此。为了建立流畅的编码技能，练习起着关键的作用。因此，在学习和练习数据分析和操作的基础知识时，创建自己的样本数据框架可能比在网上搜索合适的数据框架更方便。Pandas 提供了许多方法来创建具有所需形状和特征的样本数据帧。</p><p id="798f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看看创建自己的数据框架的不同方法。一如既往，我们从进口熊猫开始。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="8197" class="ma mb it lw b gy mc md l me mf">import pandas as pd<br/>import numpy as np</span></pre><p id="5bb3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以创建一个字典并直接将其转换为数据帧:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="05d1" class="ma mb it lw b gy mc md l me mf">dict_a = {'col_a':[1,2,5,8],<br/>         'col_b':['John','Nancy','Adam','Julia'],<br/>         'col_c':[True,True,False,True]}</span><span id="9986" class="ma mb it lw b gy mg md l me mf">df_a = pd.DataFrame(dict_a)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/14d73288a382edd9a95d1b074cbe565d.png" data-original-src="https://miro.medium.com/v2/resize:fit:428/format:webp/1*vmlLhfASr10MqbjN75c0GA.png"/></div></div></figure><p id="c725" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们甚至不需要指定数据类型，因为 pandas 能够推断出它们:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/de8b6e206779bfaca0e8d8d91160565d.png" data-original-src="https://miro.medium.com/v2/resize:fit:374/format:webp/1*BK4bYNmWpVWmKG17Jt-hWg.png"/></div></figure><p id="e480" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">df_a 是一个相对较小的数据帧。对于某些任务，我们可能需要更大的数据框架，但是键入一个有许多条目的字典是乏味的。在这种情况下，我们可以使用 numpy 来创建样本数组。然后，这些数组可以用作字典中的值:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="2869" class="ma mb it lw b gy mc md l me mf">dict_b = {'col_a': np.random.randn(50), <br/>         'col_b': np.random.randint(10, size=50)}</span><span id="831b" class="ma mb it lw b gy mg md l me mf">df_b = pd.DataFrame(dict_b)</span><span id="6280" class="ma mb it lw b gy mg md l me mf">df_b.shape<br/>(50,2)</span></pre><p id="acaa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> np.random.randn(50) </strong>创建 50 个正态分布的值，<strong class="lb iu"> np.random.randint(10，size=50) </strong>创建 50 个介于 0 和 10 之间的整数值。正如我们所看到的，结果数据帧的大小是(50，2)。让我们看看前 5 行:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/27147a966c1ef824e34dc056e057f3f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:426/format:webp/1*YIYs6XMWtUPYx78jw4LOwA.png"/></div></figure><p id="4873" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以用 numpy 创建二维数组，并将这些数组直接转换成数据帧。要用 np.random.randint 创建二维数组，我们需要将一个元组传递给<strong class="lb iu"> size </strong>参数:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/69778209835a3df2aefa25dd5dae996d.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*GErededn3NwuJBuuiE34bA.png"/></div></div></figure><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7a3c" class="ma mb it lw b gy mc md l me mf">df_c = pd.DataFrame(np.random.randint(10, size=(6,4)))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/009a18d56bddeb0a5bba4c0955c9f2ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:368/format:webp/1*50drqWuaJjf23JkpMGVrCQ.png"/></div></figure><p id="0f71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas 分配整数列名，但是我们可以使用<strong class="lb iu">列</strong>参数来改变它:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="af78" class="ma mb it lw b gy mc md l me mf">df_d = pd.DataFrame(np.random.randint(10, size=(6,4)), <br/>columns=['a','b','c','d'])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/6d39ea8ac5028490486132a0168772ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:308/format:webp/1*6yDEgai3icPckYJxPtzqkQ.png"/></div></figure><p id="6c28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以改变索引值。这次让我们使用 np.random.randn 创建一个二维数组:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/07e3481d3cee7357b4f3d95a3105b994.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*mkVtBEuMG4B6B3Rjq2xjgg.png"/></div></figure><p id="1f3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们将使用 pandas 的<strong class="lb iu"> date_range </strong>函数定义一个时间序列索引。然后将该索引传递给<strong class="lb iu">索引</strong>参数:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="1399" class="ma mb it lw b gy mc md l me mf">index = pd.date_range('2020-01-01','2020-01-05')</span><span id="af38" class="ma mb it lw b gy mg md l me mf">df_e = pd.DataFrame(np.random.randn(5,4),<br/>                    columns=['a','b','c','d'],<br/>                    index=index)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/918ec515624febb9120e1081f36bdd68.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*770yKBGCrq5UbSAzIqoxWQ.png"/></div></figure><p id="b05d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以使用 dtype 参数指定数据类型。回想一下我们创建的第一个数据帧。熊猫从值中推断出数据类型。让我们用指定的数据类型创建相同的数据帧:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="a131" class="ma mb it lw b gy mc md l me mf">dict_a = {'col_a':[1,2,5,8],<br/>         'col_b':['John','Nancy','Adam','Julia'],<br/>         'col_c':[True,True,False,True]}</span><span id="0172" class="ma mb it lw b gy mg md l me mf">df_a = pd.DataFrame(dict_a, dtype='category')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/885efa6f864ec490b3a0e1735b07dd06.png" data-original-src="https://miro.medium.com/v2/resize:fit:420/format:webp/1*ljGnc_A2uyLVdg8yZ08SYw.png"/></div></div></figure><p id="1ee0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据帧看起来相同，但数据类型不同:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/998d39d788118ea8eb254bba8449f816.png" data-original-src="https://miro.medium.com/v2/resize:fit:392/format:webp/1*HziQLrIi_eqTchgqSaCc2g.png"/></div></figure><p id="4fd5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以使用多个字典来创建一个数据框架。我们创建一个字典列表，并将其输入到 pd。数据帧函数。字典的值将按照它们在列表中的顺序插入数据帧:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="c200" class="ma mb it lw b gy mc md l me mf">dict_a = {'col_a':[1,2,5,8],<br/>         'col_b':['John','Nancy','Adam','Julia'],<br/>         'col_c':[True,True,False,True]}</span><span id="3ee1" class="ma mb it lw b gy mg md l me mf">dict_b = {'col_a':[1,7,9,18],<br/>         'col_b':['a','d','c','t'],<br/>         'col_c':[True,False,False,True]}</span><span id="9c9d" class="ma mb it lw b gy mg md l me mf">list_g = [dict_a, dict_b]</span><span id="86aa" class="ma mb it lw b gy mg md l me mf">df_g = pd.DataFrame(list_g)</span></pre><p id="6258" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，通过这种方式，字典的值将被合并并放入数据帧的一个单元格中:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/e6323ae8a94d9f776a47e6662248a5be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*HMejceQOP37rom-Wc4PCUQ.png"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="aedb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">熊猫的一大优点是通常有多种方法来完成一项任务。所以，千万不要把自己局限在一种方式上，去寻找不同的方式和解决方法。用这种观点处理简单的任务是很重要的，因为这也有助于解决复杂的问题。</p><p id="88b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>