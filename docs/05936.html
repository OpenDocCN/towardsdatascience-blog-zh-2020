<html>
<head>
<title>5 Things to Know About Python functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于Python函数要知道的5件事</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-things-to-know-about-python-functions-52565919d748?source=collection_archive---------29-----------------------#2020-05-15">https://towardsdatascience.com/5-things-to-know-about-python-functions-52565919d748?source=collection_archive---------29-----------------------#2020-05-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4472" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">是时候编写结构良好的程序了</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/108ef688563c341973eb2394796610b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Tldi7spqlFg9rY6x"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@davidclode?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> David Clode </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="6fb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">函数是重用程序代码的有效方法。使用函数的好处是节省空间，我们选择的名字使我们的程序易于阅读。函数可以在没有输入的情况下定义，并且不一定需要产生输出。</p><p id="25aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">python中有许多内置函数<a class="ae ky" href="https://docs.python.org/3/library/functions.html\" rel="noopener ugc nofollow" target="_blank">但是我们可以创建自己的函数。</a></p><p id="c463" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在python中，函数是使用<code class="fe lv lw lx ly b">def</code>关键字定义的。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="316b" class="md me it ly b gy mf mg l mh mi">&gt;&gt;&gt; def myfunc():<br/>      print("Python functions are easy to learn.")</span><span id="d277" class="md me it ly b gy mj mg l mh mi">&gt;&gt;&gt; myfunc() #calling function<br/>'Python functions are easy to learn.'</span></pre><p id="40a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">函数主要帮助你构建你的程序。最好将长程序分解成函数，每个函数都有自己的用途，使其结构透明，如下所示:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="7188" class="md me it ly b gy mf mg l mh mi">data = extract_data(source)<br/>results = analyze(data)<br/>present(results)</span></pre><p id="fff7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">恰当地使用函数使程序更具可读性和可维护性。此外，在不关心程序其余部分的情况下，对一个函数进行修改更容易。</p><p id="5778" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将讨论五个主题，我认为这些主题对于了解函数非常重要。这些主题将帮助您更好地理解函数。</p><h1 id="9a2d" class="mk me it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">1.变量作用域</h1><p id="b0c8" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">函数定义为变量创建新的局部范围。当一个新变量在函数体内赋值时，它只在函数内部定义。变量在函数外部不可见。所以我们在定义变量的时候可以选择任何名字，而不用关心函数之外的变量。</p><p id="7f91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="1e32" class="md me it ly b gy mf mg l mh mi">&gt;&gt;&gt; x = 10<br/>&gt;&gt;&gt; def myfunc():<br/>        x = 5</span></pre><p id="e7a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的函数中，变量<code class="fe lv lw lx ly b">x</code>在函数外赋给<code class="fe lv lw lx ly b">10</code>，在函数内赋给<code class="fe lv lw lx ly b">5</code>。现在，当我们在函数外打印x时:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="54c2" class="md me it ly b gy mf mg l mh mi">&gt;&gt;&gt; x<br/>10</span></pre><p id="424b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">变量x在函数外不会改变，因为函数内定义的<code class="fe lv lw lx ly b">x</code>的范围仅限于函数本身。</p><h1 id="30f3" class="mk me it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">2.参数类型</h1><p id="81ef" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">自变量也称为参数，用于将信息传递给函数。有两种类型的论点:</p><ul class=""><li id="0c00" class="ng nh it lb b lc ld lf lg li ni lm nj lq nk lu nl nm nn no bi translated"><strong class="lb iu"> <em class="np">关键字参数:</em> </strong>在函数调用中以标识符(<code class="fe lv lw lx ly b">key1 = value1</code>)开头的参数，或者在以<code class="fe lv lw lx ly b">**</code>开头的字典中作为值传递的参数。</li></ul><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="5116" class="md me it ly b gy mf mg l mh mi">ratio(numerator=10, denominator=4)<br/>ratio(**{'numerator':10,'denominator':4})</span></pre><ul class=""><li id="f3aa" class="ng nh it lb b lc ld lf lg li ni lm nj lq nk lu nl nm nn no bi translated"><strong class="lb iu"> <em class="np">位置论点:</em> </strong>不是关键字论点的论点。该值被直接传递到一个函数中，该函数的位置表示函数中的一个变量。它也可以作为前面带<code class="fe lv lw lx ly b">*</code>的iterable的元素来传递。</li></ul><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="e3a9" class="md me it ly b gy mf mg l mh mi">ratio(10,4)<br/>ratio(*(10,4))</span></pre><h1 id="366f" class="mk me it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">3.作为参数的函数</h1><p id="1a54" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">有趣的是，我们也可以将函数作为参数传递。例如，我们可以将内置函数<code class="fe lv lw lx ly b">len()</code>或用户定义的函数<code class="fe lv lw lx ly b">vowel_present()</code>作为参数传递给另一个函数:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="903e" class="md me it ly b gy mf mg l mh mi">&gt;&gt;&gt; sent = ['Python', 'functions', 'are', 'amazing']<br/>&gt;&gt;&gt; def execute_func(prop):<br/>        return [prop(word) for word in sent]<br/><br/>&gt;&gt;&gt; execute_func(len)<br/>[6, 9, 3, 7]<br/>&gt;&gt;&gt; def vowel_present(word):<br/>...     for x in word:<br/>            if x in 'aeiou':<br/>                return True<br/>        return False</span><span id="190f" class="md me it ly b gy mj mg l mh mi">&gt;&gt;&gt; execute_func(vowel_present)<br/>[True, True, True, True]</span></pre><h1 id="b49c" class="mk me it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">4.参数类型检查</h1><p id="e8d5" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">Python函数不要求我们指定输入参数的类型。所以在执行函数之前，有必要检查输入变量的类型。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="d99d" class="md me it ly b gy mf mg l mh mi">def is_vowel(char): #Returns True if char is vowel, False otherwise.<br/>    if char in 'aeiou':<br/>        return True<br/>    else:<br/>        return False</span><span id="aba8" class="md me it ly b gy mj mg l mh mi">&gt;&gt;&gt; is_vowel(5)<br/>False</span></pre><p id="9b66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，在上面的函数中，没有指定<code class="fe lv lw lx ly b">number</code>的数据类型，但是我们希望变量的类型为长度为1的<code class="fe lv lw lx ly b">str</code>。然而，如果我们传递一个整数变量，函数就会执行并返回<code class="fe lv lw lx ly b">False</code>。</p><p id="84ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了避免执行并引发错误，我们可以像这样使用<code class="fe lv lw lx ly b">assert</code>函数。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="c7ff" class="md me it ly b gy mf mg l mh mi">def is_vowel(char):<br/>    assert(isinstance(char, str)) #raises error if not satisfied<br/>    assert(len(char)==1) #raises error if string not of length 1<br/>    if char in 'aeiou':<br/>        return True<br/>    else:<br/>        return False</span></pre><p id="940b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果<code class="fe lv lw lx ly b">assert</code>语句失败，它会产生一个错误，函数会暂停执行。</p><h1 id="e691" class="mk me it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">5.记录功能</h1><p id="0366" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">很好的做法是记录描述其用途的函数，并在函数定义的顶部使用docstring提供它，如下所示:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="0175" class="md me it ly b gy mf mg l mh mi">def is_vowel(char):<br/>    '''Takes a string input of length one and returns True if vowel, False otherwise'''</span><span id="d285" class="md me it ly b gy mj mg l mh mi">    assert(isinstance(char, str))<br/>    assert(len(char)==1) <br/>    if char in 'aeiou':<br/>        return True<br/>    else:<br/>        return False</span></pre><p id="0746" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行<code class="fe lv lw lx ly b">help</code>函数可以找到任何函数的Docstrings。也可以使用属性<code class="fe lv lw lx ly b">__doc__</code>来检索它。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="f3f7" class="md me it ly b gy mf mg l mh mi">&gt;&gt;&gt; help(is_vowel)<br/>Help on function is_vowel in module __main__:</span><span id="9510" class="md me it ly b gy mj mg l mh mi">is_vowel(char)<br/>    Takes a string input of length one and returns True if vowel, False otherwise</span><span id="9d07" class="md me it ly b gy mj mg l mh mi">&gt;&gt;&gt; is_vowel.__doc__<br/>'Takes a string input of length one and returns True if vowel, False otherwise'</span></pre><p id="dd70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尝试运行<code class="fe lv lw lx ly b">help(sklearn)</code>来获取sklearn库的docstring。</p></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><p id="d965" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们主要讨论了函数的应用以及它们如何帮助构建结构良好的程序。在下一篇文章中，我们将讨论python模块以及它们如何帮助高效编程。</p></div></div>    
</body>
</html>