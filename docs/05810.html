<html>
<head>
<title>Analysis, Price Modeling and Prediction: AirBnB Data for Seattle, 2016–17</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分析、价格建模和预测:西雅图AirBnB数据，2016–17</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/analysis-price-modeling-and-prediction-airbnb-data-for-seattle-2016-17-152791cbae0a?source=collection_archive---------57-----------------------#2020-05-13">https://towardsdatascience.com/analysis-price-modeling-and-prediction-airbnb-data-for-seattle-2016-17-152791cbae0a?source=collection_archive---------57-----------------------#2020-05-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="f41c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本文为技术和非技术受众详细概述了<strong class="js iu"> <em class="ko"> AirBnB的西雅图数据分析</em> </strong>。<strong class="js iu"> <em class="ko"> </em> </strong>分析完成后<strong class="js iu"> <em class="ko"> </em> </strong>使用<strong class="js iu"> <em class="ko"> CRISP-DM </em> </strong>流程、<em class="ko">数据工程</em> &amp; <em class="ko">机器学习技术。</em></p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/d0d0699b70ffcb6cebca84d727f6b269.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DhaMxMCqz0eHkVOEpP6Bdw.jpeg"/></div></div><p class="lb lc gj gh gi ld le bd b be z dk translated">图片来自<a class="ae lf" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4234071" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>埃里克·帕拉西奥</p></figure><h1 id="0ded" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">商业理解</h1><p id="ebc0" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">对于<em class="ko">西雅图</em>的所有AirBnB用户和主机，我将从以下几个方面分析和回答<em class="ko">商业相关问题</em>:</p><ul class=""><li id="d4a4" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><em class="ko">价格分析</em></li><li id="6f36" class="mj mk it js b jt ms jx mt kb mu kf mv kj mw kn mo mp mq mr bi translated"><em class="ko">清单计数分析</em></li><li id="8392" class="mj mk it js b jt ms jx mt kb mu kf mv kj mw kn mo mp mq mr bi translated"><em class="ko">最忙时间分析</em></li><li id="28af" class="mj mk it js b jt ms jx mt kb mu kf mv kj mw kn mo mp mq mr bi translated"><em class="ko">入住率和点评分析</em></li><li id="aa5d" class="mj mk it js b jt ms jx mt kb mu kf mv kj mw kn mo mp mq mr bi translated"><em class="ko">价格预测建模</em></li></ul><p id="448c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面是问题和答案。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="56ab" class="lg lh it bd li lj ne ll lm ln nf lp lq lr ng lt lu lv nh lx ly lz ni mb mc md bi translated">数据理解</h1><p id="686b" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">这里我将对<em class="ko"> Kaggle </em>上Airbnb  内<a class="ae lf" href="http://insideairbnb.com/" rel="noopener ugc nofollow" target="_blank"> <em class="ko">提供的数据进行<em class="ko">探索性数据分析</em>，你可以在这里 </em></a> <strong class="js iu"> </strong> ( <em class="ko"> zip文件</em>)，zip文件包含3个csv文件:<em class="ko"> listing.csv </em>、<em class="ko"> calendar.csv </em>和<em class="ko"/></p><h2 id="8570" class="nj lh it bd li nk nl dn lm nm nn dp lq kb no np lu kf nq nr ly kj ns nt mc nu bi translated">listing.csv概述</h2><p id="7efa" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">使用<a class="ae lf" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> <em class="ko">熊猫</em> </a>读取csv文件，如下所示:</p><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="26f4" class="nj lh it nw b gy oa ob l oc od">#read listing.csv, and its shape<br/>listing_seattle = pd.read_csv(‘listings_seattle.csv’)<br/>print(‘Shape of listing csv is’,listing_seattle.shape)<br/>listing_seattle.sample(5)    #display 5 rows at random</span></pre><h2 id="68ff" class="nj lh it bd li nk nl dn lm nm nn dp lq kb no np lu kf nq nr ly kj ns nt mc nu bi translated">基本检查和高级数据分析</h2><p id="8ced" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">查看数据并进行一些健全性检查，如每列缺失值的百分比，listing _ ids在整个数据集中是唯一的吗？，查看汇总的数值列等。</p><ul class=""><li id="c9fe" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu"> <em class="ko">每列缺失值的百分比</em> </strong></li></ul><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi oe"><img src="../Images/97facaf98f26c1e3098d0706ad87e533.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Av1Yxz1gqQGUWBmNIcHUiQ.png"/></div></div><p class="lb lc gj gh gi ld le bd b be z dk translated"><strong class="bd of">每列缺失值的百分比</strong></p></figure><blockquote class="og oh oi"><p id="76ee" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">从上面的条形图中，我们得到了丢失值最少的重要列。像<strong class="js iu"> <em class="it">牌</em> </strong>和<strong class="js iu"> <em class="it">方</em> </strong> <strong class="js iu"> <em class="it">脚</em> </strong>这样的列有超过95%的数据缺失，因此我们将<em class="it">删除</em>这些列。</p></blockquote><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="c2e5" class="nj lh it nw b gy oa ob l oc od"><strong class="nw iu"><em class="ko">Are the ids unique for each row?<br/></em></strong>len(listing_seattle['id'].unique()) == len(listing_seattle)</span><span id="e357" class="nj lh it nw b gy om ob l oc od"><strong class="nw iu"><em class="ko">Description of all numeric features</em></strong><br/>listing_seattle.describe()</span></pre><p id="619e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Github查看数字列摘要的依据</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="on oo l"/></div></figure><blockquote class="og oh oi"><p id="f71d" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">上面的csv文件中显示了所有数字列的摘要。使用<code class="fe op oq or nw b"><em class="it">df.describe()</em></code>计算重要的数值参数，如计数、平均值、标准差、方差、最大值和分位数范围</p></blockquote><h2 id="4600" class="nj lh it bd li nk nl dn lm nm nn dp lq kb no np lu kf nq nr ly kj ns nt mc nu bi translated">calendar.csv概述</h2><p id="2736" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">使用<code class="fe op oq or nw b">pd.read_csv('calendar.csv')</code>读取“<em class="ko"> calendar.csv </em>”并使用<code class="fe op oq or nw b">df.head(5)</code>显示csv概览。这将显示数据框中的前5行。</p><h2 id="4cf0" class="nj lh it bd li nk nl dn lm nm nn dp lq kb no np lu kf nq nr ly kj ns nt mc nu bi translated">calendar.csv数据的高级分析</h2><p id="00ef" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">让我们看看每列的类型和数据中缺失值的数量:</p><p id="d2e8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通过<code class="fe op oq or nw b">df.dtypes</code>得到每一列的类型，见下面的实现</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi os"><img src="../Images/6d3e9fe2c03f94a36a83210850345ced.png" data-original-src="https://miro.medium.com/v2/resize:fit:470/format:webp/1*ekHfZm_hO5qTDoxYIvzoIA.png"/></div><p class="lb lc gj gh gi ld le bd b be z dk translated">每列的数据类型</p></figure><p id="e000" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">每列中缺失值的百分比:</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/df71bd4c738a724587ed46a10d3410ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*fhVVoCcpeNTcuTC0Kr_OGw.png"/></div><p class="lb lc gj gh gi ld le bd b be z dk translated"><strong class="bd of">每列缺失值的百分比</strong></p></figure><blockquote class="og oh oi"><p id="7725" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">因此，在价格一栏中只有33%的男性。这也表明，在全年所有365天的列表中，平均只有33%的列表被占用</p></blockquote><p id="ce33" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">检查两个数据集中的列表数量是否相同:</p><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="e570" class="nj lh it nw b gy oa ob l oc od">len(listing_seattle) == len(calendar_seattle)//365 <br/>&gt;&gt; True</span></pre><p id="55ef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，我们在两个数据帧中都有相同数量的列表 (属性),并且calendar.csv对于每个列表都有<em class="ko"> 365个条目。现在我们可以通过</em><strong class="js iu"><em class="ko">listing _ id</em></strong>来<strong class="js iu"> <em class="ko">合并两个数据集，以获得一个数据帧用于进一步分析。合并代码:<code class="fe op oq or nw b">df = pd.merge(calendar_seattle, listing_seattle, on=’listing_id’)</code></em></strong></p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="3541" class="lg lh it bd li lj ne ll lm ln nf lp lq lr ng lt lu lv nh lx ly lz ni mb mc md bi translated">数据准备</h1><p id="a161" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">理解数据后，需要对其进行整理，以便为建模做好准备。我已经选择了一些商业话题来玩，回答相关的现实问题是下一个任务。为此，<em class="ko">清理与所选任务相关的数据</em>非常重要。以下各列是额外的负担(<em class="ko">与分析</em>无关)，因此<strong class="js iu"> <em class="ko">删除</em> </strong>它们:</p><p id="2b15" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用<code class="fe op oq or nw b">df = df.drop(columns = columns_to_drop)</code>删除所有此类列。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ou"><img src="../Images/61d7a59a6eb4711a8331d6f64051c680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wKIOik48kN1BDN-VcmmXZQ.png"/></div></div><p class="lb lc gj gh gi ld le bd b be z dk translated">要永久删除的列的列表</p></figure><p id="2301" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">执行下面给出的数据清理步骤(操作在注释中提到):</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="4787" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在数据已经准备好，可以进行分析了。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="a73c" class="lg lh it bd li lj ne ll lm ln nf lp lq lr ng lt lu lv nh lx ly lz ni mb mc md bi translated">对最终数据集的洞察和分析</h1><p id="5728" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">从这里我回答了一些商业问题。</p><ul class=""><li id="d7c7" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu"> <em class="ko">什么是</em></strong><code class="fe op oq or nw b"><strong class="js iu"><em class="ko">minimum</em></strong></code><strong class="js iu"><em class="ko"/></strong><code class="fe op oq or nw b"><strong class="js iu"><em class="ko">maximum</em></strong></code><strong class="js iu"><em class="ko"/></strong><code class="fe op oq or nw b"><strong class="js iu"><em class="ko">average price</em></strong></code><strong class="js iu"><em class="ko">的清单(楼盘)跨市？</em> </strong></li></ul><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="c99b" class="nj lh it nw b gy oa ob l oc od">#find minimum, maximum and average price for listing<br/>min_price = df['price'].min()<br/>&gt;&gt; $10.00<br/>max_price = df['price'].max()<br/>&gt;&gt; $1650.0<br/>mean_price = df['price'].mean()<br/>&gt;&gt; $137.94</span></pre><ul class=""><li id="9a60" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu"> <em class="ko">数据集中给定的每个清单的</em> </strong> <code class="fe op oq or nw b"><strong class="js iu"><em class="ko">average price</em></strong></code> <strong class="js iu"> <em class="ko">是什么？</em> </strong></li></ul><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="b238" class="nj lh it nw b gy oa ob l oc od">#get the average price for each listing<br/>mean_price_for_listing = df.groupby('listing_id').mean()['price']<br/>plt.hist(mean_price_for_listing, bins=20)</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ov"><img src="../Images/b8a704cca73e5e15f4c413fe104d0a16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zULPPkkMqQLCt-TKmuwSig.png"/></div></div></figure><blockquote class="og oh oi"><p id="53a3" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">从上面的直方图我们可以断定，<code class="fe op oq or nw b"><em class="it">majority of listings are concentrated around </em><strong class="js iu"><em class="it">$50-$150</em></strong></code></p></blockquote><ul class=""><li id="f4a0" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu"> <em class="ko">平均每个房源发布的点评数是多少？</em> </strong></li></ul><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="2488" class="nj lh it nw b gy oa ob l oc od">#get the average number of reviews per listing<br/>avg_num_reviews = df.groupby('listing_id').mean()['number_of_reviews']<br/>plt.hist(mean_price_for_listing, bins=30)</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ow"><img src="../Images/3ac09eb8370d97c699a56028b5e5b850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XnWg-9OSHbojBbos9lQQLg.png"/></div></div></figure><blockquote class="og oh oi"><p id="2ce6" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">大部分房源都是<code class="fe op oq or nw b"><strong class="js iu"><em class="it">concentrated around 10-180 reviews</em></strong></code></p></blockquote><ul class=""><li id="7164" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu"> <em class="ko">登记了多少房源</em> </strong> <code class="fe op oq or nw b"><strong class="js iu"><em class="ko">per month</em></strong></code> <strong class="js iu"> <em class="ko">？</em>T46】</strong></li></ul><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="282a" class="nj lh it nw b gy oa ob l oc od">#get number of registered listings, irrespective of available or unavailable for each month<br/>grouped_month = df.groupby(['month'])<br/>num__listing_per_month = [len(grouped_month.get_group(i)['listing_id']) for i in range(1,13)]</span><span id="d1b8" class="nj lh it nw b gy om ob l oc od">plt.bar(np.arange(1,13,step=1), num__listing_per_month)</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ox"><img src="../Images/b3237a5617cfea7019c31381193f6035.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DzOnEJ4cJSD-sv2oDSeR-A.png"/></div></div><p class="lb lc gj gh gi ld le bd b be z dk translated">每月列表数量的条形图表示</p></figure><blockquote class="og oh oi"><p id="e06a" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">可以看到每月注册的列表数量的趋势。可以看出，上市数量在<em class="it">二月、三月、四月、八月和十一月</em>较低，因为这几个月见<code class="fe op oq or nw b"><em class="it">surge in number of visitors</em></code>。</p></blockquote><ul class=""><li id="75d7" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu"><em class="ko"/></strong><code class="fe op oq or nw b"><strong class="js iu"><em class="ko">available</em></strong></code><strong class="js iu"><em class="ko"/></strong><code class="fe op oq or nw b"><strong class="js iu"><em class="ko">not available</em></strong></code><strong class="js iu"><em class="ko">每个月有多少个清单？</em> </strong></li></ul><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="a11c" class="nj lh it nw b gy oa ob l oc od">#get number of available and not available listings per month <br/>num_listing_per_month = df.groupby(['month','available'])['listing_id'].unique()</span><span id="3a8c" class="nj lh it nw b gy om ob l oc od">plt.plot(num_listings_available_per_month)</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/18d9d4c1babbb7e8d640b126bff441b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*DLhMxV8esFuqTGCMvTv5QQ.png"/></div></figure><blockquote class="og oh oi"><p id="8237" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">这说明夏季可用房源数量<strong class="js iu">最少，也就是说<strong class="js iu">夏季是最忙的时候</strong>大部分房源都被占了！</strong></p></blockquote><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="acd3" class="nj lh it nw b gy oa ob l oc od">plt.plot(num_listings_not_available_per_month)</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/5523ff57945c49ce2f6d9ed9a66a3851.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*ee1c8tzY_O8nvFHRJb2ctQ.png"/></div></figure><ul class=""><li id="39cb" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu"> <em class="ko">什么是每月</em> </strong> <code class="fe op oq or nw b"><strong class="js iu"><em class="ko">average price</em></strong></code> <strong class="js iu"> <em class="ko">？</em>T72】</strong></li></ul><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="1444" class="nj lh it nw b gy oa ob l oc od">#find average price per month<br/>average_price_by_month = df.groupby(['month'])['price'].mean()<br/>plt.plot(average_price_by_month)</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/3672b2901b515a87b22e2e10cb11ba41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*-QD1oO73gXOxhCtRayFMyA.png"/></div></figure><blockquote class="og oh oi"><p id="8043" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">挂牌价格<strong class="js iu">在夏季和冬季(12月)</strong>明显上涨，可能是因为可供预订的<strong class="js iu"><em class="it"/></strong>房源较少。因此<code class="fe op oq or nw b"><strong class="js iu"><em class="it">summer and winter holidays</em></strong></code>是参观西雅图的<code class="fe op oq or nw b"><strong class="js iu"><em class="it">busiest times</em></strong></code>。</p></blockquote><ul class=""><li id="9340" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu"> <em class="ko">价格视</em> </strong> <code class="fe op oq or nw b"><strong class="js iu"><em class="ko">Neighbourhood</em></strong></code></li></ul><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi pb"><img src="../Images/d7aec8c5fd66daf00f7af5acd1c450b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ggaSHeYI_1sc2gmR4Z12QQ.png"/></div></div><p class="lb lc gj gh gi ld le bd b be z dk translated">基于邻域的价格变化趋势</p></figure><blockquote class="og oh oi"><p id="b741" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">可以看出，<strong class="js iu"> <em class="it">的价格因地点</em> </strong>(街区)而异。<strong class="js iu">最高均价</strong>在<code class="fe op oq or nw b"><strong class="js iu"><em class="it">Downtown</em></strong></code>处。但是对于每个社区来说，价格在夏天都会上涨，就像我们之前看到的一样。</p></blockquote><ul class=""><li id="e893" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu"> <em class="ko">每种可容纳类型有多少个列表？</em>T29】</strong></li></ul><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="54fd" class="nj lh it nw b gy oa ob l oc od">#get total number of listings for each accommodates type(number of accommodations)<br/>num_listing_accommodates = [len(df.groupby(['accommodates']).get_group(i)['listing_id']) for i in sorted(df['accommodates'].unique())]</span><span id="51ff" class="nj lh it nw b gy om ob l oc od">plt.bar(sorted(df['accommodates'].unique()), num_listing_accommodates)</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi pc"><img src="../Images/886d6061911bee63983ba7dc4159fafe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Az12zuMdAa2gyhJfWJQYtg.png"/></div></div></figure><blockquote class="og oh oi"><p id="a7ae" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">可以看到， <code class="fe op oq or nw b"><strong class="js iu"><em class="it">2 occommodates</em></strong></code>有<strong class="js iu">个最大列表数。</strong></p></blockquote><ul class=""><li id="0d26" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu"> <em class="ko">每种型号</em> </strong>的平均价格是多少？</li></ul><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="f6c0" class="nj lh it nw b gy oa ob l oc od">grouped_accommodate_mean_price = df.groupby(['accommodates'])['price'].mean()<br/>average_price_per_accommodate = [grouped_accommodate_mean_price[i] for i in sorted(df['accommodates'].unique())]</span><span id="d952" class="nj lh it nw b gy om ob l oc od">plt.bar(sorted(df['accommodates'].unique()), average_price_per_accommodate)</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi pd"><img src="../Images/1e38f5b37f5035068ae39ec83a84b823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EqlSSVWDs2DK7G9ojCfxOw.png"/></div></div><p class="lb lc gj gh gi ld le bd b be z dk translated">每种住宿类型的平均价格</p></figure><blockquote class="og oh oi"><p id="6e05" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">可以看出，随着<strong class="js iu"> <em class="it">数量的增加</em> </strong>价格也随之提高。这是相当明显的，越多的数量容纳的财产的价格应该更大。这也暗示了<strong class="js iu"><em class="it"/></strong>预测价格的<code class="fe op oq or nw b"><strong class="js iu"><em class="it">great influential feature</em></strong></code>。</p></blockquote><ul class=""><li id="f8e0" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu"> <em class="ko">什么是全年的</em> </strong> <code class="fe op oq or nw b"><strong class="js iu"><em class="ko">occupancy rate over the time</em></strong></code> <strong class="js iu"> <em class="ko">？</em>T51】</strong></li></ul><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="60ab" class="nj lh it nw b gy oa ob l oc od">plt.plot_date(calendar_seattle['date'].unique(), occupancy_rate, linestyle='solid', marker='None')</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/0a50f8ab4ffd329d89f56953bcb35753.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*tsbXu0YWsEsE69f__Usx-w.png"/></div></figure><blockquote class="og oh oi"><p id="bce9" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">可以观察到<strong class="js iu"><em class="it"/></strong>占用率<strong class="js iu"> <em class="it">高</em></strong><code class="fe op oq or nw b"><strong class="js iu"><em class="it">summer and winter</em></strong></code>(过年期间)。这再次证明了夏天和冬天是<code class="fe op oq or nw b"><strong class="js iu"><em class="it">vacations in seattle</em></strong></code>的<code class="fe op oq or nw b"><strong class="js iu"><em class="it">busiest times</em></strong></code>。</p></blockquote><ul class=""><li id="b14b" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu"><em class="ko"/></strong><code class="fe op oq or nw b"><strong class="js iu"><em class="ko">reviews.csv</em></strong></code><strong class="js iu"><em class="ko">中随时间增加的评论数是多少？</em>T11】</strong></li></ul><p id="f719" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于此任务，让我们阅读<strong class="js iu"> reviews.csv </strong>并查看reviews数据。</p><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="d43c" class="nj lh it nw b gy oa ob l oc od">plt.bar(list(reviews_df['date'].unique()), num_reviews, color=np.random.rand(len(list(reviews_df['date'].unique())),3))</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi pf"><img src="../Images/bd1bdd0f45320a81f637db6152d6340d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4U3eX5i6mIsVHClQM2qGiQ.png"/></div></div></figure><blockquote class="og oh oi"><p id="c4cb" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">评论数从2013年开始<code class="fe op oq or nw b"><strong class="js iu"><em class="it">exponentially increased</em></strong></code>，2016年最高。</p></blockquote></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="966f" class="lg lh it bd li lj ne ll lm ln nf lp lq lr ng lt lu lv nh lx ly lz ni mb mc md bi translated">建模</h1><p id="a670" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">数据集是干净的。它准备应用ML模型进行价格预测。以价格列为因变量。使用一键编码将所有分类特征转换为虚拟变量。下面给出了根据这些数据拟合模型的步骤:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="d92d" class="nj lh it bd li nk nl dn lm nm nn dp lq kb no np lu kf nq nr ly kj ns nt mc nu bi translated">估价</h2><p id="02f4" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated"><em class="ko">均方误差</em>作为<em class="ko">误差分析</em>，以及<em class="ko"> R2平方</em>作为精度矩阵。</p><pre class="kq kr ks kt gt nv nw nx ny aw nz bi"><span id="100c" class="nj lh it nw b gy oa ob l oc od">Random Forest MSE on <strong class="nw iu">train</strong> data: <strong class="nw iu">186.944</strong>, <strong class="nw iu">test</strong>: <strong class="nw iu">211.258</strong><br/>Random Forest R^2 score on <strong class="nw iu">train: 0.983</strong>, <strong class="nw iu">test: 0.981</strong></span></pre><ul class=""><li id="83a5" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu"> <em class="ko">获取特征重要性</em> </strong></li></ul><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/295c3491a1230a488614aaea6076fce4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*Olyuz_b5srDzUFS2_wkqsg.png"/></div></figure><blockquote class="og oh oi"><p id="469c" class="jq jr ko js b jt ju jv jw jx jy jz ka oj kc kd ke ok kg kh ki ol kk kl km kn im bi translated">上面给出的条形图显示了对价格影响最大的<code class="fe op oq or nw b"><em class="it">top 15 features</em></code>。<code class="fe op oq or nw b"><strong class="js iu"><em class="it">Number of bedrooms</em></strong></code>是<strong class="js iu"> <em class="it">最重要的特征</em> </strong>用于预测价格！</p></blockquote></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="e7cf" class="lg lh it bd li lj ne ll lm ln nf lp lq lr ng lt lu lv nh lx ly lz ni mb mc md bi translated">结论</h1><p id="4c1e" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">这是一个很好的分析练习，最后得出结论</p><ul class=""><li id="9967" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated">所有的商业问题都用适当的数字来回答</li><li id="0280" class="mj mk it js b jt ms jx mt kb mu kf mv kj mw kn mo mp mq mr bi translated">此外，随机森林回归方程适用于数据，以获得价格，这是作为因变量。</li></ul></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><p id="1b3b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我的<a class="ae lf" href="https://github.com/s-nilesh" rel="noopener ugc nofollow" target="_blank"><strong class="js iu"><em class="ko">Github</em></strong></a><strong class="js iu"/>页面上，查看本文<a class="ae lf" href="https://github.com/s-nilesh/AirBnB-Data-Analysis" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">中使用的完整代码。</strong></a></p></div></div>    
</body>
</html>