<html>
<head>
<title>Building a Complete, Containerized Machine Learning Solution From Data Scraping to Result Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从数据抓取到结果分析，构建完整的容器化机器学习解决方案</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-build-a-museum-attribute-collection-and-attribute-analysis-system-82a6a9a840a?source=collection_archive---------61-----------------------#2020-04-21">https://towardsdatascience.com/how-to-build-a-museum-attribute-collection-and-attribute-analysis-system-82a6a9a840a?source=collection_archive---------61-----------------------#2020-04-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5a8f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这篇文章解释了如何一步一步地构建一个ML项目</h2></div><h1 id="681b" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">介绍</h1><p id="d40b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi lw translated">在这里，我将描述如何建立一个系统来从维基百科中检索数据，将它们存储在Postgres数据库中，最后执行线性回归算法来预测城市人口和游客涌入之间的相关性。</p><blockquote class="mf"><p id="dfb2" class="mg mh it bd mi mj mk ml mm mn mo lv dk translated">在我的工作面试过程中，我被要求建立一个系统，从维基百科收集数据，并将其存储在数据库中。最后，我被要求执行一个小的线性回归ML算法来检查数据之间的关系。我正在分享我的过程和想法，关于我如何为任何可能有兴趣做类似项目的人建立这个系统。该项目可以很容易地扩展或适用于任何其他领域。</p></blockquote><p id="0e82" class="pw-post-body-paragraph la lb it lc b ld mp ju lf lg mq jx li lj mr ll lm ln ms lp lq lr mt lt lu lv im bi translated">我为采访准备的演示文稿和代码可以在我的<a class="ae mu" href="https://github.com/ShiNik/wiki_ml" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="3cce" class="ki kj it bd kk kl nc kn ko kp nd kr ks jz ne ka ku kc nf kd kw kf ng kg ky kz bi translated"><strong class="ak">系统管道</strong></h1><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi nh"><img src="../Images/31d779f10372ae51f86ad7a40fc7e455.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hzst4LZ2Xg1oGRnM"/></div></div></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="ab09" class="ki kj it bd kk kl nc kn ko kp nd kr ks jz ne ka ku kc nf kd kw kf ng kg ky kz bi translated">Docker编写模块</h1><ul class=""><li id="2af5" class="nt nu it lc b ld le lg lh lj nv ln nw lr nx lv ny nz oa ob bi translated">提供一致的执行环境</li><li id="bc2b" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">启动系统的单一命令</li><li id="ecfd" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">包含多个容器</li><li id="78cd" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">在容器之间提供一个隔离的网络环境</li><li id="0dde" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">根据依赖关系按顺序管理启动容器的协调</li></ul><p id="0377" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">docker-compose环境包含4个容器:<a class="ae mu" href="https://hub.docker.com/_/postgres" rel="noopener ugc nofollow" target="_blank"> Postgres数据库</a>、<a class="ae mu" href="https://www.pgadmin.org/download/pgadmin-4-container/" rel="noopener ugc nofollow" target="_blank"> PgAdmin </a>、<a class="ae mu" href="https://hub.docker.com/_/python" rel="noopener ugc nofollow" target="_blank"> Python 3.7.6应用主机</a>和<a class="ae mu" href="https://hub.docker.com/u/jupyter/" rel="noopener ugc nofollow" target="_blank"> Jupyter笔记本</a></p><p id="b772" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">要查看最终的docker-compose文件，请参考我的<a class="ae mu" href="https://github.com/ShiNik/wiki_ml/blob/master/docker-compose.yml" rel="noopener ugc nofollow" target="_blank"> Github </a>。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="9f12" class="ki kj it bd kk kl nc kn ko kp nd kr ks jz ne ka ku kc nf kd kw kf ng kg ky kz bi translated">数据提取器模块</h1><p id="eac3" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">数据提取是从万维网上自动挖掘数据或收集信息的过程。</p><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi om"><img src="../Images/7a34911bfbfee2e587de55b8c3eb368d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XYDVtw9FDyIpPjsLF1BbcQ.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">数据提取器模块-类图</p></figure><p id="1e23" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">本项目中使用的两个数据来源是<a class="ae mu" href="http://www.worldcitiescultureforum.com/data/number-of-international-tourists-per-year" rel="noopener ugc nofollow" target="_blank">世界城市文化论坛wiki页面</a>和<a class="ae mu" href="https://en.wikipedia.org/wiki/List_of_most_visited_museums" rel="noopener ugc nofollow" target="_blank">参观最多的博物馆wiki页面</a>。</p><p id="b3da" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">结合使用<a class="ae mu" href="https://en.wikipedia.org/w/api.php?action=help&amp;modules=parse" rel="noopener ugc nofollow" target="_blank"> wiki-api </a>和Python <a class="ae mu" href="https://requests.readthedocs.io/en/master/" rel="noopener ugc nofollow" target="_blank">请求</a>库来访问维基百科页面和检索信息。请求库以wikitext的形式获取文本。需要对Wikitext进行解析，以便从中提取完整信息的含义。</p><p id="8040" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">有许多库可用于解析wikitext。在分析了几种之后，我决定使用<a class="ae mu" href="https://github.com/5j9/wikitextparser" rel="noopener ugc nofollow" target="_blank"> wikitextparser </a>。然而，并不是所有的文本在经过解析器后都会变得非常清晰。为了解决这个问题，我编写了一个<a class="ae mu" href="https://github.com/ShiNik/wiki_ml/blob/master/src/my_package/parser.py" rel="noopener ugc nofollow" target="_blank">后处理</a>模块，使用<a class="ae mu" href="https://en.wikipedia.org/wiki/Help:Table" rel="noopener ugc nofollow" target="_blank"> Wiki表规则</a>和<a class="ae mu" href="https://en.wikipedia.org/wiki/Regular_expression" rel="noopener ugc nofollow" target="_blank">正则表达式</a>在将文本存储到数据库之前对其进行更多的清理。</p><p id="d993" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">这些数据总共包括了33个城市和46个博物馆的信息。检索每个城市的以下特征:名称、人口、规模、报告年份、游客总数。对于每个博物馆，检索以下特征:名称、游客、类型、公共交通、位置、建立、建造、报告年份。</p><p id="9bd9" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">然而，一些维基页面有丢失的数据。下图显示了检索到的数据。缺失的数据用紫色标记。</p><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi or"><img src="../Images/f03f3034f9857ddb0195c860930512ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QgOmTKYzq-2HbCdXY1UHhg.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">检索到的数据和缺失的数据</p></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="c0ec" class="ki kj it bd kk kl nc kn ko kp nd kr ks jz ne ka ku kc nf kd kw kf ng kg ky kz bi translated">数据库模块</h1><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi os"><img src="../Images/c0b36ad2458f309c45302b65ed991d71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AJ2kF0sk9syPznd_zyvTFw.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">数据库模块-类图</p></figure><p id="99fe" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">我使用了<a class="ae mu" href="https://www.postgresql.org/" rel="noopener ugc nofollow" target="_blank"> postgres </a>开源数据库，它与<a class="ae mu" href="https://www.sqlalchemy.org/" rel="noopener ugc nofollow" target="_blank"> SQLAlchemy </a>一起支持这个项目。SQLAlchemy是一个Python SQL工具包，它为开发人员提供了SQLRelational Mapper的全部功能和灵活性。如果你需要了解更多关于AQLAlchemy的知识，请参考他们的教程<a class="ae mu" href="https://www.sqlalchemy.org/library.html#tutorials" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="1034" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">因为数据是为博物馆和城市提取的，所以这个项目只需要2个表。每个博物馆和城市都有一个唯一的id作为主键。城市id是博物馆表中的外键。</p><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi ot"><img src="../Images/82b88a8a89f530238bb6caa00b80443a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4bjdUhYDnPEp4xOib4RKbw.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">数据库表</p></figure><p id="1aa8" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">有关该项目的数据库的详细信息，请参考我的<a class="ae mu" href="https://github.com/ShiNik/wiki_ml/blob/master/src/my_package/database_manager.py" rel="noopener ugc nofollow" target="_blank"> Github </a>。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="92e4" class="ki kj it bd kk kl nc kn ko kp nd kr ks jz ne ka ku kc nf kd kw kf ng kg ky kz bi translated">记录器、配置和可视化模块</h1><p id="0138" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">记录器记录应用程序中发生的详细事件。日志有助于解决应用程序和基础设施性能问题。用户可以设置不同的日志记录级别。logger模型在内部使用python <a class="ae mu" href="https://docs.python.org/3/library/logging.html" rel="noopener ugc nofollow" target="_blank">日志</a>库。</p><p id="2996" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">该配置用于设置系统不同模块的参数，并避免使用任何硬编码设置。当前系统使用的一些配置包括主维基页面名称、数据库配置以及维基页面和数据库字段之间的翻译器。</p><p id="4bba" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">可视化工具是一个独立的模块。它的工作是为了可视化的目的生成不同的图。</p><p id="47bb" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">关于<a class="ae mu" href="https://github.com/ShiNik/wiki_ml/blob/master/src/my_package/log_manager.py" rel="noopener ugc nofollow" target="_blank">记录器</a>、<a class="ae mu" href="https://github.com/ShiNik/wiki_ml/blob/master/src/my_package/config.py" rel="noopener ugc nofollow" target="_blank">配置</a>和<a class="ae mu" href="https://github.com/ShiNik/wiki_ml/blob/master/src/my_package/visualizer.py" rel="noopener ugc nofollow" target="_blank">可视化器</a>的详细信息可以在我的Github中找到。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="3e15" class="ki kj it bd kk kl nc kn ko kp nd kr ks jz ne ka ku kc nf kd kw kf ng kg ky kz bi translated">机器学习模块</h1><p id="d92a" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">机器学习模块的目标是创建一个线性回归算法，以探索城市人口和游客涌入之间的相关性。该模块由以下几个阶段组成:</p><ul class=""><li id="4e4c" class="nt nu it lc b ld oh lg oi lj ou ln ov lr ow lv ny nz oa ob bi translated">数据清理</li><li id="2dbc" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">评估数据分布</li><li id="841b" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">线性回归</li><li id="05fb" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">相互关系</li><li id="225f" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">模型评估</li><li id="2b97" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">实验</li><li id="aa9a" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">结果分析</li></ul><p id="9ef7" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">关于<a class="ae mu" href="https://github.com/ShiNik/wiki_ml/blob/master/src/my_package/machine_learning_manager.py" rel="noopener ugc nofollow" target="_blank">机器学习模块</a>的详细信息可以在我的Github中找到。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h2 id="175e" class="ox kj it bd kk oy oz dn ko pa pb dp ks lj pc pd ku ln pe pf kw lr pg ph ky pi bi translated">数据清理</h2><p id="3506" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">为了获得更准确的预测结果，数据质量很重要。数据清理用于改善和提高数据质量。在本项目中，执行以下清理程序来清理和纠正数据，使其可用:</p><p id="7bd0" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">1-使用正则表达式从总体中删除不需要的字符，如逗号("，")</p><p id="3c98" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">2-使用正则表达式从年份中提取数字</p><p id="d376" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">3-将数字数据从字符串转换为数字</p><p id="d17f" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">4-删除丢失的数据</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h2 id="2a5d" class="ox kj it bd kk oy oz dn ko pa pb dp ks lj pc pd ku ln pe pf kw lr pg ph ky pi bi translated">评估数据分布</h2><p id="78c4" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">数据分布是更好地理解数据的一个很好的工具。有许多方法可以评估数据分布，如直方图、箱线图等。在这个项目中，数据的分布用直方图和概率图来表示。</p><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pj"><img src="../Images/715bcef486528a5058e2078d13d11ba8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ItmbQimNRbt8vTU_ZgQUBQ.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">博物馆游客数据分布</p></figure><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pk"><img src="../Images/304c4fcf890a74152c5b8bdc8d8ab31d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AjJfbQus5Z40Q8KXtK_tHA.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">城市人口数据分布</p></figure><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pl"><img src="../Images/4b615d87c8e7e6222fd1ae439be41dd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C9rlHk6gc6Z4UIN279LVNg.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">概率图博物馆游客</p></figure><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pm"><img src="../Images/6fa5ee652bbd47677c500084f69c62b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZtqcYJ2HRzVdn51Z_gdAKA.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">城市人口概率图</p></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h2 id="f724" class="ox kj it bd kk oy oz dn ko pa pb dp ks lj pc pd ku ln pe pf kw lr pg ph ky pi bi translated">线性回归</h2><p id="9e1e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">L <a class="ae mu" href="https://en.wikipedia.org/wiki/Linear_regression" rel="noopener ugc nofollow" target="_blank">线性回归</a>是一种<a class="ae mu" href="https://en.wikipedia.org/wiki/Linearity" rel="noopener ugc nofollow" target="_blank">线性</a>方法，用于模拟一个<a class="ae mu" href="https://en.wikipedia.org/wiki/Dependent_variable" rel="noopener ugc nofollow" target="_blank">因变量</a>和一个或多个<a class="ae mu" href="https://en.wikipedia.org/wiki/Independent_variable" rel="noopener ugc nofollow" target="_blank">自变量</a>之间的关系。下图说明了线性回归方程和图表。</p><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/8a718dce3535699bdabc79855c35d97d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/format:webp/1*13HHPoLGKeIkqRu5ZfnUtg.png"/></div><p class="on oo gj gh gi op oq bd b be z dk translated">线性回归公式</p></figure><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div class="gh gi po"><img src="../Images/0bb60a3e31378ce6802cb380d0442f56.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/0*Om02H0MOumt4C9TM"/></div><p class="on oo gj gh gi op oq bd b be z dk translated"><a class="ae mu" href="https://www.analyticbridge.datasciencecentral.com/profiles/blog/show?id=2004291:BlogPost:317210" rel="noopener ugc nofollow" target="_blank">线性回归</a></p></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h2 id="3406" class="ox kj it bd kk oy oz dn ko pa pb dp ks lj pc pd ku ln pe pf kw lr pg ph ky pi bi translated">相互关系</h2><p id="d7e9" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">当两组数据具有高相关值<strong class="lc iu">时，它们被强有力地链接在一起。</strong></p><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pp"><img src="../Images/04604d22ee1afb19c1054d6beebb9cd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lWgz2elJT_dohQyHds95WA.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated"><a class="ae mu" href="https://www.mathsisfun.com/data/correlation.html" rel="noopener ugc nofollow" target="_blank">相关性</a></p></figure><p id="6ca7" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">相关性可能有价值:</p><ul class=""><li id="77f7" class="nt nu it lc b ld oh lg oi lj ou ln ov lr ow lv ny nz oa ob bi translated">1是完美的正相关</li><li id="2c7b" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">0表示没有相关性(这些值看起来根本没有关联)</li><li id="082f" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">-1是完美的负相关</li><li id="7332" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">当值一起增加时，相关性为正，并且</li><li id="53a8" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">当一个值随着另一个值的增加而减少时，相关性为负</li></ul></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h2 id="3752" class="ox kj it bd kk oy oz dn ko pa pb dp ks lj pc pd ku ln pe pf kw lr pg ph ky pi bi translated">模型评估</h2><p id="ec7b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">模型评估是用于选择最佳模型的方法，而不考虑架构或参数。估计模型对样本外数据的推广程度的过程称为模型评估过程。</p><p id="e7c3" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">最常见的模型评估程序是训练/测试分割程序。这是一个非常快速和简单的程序，并提供了非常精确的样本外性能估计。最佳实践之一是将数据随机分为训练集和测试集。我使用Scikit包中的train_test_split函数进行数据拆分。我选择80%的数据用于训练，20%用于测试。</p><p id="6928" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">您总是需要一个评估指标来配合您选择的过程。度量标准的选择取决于您要解决的问题的类型。对于回归问题，平均绝对误差、均方误差和均方根误差通常用作评估指标。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h2 id="f286" class="ox kj it bd kk oy oz dn ko pa pb dp ks lj pc pd ku ln pe pf kw lr pg ph ky pi bi translated">实验</h2><p id="7095" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">因为我的数据的值的范围是变化的，所以我也执行了数据标准化。</p><blockquote class="mf"><p id="691e" class="mg mh it bd mi mj mk ml mm mn mo lv dk translated">当要素具有不同的范围以将数据的值更改为通用范围时，数据规范化是一种经常作为机器学习的数据准备的一部分而应用的技术。</p></blockquote><p id="a054" class="pw-post-body-paragraph la lb it lc b ld mp ju lf lg mq jx li lj mr ll lm ln ms lp lq lr mt lt lu lv im bi translated">为了验证因变量(博物馆游客)和自变量(城市人口/城市游客)之间的相关性，散点图生成如下:</p><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/b58a07c0fb46577f873c5fb35be2a8be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*54ZYNyA4i2vmmLVvcWMKqA.png"/></div><p class="on oo gj gh gi op oq bd b be z dk translated">城市人口与博物馆游客</p></figure><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/b88f1704e865bcdd93f627234e67c7b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*EM0vZru78AhBNs2elFEBVg.png"/></div><p class="on oo gj gh gi op oq bd b be z dk translated">城市游客与博物馆游客</p></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><p id="9576" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">下图显示了模型评估程序:</p><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pr"><img src="../Images/805df732cd579e9d0f94cac05b162966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-klL1rRxyRE_6T4NomwmVw.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">城市人口实际值与预测值对比结果</p></figure><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi ps"><img src="../Images/427c714b7fce9d38a63a40e3f6153680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4PlWAH1Q_VsW61WBq_dSTw.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">城市游客实际值与预测值对比结果</p></figure><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pt"><img src="../Images/902644489d3f29296f1d19c58aa71938.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z9nnWNRfVX5cuxYdspRyJA.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">预测数据与测试数据</p></figure><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pu"><img src="../Images/e098e507577da9c3222899b9b0d5d736.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XDnQm9YZK1FCV4kqFvVXZg.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">预测数据与测试数据</p></figure><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pv"><img src="../Images/135f2342c4ebce6985066e393e733a95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-k09xMsYH0Se-b9SvpqjxQ.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">城市人口残差图</p></figure><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pw"><img src="../Images/7406c7e1b07973ad87938aaf1aa234ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cXS4SgW2vDi8zcc7gwVmdw.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">城市游客残差图</p></figure><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi px"><img src="../Images/7d9bb58d8c6d300f533295e9f25b9a01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9aRPVEEURMYjPXNq7DZdoA.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">城市人口和城市游客误差评估</p></figure><p id="d4a9" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">C.p:城市人口</p><p id="00d2" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">C.v:城市游客</p><p id="aafc" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">博物馆参观者</p><p id="af5b" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">EV:解释的差异</p><p id="dfcd" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">PCC:皮尔逊相关系数</p><p id="4f49" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">MSLE:均方对数误差</p><p id="da4e" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">R2:决定系数(R)</p><p id="7b6c" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">平均绝对误差</p><p id="ca88" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">MSE:均方差</p><p id="5ebd" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">RMSE:均方根误差</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><p id="4f4c" class="pw-post-body-paragraph la lb it lc b ld oh ju lf lg oi jx li lj oj ll lm ln ok lp lq lr ol lt lu lv im bi translated">进行的另一个实验是为了找出最大游客量的城市人口、每个城市博物馆的所有游客和每个博物馆的游客之间的相关性。用城市游客代替城市人口进行了同样的分析。</p><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi py"><img src="../Images/2e5ecc8d46b47e55f2e3f214e5345545.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*alyU0zxUMdBz74Qukoq0SA.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">实验结果</p></figure><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pz"><img src="../Images/790dfb481fc72729327079786d95ada1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4WBI6ak7bgNQvJfP1JY-iQ.png"/></div></div><p class="on oo gj gh gi op oq bd b be z dk translated">Li回归分析，最差结果用黄色标记，最佳结果用橙色标记</p></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h2 id="bf81" class="ox kj it bd kk oy oz dn ko pa pb dp ks lj pc pd ku ln pe pf kw lr pg ph ky pi bi translated">结果分析</h2><ol class=""><li id="d56f" class="nt nu it lc b ld le lg lh lj nv ln nw lr nx lv qa nz oa ob bi translated">人口与博物馆参观者没有显著的相关性。</li><li id="5cc6" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv qa nz oa ob bi translated">单一的特征并不能很好地预测博物馆的参观者。</li><li id="eeb1" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv qa nz oa ob bi translated">由于需要更多的数据、错误的假设或较差的特征，模型不符合数据。</li><li id="1854" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv qa nz oa ob bi translated">数据收集不符合真实的数据分布，例如数据年份不匹配，博物馆游客仅涵盖2018年，但城市人口和城市游客属于任何一年。</li></ol></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="78e4" class="ki kj it bd kk kl nc kn ko kp nd kr ks jz ne ka ku kc nf kd kw kf ng kg ky kz bi translated">改进</h1><p id="5f0a" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我认为将来可以对该项目进行一些改进:</p><h2 id="4cca" class="ox kj it bd kk oy oz dn ko pa pb dp ks lj pc pd ku ln pe pf kw lr pg ph ky pi bi translated"><strong class="ak">系统级</strong></h2><ul class=""><li id="641a" class="nt nu it lc b ld le lg lh lj nv ln nw lr nx lv ny nz oa ob bi translated">使用NLP为wiki提取信息</li><li id="6c09" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">拥有一个交互系统来获取用户输入以进行关联</li><li id="4cc3" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">使用JSON文件而不是配置文件</li><li id="08d5" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">使用Django和Flask python库添加web界面，以通过浏览器显示用户界面</li><li id="579a" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">分析数据库以提高性能</li></ul><h2 id="9dd6" class="ox kj it bd kk oy oz dn ko pa pb dp ks lj pc pd ku ln pe pf kw lr pg ph ky pi bi translated"><strong class="ak">数据等级</strong></h2><ul class=""><li id="0622" class="nt nu it lc b ld le lg lh lj nv ln nw lr nx lv ny nz oa ob bi translated">为了有效地提取特征，回顾关于游客和博物馆之间关系的现有方法</li><li id="47a4" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">获取更多数据，如博物馆到公共交通、餐馆等的距离。</li><li id="7ce0" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">有了更多的数据，通过使用多元线性回归找到最相关的要素</li><li id="c754" class="nt nu it lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">执行决策树以找到访客最多时最有效的功能</li></ul></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="5f83" class="ki kj it bd kk kl nc kn ko kp nd kr ks jz ne ka ku kc nf kd kw kf ng kg ky kz bi translated">结论</h1><p id="641c" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">希望这篇文章对那些想知道如何做类似项目的人有所帮助。帖子的代码可以在我的<a class="ae mu" href="https://github.com/ShiNik/wiki_ml" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到。</p></div></div>    
</body>
</html>