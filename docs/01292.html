<html>
<head>
<title>Stop copy-pasting notebooks, embrace Jupyter templates!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">停止复制粘贴笔记本，拥抱Jupyter模板！</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/stop-copy-pasting-notebooks-embrace-jupyter-templates-6bd7b6c00b94?source=collection_archive---------9-----------------------#2020-02-05">https://towardsdatascience.com/stop-copy-pasting-notebooks-embrace-jupyter-templates-6bd7b6c00b94?source=collection_archive---------9-----------------------#2020-02-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c517" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">jupytemplate简介:Jupyter的可配置模板</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b053923362edcca98d600f026d4ee43b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d7SW7aZUw91tMEqRBZWm_A.png"/></div></div></figure><p id="01c2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Jupyter笔记本很牛逼。它们结合了代码、输出和文本，实现了快速原型开发、早期调试和有效的故事讲述。</p><p id="ad63" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">尽管如此，笔记本电脑也有其自身的局限性，最令人讨厌的是有限的可扩展性、<a class="ae lq" rel="noopener" target="_blank" href="/lessons-from-a-real-machine-learning-project-part-1-from-jupyter-to-luigi-bdfd0b050ca5">促使开发人员重复代码的倾向</a>以及缺乏标准结构。</p><p id="37c4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">许多文章、帖子和讲座都涉及这些话题。其中两个与本文特别相关。Joel Grus在<em class="lr"> </em> <a class="ae lq" href="https://www.youtube.com/watch?reload=9&amp;v=7jiPeIFXb6U" rel="noopener ugc nofollow" target="_blank"> <em class="lr">我不喜欢笔记本</em> </a>中指责笔记本给开发人员和数据科学家灌输坏习惯。在回答Joel关于<a class="ae lq" rel="noopener" target="_blank" href="/set-your-jupyter-notebook-up-right-with-this-extension-24921838a332"> Medium </a>的问题时，Will Koehrsen建议谴责罪恶而非罪人，并提出了一个有趣的解决方案。</p><h1 id="fde2" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">笔记本的模板</h1><p id="7179" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">一个模板。适用于各种数据科学笔记本的标准而灵活的框架。威尔认为，如果给人们提供一个合适的结构来填充他们的内容，他们就会被推动去实施最佳实践。</p><blockquote class="mp mq mr"><p id="8df6" class="ku kv lr kw b kx ky ju kz la lb jx lc ms le lf lg mt li lj lk mu lm ln lo lp im bi translated">这种方法的好处是它改变了默认值。</p></blockquote><p id="9035" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当我们阅读Will的帖子时，x team的数据科学团队和我立即寻找实施该解决方案的包。不幸的是，我们发现PiPy或conda上没有这种东西。</p><p id="f630" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后，我们决定构建自己的:我们开发了一个<a class="ae lq" rel="noopener" target="_blank" href="/jupyter-notebook-extensions-517fa69d2231"> Jupyter扩展</a>，它有两个主要特性。</p><p id="db3d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，它允许你从一个模板创建每一个新的笔记本。模板本身就是一个笔记本，这样可以方便用户编辑，适应不同的需求。我们还提供了在现有笔记本中插入模板的可能性。</p><p id="e4a2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">扩展附带的默认模板由6部分组成:</p><ol class=""><li id="3ed0" class="mv mw it kw b kx ky la lb ld mx lh my ll mz lp na nb nc nd bi translated"><strong class="kw iu">摘要</strong>:笔记本的快速总结，包括其目的、方法、结果和建议的后续步骤</li><li id="412b" class="mv mw it kw b kx ne la nf ld ng lh nh ll ni lp na nb nc nd bi translated"><strong class="kw iu">设置</strong>:包和本地模块导入，最常见的数据科学库已经用它们的标准别名导入</li><li id="6c9b" class="mv mw it kw b kx ne la nf ld ng lh nh ll ni lp na nb nc nd bi translated"><strong class="kw iu">参数</strong>:影响笔记本的参数定义</li><li id="d5e4" class="mv mw it kw b kx ne la nf ld ng lh nh ll ni lp na nb nc nd bi translated"><strong class="kw iu">数据导入</strong>:报表加载笔记本中要使用的所有数据</li><li id="6250" class="mv mw it kw b kx ne la nf ld ng lh nh ll ni lp na nb nc nd bi translated"><strong class="kw iu">数据处理</strong>:核心处理，通常需要进一步细分</li><li id="e52f" class="mv mw it kw b kx ne la nf ld ng lh nh ll ni lp na nb nc nd bi translated"><strong class="kw iu">参考资料</strong>:对文献或其他笔记本有用的参考资料</li></ol><p id="99cd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">需要注意的是，这只是一个<em class="lr">默认的</em>模板。每个数据科学家都可以创建自己的数据。如果您碰巧这样做了，请告诉我，以便我们可以改进我们的存储库。</p><p id="de51" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第二，每保存一个笔记本为<em class="lr">无标题</em>，要求用户重命名。</p><p id="eca6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当然，这两种功能都可以通过扩展的<a class="ae lq" href="https://github.com/Jupyter-contrib/jupyter_nbextensions_configurator" rel="noopener ugc nofollow" target="_blank">配置</a>来启用或禁用。</p><h1 id="b002" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">利益</h1><p id="59dd" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">当我们在工作流中引入扩展的用法时，显著的改进变得显而易见。</p><p id="a867" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有了共同的框架，其他团队成员的笔记本变得更容易阅读和共享。特别是摘要，为我们提供了2分钟的总结，让读者决定是深入研究代码还是查看其他地方。</p><p id="e332" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">随着部分准备好被填充，当肤浅地记录我们的代码时，我们开始感到内疚。这导致了更长更深刻的评论，从而提高了笔记本的整体可读性。</p><p id="84fe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">配置好本地导入并准备好使用后，就没有借口阻止相关代码从笔记本中重构到公共模块中。</p><p id="950a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有了模板中明确的命名约定，没有人会忘记它们。</p><p id="8d26" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，通过模板中嵌入的标准导入，我们能够节省一些时间来搜索正确导入模块的方法。</p><h1 id="5339" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">快速入门</h1><p id="3ae1" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">我们的扩展可以在包<code class="fe nj nk nl nm b">jupytemplate</code>中获得，开源并发布在GitHub上:<a class="ae lq" href="https://github.com/donlelef/jupytemplate" rel="noopener ugc nofollow" target="_blank">https://github.com/xtreamsrl/jupytemplate</a>。</p><p id="b28c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">虽然不是严格要求，但我们建议开始下载整套<a class="ae lq" href="https://github.com/ipython-contrib/jupyter_contrib_nbextensions" rel="noopener ugc nofollow" target="_blank"> jupyter扩展</a>，目前还不包括jupytemplate。</p><p id="346d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后，通过运行以下命令安装jupytemplate:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="d30c" class="nr lt it nm b gy ns nt l nu nv">pip install jupytemplate</span></pre><p id="c282" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，在本地Jupyter实例中启用扩展:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="bfcf" class="nr lt it nm b gy ns nt l nu nv">jupyter nbextension install --py jupytemplate --sys-prefix<br/>jupyter nbextension enable jupytemplate/main --sys-prefix</span></pre><p id="22f5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">关于GitHub的文档中有更多的细节。</p><p id="ceed" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就是这样。您现在应该能够做这样的事情了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/3b04616ce78e51a0ce2154fa9e545920.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*kNQBm3ra5m3ftmJuFwNOCw.gif"/></div></div></figure></div><div class="ab cl nx ny hx nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="im in io ip iq"><p id="0dc0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我的读者，感谢你来到这里！</p><p id="c893" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">欢迎任何评论、问题或总体反馈。你可以在LinkedIn上和我联系(下面的链接)。</p><p id="718b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lr">如果你喜欢这篇文章，你可能会感兴趣:</em></p><ul class=""><li id="8336" class="mv mw it kw b kx ky la lb ld mx lh my ll mz lp oe nb nc nd bi translated"><a class="ae lq" rel="noopener" target="_blank" href="/lessons-from-a-real-machine-learning-project-part-1-from-jupyter-to-luigi-bdfd0b050ca5"> <em class="lr">真实机器学习项目的经验，第1部分:从Jupyter到Luigi </em> </a></li><li id="653c" class="mv mw it kw b kx ne la nf ld ng lh nh ll ni lp oe nb nc nd bi translated"><a class="ae lq" rel="noopener" target="_blank" href="/lessons-from-a-real-machine-learning-project-part-2-the-traps-of-data-exploration-e0061ace84aa"> <em class="lr">真实机器学习项目的经验，第二部分:数据探索的陷阱</em> </a></li><li id="eba0" class="mv mw it kw b kx ne la nf ld ng lh nh ll ni lp oe nb nc nd bi translated"><a class="ae lq" rel="noopener" target="_blank" href="/introducing-tsviz-interactive-time-series-visualization-in-r-studio-a96cde507a14"> <em class="lr">介绍tsviz，R Studio中的交互式时间序列可视化</em> </a></li></ul><p id="f67b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lr">如果你对</em> <a class="ae lq" href="https://www.linkedin.com/in/emanuelefabbiani/" rel="noopener ugc nofollow" target="_blank"> <em class="lr"> me </em> </a> <em class="lr">或者</em><a class="ae lq" href="https://www.linkedin.com/company/18545289/admin/" rel="noopener ugc nofollow" target="_blank"><em class="lr">xtream</em></a><em class="lr">有什么好奇的话，上LinkedIn看看吧！</em></p></div></div>    
</body>
</html>