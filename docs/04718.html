<html>
<head>
<title>P-values, and when not to use them</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">p 值，以及何时不使用它们</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/p-values-and-when-not-to-use-them-92cab8a86304?source=collection_archive---------11-----------------------#2020-04-26">https://towardsdatascience.com/p-values-and-when-not-to-use-them-92cab8a86304?source=collection_archive---------11-----------------------#2020-04-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="037a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你在涉及数据分析的领域(如今基本上是每个领域)查看已发表的研究论文，你会经常看到数字旁边有一个小星号*，并有一个脚注说“统计显著”。统计显著性本质上是一种检查，我们可以用来验证我们的结果不是由于偶然，它们涉及到计算一种叫做 p 值(概率值)的东西。虽然统计显著性星号通常被解释为对研究有效性的认可，但我们盲目使用 p 值会遇到一些问题。但是在我解释什么是 p 值以及与之相关的问题是什么之前，理解这类研究使用的一般框架——假设检验是很重要的。</p><h1 id="6968" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">假设检验</h1><p id="6066" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">假设检验框架包括比较“零假设”和“替代假设”。通常，空值是现状，替代值是你的假设——你想要测试的假设。例如，假设你有一枚幸运硬币，你认为它偏向正面，你想收集数据来验证(或否定)你的想法。在这种情况下，无效假设或现状是硬币是<em class="lr">而不是</em>偏向的——正面的概率是 0.5。</p><blockquote class="ls lt lu"><p id="0871" class="jq jr lr js b jt ju jv jw jx jy jz ka lv kc kd ke lw kg kh ki lx kk kl km kn im bi translated">零假设:P(头数)= 0.5</p></blockquote><p id="d135" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">另一个是你想要测试的假设，硬币偏向正面。换句话说:</p><blockquote class="ls lt lu"><p id="eebb" class="jq jr lr js b jt ju jv jw jx jy jz ka lv kc kd ke lw kg kh ki lx kk kl km kn im bi translated">替代假设:P(头数)&gt; 0.5</p></blockquote><p id="222c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以根据你想要测试的确切想法，用不同的措辞来表达。例如，如果你认为硬币是有偏向的，但是不确定偏向哪个方向，你可以选择概率(正面)！= 0.5.</p><p id="2ca8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，关于假设检验，有一件重要的事情需要注意——我们并不试图明确地说另一个假设是否正确。我们对这个框架所能做的就是，比如说，在一定程度上，我们收集的数据是否能让我们拒绝零假设。因此，我们正在收集证据<em class="lr">反对</em>无效，而不是数据<em class="lr">支持</em>备用。在这个框架中，您可能会犯两种错误:第一类错误，当 null 实际上为真时，您拒绝它；第二类错误，当 null 为假时，您保留它。这里还有一点很重要——I 类错误通常比 II 类错误更糟糕。当现状实际上是真的时，我们想要避免拒绝现状，所以我们通常会在拒绝空值时格外“保守”。你会看到一个常见的类比是刑事审判——零假设是被告是无辜的，只有当你收集的证据压倒性地否定零假设时，你才会得出相反的结论。在被证明有罪之前是无辜的。</p><p id="6665" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后要注意的是一个叫做“测试统计”的数字。这通常只是一些聚集你的数据的量，比如你所有观察的平均值。在我们掷硬币的例子中，检验统计量可以是我们看到的人头的比例。我们最终决定是否拒绝空值取决于这个检验统计量的值。如果它非常“极端”或不太可能给定零假设(假设我们看到 10 个头，如果硬币是无偏的，这是不太可能的)，那么我们可以拒绝零。但是我们如何准确地测量检验统计量的极端程度呢？这就是 p 值的来源。</p><h1 id="39bf" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">你如何计算 p 值？</h1><p id="fb09" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">我将重点介绍 p 值的解释，在实践中，p 值通常用于实际计算。p 值是在零假设下我们观察到一个测试统计量<em class="lr">至少和我们实际看到的一样极端</em>的概率。这个概率越低，我们观察到的数据就越极端。如果空值为真，数据越极端，越有证据表明空值<em class="lr">不是</em>真。</p><p id="81de" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我们抛硬币的例子中，假设我们将硬币抛了 10 次，看到了 7 次人头。获得这种极端或更高结果的概率包括获得正面 7、8、9 或 10 次。假设硬币真的是无偏的，这个概率是 0.172。这是我们的 p 值。</p><p id="5653" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以 p 值只是一个数字，代表有多少证据反对你的零假设。根据测试和测试统计的确切性质，我们会做出不同的假设和近似来获得该概率的值，但其核心是，这就是计算 p 值的全部内容。我们将根据预先确定的显著性水平选择拒绝或保留空值，这取决于 p 值是低于还是高于该水平。这种阈值最常用的显著性水平是 0.05，如果 p 值低于 0.05，我们拒绝空值，否则，我们保留它。我们称这种低 p 值的情况为“统计显著”结果。在掷硬币的例子中，由于我们的 p 值是 0.172，我们保留了硬币是无偏的零假设。换句话说，我们收集的数据不足以让我们拒绝零假设。</p><p id="6f29" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，快速说明一下什么是 p 值<em class="lr">不是。</em>不是 null 为真的概率！这样解释很容易，因为当 p 值很小时，我们拒绝空值，但这不是 p 值。事实上，假设检验框架根本没有给假设分配概率。它只查看在特定假设下看到数据的概率，如果概率很低，则拒绝该假设。给一个为真的假设分配一个概率完全是另外一回事，由贝叶斯推理解决(远远超出了这篇博文的范围)。</p><p id="e2e4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，让我们继续讨论为什么 p 值本身会产生误导。</p><h1 id="88ea" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">统计意义与科学意义</h1><p id="ae85" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">反对 p 值的第一种情况需要理解统计显著性和科学显著性的区别。为了说明这一点，考虑一个例子。假设我们正试图测试一种用于治疗潜在致命疾病的新药的疗效。我们要测量的量是预期寿命。我们的无效假设是该药物不会影响预期寿命，我们的替代假设是该药物提高了预期寿命。假设我们运行一个实验，收集数据，计算我们的 p 值，结果是 0.03。那还不到 0.05，太棒了！我们已经证明了这种药物的有效性，对吗？</p><p id="5319" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是等等，我们真的知道预期寿命提高了多少吗？p 值表明，有足够的证据反对药物没有效果的假设，但它没有告诉我们预期寿命是增加了一周还是一年，这当然是该研究的一个重要方面。这是 p 值的一个核心问题——我们收集的数据越多，我们能够识别的影响就越小。虽然这通常是一件好事，但在大多数情况下，我们的零假设并不完全正确，因为现实世界如此复杂。即使在我们掷硬币的例子中，由于硬币的设计和我们投掷的方式，正面的实际概率也可能是 0.5001。给定足够多的掷硬币，我们可以潜在地检测到这一点并拒绝空值——但这并不意味着它实际上是一个重要的结果。所以单单一个很小的 p 值只能说明我们可以剔除零(统计显著性)，而不能说明影响有多大(科学显著性)。</p><h1 id="39ca" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">已发表研究中的选择偏差</h1><p id="d64f" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">这似乎是一个显而易见的观点，但对科学研究的有效性有着深远的影响——通常，只有积极的结果才会被发表。你很难找到试图测试一种药物疗效的公开研究，这种药物显示出高 p 值，因此无法证明该药物的有效性。这看起来很自然，对吗？为什么我们要公布一堆负面的结果，显示什么<em class="lr">不起作用？当然，我们应该把重点放在实际显示积极结果的研究上。</em></p><p id="0f88" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，当我们考虑这种只在 p 值和统计显著性的确切含义的背景下发布积极结果的倾向时，我们开始遇到一些问题。要理解为什么会这样，假设一堆人决定要测试我的幸运币。1000 个人每人拿着硬币，翻转 10 次，计算 p 值。现在，如果我的硬币实际上是无偏的，我们会看到这样的分布:</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi ly"><img src="../Images/e912c2f0c9246bb63cc92c2663227eb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*deUUfK8EBfCuL8tF"/></div></div><p class="mk ml gj gh gi mm mn bd b be z dk translated">1000 次抛硬币实验的结果</p></figure><p id="e573" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以大多数人会像我们预期的那样得到 4、5 或 6 个头。对这些人来说，p 值很高，他们认为硬币是无偏的。但是很可能会有一些人最终连续翻转 10 个头像。在这组特定的实验中，有 3 个人翻转 10 个头。现在这些翻转并没有什么特别的，只是当你重复实验很多次时，你所期望发生的。但是在这种情况下 p 值是多少呢？0.00098!太好了，小于 0.05，所以他们继续发表他们的发现，第二天一篇文章出来了——“科学家明确证明幸运硬币是有偏见的”。</p><p id="eb3e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">显然，这是一个极端的例子，但你可以看到这里的问题。根据定义，p 值允许有很小的假阳性机会。当类似的研究由多个小组进行，但只在结果为阳性时才发表时，很有可能许多已发表的研究正是如此——假阳性。这就是再现性如此重要的原因。如果有人重复一个已发表的实验，他们也应该能够实现低 p 值。这一问题以及其他相关问题导致了大约 15 年前的一场巨大的可重复性危机，引发这场危机的是约翰·约安尼迪斯的一篇著名论文，题为<a class="ae mo" href="https://journals.plos.org/plosmedicine/article?id=10.1371/journal.pmed.0020124" rel="noopener ugc nofollow" target="_blank">为什么大多数发表的研究结果是错误的</a>。报纸上的一段引文:</p><blockquote class="ls lt lu"><p id="409b" class="jq jr lr js b jt ju jv jw jx jy jz ka lv kc kd ke lw kg kh ki lx kk kl km kn im bi translated">p 值并不能最恰当地代表和概括研究，但是，不幸的是，有一种普遍的观念认为医学研究文章只能根据 p 值来解释。研究发现在这里被定义为任何达到正式统计学意义的关系，例如，有效的干预、信息预测、风险因素或关联。“负面”研究也很有用。“否定”实际上是一个用词不当的词，曲解的现象普遍存在。</p></blockquote><p id="2cde" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">XKCD 甚至有一个关于这个问题的相关漫画:</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/d500d5fe70fbbf8534750da22ba194e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/0*r5Hs16hSZqevMVRk"/></div><p class="mk ml gj gh gi mm mn bd b be z dk translated">来源:<a class="ae mo" href="https://xkcd.com/882/" rel="noopener ugc nofollow" target="_blank"> XKCD </a></p></figure><p id="ec70" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个问题没有简单的解决方法。总会有一些遇到 1 型错误的机会，我们不能期望每一个负面的结果都被公布，以获得所进行研究的完整全球视图。一种可能性是降低我们认为显著的 p 值。几年前，一群科学家(包括约安尼迪斯)提出了一个<a class="ae mo" href="https://www.nature.com/articles/s41562-017-0189-z" rel="noopener ugc nofollow" target="_blank">提案</a>，就是为了做到这一点，将 p 值阈值降低到 0.005。</p><p id="e71c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">即使这成为常态，这也只是权宜之计。解决根本问题的最佳办法是为负面研究提供发表的途径(如<a class="ae mo" href="https://arxiv.org/" rel="noopener ugc nofollow" target="_blank"> Arxiv </a>)，确保发表的正面结果研究包含所有需要由其他团队复制的信息，并以健康的怀疑态度解释即使很低的 p 值。</p><h1 id="923c" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">多重比较问题</h1><p id="eb2b" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">关于 p 值和统计显著性的第三个问题与前一个问题非常相似，但考虑到它与大多数科技公司都采用的 A/B 测试框架的相关性，我认为值得一提。在技术领域，进行随机实验来测试各种变化的影响是很常见的。例如，如果您想测试更改首页字体的颜色会如何影响用户参与度，通常您会将一定比例的用户分配到现有的颜色(控制)，将一定比例的用户分配到新的颜色(处理)，并测量这两组用户参与度的差异。</p><p id="d002" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现代的 A/B 测试框架已经变得非常复杂，以至于你可以查看大量的指标来试图理解你的治疗到底做了什么。由于样本量较大，它们通常还允许您测量非常小的差异(效应大小)。自然，它们也包含了 p 值计算和统计显著性。虽然这使我们能够全面分析我们运行的任何实验，但重要的是要注意，如果我们只是简单地查看所有可用的指标，我们最终会遇到与上一个案例相同的问题。不存在的差异仅仅因为噪音而显示出统计学意义的可能性总是很小，当我们查看大量指标时，很可能最终会遇到一些假阳性。</p><p id="5a22" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这只是统计学意义的本质，并不能真正避免。唯一的解决方案是记住这一点，并在运行实验之前定义您期望影响的指标。当您确实产生了您不期望改变的度量差异时，重要的是进一步挖掘并理解您的处理是否真正导致了差异，或者它只是碰巧是噪声。然而，除了 p 值之外，我们还可以采用<em class="lr">和</em>其他方法。</p><h1 id="9931" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">置信区间</h1><p id="4091" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">在结束之前，我将快速讨论置信区间，它通常比 p 值更能提供信息。基于您收集的数据，您可以构建一个对应于 95%置信区间的参数值范围。如果你重复你的实验很多次，你会期望你构建的置信区间在 95%的时间里“捕获”真实的参数值。置信区间的好处是它们更容易解释，因为它们实际上显示了一系列的值！这意味着你可以看到效果的实际大小，以及结果是否有统计学意义。例如，考虑以下情况:</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mq"><img src="../Images/fc9777140655b18a31597f66357ad62c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qF7Fq7WcmWo5mu1O"/></div></div><p class="mk ml gj gh gi mm mn bd b be z dk translated">来源:<a class="ae mo" href="https://www.oarsijournal.com/article/S1063-4584(12)00778-9/pdf" rel="noopener ugc nofollow" target="_blank">为什么 P 值文化不好，置信区间是更好的选择</a></p></figure><p id="8623" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">x 轴是你的效果的大小，或者你的治疗组和对照组之间的差异。0 代表零假设，虚线表示您认为“临床上”或“科学上”显著的差异水平，例如，您的药物将预期寿命延长了一年(这可能因实际研究而异)。</p><p id="22b8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">水平线显示了不同的置信区间，以及你可以从中推断出什么。当您的 95%置信区间不包含 0 时，这就相当于说您的 p 值小于 0.05，您的结果具有统计学意义。虽然知道这一点很有用，但你可以看到置信区间如何包含这一点，以及更多信息。如果您的置信区间高于您的临床显著性阈值，则结果最强。在图中，您可以看到统计和临床显著性的不同组合。然而，你只能通过查看置信区间来得到这个。如果你只看左边显示的 p 值，它们不能提供同样丰富的信息。所以从这个意义上说，置信区间比 p 值更有用。</p><h1 id="d973" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">结论</h1><p id="c3b3" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">因此，我们已经看到了假设检验框架背后的动机和 p 值的直观含义。但除此之外，我们已经看到单独使用 p 值常常会导致误导性结果，尤其是在研究发表过程的背景下。鉴于这些问题，重要的是采取严格的实验过程，并尽可能促进负面结果的公布。这与置信区间的使用一起，通常有助于提供更可靠和信息更丰富的结果。</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="bd42" class="ko kp it bd kq kr my kt ku kv mz kx ky kz na lb lc ld nb lf lg lh nc lj lk ll bi translated">参考</h1><p id="5e16" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">[1] <a class="ae mo" href="https://www.stat.cmu.edu/~larry/all-of-statistics/" rel="noopener ugc nofollow" target="_blank">所有的统计:拉里·乏色曼的统计推断简明教程</a></p><p id="4d2c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">[2] <a class="ae mo" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC1182327/" rel="noopener ugc nofollow" target="_blank">为什么大多数发表的研究结果都是假的</a></p><p id="8328" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">[3] <a class="ae mo" href="https://www.vox.com/science-and-health/2017/7/31/16021654/p-values-statistical-significance-redefine-0005" rel="noopener ugc nofollow" target="_blank">一场关于 p 值的无聊辩论展示了科学——以及如何解决它</a></p><p id="7600" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">[4] <a class="ae mo" href="https://fivethirtyeight.com/features/not-even-scientists-can-easily-explain-p-values/" rel="noopener ugc nofollow" target="_blank">即使是科学家也无法轻松解释 P 值</a></p><p id="ca47" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">[5] <a class="ae mo" href="https://www.nature.com/articles/s41562-017-0189-z" rel="noopener ugc nofollow" target="_blank">重新定义统计显著性</a></p><p id="74a5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">[6] <a class="ae mo" rel="noopener" target="_blank" href="/an-intuitive-explanation-of-hypothesis-testing-and-p-values-8391db2c90f">对假设检验和 P 值的直观解释</a></p><p id="efe6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">[7] <a class="ae mo" rel="noopener" target="_blank" href="/hypothesis-tests-and-p-value-a-gentle-introduction-4b52322bfc50">假设检验和 p 值:一个温和的介绍</a></p><p id="002c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">[8] <a class="ae mo" href="https://www.sciencedirect.com/science/article/pii/S1063458412007789#bib1" rel="noopener ugc nofollow" target="_blank">为什么 P 值文化不好，置信区间是更好的选择</a></p></div></div>    
</body>
</html>