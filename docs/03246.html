<html>
<head>
<title>Cyberpunk Style with Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有 Matplotlib 的赛博朋克风格</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/cyberpunk-style-with-matplotlib-f47404c9d4c5?source=collection_archive---------10-----------------------#2020-03-28">https://towardsdatascience.com/cyberpunk-style-with-matplotlib-f47404c9d4c5?source=collection_archive---------10-----------------------#2020-03-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="979c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为您的下一个数据可视化未来霓虹灯发光。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/c269ef6c032ad81f99cff3e9b6d6940b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WfxjwsuEf9tzJu07.png"/></div></div></figure><p id="cce7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="la">更新 2020–03–29:现在有一个 Python 包可以方便地应用这种风格，这里</em>  <em class="la">见</em> <a class="ae lb" href="https://github.com/dhaitz/mplcyberpunk" rel="noopener ugc nofollow" target="_blank">。通过 <code class="fe lc ld le lf b">pip install mplcyberpunk</code>安装</a></p><h1 id="b0e3" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">1 —基础</h1><p id="a39b" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">让我们编一些数字，把它们放进熊猫的数据框里，并把它们画出来:</p><pre class="kp kq kr ks gt mj lf mk ml aw mm bi"><span id="e1e4" class="mn lh it lf b gy mo mp l mq mr">import pandas as pd<br/>import matplotlib.pyplot as plt</span><span id="735c" class="mn lh it lf b gy ms mp l mq mr">df = pd.DataFrame({'A': [1, 3, 9, 5, 2, 1, 1],<br/>                   'B': [4, 5, 5, 7, 9, 8, 6]})</span><span id="de66" class="mn lh it lf b gy ms mp l mq mr">df.plot(marker='o')<br/>plt.show()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/f57b80aceb5a37c6df4d738d71b055dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wRegampkiDj_Q_VE.png"/></div></div></figure><h1 id="68c6" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">2 —黑暗</h1><p id="398e" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">还不错，但是有些普通。让我们通过使用 Seaborn 的深色风格以及更改背景和字体颜色来定制它:</p><pre class="kp kq kr ks gt mj lf mk ml aw mm bi"><span id="b59d" class="mn lh it lf b gy mo mp l mq mr">plt.style.use("seaborn-dark")</span><span id="adb1" class="mn lh it lf b gy ms mp l mq mr">for param in ['figure.facecolor', 'axes.facecolor', 'savefig.facecolor']:<br/>    plt.rcParams[param] = '#212946'  # bluish dark grey</span><span id="a510" class="mn lh it lf b gy ms mp l mq mr">for param in ['text.color', 'axes.labelcolor', 'xtick.color', 'ytick.color']:<br/>    plt.rcParams[param] = '0.9'  # very light grey</span><span id="5609" class="mn lh it lf b gy ms mp l mq mr">ax.grid(color='#2A3459')  # bluish dark grey, but slightly lighter than background</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/0b4f446ae7ee1ed57609fd612ab8acfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kbBP7WEi9BHEjEgf.png"/></div></div></figure><h1 id="dfd4" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">3 —灯光</h1><p id="7872" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">现在看起来更有趣了，但我们需要我们的颜色在深色背景下更加闪亮:</p><pre class="kp kq kr ks gt mj lf mk ml aw mm bi"><span id="a644" class="mn lh it lf b gy mo mp l mq mr">fig, ax = plt.subplots()<br/>colors = [<br/>    '#08F7FE',  # teal/cyan<br/>    '#FE53BB',  # pink<br/>    '#F5D300',  # yellow<br/>    '#00ff41', # matrix green<br/>]<br/>df.plot(marker='o', ax=ax, color=colors)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/5468d19bcedfb5a6bc1a5da7be423d99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1JA72L3pGzGpkfvI.png"/></div></div></figure><h1 id="9d9b" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">4 —发光</h1><p id="62ce" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">现在，如何获得霓虹灯的外观？为了让它发亮，我们用低 alpha 值和略微增加的线宽多次重画线条。重叠产生发光效果。</p><pre class="kp kq kr ks gt mj lf mk ml aw mm bi"><span id="42a9" class="mn lh it lf b gy mo mp l mq mr">n_lines = 10<br/>diff_linewidth = 1.05<br/>alpha_value = 0.03</span><span id="795d" class="mn lh it lf b gy ms mp l mq mr">for n in range(1, n_lines+1):</span><span id="e73d" class="mn lh it lf b gy ms mp l mq mr">    df.plot(marker='o',<br/>            linewidth=2+(diff_linewidth*n),<br/>            alpha=alpha_value,<br/>            legend=False,<br/>            ax=ax,<br/>            color=colors)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/53e412e9ec1b3903359e5a0640f058ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*E7WySsBePeA89OVi.png"/></div></div></figure><h1 id="6b2e" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">5 —终点</h1><p id="4610" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">为了更好的调整，我们给线下的区域着色(通过<code class="fe lc ld le lf b">ax.fill_between</code>)并调整轴的限制。</p><p id="11fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以下是完整的代码:</p><pre class="kp kq kr ks gt mj lf mk ml aw mm bi"><span id="73df" class="mn lh it lf b gy mo mp l mq mr">import pandas as pd<br/>import matplotlib.pyplot as plt<br/></span><span id="a92c" class="mn lh it lf b gy ms mp l mq mr">plt.style.use("dark_background")</span><span id="8ed3" class="mn lh it lf b gy ms mp l mq mr">for param in ['text.color', 'axes.labelcolor', 'xtick.color', 'ytick.color']:<br/>    plt.rcParams[param] = '0.9'  # very light grey</span><span id="9678" class="mn lh it lf b gy ms mp l mq mr">for param in ['figure.facecolor', 'axes.facecolor', 'savefig.facecolor']:<br/>    plt.rcParams[param] = '#212946'  # bluish dark grey</span><span id="c4de" class="mn lh it lf b gy ms mp l mq mr">colors = [<br/>    '#08F7FE',  # teal/cyan<br/>    '#FE53BB',  # pink<br/>    '#F5D300',  # yellow<br/>    '#00ff41',  # matrix green<br/>]<br/></span><span id="9956" class="mn lh it lf b gy ms mp l mq mr">df = pd.DataFrame({'A': [1, 3, 9, 5, 2, 1, 1],<br/>                   'B': [4, 5, 5, 7, 9, 8, 6]})</span><span id="1050" class="mn lh it lf b gy ms mp l mq mr">fig, ax = plt.subplots()</span><span id="69b0" class="mn lh it lf b gy ms mp l mq mr">df.plot(marker='o', color=colors, ax=ax)</span><span id="2d0d" class="mn lh it lf b gy ms mp l mq mr"># Redraw the data with low alpha and slighty increased linewidth:<br/>n_shades = 10<br/>diff_linewidth = 1.05<br/>alpha_value = 0.3 / n_shades</span><span id="27ec" class="mn lh it lf b gy ms mp l mq mr">for n in range(1, n_shades+1):</span><span id="4684" class="mn lh it lf b gy ms mp l mq mr">    df.plot(marker='o',<br/>            linewidth=2+(diff_linewidth*n),<br/>            alpha=alpha_value,<br/>            legend=False,<br/>            ax=ax,<br/>            color=colors)</span><span id="cbc1" class="mn lh it lf b gy ms mp l mq mr"># Color the areas below the lines:<br/>for column, color in zip(df, colors):<br/>    ax.fill_between(x=df.index,<br/>                    y1=df[column].values,<br/>                    y2=[0] * len(df),<br/>                    color=color,<br/>                    alpha=0.1)</span><span id="9e1e" class="mn lh it lf b gy ms mp l mq mr">ax.grid(color='#2A3459')</span><span id="b7ba" class="mn lh it lf b gy ms mp l mq mr">ax.set_xlim([ax.get_xlim()[0] - 0.2, ax.get_xlim()[1] + 0.2])  # to not have the markers cut off<br/>ax.set_ylim(0)</span><span id="1952" class="mn lh it lf b gy ms mp l mq mr">plt.show()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/c269ef6c032ad81f99cff3e9b6d6940b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WfxjwsuEf9tzJu07.png"/></div></div></figure><p id="8e49" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果这对你有帮助，或者你有建设性的批评，我很乐意听听！请通过此处的<a class="ae lb" href="https://dhaitz.github.io/" rel="noopener ugc nofollow" target="_blank">或此处的</a>或<a class="ae lb" href="https://twitter.com/d_haitz" rel="noopener ugc nofollow" target="_blank">联系我。谢谢！</a></p></div></div>    
</body>
</html>