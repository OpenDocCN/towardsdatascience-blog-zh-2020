<html>
<head>
<title>The Best Exploratory Data Analysis with Pandas Profiling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫图谱的最佳探索性数据分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-best-exploratory-data-analysis-with-pandas-profiling-e85b4d514583?source=collection_archive---------21-----------------------#2020-09-07">https://towardsdatascience.com/the-best-exploratory-data-analysis-with-pandas-profiling-e85b4d514583?source=collection_archive---------21-----------------------#2020-09-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="81cb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一行代码解决你所有的 EDA 问题。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c1aa10aece6dd007abd7fac1510f5e39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V7ASsJh7nYjXSAz1EVOL_w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫简介报告相关性示例。作者截图[1]。</p></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="ca49" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">目录</h1><ol class=""><li id="bfc1" class="lx ly it lz b ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">介绍</li><li id="0640" class="lx ly it lz b ma mp mc mq me mr mg ms mi mt mk ml mm mn mo bi translated">概观</li><li id="260f" class="lx ly it lz b ma mp mc mq me mr mg ms mi mt mk ml mm mn mo bi translated">变量</li><li id="20c4" class="lx ly it lz b ma mp mc mq me mr mg ms mi mt mk ml mm mn mo bi translated">相互作用</li><li id="784d" class="lx ly it lz b ma mp mc mq me mr mg ms mi mt mk ml mm mn mo bi translated">相关</li><li id="e4ea" class="lx ly it lz b ma mp mc mq me mr mg ms mi mt mk ml mm mn mo bi translated">缺少值</li><li id="093a" class="lx ly it lz b ma mp mc mq me mr mg ms mi mt mk ml mm mn mo bi translated">样品</li><li id="52db" class="lx ly it lz b ma mp mc mq me mr mg ms mi mt mk ml mm mn mo bi translated">摘要</li><li id="3d6b" class="lx ly it lz b ma mp mc mq me mr mg ms mi mt mk ml mm mn mo bi translated">参考</li></ol><h1 id="f774" class="lf lg it bd lh li mu lk ll lm mv lo lp jz mw ka lr kc mx kd lt kf my kg lv lw bi translated">介绍</h1><p id="3e0c" class="pw-post-body-paragraph mz na it lz b ma mb ju nb mc md jx nc me nd ne nf mg ng nh ni mi nj nk nl mk im bi translated">在 Python ( <em class="nm">和 R </em>)中有无数种方法可以执行探索性数据分析(EDA)。我大部分都是在流行的 Jupyter 笔记本上写的。一旦我意识到有一个库可以用一行代码总结我的数据集，我就确保在每个项目中都使用它，从这个 EDA 工具的易用性中获得无数好处。在为所有数据科学家执行任何机器学习模型之前，应该首先执行 EDA 步骤，因此，来自<a class="ae nn" href="https://github.com/pandas-profiling/pandas-profiling" rel="noopener ugc nofollow" target="_blank">Pandas Profiling</a>【2】的善良而聪明的开发人员使得以漂亮的格式查看数据集变得很容易，同时也很好地描述了数据集中的信息。</p><p id="8e2d" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">Pandas Profiling report 是一款出色的 EDA 工具，可以提供以下好处:概述、变量、交互、相关性、缺失值和数据样本。我将使用随机生成的数据作为这个有用工具的例子。</p><h1 id="3dca" class="lf lg it bd lh li mu lk ll lm mv lo lp jz mw ka lr kc mx kd lt kf my kg lv lw bi translated">概观</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/199eaa0dcf6927eb7a718468b54ed3a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lVlVc5RTmpPeQPSEKPnC5A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">概述示例。作者截图[3]。</p></figure><p id="8103" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">报告中的 overview 选项卡可以快速查看您有多少变量和观察值，或者行数和列数。它还将执行一个计算，以查看与整个 dataframe 列相比，您缺少了多少个单元格。此外，它还会指出重复的行并计算百分比。这个标签最类似于熊猫的描述功能的一部分，同时提供了更好的<em class="nm">用户界面</em> ( <em class="nm"> UI </em>)体验。</p><p id="a60c" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">概述分为数据集统计数据和变量类型。您也可以参考警告和复制，以获得有关您的数据的更具体的信息。</p><p id="68b4" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated"><em class="nm">我将讨论变量，变量也被称为数据框架的列或特征</em></p><h1 id="2e98" class="lf lg it bd lh li mu lk ll lm mv lo lp jz mw ka lr kc mx kd lt kf my kg lv lw bi translated">变量</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/ba00cdfe0594a9d297a7af9eeb54b183.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Go9RtGzMf054VfgSBp-Rg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">变量示例。作者截图[4]。</p></figure><p id="c73c" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">要在描述性统计数据中获得更多的粒度，可以使用 variables 选项卡。您可以查看数据框要素或变量的不同、缺失、聚合或计算，如平均值、最小值和最大值。您还可以看到您正在处理的数据类型(<em class="nm">，即 NUM </em>)。当你点击<em class="nm">切换细节</em>时，图中未显示。这种切换会提示大量更有用的统计信息。详细信息包括:</p><p id="b0ef" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated"><strong class="lz iu"> <em class="nm">统计—分位数和描述性</em> </strong></p><blockquote class="nv nw nx"><p id="b705" class="mz na nm lz b ma no ju nb mc np jx nc ny nq ne nf nz nr nh ni oa ns nk nl mk im bi translated">分位点</p></blockquote><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="2401" class="og lg it oc b gy oh oi l oj ok">Minimum<br/>5th percentile<br/>Q1<br/>Median<br/>Q3<br/>95th percentile<br/>Maximum<br/>Range<br/>Interquartile range (IQR)</span></pre><blockquote class="nv nw nx"><p id="8865" class="mz na nm lz b ma no ju nb mc np jx nc ny nq ne nf nz nr nh ni oa ns nk nl mk im bi translated">描述的</p></blockquote><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="a64d" class="og lg it oc b gy oh oi l oj ok">Standard deviation<br/>Coefficient of variation (CV)<br/>Kurtosis<br/>Mean<br/>Median Absolute Deviation (MAD)<br/>Skewness<br/>Sum<br/>Variance<br/>Monotonicity</span></pre><p id="9950" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">这些统计数据也提供了与我今天看到的大多数数据科学家使用的 describe 函数类似的信息，然而，还有更多，它以一种<em class="nm">易于查看的</em>格式呈现它们。</p><p id="d58b" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated"><strong class="lz iu"> <em class="nm">直方图</em> </strong></p><p id="10a8" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">直方图为您的变量提供了一个易于理解的视觉效果。您可以在<em class="nm"> y 轴</em>上看到变量的频率，在<em class="nm"> x 轴</em>上看到固定大小的箱(<em class="nm">箱=15 是默认的</em>)。</p><p id="a1f4" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated"><strong class="lz iu"> <em class="nm">常用值</em> </strong></p><p id="1944" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">公共值将为您的变量提供最常见的值、计数和频率。</p><p id="7aaa" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated"><strong class="lz iu"> <em class="nm">极值</em> </strong></p><p id="754e" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">极值将提供数据帧的最小值和最大值中的值、计数和频率。</p><h1 id="6e0a" class="lf lg it bd lh li mu lk ll lm mv lo lp jz mw ka lr kc mx kd lt kf my kg lv lw bi translated">相互作用</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/6bdec8cadb44c67c8f94efcbe54a88e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jEc6QrZ-yDDKnuSib3feig.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">互动示例。作者截图[5]。</p></figure><p id="a977" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">概要分析报告的交互功能是独一无二的，因为您可以从您的列列表中选择位于提供的<em class="nm"> x 轴</em>或<em class="nm"> y 轴</em>上。比如上图是<em class="nm">变量 A </em>对<em class="nm">变量 A </em>，这就是你看到重叠的原因。您可以轻松地切换到其他变量或列，以实现不同的绘图和数据点的出色表示。</p><h1 id="c491" class="lf lg it bd lh li mu lk ll lm mv lo lp jz mw ka lr kc mx kd lt kf my kg lv lw bi translated">相关</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/4148cdc235daac0d6d3f3daaf2cbf3c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HVUaGskheoot8M0NDn4zxQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">相关性示例。作者截图[6]。</p></figure><p id="ceac" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">有时，如果你是从<em class="nm">逐行</em> Python 代码中制作相关图，制作更花哨或更多彩的相关图可能会很耗时。然而，有了这个关联图，您可以很容易地将数据中变量之间的关系可视化，这也是很好的<em class="nm">颜色编码</em>。您可以显示四个主要图:</p><ul class=""><li id="8123" class="lx ly it lz b ma no mc np me on mg oo mi op mk oq mm mn mo bi translated"><em class="nm">皮尔森的 r </em></li><li id="ac1d" class="lx ly it lz b ma mp mc mq me mr mg ms mi mt mk oq mm mn mo bi translated"><em class="nm">斯皮尔曼的ρ </em></li><li id="0327" class="lx ly it lz b ma mp mc mq me mr mg ms mi mt mk oq mm mn mo bi translated"><em class="nm">肯德尔的τ </em></li><li id="5660" class="lx ly it lz b ma mp mc mq me mr mg ms mi mt mk oq mm mn mo bi translated"><em class="nm"> Phik (φk) </em></li></ul><p id="c0c4" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">您可能只习惯于这些关联方法中的一种，因此其他方法可能听起来令人困惑或不可用。因此，关联图还提供了一个切换按钮，用于显示每个关联的详细含义——当您需要复习关联时，以及当您决定使用哪个图(<em class="nm"> s </em>)进行分析时，该功能非常有用</p><h1 id="d8f8" class="lf lg it bd lh li mu lk ll lm mv lo lp jz mw ka lr kc mx kd lt kf my kg lv lw bi translated">缺少值</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/31e7be8497cef7287a3e44532c24dd16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yburpDHpbhPxfTTYmVpP0w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">缺失值示例。作者截图[7]。</p></figure><p id="0a33" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">从上面的图中可以看出，报告工具也包括缺失值。您可以看到每个变量丢失了多少，包括计数和矩阵。在使用数据执行任何模型之前，这是一种可视化数据的好方法。您可能更希望看到类似上面的图，这意味着您没有丢失值。</p><h1 id="d887" class="lf lg it bd lh li mu lk ll lm mv lo lp jz mw ka lr kc mx kd lt kf my kg lv lw bi translated">样品</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/5f49fb577ff205f1cea3a1578221f6a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4djgYJeakJaWhL76Kd4ugg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">样本示例。作者截图[8]。</p></figure><p id="49a2" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">Sample 的行为类似于 head 和 tail 函数，它返回数据帧的前几行或最后几行。在本例中，您还可以看到第一行和最后一行。当我想知道我的数据从哪里开始，从哪里结束时，我会使用此选项卡—我建议进行排名或排序，以查看此选项卡的更多好处，因为您可以通过直观的相应表示来查看数据的范围。</p><h1 id="c673" class="lf lg it bd lh li mu lk ll lm mv lo lp jz mw ka lr kc mx kd lt kf my kg lv lw bi translated">摘要</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/4d55325e8bc0284b32bc7e777998e639.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5SXxMpklXrY-WDA4qUUlBg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Elena Loshina 在<a class="ae nn" href="https://unsplash.com/s/photos/panda?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a>【9】上拍摄的照片。</p></figure><p id="5c97" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">我希望这篇文章为您接下来的探索性数据分析提供一些启发。成为一名数据科学家可能令人不知所措，EDA 经常被遗忘，或者不像<em class="nm">建模</em>那样经常被实践。使用 Pandas Profiling 报告，您可以用最少的代码执行 EDA，同时提供有用的统计数据和可视化。这样，你就可以专注于数据科学和机器学习的有趣部分，即模型过程。</p><blockquote class="ot"><p id="626b" class="ou ov it bd ow ox oy oz pa pb pc mk dk translated">总之，Pandas Profiling 报告的主要功能包括概述、变量、交互、相关性、缺失值和数据样本。</p></blockquote><p id="c2f3" class="pw-post-body-paragraph mz na it lz b ma pd ju nb mc pe jx nc me pf ne nf mg pg nh ni mi ph nk nl mk im bi translated">下面是我用来安装和导入库的代码，以及为这个例子生成一些虚拟数据的代码，最后，这一行代码用来根据您的 Pandas dataframe [10]生成 Pandas Profile 报告。</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="ff2c" class="og lg it oc b gy oh oi l oj ok"># install library <br/>#!pip install pandas_profiling</span><span id="9c0d" class="og lg it oc b gy pi oi l oj ok">import pandas_profiling<br/>import pandas as pd<br/>import numpy as np</span><span id="1c47" class="og lg it oc b gy pi oi l oj ok"># create data <br/>df = pd.DataFrame(np.random.randint(0,200,size=(15, 6)), columns=list('ABCDEF'))</span><span id="ea81" class="og lg it oc b gy pi oi l oj ok"># run your report!<br/>df.profile_report()</span><span id="2994" class="og lg it oc b gy pi oi l oj ok"># I did get an error and had to reinstall matplotlib to fix</span></pre><p id="2a0d" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">如果您有任何问题或者以前使用过这个功能，请随时在下面评论。还有一些信息我没有描述，但是你可以在我上面提供的链接中找到更多的信息。</p><blockquote class="nv nw nx"><p id="cd27" class="mz na nm lz b ma no ju nb mc np jx nc ny nq ne nf nz nr nh ni oa ns nk nl mk im bi translated">谢谢你的阅读，希望你喜欢！</p></blockquote><h1 id="fde2" class="lf lg it bd lh li mu lk ll lm mv lo lp jz mw ka lr kc mx kd lt kf my kg lv lw bi translated">参考</h1><p id="5f01" class="pw-post-body-paragraph mz na it lz b ma mb ju nb mc md jx nc me nd ne nf mg ng nh ni mi nj nk nl mk im bi translated">[1] M.Przybyla，熊猫简介报告相关性示例的截图，(2020 年)</p><p id="ee91" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">[2] pandas-profiling，<a class="ae nn" href="https://github.com/pandas-profiling/pandas-profiling" rel="noopener ugc nofollow" target="_blank"> GitHub 文档和所有贡献者</a>，(2020)</p><p id="a3b9" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">[3] M.Przybyla，概览示例截图，(2020 年)</p><p id="fd6c" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">[4] M.Przybyla，变量示例截图，(2020 年)</p><p id="415f" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">[5] M.Przybyla，互动实例截图，(2020 年)</p><p id="35f1" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">[6] M.Przybyla，相关性示例截图，(2020 年)</p><p id="0f2e" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">[7] M.Przybyla，缺失值示例的屏幕截图，(2020 年)</p><p id="b3f9" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">[8] M.Przybyla，示例截图，(2020 年)</p><p id="471e" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">[9]Elena Loshina 在<a class="ae nn" href="https://unsplash.com/s/photos/panda?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片，(2018)</p><p id="6a05" class="pw-post-body-paragraph mz na it lz b ma no ju nb mc np jx nc me nq ne nf mg nr nh ni mi ns nk nl mk im bi translated">[1] M.Przybyla，熊猫概况报告代码示例，(2020)</p></div></div>    
</body>
</html>