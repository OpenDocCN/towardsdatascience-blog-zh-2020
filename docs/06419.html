<html>
<head>
<title>Build Code Collaboration with Google Colab</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Google Colab 构建代码协作</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/an-effective-way-of-managing-files-on-google-colab-ac37f792690b?source=collection_archive---------28-----------------------#2020-05-22">https://towardsdatascience.com/an-effective-way-of-managing-files-on-google-colab-ac37f792690b?source=collection_archive---------28-----------------------#2020-05-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4f8d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解更多关于 Google Colab 的信息</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/957937fd071d3ba84b11a93d0aaa64d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ow_HCf-5RzLpt9IH"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卢卡斯·布拉塞克在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="bb39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di"> M </span>可能我们很多人都很熟悉<strong class="lb iu">谷歌可乐。如果你不知道的话，Colab 是一个完全在云中运行的免费<strong class="lb iu"> Jupyter 笔记本</strong>环境。最重要的是，这不需要设置，您创建的笔记本可以由您的团队成员同时编辑，就像您在 Google Docs 中编辑文档一样。Colab 支持流行的机器学习库，您可以轻松地将其加载到笔记本中。</strong></p><p id="a4cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其实我在 2018 年大学的时候就开始使用 Google colab 了，但是那时候即使是从 google drive 上访问数据还是很复杂的。最后，出于无奈，我决定使用一个规格低得多的计算机实验室。</p><p id="788c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是当我在 2019 年底朋友推荐的时候尝试了一下。从那里，我意识到现在访问数据等。变得更容易了，我将与你分享我的知识。</p><h2 id="0f3e" class="me mf it bd mg mh mi dn mj mk ml dp mm li mn mo mp lm mq mr ms lq mt mu mv mw bi translated">为什么使用 Google Colab</h2><p id="0d08" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li mz lk ll lm na lo lp lq nb ls lt lu im bi translated">Google Colaboratory 或 Colab 允许您在浏览器中编写和运行 Python，具有:</p><ul class=""><li id="6a84" class="nc nd it lb b lc ld lf lg li ne lm nf lq ng lu nh ni nj nk bi translated"><strong class="lb iu">零配置需求，</strong>使用 colab 的便利之处之一是，你不需要配置/安装系统，因为一切都已经由 Google 完成了。你只需要安装你需要的 python 库。</li><li id="40e2" class="nc nd it lb b lc nl lf nm li nn lm no lq np lu nh ni nj nk bi translated"><strong class="lb iu">免费使用 GPU，</strong>另一个好处是你有权限使用 GPU。所以你只需要有一个能打开浏览器，能上网的设备。</li><li id="99df" class="nc nd it lb b lc nl lf nm li nn lm no lq np lu nh ni nj nk bi translated"><strong class="lb iu">轻松分享</strong>，就像其他 Google 服务一样，你可以像使用 Google Docs 一样与他人分享你的工作成果。但是需要注意的是，根据我的经验，不能有一个以上的人同时在一台笔记本上编辑。</li></ul><p id="cf8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有一点，如果当前 RAM 不够用，Google 会提供额外的 RAM。根据我当时的经验，我正在提取维基百科的数据，然后它因为 RAM 满而崩溃了。然后谷歌提出将 ram 从原来的 12 GB 增加到 25 GB。</p><p id="6eca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在浏览器打开的情况下，Google Colab 运行笔记本的“最长寿命”限制为 12 小时，而“空闲”笔记本实例在 90 分钟后中断。此外，您最多可以同时运行两台笔记本电脑。</p><p id="c777" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果在实例仍在运行时关闭并打开记事本窗口，输出和单元变量仍将存在。但是如果笔记本实例已经被回收，那么您的输出和单元格变量就不再可用。</p></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><p id="6bc5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，如果每次使用 Google Colab 时都必须上传数据集或模型，Google Colab 可能会很烦人。也许你不介意文件大小足够小，但如果你上传的数据集或模型文件足够大加上你有限的互联网连接，这将是一个问题。在这里，我给出了处理这些问题的技巧。</p><h2 id="99f1" class="me mf it bd mg mh mi dn mj mk ml dp mm li mn mo mp lm mq mr ms lq mt mu mv mw bi translated">使用 Google Drive</h2><p id="3815" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li mz lk ll lm na lo lp lq nb ls lt lu im bi translated">第一种方法是用 Google Drive 安装它。所以你将要使用或已经使用的数据都存储在 Google Drive 里。使用 Google Drive 安装 Google Colab 需要使用下面的代码，该代码将提示输入授权代码。</p><pre class="kj kk kl km gt nx ny nz oa aw ob bi"><span id="e34b" class="me mf it ny b gy oc od l oe of">from google.colab import drive<br/>drive.mount('/content/drive')</span></pre><p id="102b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码行将返回获取授权代码的链接。点击链接，你会得到授权码。然后将其复制到提示符下，并按回车键。</p><p id="b89e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的 Google Drive 中的所有文件和文件夹都可以从名为“My Drive”的文件夹中访问。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/8b831128688afb17a4f5e536455bfa08.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*z_pBRNmp2jUOr39g7VhG8g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">驱动安装</p></figure><p id="919a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果使用 zip，效率会更高，但因为它可以压缩较小的文件，所以如果文件包含图像集合，它也很有用。您可以使用 Colab 中的 unzip 命令来解压缩以'！'开头的文件(感叹号)。感叹号用于执行来自底层操作系统的命令。</p><pre class="kj kk kl km gt nx ny nz oa aw ob bi"><span id="9a43" class="me mf it ny b gy oc od l oe of">!unzip /path/to/file.zip</span></pre><p id="e4e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你要做长时间的训练，强烈建议使用一个检查点，保存在 google drive 上。</p><h2 id="2ab3" class="me mf it bd mg mh mi dn mj mk ml dp mm li mn mo mp lm mq mr ms lq mt mu mv mw bi translated">使用 Git</h2><p id="6de9" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li mz lk ll lm na lo lp lq nb ls lt lu im bi translated">如果因为存储驱动器已满而无法使用 Google Drive。也可以使用 git 作为存储。比如你可以使用<a class="ae ky" href="https://github.com" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Github </strong> </a>。Github 的限制是每个存储库 100 GB，每个文件 100 MB。相比之下，Google Drive 的免费版本只能提供 15GB 的存储空间。</p><p id="6fb8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要克隆 git remote，通常可以使用 git 命令，在开头添加感叹号。例如:</p><pre class="kj kk kl km gt nx ny nz oa aw ob bi"><span id="0a61" class="me mf it ny b gy oc od l oe of">!git clone https://github.com/keras-team/keras.git</span></pre><p id="2474" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果想推送到 git remote，有几个配置是必须要做的。</p><p id="b7e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，是初始化 git 存储库。</p><pre class="kj kk kl km gt nx ny nz oa aw ob bi"><span id="3932" class="me mf it ny b gy oc od l oe of">!git init</span></pre><p id="2fd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，设置全局电子邮件和用户名。</p><pre class="kj kk kl km gt nx ny nz oa aw ob bi"><span id="745f" class="me mf it ny b gy oc od l oe of">!git config — global user.email “You@Your.com”<br/>!git config — global user.name “Username”</span></pre><p id="c05b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">添加文件</p><pre class="kj kk kl km gt nx ny nz oa aw ob bi"><span id="0255" class="me mf it ny b gy oc od l oe of">!git add .</span></pre><p id="b57a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oh">提交</em></p><pre class="kj kk kl km gt nx ny nz oa aw ob bi"><span id="2c28" class="me mf it ny b gy oc od l oe of">!git commit -m "first commit"</span></pre><p id="e917" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是最重要的一行，当我们添加 git 远程源时，我们必须传递我们的 Github 凭证。</p><pre class="kj kk kl km gt nx ny nz oa aw ob bi"><span id="76f1" class="me mf it ny b gy oc od l oe of">!git remote add origin https://&lt;username&gt;:&lt;password&gt;github@github.com/&lt;username&gt;/reponame.git</span></pre><p id="ab5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，用力。</p><pre class="kj kk kl km gt nx ny nz oa aw ob bi"><span id="8c08" class="me mf it ny b gy oc od l oe of">!git push -u origin master</span></pre><h2 id="0119" class="me mf it bd mg mh mi dn mj mk ml dp mm li mn mo mp lm mq mr ms lq mt mu mv mw bi translated">使用 wget</h2><p id="a19e" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li mz lk ll lm na lo lp lq nb ls lt lu im bi translated">Google Colab 机器是建立在基于 Debian 的 Linux 上的，因此通过网络下载数据最简单的方法是 wget。您可以将文件上传到某个地方，然后您可以从 cell code notebook 下载并使用这个 shell 命令:wget。</p><p id="bba2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果你想检索维基百科的数据。您可以使用以下命令将它直接下载到您的 Google colab。</p><pre class="kj kk kl km gt nx ny nz oa aw ob bi"><span id="9ea9" class="me mf it ny b gy oc od l oe of">!wget https://dumps.wikimedia.org/enwiki/latest/enwiki-latest-pages-articles-multistream-index.txt.bz2</span></pre></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><p id="474c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想更完整地了解如何在 Google Colab 中处理文件，你可以访问下面的链接。</p><div class="oi oj gp gr ok ol"><a href="https://bit.ly/37vKYN1" rel="noopener  ugc nofollow" target="_blank"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd iu gy z fp oq fr fs or fu fw is bi translated">如何在 Google Colab 中处理文件:你需要知道的一切- neptune.ai</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">谷歌合作实验室是一个免费的 Jupyter 笔记本环境，运行在谷歌的云服务器上，让用户…</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">bit.ly</p></div></div><div class="ou l"><div class="ov l ow ox oy ou oz ks ol"/></div></div></a></div></div></div>    
</body>
</html>