<html>
<head>
<title>Rendering Images inside a Pandas DataFrame</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在熊猫数据帧中渲染图像</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/rendering-images-inside-a-pandas-dataframe-3631a4883f60?source=collection_archive---------6-----------------------#2020-07-02">https://towardsdatascience.com/rendering-images-inside-a-pandas-dataframe-3631a4883f60?source=collection_archive---------6-----------------------#2020-07-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="aa66" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">有没有想过在数据帧中渲染图像？我很高兴你这么做了！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ae5e9d94cffdf159967b7a8f1545f6f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kewz0xLvwocuc8INzphzmA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd ky">照片由</strong> <a class="ae kz" href="https://unsplash.com/@emilymorter?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ky">艾米莉·莫特</strong></a><strong class="bd ky"/><a class="ae kz" href="/s/photos/confusion?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"><strong class="bd ky"/></a></p></figure><p id="02c1" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi lw translated"><span class="l lx ly lz bm ma mb mc md me di">我</span>能看到<strong class="lc iu"> <em class="mf">问号(？)</em> </strong>在你的大部分脸上。因为在发现我们也可以在数据帧中渲染图像之前，我也有一个。相信我，这很简单，你所需要知道的就是<strong class="lc iu"> <em class="mf">创建一个数据框架，然后我会从那里</em> </strong>接你。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="d3ad" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">要遵循的步骤</h1><ol class=""><li id="9791" class="nf ng it lc b ld nh lg ni lj nj ln nk lr nl lv nm nn no np bi translated">导入<code class="fe nq nr ns nt b"><strong class="lc iu">pandas</strong></code><strong class="lc iu"/><code class="fe nq nr ns nt b"><strong class="lc iu">HTML</strong></code>两个必要的库。</li><li id="1446" class="nf ng it lc b ld nu lg nv lj nw ln nx lr ny lv nm nn no np bi translated">创建一个你选择的熊猫数据帧，并存储在变量<code class="fe nq nr ns nt b"><strong class="lc iu">df</strong></code>中。</li><li id="2a64" class="nf ng it lc b ld nu lg nv lj nw ln nx lr ny lv nm nn no np bi translated">创建一个名为<code class="fe nq nr ns nt b"><strong class="lc iu">country</strong></code>的列表，然后存储您想要渲染的图像的所有路径。</li><li id="63c9" class="nf ng it lc b ld nu lg nv lj nw ln nx lr ny lv nm nn no np bi translated">将<code class="fe nq nr ns nt b"><strong class="lc iu">country</strong></code> <strong class="lc iu"> </strong>列表分配给现有的数据帧<code class="fe nq nr ns nt b"><strong class="lc iu">df</strong></code>。这将作为一个新列附加到现有数据帧中。</li><li id="c456" class="nf ng it lc b ld nu lg nv lj nw ln nx lr ny lv nm nn no np bi translated">写一个函数，把给定的图片路径转换成 HTML 标签。</li><li id="13dd" class="nf ng it lc b ld nu lg nv lj nw ln nx lr ny lv nm nn no np bi translated">将 dataframe 呈现为 HTML 表，然后调用 HTML 方法来显示呈现的图像。</li></ol></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="35d1" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">奖金</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/a15537fbb269f28e6b95bd727f78bdfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/1*6TYqMppsXPc0yo95nyisPA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd ky"> Gif 由</strong> <a class="ae kz" href="https://giphy.com/disneyzootopia/" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ky">迪士尼</strong> </a> <strong class="bd ky">上</strong> <a class="ae kz" href="https://giphy.com/gifs/3NtY188QaxDdC" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ky"> Giphy </strong> </a></p></figure><p id="b134" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">此外，我将向你们展示“<strong class="lc iu"> <em class="mf">”保存数据帧为 HTML 页面</em> </strong>”更像一个网页。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="f761" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">密码</h1><p id="3f4a" class="pw-post-body-paragraph la lb it lc b ld nh ju lf lg ni jx li lj oa ll lm ln ob lp lq lr oc lt lu lv im bi translated">按照上面的步骤 1-6 成功渲染数据帧中的图像。我也将在这里重复这些步骤。不必每次都向上滚动阅读。同样，完整的代码可以在我的<a class="ae kz" href="https://github.com/Tanu-N-Prabhu/Python/blob/master/Rendering_Images_inside_a_Pandas_DataFrame.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iu"> <em class="mf"> GitHub 资源库</em> </strong> </a>下面找到:</p><div class="od oe gp gr of og"><a href="https://github.com/Tanu-N-Prabhu/Python/blob/master/Rendering_Images_inside_a_Pandas_DataFrame.ipynb" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">塔努-北帕布/Python</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">permalink dissolve GitHub 是超过 5000 万开发人员的家园，他们一起工作来托管和审查代码，管理…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">github.com</p></div></div><div class="op l"><div class="oq l or os ot op ou ks og"/></div></div></a></div><p id="df98" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">导入</strong><code class="fe nq nr ns nt b"><strong class="lc iu">pandas</strong></code><strong class="lc iu"/><code class="fe nq nr ns nt b"><strong class="lc iu">HTML</strong></code><strong class="lc iu">两个必要的库。</strong></p><p id="2bfe" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">导入<code class="fe nq nr ns nt b"><strong class="lc iu">pandas</strong></code>库的原因是为了在数据帧中创建和存储数据。类似地，<code class="fe nq nr ns nt b"><strong class="lc iu">HTML</strong></code>库用于呈现 dataframe 中的图像(HTML 标签)。</p><pre class="kj kk kl km gt ov nt ow ox aw oy bi"><span id="5422" class="oz mo it nt b gy pa pb l pc pd"><strong class="nt iu"># Importing the necessary libraries</strong></span><span id="34f1" class="oz mo it nt b gy pe pb l pc pd">import <strong class="nt iu">pandas</strong> as <strong class="nt iu">pd</strong><br/>from <strong class="nt iu">IPython.core.display</strong> import <strong class="nt iu">HTML</strong></span></pre><blockquote class="pf pg ph"><p id="8d28" class="la lb mf lc b ld le ju lf lg lh jx li pi lk ll lm pj lo lp lq pk ls lt lu lv im bi translated"><strong class="lc iu">不需要使用</strong> <code class="fe nq nr ns nt b"><strong class="lc iu">pip</strong></code> <strong class="lc iu">命令手动安装，只需导入即可</strong></p></blockquote></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="fd64" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">创建一个你选择的熊猫数据帧，并存储在变量</strong> <code class="fe nq nr ns nt b"><strong class="lc iu">df</strong></code> <strong class="lc iu">中。</strong></p><p id="4dc9" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这一步很简单，因为几乎每个人都知道如何创建数据帧。如果没有，那么别忘了在这里浏览一下这篇<a class="ae kz" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iu"> <em class="mf">文章</em> </strong> </a>。我将通过从<a class="ae kz" href="https://www.worldometers.info/coronavirus/" rel="noopener ugc nofollow" target="_blank"><strong class="lc iu"><em class="mf">world ometers . info</em></strong></a><strong class="lc iu"><em class="mf">获取 COVID19 数据来创建 dataframe。请记住这个数据每小时都在变化。我将制作五个不同的列，如<code class="fe nq nr ns nt b"><strong class="lc iu">Total Cases</strong></code><strong class="lc iu"/><code class="fe nq nr ns nt b"><strong class="lc iu">Total Deaths</strong></code><strong class="lc iu"/><code class="fe nq nr ns nt b"><strong class="lc iu">Total Recovered</strong></code><strong class="lc iu"/><code class="fe nq nr ns nt b"><strong class="lc iu">Total Tests</strong></code><strong class="lc iu"/><code class="fe nq nr ns nt b"><strong class="lc iu">Population</strong></code><strong class="lc iu">。</strong>对于行，我会选择<strong class="lc iu"/><code class="fe nq nr ns nt b"><strong class="lc iu">USA</strong></code><strong class="lc iu"/><code class="fe nq nr ns nt b"><strong class="lc iu">Brazil</strong></code><strong class="lc iu"/><code class="fe nq nr ns nt b"><strong class="lc iu">Russia</strong></code><strong class="lc iu"/><code class="fe nq nr ns nt b"><strong class="lc iu">India</strong></code><strong class="lc iu"/><code class="fe nq nr ns nt b"><strong class="lc iu">Peru</strong></code><strong class="lc iu">。</strong></em></strong></p><pre class="kj kk kl km gt ov nt ow ox aw oy bi"><span id="5413" class="oz mo it nt b gy pa pb l pc pd"><strong class="nt iu"># Create a dataframe using pandas library</strong></span><span id="d3cc" class="oz mo it nt b gy pe pb l pc pd">df = pd.<strong class="nt iu">DataFrame</strong>([[2768571, 130655, 1155027, 34713051, 331002277],        </span><span id="630a" class="oz mo it nt b gy pe pb l pc pd">                   [1448753, 60632, 790040, 3070447, 212558178],</span><span id="f582" class="oz mo it nt b gy pe pb l pc pd">                   [654405, 9536, 422931, 19852167, 145934619],</span><span id="4590" class="oz mo it nt b gy pe pb l pc pd">                   [605216, 17848, 359891, 8826585, 1379974505],</span><span id="60a8" class="oz mo it nt b gy pe pb l pc pd">                   [288477, 9860, 178245, 1699369, 32969875]],</span><span id="288b" class="oz mo it nt b gy pe pb l pc pd">                   <strong class="nt iu">columns </strong>= ['Total Cases', 'Total Deaths', 'Total         Recovered', 'Total Tests', 'Population'])</span></pre></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="aeef" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">创建一个名为</strong> <code class="fe nq nr ns nt b"><strong class="lc iu">country</strong></code> <strong class="lc iu">的列表，然后存储你想要渲染的图像(标志)的所有路径。</strong></p><p id="b740" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这一步是显而易见的，为了保持一致，我们将创建一个列表，其中包含上面列出的所有国家的国旗路径。国旗来源可以在这里 找到<a class="ae kz" href="https://www.countries-ofthe-world.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iu">。</strong></a></p><pre class="kj kk kl km gt ov nt ow ox aw oy bi"><span id="4303" class="oz mo it nt b gy pa pb l pc pd"><strong class="nt iu"># Create a list named country to store all the image paths</strong></span><span id="a44f" class="oz mo it nt b gy pe pb l pc pd">country<strong class="nt iu"> </strong>= [</span><span id="fe81" class="oz mo it nt b gy pe pb l pc pd">'https://www.countries-ofthe-world.com/flags-normal/flag-of-United-States-of-America.png',</span><span id="37e5" class="oz mo it nt b gy pe pb l pc pd">'https://www.countries-ofthe-world.com/flags-normal/flag-of-Brazil.png',</span><span id="aeff" class="oz mo it nt b gy pe pb l pc pd">'https://www.countries-ofthe-world.com/flags-normal/flag-of-Russia.png',</span><span id="cfbc" class="oz mo it nt b gy pe pb l pc pd">'https://www.countries-ofthe-world.com/flags-normal/flag-of-India.png',</span><span id="a7b2" class="oz mo it nt b gy pe pb l pc pd">'https://www.countries-ofthe-world.com/flags-normal/flag-of-Peru.png'</span><span id="0ba4" class="oz mo it nt b gy pe pb l pc pd">]</span></pre></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="3878" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">将</strong> <code class="fe nq nr ns nt b"><strong class="lc iu">country</strong></code> <strong class="lc iu">列表分配给现有的</strong> <code class="fe nq nr ns nt b"><strong class="lc iu">df</strong></code> <strong class="lc iu">数据帧。这将作为一个新列附加到现有数据帧中。</strong></p><p id="194d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这是最简单的步骤之一，因为您需要将名为<code class="fe nq nr ns nt b"><strong class="lc iu">country</strong></code> <strong class="lc iu"> </strong>的列表分配给 dataframe 名为<code class="fe nq nr ns nt b"><strong class="lc iu">Country</strong></code>的新列。</p><pre class="kj kk kl km gt ov nt ow ox aw oy bi"><span id="285e" class="oz mo it nt b gy pa pb l pc pd"><strong class="nt iu"># Assigning the new list as a new column of the dataframe</strong></span><span id="7fd7" class="oz mo it nt b gy pe pb l pc pd">df['Country'] = country</span></pre><p id="dcbd" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">当你打印数据帧<code class="fe nq nr ns nt b"><strong class="lc iu">df</strong></code>时这样做。你会得到下面的结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/453c1a1d7eb3ff0dc8c283f6cd365b87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V0zh2q_gl08LYW9DAkrw_A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd ky">塔努·南达·帕布拍摄的照片</strong></p></figure></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="1938" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">编写一个函数，将图片(链接)的给定路径转换成 HTML 标签</strong></p><p id="6d8e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这里你需要写一个将链接转换成标签的函数，正如你在前面的结果(Dataframe)中看到的，Country 列有所有的链接，所以这一步是必要的。</p><pre class="kj kk kl km gt ov nt ow ox aw oy bi"><span id="7fe5" class="oz mo it nt b gy pa pb l pc pd"><strong class="nt iu"># Converting links to html tags</strong></span><span id="b329" class="oz mo it nt b gy pe pb l pc pd">def <strong class="nt iu">path_to_image_html</strong>(path):<br/>    return '&lt;img src="'+ <strong class="nt iu">path </strong>+ '" width="60" &gt;'</span></pre><p id="cd40" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">该函数的返回类型是传统的<code class="fe nq nr ns nt b"><strong class="lc iu">img</strong></code> <strong class="lc iu"> </strong>标签，我们用它来呈现网页上的图像。如果你不知道我在说什么请看<a class="ae kz" href="https://www.w3schools.com/tags/tag_img.asp" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iu">这个</strong> </a>。这样做的原因是，如果所有的路径都被转换成图像标签，那么最后在一个内置的 HTML 方法的帮助下，所有这些都将被呈现为图像。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="55df" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">将数据帧渲染为 HTML 表格，然后调用 HTML 方法显示渲染后的图像</strong></p><p id="dc43" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们将使用<code class="fe nq nr ns nt b"><strong class="lc iu">to_html</strong></code>方法将数据帧转换成 HTML 表格。有一些参数我们需要处理，首先是<code class="fe nq nr ns nt b"><strong class="lc iu">escape = False</strong></code>，转义 HTML 标签，我们需要调用<code class="fe nq nr ns nt b"><strong class="lc iu">path_to_image_html </strong></code>方法，将其转换成一个字典，并将其分配给 formatters 内置变量。欲知此法详情，请访问<a class="ae kz" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_html.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iu">此处</strong> </a>。</p><pre class="kj kk kl km gt ov nt ow ox aw oy bi"><span id="cd13" class="oz mo it nt b gy pa pb l pc pd"><strong class="nt iu"># Rendering the dataframe as HTML table</strong></span><span id="cb3d" class="oz mo it nt b gy pe pb l pc pd">df.to_html(escape=False, formatters=dict(Country=path_to_image_html))</span></pre><p id="0005" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">通过执行这个操作，您将得到一个您熟悉的 HTML 表格。下面我将只提供第一个表行快照:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/cb953cd0207876325e70ab30a1c2480a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WJ7xpIvJBsYnkPSOH3hM6A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd ky">塔努·南达·帕布拍摄的照片</strong></p></figure><p id="ea42" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">而最后要做的就是调用内置的<code class="fe nq nr ns nt b"><strong class="lc iu">HTML</strong></code> <strong class="lc iu"> </strong>方法，将整个 dataframe 作为参数传递。</p><pre class="kj kk kl km gt ov nt ow ox aw oy bi"><span id="8db4" class="oz mo it nt b gy pa pb l pc pd"><strong class="nt iu"># Rendering the images in the dataframe using the HTML method.</strong></span><span id="9186" class="oz mo it nt b gy pe pb l pc pd"><strong class="nt iu">HTML</strong>(df.to_html(escape=False,formatters=dict(Country=path_to_image_html)))</span></pre><p id="1a1f" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">最后，当你执行这个，你会得到你想要的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/3f3604024e577c00e282f3290693ebe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CsmHb1x8tLTzG7-earKyUA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd ky">塔努·南达·帕布拍摄的照片</strong></p></figure></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="cc04" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">奖金</h1><p id="eb39" class="pw-post-body-paragraph la lb it lc b ld nh ju lf lg ni jx li lj oa ll lm ln ob lp lq lr oc lt lu lv im bi translated">正如我所承诺的，我将向你们展示如何将数据帧保存为 HTML 页面。当你想给你的老板或任何人发送大量带有图像的数据帧时，这通常会很有帮助。</p><pre class="kj kk kl km gt ov nt ow ox aw oy bi"><span id="eb6b" class="oz mo it nt b gy pa pb l pc pd"><strong class="nt iu"># Saving the dataframe as a webpage</strong></span><span id="ddf4" class="oz mo it nt b gy pe pb l pc pd">df.<strong class="nt iu">to_html</strong>('webpage.html',escape=False, formatters=dict(Country=path_to_image_html))</span></pre><p id="e5e4" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如上所述，你只需要提供保存网页的路径，因为我用的是我的<a class="ae kz" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iu"> Google Colab </strong> </a>，它会保存在我的笔记本环境中，打开它你会看到如下所示的结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/10abcd87b478d1e3dc6278d57cffbc72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q9peI8Gx9S8ewpfP6xx5Cw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd ky">塔努·南达·帕布拍摄的照片</strong></p></figure></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="074a" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">完整代码</h1><p id="8de6" class="pw-post-body-paragraph la lb it lc b ld nh ju lf lg ni jx li lj oa ll lm ln ob lp lq lr oc lt lu lv im bi translated">本教程的完整代码可以在下面找到:</p><pre class="kj kk kl km gt ov nt ow ox aw oy bi"><span id="0bf2" class="oz mo it nt b gy pa pb l pc pd"><strong class="nt iu"># Importing the necessary libraries<br/></strong>import pandas as pd<br/>from IPython.core.display import HTML</span><span id="913b" class="oz mo it nt b gy pe pb l pc pd"><strong class="nt iu"># Create a dataframe using pandas library<br/></strong>df = pd.DataFrame([[2768571, 130655, 1155027, 34713051, 331002277],<br/>[1448753, 60632, 790040, 3070447, 212558178],[654405, 9536, 422931, 19852167, 145934619],[605216, 17848, 359891, 8826585, 1379974505],[288477, 9860, 178245, 1699369, 32969875]], columns = ['Total Cases', 'Total Deaths', 'Total Recovered', 'Total Tests', 'Population'])</span><span id="8185" class="oz mo it nt b gy pe pb l pc pd"><strong class="nt iu"># Create a list named country to store all the image paths<br/></strong>country = ['https://www.countries-ofthe-world.com/flags-normal/flag-of-United-States-of-America.png','https://www.countries-ofthe-world.com/flags-normal/flag-of-Brazil.png','https://www.countries-ofthe-world.com/flags-normal/flag-of-Russia.png','https://www.countries-ofthe-world.com/flags-normal/flag-of-India.png','https://www.countries-ofthe-world.com/flags-normal/flag-of-Peru.png']</span><span id="04dd" class="oz mo it nt b gy pe pb l pc pd"><strong class="nt iu"># Assigning the new list as a new column of the dataframe<br/></strong>df['Country'] = country</span><span id="1e9d" class="oz mo it nt b gy pe pb l pc pd"><strong class="nt iu"># Converting links to html tags<br/></strong>def path_to_image_html(path):<br/>    return '&lt;img src="'+ path + '" width="60" &gt;'</span><span id="79b9" class="oz mo it nt b gy pe pb l pc pd"><strong class="nt iu"># Rendering the dataframe as HTML table<br/></strong>df.to_html(escape=False, formatters=dict(Country=path_to_image_html))</span><span id="88fc" class="oz mo it nt b gy pe pb l pc pd"><strong class="nt iu"># Rendering the images in the dataframe using the HTML method.<br/></strong>HTML(df.to_html(escape=False,formatters=dict(Country=path_to_image_html)))</span><span id="e2a3" class="oz mo it nt b gy pe pb l pc pd"><strong class="nt iu"># Saving the dataframe as a webpage<br/></strong>df.to_html('webpage.html',escape=False, formatters=dict(Country=path_to_image_html))</span></pre></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="38db" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">写这篇文章的主要灵感来自于这个关于堆栈溢出的论坛。特别感谢<a class="ae kz" href="https://stackoverflow.com/users/7752296/chitown88" rel="noopener ugc nofollow" target="_blank"><strong class="lc iu">chitown 88</strong></a><strong class="lc iu">。</strong></p><div class="od oe gp gr of og"><a href="https://stackoverflow.com/questions/53468558/adding-image-to-pandas-dataframe" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">向熊猫数据帧添加图像</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">假设我有一个想要导出为 PDF 的数据帧。在数据框中，我有以下几列:代码，名称，价格…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">stackoverflow.com</p></div></div><div class="op l"><div class="pp l or os ot op ou ks og"/></div></div></a></div><p id="c961" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">谢谢大家，这就是这个教程，我希望你们今天学到了一些新的东西。如果你们对代码有任何意见或担忧，请明智地使用评论部分。敬请关注更多更新，直到那时再见。保持安全和快乐的编码！</p></div></div>    
</body>
</html>