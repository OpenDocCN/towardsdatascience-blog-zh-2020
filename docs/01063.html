<html>
<head>
<title>A Simple Linear Regression Model</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个简单的线性回归模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-simple-linear-regression-model-f2a53ed61a21?source=collection_archive---------19-----------------------#2020-01-30">https://towardsdatascience.com/a-simple-linear-regression-model-f2a53ed61a21?source=collection_archive---------19-----------------------#2020-01-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b1a2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">探索电价与碳排放数据之间的关系</h2></div></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><p id="288d" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">回归分析是一种强大的统计方法，能够在感兴趣的变量之间进行检查。它可以用来评估变量之间关系的强度，并对它们之间的未来关系进行建模。</p><p id="12d9" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">经济学家痴迷于回归。这可能就是为什么它们是我大学生活中不可或缺的一部分。这种定量估计是理解经济理论最重要和最常用的工具之一。</p><p id="0b4f" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在经济学中，相关性是常见的，但识别两个或更多变量之间的相关性是否是因果关系却很难做到。回归分析使我们能够预测变化的方向和距离，以及变量之间这种关系的重要性。</p><p id="de8e" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">它也是统计学、数据科学和机器学习中最广为人知和理解的算法之一。它的简单意味着它是一个很好的起点，对于那些想进入这个领域的人来说。</p></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><p id="255b" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">我之前的工作让我参与了能源行业的一个科技初创企业，特别是电力行业。鉴于我的非能源背景，我有很多关于电力市场运作的东西要学。</p><p id="42ac" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">我通过接触这个行业获得的一个信息片段——简单易懂，但不是每个人都知道——是电价和电网的碳排放强度是相关的。</p><p id="ec14" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这些变量构成了我的线性回归的基础。</p></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><h1 id="7360" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">查找数据</h1><p id="44ca" class="pw-post-body-paragraph km kn iq ko b kp ma jr kr ks mb ju ku kv mc kx ky kz md lb lc ld me lf lg lh ij bi translated"><strong class="ko ir"> <em class="mf">碳强度</em> </strong></p><p id="d2e0" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">任何数据科学项目的第一部分都是寻找数据。国家电网提供了一个交互式网站，并托管了一个易于使用的 API。我选择了一周的每小时碳强度数据来分析最近的电网排放。</p><p id="08e4" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">它们还提供了对未来 48 小时的估计。他们这样做是为了尝试和鼓励公司根据他们的预测，使用他们的 API 来自动化 IOT 设备的电力消耗。想想用风力而不是煤炭发电机充电的电动汽车。</p><p id="46f8" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">我只选择了 2019 年 10 月 20 日至 27 日的日期，来看看上周的情况。</p><p id="2e08" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">【www.carbonintensity.org.uk】<a class="ae mg" href="https://carbonintensity.org.uk/" rel="noopener ugc nofollow" target="_blank"><em class="mf"/></a><em class="mf">)</em></p><p id="62a4" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir"> <em class="mf">电价</em> </strong></p><p id="6907" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">当我们以家庭为单位消耗电力时，我们被给予固定的小时费率，而不管一天中的什么时间。然而，公用事业对批发市场有一些敞口。为了最大限度地减少这种情况，大型企业确保绝大多数英国电力通过双边协议出售，远离公开市场，从而限制了它们的价格风险。</p><p id="04c5" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">然而，因为电力不能大规模储存，所以供给必须始终等于需求。这意味着必须建立一些市场机制来确保平衡。其中之一，前一天市场，正如它听起来的那样——买家和卖家提前 24 小时出价。有各种更不稳定的短期市场机制，确保市场清算和平衡，但是 NordPool 集团的数据相对容易处理。</p><p id="8916" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><a class="ae mg" href="https://www.nordpoolgroup.com/" rel="noopener ugc nofollow" target="_blank">(<em class="mf">www.nordpoolgroup.com</em>T3)</a></p></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><h1 id="d33e" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">可视化</h1><p id="9c80" class="pw-post-body-paragraph km kn iq ko b kp ma jr kr ks mb ju ku kv mc kx ky kz md lb lc ld me lf lg lh ij bi translated"><em class="mf">前一天市场上一周内每兆瓦时的价格。</em></p><figure class="mi mj mk ml gt mm gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi mh"><img src="../Images/b6566d2c5bf6f42449d9db92d4b32d86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sq-sNgklC6ACH_kIxJS5MQ.png"/></div></div></figure><p id="26db" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><em class="mf">电网平均碳强度(gC02/kWh) </em></p><figure class="mi mj mk ml gt mm gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi mt"><img src="../Images/af0326ebb6c5a6504718e20c7306a933.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5zBOFED9q5Wk6E_Nj7E0pA.png"/></div></div></figure><p id="27e7" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">上面的图表直观地展示了我们一天中不同的电力需求(和供应)的结果。总体情况是，价格和碳强度在早上上升，在上午 8 点达到峰值，白天下降，然后在晚上再次上升，在晚上 8 点达到峰值。这在碳强度和价格方面大体相似。</p><p id="0c6d" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">下面作图，可以更清楚的看到这种关系。</p><figure class="mi mj mk ml gt mm gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi mu"><img src="../Images/dc6dc7a552a205f600f0264106ee25e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QDtgWVu5hNDRx93NkkpCNQ.png"/></div></div></figure><p id="3451" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这些可视化可以证明是获得数据感觉的有用工具，但在变量之间的相互作用的统计分析中是有限的。</p><p id="935d" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">虽然看起来有某种相关性，但线性回归允许我们进一步研究这种关系。</p></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><h1 id="0b11" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated"><strong class="ak">假设</strong></h1><p id="9fbd" class="pw-post-body-paragraph km kn iq ko b kp ma jr kr ks mb ju ku kv mc kx ky kz md lb lc ld me lf lg lh ij bi translated">线性回归需要满足五个关键假设:</p><ul class=""><li id="cefd" class="mv mw iq ko b kp kq ks kt kv mx kz my ld mz lh na nb nc nd bi translated">线性关系</li><li id="c5b6" class="mv mw iq ko b kp ne ks nf kv ng kz nh ld ni lh na nb nc nd bi translated">多元正态性</li><li id="bc35" class="mv mw iq ko b kp ne ks nf kv ng kz nh ld ni lh na nb nc nd bi translated">没有或很少多重共线性</li><li id="ccaf" class="mv mw iq ko b kp ne ks nf kv ng kz nh ld ni lh na nb nc nd bi translated">无自相关</li><li id="bc98" class="mv mw iq ko b kp ne ks nf kv ng kz nh ld ni lh na nb nc nd bi translated">同方差性</li></ul><figure class="mi mj mk ml gt mm gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/5a6123071340e7499dc477832ed8c575.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*XENK3DViSDH63ISVPjt0Yg.png"/></div></figure><h1 id="b282" class="li lj iq bd lk ll nk ln lo lp nl lr ls jw nm jx lu jz nn ka lw kc no kd ly lz bi translated">普通最小二乘法</h1><p id="85a7" class="pw-post-body-paragraph km kn iq ko b kp ma jr kr ks mb ju ku kv mc kx ky kz md lb lc ld me lf lg lh ij bi translated">我导入并运行了 stats models——一个 python 库——来执行普通的最小二乘回归(OLS)。</p><p id="6956" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">OLS 发现 Y(电价)的平均变化是由 X(碳强度)的变化引起的。最小二乘法是指通过绘制最佳拟合线来找到这一平均变化。它采用实际数据和预测值(最佳拟合线)之间的距离，计算误差并对其求平方，以找到预测值的实际距离。如果模型可以改进，直线会移动到该点，直到它与所有数据点的距离尽可能小。</p><figure class="mi mj mk ml gt mm gh gi paragraph-image"><div class="gh gi np"><img src="../Images/a690895887d70c6e0f10c5774dbe62f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*nMzeNV-DM8n0sltdjDmTpA.png"/></div></figure><p id="e974" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">Statsmodels 使用它的 summary()超级功能提供了一个非常棒的模型摘要，这正是我选择使用它而不是其他也可以执行回归分析的库的原因</p><p id="8847" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">可视化可以再次帮助描绘模型。</p><figure class="mi mj mk ml gt mm gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/358d98f0c1e78e1abb6a91884124dec8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/format:webp/1*8Mn5QM_IhhzfHjHQQNA5Gg.png"/></div></figure><p id="83ef" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">该模型显示了变量之间的平均关系。如果我们知道哪些发电机目前正在运行，它们的碳强度和当前输出，我们将应该能够参考这条线并估计价格。然而，其准确性取决于通过各种统计测试来评估其显著性。</p><p id="2e96" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在这种情况下，由于其低<strong class="ko ir"> durbin-watson </strong>结果，它不符合无自相关的假设。除此之外，它的<strong class="ko ir"> Jarque-Bera </strong>比可接受的高得多，表明非正态分布。这可能会使我们的模型失效。</p><p id="2689" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">误差分布:</p><p id="cfc0" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><em class="mf">检查同质性</em></p><figure class="mi mj mk ml gt mm gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/4019eb442cb6b3559173f1d7f86932e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*XxfFTF6h1SCV3RzupvT8PQ.png"/></div></figure><p id="c3a4" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">首先，当价格正态分布时:</p><figure class="mi mj mk ml gt mm gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/668c584d88cf4b1b83045898f86a6157.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*8Rzr-toeXdVHf2pn_ffp7A.png"/></div></figure><p id="c0ad" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">碳强度不是:</p><figure class="mi mj mk ml gt mm gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/1ca468274378b3791b9483901837097c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*ti4n1rt8fMjMOTaeRvUziA.png"/></div></figure></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><h1 id="6e21" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated"><strong class="ak">结果讨论</strong></h1><p id="a370" class="pw-post-body-paragraph km kn iq ko b kp ma jr kr ks mb ju ku kv mc kx ky kz md lb lc ld me lf lg lh ij bi translated">因此，我们的模型在统计学上充其量是可疑的，但这并不意味着某种关系不存在。如果我有更多的时间，或者得到别人的帮助，这段关系肯定会很有趣。最重要的是，如此小的数据集不可能产生这些无关紧要的结果。</p><p id="5d06" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">极度简化的高碳密度燃料和高价格是相互关联的，因为可再生能源发电不需要燃料，以及随之而来的所有成本:采购燃料、购买土地、钻探或挖掘燃料、提炼燃料、运输燃料、处理废物。</p><p id="d7c0" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">煤炭是效率最低的燃料来源，也是我们电网中最脏的，在转换成电力时会损失 70%的能量。另一方面，风能最终成为最有效的能源，产生的电能比它所消耗的能量多 1126%。</p><p id="7e06" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><em class="mf">(</em><a class="ae mg" href="https://blogs.wsj.com/numbers/what-is-the-most-efficient-source-of-electricity-1754/?ns=prod/accounts-wsj" rel="noopener ugc nofollow" target="_blank"><em class="mf">https://blogs . wsj . com/numbers/what-is-the-most-efficient-source-of-electricity-1754/？ns = prod/accounts-wsj</em></a><em class="mf">)</em></p></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><h1 id="6f0a" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">继续进一步建模</h1><p id="7789" class="pw-post-body-paragraph km kn iq ko b kp ma jr kr ks mb ju ku kv mc kx ky kz md lb lc ld me lf lg lh ij bi translated">为了进一步分析电价指标，我们可以使用各种方法来强化我们的模型:</p><p id="722d" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">包含更多数据:</strong></p><p id="94c8" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这可能包括更长时间内的数据，或来自其他国家的数据——前提是我们还可以访问或计算电网的碳强度。(这通常很难计算)</p><p id="b36a" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">包含更多变量:</strong></p><p id="1fcc" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">包括其他变量，如全球油价、天然气和煤炭价格，显然是帮助预测价格的有力竞争者。除此之外，我们还可以研究太阳能电池板成本和风力涡轮机成本，甚至探索局部天气数据的粒度，预测电力需求(大型体育赛事往往会产生有趣的结果——尽管橄榄球世界杯没有)。</p></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><p id="d436" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">使用线性回归作为分析电价的基础可以证明是能源转型的有用工具。如果我们想摆脱对化石燃料的依赖，将我们的能源需求转向可再生和低碳发电是至关重要的。</p><p id="70c7" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">分析和预测是让我们实现这一目标的第一步，有像 Nest 这样的公司帮助控制大量房屋的能源消耗，以限制我们的碳足迹。</p><p id="320b" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这一点尤其重要，因为我们的交通工具实现了电气化，电力消耗激增。如果所有这些额外的需求都由煤炭而不是风力来提供，那么关键的好处将会丧失。</p></div></div>    
</body>
</html>