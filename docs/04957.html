<html>
<head>
<title>Analyzing the Coronavirus outbreak in France and South Korea</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æ³•å›½å’ŒéŸ©å›½å† çŠ¶ç—…æ¯’ç–«æƒ…åˆ†æ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/analyzing-the-coronavirus-outbreak-in-france-and-south-korea-8f467ef385de?source=collection_archive---------56-----------------------#2020-04-29">https://towardsdatascience.com/analyzing-the-coronavirus-outbreak-in-france-and-south-korea-8f467ef385de?source=collection_archive---------56-----------------------#2020-04-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/9041c5a1f34b410e4a8f6486d10b597a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l1c_p6KjbNYMKJ9zNGzIVg.jpeg"/></div></div></figure><div class=""/><p id="3119" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬ç›®å‰æ­£åœ¨ç»å†æ–°å‹å† çŠ¶ç—…æ¯’çš„è´Ÿé¢å½±å“ã€‚è¿™ç§ç—…æ¯’è¿…é€Ÿæ”¹å˜äº†æˆ‘ä»¬çš„ç”Ÿæ´»ï¼Œå¹¶è®©æˆ‘ä»¬è®¸å¤šäººå¯¹å³å°†å‘ç”Ÿçš„äº‹æƒ…æ„Ÿåˆ°å›°æƒ‘å’Œææƒ§ã€‚</p><p id="f0be" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä½œä¸ºå·¥ç¨‹å¸ˆå’Œæ•°æ®ç§‘å­¦å®¶ï¼Œæˆ‘ä»¬å¸Œæœ›å¸®åŠ©ç†è§£æµ·é‡çš„å¯ç”¨æ•°æ®ã€‚æˆ‘ä»¬è®¤ä¸ºï¼Œæˆ‘ä»¬æœ‰è´£ä»»åˆ†äº«æˆ‘ä»¬çš„è§è§£ï¼Œä»¥ä¾¿é›†ä½“æ‰¾åˆ°è§£å†³åŠæ³•ï¼Œé˜²æ­¢ç–¾ç—…è¿›ä¸€æ­¥çˆ†å‘ã€‚</p><p id="8cda" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æœ¬æ–‡çš„é‡ç‚¹æ˜¯åˆ†æè¿™ç§ç–¾ç—…æœ€åˆåœ¨æ³•å›½å’ŒéŸ©å›½çš„ä¼ æ’­ã€‚æˆ‘ä»¬çš„åˆ†ææ¶µç›–äº†æˆªè‡³2020å¹´3æœˆ12æ—¥æ”¶é›†çš„æ‰€æœ‰æ•°æ®ã€‚å¤šäºäº†æˆ‘ä»¬çš„æ•°æ®ç§‘å­¦å®¶èœœçªæ‹‰Â·çš®è¨å°¼çš„å·¥ä½œï¼Œå®ƒæ‰å¾—ä»¥æ•´åˆã€‚</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="b924" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd jf"> <em class="lg">ç¼–è€…æŒ‰:</em> </strong> <em class="lg"> </em> <a class="ae lh" href="http://towardsdatascience.com/" rel="noopener" target="_blank"> <em class="lg">èµ°å‘æ•°æ®ç§‘å­¦</em> </a> <em class="lg">æ˜¯ä¸€ä»½ä»¥æ•°æ®ç§‘å­¦å’Œæœºå™¨å­¦ä¹ ç ”ç©¶ä¸ºä¸»çš„ä¸­å‹åˆŠç‰©ã€‚æˆ‘ä»¬ä¸æ˜¯å¥åº·ä¸“å®¶æˆ–æµè¡Œç—…å­¦å®¶ï¼Œæœ¬æ–‡çš„è§‚ç‚¹ä¸åº”è¢«è§£é‡Šä¸ºä¸“ä¸šå»ºè®®ã€‚æƒ³äº†è§£æ›´å¤šå…³äºç–«æƒ…å† çŠ¶ç—…æ¯’çš„ä¿¡æ¯ï¼Œå¯ä»¥ç‚¹å‡»</em> <a class="ae lh" href="https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports" rel="noopener ugc nofollow" target="_blank"> <em class="lg">è¿™é‡Œ</em> </a> <em class="lg">ã€‚</em></p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="305d" class="li lj je bd lk ll lm dn ln lo lp dp lq km lr ls lt kq lu lv lw ku lx ly lz ma bi translated">æˆ‘ä»¬çš„æ•°æ®æ¥æº</h2><p id="785d" class="pw-post-body-paragraph kb kc je kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">Kaggleä¸ºæ•°æ®ç§‘å­¦å®¶æä¾›ä¸åŒçš„æ•°æ®é›†ã€‚å®ƒä»¬å¯ä»¥ç”¨æ¥ç»ƒä¹ å’Œè§£å†³æœºå™¨å­¦ä¹ é—®é¢˜ã€‚</p><p id="50f2" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä»¥ä¸‹é“¾æ¥åŒ…å«æ¥è‡ªä¸–ç•Œå„å›½çš„æœ€æ–°æ•°æ®é›†ï¼Œæä¾›äº†æ„ŸæŸ“å† çŠ¶ç—…æ¯’çš„æ‚£è€…çš„ç»Ÿè®¡æ•°æ®:</p><ul class=""><li id="f89d" class="mg mh je kd b ke kf ki kj km mi kq mj ku mk ky ml mm mn mo bi translated"><a class="ae lh" href="https://www.kaggle.com/kimjihoo/coronavirusdataset" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/kimjihoo/coronavirusdataset</a></li><li id="f3d1" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated"><a class="ae lh" href="https://www.kaggle.com/lperez/coronavirus-france-dataset" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/lperez/coronavirus-france-dataset</a></li><li id="f64e" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated"><a class="ae lh" href="https://www.kaggle.com/imdevskp/corona-virus-report#covid_19_clean_complete.csv" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/imdevskp/corona-virus-report # covid _ 19 _ clean _ complete . CSV</a></li><li id="e341" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated"><a class="ae lh" href="https://www.kaggle.com/sudalairajkumar/covid19-in-italy" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/sudalairajkumar/covid19-in-italy</a></li></ul><p id="f417" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æ›´å¤šä¿¡æ¯èµ„æºå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ã€‚</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="889b" class="mu lj je bd lk mv mw mx ln my mz na lq nb nc nd lt ne nf ng lw nh ni nj lz nk bi translated">é—®é¢˜</h1><p id="b7c5" class="pw-post-body-paragraph kb kc je kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">æ­¤æ—¶æ­¤åˆ»ï¼Œç§‘å­¦ç•Œçš„é—®é¢˜è¿œå¤šäºç­”æ¡ˆã€‚æå‡ºé—®é¢˜å¾ˆå®¹æ˜“ï¼Œä½†å¤§å¤šæ•°ç­”æ¡ˆéƒ½éœ€è¦ç­‰å¾…ã€‚</p><p id="47e4" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ç¼–é€ å…¶ä¸­çš„ä¸€äº›ï¼Œæ¯”å¦‚:</p><ul class=""><li id="1f06" class="mg mh je kd b ke kf ki kj km mi kq mj ku mk ky ml mm mn mo bi translated">æ•°æ®ä¸­æ˜¯å¦æœ‰æŸç§æ¨¡å¼ï¼Œç¬¬ä¸€æ¬¡æ„ŸæŸ“æ˜¯å¦‚ä½•å‘ç”Ÿçš„ï¼Ÿæœ‰å®¹æ˜“è¯†åˆ«çš„é›†ç¾¤å—ï¼Ÿ</li><li id="a815" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">é˜³æ€§ç—…ä¾‹å’Œæ­»äº¡ç—…ä¾‹çš„æ¯”ä¾‹æ˜¯å¤šå°‘ï¼Ÿ</li><li id="1a2e" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">æˆ‘ä»¬èƒ½é¢„æµ‹æœªæ¥çš„é˜³æ€§ç—…ä¾‹å—ï¼Ÿ</li><li id="e132" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">ç—…æ¯’è½¨è¿¹æ˜¯æ€æ ·çš„ï¼Ÿéšç€æ—¶é—´çš„æ¨ç§»ï¼Œç—…æ¯’æ˜¯å¦‚ä½•ä¼ æ’­çš„ï¼Ÿ</li></ul><p id="9faa" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å¦‚å‰æ‰€è¿°ï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨è¯¥ç—…æ¯’æœ€åˆæ˜¯å¦‚ä½•åœ¨æ³•å›½å’ŒéŸ©å›½ä¼ æ’­çš„ï¼Œå¹¶é€šè¿‡èšç±»åˆ†æå¯¹ä¸¤è€…è¿›è¡Œæ¯”è¾ƒã€‚</p><p id="bb64" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">èšç±»åˆ†æçš„ä»»åŠ¡æ˜¯å¯¹ä¸€ç»„å¯¹è±¡è¿›è¡Œåˆ†ç»„ï¼Œä½¿åŒä¸€ç»„(ç§°ä¸ºèšç±»)ä¸­çš„å¯¹è±¡æ¯”å…¶ä»–ç»„(èšç±»)ä¸­çš„å¯¹è±¡æ›´ç›¸ä¼¼(åœ¨æŸç§æ„ä¹‰ä¸Š)ã€‚</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="8fde" class="mu lj je bd lk mv mw mx ln my mz na lq nb nc nd lt ne nf ng lw nh ni nj lz nk bi translated">æ­¥éª¤1 â€”æˆ‘ä»¬çš„æ•°æ®é›†</h1><p id="b4ad" class="pw-post-body-paragraph kb kc je kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">æœ‰ä¸¤ä¸ªæ•°æ®é›†åˆ†åˆ«åŒ…å«æ³•å›½å’ŒéŸ©å›½çš„ç±»ä¼¼ä¿¡æ¯ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬çš„æƒ³æ³•æ˜¯åˆå¹¶è¿™äº›æ•°æ®é›†ï¼Œçœ‹çœ‹æˆ‘ä»¬æ˜¯å¦èƒ½æ‰¾åˆ°æœ‰æ„ä¹‰çš„èšç±»ã€‚<br/>æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æ•°æ®çš„é“¾æ¥:</p><ul class=""><li id="05c9" class="mg mh je kd b ke kf ki kj km mi kq mj ku mk ky ml mm mn mo bi translated">æ³•å…°è¥¿ğŸ‡«ğŸ‡·:<a class="ae lh" href="https://www.kaggle.com/lperez/coronavirus-france-dataset" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/lperez/coronavirus-france-dataset</a></li><li id="b801" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">å—éŸ©ğŸ‡°ğŸ‡·:<a class="ae lh" href="https://www.kaggle.com/kimjihoo/coronavirusdataset" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/kimjihoo/coronavirusdataset</a></li></ul><p id="7cfe" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è®©æˆ‘ä»¬é¦–å…ˆå¯¹æˆ‘ä»¬å°†åœ¨è¿™é‡Œä½¿ç”¨çš„åº“è¿›è¡Œä¸€äº›åˆå§‹è®¾ç½®ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="6df3" class="li lj je nq b gy nu nv l nw nx">import pandas as pd<br/>import numpy as np<br/>import random<br/>from sklearn import preprocessing<br/>from sklearn.cluster import KMeans<br/>import matplotlib.pyplot as plt<br/>from kneed import KneeLocator<br/>from matplotlib import cm<br/>from mpl_toolkits.mplot3d import Axes3D</span></pre><p id="a3d5" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘æ¨èä½ çœ‹çœ‹è¿™ç¯‡å…³äºç†ŠçŒ«å›¾ä¹¦é¦†å’Œæ•°æ®æ¸…ç†çš„æ–‡ç« ã€‚</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="30db" class="mu lj je bd lk mv mw mx ln my mz na lq nb nc nd lt ne nf ng lw nh ni nj lz nk bi translated">æ­¥éª¤2 â€”æ£€æŸ¥æ•°æ®è´¨é‡</h1><p id="b0c6" class="pw-post-body-paragraph kb kc je kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">åœ¨æ·±å…¥æŒ–æ˜ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»æ¢ç´¢æˆ‘ä»¬çš„æ•°æ®é›†ï¼Œçœ‹çœ‹å®ƒçœ‹èµ·æ¥åƒä»€ä¹ˆï¼Œä»¥åŠæˆ‘ä»¬å¸Œæœ›å¦‚ä½•å¼€å§‹æˆ‘ä»¬çš„åˆ†æã€‚</p><p id="d2e4" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬å°†æ£€æŸ¥ç©ºå€¼ã€‚æˆ‘ä»¬å°†åŠ è½½ä¸¤ä¸ªæ•°æ®é›†ï¼Œå¹¶æŸ¥çœ‹æ‰¾åˆ°å¤šå°‘ç©º(NA)å€¼ã€‚</p><p id="be13" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd jf"> <em class="lg"> NA </em> </strong> <em class="lg">å€¼å¯¹åº”ç¼ºå¤±æˆ–ç©ºä¿¡æ¯ã€‚</em></p><p id="9970" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æ ¹æ®æˆ‘ä»¬çš„å‘ç°ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä¸ºæ¯ä¸ªç‰¹å®šçš„åˆ—åšå‡ºä¸€äº›å†³å®šï¼Œä»¥ä¾¿ä¸ºåˆ†æå‡†å¤‡æ•°æ®ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="98ff" class="li lj je nq b gy nu nv l nw nx">def load_data(data_path):<br/>    <!-- -->df = pd.read_csv(data_path + '/patient.csv')<br/>    <!-- -->df['released_date'] = pd.to_datetime(df['released_date'])<br/>    <!-- -->df['confirmed_date'] = pd.to_datetime(df['confirmed_date'])<br/>    <!-- -->df['month'] = df['confirmed_date'].dt.month<br/>    <!-- -->df['day'] = df['confirmed_date'].dt.day<br/>    <!-- -->return df</span><span id="1e62" class="li lj je nq b gy ny nv l nw nx">df_france = load_data('coronavirusdataset_france')<br/>df_france.isnull().sum()</span></pre><p id="54b6" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬ä¼šå¾—åˆ°:</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="e0b2" class="li lj je nq b gy nu nv l nw nx">id                  2067<br/>sex                 1851<br/>birth_year          1936<br/>country                1<br/>region                 1<br/>department          195<br/>city                1804<br/>group               1905<br/>infection_reason    1906<br/>infection_order     2068<br/>infected_by         2056<br/>contact_number      2073<br/>confirmed_date         4<br/>released_date       2064<br/>deceased_date       2048<br/>status              1481<br/>health              1849<br/>source               199<br/>comments            1637<br/>month                  4<br/>day                    4<br/>dtype: int64</span></pre><p id="3cef" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ£€æŸ¥éŸ©å›½ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="481f" class="li lj je nq b gy nu nv l nw nx">df_south_korea = load_data('coronavirusdataset_south_korea')<br/>df_south_korea.isnull().sum()</span></pre><p id="9399" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬å‘ç°ä»¥ä¸‹æ•°æ®</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="43d7" class="li lj je nq b gy nu nv l nw nx">patient_id             0<br/>sex                 7190<br/>birth_year          7203<br/>country                0<br/>region              7432<br/>disease             7841<br/>group               7783<br/>infection_reason    7715<br/>infection_order     7833<br/>infected_by         7799<br/>contact_number      7816<br/>confirmed_date         0<br/>released_date       7813<br/>deceased_date       7833<br/>state                  0<br/>month                  0<br/>day                    0<br/>dtype: int64</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="feae" class="mu lj je bd lk mv mw mx ln my mz na lq nb nc nd lt ne nf ng lw nh ni nj lz nk bi translated">æ­¥éª¤3-è§£å†³ç¼ºå¤±å€¼</h1><p id="482d" class="pw-post-body-paragraph kb kc je kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">ä¸ºäº†åªä¿ç•™å¿…è¦çš„æ•°æ®ï¼Œåº”è¯¥åˆ é™¤ä¸€äº›åˆ—ï¼Œæ¯”å¦‚departmentã€commentså’Œhealthï¼Œå› ä¸ºå®ƒä»¬å¯¹äºè¿™ä¸ªç‰¹å®šçš„åˆ†æå¹¶ä¸é‡è¦ã€‚</p><p id="116f" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬å°†å¡«å……å‡ºç”Ÿå¹´ä»½çš„ç¼ºå¤±å€¼ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºæ•°æ®æ’è¡¥ã€‚</p><p id="2ec1" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">é€šè¿‡ä½¿ç”¨å‡ºç”Ÿæ—¥æœŸï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå¹´é¾„å˜é‡ï¼Œå°†å…¶å‡å»å®é™…æ—¥æœŸã€‚ç¼ºå¤±çš„ä¿¡æ¯å°†ç”¨ä»åˆ†å¸ƒä¸­æŠ½å–çš„éšæœºæ•°æ¥å¡«å……ã€‚è€ƒè™‘åˆ°æ¯ä¸ªå›½å®¶çš„äººå£ç»Ÿè®¡æ•°æ®ï¼Œå¯ä»¥å¡«å†™ä¸äººå£å¹´é¾„åˆ†å¸ƒç›¸å…³çš„ä¿¡æ¯:</p><ul class=""><li id="70d1" class="mg mh je kd b ke kf ki kj km mi kq mj ku mk ky ml mm mn mo bi translated">æ³•å…°è¥¿ğŸ‡«ğŸ‡·: <a class="ae lh" href="https://www.indexmundi.com/south_korea/demographics_profile.html" rel="noopener ugc nofollow" target="_blank">äººå£ç»Ÿè®¡</a></li><li id="0d26" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">å—éŸ©ğŸ‡°ğŸ‡·: <a class="ae lh" href="https://www.indexmundi.com/south_korea/demographics_profile.html" rel="noopener ugc nofollow" target="_blank">äººå£ç»Ÿè®¡</a></li></ul><p id="a86e" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åˆ›å»ºâ€œsimulate_ageâ€å‡½æ•°æ˜¯ä¸ºäº†æ ¹æ®å¯ç”¨æ•°æ®æ¨¡æ‹Ÿäººå£å¹´é¾„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ‰äº†æ¯ä¸ªå¹´é¾„çš„èŒƒå›´å’Œå æ€»äººå£çš„ç™¾åˆ†æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‡åŒ€åˆ†å¸ƒæ¥æ¨¡æ‹Ÿæ¯ä¸ªèŒƒå›´çš„å¹´é¾„åˆ†å¸ƒã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="048f" class="li lj je nq b gy nu nv l nw nx">df_france.drop(['departement','region','comments', 'id', 'infected_by','health','city','source'],axis=1,inplace=True)</span><span id="c010" class="li lj je nq b gy ny nv l nw nx">df_south_korea.drop(['region','disease','patient_id','infected_by'], axis=1, inplace=True)</span><span id="b882" class="li lj je nq b gy ny nv l nw nx">def simulate_age(ranges, percents, total_pop):<br/>    simulated_pop = np.array(0)<br/>    for (low, high), percent in zip(ranges, percents):<br/>        simulated_pop = np.append(simulated_pop, <br/>                  np.random.randint(low=low, high=high, size=int(total_pop*percent/100)))<br/>return simulated_pop</span><span id="4710" class="li lj je nq b gy ny nv l nw nx"><em class="lg">#France</em><br/>france_population = 67364357<br/>'''<br/>0-14 years: 18.48% <br/>15-24 years: 11.8% <br/>25-54 years: 37.48% <br/>55-64 years: 12.42%<br/>65 years and over: 19.82%<br/>'''<br/>ranges = [(0,14),(15,24),(25,54),(55,64),(65,90)]<br/>percents = [18.48,11.8,37.48,12.42,19.82]<br/>france_simulated_pop = simulate_age(ranges, percents, france_population) f, (ax1, ax2) = plt.subplots(1, 2, figsize=(15,5))<br/>ax1.hist(france_simulated_pop,bins=20, color='mediumaquamarine', edgecolor='k', alpha=0.5)ax1.set_title('France - Simulated age distribution')</span><span id="c05e" class="li lj je nq b gy ny nv l nw nx">#South Korea<br/>south_korea_population = 51418097<br/>'''<br/>0-14 years: 13.03% <br/>15-24 years: 12.19%<br/>25-54 years: 45.13%<br/>55-64 years: 15.09% <br/>65 years and over: 14.55% <br/>'''<br/>percents = [13.03,12.19,45.13,15.09,14.55]<br/>south_korea_simulated_pop = simulate_age(ranges, percents, south_korea_population)<br/>ax2.hist(south_korea_simulated_pop,bins=20, color='mediumaquamarine', edgecolor='k', alpha=0.5)<br/>ax2.set_title('South Korea - Simulated age distribution')</span><span id="322d" class="li lj je nq b gy ny nv l nw nx">plt.show()</span></pre><figure class="nl nm nn no gt iv gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/8827752c8ba99ef8a5adccd3ee625657.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/0*5GILY5_dPrxyFvi-"/></div></figure><p id="e997" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ•°æ®æ¡†ä¸­åˆ›å»ºä¸€ä¸ªå¹´é¾„åˆ—ï¼Œå¹¶ç”¨ä»æˆ‘ä»¬åˆšåˆšæ¨¡æ‹Ÿçš„åˆ†å¸ƒä¸­é€‰æ‹©çš„éšæœºå€¼å¡«å……ç¼ºå¤±å€¼ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="0f13" class="li lj je nq b gy nu nv l nw nx">import math<br/>actual_year = pd.to_datetime('today').year</span><span id="7690" class="li lj je nq b gy ny nv l nw nx">def calculate_age(x):<br/>    if math.isnan(x):<br/>        return x<br/>    else:return int(actual_year - x)</span><span id="68a2" class="li lj je nq b gy ny nv l nw nx">#France<br/>df_france['age'] = df_france['birth_year'].apply(calculate_age)<br/>df_france.fillna({'age':int(random.choice(france_simulated_pop))}, inplace=True)<br/>df_france.drop(['birth_year'], axis=1, inplace=True)</span><span id="7f12" class="li lj je nq b gy ny nv l nw nx">#South Korea<br/>df_south_korea['age'] = df_south_korea['birth_year'].apply(calculate_age)<br/>df_south_korea.fillna({'age':int(random.choice(south_korea_simulated_pop))}, inplace=True)<br/>df_south_korea.drop(['birth_year'], axis=1, inplace=True)</span></pre><p id="03eb" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å¯¹äºç¼ºå¤±çš„æ€§åˆ«å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®æ¯ä¸ªäººç¾¤çš„æ€§åˆ«æ¯”ä¾‹ï¼Œç”¨ä¸€ä¸ªæ¦‚ç‡å€¼æ¥ç”»ä¸€ä¸ªéšæœºæ•°ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="486f" class="li lj je nq b gy nu nv l nw nx">'''<br/>Considering m as men and w as women. <br/>m/w=ratio -&gt; m=ration*w<br/>m+w=total_pop<br/>'''<br/>def calculate_values(ratio, total_pop):<br/>    w = (france_population/(1+ratio))/total_pop<br/>    m = 1 - w<br/>    return (w,m)</span><span id="03c6" class="li lj je nq b gy ny nv l nw nx"># 0 (woman) and 1 (man) with the calculated probabilities<br/># France<br/># total population: 0.96 male(s)/female (2018 est.)</span><span id="d9c6" class="li lj je nq b gy ny nv l nw nx">w,m = calculate_values(0.96, france_population)<br/>df_france['sex'] = df_france['sex'].str.lower()<br/>df_france["sex"].replace({"male\xa0?": "male"}, inplace=True)<br/>df_france.fillna({'sex': np.random.choice(['female','male'],p=[w,m])}, inplace=True)</span><span id="1953" class="li lj je nq b gy ny nv l nw nx"># South Korea<br/># total population: 1 male(s)/female (2018 est.)</span><span id="714b" class="li lj je nq b gy ny nv l nw nx">w,m = calculate_values(1, south_korea_population)<br/>df_south_korea['sex'] = df_south_korea['sex'].str.lower()<br/>df_south_korea["sex"].replace({"male\xa0?": "male"}, inplace=True)<br/>df_south_korea.fillna({'sex': np.random.choice(['female','male'],p=[w,m])}, inplace=True)</span><span id="9ad4" class="li lj je nq b gy ny nv l nw nx"># France<br/># total population: 0.96 male(s)/female (2018 est.)</span><span id="0ae3" class="li lj je nq b gy ny nv l nw nx">w,m = calculate_values(0.96, france_population)<br/>df_france['sex'] = df_france['sex'].str.lower()<br/>df_france["sex"].replace({"male\xa0?": "male"}, inplace=True)<br/>df_france.fillna({'sex': np.random.choice(['female','male'],p=[w,m])}, inplace=True)</span><span id="1fa8" class="li lj je nq b gy ny nv l nw nx"># South Korea<br/># total population: 1 male(s)/female (2018 est.)</span><span id="0c5a" class="li lj je nq b gy ny nv l nw nx">w,m = calculate_values(1, south_korea_population)<br/>df_south_korea['sex'] = df_south_korea['sex'].str.lower()<br/>df_south_korea['sex'].replace({"male\xa0?": "male"}, inplace=True)<br/>df_south_korea.fillna({'sex': np.random.choice(['female','male'],p=[w,m])}, inplace=True)</span></pre><p id="ce5c" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç”±äºæ³•å›½æ•°æ®é›†çš„statusåˆ—å’ŒéŸ©å›½æ•°æ®é›†çš„stateåˆ—å…·æœ‰ç›¸åŒçš„å«ä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥é‡å‘½åå…¶ä¸­ä¸€ä¸ªæ•°æ®é›†çš„åˆ—ï¼Œå¹¶å°†å€¼æ›´æ–°ä¸ºç›¸åŒçš„ç±»åˆ«ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="dcae" class="li lj je nq b gy nu nv l nw nx">df_france.rename({'status':'state'}, axis=1, inplace=True)<br/>df_france['state'] = df_france['state'].apply(lambda x: 'isolated' if (x=='hospital' or x=='home isolation') else x)</span></pre><p id="39b8" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æ­¤å¤–:</p><ul class=""><li id="ff27" class="mg mh je kd b ke kf ki kj km mi kq mj ku mk ky ml mm mn mo bi translated">å›½å®¶å˜é‡çš„ç©ºå€¼å°†åˆ†åˆ«ç”¨æ³•å›½æˆ–éŸ©å›½å¡«å……ã€‚</li><li id="ea4d" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">å°†ä¸ºæ„ŸæŸ“åŸå› ã€ç»„ã€çŠ¶æ€å˜é‡åˆ›å»ºä¸€ä¸ªæ–°ç±»åˆ«â€œæœªçŸ¥â€</li><li id="bbba" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">ä¸ºinfection_orderæ·»åŠ äº†ä¸€ä¸ªæ–°ç±»åˆ«ï¼Œä»£ç ä¸º0</li><li id="1194" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">è”ç³»å·ç çš„ç©ºå€¼å°†ç”¨0å¡«å……</li></ul><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="5ed7" class="li lj je nq b gy nu nv l nw nx">df_france.fillna({'country':'France','infection_reason':'Unknown','group':'Unknown', 'state':'Unknown','infection_order':0, 'contact_number':0} , inplace=True)</span><span id="69a7" class="li lj je nq b gy ny nv l nw nx">df_south_korea.fillna({'infection_reason':'Unknown','group':'Unknown', 'infection_order':0, 'contact_number':0, 'state':'Unknown'} , inplace=True)</span></pre><p id="6181" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦è¿˜æœ‰éœ€è¦è§£å†³çš„ç¼ºå¤±å€¼ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="eeff" class="li lj je nq b gy nu nv l nw nx">df_france.isnull().sum()</span><span id="036f" class="li lj je nq b gy ny nv l nw nx">sex                    0<br/>country                0<br/>group                  0<br/>infection_reason       0<br/>infection_order        0<br/>contact_number         0<br/>confirmed_date         4<br/>released_date       2064<br/>deceased_date       2048<br/>state                  0<br/>month                  4<br/>day                    4<br/>age                    0<br/>dtype: int64<br/></span><span id="ab29" class="li lj je nq b gy ny nv l nw nx">df_south_korea.isnull().sum()</span><span id="cd8d" class="li lj je nq b gy ny nv l nw nx">sex                    0<br/>country                0<br/>group                  0<br/>infection_reason       0<br/>infection_order        0<br/>contact_number         0<br/>confirmed_date         0<br/>released_date       7813<br/>deceased_date       7833<br/>state                  0<br/>month                  0<br/>day                    0<br/>age                    0<br/>dtype: int64</span></pre><p id="071d" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å¹²å¾—å¥½ï¼æˆ‘ä»¬å‰©ä¸‹çš„ä¸å¤šäº†ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦è§£æreleased_dateå’Œdead _ dateç©ºå€¼ã€‚</p><ul class=""><li id="e4e3" class="mg mh je kd b ke kf ki kj km mi kq mj ku mk ky ml mm mn mo bi translated">å¦‚æœreleased_dateä¸ºç©ºï¼Œåˆ™æ„å‘³ç€æ­¤äººä»æºå¸¦ç—…æ¯’ã€‚</li><li id="9cf3" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">å¦‚æœdead _ dateä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºæ­¤äººæ²¡æœ‰æ­»äº¡ã€‚</li></ul><p id="e5ec" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬å¯ä»¥è®¡ç®—æ„ŸæŸ“æŒç»­æ—¶é—´(ä»¥å¤©ä¸ºå•ä½)å¹¶å»é™¤å…¶ä»–3ä¸ªå˜é‡ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¸Œæœ›å°†death _ dateè½¬æ¢ä¸ºä¸€ä¸ªäºŒè¿›åˆ¶åˆ—ï¼ŒæŒ‡ç¤ºè¯¥äººæ˜¯å¦å·²ç»æ­»äº¡ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="9db2" class="li lj je nq b gy nu nv l nw nx">df_france['released_date'] = df_france[['released_date','deceased_date']].fillna(df_france['deceased_date'])<br/>df_france['released_date'] = df_france[['released_date']].fillna(pd.to_datetime('today'))<br/>df_france['infection_duration'] = pd.to_datetime(df_france['released_date']).sub(df_france['confirmed_date'], axis=0)</span><span id="511e" class="li lj je nq b gy ny nv l nw nx">df_france = df_france[df_france['infection_duration'].dt.days&gt;=0]<br/>df_france['infection_duration'] = df_france['infection_duration'].dt.days<br/>df_france.drop(['released_date','confirmed_date','deceased_date'], axis=1, inplace=True)<br/>df_south_korea['released_date'] = df_south_korea[['released_date','deceased_date']].fillna(df_south_korea['deceased_date'])<br/>df_south_korea['released_date'] = df_south_korea[['released_date']].fillna(pd.to_datetime('today'))</span><span id="a0c5" class="li lj je nq b gy ny nv l nw nx">df_south_korea['infection_duration'] = pd.to_datetime(df_south_korea['released_date']).sub(df_south_korea['confirmed_date'], axis=0)<br/>df_south_korea = df_south_korea[df_south_korea['infection_duration'].dt.days&gt;=0]</span><span id="5b05" class="li lj je nq b gy ny nv l nw nx">df_south_korea['infection_duration'] = df_south_korea['infection_duration'].dt.days</span><span id="fd17" class="li lj je nq b gy ny nv l nw nx">df_france.columns<br/>Index(['sex', 'country', 'group', 'infection_reason',<br/>'infection_order','contact_number', 'state', 'month', <br/>'day', 'age', 'infection_duration'], dtype='object')</span><span id="453b" class="li lj je nq b gy ny nv l nw nx">df_south_korea.columns<br/>Index(['sex', 'country', 'group', 'infection_reason',<br/>'infection_order', 'contact_number', 'state', 'month', <br/>'day', 'age', 'infection_duration'], dtype='object')</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="b5d7" class="mu lj je bd lk mv mw mx ln my mz na lq nb nc nd lt ne nf ng lw nh ni nj lz nk bi translated">æ­¥éª¤4 â€”æ•°æ®èåˆ</h1><p id="2966" class="pw-post-body-paragraph kb kc je kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">æœ€åï¼Œæˆ‘ä»¬å‡†å¤‡å°†ä¸¤ä¸ªæ•°æ®é›†æ”¾åœ¨ä¸€èµ·ï¼Œå¼€å§‹æˆ‘ä»¬çš„åˆ†æã€‚</p><p id="cda0" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æœ€åï¼Œæˆ‘ä»¬å‡†å¤‡å°†ä¸¤ä¸ªæ•°æ®é›†æ”¾åœ¨ä¸€èµ·ï¼Œå¼€å§‹æˆ‘ä»¬çš„åˆ†æã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="d21c" class="li lj je nq b gy nu nv l nw nx">df = df_france.append(df_south_korea, sort=False)<br/>df.isnull().sum()</span><span id="4a26" class="li lj je nq b gy ny nv l nw nx">sex                   0<br/>country               0<br/>group                 0<br/>infection_reason      0<br/>infection_order       0<br/>contact_number        0<br/>state                 0<br/>month                 0<br/>day                   0<br/>age                   0<br/>infection_duration    0<br/>dtype: int64</span></pre><h1 id="8113" class="mu lj je bd lk mv oa mx ln my ob na lq nb oc nd lt ne od ng lw nh oe nj lz nk bi translated">è™šæ‹Ÿç¼–ç </h1><p id="a0d8" class="pw-post-body-paragraph kb kc je kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">æ¨¡å‹çš„è¾“å…¥å¿…é¡»æ˜¯æ•°å€¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»å°†åˆ†ç±»å˜é‡è½¬æ¢æˆæ•°å­—ã€‚ç”±äºç±»åˆ«æ²¡æœ‰é¡ºåºï¼Œæˆ‘ä»¬å°†æŠŠæ¯ä¸ªç±»åˆ«å€¼è½¬æ¢æˆä¸€ä¸ªäºŒè¿›åˆ¶åˆ—(0æˆ–1å€¼)ã€‚è¿™ç§æŠ€æœ¯è¢«ç§°ä¸ºè™šæ‹Ÿç¼–ç ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="3cba" class="li lj je nq b gy nu nv l nw nx">df = pd.concat([df, pd.get_dummies(df['sex'])], axis=1)<br/>df = pd.concat([df, pd.get_dummies(df['country'])], axis=1)<br/>df = pd.concat([df, pd.get_dummies(df['state'], drop_first=True)], axis=1)<br/>df = pd.concat([df, pd.get_dummies(df['infection_reason'], drop_first=True)], axis=1)<br/>df = pd.concat([df, pd.get_dummies(df['group'], drop_first=True)], axis=1)</span></pre><h1 id="b792" class="mu lj je bd lk mv oa mx ln my ob na lq nb oc nd lt ne od ng lw nh oe nj lz nk bi translated">é™ç»´</h1><p id="9923" class="pw-post-body-paragraph kb kc je kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">å½“æˆ‘ä»¬åº”ç”¨å“‘ç¼–ç æ—¶ï¼Œæˆ‘ä»¬æœ€ç»ˆä¼šæœ‰æ›´å¤šçš„å˜é‡ï¼Œå› ä¸ºæ¯ä¸ªç±»åˆ«éƒ½è¢«è½¬æ¢æˆä¸€ä¸ªåˆ—ã€‚</p><p id="5c45" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å› ä¸ºæˆ‘ä»¬æœ‰å¤ªå¤šçš„å˜é‡ï¼Œæ‰€ä»¥å¾ˆéš¾åœ¨èšç±»ä¸­æ‰¾åˆ°æ¨¡å¼ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ†ç»„ç›¸ä¼¼çš„ç±»åˆ«æ¥å‡å°‘åˆ†ç±»å˜é‡çš„æ•°é‡ã€‚ç¬¬äºŒï¼Œæˆ‘ä»¬å¯ä»¥åº”ç”¨é™ç»´æŠ€æœ¯æ¥å‡å°‘è¾“å…¥å˜é‡çš„æ•°é‡ï¼Œä½¿æ¨¡å‹æ›´å®¹æ˜“è§£é‡Šã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="c0f7" class="li lj je nq b gy nu nv l nw nx">df = df_france.append(df_south_korea, sort=False)</span></pre><p id="4cd2" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Transform infection_reason:æˆ‘ä»¬å°†åˆ—å‡ºè¿™ä¸ªå˜é‡æ‰€æœ‰å¯èƒ½çš„å€¼ï¼Œå¹¶å¯¹å®ƒä»¬è¿›è¡Œåˆ†ç»„ã€‚ä¹‹åï¼Œæˆ‘ä»¬ä¼šå°†ç±»ä¼¼çš„åŸå› åˆ†ç»„ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºè™šæ‹Ÿå˜é‡ã€‚æœ€åï¼Œæˆ‘ä»¬å°†åˆ é™¤åŸæ¥çš„åˆ—ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="54de" class="li lj je nq b gy nu nv l nw nx">df.infection_reason.unique()</span><span id="de29" class="li lj je nq b gy ny nv l nw nx">array(['visit to Italy', 'contact with patient', 'visit to Mulhouse religious gathering', 'Unknown', 'contact with person who visited Italy', 'visit to Egypt', 'unknown', 'Visit to Venice, Italy', 'contact with patient in Auray', 'visit to Mulhouse', 'visit to Milan', 'Italian', 'visit to Lombardy', 'parishioner', 'Creil military base\xa0?', 'visit to Senegal', 'visit to Alsace', 'visit in Lombardy', 'visit to Bretagne', 'Visit in Italy', 'In contact with someone contamitaminated in Oise', 'Religious Meeting in Mulhouse', 'work in a medical environment ', 'Visit family in Oise', 'health professional', 'visit to Wuhan', 'contact with patient in Japan', 'residence in Wuhan', 'visit to Thailand', 'contact with patient in Singapore', 'visit to China', 'visit to Daegu', 'pilgrimage to Israel', 'contact with patient in Daegu', 'visit to Vietnam', 'visit to Japan', 'visit to ooo'], dtype=object)</span><span id="5110" class="li lj je nq b gy ny nv l nw nx">def transform_reason(value):<br/>    if ('religious' in value or 'parishioner' in value):<br/>        return 'religious'<br/>    elif ('visit' in value or 'residence' in value):<br/>        return 'visit'<br/>    elif ('contact' in value):<br/>        return 'contact'<br/>    elif ('medical' in value or 'health professional' in value):<br/>        return 'medical'<br/>    elif ('militar' in value):<br/>        return 'militar'<br/>    elif ('italian' in value):<br/>        return 'italian'<br/>    elif ('pilgrimage' in value):<br/>        return 'pilgrimage'<br/>    else:<br/>        return 'unknown'</span><span id="512f" class="li lj je nq b gy ny nv l nw nx">df['infection_reason'] = df['infection_reason'].str.lower()<br/>df['infection_reason'] = df['infection_reason'].apply(transform_reason)  <br/>df = pd.concat([df, pd.get_dummies(df['infection_reason'], prefix='infection_reason', prefix_sep='_')], axis=1)<br/>df.drop(['infection_reason_unknown'], axis=1, inplace=True)</span></pre><p id="8713" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æ­¤å¤–,â€œgroupâ€å˜é‡æä¾›äº†ä¸infection_resonç±»ä¼¼çš„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ç§»é™¤å®ƒã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="9a70" class="li lj je nq b gy nu nv l nw nx">df.drop(['group'], axis=1, inplace=True)</span></pre><p id="f488" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä»–åˆ†ç±»å˜é‡è½¬æ¢æˆè™šæ‹Ÿå˜é‡:å›½å®¶ã€å·å’Œæ€§åˆ«ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="80c8" class="li lj je nq b gy nu nv l nw nx">df = pd.concat([df, pd.get_dummies(df['country'])], axis=1)<br/>df = pd.concat([df, pd.get_dummies(df['state'], prefix='state', prefix_sep='_')], axis=1)<br/>df = pd.concat([df, pd.get_dummies(df['sex'])], axis=1)</span></pre><h1 id="d452" class="mu lj je bd lk mv oa mx ln my ob na lq nb oc nd lt ne od ng lw nh oe nj lz nk bi translated">ä¸»æˆåˆ†åˆ†æ</h1><p id="a48e" class="pw-post-body-paragraph kb kc je kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä¸ºä¸€é¡¹éå¸¸å¼ºå¤§çš„æŠ€æœ¯å‡†å¤‡æ•°æ®:ä¸»æˆåˆ†åˆ†æ(PCA)ã€‚</p><p id="c424" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¿™ç§æŠ€æœ¯æ‰¾åˆ°è§£é‡Šæ•°æ®çš„åŸå§‹å˜é‡çš„çº¿æ€§ç»„åˆã€‚ä¸»è¦ç›®æ ‡æ˜¯é€šè¿‡å¯»æ‰¾æ–°çš„å˜é‡â€œç»„ä»¶â€æ¥å‡å°‘å˜é‡çš„æ•°é‡ã€‚å®ƒåŸºäºæ­£äº¤å‘é‡ï¼Œè¿™ä½¿å¾—è¿™äº›åˆ†é‡ä¸ç›¸å…³ã€‚</p><p id="abee" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬éœ€è¦å®šä¹‰å“ªäº›å˜é‡æ˜¯è¾“å…¥ï¼Œå¹¶åˆ é™¤æˆ‘ä»¬ä»ä¸­åˆ›å»ºè™šæ‹Ÿå˜é‡çš„å˜é‡(å®ƒä»¬æ˜¯å¤šä½™çš„)ã€‚</p><p id="0a27" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æ­¤å¤–ï¼Œæœ‰å¿…è¦å°†æˆ‘ä»¬çš„æ•°æ®æ ‡å‡†åŒ–ï¼Œä¸ºæ­¤æˆ‘ä»¬ä½¿ç”¨StandardScalerã€‚æ ‡å‡†åŒ–æ•°æ®æ„å‘³ç€å°†æ‰€æœ‰å˜é‡æ”¾åœ¨åŒä¸€å°ºåº¦ä¸Šï¼Œä»¥é¿å…ç´¯ç§¯çš„æ•°å€¼è¯¯å·®ã€‚åªæœ‰è¿™æ ·ï¼Œæˆ‘ä»¬æ‰èƒ½æ¯”è¾ƒæ•°æ®ç‚¹ä¹‹é—´çš„è·ç¦»ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="2210" class="li lj je nq b gy nu nv l nw nx">features = df.drop(['country','state','sex','infection_reason'], axis=1)<br/>from sklearn.preprocessing import StandardScaler<br/>from sklearn.decomposition import PCA<br/>x = StandardScaler().fit_transform(features.values)<br/>pca = PCA(random_state=20)<br/>pca.fit(x)</span><span id="00d9" class="li lj je nq b gy ny nv l nw nx"><br/>PCA(copy=True, iterated_power='auto', n_components=None, random_state=20, svd_solver='auto', tol=0.0, whiten=False)</span></pre><p id="e017" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä¸ºäº†ç¡®å®šç»„ä»¶çš„æ•°é‡ï¼Œæˆ‘ä»¬éœ€è¦æŸ¥çœ‹æ¯ä¸ªç»„ä»¶çš„è§£é‡Šæ–¹å·®ã€‚<br/>ä»¥è§£é‡Šæœ€å¤§æ–¹å·®çš„æ–¹å¼è®¡ç®—ç»„ä»¶ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†æ·»åŠ ç»„ä»¶ï¼Œç›´åˆ°è¾¾åˆ°è§£é‡Šçš„æ–¹å·®çš„å®šä¹‰é˜ˆå€¼ã€‚å…¸å‹åœ°ï¼Œé˜ˆå€¼åœ¨0.7å’Œ0.9ä¹‹é—´ã€‚è¿™æ„å‘³ç€å®ƒè§£é‡Šäº†70%åˆ°90%çš„å·®å¼‚ã€‚</p><p id="5c78" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†é€‰æ‹©0.8ä½œä¸ºé˜ˆå€¼ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="9dd8" class="li lj je nq b gy nu nv l nw nx"># determine number of components with threshold=0.8</span><span id="e1f4" class="li lj je nq b gy ny nv l nw nx">n_components=np.where(np.cumsum(pca.explained_variance_ratio_)&gt;0.8)[0][0]+1</span><span id="d10e" class="li lj je nq b gy ny nv l nw nx"># explained variance<br/>v = round(np.cumsum(pca.explained_variance_ratio_)[n_components-1]*100,1)<br/>print(f'It is needed {n_components} components to explain {v}% variance of the data')</span></pre><p id="dcdb" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬éœ€è¦12ä¸ªåˆ†é‡æ¥è§£é‡Šæ•°æ®çš„83.1%çš„æ–¹å·®</p><p id="00ee" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€äº›ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—è¿™äº›æ–°å˜é‡çš„å€¼ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="7908" class="li lj je nq b gy nu nv l nw nx">pca = PCA(n_components=n_components, random_state=20)<br/>pcs = pca.fit(x)<br/>components_name = list(range(0, n_components))<br/>components_name = list(map(lambda x: 'PC' + str(x), components_name))<br/>pd.DataFrame(data=pcs.components_, columns = features.columns, index=components_name)</span></pre><figure class="nl nm nn no gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi of"><img src="../Images/4150a90d49478c3a35790e537b47dfc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*j1rtLkmktbhWcWNp"/></div></div></figure><p id="b3d8" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªçŸ©é˜µæ¥æ˜¾ç¤ºæ¯ä¸ªå˜é‡å¯¹æ¯ä¸ªç»„æˆéƒ¨åˆ†çš„é‡è¦æ€§ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="74ef" class="li lj je nq b gy nu nv l nw nx">components_range = np.arange(1, n_components+1, 1)<br/>components_names = list(map(lambda x: 'PC' + str(x), components_range))<br/>plt.matshow(pcs.components_,cmap='viridis')<br/>plt.yticks(range(0,n_components), components_names,fontsize=10)<br/>plt.colorbar()<br/>plt.xticks(range(0,len(features.columns)),features.columns,rotation=90,ha='left')</span><span id="9400" class="li lj je nq b gy ny nv l nw nx">plt.show()</span></pre><figure class="nl nm nn no gt iv gh gi paragraph-image"><div class="gh gi og"><img src="../Images/6a351097be88aae7bbd237636f818924.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/0*zrBYTd5aivAsRoWe"/></div></figure><p id="9172" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å˜é‡çš„å€¼è¶Šé«˜ï¼Œæ„å‘³ç€ä¸»æˆåˆ†çš„å½±å“è¶Šå¤§ã€‚è¾ƒä½çš„å€¼æ„å‘³ç€å¯¹ä¸»æˆåˆ†çš„è´Ÿé¢å½±å“ã€‚<br/>å› æ­¤ï¼Œæ ¹æ®çƒ­å›¾ï¼Œä¸»æˆåˆ†åˆ†æçš„ä¸€ç§å¯èƒ½è§£é‡Šæ˜¯:</p><ul class=""><li id="d28b" class="mg mh je kd b ke kf ki kj km mi kq mj ku mk ky ml mm mn mo bi translated">PC1:ç”·æ€§ä¸æ˜¯å­¤ç«‹çš„ï¼Œä¹Ÿä¸æ˜¯æœé²œäºº</li><li id="9656" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">PC2:ç¬¬ä¸€ä¸ªæœˆ</li><li id="d400" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">PC3:å›½å®¶é‡Šæ”¾</li><li id="9821" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">PC4:çŠ¶æ€æ­»è€…</li><li id="fdb2" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">PC5:æ„ŸæŸ“åŸå› å®—æ•™</li><li id="bc10" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">PC6:æ„ŸæŸ“åŸå› è®¿é—®</li><li id="4581" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">PC7:æ„ŸæŸ“åŸå› æ„å¤§åˆ©è¯­</li><li id="c440" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">PC8:æ„ŸæŸ“åŸå› å†›äº‹</li><li id="0270" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">PC9:æ„ŸæŸ“åŸå› åŒ»ç–—</li><li id="e41f" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">PC10:æ„ŸæŸ“åŸå› æœåœ£</li><li id="e0ba" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">PC11:é«˜æ„ŸæŸ“é¡ºåº</li><li id="a8f2" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">PC12:æ¥è‡ªè’™å¤å›½</li></ul></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="ce74" class="mu lj je bd lk mv mw mx ln my mz na lq nb nc nd lt ne nf ng lw nh ni nj lz nk bi translated">æ­¥éª¤5 â€” Kå‡å€¼èšç±»</h1><p id="005a" class="pw-post-body-paragraph kb kc je kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">K-meansè¯•å›¾å°†æ•°æ®åˆ†æˆkä¸ªç»„ï¼Œå…¶ä¸­ä¸€ä¸ªç»„çš„å…ƒç´ å½¼æ­¤æ¥è¿‘ã€‚è¯¥æ–¹æ³•åŸºäºæ•°æ®ç‚¹ä¹‹é—´çš„è·ç¦»ã€‚<br/>å› æ­¤ï¼Œç›®æ ‡æ˜¯æœ€å°åŒ–ç‚¹åˆ°è´¨å¿ƒçš„è·ç¦»ã€‚è´¨å¿ƒæ˜¯æ¯ä¸ªç°‡/ç»„çš„â€œä¸­é—´â€ç‚¹ã€‚</p><p id="f8b5" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¯¥ç®—æ³•ä»éšæœºé€‰æ‹©çš„è´¨å¿ƒå¼€å§‹ï¼Œåœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œå®ƒé‡æ–°è®¡ç®—è´¨å¿ƒçš„ä½ç½®ã€‚</p><p id="fc7d" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä¸ºäº†ç¡®å®škï¼Œå³ç»„çš„æ•°é‡ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå›¾æ¥æ˜¾ç¤ºæ•°æ®ç›¸å¯¹äºåˆ†ç±»æ•°é‡çš„å¤±çœŸã€‚è¿™ç§æ–¹æ³•è¢«ç§°ä¸ºè‚˜æµ‹è¯•ã€‚å¤±çœŸè¢«å®šä¹‰ä¸ºåˆ°èšç±»ä¸­å¿ƒçš„å¹³å‡è·ç¦»ã€‚æ‰­æ›²å¼€å§‹ä»¥çº¿æ€§æ–¹å¼å‡å°‘çš„ç‚¹æ˜¯è‚˜éƒ¨ï¼Œè¿™è¡¨ç¤ºæœ€ä½³çš„ç¾¤é›†æ•°é‡ã€‚è¿™æ„å‘³ç€æ·»åŠ å¦ä¸€ä¸ªé›†ç¾¤ä¸ä¼šæ”¹å˜å¤ªå¤šçš„å¤±çœŸã€‚</p><p id="fa42" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è®©æˆ‘ä»¬æ ¹æ®ä¸»æˆåˆ†å¾—åˆ†åˆ›å»ºä¸€ä¸ªæ•°æ®æ¡†æ¶ï¼Œå¹¶å°†å…¶ç”¨äºèšç±»åˆ†æã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="62d1" class="li lj je nq b gy nu nv l nw nx">pca_df = pd.DataFrame(data = pca.fit_transform(x), columns = components_names)<br/>pca_df.head()</span></pre><figure class="nl nm nn no gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi of"><img src="../Images/aaa6dae370329ea426afc3e23e14267e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*A-QNpvZG34MQP5AN"/></div></div></figure><p id="ba57" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä½¿ç”¨å¼¯å¤´æµ‹è¯•æ¥ç¡®å®šæœ€ä½³èšç±»æ•°ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="75fd" class="li lj je nq b gy nu nv l nw nx">def elbow_test(df, n_init, max_clusters, max_iter):<br/>    distortions = []<br/>    for i in range(1, max_clusters):<br/>        km = KMeans(<br/>            n_clusters=i, init='random',<br/>            n_init=n_init, max_iter=max_iter,<br/>            tol=1e-04, random_state=20<br/>        )<br/>        km.fit(df)<br/>        distortions.append(km.inertia_)<br/>plt.plot(range(1, max_clusters), distortions, marker='o')<br/>    plt.xlabel('Number of clusters')<br/>    plt.ylabel('Distortion')<br/>    plt.show()</span><span id="048a" class="li lj je nq b gy ny nv l nw nx">kn = KneeLocator(<br/>        range(1, max_clusters),<br/>        distortions,<br/>        curve='convex',<br/>        direction='decreasing',<br/>        interp_method='interp1d',<br/>    )<br/>    return kn.knee</span><span id="189f" class="li lj je nq b gy ny nv l nw nx">n_clusters = elbow_test(pca_df, 10, 20, 300)<br/>print(f'the optimal number of clusters is {n_clusters}')</span></pre><figure class="nl nm nn no gt iv gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/3e19226ed83300faff00a4561ec0de15.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/0*54YuCqmsF1mJ70XC"/></div></figure><p id="bc53" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æ ¹æ®æˆ‘ä»¬çš„åˆ†æï¼Œæœ€ä½³çš„èšç±»æ•°æ˜¯4</p><p id="1372" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬å°†çŸ¥é“ç”¨å››ä¸ªé›†ç¾¤è¿è¡ŒK-meansç®—æ³•ï¼Œçœ‹çœ‹æˆ‘ä»¬ä¼šå‘ç°ä»€ä¹ˆï¼</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="7765" class="li lj je nq b gy nu nv l nw nx">km = KMeans(n_clusters=n_clusters, random_state=20)<br/>y = km.fit_predict(pca_df)<br/>idx = np.argsort(km.cluster_centers_.sum(axis=1))<br/>lut = np.zeros_like(idx)<br/>lut[idx] = np.arange(n_clusters)<br/>pca_df['cluster'] = lut[km.labels_]<br/>df['cluster'] = lut[km.labels_]</span></pre><p id="9e2e" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç ä¿å­˜/åŠ è½½æˆ‘ä»¬çš„æ¨¡å‹:</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="71b7" class="li lj je nq b gy nu nv l nw nx">import pickle   <br/>pickle.dump(km, open('kmeans_model.sav', 'wb'))</span><span id="ec13" class="li lj je nq b gy ny nv l nw nx"># Load<br/>km = pickle.load(open('kmeans_model.sav', 'rb'))</span><span id="ba72" class="li lj je nq b gy ny nv l nw nx">pca_df[pca_df['cluster']==3]</span></pre><figure class="nl nm nn no gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi of"><img src="../Images/29f890f93c30c2979bf620899cea1782.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*A3Sf5bzeBkamVJ-w"/></div></div></figure><p id="d4ef" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°PC7å€¼å¾ˆé«˜ã€‚å®ƒå¯¹åº”äºæ„ŸæŸ“åŸå› â€œæ„å¤§åˆ©è¯­â€ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥çœ‹å®é™…æ•°æ®æ¥è¯å®è¿™ä¸€ç‚¹:</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="f6d6" class="li lj je nq b gy nu nv l nw nx">df[df['cluster']==3]</span></pre><figure class="nl nm nn no gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi of"><img src="../Images/ae545da7716536f97bbfffc5d1331467.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vf9h_m8fxirF7rDn"/></div></div></figure><p id="ecf3" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä»¥ä¸‹å‡½æ•°å°†ç»˜åˆ¶æˆ‘ä»¬çš„æ•°æ®ã€‚</p><p id="296c" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç¬¬ä¸€ä¸ªæ˜¯æ•£ç‚¹å›¾ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªä¸»æˆåˆ†ï¼Œå¹¶æŸ¥çœ‹å®ƒä»¬ä¹‹é—´çš„èšç±»åˆ†å¸ƒæƒ…å†µã€‚ç¬¬äºŒä¸ªåˆ›å»ºäº†ä¸€ä¸ª3då›¾æ¥æ¯”è¾ƒç”±èšç±»ç€è‰²çš„ä¸‰ä¸ªä¸»æˆåˆ†ã€‚</p><p id="d9de" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¿™äº›å›¾è¡¨å°†å¸®åŠ©æˆ‘ä»¬ç¡®å®šèšç±»çš„å«ä¹‰ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="5ca2" class="li lj je nq b gy nu nv l nw nx">def draw_scatter(df, col_1, col_2, cluster_column, num_clusters, title):<br/>    fig = plt.figure(figsize=(10,10))<br/>    ax = fig.add_subplot(111)<br/>    ax.set_title(title)<br/>    ax.set_xlabel(col_1)<br/>    ax.set_ylabel(col_2)<br/>    labels = list(range(0,num_clusters))<br/>    colors = plt.cm.Spectral(np.linspace(0, 1, num_clusters))<br/>    axs = []<br/>    for i in labels:<br/>        axs.append(ax.scatter(df[df[cluster_column]==i][col_1], df[df[cluster_column]==i][col_2], cmap=colors[I]))</span><span id="84cb" class="li lj je nq b gy ny nv l nw nx">ax.legend(axs, labels, loc='center', bbox_to_anchor=(0.92, 0.84), ncol=1)<br/>    plt.show()</span><span id="8e0f" class="li lj je nq b gy ny nv l nw nx">def create_3d_scatter(df, col_1, col_2, col_3, cluster_column, num_clusters, title):<br/>    fig = plt.figure()<br/>    ax = fig.add_subplot(111, projection='3d')<br/>    ax.set_title(title)<br/>    ax.set_xlabel(col_1)<br/>    ax.set_ylabel(col_2)<br/>    ax.set_zlabel(col_3, rotation=90)<br/>    labels = list(range(0,num_clusters))<br/>    colors = plt.cm.Spectral(np.linspace(0, 1, num_clusters))<br/>    axs = []<br/>    for i in labels:<br/>        d = df[df[cluster_column]==i]<br/>        axs.append(ax.scatter(d[col_1], d[col_2], d[col_3], cmap=colors[i]))<br/>    ax.legend(axs, labels, bbox_to_anchor=(0.2, 0.5), ncol=1)<br/>    ax.set_xticklabels([])<br/>    ax.set_yticklabels([])<br/>    ax.set_zticklabels([])<br/>    plt.show()</span><span id="5ae0" class="li lj je nq b gy ny nv l nw nx">create_3d_scatter(pca_df, 'PC1', 'PC2', 'PC3', 'cluster', n_clusters, '')</span></pre><figure class="nl nm nn no gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oi"><img src="../Images/18b12f047e277369fc4924468cdc21b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/0*Z6WQDu67jVGW6geN"/></div></div></figure><p id="e537" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸€äº›é›†ç¾¤æ˜¯æ ¹æ®å‰ä¸¤ä¸ªä¸»æˆåˆ†åˆ†å¸ƒçš„ã€‚æ­¤å¤–ï¼ŒPC3ä¼¼ä¹å¯¹å›¢ç°‡çš„åˆ†ç¦»æ²¡æœ‰å¤ªå¤§çš„å½±å“ã€‚</p><p id="55f2" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åœ¨æ­¤è¡¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ¯ä¸ªç»„ä»¶çš„å€¼å¦‚ä½•å½±å“åˆ†ç±»çš„æ„ä¹‰ã€‚</p><figure class="nl nm nn no gt iv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/f5a07962adba864b5f0c39ba81d808bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/0*YpjlxTmGOJHF9d12"/></div></figure><p id="0797" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è®©æˆ‘ä»¬ç”»å‡ºPC1å’ŒPC2ä¸Šçš„ç¾¤é›†ï¼Œä»¥ä¾¿æ›´æ¸…æ¥šåœ°éªŒè¯è¿™ä¸€å‡è®¾ã€‚</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="2db1" class="li lj je nq b gy nu nv l nw nx">draw_scatter(pca_df, 'PC1', 'PC2', 'cluster', n_clusters, 'Clusters - PC1/PC2')</span></pre><figure class="nl nm nn no gt iv gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/6fe3b74c883fe3f126dbc0494d25f71a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/0*H-zKixzWPyhxfZQh"/></div></figure><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="ad5f" class="li lj je nq b gy nu nv l nw nx">draw_scatter(pca_df, 'PC1', 'PC3', 'cluster', n_clusters, 'Clusters - PC1/PC3')</span></pre><figure class="nl nm nn no gt iv gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/d8cc814a9189fd265ac371e1acd345e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/0*zNZORSDgFkGCKzYe"/></div></figure><p id="32e9" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¯·è®°ä½ï¼Œä¸»è¦ç»„ä»¶çš„å«ä¹‰å®šä¹‰å¦‚ä¸‹:</p><ul class=""><li id="b9f8" class="mg mh je kd b ke kf ki kj km mi kq mj ku mk ky ml mm mn mo bi translated">PC1:ä¸æ˜¯å­¤ç«‹çš„ï¼Œä¹Ÿä¸æ˜¯éŸ©å›½äºº</li><li id="0e8f" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">PC2:ç¬¬ä¸€ä¸ªæœˆ</li><li id="d010" class="mg mh je kd b ke mp ki mq km mr kq ms ku mt ky ml mm mn mo bi translated">PC3:å›½å®¶é‡Šæ”¾</li></ul><p id="666e" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å› æ­¤ï¼Œä»å›¾è¡¨ä¸­æˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®º:</p><figure class="nl nm nn no gt iv gh gi paragraph-image"><div class="gh gi om"><img src="../Images/435f83ba255198470fc1357c46c195a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/0*7CXWT3i6jpMVlehj"/></div></figure><h1 id="881e" class="mu lj je bd lk mv oa mx ln my ob na lq nb oc nd lt ne od ng lw nh oe nj lz nk bi translated">ç»“è®º</h1><p id="c695" class="pw-post-body-paragraph kb kc je kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">èšç±»åˆ†æåŒ…æ‹¬å°†å¯¹è±¡æ”¾å…¥ç‹¬ç«‹çš„ç»„(ç°‡)ï¼Œç›¸ä¼¼çš„å¯¹è±¡æ”¾åœ¨åŒä¸€ä¸ªç»„ä¸­ã€‚ç‰©ä½“ä¹‹é—´çš„ç›¸ä¼¼æ€§æ˜¯åŸºäºå®ƒä»¬ä¹‹é—´çš„è·ç¦»ï¼Œå½¼æ­¤é è¿‘çš„ç‰©ä½“æœ‰ä¸€äº›å…±åŒç‚¹ã€‚å› æ­¤ï¼Œæ¥è¿‘çš„å¯¹è±¡å±äºåŒä¸€ä¸ªé›†ç¾¤ã€‚</p><p id="82c7" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé€šè¿‡K-meanså‘ç°çš„èšç±»æ˜¾ç¤ºï¼Œè¿™äº›ç—…ä¾‹æŒ‰ç…§æ‚£è€…ä¸­çš„æŸäº›ç‰¹å¾è¿›è¡Œåˆ†ç»„ã€‚è¿™äº›ç‰¹å¾é›†ä¸­åœ¨æ€§åˆ«ã€æ„ŸæŸ“åŸå› ã€å›½å®¶å’Œæœˆä»½ç­‰å˜é‡ä¸Šã€‚æ ¹æ®è¿™äº›å˜é‡çš„å€¼ï¼Œæ•°æ®ç‚¹åˆ†å¸ƒåœ¨èšç±»ä¸­ã€‚</p><p id="3dfd" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">èšç±»æ˜¯å…·æœ‰ç›¸ä¼¼ç‰¹å¾çš„æ‚£è€…ç»„ã€‚</p><p id="ae1c" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬å‘ç°çš„é›†ç¾¤æ˜¯:</p><figure class="nl nm nn no gt iv gh gi paragraph-image"><div class="gh gi on"><img src="../Images/6f8778785a5fcaaafad6fd7640676e15.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/0*aiszdTXf3pYSeaZj"/></div></figure><p id="f157" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">èšç±»0å°†3æœˆä»½æ„ŸæŸ“ç—…æ¯’çš„éŸ©å›½å¥³æ€§æ‚£è€…åˆ†ç»„ã€‚èšç±»1åŒ…å«æ¥è‡ªéŸ©å›½ä½†åœ¨å…¶ä»–æœˆä»½æ„ŸæŸ“ç—…æ¯’çš„å¦ä¸€ç»„å¦‡å¥³ã€‚èšç±»2æŒ‡çš„æ˜¯æ¥è‡ªæ³•å›½çš„ç”·æ€§ï¼Œèšç±»3å°†å› ä¸ºä¸æ¥è‡ªæ„å¤§åˆ©çš„äººæ¥è§¦è€Œæ„ŸæŸ“ç—…æ¯’çš„æ‚£è€…åˆ†ç»„ã€‚</p><p id="e99d" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åšè¿™æ ·çš„åˆ†æè®©æˆ‘ä»¬å¯¹ç–«æƒ…æœ‰äº†æ›´æ¸…æ™°çš„è®¤è¯†ã€‚å°½ç®¡å† çŠ¶ç—…æ¯’å¾ˆå¿«å°±è„±ç¦»äº†æˆ‘ä»¬çš„æ§åˆ¶ï¼Œä½†æˆ‘ä»¬ç›¸ä¿¡ï¼Œéšç€æ›´å¤šæ•°æ®çš„å¯ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åšå¥½å‡†å¤‡ï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨æœªæ¥åšå‡ºæ›´å¥½çš„åº”å¯¹ã€‚</p></div></div>    
</body>
</html>