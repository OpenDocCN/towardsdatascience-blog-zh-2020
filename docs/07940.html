<html>
<head>
<title>What can I do with WhatsApp?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我可以用WhatsApp做什么？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-can-i-do-with-whatsapp-661fc3cdd5c5?source=collection_archive---------34-----------------------#2020-06-12">https://towardsdatascience.com/what-can-i-do-with-whatsapp-661fc3cdd5c5?source=collection_archive---------34-----------------------#2020-06-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="9d3d" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">分析你的朋友。</h2><div class=""/><div class=""><h2 id="0e96" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">构建一个词云，用Python运行情感分析。</h2></div><p id="dc18" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">WhatsApp有“导出聊天”功能。你可以用这些数据做一些有趣的事情。这篇文章将带你构建一个单词云，以及一些情感分析。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ln"><img src="../Images/ad75c59c094e76edccc26de849e02bd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6GjXs_0_mrY396Gl.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">来自WhatsApp聊天的单词云，按频率显示单词大小。</p></figure><p id="b851" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">不久前，我试图消除生活中的消极因素。一方面是我的消极朋友。这可不行。我需要一种科学的方法来一劳永逸地证明我的朋友比我更消极。使用Whatsapp、Python和NTLK情感库，我创建了以下图表:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi md"><img src="../Images/381f688ae6d1b277e6f4f9dc42741be9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KL6zQZkML1MOINy3"/></div></div></figure><p id="74ee" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">最后，我证明了我是同龄人中最优秀的。在本教程结束时，您将能够:</p><ul class=""><li id="4e7d" class="me mf it kt b ku kv kx ky la mg le mh li mi lm mj mk ml mm bi translated">导出Whatsapp数据</li><li id="23c1" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">将其转换成语言可读的格式</li><li id="fea9" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">分析数据</li><li id="e412" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">统计单词的频率</li><li id="b520" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">构建单词云</li><li id="a74d" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">执行情感分析</li></ul><h1 id="3d89" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated">可访问性和隐私</h1><p id="b3fa" class="pw-post-body-paragraph kr ks it kt b ku nk kd kw kx nl kg kz la nm lc ld le nn lg lh li no lk ll lm im bi translated">我将尽可能使用非技术工具，努力让这一点变得容易理解。您将需要Python和Pip的知识，尽管我将深入研究一些基于Excel的解决方案。</p><p id="8bf4" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">WhatsApp聊天中发送的每条消息和文件都可以被该聊天的成员访问并导出。这些加密的数据仍然对聊天中的人有意义。在你这样做之前，联系你聊天的其他成员，看看他们对你的分析是否满意。</p><h1 id="2c6d" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated">导出WhatsApp聊天</h1><ol class=""><li id="ba17" class="me mf it kt b ku nk kx nl la np le nq li nr lm ns mk ml mm bi translated">导航到WhatsApp聊天。</li><li id="a909" class="me mf it kt b ku mn kx mo la mp le mq li mr lm ns mk ml mm bi translated">单击“更多按钮”。</li><li id="b5a1" class="me mf it kt b ku mn kx mo la mp le mq li mr lm ns mk ml mm bi translated">点击“导出聊天”。</li><li id="f54b" class="me mf it kt b ku mn kx mo la mp le mq li mr lm ns mk ml mm bi translated">选择“无媒体”</li><li id="2efa" class="me mf it kt b ku mn kx mo la mp le mq li mr lm ns mk ml mm bi translated">选择你想分享的地方，我推荐Google Drive。</li></ol><h1 id="9e0a" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated">数据格式</h1><p id="0c93" class="pw-post-body-paragraph kr ks it kt b ku nk kd kw kx nl kg kz la nm lc ld le nn lg lh li no lk ll lm im bi translated">此导出是一个. txt文件。该文件有几种不同的格式:</p><ul class=""><li id="6de3" class="me mf it kt b ku kv kx ky la mg le mh li mi lm mj mk ml mm bi translated">用户消息:<em class="nt">“2019年2月21日，上午9点09分——乔:嘿，伙计们，就是这里了”</em>。</li><li id="1973" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">媒体遗漏:<em class="nt">“19年6月1日，下午2点59分——乔:&lt;媒体遗漏&gt;</em>。</li><li id="b81a" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">WhatsApp消息:<em class="nt">“此消息已删除”</em>。</li></ul><p id="8bd0" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在这个阶段，我们不能处理这些数据，多种格式是没有用的。我们希望保留日期、时间、用户和消息内容。</p><h1 id="3059" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated">工作表中的数据清理</h1><ul class=""><li id="cfd9" class="me mf it kt b ku nk kx nl la np le nq li nr lm mj mk ml mm bi translated">将整个文本文件内容粘贴到一个空的Google表单中。</li><li id="7cb9" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">选择整个列“A”。</li><li id="8d74" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">在菜单中选择数据&gt;分栏文本。</li><li id="4a46" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">将分隔符更改为每个名称后面的任何字符，在本例中为“:”。</li><li id="7b72" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">现在这两列是分开的，您可以删除A列和B列，只留下消息。</li><li id="78f9" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">复制这一整列。</li></ul><h1 id="f5f4" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated">建立一个单词云</h1><p id="73ed" class="pw-post-body-paragraph kr ks it kt b ku nk kd kw kx nl kg kz la nm lc ld le nn lg lh li no lk ll lm im bi translated">此时，您已经有了原始的消息数据，并准备好粘贴到一个<a class="ae nu" href="https://www.wordclouds.com/" rel="noopener ugc nofollow" target="_blank">在线单词云构建器</a>中。</p><ul class=""><li id="3fe8" class="me mf it kt b ku kv kx ky la mg le mh li mi lm mj mk ml mm bi translated">在菜单中单击文件&gt;粘贴/键入文本</li><li id="1dac" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">随心所欲地改变颜色和形状选项</li></ul><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi nv"><img src="../Images/a423166f377ee406d6d9dabb6eadb2aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aXNQBxaRzagPvh5N.png"/></div></div></figure><p id="143e" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">现在这里有几个问题:</p><ul class=""><li id="aa3d" class="me mf it kt b ku kv kx ky la mg le mh li mi lm mj mk ml mm bi translated">审查——有名字在里面，这带来了我们以前的隐私问题。您聊天中的一些单词脱离上下文可能看起来不太好。我们需要一个审查系统。</li><li id="256f" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">媒体—“媒体省略”是我们最常用的短语，因为此文本替换了所有图像。这个需要去掉。</li><li id="9b60" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">重复单词——每个单词都可以是大写和小写。例如，“乔”和“乔”都出现了。</li></ul><p id="896c" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">为了解决这些问题，我转向了Python。</p><h1 id="7616" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated">Python中的数据清理</h1><p id="a18a" class="pw-post-body-paragraph kr ks it kt b ku nk kd kw kx nl kg kz la nm lc ld le nn lg lh li no lk ll lm im bi translated">我已经修改了一个工具。txt文件转换成格式化的. csv文件。它需要pip3和python3。这将转换此表单中的数据:</p><pre class="lo lp lq lr gt nw nx ny nz aw oa bi"><span id="8d0d" class="ob mt it nx b gy oc od l oe of">2/20/19, 10:14 PM - Messages to this group are now secured with end-to-end encryption. Tap for more info.<br/>2/20/19, 10:14 PM - You created group "Example chat"<br/>2/21/19, 9:09 AM - Joe: Wow what an amazing chat!<br/>2/21/19, 9:10 AM - Dom: I agree, it is amazing!<br/>2/21/19, 9:12 AM - Joe: You're the best!<br/>2/21/19, 9:12 AM - Dom: No, you are the best!</span></pre><p id="59e5" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">收件人:</p><pre class="lo lp lq lr gt nw nx ny nz aw oa bi"><span id="b6b5" class="ob mt it nx b gy oc od l oe of">datetime|name|message|<br/>2019-02-21 09:09| Joe|Wow what an amazing chat!<br/>2019-02-21 09:10| Dom|I agree, it is amazing!<br/>2019-02-21 09:12| Joe|You're the best!<br/>2019-02-21 09:12| Dom|No, you are the best!</span></pre><p id="c4a4" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">最后，我们还有停用词的问题。这些是被认为对信息内容不重要的常用词。想想像“和”、“要”、“我”这样的词。现在，这些在许多自然语言处理中被认为是重要的，但是它们导致了垃圾单词云。NLTK可以帮助我们。</p><p id="f8f6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">为了处理停用词和上面的进一步问题，我写了一个<a class="ae nu" href="https://github.com/joseph-allen/whatsapp-wordclouds/blob/master/Whatsapp_export.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>。</p><p id="44e3" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">现在我们有了以下内容:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi nv"><img src="../Images/4b37ebb3f8800dea88e3d9c1ee56b987.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RrVCwZCoh6-agZ5W.png"/></div></div></figure><h1 id="2b7b" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated">情感分析</h1><p id="2fc3" class="pw-post-body-paragraph kr ks it kt b ku nk kd kw kx nl kg kz la nm lc ld le nn lg lh li no lk ll lm im bi translated">情感分析是自然语言处理的一个领域，专注于识别一段文本中的观点。使用NLTK库我们可以得到文本的阳性、阴性和中性。</p><p id="bb68" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">积极的1分意味着它是完全积极的。0分意味着它没有积极性。例如:</p><blockquote class="og oh oi"><p id="1d31" class="kr ks nt kt b ku kv kd kw kx ky kg kz oj lb lc ld ok lf lg lh ol lj lk ll lm im bi translated"><em class="it">我喜欢乔，他超级酷</em></p></blockquote><p id="4fb7" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">多好的一句话！这让我很开心，但这在数学上是正的吗？穿越VADER，我们得到:</p><pre class="lo lp lq lr gt nw nx ny nz aw oa bi"><span id="44fb" class="ob mt it nx b gy oc od l oe of">compound: 0.886, neg: 0.0, neu: 0.224, pos: 0.776</span></pre><p id="0621" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">化合物是从1到-1的分数，其中:</p><ul class=""><li id="8933" class="me mf it kt b ku kv kx ky la mg le mh li mi lm mj mk ml mm bi translated">1是正数，</li><li id="156b" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">0是中性的，</li><li id="1d8e" class="me mf it kt b ku mn kx mo la mp le mq li mr lm mj mk ml mm bi translated">-1是负数。</li></ul><p id="fa47" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">想象一下，如果有人说:</p><blockquote class="og oh oi"><p id="4982" class="kr ks nt kt b ku kv kd kw kx ky kg kz oj lb lc ld ok lf lg lh ol lj lk ll lm im bi translated">哦，傻瓜，乔太逊了。真是个失败者！</p></blockquote><p id="9517" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">多么刻薄的一句话，但是单词并不影响我，只有它们潜在的数学否定影响我！</p><pre class="lo lp lq lr gt nw nx ny nz aw oa bi"><span id="7ad7" class="ob mt it nx b gy oc od l oe of">compound: -0.8712, neg: 0.664, neu: 0.336, pos: 0.0</span></pre><h1 id="8a4a" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated">将情感分析应用于WhatsApp</h1><p id="e240" class="pw-post-body-paragraph kr ks it kt b ku nk kd kw kx nl kg kz la nm lc ld le nn lg lh li no lk ll lm im bi translated">我写了一个笔记本<a class="ae nu" href="https://github.com/joseph-allen/whatsapp-wordclouds/blob/master/Sentiment_Analysis.ipynb" rel="noopener ugc nofollow" target="_blank">概述了如何使用Python计算情绪。本笔记本概述了如何计算情绪，将其应用于我们的CSV，并可视化每个人和一段时间内的情绪。</a></p><p id="1013" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我们可以看看每个人的总情绪。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi om"><img src="../Images/2b282feb97b70e52a99f7ab39c87c018.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Ue5HcuT3Jl3oNN4u.png"/></div></div></figure><p id="a483" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">久而久之群体情绪。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi on"><img src="../Images/c0ff675930fa6a55522103b1e62311b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*z5A-h3ahPRwd-uy1.png"/></div></div></figure><p id="b8ad" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">和个人的情绪。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi oo"><img src="../Images/6646ee661a0198e3b459adc3f2dab49c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3BoR_GFTp2poVLfe.png"/></div></div></figure><p id="a3bf" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">感谢阅读。如果您有任何进一步的问题，请随时在我的GitHub上打开问题。</p></div></div>    
</body>
</html>