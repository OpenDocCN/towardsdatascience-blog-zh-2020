<html>
<head>
<title>How to Think of Pandas Data Visualization If You’re Coming From Excel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如果你来自 Excel，如何看待熊猫数据可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-think-of-pandas-data-visualization-if-youre-coming-from-excel-7af9f933e212?source=collection_archive---------22-----------------------#2020-05-02">https://towardsdatascience.com/how-to-think-of-pandas-data-visualization-if-youre-coming-from-excel-7af9f933e212?source=collection_archive---------22-----------------------#2020-05-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="50c3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">构建熊猫数据可视化的心智模型</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3401b7075a72160032714e2418452261.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xzcWDbqJd_ExZWCZ"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kv" href="https://unsplash.com/@krisroller?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">克里斯托佛罗拉</a>拍摄的照片</p></figure><p id="9f93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">读了很多关于熊猫数据可视化的教程，我仍然不能掌握它的机制。即使是创作一个简单的情节也总是需要我查看文档。</p><p id="a2f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">即使在运行代码并获得正确的情节后，它也不会让我有信心独自尝试。或许，我在寻找 Excel 的熟悉度。图形和数据之间的联系使用 GUI 似乎很直观。</p><p id="779d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">考虑到这一点，我能以某种方式把它带给熊猫吗？</p><h1 id="bc9c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Excel 和 Pandas 中的图表</h1><p id="518f" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">所以我做的就是在 Excel 里画一个简单的线图。考虑以下数据(在此获取<a class="ae kv" href="https://github.com/kennethjhim/medium_pandas_data_viz_from_excel" rel="noopener ugc nofollow" target="_blank">)。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/38e1255f8d32cecb1a9ae54009efc6ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:484/format:webp/1*BjTfamk4mz-QndrS9UrU8w.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">1980-2013 年从中国和印度移民到加拿大的人数</p></figure><p id="16fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我使用 Excel 的推荐图表功能绘制了一个折线图</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/a1f61cec27f8aa9120d7f59f3b0a969d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kqFNPgT203Q4ckk93kj_Uw.png"/></div></div></figure><p id="d4a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好吧。很好很容易。</p><p id="371b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样的数据但是格式不同怎么样？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/661ccd5e2a9dd14d468635c7c97bf6bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/format:webp/1*xFczyvrUG-M6NA65YKli0w.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">1980-2013 年从中国和印度移民到加拿大的人数(详细)</p></figure><p id="98a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">策划这个..</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/c4782b21545f4361a7971bf082f91ac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oN57M-JrXi9egilyvfro8g.png"/></div></div></figure><p id="f2d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好的。真是一团糟。</p><p id="ae00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">熊猫怎么样？让我们绘制第一个数据帧。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/e79388c33e2ad2d7e7fe26a9074b58da.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*DsuvJrzQtAF2_FH-Z62axg.png"/></div></figure><p id="e9fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好的。那行得通。</p><p id="6600" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第二个数据帧呢？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/81e6bb3a94be6453fe92009a33bd5151.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*7QGEsUZpdhfoU6WV9B1Gsw.png"/></div></figure><p id="d634" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Excel 和 Pandas 显示了两个数据框架的相同绘图。</p><p id="0b8e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看来 Excel 和熊猫渲染剧情的方式是一样的！我发现了一些东西。</p><h1 id="0df8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">宽格式与长格式数据</h1><p id="7705" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们刚才处理的数据分别是宽格式数据和长格式数据。</p><p id="3ad1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">两者都是以表格格式存储数据的明智模式；简而言之，区别在于:</p><ul class=""><li id="a148" class="mv mw iq ky b kz la lc ld lf mx lj my ln mz lr na nb nc nd bi translated">宽格式数据每个<em class="mt">自变量</em>有一行，元数据记录在<em class="mt">行和列标签</em>中。</li><li id="53b2" class="mv mw iq ky b kz ne lc nf lf ng lj nh ln ni lr na nb nc nd bi translated">长格式数据在每个<em class="mt">观察</em>中占一行，元数据作为<em class="mt">值</em>记录在表中。</li></ul><p id="5c46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是我的啊哈！瞬间。</p><blockquote class="nj nk nl"><p id="6029" class="kw kx mt ky b kz la jr lb lc ld ju le nm lg lh li nn lk ll lm no lo lp lq lr ij bi translated"><em class="iq">宽格式与折线图配合得很好，因为我基本上是针对其元数据(海地和中国系列)绘制一个独立变量(年份)。</em></p></blockquote><p id="448d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，这种思路行得通吗？让我们查出来。</p><h1 id="0db5" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">用熊猫创造基本情节</h1><p id="6506" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">现在，让我们试着为我们的宽格式数据创建不同的图来测试我的假设。</p><p id="b412" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">条形图</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/3d23c2a1734b051a580122c7e4c80e8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*6E8k8sXzZnrlkvZP7CmnUg.png"/></div></figure><p id="7d94" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">面积图</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/a4e4b3ef2495e56cfae1a5b123b39dfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*ShqpTjzvSzDshk3Lx_FNjQ.png"/></div></figure><p id="55d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">箱线图</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/9cdacdaef5a4e4c17881caa9c849e2aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*KLN6SBNjcbRJaehra_fZ6A.png"/></div></figure><p id="1564" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">直方图</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/a2d23a2f233b7b504f8d493fcc6138c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*9n_Hwy0U5Ems_x_wq4wKAg.png"/></div></figure><p id="857e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">散点图</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/ac929195203ddf2343ba8ada40b68485.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*EbJ2VobPD8RgLKkL53kKVw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">呃？这是怎么回事？</p></figure><p id="04e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不幸的是，散点图会导致错误。</p><h1 id="8b50" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">我的第二个顿悟时刻</h1><p id="fe6b" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">所以回头看看之前的剧情，现在说得通了。</p><blockquote class="nj nk nl"><p id="a18b" class="kw kx mt ky b kz la jr lb lc ld ju le nm lg lh li nn lk ll lm no lo lp lq lr ij bi translated">如果你在绘制一个独立变量的多个序列，那么你可以使用宽格式。否则，请使用长格式。</p></blockquote><p id="81e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们再次测试这个假设，看看它是否成立。让我们做一个散点图。</p><p id="61ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">散点图</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/7879986befd8acdcf197cbbc0053cdc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qY0bB2wA89m8PUpHgWW9rA.png"/></div></div></figure><p id="f585" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">万岁！那行得通。</p><p id="bb44" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我真的不是在散点图中比较两个系列，而是在绘制观察结果以查看它们的分布。颜色是可选的，没有它我也能做到。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/71c6f0ec528721cfe247889ec1ad505c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6FHTF4UpH0YlssjY3VbJZQ.png"/></div></figure><h1 id="9bf6" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">但是还有其他的图书馆…</h1><p id="4678" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我选择将这里讨论的绘图限制在 DataFrame 的<code class="fe nw nx ny nz b">plot</code>方法。</p><p id="fe4e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您刚接触来自 Excel 的 Pandas 时，您希望快速评估是否可以复制您在 Excel 中使用的常用图表，以保证 Pandas 的切换和连续使用。</p><p id="eb91" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，有效的数据分析依赖于绘图的快速创建；绘制这个，操纵数据，再次绘制，等等。因此，如果我试图在这里结合不同的绘图方法，你会陷入困境。</p><blockquote class="nj nk nl"><p id="d65c" class="kw kx mt ky b kz la jr lb lc ld ju le nm lg lh li nn lk ll lm no lo lp lq lr ij bi translated">将此作为应用于可视化的帕累托原则——你只需要知道 20%的绘图技术就可以获得生产力。</p></blockquote><h1 id="12f4" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="5756" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">总的来说，当您比较或绘制同一个索引的多个序列时，宽格式的数据非常有用。否则，最好坚持使用长格式。</p><p id="8ada" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里的工作流程是，您需要首先以正确的形式获得数据，以获得所需的绘图，该绘图首先规定了正确的格式。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/2f3d7662528f564bafbf43d63dbe0b87.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*FTeTclkKZzQRn7mA50BvVg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">数据、图和你之间的反馈回路。(freesvg.org 的大脑齿轮图标和 needpix.com 的情节图标)</p></figure><p id="077d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">只有这样，你才能设计或添加元素到情节中，使其更具吸引力。</p><p id="7f03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这和 Excel 做数据可视化的时候很像。你必须首先获得正确的数据，Excel 才能给出正确的图表，而不需要花里胡哨。然后你改变图表元素，添加标题等。让它更有效。</p><p id="25f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与阅读大量关于 Pandas 数据可视化的教程不同，拥有一个数据如何对应于情节的心理模型会使数据可视化更有趣。你的心智模型和工具之间的反馈循环使得学习更加有效。</p><p id="48f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就是这样！编码快乐！</p><p id="08ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="mt">感谢您阅读我的文章。关注我上</em> </strong> <a class="ae kv" href="https://twitter.com/iamkennethcpa" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mt">推特</em> </strong> </a> <strong class="ky ir"> <em class="mt">和</em> </strong> <a class="ae kv" href="https://www.linkedin.com/in/kennethinfante/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mt">领英</em> </strong> </a> <strong class="ky ir"> <em class="mt">。</em> </strong></p><p id="6620" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="mt">还我书</em> </strong> <a class="ae kv" href="https://leanpub.com/powerqueryguidetopandas" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mt"> PowerQuery 熊猫指南</em> </strong> </a> <strong class="ky ir"> <em class="mt">上</em></strong><a class="ae kv" href="https://leanpub.com/powerqueryguidetopandas" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mt">lean pub</em></strong></a><strong class="ky ir"><em class="mt">。</em> </strong></p></div></div>    
</body>
</html>