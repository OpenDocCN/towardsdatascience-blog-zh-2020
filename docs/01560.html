<html>
<head>
<title>Virtual Environments for Data Science: Running Python and Jupyter with Pipenv</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学的虚拟环境:使用 Pipenv 运行 Python 和 Jupyter</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/virtual-environments-for-data-science-running-python-and-jupyter-with-pipenv-c6cb6c44a405?source=collection_archive---------8-----------------------#2020-02-12">https://towardsdatascience.com/virtual-environments-for-data-science-running-python-and-jupyter-with-pipenv-c6cb6c44a405?source=collection_archive---------8-----------------------#2020-02-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ac2f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为 Python 设置虚拟环境。</h2></div><p id="6746" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作者:<a class="ae le" href="https://www.linkedin.com/in/edkrueger/" rel="noopener ugc nofollow" target="_blank"> Edward Krueger </a>数据科学家兼讲师和<a class="ae le" href="https://www.linkedin.com/in/douglas-franklin-1a3a2aa3/" rel="noopener ugc nofollow" target="_blank"> Douglas Franklin </a>助教兼技术作家。</p><p id="c7b4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="lf">在这篇文章中，我们将谈论虚拟环境以及它们为什么有用。您将学习如何在 Pipenv for Python 中设置虚拟环境。您还将学习如何在 Pipenv 环境之外运行 Jupyter 内核！</em></p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lg"><img src="../Images/d348120455231769a691de75ef82dcbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mG3CdUC5s6gH1vPoC6bevA.jpeg"/></div></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/s/photos/computer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae le" href="https://unsplash.com/@clemhlrdt?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Clément H </a>拍摄</p></figure><h1 id="84ce" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">为什么环境对数据科学至关重要</h1><p id="f91f" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">环境是开发人员工作、学习和创造的空间。例如，如果您计划运行 Python 代码，您必须安装一些本地软件来练习 Python。这种设置被称为编程环境。这些环境包含开发人员创建和测试代码所需的特定工具。例如，一个环境可能包含 Python 和一些包。一旦环境设置正确，开发人员就可以畅通无阻地工作，并与其他人无缝地共享环境规范。</p><p id="fe3d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于缺乏对虚拟环境的了解或经验，新开发人员通常在系统级别安装所有东西。用 pip 安装的软件包被放置在系统级。对每个项目都这样做的结果是一个臃肿且难以管理的单一 Python 环境。</p><p id="d3e0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有效的环境管理可以节省时间，并允许开发人员创建一个独立的软件产品，以便合作者或贡献者可以重新创建您的环境并运行您的代码。</p><p id="862c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Pipenv 将软件包管理和虚拟环境控制结合到一个工具中，用于安装、删除、跟踪和记录您的依赖关系；以及创建、使用和管理您的虚拟环境。Pipenv 本质上是将 pip 和 virtualenv 包装在一个产品中。</p><p id="728f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们在开发过程中都遇到过这种错误。</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="9cfa" class="my lx it mu b gy mz na l nb nc">ModuleNotFoundError: No module named 'pandas'</span></pre><p id="a8eb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该错误意味着 Python 找不到该模块(也称为依赖项或包)。你肯定你在某个地方安装了熊猫，但是它在哪里呢？</p><p id="a8b2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Python 虚拟环境的主要目的是为 Python 项目创建一个<strong class="kk iu">隔离的</strong>环境。适当的隔离意味着每个项目都可以有自己的依赖项，而不管其他项目有什么依赖项。通过对环境和依赖关系的适当维护，可以避免上述错误和许多其他错误。健康的环境管理实践减少了项目之间的依赖版本冲突，并防止基础开发环境被包所膨胀。</p><h1 id="d11e" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">数据科学和部署问题</h1><p id="6d3f" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">数据科学家通常是跨学科的，没有受过正式的教育，无法与他人合作，将项目推向生产。因此，通常缺乏良好的环境和模块管理技能。这可能会导致代码可复制性的问题，或者推进或共享项目的困难。可再现的数据科学项目是那些允许其他人在您的分析基础上重新创建和构建，并重用和修改您的代码的项目。</p><p id="62d6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">卫生环境管理实践减少了项目之间的依赖版本冲突，并防止基础开发环境变得臃肿和不可管理，从而帮助用户创建可重复的项目。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/0fa22a1636884206136aa304f1a7b238.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*mHrDuetdLskvNHYucD9u3g.png"/></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">由<a class="ae le" href="https://xkcd.com/" rel="noopener ugc nofollow" target="_blank"> xkcd </a>提供</p></figure><h1 id="dc42" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">Pipenv:更好的工作流程</h1><p id="a6df" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">Pipenv 将包管理和虚拟环境控制结合到一个工具中，使其成为数据科学家和开发人员的绝佳工具。</p><p id="eda1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当您使用 Pipenv 开始一个项目时，该工具会自动创建一个虚拟环境、一个 Pipfile 和一个 Pipfile.lock。当您使用 Pipenv 安装时，Pipfile 会自动使用新的依赖项进行更新。</p><p id="0036" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了管理复杂的依赖关系，Pipenv 在一个名为 Pipfile.lock 的文件中保存了我们项目的依赖关系树；例如，依赖于其他旧版本依赖项的旧版本依赖项。Pipfile.lock 还验证生产中使用的依赖项版本是否正确。</p><p id="829b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，使用 Pipenv，您向其他人展示了一种安装项目依赖项以及测试和开发需求的标准化方法。</p><p id="4d27" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Pipenv 是一个环境管理器和包管理器。这意味着 Pipenv 可以用 Python 创建一个环境，然后用<code class="fe ne nf ng mu b">pipenv install</code>将包下载并安装到一个环境中。</p><p id="ec87" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此命令将依赖 Pipfile 来创建 Pipfile 存在的环境；如果没有，Pipenv 将为这个环境创建一个 Pipfile。</p><p id="1386" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">附加到该命令的包将被添加到 Pipfile 中。</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="f5f1" class="my lx it mu b gy mz na l nb nc">pipenv install pandas matplotlib keras</span></pre></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="823a" class="lw lx it bd ly lz no mb mc md np mf mg jz nq ka mi kc nr kd mk kf ns kg mm mn bi translated">Pipenv 工作流:终端</h1><p id="8c15" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">设置您的第一个 Pipenv:安装 Python、Pipenv 和 Pandas</p><ol class=""><li id="40d0" class="nt nu it kk b kl km ko kp kr nv kv nw kz nx ld ny nz oa ob bi translated"><strong class="kk iu">安装</strong><a class="ae le" href="https://www.python.org/downloads/release/python-374/" rel="noopener ugc nofollow" target="_blank">Python<strong class="kk iu"/></a>T9】3.7</li><li id="019b" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld ny nz oa ob bi translated">打开端子<strong class="kk iu">安装</strong> Pipenv</li></ol><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="db1c" class="my lx it mu b gy mz na l nb nc">pip install pipenv</span></pre><p id="9bf8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.<strong class="kk iu">创建</strong>一个新目录，并导航至该目录。</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="dc35" class="my lx it mu b gy mz na l nb nc">mkdir pipenv_test<br/>cd pipenv_test</span></pre><p id="0fc7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.<strong class="kk iu">通过运行以下命令为环境安装</strong> pandas 和 NumPy:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="3f0a" class="my lx it mu b gy mz na l nb nc">pipenv install pandas numpy</span></pre><p id="8943" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，Pipenv 将为这个项目创建一个虚拟环境、一个 Pipfile 和一个 Pipfile.lock。</p><p id="f386" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">可以用<code class="fe ne nf ng mu b">uninstall</code>关键字类似地删除包。</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="4b82" class="my lx it mu b gy mz na l nb nc">pipenv uninstall pandas</span></pre><p id="087e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.<strong class="kk iu">通过以下方式激活</strong>项目的虚拟环境:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="c059" class="my lx it mu b gy mz na l nb nc">pipenv shell</span></pre><h1 id="f163" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">测试导入</h1><p id="714a" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">完成上述操作后，您现在应该能够运行:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="4113" class="my lx it mu b gy mz na l nb nc">pipenv shell</span></pre><p id="6e75" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，使用以下命令打开 Python 解释器:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="91bc" class="my lx it mu b gy mz na l nb nc">python</span></pre><p id="9b66" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在 Python 解释器中:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="c8bc" class="my lx it mu b gy mz na l nb nc">import pandas</span></pre><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi oh"><img src="../Images/e99efc01b60d32d98cff0e8f6a485a7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oCGg3SkvFFCAFA1iE2ChNw.png"/></div></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">成功进口熊猫</p></figure><p id="7c54" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果成功的话，你正在改进你的开发工作流程！</p><p id="c82b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果出现任何问题，请确保在运行<code class="fe ne nf ng mu b">python</code>之前已经运行了<code class="fe ne nf ng mu b">pipenv shell</code>，并通过运行以下命令来验证环境中是否存在依赖项。</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="eaed" class="my lx it mu b gy mz na l nb nc">pipenv graph</span></pre><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/7a0181be439f429871fa55e39ccfbd11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*kFAfud5sc7Se6X_6xgi4VA.png"/></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">Pipenv 依赖关系树</p></figure><h1 id="98de" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">Pipenv 工作流:Jupyter</h1><p id="68f0" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">设置您的第一个 Pipenv:安装 Pipenv、Python 和 Jupyter</p><ol class=""><li id="0f04" class="nt nu it kk b kl km ko kp kr nv kv nw kz nx ld ny nz oa ob bi translated"><strong class="kk iu">安装</strong><a class="ae le" href="https://www.python.org/downloads/release/python-374/" rel="noopener ugc nofollow" target="_blank">Python<strong class="kk iu"/></a><strong class="kk iu">3.7</strong></li></ol><p id="5e5c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">注:</strong> 3.8 与 Jupyter 在创作时是不兼容的</p><p id="aa5c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.打开一个终端，在你的机器上安装 Jupyter Lab。</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="2d02" class="my lx it mu b gy mz na l nb nc">pip install jupyterlab</span></pre><p id="a4a1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> 3。用以下工具安装</strong>管道:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="bc65" class="my lx it mu b gy mz na l nb nc">pip install pipenv</span></pre><p id="6955" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.<strong class="kk iu">创建</strong>一个新目录，并导航至该目录。</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="b2d9" class="my lx it mu b gy mz na l nb nc">mkdir pipenv_test<br/>cd pipenv_test</span></pre><p id="5bb2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.<strong class="kk iu">通过运行以下命令为环境安装</strong> Ipykernel 和 Numpy:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="2907" class="my lx it mu b gy mz na l nb nc">pipenv install ipykernel numpy</span></pre><p id="50a3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，Pipenv 将为这个项目创建一个虚拟环境和一个 Pipfile。</p><p id="6a71" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">6.<strong class="kk iu">激活</strong>项目的虚拟环境:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="248c" class="my lx it mu b gy mz na l nb nc">pipenv shell</span></pre><p id="1286" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">7.<strong class="kk iu">连接</strong>环境到内核:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="b763" class="my lx it mu b gy mz na l nb nc">python -m ipykernel install --user --display-name pipenv_test --name pipenv_test</span></pre><p id="90fc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">完成上述操作后，您现在应该能够运行:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="c7e3" class="my lx it mu b gy mz na l nb nc">jupyter notebook</span></pre><p id="827e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者您更喜欢实验室用户界面和附加功能。</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="937e" class="my lx it mu b gy mz na l nb nc">jupyter lab</span></pre><p id="e0c4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<strong class="kk iu"> Jupyter Notebook 中，</strong>选择“新建”查看下拉列表，查看可用内核列表。请注意，上面第 3 步中创建的“example_env”是内核的名称。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi oj"><img src="../Images/b3f71ef855a0510d10fad66d95939756.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OCDzDkZ48Lf0AFvqiGyPhQ.png"/></div></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">在笔记本中选择一个内核</p></figure><p id="bbda" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<strong class="kk iu"> Jupyter Lab 中，</strong>你必须点击右上角的内核框来访问内核列表。或者，您可以单击“内核”选项卡，然后选择“更改内核”来访问同一个下拉菜单。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi ok"><img src="../Images/1f3a89ec7d9d627d833371b816270da9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HtAb-uN11Hm80nH2TQWnvg.png"/></div></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">在实验室中选择内核</p></figure><h1 id="09f3" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">测试导入</h1><p id="49ba" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">在一个新的。ipynb 文件，尝试在单元格中运行以下代码。</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="5018" class="my lx it mu b gy mz na l nb nc">import pandas</span></pre><p id="4b33" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果成功的话，你正在改进你的开发工作流程！</p><p id="6ab4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果出现任何问题，请确保您选择了正确的内核，在运行<code class="fe ne nf ng mu b">jupyter lab</code>或<code class="fe ne nf ng mu b">jupyter notebook</code>以及连接内核之前，您已经运行了<code class="fe ne nf ng mu b">pipenv shell</code>。同样，您可以通过运行。</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="3de9" class="my lx it mu b gy mz na l nb nc">pipenv graph</span></pre><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/7a0181be439f429871fa55e39ccfbd11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*kFAfud5sc7Se6X_6xgi4VA.png"/></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">Pipenv 依赖关系树</p></figure></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="0ac4" class="lw lx it bd ly lz no mb mc md np mf mg jz nq ka mi kc nr kd mk kf ns kg mm mn bi translated">环境管理:</h1><p id="1dc2" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">Pipenv 可用于指定 Python 版本和包版本。</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="f78c" class="my lx it mu b gy mz na l nb nc">pipenv install django=1.11.10</span></pre><p id="8f44" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Python 规范:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="fe98" class="my lx it mu b gy mz na l nb nc">pipenv --python &lt;path&gt;<br/>#or<br/>pipenv --python python3</span></pre><p id="8367" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Pipenv 可以从<strong class="kk iu"> requirements.txt </strong>文件构建:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="7195" class="my lx it mu b gy mz na l nb nc">$ pipenv install -r requirements.txt</span></pre><p id="948e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">并且一个<strong class="kk iu"> requirements.txt </strong>文件可以用包 pipenv-to-requirements 从 Pipfile 中创建。</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="bfc8" class="my lx it mu b gy mz na l nb nc">pipenv install pipenv_to_requirements</span></pre><p id="1006" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后运行:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="ca34" class="my lx it mu b gy mz na l nb nc">pipenv run pipenv_to_requirements</span></pre><p id="827a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将在当前目录中生成 requirements.txt 和 requirements-dev.txt(如果适用)。</p><h1 id="2b7d" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">开发依赖性</h1><p id="0068" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">Pipfile 将依赖项组织成两类，开发包和包。通过附加一个 dev 标志，可以将一个包指定为一个开发依赖项(不在生产中使用)。</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="49e2" class="my lx it mu b gy mz na l nb nc">pipenv install black --dev</span></pre><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/9e254a7272ca4d16cf4baed55a1cf476.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*n5QJCVnVrElA3djor4wgrg.png"/></div><p class="ls lt gj gh gi lu lv bd b be z dk translated">管道文件结构</p></figure><h1 id="73f5" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">删除环境</h1><p id="b982" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">使用<code class="fe ne nf ng mu b">pipenv —-rm </code>命令可以轻松删除环境。要再次创建环境，使用命令<code class="fe ne nf ng mu b">pipenv install</code>。</p><p id="cbab" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">项目目录中的文件将保留。如果您希望删除它们，请删除整个目录。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="7a4f" class="lw lx it bd ly lz no mb mc md np mf mg jz nq ka mi kc nr kd mk kf ns kg mm mn bi translated">结论</h1><p id="5e44" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">当您想要重现代码时，将所有的包安装在一个环境中会成为一个问题。想象一下，当项目只需要 6 个包时，导出一个列出 200 个包的 requirements.txt 文件。</p><p id="56af" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Pipenv 将软件包管理和虚拟环境控制结合到一个工具中，用于安装、删除、跟踪和记录您的依赖关系；以及创建、使用和管理您的虚拟环境。</p><p id="6185" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将<a class="ae le" href="https://github.com/pypa/pipfile" rel="noopener ugc nofollow" target="_blank"> Pipfiles </a>添加到您的 Git 存储库中很好，这样其他用户就可以克隆存储库并在他们的系统上安装<a class="ae le" href="http://docs.pipenv.org/" rel="noopener ugc nofollow" target="_blank"> Pipenv </a>，然后键入:</p><pre class="lh li lj lk gt mt mu mv mw aw mx bi"><span id="f915" class="my lx it mu b gy mz na l nb nc">pipenv install</span></pre><p id="77e5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae le" href="http://docs.pipenv.org/" rel="noopener ugc nofollow" target="_blank"> Pipenv </a>然后定位<a class="ae le" href="https://github.com/pypa/pipfile" rel="noopener ugc nofollow" target="_blank"> Pipfiles </a>，创建一个新的虚拟环境，并安装必要的包。</p><p id="c00d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Pipenv 之所以伟大是因为。</p><ul class=""><li id="d9c5" class="nt nu it kk b kl km ko kp kr nv kv nw kz nx ld om nz oa ob bi translated">虚拟环境可以很容易地从 Pipfile 中重建</li><li id="7d80" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld om nz oa ob bi translated">虚拟环境可轻松部署到服务器上</li><li id="0dc0" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld om nz oa ob bi translated">Pipenv 使卫生包装和环境管理变得容易</li><li id="dd7b" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld om nz oa ob bi translated">适当管理的环境使协作者能够轻松地与您的代码交互并运行您的代码</li></ul></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="0d41" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有关更多信息，请查看虚拟环境的 Pipenv 文档<a class="ae le" href="https://pipenv-fork.readthedocs.io/en/latest/install.html#installing-packages-for-your-project" rel="noopener ugc nofollow" target="_blank">说明。</a></p></div></div>    
</body>
</html>