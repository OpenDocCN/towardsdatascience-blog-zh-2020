<html>
<head>
<title>How to Bash: For Those of Us Who Don’t Like the Command Line</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何抨击:对于我们这些不喜欢命令行的人来说</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-bash-for-those-of-us-who-dont-like-the-command-line-8cbf701356dd?source=collection_archive---------26-----------------------#2020-08-09">https://towardsdatascience.com/how-to-bash-for-those-of-us-who-dont-like-the-command-line-8cbf701356dd?source=collection_archive---------26-----------------------#2020-08-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f6df" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">80 年代的技术让你成为更快的程序员</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/20c3cee7ab32eecfbfc717219bcfd73d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ElOKBkH8D113aIlt"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">凯文·霍尔瓦特在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="e9a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">詹姆斯塔克。PyCaret。CI/CD 自动化。软件开发前沿的所有性感的前沿技术。</p><p id="fae7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后是巴什。伯恩又一个外壳，Unix 用户的默认外壳——Linux 和 Mac。对于在 Windows 上工作的软件开发人员来说是绝对必要的。(如果你没有在 Windows 上使用 WSL2，停止阅读这篇文章，进入<code class="fe lt lu lv lw b">Windows Features</code>，打开 Linux 的 Windows 子系统…现在！)</p><p id="6ec4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Bash 可能看起来是一个不值得您花费时间的遗迹。而且肯定不会诱发寻找最新东西的开发者流口水。但是它<em class="ls">是</em>所有运行终端或者 Windows 终端的人都用的(或者应该是)。</p><p id="2d53" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行上面提到的所有性感程序？巴什。</p><p id="1fd8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我也用鼠标，所以这不是命令行纯粹主义者的说教。然而，这个外壳的用途不仅仅是你现在使用的。在文件系统中导航。设置项目。运行 Python / Node / whatever 包管理器的命令。</p><p id="c779" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我想分享一些 Bash 的基本知识。如何从 Bash shell 中获得更多的东西，而不至于让自己疯狂地试图掌握它的许多怪癖。</p><p id="1a80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我将在我的 Windows 笔记本电脑上共享<code class="fe lt lu lv lw b">.bashrc</code>文件。这个文件连同。<code class="fe lt lu lv lw b">bash_aliases</code>，每天为我节省了大量的按键和认知压力。</p><h1 id="df4d" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated"><code class="fe lt lu lv lw b">.bashrc</code>文件</h1><p id="79f8" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated"><code class="fe lt lu lv lw b">.bashrc</code>文件位于您的主目录的根目录下。大多数终端和文件 ui 默认不显示“点文件”；它们是隐藏文件。您可以通过输入以下内容来查看您的:</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="b170" class="my ly iq lw b gy mz na l nb nc">$ ls -a ~/.bashrc<br/>/c/Users/nicho/.bashrc*</span></pre><p id="1dbf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe lt lu lv lw b">ls</code>命令上的<code class="fe lt lu lv lw b">-a</code>开关告诉程序打印所有文件，甚至是点文件。</p><p id="28f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">shell 程序启动时需要运行的任何东西的 Home base。</p><ul class=""><li id="b569" class="nd ne iq ky b kz la lc ld lf nf lj ng ln nh lr ni nj nk nl bi translated">环境变量</li><li id="9e50" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">功能</li><li id="8654" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">别名</li><li id="b8b1" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">设置</li><li id="90eb" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">提示</li><li id="6c89" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">自动完成</li></ul><p id="756f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是所有好东西的去处。我保持简单。虽然没有必要，但我的别名放在一个单独的文件中，<code class="fe lt lu lv lw b">.bash_aliases</code>。Bash 将在您的<code class="fe lt lu lv lw b">.bashrc</code>中加载这些代码。</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="2f83" class="my ly iq lw b gy mz na l nb nc">if [ -f ~/.bash_aliases ]; then<br/>    . ~/.bash_aliases<br/>fi</span></pre><h1 id="4bec" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">Bash 别名</h1><p id="76c7" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">使用<code class="fe lt lu lv lw b">alias</code>命令查看 shell 环境中可用的别名。</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="7b1f" class="my ly iq lw b gy mz na l nb nc">$ alias<br/>alias avm='ssh -i ~/.ssh/digitalocean root@XXX.XX.XXX.XXX'<br/>alias az='az.cmd'<br/>alias ba='vim ~/.bash_aliases'<br/>alias chrome='/c/Program\ Files\ \(x86\)/Google/Chrome/Application/chrome.exe'<br/>alias clpr='cd /c/projects/CLIENTPROJECTS'<br/>alias cls='clear'<br/>alias cn='code -n .'<br/>alias d='cd /c/Users/nicho/Downloads/'<br/>alias day='touch ~/Downloads/$(date +%m%d%Y).txt; code ~/Downloads/$(date +%m%d%Y).txt'<br/>alias dcu='docker-compose up -d'<br/>alias default='export AWS_PROFILE=default &amp;&amp; echo Using my default AWS account'<br/>alias docs='cd /c/Users/nicho/OneDrive/Documents'<br/>alias dpa='docker ps -a'<br/>alias e='explorer .'<br/>alias ee='exit'<br/>alias es='/c/tools/elasticsearch/bin/elasticsearch.bat<br/>...</span></pre><p id="bc00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">别名只受你的想象力的限制。通过不接受参数。</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="3d1e" class="my ly iq lw b gy mz na l nb nc"># alias test="echo Hi, $1 $2"<br/>$ test Jane Doe<br/>Hi, Jane Doe<br/>​<br/># alias test="echo Hi, $1 $2. We are using aliases!"<br/>$ test Jane Doe<br/>Hi, . We are using aliases! Jane Doe</span></pre><p id="140a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最好对带参数的命令使用 Bash 函数。</p><h1 id="3e50" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">完成工作的基本功能</h1><p id="feb0" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">Bash 函数有足够简单的语法来声明:</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="d584" class="my ly iq lw b gy mz na l nb nc">function_name () {<br/>  # logic here<br/>}</span></pre><p id="2608" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">示例:</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="cc0c" class="my ly iq lw b gy mz na l nb nc">test () {<br/>  if [ -z "$1" ]; then # no argument<br/>    echo "Hi, Anonymous!";<br/>  else<br/>    echo "Hi, $1 $2. We are using aliases!";<br/>  fi<br/>}</span></pre><p id="5278" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">编写 Bash 脚本的一个好处是，您可以直接从终端程序运行它们(在 Windows 上，当运行<a class="ae kv" href="https://gitforwindows.org/" rel="noopener ugc nofollow" target="_blank"> Git BASH </a>时)。Bash 也是一种编程语言:</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="c540" class="my ly iq lw b gy mz na l nb nc">$ test () {<br/>&gt;   if [ -z "$1" ]; then # no argument<br/>&gt;     echo "Hi, Anonymous!";<br/>&gt;   else<br/>&gt;     echo "Hi, $1 $2. We are using Bash functions!";<br/>&gt;   fi<br/>&gt; }<br/>$ test<br/>Hi, Anonymous!<br/>$ test Nick B<br/>Hi, Nick B. We are using Bash functions!</span></pre><p id="a34a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">…但这也是我对 Bash 的 shell 脚本一无所知的地方。对于任何比上面的例子更复杂的东西——模板、大量变量、嵌套命令——请使用 Python。Python 彻底击败了 Bash 编写的易于理解的脚本。</p><h1 id="f8b9" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">快捷键</h1><h1 id="772b" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">我的<code class="fe lt lu lv lw b">.bashrc</code></h1><p id="7be5" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">请击鼓！正如承诺的，这是我的<code class="fe lt lu lv lw b">.bashrc</code>设置。在电脑上，没有比<code class="fe lt lu lv lw b">.bashrc</code>更私人的文件了。(不，我没那么无辜。我们在这里谈论编程。)</p><p id="7dfe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你会发现这些对你没用。有些，我真心希望你能做到。拿一些你认为可以使用的部分，复制它们，然后自己动手做。自行添加。</p><p id="890c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请记住，您需要运行<code class="fe lt lu lv lw b">.bashrc</code>文件来查看 shell 中的更改是否生效。</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="9e59" class="my ly iq lw b gy mz na l nb nc">$ source ~/.bashrc<br/>$ # or<br/>$ . ~/.bashrc</span></pre><p id="cb6c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的<code class="fe lt lu lv lw b">.bashrc</code>档案:</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="12f0" class="my ly iq lw b gy mz na l nb nc">#!/bin/bash<br/>​<br/>export PATH="/c/scripts/:$PATH"<br/>​<br/># virtualenvwrapper<br/>export WORKON_HOME=$HOME/Envs<br/>​<br/># Postgres<br/>export PGCLIENTENCODING=UTF8<br/>​<br/>PATH=~/.local/bin:$PATH<br/>​<br/>if [ -f ~/.bash_aliases ]; then<br/>. ~/.bash_aliases<br/>fi<br/>​<br/># command completion for AWS CLI<br/>complete -C '/c/Python36/Scripts/aws_completer' aws<br/>​<br/># function to go to the designated projects folder<br/>p() {<br/>    cd /c/projects/$1<br/>}<br/>​<br/># function to cd to the scripts folder, then subfolder<br/>s() {<br/>    cd /c/scripts/$1<br/>}<br/>​<br/># function to cd to the startup folder<br/>startup() {<br/>    cd /c/Users/nicho/AppData/Roaming/Microsoft/Windows/Start\ Menu/Programs/Startup<br/>}<br/>​<br/># random number generator<br/>rand() {<br/>  if [ -z "$1" ] # no argument<br/>    then<br/>      range=4<br/>    else<br/>      range=$1 # will error if argument is not a number<br/>  fi<br/>  local num<br/>  for ((i=0;i&lt;$range;i++))<br/>    do<br/>    num=$num$((RANDOM%9))<br/>    done<br/>  echo $num<br/>  printf "%s" $num | clip.exe<br/>  echo "Number is on the clipboard."<br/>}<br/>​<br/># alias for cd change directory<br/>a() {<br/>  if [ -z "$1" ] # no argument<br/>    then<br/>      cd -<br/>    else<br/>      cd $1<br/>  fi<br/>}<br/>​<br/># alias for choco install --confirm<br/>ci() {<br/>  if [ -z "$1" ] # no argument<br/>    then<br/>      echo "choco install needs a package name argument to run."<br/>    else<br/>      choco install --confirm $1<br/>  fi<br/>}<br/>​<br/># get an AWS elasticsearch domain's endpoint to the clipboard<br/>esdomain() {<br/>  if [ -z "$1" ] # no argument<br/>    then<br/>      echo "need a domain name as an argument for this function"<br/>    else<br/>      ENDPOINT=$(aws es describe-elasticsearch-domain --domain-name $1 | jq '.DomainStatus.Endpoint' | tr -d \")<br/>      printf "%s" $ENDPOINT | clip.exe<br/>      echo "The endpoint for $1 is on the clipboard."<br/>  fi<br/>}<br/>​<br/># open my date log files<br/>week() {<br/>  today=$(date +"%Y-%m-%d")<br/>  lastSunday=$(date -d "$today -$(date -d $today +"%u") days" +"%Y-%m-%d")<br/>  for ((i=1; i&lt;=7; i++)); do<br/>    code ~/OneDrive/Documents/$(date +"%m%d%Y" -d "$lastSunday +$i days").txt<br/>  done<br/>}<br/>​<br/>toobig() {<br/>  if [ -z "$1"] # no argument<br/>    then<br/>      du -h --threshold=5000000 # show files 5MB or greater<br/>    else<br/>      du -h --threshold=$1<br/>  fi<br/>}</span></pre><h1 id="4e35" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">结论</h1><p id="3c10" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">Bash 并不新鲜。但正因为如此，它是您的软件开发环境的基础。如果像 Bash 别名或某个函数这样的新技巧节省了您通常在终端中导航所花费的一半时间，那么这意味着您只需要实现一两个新东西，就可以将命令行的工作效率提高一倍！</p><p id="0055" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我很想知道你在系统中使用了哪些 Bash 特性。请对本文发表评论。谁知道呢？也许你发现的东西也能帮助我们其他人！</p></div></div>    
</body>
</html>