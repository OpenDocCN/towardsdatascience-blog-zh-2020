<html>
<head>
<title>Matplotlib Cheat Sheet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Matplotlib 备忘单</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/matplotlib-cheat-sheet-f441c43971c4?source=collection_archive---------14-----------------------#2020-07-29">https://towardsdatascience.com/matplotlib-cheat-sheet-f441c43971c4?source=collection_archive---------14-----------------------#2020-07-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0f11" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">基本情节，包括代码样本。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/26114d135be6a9b6f268e03099784d6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*33rfA5X-MlDlGaY4"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@giorgiotrovato?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">乔治·特罗瓦托</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="d356" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Matplotlib 是 Python 编程语言的绘图库。Matplotib 最常用的模块是 Pyplot，它提供了一个类似 Matlab 的接口，但它使用 Python，并且是开源的。</p><p id="bc7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本笔记中，我们将重点介绍基本的 Matplotlib，以帮助我们可视化数据。这不是一个全面的列表，但包含了常见类型的数据可视化格式。让我们开始吧！</p><p id="227c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这张纸条的结构是:</p><ol class=""><li id="002a" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">Matplotlib 图形剖析</li><li id="67a0" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">从 Pyplot 开始</li><li id="313f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">图表类型</li></ol></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="66e7" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">Matplotlib 图形剖析</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/6556948b33b09d280825ed2375f45175.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0oo_CQ94bGh6FXSlFpzBYw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">人物剖析(作者图片)</p></figure><p id="6aca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个<strong class="lb iu">图</strong>包含发生绘图的整个窗口。</p><p id="1bd3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">轴:</strong>就是我们一般认为的剧情。每个轴都有一个标题、一个 x 标签和一个 y 标签。</p><p id="51cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi nj translated">注意:我们可以在一个图形中有多个轴，这有助于构建多个图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/edfccf9452622dd22f9128fe24e78805.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pwWmR3sfksa6y4_3LH04uQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一个图形中可以有多个轴，这有助于构建多个图。(图片由作者提供)</p></figure><p id="2f8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">轴</strong>是类似数字线的对象，有助于生成图形界限。每个轴都有一个 x 轴和 y 轴用于绘图。</p><p id="783d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">记号</strong>是表示轴上数据点的标记，即用来表示坐标轴上特定点的值。这些值可以是数字或字符串。每当我们绘制图形时，轴会调整并采用默认刻度。Matplotlib 的默认刻度在一般情况下足够了，但绝不是对每个图都是最佳的。</p><p id="4786" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个图的<strong class="lb iu">脊线</strong>就是这个图的边。它连接轴刻度线并标注数据区的边界。</p><h1 id="7154" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">从 Pyplot 开始</h1><p id="cbec" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">Pyplot 是 Matplotlib 的一个模块，它提供了简单的功能来添加绘图元素，如线条、图像、文本等。当前图形中的当前轴。</p><p id="0bda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们设置了用于绘制和导入我们将使用的包的笔记本:</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="8863" class="oi mr it oe b gy oj ok l ol om">import numpy as np<br/>import matplotlib.pyplot as plt<br/>plt.style.use('seaborn-whitegrid') # Set the aesthetic style of the plots</span></pre><p id="2dbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以按如下方式创建图形和轴:</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="7c93" class="oi mr it oe b gy oj ok l ol om">fig, ax = plt.subplots()</span><span id="2d69" class="oi mr it oe b gy on ok l ol om">print(type(fig))<br/>print(type(ax))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/6099bedc9f72aa278074069f1ff7d96e.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*6ARIPiQWREXv9xH8HiO30w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建图形和轴</p></figure><p id="f827" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们通常使用变量名<code class="fe op oq or oe b">fig</code>来指代一个图形实例，使用<code class="fe op oq or oe b">ax</code>来指代一个轴实例或一组轴实例。</p><p id="c268" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我们创建了一个轴，我们可以使用<code class="fe op oq or oe b">plt.plot</code>功能来绘制一些数据。先说一个简单的情节。也许所有图形中最简单的是单个函数<code class="fe op oq or oe b">y = 2x</code>的可视化。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="841e" class="oi mr it oe b gy oj ok l ol om">fig, ax = plt.subplots()<br/>x = np.random.randint(1,10, size=10)<br/>y = 2*x <br/>plt.plot(x,y) # same as ax.plot(x,y)<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/a9b81a4b9778cc91ba2d97785e0a6824.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*PzR2UWOJG8mE_jotFOlyuQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">y=2x</p></figure><p id="c1d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们想用多行创建一个图形，我们可以简单地多次调用<code class="fe op oq or oe b">plot</code>函数:</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="9919" class="oi mr it oe b gy oj ok l ol om"># Multiple lines<br/>fig, ax = plt.subplots()<br/>x = np.random.randint(1,10, size=10)<br/>y = 2*x <br/>plt.plot(x,y)<br/>plt.plot(x,x+3)<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/8aa517ef4c633c46ceb914164adcc454.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*40DbPh8pu5a-o2QKa2c0Xw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">多行</p></figure><h2 id="ea5e" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">线条颜色和样式</h2><p id="8e31" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated"><code class="fe op oq or oe b">plt.plot()</code>函数接受可用于指定线条颜色和样式的附加参数。为了进行调整，我们可以使用<code class="fe op oq or oe b">color</code> <code class="fe op oq or oe b">linestyle</code>关键字，它接受一个表示几乎任何可以想象的颜色/样式的字符串参数。可以通过多种方式指定颜色和样式:</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="0720" class="oi mr it oe b gy oj ok l ol om">fig, ax = plt.subplots()<br/>x = np.linspace(0,10,1000)<br/>y = 2*x</span><span id="a1b3" class="oi mr it oe b gy on ok l ol om"># set of default color and style<br/>plt.plot(x, np.cos(x))</span><span id="5eef" class="oi mr it oe b gy on ok l ol om"># RGB tuple, values 0 to 1, solid style<br/>plt.plot(x, np.sin(x), color=(1.0,0.2,0.3),linestyle='-')</span><span id="2b81" class="oi mr it oe b gy on ok l ol om"># specify color by name, dashed style<br/>plt.plot(x, y, color='blue', linestyle='--')</span><span id="9737" class="oi mr it oe b gy on ok l ol om"># short color code (rgbcmyk), dotted style   <br/>plt.plot(x, x+3, color='g',linestyle=':')</span><span id="2209" class="oi mr it oe b gy on ok l ol om"># Grayscale between 0 and 1, dashdot style    <br/>plt.plot(x, np.log(x), color='0.75',linestyle='-.')</span><span id="5e3f" class="oi mr it oe b gy on ok l ol om"># Hex code (RRGGBB from 00 to FF), dashed style  <br/>plt.plot(x, x, color='#FFDD44',linestyle='--')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/1382aad0c17d44a813dcdab817fd4c66.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/format:webp/1*xOn-KrHC4M2H4SRN2uNqLA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">颜色和样式</p></figure><h2 id="947c" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">轴限制</h2><p id="c87b" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">Matplotlib 在为我们的绘图选择默认轴限制方面做得很好，但有时更好的控制也不错。调整轴极限的最基本方法是使用<code class="fe op oq or oe b">plt.xlim()</code>和<code class="fe op oq or oe b">plt.ylim()</code>方法:</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="676e" class="oi mr it oe b gy oj ok l ol om">plt.xlim(0, 11)<br/>plt.ylim(-1.5, 10)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/9cad098b66de64a2606bd59cdccae4ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*RsoIuex5vK4owB60sLW4GQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">设置限制</p></figure><h2 id="5b00" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">标签图</h2><p id="411e" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">作为本节的最后一部分，我们将简要地看一下图的标签:标题、轴标签和简单的图例。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="7dca" class="oi mr it oe b gy oj ok l ol om">plt.plot(x, np.sin(x), label='y=sin(x)')<br/>plt.plot(x,np.cos(x), label='y=cos(x)')<br/>plt.title('Sine and Cosine Functions ')<br/>plt.xlabel("x-axis")<br/>plt.ylabel("y-axis")<br/>plt.legend() # Describing the element of the graph<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/adf4297c4e4c12fe5200bc88d9e133ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*msVVg9GgSPNf8MJwB6cbvw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">给图标上标签</p></figure><h1 id="ce64" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">地块类型</h1><p id="f0ea" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">使用 python Matplotlib 可以创建各种绘图。在本节中，我们将讨论最常用的数据可视化图。</p><p id="8bd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用来自<a class="ae ky" href="https://www.kaggle.com/unsdsn/world-happiness" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>的<a class="ae ky" href="https://worldhappiness.report/" rel="noopener ugc nofollow" target="_blank">世界幸福报告</a>数据集。我清理了数据，将所有文件合并到<code class="fe op oq or oe b">happiness_rank.csv</code>文件中。您可以下载并清理数据，或者只需在此处下载最终结果<a class="ae ky" href="https://github.com/Nothingaholic/Python-Cheat-Sheet/blob/master/matplotlib/happiness_rank.csv" rel="noopener ugc nofollow" target="_blank"/>。我推荐你在<a class="ae ky" href="https://github.com/Nothingaholic/The-World-of-Happiness/blob/master/MLR.ipynb" rel="noopener ugc nofollow" target="_blank"> Github </a>上查看我的数据清理代码。</p><h1 id="4d0b" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">散点图</h1><p id="2ee2" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">散点图是一种常用于统计和数据科学的图表。它由跨两个轴绘制的多个数据点组成。散点图中描绘的每个变量都有多个观察值。每当我们想要查看两组数据之间是否有任何关系时，这是一种非常有用的图表类型。</p><h2 id="e270" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时使用散点图</h2><p id="5f74" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">我们使用散点图来确定数据与每个变量的关系(即相关性或趋势模式)。)它还有助于检测图中的异常值。</p><p id="f92b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在机器学习中，散点图常用于回归，其中 x 和 y 是连续变量。它们也用于聚类分散点或离群点检测。</p><h2 id="dcd2" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时避免散点图</h2><p id="41ef" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">如果我们对观察时间模式感兴趣，散点图是不合适的。</p><p id="6d4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">散点图用于数字数据或数字。因此，如果我们有三个部门、五个产品等类别，散点图不会揭示太多。</p><h2 id="c33d" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">Python 实现</h2><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="36ef" class="oi mr it oe b gy oj ok l ol om">fig, ax = plt.subplots(figsize = (12,6))<br/>x = df['GDP']<br/>y = df['Score']<br/>plt.scatter(x,y)<br/>plt.title('GDP vs Happiness Score')<br/>plt.xlabel('GDP')<br/>plt.ylabel('Score')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/916e0efacd6ba9bf359f12c6e19b1b43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jf21QziOdBTaMO7887ziyA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">散点图</p></figure><p id="8f1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">三维散点图</strong></p><p id="8e54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3D 散点图有助于在三维图中显示三个数值变量。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="ab2c" class="oi mr it oe b gy oj ok l ol om">from mpl_toolkits.mplot3d import Axes3D<br/>fig = plt.figure(figsize=(10,6))<br/>ax = fig.add_subplot(111, projection='3d')<br/>ax.scatter(df['Year'],df['GDP'],df['Score'], s=30)<br/>ax.set( xlabel='Year', ylabel='GDP',zlabel='Score')<br/>plt.xticks(np.arange(2015,2020,step =1))<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/1e8eec32d0650a86347878c477c1fa5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*kjYSUlmygoX406ZoYcJzxQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">三维散点图</p></figure><p id="559b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">散点图，带有最佳拟合的线性回归线</strong></p><p id="4b58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将使用<code class="fe op oq or oe b">LinearRegression</code>用 Scikit-learn 实现线性回归。创建线性回归对象后，我们可以通过调用 fit 方法来获得最适合我们的数据的直线。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="35e2" class="oi mr it oe b gy oj ok l ol om">x = df['GDP'].values.reshape(-1,1).astype('float32')<br/>y = df['Score'].values.reshape(-1,1).astype('float32')</span><span id="47f7" class="oi mr it oe b gy on ok l ol om"># Split the data to train and test data<br/>X_train, X_test, y_train, y_test = train_test_split(x, y, test_size=0.2, random_state=0)</span><span id="148a" class="oi mr it oe b gy on ok l ol om"># Apply Linear Regression Algorithms<br/>h = LinearRegression()  <br/>h.fit(X_train,y_train)</span><span id="ec2e" class="oi mr it oe b gy on ok l ol om">y_pred = h.predict(X_test)</span><span id="1f96" class="oi mr it oe b gy on ok l ol om">fig,(ax1) = plt.subplots(1, figsize = (12,6))<br/>ax1.scatter (X_test, y_test, s = 8)<br/>plt.plot(X_test,y_pred, color = 'black', linewidth = 2)<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/70cf27bc7e4debf0dd76e743539e152d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*o70RqUwnex09FMLjfPovog.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有最佳拟合线性回归线的散点图</p></figure><h1 id="4eb1" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">分叉棒线</h1><p id="de88" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">发散条形图是一种条形图，其中某些维成员的标记指向上方或右侧，而其他维成员的标记指向相反的方向(分别为下方或左侧)。</p><p id="f823" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi nj translated"><span class="l nk nl nm bm nn no np nq nr di"> N </span>注:</p><ul class=""><li id="17bc" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu pk mb mc md bi translated">向下或向左流动的标记不一定代表负值。</li><li id="b944" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu pk mb mc md bi translated">发散线可以表示零，但也可以用于简单地分隔二维成员的标记。</li></ul><h2 id="826d" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated"><strong class="ak">何时使用分叉棒线</strong></h2><p id="9324" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">我们使用分叉棒线来查看项目如何基于单个指标变化，并直观显示这种变化的顺序和数量。如果我们的主要目标是比较每个维度成员的趋势，那么发散条形图是一个不错的选择。</p><h2 id="bcf2" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时避免分叉棒线</h2><p id="4ccc" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">使用发散条形图的缺点是不像使用分组条形图那样容易比较维成员之间的值。</p><h2 id="3d8f" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">Python 实现</h2><p id="eadb" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">我们仅以 2019 年的数据为例。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="6b6f" class="oi mr it oe b gy oj ok l ol om"># Data processing<br/>top_economies = ['United States', 'China','Japan', 'Germany','United Kingdom','India', 'France','Brazil', 'Canada']<br/>df_top = df_19[(df_19['Country'].isin(top_economies))].sort_values(['Country'])<br/>df_top.reset_index(drop=True)</span><span id="8c62" class="oi mr it oe b gy on ok l ol om">x = df_top.loc[:, ['Score']]<br/>df_top['Score_z'] = (x - x.mean())/x.std()<br/>df_top['colors'] = ['red' if x &lt; 0 else 'blue' for x in df_top['Score_z']]<br/>df_top.sort_values('Score_z', inplace=True)<br/>df_top.reset_index(inplace=True)</span><span id="56d4" class="oi mr it oe b gy on ok l ol om"># Draw plot<br/>plt.figure(figsize=(8,6), dpi= 50)<br/>plt.hlines(y=df_top.index, xmin=0, xmax=df_top.Score_z, color=df_top.colors, alpha=0.5, linewidth=20)</span><span id="3f74" class="oi mr it oe b gy on ok l ol om"># Decorations<br/>plt.gca().set(ylabel='Country', xlabel='Happiness_Score')<br/>plt.yticks(df_top.index, df_top.Country, fontsize=15)<br/>plt.title('Happiness Score for Top Economies in 2019', fontdict={'size':20})<br/>plt.grid(linestyle='--', alpha=0.5)<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/dbdb7e9b6131875f21ac4b786a806efb.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*382o_Cjom55AC1vvmQUHuw.png"/></div></figure><h1 id="b4cc" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">对比图</h1><p id="fb15" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">面积图的概念是基于折线图。彩色区域向我们展示了每个变量随时间的发展。</p><p id="3e90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">面积图有三种类型:常规面积图、堆积面积图和百分比堆积面积图。</p><h2 id="77b5" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时使用面积图</h2><p id="35d0" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">我们用面积图来显示一个完整的部分是如何随时间变化的。例如，幸福分数有六个生成分区；我们希望看到每个分部的贡献。</p><p id="d175" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，如果我们感兴趣的是每个分部产生的部分，而不是分部本身的总量，我们可以使用 100%堆积面积图。这将显示一段时间内每个部门的百分比贡献。</p><h2 id="03c5" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时避免面积图</h2><p id="46cf" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">如果我们想比较不同股票的大小，面积图不是最好的选择。如果你想证明一股超越了另一股；或者，如果我们的值之间的差异非常小，考虑折线图。</p><p id="49a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Python 实现</strong></p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="f591" class="oi mr it oe b gy oj ok l ol om"># Regular Area Chart<br/># Create data<br/>x = df_top['Score']<br/>y = df_top['GDP']</span><span id="d3f1" class="oi mr it oe b gy on ok l ol om"># Change the color and its transparency<br/>plt.fill_between( x, y, color="skyblue", alpha=0.2)<br/>plt.xlabel('Score')<br/>plt.ylabel('GDP')<br/>plt.plot(x, y, color="Slateblue", alpha=0.6)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/c7fb5afbbb3ad9c79cbec838643fe283.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*zY5SKmq7qm9ohMJ7Bdr-aA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">规则面积图</p></figure><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="5ad9" class="oi mr it oe b gy oj ok l ol om"># Stacked Area Chart<br/>plt.stackplot(df_top.index,<br/>              [df_top['GDP'], df_top['Health'],<br/>               df_top['Support'], df_top['Freedom']],<br/>              df_top['Generosity'], df_top['Corruption'],<br/>              labels=['GDP', 'Health', 'Support', 'Freedom','Generosity','Corruption'],<br/>              alpha=0.8)</span><span id="97a2" class="oi mr it oe b gy on ok l ol om">plt.legend(loc=2, fontsize='large')<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/a7007c7082bf5d140c994bc39080fa51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*YVOAtFFSvj-ibsu21UZU_w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">堆积面积图</p></figure><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="f394" class="oi mr it oe b gy oj ok l ol om"># 100% Stacked Area Chart<br/>data_perc = df_top[['GDP', 'Health', 'Support', 'Freedom','Generosity','Corruption']]<br/>data_perc = data_perc.divide(data_perc.sum(axis=1), axis=0)</span><span id="96c5" class="oi mr it oe b gy on ok l ol om">plt.stackplot(data_perc.index,<br/>              [data_perc['GDP'], data_perc['Health'],<br/>               data_perc['Support'], data_perc['Freedom']],<br/>              data_perc['Generosity'], data_perc['Corruption'],<br/>              labels=['GDP', 'Health', 'Support', 'Freedom','Generosity','Corruption'],<br/>              alpha=0.8)</span><span id="d056" class="oi mr it oe b gy on ok l ol om">plt.legend(loc=2, fontsize='large')<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/feb5af5adea262792b206d428caafe55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VjUv0dLO-_YbGCdFdjvEyQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">百分比堆积面积图</p></figure><h1 id="222d" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">条形图</h1><p id="d23d" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">条形图是最常用的图表类型之一。顾名思义，条形图是由一系列显示变量发展的条形组成的。</p><p id="4341" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">条形图有四种类型:常规条形图、水平条形图、组条形图和堆积条形图。</p><h2 id="4f7f" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时使用条形图</h2><p id="0558" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">当我们想要跟踪一个或两个变量随时间的发展时，条形图非常有用。图表的一个轴显示正在比较的特定类别，另一个轴代表测量值。</p><h2 id="a2fb" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时避免条形图</h2><p id="f9ed" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">当我们有一个变量的单周期分解时，简单的条形图是不合适的。例如，如果我想描绘对公司收入有贡献的主要业务线，我不会使用条形图。相反，我会创建一个饼图或其变体。</p><h2 id="4f53" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated"><code class="fe op oq or oe b">Python Implementation</code></h2><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="0d8f" class="oi mr it oe b gy oj ok l ol om"># Bar Chart</span><span id="e3f2" class="oi mr it oe b gy on ok l ol om">countries = ['United States','Japan', 'Germany','Brazil', 'India']<br/>y_pos = np.arange(len(countries))<br/>data = df_19[(df_19['Country'].isin(countries))].sort_values(['Country'])<br/>data.sort_values('GDP', inplace=True)<br/>data.reset_index(drop=True)</span><span id="2f9d" class="oi mr it oe b gy on ok l ol om">plt.bar(y_pos, data['GDP'], align='center', alpha=0.5)<br/>plt.xticks(y_pos, data['Country'])<br/>plt.ylabel('GDP')<br/>plt.title('Bar Chart')<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/56986213f445cec525c397a04cb55e4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*8zfPIHaAv7DCsSN_xvRuPA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">条形图</p></figure><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="dafd" class="oi mr it oe b gy oj ok l ol om"># Horizontal bar chart</span><span id="c1e9" class="oi mr it oe b gy on ok l ol om">df_19[(df_19['Country'].isin(countries))].sort_values(['Country'])<br/>data.sort_values('Score', inplace=True)<br/>data.reset_index(drop=True)</span><span id="881e" class="oi mr it oe b gy on ok l ol om">plt.barh(y_pos, data['Score'], align='center', alpha=0.5)<br/>plt.yticks(y_pos, data['Country'])<br/>plt.xlabel('Score')<br/>plt.title('Horizontal Bar Chart')<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/6043298001960d7f07465215e95f0f7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*mbsF47Lbgr43QqvAo2gLZQ.png"/></div></figure><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="a1c8" class="oi mr it oe b gy oj ok l ol om"># Group bar chart<br/>index = np.arange(5)<br/>width = 0.35</span><span id="fff3" class="oi mr it oe b gy on ok l ol om">fig, ax = plt.subplots(figsize=(9, 6))<br/>rects1 = ax.bar(index - width / 2, data['GDP'],<br/>                width, color='#1f77b4', alpha=0.5)<br/>rects2 = ax.bar(index + width / 2, data['Health'],<br/>                width, color='#1f77b4')<br/>plt.xticks(index, gdp['Country'])<br/>plt.legend((rects1[0], rects2[0]), ('GDP', 'Health'))</span><span id="b267" class="oi mr it oe b gy on ok l ol om">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/26544840f9582e8fc78f854972a6197a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*KCBBE6IaKJN3CYXee_zt0g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">组条形图</p></figure><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="14be" class="oi mr it oe b gy oj ok l ol om"># Stacked bar chart<br/>fig = plt.figure(figsize=(14,10))<br/>rect1 = plt.bar(np.arange(5), data['Support'],<br/>                width=0.5, color='lightblue')<br/>rect2 = plt.bar(np.arange(5), data['Freedom'],<br/>                width=0.5, color='#1f77b4')<br/>plt.xticks(index, data['Country'])<br/>plt.legend((rect1[0], rect2[0]), ('Support', 'Freedom'))</span><span id="2644" class="oi mr it oe b gy on ok l ol om">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/f64adeab7293c8aba8c29be435de20f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mr3jmWRwOVo7a32iOzDDyw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">堆积条形图</p></figure><h1 id="a30d" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">棒棒糖图表</h1><p id="2071" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">棒棒糖图以一种视觉愉悦的方式提供了与有序条形图相似的用途。我们使用棒棒糖图来显示一个数值变量和另一个数值变量或分类变量之间的关系。</p><h2 id="52e4" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时使用棒棒糖图表</h2><p id="ae6b" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">如果我们要处理大量的值，并且这些值都很高，例如在 80–90%的范围内(100%之外)，棒棒糖图通常被认为比普通的条形图有用。那么一大套高大的柱子就可以在视觉上咄咄逼人。</p><h2 id="a3af" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时避免棒棒糖图表</h2><p id="f17e" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">如果我们的数据中有长度非常相似的未分类棒棒糖——比较两个非常相似的棒棒糖的长度比比较标准棒棒糖的长度更困难。</p><p id="c5b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Python 实现</strong></p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="69a7" class="oi mr it oe b gy oj ok l ol om">(markerline, stemlines, baseline) = plt.stem(data['Country'],<br/>                                             data['GDP'])<br/>plt.setp(markerline, marker='o', markersize=15,<br/>         markeredgewidth=2, color='lightblue')<br/>plt.setp(stemlines, color='lightblue')<br/>plt.setp(baseline, visible=False)</span><span id="5558" class="oi mr it oe b gy on ok l ol om">plt.tick_params(labelsize=12)<br/>plt.ylabel('GDP', size=12)<br/>plt.ylim(bottom=0)</span><span id="914f" class="oi mr it oe b gy on ok l ol om">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/e75543e5a32f224df339761b831592db.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*y0JVz6bsPcLMbuVkx_4dGw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">棒棒糖图表</p></figure><h1 id="e049" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">柱状图</h1><p id="cec9" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">直方图是描述一组数据分布的垂直条形图。直方图用于显示变量的分布，而条形图用于比较变量。直方图绘制定量数据，将数据范围分组为箱或区间，而条形图绘制分类数据。</p><p id="3d1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi nj translated"><span class="l nk nl nm bm nn no np nq nr di"> N </span>注意:条形图在列之间有间隔，而直方图没有。</p><p id="1de8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们想要显示我们正在处理的数据的分布时，直方图非常有用。这允许我们将连续数据分组到箱中，从而提供观察集中的有用表示。</p><p id="9af4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Python 实现</strong></p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="7c89" class="oi mr it oe b gy oj ok l ol om"># Histogram<br/>fig = plt.figure(figsize=(8,6))<br/>plt.hist(df_19['Corruption'], bins=6, density=True)<br/>plt.grid(alpha=0.2)<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/4cce72b10700eb5c50e0196c0b04ab20.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*gY-isJOK0bN4yeAtftNFEw.png"/></div></figure><h1 id="f21f" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">箱形图(须状图)</h1><p id="a319" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">箱形图或须状图是一种总结一组区间尺度上测量的数据的方法。这种类型的图形用于显示分布的形状、中心值及其可变性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pu"><img src="../Images/bbf8222d11e230fac55eb1d07486ec0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n0kWoUWXYtyPUtbHb-kPxA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">箱线图(图片由作者提供)</p></figure><h2 id="76e2" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时使用箱线图</h2><p id="cf79" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">我们在解释性数据分析中使用箱线图，表明分布是否偏斜，以及数据集中是否存在潜在的异常观察值(异常值)。</p><p id="e4fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当涉及到大量的观察数据和比较两个或多个数据集时，箱线图也非常有用。</p><h2 id="9f90" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时避免盒状图</h2><p id="8574" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">箱线图不像茎和叶图或直方图那样详细地显示分布。</p><h2 id="c5f8" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">Python 实现</h2><p id="3b1f" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">假设我们有一个包含 2020 年前六个月媒体成员阅读文章数量的数据集。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="6c71" class="oi mr it oe b gy oj ok l ol om"># Create dataset<br/>user_1 = [10, 3, 15, 21, 17, 14]<br/>user_2 = [5, 13, 10, 7, 9, 12]<br/>data = [user_1, user_2]<br/>fig = plt.figure(figsize =(8, 6)) <br/>  <br/># Create axes instance <br/>ax = fig.add_axes([0, 0, 1, 1]) <br/>  <br/># Create plot <br/>bp = ax.boxplot(data) <br/>  <br/># Show plot <br/>plt.xticks([1,2],['user_1','user_2'])<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/3dfa86574379a0f7acbd83689239cd81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*86iJtVVFxiOdqNjKkzvuvw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">箱形图</p></figure><h1 id="b82e" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">饼图</h1><p id="3cbf" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">饼图是显示群体构成的经典方式。饼图是一个分成若干部分的圆形图。一块越大，它所代表的总量就越大。</p><p id="e1f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，现在一般不建议使用，因为饼图部分的面积有时会产生误导。因此，在使用饼图时，强烈建议明确写下饼图每个部分的百分比或数字。</p><h2 id="04b0" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时使用饼图</h2><p id="4d77" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">饼图最适合描绘整体的各个部分。</p><h2 id="4f0d" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时避免饼图</h2><p id="5a5b" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">当我们想要显示一个或多个变量如何随时间发展时，我们不能使用饼图。</p><h2 id="bfec" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">Python 实现</h2><p id="e54d" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">假设我们有一个包含中等成员信息的数据集。我们希望看到 2020 年前六个月的文章阅读率。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="987c" class="oi mr it oe b gy oj ok l ol om"># Pie Chart<br/>fig = plt.figure(figsize=(8,8))<br/>labels = 'Jan', 'Feb', 'March', 'April', 'May', 'June'<br/>user_1 = [10, 3, 15, 21, 17, 14]<br/>p = plt.pie(user_1, labels=labels, explode=(0.07, 0, 0, 0, 0, 0),<br/>            autopct='%1.1f%%', startangle=130, shadow=True)<br/>plt.axis('equal')</span><span id="bd0d" class="oi mr it oe b gy on ok l ol om">for i, (Jan, Feb, March, April, May, June) in enumerate(p):<br/>    if i &gt; 0:<br/>        Jan.set_fontsize(12)<br/>        Feb.set_fontsize(12)<br/>        March.set_fontsize(12)<br/>        April.set_fontsize(12)<br/>        May.set_fontsize(12)<br/>        June.set_fontsize(12)<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pw"><img src="../Images/4c32863affe447ca67686d7db6978651.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*-cxUMFKTKgovcCm0SUsNXA.png"/></div></figure><h1 id="a0d3" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">树形图</h1><p id="9bf8" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">树状图类似于饼状图，它在不误导每个小组的贡献的情况下工作得更好。树形图允许我们将整体的总和分成层次，然后显示每个层次的内部分解。</p><h2 id="1464" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时使用树形图</h2><p id="df78" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">树形图通常用于销售数据，因为它们捕获数据类别的相对大小，允许对一个类别内以及多个类别之间的相似性和异常性进行快速、高层次的总结。</p><h2 id="d974" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">何时避免树形图</h2><p id="b1bc" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">当我们的数据不能分成类别和子类别时，树形图就不适合了。</p><p id="a0c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，当我们用颜色的面积和强度对数据进行编码时，我们的眼睛并不能很好地察觉这些维度中相对较小的差异。如果我们的数据是这样的，我们的受众需要在类别之间进行精确的比较，当类别没有与公共基线对齐时，就更加麻烦了。我们不应该让我们的观众做不必要的工作来理解一个图表！</p><h2 id="d827" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">Python 实现</h2><p id="21ff" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">例如，我们使用一个树形图来显示本月的新用户和文章浏览量。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="82a8" class="oi mr it oe b gy oj ok l ol om">import squarify<br/>fig = plt.figure(figsize=(10,10))<br/>articles = [17, 22, 35, 41, 5, 12, 47]<br/>labels = ['User_1:\n 17 articles',<br/>          'User_2:\n 22 articles',<br/>          'User_3:\n 35 articles',<br/>          'User_4:\n 41 articles',<br/>          'User_5:\n 5 articles',<br/>          'User_6:\n 12 articles',<br/>          'User_7:\n 47 articles']</span><span id="6a43" class="oi mr it oe b gy on ok l ol om">color_list = ['#0f7216', '#b2790c', '#ffe9a3',<br/>              '#f9d4d4', '#d35158', '#ea3033']<br/>plt.rc('font', size=14)        <br/>squarify.plot(sizes=articles, label=labels,<br/>              color=color_list, alpha=0.7)</span><span id="9d23" class="oi mr it oe b gy on ok l ol om">plt.axis('off')</span><span id="548f" class="oi mr it oe b gy on ok l ol om">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi px"><img src="../Images/8c4201f84a7651f9313d40325a440b8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*jAmcFUbfSJqlrAyFn0o_BQ.png"/></div></figure><h1 id="5c73" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">时间序列图</h1><p id="c460" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">时序图可用于直观显示计数或数值随时间变化的趋势。因为日期和时间信息是连续的分类数据(表示为值的范围)，所以点沿着 x 轴绘制，并由连续的线连接。</p><p id="aae4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">时间序列分析的目标是发现数据中的模式，并使用数据进行预测。时序图可以回答关于我们的数据的问题，例如:趋势如何随时间变化？</p><h2 id="977b" class="oi mr it bd ms ou ov dn mw ow ox dp na li oy oz nc lm pa pb ne lq pc pd ng pe bi translated">Python 实现</h2><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="21bf" class="oi mr it oe b gy oj ok l ol om"># Time Series Plot<br/>plt.figure(figsize=(8,6))<br/>ts = pd.Series(np.random.randn(100), index = pd.date_range( <br/>                                '1/1/2020', periods = 100)) <br/># Return the cumulative sum of the elements.<br/>ts = ts.cumsum() <br/>ts.plot() <br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi py"><img src="../Images/0ec87963c393e99e64a8e6a752945772.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*udN890QINy-WVbuUv8hyoQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">时间序列</p></figure><p id="11d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本笔记中的代码可在<a class="ae ky" href="https://github.com/Nothingaholic/Python-Cheat-Sheet/blob/master/matplotlib/matplotlib.ipynb" rel="noopener ugc nofollow" target="_blank"> Github </a>上获得。</p><h1 id="71c4" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">就是这样！</h1><p id="da5d" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">在本笔记中，我们学习了如何使用 Matplotlib 构建数据可视化绘图。我们现在可以很容易地构建图表，通过可视化直观地理解我们的数据。</p><p id="60d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">学习愉快！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pz"><img src="../Images/c678e8b90087b53c0906db71920f1e79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ojzbhJwvCyX5eYz9H2_d2g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://xkcd.com/539/" rel="noopener ugc nofollow" target="_blank"> xkcd </a></p></figure><h1 id="d1ea" class="mq mr it bd ms mt nt mv mw mx nu mz na jz nv ka nc kc nw kd ne kf nx kg ng nh bi translated">资源:</h1><p id="4da9" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">我的笔记涵盖了所有我认为是 Matplotlib 的基本必需品。掌握一项技能需要几个月，有时几年，所以，不要停止学习！如果你渴望了解更多关于 Matplotlib 的知识，从下面的链接开始吧。</p><ol class=""><li id="e860" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><a class="ae ky" href="https://jakevdp.github.io/PythonDataScienceHandbook/04.10-customizing-ticks.html" rel="noopener ugc nofollow" target="_blank">定制勾</a> s</li><li id="eb12" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://www.tutorialspoint.com/matplotlib/index.htm" rel="noopener ugc nofollow" target="_blank"> Matplotlib 教程</a></li><li id="6954" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://matplotlib.org/3.1.1/gallery/index.html" rel="noopener ugc nofollow" target="_blank"> Matplotlib 图库</a></li><li id="630a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://matplotlib.org/3.2.2/users/index.html" rel="noopener ugc nofollow" target="_blank"> Matplotlib 用户指南</a></li></ol></div></div>    
</body>
</html>