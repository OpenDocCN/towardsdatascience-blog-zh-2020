<html>
<head>
<title>How to Build a Data Science Web App in Python (Penguin Classifier)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 Python(企鹅分类器)构建数据科学 Web 应用</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-build-a-data-science-web-app-in-python-penguin-classifier-2f101ac389f3?source=collection_archive---------8-----------------------#2020-07-16">https://towardsdatascience.com/how-to-build-a-data-science-web-app-in-python-penguin-classifier-2f101ac389f3?source=collection_archive---------8-----------------------#2020-07-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/146efec7ff65de2387a258a304c54059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NpKfYd3N-CkTID2dyT3hwA.png"/></div></div></figure><h2 id="db60" class="jc jd je bd b dl jf jg jh ji jj jk dk jl translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/data-science/" rel="noopener" target="_blank">数据科学</a></h2><div class=""/><div class=""><h2 id="1b68" class="pw-subtitle-paragraph kk jn je bd b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dk translated">第 3 部分:ML 支持的 Web 应用程序，代码 100 多行</h2></div><p id="1336" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi ly translated"><span class="l lz ma mb bm mc md me mf mg di"> T </span>这是<strong class="le jo">第三部分</strong>和<strong class="le jo">T7】我将向您展示如何使用 Streamlit 库用 Python 构建一个机器学习驱动的数据科学 web 应用程序，代码只有 100 多行。</strong></p><p id="056d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我们今天要构建的 web 应用程序是企鹅分类器。我们正在构建的这个<a class="ae mh" href="http://dp-penguins.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">企鹅分类器网络应用</a>的演示可以在<a class="ae mh" href="http://dp-penguins.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">http://dp-penguins.herokuapp.com/</a>获得。</p><p id="5a60" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">之前，在本 Streamlit 教程系列的第 1 部分 中，我已经向您展示了如何用 Python 构建您的第一个数据科学 web 应用程序，它能够从 Yahoo！财务，然后显示一个简单的折线图。在<a class="ae mh" rel="noopener" target="_blank" href="/how-to-build-a-simple-machine-learning-web-app-in-python-68a45a0e0291"> <strong class="le jo">第二部分</strong> </a>中，我已经向你展示了如何使用 Iris 数据集构建一个机器学习 web 应用。</p><p id="b16c" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">正如本<em class="mi"> Streamlit 教程系列</em>的前几篇文章中所解释的，模型部署是数据科学生命周期的基本和最终组成部分，有助于将数据驱动的洞察力的力量带给最终用户，无论是业务利益相关者、经理还是客户。</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mj"><img src="../Images/50252d9e5ceae97fc7bc66e7caa91a04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uEj0hxec9K0STjIl.jpeg"/></div></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">数据科学生命周期。由 Chanin Nantasenamat 绘制。</p></figure><p id="fcca" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">这篇文章基于我在<a class="ae mh" href="https://www.youtube.com/dataprofessor?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank">数据教授 YouTube 频道</a> ( <a class="ae mh" href="https://youtu.be/Eai1jaZrRDs" rel="noopener ugc nofollow" target="_blank">如何用 Python </a>构建企鹅分类 Web 应用)上制作的同一主题的视频，你可以边看边看这篇文章。</p><figure class="mk ml mm mn gt iv"><div class="bz fp l di"><div class="ms mt l"/></div></figure></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="518c" class="nb nc je bd nd ne nf ng nh ni nj nk nl kt nm ku nn kw no kx np kz nq la nr ns bi translated">企鹅分类网络应用概述</h1><p id="ad7f" class="pw-post-body-paragraph lc ld je le b lf nt ko lh li nu kr lk ll nv ln lo lp nw lr ls lt nx lv lw lx im bi translated">在本文中，我们将构建一个<em class="mi">企鹅分类器</em> web 应用程序，作为 4 个定量变量和 2 个定性变量的函数，预测企鹅物种的分类标签是阿德利企鹅、下巴颏企鹅还是巴布亚企鹅。</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ny"><img src="../Images/441fa709a751e94bd28089cc8b44a441.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9x6ViEBsTJIv2go8.png"/></div></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">艺术作品<a class="ae mh" href="http://twitter.com/allison_horst" rel="noopener ugc nofollow" target="_blank"> @allison_horst </a></p></figure><h2 id="a23f" class="nz nc je bd nd oa ob dn nh oc od dp nl ll oe of nn lp og oh np lt oi oj nr jk bi translated">企鹅数据集</h2><p id="2921" class="pw-post-body-paragraph lc ld je le b lf nt ko lh li nu kr lk ll nv ln lo lp nw lr ls lt nx lv lw lx im bi translated">这个机器学习驱动的网络应用程序中使用的数据被称为<a class="ae mh" href="https://github.com/allisonhorst/palmerpenguins" rel="noopener ugc nofollow" target="_blank"> <em class="mi">帕尔默企鹅</em>数据集</a>，它是由艾利森·霍斯特作为 R 包发布的。特别地，该数据来源于 Kristen Gorman 博士及其同事发表的题为<a class="ae mh" href="https://doi.org/10.1371/journal.pone.0090081" rel="noopener ugc nofollow" target="_blank"> <em class="mi">南极企鹅(Pygoscelis 属)</em> </a>群落内的生态性二态性和环境可变性的工作。</p><p id="9944" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">数据集由<strong class="le jo"> 4 个定量变量</strong>组成:</p><ul class=""><li id="cba2" class="ok ol je le b lf lg li lj ll om lp on lt oo lx op oq or os bi translated">票据长度(毫米)</li><li id="e6fd" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated">票据深度(毫米)</li><li id="102f" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated">脚蹼长度(毫米)</li><li id="a802" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated">体重(克)</li></ul><p id="13ee" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">和<strong class="le jo"> 2 个定性变量</strong>:</p><ul class=""><li id="de13" class="ok ol je le b lf lg li lj ll om lp on lt oo lx op oq or os bi translated">性别(男性/女性)</li><li id="7495" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated">岛屿(比斯科/梦幻/托格森)</li></ul><p id="3caa" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">让我们来看看企鹅数据集(下面显示的是一个截短的版本，只显示了 3 种企鹅中每一种的前 3 行条目):</p><figure class="mk ml mm mn gt iv"><div class="bz fp l di"><div class="oy mt l"/></div></figure><p id="a3c9" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><code class="fe oz pa pb pc b"><em class="mi">(Note: The full version of the </em><a class="ae mh" href="https://github.com/dataprofessor/data/blob/master/penguins_cleaned.csv" rel="noopener ugc nofollow" target="_blank"><em class="mi">Penguins dataset is available on the Data Professor GitHub</em></a><em class="mi">)</em></code></p><h2 id="0dd3" class="nz nc je bd nd oa ob dn nh oc od dp nl ll oe of nn lp og oh np lt oi oj nr jk bi translated">企鹅分类器 web 应用程序的组件</h2><p id="60ee" class="pw-post-body-paragraph lc ld je le b lf nt ko lh li nu kr lk ll nv ln lo lp nw lr ls lt nx lv lw lx im bi translated"><em class="mi">企鹅分类器 web app </em>由<strong class="le jo">前端</strong>和<strong class="le jo">后端</strong>组成:</p><p id="3de5" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><strong class="le jo"> <em class="mi">前端</em> </strong> —这是我们加载 web app 时看到的。前端可进一步分解为<strong class="le jo">侧面板</strong>和<strong class="le jo">主面板</strong>。web 应用程序的截图如下所示。</p><p id="0334" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><strong class="le jo">侧面板</strong>位于左侧，标签标题为<em class="mi">“用户输入特性”</em>。在这里，用户可以上传包含输入特征(2 个定性变量和 4 个定量变量)的 CSV 文件。对于 4 个定量变量，用户可以通过调节滑动条手动输入这些输入特征的输入值。对于 2 个定性变量，用户可以通过下拉菜单选择输入值。</p><p id="380b" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">这些用户输入特征用作将在后端讨论的机器学习模型的输入。一旦做出预测，产生的类别标签(企鹅种类)连同预测概率值被发送回前端，以显示在<strong class="le jo">主面板</strong>上。</p><p id="403a" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><strong class="le jo"> <em class="mi">后端</em> </strong> —用户输入的特征将被转换成数据帧，并发送给机器学习模型进行预测。在这里，我们将使用一个预先训练的模型，该模型之前被保存为一个名为<code class="fe oz pa pb pc b">penguins_clf.pkl</code>的 pickle 对象，该对象可以由 web 应用程序快速加载(无需在用户每次加载 web 应用程序时构建机器学习模型)。</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pd"><img src="../Images/a673adc8761a5501440a4392c1cb9c41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G4-kU4abduBRNHafiDKYig.jpeg"/></div></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">企鹅分类器 web 应用程序的屏幕截图。</p></figure></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="930e" class="nb nc je bd nd ne nf ng nh ni nj nk nl kt nm ku nn kw no kx np kz nq la nr ns bi translated">安装必备库</h1><p id="49fc" class="pw-post-body-paragraph lc ld je le b lf nt ko lh li nu kr lk ll nv ln lo lp nw lr ls lt nx lv lw lx im bi translated">对于本教程，我们将使用 5 个 Python 库:<code class="fe oz pa pb pc b">streamlit</code>、<code class="fe oz pa pb pc b">pandas</code>、<code class="fe oz pa pb pc b">numpy</code>、<code class="fe oz pa pb pc b">scikit-learn</code>和<code class="fe oz pa pb pc b">pickle</code>。如果您的计算机中尚未安装前 4 个库，则必须安装前 4 个库，而最后一个库是内置库。</p><p id="70af" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要安装这些库，您可以通过如下的<code class="fe oz pa pb pc b">pip install</code>命令轻松完成:</p><pre class="mk ml mm mn gt pe pc pf pg aw ph bi"><span id="9b34" class="nz nc je pc b gy pi pj l pk pl">pip install streamlit</span></pre><p id="a6af" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">然后，重复上述命令，首先将<code class="fe oz pa pb pc b">streamlit</code>替换为其他库的名称，如<code class="fe oz pa pb pc b">pandas</code>，使其变成<code class="fe oz pa pb pc b">pip install pandas</code>，依此类推。</p><p id="75d6" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">或者，您可以使用这个一行程序一次性安装它们:</p><pre class="mk ml mm mn gt pe pc pf pg aw ph bi"><span id="d0ea" class="nz nc je pc b gy pi pj l pk pl">pip install streamlit pandas numpy scikit-learn</span></pre></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="922f" class="nb nc je bd nd ne nf ng nh ni nj nk nl kt nm ku nn kw no kx np kz nq la nr ns bi translated">web 应用程序的代码</h1><p id="a6d0" class="pw-post-body-paragraph lc ld je le b lf nt ko lh li nu kr lk ll nv ln lo lp nw lr ls lt nx lv lw lx im bi translated">现在，让我们看看 web 应用程序的内部。您将看到 web 应用程序由两个文件组成:<code class="fe oz pa pb pc b">penguins-model-building.py</code>和<code class="fe oz pa pb pc b">penguins-app.py</code>。</p><p id="2062" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">第一个文件(<code class="fe oz pa pb pc b">penguins-model-building.py</code>)用于构建机器学习模型，保存为 pickle 文件，<code class="fe oz pa pb pc b">penguins_clf.pkl</code>。</p><p id="0d1d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">随后，第二个文件(<code class="fe oz pa pb pc b">penguins-app.py</code>)将应用经过训练的模型(<code class="fe oz pa pb pc b">penguins_clf.pkl</code>)通过使用来自 web 应用前端的侧边栏面板的输入参数来预测类别标签(企鹅的种类是阿德利企鹅、下巴颏企鹅还是巴布亚企鹅)。</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="3d6a" class="nb nc je bd nd ne nf ng nh ni nj nk nl kt nm ku nn kw no kx np kz nq la nr ns bi translated">对代码的逐行解释</h1><h2 id="14c8" class="nz nc je bd nd oa ob dn nh oc od dp nl ll oe of nn lp og oh np lt oi oj nr jk bi translated">企鹅-建模. py</h2><p id="ceb5" class="pw-post-body-paragraph lc ld je le b lf nt ko lh li nu kr lk ll nv ln lo lp nw lr ls lt nx lv lw lx im bi translated">让我们从第一个文件的解释开始，它本质上允许我们在运行 web 应用程序之前预先构建一个经过训练的机器学习模型。我们为什么要这么做？从长远来看，这是为了节省计算资源，因为我们最初只构建一次模型，然后应用它对 web 应用程序侧边栏面板上的用户输入参数进行不确定的预测(或至少直到我们重新训练模型)。</p><figure class="mk ml mm mn gt iv"><div class="bz fp l di"><div class="oy mt l"/></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">企鹅-建模. py</p></figure><ul class=""><li id="4fce" class="ok ol je le b lf lg li lj ll om lp on lt oo lx op oq or os bi translated"><strong class="le jo"> <em class="mi">行 1 </em> </strong> <br/>导入别名为<code class="fe oz pa pb pc b">pd</code>的<code class="fe oz pa pb pc b">pandas</code>库</li><li id="bc14" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 2 行</em> </strong> <br/>从 CSV 文件中读取清理后的企鹅数据集，并将其赋给<code class="fe oz pa pb pc b">penguins</code>变量</li><li id="63a7" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 4-19 行</em> </strong> <br/>对目标<strong class="le jo"> Y </strong>变量(<code class="fe oz pa pb pc b">species</code>)和 2 个<strong class="le jo"> X </strong>变量(<code class="fe oz pa pb pc b">sex</code>和<code class="fe oz pa pb pc b">island</code>)组成的 3 个定性变量进行顺序特征编码。</li></ul><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pm"><img src="../Images/f8b3b9562adc862d0e665703741faca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W3d6KSJvDjE5b2miQ7cbFQ.png"/></div></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">在执行序数特征编码之前。</p></figure><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pn"><img src="../Images/d87e05ded199a3b3b19e469dddb133ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ACu5uKnUdy7aS2UWPpiqKg.png"/></div></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">执行顺序特征编码后。</p></figure><ul class=""><li id="d67c" class="ok ol je le b lf lg li lj ll om lp on lt oo lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 21–23 行</em> </strong> <br/>将<code class="fe oz pa pb pc b">df</code>数据帧分隔成<code class="fe oz pa pb pc b">X</code>和<code class="fe oz pa pb pc b">Y</code>矩阵。</li><li id="6f24" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 25–28 行</em> </strong> <br/>训练一个随机森林模型</li><li id="afbe" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 30–32 行</em> </strong> <br/>将训练好的随机森林模型保存到一个名为<code class="fe oz pa pb pc b">penguins_clf.pkl</code>的酸洗文件中。</li></ul><h2 id="9646" class="nz nc je bd nd oa ob dn nh oc od dp nl ll oe of nn lp og oh np lt oi oj nr jk bi translated">企鹅-app.py</h2><p id="6484" class="pw-post-body-paragraph lc ld je le b lf nt ko lh li nu kr lk ll nv ln lo lp nw lr ls lt nx lv lw lx im bi translated">第二个文件将服务于 web 应用程序，该应用程序将允许使用从 pickled 文件加载的机器学习模型进行预测。如上所述，web 应用程序接受来自两个来源的 inout 值:</p><ol class=""><li id="6b39" class="ok ol je le b lf lg li lj ll om lp on lt oo lx po oq or os bi translated">滑动条中的特征值。</li><li id="1a2a" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx po oq or os bi translated">上传的 CSV 文件中的特征值。</li></ol><figure class="mk ml mm mn gt iv"><div class="bz fp l di"><div class="oy mt l"/></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">企鹅-app.py</p></figure><ul class=""><li id="5148" class="ok ol je le b lf lg li lj ll om lp on lt oo lx op oq or os bi translated"><strong class="le jo"> <em class="mi">行 1–5</em></strong><br/>分别导入别名为<code class="fe oz pa pb pc b">st</code>、<code class="fe oz pa pb pc b">pd</code>和<code class="fe oz pa pb pc b">np</code>的<code class="fe oz pa pb pc b">streamlit</code>、<code class="fe oz pa pb pc b">pandas</code>和<code class="fe oz pa pb pc b">numpy</code>库。接下来，导入<code class="fe oz pa pb pc b">pickle</code>库，最后从<code class="fe oz pa pb pc b">sklearn.ensemble</code>导入<code class="fe oz pa pb pc b">RandomForestClassifier()</code>函数。</li><li id="c719" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 7–13 行</em> </strong> <br/>编写 web 应用程序标题和介绍文本。</li></ul><p id="fac7" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><strong class="le jo">侧边栏面板</strong></p><ul class=""><li id="ba60" class="ok ol je le b lf lg li lj ll om lp on lt oo lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 15 行</em> </strong> <br/>侧边栏面板的页眉标题。</li><li id="c001" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 17–19 行</em> </strong> <br/>链接下载一个示例 CSV 文件。</li><li id="6a79" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 21–41 行</em> </strong> <br/>采集特征值并放入数据帧。我们将使用条件语句 if 和 else 来确定用户是否上传了 CSV 文件(如果是，则读取 CSV 文件并将其转换为 dataframe ),或者通过滑动其值也将被转换为 dataframe 的滑动条来输入特征值。</li><li id="5432" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 43–47 行</em> </strong> <br/>将用户输入特征(来自 CSV 文件或滑动条)与整个企鹅数据集相结合。这样做的原因是为了确保所有变量包含最大数量的可能值。例如，如果用户输入包含 1 只企鹅的数据，那么序数特征编码将不起作用。原因是因为代码将只检测定性变量的 1 个可能值。为了使序数特征编码起作用，每个定性变量都需要有所有可能的值。</li></ul><p id="b57a" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><strong class="le jo">情况一</strong></p><p id="f77a" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">在第一个场景中，定性变量<code class="fe oz pa pb pc b">island</code>只有一个可能的值，即<code class="fe oz pa pb pc b">Biscoe</code>。</p><figure class="mk ml mm mn gt iv"><div class="bz fp l di"><div class="oy mt l"/></div></figure><p id="6511" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">上述输入特征在编码后将产生以下序数特征。</p><figure class="mk ml mm mn gt iv"><div class="bz fp l di"><div class="oy mt l"/></div></figure><p id="e3fd" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><strong class="le jo">情况 B </strong></p><figure class="mk ml mm mn gt iv"><div class="bz fp l di"><div class="oy mt l"/></div></figure><p id="8ed6" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">上述输入特征将产生以下序数特征。</p><figure class="mk ml mm mn gt iv"><div class="bz fp l di"><div class="oy mt l"/></div></figure><ul class=""><li id="e35e" class="ok ol je le b lf lg li lj ll om lp on lt oo lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 49–56 行</em> </strong> <br/>以与上述模型构建阶段(<code class="fe oz pa pb pc b">penguins-model-building.py</code>)类似的方式执行序数特征编码。</li><li id="e320" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 58–65 行</em> </strong> <br/>显示用户输入特征的数据帧。条件语句将允许代码自动决定是显示 CSV 文件中的数据帧，还是显示滑动条中的数据帧。</li><li id="6288" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 67–68 行</em> </strong> <br/>从酸洗文件中加载预测模型，<code class="fe oz pa pb pc b">penguins_clf.pkl</code>。</li><li id="288c" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 70–72 行</em> </strong> <br/>应用加载的模型对 df 变量进行预测，该变量对应于来自 CSV 文件或滑动条的输入。</li><li id="9ea8" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 74–76 行</em> </strong> <br/>预测的企鹅种类的类标签显示在这里。</li><li id="8481" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><strong class="le jo"> <em class="mi">第 78–79 行</em> </strong> <br/>这里显示了 3 种企鹅中每一种的预测概率值。</li></ul></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="cb12" class="nb nc je bd nd ne nf ng nh ni nj nk nl kt nm ku nn kw no kx np kz nq la nr ns bi translated">运行 web 应用程序</h1><p id="bcb6" class="pw-post-body-paragraph lc ld je le b lf nt ko lh li nu kr lk ll nv ln lo lp nw lr ls lt nx lv lw lx im bi translated">现在我们已经完成了 web 应用程序的编码，让我们首先启动您的命令提示符(终端窗口)并键入以下命令来启动它:</p><pre class="mk ml mm mn gt pe pc pf pg aw ph bi"><span id="3897" class="nz nc je pc b gy pi pj l pk pl">streamlit run penguins-app.py</span></pre><p id="6b6c" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">然后，命令提示符中应该会显示以下消息:</p><pre class="mk ml mm mn gt pe pc pf pg aw ph bi"><span id="6d76" class="nz nc je pc b gy pi pj l pk pl">&gt; streamlit run penguins-app.py</span><span id="6bb8" class="nz nc je pc b gy pp pj l pk pl">You can now view your Streamlit app in your browser.</span><span id="0b1f" class="nz nc je pc b gy pp pj l pk pl">Local URL: http://localhost:8501<br/>Network URL: http://10.0.0.11:8501</span></pre><p id="0366" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">企鹅分类器 web 应用程序的屏幕截图如下所示:</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pq"><img src="../Images/5644c5b1cff11435bfc17e47575f1e3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qbWHAdjV2xYErjl7H7kbsQ.png"/></div></div><p class="mo mp gj gh gi mq mr bd b be z dk translated">在 Heroku 上部署企鹅分类器 web 应用程序。</p></figure></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="c162" class="nb nc je bd nd ne nf ng nh ni nj nk nl kt nm ku nn kw no kx np kz nq la nr ns bi translated">部署和展示 web 应用程序</h1><p id="e089" class="pw-post-body-paragraph lc ld je le b lf nt ko lh li nu kr lk ll nv ln lo lp nw lr ls lt nx lv lw lx im bi translated">干得好！您现在已经创建了一个基于机器学习的 web 应用程序。让我们将 web 应用程序部署到互联网上，以便您可以与朋友和家人分享。本<em class="mi"> Streamlit 教程系列</em>的下一部分将深入介绍如何在 Heroku 上部署 web 应用程序。与此同时，请观看以下视频:</p><ul class=""><li id="c5a3" class="ok ol je le b lf lg li lj ll om lp on lt oo lx op oq or os bi translated"><a class="ae mh" href="https://www.youtube.com/watch?v=zK4Ch6e1zq8" rel="noopener ugc nofollow" target="_blank">如何将数据科学 Web App 部署到 Heroku </a></li></ul><p id="c6a5" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">与此同时，您可以将它纳入您的数据科学投资组合。</p><ul class=""><li id="e9bd" class="ok ol je le b lf lg li lj ll om lp on lt oo lx op oq or os bi translated"><a class="ae mh" href="https://www.youtube.com/watch?v=fCXBaEnPzgo" rel="noopener ugc nofollow" target="_blank">使用 GitHub 构建您的数据科学组合</a></li><li id="60db" class="ok ol je le b lf ot li ou ll ov lp ow lt ox lx op oq or os bi translated"><a class="ae mh" href="https://www.youtube.com/watch?v=mEZ1Hj5yQ-8" rel="noopener ugc nofollow" target="_blank">如何用 Hugo &amp; Github Pages 建立数据科学作品集网站【壮举。【数据教授】</a>)。</li></ul></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h2 id="60fb" class="nz nc je bd nd oa ob dn nh oc od dp nl ll oe of nn lp og oh np lt oi oj nr jk bi translated"><a class="ae mh" href="http://newsletter.dataprofessor.org/" rel="noopener ugc nofollow" target="_blank">订阅我的邮件列表，获取我在数据科学方面的最佳更新(偶尔还有免费内容)!</a></h2></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="15b3" class="nb nc je bd nd ne nf ng nh ni nj nk nl kt nm ku nn kw no kx np kz nq la nr ns bi translated">关于我</h1><p id="ca30" class="pw-post-body-paragraph lc ld je le b lf nt ko lh li nu kr lk ll nv ln lo lp nw lr ls lt nx lv lw lx im bi translated">我是泰国一所研究型大学的生物信息学副教授和数据挖掘和生物医学信息学负责人。在我下班后的时间里，我是一名 YouTuber(又名<a class="ae mh" href="http://bit.ly/dataprofessor/" rel="noopener ugc nofollow" target="_blank">数据教授</a>)制作关于数据科学的在线视频。在我做的所有教程视频里，我也分享 GitHub 上的 Jupyter 笔记本(<a class="ae mh" href="https://github.com/dataprofessor/" rel="noopener ugc nofollow" target="_blank">数据教授 GitHub page </a>)。</p><div class="is it gp gr iu pr"><a href="https://www.youtube.com/dataprofessor?sub_confirmation=1" rel="noopener  ugc nofollow" target="_blank"><div class="ps ab fo"><div class="pt ab pu cl cj pv"><h2 class="bd jo gy z fp pw fr fs px fu fw jn bi translated">数据教授</h2><div class="py l"><h3 class="bd b gy z fp pw fr fs px fu fw dk translated">数据科学、机器学习、生物信息学、研究和教学是我的激情所在。数据教授 YouTube…</h3></div><div class="pz l"><p class="bd b dl z fp pw fr fs px fu fw dk translated">www.youtube.com</p></div></div><div class="qa l"><div class="qb l qc qd qe qa qf ja pr"/></div></div></a></div><h2 id="1328" class="nz nc je bd nd oa ob dn nh oc od dp nl ll oe of nn lp og oh np lt oi oj nr jk bi translated">在社交网络上与我联系</h2><p id="2675" class="pw-post-body-paragraph lc ld je le b lf nt ko lh li nu kr lk ll nv ln lo lp nw lr ls lt nx lv lw lx im bi translated">YouTube: <a class="ae mh" href="http://youtube.com/dataprofessor/" rel="noopener ugc nofollow" target="_blank"/><a class="ae mh" href="http://youtube.com/dataprofessor/" rel="noopener ugc nofollow" target="_blank">http://youtube.com/dataprofessor/ </a><br/><br/><a class="ae mh" href="https://www.linkedin.com/company/dataprofessor/" rel="noopener ugc nofollow" target="_blank">LinkedIn:</a><a class="ae mh" href="https://www.linkedin.com/company/dataprofessor/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/company/dataprofessor/ </a><br/><br/><br/><a class="ae mh" href="https://twitter.com/thedataprof" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/company/dataprofessor/ </a><br/><br/><a class="ae mh" href="https://www.youtube.com/redirect?redir_token=w4MajL6v6Oi_kOAZNbMprRRJrvJ8MTU5MjI5NjQzN0AxNTkyMjEwMDM3&amp;q=http%3A%2F%2Ffacebook.com%2Fdataprofessor%2F&amp;event=video_description&amp;v=ZZ4B0QUHuNc" rel="noopener ugc nofollow" target="_blank"/><a class="ae mh" href="https://www.youtube.com/redirect?redir_token=w4MajL6v6Oi_kOAZNbMprRRJrvJ8MTU5MjI5NjQzN0AxNTkyMjEwMDM3&amp;q=http%3A%2F%2Ffacebook.com%2Fdataprofessor%2F&amp;event=video_description&amp;v=ZZ4B0QUHuNc" rel="noopener ugc nofollow" target="_blank">【HTTP://facebook.com/dataprofessor/】</a><br/>【GitHub:<a class="ae mh" href="https://github.com/dataprofessor/" rel="noopener ugc nofollow" target="_blank">【HTTPS://github.com/dataprofessor/】</a><br/><a class="ae mh" href="https://www.instagram.com/data.professor/" rel="noopener ugc nofollow" target="_blank">Instagram:【HTTPS://www.instagram.com/data</a></p></div></div>    
</body>
</html>