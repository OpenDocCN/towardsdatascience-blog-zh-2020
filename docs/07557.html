<html>
<head>
<title>Variance: Sample vs. Population</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">方差:样本与总体</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/variance-sample-vs-population-3ddbd29e498a?source=collection_archive---------26-----------------------#2020-06-07">https://towardsdatascience.com/variance-sample-vs-population-3ddbd29e498a?source=collection_archive---------26-----------------------#2020-06-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/d5372f3537f8db29db75ffdf2114add3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FCRuyPcdnGoZJnL6JFBFYg.png"/></div></div></figure><h2 id="e55f" class="iz ja jb bd b dl jc jd je jf jg jh dk ji translated" aria-label="kicker paragraph">统计101</h2><div class=""/><div class=""><h2 id="1343" class="pw-subtitle-paragraph kh jk jb bd b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dk translated">ML中EDA的区别以及为什么使用一个而不是另一个</h2></div><figure class="la lb lc ld gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi kz"><img src="../Images/a9a1687e4b2f7398bb42fd2189666393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gmgN6g8wEJVUaGLsrD_7AQ.jpeg"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">克里斯·贾维斯在<a class="ae li" href="https://unsplash.com/s/photos/abacus?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="f974" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">在统计学和机器学习中，当我们谈论人口时，我们指的是随机变量的可能值的整个宇宙。如果你知道总体总是可行的，计算平均值和方差如下:</p><figure class="la lb lc ld gt is gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/97e74bb2f64731c2e60e574c84107310.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*G0mX-35QqCooXQTjfO3XbA.png"/></div></figure><p id="e8f5" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">其中<em class="mg"> n </em>是总体的<em class="mg">基数</em>(元素的数量)。</p><p id="05d5" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">大多数时候，我们不能使用整个人口，因为它太复杂了，或者根本不可行。例如，考虑一个问题，当你想分析森林中橡树的高度时。当然，您可以测量森林中的每一棵树，从而收集整个森林的统计数据，但这可能非常昂贵，并且需要很长时间。相反，你可以获取一个样本，比如说，20棵树，并尝试将样本统计数据和种群统计数据联系起来。因此，对于<em class="mg"> N </em>个样本，我们有:</p><figure class="la lb lc ld gt is gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/b991c3373b88bb6429de763e3ad56bfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:856/format:webp/1*DjyfJpqrhmtyxIpGS3PurQ.png"/></div></figure><p id="688a" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">你现在可以问了:为什么<em class="mg"> N-1 </em>而不是<em class="mg"> N </em>？要回答这个问题，我们需要做一些计算。首先，我们计算<em class="mg"> s </em> 2的期望值:</p><figure class="la lb lc ld gt is gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/ea3275d1ef6e04bee44d36dc1357c204.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D9kNM--XCuJfte3T2SJQcQ.png"/></div></figure><p id="7737" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">然后，用一点代数知识:</p><figure class="la lb lc ld gt is gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/a907ce1ef88b6b4de303cf60a837a8df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*ujSZiQNAF64JRXCZR4D-ZA.png"/></div></figure><p id="c781" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">现在，记住:</p><figure class="la lb lc ld gt is gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/568b71582ec9fb17ea7ff7ac0ae70496.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*82_W8SjX4P7dGYyoK12sIA.png"/></div></figure><p id="c6a8" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">我们有:</p><figure class="la lb lc ld gt is gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/85abb70ae7e7933627f7ba16e8fce02d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*_FLexKZSNwIwOnAdw4fRlw.png"/></div></figure><p id="ebf9" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">这是什么意思？<strong class="ll jl"> <em class="mg">使用N-1的公式得出样本方差，平均起来等于未知总体方差。</em> </strong>所以，同样用很少的样本，我们就可以得到一个实际但未知的总体分布参数的合理估计。</p><p id="c8cf" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">如果我们用<em class="mg"> N </em>而不是<em class="mg"> N-1 </em>来计算会怎么样？让我们看看:</p><figure class="la lb lc ld gt is gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/9ae0726ae3c4d88026711e561e3ccb56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*WHaTVLFidM0bmQHJ-87AEw.png"/></div></figure><p id="c354" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">因此，当我们使用<em class="mg"> N </em>而不是<em class="mg"> N-1，</em>时，我们会有一个称为<em class="mg">统计偏差</em>的误差，这意味着样本方差(估计量)与真实总体参数(在本例中为方差)存在系统性差异。</p><p id="8e36" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">校正因子<em class="mg"> N/(N-1) </em>被称为<strong class="ll jl"> <em class="mg">贝塞尔因子</em> </strong>并允许获得无偏方差s的平均值作为有偏方差的函数:</p><figure class="la lb lc ld gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mn"><img src="../Images/d04ae1a9b49f53ebf5afa543673a809d.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*9svLTn-WwzWxrpGs7WZXUw.png"/></div></div></figure><p id="8aba" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">如何在机器学习问题上应用它？当我们试图对一个ML问题建模时，我们首先查看数据(在监督和非监督学习中)，搜索模式，统计参数，维度减少，特征选择等。这被称为<em class="mg">探索性数据分析</em>或<em class="mg"> EDA </em>。无论是数值特征还是分类特征，我们首先要看观察值的分布。所以，最初，我们必须估计两个参数:平均值和方差。如果<em class="mg"> N </em>，即观察值的数量很小，我们必须应用贝塞尔因子来更好地估计真实方差。如果<em class="mg"> N </em>很大(我们会看到有多大)，我们可以省略这一项，因为N/(N-1)大约等于1。</p><p id="db1a" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">所以，在一个问题上:</p><ul class=""><li id="8f5a" class="mo mp jb ll b lm ln lp lq ls mq lw mr ma ms me mt mu mv mw bi translated">很少观察到</li><li id="3711" class="mo mp jb ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated">要素的值非常少(因为我们有一个有偏差的数据集)</li></ul><p id="b47e" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">我们必须应用校正因子。</p><p id="53dd" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">在任何情况下，我们都不能对结果有信心，因为我们使用的是样本而不是总体。我们所能做的最好的事情是估计一个范围的值，在这个范围内实际方差落在(总体方差的<em class="mg">置信区间</em>)内。</p><p id="00e1" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">让我们看一个例子。想象一片有10000棵橡树的森林:这是全部人口。我们想估计高度的分布。假设我们不知道身高呈正态分布，平均值为10m，标准差(方差的平方根)为2m。这些是整个人口的统计参数。我们试图通过随机抽取的20棵橡树样本来估算这些值。我们重复这个实验100次。以下是Python中的代码:</p><pre class="la lb lc ld gt nc nd ne nf aw ng bi"><span id="b9e0" class="nh ni jb nd b gy nj nk l nl nm">import numpy as np<br/>import pandas as pd<br/>from random import sample,choice<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns<br/>import scipy</span><span id="c2fb" class="nh ni jb nd b gy nn nk l nl nm">np.random.seed(1234)<br/>mu = 10<br/>sigma = 2<br/>pop = np.random.normal(mu, sigma, 10000)<br/>count, bins, ignored = plt.hist(pop, 100, density=True, color = 'lightgreen')<br/>sns.set_style('whitegrid')<br/>tests = 100<br/>sam = []<br/>mean =[]<br/>std_b = []<br/>std_u = []<br/>fig, axs = plt.subplots(ncols=2)<br/>sns.kdeplot(pop, bw=0.3, ax=axs[0])<br/>for i in range(tests):<br/>    sam_20 = np.random.choice(pop, 20)<br/>    sns.kdeplot(sam_20, bw=0.3, ax=axs[1])<br/>    sam.append(sam_20)<br/>    mean.append(np.mean(sam_20))<br/>    std_b.append(np.std(sam_20))<br/>    std_u.append(np.std(sam_20, ddof=1))</span><span id="0da4" class="nh ni jb nd b gy nn nk l nl nm">frame = {'mean':mean, 'std_b': std_b, 'std_u': std_u}<br/>table = pd.DataFrame(frame)</span></pre><p id="0e50" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">这样，我们为100个实验<em class="mg">中的每一个实验获得样本均值"<em class="mg">均值"</em>标准差(有偏)"<em class="mg"> std_b" </em>和无偏(<em class="mg"> ddof=1 </em>与<em class="mg"> (N-1) </em>相同，而不是<em class="mg"> N </em>)标准差"<em class="mg"> std_u" </em>。从图形上看，我们得到:</em></p><figure class="la lb lc ld gt is gh gi paragraph-image"><div class="gh gi no"><img src="../Images/747255c2d951d0394c508c73d4077d88.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*aUCqFvng9VU44fx4y5jplA.png"/></div></figure><p id="a773" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">假设20个样本是10000个总体项目的一个很小的子集，每次我们运行测试，我们都会得到不同的分布。无论如何，<em class="mg">平均起来</em>，我们得到了真实均值和标准差的合理估计。我们可以在Python中使用以下命令看到这一点:</p><pre class="la lb lc ld gt nc nd ne nf aw ng bi"><span id="38db" class="nh ni jb nd b gy nj nk l nl nm">table.describe()</span></pre><figure class="la lb lc ld gt is gh gi paragraph-image"><div class="gh gi np"><img src="../Images/04fa19e3428c223efaa0bf9d0adc296f.png" data-original-src="https://miro.medium.com/v2/resize:fit:654/format:webp/1*lGD0nuOkp8-dYe_vpA_IRw.png"/></div></figure><p id="a170" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">如您所见，平均而言，无偏样本标准差比有偏样本标准差更接近总体参数的值。</p><p id="0f3f" class="pw-post-body-paragraph lj lk jb ll b lm ln kl lo lp lq ko lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">通过<em class="mg">置信度分析</em>来衡量这些评估的质量，我们将在下一次讨论。</p><h2 id="7558" class="nh ni jb bd nq nr ns dn nt nu nv dp nw ls nx ny nz lw oa ob oc ma od oe of jh bi translated">结论</h2><p id="9b8e" class="pw-post-body-paragraph lj lk jb ll b lm og kl lo lp oh ko lr ls oi lu lv lw oj ly lz ma ok mc md me ij bi translated">在本文中，我们已经看到了样本方差受统计偏差的影响，这是由于与整个总体的基数相比，很少观察到的数据发生了失真。我们学习了一种通过贝塞尔因子来减少这种误差的方法，并给出了一个例子。</p></div></div>    
</body>
</html>