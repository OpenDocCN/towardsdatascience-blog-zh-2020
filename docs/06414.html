<html>
<head>
<title>Is Python faster than R?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python比R快吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/is-python-faster-than-r-db06c5be5ce8?source=collection_archive---------23-----------------------#2020-05-22">https://towardsdatascience.com/is-python-faster-than-r-db06c5be5ce8?source=collection_archive---------23-----------------------#2020-05-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f581" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">基于简单机器学习管道的R vs Python速度基准测试</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9f7edf424c1ff2be23166e771d78a195.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gytsn6MVvF7Sv9SUNmZRMg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片改编自<a class="ae ky" href="https://www.r-project.org/logo/" rel="noopener ugc nofollow" target="_blank">https://www.r-project.org/logo/</a>和<a class="ae ky" href="https://www.python.org/community/logos/" rel="noopener ugc nofollow" target="_blank">https://www.python.org/community/logos/</a></p></figure><p id="1951" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于用于机器学习的正确工具，有很多反复出现的讨论。r和Python经常被认为是替代品:它们都适合机器学习任务。但是当一个公司需要开发工具并为此维护两个解决方案时，这可能会带来更高的成本。所以，我们有时候不得不选择。</p><p id="8260" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将展示一个R vs Python的速度基准测试，我这样做是为了看看Python是否真的像某些人声称的那样提供了速度提升。</p><h1 id="245a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">基准机器学习管道</h1><p id="06b8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">对于一个基准来说，要做到公平是相对困难的:执行的速度可能很大程度上取决于我的代码，或者所使用的不同库的速度。我必须做出决定，我已经决定对虹膜数据集进行分类。这是一个相对容易的机器学习项目，这似乎有助于进行公平的比较。</p><p id="cf0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将使用R和Python中的库，我知道它们是常用的，此外它们也是我自己喜欢使用的库。</p><h2 id="18cc" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">基准测试的步骤</h2><p id="e263" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我做了两个笔记本，R和Python，都执行以下步骤:</p><ul class=""><li id="0d66" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">读取带有虹膜数据的csv文件。</li><li id="9c6b" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">将数据随机分为80%的训练数据和20%的测试数据。</li><li id="d1fa" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">使用内置的网格搜索和交叉验证方法，在训练数据上拟合多个模型</li><li id="2163" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">根据测试数据评估每个最佳模型，并选择最佳模型</li></ul><h2 id="bed8" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">基准的模型</h2><p id="67f5" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我选择使用以下模型列表:逻辑回归、线性判别分析、K-最近邻和支持向量机。对于后两者，我添加了一个网格搜索，用于在3个内核上使用多处理进行5重交叉验证的超参数调优。</p><p id="0e01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我选择了这些模型，而不是更流行的Random Forest或XGBoost，因为后者有更多的参数，并且函数接口之间的差异使得很难确保模型执行的完全平等的设置。</p><p id="4e8e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我选择的模型参数更少，在R和Python中使用它们的方式几乎相同。因此，用错误的参数选择来偏置基准的风险较小。</p><h1 id="c98d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">由此产生的脚本和笔记本</h1><p id="f9b9" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我在下面展示了结果代码。要在你自己的硬件上运行笔记本，你可以在这里下载<a class="ae ky" href="http://jooskorstanje.com/speed-benchmark-r.html" rel="noopener ugc nofollow" target="_blank">R笔记本</a>和在这里下载<a class="ae ky" href="http://jooskorstanje.com/speed-benchmark-python.html" rel="noopener ugc nofollow" target="_blank"> Python笔记本</a>。</p><h2 id="9aee" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">R代码</h2><p id="0a52" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">基准测试使用了以下R代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/385389b1298c6d842a9ab99a4a69be69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XOGL72z4zlkdegkNd2otBA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Python比R快吗？—R代码。作者配图。</p></figure><h2 id="a54a" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">Python代码</h2><p id="6ec7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">基准测试使用了以下Python代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/41084c0a84de23e7143d1deb40e08df4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-bGAK0olOOe2AkOePwa1Hw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Python比R快吗？Python代码。作者配图。</p></figure><h1 id="5926" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结果:Python比R快吗？</h1><p id="9e99" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">为了进行公平的比较，我在一个执行了100次的函数中转换了完整的代码，然后测量了它所用的时间。这两个代码都是在配有2.4GHz双核英特尔酷睿i5处理器的MacBook Pro上执行的。</p><p id="903d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">R脚本的总持续时间大约是11分12秒，大约是每个循环7.12秒。Python脚本的总持续时间大约为2分2秒，每个循环大约为1.22秒。</p><blockquote class="nt"><p id="4421" class="nu nv it bd nw nx ny nz oa ob oc lu dk translated">Python代码比R替代方案快5.8倍！</p></blockquote><p id="ae33" class="pw-post-body-paragraph kz la it lb b lc od ju le lf oe jx lh li of lk ll lm og lo lp lq oh ls lt lu im bi translated"><strong class="lb iu">因此，这种特殊机器学习管道的Python代码比R替代方案快5.8倍！</strong></p><p id="dd46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，这不能自动推广到R和Python中任何类型项目的速度。此外，可能有更快的替代方法来用这两种语言编写这些代码，但我认为当关注功能而不是速度时，这两种代码都是编写机器学习笔记本的合理方法。</p><p id="2156" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对我个人来说，这种差异比我预期的更显著，我会在未来的项目中考虑这一点。<em class="oi">我希望这篇文章对你也有用！感谢阅读！</em></p></div></div>    
</body>
</html>