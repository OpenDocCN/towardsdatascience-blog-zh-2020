<html>
<head>
<title>Data Transformation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æ•°æ®è½¬æ¢</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/data-transformation-e7b3b4268151?source=collection_archive---------31-----------------------#2020-08-18">https://towardsdatascience.com/data-transformation-e7b3b4268151?source=collection_archive---------31-----------------------#2020-08-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="2c2f" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">ğŸ“ˆPython for finance ç³»åˆ—</h2><div class=""/><div class=""><h2 id="f72e" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">å¦‚ä½•å°†ç°ä»£æœºå™¨å­¦ä¹ åº”ç”¨äºä½“ç§¯æ‰©æ•£åˆ†æ(VSA)</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/c276200c7e5ec74675a94025295bc861.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z2JkqA9n7NUjpjoqEnHzBA.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@jeremythomasphoto?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">æ°ç‘ç±³Â·æ‰˜é©¬æ–¯</a>åœ¨<a class="ae lh" href="https://unsplash.com/s/photos/leaves-wallpaper?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹ç…§</p></figure><p id="eb93" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">è­¦å‘Š</strong>:è¿™é‡Œæ²¡æœ‰ç¥å¥‡çš„å…¬å¼<em class="me">æˆ–åœ£æ¯ï¼Œå°½ç®¡ä¸€ä¸ªæ–°çš„ä¸–ç•Œå¯èƒ½ä¼šä¸ºä½ æ‰“å¼€å¤§é—¨ã€‚</em></p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h2 id="2dee" class="mm mn it bd mo mp mq dn mr ms mt dp mu lr mv mw mx lv my mz na lz nb nc nd iz bi translated">ğŸ“ˆPython For Finance ç³»åˆ—</h2><ol class=""><li id="b687" class="ne nf it lk b ll ng lo nh lr ni lv nj lz nk md nl nm nn no bi translated"><a class="ae lh" href="https://medium.com/python-in-plain-english/identifying-outliers-part-one-c0a31d9faefa" rel="noopener">è¯†åˆ«å¼‚å¸¸å€¼</a></li><li id="9376" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md nl nm nn no bi translated"><a class="ae lh" href="https://medium.com/better-programming/identifying-outliers-part-two-4c00b2523362" rel="noopener">è¯†åˆ«å¼‚å¸¸å€¼â€”ç¬¬äºŒéƒ¨åˆ†</a></li><li id="62cb" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md nl nm nn no bi translated"><a class="ae lh" href="https://medium.com/swlh/identifying-outliers-part-three-257b09f5940b" rel="noopener">è¯†åˆ«å¼‚å¸¸å€¼â€”ç¬¬ä¸‰éƒ¨åˆ†</a></li><li id="58d2" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md nl nm nn no bi translated"><a class="ae lh" rel="noopener" target="_blank" href="/data-whispering-eebb77a422da">ç¨‹å¼åŒ–çš„äº‹å®</a></li><li id="53ed" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md nl nm nn no bi translated"><a class="ae lh" href="https://medium.com/@kegui/feature-engineering-feature-selection-8c1d57af18d2" rel="noopener">ç‰¹å¾å·¥ç¨‹&amp;ç‰¹å¾é€‰æ‹©</a></li><li id="eae1" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md nl nm nn no bi translated"><a class="ae lh" rel="noopener" target="_blank" href="/data-transformation-e7b3b4268151">æ•°æ®è½¬æ¢</a></li><li id="2d00" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md nl nm nn no bi translated"><a class="ae lh" href="https://medium.com/swlh/fractionally-differentiated-features-9c1947ed2b55" rel="noopener">ç»†å¾®å·®åˆ«ç‰¹å¾</a></li><li id="6243" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md nl nm nn no bi translated"><a class="ae lh" rel="noopener" target="_blank" href="/the-triple-barrier-method-251268419dcd">æ•°æ®æ ‡ç­¾</a></li><li id="3abf" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md nl nm nn no bi translated"><a class="ae lh" rel="noopener" target="_blank" href="/meta-labeling-and-stacking-f17a7f9804ec">å…ƒæ ‡ç­¾å’Œå †å </a></li></ol></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="3dc2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">åœ¨é¢„è§ˆæ–‡ç« ä¸­ï¼Œæˆ‘ç®€è¦ä»‹ç»äº†ä½“ç§¯æ‰©æ•£åˆ†æ(VSA)ã€‚åœ¨æˆ‘ä»¬å®Œæˆç‰¹å¾å·¥ç¨‹å’Œç‰¹å¾é€‰æ‹©åï¼Œæˆ‘ç«‹å³æ³¨æ„åˆ°ä¸¤ä»¶äº‹ï¼Œç¬¬ä¸€ä»¶æ˜¯æ•°æ®é›†ä¸­æœ‰å¼‚å¸¸å€¼ï¼Œç¬¬äºŒä»¶æ˜¯åˆ†å¸ƒä¸æ¥è¿‘æ­£æ€åˆ†å¸ƒã€‚é€šè¿‡ä½¿ç”¨è¿™é‡Œæè¿°çš„<a class="ae lh" href="https://medium.com/python-in-plain-english/identifying-outliers-part-one-c0a31d9faefa" rel="noopener"/>ã€è¿™é‡Œæè¿°çš„<a class="ae lh" href="https://medium.com/@kegui/identifying-outliers-part-two-4c00b2523362" rel="noopener"/>å’Œè¿™é‡Œæè¿°çš„<a class="ae lh" href="https://medium.com/swlh/identifying-outliers-part-three-257b09f5940b" rel="noopener"/>çš„æ–¹æ³•ï¼Œæˆ‘å»é™¤äº†å¤§éƒ¨åˆ†çš„å¼‚å¸¸å€¼ã€‚ç°åœ¨æ˜¯æ—¶å€™é¢å¯¹æ›´å¤§çš„é—®é¢˜äº†ï¼Œå¸¸æ€ã€‚</p><p id="984e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æœ‰è®¸å¤šæ–¹æ³•å¯ä»¥ä¼ è¾“æ•°æ®ã€‚ä¼—æ‰€å‘¨çŸ¥çš„ä¸€ä¸ªä¾‹å­æ˜¯<a class="ae lh" href="https://machinelearningmastery.com/why-one-hot-encode-data-in-machine-learning/" rel="noopener ugc nofollow" target="_blank">ä¸€é”®ç¼–ç </a>ï¼Œæ›´å¥½çš„ä¾‹å­æ˜¯è‡ªç„¶è¯­è¨€å¤„ç†(NLP)ä¸­çš„<a class="ae lh" href="https://en.wikipedia.org/wiki/Word_embedding" rel="noopener ugc nofollow" target="_blank">å•è¯åµŒå…¥</a>ã€‚è€ƒè™‘åˆ°ä½¿ç”¨æ·±åº¦å­¦ä¹ çš„ä¸€ä¸ªä¼˜åŠ¿æ˜¯ï¼Œå®ƒå®Œå…¨è‡ªåŠ¨åŒ–äº†è¿‡å»æœºå™¨å­¦ä¹ å·¥ä½œæµç¨‹ä¸­æœ€å…³é”®çš„æ­¥éª¤:ç‰¹å¾å·¥ç¨‹ã€‚åœ¨åé¢çš„æ–‡ç« è¿›å…¥æ·±åº¦å­¦ä¹ ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸€äº›ç®€å•çš„è½¬ç§»æ•°æ®çš„æ–¹æ³•ï¼Œçœ‹çœ‹èƒ½å¦è®©å®ƒæ›´æ¥è¿‘æ­£æ€åˆ†å¸ƒã€‚</p><p id="5749" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æƒ³å°è¯•å‡ ä»¶äº‹ã€‚ç¬¬ä¸€ç§æ˜¯å°†æ‰€æœ‰ç‰¹å¾è½¬æ¢æˆç®€å•çš„ç™¾åˆ†æ¯”å˜åŒ–ã€‚ç¬¬äºŒä¸ªæ˜¯åšç™¾åˆ†ä½æ•°æ’åã€‚æœ€åï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºï¼Œå¦‚æœæˆ‘åªé€‰æ‹©æ‰€æœ‰æ•°æ®çš„ç¬¦å·ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆã€‚åƒ Z-score è¿™æ ·çš„æ–¹æ³•ï¼Œæ˜¯æ·±åº¦å­¦ä¹ ä¸­çš„æ ‡å‡†é¢„å¤„ç†ï¼Œæˆ‘å®æ„¿æš‚æ—¶ä¸åšã€‚</p><h1 id="a0f4" class="nu mn it bd mo nv nw nx mr ny nz oa mu ki ob kj mx kl oc km na ko od kp nd oe bi translated">1.æ•°æ®å‡†å¤‡</h1><p id="9b72" class="pw-post-body-paragraph li lj it lk b ll ng kd ln lo nh kg lq lr of lt lu lv og lx ly lz oh mb mc md im bi translated">ä¸ºäº†ä¸€è‡´æ€§ï¼Œåœ¨æ‰€æœ‰çš„<a class="ae lh" href="https://medium.com/swlh/identifying-outliers-part-three-257b09f5940b" rel="noopener">ğŸ“ˆPython for finance ç³»åˆ—</a>ï¼Œæˆ‘ä¼šå°½é‡é‡ç”¨ç›¸åŒçš„æ•°æ®ã€‚å…³äºæ•°æ®å‡†å¤‡çš„æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨<a class="ae lh" href="https://medium.com/python-in-plain-english/identifying-outliers-part-one-c0a31d9faefa" rel="noopener">è¿™é‡Œ</a>ï¼Œè¿™é‡Œ<a class="ae lh" href="https://medium.com/@kegui/identifying-outliers-part-two-4c00b2523362" rel="noopener">è¿™é‡Œ</a>å’Œ<a class="ae lh" href="https://medium.com/swlh/identifying-outliers-part-three-257b09f5940b" rel="noopener">è¿™é‡Œ</a>æ‰¾åˆ°ï¼Œæˆ–è€…ä½ å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„<a class="ae lh" href="https://medium.com/@kegui/feature-engineering-feature-selection-8c1d57af18d2" rel="noopener">æ–‡ç« </a>ã€‚æˆ–è€…ï¼Œå¦‚æœä½ æ„¿æ„ï¼Œä½ å¯ä»¥å¿½ç•¥ä¸‹é¢çš„æ‰€æœ‰ä»£ç ï¼Œä½¿ç”¨ä½ æ‰‹å¤´ä¸Šä»»ä½•å¹²å‡€çš„æ•°æ®ï¼Œè¿™ä¸ä¼šå½±å“æˆ‘ä»¬å°†è¦ä¸€èµ·åšçš„äº‹æƒ…ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="f88f" class="mm mn it oj b gy on oo l op oq">#import all the libraries<br/>import pandas as pd<br/>import numpy as np<br/>import seaborn as sns <br/>import yfinance as yf  #the stock data from Yahoo Finance<br/>import matplotlib.pyplot as plt #set the parameters for plotting<br/>plt.style.use('seaborn')<br/>plt.rcParams['figure.dpi'] = 300</span><span id="8503" class="mm mn it oj b gy or oo l op oq">#define a function to get data<br/>def get_data(symbols, begin_date=None,end_date=None):<br/>    df = yf.download('AAPL', start = '2000-01-01',<br/>                     auto_adjust=True,#only download adjusted data<br/>                     end= '2010-12-31') <br/>    #my convention: always lowercase<br/>    df.columns = ['open','high','low',<br/>                  'close','volume'] <br/>    <br/>    return df</span><span id="e885" class="mm mn it oj b gy or oo l op oq">prices = get_data('AAPL', '2000-01-01', '2010-12-31')</span><span id="87b5" class="mm mn it oj b gy or oo l op oq">#create some features<br/>def create_HLCV(i):<br/>#as we don't care open that much, that leaves volume, <br/>#high,low and close <br/>    df = pd.DataFrame(index=prices.index)<br/>    df[f'high_{i}D'] = prices.high.rolling(i).max()<br/>    df[f'low_{i}D'] = prices.low.rolling(i).min()<br/>    df[f'close_{i}D'] = prices.close.rolling(i).\<br/>                        apply(lambda x:x[-1]) <br/>    # close_2D = close as rolling backwards means today is <br/>    # literly the last day of the rolling window.<br/>    df[f'volume_{i}D'] = prices.volume.rolling(i).sum()<br/>    <br/>    return df</span><span id="a173" class="mm mn it oj b gy or oo l op oq"># create features at different rolling windows<br/>def create_features_and_outcomes(i):<br/>    df = create_HLCV(i)<br/>    high = df[f'high_{i}D']<br/>    low = df[f'low_{i}D']<br/>    close = df[f'close_{i}D']<br/>    volume = df[f'volume_{i}D']<br/>    <br/>    features = pd.DataFrame(index=prices.index)<br/>    outcomes = pd.DataFrame(index=prices.index)<br/>    <br/>    #as we already considered the different time span, <br/>    #here only day of simple percentage change used.<br/>   <br/>    features[f'volume_{i}D'] = volume.pct_change()<br/>    features[f'price_spread_{i}D'] = (high - low).pct_change()<br/>    #aligne the close location with the stock price change<br/>    features[f'close_loc_{i}D'] = ((close - low) / \<br/>                             (high -   low)).pct_change()</span><span id="b31c" class="mm mn it oj b gy or oo l op oq">    #the future outcome is what we are going to predict<br/>    outcomes[f'close_change_{i}D'] = close.pct_change(-i)<br/>       <br/>    return features, outcomes</span><span id="5158" class="mm mn it oj b gy or oo l op oq">def create_bunch_of_features_and_outcomes():<br/>    '''<br/>    the timespan that i would like to explore <br/>    are 1, 2, 3 days and 1 week, 1 month, 2 month, 3 month<br/>    which roughly are [1,2,3,5,20,40,60]<br/>    '''<br/>    days = [1,2,3,5,20,40,60]<br/>    bunch_of_features = pd.DataFrame(index=prices.index)<br/>    bunch_of_outcomes = pd.DataFrame(index=prices.index)<br/>    <br/>    for day in days:<br/>        f,o = create_features_and_outcomes(day)<br/>        bunch_of_features = bunch_of_features.join(f)<br/>        bunch_of_outcomes = bunch_of_outcomes .join(o)<br/>        <br/>    return bunch_of_features, bunch_of_outcomes</span><span id="9cfa" class="mm mn it oj b gy or oo l op oq">bunch_of_features, bunch_of_outcomes = create_bunch_of_features_and_outcomes()</span><span id="5792" class="mm mn it oj b gy or oo l op oq">#define the method to identify outliers<br/>def get_outliers(df, i=4): <br/>    #i is number of sigma, which define the boundary along mean<br/>    outliers = pd.DataFrame()<br/>    stats = df.describe()<br/>    <br/>    for col in df.columns:<br/>        mu = stats.loc['mean', col]<br/>        sigma = stats.loc['std', col]<br/>        condition = (df[col] &gt; mu + sigma * i) | \<br/>                  (df[col] &lt; mu -   sigma * i) <br/>        outliers[f'{col}_outliers'] = df[col][condition]<br/>    <br/>    return outliers</span><span id="96e0" class="mm mn it oj b gy or oo l op oq">#remove all the outliers<br/>features_outcomes = bunch_of_features.join(bunch_of_outcomes)<br/>outliers = get_outliers(features_outcomes, i=1)</span><span id="19ad" class="mm mn it oj b gy or oo l op oq">features_outcomes_rmv_outliers = features_outcomes.drop(index = outliers.index).dropna()</span><span id="b623" class="mm mn it oj b gy or oo l op oq">features = features_outcomes_rmv_outliers[bunch_of_features.columns]<br/>outcomes = features_outcomes_rmv_outliers[bunch_of_outcomes.columns]<br/>features.info(), outcomes.info()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi os"><img src="../Images/27903ffff3bb6e8342604005c12809f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*TS0S3pRnVvGmJ07YS3z2FQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">è¦ç´ æ•°æ®é›†çš„ä¿¡æ¯</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/b536e721faabf7e33b8e97f5ab6ff72b.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*CWfwN1fVpSH8Ki0DFhw8yA.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">ç»“æœæ•°æ®é›†ä¿¡æ¯</p></figure><p id="f240" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æœ€åï¼Œæˆ‘ä»¬å°†å…·æœ‰åŸºäºä¸åŒæ—¶é—´å°ºåº¦çš„é‡å·®åˆ†æ(VSA)çš„åŸºæœ¬å››ä¸ªç‰¹å¾ï¼Œå¦‚ä¸‹æ‰€åˆ—ï¼Œå³ 1 å¤©ã€2 å¤©ã€3 å¤©ã€ä¸€å‘¨ã€ä¸€ä¸ªæœˆã€2 ä¸ªæœˆå’Œ 3 ä¸ªæœˆã€‚</p><ul class=""><li id="be30" class="ne nf it lk b ll lm lo lp lr ou lv ov lz ow md ox nm nn no bi translated">éŸ³é‡:éå¸¸ç›´æ¥</li><li id="b243" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md ox nm nn no bi translated">èŒƒå›´/ä»·å·®:æœ€é«˜ä»·å’Œæ”¶ç›˜ä»·ä¹‹é—´çš„å·®å¼‚</li><li id="847c" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md ox nm nn no bi translated">æ”¶ç›˜ä»·ç›¸å¯¹äºåŒºé—´:æ”¶ç›˜ä»·æ˜¯æ¥è¿‘ä»·æ ¼æŸ±çš„é¡¶éƒ¨è¿˜æ˜¯åº•éƒ¨ï¼Ÿ</li><li id="c7b4" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md ox nm nn no bi translated">è‚¡ç¥¨ä»·æ ¼çš„å˜åŒ–:éå¸¸ç›´æ¥</li></ul><h1 id="bad5" class="nu mn it bd mo nv nw nx mr ny nz oa mu ki ob kj mx kl oc km na ko od kp nd oe bi translated">2.ç™¾åˆ†æ¯”å›æŠ¥</h1><p id="735e" class="pw-post-body-paragraph li lj it lk b ll ng kd ln lo nh kg lq lr of lt lu lv og lx ly lz oh mb mc md im bi translated">æˆ‘çŸ¥é“ä¸Šé¢æœ‰å¾ˆå¤šä»£ç ã€‚æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„å‡½æ•°å°†æ‰€æœ‰ç‰¹å¾è½¬æ¢æˆç®€å•çš„ç™¾åˆ†æ¯”å˜åŒ–ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="0131" class="mm mn it oj b gy on oo l op oq">def create_features_and_outcomes(i):<br/>    df = create_HLCV(i)<br/>    high = df[f'high_{i}D']<br/>    low = df[f'low_{i}D']<br/>    close = df[f'close_{i}D']<br/>    volume = df[f'volume_{i}D']<br/>    <br/>    features = pd.DataFrame(index=prices.index)<br/>    outcomes = pd.DataFrame(index=prices.index)<br/>    <br/>    #as we already considered the different time span, <br/>    #here only 1 day of simple percentage change used.<br/>   <br/>    features[f'volume_{i}D'] = volume.pct_change()<br/>    features[f'price_spread_{i}D'] = (high - low).pct_change()<br/>    #aligne the close location with the stock price change<br/>    features[f'close_loc_{i}D'] = ((close - low) / \<br/>    (high -    low)).pct_change()</span><span id="0486" class="mm mn it oj b gy or oo l op oq">#the future outcome is what we are going to predict<br/>    outcomes[f'close_change_{i}D'] = close.pct_change(-i)<br/>       <br/>    return features, outcomes</span></pre><p id="6ba1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç”¨èšç±»å›¾æ¥çœ‹çœ‹å®ƒä»¬çš„ç›¸å…³æ€§ã€‚Seaborn çš„<code class="fe oy oz pa oj b"> clustermap()</code>å±‚æ¬¡èšç±»ç®—æ³•å±•ç¤ºäº†ä¸€ç§å°†æœ€å¯†åˆ‡ç›¸å…³çš„ç‰¹å¾åˆ†ç»„çš„å¥½æ–¹æ³•ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="1fd4" class="mm mn it oj b gy on oo l op oq">corr_features = features.corr().sort_index()<br/>sns.clustermap(corr_features, cmap='coolwarm', linewidth=1);</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/f34519f18e1e8cff5a1ef6f9afef6822.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*KQ2QWmvBsDZ6iAutCfaSqg.png"/></div></figure><p id="8f48" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">åŸºäºæ­¤èšç±»å›¾ï¼Œä¸ºäº†æœ€å¤§é™åº¦åœ°å‡å°‘æ‰€é€‰è¦ç´ ä¸­çš„è¦ç´ é‡å é‡ï¼Œæˆ‘å°†ç§»é™¤é‚£äº›ä¸å…¶ä»–è¦ç´ ç´§å¯†é…å¯¹ä¸”ä¸ç»“æœç›®æ ‡ç›¸å…³æ€§è¾ƒå°çš„è¦ç´ ã€‚ä»ä¸Šé¢çš„èšç±»å›¾ä¸­ï¼Œå¾ˆå®¹æ˜“å‘ç°[40Dï¼Œ60D]å’Œ[2Dï¼Œ3D]ä¸Šçš„ç‰¹å¾æ˜¯æˆå¯¹å‡ºç°çš„ã€‚ä¸ºäº†äº†è§£è¿™äº›ç‰¹å¾ä¸ç»“æœä¹‹é—´çš„å…³ç³»ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ç»“æœä¹‹é—´çš„å…³ç³»ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="bd58" class="mm mn it oj b gy on oo l op oq">corr_outcomes = outcomes.corr()<br/>sns.clustermap(corr_outcomes, cmap='coolwarm', linewidth=2);</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/281625fcbd78c14547538a63f822b8c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*ilDBNYnz6ipCudH93nDsEQ.png"/></div></figure><p id="bd43" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä»ä¸Šåˆ°ä¸‹ï¼Œ20 å¤©ã€40 å¤©å’Œ 60 å¤©çš„ä»·æ ¼ç™¾åˆ†æ¯”å˜åŒ–è¢«åˆ†ç»„åœ¨ä¸€èµ·ï¼Œ2 å¤©ã€3 å¤©å’Œ 5 å¤©ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ç„¶è€Œï¼Œä¸€å¤©çš„è‚¡ä»·ç™¾åˆ†æ¯”å˜åŒ–ç›¸å¯¹ç‹¬ç«‹äºè¿™ä¸¤ç»„ã€‚å¦‚æœæˆ‘ä»¬é€‰æ‹©ç¬¬äºŒå¤©çš„ä»·æ ¼ç™¾åˆ†æ¯”å˜åŒ–ä½œä¸ºç»“æœç›®æ ‡ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›ç‰¹æ€§æ˜¯å¦‚ä½•ä¸ä¹‹ç›¸å…³çš„ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="8d01" class="mm mn it oj b gy on oo l op oq">corr_features_outcomes = features.corrwith(outcomes. \<br/>                                close_change_1D).sort_values()<br/>corr_features_outcomes.dropna(inplace=True)<br/>corr_features_outcomes.plot(kind='barh',title = 'Strength of Correlation');</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/328be316ac3efffc4f3ce4af96563987.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*PUl8KwOenqTyrZtdl_mrNw.png"/></div></figure><p id="660d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ç›¸å…³ç³»æ•°å¤ªå°ï¼Œæ— æ³•å¾—å‡ºå¯é çš„ç»“è®ºã€‚æˆ‘ä¼šæœŸæœ›æœ€è¿‘çš„æ•°æ®å…·æœ‰æ›´å¼ºçš„ç›¸å…³æ€§ï¼Œä½†è¿™é‡Œçš„æƒ…å†µå¹¶éå¦‚æ­¤ã€‚</p><p id="04c2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">åŒäººæƒ…èŠ‚æ€ä¹ˆæ ·ï¼Ÿæˆ‘ä»¬åªé€‰æ‹©é‚£äº›åŸºäº 1 å¤©æ—¶é—´å°ºåº¦çš„ç‰¹å¾ä½œä¸ºæ¼”ç¤ºã€‚ä¸æ­¤åŒæ—¶ï¼Œæˆ‘å°†<code class="fe oy oz pa oj b">close_change_1D</code>è½¬æ¢ä¸ºåŸºäºå®ƒæ˜¯è´Ÿæ•°è¿˜æ˜¯æ­£æ•°çš„ç¬¦å·ï¼Œä»¥å¢åŠ ç»˜å›¾çš„é¢å¤–ç»´åº¦ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="ce6e" class="mm mn it oj b gy on oo l op oq">selected_features_1D_list = ['volume_1D', 'price_spread_1D', 'close_loc_1D', 'close_change_1D']<br/>features_outcomes_rmv_outliers['sign_of_close'] = features_outcomes_rmv_outliers['close_change_1D']. \<br/>                                                  apply(np.sign)</span><span id="f821" class="mm mn it oj b gy or oo l op oq">sns.pairplot(features_outcomes_rmv_outliers, <br/>             vars=selected_features_1D_list,<br/>             diag_kind='kde',<br/>             palette='husl', hue='sign_of_close',<br/>             markers = ['*', '&lt;', '+'], <br/>             plot_kws={'alpha':0.3});</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/e2481d015ee12c67417815251e794219.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*FSuaaTc6t4b80cEViy2piA.png"/></div></figure><p id="d284" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">é…å¯¹å›¾å»ºç«‹åœ¨ä¸¤ä¸ªåŸºæœ¬å›¾å½¢ä¸Šï¼Œç›´æ–¹å›¾å’Œæ•£ç‚¹å›¾ã€‚å¯¹è§’çº¿ä¸Šçš„ç›´æ–¹å›¾å…è®¸æˆ‘ä»¬çœ‹åˆ°å•ä¸ªå˜é‡çš„åˆ†å¸ƒï¼Œè€Œä¸Šä¸‹ä¸‰è§’å½¢ä¸Šçš„æ•£ç‚¹å›¾æ˜¾ç¤ºäº†ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„å…³ç³»(æˆ–ç¼ºä¹å…³ç³»)ã€‚ä»ä¸Šé¢çš„å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œéšç€äº¤æ˜“é‡çš„å¢åŠ ï¼Œä»·å·®è¶Šæ¥è¶Šå¤§ã€‚å¤§éƒ¨åˆ†ä»·æ ¼å˜åŠ¨ä½äºç‹­çª„çš„ä»·å·®ï¼Œæ¢å¥è¯è¯´ï¼Œæ›´å¤§çš„ä»·å·®å¹¶ä¸æ€»æ˜¯ä¼´éšç€æ›´å¤§çš„ä»·æ ¼æ³¢åŠ¨ã€‚æ— è®ºæ˜¯ä½äº¤æ˜“é‡è¿˜æ˜¯é«˜äº¤æ˜“é‡éƒ½ä¼šå¯¼è‡´å‡ ä¹æ‰€æœ‰è§„æ¨¡çš„ä»·æ ¼å˜åŠ¨ã€‚æˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰è¿™äº›ç»“è®ºåº”ç”¨åˆ°ä¸Šæ¶¨å’Œä¸‹è·Œçš„æ—¥å­é‡Œã€‚</p><p id="07be" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨æ¥è¿‘çš„é…’å§ä½ç½®ï¼Œä»¥å¢åŠ æ›´å¤šçš„ç»´åº¦ï¼Œç®€å•åœ°åº”ç”¨</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="39b7" class="mm mn it oj b gy on oo l op oq">features[â€˜sign_of_close_locâ€™] = np.where( \<br/> features[â€˜close_loc_1Dâ€™] &gt; 0.5, \<br/> 1, -1)</span></pre><p id="e325" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">çœ‹æœ‰å¤šå°‘æ£’çº¿çš„æ”¶ç›˜ä»·é«˜äº 0.5 æˆ–ä½äº 0.5ã€‚</p><p id="d1fc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">åœ¨ pair å›¾ä¸­ï¼Œæˆ‘ä¸å–œæ¬¢çš„ä¸€ç‚¹æ˜¯æ‰€æœ‰çš„å›¾éƒ½æµ“ç¼©äº†<code class="fe oy oz pa oj b">close_loc_1D</code>,çœ‹èµ·æ¥åƒç¦»ç¾¤å€¼ä»ç„¶å­˜åœ¨ï¼Œå³ä½¿æˆ‘çŸ¥é“æˆ‘ä½¿ç”¨äº†ä¸€ä¸ªæ ‡å‡†åå·®ä½œä¸ºè¾¹ç•Œï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ä½çš„é˜ˆå€¼ï¼Œ338 ä¸ªç¦»ç¾¤å€¼è¢«åˆ é™¤ã€‚æˆ‘æ„è¯†åˆ°å› ä¸º close çš„ä½ç½®å·²ç»æ˜¯ç™¾åˆ†æ¯”å˜åŒ–äº†ï¼Œåœ¨ä¸Šé¢å†åŠ ä¸€ä¸ªç™¾åˆ†æ¯”å˜åŒ–æ²¡æœ‰å¤ªå¤§æ„ä¹‰ã€‚è®©æˆ‘ä»¬æ”¹å˜å®ƒã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="f95d" class="mm mn it oj b gy on oo l op oq">def create_features_and_outcomes(i):<br/>    df = create_HLCV(i)<br/>    high = df[f'high_{i}D']<br/>    low = df[f'low_{i}D']<br/>    close = df[f'close_{i}D']<br/>    volume = df[f'volume_{i}D']<br/>    <br/>    features = pd.DataFrame(index=prices.index)<br/>    outcomes = pd.DataFrame(index=prices.index)<br/>    <br/>    #as we already considered the different time span, <br/>    #simple percentage change of 1 day used here.<br/>    <br/>    features[f'volume_{i}D'] = volume.pct_change()<br/>    features[f'price_spread_{i}D'] = (high - low).pct_change()<br/>    #remove pct_change() here<br/>    features[f'close_loc_{i}D'] = ((close - low) / (high - low))<br/>    #predict the future with -i<br/>    outcomes[f'close_change_{i}D'] = close.pct_change(-i)<br/>       <br/>    return features, outcomes</span></pre><p id="3341" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å»æ‰äº†<code class="fe oy oz pa oj b">pct_change()</code>ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ç°åœ¨çš„æ˜Ÿå›¢å›¾æ˜¯ä»€ä¹ˆæ ·å­ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="2bc9" class="mm mn it oj b gy on oo l op oq">corr_features = features.corr().sort_index()<br/>sns.clustermap(corr_features, cmap='coolwarm', linewidth=1);</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/3e7b636c0cb18988e6ffaf0ee233f843.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*TjtZXx6Safa1GfEgluJFzg.png"/></div></figure><p id="9085" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">èšç±»å›¾ç°åœ¨æ›´æœ‰æ„ä¹‰äº†ã€‚æ‰€æœ‰å››ä¸ªåŸºæœ¬ç‰¹å¾éƒ½æœ‰éå¸¸ç›¸ä¼¼çš„æ¨¡å¼ã€‚[40Dï¼Œ60D]ï¼Œ[2Dï¼Œ3D]é…å¯¹åœ¨ä¸€èµ·ã€‚</p><p id="a527" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä»¥åŠä¸ç»“æœç›¸å…³çš„ç‰¹å¾ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="e430" class="mm mn it oj b gy on oo l op oq">corr_features_outcomes.plot(kind='barh',title = 'Strength of Correlation');</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/7126498c87557aceed901ca593b525f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*9zBhntl0lW12veJmvw0jsw.png"/></div></figure><p id="5165" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">é•¿æœŸæ—¶é—´å°ºåº¦ç‰¹å¾ä¸è‚¡ç¥¨ä»·æ ¼å›æŠ¥çš„ç›¸å…³æ€§è¾ƒå¼±ï¼Œè€Œè¿‘æœŸäº‹ä»¶å¯¹ä»·æ ¼å›æŠ¥çš„å½±å“æ›´å¤§ã€‚</p><p id="19a3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">é€šè¿‡å»æ‰<code class="fe oy oz pa oj b">close_loc_1D</code>çš„<code class="fe oy oz pa oj b">pct_change()</code>ï¼Œæœ€å¤§çš„åŒºåˆ«åœ¨äº<code class="fe oy oz pa oj b">pairplot()</code>ã€‚</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/13d8baf95038efeb5c12329c5521feee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*Osw1uLgi24KiKi6uFI_Vkw.png"/></div></figure><p id="197a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æœ€åï¼Œ<code class="fe oy oz pa oj b">close_loc_1D</code>å˜é‡åœ¨æ­£ç¡®çš„èŒƒå›´å†…ç»˜å›¾ã€‚è¿™è¯´æ˜æˆ‘ä»¬åº”è¯¥å°å¿ƒè¿‡åº¦è®¾è®¡ã€‚å®ƒå¯èƒ½ä¼šå¯¼è‡´ä¸€ä¸ªå®Œå…¨æ„æƒ³ä¸åˆ°çš„æ–¹å¼ã€‚</p><h1 id="9877" class="nu mn it bd mo nv nw nx mr ny nz oa mu ki ob kj mx kl oc km na ko od kp nd oe bi translated">3.ç™¾åˆ†ä½æ•°æ’å</h1><p id="53ca" class="pw-post-body-paragraph li lj it lk b ll ng kd ln lo nh kg lq lr of lt lu lv og lx ly lz oh mb mc md im bi translated">æ ¹æ®ç»´åŸºç™¾ç§‘ï¼Œç™¾åˆ†ä½æ’åæ˜¯</p><blockquote class="ph pi pj"><p id="8f72" class="li lj me lk b ll lm kd ln lo lp kg lq pk ls lt lu pl lw lx ly pm ma mb mc md im bi translated">åˆ†æ•°çš„ç™¾åˆ†ä½æ•°ç­‰çº§æ˜¯åˆ†æ•°åœ¨å…¶é¢‘ç‡åˆ†å¸ƒä¸­ç­‰äºæˆ–ä½äºå®ƒçš„ç™¾åˆ†æ¯”ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæµ‹è¯•åˆ†æ•°å¤§äºå‚åŠ æµ‹è¯•çš„äººçš„åˆ†æ•°çš„ 75%è¢«è®¤ä¸ºæ˜¯åœ¨ç¬¬<strong class="lk jd">75</strong>ç™¾åˆ†ä½ï¼Œå…¶ä¸­ 75 æ˜¯ç™¾åˆ†ä½ç­‰çº§ã€‚</p></blockquote><p id="c9f8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä»¥ä¸‹ç¤ºä¾‹è¿”å›ä¸è¿‡å» 60 å¤©æœŸé—´ç›¸æ¯”ï¼Œæ¯ä¸ªå€¼çš„äº¤æ˜“é‡çš„ç™¾åˆ†æ¯”ç­‰çº§(ä» 0.00 åˆ° 1.00)ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="9c04" class="mm mn it oj b gy on oo l op oq">roll_rank = lambda x: pd.Series(x).rank(pct=True)[-1]<br/># you only pick the first value [0]<br/># of the 60 windows rank if you rolling forward.<br/># if you rolling backward, we should pick last one,[-1].</span><span id="9151" class="mm mn it oj b gy or oo l op oq">features_rank = features.rolling(60, min_periods=60). \<br/>                apply(roll_rank).dropna()<br/>outcomes_rank = outcomes.rolling(60, min_periods=60). \<br/>                apply(roll_rank).dropna()</span></pre></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h2 id="26a2" class="mm mn it bd mo mp mq dn mr ms mt dp mu lr mv mw mx lv my mz na lz nb nc nd iz bi translated">âœTipï¼</h2><p id="65f0" class="pw-post-body-paragraph li lj it lk b ll ng kd ln lo nh kg lq lr of lt lu lv og lx ly lz oh mb mc md im bi translated">ç†ŠçŒ«<code class="fe oy oz pa oj b">rolling()</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç»“æœè®¾ç½®ä¸ºçª—å£çš„å³è¾¹ç¼˜ã€‚è¿™æ„å‘³ç€è¯¥çª—å£æ˜¯å‘åçœ‹çš„çª—å£ï¼Œä»è¿‡å»æ»šåŠ¨åˆ°å½“å‰æ—¶é—´æˆ³ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¯¹äºé‚£ä¸ªçª—å£å¸§ä¸­çš„<code class="fe oy oz pa oj b">rank()</code>ï¼Œæˆ‘ä»¬é€‰æ‹©æœ€åä¸€ä¸ªå€¼<code class="fe oy oz pa oj b">[-1]</code>ã€‚</p><p id="6d0c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ›´å¤šå…³äº<code class="fe oy oz pa oj b">rolling()</code>çš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹<a class="ae lh" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.rolling.html" rel="noopener ugc nofollow" target="_blank">å®˜æ–¹æ–‡æ¡£ã€‚</a></p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="3d4b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬å¿«é€Ÿæµè§ˆä¸€ä¸‹ç»“æœçš„èšç±»å›¾ã€‚å®ƒå‡ ä¹ç­‰åŒäºé¡ºåºä¸åŒçš„ç™¾åˆ†æ¯”å˜åŒ–ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="b00b" class="mm mn it oj b gy on oo l op oq">corr_outcomes_rank = outcomes_rank.corr().sort_index()<br/>sns.clustermap(corr_outcomes_rank, cmap='coolwarm', linewidth=2);</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/48d35e7f8a8dac184f9b1000c6cc7ae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*rCb4WHPodFcYDt96kjBzKQ.png"/></div></figure><p id="5999" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">åŒæ ·çš„æ¨¡å¼ä¹Ÿé€‚ç”¨äºè¦ç´ çš„èšç±»å›¾ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="3889" class="mm mn it oj b gy on oo l op oq">corr_features_rank = features_rank.corr().sort_index()<br/>sns.clustermap(corr_features_rank, cmap='coolwarm', linewidth=2);</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/3ad5b56fb81cdfa58b135dcf596db657.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*iN_K5kk1ktEmedBEZkTbOQ.png"/></div></figure><p id="64ba" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å³ä½¿ä½¿ç”¨ä¸åŒçš„æ–¹æ³•ï¼Œ</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="eb3f" class="mm mn it oj b gy on oo l op oq"># using 'ward' method<br/>corr_features_rank = features_rank.corr().sort_index()<br/>sns.clustermap(corr_features_rank, cmap='coolwarm', linewidth=2, method='ward');</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/82f913b587971c8af8ebe1204139725a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*alqXy0_42G4gyUSe1Pq4eQ.png"/></div></figure><p id="843c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å½“ç„¶ï¼Œç‰¹å¾å’Œç»“æœçš„ç›¸å…³æ€§ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="949c" class="mm mn it oj b gy on oo l op oq">corr_features_outcomes_rank = features_rank.corrwith( \<br/>                              outcomes_rank. \<br/>                              close_change_1D).sort_values()</span><span id="16f1" class="mm mn it oj b gy or oo l op oq">corr_features_outcomes_rank</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/1d4862580c67c53c56647633c443f4c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:388/format:webp/1*9Ysdcz7l_WhtP1Dng1LhXw.png"/></div></figure><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="abf0" class="mm mn it oj b gy on oo l op oq">corr_features_outcomes_rank.plot(kind='barh',title = 'Strength of Correlation');</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/c3e589099bd1637641c80391d2b83d84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*bERtiy9pIEAYhRCJU32VfA.png"/></div></figure><p id="2de9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æœ€åï¼Œä½ å¯èƒ½ä¼šçŒœåˆ°ç»“å¯¹å›¾ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="c908" class="mm mn it oj b gy on oo l op oq">selected_features_1D_list = ['volume_1D', 'price_spread_1D', 'close_loc_1D', 'close_change_1D']<br/>features_outcomes_rank['sign_of_close'] = features_outcomes_rmv_outliers['close_change_1D']. \<br/>                                                  apply(np.sign)</span><span id="d2b6" class="mm mn it oj b gy or oo l op oq">sns.pairplot(features_outcomes_rank, <br/>             vars=selected_features_1D_list,<br/>             diag_kind='kde',<br/>             palette='husl', hue='sign_of_close',<br/>             markers = ['*', '&lt;', '+'], <br/>             plot_kws={'alpha':0.3});</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/a995ceb902f83d46eb0358f047fbad0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*wwP3jx4D_RMEEAXnTIDc3g.png"/></div></figure><p id="d68b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å› ä¸ºæˆ‘ä»¬åœ¨é›†åˆçª—å£ä¸­ä½¿ç”¨äº†ç™¾åˆ†ä½ç­‰çº§(ä» 0.00 åˆ° 1.00)ï¼Œæ‰€ä»¥æ–‘ç‚¹å‡åŒ€åœ°åˆ†å¸ƒåœ¨æ‰€æœ‰ç‰¹å¾ä¸Šã€‚ä¸æœªç»å˜æ¢çš„ç›¸åŒæ•°æ®ç›¸æ¯”ï¼Œæ‰€æœ‰ç‰¹å¾çš„åˆ†å¸ƒæˆ–å¤šæˆ–å°‘æ¥è¿‘æ­£æ€åˆ†å¸ƒã€‚</p><h1 id="dac7" class="nu mn it bd mo nv nw nx mr ny nz oa mu ki ob kj mx kl oc km na ko od kp nd oe bi translated">4.ç­¾ç½²</h1><p id="5e15" class="pw-post-body-paragraph li lj it lk b ll ng kd ln lo nh kg lq lr of lt lu lv og lx ly lz oh mb mc md im bi translated">æœ€ååŒæ ·é‡è¦çš„æ˜¯ï¼Œæˆ‘æƒ³åˆ é™¤æ‰€æœ‰çš„æ•°æ®é¢—ç²’ï¼Œçœ‹çœ‹è¿™äº›åŠŸèƒ½åœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯å¦‚ä½•å…³è”çš„ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="2a63" class="mm mn it oj b gy on oo l op oq">features_sign = features.apply(np.sign)<br/>outcomes_sign = outcomes.apply(np.sign)</span></pre><p id="f7a6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ç„¶åå†æ¬¡è®¡ç®—ç›¸å…³ç³»æ•°ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="dc9d" class="mm mn it oj b gy on oo l op oq">corr_features_outcomes_sign = features_sign.corrwith(<br/>                              outcomes_sign. \<br/>                              close_change_1D).sort_values(ascending=False)</span><span id="c199" class="mm mn it oj b gy or oo l op oq">corr_features_outcomes_sign</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi po"><img src="../Images/92ea7f6b46e407d42a27aedb0bd6b028.png" data-original-src="https://miro.medium.com/v2/resize:fit:392/format:webp/1*S2g14xnZcfS78f8r3mEStg.png"/></div></figure><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="5bbd" class="mm mn it oj b gy on oo l op oq">corr_features_outcomes_sign.plot(kind='barh',title = 'Strength of Correlation');</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/a9295335c2f39ca727d2573caa9fcdca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*NrPdE2NK42gn5ENi7-eVow.png"/></div></figure><p id="ad8d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ç°åœ¨çœ‹æ¥æœ‰ç‚¹æ€ªï¼Œåƒ<code class="fe oy oz pa oj b">volume_1D</code>å’Œ<code class="fe oy oz pa oj b">price_spread_1D</code>å’Œç°åœ¨çš„èƒœè´Ÿç›¸å…³æ€§å¾ˆå¼±ã€‚</p><p id="db0e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¹¸è¿çš„æ˜¯ï¼Œèšç±»å›¾åŸºæœ¬ä¿æŒä¸å˜ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="b248" class="mm mn it oj b gy on oo l op oq">corr_features_sign = features_sign.corr().sort_index()<br/>sns.clustermap(corr_features_sign, cmap='coolwarm', linewidth=2);</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/f68380e79984c1181eadb7388a09b527.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*oZmWhTiV2k1WoEZZRojJUw.png"/></div></figure><p id="9b64" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ç»“æœä¹‹é—´çš„å…³ç³»ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="6441" class="mm mn it oj b gy on oo l op oq">corr_outcomes_sign = outcomes_sign.corr().sort_index()<br/>sns.clustermap(corr_outcomes_sign, cmap='coolwarm', linewidth=2);</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/a08e554127ca43ee367433c862437faf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*Ca40vkj7Pnd7DO9uSy-v0A.png"/></div></figure><p id="0c72" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">è‡³äº pair plotï¼Œç”±äºæ‰€æœ‰æ•°æ®éƒ½è¢«è½¬ç§»åˆ°-1 æˆ– 1ï¼Œå®ƒæ²¡æœ‰æ˜¾ç¤ºä»»ä½•æœ‰æ„ä¹‰çš„ä¸œè¥¿ã€‚</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/f23616dba66588f12eb1b07be342ceca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/1*rSWmysj03xn_4Fa3Z9Fe4A.png"/></div></figure><p id="e626" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æœ‰æ—¶å¯¹æ•°æ®è¿›è¡Œâ€œæ ‡å‡†åŒ–â€æˆ–â€œè§„èŒƒåŒ–â€æ˜¯è‡³å…³é‡è¦çš„ï¼Œè¿™æ ·æˆ‘ä»¬æ‰èƒ½åœ¨ä¸åŒå°ºåº¦çš„ç‰¹å¾ä¹‹é—´è¿›è¡Œå…¬å¹³çš„æ¯”è¾ƒã€‚æˆ‘å¾ˆæƒ³ç”¨ Z-score æ¥æ ‡å‡†åŒ–æ•°æ®é›†ã€‚</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/ec8907ad6a787573e799e4772c1f078a.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*RS4ke_qE-GIelCSsw3Hm6A.png"/></div></figure><p id="4565" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Z å¾—åˆ†çš„å…¬å¼éœ€è¦å¹³å‡å€¼å’Œæ ‡å‡†å·®ï¼Œé€šè¿‡è®¡ç®—æ•´ä¸ªæ•°æ®é›†çš„è¿™ä¸¤ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬æœ‰æœºä¼šçœ‹åˆ°æœªæ¥ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥å†æ¬¡åˆ©ç”¨æ»šåŠ¨çª—å£ã€‚ä½†ä¸€èˆ¬æ¥è¯´ï¼Œäººä»¬ä¼šåœ¨å°†æ•°æ®æ³¨å…¥æ¨¡å‹ä¹‹å‰å¯¹å…¶è¿›è¡Œæ ‡å‡†åŒ–ã€‚</p><p id="9054" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ€»ä¹‹ï¼Œé€šè¿‡åˆ©ç”¨ 3 ç§ä¸åŒçš„æ•°æ®è½¬æ¢æ–¹æ³•ï¼Œç°åœ¨æˆ‘ä»¬å¾ˆæœ‰ä¿¡å¿ƒå¯ä»¥é€‰æ‹©æœ€ç›¸å…³çš„ç‰¹æ€§å¹¶ä¸¢å¼ƒé‚£äº›å¤§é‡çš„ç‰¹æ€§ï¼Œå› ä¸ºæ‰€æœ‰ 3 ç§æ–¹æ³•å‡ ä¹å…±äº«ç›¸åŒçš„æ¨¡å¼ã€‚</p><h1 id="967f" class="nu mn it bd mo nv nw nx mr ny nz oa mu ki ob kj mx kl oc km na ko od kp nd oe bi translated">5.å¹³ç¨³å’Œæ­£æ€æ€§æ£€éªŒ</h1><p id="476d" class="pw-post-body-paragraph li lj it lk b ll ng kd ln lo nh kg lq lr of lt lu lv og lx ly lz oh mb mc md im bi translated">æœ€åä¸€ä¸ªé—®é¢˜è½¬æ¢åçš„æ•°æ®èƒ½é€šè¿‡å¹³ç¨³æ€§/æ­£æ€æ€§æ£€éªŒå—ï¼Ÿè¿™é‡Œï¼Œæˆ‘å°†ä½¿ç”¨<a class="ae lh" href="https://en.wikipedia.org/wiki/Augmented_Dickey%E2%80%93Fuller_test" rel="noopener ugc nofollow" target="_blank">æ‰©å±•çš„ Dickey-Fuller æ£€éªŒ</a>ï¼Œè¿™æ˜¯ä¸€ç§å«åš<a class="ae lh" href="https://en.wikipedia.org/wiki/Unit_root_test" rel="noopener ugc nofollow" target="_blank">å•ä½æ ¹æ£€éªŒ</a>çš„ç»Ÿè®¡æ£€éªŒã€‚åŒæ—¶ï¼Œæˆ‘è¿˜æƒ³çœ‹çœ‹åæ–œåº¦å’Œå³°åº¦ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="4d47" class="mm mn it oj b gy on oo l op oq">import statsmodels.api as sm<br/>import scipy.stats as scs<br/><br/>p_val = lambda s: sm.tsa.stattools.adfuller(s)[1]</span><span id="6b9c" class="mm mn it oj b gy or oo l op oq">def build_stats(df):<br/>    stats = pd.DataFrame({'skew':scs.skew(df),<br/>                 'skew_test':scs.skewtest(df)[1],<br/>                 'kurtosis': scs.kurtosis(df),<br/>                 'kurtosis_test' : scs.kurtosistest(df)[1],<br/>                 'normal_test' : scs.normaltest(df)[1]},<br/>                  index = df.columns)<br/>    return stats</span></pre><p id="6719" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ£€éªŒçš„é›¶å‡è®¾æ˜¯æ—¶é—´åºåˆ—å¯ä»¥ç”¨ä¸€ä¸ªå•ä½æ ¹æ¥è¡¨ç¤ºï¼Œå®ƒä¸æ˜¯å¹³ç¨³çš„(å…·æœ‰ä¸€äº›ä¾èµ–äºæ—¶é—´çš„ç»“æ„)ã€‚å¦ä¸€ä¸ªå‡è®¾(æ‹’ç»é›¶å‡è®¾)æ˜¯æ—¶é—´åºåˆ—æ˜¯å¹³ç¨³çš„ã€‚</p><ul class=""><li id="56c8" class="ne nf it lk b ll lm lo lp lr ou lv ov lz ow md ox nm nn no bi translated"><strong class="lk jd">é›¶å‡è®¾(H0) </strong>:å¦‚æœæ²¡æœ‰è¢«æ‹’ç»ï¼Œè¯´æ˜æ—¶é—´åºåˆ—æœ‰å•ä½æ ¹ï¼Œæ„å‘³ç€å®ƒæ˜¯éå¹³ç¨³çš„ã€‚å®ƒæœ‰ä¸€äº›ä¾èµ–äºæ—¶é—´çš„ç»“æ„ã€‚</li><li id="ae50" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md ox nm nn no bi translated"><strong class="lk jd">å¤‡é€‰å‡è®¾(H1) </strong>:æ‹’ç»é›¶å‡è®¾ï¼›è¿™è¡¨æ˜æ—¶é—´åºåˆ—æ²¡æœ‰å•ä½æ ¹ï¼Œè¿™æ„å‘³ç€å®ƒæ˜¯å¹³ç¨³çš„ã€‚å®ƒæ²¡æœ‰ä¾èµ–äºæ—¶é—´çš„ç»“æ„ã€‚</li></ul><p id="ac87" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä»¥ä¸‹æ˜¯æ¥è‡ª<a class="ae lh" href="https://en.wikipedia.org/wiki/Augmented_Dickey%E2%80%93Fuller_test" rel="noopener ugc nofollow" target="_blank">å¢å¼ºè¿ªåŸº-å¯Œå‹’æµ‹è¯•</a>çš„ç»“æœ:</p><p id="ae0b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¯¹äºåŠŸèƒ½å’Œç»“æœ:</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="f24b" class="mm mn it oj b gy on oo l op oq">features_p_val = features.apply(p_val)<br/>outcomes_p_val = outcomes.apply(p_val)<br/>outcomes_p_val,features_p_val</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/4245f9f2d643c40ba73f34906cd14fc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/1*WgnAsZ_4CxbKWTI6Iir_bA.png"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/d478fdaebab286f3a011ea41f0a765c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:432/format:webp/1*xUSwcKsqyKn8X1X70cmfSA.png"/></div></figure><p id="8c91" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æµ‹è¯•å¯ä»¥é€šè¿‡<em class="me"> p </em>å€¼æ¥è§£é‡Šã€‚ä½äºé˜ˆå€¼çš„<em class="me">p</em>-å€¼(å¦‚ 5%æˆ– 1%)è¡¨æ˜æˆ‘ä»¬æ‹’ç»é›¶å‡è®¾(å¹³ç¨³)ï¼Œå¦åˆ™ï¼Œé«˜äºé˜ˆå€¼çš„<em class="me">p</em>-å€¼è¡¨æ˜æˆ‘ä»¬ä¸èƒ½æ‹’ç»é›¶å‡è®¾(éå¹³ç¨³)ã€‚</p><ul class=""><li id="43ac" class="ne nf it lk b ll lm lo lp lr ou lv ov lz ow md ox nm nn no bi translated"><strong class="lk jd"><em class="me">p</em>-å€¼&gt; 0.05 </strong>:ä¸èƒ½æ‹’ç»é›¶å‡è®¾(H0)ï¼Œæ•°æ®æœ‰å•ä½æ ¹ï¼Œéå¹³ç¨³ã€‚</li><li id="0efa" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md ox nm nn no bi translated"><strong class="lk jd"><em class="me">p</em>-å€¼&lt; = 0.05 </strong>:æ‹’ç»é›¶å‡è®¾(H0)ï¼Œæ•°æ®æ²¡æœ‰å•ä½æ ¹ï¼Œæ˜¯å¹³ç¨³çš„ã€‚</li></ul><p id="65e5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä»è¿™ä¸ªæµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„ç»“æœéƒ½è¿œä½äº 5%ï¼Œè¿™è¡¨æ˜æˆ‘ä»¬å¯ä»¥æ‹’ç»é›¶å‡è®¾ï¼Œæ‰€æœ‰è½¬æ¢çš„æ•°æ®éƒ½æ˜¯å¹³ç¨³çš„ã€‚</p><p id="2bb4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥æµ‹è¯•æ­£æ€æ€§ã€‚</p><pre class="ks kt ku kv gt oi oj ok ol aw om bi"><span id="3b13" class="mm mn it oj b gy on oo l op oq">build_stats(features_outcomes_rmv_outliers)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/9677f0b330ba4f97286b3b00d585cf4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*GCNBGkI5XqUcwgS3vijVFg.png"/></div></figure><p id="0735" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¯¹äºæ­£æ€åˆ†å¸ƒçš„æ•°æ®ï¼Œåæ–œåº¦åº”è¯¥å¤§çº¦ä¸ºé›¶ã€‚å¯¹äºå•å³°è¿ç»­åˆ†å¸ƒï¼Œå¤§äºé›¶çš„åæ–œå€¼æ„å‘³ç€åˆ†å¸ƒçš„å³å°¾æœ‰æ›´å¤šçš„æƒé‡ï¼Œåä¹‹äº¦ç„¶ã€‚</p><p id="eb02" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe oy oz pa oj b">scs.skewtest()</code>æ£€éªŒæ ·æœ¬æ€»ä½“çš„åæ–œåº¦ä¸ç›¸åº”æ­£æ€åˆ†å¸ƒçš„åæ–œåº¦ç›¸åŒçš„åŸå‡è®¾ã€‚ç”±äºæ‰€æœ‰çš„æ•°å­—éƒ½ä½äº 5%çš„é˜ˆå€¼ï¼Œæˆ‘ä»¬ä¸å¾—ä¸æ‹’ç»é›¶å‡è®¾ï¼Œå¹¶è¯´åæ–œåº¦ä¸ç¬¦åˆæ­£æ€åˆ†å¸ƒã€‚åŒæ ·çš„äº‹æƒ…å»<code class="fe oy oz pa oj b">scs.kurtosistest()</code>ã€‚</p><p id="a783" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe oy oz pa oj b">scs.normaltest()</code>æ£€éªŒæ ·æœ¬æ¥è‡ªæ­£æ€åˆ†å¸ƒçš„åŸå‡è®¾ã€‚å®ƒåŸºäº D'Agostino å’Œ Pearson çš„æµ‹è¯•ï¼Œç»“åˆäº†åæ–œåº¦å’Œå³°åº¦ï¼Œä»¥äº§ç”Ÿä¸€ä¸ªæ­£æ€æ€§çš„ç»¼åˆæµ‹è¯•ã€‚åŒæ ·ï¼Œæ‰€æœ‰æ•°å­—éƒ½ä½äº 5%é˜ˆå€¼ã€‚æˆ‘ä»¬å¿…é¡»æ‹’ç»é›¶å‡è®¾ï¼Œå¹¶è¯´ç”±ç™¾åˆ†æ¯”å˜åŒ–è½¬æ¢çš„æ•°æ®ä¸æ˜¯æ­£æ€åˆ†å¸ƒã€‚</p><p id="cd12" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æˆ‘ä»¬å¯ä»¥å¯¹é€šè¿‡ç™¾åˆ†æ¯”æ’åå’Œç­¾åè½¬æ¢çš„æ•°æ®è¿›è¡ŒåŒæ ·çš„æµ‹è¯•ã€‚æˆ‘ä¸æƒ³è®©äº‹æƒ…å˜å¾—æ›´å¤æ‚ï¼ŒæŠŠäººä»¬å“è·‘ã€‚åœ¨è¿™ç¯‡æ–‡ç« å¤ªé•¿ä¹‹å‰ï¼Œæˆ‘æœ€å¥½åœ¨è¿™é‡Œç»“æŸã€‚</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="6811" class="nu mn it bd mo nv pu nx mr ny pv oa mu ki pw kj mx kl px km na ko py kp nd oe bi translated">å‚è€ƒ</h1><ol class=""><li id="5a8b" class="ne nf it lk b ll ng lo nh lr ni lv nj lz nk md nl nm nn no bi translated">éº¦é‡‘å†œï¼ŒJ.G. 1994ã€‚å•ä½æ ¹å’Œåæ•´æ£€éªŒçš„è¿‘ä¼¼æ¸è¿‘åˆ†å¸ƒå‡½æ•°ã€‚ã€Šå•†ä¸šä¸ç»æµç»Ÿè®¡æ‚å¿—ã€‹12ï¼Œ167â€“76ã€‚</li><li id="d06d" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md nl nm nn no bi translated">è¾¾æˆˆæ–¯è’‚è¯ºï¼ŒR. B. (1971)ï¼Œâ€œä¸­ç­‰å’Œå¤§æ ·æœ¬é‡çš„æ­£æ€æ€§ç»¼åˆæ£€éªŒâ€ï¼Œã€Šç”Ÿç‰©è®¡é‡å­¦ã€‹ï¼Œ58ï¼Œ341â€“348</li><li id="5fb4" class="ne nf it lk b ll np lo nq lr nr lv ns lz nt md nl nm nn no bi translated">è¾¾æˆˆæ–¯è’‚è¯ºï¼Œr .å’Œçš®å°”é€Šï¼ŒE. S. (1973)ï¼Œâ€œåç¦»æ­£æ€æ€§çš„æ£€éªŒâ€ï¼Œã€Šç”Ÿç‰©è®¡é‡å­¦ã€‹ï¼Œ60ï¼Œ613â€“622</li></ol></div></div>    
</body>
</html>