<html>
<head>
<title>Using Map and Filter in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Python 中使用地图和过滤器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-map-and-filter-in-python-ffdfa8b97520?source=collection_archive---------11-----------------------#2020-07-31">https://towardsdatascience.com/using-map-and-filter-in-python-ffdfa8b97520?source=collection_archive---------11-----------------------#2020-07-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="63ae" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用 python 中内置的地图和过滤功能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0456b8310d0a736cb163a25525bc0084.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wGw7CXKxAk-VzCmm"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">凯文·Ku 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b23e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我们将学习何时以及如何使用 Python 中内置的地图和过滤功能。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="34b2" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">地图功能</h2><p id="fb4c" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">假设您想使用已经有的列表创建一个列表。这意味着您希望使用现有的列表，对每个元素应用某种操作或函数，并使用这些输出来创建一个新的列表。</p><p id="6bc2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果我们有一个数字列表，我们想创建一个包含它们的方块的新列表。一种方法是使用 for 循环遍历数字列表，并应用一个函数返回每个数字或元素的平方。当我们遍历列表时，我们可以在新列表中添加或附加平方值。</p><p id="defb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看如何在代码中做到这一点:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><blockquote class="nc nd ne"><p id="7b5c" class="kz la nf lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated">我们有一个数字列表，<strong class="lb iu"> num_list </strong>，我们想要创建一个新列表，<strong class="lb iu"> num_list_squared </strong>，它包含了<strong class="lb iu"> num_list </strong>的平方。我们使用 for 循环遍历<strong class="lb iu"> num_list </strong>，并将每个数字的平方或<strong class="lb iu"> num </strong>添加到我们的<strong class="lb iu"> num_list_squared </strong>列表中。</p></blockquote></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="4a4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一种实现方法是使用名为 map 的内置 python 函数。</p><p id="a53b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://docs.python.org/3/library/functions.html#map" rel="noopener ugc nofollow" target="_blank"> map </a>函数接受两个参数:<strong class="lb iu">我们想要应用的函数和我们想要应用它的 iterable 对象或序列(比如本例中的 list)。</strong>换句话说，map 函数将这个函数映射或应用到我们传入的序列的每个元素。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="517a" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated"><strong class="ak">我们将用于地图功能的格式如下:</strong></h2><blockquote class="nj"><p id="3a40" class="nk nl it bd nm nn no np nq nr ns lu dk translated">map(要应用的函数，要应用的元素序列)</p></blockquote></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="25c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个 map 函数将返回一个 map 对象，它是一个迭代器。如果我们想从这个 map 对象创建一个列表，我们需要将 map 对象传递给内置的 list 函数，如下所示:</p><blockquote class="nj"><p id="c911" class="nk nl it bd nm nn no np nq nr ns lu dk translated"><strong class="ak">列表(映射(功能，顺序))</strong></p></blockquote><p id="4f6a" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">让我们看看如何使用内置的 map 函数来完成上面的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="3f08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，我们可以将 map 函数应用于任何可迭代对象或序列中的每个元素，而不仅仅是列表。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="8403" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">那么让我们来分析一下这行代码中发生了什么:</strong></p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="a599" class="mc md it nz b gy od oe l of og">num_list_squared = list(map(squared, num_list))</span></pre><blockquote class="nc nd ne"><p id="373a" class="kz la nf lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated"><strong class="lb iu"> map </strong>函数从<strong class="lb iu"> num_list </strong>中获取第一个元素，即 1，并将其作为参数传递给<strong class="lb iu">平方</strong>函数(因为我们将该函数作为第一个参数传递给 map 函数)。然后,<strong class="lb iu"> squared </strong>函数返回 1 的平方，也就是 1，它被添加到我们的地图对象中。然后，map 函数从<strong class="lb iu"> num_list </strong>中取出第二个元素，即 2，并将其作为参数传递给<strong class="lb iu"> squared </strong>函数。<strong class="lb iu"> squared </strong>函数返回 2 的平方，也就是 4，然后它被添加到我们的地图对象中。在它完成了对<strong class="lb iu"> num_list </strong>元素的遍历，并且我们的其余平方数被添加到地图对象之后，<strong class="lb iu"> list </strong>函数将这个地图对象转换成一个列表，并且该列表被分配给变量<strong class="lb iu"> num_list_squared </strong>。</p></blockquote></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="ee48" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated"><strong class="ak">使用λ表达式</strong></h2><p id="d8c9" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们可以通过传入一个 lambda 表达式作为我们的函数来进一步缩短代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="2bee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不熟悉 lambda 表达式，你可以看看这个教程:</p><div class="oh oi gp gr oj ok"><a rel="noopener follow" target="_blank" href="/lambda-expressions-in-python-9ad476c75438"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd iu gy z fp op fr fs oq fu fw is bi translated">Python 中的 Lambda 表达式</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">如何用 python 写匿名函数</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">towardsdatascience.com</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy ks ok"/></div></div></a></div></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="7410" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注</strong>:我们传入 map 的函数可以是 python 中的内置函数。例如，如果我们有一个字符串列表，我们想要创建一个包含这些字符串长度的新列表，我们可以像下面这样传递内置的 len 函数:</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="d4d9" class="mc md it nz b gy od oe l of og">list(map(len, list_of_strings))</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="0250" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nf">了解更多关于可迭代、迭代器和迭代的知识:</em></p><div class="oh oi gp gr oj ok"><a rel="noopener follow" target="_blank" href="/iterables-and-iterators-in-python-849b1556ce27"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd iu gy z fp op fr fs oq fu fw is bi translated">Python 中的迭代器和迭代器</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">Python 中的可迭代对象、迭代器和迭代</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">towardsdatascience.com</p></div></div><div class="ot l"><div class="oz l ov ow ox ot oy ks ok"/></div></div></a></div></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="7348" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">过滤功能</h2><p id="c884" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">同样，假设我们想用一个已经有的列表来创建一个列表。但是这一次我们希望我们的新列表只包含满足给定条件的元素。例如，我们有一个数字列表，我们想创建一个只包含偶数的新列表。我们可以使用 for 循环来完成这项任务，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><blockquote class="nc nd ne"><p id="3fb4" class="kz la nf lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated">我们有一个数字列表，<strong class="lb iu"> list_of_nums </strong>，其中包含数字 1、2、3、4、5 和 6。我们想要创建一个新的数字列表，<strong class="lb iu"> list_of_even_nums </strong>，它只包含来自<strong class="lb iu"> list_of_nums </strong>的偶数。所以我们创建了一个函数，<strong class="lb iu"> is_even </strong>，它接受一个输入，如果输入是偶数，则返回 True，否则返回 False。然后，我们创建了一个 for 循环，该循环遍历<strong class="lb iu"> list_of_nums </strong>，并通过将该元素传递给<strong class="lb iu"> is_even </strong>函数来检查列表中的每个数字是否都是偶数。如果<strong class="lb iu"> is_even </strong>函数返回 True，则该数字被追加到<strong class="lb iu"> list_of_even_nums </strong>中。如果<strong class="lb iu"> is_even </strong>返回 False，则该数字不会追加到<strong class="lb iu"> list_of_even_nums </strong>中。</p></blockquote></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="bdfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一种实现方法是使用名为 filter 的内置 python 函数。<a class="ae ky" href="https://docs.python.org/3/library/functions.html#filter" rel="noopener ugc nofollow" target="_blank"> filter </a>函数接受两个参数:检查特定条件的函数和我们想要应用它的序列(比如本例中的列表)。filter 函数从我们的列表中取出每个元素，并将其传递给我们给它的函数。如果将该特定元素作为参数的函数返回 True，filter 函数将把该值添加到 filter 对象中(然后我们可以从该对象中创建一个列表，就像我们对上面的 map 对象所做的那样)。如果函数返回 False，那么该元素将不会被添加到我们的 filter 对象中。</p><p id="dbef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">换句话说，我们可以认为过滤函数是基于某种条件过滤我们的列表或序列。</p><h2 id="22a5" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated"><strong class="ak">我们用于过滤功能的格式如下:</strong></h2><blockquote class="nj"><p id="775d" class="nk nl it bd nm nn no np nq nr ns lu dk translated">过滤器(检查条件、我们想要应用的元素序列的函数)</p></blockquote><p id="b850" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">这个过滤函数将返回一个过滤对象，它是一个迭代器。如果我们想从这个过滤器对象创建一个列表，我们需要将过滤器对象传递给内置的 list 函数(就像我们对 map 对象所做的那样),如下所示:</p><blockquote class="nj"><p id="90dd" class="nk nl it bd nm nn no np nq nr ns lu dk translated"><strong class="ak">列表(过滤(功能，顺序))</strong></p></blockquote><p id="8e25" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">现在让我们使用内置的过滤函数创建与上面相同的列表:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><blockquote class="nc nd ne"><p id="473c" class="kz la nf lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated"><strong class="lb iu"> filter </strong>函数从<strong class="lb iu"> list_of_nums </strong>中获取第一个元素，即 1，并将其作为参数传递给<strong class="lb iu"> is_even </strong>函数(因为我们将该函数作为第一个参数传递给 filter 函数)。然后<strong class="lb iu"> is_even </strong>函数返回 False，因为 1 不是偶数，所以 1 没有被添加到我们的过滤器对象中。然后，filter 函数从<strong class="lb iu"> list_of_nums </strong>中获取第二个元素，即 2，并将其作为参数传递给<strong class="lb iu"> is_even </strong>函数。<strong class="lb iu"> is_even </strong>函数返回 True，因为 2 是偶数，因此 2 被添加到我们的过滤器对象中。在遍历完<strong class="lb iu"> list_of_nums </strong>中的其余元素并且将其余偶数添加到我们的 filter 对象中之后，<strong class="lb iu"> list </strong>函数将这个 filter 对象转换为一个列表，并且该列表被分配给变量<strong class="lb iu"> list_of_even_nums </strong>。</p></blockquote></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="6a8d" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated"><strong class="ak">使用λ表达式</strong></h2><p id="06d4" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们可以通过传入一个 lambda 表达式作为我们的函数来进一步缩短代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="e05d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢阅读这样的故事，并想支持我成为一名作家，考虑注册成为一名媒体成员。每月 5 美元，你可以无限制地阅读媒体上的故事。如果你用我的 <a class="ae ky" href="https://lmatalka90.medium.com/membership" rel="noopener"> <em class="nf">链接</em> </a> <em class="nf">注册，我会赚一小笔佣金。</em></p><div class="oh oi gp gr oj ok"><a href="https://lmatalka90.medium.com/membership" rel="noopener follow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd iu gy z fp op fr fs oq fu fw is bi translated">通过我的推荐链接加入媒体——卢艾·马塔尔卡</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">阅读卢艾·马塔尔卡的每一个故事(以及媒体上成千上万的其他作家)。您的会员费直接支持…</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">lmatalka90.medium.com</p></div></div><div class="ot l"><div class="pa l ov ow ox ot oy ks ok"/></div></div></a></div></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="e242" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">结论</h2><p id="838a" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在本教程中，我们学习了 python 内置的地图和过滤函数是如何工作的。我们也看到了一些使用它们的例子。最后，我们看到了 lambda 表达式如何作为参数传递给这些函数。</p></div></div>    
</body>
</html>