<html>
<head>
<title>The Power of Mathematical Ingenuity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数学独创性的力量</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-power-of-mathematical-ingenuity-49c7b6cfe05e?source=collection_archive---------23-----------------------#2020-01-01">https://towardsdatascience.com/the-power-of-mathematical-ingenuity-49c7b6cfe05e?source=collection_archive---------23-----------------------#2020-01-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ff41" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用于倾斜校正、文本倒置、旋转分类、单应性和应用数学的对象搜索的计算机视觉</h2></div><p id="4bbf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">“纯数学方法解决视觉问题的日子已经一去不复返了，现在人工智能已经开始涉足了”——这可能是深度学习实践者最容易误导的想法之一，他们忘记了传统的计算机视觉技术。如果你是其中之一，那么这里有一个让你重新思考的尝试。</p><p id="60e0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">许多“在边缘上运行”的计算机视觉算法使用传统数学，而不是计算和存储密集型神经网络。考虑一下，我们有包含文本内容的<strong class="kk iu">扫描图像</strong>。让我们把人工智能放在一边，解决扫描图像中的经典问题<strong class="kk iu">,即。倾斜、旋转和文本倒置，</strong>确定性。<strong class="kk iu">特征匹配&amp;物体搜索</strong>也使用数学魔法，进一步激励你。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/6f32d526867bd6dec62b67e1731b87c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yBvN6ZCiXlPkGiNc4XFdYQ.jpeg"/></div></div></figure><p id="2d6d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面所有案例分析的源代码都可以在<strong class="kk iu"> </strong> <a class="ae lq" href="https://github.com/AdroitAnandAI/Computer-Vision-Math-Magic-vs-AI" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu">这里</strong> </a> <strong class="kk iu">找到。</strong></p><h1 id="2c96" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated"><strong class="ak">文本倒置</strong></h1><p id="e1a5" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">从图像中识别倒置的文本字体是一项艰巨的任务。颠倒扫描文件时，可能会发生反转<strong class="kk iu">。</strong>即使在旋转或倾斜校正后，文件也可能会反转，<strong class="kk iu">因为90+θ的旋转被检测为90-θ，或-90-θ被检测为-90+θ。因此，文本倒置是一个常见的问题，但是很难识别。</strong></p><p id="5106" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来看看如何用数学公式表示反演。</p><p id="0aa2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">方法一:双峰</strong></p><ol class=""><li id="bbc5" class="mo mp it kk b kl km ko kp kr mq kv mr kz ms ld mt mu mv mw bi translated"><strong class="kk iu">将像素投影到y轴上</strong>。每一行将导致一个峰值，事实上，由于英文字符的形状，有两个峰值。</li></ol><p id="c05e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.<strong class="kk iu">与高斯滤波器</strong>卷积以平滑噪声。</p><p id="b834" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.<strong class="kk iu">计算峰</strong>(线)的分数，子峰在右侧。</p><p id="811b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下图说明了这种方法</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mx"><img src="../Images/f0a60455b654b3ea15564ccad2d210c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JWA6ib7H2RDLgUZn.png"/></div></div><p class="my mz gj gh gi na nb bd b be z dk translated">蓝色:原装。橙色:平滑。线条:平滑投影的平均值。</p></figure><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="0713" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果文本是大写字母或其他语言，上述方法<strong class="kk iu">将不起作用，因为“双峰逻辑”可能会出错。</strong></p><p id="04f6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一个解决问题的数值方法是利用字体形状，如<em class="ne">“水填充技术”【1】</em>，或者用数学方法表示字符形状，如下所示。我们可以使用形状上下文和对数直方图来数学描述任何形状。这些尝试证明了<strong class="kk iu"/>“数学独创性”是解决各种问题的有效方法。</p><p id="57e1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">方法2:使用Log-Bin直方图形成上下文</strong></p><p id="9ecf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">a.<strong class="kk iu">使用EAST从图像中找到文本边界框</strong>。{下面}</p><p id="83b4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">b.<strong class="kk iu">边框内的裁剪图像</strong>和<strong class="kk iu">应用Canny </strong>边缘检测。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/d5ca44dc1fcbae7149a1fde0f2d49377.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*qI-wBsupsRdWIB1ol-daCQ.jpeg"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">裁剪图像</p></figure><p id="b425" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">c.以字母数字作为基本输入的虚拟图像。从步骤(b)中的基本输入和图像中找到每个字符周围的边界框。<strong class="kk iu">执行步骤{d}-{h}找出字符对之间的最佳对应关系。</strong></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/152dfdefe5c0d3972881bba53a73e38d.png" data-original-src="https://miro.medium.com/v2/resize:fit:424/format:webp/1*fuvY_0evkM416DcnC2qSpg.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">现在，把数字图像作为基本输入</p></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/10e49b482f5393c75fb4fce91bd3cefe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*_ZBA1ydm_tBacJZHFC9UBw.jpeg"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">裁剪图像上的字符边界框</p></figure><p id="f7c3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">d.从每个字符形状的边缘元素中随机抽取N个点。</p><p id="a9a1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">e.构建一个<strong class="kk iu">新的形状描述符——形状上下文。</strong>一个点的形状上下文捕获了其他形状点相对位置的分布，因此<strong class="kk iu">总结了全局形状。</strong></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/4af9ecb7124025286a2b43bb1936e967.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*-g_VDlpafwUsapOeYgtQEw.png"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/3873cea9d66796b6815897c6938bd969.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*P5q6a_dB402NPq00j4HVIQ.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">对数极坐标系统中的形状上下文</p></figure><p id="607c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">f.<strong class="kk iu">使用皮尔森卡方检验</strong>或余弦距离比较对数极坐标直方图。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/d710792e1f546b01ad073d236033f996.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/format:webp/0*acwuE1VRwT-etEy_.png"/></div></figure><p id="7683" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">h.<strong class="kk iu">为基础图像中的每个边界框找到距离最小的数字</strong>。<strong class="kk iu">对每个包围盒的成本值求和，找出适马(</strong>φ<strong class="kk iu">)。</strong></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/8e1c78e6380f764232ec9f00716e2124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*reGgpWoq8gz4NSnxrSOxcA.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">将每个数字与基图像中每个数字的形状进行比较</p></figure><p id="cf38" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">I .反转来自步骤(b) <strong class="kk iu">的裁剪图像，并进行步骤{d}-{h}以计算适马(</strong>φ’<strong class="kk iu">)。比较适马值以了解文本反转。</strong></p><blockquote class="nl"><p id="7341" class="nm nn it bd no np nq nr ns nt nu ld dk translated"><strong class="ak">如果适马(</strong>φ<strong class="ak">)&lt;适马(</strong>φ’<strong class="ak">)</strong></p><p id="de47" class="nm nn it bd no np nq nr ns nt nu ld dk translated"><strong class="ak">然后输入图像是直立的</strong></p><p id="729d" class="nm nn it bd no np nq nr ns nt nu ld dk translated"><strong class="ak">否则输入图像被翻转</strong></p></blockquote><figure class="nv nw nx ny nz lj"><div class="bz fp l di"><div class="nc nd l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/526b900ff0fae3c9f597765e68935222.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*-rqjihhzgY6oXvR1OY18-w.jpeg"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">文本反转代码的输出</p></figure><p id="3f77" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">东(一种高效准确的场景文字检测器)</strong></p><p id="ef1b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">图像中的文本内容可以使用EAST算法进行本地化。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nc nd l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/b7bee44fe0cee7c240b31d4a0249fc06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*35tcJz33bCbblxKqb4myzg.gif"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">自然场景上的东方文字检测(<a class="ae lq" href="https://www.pyimagesearch.com/2018/09/17/opencv-ocr-and-text-recognition-with-tesseract/" rel="noopener ugc nofollow" target="_blank">礼貌</a>)</p></figure><p id="63a9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，我们可以使用math-hack来定位图像中的文本<strong class="kk iu">，而不是使用基于人工智能的EAST算法</strong>。<strong class="kk iu">你可以找到像素的y投影的连续局部最小值，从而找到对应于图像中线分离的连续波谷</strong>。找到一行后，您可以从步骤(b)开始运行方法2。</p><p id="c5f9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">无论字体大小写或语言如何，上述方法都有效<strong class="kk iu">。</strong></p><h1 id="cad0" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated"><strong class="ak">歪斜校正</strong></h1><p id="f16d" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">大多数扫描的文件是歪斜的。因此，在送入OCR或甚至显示之前，需要消除图像的倾斜。</p><p id="7151" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">方法1:迭代投影</strong></p><ol class=""><li id="fdfa" class="mo mp it kk b kl km ko kp kr mq kv mr kz ms ld mt mu mv mw bi translated">将图像从-10度旋转到+10度。</li></ol><p id="c738" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.计算所有像素在y轴上的投影。</p><p id="088b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.计算<strong class="kk iu">像素的入射密度。</strong></p><p id="9740" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.将旋转角度步进0.5度，并重复步骤2、3</p><p id="3ed5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.求像素入射密度最大的角度<strong class="kk iu">θ</strong>。</p><p id="fe03" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上述算法的<strong class="kk iu">缺点是:</strong></p><p id="234c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">a.迭代计算增加了<strong class="kk iu">时间复杂度。</strong></p><p id="192e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">b.<strong class="kk iu">由于步长大小，潜在误差</strong>为0.5度。</p><p id="a901" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">大多数情况下，扫描文件为表格格式或包含线条的表格数据或线条的<strong class="kk iu">点分布</strong>(由于扫描或打印质量不足，扫描图像中的线条可能不连续)。因此，问题归结为<strong class="kk iu">“给定一个点扩散作为输入，我们是否可以计算直线和</strong><strong class="kk iu">θ？”</strong></p><p id="389b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">方法2:霍夫变换峰值</strong></p><ol class=""><li id="46da" class="mo mp it kk b kl km ko kp kr mq kv mr kz ms ld mt mu mv mw bi translated">读取倾斜的图像并进行谨慎的边缘检测</li></ol><p id="484f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.<strong class="kk iu">霍夫空间=调用霍夫变换(边缘检测图像)</strong></p><p id="bfc7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.在霍夫空间变换(累加器矩阵)中寻找最大值</p><p id="40e8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.使用<strong class="kk iu">斜率的切线</strong>找到显著线的<strong class="kk iu">θ</strong></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/42ccc1618160785a5b578698d45cbce3.png" data-original-src="https://miro.medium.com/v2/resize:fit:358/format:webp/1*MCEXm9XZgv-clEV6HoO20w.png"/></div></figure><p id="4b18" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.计算斜率的中间值，<strong class="kk iu">θ'</strong></p><p id="583c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">6.将图像旋转<strong class="kk iu">θ’</strong></p><h2 id="33a9" class="od ls it bd lt oe of dn lx og oh dp mb kr oi oj md kv ok ol mf kz om on mh oo bi translated"><strong class="ak">霍夫变换</strong></h2><ul class=""><li id="4f5e" class="mo mp it kk b kl mj ko mk kr op kv oq kz or ld os mu mv mw bi translated">直线可以用等式来表示，<strong class="kk iu">ρ= Xcos+Ysin，</strong> <br/>其中(X，Y)表示该点，(φ，ρ)表示法线距离原点的角度和距离。</li><li id="c731" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld os mu mv mw bi translated">如果我们认为(X，Y)为常数，那么<strong class="kk iu"> ρ依赖于</strong></li><li id="d37c" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld os mu mv mw bi translated">于是，<strong class="kk iu">我们会得到一条对应于点(X，Y)的(ρ，φ)平面上的正弦曲线。</strong></li><li id="1c1c" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld os mu mv mw bi translated">对应每个像素，在(ρ，c)平面画正弦曲线。</li><li id="5ff4" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld os mu mv mw bi translated">对应于代表直线边缘的像素的<strong class="kk iu">正弦曲线将在(ρ，φ)平面的特定点相交。</strong></li><li id="8007" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld os mu mv mw bi translated"><strong class="kk iu">交点给出了常数(ρ，φ)</strong>，使用该常数我们可以在(X，Y)平面上绘制实际的直线。这里0&lt;180度&lt; 180度。</li><li id="2aa1" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld os mu mv mw bi translated">我们可以用同样的方法来检测高维特征。</li><li id="d3f3" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld os mu mv mw bi translated">对于圆，a、b、r应该被参数化为霍夫空间，从而将复杂度增加到3维。</li></ul><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/6ab6cfe63164c29c44397c4ef69faafb.png" data-original-src="https://miro.medium.com/v2/resize:fit:408/format:webp/1*Cdhh9HW-EHW8xrVlzBjXbg.png"/></div></figure><p id="d425" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">霍夫空间中的正弦曲线投票数组可以如下图所示。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/b69143d071710f42e6ce15fd60e34d80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*t57Ui9dBjF2IuSy_WJ0SkA.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">投票阵列的霍夫空间可视化</p></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/f9683c0fc7cc9b5d8a79ced2118aaddd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*fmha_LlXyio4RZfveloidg.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">从正弦曲线交点重建直线</p></figure><p id="e882" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">去歪斜源代码:</strong></p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="41e9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">去歪斜输出:</strong></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/e1b80e794aa399ac6b0ed5cce7924d19.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*BNkjE0jm9piHhGHCaGA0KA.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">检测到斜角:-0.881403996582</p></figure><p id="9223" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意上图计算倾斜角度的准确性。在迭代方法中，角度θ的<strong class="kk iu">误差</strong>可能是<strong class="kk iu">【步长/2】，</strong>更不用说<strong class="kk iu">巨大的迭代计算成本了。</strong></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi pc"><img src="../Images/d9329f28c16b4e47b923756343fa0f1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wtOG0HYQA9kOIF-YOt15LQ.png"/></div></div><p class="my mz gj gh gi na nb bd b be z dk translated">去偏斜流水线的功能工作流程</p></figure><p id="f3ef" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">注意</strong>:如果扫描的文档不包含您的情况下的线条点扩散，那么<strong class="kk iu">运行上述峰值算法</strong>来查找文本周围的边界框。包围盒的水平边缘的角度θ对应于偏斜度。</p><h1 id="d958" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated"><strong class="ak">旋转分类</strong></h1><p id="e5af" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">旋转是扫描图像中的常见问题。扫描时，文档可以旋转90°或更多。</p><p id="1308" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">可以使用如下CNN模型将图像分为4个象限。但是为什么要加载神经网络，当你可以用算术方法解决它的时候？此外，即使在象限旋转之后，图像也可能保持倾斜。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi pd"><img src="../Images/7e25d53f6cf85a1832ddae5c9d49e8ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pM9wUGyHHed1MGgQXzhn9A.jpeg"/></div></div><p class="my mz gj gh gi na nb bd b be z dk translated">四象限分类的CNN模型</p></figure><p id="cc80" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">可以用上面的歪斜校正代码求θ，旋转。</strong>唯一的缺点是，90+θ的旋转可能被检测为90-θ，而-90-θ可能被检测为-90+θ。<strong class="kk iu">因此，一旦旋转，图像就会翻转！</strong></p><p id="b503" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">原因</strong>:如果旋转90-θ而不是90+θ，那么</p><blockquote class="nl"><p id="4a1a" class="nm nn it bd no np nq nr ns nt nu ld dk">(90-Θ) + (90+Θ) = 180°</p></blockquote><p id="ccd8" class="pw-post-body-paragraph ki kj it kk b kl pe ju kn ko pf jx kq kr pg kt ku kv ph kx ky kz pi lb lc ld im bi translated"><strong class="kk iu">解决方案</strong>:要解决上述问题，<strong class="kk iu">只要把去歪斜的图像传递给文本反转码，如果认为有必要，就把它翻转过来</strong>。</p><h1 id="7262" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated"><strong class="ak">单应</strong></h1><p id="265b" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">比方说<strong class="kk iu">你想在一个包含多个对象的更大的图像中找到一个对象(模板)。我们可以使用带有注释的查询图像的对象检测模型，如SSD或YOLO，来训练要找到的不同类别的对象。但是，我们如何使用简单的数学在更大的图像中找到并定位一个对象呢？</strong></p><p id="fbe4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以使用单应来寻找点对应，并将坐标从一个角度转换到另一个角度。单应性是一种变换(3×3矩阵)，它将一幅图像中的点映射到另一幅图像中的相应点。</p><p id="6034" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些是你可以遵循的步骤。</p><ol class=""><li id="96ad" class="mo mp it kk b kl km ko kp kr mq kv mr kz ms ld mt mu mv mw bi translated">首先，打开模板图像和要匹配的图像。</li><li id="e089" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld mt mu mv mw bi translated">从两幅输入图像中查找所有特征。</li><li id="a294" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld mt mu mv mw bi translated">创建一个ORB关键点检测器，它比SIFT和SURF计算量小。</li><li id="f2f7" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld mt mu mv mw bi translated">使用orb检测器找到关键点及其描述符。</li><li id="a871" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld mt mu mv mw bi translated">创建描述符的匹配，然后根据距离对它们进行排序。</li><li id="ba9e" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld mt mu mv mw bi translated">用cv2.drawMatchesKnn画出所有k个最佳匹配。</li><li id="32eb" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld mt mu mv mw bi translated">从两幅图像中提取匹配的关键点。</li><li id="d6e1" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld mt mu mv mw bi translated">求单应矩阵，做透视变换</li></ol><p id="7dd2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">源代码:</strong></p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="c858" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">匹配输出:</strong></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi pj"><img src="../Images/27e74eed29827fa6a39e00f03beaf7d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F9U6KzelLZXuTC0ikPoz1A.jpeg"/></div></div><p class="my mz gj gh gi na nb bd b be z dk translated">找出匹配点对应关系</p></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/ca329e2d8f8628b61dba8f3bb14bd4a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*4UEpWNk1iQIXBdsaqprrjQ.jpeg"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">透视变换后的对象定位(黑色矩形)</p></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/f140afd5701f04d7f76d233ea68780ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*78s2XBzcyoppjZgedVbuKQ.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">在我的书桌上发现了一本书的要点对应</p></figure><h1 id="14f7" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated"><strong class="ak">对象搜索</strong></h1><p id="3f22" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">比方说，你需要从一组图像中找到一个物体。你可以使用人工智能模型，因为它是图像分类的经典案例。但是，我们能用传统数学来做这个吗？以下是如何…</p><ol class=""><li id="4d8e" class="mo mp it kk b kl km ko kp kr mq kv mr kz ms ld mt mu mv mw bi translated">读取要搜索的对象的图像(查询图像)</li><li id="0fc2" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld mt mu mv mw bi translated">进行Canny边缘检测，并找到轮廓周围的包围盒。</li><li id="c442" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld mt mu mv mw bi translated"><strong class="kk iu">随机抽取“n”个随机点</strong>来描述图像内部的形状。</li><li id="9c23" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld mt mu mv mw bi translated"><strong class="kk iu">迭代</strong>，获取输入文件夹中的所有图片。</li><li id="6486" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld mt mu mv mw bi translated">对每张图片执行步骤2和3。</li><li id="3d4c" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld mt mu mv mw bi translated"><strong class="kk iu">计算“查询图像”的随机形状点与文件夹中每个图像的形状点的相关值</strong>。</li><li id="2a22" class="mo mp it kk b kl ot ko ou kr ov kv ow kz ox ld mt mu mv mw bi translated">找到具有最小相关值的<strong class="kk iu">图像。此图像包含您正在搜索的对象的最接近匹配。</strong></li></ol><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/578f38682f698083553290596dc3085f.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*vCPOYh-ubdNxSfq6I-Cfow.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">相关方程:u和v是要比较的向量</p></figure><p id="8eff" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上述等式从概念上<strong class="kk iu">将相关性表示为平均值</strong>附近偏差的相似性。因此，分子表示分布相似性，分母量化L2范数以进行归一化。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="16a8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">输入图像和查询对象</strong></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi pl"><img src="../Images/af09af373d7b2b863227ab034d60b756.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vgY4Vgl75evFH3c3TU_LoA.jpeg"/></div></div><p class="my mz gj gh gi na nb bd b be z dk translated">不同物体的图像作为输入</p></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/a2b561e7f2d830d54e587854d10963f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*tngjcKLYqZ0IPMebgHvHAQ.jpeg"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">查询图片:小型化分段车</p></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/87cb6feafdbd359ab573fad6501acd57.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*8ySYavTlOS1Hw7prj_k7kg.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">输出:输入图像与查询图像的匹配值比较</p></figure><p id="6225" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意，具有相似形状的不同汽车(紫色)具有第二接近的匹配值，就在红色汽车之后。与其他形状的相关距离明显更大。因此，你可以看到形状匹配是有效的。</p><p id="4761" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意<strong class="kk iu">相关值不会为0，即使是相同的图像，因为随机采样点是为了描述形状</strong>。有其他方法<strong class="kk iu">来描述形状而不需要随机采样</strong>但是形状匹配的时间复杂度会变得更高。其中一种称为<strong class="kk iu">转向功能</strong>的方法描述如下。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/0b121acfc42d092698635d1cfc27edb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*xFcqeXneC7UnAiiKFdkafg.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">左转时增加，右转时减少。边长=曲线长度。</p></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi po"><img src="../Images/514cf3db97c6df398d72565df89f097e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g5EYAYsPZKm2WEbtCFMTCA.png"/></div></div><p class="my mz gj gh gi na nb bd b be z dk translated">求最小Lp范数来度量旋转不变曲线的相似性</p></figure><p id="3a7d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以上所有案例分析的源代码都可以在<a class="ae lq" href="https://github.com/AdroitAnandAI/Computer-Vision-Math-Magic-vs-AI" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu">这里</strong> </a> <strong class="kk iu">找到。</strong></p><h1 id="bc9a" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">结论</h1><p id="3964" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">从上面的案例研究中，你可以看到确定性解决方案比迭代或基于人工智能的解决方案更精确，计算量更小。虽然人工智能可以在许多复杂的任务中表现出色，但谨慎的做法是尝试基于数学的解决方案，并将人工智能作为最后手段。你不需要大锤来敲碎坚果。如果上面的阅读激发了你去欣赏传统技术的美，那么它就达到了目的。</p><p id="465c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> <em class="ne">如有任何疑问或建议，可在此</em> </strong> 联系我  <a class="ae lq" href="https://www.linkedin.com/in/ananduthaman/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu"> <em class="ne"/></strong></a></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/9322da4239c8ef59636cdb9f44e5b6a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*N4Z8rJumg-c7Wcho1QNobg.jpeg"/></div></figure><h1 id="5f27" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated"><strong class="ak">参考文献</strong></h1><p id="5588" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated"><strong class="kk iu"> [1]文本文档图像中的反转检测。</strong> Hamid Pilevar，A. G. Ramakrishnan，电气工程系医学智能和语言工程实验室，<strong class="kk iu">印度科学研究所，Bangalore (JCIS，2006年)</strong></p><p id="6aef" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> [2]形状上下文:一种新的用于形状匹配和物体识别的描述符。塞尔日·贝隆吉、吉滕德拉·马利克和扬·普济查。加州大学伯克利分校电气工程和计算机科学系<strong class="kk iu"/><strong class="kk iu">(NIPS 2000)</strong></strong></p><p id="fee6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">【3】</strong><strong class="kk iu">利用形状上下文进行形状匹配和物体识别。塞尔日·贝隆吉、吉坦德拉·马利克和扬·普济查。<strong class="kk iu">加州大学柏克莱分校计算机科学系(PAMI 2002年)</strong></strong></p><p id="37f0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">【4】</strong><a class="ae lq" href="https://medium.com/machine-learning-world/shape-context-descriptor-and-fast-characters-recognition-c031eac726f9" rel="noopener">https://medium . com/machine-learning-world/shape-context-descriptor-and-fast-characters-recognition-c 031 EAC 726 f 9</a></p><p id="032f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[5]<a class="ae lq" href="https://stackoverflow.com/questions/55654142/detect-if-a-text-image-is-upside-down" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/55654142/detect-if-a-text-image-is-upsided</a></p><p id="15d6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae lq" href="https://github.com/argman/EAST" rel="noopener ugc nofollow" target="_blank">https://github.com/argman/EAST</a></p></div></div>    
</body>
</html>