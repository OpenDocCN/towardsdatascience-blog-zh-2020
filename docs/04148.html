<html>
<head>
<title>Coronavirus, Telemedicine, and Race: Simulated Real-World Evidence</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">冠状病毒、远程医疗和种族:模拟现实世界的证据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/coronavirus-telemedicine-and-race-part-1-simulated-real-world-evidence-9971f553194d?source=collection_archive---------52-----------------------#2020-04-15">https://towardsdatascience.com/coronavirus-telemedicine-and-race-part-1-simulated-real-world-evidence-9971f553194d?source=collection_archive---------52-----------------------#2020-04-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6afd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用合成数据的因果推理教程(第1部分)</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3eacac436529f2b9b6caaa28452e8a5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vos4RdGgMkOZLt2H.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者的玻璃板照片。</p></figure><blockquote class="ky"><p id="dc24" class="kz la it bd lb lc ld le lf lg lh li dk translated">我们会夸大我们的远程医疗应用程序的有效性，声称它将新型冠状病毒感染的风险降低了16.9%——而事实上它只会将这种风险降低3.1%。</p></blockquote><p id="1cae" class="pw-post-body-paragraph lj lk it ll b lm ln ju lo lp lq jx lr ls lt lu lv lw lx ly lz ma mb mc md li im bi translated">考虑一个关于虚假关联的经典例子的适时的假设扭曲:最近，冰淇淋的销量一直在下降——凶杀案的数量也在下降。但这并不是因为吃冰淇淋会让人去杀人。这是因为一项社区范围的就地避难的命令被颁布，以防止一种新的传染性病原体的传播。这个令人困惑的因素降低了冰淇淋的销量和凶杀案的数量；因此产生了虚假的相关性。</p><p id="385d" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">在这个由两部分组成的教程中，我们将研究一个合成数据集，该数据集受到最近一个涉及新冠肺炎种族差异的医疗保健案例的启发(<a class="ae mk" href="https://www.cdc.gov/mmwr/volumes/69/wr/mm6915e3.htm" rel="noopener ugc nofollow" target="_blank">加格等人，2020</a>；<a class="ae mk" href="https://www.npr.org/sections/coronavirus-live-updates/2020/04/08/830030932/cdc-hospital-data-point-to-racial-disparity-in-covid-19-cases" rel="noopener ugc nofollow" target="_blank">奥布里，2020年</a>。(合成数据是模拟的，而不是真实的，通常是为了教授或学习分析工具而创建的数据。)我们将遵循典型的数据科学分析工作流程。</p><p id="4972" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">我们的分析目标将是帮助我们模拟世界中的公共卫生当局减少新型冠状病毒(“冠状病毒”)感染。我们相信我们的<strong class="ll iu">数字健康或远程医疗应用</strong>可以帮助预防新的感染；例如，通过促进健康的生活方式选择——特别是在社交距离和就地庇护时——来降低冠状病毒感染的风险。但是要做到这一点，我们需要一个无偏的或统计上一致的(即，更大样本的无偏性)估计，来估计我们将要进行的干预的真实效果。</p><ul class=""><li id="1465" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li mq mr ms mt bi translated"><strong class="ll iu">辅导目标</strong>:理解因果假设如何改变我们对预测的解释，将它们推向解释。在量化我们的技术解决方案的影响之前，理解为什么需要这样做。</li><li id="ca91" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated"><strong class="ll iu">我们将学到什么</strong>:如何识别建模联想和因果效应之间的区别。如何通过g公式进行因果推理(<a class="ae mk" href="https://www.sciencedirect.com/science/article/pii/0270025586900886" rel="noopener ugc nofollow" target="_blank">罗宾斯，1986</a>；<a class="ae mk" href="https://jech.bmj.com/content/60/7/578.short" rel="noopener ugc nofollow" target="_blank"> Hernán和Robins，2006 </a>)和倾向得分加权(<a class="ae mk" href="https://academic.oup.com/biomet/article/70/1/41/240879" rel="noopener ugc nofollow" target="_blank"> Rosenbaum和Rubin，1983</a>；<a class="ae mk" href="https://link.springer.com/article/10.1023/A:1020371312283" rel="noopener ugc nofollow" target="_blank">平野和伊本，2001</a>；<a class="ae mk" href="https://onlinelibrary.wiley.com/doi/abs/10.1002/sim.1903" rel="noopener ugc nofollow" target="_blank">伦瑟福德和大卫安，2004年</a>。(<a class="ae mk" href="http://bayes.cs.ucla.edu/BOOK-2K/" rel="noopener ugc nofollow" target="_blank"> Pearl's (2009) </a> <em class="me">后门调整公式</em>与g公式密切相关。)</li></ul><p id="656a" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">我们将了解混杂因素如何使我们对假设的远程医疗干预的潜在效果的估计产生偏差。从我们的合成数据中出现的偏差如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/7985233425b5b25b291425194a68d381.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v1-L6rZHFwsEJrOjWaefsg.png"/></div></div></figure><p id="f9cc" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">在第1部分中，我们将分析合成的真实世界证据(RWE)数据。我们将开始了解为什么一般来说，陈述因果机制(例如，有向无环图)和控制所有混杂因素是不够的——假设我们观察了我们数据集中的所有混杂因素。为了估计干预的真正效果大小和方向，我们必须更进一步。这一步使用了总期望法则，这是一个我们实际上一直在使用的简单直观的概念，我们将在第二部分中回顾。</p><p id="878b" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">我们将在<a class="ae mk" rel="noopener" target="_blank" href="/your-coronavirus-telemedicine-health-app-might-be-overrated-29989a9f7343?source=email-8430d9f1992d-1587482396812-layerCake.autoLayerCakeWriterNotification-------------------------166cf834_3f8b_4914_b9c2_31e05a5964bb&amp;sk=80cef577e780551938c40676e27fe3b6">第二部分</a>中通过分析来自一项合成随机对照试验(RCT)的数据得出结论，在该试验中，我们将应用随机分配给所有试验参与者的50%。我们将学习如何使用总期望法则，通过RWE数据进行因果推断。(在RWE和RCT的数据集中，无论其他原因如何，该应用对感染风险的平均影响相同；也就是说，应用程序的使用与其他原因没有相互作用。)具体来说，我们将学习如何应用g公式(也称为“标准化”)和倾向得分加权来估计真实的总体或<em class="me">平均治疗效果</em> (ATE)。</p></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><p id="bf93" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi nh translated">在第1部分中，我们将分析一个具有三个人级变量的合成RWE数据集:<code class="fe nq nr ns nt b">infection</code>状态、<code class="fe nq nr ns nt b">app</code>使用情况和<code class="fe nq nr ns nt b">race</code>(为简单起见，仅黑或白)。</p><ul class=""><li id="60d7" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li mq mr ms mt bi translated"><strong class="ll iu">第1部分目标</strong>:尝试估算应用程序在感染中的使用率，但失败了。我们将ATE指定为感染风险的差异，或<a class="ae mk" href="https://en.wikipedia.org/wiki/Risk_difference" rel="noopener ugc nofollow" target="_blank"> <em class="me">风险差异</em></a>(RD)；具体来说，用户中的风险减去非用户中的风险。</li><li id="ceab" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated"><strong class="ll iu">我们将学习</strong>:如何识别统计对比(如研发)和因果效应之间的差异。混淆了前者和后者，从而错误地估计了ATE，这将对公共卫生产生深远的影响。</li></ul><p id="c7f5" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">我们将以关键的洞察力来结束第一部分，如果我们错误地从相关性中推断出因果关系:</p><p id="7c37" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><strong class="ll iu">我们会夸大我们的远程医疗应用程序的有效性，声称它将新型冠状病毒感染的风险降低了16.9%——而事实上它只会将这种风险降低3.1%。</strong></p></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="21a8" class="nu nv it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">数据集特征</h1><p id="d15a" class="pw-post-body-paragraph lj lk it ll b lm om ju lo lp on jx lr ls oo lu lv lw op ly lz ma oq mc md li im bi translated">观察到的(即非随机化的)RWE数据在表<code class="fe nq nr ns nt b">observational_rwe</code>中。(用附录中的R代码生成这个。)</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="f871" class="ov nv it nt b gy ow ox l oy oz">glimpse(observational_rwe)</span><span id="f92d" class="ov nv it nt b gy pa ox l oy oz">## Observations: 80,000<br/>## Variables: 3<br/>## $ race      &lt;chr&gt; "White", "White", "Black", "White", "White", "White", "Whit…<br/>## $ app       &lt;chr&gt; "used app", "used app", "didn't use app", "used app", "used…<br/>## $ infection &lt;chr&gt; "1. infected", "0. uninfected", "0. uninfected", "0. uninfe…<!-- --> </span></pre><p id="1730" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">每个观察值(即行)代表最初易感和未感染的独特个体。变量及其唯一值如下:</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="9051" class="ov nv it nt b gy ow ox l oy oz">knitr::kable(apply(observational_rwe, 2, unique))<!-- --> </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/6b89caf65e19158dfddb878b7f920da2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nXfm6QfG8Xtp1FxNBylf9Q.png"/></div></div></figure><p id="59dd" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">让我们将数据随机分为80%的训练集用于探索性数据分析(EDA)，20%的维持集用于拟合解释模型(<a class="ae mk" href="https://projecteuclid.org/euclid.ss/1294167961" rel="noopener ugc nofollow" target="_blank"> Shmueli，2010 </a>)进行最终验证/确认分析。</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="4c12" class="ov nv it nt b gy ow ox l oy oz">holdout_proportion &lt;- 0.2<br/>observational_rwe &lt;- observational_rwe %&gt;% dplyr::mutate(rownum = row_number())<br/>set.seed(2004120322)<br/>observational_rwe_training &lt;- observational_rwe %&gt;% dplyr::sample_frac(1 - holdout_proportion)<br/>observational_rwe_holdout &lt;- observational_rwe %&gt;% dplyr::filter(!(rownum %<strong class="nt iu">in</strong>%<br/>  observational_rwe_training$rownum))<br/><br/><em class="me"># clean up: remove rownum</em><br/>observational_rwe$rownum &lt;- NULL<br/>observational_rwe_training$rownum &lt;- NULL<br/>observational_rwe_holdout$rownum &lt;- NULL<!-- --> </span></pre><p id="7249" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">有64000个训练观察和16000个保持观察。</p></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="9862" class="nu nv it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">探索性数据分析</h1><h2 id="bbcb" class="ov nv it bd nw pc pd dn oa pe pf dp oe ls pg ph og lw pi pj oi ma pk pl ok pm bi translated">单变量关联</h2><p id="d398" class="pw-post-body-paragraph lj lk it ll b lm om ju lo lp on jx lr ls oo lu lv lw op ly lz ma oq mc md li im bi translated"><strong class="ll iu">相关矩阵</strong></p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="d08a" class="ov nv it nt b gy ow ox l oy oz">dummy_rwe_training &lt;- observational_rwe_training %&gt;%<br/>  dplyr::mutate(<br/>    race = (race == "White"),<br/>    app = (app == "used app"),<br/>    infection = (infection == "1. infected")<br/>  )<br/>knitr::kable(round(cor(dummy_rwe_training), 4))<!-- --> </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/73f2494fae6a11614052fc0d49e6e909.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yNQFgnkbZxgWhdnOj8jlsw.png"/></div></div></figure><p id="1d82" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><code class="fe nq nr ns nt b">corrplot::corrplot.mixed(cor(dummy_rwe_training))</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/4e93d76360e548a54fed82a68a91ba13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iDn5zb1Nz10f-9Ns.png"/></div></div></figure><p id="14f6" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">即使在这个简单的相关矩阵中，也已经有了未来挑战的迹象。你能认出他们吗？</p><p id="fb91" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><strong class="ll iu">按应用使用分类的感染(边际模型)</strong></p><p id="80fd" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">让我们检查一下我们的主要利益关系。</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="deea" class="ov nv it nt b gy ow ox l oy oz">observational_rwe_training %&gt;%<br/>  ggplot2::ggplot(ggplot2::aes(x = app, fill = infection)) +<br/>  ggplot2::theme_classic() +<br/>  ggplot2::geom_bar(position = "dodge") +<br/>  ggplot2::ggtitle("Infections by App Usage")<!-- --> </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/619916f3ea0aeb806db68c3fa9419131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pgf1no0b_54PUt0H.png"/></div></div></figure><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="05d9" class="ov nv it nt b gy ow ox l oy oz">df_rwe_training &lt;- with(<br/>  observational_rwe_training,<br/>  cbind(<br/>    table(app, infection),<br/>    prop.table(table(app, infection), margin = 1) # row proportions<br/>  )<br/>)<br/>knitr::kable(df_rwe_training) # row proportions</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/309e13f325183421c81c3dd4ed8df49c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Div6eu4RCP89Gsn31kH4Q.png"/></div></div></figure><p id="8a6e" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">应用程序用户的感染率(即经验或观察到的感染风险)较低:只有9.1%的用户感染了病毒，而非用户的感染率为27.7%。经验RD是0.091 - 0.277 = -0.186，这是一个统计意义上的<em class="me">边际</em>量，因为它没有考虑(即“被边缘化”)任何其他变量。除了潜在的干预(这里是应用程序使用)之外，还考虑了其他变量(这里是种族)的模型被称为<em class="me">条件</em>模型。</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="2a6c" class="ov nv it nt b gy ow ox l oy oz">out_fisher_rwe_training &lt;- with(<br/>  observational_rwe_training,<br/>  fisher.test(app, infection)<br/>)<br/>out_fisher_rwe_training</span><span id="4814" class="ov nv it nt b gy pa ox l oy oz">## <br/>##  Fisher's Exact Test for Count Data<br/>## <br/>## data:  app and infection<br/>## p-value &lt; 2.2e-16<br/>## alternative hypothesis: true odds ratio is not equal to 1<br/>## 95 percent confidence interval:<br/>##  0.2493633 0.2749802<br/>## sample estimates:<br/>## odds ratio <br/>##  0.2618449<!-- --> </span></pre><p id="3773" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">此外，有强有力的统计证据(即，统计显著性)表明感染因应用使用而异(p_EDA &lt;&lt; 0.001). Here, the estimated odds of infection for app users were only 0.262 (i.e., roughly a quarter) that of non-users, with an EDA 95% confidence interval (CI) of (0.249, 0.275).</p><ul class=""><li id="582b" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li mq mr ms mt bi translated"><strong class="ll iu">统计显著性并不意味着重要性</strong>:这一强有力的统计证据并不令人惊讶。RWE数据的典型样本越大，对结果均值中逐渐变小的差异提供的估计就越好(即，对于任何给定的具有有限均值和方差的结果分布集)。这与这些差异的领域(例如，科学、临床、研究、商业)有用性无关。</li><li id="5430" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated"><strong class="ll iu">相关性并不意味着因果关系</strong>:这一发现并不意味着使用应用程序会降低感染风险。像这样的统计发现不能暗示因果关系。统计结果是因果关系的暗示，而不是相反。但是它应该促使我们进一步调查，并且应该与随后的发现和假说一起评估，以帮助解释这种联系是如何产生的。</li></ul><p id="2582" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><strong class="ll iu">按种族分列的感染情况</strong></p><p id="ae64" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">种族似乎在某种程度上与感染有关。</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="8c88" class="ov nv it nt b gy ow ox l oy oz">observational_rwe_training %&gt;%<br/>  ggplot2::ggplot(ggplot2::aes(x = race, fill = infection)) +<br/>  ggplot2::theme_classic() +<br/>  ggplot2::geom_bar(position = "dodge") +<br/>  ggplot2::ggtitle("Infections by Race")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/365946064e7f726fdd666551ecb77f6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iS-Wi9pwZ_bkvmzi.png"/></div></div></figure><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="69eb" class="ov nv it nt b gy ow ox l oy oz">df_rwe_training_race_infection &lt;- with(<br/>  observational_rwe_training,<br/>  cbind(<br/>    table(race, infection),<br/>    prop.table(table(race, infection), margin = 1) # row proportions<br/>  )<br/>)<br/>knitr::kable(df_rwe_training_race_infection) # row proportions</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/306331c605347c9a1a47a6ce86b4b246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qahAgSXM4bORov-3wrLdyg.png"/></div></div></figure><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="be8d" class="ov nv it nt b gy ow ox l oy oz">out_fisher_rwe_training_race_infection &lt;- with(<br/>  observational_rwe_training,<br/>  fisher.test(race, infection)<br/>)<br/>out_fisher_rwe_training_race_infection</span><span id="0ad9" class="ov nv it nt b gy pa ox l oy oz">## <br/>##  Fisher's Exact Test for Count Data<br/>## <br/>## data:  race and infection<br/>## p-value &lt; 2.2e-16<br/>## alternative hypothesis: true odds ratio is not equal to 1<br/>## 95 percent confidence interval:<br/>##  0.1147125 0.1272759<br/>## sample estimates:<br/>## odds ratio <br/>##  0.1208232<!-- --> </span></pre><p id="37e6" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">非裔美国人比白人更有可能被感染(按种族划分的应用使用情况)</p><p id="d42e" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">重要的是，种族似乎与应用程序的使用密切相关。</p><p id="24de" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">非裔美国人使用该应用的可能性低于白人(p_EDA &lt;&lt; 0.001): Only 27.2% of African Americans used the app, compared to 88.2% of Whites. Put differently, the estimated odds of using the app for Whites were 20.001 (95% CI_EDA: 18.956, 21.108) times that of African Americans.</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="8cd1" class="ov nv it nt b gy ow ox l oy oz">observational_rwe_training %&gt;%<br/>  ggplot2::ggplot(ggplot2::aes(x = race, fill = app)) +<br/>  ggplot2::theme_classic() +<br/>  ggplot2::geom_bar(position = "dodge") +<br/>  ggplot2::ggtitle("App Usage by Race")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/a7101b2e17fb1044c555703d5373a532.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wbDj1r5uTI13OyXx.png"/></div></div></figure><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="4fcd" class="ov nv it nt b gy ow ox l oy oz">df_rwe_training_race_app &lt;- with(<br/>  observational_rwe_training,<br/>  cbind(<br/>    table(race, app),<br/>    prop.table(table(race, app), margin = 1) # row proportions<br/>  )<br/>)<br/>knitr::kable(df_rwe_training_race_app) # row proportions</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/3e6b0d6ea1f3d5ad277cbdd69f3403f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c2ujPYT0e-PS9X23fYO1DA.png"/></div></div></figure><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="e2d8" class="ov nv it nt b gy ow ox l oy oz">out_fisher_rwe_training_race_app &lt;- with(<br/>  observational_rwe_training,<br/>  fisher.test(race, app)<br/>)<br/>out_fisher_rwe_training_race_app</span><span id="2f26" class="ov nv it nt b gy pa ox l oy oz">## <br/>##  Fisher's Exact Test for Count Data<br/>## <br/>## data:  race and app<br/>## p-value &lt; 2.2e-16<br/>## alternative hypothesis: true odds ratio is not equal to 1<br/>## 95 percent confidence interval:<br/>##  18.95585 21.10802<br/>## sample estimates:<br/>## odds ratio <br/>##   20.00128</span></pre><p id="5fb1" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">This finding is plausible also due to structural inequality. For example, suppose our app was only available on iPhone. African Americans are less likely than Whites to own iPhones (e.g., page 7 of <a class="ae mk" href="http://boletines.prisadigital.com/PIP_Smartphone_adoption_2013.pdf" rel="noopener ugc nofollow" target="_blank"> Smith，2013 </a>)，这将限制他们对该应用的访问。一般来说，非裔美国人也更难获得远程医疗服务。</p><p id="bc73" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><strong class="ll iu">解释性建模的含义</strong></p><p id="6189" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">这些发现暗示了我们应该如何估计ATE？种族会影响应用程序的使用和感染风险吗？如果是这样的话，种族将会是一个混杂因素——这意味着我们早先的边际研发估计不足以作为ate的估计。(我们将在稍后的<a class="ae mk" rel="noopener" target="_blank" href="/your-coronavirus-telemedicine-health-app-might-be-overrated-29989a9f7343?source=email-8430d9f1992d-1587482396812-layerCake.autoLayerCakeWriterNotification-------------------------166cf834_3f8b_4914_b9c2_31e05a5964bb&amp;sk=80cef577e780551938c40676e27fe3b6">第二部分</a>中看到如何实现，以及为什么会这样。)</p><p id="61d1" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">变量选择</p><h2 id="4f36" class="ov nv it bd nw pc pd dn oa pe pf dp oe ls pg ph og lw pi pj oi ma pk pl ok pm bi translated"><strong class="ll iu">预测建模</strong></h2><p id="93fa" class="pw-post-body-paragraph lj lk it ll b lm om ju lo lp on jx lr ls oo lu lv lw op ly lz ma oq mc md li im bi translated">假设我们决定拟合一个预测模型。我们认为这可能有助于我们决定是否应该在我们的最终解释模型中包括种族(除了应用程序的使用)。我们将用logit link(即对应于逻辑回归)拟合10重交叉验证的岭正则化广义线性模型(GLM)。</p><p id="223c" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">我们将选择<code class="fe nq nr ns nt b">app</code>而不管它的系数大小，因为它是我们潜在的干预。不过，我们注意到，自动搜索按系数大小排序的重要预测指标，会使<code class="fe nq nr ns nt b">race</code>的排名高于<code class="fe nq nr ns nt b">app</code>。我们想知道这样的程序怎么可能从我们所做的其他分析中排除系数较小的真正原因——这些原因对于推荐行动方案很重要。</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="6a5c" class="ov nv it nt b gy ow ox l oy oz">set.seed(2004110254)<br/>glmnet_rwe_training &lt;- glmnet::cv.glmnet(<br/>  x = model.matrix(<br/>    object = infection ~ app + race,<br/>    data = observational_rwe_training<br/>  ),<br/>  y = observational_rwe_training$infection,<br/>  family = "binomial",<br/>  type.measure = "auc",<br/>  alpha = 0 # ridge: https://web.stanford.edu/~hastie/glmnet/glmnet_alpha.html<br/>)<br/>glmnet_rwe_training$glmnet_preds &lt;- as.numeric(<br/>  predict(<br/>    object = glmnet_rwe_training,<br/>    newx = model.matrix(<br/>      object = infection ~ app + race,<br/>      data = observational_rwe_training<br/>    ),<br/>    s = glmnet_rwe_training$lambda.min,<br/>    type = "response"<br/>  )<br/>)<br/>glmnet_ROC_rwe_training &lt;- pROC::roc(<br/>  response = observational_rwe_training$infection,<br/>  predictor = glmnet_rwe_training$glmnet_preds<br/>)<br/>coef_glmnet_rwe_training &lt;- coef(glmnet_rwe_training)<br/>plot(glmnet_ROC_rwe_training)<!-- --> </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/b9f64fb1d1d48d323d3274d4247da2de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Tq8l6QWn5fupoKfW.png"/></div></div></figure><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="903a" class="ov nv it nt b gy ow ox l oy oz">glmnet_ROC_rwe_training$auc # training set cross-validated AUC</span><span id="b62f" class="ov nv it nt b gy pa ox l oy oz">## Area under the curve: 0.6954</span><span id="ed3b" class="ov nv it nt b gy pa ox l oy oz">coef_glmnet_rwe_training</span><span id="afbb" class="ov nv it nt b gy pa ox l oy oz">## 4 x 1 sparse Matrix of class "dgCMatrix"<br/>##                        1<br/>## (Intercept) -1.900132655<br/>## (Intercept)  .          <br/>## appused app -0.001874018<br/>## raceWhite   -0.003428336<!-- --> </span></pre><p id="5921" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">重要的是，请注意受试者操作特征(ROC)曲线(AUC)下的面积并不是特别大，即使存在app使用对感染风险的<strong class="ll iu">真实比率</strong>。我们使用模拟参数和模型(见附录)将ate计算为-0.031。(我们将在<a class="ae mk" rel="noopener" target="_blank" href="/your-coronavirus-telemedicine-health-app-might-be-overrated-29989a9f7343?source=email-8430d9f1992d-1587482396812-layerCake.autoLayerCakeWriterNotification-------------------------166cf834_3f8b_4914_b9c2_31e05a5964bb&amp;sk=80cef577e780551938c40676e27fe3b6">第二部分</a>中推导出这个计算方法。)这个ATE的大小适中；因此AUC不大。</p><p id="a6ab" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><strong class="ll iu">“解释还是预测？”</strong>这些发现强调了(<a class="ae mk" href="https://projecteuclid.org/euclid.ss/1294167961" rel="noopener ugc nofollow" target="_blank"> Shmueli，2010 </a>)中关于预测和解释的不同目标、程序和属性的要点。</p><p id="326e" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><strong class="ll iu">解释性建模的含义</strong></p><p id="ebdb" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">由于其相对较大的预测系数，我们决定在最终解释模型中保留<code class="fe nq nr ns nt b">race</code>，即使在控制了<code class="fe nq nr ns nt b">app</code>之后。</p><p id="12ba" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">提出解释模型</p><h2 id="c012" class="ov nv it bd nw pc pd dn oa pe pf dp oe ls pg ph og lw pi pj oi ma pk pl ok pm bi translated">解释性模型是由因果模型和统计模型组成的领域假设。</h2><p id="b11f" class="pw-post-body-paragraph lj lk it ll b lm om ju lo lp on jx lr ls oo lu lv lw op ly lz ma oq mc md li im bi translated">我们将使用我们的拒绝数据来验证或确认统计模型。</p><ul class=""><li id="88c8" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li mq mr ms mt bi translated">我们无法仅使用我们的RWE数据(培训或抵制)来验证或确认因果模型。我们需要进行一项实验或RCT来做这件事，或者从科学文献中提供支持我们提出的因果模型的证据。</li><li id="250e" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">我们<em class="me">可以</em>——也应该！—清楚地陈述我们假设为真的因果模型。这是科学交流的一个关键部分:它帮助读者在采取进一步行动之前正确地解释和评估我们的发现。</li><li id="bb9d" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">为了用期望的统计能力和证据水平来拟合解释性统计模型，我们还需要指定样本大小。</li></ul><p id="f0fd" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><strong class="ll iu">因果模型</strong></p><p id="90ad" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">根据我们的发现，我们提出以下因果模型，形式化为有向无环图(DAG) ( <a class="ae mk" href="http://bayes.cs.ucla.edu/BOOK-2K/" rel="noopener ugc nofollow" target="_blank"> Pearl，2009 </a>):</p><p id="1668" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">应用使用→感染</p><ol class=""><li id="c887" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li pq mr ms mt bi translated">种族→感染</li><li id="a75b" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li pq mr ms mt bi translated">比赛→应用程序使用</li><li id="8aaa" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li pq mr ms mt bi translated">在这里，种族混淆了应用程序使用对感染的影响。</li></ol><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="805f" class="ov nv it nt b gy ow ox l oy oz">DiagrammeR::grViz("<br/>digraph causal {<br/><br/>  # Nodes<br/>  node [shape = plaintext]<br/>  Z [label = 'Race']<br/>  X [label = 'App \n Usage']<br/>  Y [label = 'Infection']<br/><br/>  # Edges<br/>  edge [color = black,<br/>        arrowhead = vee]<br/>  rankdir = LR<br/>  X -&gt; Y<br/>  Z -&gt; X<br/>  Z -&gt; Y<br/><br/>  # Graph<br/>  graph [overlap = true]<br/>}")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/088287a5b9fe2a9d1ab24550e5fb0d55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*Nd7sJjYQeIWs8Px47AKLzQ.png"/></div></figure><p id="c541" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><strong class="ll iu">统计模型和样本量</strong></p><p id="d772" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">根据我们的DAG，将感染风险建模为种族和应用程序使用的函数是有意义的。我们提出以下逻辑模型。</p><p id="61d4" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">应用程序用户的估计感染几率为非用户的exp(-0.343)= 0.709(95% CI _ EDA:0.666，0.756)倍(不考虑种族)。按种族划分的应用程序使用的相应估计感染风险如下:</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="84f9" class="ov nv it nt b gy ow ox l oy oz">glm_rwe_training &lt;- glm(<br/>  data = observational_rwe_training,<br/>  formula = as.factor(infection) ~ app + race,<br/>  family = "binomial"<br/>)<br/>summary(glm_rwe_training)$coefficients</span><span id="350c" class="ov nv it nt b gy pa ox l oy oz">##               Estimate Std. Error   z value     Pr(&gt;|z|)<br/>## (Intercept) -0.2280908 0.02278461 -10.01074 1.367266e-23<br/>## appused app -0.3432987 0.03249127 -10.56588 4.289439e-26<br/>## raceWhite   -1.9073638 0.03260492 -58.49926 0.000000e+00<!-- --> </span></pre><p id="1a3a" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">不使用该应用程序的非洲裔美国人为0.443</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="c82a" class="ov nv it nt b gy ow ox l oy oz">risk_didnt_use_app_black_training &lt;- plogis(coef(glm_rwe_training) %*% c(1, 0, 0))<br/>risk_used_app_black_training &lt;- plogis(coef(glm_rwe_training) %*% c(1, 1, 0))<br/>risk_didnt_use_app_white_training &lt;- plogis(coef(glm_rwe_training) %*% c(1, 0, 1))<br/>risk_used_app_white_training &lt;- plogis(coef(glm_rwe_training) %*% c(1, 1, 1))<!-- --> </span></pre><ul class=""><li id="ead9" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li mq mr ms mt bi translated">使用该应用程序的非洲裔美国人为0.361</li><li id="ab7b" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">不使用该应用程序的白人为0.106</li><li id="d3cb" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">使用该应用程序的白人为0.077</li><li id="e09e" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">为了在α= 0.05的总体统计证据水平下用80%的统计功效估计非裔美国人的RD，所需的样本量为:</li></ul><p id="260b" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">每个应用使用群体中的556名非裔美国人(即用户或非用户)</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="1c76" class="ov nv it nt b gy ow ox l oy oz"># https://cran.r-project.org/web/packages/pwr/vignettes/pwr-vignette.html<br/>sample_size_black &lt;- ceiling(<br/>  pwr::pwr.2p.test(<br/>    h = pwr::ES.h(p1 = risk_used_app_black_training, p2 = risk_didnt_use_app_black_training),<br/>    sig.level = 0.025,<br/>    power = .80,<br/>    alternative = "less"<br/>  )$n<br/>)<br/>sample_size_white &lt;- ceiling(<br/>  pwr::pwr.2p.test(<br/>    h = pwr::ES.h(p1 = risk_used_app_white_training, p2 = risk_didnt_use_app_white_training),<br/>    sig.level = 0.025,<br/>    power = .80,<br/>    alternative = "less"<br/>  )$n<br/>)<!-- --> </span></pre><ul class=""><li id="0d5f" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li mq mr ms mt bi translated">每个应用程序使用组中有1617名白人</li><li id="a14c" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">请注意，这些数字是单边假设测试，即在每个种族群体中，应用程序用户的感染风险低于非用户<em class="me">。他们通过要求两个单独的统计假设检验中的每一个都满足统计证据的α= 0.025水平来调整<a class="ae mk" href="https://en.wikipedia.org/wiki/Multiple_comparisons_problem" rel="noopener ugc nofollow" target="_blank">多重检验</a>(即多重比较、多重性)。</em></li></ul><p id="347d" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">解释性建模(验证/确认)</p></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="0932" class="nu nv it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">回想一下，我们的维持数据集有16000个观察值。</h1><p id="aa42" class="pw-post-body-paragraph lj lk it ll b lm om ju lo lp on jx lr ls oo lu lv lw op ly lz ma oq mc md li im bi translated">按应用使用分类的感染(边际模型)</p><h2 id="0bd1" class="ov nv it bd nw pc pd dn oa pe pf dp oe ls pg ph og lw pi pj oi ma pk pl ok pm bi translated">让我们首先检查我们的主要利益关系，就像我们对训练数据所做的那样。</h2><p id="e6ed" class="pw-post-body-paragraph lj lk it ll b lm om ju lo lp on jx lr ls oo lu lv lw op ly lz ma oq mc md li im bi translated">和以前一样，应用程序用户的感染率较低:只有9%的用户受到感染，而非用户的感染率为26%。维持经验RD为-0.169，类似于训练经验RD为-0.186。</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="ea87" class="ov nv it nt b gy ow ox l oy oz">observational_rwe_holdout %&gt;%<br/>  ggplot2::ggplot(ggplot2::aes(x = app, fill = infection)) +<br/>  ggplot2::theme_classic() +<br/>  ggplot2::geom_bar(position = "dodge") +<br/>  ggplot2::ggtitle("Infections by App Usage")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/36be1c789384f5050a9e70307fd852c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Cfgr6-0UoMGZBXFs.png"/></div></div></figure><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="aa2c" class="ov nv it nt b gy ow ox l oy oz">df_rwe_holdout &lt;- with(<br/>  observational_rwe_holdout,<br/>  cbind(<br/>    table(app, infection),<br/>    prop.table(table(app, infection), margin = 1) # row proportions<br/>  )<br/>)<br/>knitr::kable(df_rwe_holdout) # row proportions<!-- --> </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/88dfc959f4960263a59a5d73a6c9dd6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S1L7c4lbDtVhn3rTAFO8iQ.png"/></div></div></figure><p id="142e" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">解释性模型</p><h2 id="3d25" class="ov nv it bd nw pc pd dn oa pe pf dp oe ls pg ph og lw pi pj oi ma pk pl ok pm bi translated"><strong class="ll iu">检查样本量</strong></h2><p id="9eea" class="pw-post-body-paragraph lj lk it ll b lm om ju lo lp on jx lr ls oo lu lv lw op ly lz ma oq mc md li im bi translated">对于每个应用程序的使用和种族组合，我们有足够大的样本来满足我们的统计能力和证据要求吗？</p><p id="98f6" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">是的:每个应用程序使用群体中至少有556名非裔美国人，同样至少有1617名白人。</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="9929" class="ov nv it nt b gy ow ox l oy oz">observational_rwe_holdout %&gt;%<br/>  ggplot2::ggplot(ggplot2::aes(x = race, fill = app)) +<br/>  ggplot2::theme_classic() +<br/>  ggplot2::geom_bar(position = "dodge") +<br/>  ggplot2::ggtitle("App Usage by Race")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/42041675235cb09088d0813b80b6d625.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IiaTsHR02B7l3xOx.png"/></div></div></figure><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="c580" class="ov nv it nt b gy ow ox l oy oz">df_rwe_holdout_race_app &lt;- with(<br/>  observational_rwe_holdout,<br/>  cbind(<br/>    table(race, app),<br/>    prop.table(table(race, app), margin = 1) # row proportions<br/>  )<br/>)<br/>knitr::kable(df_rwe_holdout_race_app) # row proportions<!-- --> </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/1019bd1fc51ffb3e1260cecf4090ad01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kwlbb5boa1f8H1Mo-MYjww.png"/></div></div></figure><p id="3529" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><strong class="ll iu">拟合统计模型</strong></p><p id="09a2" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">基于我们提出的因果和统计模型，我们符合以下逻辑模型。</p><p id="b677" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">在对种族进行控制后，有很好的统计证据(p &lt; 0.001)表明应用程序使用和感染之间的关联。这证实了我们的训练数据发现。也有非常有力的统计证据(p &lt;&lt;&lt; 0.001)表明种族与感染风险有关。具体来说，白人感染的估计几率是非洲裔美国人的exp(-1.934) = 0.145倍(95% CI: 0.127，0.165)(不考虑应用程序的使用)。</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="ec2a" class="ov nv it nt b gy ow ox l oy oz">glm_rwe_holdout &lt;- glm(<br/>  data = observational_rwe_holdout,<br/>  formula = as.factor(infection) ~ app + race,<br/>  family = "binomial"<br/>)<br/>summary(glm_rwe_holdout)$coefficients</span><span id="58ec" class="ov nv it nt b gy pa ox l oy oz">##               Estimate Std. Error    z value      Pr(&gt;|z|)<br/>## (Intercept) -0.3220348 0.04608849  -6.987316  2.801938e-12<br/>## appused app -0.2316567 0.06680031  -3.467899  5.245447e-04<br/>## raceWhite   -1.9344662 0.06675370 -28.979159 1.204740e-184<!-- --> </span></pre><p id="53d1" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">应用程序用户感染的估计几率为非用户(不考虑种族)的exp(-0.232) = 0.793倍(95% CI: 0.696，0.905)。按种族划分的应用程序使用的相应估计感染风险如下:</p><p id="d170" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">不使用该应用程序的非洲裔美国人为0.42</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="8d66" class="ov nv it nt b gy ow ox l oy oz">risk_didnt_use_app_black_holdout &lt;- plogis(coef(glm_rwe_holdout) %*% c(1, 0, 0))<br/>risk_used_app_black_holdout &lt;- plogis(coef(glm_rwe_holdout) %*% c(1, 1, 0))<br/>risk_didnt_use_app_white_holdout &lt;- plogis(coef(glm_rwe_holdout) %*% c(1, 0, 1))<br/>risk_used_app_white_holdout &lt;- plogis(coef(glm_rwe_holdout) %*% c(1, 1, 1))<!-- --> </span></pre><ul class=""><li id="5e0b" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li mq mr ms mt bi translated">使用该应用程序的非洲裔美国人为0.365</li><li id="61c6" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">不使用该应用程序的白人为0.095</li><li id="aace" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">使用该应用程序的白人为0.077</li><li id="2822" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">按种族估计的RDs为:</li></ul><p id="aa54" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">非裔美国人-0.055 (95%置信区间:-0.083，-0.025)</p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="764a" class="ov nv it nt b gy ow ox l oy oz">rwe_holdout_rd_black &lt;- risk_used_app_black_holdout - risk_didnt_use_app_black_holdout<br/>rwe_holdout_rd_white &lt;- risk_used_app_white_holdout - risk_didnt_use_app_white_holdout<br/>confint_glm_rwe_holdout &lt;- confint(glm_rwe_holdout) # 95% CIs: odds ratios of infection<br/>rwe_holdout_rd_ci_black &lt;- c(<br/>  plogis(confint_glm_rwe_holdout[, 1] %*% c(1, 1, 0)) - plogis(confint_glm_rwe_holdout[, 1] %*% c(1, 0, 0)),<br/>  plogis(confint_glm_rwe_holdout[, 2] %*% c(1, 1, 0)) - plogis(confint_glm_rwe_holdout[, 2] %*% c(1, 0, 0))<br/>)<br/>rwe_holdout_rd_ci_white &lt;- c(<br/>  plogis(confint_glm_rwe_holdout[, 1] %*% c(1, 1, 1)) - plogis(confint_glm_rwe_holdout[, 1] %*% c(1, 0, 1)),<br/>  plogis(confint_glm_rwe_holdout[, 2] %*% c(1, 1, 1)) - plogis(confint_glm_rwe_holdout[, 2] %*% c(1, 0, 1))<br/>)<!-- --> </span></pre><ul class=""><li id="24b7" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li mq mr ms mt bi translated">-0.018 (95%置信区间:-0.022，-0.01)</li><li id="84a3" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">结论和公共卫生影响</li></ul></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="32b3" class="nu nv it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">我们如何估计-0.031的真实ate？</h1><p id="a356" class="pw-post-body-paragraph lj lk it ll b lm om ju lo lp on jx lr ls oo lu lv lw op ly lz ma oq mc md li im bi translated">尝试1:抵制经验风险差异</p><h2 id="971d" class="ov nv it bd nw pc pd dn oa pe pf dp oe ls pg ph og lw pi pj oi ma pk pl ok pm bi translated">我们可以简单地使用-0.169(即一个边际量)的维持经验RD作为我们的ATE估计值吗？</h2><p id="b25d" class="pw-post-body-paragraph lj lk it ll b lm om ju lo lp on jx lr ls oo lu lv lw op ly lz ma oq mc md li im bi translated">在我们的合成数据中，种族通过设计混淆了应用程序使用对感染风险的假定影响。将维持经验RD误认为ate估计值的<strong class="ll iu">真实偏差</strong>正好是-0.169 - -0.031 = -0.138。</p><p id="0f0a" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">这突出了一个关键点:</p><p id="2a0c" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><strong class="ak"> <em class="px">假设我们把这个经验RD误认为是对ate的估计。我们不知道的是，</em> </strong> <em class="px"> </em>在我们的模拟世界中<strong class="ak"> <em class="px">我们会夸大我们的远程医疗应用的有效性，声称它降低了16.9%的新型冠状病毒感染风险——而事实上它只会降低3.1%的风险。</em>T11】</strong></p><blockquote class="ky"><p id="acfe" class="kz la it bd lb lc ps pt pu pv pw li dk translated">一些公共卫生影响包括:</p></blockquote><p id="056d" class="pw-post-body-paragraph lj lk it ll b lm ln ju lo lp lq jx lr ls lt lu lv lw lx ly lz ma mb mc md li im bi translated">卫生当局将浪费宝贵的几周时间来部署我们的应用程序并评估其有效性。在此期间，本可以实施更有希望的解决方案。更多的人将成为新感染者，否则他们可能会幸免于难。</p><ul class=""><li id="bead" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li mq mr ms mt bi translated">医院、政府机构和企业在制定计划时会错误地预计感染率会下降16.9%。</li><li id="8865" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">尝试二:(未完待续……)</li></ul><h2 id="cf06" class="ov nv it bd nw pc pd dn oa pe pf dp oe ls pg ph og lw pi pj oi ma pk pl ok pm bi translated">我们可以用我们的解释模型来估计ate吗？毕竟，我们把种族作为一个混杂因素。我们的种族特异性RDs估计值是否为-0.031的真实ate估计值？不幸的是，答案是否定的:ATE是所有其他变量的平均风险差<em class="me">。(这是一个边际量，不是有条件的量。)</em></h2><p id="8076" class="pw-post-body-paragraph lj lk it ll b lm om ju lo lp on jx lr ls oo lu lv lw op ly lz ma oq mc md li im bi translated">那么，我们能否将ate估计为这些估计RDs的加权平均值？幸运的是，是的:g公式确实做到了这一点，我们将在<a class="ae mk" rel="noopener" target="_blank" href="/your-coronavirus-telemedicine-health-app-might-be-overrated-29989a9f7343?source=email-8430d9f1992d-1587482396812-layerCake.autoLayerCakeWriterNotification-------------------------166cf834_3f8b_4914_b9c2_31e05a5964bb&amp;sk=80cef577e780551938c40676e27fe3b6">第2部分</a>中学习。我们将应用g公式来估计ATE——以及另一种流行的方法，称为倾向得分加权。</p><p id="9f3b" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">但首先，我们将了解RCT如何让我们以统计一致或无偏的方式估计ate。</p><p id="85fd" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">参考</p></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="56db" class="nu nv it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">Aubrey A. CDC医院的数据指出了新冠肺炎案例中的种族差异。NPR。美国东部时间2020年4月8日下午2:43。<a class="ae mk" href="https://www.npr.org/sections/coronavirus-live-updates/2020/04/08/830030932/cdc-hospital-data-point-to-racial-disparity-in-covid-19-cases" rel="noopener ugc nofollow" target="_blank">NPR . org/sections/coronavirus-live-updates/2020/04/08/830030932/CDC-hospital-data-point-to-racial-disparity-in-新冠肺炎-cases </a></h1><ul class=""><li id="d56f" class="ml mm it ll b lm om lp on ls py lw pz ma qa li mq mr ms mt bi translated">Garg S年实验室确认的冠状病毒疾病住院患者的住院率和特征-COVID-NET，14个州，2020年3月1日至30日。MMWR。发病率和死亡率周报。2020;69.<a class="ae mk" href="https://www.cdc.gov/mmwr/volumes/69/wr/mm6915e3.htm" rel="noopener ugc nofollow" target="_blank">cdc.gov/mmwr/volumes/69/wr/mm6915e3.htm</a></li><li id="3911" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">埃尔南·马，罗宾斯·JM。根据流行病学数据估计因果效应。流行病学与社区健康杂志。2006年7月1日；60(7):578–86.<a class="ae mk" href="https://jech.bmj.com/content/60/7/578.short" rel="noopener ugc nofollow" target="_blank">jech.bmj.com/content/60/7/578.short</a></li><li id="932d" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">平野K，Imbens GW。使用倾向评分加权估计因果效应:对右心导管插入术数据的应用。健康服务和结果研究方法。2001年12月1日；2(3–4):259–78.https://link.springer.com/article/10.1023/A:1020371312283<a class="ae mk" href="https://link.springer.com/article/10.1023/A:1020371312283" rel="noopener ugc nofollow" target="_blank"/></li><li id="afdf" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">通过倾向评分评估因果治疗效果的分层和加权:一项比较研究。医学统计学。2004年10月15日；23(19):2937–60.【https://onlinelibrary.wiley.com/doi/abs/10.1002/sim.1903 T4】</li><li id="d2e6" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">珀尔j .因果关系。剑桥大学出版社；2009年9月14日。<a class="ae mk" href="http://bayes.cs.ucla.edu/BOOK-2K/" rel="noopener ugc nofollow" target="_blank">bayes.cs.ucla.edu/BOOK-2K/</a></li><li id="61ff" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">持续暴露期死亡率研究中因果推断的新方法——健康工人幸存者效应控制的应用。数学建模。1986年1月1日；7(9–12):1393–512.<a class="ae mk" href="https://www.sciencedirect.com/science/article/pii/0270025586900886" rel="noopener ugc nofollow" target="_blank">sciencedirect.com/science/article/pii/0270025586900886</a></li><li id="7344" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">罗森鲍姆公关，鲁宾DB。倾向评分在因果效应观察研究中的核心作用。Biometrika。1983年4月1日；70(1):41–55.<a class="ae mk" href="https://academic.oup.com/biomet/article/70/1/41/240879" rel="noopener ugc nofollow" target="_blank">academic.oup.com/biomet/article/70/1/41/240879</a></li><li id="bb3e" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">智能手机的所有权-2013年更新。DC华盛顿:皮尤研究中心；2013年6月5日。<a class="ae mk" href="http://boletines.prisadigital.com/PIP_Smartphone_adoption_2013.pdf" rel="noopener ugc nofollow" target="_blank">boletines.prisadigital.com/PIP_Smartphone_adoption_2013.pdf</a></li><li id="b364" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">解释还是预测？。统计科学。2010;25(3):289–310.<a class="ae mk" href="https://projecteuclid.org/euclid.ss/1294167961" rel="noopener ugc nofollow" target="_blank">projecteuclid.org/euclid.ss/1294167961</a></li><li id="8aec" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">附录</li></ul></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="1ce1" class="nu nv it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">RWE模拟参数和数据生成模型</h1><h2 id="cdc6" class="ov nv it bd nw pc pd dn oa pe pf dp oe ls pg ph og lw pi pj oi ma pk pl ok pm bi translated"><strong class="ll iu">特征分布</strong></h2><p id="55fe" class="pw-post-body-paragraph lj lk it ll b lm om ju lo lp on jx lr ls oo lu lv lw op ly lz ma oq mc md li im bi translated">种族:根据美国人口普查，白人的概率被设定为Pr(<em class="me">Z</em>= 1)=<em class="me">π_ Z</em>= 0.8560091。</p><p id="ffa3" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><strong class="ll iu">结果模型</strong></p><p id="8f84" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><em class="me">部分因果模型</em></p><p id="c06c" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">种族和应用程序的使用都会影响感染风险。部分DAG是:</p><p id="2c59" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">应用使用(X) →感染(Y)</p><ol class=""><li id="daa9" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li pq mr ms mt bi translated">种族(Z) →感染(Y)</li><li id="8098" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li pq mr ms mt bi translated">这是不全面的，因为我们还没有具体说明应用程序的使用和种族是如何关联的。</li></ol><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="9416" class="ov nv it nt b gy ow ox l oy oz">DiagrammeR::grViz("<br/>digraph causal {<br/><br/>  # Nodes<br/>  node [shape = plaintext]<br/>  X [label = 'App \n Usage \n (X)']<br/>  Z [label = 'Race \n (Z)']<br/>  Y [label = 'Infection \n (Y)']<br/><br/>  # Edges<br/>  edge [color = black,<br/>        arrowhead = vee]<br/>  rankdir = LR<br/>  X -&gt; Y<br/>  Z -&gt; Y<br/><br/>  # Graph<br/>  graph [overlap = true]<br/>}")<!-- --> </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qb"><img src="../Images/1b3517000d821f3b5db9c2f32f93fd1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*hLUXRTdrvCPJBfS7PZzAvw.png"/></div></figure><p id="a187" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><em class="me">统计模型</em></p><p id="8168" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">应用程序用户(X=1)的感染风险低于非用户(X=0)。</p><ul class=""><li id="b564" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li mq mr ms mt bi translated">由于结构性不平等(例如，更好的医疗服务、更高的社会经济地位、更少的潜在健康状况)，白人(Z=1)的感染风险低于非裔美国人(Z=0)。</li><li id="ff5a" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">这些统计关系由逻辑模型描述</li></ul><p id="9b68" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">其中β_ 0 =-0.2381882，β_ X =-0.3，β_ Z =-1.9469256。因此，给定种族和应用程序使用的感染概率为</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qc"><img src="../Images/d54559ab5371b26505b4fd6607042923.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*rc6SYhzzBzJ9usxLtpaq_w.png"/></div></figure><p id="2221" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">特别是，感染风险是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qd"><img src="../Images/0a325b1224743550ca74ad1723e37245.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*LtUkmdRTv7nr1NH8ak6ZkQ.png"/></div></figure><p id="a2fc" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">对于不使用该应用程序的非裔美国人，Pr(Y=1|X=0，Z=0) = 0.441</p><ul class=""><li id="6184" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li mq mr ms mt bi translated">使用该应用程序的非裔美国人的Pr(Y=1|X=1，Z=0) = 0.369</li><li id="c09c" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">对于不使用该应用程序的白人，Pr(Y=1|X=0，Z=1) = 0.101</li><li id="eccd" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">对于使用该应用程序的白人，Pr(Y=1|X=1，Z=1) = 0.077</li><li id="d87b" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li mq mr ms mt bi translated">我选择这些参数值来反映截至2020年4月10日的已知情况，正如最近一个涉及新冠肺炎种族差异的医疗保健案例中所报告的那样(<a class="ae mk" href="https://www.cdc.gov/mmwr/volumes/69/wr/mm6915e3.htm" rel="noopener ugc nofollow" target="_blank"> Garg等人，2020</a>；<a class="ae mk" href="https://www.npr.org/sections/coronavirus-live-updates/2020/04/08/830030932/cdc-hospital-data-point-to-racial-disparity-in-covid-19-cases" rel="noopener ugc nofollow" target="_blank">奥布里，2020 </a>)和<a class="ae mk" href="https://www.washingtonpost.com/news/powerpost/paloma/the-health-202/2020/04/09/the-health-202-los-angeles-is-racing-to-discover-the-true-coronavirus-infection-rate/5e8de70588e0fa101a75e13d/" rel="noopener ugc nofollow" target="_blank">这篇华盛顿邮报的文章</a>。模拟中仿真的表是:</li></ul><p id="65bb" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><strong class="ll iu">倾向模型:应用使用</strong></p><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="5a2a" class="ov nv it nt b gy ow ox l oy oz">a &lt;- round((1 - prInfectionGivenBlack) * prBlack, 3)<br/>b &lt;- round(prBlackGivenInfection * prInfection, 3)<br/>c &lt;- round((1 - prInfectionGivenWhite) * prWhite, 3)<br/>d &lt;- round(prWhiteGivenInfection * prInfection, 3)<br/>knitr::kable(<br/>  dplyr::tribble(<br/>    ~Race, ~Uninfected, ~Infected, ~`Row Total`,<br/>    "Black", a, b, a + b,<br/>    "White", c, d, c + d,<br/>    "Column Total", a + c, b + d, a + b + c + d<br/>  )<br/>)<!-- --> </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qe"><img src="../Images/3afb3c861385dba64c985d8d3f7e1fbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xmbOtf0yCpC5SS_fL9-tdA.png"/></div></div></figure><p id="31a2" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><em class="me">部分因果模型</em></p><p id="4d83" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">种族影响应用使用。例如，假设我们的应用程序只能在iPhone上使用，而非裔美国人比白人更不可能拥有iPhone(例如，<a class="ae mk" href="http://boletines.prisadigital.com/PIP_Smartphone_adoption_2013.pdf" rel="noopener ugc nofollow" target="_blank"> Smith，2013 </a>第7页)。此外，假设非裔美国人很难获得远程医疗服务，因此往往不太了解这类应用程序。</p><p id="8da3" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">也就是说，部分DAG是:</p><p id="7e03" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">比赛(Z) →应用程序使用(X)</p><ol class=""><li id="df47" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li pq mr ms mt bi translated"><em class="me">统计模型</em></li></ol><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="c32b" class="ov nv it nt b gy ow ox l oy oz">DiagrammeR::grViz("<br/>digraph causal {<br/><br/>  # Nodes<br/>  node [shape = plaintext]<br/>  Z [label = 'Race \n (Z)']<br/>  X [label = 'App \n Usage \n (X)']<br/><br/>  # Edges<br/>  edge [color = black,<br/>        arrowhead = vee]<br/>  rankdir = LR<br/>  Z -&gt; X<br/><br/>  # Graph<br/>  graph [overlap = true]<br/>}")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qf"><img src="../Images/2c818661c193d581774394760ee24b05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*rMAzPKHgr0v6mEwy6ewT0w.png"/></div></figure><p id="6f24" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">白人比非裔美国人更有可能使用这款应用。这种统计关系由逻辑模型描述</p><p id="7f76" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">其中α_ 0 =-1，α_ Z = 3。因此，给定种族使用该应用的概率为</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qg"><img src="../Images/6cf3c67f729d7786b58e0f3c54a2e2bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*XflJ8jxrkFoZVjv8GXOSPw.png"/></div></figure><p id="fe02" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">特别是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qh"><img src="../Images/ea85f273db5f372cc7c28039e7c7c409.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*HLO3wIBZaIw6Dn3Rp2axyg.png"/></div></figure><p id="ac0b" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">Pr(X=1|Z=0) x 100 = 26.9%的非洲裔美国人使用该应用程序</p><ol class=""><li id="ff4f" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li pq mr ms mt bi translated">Pr(X=1|Z=1) x 100 = 88.1%的白人使用该应用程序</li><li id="8ffa" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li pq mr ms mt bi translated"><strong class="ll iu">因果模型</strong></li></ol><p id="7001" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">完整的DAG是:</p><p id="2709" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated">应用使用(X) →感染(Y)</p><ol class=""><li id="46d6" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp li pq mr ms mt bi translated">种族(Z) →感染(Y)</li><li id="ca5d" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li pq mr ms mt bi translated">比赛(Z) →应用程序使用(X)</li><li id="efc7" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my li pq mr ms mt bi translated">RWE模拟R代码</li></ol><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="b9fc" class="ov nv it nt b gy ow ox l oy oz">DiagrammeR::grViz("<br/>digraph causal {<br/><br/>  # Nodes<br/>  node [shape = plaintext]<br/>  X [label = 'App \n Usage \n (X)']<br/>  Z [label = 'Race \n (Z)']<br/>  Y [label = 'Infection \n (Y)']<br/><br/>  # Edges<br/>  edge [color = black,<br/>        arrowhead = vee]<br/>  rankdir = LR<br/>  X -&gt; Y<br/>  Z -&gt; Y<br/>  Z -&gt; X<br/><br/>  # Graph<br/>  graph [overlap = true]<br/>}")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qi"><img src="../Images/19223aef2d3bf26281c445e94b847c7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*z8uSMuq6LYJcAQfQD7yNxA.png"/></div></figure><h2 id="31a7" class="ov nv it bd nw pc pd dn oa pe pf dp oe ls pg ph og lw pi pj oi ma pk pl ok pm bi translated">关于作者</h2><pre class="kj kk kl km gt or nt os ot aw ou bi"><span id="f7ef" class="ov nv it nt b gy ow ox l oy oz">##### Set simulation parameters<br/><br/><br/><br/>### Preliminaries<br/>random_seed &lt;- 2004101447<br/>sample_size_observational &lt;- 80000<br/><br/><br/><br/>### Feature distribution<br/>piZ &lt;- 0.755 / (0.755 + 0.127) # race (based on U.S. Census)<br/><br/><br/><br/>### Outcome model<br/><br/># beta0 and betaZ are derived from:<br/>#   https://www.cdc.gov/mmwr/volumes/69/wr/mm6915e3.htm<br/>#   https://www.npr.org/sections/coronavirus-live-updates/2020/04/08/830030932/cdc-hospital-data-point-to-racial-disparity-in-covid-19-cases<br/>#   https://www.washingtonpost.com/news/powerpost/paloma/the-health-202/2020/04/09/the-health-202-los-angeles-is-racing-to-discover-the-true-coronavirus-infection-rate/5e8de70588e0fa101a75e13d/<br/><br/>prInfection &lt;- 0.15<br/>prBlack &lt;- 1 - piZ<br/>prWhite &lt;- piZ<br/>prBlackGivenInfection &lt;- 33 / (33 + 45)<br/>prWhiteGivenInfection &lt;- 1 - prBlackGivenInfection<br/>prInfectionGivenBlack &lt;- prBlackGivenInfection * prInfection / prBlack<br/>prInfectionGivenWhite &lt;- prWhiteGivenInfection * prInfection / prWhite<br/><br/>beta0 &lt;- log(prInfectionGivenBlack / (1 - prInfectionGivenBlack)) # baseline: infection risk for <!-- -->African American<!-- -->s who don't use app<br/>betaX &lt;- -0.3<br/>betaZ &lt;- log(prInfectionGivenWhite / (1 - prInfectionGivenWhite)) - beta0 # average influence of being White on infection risk<br/><br/><br/><br/>### Propensity model: app usage<br/>alpha0_observational &lt;- -1 # observational real-world evidence: baseline probability of using app for <!-- -->African American<!-- -->s<br/>alphaZ_observational &lt;- 3 # observational real-world evidence: average influence of being White on probability of using app<br/><br/><br/><br/><br/><br/>##### Generate data.<br/>set.seed(random_seed)<br/>observational_rwe &lt;- dplyr::tibble(<br/>  race = rbinom(n = sample_size_observational, size = 1, prob = piZ),<br/>  app = rbinom(n = sample_size_observational, size = 1, prob = plogis(alpha0_observational + alphaZ_observational * race)),<br/>  infection = rbinom(n = sample_size_observational, size = 1, prob = plogis(beta0 + betaX * app + betaZ * race))<br/>) %&gt;%<br/>  dplyr::mutate(<br/>    race = ifelse(race == 1, "White", ifelse(race == 0, "Black", NA)),<br/>    app = ifelse(app == 1, "used app", ifelse(app == 0, "didn't use app", NA)),<br/>    infection = ifelse(infection == 1, "1. infected", ifelse(infection == 0, "0. uninfected", NA))<br/>  )</span></pre></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="5eca" class="nu nv it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">Daza博士是一名生物统计学家和健康数据科学家，而不是流行病学家，他为个性化(n-of-1)数字健康开发因果推断方法。| ericjdaza.com<a class="ae mk" href="https://www.ericjdaza.com/" rel="noopener ugc nofollow" target="_blank">🇵🇭🇺🇸</a>T2】@埃里克森T4】linkedin.com/in/ericjdaza|<a class="ae mk" href="https://statsof1.org/" rel="noopener ugc nofollow" target="_blank">statsof1.org</a><a class="ae mk" href="https://twitter.com/statsof1" rel="noopener ugc nofollow" target="_blank">@ stats of</a><a class="ae mk" href="https://twitter.com/fsbiostats" rel="noopener ugc nofollow" target="_blank">@ fsbiostats</a></h1><p id="ed74" class="pw-post-body-paragraph lj lk it ll b lm om ju lo lp on jx lr ls oo lu lv lw op ly lz ma oq mc md li im bi translated">版权2020埃里克·j·达扎和Stats-1。保留所有权利。</p><p id="f92a" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><em class="me">职位也可在</em><a class="ae mk" href="https://rpubs.com/ericjdaza/599497" rel="noopener ugc nofollow" target="_blank"><em class="me">https://rpubs.com/ericjdaza/599497</em></a><em class="me">获得。</em></p><p id="d5dd" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi translated"><strong class="ll iu"> <em class="me">编者注:</em> </strong> <em class="me"> </em> <a class="ae mk" href="http://towardsdatascience.com/" rel="noopener" target="_blank"> <em class="me">走向数据科学</em> </a> <em class="me">是一份以研究数据科学和机器学习为主的中型刊物。我们不是健康专家或流行病学家，本文的观点不应被解释为专业建议。想了解更多关于疫情冠状病毒的信息，可以点击</em> <a class="ae mk" href="https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports" rel="noopener ugc nofollow" target="_blank"> <em class="me">这里</em> </a> <em class="me">。</em></p></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><p id="5722" class="pw-post-body-paragraph lj lk it ll b lm mf ju lo lp mg jx lr ls mh lu lv lw mi ly lz ma mj mc md li im bi"><strong class="ll iu"><em class="me">Note from the editors:</em></strong><em class="me"> </em><a class="ae mk" href="http://towardsdatascience.com/" rel="noopener" target="_blank"><em class="me">Towards Data Science</em></a><em class="me"> is a Medium publication primarily based on the study of data science and machine learning. We are not health professionals or epidemiologists, and the opinions of this article should not be interpreted as professional advice. To learn more about the coronavirus pandemic, you can click </em><a class="ae mk" href="https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports" rel="noopener ugc nofollow" target="_blank"><em class="me">here</em></a><em class="me">.</em></p></div></div>    
</body>
</html>