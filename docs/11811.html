<html>
<head>
<title>What Are the “plt” and “ax” in Matplotlib Exactly?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Matplotlib 中的“plt”和“ax”到底是什么？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-are-the-plt-and-ax-in-matplotlib-exactly-d2cf4bf164a9?source=collection_archive---------0-----------------------#2020-08-16">https://towardsdatascience.com/what-are-the-plt-and-ax-in-matplotlib-exactly-d2cf4bf164a9?source=collection_archive---------0-----------------------#2020-08-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/bcb3eab0f0047bf2de6b821222d190ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*96aQ7iumYC9R0f6BBD586w.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图像由<a class="ae jg" href="https://pixabay.com/users/Mediamodifier-1567646/" rel="noopener ugc nofollow" target="_blank"> Mediamodifier </a>在<a class="ae jg" href="https://pixabay.com/illustrations/graph-diagram-growth-written-report-3033203/#" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上生成</p></figure><div class=""/><div class=""><h2 id="650f" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">在纸上绘图，还是在纸上的单元格中绘图？</h2></div><p id="e161" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">事实上，作为最流行和最基本的数据可视化库，Matplotlib 从某些角度来看有点令人困惑。通常是看到有人问起</p><ul class=""><li id="461a" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">什么时候应该用“斧子”？</li><li id="2e7d" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">为什么有些例子用“plt ”,而另一些用“ax ”?</li><li id="b53e" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">两者有什么区别？</li></ul><p id="403a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">网上有那么多例子向人们展示如何使用 Matplotlib 绘制这种图表或那种图表，这很好，但我很少看到有教程提到“为什么”。这可能会让编程经验比较少或者是从 R 之类的其他语言切换过来的人变得非常困惑。</p><p id="3679" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我不会教你使用 Matplotlib 绘制任何特定的图表，但会尝试解释关于 Matplotlib 的基本但重要的内容——人们通常使用的“plt”和“ax”是什么。</p><h1 id="3105" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">概念</h1><figure class="na nb nc nd gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/3bd13676df0e52c159eeba37dff00f80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vbfDaI-FT-zV53i5dkBByA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://pixabay.com/users/AbsolutVision-6158753/" rel="noopener ugc nofollow" target="_blank">absolute vision</a>在<a class="ae jg" href="https://pixabay.com/photos/offset-printing-cmyk-printing-3862769/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄的照片</p></figure><p id="686d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">澄清一下，我说的“plt”，在 Matplotlib 库中是不存在的。之所以叫“plt”是因为大部分 Python 程序员喜欢导入 Matplotlib，做一个别名叫“plt”，这个我相信你应该知道，但是以防万一。</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="68f6" class="nj mj jj nf b gy nk nl l nm nn">import matplotlib.pyplot as plt</span></pre><p id="469e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，回到我们的主要话题。让我们画一个简单的图表来演示一下。</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="8aab" class="nj mj jj nf b gy nk nl l nm nn">import numpy as np</span><span id="995a" class="nj mj jj nf b gy no nl l nm nn">plt.plot(np.random.rand(20))<br/>plt.title('test title')<br/>plt.show()</span></pre><figure class="na nb nc nd gt iv gh gi paragraph-image"><div class="gh gi np"><img src="../Images/bd38269a1f80ecbc40ecdcddc9443521.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*zxvxtqmcl9rFVj5yN4pNjA.png"/></div></figure><p id="0ae6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如上面注释的截图所示，当我们使用<code class="fe nq nr ns nf b">plt</code>绘制图形时:</p><ol class=""><li id="c0a5" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt nt ma mb mc bi translated">生成一个<code class="fe nq nr ns nf b">Figure</code>对象(显示为绿色)</li><li id="0107" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt nt ma mb mc bi translated">一个<code class="fe nq nr ns nf b">Axes</code>对象被生成<strong class="la jk">隐式</strong>带有绘制的折线图(显示为红色)</li><li id="036a" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt nt ma mb mc bi translated">所有绘图元素，如 x 轴和 y 轴，都呈现在<code class="fe nq nr ns nf b">Axes</code>对象内(显示为蓝色)</li></ol><p id="0d5e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">好吧，如果我们在这里使用某种隐喻:</p><ul class=""><li id="63d5" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><code class="fe nq nr ns nf b">Figure</code>就像一张纸，你可以画任何你想画的东西</li><li id="72b4" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">我们要在一个“单元格”里画一个图表，在这个上下文里就是<code class="fe nq nr ns nf b">Axes</code></li><li id="cd75" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">如果我们只画一个图形，我们不必先画一个“单元格”，只要在纸上简单地画就行了。所以，我们可以用<code class="fe nq nr ns nf b">plt.plot(...)</code>。</li></ul><h1 id="4eea" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">明确地画出“细胞”</h1><figure class="na nb nc nd gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/218bf96e4e723af9663b9cef63490422.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q3sA9xLAJDN-IKSFAjbuIw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://pixabay.com/users/LUM3N-1066559/" rel="noopener ugc nofollow" target="_blank"> LUM3N </a>在<a class="ae jg" href="https://pixabay.com/photos/climber-plant-garden-ivy-background-1932751/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄</p></figure><p id="5617" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，我们可以在“纸上”明确地画一个“单元格”，告诉 Matplotlib 我们要在这个单元格内画一个图表。然后，我们有下面的代码。</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="d116" class="nj mj jj nf b gy nk nl l nm nn">fig, ax = plt.subplots()<br/>ax.plot(np.random.rand(20))<br/>ax.set_title('test title')<br/>plt.show()</span></pre><figure class="na nb nc nd gt iv gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/f832cdccf29685268f7c783c8e4a4e80.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*eBqSAQLysS5J2iSnrQT9Ng.png"/></div></figure><p id="2c3e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">完全一样的结果。唯一的区别是我们显式地绘制了“单元格”，这样我们就可以得到<code class="fe nq nr ns nf b">Figure</code>和<code class="fe nq nr ns nf b">Axes</code>对象。</p><figure class="na nb nc nd gt iv gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/e2668ed61e21f623bd27156be22d893d.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*KG4hx_wdIXyXmhnBgAExGQ.png"/></div></figure><p id="4607" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">事实上，当我们只想绘制一个图形时，没有必要“画”这个单元格。但是，你必须注意，当我们想要在一个图中绘制多个图形时，我们必须这样做。换句话说，次要情节。</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="aee0" class="nj mj jj nf b gy nk nl l nm nn">n_rows = 2<br/>n_cols = 2</span><span id="7fc6" class="nj mj jj nf b gy no nl l nm nn">fig, axes = plt.subplots(n_rows, n_cols)<br/>for row_num in range(n_rows):<br/>    for col_num in range(n_cols):<br/>        ax = axes[row_num][col_num]<br/>        ax.plot(np.random.rand(20))<br/>        ax.set_title(f'Plot ({row_num+1}, {col_num+1})')</span><span id="bddb" class="nj mj jj nf b gy no nl l nm nn">fig.suptitle('Main title')<br/>fig.tight_layout()<br/>plt.show()</span></pre><figure class="na nb nc nd gt iv gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/f2abead1ba04c62f12b78b3cdd03024a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*vgf6FPj5kll-f-dzxn84Dw.png"/></div></figure><p id="3e5e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个代码片段中，我们首先声明了我们想要“绘制”多少行和列。2 乘 2 意味着我们要画 4 个“单元格”。</p><figure class="na nb nc nd gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nx"><img src="../Images/232988b9eace20d1d717bb6084a6b2da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e-rKh8uy8UaK84ZGxW5R1Q.png"/></div></div></figure><p id="3fdf" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，在每个单元格中，我们绘制一个随机折线图，并根据其行号和列号分配一个标题。请注意，我们使用的是<code class="fe nq nr ns nf b">Axes</code>实例。</p><p id="dbda" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">之后，我们在“论文”上定义一个“主标题”，就是<code class="fe nq nr ns nf b">Figure</code>实例。所以，我们有了这个不属于任何“细胞”的超级标题，而是在纸上。</p><p id="3e1d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，在调用<code class="fe nq nr ns nf b">show()</code>方法之前，我们需要请求“paper”——<code class="fe nq nr ns nf b">Figure</code>实例——通过调用它的<code class="fe nq nr ns nf b">tight_layout()</code>方法自动在单元格之间给出足够的填充。否则，</p><h1 id="b6a7" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">摘要</h1><figure class="na nb nc nd gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/6742a9ad839babd0696074fb1ef3631e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bMzxmifn0AqdBw-jcCFZ-A.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://pixabay.com/users/bodobe-1222375/" rel="noopener ugc nofollow" target="_blank">博多贝</a>在<a class="ae jg" href="https://pixabay.com/photos/painting-pencils-pens-watercolour-911804/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄的照片</p></figure><p id="340d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">希望现在你能更好地理解什么是人们正在使用的<code class="fe nq nr ns nf b">plt</code>和<code class="fe nq nr ns nf b">ax</code>。</p><p id="78b7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">基本上，<code class="fe nq nr ns nf b">plt</code>是大多数人常用的<code class="fe nq nr ns nf b">matplotlib.pyplot</code>的别名。当我们使用<code class="fe nq nr ns nf b">plt</code>比如<code class="fe nq nr ns nf b">plt.line(...)</code>绘制东西时，我们隐式地在<code class="fe nq nr ns nf b">Figure</code>对象中创建了一个<code class="fe nq nr ns nf b">Figure</code>实例和一个<code class="fe nq nr ns nf b">Axes</code>。当我们只想画一个图形时，这完全没问题，而且非常方便。</p><p id="1d23" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，我们可以显式调用<code class="fe nq nr ns nf b">plt.subplots()</code>来获得<code class="fe nq nr ns nf b">Figure</code>对象和<code class="fe nq nr ns nf b">Axes</code>对象，以便对它们做更多的事情。当我们想在一个<code class="fe nq nr ns nf b">Figure</code>上绘制多个支线剧情时，通常需要使用这种方法。</p><p id="5b9e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，这里是 Matplotlib 官方 API 对<code class="fe nq nr ns nf b">Figure</code>和<code class="fe nq nr ns nf b">Axes</code>类的参考。强烈建议你去看看，自己尝试一些方法，以确保你理解得更深。</p><div class="is it gp gr iu ny"><a href="https://matplotlib.org/api/axes_api.html?highlight=axes#matplotlib.axes.Axes" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd jk gy z fp od fr fs oe fu fw ji bi translated">Matplotlib . axes-Matplotlib 3 . 3 . 1 文档</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">实例通过实例的回调属性支持回调。您可以连接到的事件有…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">matplotlib.org</p></div></div></div></a></div><div class="is it gp gr iu ny"><a href="https://matplotlib.org/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd jk gy z fp od fr fs oe fu fw ji bi translated">Matplotlib . figure . figure-Matplotlib 3 . 3 . 1 文档</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">所有绘图元素的顶层容器。Figure 实例通过回调属性支持回调…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">matplotlib.org</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om ja ny"/></div></div></a></div><div class="is it gp gr iu ny"><a href="https://medium.com/@qiuyujx/membership" rel="noopener follow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd jk gy z fp od fr fs oe fu fw ji bi translated">通过我的推荐链接加入 Medium 克里斯托弗·陶</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">medium.com</p></div></div><div class="oh l"><div class="on l oj ok ol oh om ja ny"/></div></div></a></div><p id="7d6b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你觉得我的文章有帮助，请考虑加入 Medium 会员来支持我和成千上万的其他作者！(点击上面的链接)</p></div></div>    
</body>
</html>