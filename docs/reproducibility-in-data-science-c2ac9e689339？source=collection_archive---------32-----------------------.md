# 数据科学中的再现性

> 原文：<https://towardsdatascience.com/reproducibility-in-data-science-c2ac9e689339?source=collection_archive---------32----------------------->

![](img/0a94bdcd5ed8a72c2691ee9e8251e463.png)

[西蒙朱](https://unsplash.com/@smnzhu?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍照

## 它的意义超乎你的想象

作为一种追求，科学的核心一直是可复制性。毕竟，如果一个关于物质世界的主张被提出，而证据并不支持这样的主张，不管这个想法有多少意识形态或既得利益推动它，你都没有理由相信它。在我们生活的这个看似后真相的世界里，政客、媒体和社交媒体上的声音传播着各种不诚实的信息，让*可复制*声明对你的诚信有利。作为一名数据科学家，这是你工作的一部分。

我认为数据科学中的再现性不如更成熟的科学领域中的再现性那样容易理解。例如，一项研究可以阐明一个或两个与测试两个或更多组之间的平均差异有关的简单主张。例子包括…

1.  治疗 A 与安慰剂治疗 B 相比有统计学显著差异吗？
2.  暴露在不同长度刺激下的群体会表现出不同的结果吗？
3.  治疗的效果有多大？

由于通常存在对统计显著性[结果](http://elsevier.com/connect/scientists-we-want-your-negative-results-too)的发表偏见，如果一些研究的目标是重复其他研究已经完成的内容，那么这些研究就不会被发表。然而，当它们被执行时，如果它们在相似的输入下没有得出相同的结论，那么它就对最初的声明产生了怀疑。这项研究没有被复制。

在**结构工程**(我的第一个职业)领域，我们使用一种可再现的形式来验证其他人完成的设计。通常一个工程师会负责设计一座桥梁，这是一个非常复杂的混凝土和钢块。如果你从来没有出去过，这里有一张照片。

![](img/8e0fce3cc64a42c80c91d189914a99a4.png)

克里斯托弗·伯恩斯在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

看起来很复杂吧？那位工程师的设计在交给承包商施工之前经过了多次仔细审查。通常在检查过程中，另一个工程师会给出相同的初始输入，进行平行设计，然后他们交换意见。相同的潜在现象，但由两个独立的工程师得出。任何差异通常都突出了原始设计中的低效率，或者关于桥梁应该如何建模的分歧点。目标是通过**再现性**达成共识。

## 什么是再现性？

与我们讨论的简单获得相同结果相比，再现性有更多的**维度**。掌握了所有这些方面，你的工作就更有可能对人们有用，并被用来影响更高层次的决策。让我们探索一下

## 相同的代码

您的代码应该被很好地记录，并且应该实际运行。去想想。这里有两个成功的主要因素

1.  **依赖管理**——你如何管理第三方软件包，它们是否被主动维护，版本是否被锁定？您对系统级依赖关系有强大的控制吗？
2.  **环境管理** —你用什么语言版本构建你的产品？应用程序环境会使用相同的吗？

在数据科学咨询角色中，很多时候这两个部分被忽略了，后来当客户交付变得更加重要时才被添加进来。这两者都是至关重要的，因为您应该预料到分析将在不同于编写代码的机器上运行，或者在其他人精心设计的环境中执行，并且您如何保证他们具有与您相同的包需求、系统依赖性和语言版本的历史？

## 相同的数据

[*数据版本化*](https://realpython.com/python-data-version-control/) 越来越流行了。c [ookie cutter 数据科学](https://drivendata.github.io/cookiecutter-data-science/)框架内置了一个松散版本。例如，在 cookie cutter 中，数据被分为来自第三方来源的**原始数据**、**中间数据**、**已处理数据**和**外部数据**。这种分割数据的直观方式可以帮助您讲述数据转换的故事，从原始格式转换成可以分析的格式。使用数据版本化围绕任何数据转换构建一个叙述将允许您与利益相关者一起验证您的逻辑是合理的，您的数据是可信的。这种分析可以扩展，甚至可以根据需要恢复，这允许您拥有与 git 提供的代码相同的敏捷性，但现在是在数据中。

## 相同的随机数

你在你的机器学习管道中使用随机[种子](https://opendatascience.com/properly-setting-the-random-seed-in-ml-experiments-not-as-simple-as-you-might-imagine/)吗？它们允许在构建管线时快速解决问题，因为它们在模型输出中引入了再现性。当你使用带有随机效果的学习算法时，这一点尤其重要，比如神经网络或随机森林。当训练/测试分割、交叉验证或优化发生时，随机数将始终是机器学习工作流的一部分。你可以用种子号来控制它们。把这些种子数字想象成控制一个**混杂**变量，随机误差。如果你不使用种子，那么你不知道模型输出的变化，标准误差，重要性等等。是由于随机效应还是由于**超参数**的变化。为了确保这种随机性在您构建产品时至少是暂时一致的，那么设置随机种子可以控制和消除您的 ML 管道中的随机偏差。

## 相同的故事

现在我们已经完成了上述所有步骤，我们希望确保我们的工作产生持久的影响。我们希望确保我们得出的结论能够在利益相关者的头脑中复制和持续。我们不希望我们的观众只是点点头，而不采取任何行动。是什么让这些想法以一种有效的方式坚持下来？

*故事*。无论是你的主管、客户还是首席执行官，围绕数据构建一个令人信服的故事是实现这一目标的最有效方式。我们的祖先通过这种方式传递知识，因为它是有效的。什么都没变，还能用。

这也是再现性和**可解释性**之间的联系。围绕你的数据和模型讲述一个故事，并解释它为什么做出预测(例如使用特征重要性或 [SHAP](https://github.com/slundberg/shap) 值)会让你的结论在人们的脑海中重现。这种想法之所以能站住脚，是因为你传达了一个令人信服的故事，人们知道他们为什么应该关注它，将复杂的数学提炼为丰富和可操作的东西。这是科学的艺术。当所有这些结合在一起时，这真是一个美丽的组合。

## 概括起来

可复制性的意义何在？不仅能让人们运行相同的代码并得到相似的结果，还能让他们得出相同的结论，并让这些结论在磁盘上和人类记忆中持续存在。不要把可再现性仅仅局限于虚拟环境，甚至分析结论，这是一个更丰富、更重要的概念。

需要思考的事情:如何在自己的项目中引入更多的可复制性？

感谢您阅读本文！我希望它能让你大开眼界，增长见识。如果你有任何问题或者只是想拓展你的人脉，请随时在 Linkedin 上与我联系。