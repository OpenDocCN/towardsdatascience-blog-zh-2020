<html>
<head>
<title>Multiple Linear Regression</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">多元线性回归</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/multiple-linear-regression-51352d687ecb?source=collection_archive---------6-----------------------#2020-03-10">https://towardsdatascience.com/multiple-linear-regression-51352d687ecb?source=collection_archive---------6-----------------------#2020-03-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="16be" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">线性回归模型开发过程概述。</h2></div><h1 id="569f" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">介绍</h1><p id="e657" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">本文的目的是总结使用基本示例数据集创建多元线性回归模型所需采取的步骤。根据解释性和描述性分析，流程中可能包括许多不同的步骤。因此，本文可能不会通过示例详细介绍线性回归的某些方面，例如使用山脊、套索或弹性网或对数变换进行正则化。说到这里，我会尽我所能的解释从数据转换、探索到模型选择和评估的所有可能的步骤。这个想法是，当我们有一个可以通过创建线性回归模型来解决的业务问题时，我们可以参考这篇文章来涵盖这个过程中的大多数步骤。</p><p id="09ab" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们将要使用的数据集是众所周知的，并且已经在统计学和数据科学的学术项目中被引用。对这个数据集最流行的引用来自电影《摇钱树》。它为我们提供了棒球队在给定年份的表现。用于分析的问题陈述是“我们能否用团队表现的每个记录的给定属性来预测团队的获胜次数？”</p><p id="d712" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">每个变量的简短描述如下:</p><p id="c839" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">* *索引:标识变量(不使用)</p><p id="8e21" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">**TARGET_WINS:获胜次数</p><p id="6090" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">**TEAM_BATTING_H:击球手的安打数(1B、2B、3B、HR)</p><p id="9de8" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">* *击球队:击球手双打(2B)</p><p id="af0a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">* *队:击球手的三连击(3B)</p><p id="759f" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">**TEAM_BATTING_HR:击球手的本垒打(4B)</p><p id="a058" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">**TEAM_BATTING_BB:击球手保送</p><p id="609a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">**TEAM_BATTING_HBP:击球手投球命中(获得免费垒位)</p><p id="36ae" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">**TEAM_BATTING_SO:击球手三振出局</p><p id="236a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">**TEAM_BASERUN_SB:盗垒</p><p id="1d2a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">**TEAM_BASERUN_CS:偷窃被抓</p><p id="6f55" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">**TEAM_FIELDING_E:错误</p><p id="d264" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">**TEAM_FIELDING_DP:双杀</p><p id="0250" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">* *团队 _ 投球 _BB:允许保送</p><p id="bf5b" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">**TEAM_PITCHING_H:允许击中</p><p id="78a1" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">**TEAM_PITCHING_HR:允许本垒打</p><p id="63d1" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">**TEAM_PITCHING_SO:投手三振出局</p><p id="7ab2" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们从导入开始，加载数据集、包和一些描述性分析。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/8a370950241cc8576dd02ba23dbbb7b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*VaTR605dckN7-zCVC8RAWQ.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mj"><img src="../Images/69a04f82d735ba5ab224cddf7b7b08d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*svrvgBxOlZyuH-tUYTftWA.jpeg"/></div></div></figure><p id="179d" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">基本的描述性统计数据让我们对每个团队的表现有了一些了解。然而，我们需要从数据集中获得的最重要的统计信息是:缺失值、每个变量的分布、变量之间的相关性、每个分布的偏斜度以及每个变量中的异常值。有了这些认识，我们将转换数据集，并确保满足线性回归的条件。</p><p id="31b3" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">首先，让我们删除索引列，并查找每个变量的 missing_values。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mo"><img src="../Images/e7af5ba220ba5041d26bf57bb173c4fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lYckGsQ4SvGVUZfDajngfw.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/abc1046d70e535c6044bb48b4c28aa97.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*YDUoH8V7tKnoYPnvbU79sA.jpeg"/></div></figure><p id="018e" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">每个变量的数据类型看起来很准确，不需要修改。当我们查看每个变量的缺失值的百分比时，前两个变量是 TEAM_BASERUN_CS 和 TEAM_BATTING_HBP。当我们有超过 80%的缺失数据时，处理缺失值的最常见方法是丢弃，并且不将该特定变量包括到模型中。因此，我们将在数据清理阶段删除 TEAM_BATTING_HBP。至于其余的变量有缺失值，我们将用该特定变量的平均值来代替它们。</p><p id="c452" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们看看解释变量和响应变量之间的相关性。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/699309475b60a061af9779e6344b4fcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*2F4GFtW4x_Fzb6AvKghB0g.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mr"><img src="../Images/40b45469344718e4d19d6d07c94a420e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YvkQtYmKNeEd1egemvyTXQ.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ms"><img src="../Images/3b181179279f7ac0b5f78d31b116b088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pSJe-PWWH9CR7E8Zzy1VBg.jpeg"/></div></div></figure><p id="fb0f" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">基于相关矩阵，我们可以看到棒球队与我们的响应变量 TARGET_WINS 相关的最高属性是击球手的安打和击球手的保送。(<em class="mt">球队 _ 击球 _H，</em>球队 _ 击球 _2B)</p><p id="e969" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们还看到，Team_Batting_H 和 Team_Batting_2B、Team_Pitching_B 和 TEAM_FIELDING_E 之间有很强的相关性。我们将在模型创建时考虑这些发现，因为共线性可能会使模型估计变得复杂。我们希望解释变量相互独立。我们将尽量避免添加相互之间高度相关的解释变量。</p><p id="02d8" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">如果我们是一个棒球迷，我们可以做的一件有趣的事情是根据变量的动作将变量分成不同的类别。所有击球相关变量可被捆绑在“击球”下，跑垒变量被捆绑在“跑垒”下，投球相关变量被捆绑在“投球”下，场相关变量如错误被捆绑在“防守”下。话虽如此，这并不是线性回归的一个必要步骤，但在这种情况下，这是适用的，也是有趣的。</p><p id="b89e" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们看看每个变量的分布。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mu"><img src="../Images/44a102863e34681c652dbf254441bd12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xXOGpxG2AdpsbMV2_fLq1w.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mv"><img src="../Images/e0b3693e2320bd5848bfe79adfe05736.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bIYz8WdY-sSI7aIDTKDcNw.png"/></div></div></figure><p id="4ee3" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们可以看到，变量 TARGET_WINS、TEAM_BATTING_H、TEAM_BATTING_2B、TEAM_BATTING_BB 和 TEAM_BASERUN_CS 是正态分布的。TEAM_BATTING_HR 则是双峰的。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/4e64ddec9731fb4869d44e4bf615b8f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/1*lTQlNEdAS25v0cMCwVf26g.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/bb2c42f2323bf534d8f8fc4602db86c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*E9A028iQiOYKgZTCK4PAMg.png"/></div></figure><p id="4d77" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">TEAM_BASERUN_SB 右偏，TEAM_BATTING_SO 双峰。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi my"><img src="../Images/4d6c1cae500d35fc3949525f4925b3d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*Fj4rMV2vC1QfipEyq0PNUg.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mz"><img src="../Images/810508b91977062810c9866d2d74b42d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_yUU7jIoAqilCh5VkabzJw.png"/></div></div></figure><p id="d1ec" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">TEAM_BATTING_HBP 似乎是正态分布的，但是我们不应该忘记我们在这个变量中有很多缺失值。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi na"><img src="../Images/af3b1945d15094568ecc5475cf4396c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*yM5wfw285jY0V9CIYsXgNQ.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/8aeccc27867403d8cd2481a05b3a5c20.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*AO_MCPwQzLFmFkREiCvUcw.png"/></div></figure><p id="ea46" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们可以从分布中看到每个变量的偏斜度，但是让我们用一个数字来看变量的偏斜度。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/d860a994c78639271bf4b98fe512510e.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*7utHTq3StgoDk9rxg9aVEw.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nd"><img src="../Images/7aa112bfa0aa434f46e32ee0731315b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*3I3pUuBgiTcwqUn-Vv7LWw.jpeg"/></div></div></figure><p id="aa97" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">基于此，我们可以看到最偏斜的变量是 TEAM_PITCHING_SO。我们将在数据准备部分纠正有偏差的变量。</p><p id="4379" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">当我们创建线性回归模型时，我们寻找具有最小平方和的拟合线，即具有最小残差平方和的小残差。在不涉及计算数学的情况下，残差是预测值和实际值之间的差值。</p><p id="df65" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们还可以从分布的角度单独观察每个变量，并查看异常值。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/a4a1ce4c0fd9447a5063e3d72088065f.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*pVscqUdHtUQ77xPyn9d_CQ.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nf"><img src="../Images/91ab218b1739d0d9c7803262dfc0a900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fI1bPaUeE164sp-t7e1YvA.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ng"><img src="../Images/0130f3da9b72987ca1e42b31221bc6ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ELt9xx-dF01mYbigVOa2yg.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nh"><img src="../Images/69b42017e14b9c2bcd440cd93df9b87e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MZYTM9P2dGJiN0hQkZ_LYA.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ni"><img src="../Images/9cb69158322314ac075a01508e8d7a16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-wxb6LUxhiLz_wQtEtSK0g.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nj"><img src="../Images/c19b44997fc284a3eee957653f20ecf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LFebONMuQAf3M-w2Tgzqdg.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nk"><img src="../Images/ffcb19fdcbb19531a8593613ec172a85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FjWTgYI3TBkLZ0j0-hd7aw.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nl"><img src="../Images/301715ed7a225c0fcbef00c4a572b716.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wZrbM3FLpIBXNW-AkmKnoQ.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nm"><img src="../Images/f18b0cf08b27812372dda7139817b260.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ylNSb8dCbNQSgh3TXoXX2A.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nn"><img src="../Images/8185e8af053711b53cc98f8e8e0d7e01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W1T-Xv88Nkm5IVhlaaA0FQ.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi no"><img src="../Images/bca39e346644a1cca43b6dbd0914064f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3kV-aF4guN20lwO88x34TA.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi np"><img src="../Images/2b10415e240b7f7cee495ff5c27c4b20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iG6gkl8dPIdscehOJ0qwTw.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nq"><img src="../Images/c5798460592c7b0f289872130cad5687.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JxU0SSVyJBQANBmFobYxEg.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nr"><img src="../Images/8f366f6a81672b38e088f4ae656ba717.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ye8twVsZkmg2csdfaPHwOw.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ns"><img src="../Images/683be3ab70a84419f4ad429363bd5b4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6DQE8Qp7BgdGP8uhwb2riA.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nt"><img src="../Images/c4ad029b03d587dd0075c1b4190da4c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a6eeCrCvCNZQPe0hKNr8rA.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nu"><img src="../Images/fc9cf53261ff0bf277a17b676e6e0072.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*56CqfH8bYtGQCpdpcn5Svg.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/a56c69bdd85fca7927a1d12ce207ce10.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/format:webp/1*HYb4GBDrFYe-S4H82PEuqA.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nr"><img src="../Images/d5d9b50bc9ccebdc1ceee0805f2b7ca2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*irACpSl2xrZd5CePEAEgKw.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi no"><img src="../Images/0e85adc41704488099a38fed3d7271cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CdMfAtaAPt5pXktR6IWM9g.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mz"><img src="../Images/735a22d2abf13ce35da7e018c9c92c07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rd706rlhvfLph67aFpE6eQ.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nw"><img src="../Images/2fb2cbd91d68eef79456174a43595345.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mEIAXQ6jEpkPVkGQj2QgpA.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nx"><img src="../Images/14580a143f16d380dad1c238b2d7c6a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-HAR0lAFkuQCZX5Yz6XCuw.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ny"><img src="../Images/e6f9101eb01154f60aa101e66b693de0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bNQ8PJpy87a1kf769d2msQ.jpeg"/></div></div></figure><p id="74e0" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">如方框图所示，“TEAM_BASERUN_SB”、“TEAM_BASERUN_CS”、“TEAM_PITCHING_H”、“TEAM_PITCHING_BB”、“TEAM_PITCHING_SO”和“TEAM_FIELDING_E”都具有大量异常值。我们将在数据清理和准备部分删除这些异常值。</p><p id="1c50" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">创建线性回归线和模型的想法很简单。我们创建一个线性模型，给出每个变量的截距和斜率。我们进一步查看和解释模型摘要，以评估和改进模型。在我看来，具有挑战性的部分是确保收集的数据集满足最小二乘法(线性回归)的条件。这些条件是线性、接近正态残差和恒定可变性。尽管我们将着眼于这些条件来进行分析，但我们不会单独详细讨论这些条件。</p><p id="a02f" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们看看残差，以确保满足线性、正态分布和恒定可变性条件。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nz"><img src="../Images/36f078265f388a81b0c720b96e6934c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DwfTjwTuT7-KKTy8WuA0Bw.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi oa"><img src="../Images/6ca4a5a1529774f0cdd0179a075690db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nYRr2jsEwaqz2BGj9Jw0fQ.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/eae727dc3a3da34232ecc1c05f1f2ab5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*crzPASR1C24otQuEc-AMcw.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi oc"><img src="../Images/d5d357b34f93e34244178cc4846f6544.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WJZ3ap0xjH3fAKmF8AP1Sg.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi od"><img src="../Images/000847567e0911d3ad8c0e195f7fbf42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*DZHnpcFAXGAZCnSbsSCcwQ.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi od"><img src="../Images/000847567e0911d3ad8c0e195f7fbf42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*DZHnpcFAXGAZCnSbsSCcwQ.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/d2addefaabe6374f3f0bda02c69cdf76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*YTtHRDzpTW8upxNNMXiIcg.jpeg"/></div></figure><p id="411a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">当我们看残差图时，我们看到即使残差不是完全正态分布，它们也接近正态分布。解释变量和响应变量之间存在线性关系。</p><p id="0931" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们通过创建一个简单的模型来详细了解这一点。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi of"><img src="../Images/523ac7c4d20d402d07e28936380fbf8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*S8nLk0mM3qm0GinEHKEZyw.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi og"><img src="../Images/78ece89c006abf520455089f57430b0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*bPNjc304MeKR2HReJXzROw.jpeg"/></div></figure><p id="8af2" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们创建的简单模型可以解释 96%的可变性。击球手每多击一次垒打，该队获胜，该队获胜次数预计增加 0.0549 次。</p><p id="3cf0" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">由于与 python 相比，R 更多地用于线性建模中的统计分析，因此通过使用 R，我们可以绘制摘要、绘图(模型)并获得我们需要的所有残差图，以便检查条件，但是在 python 中，我们需要创建自己的函数和对象来创建相同的残差图。</p><p id="7fc6" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们看看我们是否能做到。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi oh"><img src="../Images/de9f97b2d7c6bfed5e2d7e5fe09ba52b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*z0sSO6tkBaP5cOwUO0z5Ig.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi oi"><img src="../Images/d83de6f4ceba1ff72c038c9df3b26c70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oiZOI2WN9LWUomXAxGWvDw.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ny"><img src="../Images/7dbcc154057db337ad08eeb9e144b2cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OBLHBRDaefUW1GGTF_81Hw.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi oj"><img src="../Images/0849c7f6a2532cd71282b2c94d08d3ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m4Mgcx2BMcslunji_eesEA.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ok"><img src="../Images/5cbaf66ef742eadf511acd7525b83f89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bQ92W3xbKaerH8s6TiD20A.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/fe2adcf200218878dc816f37f05d7b84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*dEXAyClYiWwmTNzJmOOZag.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi om"><img src="../Images/b340ea892057832c43b23ad880f1005a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W9Va-SCU6MlWlCSYtwRyvw.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ny"><img src="../Images/67b0e4b58ef25c7994f35e412e612970.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8L5Iqu9jjWcr_G24nUWMVg.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi on"><img src="../Images/b5f9d6fcdfeb6ed4ba673749bdffd5b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-O8z3FtMW22LCaJmTdCmDg.jpeg"/></div></div></figure><p id="e60c" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">基于解释变量 TEAM_BATTING_H 和响应变量 TARGET_WINS，残差接近正态分布，它们之间存在线性关系，最小二乘线周围的可变性大致恒定。(又名同质性)。</p><p id="dc45" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">当我们观察每个变量的分布时，有些点远离点云。这些都是离群值。水平远离中心的异常值是影响回归斜率的高杠杆点。这些都是有影响的点。</p><p id="a332" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们可以进一步开始清理和准备我们的数据集。</p><h1 id="ce99" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">数据清理和准备</h1><p id="4cdb" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">让我们从处理缺失值开始，然后我们可以移除数据集中的异常值以进行模型开发。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nw"><img src="../Images/60525f5892277b8f45687b0b13ee9a98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f8c5bebxp-tLArdT7RK-rQ.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/f27ccf30f5f9103bc3d813e6326d2127.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*IHGtU1OHTrN9u_Ni94BDew.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi op"><img src="../Images/0847a4cf62178ad44eb028837d4387bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*ZWEjoN7pwU6Jfl0fzvkmbQ.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi oq"><img src="../Images/14e4c9e0cc15ec84fc4fdd30a94f320c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VPsbCPnfk3Cptra1VBs5fA.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi or"><img src="../Images/a71462bf3773531b500e5a08b442cfcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wFTFMp0v0JhQ0V_J7b_KSw.png"/></div></div></figure><h1 id="d02d" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">模型开发和评估</h1><p id="9be7" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们观察了每个变量的分布、偏斜度和缺失值。我们假设观察值是随机的。我们还检查了线性回归条件，确保误差项(e)或又称残差呈正态分布，变量之间线性独立，方差恒定(无异方差)且残差独立。我们处理了训练数据的缺失值和偏斜度。</p><p id="c947" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在我们开始构建模型之前，我想简单提一下特征选择过程。在我们的分析和数据集的性质，我们可能会处理许多不同的解释变量。我们可能不希望使用所有这些变量，而是希望选择观察的某些特征来获得最佳模型。在这种情况下，我们可以使用向前的步骤和向后的特征选择方法。本质上，我们正在寻找能够为目标变量提供最佳 p 值的特征。</p><p id="4f99" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在 R 中，我们可以简单地使用逐步函数，这将为我们提供最有效的功能。在 python 中，我们可以定义一个函数，这个函数可以给我们提供使用前进和后退的特性。下面是一个使用当前数据集的示例。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi os"><img src="../Images/00c8faddc71436bd1ed5f1d360f2d057.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*m1Sp8YP19AAcX2bSDoGyHQ.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/8bec17c41e1f5622f38c187e96e05175.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*iQovmtj1ICl809xB_xOjIg.jpeg"/></div></figure><p id="0e16" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们开始创建一个使用所有变量的模型。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/6a2543045352c85f79d518f14a6d83f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/format:webp/1*R3Z8G_U9A55IEPqcFo9_CQ.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/4432bf62d4a2ca23f6577747091cbbe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*riS2_cTfugwhwf2dqOj9Pw.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ow"><img src="../Images/40489414a1d4966692325a8013595c03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UJOAMwY_KouYAEFT52AHiA.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/983474a56ec9cc3f86d72a82e63ec95d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*wzM8IsJJwYod7pynAztW_Q.jpeg"/></div></figure><p id="0761" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在此模型中，R 平方较低(0.969)。我们还可以看到标准误差增加了。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/3cd13aff1f12bf5aed54f26728bf277a.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*Avyl8aw56W_BN9ZRT6qY1g.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/693c03fed951337bb6a62782f43648fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*pRBQri8CRQ_6uqZkLH0wKg.jpeg"/></div></figure><p id="1437" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在这个模型中，我们有 5 个 p 值非常低的重要变量。r 平方较小，但几乎与第一个模型一样高。我们还看到，与第一个模型相比，标准误差要合理得多。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/f482689b2f517ba491641e40049f13fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*x_vCnWL89rcYFTeLxBwqkQ.jpeg"/></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/c5f64e6abb56f04f4ec28e0e3997d8c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*ECcSHjxrIUWFj_3qnKhuTQ.jpeg"/></div></figure><p id="ad1c" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">该模型在标准误差和 F 统计方面类似于模型 3，但是它具有更小的 r 平方。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi pb"><img src="../Images/fbb9882f636a1a9833f195a1237b6389.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*TnmLD-CKqK9MgZ3gh7_Sgw.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi og"><img src="../Images/ecae899d0aadc57d34977fcd3cfdb8a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*HrfHpIXsw5cP3i5xzzKCKA.jpeg"/></div></figure><p id="2512" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">尽管我们只使用了模型 3 中的 5 个重要变量，但 r 平方值低于模型 3。</p><p id="7b88" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">当我们评估模型时，我们必须考虑线性模型的偏差和方差。如果我们用数据完美地(或接近完美地)拟合线性线，用复杂的线性模型，我们在增加方差(过度拟合)。如果我们反其道而行之，用一个非常简单的模型，线性线勉强符合数据，我们就增加了偏差(拟合不足)。我们希望创建并选择一个模型，在该模型中，预测可以被一般化，并与测试数据集一起工作。</p><p id="250a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">如果我们的模型中有很高的方差，我们可以应用一些减少方差的策略。例如，在我们的模型 1 中，R 平方非常高，这表明接近完美拟合和高方差。</p><p id="d859" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">为了减少差异，我们可以使用交叉验证将数据集分成测试和训练数据集。在我们的例子中，我们被提供了两个独立的数据集(训练和测试),这是不适用的。然而，在一些用例中，我们需要分成训练和测试数据集。交叉验证所做的是，它不是按我们定义的比例(例如 80%和 20%)分割数据集，而是创建大小相等的数据子集，并在所有子集上迭代训练和测试，保留一个子集作为测试数据。我们可以使用 10 折、5 折、3 折或省去一个交叉验证。</p><p id="ac8a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">另一个减少方差的策略是收缩(又名)惩罚。有 3 种主要的已知调节方法。岭回归、套索和弹性网回归。我们不会深入讨论这些方法的细节，但我们的想法是对模型应用一个惩罚，在偏差和方差之间进行权衡。</p><p id="90cd" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">基于我们创建的五个模型和我们的评估，模型 3 似乎是最有效的模型。我们当然可以应用正则化(弹性网或岭回归)并减少方差，但是我们现在将保持原样。</p><h1 id="5adf" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">模型预测法</h1><p id="8562" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">最后，我们可以将我们的线性回归模型应用于测试数据集，以查看我们的预测。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi pc"><img src="../Images/564adb6fa520542920b2c5b392e75596.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j69eKZdsf9_cBWBBLHt-Ug.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi pd"><img src="../Images/bf9991c8b4650ccd3ffaf9b13501e8cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*ububMa_v8W5MKy3gMPUFvQ.jpeg"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/be9127bf41c0611ba5bc00d30cc831a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:370/format:webp/1*WlezeiYuXgUORaKeYWuW5Q.jpeg"/></div></figure><h1 id="175e" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">结论</h1><p id="bb76" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">总结创建线性回归模型的步骤，</p><p id="4b41" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">1-查看描述性统计数据</p><p id="8349" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">2-查看缺失值。</p><p id="3bde" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">3-看看变量的分布。</p><p id="694e" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">4-查看变量的相关性。</p><p id="3c63" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">5-查看变量的偏斜度。</p><p id="ddc8" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">6-检查线性回归假设(查看残差)。</p><p id="698a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">7-看看异常值。</p><p id="8be6" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">8-移除异常值并进行必要的数据转换。(我们不需要做任何变换来获得正态残差分布，但是在一些用例中，我们可能需要对解释变量和响应变量进行变换(如对数变换)。如果有分类变量，我们需要把它们转换成数值变量作为哑变量。</p><p id="0b10" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">9-创建多个模型(我们可以使用反向消除进行特征选择，或者在每个模型中尝试不同的特征。特征选择的一个重要方面是，我们需要从最大数量的特征开始，以便每个模型中使用的特征相互嵌套。)</p><p id="61f9" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">10-查看偏差和方差(过拟合和欠拟合)</p><p id="d406" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">11-如果需要，应用方差减少策略。(脊线、弹性网、套索、CV)</p><p id="f953" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">12-评估、选择模型并应用预测。</p><p id="91d3" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">当我们比较模型的 r 平方和标准误差时，模型 3 是最好的模型。这个模型将比其他模型更好地预测棒球队的目标胜率。我们肯定可以应用正则化(又名收缩、惩罚)来使它更稳定，更不容易过度拟合和高方差。</p><p id="10c9" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">选择的模型是 OLS 模型-3，由于改进的 F-统计，正可变系数和低标准误差。</p><p id="aa1e" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">对于模型 3 和 4，选择变量仅仅是为了测试仅进攻型变量如何影响模型，以及仅防守型变量如何影响模型。基于每个模型的系数，第三个模型从每个类别模型中取最高的系数。</p><p id="c26d" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">进攻方面，两个最高的是 HR 和 Triples。这在直觉上是有意义的，因为 HR 和三分是击球手击球时可以达到的两个最高目标，因此这些类别中的总分越高，得分越高，帮助球队获胜。在防守方面，两个最高的系数是安打和保送。这也是有道理的，因为作为一名投手，我们想要做的是限制击球手上垒的次数，无论是击球还是保送。除非这是一个失误，如果击球手没有击中或保送，那么结果将是出局，这实质上限制了对方球队得分的数量。</p></div></div>    
</body>
</html>