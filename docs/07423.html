<html>
<head>
<title>The new kid on the statistics-in-Python block: pingouin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python统计块中的新成员:pingouin</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-new-kid-on-the-statistics-in-python-block-pingouin-6b353a1db57c?source=collection_archive---------8-----------------------#2020-06-05">https://towardsdatascience.com/the-new-kid-on-the-statistics-in-python-block-pingouin-6b353a1db57c?source=collection_archive---------8-----------------------#2020-06-05</a></blockquote><div><div class="fc ij ik il im in"/><div class="io ip iq ir is"><figure class="iu iv gp gr iw ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi it"><img src="../Images/17ec4e115b9b6fa88333cd26125e407e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P99hx8MWrlVSlrEsIwKnYA.jpeg"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">伊恩·帕克在<a class="ae ji" href="https://unsplash.com/s/photos/penguin?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class=""/><div class=""><h2 id="1c73" class="pw-subtitle-paragraph ki jk jl bd b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dk translated">图书馆的快速参观，以及它是如何从老守卫中脱颖而出的</h2></div><p id="e510" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">Python有一些非常成熟的库用于统计分析，其中最大的两个是<code class="fe lw lx ly lz b">statsmodels</code>和<code class="fe lw lx ly lz b">scipy</code>。这两个包含了很多(我是说很多)统计函数和类，它们在99%的情况下会覆盖你所有的用例。那么为什么还会有新的库发布呢？</p><p id="780d" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">新来者往往试图填补一个利基市场，或者提供一些现有竞争对手所没有的额外东西。最近，我偶然发现了一个相对较新的图书馆，名为<code class="fe lw lx ly lz b">pingouin</code>。该库的一些主要功能包括:</p><ul class=""><li id="0ab8" class="ma mb jl lc b ld le lg lh lj mc ln md lr me lv mf mg mh mi bi translated">这个库是用Python 3编写的，主要基于<code class="fe lw lx ly lz b">pandas</code>和<code class="fe lw lx ly lz b">numpy</code>。直接在<code class="fe lw lx ly lz b">DataFrames</code>上操作肯定能派上用场，简化工作流程。</li><li id="7509" class="ma mb jl lc b ld mj lg mk lj ml ln mm lr mn lv mf mg mh mi bi translated">在编码和生成的输出方面，试图在复杂性和简单性之间取得平衡。在某些情况下，<code class="fe lw lx ly lz b">statsmodels</code>的输出可能是压倒性的(特别是对于新的数据科学家)，而<code class="fe lw lx ly lz b">scipy</code>可能有点过于简洁(例如，在t检验的情况下，它只报告t统计和p值)。</li><li id="c131" class="ma mb jl lc b ld mj lg mk lj ml ln mm lr mn lv mf mg mh mi bi translated"><code class="fe lw lx ly lz b">pingouin</code>的很多实现都是从流行的R包直接移植过来进行统计分析的。</li><li id="10bb" class="ma mb jl lc b ld mj lg mk lj ml ln mm lr mn lv mf mg mh mi bi translated">该库提供了一些其他库中没有的新功能，例如计算不同的效果大小并在它们之间进行转换、成对t测试和相关性、循环统计等等！</li></ul><figure class="mp mq mr ms gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi mo"><img src="../Images/8c8fa8fd78652212fe090a31e52f0a29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v_84yBzm8lX1hjabra2oeA.png"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">来源:<a class="ae ji" href="https://pingouin-stats.org/index.html" rel="noopener ugc nofollow" target="_blank">https://pingouin-stats.org/index.html</a></p></figure><p id="3b70" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">在本文中，我简要介绍了<code class="fe lw lx ly lz b">pingouin</code>中一些最流行的功能，并将它们与已经建立的成熟功能进行了比较。</p><h1 id="6156" class="mt mu jl bd mv mw mx my mz na nb nc nd kr ne ks nf ku ng kv nh kx ni ky nj nk bi translated">设置</h1><p id="da4b" class="pw-post-body-paragraph la lb jl lc b ld nl km lf lg nm kp li lj nn ll lm ln no lp lq lr np lt lu lv io bi translated">首先，我们需要通过运行<code class="fe lw lx ly lz b">pip install pingouin</code>来安装这个库。然后，我们导入将在本文中使用的所有库。</p><figure class="mp mq mr ms gt ix"><div class="bz fp l di"><div class="nq nr l"/></div></figure><h1 id="9efb" class="mt mu jl bd mv mw mx my mz na nb nc nd kr ne ks nf ku ng kv nh kx ni ky nj nk bi translated">统计功能</h1><p id="8bcf" class="pw-post-body-paragraph la lb jl lc b ld nl km lf lg nm kp li lj nn ll lm ln no lp lq lr np lt lu lv io bi translated">在这一部分中，我们探索了<code class="fe lw lx ly lz b">pingouin</code>中可用的一些功能，同时强调了与其他库相比的不同之处。</p><h2 id="18b0" class="ns mu jl bd mv nt nu dn mz nv nw dp nd lj nx ny nf ln nz oa nh lr ob oc nj od bi translated">t检验</h2><p id="f073" class="pw-post-body-paragraph la lb jl lc b ld nl km lf lg nm kp li lj nn ll lm ln no lp lq lr np lt lu lv io bi translated">可能统计库最流行的用例(或者至少与线性回归相当)是t-test，它最常用于运行A/B测试时的假设检验。</p><figure class="mp mq mr ms gt ix"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="426d" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">从<code class="fe lw lx ly lz b">scipy</code>开始，我们通过运行以下命令来计算t测试的结果:</p><pre class="mp mq mr ms gt oe lz of og aw oh bi"><span id="1f58" class="ns mu jl lz b gy oi oj l ok ol">ttest_ind(x, y)</span></pre><p id="91aa" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">什么会生成以下输出:</p><figure class="mp mq mr ms gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi om"><img src="../Images/156ff8a3dd5ee122dfadb16c0962eb44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K-MAoLP1WPom1CgtAU8lig.png"/></div></div></figure><p id="84ac" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">在<code class="fe lw lx ly lz b">pingouin</code>的例子中，我们使用以下语法:</p><pre class="mp mq mr ms gt oe lz of og aw oh bi"><span id="0b68" class="ns mu jl lz b gy oi oj l ok ol">pg.ttest(x, y)</span></pre><p id="2ae1" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">并接收:</p><figure class="mp mq mr ms gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi on"><img src="../Images/a6577e12bac1d061819ce8220ac1695c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SVw11GfFabME-cQOgcW7fg.png"/></div></div></figure><p id="b760" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated"><code class="fe lw lx ly lz b">scipy</code>仅报告t统计和p值，而<code class="fe lw lx ly lz b">pingouin</code>另外报告以下内容:</p><ul class=""><li id="3a62" class="ma mb jl lc b ld le lg lh lj mc ln md lr me lv mf mg mh mi bi translated">自由度(<code class="fe lw lx ly lz b">dof</code>)，</li><li id="9765" class="ma mb jl lc b ld mj lg mk lj ml ln mm lr mn lv mf mg mh mi bi translated">95%置信区间(<code class="fe lw lx ly lz b">CI95%</code>)，</li><li id="88f7" class="ma mb jl lc b ld mj lg mk lj ml ln mm lr mn lv mf mg mh mi bi translated">Cohen's d ( <code class="fe lw lx ly lz b">cohen-d</code>)测量的效应大小，</li><li id="bcf9" class="ma mb jl lc b ld mj lg mk lj ml ln mm lr mn lv mf mg mh mi bi translated"><a class="ae ji" href="https://en.wikipedia.org/wiki/Bayes_factor" rel="noopener ugc nofollow" target="_blank">贝叶斯因子</a>，表示支持所考虑假设的证据强度(<code class="fe lw lx ly lz b">BF10</code>)，</li><li id="cbce" class="ma mb jl lc b ld mj lg mk lj ml ln mm lr mn lv mf mg mh mi bi translated">统计力量(<code class="fe lw lx ly lz b">power</code>)。</li></ul><p id="7b57" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated"><strong class="lc jm">注意</strong> : <code class="fe lw lx ly lz b">statsmodels</code>还包含一个用于计算t-test的类(<code class="fe lw lx ly lz b">statsmodels.stats.weightstats.ttest_ind</code>)，它本质上是对<code class="fe lw lx ly lz b">scipy</code>的<code class="fe lw lx ly lz b">ttest_ind</code>的包装，对输入参数做了一些修改。</p><p id="fde4" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated"><code class="fe lw lx ly lz b">pingouin</code>还包含标准t检验的更多变体/扩展，例如:</p><ul class=""><li id="0163" class="ma mb jl lc b ld le lg lh lj mc ln md lr me lv mf mg mh mi bi translated">成对t检验，</li><li id="ca02" class="ma mb jl lc b ld mj lg mk lj ml ln mm lr mn lv mf mg mh mi bi translated">曼-惠特尼U检验(独立t检验的非参数版本)，</li><li id="1588" class="ma mb jl lc b ld mj lg mk lj ml ln mm lr mn lv mf mg mh mi bi translated">Wilcoxon符号秩检验(配对t检验的非参数版本)。</li></ul><h2 id="d3fb" class="ns mu jl bd mv nt nu dn mz nv nw dp nd lj nx ny nf ln nz oa nh lr ob oc nj od bi translated">功率分析</h2><p id="eb66" class="pw-post-body-paragraph la lb jl lc b ld nl km lf lg nm kp li lj nn ll lm ln no lp lq lr np lt lu lv io bi translated">统计库的另一个非常流行的应用是计算A/B测试所需的样本量。为此，我们使用功耗分析。如果你对更多细节感兴趣，请参考我的<a class="ae ji" rel="noopener" target="_blank" href="/introduction-to-power-analysis-in-python-e7b748dfa26">上一篇文章</a>。</p><p id="ff14" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">在这个例子中，我们将集中于计算t-检验所需样本量的情况。但是，您可以轻松地调整代码来计算任何其他组件(显著性水平、功效、效果大小)。</p><p id="f6f6" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">为简单起见，我们将其他3个参数固定为一些标准值。</p><figure class="mp mq mr ms gt ix"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="8d5a" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">运行代码会生成以下输出:</p><pre class="mp mq mr ms gt oe lz of og aw oh bi"><span id="dc34" class="ns mu jl lz b gy oi oj l ok ol">Required sample size (statsmodels): 64<br/>Required sample size (pingouin): 64</span></pre><p id="6cee" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">老实说，对于一个标准的t-test，在功耗分析方面没有太大的区别。我们还可以定制替代假设的类型(无论是单侧检验<a class="ae ji" rel="noopener" target="_blank" href="/one-tailed-or-two-tailed-test-that-is-the-question-1283387f631c">还是双侧检验</a>)。值得一提的是，<code class="fe lw lx ly lz b">pingouin</code>使我们能够为一些测试运行功效分析，这些测试在其他库中是不可用的，例如平衡单向重复测量ANOVA或相关性测试。</p><h2 id="f2d6" class="ns mu jl bd mv nt nu dn mz nv nw dp nd lj nx ny nf ln nz oa nh lr ob oc nj od bi translated">测绘</h2><p id="2cba" class="pw-post-body-paragraph la lb jl lc b ld nl km lf lg nm kp li lj nn ll lm ln no lp lq lr np lt lu lv io bi translated"><code class="fe lw lx ly lz b">pingouin</code>包含了一些非常好实现的可视化，但是，它们中的大多数都是特定领域的，一般读者可能不会感兴趣(我鼓励你在<a class="ae ji" href="https://pingouin-stats.org/api.html#plotting" rel="noopener ugc nofollow" target="_blank">文档</a>中看看它们)。</p><p id="3651" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">不过，其中一个情节绝对可以派上用场。在我之前的一篇文章中，我描述了如何用Python创建QQ-plots。<code class="fe lw lx ly lz b">pingouin</code>绝对简化了这个过程，因为我们只用一行代码就可以创建一个非常好的QQ图。</p><pre class="mp mq mr ms gt oe lz of og aw oh bi"><span id="0bfa" class="ns mu jl lz b gy oi oj l ok ol">np.random.seed(42)<br/>x = np.random.normal(size=100)<br/>ax = pg.qqplot(x, dist='norm')</span></pre><figure class="mp mq mr ms gt ix gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/5dd9fac00707fdd0fe676c83f63ee645.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*kHqY0yGgu1WTB9j0K5JYEA.png"/></div></figure><p id="e9d3" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">更重要的是，<code class="fe lw lx ly lz b">pingouin</code>自动处理如何显示参考线，而在<code class="fe lw lx ly lz b">statsmodels</code>的情况下，我们需要通过向<code class="fe lw lx ly lz b">ProbPlot</code>类的<code class="fe lw lx ly lz b">qqplot</code>方法提供一个参数来做同样的事情。简化任务的明显例子！</p><p id="d848" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">引用<code class="fe lw lx ly lz b">pg.qqplot</code>的文档:</p><blockquote class="op oq or"><p id="8c0a" class="la lb os lc b ld le km lf lg lh kp li ot lk ll lm ou lo lp lq ov ls lt lu lv io bi translated">此外，该函数还绘制了数据的最佳拟合线(线性回归),并用决定系数对图进行了注释。</p></blockquote><h2 id="0262" class="ns mu jl bd mv nt nu dn mz nv nw dp nd lj nx ny nf ln nz oa nh lr ob oc nj od bi translated">方差分析</h2><p id="5707" class="pw-post-body-paragraph la lb jl lc b ld nl km lf lg nm kp li lj nn ll lm ln no lp lq lr np lt lu lv io bi translated">我们现在将研究如何运行<a class="ae ji" href="https://en.wikipedia.org/wiki/Analysis_of_variance" rel="noopener ugc nofollow" target="_blank"> ANOVA </a>(方差分析)。为此，我们将使用一个内置的数据集来描述每种发色的疼痛阈值(有趣的想法！).首先，我们加载并稍微转换数据集。</p><figure class="mp mq mr ms gt ix"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="3f1a" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">我们删除了一个不必要的列，并用下划线替换了列名中的空格(这将使在<code class="fe lw lx ly lz b">statsmodels</code>中实现ANOVA更容易)。</p><p id="4b52" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">首先，我们介绍<code class="fe lw lx ly lz b">pingouin</code>方法。</p><figure class="mp mq mr ms gt ix"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="4ec6" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">什么会生成以下输出:</p><figure class="mp mq mr ms gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi ow"><img src="../Images/95066fb27ffe7faf6778db5c2741a5c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AkQEwlaJosmbDZUVfEJy5w.png"/></div></div></figure><p id="d1bb" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">在继续之前，我们应该提到使用<code class="fe lw lx ly lz b">pingouin</code>的潜在好处:它直接向<code class="fe lw lx ly lz b">pd.DataFrame</code>添加了一个额外的方法(<code class="fe lw lx ly lz b">anova</code>)，因此我们可以跳过调用<code class="fe lw lx ly lz b">pg.anova</code>和指定<code class="fe lw lx ly lz b">data</code>参数。</p><p id="87ab" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">为了比较起见，我们也使用<code class="fe lw lx ly lz b">statsmodels</code>进行ANOVA。使用这个库，这是一个两步的过程。首先，我们需要拟合OLS回归，然后才进行方差分析。</p><figure class="mp mq mr ms gt ix"><div class="bz fp l di"><div class="nq nr l"/></div></figure><figure class="mp mq mr ms gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi ox"><img src="../Images/8babd894e69dcff533642de93e853c0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eahc41PTIkYV_g5wb-D6pA.png"/></div></div></figure><p id="9dee" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">输出非常相似，尽管来自<code class="fe lw lx ly lz b">pingouin</code>的输出包含一个额外的列，这是作为部分eta平方的效应大小度量。</p><p id="0cbd" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">与t-检验类似，<code class="fe lw lx ly lz b">pingouin</code>中包含不同的方差分析变量。</p><h2 id="31ea" class="ns mu jl bd mv nt nu dn mz nv nw dp nd lj nx ny nf ln nz oa nh lr ob oc nj od bi translated">线性回归</h2><p id="709a" class="pw-post-body-paragraph la lb jl lc b ld nl km lf lg nm kp li lj nn ll lm ln no lp lq lr np lt lu lv io bi translated">作为最后一个例子，我们考察了最基本的机器学习模型之一——线性回归。为此，我们首先从<code class="fe lw lx ly lz b">scikit-learn</code>加载著名的波士顿住房数据集:</p><pre class="mp mq mr ms gt oe lz of og aw oh bi"><span id="0460" class="ns mu jl lz b gy oi oj l ok ol">from sklearn.datasets import load_boston<br/>X, y = load_boston(return_X_y=True)</span></pre><p id="7c58" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated"><strong class="lc jm">注意</strong> : <code class="fe lw lx ly lz b">scikit-learn</code>也包含了训练线性回归的类，但是，输出是我所知道的所有Python库中最基本的。在某些情况下，这完全没问题。然而，对于R来说，我更喜欢更详细的输出，我们很快就会看到。</p><p id="960c" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">为了在<code class="fe lw lx ly lz b">pingouin</code>中拟合一个线性回归模型，我们需要运行下面一行代码。</p><pre class="mp mq mr ms gt oe lz of og aw oh bi"><span id="71a5" class="ns mu jl lz b gy oi oj l ok ol">lm = pg.linear_regression(X, y)<br/>lm</span></pre><p id="96b1" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">这再简单不过了！输出如下所示:</p><figure class="mp mq mr ms gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi oy"><img src="../Images/20f5c6a14e1282a0192df0ee306d9f88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gU_hd77kA_tO_DzUS2FRww.png"/></div></div></figure><p id="9f14" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">表挺大，很详细。就我个人而言，我不认为包括R2和调整后的变体在这里有很大的意义，因为它导致了大量的重复。我的猜测是，这样做是为了以<code class="fe lw lx ly lz b">DataFrame</code>的形式保存输出。或者，我们可以通过设置<code class="fe lw lx ly lz b">as_dataframe=False</code>来关闭该行为，这将导致创建一个字典。这样，我们额外得到了模型的残差。</p><p id="d576" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">关于<code class="fe lw lx ly lz b">pingouin</code>实现的一件额外的事情是，我们可以提取一个特征重要性的度量，它被表示为“将模型的总𝑅2划分为单独的𝑅2贡献”。为了显示它们，我们需要将<code class="fe lw lx ly lz b">relimp</code>设置为<code class="fe lw lx ly lz b">True</code>。</p><p id="fb8f" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">是时候前进到<code class="fe lw lx ly lz b">statsmodels</code>实现了。</p><figure class="mp mq mr ms gt ix"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="a4b5" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">代码有点长，因为我们还需要手动将常量(一列1)添加到包含独立变量的<code class="fe lw lx ly lz b">DataFrame</code>中。请注意，当使用函数式语法时(如ANOVA示例中所用)，这一步不是必需的，但是，在这种情况下，特性和目标需要在一个对象中。</p><p id="daf9" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">下图显示了在拟合对象上运行<code class="fe lw lx ly lz b">summary</code>方法的输出:</p><figure class="mp mq mr ms gt ix gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/51baac17428e5137c39953cd39f8d767.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*k1oetMK1FAH3LD2T3GN-Hw.png"/></div><p class="je jf gj gh gi jg jh bd b be z dk translated">任何来自R的人都会认出这种格式的摘要:)</p></figure><p id="f033" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">对我来说，额外的两行代码绝对是值得的，因为输出更加全面，并且经常为我们省去运行一些额外的统计测试或计算一些拟合优度的麻烦。</p><h2 id="ceba" class="ns mu jl bd mv nt nu dn mz nv nw dp nd lj nx ny nf ln nz oa nh lr ob oc nj od bi translated">其他有趣的功能</h2><p id="3424" class="pw-post-body-paragraph la lb jl lc b ld nl km lf lg nm kp li lj nn ll lm ln no lp lq lr np lt lu lv io bi translated">在本文中，我只展示了<code class="fe lw lx ly lz b">pingouin</code>库的部分功能。一些有趣的功能包括:</p><ul class=""><li id="c582" class="ma mb jl lc b ld le lg lh lj mc ln md lr me lv mf mg mh mi bi translated">循环统计的广泛功能，</li><li id="fb36" class="ma mb jl lc b ld mj lg mk lj ml ln mm lr mn lv mf mg mh mi bi translated">成对的hocs后测试，</li><li id="69c3" class="ma mb jl lc b ld mj lg mk lj ml ln mm lr mn lv mf mg mh mi bi translated">不同的贝叶斯因子，</li><li id="2f2c" class="ma mb jl lc b ld mj lg mk lj ml ln mm lr mn lv mf mg mh mi bi translated">一系列不同的效果尺寸测量和一个在它们之间转换的函数。</li></ul><p id="41eb" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">还有更多！</p><h1 id="6958" class="mt mu jl bd mv mw mx my mz na nb nc nd kr ne ks nf ku ng kv nh kx ni ky nj nk bi translated">结论</h1><p id="30bb" class="pw-post-body-paragraph la lb jl lc b ld nl km lf lg nm kp li lj nn ll lm ln no lp lq lr np lt lu lv io bi translated">在本文中，我简要介绍了用于统计分析的新库<code class="fe lw lx ly lz b">pingouin</code>。我很喜欢作者采取的方法，他们试图尽可能地简化过程(也通过让一些事情在后台自动发生，如为QQ图选择最佳参考线或对t测试进行校正)，同时尽可能地保持输出的彻底和完整。</p><p id="0913" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">虽然我仍然是<code class="fe lw lx ly lz b">statsmodels</code>总结线性回归输出的方法的粉丝，但我确实发现<code class="fe lw lx ly lz b">pingouin</code>是一个很好的工具，可以在日常数据科学任务中为我们节省一些时间和麻烦。我很期待看到图书馆是如何随着时间发展的！</p><p id="d6a8" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">您可以在我的<a class="ae ji" href="https://github.com/erykml/medium_articles/blob/master/Statistics/pingouin.ipynb" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到本文使用的代码。一如既往，我们欢迎任何建设性的反馈。可以在<a class="ae ji" href="https://twitter.com/erykml1?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> Twitter </a>或者评论里联系我。</p><p id="fb13" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">觉得这篇文章有趣？成为一个媒介成员，通过无限制的阅读继续学习。如果你使用<a class="ae ji" href="https://eryk-lewinson.medium.com/membership" rel="noopener">这个链接</a>成为会员，你将支持我，不需要你额外付费。提前感谢，再见！</p></div></div>    
</body>
</html>