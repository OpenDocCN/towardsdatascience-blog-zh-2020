<html>
<head>
<title>How to implement Clustering in Power BI using PyCaret</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 PyCaret 在 Power BI 中实现集群</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-implement-clustering-in-power-bi-using-pycaret-4b5e34b1405b?source=collection_archive---------10-----------------------#2020-05-21">https://towardsdatascience.com/how-to-implement-clustering-in-power-bi-using-pycaret-4b5e34b1405b?source=collection_archive---------10-----------------------#2020-05-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d8d269e92b2ca70f998e7c438848fc78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sUeqYcENVII1RlyYA_-Uxg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Power BI 中的集群仪表板</p></figure><p id="1661" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在我们的<a class="ae la" rel="noopener" target="_blank" href="/build-your-first-anomaly-detector-in-power-bi-using-pycaret-2b41b363244e">上一篇文章</a>中，我们展示了如何通过将异常检测器与 PyCaret 集成，在 Power BI 中构建异常检测器，从而允许分析师和数据科学家在他们的报告和仪表板中添加一层机器学习，而无需任何额外的许可成本。</p><p id="6295" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这篇文章中，我们将看到如何使用 PyCaret 在 Power BI 中实现聚类分析。如果你以前没有听说过 PyCaret，请阅读这个<a class="ae la" rel="noopener" target="_blank" href="/announcing-pycaret-an-open-source-low-code-machine-learning-library-in-python-4a1f1aad8d46">公告</a>以了解更多信息。</p><h1 id="208b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">本教程的学习目标</h1><ul class=""><li id="393b" class="lz ma iq ke b kf mb kj mc kn md kr me kv mf kz mg mh mi mj bi translated">什么是集群？聚类的类型。</li><li id="33db" class="lz ma iq ke b kf mk kj ml kn mm kr mn kv mo kz mg mh mi mj bi translated">在 Power BI 中训练和实现无监督聚类模型。</li><li id="fdef" class="lz ma iq ke b kf mk kj ml kn mm kr mn kv mo kz mg mh mi mj bi translated">在仪表板中分析结果和可视化信息。</li><li id="e83f" class="lz ma iq ke b kf mk kj ml kn mm kr mn kv mo kz mg mh mi mj bi translated">如何在电力 BI 生产中部署集群模式？</li></ul><h1 id="51d5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">开始之前</h1><p id="b968" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">如果您以前使用过 Python，很可能您的计算机上已经安装了 Anaconda 发行版。如果没有，<a class="ae la" href="https://www.anaconda.com/distribution/" rel="noopener ugc nofollow" target="_blank">点击这里</a>下载 Python 3.7 或更高版本的 Anaconda 发行版。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ms"><img src="../Images/527c605741ef4b3832cb382834b24e0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sMceDxpwFVHDtdFi528jEg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae la" href="https://www.anaconda.com/products/individual" rel="noopener ugc nofollow" target="_blank">https://www.anaconda.com/products/individual</a></p></figure><h1 id="bf1f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">设置环境</h1><p id="5be3" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">在我们开始在 Power BI 中使用 PyCaret 的机器学习功能之前，我们必须创建一个虚拟环境并安装 pycaret。这是一个三步走的过程:</p><p id="ef50" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae la" href="https://fsymbols.com/signs/tick/" rel="noopener ugc nofollow" target="_blank"> ✅ </a> <strong class="ke ir">步骤 1——创建一个 anaconda 环境</strong></p><p id="85f6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">从开始菜单打开<strong class="ke ir"> Anaconda 提示符</strong>并执行以下代码:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="a4b3" class="nc lc iq my b gy nd ne l nf ng">conda create --name <strong class="my ir">myenv</strong> python=3.7</span></pre><p id="5b9e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae la" href="https://fsymbols.com/signs/tick/" rel="noopener ugc nofollow" target="_blank"> ✅ </a> <strong class="ke ir">第二步—安装 PyCaret </strong></p><p id="2de4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在 Anaconda 提示符下执行以下代码:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="59d7" class="nc lc iq my b gy nd ne l nf ng">pip install pycaret</span></pre><p id="3d38" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">安装可能需要 15-20 分钟。如果您在安装时遇到问题，请查看我们的<a class="ae la" href="https://www.github.com/pycaret/pycaret" rel="noopener ugc nofollow" target="_blank"> GitHub </a>页面，了解已知问题和解决方案。</p><p id="bf87" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae la" href="https://fsymbols.com/signs/tick/" rel="noopener ugc nofollow" target="_blank">✅</a>t22】第三步——在 Power BI 中设置 Python 目录</p><p id="7e48" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">创建的虚拟环境必须与 Power BI 链接。这可以使用 Power BI Desktop 中的全局设置来完成(文件→选项→全局→ Python 脚本)。默认情况下，Anaconda 环境安装在以下位置:</p><p id="8d13" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">C:\Users\ <strong class="ke ir"> <em class="nh">用户名</em></strong>\ AppData \ Local \ Continuum \ anaconda 3 \ envs \ myenv</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/71fac33af972f13dcaf90ad006e735ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zQMKuyEk8LGrOPE-NByjrg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">文件→选项→全局→ Python 脚本</p></figure><h1 id="4671" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">什么是集群？</h1><p id="94c8" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">聚类是一种将具有相似特征的数据点分组的技术。这些分组对于探索数据、识别模式和分析数据子集非常有用。将数据组织成簇有助于识别数据中的底层结构，并在许多行业中找到应用。集群的一些常见业务用例有:</p><p id="1612" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">以营销为目的的✔客户细分。</p><p id="5ae8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">促销和折扣的✔顾客购买行为分析。</p><p id="9342" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">✔在诸如新冠肺炎的流行病爆发中识别地理群集。</p><h1 id="5c23" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">聚类的类型</h1><p id="2706" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">考虑到集群任务的主观性，有各种算法适合不同类型的问题。每种算法都有自己的规则和计算聚类背后的数学原理。</p><p id="b643" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">本教程是关于使用名为 PyCaret 的 Python 库在 Power BI 中实现聚类分析的。对这些算法背后的具体算法细节和数学的讨论超出了本教程的范围。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/f08b3503e064632bee59f9f62e6e3ef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2eQuIebjtTMJot27bWXgCQ.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Ghosal A .、Nandy A .、Das A.K .、Goswami S .、Panday M. (2020)对不同聚类技术及其应用的简短回顾。</p></figure><p id="4fb6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在本教程中，我们将使用 K-Means 算法，这是最简单和最流行的无监督机器学习算法之一。如果你想了解更多的 K-Means，你可以阅读<a class="ae la" href="https://stanford.edu/~cpiech/cs221/handouts/kmeans.html" rel="noopener ugc nofollow" target="_blank">这篇论文</a>。</p><h1 id="e7d1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">设置业务环境</h1><p id="eba8" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">在本教程中，我们将使用来自世界卫生组织<strong class="ke ir"> <em class="nh"> </em> </strong>全球卫生支出数据库的当前卫生支出数据集。该数据集包含 2000 年至 2017 年 200 多个国家的卫生支出占国民生产总值的百分比。</p><p id="6ea0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们的目标是通过使用 K-Means 聚类算法在这些数据中找到模式和组。</p><p id="b66f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae la" href="https://data.worldbank.org/indicator/SH.XPD.CHEX.GD.ZS" rel="noopener ugc nofollow" target="_blank">源数据</a></p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/dcb80e825df2672bbcd439be0569fee3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E1z19x_qa7rko1FZpAw61Q.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">样本数据点</p></figure><h1 id="6e59" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">👉我们开始吧</h1><p id="967e" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">现在，您已经设置了 Anaconda 环境，安装了 PyCaret，了解了集群分析的基础知识，并且有了本教程的业务上下文，让我们开始吧。</p><h1 id="1ffa" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">1.检索数据</h1><p id="6095" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">第一步是将数据集导入 Power BI Desktop。您可以使用 web 连接器加载数据。(Power BI 桌面→获取数据→来自 Web)。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/bf0c48d4c1fa86471c0da04816861b1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JZ3MwRe8rJXp5e0ac7lamw.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Power BI 桌面→获取数据→其他→ Web</p></figure><p id="2e3b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">链接到 csv 文件:<br/><a class="ae la" href="https://github.com/pycaret/powerbi-clustering/blob/master/clustering.csv" rel="noopener ugc nofollow" target="_blank">https://github . com/py caret/power bi-clustering/blob/master/clustering . CSV</a></p><h1 id="873b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">2.模特培训</h1><p id="ea1a" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">为了在 Power BI 中训练聚类模型，我们必须在 Power Query Editor 中执行 Python 脚本(Power Query Editor→Transform→Run Python script)。将以下代码作为 Python 脚本运行:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="b77c" class="nc lc iq my b gy nd ne l nf ng">from <strong class="my ir">pycaret.clustering</strong> import *<br/>dataset = <strong class="my ir">get_clusters</strong>(dataset, num_clusters=5, ignore_features=['Country'])</span></pre><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/ddf1acc4b740af8327542634a1a71e86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SK0XxzF9XZlwtGH1786OUQ.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">超级查询编辑器(转换→运行 python 脚本)</p></figure><p id="c45c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们使用<strong class="ke ir"> ignore_features </strong>参数忽略了数据集中的“<em class="nh"> Country </em>列。可能有许多原因导致您不想使用某些列来训练机器学习算法。</p><p id="b01b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">PyCaret 允许您隐藏而不是删除数据集中不需要的列，因为您可能需要这些列用于以后的分析。例如，在这种情况下，我们不想使用“国家”来训练算法，因此我们在<strong class="ke ir"> ignore_features 下传递它。</strong></p><p id="27e9" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">PyCaret 中有超过 8 种现成可用的聚类算法。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/569129160fdd2a010925691846f40810.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ihezKFr61Vrgu7E-0-JA5g.png"/></div></div></figure><p id="2c6b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">默认情况下，PyCaret 训练一个具有 4 个聚类的 K 均值聚类模型。默认值可以很容易地更改:</p><ul class=""><li id="c064" class="lz ma iq ke b kf kg kj kk kn nn kr no kv np kz mg mh mi mj bi translated">要更改模型类型，使用<strong class="ke ir"> get_clusters() </strong>中的<strong class="ke ir"> <em class="nh">模型</em> </strong>参数。</li><li id="fa23" class="lz ma iq ke b kf mk kj ml kn mm kr mn kv mo kz mg mh mi mj bi translated">要更改簇号，使用<strong class="ke ir"> <em class="nh"> num_clusters </em> </strong>参数。</li></ul><p id="13f0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">参见具有 6 个集群的<strong class="ke ir"> K 模式集群</strong>的示例代码。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="946e" class="nc lc iq my b gy nd ne l nf ng">from <strong class="my ir">pycaret.clustering </strong>import *<br/>dataset = <strong class="my ir">get_clusters</strong>(dataset, model='kmodes', num_clusters=6, ignore_features=['Country'])</span></pre><p id="8183" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">输出:</strong></p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/8ecfad9de53c3198826a9b721698f606.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RCYtFO6XDGI2-qbZdYeMfQ.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">聚类结果(执行 Python 代码后)</p></figure><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/8d6fbbbe965a66f465e9dd60a4e20db6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a6mAzuXC8Ta6gRyolaF5uA.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">最终输出(点击表格后)</p></figure><p id="7d70" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">包含分类标签的新列被附加到原始数据集。然后，所有年份列都被<em class="nh">取消透视</em>以规范化数据，这样它就可以用于 Power BI 中的可视化。</p><p id="d904" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">下面是 Power BI 的最终输出。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/ec5cc66f0ac2819a30a1fd9d1a2a3c60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oy_X3VIdVPS32qQxkOeehw.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Power BI Desktop 中的结果(应用查询后)</p></figure><h1 id="6894" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">3.仪表盘</h1><p id="687b" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">一旦您在 Power BI 中有了集群标签，以下是一个如何在 dashboard 中可视化集群标签以获得洞察力的示例:</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d8d269e92b2ca70f998e7c438848fc78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sUeqYcENVII1RlyYA_-Uxg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">仪表板的摘要页面</p></figure><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4eeb8cb01a2febde6d0a75675292dfcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ck--1zR_hRPqREKDC7ztg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">仪表板的详细信息页面</p></figure><p id="364d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你可以从我们的<a class="ae la" href="https://github.com/pycaret/powerbi-clustering" rel="noopener ugc nofollow" target="_blank"> GitHub </a>下载 PBIX 文件和数据集。</p><h1 id="6789" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">👉在生产中实施集群</h1><p id="dd91" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">上面展示的是在 Power BI 中实现集群的一种简单方法。但是，需要注意的是，每当 Power BI 数据集被刷新时，上面显示的方法都会训练聚类模型。这可能是一个问题，原因有二:</p><ul class=""><li id="a505" class="lz ma iq ke b kf kg kj kk kn nn kr no kv np kz mg mh mi mj bi translated">当使用新数据重新训练模型时，分类标签可能会改变(例如，在重新训练时，先前被标记为分类 1 的一些数据点可能被标记为分类 2)</li><li id="a0a2" class="lz ma iq ke b kf mk kj ml kn mm kr mn kv mo kz mg mh mi mj bi translated">你不想每天花几个小时的时间重新训练模型。</li></ul><p id="647a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在 Power BI 中实现集群的一种更有效的方法是使用预先训练的模型来生成集群标签，而不是每次都重新训练模型。</p><h1 id="9a9f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">事前培训模型</h1><p id="c691" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">你可以使用任何集成开发环境(IDE)或笔记本来训练机器学习模型。在此示例中，我们使用 Visual Studio 代码来训练一个聚类分析模型。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/b2b9cf95cf4311278153ccab91b36271.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5roevyCmjxWthy0bYyf4ow.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Visual Studio 代码中的模型定型</p></figure><p id="f6f4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">然后将训练好的模型保存为 pickle 文件，并导入到 Power Query 中以生成分类标签。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/24df77146e079b8277252671c595a4d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XxknQxv_O_Cx1WJ4kzwPkQ.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">群集管道保存为 pickle 文件</p></figure><p id="5987" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果您想了解更多关于使用 PyCaret 在 Jupyter 笔记本中实现聚类分析的信息，请观看这个 2 分钟的视频教程:</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="nv nw l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae la" href="https://www.youtube.com/watch?v=2oxLDir7foQ" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=2oxLDir7foQ</a></p></figure><h1 id="11a5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用预先训练的模型</h1><p id="1f73" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">以 Python 脚本的形式执行以下代码，从预训练的模型中生成标签。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="c99d" class="nc lc iq my b gy nd ne l nf ng">from <strong class="my ir">pycaret.clustering </strong>import *<br/>dataset = <strong class="my ir">predict_model</strong>('c:/.../clustering_deployment_20052020, data = dataset)</span></pre><p id="226f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">它的输出将和我们上面看到的一样。不同之处在于，当您使用预训练模型时，标签是使用同一模型在新数据集上生成的，而不是重新训练模型。</p><h1 id="80ea" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">让它在 Power BI 服务上发挥作用</h1><p id="2833" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">一旦你上传了。pbix 文件到 Power BI 服务，还需要几个步骤来实现机器学习管道到数据管道的无缝集成。其中包括:</p><ul class=""><li id="3db7" class="lz ma iq ke b kf kg kj kk kn nn kr no kv np kz mg mh mi mj bi translated"><strong class="ke ir">为数据集</strong>启用计划刷新—要使用 Python 脚本为包含您的数据集的工作簿启用计划刷新，请参见<a class="ae la" href="https://docs.microsoft.com/en-us/power-bi/connect-data/refresh-scheduled-refresh" rel="noopener ugc nofollow" target="_blank">配置计划刷新</a>，其中还包括关于<strong class="ke ir">个人网关</strong>的信息。</li><li id="b967" class="lz ma iq ke b kf mk kj ml kn mm kr mn kv mo kz mg mh mi mj bi translated"><strong class="ke ir">安装个人网关</strong> —你需要一个<strong class="ke ir">个人网关</strong>安装在文件所在的机器上，并且安装了 PythonPower BI 服务必须能够访问 Python 环境。您可以获得关于如何<a class="ae la" href="https://docs.microsoft.com/en-us/power-bi/connect-data/service-gateway-personal-mode" rel="noopener ugc nofollow" target="_blank">安装和配置个人网关</a>的更多信息。</li></ul><p id="1aa3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果您有兴趣了解更多关于聚类分析的知识，请查看我们的笔记本教程<a class="ae la" href="https://www.pycaret.org/clu101" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl nx ny hu nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ij ik il im in"><h1 id="780e" class="lb lc iq bd ld le oe lg lh li of lk ll lm og lo lp lq oh ls lt lu oi lw lx ly bi translated">PyCaret 1.0.1 来了！</h1><p id="3a84" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">我们收到了来自社区的大力支持和反馈。我们正在积极改进 PyCaret，并准备我们的下一个版本。<strong class="ke ir"> PyCaret 1.0.1 会更大更好</strong>。如果您想分享您的反馈并帮助我们进一步改进，您可以<a class="ae la" href="https://www.pycaret.org/feedback" rel="noopener ugc nofollow" target="_blank">在网站上填写此表格</a>或者在我们的<a class="ae la" href="https://www.github.com/pycaret/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>或<a class="ae la" href="https://www.linkedin.com/company/pycaret/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>页面上发表评论。</p><p id="1906" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">关注我们的<a class="ae la" href="https://www.linkedin.com/company/pycaret/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>并订阅我们的<a class="ae la" href="https://www.youtube.com/channel/UCxA1YTYJ9BEeo50lxyI_B3g" rel="noopener ugc nofollow" target="_blank"> Youtube </a>频道，了解更多关于 PyCaret 的信息。</p><h1 id="5bf5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">重要链接</h1><p id="42bf" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated"><a class="ae la" href="https://www.pycaret.org/guide" rel="noopener ugc nofollow" target="_blank">用户指南/文档</a> <br/> <a class="ae la" href="https://www.github.com/pycaret/pycaret" rel="noopener ugc nofollow" target="_blank"> GitHub 资源库<br/> </a> <a class="ae la" href="https://www.pycaret.org/install" rel="noopener ugc nofollow" target="_blank">安装 PyCaret </a> <br/> <a class="ae la" href="https://www.pycaret.org/tutorial" rel="noopener ugc nofollow" target="_blank">笔记本教程</a> <br/> <a class="ae la" href="https://www.pycaret.org/contribute" rel="noopener ugc nofollow" target="_blank">贡献于 PyCaret </a></p><h1 id="41c1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">想了解某个特定模块？</h1><p id="6ca9" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">从第一个版本 1.0.0 开始，PyCaret 有以下模块可供使用。点击下面的链接，查看 Python 中的文档和工作示例。</p><p id="85f5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae la" href="https://www.pycaret.org/classification" rel="noopener ugc nofollow" target="_blank">分类</a> <br/> <a class="ae la" href="https://www.pycaret.org/regression" rel="noopener ugc nofollow" target="_blank">回归<br/> </a> <a class="ae la" href="https://www.pycaret.org/clustering" rel="noopener ugc nofollow" target="_blank">聚类</a> <br/> <a class="ae la" href="https://www.pycaret.org/anomaly-detection" rel="noopener ugc nofollow" target="_blank">异常检测<br/> </a> <a class="ae la" href="https://www.pycaret.org/nlp" rel="noopener ugc nofollow" target="_blank">自然语言处理</a> <br/> <a class="ae la" href="https://www.pycaret.org/association-rules" rel="noopener ugc nofollow" target="_blank">关联规则挖掘</a></p><h1 id="ad82" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">另请参见:</h1><p id="290c" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">笔记本中的 PyCaret 入门教程:</p><p id="efd9" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae la" href="https://www.pycaret.org/clu101" rel="noopener ugc nofollow" target="_blank">聚类</a> <br/> <a class="ae la" href="https://www.pycaret.org/anom101" rel="noopener ugc nofollow" target="_blank">异常检测</a> <br/> <a class="ae la" href="https://www.pycaret.org/nlp101" rel="noopener ugc nofollow" target="_blank">自然语言处理</a> <br/> <a class="ae la" href="https://www.pycaret.org/arul101" rel="noopener ugc nofollow" target="_blank">关联规则挖掘</a> <br/> <a class="ae la" href="https://www.pycaret.org/reg101" rel="noopener ugc nofollow" target="_blank">回归</a> <br/> <a class="ae la" href="https://www.pycaret.org/clf101" rel="noopener ugc nofollow" target="_blank">分类</a></p><h1 id="2f5c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">你愿意投稿吗？</h1><p id="6b23" class="pw-post-body-paragraph kc kd iq ke b kf mb kh ki kj mc kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ij bi translated">PyCaret 是一个开源项目。欢迎每个人都来投稿。如果您愿意投稿，请随意处理<a class="ae la" href="https://github.com/pycaret/pycaret/issues" rel="noopener ugc nofollow" target="_blank">个未决问题</a>。dev-1.0.1 分支上的单元测试接受拉请求。</p><p id="6c71" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你喜欢 PyCaret，请给我们 GitHub 回购的⭐️。</p><p id="e204" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">中:【https://medium.com/@moez_62905/】T4</p><p id="b262" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">领英:<a class="ae la" href="https://www.linkedin.com/in/profile-moez/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/profile-moez/</a></p><p id="7a35" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">推特:<a class="ae la" href="https://twitter.com/moezpycaretorg1" rel="noopener ugc nofollow" target="_blank">https://twitter.com/moezpycaretorg1</a></p></div></div>    
</body>
</html>