<html>
<head>
<title>A Continent On Fire</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">着火的大陆</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-continent-on-fire-a8cc7b47e0f2?source=collection_archive---------50-----------------------#2020-01-21">https://towardsdatascience.com/a-continent-on-fire-a8cc7b47e0f2?source=collection_archive---------50-----------------------#2020-01-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fcfe" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用BigQuery Geo Viz可视化野火</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/46b4053782da07ded70edf8fa8be5e6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U5ele3eRUNBg4reXYnU8vA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="ky">这张图片是在</em> <a class="ae kz" href="https://commons.wikimedia.org/wiki/File:Bush_fire_at_Captain_Creek_central_Queensland_Australia..JPG#metadata" rel="noopener ugc nofollow" target="_blank"> <em class="ky">知识共享</em> </a> <em class="ky">许可</em>下授权的</p></figure><p id="95b7" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi lw translated">澳大利亚的野火已经烧毁了超过1070万公顷的土地。客观地说，这比苏格兰或韩国的面积还要大。破坏的规模确实是空前的。这场大火已经夺去了几十条生命和五亿多只动物的生命。</p><p id="bb4f" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这个周末，当我看着悉尼港上空的雨时，我不禁想知道是否有一种方法可以让我成为这个挑战的长期解决方案的一部分。火灾一直是这片土地的特色，而且只会越来越严重。作为小小的第一步，我想至少想象一下这些火灾发生在哪里。</p><p id="05b4" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">进入BigQuery的魔力。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="a951" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">构建数据管道</h1><p id="a0d9" class="pw-post-body-paragraph la lb it lc b ld ne ju lf lg nf jx li lj ng ll lm ln nh lp lq lr ni lt lu lv im bi translated">BigQuery托管各种不同的数据集，这些数据集可以公开访问。这是一个很好的数据探索资源。在这个存储库中，我找到了一个来自NASA的数据集，它提供了关于全球野火位置的数据。</p><p id="f13b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">该数据集涵盖了位置(纬度和经度)，以及上周检测到的火灾的各种属性。对于那些希望更深入了解的人，我从下面的NASA网站上剽窃了广告词。我说得再好不过了。</p><blockquote class="nj nk nl"><p id="a1c9" class="la lb nm lc b ld le ju lf lg lh jx li nn lk ll lm no lo lp lq np ls lt lu lv im bi translated">可见红外成像辐射计套件(VI IRS)375m(<a class="ae kz" href="https://earthdata.nasa.gov/earth-observation-data/near-real-time/firms/v1-vnp14imgt" rel="noopener ugc nofollow" target="_blank">vnp 14 imgtdl _ NRT</a>)主动火力产品是最新加入公司的产品。它提供来自NASA/NOAA Suomi国家极地轨道伙伴关系(Suomi NPP)和NOAA-20卫星上的VIIRS传感器的数据。375 m数据补充了中分辨率成像光谱仪(MODIS)火灾探测；它们在热点探测方面都表现出良好的一致性，但375米数据的空间分辨率的提高对相对较小区域的火灾提供了更大的响应，并提供了较大火灾周界的改进绘图。375米的数据也提高了夜间性能。因此，这些数据非常适合用于支持火灾管理(例如，近实时警报系统)，以及需要改进火灾绘图保真度的其他科学应用。推荐阅读:<a class="ae kz" href="https://viirsland.gsfc.nasa.gov/PDF/VIIRS_activefire_User_Guide.pdf" rel="noopener ugc nofollow" target="_blank"> VIIRS 375 m主动火力算法用户指南</a></p></blockquote><p id="f2a7" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">数据集的大小约为40mb。与Bigquery能够处理的万亿字节和千兆字节规模的数据集相比，这实在是小得可笑。</p><p id="99c0" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我决定用一个简单的SQL语句将所有数据复制到一个项目中。</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="4df0" class="nv mn it nr b gy nw nx l ny nz">CREATE OR REPLACE TABLE<br/> `as-ghcn.nasa_wildfire.past_week` AS<br/>SELECT<br/> ST_GEOGPOINT(longitude,<br/> latitude) AS longlat,<br/> *<br/>FROM<br/> `bigquery-public-data.nasa_wildfire.past_week`</span></pre><p id="a993" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我需要将纬度和经度数据(<code class="fe oa ob oc nr b">FLOAT</code>值)转换成<code class="fe oa ob oc nr b">GEOGRAPHY</code>数据类型。这是形成数据并为BigQuery Geo Viz做好准备所需的唯一一点预处理。我将查询安排在每周一运行，并用NASA的最新数据更新数据集。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="8d22" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">探索数据</h1><p id="2096" class="pw-post-body-paragraph la lb it lc b ld ne ju lf lg nf jx li lj ng ll lm ln nh lp lq lr ni lt lu lv im bi translated">BigQuery Geo Viz是一个使用Google Maps APIs在BigQuery中可视化地理空间数据的web工具。您可以运行SQL查询并在交互式地图上显示结果。这是一个轻量级工具，允许您快速、交互式地浏览空间数据。我无法强调这有多痛苦。没有基本地图的配置或加载。</p><p id="d5aa" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">下面的查询加载了数据集中被高置信度检测到的所有火灾。我放大了澳大利亚的东海岸来提供一个可行的例子。该样式仅用于示例目的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/51e1e5c6b95dfedd4d22e7c23d6fc7ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wdszy4NmTIo7mY8tneU6ng.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">澳大利亚东海岸的野火</p></figure><p id="e291" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">由于底层的基本地图是由谷歌地图支持的，因此有许多丰富的纹理特征可供用户使用，例如提供地形和卫星信息的视图。</p><div class="kj kk kl km gt ab cb"><figure class="oe kn of og oh oi oj paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/c6c4ea9f61669350b9b97a91fced8d9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*5SYE5gnSRwYyKtKbj8XGdA.png"/></div></figure><figure class="oe kn ok og oh oi oj paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/fa4a6a376d52846838b024bdf104aa4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*cGlB8B9ba2emQBLFfd7JVA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk ol di om on translated">澳大利亚维多利亚州的大火</p></figure></div><p id="77eb" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">你应该知道这个工具有一些限制。</p><ul class=""><li id="9731" class="oo op it lc b ld le lg lh lj oq ln or lr os lv ot ou ov ow bi translated">Geo Viz在地图上最多只能显示2，000个结果。</li><li id="35fe" class="oo op it lc b ld ox lg oy lj oz ln pa lr pb lv ot ou ov ow bi translated">Geo Viz支持众所周知的文本(WKT)格式的几何输入(点、线和多边形)，存储在<code class="fe oa ob oc nr b">STRING</code>列中。您可以使用BigQuery的地理功能将纬度和经度转换为WKT。</li><li id="7fac" class="oo op it lc b ld ox lg oy lj oz ln pa lr pb lv ot ou ov ow bi translated">实时、交互式分析由您的浏览器在本地处理，并受浏览器功能的限制。</li><li id="cd11" class="oo op it lc b ld ox lg oy lj oz ln pa lr pb lv ot ou ov ow bi translated">Geo Viz不支持与其他人共享可视化、保存可视化或下载可视化进行离线编辑。</li></ul><p id="0e76" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我发现最后一个限制非常令人失望，我希望产品团队将来能让GCP的客户也能使用它。</p><h1 id="9c18" class="mm mn it bd mo mp pc mr ms mt pd mv mw jz pe ka my kc pf kd na kf pg kg nc nd bi translated">展望未来</h1><p id="1f5e" class="pw-post-body-paragraph la lb it lc b ld ne ju lf lg nf jx li lj ng ll lm ln nh lp lq lr ni lt lu lv im bi translated">放眼澳大利亚之外，我想看看世界其他地方是否有大火在燃烧。乍一看，中非和东南亚的大部分地区似乎都着火了。这肯定会成为全球新闻吧？</p><div class="kj kk kl km gt ab cb"><figure class="oe kn ph og oh oi oj paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/180c9844cf49016f62bcd393f1eb4658.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*15u30B-wK9KDVlZuYAMiSg.png"/></div></figure><figure class="oe kn pi og oh oi oj paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/11003e920de73e6b8009e1753fe33a65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*SVbl5sa_ruM5HmhlDRHTHg.png"/></div></figure></div><p id="13e0" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我在网上简单查了一下，你看到的火灾很可能是低强度的农业火灾。农民们通常会点燃农田，烧掉剩余的草和灌木。这种燃烧有助于保持肥沃的土壤。我记得我在坦桑尼亚的时候。</p><p id="4134" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">虚惊一场？也许吧，但我们无法确定，因为世界上许多地方都没有报道或报道不足。</p></div></div>    
</body>
</html>