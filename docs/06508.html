<html>
<head>
<title>6 Methods You Must Know When Dealing With Dates &amp; Times</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">处理日期和时间时你必须知道的 6 种方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/6-methods-you-must-know-when-dealing-with-datetime-fa0160fe579a?source=collection_archive---------41-----------------------#2020-05-23">https://towardsdatascience.com/6-methods-you-must-know-when-dealing-with-datetime-fa0160fe579a?source=collection_archive---------41-----------------------#2020-05-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6763" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">迄今为止最混乱的数据类型</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/00763c97cceb4d7190b180f71c92c890.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*atJxL1986Z5r4DJMOx5GZg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/photos/tT2DSShVDTI" rel="noopener ugc nofollow" target="_blank">图像 1 </a>，<a class="ae ky" href="https://unsplash.com/photos/faixctm2YRQ" rel="noopener ugc nofollow" target="_blank">图像 2 </a>。免费分享图片。</p></figure><p id="5144" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">日期和时间对于任何编程应用都是不可或缺的——它是运动的驱动力，也是我们在宇宙巨大时间线上所处位置的稳定指示器。计算机科学中的每个子领域——从数据科学和人工智能到设计网页——都需要理解处理日期。</p><p id="e78d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为它们太混乱了(简单的任务:尝试编写一个程序，在没有任何外部库的情况下找到 date <em class="lv"> n </em>之后 64 天的日期)，并且非常复杂——日期的长度、闰年、嵌套在父对象中的子对象——当处理 datetime 对象时，您必须知道这 6 个函数和方法。</p><blockquote class="lw lx ly"><p id="c717" class="kz la lv lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">注意:本文讨论 Python 中的 datetime。</p></blockquote></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="d57a" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">dateutil.parser.parse</h1><p id="291e" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">将字符串转换成日期很常见——要访问一个<code class="fe ng nh ni nj b">datetime</code>对象的属性，代表日期的字符串必须转换成日期。不幸的是，数据集或其他数据源几乎从来没有能够方便访问的<code class="fe ng nh ni nj b">datetime</code>对象。将字符串转换为日期最好的库是<code class="fe ng nh ni nj b">dateutil</code>，它可以自动推断日、月、年的位置，这需要用其他库来指定。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="7bfa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe ng nh ni nj b">dateutil</code>可以适应各种各样的日期，其中每一行的每一个命令自动推断物体的位置并产生相同的结果(<code class="fe ng nh ni nj b">datetime.datetime(2040, 7, 3, 0, 0)</code>):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="51d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果一个人能从字符串中分辨出日期，那么<code class="fe ng nh ni nj b">dateutil</code>也能。使用这个库，您可以避免通过传统的日期时间转换方法执行的烦人的日期对象映射。当并非所有日期都以相同的格式出现时，这一点尤其有用，现实世界的数据通常就是这种情况。</p><h1 id="d67b" class="mj mk it bd ml mm nm mo mp mq nn ms mt jz no ka mv kc np kd mx kf nq kg mz na bi translated">datetime.datetime.now()</h1><p id="23fe" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">要访问当前时间，使用<code class="fe ng nh ni nj b">datetime.datetime.now()</code>。这将返回一个 datetime 对象，返回您所在地区的时间，精确到微秒。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="a3d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一种方法是<code class="fe ng nh ni nj b">datetime.datetime.today()</code>，它返回相同的信息，但是精度较低。这可能更适合于高流量的情况，在这种情况下，计算时间的微小改进可能证明是有价值的。</p><h1 id="0375" class="mj mk it bd ml mm nm mo mp mq nn ms mt jz no ka mv kc np kd mx kf nq kg mz na bi translated">日期时间.时间增量</h1><p id="4da1" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">当您找到两个 datetime 对象之间的差异时，将返回 timedelta 对象。例如，要返回 1938 年 7 月 3 日到 2020 年 5 月 30 日之间的差值，将运行以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="11ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简单地在两个 datetime 对象之间使用减号操作符交互将创建一个 timedelta 对象，在本例中，该对象被保存到变量<code class="fe ng nh ni nj b">delta</code>。</p><p id="11a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">timedelta 对象有几个属性:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="f2bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您甚至可以将 timedelta 对象添加到常规 datetime 对象中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h1 id="882c" class="mj mk it bd ml mm nm mo mp mq nn ms mt jz no ka mv kc np kd mx kf nq kg mz na bi translated">日历。Calendar.itermonthdates()</h1><p id="0ff2" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">Calendar 是一个建立在 datetime 之上的库，它提供了方便的日历相关函数，有助于避免手动跟踪闰年和一个月中的天数。为了访问迭代函数，必须首先创建一个<code class="fe ng nh ni nj b">Calendar</code>对象。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="0c38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参数<code class="fe ng nh ni nj b">firstweekday</code>设置为 0，表示星期一，但也可以设置为 6(星期日)或两者之间的任何一天。</p><p id="4af4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑<code class="fe ng nh ni nj b">.itermonthdates()</code>，它接受一个月和一年，并返回一个迭代器，该迭代器包含该月中的所有日期，包括完成一周所需的任何前后日期。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="32d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="a207" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Calendar 还有许多其他函数来返回各种各样的迭代器，以及其他功能，如打印 HTML 或文本日历，这些可以在文档页面访问:</p><div class="nr ns gp gr nt nu"><a href="https://docs.python.org/3/library/calendar.html" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">日历-通用日历相关函数- Python 3.8.3 文档</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">源代码:Lib/calendar.py 这个模块允许你像 Unix cal 程序一样输出日历，并提供…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">docs.python.org</p></div></div></div></a></div><h1 id="7ad3" class="mj mk it bd ml mm nm mo mp mq nn ms mt jz no ka mv kc np kd mx kf nq kg mz na bi translated">箭头。Arrow.humanize()</h1><p id="e7a2" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">Arrow 是一个 Python 库，它的<code class="fe ng nh ni nj b">humanize()</code>属性非常突出。这种方法允许人们更无缝地与日期对象交互和解释日期对象。首先必须创建一个 Arrow 对象(可以容纳 datetime 对象并转换成<code class="fe ng nh ni nj b">Arrow</code>对象)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="a13e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">调用<code class="fe ng nh ni nj b">time.humanize()</code>将产生一个字符串，其中包含一条人类可读的消息，描述<code class="fe ng nh ni nj b">time</code>是从多久以前到现在。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="bc6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以想象，这个特性对 UI 设计开发人员特别有帮助，他们可以用它来显示像“Josh 两分钟前发送了这条消息”或“你一年前编辑了这个文档”这样的消息。Arrow 也可以处理未来的日期。</p><h1 id="5604" class="mj mk it bd ml mm nm mo mp mq nn ms mt jz no ka mv kc np kd mx kf nq kg mz na bi translated">德罗林</h1><p id="b762" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">为了纪念<em class="lv">回到未来</em>而命名，Delorean 主要是因为其方便的自然语言理解而被使用，这意味着通过日期操作人类导航的简易性。首先，创建一个 Delorean 对象，它可以容纳<code class="fe ng nh ni nj b">datetime</code>对象:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="fe3d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想获得下周、下周五、上周二的日期，或者任何数量的可理解的命令，只需调用适当的函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="988a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这可以为您和阅读您代码的人提供更容易、更直观的日期操作。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h2 id="571c" class="od mk it bd ml oe of dn mp og oh dp mt li oi oj mv lm ok ol mx lq om on mz oo bi translated">感谢阅读！</h2><p id="0318" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">希望这些库和方法可以帮助您处理日期和时间！</p></div></div>    
</body>
</html>