<html>
<head>
<title>10 Quick Clean Coding Hacks in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的10个快速清理编码技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/10-quick-and-clean-coding-hacks-in-python-1ccb16aa571b?source=collection_archive---------6-----------------------#2020-06-19">https://towardsdatascience.com/10-quick-and-clean-coding-hacks-in-python-1ccb16aa571b?source=collection_archive---------6-----------------------#2020-06-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8076" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让你的Python脚本漂亮易读</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c72353941a2aaffaee5e11d6e0f08ed5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DLa8yczafz-nI31s"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">克里斯里德在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="8c1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嘿大家好！得益于Python漂亮的简单性，它提供了多种方法来完成相同的任务。它也是一种非常直观和易于读写的语言。也就是说，很容易被Python冲昏头脑，使事情看起来比实际需要的更复杂。<strong class="lb iu">pep 8</strong>《python风格指南》提供了一些保持python整洁的指南。这里有一个快速列表，列出了10个你可以在代码中立即开始做的事情。</p><h2 id="0b04" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">1.帮你的合作开发者一个忙，使用docstrings</h2><p id="6a79" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">使用“三重双引号”来编写文档字符串，清楚地解释您的函数、模块和脚本的用途，即使您是以其他方式对其进行注释。请记住以句点结束文档字符串。(.)</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="5d64" class="lv lw it mu b gy my mz l na nb">def get_percent_sales(product,sales,region):</span><span id="3ae6" class="lv lw it mu b gy nc mz l na nb">“““Return the product Sales volumes in percent of total in country.</span><span id="875a" class="lv lw it mu b gy nc mz l na nb">Get percentage of product sales of the region.</span><span id="d07a" class="lv lw it mu b gy nc mz l na nb">This function gets the product and corresponding sales by region and returns a percent sales of the region by total sales in that country. Region input is accepted only by city. Districts are not accepted. If city name is not found, exception is thrown.</span><span id="20ac" class="lv lw it mu b gy nc mz l na nb">         Parameters: </span><span id="969f" class="lv lw it mu b gy nc mz l na nb">             product (str) : Product name</span><span id="a8bd" class="lv lw it mu b gy nc mz l na nb">             sales (int) : Sales Volume</span><span id="14bf" class="lv lw it mu b gy nc mz l na nb">         Returns: <br/>             percent_sales (float): Percent of total sales of    <br/>                                    product.<br/>"""</span></pre><h2 id="509d" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">2.让你的逻辑陈述看起来更直观</h2><p id="cf9f" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">不</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="7b31" class="lv lw it mu b gy my mz l na nb">if is_white == False</span><span id="b219" class="lv lw it mu b gy nc mz l na nb">if not is_white == False</span></pre><p id="ba71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">做</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="fdbe" class="lv lw it mu b gy my mz l na nb">is_white = True</span><span id="3561" class="lv lw it mu b gy nc mz l na nb">if is_white:</span><span id="822e" class="lv lw it mu b gy nc mz l na nb">else: </span></pre><h2 id="0e45" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">3.使用。用join代替+来执行字符串连接</h2><p id="dc38" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">不</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="bd0c" class="lv lw it mu b gy my mz l na nb">my_name = ‘firstname’+ ‘ ‘ + ‘lastname’</span></pre><p id="9dfa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">做</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="77da" class="lv lw it mu b gy my mz l na nb">my_name = " ".join(['firstname','lastname'])</span></pre><h2 id="0004" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">4.对可读的for循环使用列表理解</h2><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="7df0" class="lv lw it mu b gy my mz l na nb">numbers = [1,2,3,4,5,6,7,8,9,10]</span></pre><p id="9a57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="18cc" class="lv lw it mu b gy my mz l na nb">even_halves = [ ]</span><span id="daa2" class="lv lw it mu b gy nc mz l na nb">for num in numbers:<br/>    if num%2 == 0:<br/>       even_halves.append(num/2)</span><span id="9143" class="lv lw it mu b gy nc mz l na nb">print(even_halves)</span></pre><p id="6151" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">做:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="5655" class="lv lw it mu b gy my mz l na nb">even_halves = [num/2 for num in numbers if num%2==0]</span></pre><h2 id="c32d" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">5.如果要给变量赋值，请使用def函数而不是lambda</h2><p id="dc3c" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">保存lambda函数，以便在表达式中进行计算。</p><p id="5e61" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="6e4b" class="lv lw it mu b gy my mz l na nb">squared = lamdba x: x**2</span></pre><p id="d1e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">做</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="1d21" class="lv lw it mu b gy my mz l na nb">def squared(x):<br/>   return x**2</span></pre><h2 id="50ae" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">6.打破那些长长的队伍</h2><p id="93d9" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">注意文本换行。保持在编辑器的换行范围内。</p><p id="6587" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="c15a" class="lv lw it mu b gy my mz l na nb">df = pd.read_excel('This/extremely/long/file/path/that/extends/ /to/the/next/line/and/screws/with/indentation.xlsx')</span><span id="9491" class="lv lw it mu b gy nc mz l na nb">mylist = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20000,30000,3100000320000]</span></pre><p id="4e1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">做反斜杠和隐式延续:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="3dfe" class="lv lw it mu b gy my mz l na nb">filepath = "this/sweet/line/" <strong class="mu iu">\</strong><br/>           "continued/prettily/"<strong class="mu iu">\</strong><br/>           "looksbetter.xlsx"</span><span id="0bb6" class="lv lw it mu b gy nc mz l na nb">df = pd.read_excel(filepath)</span><span id="c841" class="lv lw it mu b gy nc mz l na nb">my_list = [1,2,3,4,5,6,7,8,9,10,11,<br/>          12,13,14,15,16,17,18,19,<br/>          20000,30000,3100000,320000]</span><span id="eaed" class="lv lw it mu b gy nc mz l na nb">if this_happens or that_happens <strong class="mu iu">\</strong><br/>   or these_happen:<br/>      print('blah')<br/>else:<br/>   print('the other blah')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/60bf336e1489fb369ac1608ec3ee8ac8.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*o3Hg2AxFB3StvmJceiiobw.png"/></div></figure><h2 id="3750" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">7.尽可能使用范围而不是列表</h2><p id="c073" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">不</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="dbc5" class="lv lw it mu b gy my mz l na nb">indices = [0,2,4,6,8,10]</span><span id="72e3" class="lv lw it mu b gy nc mz l na nb">for idX in indices:</span><span id="b932" class="lv lw it mu b gy nc mz l na nb">    print(name[idX])</span></pre><p id="d158" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">做</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="a7b7" class="lv lw it mu b gy my mz l na nb">for idX in range(0,12,2):</span><span id="5ad8" class="lv lw it mu b gy nc mz l na nb">    print(name[idX])</span></pre><h2 id="0c76" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">8.在Try块下保持最小的代码量</h2><p id="ae6b" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">不</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="ef3f" class="lv lw it mu b gy my mz l na nb">try:</span><span id="92cf" class="lv lw it mu b gy nc mz l na nb">   names = get_data(students, classroom)</span><span id="1a46" class="lv lw it mu b gy nc mz l na nb">   numbers = get_scores(students, classroom)</span><span id="f8b5" class="lv lw it mu b gy nc mz l na nb">   return names,numbers</span><span id="0c4c" class="lv lw it mu b gy nc mz l na nb">except KeyError: </span></pre><p id="0b6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">做:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="5530" class="lv lw it mu b gy my mz l na nb">try:</span><span id="8596" class="lv lw it mu b gy nc mz l na nb">    names = get_data(students, classroom)</span><span id="e530" class="lv lw it mu b gy nc mz l na nb">    numbers = get_scores(students, classroom)</span><span id="6c5f" class="lv lw it mu b gy nc mz l na nb">except KeyError:<br/>    print('That's not a student in this classroom!')</span><span id="41ac" class="lv lw it mu b gy nc mz l na nb">return names, numbers</span></pre><h2 id="2074" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">9.比你已经做的多使用一些器械包</h2><p id="ef48" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">器械包提供的是性能而不是功能。如果在当前情况下不需要很多功能，那么最好选择集合而不是其他数据结构。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="de29" class="lv lw it mu b gy my mz l na nb">data = {‘find_this’, ‘among’, ‘all_the’,'other',’data’}</span><span id="5fef" class="lv lw it mu b gy nc mz l na nb">if‘find_this’ in data:</span><span id="a79a" class="lv lw it mu b gy nc mz l na nb">   print(‘this exists!’)</span><span id="2cdb" class="lv lw it mu b gy nc mz l na nb">long_stuff = [‘this’,’list’,’list’,’is’,<br/>             ’enormous’,’oh’,’my’,’god’,<br/>             ’god’,’what’,’is’,<br/>             ’unique’,’unique’]</span><span id="1f41" class="lv lw it mu b gy nc mz l na nb">unique_values = set(long_stuff) </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/9c4e2a91c294b7ae97d8ca8f37792460.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*eBeih_I9YMGj5sF7WSgVhg.png"/></div></figure><h2 id="cef0" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">10.使用zip迭代多个列表</h2><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="062a" class="lv lw it mu b gy my mz l na nb">students = [‘tom’,’dick’,’harry’,’larry’,’tim’,’benny’]</span><span id="fdc7" class="lv lw it mu b gy nc mz l na nb">scores = [100,20,40,60,30,40]</span></pre><p id="0dbb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="b121" class="lv lw it mu b gy my mz l na nb">for i in range(len(students)):</span><span id="aafb" class="lv lw it mu b gy nc mz l na nb">    print(student[i],scores[i]</span></pre><p id="5536" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">做</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="ae04" class="lv lw it mu b gy my mz l na nb">for student,score in zip(students,scores):<br/>    print(student,score)</span></pre></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><p id="5d48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是关于用python改进脚本的一些基本方法。遵循风格指南，做一个友好的程序员！</p></div></div>    
</body>
</html>