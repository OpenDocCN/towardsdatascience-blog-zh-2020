<html>
<head>
<title>Types Of Transformations For Better Normal Distribution</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">更好的正态分布的变换类型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/types-of-transformations-for-better-normal-distribution-61c22668d3b9?source=collection_archive---------6-----------------------#2020-05-29">https://towardsdatascience.com/types-of-transformations-for-better-normal-distribution-61c22668d3b9?source=collection_archive---------6-----------------------#2020-05-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7212" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">正态分布的必要性</h2></div><p id="7e93" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">统计分析中最常见的假设之一是正态性。你同意吗？</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/b07cd99e6d27ba2fccb6b814bf2c0469.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2FD13qw_VdrRRjSXm6xqrA.png"/></div></div></figure><p id="0fd4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你好，世界，这是我为数据科学社区写的第一篇博客。在这篇博客中，我们将看到各种类型的数据转换，以更好地适应正态分布(高斯分布)。</p><p id="640d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们知道，在回归分析中，响应变量应该是正态分布的，以获得更好的预测结果。</p><p id="e5eb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">大多数数据科学家声称，当他们转换自变量时，他们会得到更准确的结果。这意味着独立变量的偏斜校正。偏斜度越低，结果越好。</p><p id="8e8b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> <em class="lo">变换无非是取一个数学函数，并将其应用于数据。</em> </strong></p><p id="ca68" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们开始吧！</p></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><h1 id="4b6d" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">概观</h1><ol class=""><li id="3e39" class="mo mp iq kh b ki mq kl mr ko ms ks mt kw mu la mv mw mx my bi translated">对数变换</li><li id="7108" class="mo mp iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">平方根变换</li><li id="e6ce" class="mo mp iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">相互转化</li><li id="673e" class="mo mp iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">博克斯-考克斯变换</li><li id="8060" class="mo mp iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">Yeo-Johnson 变换(奖金)</li></ol><p id="5da0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了更加清晰，请访问我的 Github repo <a class="ae ln" href="https://github.com/tamilselvan15/types-of-distributions-to-get-better-fit" rel="noopener ugc nofollow" target="_blank">这里</a></p><h1 id="fb67" class="lw lx iq bd ly lz ne mb mc md nf mf mg jw ng jx mi jz nh ka mk kc ni kd mm mn bi translated">1.日志转换:</h1><p id="e607" class="pw-post-body-paragraph kf kg iq kh b ki mq jr kk kl mr ju kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">数值变量可能具有由异常值、高指数分布等引起的高偏斜和非正态分布(高斯分布)。因此，我们选择数据转换。</p><p id="854a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在对数变换中，x 的每个变量将被以 10 为底、以 2 为底或自然对数的 log(x)代替。</p><pre class="lc ld le lf gt nm nn no np aw nq bi"><span id="544a" class="nr lx iq nn b gy ns nt l nu nv">import numpy as np<br/>log_target = np.log1p(df["Target"])</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi nw"><img src="../Images/3237b6f09db6c762ab44411c60ccff3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M9ArFYJ1yF5BONXlfFf7Cw.png"/></div></div></figure><p id="3649" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上图是原始数据和对数转换数据的比较。在这里，我们可以看到转换数据中的偏斜度降低了。(最佳偏斜值应该接近零)</p><h1 id="d8a0" class="lw lx iq bd ly lz ne mb mc md nf mf mg jw ng jx mi jz nh ka mk kc ni kd mm mn bi translated">2.平方根变换:</h1><p id="b18d" class="pw-post-body-paragraph kf kg iq kh b ki mq jr kk kl mr ju kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">这一转变将对分配产生适度的影响。平方根变换的主要优点是，它可以应用于零值。</p><p id="c12c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里 x 将被平方根(x)代替。它比对数变换弱。</p><pre class="lc ld le lf gt nm nn no np aw nq bi"><span id="b0bf" class="nr lx iq nn b gy ns nt l nu nv">sqrt_target = df["Target"]**(1/2)</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi nw"><img src="../Images/5d3dc9c89aecf7643819d5cf8b984749.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W3EUNfuihV968ex24YintQ.png"/></div></div></figure><h1 id="a0a7" class="lw lx iq bd ly lz ne mb mc md nf mf mg jw ng jx mi jz nh ka mk kc ni kd mm mn bi translated">3.相互转换:</h1><p id="d838" class="pw-post-body-paragraph kf kg iq kh b ki mq jr kk kl mr ju kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">在这个变换中，x 将替换为 x 的倒数(1/x)。</p><p id="d650" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">互易变换对分布的形状几乎没有影响。此转换只能用于非零值。</p><pre class="lc ld le lf gt nm nn no np aw nq bi"><span id="0184" class="nr lx iq nn b gy ns nt l nu nv">reciprocal_target = 1/df["Target"]</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi nw"><img src="../Images/5757afd6a19ea9f80ae9e3214efd9f87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iq0WYGsSGwQugpKkmDcm-A.png"/></div></div></figure><p id="f738" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">变换数据的偏斜度增加。</p><h1 id="7aea" class="lw lx iq bd ly lz ne mb mc md nf mf mg jw ng jx mi jz nh ka mk kc ni kd mm mn bi translated">4.Box-Cox 变换；</h1><p id="c4fc" class="pw-post-body-paragraph kf kg iq kh b ki mq jr kk kl mr ju kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">这是我最喜欢的转换技术之一。</p><p id="4b71" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Box-cox 变换对许多数据性质都非常有效。下图是 Box-cox 变换的数学公式。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/a62adc353ca196d28f8bbf4b40dec2e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:444/format:webp/1*NStk70h8fRWPGGJ6Pu1gVA.png"/></div></figure><p id="cdee" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">考虑从-5 到 5 变化的所有λ值，并选择数据的最佳值。“最佳”值是导致分布的最佳偏斜度的值。当λ为零时，将发生对数变换。</p><pre class="lc ld le lf gt nm nn no np aw nq bi"><span id="1a09" class="nr lx iq nn b gy ns nt l nu nv">from scipy.stats import boxcox<br/>bcx_target, lam = boxcox(df["Target"])<br/>#lam is the best lambda for the distribution</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi nw"><img src="../Images/c594c570263b057535f4cc4a068e5afb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J0_Lw_-SsDdyoaSjPF88Yg.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">博克斯-考克斯变换</p></figure><p id="dead" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里，我们注意到 Box-cox 函数降低了偏斜度，它几乎等于零。工作良好；)</p><p id="d6c9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于这种转换，值严格地为正。</p><h1 id="6a5e" class="lw lx iq bd ly lz ne mb mc md nf mf mg jw ng jx mi jz nh ka mk kc ni kd mm mn bi translated">5.杨-约翰逊变换；</h1><p id="99ca" class="pw-post-body-paragraph kf kg iq kh b ki mq jr kk kl mr ju kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">这是一种较老的变换技术，非常类似于 Box-cox 变换，但不要求值严格为正。</p><p id="b6bb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这种转变也有能力使分布更加对称。</p><pre class="lc ld le lf gt nm nn no np aw nq bi"><span id="3de6" class="nr lx iq nn b gy ns nt l nu nv">from scipy.stats import yeojohnson<br/>yf_target, lam = yeojohnson(df["TARGET"])</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi nw"><img src="../Images/9c3e6ab33ed0214d434970bae937bdbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7B2NCUQn2GoT8u_TuQ6uuQ.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">约-约翰逊变换</p></figure><p id="ae37" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Yeo-Johnson 变换工作得很好，比 Box-cox 变换更好。</p><h1 id="6595" class="lw lx iq bd ly lz ne mb mc md nf mf mg jw ng jx mi jz nh ka mk kc ni kd mm mn bi translated">结论:</h1><p id="f5ce" class="pw-post-body-paragraph kf kg iq kh b ki mq jr kk kl mr ju kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">在这篇博客中，我们看到了不同类型的变换(有一个额外的最古老的变换技术)来更好地适应常态。杨永强永远不会是正确的选择。对于某些类型的数据，Box-cox 会工作得更好，所以我们必须使用最好的转换技术。</p><p id="3cc6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在下一篇博客中，我们将看到均匀分布。:)</p><p id="c5c9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过<a class="ae ln" href="https://www.linkedin.com/in/tamilselvan15/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>联系我；)</p><p id="c441" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">欢迎评论:)</p></div></div>    
</body>
</html>