<html>
<head>
<title>How To Visualize the Coronavirus Pandemic with Choropleth Maps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Choropleth图显示疫情冠状病毒</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualizing-the-coronavirus-pandemic-with-choropleth-maps-7f30fccaecf5?source=collection_archive---------7-----------------------#2020-03-29">https://towardsdatascience.com/visualizing-the-coronavirus-pandemic-with-choropleth-maps-7f30fccaecf5?source=collection_archive---------7-----------------------#2020-03-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0eec" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于Choropleth地图的介绍和教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5966633e2105f14adb13535f421a9bed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IRCIzwfn8iCUPP5blvl_tQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4950995" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>的<a class="ae ky" href="https://pixabay.com/users/MiroslavaChrienova-6238194/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4950995" rel="noopener ugc nofollow" target="_blank">米洛丝拉娃·克里斯诺娃</a></p></figure><h1 id="e2f2" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="bd1f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我非常支持数据可视化，因为我相信这是以简单易懂的方式说明和解释复杂信息，尤其是数字数据的最有效方法。此外，当正确执行时，可视化数据可以减少或帮助减轻数据解释中的偏差。</p><p id="d427" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我最喜欢的可视化类型之一是<strong class="lt iu">动画choropleth地图。鉴于疫情正在进行，我认为现在是展示动画choropleth地图威力的好时机。</strong></p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="c647" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在本文中，您将了解以下内容:</p><ol class=""><li id="ece9" class="mz na it lt b lu mn lx mo ma nb me nc mi nd mm ne nf ng nh bi translated">什么是choropleth地图</li><li id="b61c" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated">何时以及为什么使用它们最有效</li><li id="7720" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated">Python代码来创建您自己的choropleth地图，如下所示:</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="bed6" class="kz la it bd lb lc np le lf lg nq li lj jz nr ka ll kc ns kd ln kf nt kg lp lq bi translated">Choropleth地图</h1><p id="0a54" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu"> choropleth地图</strong>是一种专题地图，其中区域或地区按照给定数据变量的比例进行着色。</p><p id="3edc" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">当您想要按区域比较所需变量时，静态choropleth图</strong>最有用。例如，如果你想比较某一时刻美国各州的犯罪率，你可以用一个静态的choropleth来显示。</p><p id="76c2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">一个<strong class="lt iu">动画</strong>或<strong class="lt iu">动态弦线图</strong>类似于一个静态弦线图，除了你可以随时间按区域<strong class="lt iu">比较一个变量。这增加了第三维度的信息，也是这些可视化变得如此有趣和强大的原因。</strong></p><h1 id="541e" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">可视化冠状病毒疫情</h1><p id="f347" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我用来创建以下可视化效果的数据是Kaggle的新Corona Virus 2019数据集，可以在这里找到<a class="ae ky" href="https://www.kaggle.com/sudalairajkumar/novel-corona-virus-2019-dataset" rel="noopener ugc nofollow" target="_blank"/>。该数据集由多个来源组成，包括世界卫生组织、中华人民共和国国家卫生委员会和美国疾病控制中心。</p><p id="b3c8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><em class="nu">注意:如果这些来源中的任何一个未能提供准确和及时的数据，可视化可能会失真或不准确。</em></p><h2 id="1b0b" class="nv la it bd lb nw nx dn lf ny nz dp lj ma oa ob ll me oc od ln mi oe of lp og bi translated">静态Choropleth</h2><p id="6ef0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">以下是截至2020年3月28日各国冠状病毒确诊病例总数的静态分布图。你可以看到，病例数量最多的国家包括美国、中国、意大利以及其他几个欧洲国家。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/2e5555c519a3e8524e2533224c2b5bd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6kov1Hp7KfgMNrdbOcd1Eg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">冠状病毒确诊病例的静态霍乱弧菌</p></figure><p id="390e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">创建它的代码如下:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="32a1" class="nv la it oj b gy on oo l op oq"><strong class="oj iu"># Import libraries</strong><br/>import numpy as np <br/>import pandas as pd <br/>import plotly as py<br/>import plotly.express as px<br/>import plotly.graph_objs as go<br/>from plotly.subplots import make_subplots<br/>from plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot<br/>init_notebook_mode(connected=True)</span><span id="c1d8" class="nv la it oj b gy or oo l op oq"><strong class="oj iu"># Read Data</strong><br/>df = pd.read_csv("../input/novel-corona-virus-2019-dataset/covid_19_data.csv")</span><span id="3f2d" class="nv la it oj b gy or oo l op oq"><strong class="oj iu"># Rename columns</strong><br/>df = df.rename(columns={'Country/Region':'Country'})<br/>df = df.rename(columns={'ObservationDate':'Date'})</span><span id="4b0a" class="nv la it oj b gy or oo l op oq"><strong class="oj iu"># Manipulate Dataframe<br/></strong>df_countries = df.groupby(['Country', 'Date']).sum().reset_index().sort_values('Date', ascending=False)<br/>df_countries = df_countries.drop_duplicates(subset = ['Country'])<br/>df_countries = df_countries[df_countries['Confirmed']&gt;0]</span><span id="bada" class="nv la it oj b gy or oo l op oq"><strong class="oj iu"># Create the Choropleth</strong><br/>fig = go.Figure(data=go.Choropleth(<br/>    locations = df_countries['Country'],<br/>    locationmode = 'country names',<br/>    z = df_countries['Confirmed'],<br/>    colorscale = 'Reds',<br/>    marker_line_color = 'black',<br/>    marker_line_width = 0.5,<br/>))</span><span id="f5c9" class="nv la it oj b gy or oo l op oq">fig.update_layout(<br/>    title_text = 'Confirmed Cases as of March 28, 2020',<br/>    title_x = 0.5,<br/>    geo=dict(<br/>        showframe = False,<br/>        showcoastlines = False,<br/>        projection_type = 'equirectangular'<br/>    )<br/>)</span></pre><p id="1c0f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">请注意，您真正做的只是设置几个参数来引用数据集中的特定变量，如<strong class="lt iu">位置</strong>、<strong class="lt iu">位置模式</strong>和<strong class="lt iu"> z </strong>。代码的其余部分用于更改choropleth地图的外观。</p><h2 id="762a" class="nv la it bd lb nw nx dn lf ny nz dp lj ma oa ob ll me oc od ln mi oe of lp og bi translated">动画Choropleth地图</h2><p id="37a0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">你可以看到动画的choropleth地图比静态地图更有效，更吸引人。在这里，我们正在查看一段时间内各国确诊的冠状病毒病例总数。你可以看到，直到最近，中国的病例数一直是最多的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="1ac3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">创建它的代码如下:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="811d" class="nv la it oj b gy on oo l op oq"><strong class="oj iu"># Manipulating the original dataframe</strong><br/>df_countrydate = df[df['Confirmed']&gt;0]<br/>df_countrydate = df_countrydate.groupby(['Date','Country']).sum().reset_index()<br/>df_countrydate</span><span id="5794" class="nv la it oj b gy or oo l op oq"><strong class="oj iu"># Creating the visualization</strong><br/>fig = px.choropleth(df_countrydate, <br/>                    locations="Country", <br/>                    locationmode = "country names",<br/>                    color="Confirmed", <br/>                    hover_name="Country", <br/>                    animation_frame="Date"<br/>                   )</span><span id="2761" class="nv la it oj b gy or oo l op oq">fig.update_layout(<br/>    title_text = 'Global Spread of Coronavirus',<br/>    title_x = 0.5,<br/>    geo=dict(<br/>        showframe = False,<br/>        showcoastlines = False,<br/>    ))<br/>    <br/>fig.show()</span></pre><h1 id="55f9" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">感谢阅读！</h1><p id="d1b7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果你喜欢我的工作，想支持我…</p><ol class=""><li id="9327" class="mz na it lt b lu mn lx mo ma nb me nc mi nd mm ne nf ng nh bi translated">支持我的最好方式就是在<strong class="lt iu">Medium</strong>T8】这里关注我。</li><li id="64a1" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated">在<strong class="lt iu"> Twitter </strong>这里<a class="ae ky" href="https://twitter.com/terence_shin" rel="noopener ugc nofollow" target="_blank">成为第一批关注我的人之一</a>。我会在这里发布很多更新和有趣的东西！</li><li id="79b1" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated">此外，成为第一批订阅我的新<strong class="lt iu"> YouTube频道</strong> <a class="ae ky" href="https://www.youtube.com/channel/UCmy1ox7bo7zsLlDo8pOEEhA?view_as=subscriber" rel="noopener ugc nofollow" target="_blank">这里</a>！</li><li id="8009" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated">在<strong class="lt iu"> LinkedIn </strong>上关注我<a class="ae ky" href="https://www.linkedin.com/in/terenceshin/" rel="noopener ugc nofollow" target="_blank">这里</a>。</li><li id="26c2" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated">在我的<strong class="lt iu">邮箱列表</strong> <a class="ae ky" href="https://forms.gle/UGdTom9G6aFGHzPD9" rel="noopener ugc nofollow" target="_blank">这里</a>报名。</li><li id="fe29" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated">看看我的网站，<a class="ae ky" href="https://terenceshin.com/" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu">terenceshin.com</strong></a>。</li></ol><h1 id="b63a" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相关文章</h1><div class="os ot gp gr ou ov"><a rel="noopener follow" target="_blank" href="/coronavirus-data-visualizations-using-plotly-cfbdb8fcfc3d"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">使用Plotly实现冠状病毒数据可视化</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">新型冠状病毒2019数据集分析及代码</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">towardsdatascience.com</p></div></div><div class="pe l"><div class="pf l pg ph pi pe pj ks ov"/></div></div></a></div><div class="os ot gp gr ou ov"><a rel="noopener follow" target="_blank" href="/9-fascinating-novel-coronavirus-statistics-and-data-visualizations-710cfa039dfd"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">9种有趣的新型冠状病毒统计和数据可视化</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">以下是你应该知道的关于冠状病毒的知识</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">towardsdatascience.com</p></div></div><div class="pe l"><div class="pk l pg ph pi pe pj ks ov"/></div></div></a></div><h1 id="8927" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">资源</h1><div class="os ot gp gr ou ov"><a href="https://plotly.com/python/choropleth-maps/" rel="noopener  ugc nofollow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">Choropleth地图</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">如何用Plotly在Python中制作choropleth地图？</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">plotly.com</p></div></div><div class="pe l"><div class="pl l pg ph pi pe pj ks ov"/></div></div></a></div><div class="os ot gp gr ou ov"><a href="https://www.kaggle.com/sudalairajkumar/novel-corona-virus-2019-dataset" rel="noopener  ugc nofollow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">新型冠状病毒2019数据集</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">新冠肺炎受影响病例的日水平信息</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">www.kaggle.com</p></div></div><div class="pe l"><div class="pm l pg ph pi pe pj ks ov"/></div></div></a></div></div></div>    
</body>
</html>