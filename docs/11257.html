<html>
<head>
<title>How to format dates in Python3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Python3 中格式化日期</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-format-dates-in-python3-6b6fe65b65c0?source=collection_archive---------50-----------------------#2020-08-04">https://towardsdatascience.com/how-to-format-dates-in-python3-6b6fe65b65c0?source=collection_archive---------50-----------------------#2020-08-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="92f1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">strftime、format 和 f 字符串的比较</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c713229635f92e8d7ef67eaf391daee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z5FPc6KnwmjRNiF8NeJbbA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://www.pexels.com/@surene-palvie-1075224?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd kw"> Surene Palvie </strong> </a>发自<a class="ae kv" href="https://www.pexels.com/photo/four-green-yarns-on-chopping-board-2062061/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd kw"> Pexels </strong> </a></p></figure><p id="af23" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">您可能以前使用过 Python 的格式化语法。但是你如何格式化日期呢？使用 datetime 对象，可以用<code class="fe lt lu lv lw b">%Y</code>、<code class="fe lt lu lv lw b">%m</code>、<code class="fe lt lu lv lw b">%d</code>分别以数字形式显示对象的年、月、日(即三月会被数字“03”代替)。</p><p id="3278" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">Python 有几种格式化字符串的语法。这样每条线路都会产生相同的输出。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="dcec" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">输出:</p><pre class="kg kh ki kj gt lz lw ma mb aw mc bi"><span id="7d8e" class="md me iq lw b gy mf mg l mh mi">2020 年 08 月 04 日</span></pre><p id="f157" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi">These lines produce the standard for Japanese dates. 年 means year, 月 means month, 日 means day.</p><p id="a094" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">让我们看看每个语法。</p><h1 id="3b1e" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">使用<code class="fe lt lu lv lw b">strftime</code></h1><p id="04d4" class="pw-post-body-paragraph kx ky iq kz b la na jr lc ld nb ju lf lg nc li lj lk nd lm ln lo ne lq lr ls ij bi translated"><code class="fe lt lu lv lw b">strftime</code>是一个可以追溯到 python 早期的函数。它的名字相当神秘，但尽管如此，它最常用于我们所期望的日期格式化:一种工作就是格式化事物的方法。</p><p id="4bb2" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">它做得很好。但是语法可能有些笨拙。<code class="fe lt lu lv lw b">strftime</code>不是最容易打字的单词。此外，如果我们需要在同一个字符串中格式化几个日期呢？</p><p id="ed08" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">不过注意<code class="fe lt lu lv lw b">.strptime</code>的存在，它是<code class="fe lt lu lv lw b">.strftime</code>的逆变换。在英语中，这些名称可以翻译成“字符串解析时间”和“字符串格式化时间”。</p><h1 id="1c6c" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">使用<code class="fe lt lu lv lw b">.format</code>方法</h1><p id="77fe" class="pw-post-body-paragraph kx ky iq kz b la na jr lc ld nb ju lf lg nc li lj lk nd lm ln lo ne lq lr ls ij bi translated"><code class="fe lt lu lv lw b">.format</code>是<code class="fe lt lu lv lw b">str</code>类的一个方法，用来格式化一个包含格式化语法的字符串。我们称之为<em class="nf">的替代领域</em>以荣誉<code class="fe lt lu lv lw b">{}</code>为标志。它用于标记传递给该方法的参数将被插入的位置。奖项内的数字<code class="fe lt lu lv lw b">{1}</code>用于选择参数。注意它从 0 开始，所以第一个传递的参数将被插入<code class="fe lt lu lv lw b">{0}</code>。这里有一个例子来总结:</p><pre class="kg kh ki kj gt lz lw ma mb aw mc bi"><span id="5f51" class="md me iq lw b gy mf mg l mh mi">"The {0} parameter. The {2} parameter. The {1} parameter.".format("first", "second", "third")</span></pre><p id="c3ba" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">请注意，您可以根据需要订购或复制替换字段<code class="fe lt lu lv lw b">{}</code>的使用。您也可以插入命名参数</p><pre class="kg kh ki kj gt lz lw ma mb aw mc bi"><span id="197b" class="md me iq lw b gy mf mg l mh mi">"Cut the {first}. Wash the {second}. Prepare the {third}.".format(first="onions", second="carrots", third="salad")</span></pre><p id="c57b" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">对于日期时间对象，我们有额外的格式。例如,<code class="fe lt lu lv lw b">{0:%Y}</code>将在第一个位置参数中插入日期的年份，这应该是一个日期时间对象。因此，您可以看到为什么这两行会产生相同的输出。</p><pre class="kg kh ki kj gt lz lw ma mb aw mc bi"><span id="3819" class="md me iq lw b gy mf mg l mh mi">"{:%Y 年%m 月%d 日}".format(datetime.today())<br/>"{0:%Y}{1}{0:%m}{2}{0:%d}{3}".format(datetime.today(), "年", "月", "日")</span></pre><p id="7f93" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">第一个将所有内容放在替换字段<code class="fe lt lu lv lw b">{}</code>中，而第二个将它分成几个插入的参数。看情况选择哪个会更有可读性。</p><h1 id="0e7e" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">f 弦<code class="fe lt lu lv lw b">f""</code></h1><p id="1f79" class="pw-post-body-paragraph kx ky iq kz b la na jr lc ld nb ju lf lg nc li lj lk nd lm ln lo ne lq lr ls ij bi translated">由于最近在 python3.6 中引入，f-String 或 String interpolation 是一种强大而简洁的字符串格式化方法，这种方法鲜为人知。使用<code class="fe lt lu lv lw b">f""</code>语法，您可以直接将变量名与格式语法放在一起。比如说。</p><pre class="kg kh ki kj gt lz lw ma mb aw mc bi"><span id="d9c9" class="md me iq lw b gy mf mg l mh mi">age = 25<br/>print(f"So you are {age} years-old?")</span></pre><p id="8c60" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们甚至可以在里面写函数调用！现在，您应该明白我们是如何获得与之前相同的输出的:</p><pre class="kg kh ki kj gt lz lw ma mb aw mc bi"><span id="0f2f" class="md me iq lw b gy mf mg l mh mi">f"{datetime.today():%Y 年%m 月%d 日}"</span></pre><h1 id="fcb0" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">结论</h1><p id="405e" class="pw-post-body-paragraph kx ky iq kz b la na jr lc ld nb ju lf lg nc li lj lk nd lm ln lo ne lq lr ls ij bi translated">尽管<code class="fe lt lu lv lw b">.strftime</code>仍然被广泛使用，但在我看来，它的可读性较差，因为其他语法更接近我们所期望的 pythonic 代码。这背后的主要原因是格式化操作是在<code class="fe lt lu lv lw b">str</code>对象上有效执行的，而不是在 datetime 对象上。所以我会推荐你更喜欢<code class="fe lt lu lv lw b">.format</code>和<code class="fe lt lu lv lw b">f""</code>，它们更简洁。f 字符串也可以用于调试。例如,<code class="fe lt lu lv lw b">print(f"{a=}")</code>将打印出<code class="fe lt lu lv lw b">a=</code>,后跟<code class="fe lt lu lv lw b">a</code>的实际值。<a class="ae kv" href="https://docs.python.org/3/reference/lexical_analysis.html#f-strings" rel="noopener ugc nofollow" target="_blank">查看文档了解更多</a>。</p></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><p id="7134" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><em class="nf">原载于 2020 年 8 月 4 日</em><a class="ae kv" href="https://adamoudad.github.io/posts/format-dates-python3/" rel="noopener ugc nofollow" target="_blank"><em class="nf">https://adamoudad . github . io</em></a><em class="nf">。</em></p></div></div>    
</body>
</html>