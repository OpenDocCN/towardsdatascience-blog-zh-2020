# 两大云数据仓库概述:亚马逊红移和 Azure SQL DWH

> 原文：<https://towardsdatascience.com/overview-of-the-top-2-cloud-data-warehouses-amazon-redshift-azure-sql-dwh-6ff42fc26052?source=collection_archive---------45----------------------->

## 了解云数据仓库相对于传统数据仓库的优势

![](img/9aa308c9a4c23c88ba88c3ef89e68e89.png)

在 [Unsplash](https://unsplash.com/s/photos/cloud?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上由 [C Dustin](https://unsplash.com/@dianamia?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 拍摄的照片

**简介**

在云数据仓库出现之前，大多数公司采用传统的数据仓库。

传统的数据仓库系统允许从组织的各种外部或内部来源收集数据以支持分析操作，但存在各种困难。

一般来说，传统数据仓库的体系结构由三层组成:

*   底层由不同种类的支持工具和实用程序组成，它们从不同的来源提取数据，转换数据并将其加载到数据仓库中。
*   中间层，以 OLAP 服务器为特征，这些服务器执行业务数据的多维分析，以便将数据转换成允许进行复杂计算的格式。
*   顶层，我们可以在其中使用不同的查询和报告工具。因此，我们可以执行数据分析和数据挖掘。

无论如何，为了维持这种系统，公司花费了大量资金来维护硬件、服务器机房以及雇佣特定团队来运行它的成本。云数据仓库成为这些问题的解决方案。

在本文中，我将向您概述当今最常用的云数据仓库，即 Amazon Redshift 和 Azure 数据仓库。

![](img/d28654256e1ec288cf68fac1d08b2faf.png)

照片由[晨酿](https://unsplash.com/@morningbrew?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/s/photos/amazon?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄

**第一部分:亚马逊红移**

Amazon Redshift 是一个快速、可扩展的数据仓库，被世界上最大的公司所使用。它允许公司构建强大的应用程序并生成报告。

红移是组织成称为集群的组的节点的集合。每个集群都运行在 Amazon redshift 引擎上，并且包含一个或多个数据库。该群集有一个领导节点和一个或多个计算节点。

该机制非常直观，领导节点接收来自客户端应用程序的查询，并传递查询和开发合适的执行计划。在建立计划之后，划分为片的计算节点通过在节点之间传输数据来解决查询，从而开始处理计划。

因此，一旦执行完成，领导者节点聚集来自计算节点的结果，并将其发送回客户端应用程序。

每次启动集群时，我们都需要指定节点类型，可以是使用硬盘驱动器的密集存储节点(DS)或使用固态驱动器的密集计算节点。

决定使用哪种类型的节点是基于我们希望导入 Amazon Redshift 的数据量、我们希望运行的查询的复杂性以及依赖于我们的查询的下游系统的需求。

对于 Amazon Redshift 与传统数据仓库相比的优势，我们可以很容易地理解，使用 Redshift 可以通过调整集群大小来快速扩展。因此，您可以向上扩展并增加计算节点的数量，也可以向下扩展并减少计算节点的数量。或者，您可以使用单节点或多节点选项。

Amazon Redshift 的一个特殊方面是列数据存储，它允许按列存储数据，而不是像传统数据仓库那样按行存储。列存储允许更好的数据压缩，减少了输入/输出操作，并且通过将所有记录一起存储在一个字段中，数据库可以更快地对相似类型的数据进行查询和分析。

Amazon Redshift 的另一个特别优势是大规模并行处理，即不同的处理器一起计算。事实上，正如您所记得的，集群有一个领导节点和一个或多个划分为片的计算节点。因此，当领导者节点收到查询时，它会制定执行计划。计算节点和片一起或并行工作来执行该计划。之后，领导者节点将结果发送回客户端应用程序。

Redshift 是一个非常经济的数据仓库，因为与传统的数据仓库不同，我们不需要花费硬件、不动产、电力和员工成本。这一事实大大降低了公司的成本。还有一点很重要，Amazon Redshift 允许从 Data Lake 中查询数据，Data Lake 是一个存储库，可以保存原始格式的原始数据。

最后但并非最不重要的是，Redshift 中的数据安全可靠，这要归功于备份和恢复选项。当我们在 Amazon Redshift 中存储数据时，会在 S3 上制作数据的副本。红移还提供了加密数据的选项。

**第二部分:Azure SQL 数据仓库**

Azure SQL 数据仓库是一个大规模并行处理系统，允许我们实现关系型大数据存储。它是一个平台即服务(PaaS ),这意味着我们不必担心底层架构，包括操作系统、存储、服务器等。

Azure SQL DWH 由存储和两种类型的节点组成，如控制节点和多个计算节点。

在 Azure 中，数据存储在 Blob storage 中，这是一种将非结构化数据作为对象存储在云中的服务。Blob 存储可以存储任何类型的文本数据。

控制节点作为 Amazon Redshift 中的领导节点，协调运行并行查询所需的所有数据移动。因此，当 Azure SQL DWH 收到请求时，控制节点会将请求转换为在每个计算节点上并行运行的独立查询。

我们可以将计算节点定义为旨在存储数据和处理查询的数据库。处理之后，结果返回到控制节点，控制节点汇总结果并向用户提供最终结果。

重要的是要知道，当计算节点与数据交互时，节点直接从 blob 存储中写入和读取。

**结论**

感谢亚马逊红移和 Azure SQL DWH 的两个例子，我们可以确认，对于一个公司来说，无论其规模大小，今天的最佳选择是考虑云数据仓库，而不是传统的数据仓库。

事实上，云 DWH 速度更快，具有超弹性，这使得公司可以轻松扩展。此外，它还提供现收现付模式或固定资产购买模式。

云 DWH 消除了客户进行软件升级和硬件迁移项目的需要。

构建传统数据仓库需要可靠的硬件预算，但有了云，就不需要可靠的硬件预算。事实上，我们可以从小架构开始，随着数据量和用户数量的增长而不断发展。

[**我发出一份期刊简讯。如果你想加入，请通过此链接**T5 报名。](https://upscri.be/wxv1zi)

除了我的**简讯**，还可以在我的电报群 [**数据科学初学者**](https://t.me/DataScienceForBeginners) **中取得联系。**