<html>
<head>
<title>Pandas for Newbies: An Introduction Part I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫给新手:介绍第一部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pandas-for-newbies-an-introduction-part-i-8246f14efcca?source=collection_archive---------37-----------------------#2020-08-15">https://towardsdatascience.com/pandas-for-newbies-an-introduction-part-i-8246f14efcca?source=collection_archive---------37-----------------------#2020-08-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/019600004b91e1ee2f6ad018c884c614.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IoNaJAGVxtOi8hWfCbteOw.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">当谈到熊猫和蟒蛇时，我们都从同一个地方开始。照片由 Pexels 的 Victoria Borodinova 拍摄</p></figure><p id="e8ec" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">对于那些刚刚开始学习数据科学的人来说，Python 编程语言是学习数据科学的先决条件，所以如果你不熟悉 Python，请熟悉一下，然后回到这里开始学习 Pandas。</p><p id="3d93" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">你可以从我刚刚开始的一系列文章开始学习 Python，这些文章叫做<a class="ae ld" href="https://medium.com/@sammylee_30865/minimal-python-required-for-data-science-part-i-b61e2baf56f9?source=friends_link&amp;sk=d0a1c226244327b092bf208d4ed3d728" rel="noopener">数据科学所需的最小 Python</a>。</p><p id="67ef" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">谈到数据科学，工具箱中最重要的工具之一是 pandas，这是 Wes McKinney 在对冲基金任职期间开发的 Python 数据分析库。</p><p id="2161" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在这整个系列的文章中，我们将使用<a class="ae ld" href="https://www.anaconda.com/" rel="noopener ugc nofollow" target="_blank"> Anaconda </a>，它是一个面向数据科学和机器学习的奇特的 Python 包管理器。如果您不熟悉我刚刚谈到的内容，请继续观看这个视频，它将向您介绍 Anaconda 和 Jupyter Notebook，这是数据科学工作的核心。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="a2dc" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">您可以通过以下方式激活 conda 环境(<a class="ae ld" href="https://www.youtube.com/watch?v=N5vscPTWKOk" rel="noopener ugc nofollow" target="_blank">虚拟环境</a>):</p><pre class="le lf lg lh gt lk ll lm ln aw lo bi"><span id="5fc8" class="lp lq it ll b gy lr ls l lt lu">$ conda activate [name of environment]</span><span id="da4c" class="lp lq it ll b gy lv ls l lt lu"># my environment is named `datascience` so</span><span id="f924" class="lp lq it ll b gy lv ls l lt lu">$ conda activate datascience</span></pre><p id="4b12" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">激活 conda 虚拟环境后，您应该会在终端上看到:</p><pre class="le lf lg lh gt lk ll lm ln aw lo bi"><span id="25e6" class="lp lq it ll b gy lr ls l lt lu">(datascience)$</span></pre><p id="09e3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">假设您的系统上安装了<a class="ae ld" href="https://docs.conda.io/en/latest/miniconda.html" rel="noopener ugc nofollow" target="_blank"> miniconda </a>或 anaconda，您可以很容易地安装 pandas:</p><pre class="le lf lg lh gt lk ll lm ln aw lo bi"><span id="93e1" class="lp lq it ll b gy lr ls l lt lu">$ conda install pandas</span></pre><p id="a2c2" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们还将使用 Jupyter Notebook 来编写代码，请继续</p><pre class="le lf lg lh gt lk ll lm ln aw lo bi"><span id="1f56" class="lp lq it ll b gy lr ls l lt lu">$ <!-- -->conda install -c conda-forge notebook</span></pre><p id="3925" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">启动 Jupyter 笔记本:</p><pre class="le lf lg lh gt lk ll lm ln aw lo bi"><span id="9a91" class="lp lq it ll b gy lr ls l lt lu">$ jupyter notebook</span></pre><h1 id="1702" class="lw lq it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">熊猫是把所有东西粘在一起的粘合剂</h1><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/74af904f4d1aeddb3fbfc98aaab70ef8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5NLDPwsLP1bnDUPtnD66bw.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae ld" href="https://www.pexels.com/@sevenstormphotography?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">尤哈什·伊姆雷</a>从<a class="ae ld" href="https://www.pexels.com/photo/auto-automobile-automotive-bmw-439405/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">派克斯</a>拍摄</p></figure><p id="c062" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">随着我们在数据科学的更高层次上冒险进入机器学习领域，熊猫变得越来越重要，因为它允许数据在进入随机森林和神经网络等算法之前被“清洗”和“争论”。如果 ML 算法是 Doc，那么熊猫就是马蒂。</p><h1 id="1ea0" class="lw lq it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">有导游的巴士旅游</h1><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mu"><img src="../Images/703ca3b9086e64c10b06ab63317acd87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KRQwe3wYwb9K6g6Udatcog.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">我的最爱。文卡特·拉加文摄于 Pexels</p></figure><p id="adcf" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我从小就喜欢去的地方之一是圣地亚哥动物园。我经常做的一件事就是一边喝着蓝月亮一边坐有导游的巴士旅游。</p><p id="8131" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们将做一些类似的事情，我将简单介绍一下你可以对熊猫做的一些事情。你独自面对蓝月亮。</p><p id="9bb4" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这个中型系列的<a class="ae ld" href="https://github.com/Captmoonshot/medium_data" rel="noopener ugc nofollow" target="_blank">数据</a>和灵感都来自 Ted Petrou 关于<a class="ae ld" href="https://www.dunderdata.com/" rel="noopener ugc nofollow" target="_blank"> Dunder Data </a>的优秀课程。</p><p id="ebc2" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">Pandas 主要处理表格数据:行和列。在这方面，它非常像一个 Excel 电子表格。</p><p id="8f5e" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在 pandas 中，您将与两个主要对象交互，即<strong class="kh iu">系列</strong>和<strong class="kh iu">数据框</strong>。数据帧是由行和列组成的二维数据。</p><p id="cca7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果你不知道下面的代码是做什么的，没关系，我们稍后会详细讲解。我们在这里使用的数据是关于芝加哥的骑自行车的人，Illnoise。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="mv lj l"/></div></figure><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mw"><img src="../Images/9067a20dcb8c7a346579fb2f293972a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H7MBzRjVMaMOINvKPIXKJg.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">数据框架:表格数据</p></figure><p id="15fd" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">Series 是一维数据或相对于 DataFrame 的单列数据:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mx"><img src="../Images/767c5eecd57f535335f745b89044b0fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*56FokT-GtrE31KomLrRnMg.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">系列:单列数据</p></figure><p id="dbcc" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如上所示，pandas 的一个亮点是它允许将数据从任何源文件加载到 Jupyter 笔记本会话中，无论是 CSV(逗号分隔)、XLSX(Excel)、SQL 还是 JSON。</p><p id="5688" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们经常做的第一件事就是通过使用<code class="fe my mz na ll b">head</code>方法来查看我们正在研究的数据集。默认情况下,<code class="fe my mz na ll b">head</code>将显示前五行数据。我们可以传递一个整数来控制我们希望看到多少行:</p><pre class="le lf lg lh gt lk ll lm ln aw lo bi"><span id="01b5" class="lp lq it ll b gy lr ls l lt lu">df.head(7)</span></pre><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nb"><img src="../Images/c9bb49f3edbeb65635c9ec0c449c051f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ew9P8qupHESVR74_10IrEQ.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">前七排</p></figure><p id="2ac0" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果我们想看到最后五行:</p><pre class="le lf lg lh gt lk ll lm ln aw lo bi"><span id="3cb4" class="lp lq it ll b gy lr ls l lt lu">df.tail()</span></pre><h2 id="d443" class="lp lq it bd lx nc nd dn mb ne nf dp mf kq ng nh mj ku ni nj mn ky nk nl mr nm bi translated">读入数据</h2><p id="3efe" class="pw-post-body-paragraph kf kg it kh b ki nn kk kl km no ko kp kq np ks kt ku nq kw kx ky nr la lb lc im bi translated">我们使用<code class="fe my mz na ll b">read_csv</code>函数来加载 CSV 格式的数据。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="mv lj l"/></div></figure><p id="8451" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们将包含数据的文件路径作为字符串传递给 pandas 的<code class="fe my mz na ll b">read_csv</code>方法。在我的例子中，我使用的是我的<a class="ae ld" href="https://github.com/Captmoonshot/medium_data" rel="noopener ugc nofollow" target="_blank"> GitHub Repo </a>的 url，它保存了我将要使用的所有数据。我强烈推荐阅读关于熊猫<code class="fe my mz na ll b">read_csv</code>功能的<a class="ae ld" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html" rel="noopener ugc nofollow" target="_blank">文档</a>，因为它是整个图书馆中最重要和最动态的功能之一。</p><h2 id="fade" class="lp lq it bd lx nc nd dn mb ne nf dp mf kq ng nh mj ku ni nj mn ky nk nl mr nm bi translated">过滤数据</h2><p id="a1b9" class="pw-post-body-paragraph kf kg it kh b ki nn kk kl km no ko kp kq np ks kt ku nq kw kx ky nr la lb lc im bi translated">我们可以用条件逻辑过滤熊猫数据帧的行。对于熟悉 SQL 的程序员来说，这就像使用<code class="fe my mz na ll b">WHERE</code>子句。</p><p id="9b23" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">要仅检索<code class="fe my mz na ll b">wind_speed</code>大于 42.0 的行，我们可以这样做:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/e80a8e67b660a4ee4b7820d34d7cd676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nVA6oY3Xv9gj-pIDENl8Vw.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">过滤器变量代表“过滤器”</p></figure><p id="3f55" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们可以像这样过滤多个条件:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nt"><img src="../Images/029b478a5067d5981ac3dd5a64658378.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CW0oQy-MAOmhV7YfMxbzCA.jpeg"/></div></div></figure><p id="f9ac" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这里我们过滤风速大于 42.0(我假设是每小时英里数)和骑车人的性别是女性的情况。正如我们看到的，它返回一个空数据集。</p><p id="5509" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们可以通过尝试相同的多个过滤器来验证我们没有犯某种导致空查询的错误，但是对于男性骑手。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/f01484ab02e7fa702c756c751bd13dad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JdFJn1Dmu4QhJk6lhD3lzw.jpeg"/></div></div></figure><p id="6272" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们也可以这样做:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/9321034829c7d0aac46313fa6b0c406d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ynbos19Z7OLw2lPj4wFEwA.jpeg"/></div></div></figure><h2 id="8ba5" class="lp lq it bd lx nc nd dn mb ne nf dp mf kq ng nh mj ku ni nj mn ky nk nl mr nm bi translated">查询:过滤的一种更简单的替代方法</h2><p id="0184" class="pw-post-body-paragraph kf kg it kh b ki nn kk kl km no ko kp kq np ks kt ku nq kw kx ky nr la lb lc im bi translated">Pandas 也有一个<code class="fe my mz na ll b">query</code>方法，它的能力有点受限，但是允许更简单和更可读的代码。和以前一样，熟悉 SQL 的程序员应该会对这种方法感到很舒服。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/5fe9d1d1b4b3ecab25c4c6e84dda2489.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q2gR_1qHUkL_Iberg3HhJg.jpeg"/></div></div></figure><h1 id="b39e" class="lw lq it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">待续</h1><p id="192f" class="pw-post-body-paragraph kf kg it kh b ki nn kk kl km no ko kp kq np ks kt ku nq kw kx ky nr la lb lc im bi translated">《熊猫给新手》是一个中等系列，所以请关注下一个即将发布的教程<a class="ae ld" href="https://medium.com/@sammylee_30865/pandas-for-newbies-an-introduction-part-ii-9f69a045dd95?sk=6199972972472edf8f292e64e4864c8b" rel="noopener"> <strong class="kh iu">熊猫给新手:介绍第二部分</strong> </a>，它将很快发布。</p></div></div>    
</body>
</html>