<html>
<head>
<title>5 Technical Takeaways from my first EDA project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我的第一个EDA项目的5个技术要点</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-technical-takeaways-from-my-first-eda-project-f806375574ce?source=collection_archive---------41-----------------------#2020-03-17">https://towardsdatascience.com/5-technical-takeaways-from-my-first-eda-project-f806375574ce?source=collection_archive---------41-----------------------#2020-03-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1a88" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在过去的两周里，我一直在做我的第一个涉及电影行业的数据探索项目。以下是我学到的五个技巧。请注意，正如标题所暗示的，我是数据科学的初学者，因此欢迎任何评论。</p><h1 id="a91f" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">念多个。使用glob </strong>的csv文件</h1><p id="f333" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">我从各种电影网站获得数据，包括IMDB、电影数据库和烂番茄。第一项任务是把它们读到我们的笔记本里。一种简单的方法是使用glob，它创建一个特定扩展名的所有文件的列表。</p><pre class="lo lp lq lr gt ls lt lu lv aw lw bi"><span id="bd49" class="lx km iq lt b gy ly lz l ma mb"># Create a list of all csv files using glob<br/>csv_files = glob("./zippedData/*.csv.gz")</span></pre><p id="0294" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">为什么有用:</strong>这样可以节省时间，因为我们不必单独读取每个文件。如果文件夹中添加了其他数据，这些数据将自动添加到列表中。</p><p id="0df8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另外，以下是我每次使用glob时想到的:</p><figure class="lo lp lq lr gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mc"><img src="../Images/cb0fea9eeb2a66f27131edfeda2db5a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A9sSsx8Je_mDp2-NKDvfgQ.jpeg"/></div></div><p class="mk ml gj gh gi mm mn bd b be z dk translated">Jabba glob——来源:starwars.com</p></figure><h1 id="288c" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">熊猫的read_html()函数</strong></h1><p id="e697" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">作为我项目的一部分，我想从网上抓取额外的数据，比如维基百科上的网飞原创电影表。我不假思索地使用了<a class="ae mo" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="noopener ugc nofollow" target="_blank"> BeautifulSoup </a>，这是一个Python库，通过导航和搜索解析树从HTML文件中提取数据。</p><p id="d24e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而<a class="ae mo" href="https://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.read_html.html" rel="noopener ugc nofollow" target="_blank">熊猫</a>有一个<code class="fe mp mq mr lt b">read_html()</code>功能，可以帮我节省几个小时的工作。由于数据整齐地显示在一个表格中，用几行就可以得到一个近乎完美的数据框架。</p><p id="46a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">后来，我还想要关于基于视频游戏的<a class="ae mo" href="https://en.wikipedia.org/wiki/List_of_films_based_on_video_games" rel="noopener ugc nofollow" target="_blank">电影的数据，这次记得使用内置函数。</a></p><pre class="lo lp lq lr gt ls lt lu lv aw lw bi"><span id="dd45" class="lx km iq lt b gy ly lz l ma mb">DF = pd.read_html('List of films based on video games - Wikipedia.html')</span></pre><p id="8df1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，由于我只对已发行的真人电影感兴趣，所以我限制在第一张表的前38行。</p><pre class="lo lp lq lr gt ls lt lu lv aw lw bi"><span id="8911" class="lx km iq lt b gy ly lz l ma mb">Videogamemovies = DF[0][:38]</span></pre><figure class="lo lp lq lr gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi ms"><img src="../Images/1119dbc329f628a85ebf06432b84a715.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AKBI-vB1LNHCYaoFLG8zKA.png"/></div></div></figure><p id="eca8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">为什么这个有用:</strong>省时又轻松！如果数据已经整齐地显示在表格中，这可能是从web上抓取数据的最佳方式。</p><h1 id="25b5" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">一个热编码</strong></h1><p id="165e" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">在我们的数据集中，电影被分为三种类型。哪一个是主要类型并不明显，最好的方法是将每部电影归入其列出的每个类型。以下是我们的<code class="fe mp mq mr lt b">movies</code>熊猫数据框架的相关栏目。</p><figure class="lo lp lq lr gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mt"><img src="../Images/1b7cfff7c60f6a909553f510d4472138.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k3tckELjpDxSLRra-XuJLw.png"/></div></div></figure><p id="2792" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，使用<code class="fe mp mq mr lt b">map()</code>以逗号分隔流派列中的值。然后，为每个具有零值的独特的单个流派创建额外的列。然后，我遍历流派列，将与电影流派匹配的列中的值更改为<code class="fe mp mq mr lt b">1</code>。</p><pre class="lo lp lq lr gt ls lt lu lv aw lw bi"><span id="20db" class="lx km iq lt b gy ly lz l ma mb"># Create columns with genres<br/>for genre in individualgenrelist:<br/>    movies[genre] = 0</span><span id="b6f2" class="lx km iq lt b gy mu lz l ma mb"># Set value to 1 if genre applies<br/>for index, genres in enumerate(movies['genres']):<br/>    for genre in genres:<br/>        movies.loc[index,genre] = 1</span></pre><p id="73e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用枚举不是很有效，但由于时间限制，我无法找到更好的方法。如果你做了，请让我知道！</p><p id="e1b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是结果的样子，显示了列<code class="fe mp mq mr lt b">Action</code>和<code class="fe mp mq mr lt b">Drama</code>。</p><figure class="lo lp lq lr gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mv"><img src="../Images/c9ccf1385f732b0c5b6d684431fae39b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G3nSMl3kKreKSF8b2ROimA.png"/></div></div></figure><p id="6cc0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">为什么这很有用:</strong>这让我们不仅可以简单地对比如说<code class="fe mp mq mr lt b">Action</code>电影的数量求和，还可以创建比如说<code class="fe mp mq mr lt b">Action</code>和<code class="fe mp mq mr lt b">Adventure</code>电影的子数据帧。当我们考虑机器学习和预测分析时，以这种格式保存我们的数据将非常有用。</p><figure class="lo lp lq lr gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mw"><img src="../Images/c94f0513641fcde855e8b8e57947d193.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZUZ5YH3sblRhl34B"/></div></div><p class="mk ml gj gh gi mm mn bd b be z dk translated">这里有一些熊猫！照片由<a class="ae mo" href="https://unsplash.com/@julilona?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Ilona Froehlich </a>在<a class="ae mo" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="b126" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">熊猫<strong class="ak">切</strong>()功能</h1><p id="758b" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">Pandas cut()函数用于将一维数组元素分离到不同的容器中。当你有数字数据并希望转换成分类数据以便更好的可视化时，这是很有用的。在我的项目中，我正在调查一部电影的制作预算，并将数据分为“小预算”、“中预算”和“大预算”电影。过程很简单:创建bin和名称列表，然后让Pandas.cut()完成这项工作，而不是进行迭代。</p><pre class="lo lp lq lr gt ls lt lu lv aw lw bi"><span id="6fa4" class="lx km iq lt b gy ly lz l ma mb"># Create bins and names lists<br/>bins = [0, 100000000, 200000000, np.inf]<br/>names = ['Low','Medium', 'High' ]</span><span id="a261" class="lx km iq lt b gy mu lz l ma mb"># Use pd.cut() to create budgetrange column<br/>movies['budget_range'] = pd.cut(movies['production_budget'], bins, labels=names)</span></pre><p id="0fd5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">为什么这很有用:</strong>创建分类箱将使数据可视化和研究特征变得更容易。使用<code class="fe mp mq mr lt b">pd.cut()</code>效率高。</p><h1 id="d295" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">西伯恩的计数图</strong></h1><p id="ea13" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">计数图使用条形显示每个分类箱中的观察值数量。它可以被视为分类数据的直方图。虽然这当然可以“手动”实现(例如，通过使用关键类别和值计数的字典进行迭代)，但使用Seaborn的快速可视化功能要快得多。</p><pre class="lo lp lq lr gt ls lt lu lv aw lw bi"><span id="5acc" class="lx km iq lt b gy ly lz l ma mb"># Plot number of movies released per decade<br/>sns.catplot(x = 'decade', kind = 'count', data = movies)</span></pre><figure class="lo lp lq lr gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mx"><img src="../Images/58b8e68bc7375c612aae94d0a3a834f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v9WqGCUrr7L_bFUx5Mds7w.png"/></div></div></figure><p id="3b9c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">为什么有用:</strong>直观显示分类数据分布的快速简单的方法。</p><p id="d897" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是你要的，我将带着这五点去做我的下一个项目。</p><p id="05fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你有兴趣看我的电影项目，什么类型的电影票房最好，请查看我的<a class="ae mo" href="https://github.com/nadinezab/making-movies" rel="noopener ugc nofollow" target="_blank"> GitHub资源库</a>。</p></div></div>    
</body>
</html>