<html>
<head>
<title>How to Prepare a Custom Dataset for Character Recognition and Segmentation?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何准备用于字符识别和分割的自定义数据集？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-prepare-a-custom-dataset-for-character-recognition-and-segmentation-c39f6bf3690?source=collection_archive---------30-----------------------#2020-05-29">https://towardsdatascience.com/how-to-prepare-a-custom-dataset-for-character-recognition-and-segmentation-c39f6bf3690?source=collection_archive---------30-----------------------#2020-05-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="db8f" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">详细说明</h2><div class=""/><figure class="gl gn ka kb kc kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi jz"><img src="../Images/879ac6603e01f34fe09d3916fce3625c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*m45Yi0cHIHwfa1Ck"/></div></div><p class="kk kl gj gh gi km kn bd b be z dk translated">照片由<a class="ae ko" href="https://unsplash.com/@drew_beamer?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">德鲁·比默</a>在<a class="ae ko" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><blockquote class="kp kq kr"><p id="6df3" class="ks kt ku kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">本文是对<strong class="kv jd">泰卢固文字识别</strong>研究的一部分。它的重点是为字符识别<strong class="kv jd"> </strong>创建一个自定义数据集，不用担心，你可以用它来为“对象识别”和“分割”任务创建你自己的数据集。</p><p id="108c" class="ks kt ku kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们开始吧，</p></blockquote><h1 id="cdbf" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">目录</h1><ul class=""><li id="0fb2" class="mp mq it kv b kw mr la ms mt mu mv mw mx my lq mz na nb nc bi translated"><strong class="kv jd">简介</strong></li><li id="8cff" class="mp mq it kv b kw nd la ne mt nf mv ng mx nh lq mz na nb nc bi translated"><strong class="kv jd">所需工具</strong></li><li id="43bc" class="mp mq it kv b kw nd la ne mt nf mv ng mx nh lq mz na nb nc bi translated"><strong class="kv jd">创建数据集</strong></li></ul><h1 id="d54a" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">介绍</h1><p id="249f" class="pw-post-body-paragraph ks kt it kv b kw mr ky kz la ms lc ld mt ni lg lh mv nj lk ll mx nk lo lp lq im bi translated"><strong class="kv jd">字符识别</strong>用于识别来自不同来源的字符，如阅读邮政地址、银行支票、表格、招牌等。它广泛应用于银行、教育、国防、信息技术等领域，不胜枚举。</p><p id="353a" class="pw-post-body-paragraph ks kt it kv b kw kx ky kz la lb lc ld mt lf lg lh mv lj lk ll mx ln lo lp lq im bi translated">我们将开发一个包含<strong class="kv jd">泰卢固语</strong>的前 6 个元音的数据集。这是一张泰卢固语元音的图片，带有发音和辅助符号。“创建数据集的过程与此类似，因此您可以使用它来创建自己的数据集”。</p><p id="3066" class="pw-post-body-paragraph ks kt it kv b kw kx ky kz la lb lc ld mt lf lg lh mv lj lk ll mx ln lo lp lq im bi translated">泰卢固语是印度第四大通用语言，有 8110 万人使用。它由 60 个符号组成，16 个<strong class="kv jd">元音</strong>，3 个<strong class="kv jd">元音</strong>修饰语，41 个<strong class="kv jd">辅音。这项研究将继续开发泰卢固语的 OCR 系统。</strong></p><h1 id="5651" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">所需工具</h1><p id="72b0" class="pw-post-body-paragraph ks kt it kv b kw mr ky kz la ms lc ld mt ni lg lh mv nj lk ll mx nk lo lp lq im bi translated">我们将使用<strong class="kv jd"> python </strong>编程语言来创建用于字符识别和分割的数据集。使用的工具/包是:</p><ul class=""><li id="1735" class="mp mq it kv b kw kx la lb mt nl mv nm mx nn lq mz na nb nc bi translated">标签 4.2.10</li><li id="fb15" class="mp mq it kv b kw nd la ne mt nf mv ng mx nh lq mz na nb nc bi translated">数字版本 1.17.2</li><li id="640c" class="mp mq it kv b kw nd la ne mt nf mv ng mx nh lq mz na nb nc bi translated">枕头 5.3.0</li><li id="232b" class="mp mq it kv b kw nd la ne mt nf mv ng mx nh lq mz na nb nc bi translated">OpenCV 4.0.0.21</li></ul><h1 id="1aff" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">创建数据集</h1><p id="3c1e" class="pw-post-body-paragraph ks kt it kv b kw mr ky kz la ms lc ld mt ni lg lh mv nj lk ll mx nk lo lp lq im bi translated">开源平台上有很多数据集可用，比如<a class="ae ko" href="https://www.kaggle.com/datasets" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>、<a class="ae ko" href="https://datasetsearch.research.google.com/" rel="noopener ugc nofollow" target="_blank"> Google Datasets </a>。你可以使用 Adrian Rosebrock 的这些信息丰富的博客来自动收集图像。</p><div class="no np gp gr nq nr"><a href="https://www.pyimagesearch.com/2018/04/09/how-to-quickly-build-a-deep-learning-image-dataset/" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd jd gy z fp nw fr fs nx fu fw jc bi translated">如何(快速)建立深度学习图像数据集——PyImageSearch</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">我小时候是个超级口袋妖怪迷。我收集了交易卡，玩了游戏机，看了…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">www.pyimagesearch.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of ki nr"/></div></div></a></div><div class="no np gp gr nq nr"><a href="https://www.pyimagesearch.com/2017/12/04/how-to-create-a-deep-learning-dataset-using-google-images/" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd jd gy z fp nw fr fs nx fu fw jc bi translated">如何使用 Google Images 创建深度学习数据集- PyImageSearch</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">PyImageSearch 读者 José提问:嗨，Adrian，感谢你将计算机视觉的深度学习与 Python 结合在一起…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">www.pyimagesearch.com</p></div></div><div class="oa l"><div class="og l oc od oe oa of ki nr"/></div></div></a></div><h1 id="6056" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated"><strong class="ak"> 1。收集数据</strong></h1><figure class="oi oj ok ol gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi oh"><img src="../Images/0ea440d3ab70cbec901e16b12d11e788.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*00Z4aPxOjJDsHcYJ"/></div></div><p class="kk kl gj gh gi km kn bd b be z dk translated">桑德拉·格鲁内瓦尔德在<a class="ae ko" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="96a9" class="pw-post-body-paragraph ks kt it kv b kw kx ky kz la lb lc ld mt lf lg lh mv lj lk ll mx ln lo lp lq im bi translated"><strong class="kv jd">收集数据</strong>以创建定制数据集成为一项劳动密集型任务，直到数据/图像不可用，因为泰卢固语字符图像不广泛可用，所以我手动收集图像。将采集到的图像预处理成 400×400 的形状。</p><p id="1c9e" class="pw-post-body-paragraph ks kt it kv b kw kx ky kz la lb lc ld mt lf lg lh mv lj lk ll mx ln lo lp lq im bi translated">您可以使用下面的代码来实现这个目的，它采用两个参数 path 到要处理的图像的文件夹，并采用一个空的文件夹名来存储预处理后的图像。</p><figure class="oi oj ok ol gt kd"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="dece" class="pw-post-body-paragraph ks kt it kv b kw kx ky kz la lb lc ld mt lf lg lh mv lj lk ll mx ln lo lp lq im bi translated">我已经收集了将近 200 张<strong class="kv jd">图片，其中每张图片至少有泰卢固语前 6 个元音中的一个。以下是收集的几个数据示例。</strong></p><figure class="oi oj ok ol gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi oo"><img src="../Images/9faab11703fa3e90cbf35f3cfdf88f85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Prcbf8LKt2J2Dpd_pbQf6Q.png"/></div></div><p class="kk kl gj gh gi km kn bd b be z dk translated">收集数据中的少量图片—作者提供的图片</p></figure><h1 id="5b35" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">2.标签数据</h1><p id="21bf" class="pw-post-body-paragraph ks kt it kv b kw mr ky kz la ms lc ld mt ni lg lh mv nj lk ll mx nk lo lp lq im bi translated">因为我们正在创建用于字符识别和分割的数据集，所以我们需要标记已经收集的每个图像中的数据。为了完成这项任务，我们将使用<strong class="kv jd"> LabelMe </strong>，这是一个<strong class="kv jd"> </strong>应用程序来标记图像。您可以通过在命令提示符下键入<em class="ku"> labelme </em>来启动应用程序。</p><figure class="oi oj ok ol gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi op"><img src="../Images/5034521e46f8e49bb7d5db763345af64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gimV5batJV7fZAEzIJFIRA.png"/></div></div><p class="kk kl gj gh gi km kn bd b be z dk translated">LabelMe 应用程序界面—作者图片</p></figure><p id="92be" class="pw-post-body-paragraph ks kt it kv b kw kx ky kz la lb lc ld mt lf lg lh mv lj lk ll mx ln lo lp lq im bi translated">以下是标记图像的步骤:</p><ol class=""><li id="161a" class="mp mq it kv b kw kx la lb mt nl mv nm mx nn lq oq na nb nc bi translated">‘打开目录’—打开包含预处理图像的目录。</li><li id="b430" class="mp mq it kv b kw nd la ne mt nf mv ng mx nh lq oq na nb nc bi translated">在左窗格中选择“创建多边形”,在图像中的角色周围画一个边界框，并分别标记它们，最后保存。</li><li id="cc5d" class="mp mq it kv b kw nd la ne mt nf mv ng mx nh lq oq na nb nc bi translated">选择“下一张图像”并继续步骤 2，直到所有图像都被标记。</li><li id="30d1" class="mp mq it kv b kw nd la ne mt nf mv ng mx nh lq oq na nb nc bi translated">为每个图像创建一个 Javascript 对象符号(JSON)文件，该文件包含图像的信息，例如文件名、边界框坐标、图像的高度和宽度以及每个边界框的标签等</li></ol><p id="7d22" class="pw-post-body-paragraph ks kt it kv b kw kx ky kz la lb lc ld mt lf lg lh mv lj lk ll mx ln lo lp lq im bi translated">完成上述步骤后，下面显示了一个样本图片。</p><figure class="oi oj ok ol gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi op"><img src="../Images/b516dd640f0a2a526431ced226c1f077.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gphZNuDCBZvM-TWl-yKapg.png"/></div></div><p class="kk kl gj gh gi km kn bd b be z dk translated">标签后的样本图像—作者提供的图像</p></figure><p id="ee20" class="pw-post-body-paragraph ks kt it kv b kw kx ky kz la lb lc ld mt lf lg lh mv lj lk ll mx ln lo lp lq im bi translated">如上图所示标记图像后创建的 JSON 文件如下所示:</p><figure class="oi oj ok ol gt kd"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="477d" class="pw-post-body-paragraph ks kt it kv b kw kx ky kz la lb lc ld mt lf lg lh mv lj lk ll mx ln lo lp lq im bi translated">要使用任何识别和分割算法，如掩蔽递归神经网络(MaskRNN)，您只需查看一次(YOLO)。需要上下文中的公共对象(COCO)格式的 JSON 文件来训练所提到的算法。</p><figure class="oi oj ok ol gt kd"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="1c26" class="pw-post-body-paragraph ks kt it kv b kw kx ky kz la lb lc ld mt lf lg lh mv lj lk ll mx ln lo lp lq im bi translated">因为我们有单独的 JSON 文件 w.r.t 图像，所以我们需要组合并制作一个 COCO 格式的注释 JSON 文件。下面的代码可以满足这个目的，因为它只需要两个参数，即图像和 JSON 文件的目录路径和保存结果 JSON 文件的输出路径。</p><figure class="oi oj ok ol gt kd"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="7264" class="pw-post-body-paragraph ks kt it kv b kw kx ky kz la lb lc ld mt lf lg lh mv lj lk ll mx ln lo lp lq im bi translated">下图显示了标记数据后的几幅样本图像。</p><figure class="oi oj ok ol gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi or"><img src="../Images/7ed7b539e3143911a487613a09e99982.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FQoywf0NEcex2EWkL765rQ.png"/></div></div><p class="kk kl gj gh gi km kn bd b be z dk translated">作者图片</p></figure><h1 id="a87f" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">最终想法和未来范围</h1><ul class=""><li id="55b5" class="mp mq it kv b kw mr la ms mt mu mv mw mx my lq mz na nb nc bi translated">本文有助于为识别和分段任务创建自定义数据集。</li><li id="17d8" class="mp mq it kv b kw nd la ne mt nf mv ng mx nh lq mz na nb nc bi translated">此外，我们可以使用这种类型的数据集为泰卢固语字符开发字符识别和分割系统。</li></ul><h1 id="412f" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">参考</h1><div class="no np gp gr nq nr"><a href="https://pypi.org/project/labelme/" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd jd gy z fp nw fr fs nx fu fw jc bi translated">拉贝梅</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">使用 Python Labelme 的图像多边形注释是一个图形图像注释工具，灵感来自于…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">pypi.org</p></div></div><div class="oa l"><div class="os l oc od oe oa of ki nr"/></div></div></a></div><div class="no np gp gr nq nr"><a href="http://cocodataset.org/#home" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd jd gy z fp nw fr fs nx fu fw jc bi translated">COCO -上下文中的常见对象</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">编辑描述</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">cocodataset.org</p></div></div><div class="oa l"><div class="ot l oc od oe oa of ki nr"/></div></div></a></div></div></div>    
</body>
</html>