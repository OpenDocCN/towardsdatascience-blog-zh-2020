<html>
<head>
<title>Build Your Own Deep Learning Machine — What you need to know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">打造自己的深度学习机器——你需要知道的</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/build-your-own-deep-learning-machine-what-you-need-to-know-85c7a0a1604a?source=collection_archive---------5-----------------------#2020-06-26">https://towardsdatascience.com/build-your-own-deep-learning-machine-what-you-need-to-know-85c7a0a1604a?source=collection_archive---------5-----------------------#2020-06-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/b639c3b46165250cef59eb1b931c9e61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KIekk9vZrco15JNzAtBucA.png"/></div></div></figure><p id="0b81" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">深度学习需要大量的计算，所以为了有效地训练深度学习模型，大多数人使用像AWS这样的云，或者在他们自己购买的硬件上进行训练。</p><p id="3c67" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我决定建立自己的机器，因为我在云上花了很多钱，并希望节省成本。介绍…战争机器！Warmachine是一台非常有能力的机器，旨在承担从深度学习到强化学习的高级人工智能任务。Warmachine是使用货架硬件的消费者构建的。</p><p id="7116" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">点击下面的链接，在电脑零件挑选处查看Warmachine的零件。</p><div class="kz la gp gr lb lc"><a href="https://pcpartpicker.com/user/learnedvector/saved/#view=f4c8Jx" rel="noopener  ugc nofollow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">保存的零件列表</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">编辑描述</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">pcpartpicker.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq jz lc"/></div></div></a></div><p id="dacf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这篇文章中，我将给出如何正确构建人工智能训练机器的技巧。最后，我将讨论构建自己的平台和使用云的优缺点。</p><p id="3e67" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你想看这个的视频版本，看看这个…</p><h1 id="5458" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">零件</h1><p id="0f9d" class="pw-post-body-paragraph kb kc it kd b ke mp kg kh ki mq kk kl km mr ko kp kq ms ks kt ku mt kw kx ky im bi translated">所以Warmachine主要是为了解决深度学习和强化学习问题而建立的。我想要一台具有4个GPU的大量内核的机器，这样我就可以快速迭代训练我的机器学习模型。我的最终目标是最终拥有一台类似于lambda quad的机器，但不用支付Lambda Quad的价格。</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mu"><img src="../Images/f2cb4ee7fc8537b5f1f88e654e1a9e02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TumLBNCIbIhYR__dBVODTg.png"/></div></div><p class="mz na gj gh gi nb nc bd b be z dk translated">用于4 GPU RTX 2080 TI机器的Lambda Lab Quad</p></figure><p id="be6a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当Warmachine完成时，我将花费大约7000美元，比Lambda Labs便宜4000美元！</p><p id="0c90" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">深度学习装备需要特定的组件，所以比平时更难在网上找到关于如何构建这些东西的可靠资源。让我们来看看你需要知道的所有知识，以构建你自己的深度学习机器。</p><h1 id="b304" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">国家政治保卫局。参见OGPU</h1><p id="ba86" class="pw-post-body-paragraph kb kc it kd b ke mp kg kh ki mq kk kl km mr ko kp kq ms ks kt ku mt kw kx ky im bi translated">训练深度学习模型的核心是GPU。GPU在计算深度学习算法方面速度超快，因为与拥有非常少量复杂计算核心的CPU不同，GPU拥有数百或数千个简单核心，在矩阵乘法方面超高效。GPU用于深度学习最可靠的品牌是英伟达。大多数深度学习框架完全支持英伟达的CUDA SDK，这是一个与他们的GPU接口的软件库。</p><p id="0c87" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当选择一个GPU时，为了让你的钱发挥最大的作用，你需要有张量核的东西。张量核是一种执行专门矩阵数学的处理核，使您能够使用半精度或混合精度训练模型。</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ne"><img src="../Images/488f60a0d3d06adc779fdce98408203c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_3tK0hGdvSRVnCrw.gif"/></div></div></figure><p id="cfa3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这允许更有效地使用GPU内存，为更大的批量、更快的训练和更大的模型打开了大门。张量核可以在英伟达RTX GPU模型中找到。GPU的内存需求取决于您计划训练的模型类型。</p><p id="b670" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你只打算为嵌入式设备训练超小型模型，你可以用内存更少的GPU。如果你计划训练更大的模型，比如NLP领域的GPT，我会得到尽可能多的内存。</p><p id="b428" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">拥有更多的GPU内存为..你猜对了…更大的批量，更快的训练，更大的模型。如果你打算做一个多GPU设置，你需要使用吹风机式风扇或更昂贵的液冷选项。</p><p id="9ae5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你需要吹风机式的风扇，因为它们是为了将热量排出机箱，当你有多个GPU运行时，这是必要的。如果您没有鼓风机式风扇，您的系统可能会过热，并可能损坏您的硬件。</p><p id="4cd6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于Warmachine，我选择了华硕的Nvidia RTX 2080 TI Turbo。它有11GB的VRam和鼓风机式风扇，可以在多GPU设置上实现更好的加热管理。我计划再买3个GPU来完成我的设置。</p><h1 id="2eb1" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">中央处理器</h1><p id="d84d" class="pw-post-body-paragraph kb kc it kd b ke mp kg kh ki mq kk kl km mr ko kp kq ms ks kt ku mt kw kx ky im bi translated">CPU主要用于深度学习中的数据加载。CPU上更多的线程意味着您可以并行加载更多的数据，以输入到您的模型中进行训练。如果你在大批量上训练，这是有用的，所以GPU不必等待CPU太长时间来加载数据。</p><p id="dc60" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你打算做强化学习问题，CPU是很重要的，因为大部分计算将在你的学习环境中完成，而这很可能是在CPU上完成的。如果你使用强化学习的大型神经网络，那么GPU肯定有助于加快训练速度。</p><p id="6383" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你只打算只做深度学习，那么确保你的CPU兼容你计划拥有的任何数量的GPU。</p><p id="c058" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">选择CPU时，问问自己，这些问题…</p><ol class=""><li id="eec5" class="nf ng it kd b ke kf ki kj km nh kq ni ku nj ky nk nl nm nn bi translated">你打算进行强化学习吗？如果你想要更快的训练，那么选择一个在基准测试中表现良好的高端CPU。</li><li id="6c28" class="nf ng it kd b ke no ki np km nq kq nr ku ns ky nk nl nm nn bi translated">你是不是只想做深度学习？然后，您可以使用更便宜的CPU，但是更多的线程将有助于数据加载。</li><li id="06fd" class="nf ng it kd b ke no ki np km nq kq nr ku ns ky nk nl nm nn bi translated">你计划有一个多GPU设置吗？然后确保你的CPU支持你想要的GPU数量。</li></ol><p id="dfb2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Warmachine将用于深度学习和强化学习，因此它配备了一个英特尔i9–10920 x，它有12个内核和24个线程。它的时钟速度高达4.8 GHZ，支持4个GPU。我选择了英特尔，但是阅读了很多使用AMD芯片的人的成功故事，这对你的钱来说是一个更大的冲击。英特尔i9–10920 x是一款非常强大的CPU，可以进行深度学习和强化学习，因此非常适合我的需求。</p><h1 id="b743" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">随机存取存储</h1><p id="b6ab" class="pw-post-body-paragraph kb kc it kd b ke mp kg kh ki mq kk kl km mr ko kp kq ms ks kt ku mt kw kx ky im bi translated">一个很大的错误是认为你需要具有高时钟频率的最快的RAM。高Ram时钟速度是一个营销噱头，最好的解释是由<a class="ae nd" href="https://www.youtube.com/watch?v=OT-qAQLGkGo" rel="noopener ugc nofollow" target="_blank">莱纳斯技术提示</a>。更高的时钟频率在训练期间将显示出微不足道的改善，所以你的钱最好花在别的地方。</p><p id="b02c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">真正重要的是RAM上的内存量。你应该努力让你的内存至少和你的GPU内存一样多。我用的是corsair品牌，它的时钟速度为2666Mhz，内存为32 GB。当Warmachine完成时，我计划将它的内存增加到128 GB，因为我特别喜欢这样。</p><h1 id="a3fc" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">母板</h1><p id="c7a0" class="pw-post-body-paragraph kb kc it kd b ke mp kg kh ki mq kk kl km mr ko kp kq ms ks kt ku mt kw kx ky im bi translated">选择主板时，确保它有足够的PCIe插槽来容纳你想要的GPU数量。此外，确保PCIe插槽有足够的空间来容纳GPU。通常，一个GPU将占用2个PCIe插槽的空间。此外，请确保主板与您的CPU和RAM兼容。</p><p id="6701" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Warmachine配备了一台华硕WS X299 SAGE。这款主板支持4个GPU。我唯一希望它有机载wifi，但我使用以太网电缆连接，所以这不是太大的问题。</p><h1 id="a2df" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">储存；储备</h1><p id="ab42" class="pw-post-body-paragraph kb kc it kd b ke mp kg kh ki mq kk kl km mr ko kp kq ms ks kt ku mt kw kx ky im bi translated">如果你想优化你的数据加载速度，你需要更快的存储，如固态硬盘。固态硬盘比标准硬盘更贵，因此为操作系统购买一个较小的固态硬盘，然后购买一个标准硬盘作为长期存储数据和模型的第二个驱动器是非常有用的。</p><p id="1de8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">训练的时候可以把感兴趣的数据转移到你的SSD上，加快数据加载速度。Warmachine配备了NVME三星970 Evo，操作系统存储空间为1 TB。对于第二个驱动器，它有8TB存储的希捷Exos企业硬盘。</p><h1 id="d8c3" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">程序存储单元(Program Storage Unit)</h1><p id="a76c" class="pw-post-body-paragraph kb kc it kd b ke mp kg kh ki mq kk kl km mr ko kp kq ms ks kt ku mt kw kx ky im bi translated">对于电源单元，你需要有足够的功率来支持你的整个系统。一个很好的经验法则是将CPU和GPU所需的功率乘以110%。</p><p id="41ec" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">确定您的PSU有足够的PCIe连接器用于您的系统。Warmachine配备了一个玫瑰将，1600瓦PSU。尽管我现在的设置不需要所有这些，但当它完成时，我会需要这么多，所以我继续购买了它以备将来使用。</p><h1 id="f24a" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">冷却</h1><p id="afcb" class="pw-post-body-paragraph kb kc it kd b ke mp kg kh ki mq kk kl km mr ko kp kq ms ks kt ku mt kw kx ky im bi translated">你肯定需要一个CPU冷却器。为了降低风扇噪音，可以使用水冷装置。如果你有预算，你也可以看看液体冷却你的GPU。这将构成一个超级安静的系统。如果你想坚持用空气冷却你的GPU，确保你有鼓风机式的冷却，如果你计划有一个多GPU设置。Warmachine目前配备了海盗船H1 15i专业这是一个CPU水冷却器。对于GPU来说，这只是股票鼓风机式的。</p><h1 id="9fa3" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">情况</h1><p id="531c" class="pw-post-body-paragraph kb kc it kd b ke mp kg kh ki mq kk kl km mr ko kp kq ms ks kt ku mt kw kx ky im bi translated">当你选择一个箱子时，你可以选择任何你想要的东西，只要你的零件合适。我会建议买一个通风良好的箱子，因为我非常谨慎。我去了一个海盗船航空540 ATX中塔案件Warmachine。它有充足的气流，看起来很酷，这和Lambda实验室使用的情况一样，为什么不呢？</p><h1 id="0520" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">确保你的零件合适</h1><p id="b527" class="pw-post-body-paragraph kb kc it kd b ke mp kg kh ki mq kk kl km mr ko kp kq ms ks kt ku mt kw kx ky im bi translated">在装配钻机时，使用<a class="ae nd" href="https://pcpartpicker.com/" rel="noopener ugc nofollow" target="_blank"> PC零件拾取器</a>。它有一个功能，它会检查部件兼容性，这样你就不会完全搞砸你的构建。虽然它并不完美，因为它提醒我，我的零件并不适合我的情况，但一切都非常适合，所以在建造时将它用作指南针。</p><h1 id="183e" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">云与您自己的硬件</h1><p id="e52f" class="pw-post-body-paragraph kb kc it kd b ke mp kg kh ki mq kk kl km mr ko kp kq ms ks kt ku mt kw kx ky im bi translated">现在你们很多人可能会好奇，为什么要造我自己的机器？我就不能用云吗？是的，是的，你可以。但是建造你自己的机器也有好处，包括长期的成本节约。</p><p id="2b89" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里有3个理由说明为什么建立自己的深度学习平台可能是值得的。</p><p id="d55a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">1.节约成本。如果你经常使用你的GPU进行训练，那么从长远来看，建造一台机器实际上可以为你省钱！如果你租一辆v100，那大约是每小时3美元或者一个月2100美元！你可以用那个价格建造你自己的机器..并且永远保持下去！</p><p id="b196" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">2.你自己的硬件其实比云还快。这是因为由于虚拟化，云在实例和GPU之间的IO很慢。Bizon-Tech 做了一个实验来比较云和你自己的硬件，他们发现你可以买到更便宜的消费硬件。</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nt"><img src="../Images/cbd37aaef45018c036b0b5e53291faad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lrgFXjR7_p4-9_AF17uh6w.png"/></div></div><p class="mz na gj gh gi nb nc bd b be z dk translated">您可以在这里看到，1080 Ti接近V100的性能</p></figure><p id="9696" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">3.拥有自己的钻机就像一台生产力机器，可以做任何你想做的事情。我可以用它在最大设置下玩游戏，为大家制作很酷的视频，并在chrome上打开10多个标签页！</p><p id="731b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">奖励点:</strong>这里有一个奖励点。我喜欢不用担心每轮模特训练要花多少钱。我觉得当我必须为每轮训练付费时，我总是不愿意尝试，因为我知道这会让我花钱。我认为拥有自己的机器鼓励我继续尝试，从而帮助我比使用云更快地完善深度学习的艺术。现在有其他免费的GPU支持选项，如Google Colab或Kaggle内核，但你可以训练的时间有限，这缩小了我对模型和要解决的问题的选择。不过，我强烈推荐大多数刚开始深度学习的人使用它们。</p><h1 id="82f1" class="lr ls it bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">结论</h1><p id="30ad" class="pw-post-body-paragraph kb kc it kd b ke mp kg kh ki mq kk kl km mr ko kp kq ms ks kt ku mt kw kx ky im bi translated">原来如此！这是一个关于如何构建自己的深度学习机器的简短指南。如果你想要一份更详细的指南，我推荐你去看看<a class="ae nd" href="https://timdettmers.com/2018/12/16/deep-learning-hardware-guide/" rel="noopener ugc nofollow" target="_blank">蒂姆·德特默斯指南</a>。当Warmachine完成后，它将花费我大约7k美元，这仍然比Lambda Labs可比的机器11K美元便宜！对我来说，这是一个很大的省钱之道，完全值得你自己造一台机器。</p></div><div class="ab cl nu nv hx nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="im in io ip iq"><p id="63dc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">✍🏽想要更多内容？查看我的博客<a class="ae nd" href="https://www.michaelphi.com/build-your-own-deep-learning-machine-what-you-need-to-know/" rel="noopener ugc nofollow" target="_blank"><strong class="kd iu"><em class="ob">https://www.michaelphi.com</em></strong></a></p><p id="0dc4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">📺喜欢看基于项目的视频？查看我的<a class="ae nd" href="https://www.youtube.com/channel/UCYpBgT4riB-VpsBBBQkblqQ?view_as=subscriber" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu"> Youtube </strong> </a>！</p><p id="ba1b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">🥇注册我的<a class="ae nd" href="http://eepurl.com/gwy3hj" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">电子邮件简讯</strong> </a> <strong class="kd iu">，了解最新文章和视频！</strong></p></div></div>    
</body>
</html>