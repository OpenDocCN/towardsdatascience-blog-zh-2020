<html>
<head>
<title>Why I Use Plotly for Data Visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我使用 Plotly 进行数据可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-use-plotly-for-data-visualization-f3d62bbcfd92?source=collection_archive---------27-----------------------#2020-08-13">https://towardsdatascience.com/how-to-use-plotly-for-data-visualization-f3d62bbcfd92?source=collection_archive---------27-----------------------#2020-08-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e57f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解商业图表和图形的 Plotly</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/93b1c14b9039d7c6bd94f0e0ce24babd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Gnw427JPLUceFb8i"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卢克·切瑟在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="8128" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated">世界上的数据量每秒都在增长。从发送文本到点击链接，你都在创造数据点供公司使用。从这些数据收集中获得的见解可能非常有价值。每个企业都有自己需要检查的数据存储。完成这种检查的最重要的方法之一是可视化数据。</p><h1 id="c7cc" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">为什么要可视化数据？</h1><p id="fcae" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">简单来说——“<em class="nb">一图抵千言</em>”。在整个商业历史中，数据可视化一直是一个必要的组成部分。它如此必要的原因最终是因为我们是视觉动物。除此之外，你认为为什么我们大多数人更喜欢看改编自一本书的电影，而不是阅读这本书本身？在商业演示方面，销售数据的图表可能比纯文本更有洞察力。从视觉媒介而不是 word 文档中获取洞察力是很容易的。</p><p id="16e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过可视化数据，您可以让更广泛的受众更容易访问这些数据。这有助于获得更多的洞察力，因为其他人可能会有一两个你可能从未想过的洞察力。越多的人看到你的视觉化图像，就越有可能获得更多的洞察力。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/957309630470f1f7243f9c4f57cc8712.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bQ9CZU_bY_0AcsQI"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@austindistel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">奥斯汀·迪斯特尔</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="d64e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在向董事会成员或股东等关键决策者展示时，可视化也发挥着关键作用。当你构建大量的图表来突出关键数据点时，你决定制作的视觉效果可以帮助这些决策者向一个或另一个方向前进。如果在展示数据视觉效果时考虑了一个精选的叙述，那么这些决策者会倾向于根据你的展示做出具体的决定。</p><blockquote class="nd ne nf"><p id="f9ab" class="kz la nb lb b lc ld ju le lf lg jx lh ng lj lk ll nh ln lo lp ni lr ls lt lu im bi translated"><a class="ae ky" href="https://marco-santos.medium.com/membership" rel="noopener">在这里注册一个中级会员，可以无限制地访问和支持像我这样的内容！在你的支持下，我赚了一小部分会费。谢谢！</a></p></blockquote></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="b646" class="me mf it bd mg mh nq mj mk ml nr mn mo jz ns ka mq kc nt kd ms kf nu kg mu mv bi translated">数据可视化工具</h1><p id="d1e5" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">饼图、条形图、折线图等等都是展示数据时的有效视觉效果。这些视觉效果是经过检验的真实的数据呈现形式，我们使创建它们变得更加容易。我们过去用手做的事情现在在电脑上点击几下就可以完成了。</p><p id="a762" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如今，我们可以使用多种程序来构建漂亮的图表。这些工具从更基于技术的可视化应用，如 Python 的<a class="ae ky" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Matplotlib </strong> </a>或<a class="ae ky" href="https://plotly.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Plotly </strong> </a>到更用户友好的应用，如<a class="ae ky" href="https://www.tableau.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Tableau </strong> </a>或<a class="ae ky" href="https://powerbi.microsoft.com/en-us/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">微软 Power BI </strong> </a>。数据可视化工具现在比以往任何时候都更容易使用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/3ec3fca29305a48279565aff0a79b5ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MJHaazVjBxcc0_bG"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@katertottz?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">凯蒂·罗德里格斯</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="dac3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在 Python 编程领域，有许多不同的库可以用来制作数据可视化。这些库包括但不限于<em class="nb">牛郎星</em>、<em class="nb">海本</em>和<em class="nb"> Plotly </em>。没有更好的 Python 库，因为这完全取决于你喜欢什么，以及你试图可视化的问题或数据。</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="8249" class="me mf it bd mg mh nq mj mk ml nr mn mo jz ns ka mq kc nt kd ms kf nu kg mu mv bi translated">学习如何使用 Plotly</h1><p id="14f7" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">我们之前提到的一个工具叫做<strong class="lb iu"> <em class="nb"> Plotly </em> </strong>。Plotly 是一个类似于 Matplotlib 的 Python 图形和绘图库。两者的区别在于，Plotly 可以动态地创建交互式图表和图形。</p><h2 id="ebac" class="nw mf it bd mg nx ny dn mk nz oa dp mo li ob oc mq lm od oe ms lq of og mu oh bi translated">一个简单的商业问题</h2><p id="f910" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">要开始使用 Plotly，我们首先需要数据来绘制图表或绘图。比方说，你在一家销售服装的公司工作。他们希望您绘制他们的衬衫和牛仔裤在一年中的销售图表，并为此向您提供了数据。这个问题将帮助我们开始与 Plotly 合作。</p><h2 id="792f" class="nw mf it bd mg nx ny dn mk nz oa dp mo li ob oc mq lm od oe ms lq of og mu oh bi translated">安装 Plotly</h2><p id="e221" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">为了开始，我们必须首先在您的终端中使用以下命令安装 Plotly:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="8abd" class="nw mf it oj b gy on oo l op oq">$ pip install plotly</span></pre><p id="b311" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者如果您安装了<a class="ae ky" href="https://www.anaconda.com/products/individual" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Anaconda </strong> </a>:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="78ba" class="nw mf it oj b gy on oo l op oq">$ conda install -c plotly plotly</span></pre><h2 id="a870" class="nw mf it bd mg nx ny dn mk nz oa dp mo li ob oc mq lm od oe ms lq of og mu oh bi translated">Plotly 导入</h2><p id="ca5f" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">现在您已经安装了 Plotly，让我们打开一个新文件，并开始为我们的数据可视化示例导入必要的库:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="9842" class="nw mf it oj b gy on oo l op oq">import plotly.express as px<br/>import calendar as cal<br/>import random<br/>import pandas as pd</span></pre><p id="a2f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们使用的是<code class="fe or os ot oj b">plotly.express</code>，它是 Plotly 中的一个模块，可以为我们快速创建图形和图表。</p><h2 id="d2f7" class="nw mf it bd mg nx ny dn mk nz oa dp mo li ob oc mq lm od oe ms lq of og mu oh bi translated">创建数据</h2><p id="5565" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">由于我们实际上没有得到真实的数据，我们将不得不创建自己的数据:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="1677" class="nw mf it oj b gy on oo l op oq">data = {'Months': [cal.month_name[i] for i in range(1,13)],<br/>        'Shirts': [round(random.gauss(100, 15)) for _ in range(12)],<br/>        'Jeans': [round(random.gauss(50, 20)) for _ in range(12)]}</span></pre><p id="7fe5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Plotly 与 Pandas 数据框架配合得非常好，因此我们将把新创建的数据存储到 DF:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="af00" class="nw mf it oj b gy on oo l op oq">df = pd.DataFrame(data)</span></pre><p id="0e31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个新的 DF 看起来像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/ed8ab2b1ca00748dc8649267a0a89cc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*SRlsRMPl_QM7QUJuITxxxg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们对 Plotly 的 DF</p></figure><h2 id="270b" class="nw mf it bd mg nx ny dn mk nz oa dp mo li ob oc mq lm od oe ms lq of og mu oh bi translated">普罗特利条形图</h2><p id="53f9" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">现在我们已经准备好了 DF，我们可以开始制作条形图了:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="69a5" class="nw mf it oj b gy on oo l op oq">fig = px.bar(df, <br/>             x='Months', <br/>             y=['Shirts','Jeans'])</span><span id="0dd9" class="nw mf it oj b gy ov oo l op oq">fig.show()</span></pre><p id="4849" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们使用<code class="fe or os ot oj b">.bar()</code>方法，输入我们数据的 DF，并指定<em class="nb"> x </em>和<em class="nb"> y </em>轴。我们正在制作一个堆叠条形图，为列列表:'<code class="fe or os ot oj b">Shirts</code>'和'<code class="fe or os ot oj b">Jeans</code>'。我们将通过调用<code class="fe or os ot oj b">fig.show()</code>来显示它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/d7a7b16445342ecac84ce6746a81deae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jsiO636uGC9vHhYBFZi3Ig.png"/></div></div></figure><p id="525c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">成功！这很简单。这个 Plotly 图表很酷的一点是，你可以通过放大、平移等方式开始与它互动。但是就整个图表而言，我们想要改变一些东西，使这个图表更具描述性，例如添加标题和重命名一些标签。</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="d7ba" class="nw mf it oj b gy on oo l op oq">fig = px.bar(df, <br/>             x='Months', <br/>             y=['Shirts','Jeans'],<br/>             title='Total Monthly Item Sales',<br/>             labels={'variable': 'Item',<br/>                     'value': 'Quantity Sold (in thousands)'})</span><span id="4ff0" class="nw mf it oj b gy ov oo l op oq">fig.show()</span></pre><p id="80cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这段代码与之前代码的不同之处在于增加了<code class="fe or os ot oj b">title=</code>和<code class="fe or os ot oj b">labels={}</code>参数。有了这些新的参数，我们为图表添加了一个标题，在<code class="fe or os ot oj b">labels</code>下面，我们基本上使用了一个字典来替换当前的两个标签。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/bc55fddbf87d97bca1c23f9ed3cb16b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jwnhIGozVbSJRvfvoRrQKw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">更新了带有正确标签和标题的条形图</p></figure><p id="16d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在条形图已经被正确标记，我们基本上已经完成了对这些数据使用 Plotly。但是，如果我们想要制作其他类型的图表或图形，以便查看数据的不同方面，该怎么办呢？</p><h2 id="0fcb" class="nw mf it bd mg nx ny dn mk nz oa dp mo li ob oc mq lm od oe ms lq of og mu oh bi translated">普洛特利线图</h2><p id="6305" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">Plotly 也允许我们创建其他类型的可视化。我们可以使用之前的代码轻松创建一个线图，只需更改一点:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="2b78" class="nw mf it oj b gy on oo l op oq">fig = px.line(df, <br/>              x='Months', <br/>              y=['Shirts','Jeans'],<br/>              title='Monthly Item Sales',<br/>              labels={'variable': 'Item',<br/>                      'value': 'Quantity Sold (in thousands)'})</span><span id="3fd3" class="nw mf it oj b gy ov oo l op oq">fig.show()</span></pre><p id="d278" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在这里所做的只是将<code class="fe or os ot oj b">px.bar</code>改为<code class="fe or os ot oj b">px.line</code>。这会显示以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/7ef3981babe21cd54b763bf474901a64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C2nVAe3D22hhmPfr3FExnQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">具有相同数据的折线图</p></figure><p id="e627" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们有了一个线图！但是等等，还有更多…</p><h2 id="e83e" class="nw mf it bd mg nx ny dn mk nz oa dp mo li ob oc mq lm od oe ms lq of og mu oh bi translated">普罗特利饼图</h2><p id="c305" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">假设我们想比较全年卖出了多少件衬衫和多少条牛仔裤。</p><p id="0f0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们必须更改数据以显示衬衫和牛仔裤的总销售额:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="ed7d" class="nw mf it oj b gy on oo l op oq">pie_df = df[['Shirts','Jeans']].sum()</span></pre><p id="5442" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们只是从 DF 中得到<code class="fe or os ot oj b">Shirts</code>和<code class="fe or os ot oj b">Jeans</code>的和。然后，我们将需要使用<code class="fe or os ot oj b">px.pie()</code>使用我们新总结的 DF。</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="4bda" class="nw mf it oj b gy on oo l op oq">fig = px.pie(values=pie_df.values, <br/>             names=pie_df.index, <br/>             title="Sales Percentage in a Year")</span><span id="d26f" class="nw mf it oj b gy ov oo l op oq">fig.show()</span></pre><p id="7571" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参数<code class="fe or os ot oj b">values</code>用于确定饼图每个部分的大小。<code class="fe or os ot oj b">names</code>是每个部分的标签。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/4280a92821d5ccc8d13541b733ba94df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cL_CIqiEnnwHYAXxt4p-gg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们的数据饼状图</p></figure><p id="3304" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">厉害！现在我们已经为我们的数据创建了三种不同类型的可视化。但是你不必停下来——如果你觉得有必要继续尝试 Plotly，还有更多选项可用(<a class="ae ky" href="https://plotly.com/python/basic-charts/" rel="noopener ugc nofollow" target="_blank"> <em class="nb">查看这里了解更多</em> </a>)。</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="2bbb" class="me mf it bd mg mh nq mj mk ml nr mn mo jz ns ka mq kc nt kd ms kf nu kg mu mv bi translated">数据洞察和结论</h1><p id="e262" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">在可视化我们的数据之后，我们需要根据视觉效果得出某种见解或结论。根据这些图表，你能看出什么？有没有一些显而易见的结论可以得出？一些不那么明显的呢？</p><p id="4718" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论如何，见解和结论更容易看到而不是阅读。如果你仍然想知道可视化的重要性，那么就回头看看我们创建的 DF，并将其与我们用 Plotly 创建的任何视觉效果进行比较。有时候看资料不如看资料。</p></div></div>    
</body>
</html>