<html>
<head>
<title>Store Hyperledger Fabric certificates and keys in CouchDB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨ CouchDB ä¸­å­˜å‚¨ Hyperledger ç»“æ„è¯ä¹¦å’Œå¯†é’¥</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/store-hyperledger-fabric-certificates-and-keys-in-couchdb-43c8f91a61b0?source=collection_archive---------20-----------------------#2020-02-09">https://towardsdatascience.com/store-hyperledger-fabric-certificates-and-keys-in-couchdb-43c8f91a61b0?source=collection_archive---------20-----------------------#2020-02-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="efe2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Hyperledger Fabric æ˜¯å…³äºæƒé™çš„ã€‚è¿™äº›æƒé™ä»¥è¯ä¹¦å’Œå¯†é’¥çš„å½¢å¼æä¾›ã€‚ä»å¹¿ä¹‰ä¸Šè®²ï¼Œå®ƒè¢«ç§°ä¸ºèº«ä»½ã€‚</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4477d41b372b639770bc461d1d1d1c4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZdTGytr_RFhr5gga.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae ky" href="https://unsplash.com/@mr_williams_photography?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">è¿ˆå¡Â·å¨å»‰å§†æ–¯</a>åœ¨<a class="ae ky" href="https://unsplash.com/s/photos/safe?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„</p></figure><p id="74b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å½“åº”ç”¨ç¨‹åºä¸ Hyperledger Fabric ç½‘ç»œäº¤äº’æ—¶ï¼Œå®ƒä½¿ç”¨æ­¤èº«ä»½æ¥éªŒè¯è‡ªå·±ã€‚ç»“æ„ç½‘ç»œéªŒè¯èº«ä»½å¹¶æˆæƒåº”ç”¨ç¨‹åºè¿›è¡Œäº¤äº’ã€‚</p><p id="662c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç®€è€Œè¨€ä¹‹ï¼Œèº«ä»½æ˜¯éå¸¸é‡è¦çš„ï¼Œå¦‚æœä½ ä¸å¦¥å–„ä¿å­˜ï¼Œé‚£ä¹ˆå®ƒå¯èƒ½ä¼šå˜æˆä¸€ä¸ªä»¤äººå¤´ç—›çš„é—®é¢˜ã€‚ğŸ˜©</p><blockquote class="lv"><p id="308f" class="lw lx it bd ly lz ma mb mc md me lu dk translated"><em class="mf">æœ€åˆå‘å¸ƒäº</em><a class="ae ky" href="https://schadokar.dev/posts/store-hyperledger-fabric-certificates-and-keys-in-couchdb/" rel="noopener ugc nofollow" target="_blank"><em class="mf">https://schadokar . dev</em></a></p></blockquote><h1 id="fb11" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">æˆ‘å¯ä»¥åœ¨å“ªé‡Œå­˜å‚¨èº«ä»½ï¼ŸğŸ’¼</h1><p id="b125" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">åœ¨ Hyperledger ç»“æ„ä¸­ï¼Œè¿™ç§å­˜å‚¨è¢«ç§°ä¸º<a class="ae ky" href="https://hyperledger-fabric.readthedocs.io/en/latest/developapps/wallet.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="nd">é’±åŒ…</em> </strong> </a>ã€‚</p><p id="2e7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">é’±åŒ…æœ‰ä¸‰ç§ç±»å‹:</p><h2 id="220e" class="ne mh it bd mi nf ng dn mm nh ni dp mq li nj nk ms lm nl nm mu lq nn no mw np bi translated"><em class="mf">æ–‡ä»¶ç³»ç»Ÿ</em></h2><p id="8e78" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æ–‡ä»¶å¤¹ã€‚æœ¬åœ°å­˜å‚¨é’±åŒ…ã€‚å¯¹äºé’±åŒ…æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸é”™çš„é»˜è®¤é€‰æ‹©ã€‚åœ¨<code class="fe nq nr ns nt b">fabric-samples/balance-transfer</code>ä¸­ï¼Œ<code class="fe nq nr ns nt b">file system</code>æ˜¯é»˜è®¤çš„é’±åŒ…ã€‚å½“ä½ è¿è¡Œ<code class="fe nq nr ns nt b">balance-transfer</code>æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ª<code class="fe nq nr ns nt b">fabric-client-kv-orgName</code>æ–‡ä»¶å¤¹å¹¶ä¿å­˜æ‰€æœ‰çš„èº«ä»½ã€‚è¿™ä¸ªé…ç½®æ˜¯åœ¨<code class="fe nq nr ns nt b">orgname.yaml</code>çš„<a class="ae ky" href="https://github.com/hyperledger/fabric-samples/blob/release-1.4/balance-transfer/artifacts/org1.yaml" rel="noopener ugc nofollow" target="_blank">é“¾æ¥</a>ä¸­å®šä¹‰çš„ã€‚</p><h2 id="aa67" class="ne mh it bd mi nf ng dn mm nh ni dp mq li nj nk ms lm nl nm mu lq nn no mw np bi translated">å†…å­˜ä¸­</h2><p id="86f3" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">åº”ç”¨å­˜å‚¨ä¸­çš„é’±åŒ…ã€‚å½“æ‚¨çš„åº”ç”¨ç¨‹åºåœ¨ä¸èƒ½è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„å—é™ç¯å¢ƒä¸­è¿è¡Œæ—¶ï¼Œè¯·ä½¿ç”¨è¿™ç§ç±»å‹çš„ wallet é€šå¸¸æ˜¯ç½‘ç»œæµè§ˆå™¨ã€‚å€¼å¾—è®°ä½çš„æ˜¯ï¼Œè¿™ç§ç±»å‹çš„é’±åŒ…æ˜¯ä¸ç¨³å®šçš„ï¼›åº”ç”¨ç¨‹åºæ­£å¸¸ç»“æŸæˆ–å´©æºƒåï¼Œèº«ä»½å°†ä¼šä¸¢å¤±ã€‚â€” <a class="ae ky" href="https://hyperledger-fabric.readthedocs.io/en/latest/developapps/wallet.html#types" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a></p><h2 id="2111" class="ne mh it bd mi nf ng dn mm nh ni dp mq li nj nk ms lm nl nm mu lq nn no mw np bi translated">CouchDB</h2><p id="8692" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">ç”¨ couchdb å½“é’±åŒ…ã€‚æ­¤é€‰é¡¹æœ€é€‚åˆç”Ÿäº§ã€‚</p></div><div class="ab cl nu nv hx nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="im in io ip iq"><p id="da10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æŠŠ<code class="fe nq nr ns nt b">CouchDB</code>é…ç½®ä¸ºé’±åŒ…ã€‚ğŸ‘¨ğŸ»â€ğŸ’»</p><blockquote class="ob oc od"><p id="0ed3" class="kz la nd lb b lc ld ju le lf lg jx lh oe lj lk ll of ln lo lp og lr ls lt lu im bi translated">ä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘ä½¿ç”¨äº†<code class="fe nq nr ns nt b">Fabric Node SDK</code>å’Œ<code class="fe nq nr ns nt b">fabric/samples/balance-transfer</code>ã€‚</p></blockquote><p id="e5a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">é’±åŒ…ä½¿ç”¨ 2 ä¸ªå­˜å‚¨æ¥ä¿å­˜è¯ä¹¦å’Œå¯†é’¥:</p><h2 id="c611" class="ne mh it bd mi nf ng dn mm nh ni dp mq li nj nk ms lm nl nm mu lq nn no mw np bi translated">1.å·å•†åº—:</h2><p id="a22e" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">çŠ¶æ€å­˜å‚¨ç”¨äºå­˜å‚¨æ³¨å†Œèº«ä»½çš„è¯ä¹¦ã€‚å®ƒå­˜å‚¨äº†èº«ä»½çš„åŸºæœ¬ä¿¡æ¯:</p><pre class="kj kk kl km gt oh nt oi oj aw ok bi"><span id="f9cf" class="ne mh it nt b gy ol om l on oo">{<br/>  "name": "test",<br/>  "mspid": "org1",<br/>  "roles": null,<br/>  "affiliation": "",<br/>  "enrollmentSecret": "&lt;ENROLLMENT_SECRET&gt;",<br/>  "enrollment": {<br/>    "signingIdentity": "&lt;PRIVATE_KEY_NAME&gt;",<br/>    "identity": {<br/>      "certificate": "&lt;SIGN_CERT&gt;"<br/>    }<br/>  }<br/>}</span></pre><blockquote class="ob oc od"><p id="ae93" class="kz la nd lb b lc ld ju le lf lg jx lh oe lj lk ll of ln lo lp og lr ls lt lu im bi translated"><em class="it"> â—ï¸ </em>æ³¨æ„:ç­¾åæ ‡è¯†æ˜¯å­˜å‚¨åœ¨åŠ å¯†å­˜å‚¨ä¸­çš„ç§é’¥å’Œå…¬é’¥çš„æŒ‡é’ˆæˆ–åœ°å€ã€‚</p></blockquote><h2 id="a2d9" class="ne mh it bd mi nf ng dn mm nh ni dp mq li nj nk ms lm nl nm mu lq nn no mw np bi translated">2.åŠ å¯†å­˜å‚¨:</h2><p id="4166" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">åŠ å¯†å­˜å‚¨ç”¨äºå­˜å‚¨èº«ä»½çš„å…¬é’¥å’Œç§é’¥ã€‚</p></div><div class="ab cl nu nv hx nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="im in io ip iq"><p id="c3b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¦å°† couchdb é…ç½®ä¸º wallet:</p><h2 id="b1b4" class="ne mh it bd mi nf ng dn mm nh ni dp mq li nj nk ms lm nl nm mu lq nn no mw np bi translated">ç¬¬ä¸€æ­¥</h2><p id="6f97" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">å¯¼å…¥ç”±<code class="fe nq nr ns nt b">Node SDK</code>æä¾›çš„<code class="fe nq nr ns nt b">CouchDBKeyValueStore</code>åº“ã€‚</p><pre class="kj kk kl km gt oh nt oi oj aw ok bi"><span id="c8ea" class="ne mh it nt b gy ol om l on oo"><strong class="nt iu">const CDBKVS = require("fabric-client/lib/impl/CouchDBKeyValueStore.js");</strong></span></pre><blockquote class="ob oc od"><p id="348b" class="kz la nd lb b lc ld ju le lf lg jx lh oe lj lk ll of ln lo lp og lr ls lt lu im bi translated">è¯·åŠ¡å¿…é˜…è¯»ã€ŠT4 ã€‹,å®ƒå€¼å¾—ä¸€è¯»ã€‚</p></blockquote><h2 id="fcf5" class="ne mh it bd mi nf ng dn mm nh ni dp mq li nj nk ms lm nl nm mu lq nn no mw np bi translated">ç¬¬äºŒæ­¥</h2><p id="d16d" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">è®¾ç½®<code class="fe nq nr ns nt b">state store</code>ã€‚</p><pre class="kj kk kl km gt oh nt oi oj aw ok bi"><span id="705a" class="ne mh it nt b gy ol om l on oo"><strong class="nt iu">let stateStore = await new CDBKVS({<br/>  url: "https://&lt;USERNAME&gt;:&lt;PASSWORD&gt;@&lt;URL&gt;",<br/>  name: "&lt;DB_NAME&gt;"<br/>});<br/><br/>const Client = require("fabric-client");<br/><br/>const client = Client.loadFromConfig("path of network.yaml");<br/><br/>client.setStateStore(stateStore);</strong></span></pre><ul class=""><li id="c1a3" class="op oq it lb b lc ld lf lg li or lm os lq ot lu ou ov ow ox bi translated"><code class="fe nq nr ns nt b">&lt;USERNAME&gt;</code>æ˜¯ couchdb çš„ç”¨æˆ·åã€‚</li><li id="ad0f" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated"><code class="fe nq nr ns nt b">&lt;PASSWORD&gt;</code>æ˜¯ couchdb çš„å¯†ç ã€‚</li><li id="5b74" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated"><code class="fe nq nr ns nt b">&lt;URL&gt;</code>æ˜¯ couchdb çš„ URLã€‚</li><li id="0209" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated"><code class="fe nq nr ns nt b">&lt;DB_NAME&gt;</code>(å¯é€‰)æ˜¯ç”¨ä½œçŠ¶æ€å­˜å‚¨çš„æ•°æ®åº“åã€‚é»˜è®¤çš„ dbname æ˜¯<code class="fe nq nr ns nt b">userdb</code>ã€‚å¦‚æœæ•°æ®åº“ä¸å­˜åœ¨ï¼Œå®ƒä¼šåˆ›å»ºå®ƒã€‚</li></ul><blockquote class="ob oc od"><p id="b9fa" class="kz la nd lb b lc ld ju le lf lg jx lh oe lj lk ll of ln lo lp og lr ls lt lu im bi translated"><a class="ae ky" href="https://hyperledger.github.io/fabric-sdk-node/release-1.4/Client.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">å®¢æˆ·ç«¯</strong> </a> <strong class="lb iu">æ˜¯ç”¨æˆ·å’Œå…‰çº¤ç½‘ç»œä¹‹é—´çš„æ¥å£ã€‚</strong></p></blockquote><h2 id="4c78" class="ne mh it bd mi nf ng dn mm nh ni dp mq li nj nk ms lm nl nm mu lq nn no mw np bi translated">ç¬¬ä¸‰æ­¥</h2><p id="8db5" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">è®¾ç½®<code class="fe nq nr ns nt b">crypto store</code>ã€‚</p><pre class="kj kk kl km gt oh nt oi oj aw ok bi"><span id="7d31" class="ne mh it nt b gy ol om l on oo"><strong class="nt iu">const cryptoSuite = Client.newCryptoSuite();<br/><br/>let cryptoKS = Client.newCryptoKeyStore(CDBKVS, {<br/>  url: "https://&lt;USERNAME&gt;:&lt;PASSWORD&gt;@&lt;URL&gt;",<br/>  name: "&lt;DB_NAME&gt;"<br/>});<br/><br/>cryptoSuite.setCryptoKeyStore(cryptoKS);<br/><br/>client.setCryptoSuite(cryptoSuite);</strong></span></pre><p id="1453" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ‚¨å¿…é¡»æ ¹æ®ä¸Šè¿°æ­¥éª¤æ›´æ–°å®¢æˆ·ç«¯ï¼Œä½¿å…¶ä½¿ç”¨ couchdbã€‚<br/>åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨<code class="fe nq nr ns nt b">balance-transfer</code> fabric ç¤ºä¾‹ä¸­å®ç°ä¸Šè¿°æ­¥éª¤ã€‚</p></div><div class="ab cl nu nv hx nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="im in io ip iq"><h1 id="3df5" class="mg mh it bd mi mj pd ml mm mn pe mp mq jz pf ka ms kc pg kd mu kf ph kg mw mx bi translated">CouchDB åœ¨å¹³è¡¡ä¼ é€’ä¸­çš„å®ç°</h1><p id="a05f" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">æˆ‘ä½¿ç”¨<a class="ae ky" href="https://github.com/hyperledger/fabric-samples/blob/release-1.4/balance-transfer" rel="noopener ugc nofollow" target="_blank">å¹³è¡¡è½¬ç§»</a>ç»‡ç‰©æ ·å“ä½œä¸ºå‚è€ƒã€‚</p><blockquote class="lv"><p id="fd5d" class="lw lx it bd ly lz ma mb mc md me lu dk translated">æˆ‘å‡è®¾ä½ çŸ¥é“å¦‚ä½•è¿›è¡Œä½™é¢è½¬ç§»ã€‚</p></blockquote><h2 id="10fe" class="ne mh it bd mi nf pi dn mm nh pj dp mq li pk nk ms lm pl nm mu lq pm no mw np bi translated">å¯åŠ¨ä½™é¢è½¬ç§»ç½‘ç»œ</h2><p id="6987" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">æŒ‰ç…§ä½™é¢è½¬ç§»è¯´æ˜å¯åŠ¨ç½‘ç»œã€‚</p><p id="3d3e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å®ƒå°†é€šè¿‡ä»¥ä¸‹æ–¹å¼å¯åŠ¨ç½‘ç»œ:</p><ul class=""><li id="630f" class="op oq it lb b lc ld lf lg li or lm os lq ot lu ou ov ow ox bi translated">2 CAs</li><li id="d733" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated">å•ç‹¬è®¢è´­è€…</li><li id="b469" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated">4 ä¸ªåŒè¡Œ(æ¯ä¸ªç»„ç»‡ 2 ä¸ªåŒè¡Œ)</li></ul><h2 id="73d3" class="ne mh it bd mi nf ng dn mm nh ni dp mq li nj nk ms lm nl nm mu lq nn no mw np bi translated">ä¸ºé’±åŒ…å¯åŠ¨ couchdb</h2><p id="637a" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">å¦‚æœæ‚¨ä½¿ç”¨åŸºäºäº‘çš„ couchdbï¼Œè¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ã€‚</p><p id="7885" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">åŸºäº Docker çš„ Couchdb </strong></p><pre class="kj kk kl km gt oh nt oi oj aw ok bi"><span id="d35b" class="ne mh it nt b gy ol om l on oo"><strong class="nt iu">docker run --name couch-userdb -e COUCHDB_USER=admin -e COUCHDB_PASSWORD=password -p 5984:5984 -d couchdb</strong></span></pre><p id="bb43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¦‚æœä¸å­˜åœ¨ï¼Œä¸Šè¿°å‘½ä»¤å°†ä» docker hub ä¸­æå–<code class="fe nq nr ns nt b">couchdb</code>çš„ docker å›¾åƒã€‚</p><p id="1ad9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> CouchDB è¯¦ç»†ä¿¡æ¯:</strong></p><ul class=""><li id="996a" class="op oq it lb b lc ld lf lg li or lm os lq ot lu ou ov ow ox bi translated">å®¹å™¨åç§°:<code class="fe nq nr ns nt b">couch-userdb</code></li><li id="033e" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated">CouchDB ç”¨æˆ·å:<code class="fe nq nr ns nt b">admin</code></li><li id="2a79" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated">CouchDB å¯†ç :<code class="fe nq nr ns nt b">password</code></li><li id="9456" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated">ç½‘å€:<code class="fe nq nr ns nt b">localhost:5984</code></li></ul><p id="7b3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">CouchDB è¿æ¥ URL æ˜¯</p><pre class="kj kk kl km gt oh nt oi oj aw ok bi"><span id="e43a" class="ne mh it nt b gy ol om l on oo">https://&lt;USERNAME&gt;:&lt;PASSWORD&gt;@&lt;URL&gt; </span><span id="d4a9" class="ne mh it nt b gy pn om l on oo"><a class="ae ky" href="https://admin:password@localhost:5984" rel="noopener ugc nofollow" target="_blank"><strong class="nt iu">https://admin:password@localhost:5984</strong></a></span></pre><h2 id="ca09" class="ne mh it bd mi nf ng dn mm nh ni dp mq li nj nk ms lm nl nm mu lq nn no mw np bi translated">åœ¨ä½™é¢è½¬ç§»ä¸­æ›´æ–°å®¢æˆ·</h2><p id="d871" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">æ‰“å¼€<code class="fe nq nr ns nt b">app/helper.js</code>ï¼Œæ›´æ–°<code class="fe nq nr ns nt b">getClientForOrg</code>ã€‚</p><p id="565d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åªæ˜¯ç”¨ä¸Šé¢çš„ couchdb é…ç½®æ­¥éª¤æ›¿æ¢äº†<code class="fe nq nr ns nt b">await client.initCredentialStores();</code>ã€‚</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="po pp l"/></div></figure><p id="3d7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘ä»¬æ‰€åšçš„æ”¹å˜ï¼Œ</p><ul class=""><li id="04a0" class="op oq it lb b lc ld lf lg li or lm os lq ot lu ou ov ow ox bi translated"><strong class="lb iu"> <em class="nd">ç¬¬ 13 è¡Œ:</em> </strong>å¯¼å…¥<code class="fe nq nr ns nt b">CouchDBKeyValueStore</code>ã€‚ä»ä¸Šé¢å¼€å§‹ã€‚</li><li id="0fce" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated"><strong class="lb iu"> <em class="nd">ç¬¬ 31â€“52 è¡Œ:</em> </strong>è®¾ç½®çŠ¶æ€å­˜å‚¨å’ŒåŠ å¯†å­˜å‚¨ã€‚ç¬¬äºŒæ­¥&amp; 3ã€‚</li></ul><p id="c720" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸Šé¢çš„ä»£ç æœ‰ä¸€ä¸ªå°çš„å˜åŒ–ã€‚</p><pre class="kj kk kl km gt oh nt oi oj aw ok bi"><span id="9e4f" class="ne mh it nt b gy ol om l on oo"><strong class="nt iu">// Client variable is used as hfc<br/>var hfc = require("fabric-client");<br/><br/>// Instead of Client<br/>const Client = require("fabric-client");</strong></span></pre><blockquote class="ob oc od"><p id="240b" class="kz la nd lb b lc ld ju le lf lg jx lh oe lj lk ll of ln lo lp og lr ls lt lu im bi translated"><strong class="lb iu"> <em class="it">çŠ¶æ€å­˜å‚¨å’ŒåŠ å¯†å­˜å‚¨çš„ db(dbname)ä¸å¿…ç›¸åŒã€‚ä¸¤å®¶å•†åº—éƒ½å¯ä»¥æœ‰å„è‡ªç‹¬ç«‹çš„æ•°æ®åº“ã€‚è¿™å–å†³äºè¦æ±‚ã€‚æ‚¨å¯ä»¥å°†çŠ¶æ€å­˜å‚¨å’ŒåŠ å¯†å­˜å‚¨ db åˆ†åˆ«å‘½åä¸º</em> </strong> <code class="fe nq nr ns nt b"><strong class="lb iu"><em class="it">orgName-state-store</em></strong></code> <strong class="lb iu"> <em class="it">å’Œ</em> </strong> <code class="fe nq nr ns nt b"><strong class="lb iu"><em class="it">orgName-crypto-store</em></strong></code> <strong class="lb iu"> <em class="it">ã€‚</em> </strong> <strong class="lb iu"> <em class="it">æ¯ä¸ªç»„ç»‡å¿…é¡»æœ‰è‡ªå·±çš„çŠ¶æ€å­˜å‚¨å’ŒåŠ å¯†å­˜å‚¨ dbï¼Œå¦åˆ™ä¼šæŠ›å‡ºè®¤è¯é”™è¯¯ã€‚</em>T45ã€‘</strong></p></blockquote><pre class="kj kk kl km gt oh nt oi oj aw ok bi"><span id="6df9" class="ne mh it nt b gy ol om l on oo"><strong class="nt iu">Error: fabric-ca request register failed with errors [[{"code":20,"message":"Authentication failure"}]]</strong></span></pre><h2 id="a95f" class="ne mh it bd mi nf ng dn mm nh ni dp mq li nj nk ms lm nl nm mu lq nn no mw np bi translated">åœ¨ä½™é¢è½¬ç§»ä¸­æ³¨å†Œæ–°ç”¨æˆ·</h2><p id="ce46" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">ä¸€æ—¦æ³¨å†Œäº†ç”¨æˆ·ï¼Œå°±å¯ä»¥ä½¿ç”¨ couchdb apis æ£€æŸ¥çŠ¶æ€å­˜å‚¨å’ŒåŠ å¯†å­˜å‚¨ã€‚</p><p id="0187" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">ä¾‹å¦‚:æ³¨å†Œä¸€ä¸ªç”¨æˆ·</strong></p><p id="cb80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘ä½¿ç”¨ä¸‹é¢çš„å‚æ•°æ¥æ³¨å†Œä¸€ä¸ªç”¨æˆ·ã€‚å¯¹äº<code class="fe nq nr ns nt b">org1</code>ï¼Œæˆ‘å¯¹<code class="fe nq nr ns nt b">state-store</code>å’Œ<code class="fe nq nr ns nt b">crypto-store</code>ä½¿ç”¨äº†ç›¸åŒçš„ db <code class="fe nq nr ns nt b">org1db</code>ã€‚</p><ul class=""><li id="d06f" class="op oq it lb b lc ld lf lg li or lm os lq ot lu ou ov ow ox bi translated">åç§°:<code class="fe nq nr ns nt b">alice</code></li><li id="b7a5" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated">ç»„ç»‡:<code class="fe nq nr ns nt b">org1</code></li><li id="e414" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated">æ•°æ®åº“å:<code class="fe nq nr ns nt b">org1db</code></li><li id="d207" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated">CouchDB URL: <code class="fe nq nr ns nt b"><a class="ae ky" href="http://admin:password@localhost:5369" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">http://admin:password@localhost:5369</strong></a></code></li></ul><p id="4697" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ‰“å¼€æµè§ˆå™¨ï¼Œè½¬åˆ°<code class="fe nq nr ns nt b"><strong class="lb iu">http://localhost:5369/org1db/_all_docs</strong></code>ã€‚è¿”å›ä¿å­˜åœ¨<code class="fe nq nr ns nt b">org1db</code>ä¸­çš„æ‰€æœ‰æ–‡æ¡£ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/7ab56145708525017bb7e2e7e71ad5b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1WmjLJF237N7ViUr.PNG"/></div></div></figure><p id="2c50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æŒ‡æ ‡<code class="fe nq nr ns nt b">0, 1, 2</code>æ˜¯<code class="fe nq nr ns nt b">admin</code>çš„è¯ä¹¦ã€‚</p><p id="0675" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç´¢å¼•<code class="fe nq nr ns nt b">3</code>æ˜¯å­˜å‚¨åœ¨<code class="fe nq nr ns nt b">state-store</code>ä¸­çš„<code class="fe nq nr ns nt b">alice</code>è¯ä¹¦ã€‚<br/>ç´¢å¼•<code class="fe nq nr ns nt b">4-5</code>æ˜¯<code class="fe nq nr ns nt b">crypto-store</code>ä¸­å­˜å‚¨çš„<code class="fe nq nr ns nt b">alice</code>çš„å…¬é’¥å’Œç§é’¥ã€‚</p><p id="d8ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è½¬åˆ°<code class="fe nq nr ns nt b">http://localhost:5369/org1db/alice</code>ã€‚å®ƒè¿”å›å­˜å‚¨åœ¨çŠ¶æ€å­˜å‚¨ä¸­çš„<code class="fe nq nr ns nt b">alice</code>çš„æ‰€æœ‰ç»†èŠ‚ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/63abb6d546b4c2d1f33198bc8185d995.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TFfSeIs47L4N-ug2.PNG"/></div></div></figure><p id="8de6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ£€æŸ¥<code class="fe nq nr ns nt b">signingIdentity</code>ã€‚</p><pre class="kj kk kl km gt oh nt oi oj aw ok bi"><span id="03b0" class="ne mh it nt b gy ol om l on oo"><strong class="nt iu">"signingIdentity":"d37a97a8c2377c21537801ec1a929d81905ae57963a2f6c8ba0308931a7fc791"</strong></span></pre><p id="8710" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç°åœ¨ï¼Œæ£€æŸ¥ä¸Šå›¾ä¸­ç´¢å¼•<code class="fe nq nr ns nt b">4 &amp; 5</code>çš„ idã€‚ä¸¤è€…æ˜¯ä¸€æ ·çš„ã€‚</p><p id="ba5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¦‚æœæ‚¨è¿˜è®°å¾—ï¼Œ<code class="fe nq nr ns nt b">signingIdentity</code>å­—æ®µæ˜¯å­˜å‚¨åœ¨åŠ å¯†å­˜å‚¨ä¸­çš„èº«ä»½çš„ç§é’¥å’Œå…¬é’¥çš„å¼•ç”¨ã€‚</p></div><div class="ab cl nu nv hx nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="im in io ip iq"><h1 id="996d" class="mg mh it bd mi mj pd ml mm mn pe mp mq jz pf ka ms kc pg kd mu kf ph kg mw mx bi translated">ç»“è®º</h1><p id="a7a7" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">CouchDB wallet æ˜¯ç”Ÿäº§ç”¨ä¾‹çš„ç»ä½³é€‰æ‹©ã€‚æ‚¨å¯ä»¥å°è¯•ä½¿ç”¨å…¶ä»–æ•°æ®åº“ï¼Œä½†æ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¿…é¡»åƒ<code class="fe nq nr ns nt b">CouchDBKeyValueStore.js</code>ä¸€æ ·ç¼–å†™ç›¸åº”çš„åº“ã€‚</p><p id="4d41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä»¥ä¸‹æ˜¯æˆ‘è§‰å¾—æœ‰ç”¨çš„å‚è€ƒèµ„æ–™ã€‚å¦‚æœæ‚¨å‘ç°ä»»ä½•æ‚¨è®¤ä¸ºå¯ä»¥æ·»åŠ åˆ°æ­¤å¤„çš„èµ„æºï¼Œè¯·ä¸è¦ç¾äºåˆ†äº«ã€‚ğŸ˜‰</p></div><div class="ab cl nu nv hx nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="im in io ip iq"><h1 id="258b" class="mg mh it bd mi mj pd ml mm mn pe mp mq jz pf ka ms kc pg kd mu kf ph kg mw mx bi translated">å‚è€ƒğŸ“Œ</h1><ul class=""><li id="c2da" class="op oq it lb b lc my lf mz li ps lm pt lq pu lu ou ov ow ox bi translated"><a class="ae ky" href="https://developer.ibm.com/tutorials/store-fabric-certificates-keys-ibm-cloudant-fabric-node-sdk/" rel="noopener ugc nofollow" target="_blank">https://developer . IBM . com/tutorials/store-fabric-certificates-keys-IBM-cloud ant-fabric-node-SDK/</a></li><li id="0785" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated"><a class="ae ky" href="https://stackoverflow.com/questions/53639061/hyperledger-fabric-what-is-the-difference-between-state-store-and-crypto-store" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/53639061/hyperledger-fabric-state-store å’Œ crypto-store ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ</a></li><li id="0bb9" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated"><a class="ae ky" href="https://stackoverflow.com/questions/54305378/hyperledger-fabric-client-credential-store-using-couchdb" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/54305378/hyperledger-fabric-client-credential-store-using-couch db</a></li><li id="e041" class="op oq it lb b lc oy lf oz li pa lm pb lq pc lu ou ov ow ox bi translated"><a class="ae ky" href="https://stackoverflow.com/questions/58371858/hyperledger-fabric-client-credential-store-using-couchdbcouchdbkeyvaluestore" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/58371858/hyperledger-fabric-client-credential-store-using-couchdbcouchdbkeyvaluestore</a></li></ul></div><div class="ab cl nu nv hx nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="im in io ip iq"><p id="026e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nd">åŸè½½äº</em><a class="ae ky" href="https://schadokar.dev/posts/couchdb-keyvalue-store-hlf/" rel="noopener ugc nofollow" target="_blank"><em class="nd">https://schadokar . dev</em></a><em class="nd">ã€‚</em></p></div></div>    
</body>
</html>