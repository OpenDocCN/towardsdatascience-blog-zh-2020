<html>
<head>
<title>Using python package to build your custom dataset — MLDatasetBuilder</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 python 包构建您的自定义数据集— MLDatasetBuilder</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-python-package-to-build-your-custom-dataset-mldatasetbuilder-d23ffd6d4fd1?source=collection_archive---------40-----------------------#2020-07-12">https://towardsdatascience.com/using-python-package-to-build-your-custom-dataset-mldatasetbuilder-d23ffd6d4fd1?source=collection_archive---------40-----------------------#2020-07-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e68b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">MLDatasetBuilder 是一个 python 包，可帮助您为 ML 数据集准备图像。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7d268c51e09276884c158b0e90cd4672.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xSkUbRs7U4s1c0AosI7hfQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><strong class="bd kv">图片来源于【www.spritle.com】<a class="ae kw" href="https://www.spritle.com/blogs/2020/07/12/mldatasetbuilder-a-python-package-for-build-your-custom-dataset%E2%80%8A/" rel="noopener ugc nofollow" target="_blank"><strong class="bd kv"/></a></strong></p></figure><blockquote class="kx"><p id="7715" class="ky kz iq bd la lb lc ld le lf lg lh dk translated">作为一名 ML 新手，我需要找出为我们的机器学习训练模型准备数据集的最佳方法。根据我的<a class="ae kw" rel="noopener" target="_blank" href="/deep-learning-prepare-image-for-dataset-d20d0c4e30de">上一篇文章</a>，我为这个过程设计了一个 Python 包！</p></blockquote><p id="4712" class="pw-post-body-paragraph li lj iq lk b ll lm jr ln lo lp ju lq lr ls lt lu lv lw lx ly lz ma mb mc lh ij bi translated">每当您训练自定义模型时，重要的是数据集。是的，当然，数据集在深度学习中起主要作用。模型的准确性将取决于数据集。因此，在训练自定义模型之前，您需要计划<strong class="lk ir">如何构建数据集？</strong>在这里，我将分享我关于构建数据集的简单方法的想法。</p><div class="md me gp gr mf mg"><a href="https://pypi.org/project/MLDatasetBuilder/" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd ir gy z fp ml fr fs mm fu fw ip bi translated">MLDatasetBuilder</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">MLDatasetBuilder 是一个 python 包，可帮助您为 ML 数据集准备图像。每当我们启动一台机器…</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">pypi.org</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu kp mg"/></div></div></a></div><h1 id="8f66" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated"><a class="ae kw" href="https://pypi.org/project/MLDatasetBuilder/" rel="noopener ugc nofollow" target="_blank">MLDatasetBuilder-版本 1.0.0 </a></h1><h2 id="2dfe" class="nn mw iq bd mx no np dn nb nq nr dp nf lr ns nt nh lv nu nv nj lz nw nx nl ny bi translated">为机器学习构建数据集的 Python 包</h2><p id="eabe" class="pw-post-body-paragraph li lj iq lk b ll nz jr ln lo oa ju lq lr ob lt lu lv oc lx ly lz od mb mc lh ij bi translated">每当我们开始一个机器学习项目时，我们首先需要的是一个数据集。数据集将是训练模型的支柱。您可以自动或手动构建数据集。MLDatasetBuilder 是一个 python 包，可帮助您为 ML 数据集准备图像。</p><div class="md me gp gr mf mg"><a href="https://github.com/karthick965938/ML-Dataset-Builder" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd ir gy z fp ml fr fs mm fu fw ip bi translated">karthick 965938/ML-数据集构建器</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">MLDatasetBuilder 是一个 python 包，可帮助您为 ML 数据集准备图像。每当我们启动一台机器…</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">github.com</p></div></div><div class="mp l"><div class="oe l mr ms mt mp mu kp mg"/></div></div></a></div><h1 id="23c2" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated">装置</h1><p id="9442" class="pw-post-body-paragraph li lj iq lk b ll nz jr ln lo oa ju lq lr ob lt lu lv oc lx ly lz od mb mc lh ij bi translated">我们可以使用下面的命令安装<strong class="lk ir"><em class="of">MLDatasetBuilder</em></strong>包</p><pre class="kg kh ki kj gt og oh oi oj aw ok bi"><span id="c656" class="nn mw iq oh b gy ol om l on oo">pip install MLDatasetBuilder</span></pre><h1 id="1b9d" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated"><strong class="ak">如何测试</strong></h1><p id="c9cf" class="pw-post-body-paragraph li lj iq lk b ll nz jr ln lo oa ju lq lr ob lt lu lv oc lx ly lz od mb mc lh ij bi translated">当您在终端中运行<code class="fe op oq or oh b">python3</code>时，它将产生如下输出:</p><pre class="kg kh ki kj gt og oh oi oj aw ok bi"><span id="ea7c" class="nn mw iq oh b gy ol om l on oo">Python 3.6.9 (default, Apr 18 2020, 01:56:04) <br/>[GCC 8.4.0] on linux<br/>Type "help", "copyright", "credits" or "license" for more information.<br/>&gt;&gt;&gt; </span></pre><p id="b73e" class="pw-post-body-paragraph li lj iq lk b ll os jr ln lo ot ju lq lr ou lt lu lv ov lx ly lz ow mb mc lh ij bi translated">运行下面的代码可以得到<strong class="lk ir"> <em class="of"> MLDatasetBuilder 包的<strong class="lk ir">初始化</strong>过程输出。</em>T24】</strong></p><pre class="kg kh ki kj gt og oh oi oj aw ok bi"><span id="c7c5" class="nn mw iq oh b gy ol om l on oo">&gt;&gt;&gt; from MLDatasetBuilder import *<br/>&gt;&gt;&gt; MLDatasetBuilder()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/6b27aa957d511d2b7e54a55d6dd54a6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/1*h4KOBQoEjCaoUWjj0PzVjg.gif"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><strong class="bd kv">初始化</strong>过程的输出</p></figure><h1 id="bc64" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated">可用操作</h1><p id="7f95" class="pw-post-body-paragraph li lj iq lk b ll nz jr ln lo oa ju lq lr ob lt lu lv oc lx ly lz od mb mc lh ij bi translated"><strong class="lk ir">准备图像</strong> — <em class="of">移除</em>不需要的格式图像，并<em class="of">重命名</em>您的图像</p><pre class="kg kh ki kj gt og oh oi oj aw ok bi"><span id="fd2e" class="nn mw iq oh b gy ol om l on oo">#PrepareImage(folder_name, image_name)<br/><strong class="oh ir">PrepareImage('images', 'dog')</strong></span></pre><p id="5f8f" class="pw-post-body-paragraph li lj iq lk b ll os jr ln lo ot ju lq lr ou lt lu lv ov lx ly lz ow mb mc lh ij bi translated"><strong class="lk ir">提取图像</strong> — <em class="of">从<em class="of">视频文件</em>中提取</em>图像</p><pre class="kg kh ki kj gt og oh oi oj aw ok bi"><span id="f507" class="nn mw iq oh b gy ol om l on oo">#ExtractImages(video_path, file_name, frame_size)<br/><strong class="oh ir">ExtractImages('video.mp4', 'frame', 10)</strong><br/>#OR<br/>#ExtractImages(video_path, filename)<br/><strong class="oh ir">ExtractImages('video.mp4', 'frame')</strong><br/>#Default FPS will be 5</span></pre><h1 id="8e7c" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated">第一步——从谷歌获取图片</h1><p id="8487" class="pw-post-body-paragraph li lj iq lk b ll nz jr ln lo oa ju lq lr ob lt lu lv oc lx ly lz od mb mc lh ij bi translated">是的，我们可以从谷歌上获取图片。使用<a class="ae kw" href="https://chrome.google.com/webstore/detail/download-all-images/ifipmflagepipjokmbdecpmjbibjnakm?hl=en" rel="noopener ugc nofollow" target="_blank">下载所有图像</a>浏览器扩展，我们可以在几分钟内轻松获取图像。你可以查看<a class="ae kw" href="https://www.youtube.com/watch?v=ik1VxrtN7m8&amp;feature=youtu.be" rel="noopener ugc nofollow" target="_blank">这里</a>关于这个扩展的更多细节！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/66b2712dfb3b4648050ec6726899c071.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*KcPgBKGQfUH1f8raqxmamQ.gif"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">从谷歌获取图片</p></figure><h1 id="c41d" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated">步骤 2-创建 Python 文件</h1><p id="bab4" class="pw-post-body-paragraph li lj iq lk b ll nz jr ln lo oa ju lq lr ob lt lu lv oc lx ly lz od mb mc lh ij bi translated">一旦你使用这个扩展下载了图像，你就可以创建一个名为<strong class="lk ir"> test.py </strong>的 python 文件，目录如下。</p><pre class="kg kh ki kj gt og oh oi oj aw ok bi"><span id="f77e" class="nn mw iq oh b gy ol om l on oo">download_image_folder/<br/>|   _14e839ba-9691-11ea-a968-2ed746e9a968.jpg<br/>|   5e5f7af12600004018b602c0.jpeg<br/>|   A471529_Alice_b-1.jpg<br/>|   image1.png<br/>|   image2.png<br/>|   ...<br/>test.py</span></pre><p id="c2c4" class="pw-post-body-paragraph li lj iq lk b ll os jr ln lo ot ju lq lr ou lt lu lv ov lx ly lz ow mb mc lh ij bi translated">在 images 文件夹中，你可以看到许多 PNG 图像和随机文件名。</p><h1 id="b9c7" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated">步骤 3 —准备图像</h1><p id="22d8" class="pw-post-body-paragraph li lj iq lk b ll nz jr ln lo oa ju lq lr ob lt lu lv oc lx ly lz od mb mc lh ij bi translated"><strong class="lk ir"><em class="of">MLDatasetBuilder</em></strong><em class="of"/>提供了一个名为<strong class="lk ir"> PrepareImage 的方法。</strong>使用此方法，我们可以删除不想要的图像，并重命名您已经从浏览器的扩展下载的图像文件。</p><pre class="kg kh ki kj gt og oh oi oj aw ok bi"><span id="c5f8" class="nn mw iq oh b gy ol om l on oo">PrepareImage(folder_path, class_name)<br/>#PrepareImage('download_image_folder', 'dog')</span></pre><p id="6656" class="pw-post-body-paragraph li lj iq lk b ll os jr ln lo ot ju lq lr ou lt lu lv ov lx ly lz ow mb mc lh ij bi translated">根据上面的代码，我们需要提到图像<strong class="lk ir">文件夹路径</strong>和<strong class="lk ir">类名</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/29d95837418e23123d83b81933d5433d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*cOd-OWdTYKW3vlW1aOy76Q.gif"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><strong class="bd kv">准备图像</strong>选项的输出</p></figure><p id="0313" class="pw-post-body-paragraph li lj iq lk b ll os jr ln lo ot ju lq lr ou lt lu lv ov lx ly lz ow mb mc lh ij bi translated">完成这个过程后，你的图像文件夹结构将如下所示</p><pre class="kg kh ki kj gt og oh oi oj aw ok bi"><span id="9711" class="nn mw iq oh b gy ol om l on oo">download_image_folder/<br/>|   dog_0.jpg<br/>|   dog_1.jpg<br/>|   dog_2.jpg<br/>|   dog_3.png<br/>|   dog_4.png<br/>|   ...<br/>test.py</span></pre><p id="3d9a" class="pw-post-body-paragraph li lj iq lk b ll os jr ln lo ot ju lq lr ou lt lu lv ov lx ly lz ow mb mc lh ij bi translated">这个过程非常有助于在贴标签的同时给你的图像添加注释。当然，这将是标准化的事情之一。</p><h1 id="81db" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated">步骤 4 —提取图像</h1><p id="05f7" class="pw-post-body-paragraph li lj iq lk b ll nz jr ln lo oa ju lq lr ob lt lu lv oc lx ly lz od mb mc lh ij bi translated"><strong class="lk ir"><em class="of">MLDatasetBuilder</em></strong><em class="of"/>还提供了一个名为<strong class="lk ir">的提取图像的方法。使用这种方法我们可以从视频文件中提取图像。</strong></p><pre class="kg kh ki kj gt og oh oi oj aw ok bi"><span id="fe00" class="nn mw iq oh b gy ol om l on oo">download_image_folder/<br/>video.mp4<br/>test.py</span></pre><p id="5b71" class="pw-post-body-paragraph li lj iq lk b ll os jr ln lo ot ju lq lr ou lt lu lv ov lx ly lz ow mb mc lh ij bi translated">根据下面的代码，我们需要提到<strong class="lk ir">视频路径、文件夹名称、</strong>和<strong class="lk ir">帧大小。文件夹名</strong>将<strong class="lk ir">类名</strong>和<strong class="lk ir"> framesize 的</strong>设为默认值<strong class="lk ir"> 5 </strong>并且<strong class="lk ir">不是强制的</strong>。</p><pre class="kg kh ki kj gt og oh oi oj aw ok bi"><span id="bdb0" class="nn mw iq oh b gy ol om l on oo">ExtractImages(video_path, folder_name, framesize)<br/>#ExtractImages('video.mp4', 'frame', 10)<br/>ExtractImages(video_path, folder_name)<br/>#ExtractImages('video.mp4', 'frame')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/c981a2bccd85a9199eb9c51cb99e0821.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*qHdPgoFu63QEbOUkeafoJg.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">提取图像方法的输出</p></figure><p id="2871" class="pw-post-body-paragraph li lj iq lk b ll os jr ln lo ot ju lq lr ou lt lu lv ov lx ly lz ow mb mc lh ij bi translated">完成这个过程后，你的图像文件夹结构将如下所示</p><pre class="kg kh ki kj gt og oh oi oj aw ok bi"><span id="b742" class="nn mw iq oh b gy ol om l on oo">download_image_folder/<br/>dog/<br/>|   dog_0.jpg<br/>|   dog_1.jpg<br/>|   dog_2.jpg<br/>|   dog_3.png<br/>|   dog_4.png<br/>|   ...<br/>dog.mp4<br/>test.py</span></pre><h1 id="6f38" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated">什么是 2.0.0 版？</h1><p id="9cb8" class="pw-post-body-paragraph li lj iq lk b ll nz jr ln lo oa ju lq lr ob lt lu lv oc lx ly lz od mb mc lh ij bi translated">我计划在下个月发布 2.0.0 版本，这将包括一些额外的功能。</p><blockquote class="kx"><p id="bb0b" class="ky kz iq bd la lb oz pa pb pc pd lh dk translated"><em class="pe">我的意思是这个包将提供超过 100 个带有注释文件的物体图片:)</em></p></blockquote><h1 id="feea" class="mv mw iq bd mx my mz na nb nc nd ne nf jw pf jx nh jz pg ka nj kc ph kd nl nm bi translated">贡献的</h1><p id="941e" class="pw-post-body-paragraph li lj iq lk b ll nz jr ln lo oa ju lq lr ob lt lu lv oc lx ly lz od mb mc lh ij bi translated">欢迎所有问题和拉请求！要在本地运行代码，首先，派生存储库，然后在您的计算机上运行以下命令:</p><pre class="kg kh ki kj gt og oh oi oj aw ok bi"><span id="5f9f" class="nn mw iq oh b gy ol om l on oo">git clone https://github.com/&lt;your-username&gt;/ML-Dataset-Builder.git<br/>cd ML-Dataset-Builder<br/># Recommended creating a virtual environment before the next step<br/>pip3 install -r requirements.txt</span></pre><p id="665b" class="pw-post-body-paragraph li lj iq lk b ll os jr ln lo ot ju lq lr ou lt lu lv ov lx ly lz ow mb mc lh ij bi translated">添加代码时，一定要在必要的地方编写单元测试。</p><h1 id="48e1" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated">接触</h1><p id="b16b" class="pw-post-body-paragraph li lj iq lk b ll nz jr ln lo oa ju lq lr ob lt lu lv oc lx ly lz od mb mc lh ij bi translated">MLDatasetBuilder 是由<a class="ae kw" href="https://stackoverflow.com/users/6295641/karthick-nagarajan?tab=profile" rel="noopener ugc nofollow" target="_blank"> Karthick Nagarajan </a>创建的。请随时在<a class="ae kw" href="https://twitter.com/Karthick965938" rel="noopener ugc nofollow" target="_blank">Twitter</a>T4】Linkedin 或通过<a class="ae kw" href="mailto:karthick965938@gmail.com" rel="noopener ugc nofollow" target="_blank">电子邮件联系我们！</a></p><p id="4a9d" class="pw-post-body-paragraph li lj iq lk b ll os jr ln lo ot ju lq lr ou lt lu lv ov lx ly lz ow mb mc lh ij bi translated"><strong class="lk ir"> <em class="of">原载于</em></strong><a class="ae kw" href="https://www.spritle.com/blogs/2020/07/12/mldatasetbuilder-a-python-package-for-build-your-custom-dataset%E2%80%8A/" rel="noopener ugc nofollow" target="_blank"><strong class="lk ir">www.spritle.com</strong></a></p></div></div>    
</body>
</html>