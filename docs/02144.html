<html>
<head>
<title>Here’s how to build a Language Translator in few lines of code using Keras</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以下是如何使用 Keras 用几行代码构建一个语言翻译器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/heres-how-to-build-a-language-translator-in-few-lines-of-code-using-keras-30f7e0b3aa1d?source=collection_archive---------21-----------------------#2020-02-29">https://towardsdatascience.com/heres-how-to-build-a-language-translator-in-few-lines-of-code-using-keras-30f7e0b3aa1d?source=collection_archive---------21-----------------------#2020-02-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7a4b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">AI 能让濒危语言不消失吗？</h2></div><p id="bd68" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您将学习如何使用编码器-解码器 seq2seq 架构和 5 分钟的时间从头开始创建一个语言翻译器。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/d0aea55e49959738cbf23ad71ba8d0a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xBorZ8GZR_qfJ8dW4aQJCA.jpeg"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">波尔斯基在<a class="ae lu" href="https://pixabay.com/photos/dog-maltese-puppy-sleep-sweet-1027549/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>拍摄的照片</p></figure><p id="0271" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">据联合国教科文组织称，约有 2500 种语言面临消失的危险。在数字化时代，少数民族社区的年轻人往往会放弃他们的母语。</p><p id="7454" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇文章中，我们展示了人工智能可以弥合这些语言和世界其他地方之间的翻译差距。</p><p id="1a0f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来发现<a class="ae lu" href="http://yemba.net" rel="noopener ugc nofollow" target="_blank"> <em class="lv">叶姆巴</em> </a>，一种非洲语言，如今只有几千人流利地说这种语言。与几十年前记录的数十万发言者相比，这是一个巨大的下降。</p><blockquote class="lw lx ly"><p id="60df" class="ki kj lv kk b kl km ju kn ko kp jx kq lz ks kt ku ma kw kx ky mb la lb lc ld im bi translated"><strong class="kk iu">我们将建立一个从英语到<em class="it"> Yemba </em>翻译句子的序列到序列模型。该代码可以适用于任何其他语言对！</strong></p></blockquote><p id="00fd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本文中使用的说明性数据集<a class="ae lu" href="https://gist.github.com/michelkana/b9ab95e1e44ee297e51ef163dd7302ca#file-yemba_french_sentences-txt" rel="noopener ugc nofollow" target="_blank">由 51 个句子对组成。</a></p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="cbf8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">鉴于单词的分类性质，应该为每种语言建立一个词汇表。通常，词汇表的大小是固定的，只有最常用的单词才被视为唯一的。所有其他单词通常被转换为“未知”标记。在我们的例子中，我们考虑所有的单词。我们定义了英语和<em class="lv"> Yemba </em>的最大长度和词汇量。使用 Keras <em class="lv"> Tokenize </em>类，我们将单词映射到整数。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="0745" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">每个输入和输出序列必须编码成整数，并填充到最大短语长度。这是因为我们将对输入序列使用单词嵌入，并对输出序列进行一次性编码。输出序列需要被一次性编码，因为模型将预测词汇表中每个单词作为输出的概率。我们进一步将数据集分成 40 个句子用于训练，剩下的 11 个句子用于测试。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="0d26" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们的序列到序列模型使用<strong class="kk iu">单层单向 LSTM </strong>进行编码和解码。这种模型的基本机制在我们下面提到的文章中有详细介绍。</p><div class="me mf gp gr mg mh"><a rel="noopener follow" target="_blank" href="/natural-language-understanding-with-sequence-to-sequence-models-e87d41ad258b"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd iu gy z fp mm fr fs mn fu fw is bi translated">基于序列对序列模型的自然语言理解</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">如何预测客户询问背后的意图？Seq2Seq 型号说明。在 ATIS 数据集上演示的槽填充…</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">towardsdatascience.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv lo mh"/></div></div></a></div><p id="3496" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">编码器中的<strong class="kk iu">第一层是嵌入层，它将我们的英语句子向量转换成嵌入向量(word2vec)。<em class="lv"> src_vocab </em>是英语词汇量的大小。<em class="lv"> embedding_dim </em>是 emdedded 后的向量的维数。<em class="lv"> source_steps </em>是每个句子中的标记数，即一个英语句子的最大字数。</strong></p><p id="924f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">编码器中的<strong class="kk iu">第二层是一个 LSTM 层，其单元数与嵌入值一样多。LSTM 图层的输出是一个矢量。在 LSTM 层的输出到达解码器之前，我们必须确保解码器的 LSTM 层将接收到 3D 输入。我们通过使用<em class="lv"> RepeatVector </em>创建与目标序列中的步骤一样多的编码器 LSTM 层输出副本来实现这一点。</strong></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mw"><img src="../Images/2942a59a9018e864729a0e70c2647e35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NBQbeEL0HwFgwg5F.jpg"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated"><a class="ae lu" href="https://github.com/tensorflow/nmt" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="9b49" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">解码器</strong>由一个 LSTM 层制成。通过将<em class="lv"> return_sequences </em>属性设置为 True，我们指示所有 LSTM 单元(在每个时间步长)返回隐藏状态输出。我们需要完整的序列，在我们的例子中，需要完整的句子。解码器还使用<em class="lv">时间分布式</em>包装函数将<em class="lv">密集</em>层应用于每个<em class="lv"> tar_vocab </em>时间步长，即目标<em class="lv"> Yemba </em>词汇表中的每个单词。通过应用 softmax 激活，模型将预测目标句子中的每个<em class="lv"> Yemba </em>单词。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mc md l"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/1c10633f3c859ceeae7bde9e521340f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*ovZlX2NJEB20V_jKr8ITQA.png"/></div></figure><p id="c868" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用<em class="lv"> Adam </em>优化器训练该模型，以最小化分类交叉熵损失。我们在 1000 个纪元后达到 6.9863e-04 损耗。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="61dd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们可以使用训练好的模型将一个英语句子翻译成<em class="lv"> Yemba </em>。<em class="lv"> predict_sentence() </em>函数接受一个英语句子作为单词向量，在其上运行模型。这就产生了一个向量，通过使用<em class="lv"> word_for_id() </em>函数将其转换成<em class="lv"> Yemba </em>字。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="f1a9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们使用函数 evaluate_model()评估整个训练集或测试集。<a class="ae lu" href="https://en.wikipedia.org/wiki/BLEU" rel="noopener ugc nofollow" target="_blank"> BLEU 算法</a>(双语评估替角)用于通过比较候选译文和参考译文之间的 n 元语法数量来衡量译文的质量。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="e7ff" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们得到了 49%的 BLEU 分数，考虑到训练集的小规模，这是一个很好的结果。</p><blockquote class="my"><p id="b103" class="mz na it bd nb nc nd ne nf ng nh ld dk translated">在判断一种语言是否濒危时，说这种语言的人的数量不如他们的年龄分布重要。据报道，印度尼西亚现在有多达 200 万母语为英语的人，但他们都年事已高，很少或根本没有传给年轻人。</p></blockquote><figure class="nj nk nl nm nn lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ni"><img src="../Images/2a5e3fd953c8ac6559f54eca00c85518.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WBfXK2Oj109_ssp3Zqdung.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">耶姆巴国王登基— <a class="ae lu" href="https://www.artmajeur.com/en/horiel-zangue/artworks/11463278/bamileke-king-enthronement-jpg" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><h1 id="4889" class="no np it bd nq nr ns nt nu nv nw nx ny jz nz ka oa kc ob kd oc kf od kg oe of bi translated">结论</h1><p id="b800" class="pw-post-body-paragraph ki kj it kk b kl og ju kn ko oh jx kq kr oi kt ku kv oj kx ky kz ok lb lc ld im bi translated">AI 能让濒危语言不消失吗？联合国去年宣布 2019 年为<a class="ae lu" href="https://en.iyil2019.org/" rel="noopener ugc nofollow" target="_blank">国际土著语言年</a>，以提高人们对濒临灭绝的语言的关注。</p><p id="531f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你对 LSTM 被用来构建少数民族语言的词性标注器感到好奇，可以看看这篇文章。</p><div class="me mf gp gr mg mh"><a rel="noopener follow" target="_blank" href="/lstm-based-african-language-classification-e4f644c0f29e"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd iu gy z fp mm fr fs mn fu fw is bi translated">非洲语言的位置标记</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">我们如何为耶姆巴语建立世界上第一个 LSTM 分类器。</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">towardsdatascience.com</p></div></div><div class="mq l"><div class="ol l ms mt mu mq mv lo mh"/></div></div></a></div><p id="a8c7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有一个应用人工智能的项目吗？请在下面写下您的评论。</p><p id="de7c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">谢谢你。</p></div></div>    
</body>
</html>