<html>
<head>
<title>Grouping Soccer Players with Similar Skillsets in FIFA 20 | Part 2: Hierarchical Clustering</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">FIFA 20 中具有相似技能的足球运动员分组|第 2 部分:层次聚类</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/grouping-soccer-players-with-similar-skillsets-in-fifa-20-part-2-hierarchical-clustering-839705f6d37d?source=collection_archive---------39-----------------------#2020-06-19">https://towardsdatascience.com/grouping-soccer-players-with-similar-skillsets-in-fifa-20-part-2-hierarchical-clustering-839705f6d37d?source=collection_archive---------39-----------------------#2020-06-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="74d7" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/clustering-analysis-in-ml" rel="noopener" target="_blank">机器学习中的聚类分析</a></h2><div class=""/><div class=""><h2 id="cc96" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">机器学习中的聚类算法教程的第 2 部分</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/8be7a5531d727ddbdd44980edc61a5eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tU4wkMai9Du5jCU4.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com/@jesusance?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">托马斯·塞勒</a>在<a class="ae lh" href="https://towardsdatascience.com/s/photos/soccer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="li lj l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">视频版本</p></figure><p id="6581" class="pw-post-body-paragraph lk ll it lm b ln lo kd lp lq lr kg ls lt lu lv lw lx ly lz ma mb mc md me mf im bi translated">查看我的聚类算法系列<a class="ae lh" href="https://towardsdatascience.com/tagged/clustering-analysis-in-ml" rel="noopener" target="_blank"> <strong class="lm jd">这里</strong> </a>。</p><p id="9c2e" class="pw-post-body-paragraph lk ll it lm b ln lo kd lp lq lr kg ls lt lu lv lw lx ly lz ma mb mc md me mf im bi translated">在本教程中，我们将使用层次聚类对 FIFA 20 名球员进行分组！</p><h1 id="e20c" class="mg mh it bd mi mj mk ml mm mn mo mp mq ki mr kj ms kl mt km mu ko mv kp mw mx bi translated">了解分层聚类</h1><ul class=""><li id="edc9" class="my mz it lm b ln na lq nb lt nc lx nd mb ne mf nf ng nh ni bi translated">与 K-means 不同，不需要指定聚类数。</li><li id="6bd2" class="my mz it lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated">结果汇总在一个树状图中，这是一个树形图，可以轻松解释数据并选择任意数量的聚类</li></ul><h2 id="2305" class="no mh it bd mi np nq dn mm nr ns dp mq lt nt nu ms lx nv nw mu mb nx ny mw iz bi translated"><strong class="ak">基本思想</strong></h2><ul class=""><li id="8e5f" class="my mz it lm b ln na lq nb lt nc lx nd mb ne mf nf ng nh ni bi translated"><strong class="lm jd">焦点</strong>:自下而上(又名。凝聚聚类)</li><li id="7461" class="my mz it lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated">从个人观察开始(又名。<strong class="lm jd">叶子</strong>成簇</li><li id="57ee" class="my mz it lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated">通过将叶子合并成<strong class="lm jd">分支</strong>向上移动</li><li id="fa4d" class="my mz it lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated">将树枝与其他树叶或树枝合并</li><li id="d659" class="my mz it lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated">最终，当所有的东西都合并成一个集群时，到达顶端</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nz"><img src="../Images/590222397ae7cfb6d7be12332f4476e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nKRLgoN8CKds1pU0Iz0BWA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">树状图示例</p></figure><h2 id="7c6c" class="no mh it bd mi np nq dn mm nr ns dp mq lt nt nu ms lx nv nw mu mb nx ny mw iz bi translated">解读树状图</h2><ul class=""><li id="5846" class="my mz it lm b ln na lq nb lt nc lx nd mb ne mf nf ng nh ni bi translated">在适当的高度切割，以获得所需的簇数</li><li id="40c8" class="my mz it lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated"><strong class="lm jd">纵轴</strong>:相异度(或距离)——两个聚类合并的高度</li><li id="964a" class="my mz it lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated">高度代表聚类的相似性</li><li id="62f8" class="my mz it lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated"><strong class="lm jd">身高更低- &gt;更相似</strong></li><li id="a229" class="my mz it lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated">横轴不表示相似性</li><li id="00b8" class="my mz it lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated">交换左右分支不会影响树状图的含义</li></ul><h2 id="9b0f" class="no mh it bd mi np nq dn mm nr ns dp mq lt nt nu ms lx nv nw mu mb nx ny mw iz bi translated">它如何度量集群之间的不相似性？</h2><ol class=""><li id="8195" class="my mz it lm b ln na lq nb lt nc lx nd mb ne mf oa ng nh ni bi translated">基于公制的(曼哈顿距离或欧几里德距离——最常见)</li></ol><ul class=""><li id="e8d9" class="my mz it lm b ln lo lq lr lt ob lx oc mb od mf nf ng nh ni bi translated">完全连锁(最远邻法)</li><li id="8aa1" class="my mz it lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated">单一连锁(最近邻法)</li><li id="7dc8" class="my mz it lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated">平均连锁</li><li id="07c0" class="my mz it lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated">质心连杆机构</li></ul><p id="003d" class="pw-post-body-paragraph lk ll it lm b ln lo kd lp lq lr kg ls lt lu lv lw lx ly lz ma mb mc md me mf im bi translated">2.基于相关性的距离</p><ul class=""><li id="d211" class="my mz it lm b ln lo lq lr lt ob lx oc mb od mf nf ng nh ni bi translated">找出观察值之间的相关性</li></ul><h2 id="0786" class="no mh it bd mi np nq dn mm nr ns dp mq lt nt nu ms lx nv nw mu mb nx ny mw iz bi translated">分层聚类的缺点</h2><ol class=""><li id="0e35" class="my mz it lm b ln na lq nb lt nc lx nd mb ne mf oa ng nh ni bi translated">计算成本高—不适合大数据集</li></ol><ul class=""><li id="4552" class="my mz it lm b ln lo lq lr lt ob lx oc mb od mf nf ng nh ni bi translated">O(N log N)，而 O(N)用于 K-means</li></ul><p id="dc5d" class="pw-post-body-paragraph lk ll it lm b ln lo kd lp lq lr kg ls lt lu lv lw lx ly lz ma mb mc md me mf im bi translated">2.对噪音和异常值敏感</p><h1 id="2a74" class="mg mh it bd mi mj mk ml mm mn mo mp mq ki mr kj ms kl mt km mu ko mv kp mw mx bi translated">使用层次聚类对 FIFA 20 球员进行分组</h1><h2 id="4ab5" class="no mh it bd mi np nq dn mm nr ns dp mq lt nt nu ms lx nv nw mu mb nx ny mw iz bi translated">数据清理/预处理(第 1 部分的代码)</h2><pre class="ks kt ku kv gt oe of og oh aw oi bi"><span id="ffc0" class="no mh it of b gy oj ok l ol om">import pandas as pd</span><span id="25a4" class="no mh it of b gy on ok l ol om">import numpy as np</span><span id="6b94" class="no mh it of b gy on ok l ol om">df = pd.read_csv("/content/players_20.csv")</span><span id="4a26" class="no mh it of b gy on ok l ol om">df = df[['short_name','age', 'height_cm', 'weight_kg', 'overall', 'potential','value_eur', 'wage_eur', 'international_reputation', 'weak_foot','skill_moves', 'release_clause_eur', 'team_jersey_number','contract_valid_until', 'nation_jersey_number', 'pace', 'shooting','passing', 'dribbling', 'defending', 'physic', 'gk_diving','gk_handling', 'gk_kicking', 'gk_reflexes', 'gk_speed','gk_positioning', 'attacking_crossing', 'attacking_finishing','attacking_heading_accuracy', 'attacking_short_passing','attacking_volleys', 'skill_dribbling', 'skill_curve','skill_fk_accuracy', 'skill_long_passing', 'skill_ball_control','movement_acceleration', 'movement_sprint_speed', 'movement_agility','movement_reactions', 'movement_balance', 'power_shot_power','power_jumping', 'power_stamina', 'power_strength', 'power_long_shots','mentality_aggression', 'mentality_interceptions','mentality_positioning', 'mentality_vision', 'mentality_penalties','mentality_composure', 'defending_marking', 'defending_standing_tackle','defending_sliding_tackle','goalkeeping_diving','goalkeeping_handling', 'goalkeeping_kicking','goalkeeping_positioning', 'goalkeeping_reflexes']]</span><span id="d064" class="no mh it of b gy on ok l ol om">df = df[df.overall &gt; 86] # extracting players with overall above 86</span><span id="ca44" class="no mh it of b gy on ok l ol om">df = df.fillna(df.mean())</span><span id="440f" class="no mh it of b gy on ok l ol om">names = df.short_name.tolist() # saving names for later</span><span id="ee79" class="no mh it of b gy on ok l ol om">df = df.drop(['short_name'], axis = 1) # drop the short_name column</span><span id="8c49" class="no mh it of b gy on ok l ol om">df.head()</span></pre><h2 id="1c09" class="no mh it bd mi np nq dn mm nr ns dp mq lt nt nu ms lx nv nw mu mb nx ny mw iz bi translated">标准化数据</h2><pre class="ks kt ku kv gt oe of og oh aw oi bi"><span id="b20f" class="no mh it of b gy oj ok l ol om">from sklearn import preprocessing</span><span id="4986" class="no mh it of b gy on ok l ol om">x = df.values # numpy array</span><span id="ef28" class="no mh it of b gy on ok l ol om">scaler = preprocessing.MinMaxScaler()</span><span id="5749" class="no mh it of b gy on ok l ol om">x_scaled = scaler.fit_transform(x)</span><span id="0809" class="no mh it of b gy on ok l ol om">X_norm = pd.DataFrame(x_scaled)</span></pre><h2 id="df4c" class="no mh it bd mi np nq dn mm nr ns dp mq lt nt nu ms lx nv nw mu mb nx ny mw iz bi translated">平均链接的层次聚类</h2><pre class="ks kt ku kv gt oe of og oh aw oi bi"><span id="4acf" class="no mh it of b gy oj ok l ol om">import matplotlib.pyplot as plt</span><span id="7870" class="no mh it of b gy on ok l ol om">import scipy.cluster.hierarchy as sch</span><span id="6a7d" class="no mh it of b gy on ok l ol om"># plot dendrogram using average linkage</span><span id="b4bb" class="no mh it of b gy on ok l ol om">plt.figure(figsize=(10,14))</span><span id="6214" class="no mh it of b gy on ok l ol om">plt.title('Hierarchical Clustering Dendrogram with Average Linkage')</span><span id="21c4" class="no mh it of b gy on ok l ol om">dendrogram = sch.dendrogram(sch.linkage(X_norm, method="average"), labels= names, leaf_font_size = 13, orientation='right')</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/5f0e34aece8e1a7a0edf3d7be458935e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*Vxr1b_xF9rQGW0rUKD8RxQ.png"/></div></figure><ul class=""><li id="835e" class="my mz it lm b ln lo lq lr lt ob lx oc mb od mf nf ng nh ni bi translated">分成两个位置——守门员和其他人</li></ul><h2 id="0a67" class="no mh it bd mi np nq dn mm nr ns dp mq lt nt nu ms lx nv nw mu mb nx ny mw iz bi translated">单键</h2><pre class="ks kt ku kv gt oe of og oh aw oi bi"><span id="a0b7" class="no mh it of b gy oj ok l ol om"># plot dendrogram using single linkage</span><span id="3834" class="no mh it of b gy on ok l ol om">plt.figure(figsize=(10,14))</span><span id="eb2d" class="no mh it of b gy on ok l ol om">plt.title('Hierarchical Clustering Dendrogram with Single Linkage')</span><span id="a2d0" class="no mh it of b gy on ok l ol om">dendrogram = sch.dendrogram(sch.linkage(X_norm, method="single"), labels= names, leaf_font_size = 13, orientation='right')</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/b3d4dd264d36779699c7b5d670fa3118.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*O6E8OUeKqaHMKxv9erruQA.png"/></div></figure><ul class=""><li id="28b6" class="my mz it lm b ln lo lq lr lt ob lx oc mb od mf nf ng nh ni bi translated">分成守门员和其他人</li></ul><h2 id="df9e" class="no mh it bd mi np nq dn mm nr ns dp mq lt nt nu ms lx nv nw mu mb nx ny mw iz bi translated">质心连杆机构</h2><pre class="ks kt ku kv gt oe of og oh aw oi bi"><span id="7bc8" class="no mh it of b gy oj ok l ol om"># plot dendrogram using centroid linkage</span><span id="7e14" class="no mh it of b gy on ok l ol om">plt.figure(figsize=(10,14))</span><span id="1533" class="no mh it of b gy on ok l ol om">plt.title('Hierarchical Clustering Dendrogram with Centroid Linkage')</span><span id="4b84" class="no mh it of b gy on ok l ol om">dendrogram = sch.dendrogram(sch.linkage(X_norm, method="centroid"), labels= names, leaf_font_size = 13, orientation='right')</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/88c0992403dd18ef5b9c927eac638944.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*cyX7cobQKgPVXCgwDLGuKA.png"/></div></figure><ul class=""><li id="d0f8" class="my mz it lm b ln lo lq lr lt ob lx oc mb od mf nf ng nh ni bi translated">再一次，分成守门员和其他人</li></ul><h2 id="cfa6" class="no mh it bd mi np nq dn mm nr ns dp mq lt nt nu ms lx nv nw mu mb nx ny mw iz bi translated">完全连锁</h2><pre class="ks kt ku kv gt oe of og oh aw oi bi"><span id="5e83" class="no mh it of b gy oj ok l ol om"># plot dendrogram using complete linkage</span><span id="e9b5" class="no mh it of b gy on ok l ol om">plt.figure(figsize=(10,14))</span><span id="01f7" class="no mh it of b gy on ok l ol om">plt.title('Hierarchical Clustering Dendrogram with Complete Linkage')</span><span id="1c54" class="no mh it of b gy on ok l ol om">dendrogram = sch.dendrogram(sch.linkage(X_norm, method="complete"), labels= names, leaf_font_size = 13, orientation='right')</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/f71c66fa2bd383abdb0bddf29ee091a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*D1N8jVQ0URfSXPfE08N8bg.png"/></div></figure><h1 id="ec48" class="mg mh it bd mi mj mk ml mm mn mo mp mq ki mr kj ms kl mt km mu ko mv kp mw mx bi translated">结论</h1><p id="4ac3" class="pw-post-body-paragraph lk ll it lm b ln na kd lp lq nb kg ls lt op lv lw lx oq lz ma mb or md me mf im bi translated">完全联动似乎对玩家分组最准确！</p><p id="32c7" class="pw-post-body-paragraph lk ll it lm b ln lo kd lp lq lr kg ls lt lu lv lw lx ly lz ma mb mc md me mf im bi translated">感谢你阅读这篇文章，希望你觉得有用！</p><p id="5f4a" class="pw-post-body-paragraph lk ll it lm b ln lo kd lp lq lr kg ls lt lu lv lw lx ly lz ma mb mc md me mf im bi translated">GitHub 回购:<a class="ae lh" href="https://github.com/importdata/Clustering-FIFA-20-Players" rel="noopener ugc nofollow" target="_blank">https://github.com/importdata/Clustering-FIFA-20-Players</a></p></div></div>    
</body>
</html>