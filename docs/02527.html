<html>
<head>
<title>How to show all columns / rows of a Pandas Dataframe?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何显示熊猫数据框的所有列/行？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-show-all-columns-rows-of-a-pandas-dataframe-c49d4507fcf?source=collection_archive---------0-----------------------#2020-03-11">https://towardsdatascience.com/how-to-show-all-columns-rows-of-a-pandas-dataframe-c49d4507fcf?source=collection_archive---------0-----------------------#2020-03-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="635a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">加:改变数据帧中数字的精度。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d7e27a70a6487542c4315c66f04df3a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HN3hBmk9OFmjTuMP"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">汉斯·雷尼尔斯在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="114f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(这个帖子的所有代码你可以在<a class="ae ky" href="https://github.com/andryw/pandas_tips" rel="noopener ugc nofollow" target="_blank">我的github </a>里找到)</p><p id="d4c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大家好！在我的熊猫提示系列文章(上一篇文章是关于分组提示的)之后，我将解释如何显示熊猫数据帧的所有列和行。除此之外，我将解释如何显示数据帧中列表中的<strong class="lb iu">所有值，并选择数据帧中数字</strong>的<strong class="lb iu">精度。所有东西都用同样的工具。</strong></p><p id="9f42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我使用的是从<a class="ae ky" href="https://data.world/studentoflife/imdb-top-250-lists-and-5000-or-so-data-records" rel="noopener ugc nofollow" target="_blank">数据世界</a>下载的前250个IMDB电影数据集。数据库有250行和37列</p><h1 id="0dd3" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">问题:熊猫截断信息</h1><p id="8e14" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">有时，我读取一个有许多行或列的数据帧，当我在Jupyter中显示时，这些行和列被隐藏(在红色框中突出显示):</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="a777" class="mx lw it mt b gy my mz l na nb">movies = pd.read_csv("data/IMDB_Top250movies2_OMDB_Detailed.csv")<br/>movies</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/352322b9237a76a24a13e4d5391f6463.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*j8a4u3F-kAuRRpslBIu-UA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一些行和列是隐藏的(红框)</p></figure><p id="361e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我知道它们被隐藏起来是为了避免显示太多的信息。但是有时候我想看所有的列和行！那么，如何把它们都打印出来呢？</p><p id="f246" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以在熊猫身上玩选项参数。让我们看看。</p><h1 id="c097" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">选择</h1><p id="7578" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Pandas有选项配置，您可以更改数据框的显示设置(等等)。</p><p id="8344" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你所需要做的就是选择你的选项(用一个字符串名)并获取/设置/重置它的值。这些函数接受正则表达式模式，所以如果您传递一个子串，它将工作(除非匹配多个选项)。</p><h1 id="7038" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">列</h1><p id="3703" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><strong class="lb iu"> display.max_columns </strong>选项控制要打印的列数。它接收一个<em class="nd"> int </em>或<em class="nd"> None </em>(打印所有列):</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="6003" class="mx lw it mt b gy my mz l na nb">pd.set_option('display.max_columns', None)<br/>movies.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/23c18d1673c4fdbb1b5a37fe4f93af6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HK3skCFvfhkihluVZjZWMg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">这些列不再隐藏。Jupyter创建一个滚动条</p></figure><p id="b3d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你也可以使用字符串<em class="nd"> max_columns </em>代替<em class="nd"> display.max_columns </em>(记住它接受一个正则表达式):</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="4bf3" class="mx lw it mt b gy my mz l na nb">pd.set_option('max_columns', None)</span></pre><p id="f520" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">传递一个数字而不是无:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="7e8e" class="mx lw it mt b gy my mz l na nb">pd.set_option('max_columns', 2)<br/>movies.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/b7cf028ed9e28358ffc0ae299fdc8677.png" data-original-src="https://miro.medium.com/v2/resize:fit:430/format:webp/1*QP8gP0z_itmX1fFeS42zjQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">仅显示两列</p></figure><p id="3f39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要恢复默认值，您需要重置选项:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="84d2" class="mx lw it mt b gy my mz l na nb">pd.reset_option(“max_columns”)<br/>movies.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/993c64a822528d0f4b547372629f2c06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hTBZV88Y2hiBF-K0pPRVZA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一些列再次被隐藏</p></figure><h2 id="5569" class="mx lw it bd lx nh ni dn mb nj nk dp mf li nl nm mh lm nn no mj lq np nq ml nr bi translated">列宽</h2><p id="af14" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">您可以使用选项<strong class="lb iu"> max_colwidth </strong>更改列宽。例如，<em class="nd">图的</em>列有许多字符，最初显示时被截断:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/421efe36b1a245d70f0d33e38fabf084.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*vX90vwWdIJb0vS5g7CE9Ow.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">绘图列的某些文本被隐藏</p></figure><p id="ea29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以增加通过一个<em class="nd"> int </em>的宽度(或设置为最大无通过):</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="e650" class="mx lw it mt b gy my mz l na nb">pd.set_option(“max_colwidth”, None)<br/>movies[[“Title”, “Plot”]].head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/6c42650621a3a450f29c22f95a6e152f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4IO4mTNp2l3Iyu3dXZRyLw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将显示绘图列的全部文本</p></figure><h1 id="eda2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">行</h1><p id="ddb2" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">要更改行数，您需要更改<strong class="lb iu"> max_rows </strong>选项。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="255f" class="mx lw it mt b gy my mz l na nb">pd.set_option("max_columns", 2) #Showing only two columns</span><span id="86c2" class="mx lw it mt b gy nu mz l na nb">pd.set_option("max_rows", None)<br/>movies</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/985752ea5a08f3a7dc6f44a6173719a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g1nFBplqcAnE8B7RKpzSeA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">所有的行都被显示出来。Jupyter折叠单元格并创建一个滚动条</p></figure><p id="896f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与行相关，有两个设置:<strong class="lb iu"> max_rows </strong>和<strong class="lb iu"> min_rows </strong>。当行数大于<em class="nd"> max_rows </em>时，数据帧被截断，显示为<em class="nd"> min_rows </em> rows。</p><p id="86d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">比如说。让我们再次打印电影数据帧以及默认值<em class="nd"> max_rows </em>和<em class="nd"> min_rows </em>:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="ffd5" class="mx lw it mt b gy my mz l na nb">print("Default max_rows: {} and min_rows: {}".format(<br/>pd.get_option("max_rows"), pd.get_option("min_rows")))</span><span id="dbfc" class="mx lw it mt b gy nu mz l na nb">movies</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/4dd8ba10987263f2c86c2ed842ec4196.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*9_hrkFx-qCIX0UxmzAiBwg.png"/></div></figure><p id="e965" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于数据帧中的行数为250(大于<em class="nd"> max_rows </em>值60)，因此显示10行(<em class="nd"> min_rows </em>值)，前5行和后5行。</p><p id="fb22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们将<em class="nd">最小行数</em>改为2，它将只显示第一行和最后一行:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="7fb7" class="mx lw it mt b gy my mz l na nb">pd.set_option(“min_rows”, 2)<br/>movies</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/ec3011ae3fcaeb06ca42d029305995c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:460/format:webp/1*oQZC7BTktbwBCWzhXdPF8g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">仅显示两行，第一行和最后一行</p></figure><p id="11f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们使用值低于<em class="nd"> max_rows </em>值(60)的<em class="nd"> head </em>命令，所有的行都会被显示。例如，使用值为20的<em class="nd">头</em>:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="a195" class="mx lw it mt b gy my mz l na nb">movies.head(20)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/ee3c12dac1cfa734210c1d2aa313677a.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*Mf9Njv4nxFvZQRp22OhClA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">显示所有20行，因为该值小于max_rows (60)</p></figure><h1 id="78d4" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">项目顺序</h1><p id="8695" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果项目序列(列表)包含许多字符，也会被截断:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="9179" class="mx lw it mt b gy my mz l na nb">#Create "my_list" column and put a list of 100 values in each row<br/>movies[‘my_list’] = [[1]*100] * 250 <br/>movies.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/cdd0824cfbf1b658b72bb8111a681bc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*_AXcebf3GHUAZMMvu2D2PQ.png"/></div></figure><p id="351c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">改变这种行为的选项是<strong class="lb iu"> max_seq_items。</strong>但是我们也必须改变<strong class="lb iu">最大列宽</strong>。首先，更改<em class="nd"> max_colwidth </em>(列表将被截断):</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="0875" class="mx lw it mt b gy my mz l na nb">pd.set_option(“max_colwidth”, None)<br/>movies.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/076ad1b05f7691e1cb0a98f4770f72b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BNVWink4vXDGQsJTg3yjAw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">“我的列表”列已展开，但列表被截断</p></figure><p id="115b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后你改变<em class="nd">最大序列项</em>。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="5b27" class="mx lw it mt b gy my mz l na nb">pd.set_option(“max_seq_item”, None)<br/>movies.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/f981332af46193f90daa497236264300.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zEa4rhTorNHP-GopjzmZ5w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">显示列表的所有值</p></figure><h1 id="79ed" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">额外收获:数字的精确性</h1><p id="f54c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">另一个有用的选项是使用<strong class="lb iu">精度</strong>选项设置浮点精度——小数点后的位数。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="f8c1" class="mx lw it mt b gy my mz l na nb">#adding more decimal places to imdbRating column<br/>movies[‘imdbRating’] = movies[‘imdbRating’] + 0.11111<br/>movies[[‘imdbRating’]].head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/c69a976f982aacb4dc47f5475b5a28c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:160/format:webp/1*Ujc3YkFk7ZlUDrsScjrjTw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">有5个小数位的数字</p></figure><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="68b8" class="mx lw it mt b gy my mz l na nb">pd.set_option(‘precision’, 2)</span><span id="cc89" class="mx lw it mt b gy nu mz l na nb">movies[[‘imdbRating’]].head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/c12db20c1fcb8f560e34d2c80e7ee053.png" data-original-src="https://miro.medium.com/v2/resize:fit:178/format:webp/1*o6WNQerxWXh6XYq5_wosbQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">有两位小数的数字</p></figure><p id="4ccb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">来源:</strong></p><ul class=""><li id="3089" class="od oe it lb b lc ld lf lg li of lm og lq oh lu oi oj ok ol bi translated"><a class="ae ky" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/options.html" rel="noopener ugc nofollow" target="_blank">选项和设置— pandas 1.0.1文档</a></li><li id="07c8" class="od oe it lb b lc om lf on li oo lm op lq oq lu oi oj ok ol bi translated"><a class="ae ky" href="https://stackoverflow.com/questions/19124601/pretty-print-an-entire-pandas-series-dataframe" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/19124601/pretty-print-an-entire-pandas-series-data frame</a></li><li id="c9df" class="od oe it lb b lc om lf on li oo lm op lq oq lu oi oj ok ol bi translated"><a class="ae ky" href="https://stackoverflow.com/questions/52580111/how-do-i-set-the-column-width-when-using-pandas-dataframe-to-html/52580495" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/52580111/how-do-I-set-the-column-width-when-using-pandas-data frame-to-html/52580495</a></li></ul></div><div class="ab cl or os hx ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="im in io ip iq"><p id="0caf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="nd">谢谢，随时添加您的评论</em> </strong></p><p id="8cbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">IMDB top 250中有一部巴西电影:<em class="nd">上帝之城</em>。很好看的电影=)</p></div></div>    
</body>
</html>