<html>
<head>
<title>Create Word Cloud into any Shape you want using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 创建你想要的任何形状的单词云</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/create-word-cloud-into-any-shape-you-want-using-python-d0b88834bc32?source=collection_archive---------10-----------------------#2020-05-18">https://towardsdatascience.com/create-word-cloud-into-any-shape-you-want-using-python-d0b88834bc32?source=collection_archive---------10-----------------------#2020-05-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6718" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建漂亮单词云的分步指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8658a859fbeb02ec68d71a138be6b583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t44MFwCbDUsFkyU7fpbuPQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">词云示例— Twitter 美国航空公司情绪(<a class="ae ky" href="https://www.kaggle.com/crowdflower/twitter-airline-sentiment" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/crowd flower/Twitter-Airline-情绪</a>)</p></figure><p id="7e9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据可视化(如图表、图形、信息图等。)为企业提供了交流重要信息的价值，但如果您的数据是基于文本的呢？如果你希望惊人的可视化格式突出重要的文本数据点，那么使用单词云。</p><p id="bf93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不熟悉单词云，它是由一组单词组成的图片，其中每个单词的大小代表频率或重要性。单词越大、越粗，在一篇文章中被提到的次数就越多，也就越重要。字云易读易懂。关键词对读者来说很突出，并且在视觉上吸引观众。</p><p id="d00b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，你可能会厌倦看到单词 cloud 的简单形式。如果我告诉你，WordCloud 也可以根据我们的喜好定制。在本文中，我们将探索如何在 python 中生成您想要的任何形状的单词云。那么，我们开始吧。</p><p id="0fb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果想看这篇文章的完整代码，请访问我的<a class="ae ky" href="https://github.com/fahmisalman/python-wordcloud" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> github </strong> </a>。第一步，安装将要使用的包，即<a class="ae ky" href="https://amueller.github.io/word_cloud/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> wordcloud </strong> </a>。打开终端(Linux / macOS)或命令提示符(windows)并键入:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="29ff" class="ma mb it lw b gy mc md l me mf">$ pip install wordcloud</span></pre><p id="7081" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将从对互联网上的一篇文章进行网络搜集开始。如果你对网页抓取不熟悉，建议你看一下我之前的一篇文章，标题是<a class="ae ky" rel="noopener" target="_blank" href="/scraping-a-website-with-4-lines-using-python-200d5c858bb1"> <strong class="lb iu">用 Python 制作 4 行网页抓取新闻</strong> </a>。</p><div class="mg mh gp gr mi mj"><a rel="noopener follow" target="_blank" href="/scraping-a-website-with-4-lines-using-python-200d5c858bb1"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd iu gy z fp mo fr fs mp fu fw is bi translated">用 Python 实现 4 行新闻的网络抓取</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">抓取网站的简单方法</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">towardsdatascience.com</p></div></div><div class="ms l"><div class="mt l mu mv mw ms mx ks mj"/></div></div></a></div><p id="db36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将从维基百科上抓取标题为'<a class="ae ky" href="https://en.wikipedia.org/wiki/Ice_cream" rel="noopener ugc nofollow" target="_blank"> <em class="my">冰淇淋</em> </a> <em class="my"> ' </em>的新闻。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="43e6" class="ma mb it lw b gy mc md l me mf">from newspaper import Article</span><span id="fcb7" class="ma mb it lw b gy mz md l me mf">article = Article('<a class="ae ky" href="https://en.wikipedia.org/wiki/Ice_cream'" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Ice_cream'</a>)<br/>article.download()<br/>article.parse()</span></pre><p id="17f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们只取文章的正文，也就是:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="857d" class="ma mb it lw b gy mc md l me mf">article.text</span></pre><h2 id="319b" class="ma mb it bd na nb nc dn nd ne nf dp ng li nh ni nj lm nk nl nm lq nn no np nq bi translated">简单词云</h2><p id="eff8" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">我们先做一个简单的单词云。第一步是导入我们将使用的依赖项。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="8c8b" class="ma mb it lw b gy mc md l me mf">from wordcloud import WordCloud<br/>import matplotlib.pyplot as plt</span></pre><p id="10e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们用的是 wordcloud 库和 matplotlib。wordcloud 库用于生成单词云，matplotlib 用于显示单词云的结果。之后我们调用词云函数，显示词云。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="af33" class="ma mb it lw b gy mc md l me mf">wc = WordCloud()<br/>wc.generate(article.text)<br/>plt.imshow(wc, interpolation="bilinear")<br/>plt.axis('off')<br/>plt.show()</span></pre><p id="36e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我们创造的简单单词云的结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/8a5b9c9d43ea34783a065ff7ed57edb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CuqI1zaD9JiVNk3nL7c7pw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">简单词云</p></figure><p id="ff63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，wordcloud 函数有参数，包括:</p><ul class=""><li id="6e43" class="nx ny it lb b lc ld lf lg li nz lm oa lq ob lu oc od oe of bi translated">背景颜色=背景的颜色</li><li id="0bc9" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">max_words =使用的唯一字的最大数量</li><li id="2180" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">停用词=停用词列表</li><li id="020e" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">max_font_size =最大字体大小</li><li id="736d" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">random_state =确保在</li><li id="5022" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">相同的顺序，所以即使生成多次，结果也是一样的</li><li id="c3ac" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">宽度=输出的宽度大小</li><li id="dbc8" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">height =输出的高度大小</li></ul><p id="4e73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们尝试使用上面的参数。首先，让我们导入 wordcloud 库提供的停用词</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="dc32" class="ma mb it lw b gy mc md l me mf">from wordcloud import STOPWORDS</span></pre><p id="d620" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们输入下面的代码</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="76d6" class="ma mb it lw b gy mc md l me mf">wc = WordCloud(background_color="white", max_words=2000,<br/>               stopwords=STOPWORDS, max_font_size=256,<br/>               random_state=42, width=500, height=500)<br/>wc.generate(article.text)<br/>plt.imshow(wc, interpolation="bilinear")<br/>plt.axis('off')<br/>plt.show()</span></pre><p id="71b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/3190dfcb2ccd5ff9210accfe8ca4bf52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N_lhJSq2_1_aLN9qN7to7g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带参数调整的简单单词云</p></figure><h2 id="126b" class="ma mb it bd na nb nc dn nd ne nf dp ng li nh ni nj lm nk nl nm lq nn no np nq bi translated">添加自定义字体</h2><p id="361c" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">我们也可以改变使用的字体。你可以从网站<a class="ae ky" href="https://www.dafont.com" rel="noopener ugc nofollow" target="_blank">https://www.dafont.com</a>下载字体供<strong class="lb iu">个人使用</strong>。接下来，在参数中输入字体的路径。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="8d59" class="ma mb it lw b gy mc md l me mf">font_path = 'path/to/font'<br/>wc = WordCloud(stopwords=STOPWORDS, font_path=font_path, <br/>               background_color="white", max_words=2000,<br/>               max_font_size=256, random_state=42,<br/>               width=500, height=500)<br/>wc.generate(article.text)<br/>plt.imshow(wc, interpolation="bilinear")<br/>plt.axis('off')<br/>plt.show()</span></pre><p id="6197" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是结果</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/9a91fc39e14863490113ecc2367cc0bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yEJ98BnIGkrngeJgv0evmw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">自定义字体</p></figure><h2 id="f4ff" class="ma mb it bd na nb nc dn nd ne nf dp ng li nh ni nj lm nk nl nm lq nn no np nq bi translated">添加自定义遮罩</h2><p id="ace4" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">接下来我们将为单词 cloud 添加一个遮罩。请记住，所用图像的背景必须是白色的，否则，系统会将背景视为物体。另外，背景不能是透明的，因为透明的颜色会被认为是黑色。我将使用下面的图像作为一个面具。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/6eaa5248ee083c3ebc4b276849fbfda2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*OVqX0ePobZYOwENYtXKuqQ.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图像遮罩</p></figure><p id="202a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要添加一些依赖项来加载图像。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="4b1f" class="ma mb it lw b gy mc md l me mf">from PIL import Image<br/>import numpy as np</span></pre><p id="65b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，在参数中输入字体的路径。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="40eb" class="ma mb it lw b gy mc md l me mf">mask = np.array(Image.open('path/to/image'))<br/>wc = WordCloud(stopwords=STOPWORDS, font_path=font_path,<br/>               mask=mask, background_color="white",<br/>               max_words=2000, max_font_size=256,<br/>               random_state=42, width=mask.shape[1],<br/>               height=mask.shape[0])<br/>wc.generate(article.text)<br/>plt.imshow(wc, interpolation="bilinear")<br/>plt.axis('off')<br/>plt.show()</span></pre><p id="ea9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/7a2b8b9fcd15a3148ea2cf0d9d002b35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bkmenaJqE0-TqImJITodsQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">掩蔽词云</p></figure><h2 id="0a5f" class="ma mb it bd na nb nc dn nd ne nf dp ng li nh ni nj lm nk nl nm lq nn no np nq bi translated">调整颜色</h2><p id="a9c5" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">我们还可以调整单词 cloud 中使用的颜色。基本上，我们可以自由决定我们将使用的颜色，但在这篇文章中，我将讨论相当常用的颜色。我们只用一种颜色。但是，我们必须定义要使用的函数。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="5909" class="ma mb it lw b gy mc md l me mf">def one_color_func(word=None, font_size=None, <br/>                   position=None, orientation=None, <br/>                   font_path=None, random_state=None):<br/>    h = 160 # 0 - 360<br/>    s = 100 # 0 - 100<br/>    l = 50 # 0 - 100</span><span id="5b0b" class="ma mb it lw b gy mz md l me mf">return "hsl({}, {}%, {}%)".format(h, s, l)</span></pre><p id="f06e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用的颜色格式是 HSL 格式(色调、饱和度、亮度)。更多详情，请访问<a class="ae ky" href="http://hslpicker.com" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> HSL 颜色选择器</strong> </a>了解更多关于所用颜色的信息。那么要形成词云，我们所要做的就是将我们已经创建的函数添加到词云函数中。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="c66f" class="ma mb it lw b gy mc md l me mf">wc = WordCloud(stopwords=STOPWORDS, font_path=font_path,<br/>               mask=mask, background_color="white",<br/>               max_words=2000, max_font_size=256,<br/>               random_state=42, width=mask.shape[1],<br/>               height=mask.shape[0], color_func=one_color_func)<br/>wc.generate(article.text)<br/>plt.imshow(wc, interpolation="bilinear")<br/>plt.axis('off')<br/>plt.show()</span></pre><p id="c4ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图像会是这样的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/58fe214a43b62e12b59ae6ea28b6b1fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RseYh0NELhJnY4qYq6iI-g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一种颜色</p></figure><p id="6a19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除此之外，我们还可以在一定范围内随机产生相似的颜色。我将在明度中添加一个随机函数来调整颜色的亮度。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="cd94" class="ma mb it lw b gy mc md l me mf">def similar_color_func(word=None, font_size=None,<br/>                       position=None, orientation=None,<br/>                       font_path=None, random_state=None):<br/>    h = 40 # 0 - 360<br/>    s = 100 # 0 - 100<br/>    l = random_state.randint(30, 70) # 0 - 100</span><span id="3327" class="ma mb it lw b gy mz md l me mf">return "hsl({}, {}%, {}%)".format(h, s, l)</span></pre><p id="66b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，和以前一样。将函数输入到 wordcloud 函数中。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="fd95" class="ma mb it lw b gy mc md l me mf">wc = WordCloud(stopwords=STOPWORDS, font_path=font_path,<br/>               mask=mask, background_color="white",<br/>               max_words=2000, max_font_size=256,<br/>               random_state=42, width=mask.shape[1],<br/>               height=mask.shape[0], color_func=similar_color_func)<br/>wc.generate(article.text)<br/>plt.imshow(wc, interpolation="bilinear")<br/>plt.axis('off')<br/>plt.show()</span></pre><p id="b5b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果会是这样的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/5cf2cc35ac59f5e228fc23795ace00bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OVjSB_6eBLxb3tEIXNTs3g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">相似的颜色</p></figure><p id="0957" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，我们可以定义我们将使用的许多颜色。举个例子。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="5ad5" class="ma mb it lw b gy mc md l me mf">def multi_color_func(word=None, font_size=None,<br/>                     position=None, orientation=None,<br/>                     font_path=None, random_state=None):<br/>    colors = [[4, 77, 82],<br/>              [25, 74, 85],<br/>              [82, 43, 84],<br/>              [158, 48, 79]]<br/>    rand = random_state.randint(0, len(colors) - 1)</span><span id="eec2" class="ma mb it lw b gy mz md l me mf">return "hsl({}, {}%, {}%)".format(colors[rand][0], colors[rand][1], colors[rand][2])</span></pre><p id="c164" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并将该功能添加到 wordcloud 功能中。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="20f4" class="ma mb it lw b gy mc md l me mf">wc = WordCloud(stopwords=STOPWORDS, font_path=font_path,<br/>               mask=mask, background_color="white",<br/>               max_words=2000, max_font_size=256,<br/>               random_state=42, width=mask.shape[1],<br/>               height=mask.shape[0], color_func=multi_color_func)<br/>wc.generate(article.text)<br/>plt.imshow(wc, interpolation="bilinear")<br/>plt.axis('off')<br/>plt.show()</span></pre><p id="4a15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果是这样的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/135ba7f1866875ed2558c114d00dd497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*44FxXGAV18UnqGb6aIkzUA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">多种颜色</p></figure><p id="bed7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后但同样重要的是，根据蒙版生成颜色。我们将需要 wordcloud 库提供的功能。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="c2f9" class="ma mb it lw b gy mc md l me mf">from wordcloud import ImageColorGenerator</span></pre><p id="9b0a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后添加蒙版颜色，将函数添加到 wordcloud 函数中。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9094" class="ma mb it lw b gy mc md l me mf">mask_colors = ImageColorGenerator(mask)<br/>wc = WordCloud(stopwords=STOPWORDS, font_path=font_path,<br/>               mask=mask, background_color="white",<br/>               max_words=2000, max_font_size=256,<br/>               random_state=42, width=mask.shape[1],<br/>               height=mask.shape[0], color_func=mask_colors)<br/>wc.generate(article.text)<br/>plt.imshow(wc, interpolation="bilinear")<br/>plt.axis('off')<br/>plt.show()</span></pre><p id="25dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是最后的结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/f09f68c9e97617bbe0f0342c5bc7f09e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7-NNevAuljiMsWHfAdIjrw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">生成的颜色</p></figure><p id="e8d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所看到的，单词云的颜色遵循原始图像的颜色。</p></div><div class="ab cl on oo hx op" role="separator"><span class="oq bw bk or os ot"/><span class="oq bw bk or os ot"/><span class="oq bw bk or os"/></div><div class="im in io ip iq"><p id="5195" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以对于这篇文章，我希望你能从我所说的中获得新的知识。如果你有其他看法，请写在评论里。以后我会分析这个词云的用法进行文本分析。</p></div></div>    
</body>
</html>