<html>
<head>
<title>Lambda Functions with Example and Error Handling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Lambda 函数示例和错误处理</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/lambda-functions-with-example-and-error-handling-d9d3ec0b30d4?source=collection_archive---------11-----------------------#2020-08-12">https://towardsdatascience.com/lambda-functions-with-example-and-error-handling-d9d3ec0b30d4?source=collection_archive---------11-----------------------#2020-08-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/4375cf645b45efa59b01ae362a6e4e74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YbuKilTDHKlwi-hBbBhL2w.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">Lambda 函数和错误处理。照片由<a class="ae jg" href="https://www.pexels.com/photo/person-using-macbook-pro-1181373/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae jg" href="https://www.pexels.com/@divinetechygirl?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">克里斯蒂娜·莫里洛</a>拍摄</p></figure><h2 id="06a2" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph">给 PYTHON 开发者的提示</h2><div class=""/><div class=""><h2 id="8785" class="pw-subtitle-paragraph kp js jj bd b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dk translated">用肮脏的方式编写即时函数。不建议在所有情况下都这样做，但是这样很方便</h2></div><h2 id="bf02" class="lh li jj bd lj lk ll dn lm ln lo dp lp lq lr ls lt lu lv lw lx ly lz ma mb jp bi translated">先决条件</h2><p id="7bb9" class="pw-post-body-paragraph mc md jj me b mf mg kt mh mi mj kw mk lq ml mm mn lu mo mp mq ly mr ms mt mu im bi translated">在经历这些之前，你需要熟悉在 Python 中定义自己的函数；否则，你会迷失在中间。下面的文章将会给你更多关于如何定义你自己的函数的信息。</p><div class="is it gp gr iu mv"><a rel="noopener follow" target="_blank" href="/writing-your-own-functions-40d381bd679"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd jt gy z fp na fr fs nb fu fw js bi translated">编写自己的函数</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">数据科学家需要具有特定功能的函数</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">towardsdatascience.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj ja mv"/></div></div></a></div><div class="is it gp gr iu mv"><a rel="noopener follow" target="_blank" href="/scope-of-variable-and-legb-rule-4d44d4576df5"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd jt gy z fp na fr fs nb fu fw js bi translated">变量范围和 LEGB 规则</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">变量的作用域指的是你可以看到或访问变量的地方</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">towardsdatascience.com</p></div></div><div class="ne l"><div class="nk l ng nh ni ne nj ja mv"/></div></div></a></div><div class="is it gp gr iu mv"><a rel="noopener follow" target="_blank" href="/function-arguments-default-keyword-and-arbitrary-9588b5eaaef3"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd jt gy z fp na fr fs nb fu fw js bi translated">函数参数:默认值、关键字和任意值</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">定义一个接受可变数量参数的函数</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">towardsdatascience.com</p></div></div><div class="ne l"><div class="nl l ng nh ni ne nj ja mv"/></div></div></a></div></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><figure class="nt nu nv nw gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/3f796c4e6cb5b5f1d03a2dc35d521fa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gm3oeQaCejd4WQ19OsVL2A.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">Lambda 函数语法。图片由<a class="ae jg" href="https://medium.com/@wiekiang" rel="noopener">作者</a></p></figure><p id="b9bc" class="pw-post-body-paragraph mc md jj me b mf nx kt mh mi ny kw mk lq nz mm mn lu oa mp mq ly ob ms mt mu im bi translated">有一种更灵活的方式来动态编写函数，这种方式被称为 lambda 函数。这是因为我们使用了关键字<code class="fe oc od oe of b">lambda</code>。例如，我们编写一个名为<code class="fe oc od oe of b">raise_number_to_power</code>的函数作为 lambda 函数。在关键字 lambda 之后，我们指定参数的名称，即<code class="fe oc od oe of b">x</code>和<code class="fe oc od oe of b">y</code>。然后，我们使用一个冒号，后面是定义我们希望函数返回什么的表达式。</p><p id="c7b8" class="pw-post-body-paragraph mc md jj me b mf nx kt mh mi ny kw mk lq nz mm mn lu oa mp mq ly ob ms mt mu im bi translated">Lambda 函数允许你以肮脏的方式编写即时函数，所以我不建议你一直使用它们，但是在某些情况下它们会非常有用。例如，map 函数有两个参数。一个函数和一个序列，比如一个列表，以及这个函数对序列中所有元素的作用。</p><figure class="nt nu nv nw gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/662f16f63ed33c8b44d6e5fa5ee4e22b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UH6DG3yclBlSrjN8qYkYdA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">映射函数中的λ。图片作者<a class="ae jg" href="https://medium.com/@wiekiang" rel="noopener">作者</a></p></figure><p id="495c" class="pw-post-body-paragraph mc md jj me b mf nx kt mh mi ny kw mk lq nz mm mn lu oa mp mq ly ob ms mt mu im bi translated">我们甚至可以不命名 lambda 函数来映射，在这种情况下，我们称它们为匿名函数。例如，我们在一个 lambda 函数上使用一个 map，它对一个列表中的所有元素进行平方运算，你将把结果存储在一个<code class="fe oc od oe of b">square</code>变量中。在打印<code class="fe oc od oe of b">square</code>变量的同时，揭示了它是一个 map 对象。为了查看它包含的内容，我们使用函数列表将其转换为列表并打印结果。正如所料，这是一个包含原始列表中元素的方块的列表。</p></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><h2 id="45b6" class="lh li jj bd lj lk ll dn lm ln lo dp lp lq lr ls lt lu lv lw lx ly lz ma mb jp bi translated">错误处理</h2><p id="40b0" class="pw-post-body-paragraph mc md jj me b mf mg kt mh mi mj kw mk lq ml mm mn lu mo mp mq ly mr ms mt mu im bi translated">当你误用一个函数时，它会抛出一个错误。例如，检查从数字或字符串返回浮点的函数 float。当您向函数 float 传递一个整数值时，会返回相应的 float。类似地，如果你给它一个字符串<code class="fe oc od oe of b">8.7</code>，它将返回浮点值。</p><figure class="nt nu nv nw gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/4984358139817f51eda8806ec29cd1cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ExW7LTWm4f2WxLiZixIo0w.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">不正确地使用函数将返回错误。图片作者<a class="ae jg" href="https://medium.com/@wiekiang" rel="noopener">作者</a></p></figure><p id="c36f" class="pw-post-body-paragraph mc md jj me b mf nx kt mh mi ny kw mk lq nz mm mn lu oa mp mq ly ob ms mt mu im bi translated">但是，如果您向它传递字符串<code class="fe oc od oe of b">hello</code>，Python 将抛出一个错误，告诉您它无法将字符串转换为 float。在这种情况下，它抛出了一个<code class="fe oc od oe of b">ValueError</code>，并且有许多类型的错误。当我们编写函数时，我们可能希望发现特定的问题并编写特定的错误消息。让我们来看看计算数字平方根的用户定义函数。它像预期的那样处理整数。如果我们给它传递一个字符串，比如<code class="fe oc od oe of b">hello</code>，会有什么结果？它会抛出一个错误，对应于函数定义中的一行代码。</p><figure class="nt nu nv nw gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/23be1aad9a215918bb42b559a3d6374e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*moUjhq5nKwhq6QKCWCfWiQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">将字符串转换为浮点错误。图片作者<a class="ae jg" href="https://medium.com/@wiekiang" rel="noopener">作者</a></p></figure><p id="46ae" class="pw-post-body-paragraph mc md jj me b mf nx kt mh mi ny kw mk lq nz mm mn lu oa mp mq ly ob ms mt mu im bi translated">这个错误说它是一些<code class="fe oc od oe of b">TypeError</code>，但是这个消息可能对我们函数的用户不是特别有帮助，所以我们应该尝试为我们编写的函数提供有用的错误消息。</p><p id="81e7" class="pw-post-body-paragraph mc md jj me b mf nx kt mh mi ny kw mk lq nz mm mn lu oa mp mq ly ob ms mt mu im bi translated">捕捉此类异常的主要方法是 try-except 子句，在该子句中，Python 尝试在尝试之后运行代码，如果可以，一切正常。如果由于异常而无法工作，它将运行异常代码。现在让我们重写我们的<code class="fe oc od oe of b">square_root</code>函数，但是这一次捕捉任何引发的异常。在这个例子中，我们试图执行<code class="fe oc od oe of b">x</code>的<code class="fe oc od oe of b">0.5</code>次方。使用 except，在出现异常的情况下，我们打印<code class="fe oc od oe of b">x must be an int or float</code>。我们看到，结果函数对于整型和浮点型都工作得很好，并且打印出了我们想要的字符串。</p><figure class="nt nu nv nw gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/83728431197cd2574ac12ce44548d1fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*egBsZALltAk8eqfTPdXhnQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">用消息捕获 TypeError。图片作者<a class="ae jg" href="https://medium.com/@wiekiang" rel="noopener">作者</a></p></figure><p id="60cc" class="pw-post-body-paragraph mc md jj me b mf nx kt mh mi ny kw mk lq nz mm mn lu oa mp mq ly ob ms mt mu im bi translated">我们也可能只希望捕获<code class="fe oc od oe of b">TypeError</code>并让其他错误通过，在这种情况下，我们将使用 except <code class="fe oc od oe of b">TypeError</code>。可以检测到许多不同类型的异常，您可以查看在线提供的 Python 文档。您将希望通过使用关键字<code class="fe oc od oe of b">raise</code>来引发一个错误，而不是简单地打印一个错误消息。</p><figure class="nt nu nv nw gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/3abd4db4793e9a6b84c02222e146cc50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h4dsOkk-S7vDUIckoM0WFA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">使用条件提高 ValueError。图片作者<a class="ae jg" href="https://medium.com/@wiekiang" rel="noopener">作者</a></p></figure><p id="a96d" class="pw-post-body-paragraph mc md jj me b mf nx kt mh mi ny kw mk lq nz mm mn lu oa mp mq ly ob ms mt mu im bi translated">例如，<code class="fe oc od oe of b">square_root</code>函数在应用于负数时做了一些我们可能不想要的事情。它返回一个我们可能不想要的复数。假设我们不希望我们的函数适用于负数。使用 if 子句，我们可以在用户向函数传递一个负数的情况下引发一个<code class="fe oc od oe of b">ValueError</code>。如果我们给我们的新函数一个负数，看它返回规定的<code class="fe oc od oe of b">ValueError</code>。</p></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><pre class="nt nu nv nw gt og of oh oi aw oj bi"><span id="f4bb" class="lh li jj of b gy ok ol l om on"><strong class="of jt">Other Interesting Articles</strong></span><span id="97ce" class="lh li jj of b gy oo ol l om on">#1 <a class="ae jg" rel="noopener" target="_blank" href="/function-arguments-default-keyword-and-arbitrary-9588b5eaaef3">Function Arguments: Default, Keyword, and Arbitrary</a></span><span id="a531" class="lh li jj of b gy oo ol l om on">#2 <a class="ae jg" rel="noopener" target="_blank" href="/scope-of-variable-and-legb-rule-4d44d4576df5">Scope of Variable and LEGB Rule</a></span><span id="c7e7" class="lh li jj of b gy oo ol l om on">#3 <a class="ae jg" rel="noopener" target="_blank" href="/writing-your-own-functions-40d381bd679">Writing Your Own Functions</a></span><span id="62c8" class="lh li jj of b gy oo ol l om on">#4 <a class="ae jg" rel="noopener" target="_blank" href="/python-procedural-or-object-oriented-programming-42c66a008676">Python: Procedural or Object-Oriented Programming?</a></span><span id="b95b" class="lh li jj of b gy oo ol l om on">#5 <a class="ae jg" rel="noopener" target="_blank" href="/data-science-with-python-how-to-use-numpy-library-5885aa83be6b">Data Science with Python: How to Use NumPy Library</a></span><span id="e1e9" class="lh li jj of b gy oo ol l om on">#6 <a class="ae jg" rel="noopener" target="_blank" href="/do-you-have-the-software-engineer-and-data-scientist-skills-probably-not-7e8fb069e067">Do you have the Software Engineer and Data Scientist skills?</a></span></pre></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><h2 id="bdbd" class="lh li jj bd lj lk ll dn lm ln lo dp lp lq lr ls lt lu lv lw lx ly lz ma mb jp bi translated">关于作者</h2><p id="958a" class="pw-post-body-paragraph mc md jj me b mf mg kt mh mi mj kw mk lq ml mm mn lu mo mp mq ly mr ms mt mu im bi translated"><strong class="me jt">魏江</strong>是一名研究员，负责收集、组织和分析意见和数据，以解决问题、探索问题和预测趋势。</p><p id="3697" class="pw-post-body-paragraph mc md jj me b mf nx kt mh mi ny kw mk lq nz mm mn lu oa mp mq ly ob ms mt mu im bi translated">他几乎在机器学习和深度学习的每个领域工作。他正在一系列领域进行实验和研究，包括卷积神经网络、自然语言处理和递归神经网络。</p><p id="0f26" class="pw-post-body-paragraph mc md jj me b mf nx kt mh mi ny kw mk lq nz mm mn lu oa mp mq ly ob ms mt mu im bi translated"><em class="op">连接上</em> <a class="ae jg" href="https://linkedin.com/in/wiekiang" rel="noopener ugc nofollow" target="_blank"> <em class="op"> LinkedIn </em> </a></p></div></div>    
</body>
</html>