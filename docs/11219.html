<html>
<head>
<title>ARIMA vs. Prophet: Forecasting Air Passenger Numbers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ARIMA 与预言家:预测航空乘客数量</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/arima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608?source=collection_archive---------12-----------------------#2020-08-04">https://towardsdatascience.com/arima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608?source=collection_archive---------12-----------------------#2020-08-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6396" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">哪个型号性能更好？</h2></div><p id="4ca7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是我之前文章的后续:<a class="ae le" rel="noopener" target="_blank" href="/time-series-analysis-with-prophet-air-passenger-data-6f29c7989681"> <em class="lf">用 Prophet 进行时间序列分析:航空旅客数据</em> </a></p><p id="cead" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本例中，使用 R 构建了一个 ARIMA(自回归综合移动平均)模型，通过使用<strong class="kk iu">三藩市国际机场关于航空公司月度客运量统计的报告来预测航空旅客人数。</strong></p><p id="921e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">具体来说，对航空公司<strong class="kk iu">荷航</strong> (enplaned)调整后的乘客人数进行过滤，作为从 2005 年 5 月<strong class="kk iu">到 2016 年 3 月</strong>期间的时间序列进行分析。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/755eaf2abb46c72ccab4d0dc91042cb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*MxrOXqNXLCNAMv9ECE5p-g.png"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">资料来源:RStudio</p></figure><p id="1313" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果将与 Prophet 获得的结果进行比较，以了解 ARIMA 相对于该模型的表现如何。</p><p id="3cd9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该模型在 90%的时间序列(训练集)上进行训练，序列的后 10%用于与预测(测试集)进行比较。</p><h1 id="f18b" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">ARIMA 的背景</h1><p id="8a88" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">ARIMA 模型由坐标(p，d，q)组成:</p><ul class=""><li id="4e73" class="mp mq it kk b kl km ko kp kr mr kv ms kz mt ld mu mv mw mx bi translated"><strong class="kk iu"> p </strong>代表自回归项的数量，即用于预测未来值的过去时间值的观测值的数量。例如，如果 p 的值是 2，那么这意味着序列中的两个先前的时间观察被用于预测未来趋势。</li><li id="d675" class="mp mq it kk b kl my ko mz kr na kv nb kz nc ld mu mv mw mx bi translated"><strong class="kk iu"> d </strong>表示使时间序列稳定所需的差异数(即具有恒定均值、方差和自相关的时间序列)。例如，如果 d = 1，则意味着必须获得级数的一阶差分，才能将其转换为平稳的级数。</li><li id="fa50" class="mp mq it kk b kl my ko mz kr na kv nb kz nc ld mu mv mw mx bi translated"><strong class="kk iu"> q </strong>代表我们模型中之前预测误差的移动平均值，或误差项的滞后值。例如，如果 q 的值为 1，那么这意味着我们在模型中有一个误差项的滞后值。</li></ul><h2 id="e88d" class="nd lt it bd lu ne nf dn ly ng nh dp mc kr ni nj me kv nk nl mg kz nm nn mi no bi translated">平稳性</h2><p id="b248" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">说到预测，时间序列数据的一个关键假设是平稳性。这是一个序列的均值、方差和自相关是常数的地方。</p><p id="522f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种假设的原因是，如果一个序列的均值、方差和自相关性在一段时间内不是常数，那么使用预测模型进行预测就会变得困难得多。</p><p id="7988" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，正如我们上面提到的，ARIMA 模型中的<em class="lf"> d </em> <strong class="kk iu"> </strong>参数表示使序列稳定所需的差异数。当使用 R 中的<strong class="kk iu"> auto.arima </strong>功能时，自动选择<em class="lf"> p、d、</em>和<em class="lf"> q </em>值。</p><p id="6361" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">平稳性通常可以通过对数据的目视检查直观地表示出来。</p><p id="beb0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们再来看看时间序列。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/755eaf2abb46c72ccab4d0dc91042cb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*MxrOXqNXLCNAMv9ECE5p-g.png"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">资料来源:RStudio</p></figure><p id="3f46" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以看到——总的来说——时间序列显示出一种之字形模式，在一段时间内总体趋势几乎没有变化。</p><p id="a629" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，这可以通过使用迪基-富勒测试进行正式测试。零假设是序列有一个单位根(非平稳)，另一个假设是平稳或趋势平稳。</p><p id="4342" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">单位根的测试如下:</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi np"><img src="../Images/e4aa3791425ff75a121582f6945e3bda.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*QrQfyg4n8ppC86gNP5zTOg.png"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">来源:作者图片</p></figure><p id="9b50" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对序列运行测试时，获得的 p 值为 0.01，这意味着在 5%的显著性水平上拒绝零假设，表明序列中存在平稳性。</p><pre class="lh li lj lk gt nq nr ns nt aw nu bi"><span id="5361" class="nd lt it nr b gy nv nw l nx ny">&gt; adf.test(passengernumbers)</span><span id="1e0c" class="nd lt it nr b gy nz nw l nx ny">Augmented Dickey-Fuller Test</span><span id="a307" class="nd lt it nr b gy nz nw l nx ny">data:  passengernumbers<br/>Dickey-Fuller = -8.061, Lag order = 4, p-value = 0.01<br/>alternative hypothesis: stationary</span></pre><h2 id="bee9" class="nd lt it bd lu ne nf dn ly ng nh dp mc kr ni nj me kv nk nl mg kz nm nn mi no bi translated">自相关</h2><p id="7b9d" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">ARIMA 的<strong class="kk iu"> p </strong>参数说明了模型中自回归项的数量——这使得模型能够处理自相关。自相关是时间序列中不同观测值的误差项之间存在相关性的一种情况，这也会扭曲预测。</p><p id="b03a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是时间序列的 ACF(自相关函数)图(设置了 20 的最大滞后):</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/e9bbff05463ebf57ab97454b495ce1f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*2p1foAOAYdRM0P6Z7hkkXw.png"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">资料来源:RStudio</p></figure><p id="8461" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们看到自相关在滞后 0 之后持续了两个月，在 6 个月和 12 个月期间持续了正相关和负相关。在这种情况下，滞后是按月计算的，因此 6 个月的周期表示为<strong class="kk iu"> 0.5 </strong>，而 12 个月的周期表示为<strong class="kk iu"> 1.0 </strong>。</p><p id="ca5f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">部分自相关函数试图去除由每个观测值之间存在的固有线性函数产生的间接相关性。</p><p id="a41c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是该系列的偏相关图:</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/c972a37090c8f4c3018427bc8d4834c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*bNumueNBD3v-ojx7KfII_g.png"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">资料来源:RStudio</p></figure><p id="07ac" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们看到偏自相关函数在滞后 0 两个月后仍然显示相关性(尽管是负的)。因此，ARIMA 模型将需要以这样一种方式配置，以便考虑自回归项的正确数量。</p><p id="22fe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是时间序列趋势组成部分的概述:</p><pre class="lh li lj lk gt nq nr ns nt aw nu bi"><span id="5fa1" class="nd lt it nr b gy nv nw l nx ny">&gt; components &lt;- decompose(passengernumbers)<br/>&gt; components</span></pre><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/bfbdfb704eda1c1175bc501cb23581e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*UPgU2kHmbIpkmfwGrjtjMA.png"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">资料来源:RStudio</p></figure><p id="83e7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当观察该系列时，大约每六到八个月就会观察到显著的季节性模式。考虑到这一点，ARIMA 模型将需要在其预测中考虑这种季节性。</p><h1 id="9ad2" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">使用 auto.arima 建模</h1><p id="e3f5" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">给定自相关和季节性的视觉指示，<strong class="kk iu"> auto.arima </strong>用于自动生成许多具有不同 p、d 和 q 坐标的 arima 模型，然后根据具有最低 BIC(贝叶斯信息标准)的模型选择最佳模型。</p><pre class="lh li lj lk gt nq nr ns nt aw nu bi"><span id="eb3c" class="nd lt it nr b gy nv nw l nx ny">&gt; # ARIMA<br/>&gt; fitpassengers&lt;-auto.arima(passengernumbers, trace=TRUE, test="kpss", ic="bic")</span><span id="2c10" class="nd lt it nr b gy nz nw l nx ny">ARIMA(2,0,2)(1,1,1)[12] with drift         : 1693.37<br/> ARIMA(0,0,0)(0,1,0)[12] with drift         : 1779.685<br/> ARIMA(1,0,0)(1,1,0)[12] with drift         : 1682.899<br/> ARIMA(0,0,1)(0,1,1)[12] with drift         : 1724.722<br/> ARIMA(0,0,0)(0,1,0)[12]                    : 1775.932<br/> ARIMA(1,0,0)(0,1,0)[12] with drift         : 1702.397<br/> ARIMA(1,0,0)(2,1,0)[12] with drift         : 1685.158<br/> ARIMA(1,0,0)(1,1,1)[12] with drift         : 1684.594<br/> ARIMA(1,0,0)(0,1,1)[12] with drift         : 1680.905<br/> ARIMA(1,0,0)(0,1,2)[12] with drift         : 1684.211<br/> ARIMA(1,0,0)(1,1,2)[12] with drift         : Inf<br/> ARIMA(0,0,0)(0,1,1)[12] with drift         : 1772.299<br/> ARIMA(2,0,0)(0,1,1)[12] with drift         : 1684.965<br/> ARIMA(1,0,1)(0,1,1)[12] with drift         : 1685.149<br/> ARIMA(2,0,1)(0,1,1)[12] with drift         : 1688.428<br/> ARIMA(1,0,0)(0,1,1)[12]                    : 1676.443<br/> ARIMA(1,0,0)(0,1,0)[12]                    : 1697.822<br/> ARIMA(1,0,0)(1,1,1)[12]                    : 1680.163<br/> ARIMA(1,0,0)(0,1,2)[12]                    : 1679.795<br/> ARIMA(1,0,0)(1,1,0)[12]                    : 1678.467<br/> ARIMA(1,0,0)(1,1,2)[12]                    : Inf<br/> ARIMA(0,0,0)(0,1,1)[12]                    : 1768.607<br/> ARIMA(2,0,0)(0,1,1)[12]                    : 1680.489<br/> ARIMA(1,0,1)(0,1,1)[12]                    : 1680.677<br/> ARIMA(0,0,1)(0,1,1)[12]                    : 1720.732<br/> ARIMA(2,0,1)(0,1,1)[12]                    : 1683.954</span><span id="2c7b" class="nd lt it nr b gy nz nw l nx ny">Best model: ARIMA(1,0,0)(0,1,1)[12]</span></pre><p id="0a1d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最佳模型配置表示为<strong class="kk iu"> ARIMA(1，0，0)(0，1，1)【12】</strong>。</p><p id="6e5b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该模型的系数如下:</p><pre class="lh li lj lk gt nq nr ns nt aw nu bi"><span id="9570" class="nd lt it nr b gy nv nw l nx ny">&gt; fitpassengers<br/>Series: passengernumbers <br/>ARIMA(1,0,0)(0,1,1)[12]</span><span id="37b1" class="nd lt it nr b gy nz nw l nx ny">Coefficients:<br/>         ar1     sma1<br/>      0.7794  -0.5001<br/>s.e.  0.0609   0.0840</span><span id="25a3" class="nd lt it nr b gy nz nw l nx ny">sigma^2 estimated as 585834:  log likelihood=-831.27<br/>AIC=1668.54   AICc=1668.78   BIC=1676.44</span></pre><h1 id="254d" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">准确(性)</h1><p id="52a5" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">ARIMA 模型生成以下预测:</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/e8c0d4b692ddcae66e80bbf7e8016e74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*gPPtHYSRD0hRMIz2K80FJg.png"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">资料来源:RStudio</p></figure><p id="9d69" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">RMSE(均方根误差)和 MFE(平均预测误差)如下:</p><ul class=""><li id="7e2e" class="mp mq it kk b kl km ko kp kr mr kv ms kz mt ld mu mv mw mx bi translated">RMSE:  698</li><li id="da5d" class="mp mq it kk b kl my ko mz kr na kv nb kz nc ld mu mv mw mx bi translated"><strong class="kk iu"> MFE: </strong> -115</li></ul><pre class="lh li lj lk gt nq nr ns nt aw nu bi"><span id="8f30" class="nd lt it nr b gy nv nw l nx ny">&gt; # Errors<br/>&gt; library(Metrics)<br/>&gt; rmse(df$`Actual Passenger Numbers`, df$`Forecasted Passenger Numbers`)</span><span id="aab3" class="nd lt it nr b gy nz nw l nx ny">[1] 698.6527<br/><br/>&gt; ## Forecast Error<br/>&gt; forecast_error=(df$`Actual Passenger Numbers`-df$`Forecasted Passenger Numbers`)<br/>&gt; forecast_error<br/> [1] -415.8149 -982.0972 -273.1147 -539.5008 -520.7138 -845.2062 -824.7485<br/> [8] -212.4401 -454.4602 1387.1299  962.7507  153.2876  257.2238  687.3703<br/>&gt; mean(forecast_error)</span><span id="f4ec" class="nd lt it nr b gy nz nw l nx ny">[1] -115.7381</span></pre><h1 id="c0a1" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">与先知的比较</h1><p id="499e" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">ARIMA 和预言家之间的一个关键区别是，预言家模型解释了“变化点”，或时间序列中趋势的特定变化。虽然在 R 中用 ARIMA 实现这一点在技术上是可行的——但它需要使用一个名为<strong class="kk iu"> AEDForecasting </strong>的独立包。</p><p id="9d10" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Prophet 通过使用一个加法模型来工作，从而使序列中的非线性趋势与适当的季节性(无论是每天、每周还是每年)相适应。</p><p id="d5f3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这个特定的数据集中，趋势的转变发生在 2009 年之后，当时我们看到乘客需求的总体趋势出现了逆转:</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/f06c68ae09b19ed6ed475d312eb2dbdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*dfDGtxt2aoPnnl5Z0kZwwA.png"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">来源:Jupyter 笔记本输出</p></figure><p id="72b7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">标准 Prophet 模型适用于数据集，没有任何季节性的手动说明:</p><pre class="lh li lj lk gt nq nr ns nt aw nu bi"><span id="1a99" class="nd lt it nr b gy nv nw l nx ny">prophet_basic = Prophet()<br/>prophet_basic.fit(train_dataset)</span></pre><p id="d175" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过反复试验，<strong class="kk iu"> 4 </strong>个变化点被证明可以最小化 RMSE 和 MFE，因此被定义为模型中适当数量的变化点:</p><pre class="lh li lj lk gt nq nr ns nt aw nu bi"><span id="0136" class="nd lt it nr b gy nv nw l nx ny">pro_change= Prophet(n_changepoints=4)<br/>forecast = pro_change.fit(train_dataset).predict(future)<br/>fig= pro_change.plot(forecast);<br/>a = add_changepoints_to_plot(fig.gca(), pro_change, forecast)</span></pre><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi ob"><img src="../Images/33317a2b3f8682104fa593ce2aa91653.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a-FTNQQVC9POTkoLXc8IEA.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">来源:Jupyter 笔记本输出</p></figure><p id="1a35" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">RMSE 和平均相对误差的计算如下:</p><pre class="lh li lj lk gt nq nr ns nt aw nu bi"><span id="cf53" class="nd lt it nr b gy nv nw l nx ny">&gt;&gt;&gt; from sklearn.metrics import mean_squared_error<br/>&gt;&gt;&gt; from math import sqrt<br/>&gt;&gt;&gt; mse = mean_squared_error(passenger_test, yhat14)<br/>&gt;&gt;&gt; rmse = sqrt(mse)<br/>&gt;&gt;&gt; print('RMSE: %f' % rmse)</span><span id="5bb4" class="nd lt it nr b gy nz nw l nx ny">RMSE: 524.263928</span><span id="b2ad" class="nd lt it nr b gy nz nw l nx ny">&gt;&gt;&gt; forecast_error = (passenger_test-yhat14)<br/>&gt;&gt;&gt; forecast_error<br/>&gt;&gt;&gt; mean_forecast_error = np.mean(forecast_error)<br/>&gt;&gt;&gt; mean_forecast_error</span><span id="b1ff" class="nd lt it nr b gy nz nw l nx ny">71.58326743881493</span></pre><p id="7bad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">用 Prophet 分别得到<strong class="kk iu"> 524 </strong>和<strong class="kk iu"> 71 </strong>的 RMSE 和 MFE，误差明显低于用 ARIMA 得到的<strong class="kk iu"> 698 </strong>和<strong class="kk iu"> -115 </strong>的误差。</p><p id="5107" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从这个角度来看，虽然 ARIMA 解释了时间序列中的季节性和自相关性等模式——Prophet 在正确识别序列中的相关变化点方面表现出色——但这似乎提高了模型的预测准确性。</p><p id="5bad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当预测具有更明确定义的趋势或不特别表现出季节性的数据时，ARIMA 可能会表现出色-我们在所讨论的数据集中看到了非常明显的迹象。但是，不存在季节性的其他情况可能不适合使用 Prophet。</p><h1 id="81f6" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">结论</h1><p id="5ad5" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">在本例中，我们看到:</p><ul class=""><li id="837e" class="mp mq it kk b kl km ko kp kr mr kv ms kz mt ld mu mv mw mx bi translated">如何配置 ARIMA 模型</li><li id="f5ad" class="mp mq it kk b kl my ko mz kr na kv nb kz nc ld mu mv mw mx bi translated">时间序列中变化点的相关性</li><li id="cdb4" class="mp mq it kk b kl my ko mz kr na kv nb kz nc ld mu mv mw mx bi translated">ARIMA 和 Prophet 在计算预报精度方面的比较</li></ul><p id="1aca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">非常感谢您的阅读，欢迎提问或反馈。</p><p id="81ab" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="lf">免责声明:本文是在“原样”的基础上编写的，没有任何担保。本文旨在提供数据科学概念的概述，不应以任何方式解释为专业建议。</em></p><h1 id="3d65" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">参考</h1><ul class=""><li id="ffda" class="mp mq it kk b kl mk ko ml kr og kv oh kz oi ld mu mv mw mx bi translated"><a class="ae le" href="https://medium.com/analytics-vidhya/sarima-forecasting-seasonal-data-with-python-and-r-2e7472dfad83" rel="noopener">分析 Vidhya: SARIMA —使用 Python 和 R 预测季节性数据</a></li><li id="2f2b" class="mp mq it kk b kl my ko mz kr na kv nb kz nc ld mu mv mw mx bi translated"><a class="ae le" href="https://cran.r-project.org/web/packages/AEDForecasting/AEDForecasting.pdf" rel="noopener ugc nofollow" target="_blank">起重机—包装预测</a></li><li id="d9c6" class="mp mq it kk b kl my ko mz kr na kv nb kz nc ld mu mv mw mx bi translated"><a class="ae le" href="https://data.world/data-society/air-traffic-passenger-data" rel="noopener ugc nofollow" target="_blank"> data.world:空中交通乘客数据</a>(原始来源:<a class="ae le" href="https://data.sfgov.org/Transportation/Air-Traffic-Passenger-Statistics/rkru-6vcg" rel="noopener ugc nofollow" target="_blank">三藩市公开数据</a>)</li><li id="2b75" class="mp mq it kk b kl my ko mz kr na kv nb kz nc ld mu mv mw mx bi translated"><a class="ae le" href="https://github.com/facebook/prophet" rel="noopener ugc nofollow" target="_blank"> GitHub: facebook/prophet </a></li><li id="1819" class="mp mq it kk b kl my ko mz kr na kv nb kz nc ld mu mv mw mx bi translated"><a class="ae le" href="https://machinelearningmastery.com/gentle-introduction-autocorrelation-partial-autocorrelation/" rel="noopener ugc nofollow" target="_blank">机器学习掌握:自相关和偏自相关的温和介绍</a></li></ul></div></div>    
</body>
</html>