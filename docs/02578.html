<html>
<head>
<title>Creating Synthwave with Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Matplotlib创建Synthwave</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-synthwave-with-matplotlib-ea7c9be59760?source=collection_archive---------14-----------------------#2020-03-12">https://towardsdatascience.com/creating-synthwave-with-matplotlib-ea7c9be59760?source=collection_archive---------14-----------------------#2020-03-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9acd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">正确使用Matplotlib创建动画复古Synthwave视觉效果</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d1b9ea16b01402421ece27abff08d964.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SNLpU-ubk72rRmO9WBOmNg.png"/></div></div></figure><p id="de19" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">synthwave是一种非常独特的音乐类型，灵感来自20世纪80年代的怀旧，是技术人员的共同最爱。我喜欢它，我发现它的艺术风格非常迷人。</p><p id="a62c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在YouTube<a class="ae lq" href="https://www.youtube.com/watch?v=wOMwO5T3yT4" rel="noopener ugc nofollow" target="_blank">上快速搜索该类型可以让任何人欣赏该类型带来的复古科幻美学。</a></p><p id="c19a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，我想创造这样的视觉效果。然而，我日复一日地与数据打交道，我不是动画师、平面设计师或艺术家。</p><p id="68ae" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后我想，<em class="lr">“我确实创造了视觉效果，我在Matplotlib中可视化数据。在Matplotlib中创建Synthwave视觉效果不是很有趣吗？”</em>。</p><p id="864f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">所以我们在这里。</p><h1 id="9db6" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">远景</h1><p id="5ac9" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">首先要创建的是透视样式的垂直网格线。为此，我们设置一个原点<code class="fe mp mq mr ms b">(0, 5)</code>。这些线必须从这里延伸到框架底部的<code class="fe mp mq mr ms b">y = -50</code>处。每一行唯一要更改的值是Numpy linspace函数中的最终x值。我们用一个从<code class="fe mp mq mr ms b">x = -500</code>到<code class="fe mp mq mr ms b">x = 500</code>的for循环来实现，步长为<code class="fe mp mq mr ms b">50</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/c3c237689657e320f39cf1cc36e759e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y-BtDLsnD2QIIfZS6OvSsg.png"/></div></div></figure><p id="58c0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，没有地平线，没有地平线你不可能有一条无尽的synthwave路。所以我们简单地用<code class="fe mp mq mr ms b">np.ma.masked_where(y &gt; 0, y)</code>屏蔽掉<code class="fe mp mq mr ms b">0</code>以上的所有y值。</p><p id="6080" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，让我们来确定配色方案。我们将使用黑色背景，并使用多条半透明线来创建发光效果[1]。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/f398a7f82417bd6e2556dd85e0c11d01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kO4Ow1rX-SPmRbglw0mkLA.png"/></div></div></figure><h1 id="30e6" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">移动</h1><p id="b3b4" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">这个有点棘手。为了创建看起来向我们走来的水平线，我们使用Matplotlib动画来不断更新水平线的y位置。我们创建了这些运动线的十个实例，每个实例都分配了一个修改后的指数函数，如下所示:</p><div class="kj kk kl km gt ab cb"><figure class="mu kn mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/8986e6eb2428c589d98cd18298ddc577.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*vvVUdZfbA78Ripcz5lnXPA.png"/></div></figure><figure class="mu kn mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/35b26250cf05d5a78aa672f9b8e978b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*ZfVqsZOF2N51ch_ziT5EMQ.png"/></div></figure><figure class="mu kn mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/0d23622109d1bf67b5155e3059051ac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*eCSUqX0FoRm7YH679lhpVw.png"/></div><p class="na nb gj gh gi nc nd bd b be z dk ne di nf ng translated">分别用于第0、4和8行的y位置函数。</p></figure></div><p id="215f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于每一帧，每条运动线被分配相同的x值。但是，当我们沿着x轴移动每个函数时，我们返回一个不同的y值。如果我们画出所有十条运动线，记住这个逻辑，我们可以通过时间(x轴)可视化线的y位置(y轴):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/bb4818d5741cf1e855351c0cc11251c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SWuueTayVj6ctSLanuJJYg.png"/></div></div></figure><p id="c7a5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通过使用指数函数，我们将运动线和透视线合二为一。当运动线离我们越来越近时，通过增加向下的速度来创造三维运动的幻觉。这类似于动画中的缓和[2]。</p><p id="3754" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">将此应用于水平网格线的y位置，会给我们一种在霓虹紫色tron般的世界中不断前进的错觉。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/5627c0a32dc089b6d81e8919b0d37818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*pa0Fd21qxlyrLJkfW1MlpA.gif"/></div></div></figure><p id="ae8c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">幸运的是，对于我们的输出文件的大小，我们的运动线运动每十分之一的总时间重复一次。这意味着我们可以在动画函数<code class="fe mp mq mr ms b">animation.FuncAnimation(fig, animate, frames=int(frames/10))</code>中将动画帧减少10帧。</p><h1 id="34a2" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">迈阿密太阳报</h1><p id="0c88" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">如果在我们无尽的霓虹紫色之路的尽头没有超大的复古日落，这就不是Synthwave了。</p><p id="e8a5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当涉及到渐变时，Matplotlib可能有点困难。我们使用<code class="fe mp mq mr ms b">imshow()</code>来创建一个图像，在我们的例子中是<code class="fe mp mq mr ms b">plasma</code>渐变。然后，我们遮蔽该图像，使其超出中心点的指定半径，得到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/7bf049e53052c72e11ea7be5cefa7eeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0-8VmH91UhJVVXlF2H2Z2A.png"/></div></div></figure><p id="e25c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">很好，但还没到那一步。迈阿密的太阳需要辉光和几条水平线。对于光晕，我们放置了几个半径稍大、alpha值较低的圆。线条是在使用简单的黑线图后添加的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/30700523ff4ce9ca0a517d6877ca60ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BF5tM-HWIGo3gkqP4rj-xg.png"/></div></div></figure><p id="9baa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">将迈阿密的太阳和霓虹网格放在一起，我们得到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/a8c06e3063aaa0c795aafd928c4f6063.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ZVjXDUxm7ekt8NsTeKN2uQ.gif"/></div></div></figure><h1 id="a950" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">目的地</h1><p id="9aeb" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">无尽霓虹紫路需要目的。一个遥远但不太遥远的目的地。想想——一个神秘的都市天堂。</p><p id="b9c1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">幸运的是，Matplotlib附带了一个专门构建的复古skyline生成器，名为<code class="fe mp mq mr ms b">plt.bar()</code>！我们简单地使用<code class="fe mp mq mr ms b">np.random.uniform(0, 10)</code>，通过一些计算来定义酒吧宽度，我们有自己美丽的，随机生成的天际线。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/ed16f030c489acb503ee2288c48ae825.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*40SpiLP3uTjN7C-6fr8_Sg.png"/></div></div></figure><p id="9859" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">由于我们无法在无云的迈阿密夜空下看到我们的地平线轮廓，我们添加了一个从我们无尽的地平线发出的深紫色光芒。我们将再次使用<code class="fe mp mq mr ms b">plt.imshow()</code>。我们需要的是初始的<code class="fe mp mq mr ms b">gnuplot</code>渐变，所以让我们使用前28个颜色映射并用<code class="fe mp mq mr ms b"><a class="ae lq" href="https://matplotlib.org/3.1.0/tutorials/colors/colormap-manipulation.html" rel="noopener ugc nofollow" target="_blank">ListedColormap</a></code>创建一个新的渐变。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/9ce5464a86e1a0b3cb76033cc5424283.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4JY96DH2N6a2vWHn5y78YA.png"/></div></div><p class="na nb gj gh gi nc nd bd b be z dk translated">来自Matplotlib的<a class="ae lq" href="https://matplotlib.org/3.1.0/gallery/color/colormap_reference.html" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nm"> gnuplot </strong>颜色图参考</a></p></figure><p id="ad62" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我还擅自减少了我们的霓虹网格线宽，我认为现在看起来好多了。让我们看看我们的无尽之路是什么样子的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/4791461b2798019a5603f1a72b09df92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AGct0ZJuD8ZHV1jMnvJlIw.gif"/></div></div></figure><p id="33be" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">看起来不错，但现在我们过大的迈阿密日落可能太大了，挤压了我们对远处地平线的完美看法。另外，80年代迈阿密的天空总是布满星星，而我一颗也没看到。</p><p id="6324" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因此，让我们调整太阳的大小，用<code class="fe mp mq mr ms b">plt.scatter()</code>和<code class="fe mp mq mr ms b">np.random.uniform()</code>分别代表<code class="fe mp mq mr ms b">x</code>和<code class="fe mp mq mr ms b">y</code>来添加星星。我们还根据y位置(越靠近地平线越暗)和一点随机性来改变每颗星星的<code class="fe mp mq mr ms b">alpha</code>参数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/2af243375c6758f2cd0861c71c331504.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nzPQ41QPX1jeO4GdilqM4Q.gif"/></div></div></figure><h1 id="fadc" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">收尾</h1><p id="dca2" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">现在有一些小的调整，我认为将完成可视化。</p><p id="cb7d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，恒星出现在太阳前面。我们简单地调整恒星的<code class="fe mp mq mr ms b">ax.scatter()</code>函数中的<code class="fe mp mq mr ms b">zorder</code>参数。将它们移动到太阳下面——默认为<code class="fe mp mq mr ms b">zorder = 1</code>【3】。</p><p id="da67" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这一点上，它看起来很好，但星星只是普通的白点，不是很有说服力。所以我们添加了一些随机生成的闪烁。</p><p id="9f26" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，就像地平线后面放射出的光芒一样。我们添加另一个紫黑色渐变。这一次沿着我们无尽的路。</p><p id="0dd7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就是它，Matplotlib中的Synthwave！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/bb64f27ce431317bdabc87d79b1662d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*mWWz_fABgRc-W2s4VHF6PQ.gif"/></div></div></figure><p id="69fa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">虽然这没有明显的用例，但我强烈推荐尝试创建类似的东西，因为在这个过程中你会学到很多东西。而且，说实话，很好玩！</p><p id="697e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我希望你和我一样喜欢阅读这篇文章。</p><p id="f31d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您有任何问题或建议，请随时通过<a class="ae lq" href="https://twitter.com/jamescalam" rel="noopener ugc nofollow" target="_blank"> Twitter </a>或在下面的评论中联系我们。</p><p id="ad13" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">谢谢，</p></div><div class="ab cl nn no hx np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="im in io ip iq"><h1 id="4d4d" class="ls lt it bd lu lv nu lx ly lz nv mb mc jz nw ka me kc nx kd mg kf ny kg mi mj bi translated">参考</h1><p id="0478" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">[1]: <strong class="kw iu">创建照明线</strong>—<a class="ae lq" href="https://publicwiki.deltares.nl/display/~baart_f/2012/01/03/Creating+illuminated+lines" rel="noopener ugc nofollow" target="_blank">https://public wiki . delta RES . nl/display/~ baart _ f/2012/01/03/创建+照明+线</a></p><p id="03a8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">[2]: <strong class="kw iu">放松的基础</strong>—<a class="ae lq" href="https://developers.google.com/web/fundamentals/design-and-ux/animations/the-basics-of-easing" rel="noopener ugc nofollow" target="_blank">https://developers . Google . com/web/fundamentals/design-and-UX/animations/The-basics-of-easing</a></p><p id="3c11" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">【3】:<strong class="kw iu">佐德演示</strong>——<a class="ae lq" href="https://matplotlib.org/3.1.1/gallery/misc/zorder_demo.html" rel="noopener ugc nofollow" target="_blank">https://matplotlib.org/3.1.1/gallery/misc/zorder_demo.html</a></p><p id="dc09" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">项目回购</strong>—<a class="ae lq" href="https://github.com/jamescalam/python_synthwave" rel="noopener ugc nofollow" target="_blank">https://github.com/jamescalam/python_synthwave</a></p><p id="1037" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">合成波</strong>——<a class="ae lq" href="https://www.youtube.com/watch?v=wOMwO5T3yT4" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=wOMwO5T3yT4</a></p></div></div>    
</body>
</html>