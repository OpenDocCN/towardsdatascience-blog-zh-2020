<html>
<head>
<title>Make your Machine Learning Models Come Alive with Streamlit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Streamlit让您的机器学习模型活起来</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/make-your-machine-learning-models-come-alive-with-streamlit-48e6eb8e3004?source=collection_archive---------34-----------------------#2020-06-15">https://towardsdatascience.com/make-your-machine-learning-models-come-alive-with-streamlit-48e6eb8e3004?source=collection_archive---------34-----------------------#2020-06-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="24cc" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用这个免费的Python库来快速提供模型和显示数据</h2></div><p id="2b70" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你做了一个机器学习模型。耶！😀你希望人们不用启动Jupyter笔记本就能使用它。嗯。🤔你该怎么办？</p><p id="6f92" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以用<a class="ae le" href="https://flask.palletsprojects.com/" rel="noopener ugc nofollow" target="_blank">烧瓶</a>来伺候你的模特。Flask是一个很好的轻量级网络框架，但是它需要了解路线和其他网络事物。😕<a class="ae le" href="https://www.djangoproject.com/" rel="noopener ugc nofollow" target="_blank"> Django </a>是一个全服务框架，但是比Flask有更陡峭的学习曲线。如果只是想最快的服务一个模型，应该用什么？</p><p id="47f3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">快去救援！有了<a class="ae le" href="https://www.streamlit.io/" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>你可以在几分钟内提供一个机器学习模型，而无需学习Javascript框架。🚀</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/d80686e543c9f27723aed7afed35cd33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WwWK7_33I0jpaVpOnHhfIg.jpeg"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">资料来源:Pixabay.com</p></figure><p id="60eb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Streamlit是一个新的开源库，它使用Python并与常见的数据科学库很好地集成。它很好地处理了交互性和可视化。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/6d6471f54e4ad0ca6211a9a0cdd1c812.png" data-original-src="https://miro.medium.com/v2/resize:fit:460/format:webp/1*vBtmVNBwAulG-bAgDZ_ojw.png"/></div></figure><p id="4930" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">套用<a class="ae le" rel="noopener" target="_blank" href="/coding-ml-tools-like-you-code-ml-models-ddba3357eace">联合创始人</a><a class="lw lx ep" href="https://medium.com/u/39dfc90d7a34?source=post_page-----48e6eb8e3004--------------------------------" rel="noopener" target="_blank"> Adrien Treuille </a>的话，Streamlit应用是将小部件视为变量的Python脚本，可以重用数据和计算，并且可以在实时编码环境中开发。Streamlit非常适合快速开发！</p><h2 id="cabd" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">快速入门:</h2><p id="2f14" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">开始使用Streamlit非常简单:</p><ol class=""><li id="40e7" class="mw mx it kk b kl km ko kp kr my kv mz kz na ld nb nc nd ne bi translated">在你的Python虚拟环境中<code class="fe nf ng nh ni b">pip install -U streamlit pandas</code>。</li><li id="37e2" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld nb nc nd ne bi translated">在文本编辑器中键入以下内容，并将文件另存为<em class="no"> my_app.py </em>:</li></ol><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="15a4" class="ly lz it ni b gy nt nu l nv nw">import streamlit as st<br/>import pandas as pd</span><span id="9cad" class="ly lz it ni b gy nx nu l nv nw">df = pd.DataFrame(dict(a=[1, 2, 4], b=[3, 1, 7]))<br/>st.line_chart(df)</span></pre><p id="bf39" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.在您的终端中执行<code class="fe nf ng nh ni b">streamlit run my_app.py</code>。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ny"><img src="../Images/310ae55d7edf2446bcd91445ef3d55cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*6GG7uRmUw74CRKCXD-lr1w.gif"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">编码并实时查看输出</p></figure><p id="3247" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">嘣！🧨:你已经创建了一个图表，你的用户可以与之互动并下载！</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nz"><img src="../Images/3483e5165e3558d27df418a523d4edeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vK8Vbyv8xiWsCVJcZqYXzw.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">折线图</p></figure><p id="a8f5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们深入了解什么是Streamlit，什么不是。</p><h1 id="3bf0" class="oa lz it bd ma ob oc od md oe of og mg jz oh ka mj kc oi kd mm kf oj kg mp ok bi translated">什么是细流</h1><ul class=""><li id="90fd" class="mw mx it kk b kl mr ko ms kr ol kv om kz on ld oo nc nd ne bi translated">深受用户喜爱</li><li id="7dc2" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated">年纪轻的</li><li id="b9e3" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated">固执己见的</li><li id="44f5" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated">快速开始使用</li><li id="470b" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated">纯Python</li><li id="0707" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated">可视化的理想选择</li><li id="46e6" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated">有利于互动</li></ul><h2 id="d313" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">深受用户❤️的喜爱</h2><p id="c032" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">我这里只是有一些轶事，但是通读一下<a class="ae le" href="https://discuss.streamlit.io/" rel="noopener ugc nofollow" target="_blank"> Streamlit社区论坛</a>上的评论和<a class="ae le" href="https://github.com/streamlit" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上的问题，你会看到用户真的对Streamlit感到兴奋。它解决了数据科学家的一个痛点。🎉</p><h2 id="6a87" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">年纪轻的🐣</h2><p id="b01c" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">Streamlit于2019年秋季正式上线，并已快速迭代。该图书馆得到了硅谷风险投资公司的支持，该公司在启动时筹集了600万美元的种子资金。</p><h2 id="de86" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">固执己见的☝️</h2><p id="84c7" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">Streamlit将为您提供一个带有可选边栏的单页应用程序。您可以垂直添加一个又一个元素。</p><p id="c6d8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Streamlit服务器每次都会从头到尾重新运行您的脚本。没有回调。Streamlit允许您缓存函数，以便您只在必要时重新运行代码和重新加载数据。</p><h2 id="ab5f" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">快速开始使用🏃🏾‍♀️</h2><p id="81c9" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">正如你在上面看到的，Streamlit附带电池。它与Python数据科学堆栈配合得很好:pandas、NumPy、scikit-learn、TensorFlow和PyTorch。</p><h2 id="836b" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">纯Python🐍</h2><p id="499d" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">如果Javascript框架和模型-视图-控制器范式(<a class="ae le" href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" rel="noopener ugc nofollow" target="_blank"> MVC </a>)不是你的东西，Streamlit已经帮你搞定了。你只需要Python函数、控制流和装饰器。如果你想调整格式，可以加入一些Markdown和HTML/CSS。</p><h2 id="b2c7" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">可视化的理想选择📊</h2><p id="c076" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">细流已经通过绘图默认使用<a class="ae le" href="https://altair-viz.github.io/" rel="noopener ugc nofollow" target="_blank">牛郎星</a>。它可以很容易地改变到其他可视化选项，如<a class="ae le" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> Matplotlib </a>、<a class="ae le" href="https://plotly.com/" rel="noopener ugc nofollow" target="_blank"> Plotly </a>、<a class="ae le" href="https://docs.bokeh.org/en/latest/index.html" rel="noopener ugc nofollow" target="_blank"> Bokeh </a>、<a class="ae le" href="https://discuss.streamlit.io/t/plotting-holoviews-plot/215/2?u=discdiver" rel="noopener ugc nofollow" target="_blank"> Holoviews </a>、<a class="ae le" href="https://www.graphviz.org/" rel="noopener ugc nofollow" target="_blank"> Graphviz </a>和<a class="ae le" href="https://deck.gl" rel="noopener ugc nofollow" target="_blank"> deck.gl </a>。</p><h2 id="edb1" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">有利于互动⏯</h2><p id="5964" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">内置的Streamlit函数使添加复选框、下拉菜单、文本框和其他交互式功能变得容易。Streamlit将这些小部件视为变量，稍后您将会看到。</p><h2 id="d212" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">快速部署</h2><p id="4f6a" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">更新于2021年7月28日:Streamlit将托管您的应用程序，只需点击几下鼠标即可从GitHub部署。这是最简单的部署系统。当你推送到指定的GitHub分支时，Streamlit会自动部署新版本。😎</p><h2 id="a3c6" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">得体的造型控制🎨</h2><p id="c2f6" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">更新于2021年7月28日:自撰写本文以来，格式选项已经有了显著的改进。现在，您可以创建多个列，并更轻松地控制应用程序的外观。不管是好是坏，它仍然不是一张白纸。</p><h2 id="ead3" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">管理会话状态🎮</h2><p id="ff04" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">更新于2021年7月28日:最新的Streamlit版本使保存会话状态变得更加容易。您仍然没有cookie功能。</p><p id="e2ec" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在您已经看到了什么是Streamlit，让我们看看它不是什么。</p><h1 id="4369" class="oa lz it bd ma ob oc od md oe of og mg jz oh ka mj kc oi kd mm kf oj kg mp ok bi translated">什么不是细流🚫(从版本0.80.0开始)</h1><p id="f651" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">Streamlit不是一个全功能的web框架。🕸:没有路由器，所以你不能有多个页面。没有认证。你不能添加javascript，所以不会出现弹出窗口。</p><h1 id="a698" class="oa lz it bd ma ob oc od md oe of og mg jz oh ka mj kc oi kd mm kf oj kg mp ok bi translated">未来🎁</h1><p id="3657" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">Streamlit有一个快速一致的发布周期，并且有添加社区所要求的特性的历史。🎉</p><p id="ed6b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好了，现在你有了地形，让我们看看如何使用Streamlit！⚡️</p><h1 id="e437" class="oa lz it bd ma ob oc od md oe of og mg jz oh ka mj kc oi kd mm kf oj kg mp ok bi translated">使用细流</h1><p id="bd17" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">要运行下面的代码，请将Streamlit安装到一个包含Python、pandas、NumPy和Plotly的虚拟环境中。在撰写本文时，Streamlit只在PyPI上，所以您需要<code class="fe nf ng nh ni b">pip install</code>它。</p><p id="c99f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我建议您并排设置web浏览器和代码编辑器，以获得最佳开发体验。😀</p><p id="d13c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以在每次更新时手动重新运行您的代码，在您更改代码后，单击web应用程序中的<em class="no">重新运行</em>。我建议你通过点击<em class="no">总是重新运行来设置你的应用程序自动重新运行。</em></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi op"><img src="../Images/8958e9e509a01061e63561363de2f733.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*khx2cEod5ybTPhmGMohs5Q.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">更改后的标题按钮</p></figure><p id="ead2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果电线真的缠绕在一起，你可能需要偶尔刷新你的网页或重启你的Streamlit服务器，但一般来说，事情应该只是工作。👍</p><p id="501c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你卡住了，<a class="ae le" href="https://docs.streamlit.io/" rel="noopener ugc nofollow" target="_blank"> Streamlit文档</a>异常清晰。这里是社区论坛。</p><p id="3496" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来看看这10个关键的Streamlit函数。</p><h1 id="6224" class="oa lz it bd ma ob oc od md oe of og mg jz oh ka mj kc oi kd mm kf oj kg mp ok bi translated">10个关键功能</h1><ol class=""><li id="cb4f" class="mw mx it kk b kl mr ko ms kr ol kv om kz on ld nb nc nd ne bi translated">标题</li><li id="7876" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld nb nc nd ne bi translated">文本</li><li id="c12f" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld nb nc nd ne bi translated">降价</li><li id="839d" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld nb nc nd ne bi translated">数据帧</li><li id="1939" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld nb nc nd ne bi translated">形象化</li><li id="ae21" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld nb nc nd ne bi translated">交互式小工具</li><li id="40b5" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld nb nc nd ne bi translated">CSS修改</li><li id="cffc" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld nb nc nd ne bi translated">媒体</li><li id="0212" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld nb nc nd ne bi translated">贮藏</li><li id="838b" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld nb nc nd ne bi translated">杂项功能</li></ol><p id="fcfe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们先来看标题。</p><h2 id="45aa" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">标题</h2><p id="abca" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">安装了Streamilt和一个为您的文件提供服务的Streamlit服务器(<code class="fe nf ng nh ni b">streamlit run my_app.py</code>)，在您的文本编辑器中输入以下代码，并在您的web浏览器中观察神奇的事情发生。🐇</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="780d" class="ly lz it ni b gy nt nu l nv nw">import streamlit as st</span><span id="9ad4" class="ly lz it ni b gy nx nu l nv nw">st.title("The Title for my App")<br/>st.header("A Header")<br/>st.subheader("A Subheader")</span></pre><p id="3f87" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您没有看到任何内容，请将<em class="no">网络URL </em>从终端复制到网络浏览器窗口。或者，如果您的Streamlit服务器已经在运行，请单击浏览器窗口顶部的<em class="no">重新运行</em>按钮。😉</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oq"><img src="../Images/577bcdee88f17c446f33be8a19bc8203.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-XM8exb7UcFY0IvW6MPYQw.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">标题，页眉，副标题= h1，h2，h3</p></figure><p id="1967" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用您的浏览器检查工具，您可以验证这些函数分别创建了<em class="no"> h1 </em>、<em class="no"> h2 </em>和<em class="no"> h3 </em> HTML标签。如果你需要HTML入门，我建议你去W3学校。👍</p><h2 id="ac85" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">文本</h2><p id="4555" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">用<code class="fe nf ng nh ni b">st.write()</code>输出文本。</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="022d" class="ly lz it ni b gy nt nu l nv nw">st.write("Some text to output") </span></pre><p id="c299" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者，如果不需要特殊功能，只需键入字符串，就可以跳过<code class="fe nf ng nh ni b">st.write()</code>。</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="bf50" class="ly lz it ni b gy nt nu l nv nw">"Some text to output"</span></pre><p id="b97e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">像Jupyter笔记本一样，一个值或变量名本身会输出到屏幕上。与Jupyter笔记本不同，方法调用的结果不会输出任何东西。您必须将返回值保存为变量才能显示它。☝️</p><p id="03ca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，以下内容不会显示任何内容:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="431f" class="ly lz it ni b gy nt nu l nv nw">("Some text to output").upper()</span></pre><p id="ca01" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是这将:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="60ba" class="ly lz it ni b gy nt nu l nv nw">my_uppercased_string = ("Some text to output").upper()<br/>my_uppercased_string</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/65dd283793a98a389b66347d44ed5a36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*aP5D0wdduI64AsdYGZ0lqA.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">输出文本</p></figure><p id="bfeb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">值得重复的是，Streamlit会在您每次进行更改时从头到尾重新运行您的代码。当你探索Streamlit时，你会发现你不想一直显示所有的东西。注释掉代码块以节省时间和屏幕空间。👍</p><h2 id="6a86" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">降价</h2><p id="7f1a" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">你可以使用markdown来格式化你的文本并添加表情符号，如下所示:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="1e5e" class="ly lz it ni b gy nt nu l nv nw">st.markdown("_This_ __is__ *__markdown__*. 😀")</span></pre><p id="e041" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其中显示了以下内容:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/aa66dc9c2c7a3cc23d82a89b7a8d2c66.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*7ObmN8fK2wKjyxPk_9JG5Q.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">降价促销</p></figure><p id="c141" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您也可以使用Markdown添加链接，如下所示:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="4ad4" class="ly lz it ni b gy nt nu l nv nw">st.markdown('Learn Python [here](https://memorablepython.com)')</span></pre><p id="a88f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">维奥拉。出现一个链接。</p><p id="87bb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们稍后将探索其他降价用例。</p><h2 id="fa06" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">数据帧</h2><p id="b7de" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">Streamlit是以数据科学家为理念构建的。您可以像这样直接输出熊猫数据帧的内容:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="d8db" class="ly lz it ni b gy nt nu l nv nw">df = pd.DataFrame(dict(a=[1, 2, 4], b=[3, 1, 7]))<br/>df</span></pre><p id="fbef" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">用户可以自动对这些列进行排序。🎉</p><p id="e096" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您想要样式增强，请显式使用<code class="fe nf ng nh ni b">st.dataframe()</code>。例如，您可以突出显示每列中的最小值，如下所示:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="968b" class="ly lz it ni b gy nt nu l nv nw">st.dataframe(df.style.highlight_min(axis=0))</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ot"><img src="../Images/cd4aceac28fedc76c20ca95bdb5589af.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*R38V-RJTZYj4sfe0X0-SxA.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">突出显示的数据框架</p></figure><p id="9d79" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者，您可以使用<code class="fe nf ng nh ni b">st.write()</code>来实现相同的结果，如下所示:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="a4b4" class="ly lz it ni b gy nt nu l nv nw">st.write(df.style.highlight_min(axis=0))</span></pre><p id="821b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe nf ng nh ni b">st.write()</code>检测传递给它的对象的类型并相应地调整。</p><p id="d56f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们看看Streamlit可以对绘图做些什么。</p><h2 id="dc15" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">形象化</h2><p id="c365" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">Streamlit使可视化变得轻而易举。💨</p><p id="841b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它为交互式折线图、面积图和条形图提供了默认功能。你看了上面的<code class="fe nf ng nh ni b">st.line_chart()</code>。<code class="fe nf ng nh ni b">st.bar_chart()</code>和<code class="fe nf ng nh ni b">st.area_chart()</code>类似。他们都使用引擎盖下的<a class="ae le" href="https://altair-viz.github.io/" rel="noopener ugc nofollow" target="_blank">牛郎星</a>绘图库。</p><p id="cbfc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有许多其他的顶级函数包装绘图库，例如Matplotlib的<code class="fe nf ng nh ni b">st.pyplot()</code>和Mapbox GL 的<code class="fe nf ng nh ni b">st.map()</code>。下面是从文档中获取的创建地图的代码:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="1d14" class="ly lz it ni b gy nt nu l nv nw">map_data = pd.DataFrame(<br/>    np.random.randn(1000, 2) / [50, 50] + [38.9, -77],<br/>    columns=['lat', 'lon']<br/>)</span><span id="1732" class="ly lz it ni b gy nx nu l nv nw">st.map(map_data)</span></pre><p id="e943" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是输出结果:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ou"><img src="../Images/55668b9902cf917b809362733d263c12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qlFgqbsSwF858Kp9hFow6Q.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">st.map()的输出</p></figure><p id="a02f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者，您可以使用您最喜欢的Python绘图库。例如，这里有一个来自Plotly文档的地理可视化。</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="6112" class="ly lz it ni b gy nt nu l nv nw">with st.spinner("Component is loading"):<br/>    fig = px.scatter_geo(<br/>        df_geo,  # just making it take some time load<br/>        title='Gapminder Data',<br/>        locations="iso_alpha",<br/>        color="continent",<br/>        hover_name="country",<br/>        size="pop",<br/>        animation_frame="year",<br/>        projection="robinson",<br/>    )</span><span id="2cd7" class="ly lz it ni b gy nx nu l nv nw">fig</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/5466ea31511904509e1cf393a6de4f11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/1*Pte06dlB7XJlM-KJXnvBnw.gif"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">用Streamlit</p></figure><p id="a311" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意，我们添加了一个<code class="fe nf ng nh ni b">st.spinner()</code>上下文块，在内容加载时显示一条消息。👍</p><p id="121e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Streamlit的绘图非常酷！</p><p id="4318" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们来看看Streamlit的核心交互功能。</p><h2 id="4569" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">交互式小工具</h2><p id="72f1" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">Streamlit使用预定义的函数来创建交互式小部件。</p><p id="26f4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是一个选择小部件的例子。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ow"><img src="../Images/3b024e8e86ec5a25ef61bd4975ffb567.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Md7NSY-N2GUwaF5NBGQ3gg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">选择小部件输出</p></figure><p id="fa98" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">创建小部件和变量的代码只有一行！</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="e9c0" class="ly lz it ni b gy nt nu l nv nw">transport = st.selectbox(label=”Select Transportation”, options=[“car”, “bike”, “walk”])</span></pre><p id="bb11" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有七个Streamlit函数，您可以使用它们让用户选择一些东西。我包括了每个小部件所需的参数和描述。</p><ul class=""><li id="bc60" class="mw mx it kk b kl km ko kp kr my kv mz kz na ld oo nc nd ne bi translated"><code class="fe nf ng nh ni b">button(label='Click to do something')</code> —点击按钮</li><li id="ab02" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated"><code class="fe nf ng nh ni b">radio(label='Choose', options=['rock', 'classical', 'jazz'])</code> —单选按钮</li><li id="92ca" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated"><code class="fe nf ng nh ni b">checkbox(label='Check the box')</code> —切换复选框</li><li id="2d7b" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated"><code class="fe nf ng nh ni b">selectbox(label='Choose one', options=['walk', 'bike'])</code> —从下拉菜单中选择一个选项</li><li id="76e2" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated"><code class="fe nf ng nh ni b">multiselect(label='Choose as many as you like', options=['walk', 'bike'])</code> —从下拉菜单中选择多个选项</li><li id="a30e" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated"><code class="fe nf ng nh ni b">slider(label='Slide the bar')</code> —从滑动条中选择一个值</li><li id="4bdf" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated"><code class="fe nf ng nh ni b">beta_color_picker(label='Pick a color')</code> —选择一种颜色</li></ul><p id="6d05" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有六个功能供用户输入或上传东西。</p><ul class=""><li id="6347" class="mw mx it kk b kl km ko kp kr my kv mz kz na ld oo nc nd ne bi translated"><code class="fe nf ng nh ni b">number_input(label='Input a number')</code> —输入一个数字</li><li id="5e3c" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated"><code class="fe nf ng nh ni b">text_input(label='Enter text')</code> —输入文本</li><li id="6dad" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated"><code class="fe nf ng nh ni b">text_area(label='Write an essay')</code> —输入多行文本</li><li id="f5c9" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated"><code class="fe nf ng nh ni b">date_input(label='Input a date')</code> —输入日期</li><li id="9025" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated"><code class="fe nf ng nh ni b">time_input(label='Input a time')</code> —输入时间</li><li id="a269" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated"><code class="fe nf ng nh ni b">file_uploader(label='Upload a .jpg file')</code> —上传文件</li></ul><p id="2136" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">只需向交互函数传递一个用户将会看到的标签。将返回值保存为变量，并对其进行处理。就这么简单！😀</p><p id="a922" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看如何使用这些小部件的更多信息。</p><p id="1e91" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">使用小工具</strong></p><p id="5102" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些小部件是可定制的，并带有合理的默认值。例如，下面是<code class="fe nf ng nh ni b">st.date_input()</code>小部件代码:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="bbde" class="ly lz it ni b gy nt nu l nv nw">date = st.date_input(label='Input a date')<br/>date</span></pre><p id="4a7b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果是:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ox"><img src="../Images/a78f45c0542bac63d16d2796383bb5c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tqgSU7dUv0xhf6g8PRAP-g.png"/></div></div></figure><p id="38cd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以向<code class="fe nf ng nh ni b">date_input</code>传递默认值、最小值或最大值。现在，<code class="fe nf ng nh ni b">date_input</code>各自的默认值是今天、2021年1月1日和今天加10年。</p><p id="c024" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意，不允许有重复的小部件。每个小部件必须通过你传递给它的参数来区分，否则你会得到一个错误。如果需要，您可以传递一个<code class="fe nf ng nh ni b">key</code>参数来确保唯一性。👆</p><p id="c7ff" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我不会在这里演示所有的小部件类型，但是让我们看看一些常见的模式。</p><p id="cc72" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您将经常使用带有<code class="fe nf ng nh ni b">if</code>语句的复选框。下面是如何根据用户是否勾选了复选框来显示或隐藏数据框。</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="8621" class="ly lz it ni b gy nt nu l nv nw">display_df = <!-- -->st.checkbox(label='Want to see the data?')</span><span id="dded" class="ly lz it ni b gy nx nu l nv nw">if display_df:<br/>   df</span></pre><p id="5f79" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是输出的样子:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/009fb4e71e009e38e04389b7af1642ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*sc_Nc17SH_XKQv24jD2DPw.gif"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">带有控制流的复选框，用于显示数据帧</p></figure><p id="2226" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">像这样用<code class="fe nf ng nh ni b">st.sidebar</code>将任何小部件添加到侧边栏:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="7545" class="ly lz it ni b gy nt nu l nv nw">st.sidebar.radio(<br/>    label="Choose wisely",  <br/>    options=["Laser Tag", "Ax Throwing", "Trampoline Park"]<br/>)</span></pre><p id="eb84" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，一个可扩展的侧边栏将容纳这个小部件。👍</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oz"><img src="../Images/fdc61f933d015a149e08b78b04c13b5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0TiJqc42tAAUR77HbHpU0A.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">侧栏随着单选按钮展开。</p></figure><p id="879e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然大多数小部件已经存在了一段时间，但颜色选择器小部件仍处于测试阶段，可能会发生变化。代码如下:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="728d" class="ly lz it ni b gy nt nu l nv nw">user_color = st.beta_color_picker("Pick a color")<br/>user_color</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/e9f6a7299b6c5abd9bd2a809cfc3f2b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/1*mL46yDBXdi7iPFn2Q0Fq-g.gif"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">颜色选择器小工具</p></figure><p id="ce20" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Streamlit小部件是该库如此强大的重要原因。我鼓励你和他们一起玩，看看他们有多酷！😀</p><h2 id="d442" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">CSS修改</h2><p id="8422" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">在Streamlit中修改CSS是可能的，但并不优雅。您可以通过使用<code class="fe nf ng nh ni b">st.markdown("&lt;style&gt; some css goes here &lt;/style&gt;")</code>来修改CSS。</p><p id="ffb8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是一个改变页面某一部分的文本颜色的基本例子。</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="4a42" class="ly lz it ni b gy nt nu l nv nw">st.markdown(<br/>    '''<br/>    &lt;span style="color:blue"&gt;<br/>        Print it in blue. &lt;br /&gt;<br/>        Please. 😀<br/>    &lt;/span&gt;<br/>    ''',<br/>    unsafe_allow_html=True<br/>)</span></pre><p id="71e6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意多行CSS使用了三重引号。☝️</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi pb"><img src="../Images/2922934eaf0e2a4730149f86d7d17db5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_ibvK4Nx1ki4yNKPDp5bug.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">改变文本的颜色。</p></figure><p id="ae98" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你必须使用带有关键字参数<code class="fe nf ng nh ni b">unsafe_allow_html=True</code>的<code class="fe nf ng nh ni b">st.markdown()</code>来访问底层CSS。</p><p id="71eb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">交互式CSS </strong></p><p id="e7ec" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看颜色选择器小部件如何允许用户更改页面上的背景。这是代码。</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="352e" class="ly lz it ni b gy nt nu l nv nw">user_color = st.beta_color_picker("Pick a color")<br/>user_color</span><span id="a70c" class="ly lz it ni b gy nx nu l nv nw">if user_color != "#000000":<br/>    st.markdown(<br/>        f"&lt;style&gt; body{{ background-color: {user_color};}}&lt;/style&gt;",    <br/>        unsafe_allow_html=True<br/>    )</span></pre><p id="52e6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意由于字符串插值，需要用双花括号<code class="fe nf ng nh ni b">{{ }}</code>来转义。下面是实际使用的颜色选择器:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/497fa5497d0b431893b49a85db78c119.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/1*1zrKg6pnI5uDV_xqyyq2mQ.gif"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">使用颜色选择器更改页面上的CSS</p></figure><p id="424f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">自举</strong></p><p id="f3f0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Streamlit使用<a class="ae le" href="https://getbootstrap.com/" rel="noopener ugc nofollow" target="_blank"> Bootstrap </a>进行样式化，因此您可以访问Bootstrap类，如按钮和警告。例如，以下是如何显示成功徽章:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="e094" class="ly lz it ni b gy nt nu l nv nw">st.markdown(<br/>    '&lt;span class="badge badge-pill badge-success"&gt; Badge &lt;/span&gt;',<br/>    unsafe_allow_html=True<br/>)</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi pc"><img src="../Images/c056bf3fa13a5385b0d9f955f6da18e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_BVkMQkP5L3WJoUwb6rthg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">使用引导程序的徽章输出</p></figure><p id="5cf0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以试着用Bootstrap做一个网格布局，但是Streamlit widgets不会尊重这个布局，所以这不是一个好的选择。☹ ️A电网布局方案正在酝酿中。🙂</p><p id="506b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">移除品牌</strong></p><p id="0109" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是删除用Streamlit 文本制作的<em class="no">的移除汉堡菜单和页脚的代码:</em></p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="368c" class="ly lz it ni b gy nt nu l nv nw">hide_st_style = """<br/>    &lt;style&gt;<br/>        #MainMenu {visibility: hidden;}<br/>        footer {visibility: hidden;}<br/>    &lt;/style&gt;<br/>"""</span><span id="9361" class="ly lz it ni b gy nx nu l nv nw">st.markdown(hide_st_style, unsafe_allow_html=True)</span></pre><p id="eb4f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">- <a class="ae le" href="https://discuss.streamlit.io/t/remove-made-with-streamlit-from-bottom-of-app/1370/3" rel="noopener ugc nofollow" target="_blank">来源</a> : Streamlit论坛。</p><h2 id="26a7" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">媒体</h2><p id="aa0a" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">让我们看看如何在您的Streamlit应用程序中显示图像、视频和音频文件。</p><p id="21f4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">图像</strong></p><p id="9f18" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您需要导入<code class="fe nf ng nh ni b">PIL</code>库来显示带有<code class="fe nf ng nh ni b"><a class="ae le" href="https://docs.streamlit.io/en/latest/api.html#streamlit.image" rel="noopener ugc nofollow" target="_blank">st.image()</a></code>的图像。下面的代码可以用来从用户那里获取图像并显示出来:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="c3aa" class="ly lz it ni b gy nt nu l nv nw">from PIL import Image</span><span id="225b" class="ly lz it ni b gy nx nu l nv nw">img = []<br/>img = st.file_uploader(label='input', type=['png', 'jpg'])</span><span id="7a9f" class="ly lz it ni b gy nx nu l nv nw">if img:<br/>    image = Image.open(img)<br/>    st.image(image, caption='Your Image')</span></pre><p id="1ef1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如有必要，可以指定宽度和BGR通道。</p><p id="1471" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">视频</strong></p><p id="fc0d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">用<code class="fe nf ng nh ni b"><a class="ae le" href="https://docs.streamlit.io/en/latest/api.html#streamlit.video" rel="noopener ugc nofollow" target="_blank">st.video()</a></code>播放视频。你可以播放自己的视频或YouTube上的视频。以下是如何从45秒开始播放YouTube视频:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="2adb" class="ly lz it ni b gy nt nu l nv nw">st.video(<br/>    'https://www.youtube.com/watch?v=AqAJLh9wuZ0', <br/>    start_time=45<br/>)</span></pre><p id="6837" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">默认的视频格式是<em class="no"> mp4 </em>，但是您可以指定其他格式。</p><p id="b774" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">音频</strong></p><p id="5e16" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">用<code class="fe nf ng nh ni b"><a class="ae le" href="https://docs.streamlit.io/en/latest/api.html#streamlit.audio" rel="noopener ugc nofollow" target="_blank">st.audio()</a></code>播放音频文件。您可以指定除默认<em class="no"> wav </em>文件类型之外的内容，并传递开始时间。</p><h2 id="b227" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">贮藏</h2><p id="f83b" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">缓存可以节省应用程序用户第二次加载应用程序的时间。缓存允许你的应用程序避免重新加载相同的文件和重复相同的计算。</p><p id="49fe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">用<code class="fe nf ng nh ni b">@st.cache</code>装饰器添加<a class="ae le" href="https://docs.streamlit.io/caching.html" rel="noopener ugc nofollow" target="_blank">缓存</a>。以下是Streamlit缓存工作原理的基本解释:</p><p id="45d8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Streamlit检查这四项内容:</p><ul class=""><li id="2d4c" class="mw mx it kk b kl km ko kp kr my kv mz kz na ld oo nc nd ne bi translated">用来调用函数的输入参数</li><li id="7204" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated">函数中使用的任何外部变量的值</li><li id="f8f3" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated">函数的主体</li><li id="7d1f" class="mw mx it kk b kl nj ko nk kr nl kv nm kz nn ld oo nc nd ne bi translated">缓存函数中使用的任何函数的主体</li></ul><blockquote class="pd pe pf"><p id="9198" class="ki kj no kk b kl km ju kn ko kp jx kq pg ks kt ku ph kw kx ky pi la lb lc ld im bi translated">如果这是Streamlit第一次看到这四个组件具有这些确切的值，以及这种确切的组合和顺序，它将运行该函数并将结果存储在本地缓存中。然后，下一次调用缓存的函数时，如果这些组件都没有改变，Streamlit将跳过执行函数，而是返回之前存储在缓存中的输出。</p></blockquote><p id="2f97" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">-来源:<a class="ae le" href="https://docs.streamlit.io/caching.html" rel="noopener ugc nofollow" target="_blank">文件</a>。</p><p id="87ca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">缓存有助于提高应用程序的速度，但也很棘手，有时会表现得出乎意料。⚠️</p><h2 id="1eaf" class="ly lz it bd ma mb mc dn md me mf dp mg kr mh mi mj kv mk ml mm kz mn mo mp mq bi translated">杂项功能</h2><p id="1f8c" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">Streamlit让用户可以轻松地从汉堡菜单中创建屏幕录像。<em class="no">录制截屏</em>选项为用户提供了一系列录制屏幕选项。这有助于合作。👍</p><p id="a916" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以轻松显示Streamlit应用程序背后的代码。只需将您想要显示的代码放在一个<code class="fe nf ng nh ni b">st.echo()</code>上下文块中，如下所示:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="4bf8" class="ly lz it ni b gy nt nu l nv nw">with st.echo():<br/>    def my_function():<br/>       return None</span></pre><p id="b510" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出是格式良好的代码，在用户屏幕上看起来像这样:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi pj"><img src="../Images/163a532b660226131ec79136e8b5f050.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*USkYHQTqLIqY26_Y6bmitg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">来自应用程序的代码</p></figure><p id="463d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者，如果您想显示格式化的代码但不想运行它，可以像这样使用<code class="fe nf ng nh ni b">st.code()</code>:</p><pre class="lg lh li lj gt np ni nq nr aw ns bi"><span id="52d0" class="ly lz it ni b gy nt nu l nv nw">st.code(<br/>    """<br/>    my_var = f"testing my code {1 + 2} times"<br/>    """<br/>)</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi pk"><img src="../Images/9cdb9f23e5884c05dd209774074f83a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gOp0WDVc6dc6IQrXHNpgaA.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">不是由应用程序运行的代码</p></figure><h1 id="df5b" class="oa lz it bd ma ob oc od md oe of og mg jz oh ka mj kc oi kd mm kf oj kg mp ok bi translated">包装</h1><p id="1b06" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">Streamlit可以让你快速地将机器学习模型转变为基本的应用程序。它包含许多有用的功能，并定期进行改进。Streamlit已经成为一种流行的自助服务工具，即数据科学家的工具箱。</p><p id="1e60" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我希望这篇关于Streamlit的介绍对您有所帮助。如果你有，请在你最喜欢的社交媒体上分享，这样其他人也可以找到它。😀</p><p id="bb33" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我写关于Python、T2、SQL和其他技术主题的文章。如果你对此感兴趣，请注册我的<a class="ae le" href="https://dataawesome.com" rel="noopener ugc nofollow" target="_blank">邮件列表中的令人敬畏的数据科学资源</a>，在这里阅读更多帮助你增长技能的内容<a class="ae le" href="https://medium.com/@jeffhale" rel="noopener">。👍</a></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><a href="https://dataawesome.com"><div class="ab gu cl pl"><img src="../Images/ba32af1aa267917812a85c401d1f7d29.png" data-original-src="https://miro.medium.com/v2/format:webp/1*oPkqiu1rrt-hC_lDMK-jQg.png"/></div></a></figure><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi pm"><img src="../Images/6caaa96429b84a743ff88a2220528509.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A4XMhW1M-Fgblv-S4F9QBg.jpeg"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">资料来源:Pixabay.com</p></figure><p id="5bdd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">流线型快乐！😀</p></div></div>    
</body>
</html>