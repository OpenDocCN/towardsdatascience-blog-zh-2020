# å¦‚ä½•è¯„ä»·æœºå™¨å­¦ä¹ æ¨¡å‹åœ¨ Python ä¸­çš„æ€§èƒ½

> åŸæ–‡ï¼š<https://towardsdatascience.com/how-to-evaluate-machine-learning-model-performance-in-python-135b4ae27f7e?source=collection_archive---------22----------------------->

## æœºå™¨å­¦ä¹ ï¼Œæ•°æ®ç§‘å­¦

## ä¸€ç§å®ç”¨çš„æ–¹æ³•æ¥è®¡ç®—æ¨¡å‹çš„æ€§èƒ½ï¼Œå¹¶åœ¨ Python ä¸­å®ç°ï¼Œæ¶µç›–äº†æ‰€æœ‰çš„æ•°å­¦æ¨ç†

![](img/be1b75b6e10997931029ff78bf316909.png)

é›ªè‰Â·èƒ¡åˆ©åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šçš„ç…§ç‰‡

æ¬¢è¿å…‰ä¸´ï¼æ‚¨æ˜¯å¦å‡†å¤‡å¥½äº†åœ¨æ•°ç™¾ä¸‡ä¸ªæ•°æ®ç‚¹ä¸Šè®­ç»ƒçš„é…·æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œç°åœ¨æ‚¨æƒ³æµ‹è¯•å®ƒçš„æ€§èƒ½ï¼Œä½†ä¸çŸ¥é“ä»å“ªé‡Œå¼€å§‹ï¼Œä¹Ÿä¸çŸ¥é“æœ‰ä»€ä¹ˆæ›´å¥½çš„æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Ÿ

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºæµ‹è¯•æ¨¡å‹æ€§èƒ½æ‰€éœ€çš„ä¸€åˆ‡ï¼Œæ— è®ºæ˜¯**åˆ†ç±»**æ¨¡å‹è¿˜æ˜¯**å›å½’**æ¨¡å‹ï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥äº†è§£æœºå™¨å­¦ä¹ æ¨¡å‹çš„è¯„ä¼°è¿‡ç¨‹ï¼Œè¿™å¯¹äºæœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆæˆ–æ•°æ®ç§‘å­¦å®¶æ¥è¯´ç¡®å®æ˜¯éå¸¸å…³é”®çš„ä¸€æ­¥ã€‚

æ‰€ä»¥è®©æˆ‘ä»¬å¼€å§‹å§ï¼

# åˆ†ç±»ç®—æ³•è¯„ä¼°

è®©æˆ‘ä»¬ä»ç†è§£å¦‚ä½•è¯„ä¼°ä¸€ä¸ªåˆ†ç±»ç®—æ³•å¼€å§‹ã€‚åˆ†ç±»æ¨¡å‹å°†è¾“å‡ºé¢„æµ‹ä¸ºç±»åˆ«æ ‡ç­¾ã€‚å‡è®¾æœ‰ä¸€ä¸ªéšæœºå˜é‡' **xáµ¢** 'ï¼Œé‚£ä¹ˆ **xáµ¢** çš„é¢„æµ‹å€¼ä¸º' **yáµ¢** 'ï¼Œæ ‡æ³¨ä¸º:

> **yáµ¢âˆˆ{ä¸€ç­ï¼ŒäºŒç­ï¼Œä¸‰ç­ï¼Œâ€¦}**

ä¸‹é¢æ˜¯ä¸€äº›éå¸¸æœ‰ç”¨çš„æ–¹æ³•æ¥è¡¡é‡åˆ†ç±»æ¨¡å‹çš„æ€§èƒ½ã€‚åœ¨æˆ‘ä»¬ä¸‹é¢çš„ç ”ç©¶ä¸­ï¼Œä¸ºäº†ä¾¿äºç†è§£è¿™ä¸ªæ¦‚å¿µï¼Œæˆ‘ä»¬å°†ä¸»è¦å¤„ç†äºŒå…ƒåˆ†ç±»ï¼Œè¿™å¯ä»¥å¾ˆå®¹æ˜“åœ°æ‰©å±•åˆ°å¤šç±»åˆ†ç±»ã€‚

## å‡†ç¡®(æ€§)

å‡†ç¡®åº¦å‘Šè¯‰æˆ‘ä»¬æ­£ç¡®åˆ†ç±»çš„æ•°æ®ç‚¹ç›¸å¯¹äºæ€»æ•°æ®ç‚¹çš„æ•°é‡ã€‚é¡¾åæ€ä¹‰ï¼Œå‡†ç¡®æ€§æ˜¯æŒ‡é¢„æµ‹å€¼ä¸ç›®æ ‡å€¼çš„æ¥è¿‘ç¨‹åº¦ã€‚

> å‡†ç¡®åº¦=æ­£ç¡®åˆ†ç±»ç‚¹æ•°/æ€»ç‚¹æ•°

ä½†æ˜¯ç”±äºå‡è®¾çš„ç®€å•æ€§ï¼Œå‡†ç¡®æ€§å¹¶ä¸æ€»æ˜¯æ¨¡å‹è¯„ä¼°çš„å¥½æ–¹æ³•ã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸¤ä¸ªä¾‹å­ï¼Œåœ¨è¿™ä¸¤ä¸ªä¾‹å­ä¸­ï¼Œç²¾ç¡®åº¦ä¸æ˜¯ä¸€ä¸ªå¥½çš„è¡¡é‡æ ‡å‡†ã€‚

1.  **ä¸å¹³è¡¡æ•°æ®**:åœ¨ç°å®ä¸–ç•Œçš„å¤§å¤šæ•°é—®é¢˜ä¸­ï¼Œç±»æ•°æ®å¹¶ä¸æ˜¯å‡åŒ€åˆ†å¸ƒçš„ï¼Œæˆ‘ä»¬æœ‰ä¸€äº›é«˜é¢‘ç‡çš„ç±»å’Œä¸€äº›ä½é¢‘ç‡çš„ç±»ã€‚ä¾‹å¦‚ï¼Œä»¥ç™Œç—‡æ‚£è€…ä¸ºä¾‹ï¼Œå‡è®¾ 90%çš„æ•°æ®æ˜¯æ²¡æœ‰æ‚£ç™Œç—‡çš„äººï¼Œè€Œ 10%çš„äººè¢«è¯Šæ–­æ‚£æœ‰ç™Œç—‡ã€‚å› æ­¤ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå³ä½¿æ˜¯æœªç»è®­ç»ƒçš„åŸºäºè§„åˆ™çš„æ¨¡å‹ä¹Ÿå¯ä»¥é¢„æµ‹æ‰€æœ‰çš„ç‚¹ä¸ºè´Ÿé¢ï¼Œå¹¶ä¸”å¯ä»¥è¾¾åˆ° 90%çš„å‡†ç¡®æ€§ï¼Œè¿™åœ¨è®¸å¤šæƒ…å†µä¸‹æ˜¯éå¸¸å±é™©çš„ã€‚è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ä½¿ç”¨æœ¬æ–‡åé¢éƒ¨åˆ†è®¨è®ºçš„ **ROC-AUC** æ¥è§£å†³ã€‚
2.  **æ¦‚ç‡ä¼°è®¡**:ä¸å…¶ä»–æµ‹é‡ä¸åŒï¼Œå‡†ç¡®æ€§ä¸ç†è§£æ¥è‡ªæ¨¡å‹çš„æ¦‚ç‡å€¼ï¼Œè€Œæ˜¯åªè€ƒè™‘äºŒè¿›åˆ¶å€¼ã€‚å› æ­¤ï¼Œå¯¹æ¦‚ç‡å€¼åˆ†åˆ«ä¸º 97%å’Œ 3%çš„æ­£å€¼å’Œè´Ÿå€¼è¿›è¡Œåˆ†ç±»çš„æ¨¡å‹ä¸å¦ä¸€ä¸ªæ¦‚ç‡å€¼ä¸º 62%å’Œ 38%çš„æ¨¡å‹å…·æœ‰ç›¸åŒçš„ç²¾åº¦ï¼Œä½†æˆ‘ä»¬çŸ¥é“ç¬¬ä¸€ä¸ªæ¨¡å‹æ¯”ç¬¬äºŒä¸ªæ¨¡å‹å¥½å¾—å¤šï¼Œè¿™é‡Œç²¾åº¦æ— æ³•è¯„ä¼°è¿™ä¸€ç‚¹ã€‚ä½¿ç”¨æœ¬æ–‡åé¢éƒ¨åˆ†è®¨è®ºçš„**æ—¥å¿—æŸå¤±**å¯ä»¥å¾ˆå®¹æ˜“åœ°è¯†åˆ«å‡ºè¿™ä¸€ç‚¹ã€‚

## æ··æ·†çŸ©é˜µ

æ··æ·†çŸ©é˜µæ˜¯æœºå™¨å­¦ä¹ ä¸­è®¸å¤šè¯„ä»·æ–¹æ³•çš„æ ¸å¿ƒåŸºç¡€æ–¹æ³•ä¹‹ä¸€ã€‚æ··æ·†çŸ©é˜µæ˜¯åˆ†ç±»æ¨¡å‹çš„ä¸€ä¸ªâ€œ **n ç»´**çŸ©é˜µï¼Œå®ƒåœ¨ x è½´ä¸Šæ ‡æ³¨å®é™…å€¼ï¼Œåœ¨ y è½´ä¸Šæ ‡æ³¨é¢„æµ‹å€¼ã€‚

é€šå¸¸å¯¹äºäºŒå…ƒåˆ†ç±»å™¨ï¼Œæ··æ·†çŸ©é˜µæ˜¯ä¸€ä¸ª **2x2 ç»´**çŸ©é˜µï¼Œå…¶ä¸­ **0** ä¸º**è´Ÿ**ç±»ï¼Œ **1** ä¸º**æ­£**ç±»ã€‚

> å¯¹äºä¸€ä¸ªå¥½çš„æ¨¡å‹ï¼Œæ··æ·†çŸ©é˜µçš„ä¸»å¯¹è§’çº¿å…ƒç´ åº”è¯¥æ˜¯é«˜å€¼ï¼Œéå¯¹è§’çº¿å…ƒç´ åº”è¯¥æ˜¯ä½å€¼ã€‚

æ··æ·†çŸ©é˜µä¸­çš„æ¯ä¸ªå•å…ƒå¯¹äºç†è§£æ¨¡å‹çš„æ€§èƒ½éƒ½èµ·ç€éå¸¸é‡è¦çš„ä½œç”¨ã€‚ **TN** ã€ **FN** ã€ **FP** ã€ **TP** æ˜¯æ ¹æ®æ¯ä¸ªå•å…ƒæ ¼åœ¨è¯¥å•å…ƒæ ¼ä¸­çš„å®é™…å€¼å’Œé¢„æµ‹å€¼ç»™æ¯ä¸ªå•å…ƒæ ¼èµ·çš„åå­—ã€‚è®©æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªåœ°ç†è§£å®ƒä»¬ï¼Œç„¶åæˆ‘ä»¬ä¼šä»å®ƒä»¬èº«ä¸Šå‘ç°ä¸€äº›æƒŠäººçš„è”ç³»ã€‚

![](img/7a0c39c7ef24737b95b6365ebe1d66fd.png)

å›¾ 1:äºŒå…ƒåˆ†ç±»å™¨çš„æ··æ·†çŸ©é˜µã€‚

**TN =çœŸé˜´æ€§**(å®é™…ä¸ºé˜´æ€§ä¸”è¢«æ¨¡å‹æ­£ç¡®åˆ†ç±»ä¸ºé˜´æ€§ç±»åˆ«çš„æ•°æ®)ã€‚

**FN =å‡é˜´æ€§**(å®é™…ä¸ºé˜³æ€§ä½†è¢«æ¨¡å‹é”™è¯¯åˆ†ç±»ä¸ºé˜´æ€§çš„æ•°æ®)ã€‚

**FP =å‡é˜³æ€§**(å®é™…ä¸ºé˜´æ€§ä½†è¢«æ¨¡å‹é”™è¯¯åˆ†ç±»ä¸ºé˜³æ€§çš„æ•°æ®)ã€‚

**TP =çœŸé˜³æ€§**(å®é™…ä¸ºé˜³æ€§ä¸”è¢«æ¨¡å‹æ­£ç¡®åˆ†ç±»ä¸ºé˜³æ€§ç±»åˆ«çš„æ•°æ®)ã€‚

## **å¦‚ä½•è®°ä½å®ƒä»¬ï¼Ÿ**

æœ‰ä¸€ä¸ªç®€å•çš„æ–¹æ³•æ¥è®°ä½å®ƒä»¬ï¼Œ**çš„ç¬¬ä¸€ä¸ªå­—æ¯**å›ç­”äº†é—®é¢˜â€œ**æˆ‘ä»¬æ˜¯æ­£ç¡®çš„å—ï¼Ÿ**å’Œ**ç¬¬äºŒä¸ªå­—æ¯**è®²è¿°çš„æ˜¯**é¢„æµ‹å€¼**ã€‚

è¿™äº›ç¬¦å·ä¹‹é—´æœ‰ä¸€äº›æƒŠäººçš„å…³ç³»ï¼Œå¯¹æˆ‘ä»¬çš„è¯„ä¼°éå¸¸æœ‰ç”¨ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä»€ä¹ˆæ˜¯**å®é™…æ­£**å’Œ**å®é™…è´Ÿ**å€¼ã€‚

![](img/7a81588207c0a30151d848602534ff2d.png)

å›¾ 2:æ··æ·†çŸ©é˜µä¸­çš„è´Ÿå€¼å’Œæ­£å€¼

**é˜³æ€§(P)** :å‡é˜´æ€§å€¼å’ŒçœŸé˜³æ€§å€¼ä¹‹å’Œå°±æ˜¯æ•°æ®ä¸­å®é™…çš„ä¸€ç»„æ­£å€¼ã€‚**P = FN+TP**

**Negative (N)** :çœŸè´Ÿå€¼å’Œå‡æ­£å€¼ä¹‹å’Œå°±æ˜¯æ•°æ®ä¸­å®é™…çš„ä¸€ç»„æ­£å€¼ã€‚ ***N = TN+FP***

ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†å•å…ƒç¬¦å·å’Œæ­£è´Ÿç¬¦å·ï¼Œæœ‰ 4 ä¸ªé‡è¦çš„æµ‹é‡å€¼æ˜¯ä½¿ç”¨è¿™äº›ç¬¦å·è®¡ç®—çš„ï¼Œå®ƒä»¬å¯¹äºæ¨¡å‹æ€§èƒ½ä¼°è®¡éå¸¸æœ‰ç”¨ã€‚å®ƒä»¬å¦‚ä¸‹:

1.  **çœŸé˜³æ€§ç‡(TPR)** :çœŸé˜³æ€§/æ€»é˜³æ€§= TP/P
2.  **çœŸé˜´æ€§ç‡(TNR)** :çœŸé˜´æ€§/æ€»é˜´æ€§= TN/N
3.  **å‡é˜³æ€§ç‡(FPR)** :å‡é˜³æ€§/æ€»é˜´æ€§= FP/N
4.  **å‡é˜´æ€§ç‡**:å‡é˜´æ€§/æ€»é˜³æ€§= FN/P

å®ƒä»¬å¬èµ·æ¥æœ‰ç‚¹ä»¤äººå›°æƒ‘ï¼Œä½†å½“æˆ‘ä»¬æŸ¥çœ‹å›°æƒ‘çŸ©é˜µï¼Œå¹¶å½¢è±¡åœ°æ‰¾åˆ°è¿™äº›å…³ç³»æ—¶ï¼Œå®ƒä»¬å°±å¼€å§‹ç»™å‡ºæŸç§æ„ä¹‰äº†ã€‚

> å¯¹äºä¸€ä¸ªæ‰§è¡Œè‰¯å¥½çš„è½¦å‹***ã€TPR å’Œ TNR åº”è¯¥æ˜¯é«˜å€¼ã€‘******ã€FPR å’Œ FNR åº”è¯¥æ˜¯ä½å€¼ã€‘*** ã€‚

> TPRâ¬†ã€TNRâ¬†ã€FPRâ¬‡ã€FNRâ¬‡

## ç²¾ç¡®åº¦å’Œå¬å›ç‡

ç²¾ç¡®åº¦å’Œå¬å›ç‡ä¸»è¦ç”¨äº**ä¿¡æ¯æ£€ç´¢**çš„æƒ…å†µã€‚å¯¹äºäºŒè¿›åˆ¶åˆ†ç±»é—®é¢˜ï¼Œè¿™ä¸¤ä¸ªåº¦é‡ä¸»è¦é›†ä¸­åœ¨**æ­£ç±»**ä¸Šã€‚å¯¹ï¼Œæ­£è¯¾ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å…³äºå›¾ 3 ä¸­çš„æ··æ·†çŸ©é˜µçš„ç²¾ç¡®åº¦å’Œå¬å›ç‡çš„å…¬å¼ã€‚æˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œç²¾ç¡®åº¦å’Œå¬å›ç‡çš„å…¨éƒ¨ç„¦ç‚¹éƒ½åœ¨æ··æ·†çŸ©é˜µçš„**çœŸé˜³æ€§**å•å…ƒä¸Šï¼Œå®ƒä»¬ä¸çœŸé˜´æ€§æ— å…³ã€‚

![](img/9504acfc734def090ec8bc558b4c7bf3.png)

å›¾ 3:ä½¿ç”¨æ··æ·†çŸ©é˜µçš„ç²¾ç¡®å’Œå›å¿†ç†è§£

> **ç²¾åº¦**:åœ¨æ‰€æœ‰æ¨¡å‹é¢„æµ‹ä¸ºæ­£çš„ç‚¹ä¸­ï¼Œæœ‰å¤šå°‘æ˜¯çœŸçš„æ­£ã€‚

> **ç²¾åº¦= TP / (TP+FP)**

> **å›å¿†**:åœ¨æ‰€æœ‰å®é™…ä¸Šç§¯æçš„ç‚¹ä¸­ï¼Œæœ‰å¤šå°‘æ˜¯æ¨¡å‹é¢„æµ‹ä¸ºç§¯æçš„ã€‚

> å›å¿†= TPR = TP / P = TP / (TP+FN)

Precision å’Œ Recall ä¸¤ä¸ªå€¼éƒ½åœ¨[0ï¼Œ1]çš„èŒƒå›´å†…ï¼Œæˆ‘ä»¬æ€»æ˜¯å¸Œæœ›è¿™ä¸¤ä¸ªå€¼å°½å¯èƒ½çš„é«˜**ã€‚æœ‰æ—¶ï¼Œå°†ä¸¤ä¸ªä¸åŒçš„å€¼ç»“åˆèµ·æ¥æ¯”å•ç‹¬åˆ†æå®ƒä»¬æ›´å¥½ï¼Œå› æ­¤ä¸ºäº†å°†å®ƒä»¬ç»“åˆèµ·æ¥ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º [**F1-score**](https://en.wikipedia.org/wiki/F1_score) çš„æŒ‡æ ‡ï¼Œå³ ***â€œç²¾ç¡®åº¦å’Œå¬å›ç‡çš„è°ƒå’Œå¹³å‡å€¼â€ã€‚*****

> **f1-å¾—åˆ†= 2 *ç²¾åº¦*å¬å›/(ç²¾åº¦+å¬å›)**

**åœ¨ Kaggle.com[çš„ä¸€äº›æ¯”èµ›ä¸­ï¼ŒF1 åˆ†æ•°æœ‰æ—¶è¢«ç”¨ä½œæ¨¡å‹è¯„ä¼°çš„æŒ‡æ ‡ï¼Œä½†ç”¨ç®€å•çš„è‹±è¯­ç†è§£æœ‰ç‚¹å›°éš¾ï¼Œè€Œç²¾ç¡®åº¦å’Œå¬å›ç‡åˆ™æ›´å®¹æ˜“è§£é‡Šã€‚](https://www.kaggle.com/)**

**è®©æˆ‘ä»¬åœ¨ Python 3.x ä¸­å®ç°å®ƒã€‚ä¸‹é¢æ˜¯ä½¿ç”¨æ··æ·†çŸ©é˜µçš„æ¨¡å‹è¯„ä¼°çš„æ‰‹åŠ¨å®ç°ã€‚**

**ä¸‹é¢æ˜¯ä¸Šè¿°ä»£ç å®ç°çš„ç¤ºä¾‹è¾“å‡ºã€‚**

**![](img/d0b2b2e1ab98e3e7b3c38a98314c334e.png)**

**ä½¿ç”¨æ··æ·†çŸ©é˜µçš„è¯„ä¼°è¾“å‡ºç¤ºä¾‹**

## **ROC æ›²çº¿å’Œ AUC**

**[**æ¥æ”¶æœºå·¥ä½œç‰¹æ€§æ›²çº¿**](https://en.wikipedia.org/wiki/Receiver_operating_characteristic) æˆ– **ROC** æ˜¯ **TPR å¯¹ FPR** çš„æ›²çº¿å›¾ï¼Œå½¢æˆä¸€æ¡æ›²çº¿ï¼Œä»£è¡¨ä¸åŒé˜ˆå€¼çš„ TPR å’Œ FPR å€¼â€œ **ğœ** â€ã€‚AUC æ˜¯æ›²çº¿ä¸‹çš„**é¢ç§¯ã€‚å®ƒä»¬æœ‰æ—¶åˆåœ¨ä¸€èµ·ç§°ä¸º AUROC(å—è¯•è€…å·¥ä½œç‰¹æ€§ä¸‹çš„é¢ç§¯)æ›²çº¿ã€‚****

**![](img/2a41ce159a3ec038343f952938cb22d0.png)**

**å›¾ 4:æ¥æº:æ¥æ”¶æœºå·¥ä½œç‰¹æ€§æ›²çº¿[ç»´åŸºç™¾ç§‘](https://en.wikipedia.org/wiki/Receiver_operating_characteristic)**

**ç»™å®šä¸€ä¸ªé˜ˆå€¼å‚æ•° **ğœ** ï¼Œå¦‚æœ **X > ğœ** è¯¥å®ä¾‹è¢«å½’ç±»ä¸º ***æ­£ç±»*** ï¼Œå¦‚æœ **X < =ğœ** åˆ™å½’ç±»ä¸º ***è´Ÿç±»*** ã€‚å¦‚æœå®ä¾‹å®é™…ä¸Šå±äº*ï¼Œåˆ™ x éµå¾ªæ¦‚ç‡å¯†åº¦ **f1(x)** ï¼Œå¦‚æœå®ä¾‹å±äº*è´Ÿç±»ï¼Œåˆ™éµå¾ªæ¦‚ç‡å¯†åº¦ **f0(x)** ã€‚å› æ­¤ï¼ŒçœŸå®é˜³æ€§ç‡ç”±ä¸‹å¼ç»™å‡º:****

****![](img/9e9390a084ee9bcaab10effbc512a958.png)****

****ä½¿ç”¨ ROC çš„ TPR****

****å‡é˜³æ€§ç‡ç”±ä¸‹å¼ç»™å‡º:****

****![](img/3abd501697b790ebf4e293318775a359.png)****

****FPR ä½¿ç”¨ ROC****

****ROC æ›²çº¿å‚æ•°åŒ–åœ°ç»˜åˆ¶äº† **TPR(ğœ)å¯¹**fpr(ğœï¼Œé˜ˆå€¼ **ğœ** ä½œä¸ºæ›²çº¿ä¸Šçš„å˜åŒ–å‚æ•°ï¼Œç»™å‡ºäº†ç±»ä¼¼äºå›¾ 4 æ¥æ”¶å™¨å·¥ä½œç‰¹æ€§æ›²çº¿æ‰€ç¤ºçš„å½¢çŠ¶ã€‚****

****AUC æ˜¯æ›²çº¿ä¸‹çš„é¢ç§¯ã€‚ ***AUC ä½äº*ã€0ï¼Œ1ã€‘***èŒƒå›´å†…ã€‚***0.5**çš„å€¼è¡¨ç¤ºæ¨¡å‹çš„æ€§èƒ½æ˜¯**éšæœºçš„**ã€‚åœ¨[0.5ï¼Œ1]èŒƒå›´å†…çš„ AUC å€¼è¡¨æ˜æ¨¡å‹è¡¨ç°è‰¯å¥½ï¼Œè€Œåœ¨[0ï¼Œ0.5]èŒƒå›´å†…çš„ AUC å€¼è¡¨æ˜æ¨¡å‹è¡¨ç°ä¸ä½³ã€‚****

> ****"**AUC å€¼è¶Šé«˜ï¼Œæ¨¡å‹è¡¨ç°è¶Šå¥½**ã€‚"****

## ****AUC å€¼ä½äº 0.5 æ€ä¹ˆå¤„ç†ï¼Ÿ****

****å½“ AUC åœ¨[0ï¼Œ0.5]èŒƒå›´å†…æ—¶ï¼Œæœ‰ä¸€ä¸ªéå¸¸ç®€å•çš„æŠ€å·§æ¥å¤„ç†æ¨¡å‹æ€§èƒ½ã€‚**ç»æ‹›**::*ç®€å•åˆ‡æ¢æ¨¡å‹é¢„æµ‹çš„ç±»åˆ«æ ‡ç­¾ã€‚*â€œæ˜¯çš„ï¼Œå‡è®¾æˆ‘ä»¬å¾—åˆ°çš„ AUC ä¸º 0.32ï¼Œé‚£ä¹ˆåœ¨å°†ç±»åˆ«æ ‡ç­¾ä» 0 åˆ‡æ¢åˆ° 1 å’Œä» 1 åˆ‡æ¢åˆ° 0 ä¹‹åï¼Œæˆ‘ä»¬å¾—åˆ°çš„ AUC å€¼ä¸º 1â€“0.32 =**0.68**ï¼Œè¿™ä½¿å®ƒæˆä¸ºä¸€ä¸ªå¥½æ¨¡å‹ã€‚å°±è¿™ä¹ˆç®€å•ï¼****

## ****ä½¿ç”¨å¯¹æ•°æŸå¤±è®¡ç®—æ¦‚ç‡åˆ†æ•°ï¼****

****Log-Loss ç”¨äºå‘ç°**äºŒå…ƒåˆ†ç±»**ç®—æ³•çš„æ¨¡å‹æ€§èƒ½ï¼Œè¯¥ç®—æ³•å¯ä»¥å®¹æ˜“åœ°æ‰©å±•åˆ°å¤šç±»åˆ†ç±»ã€‚å®ƒè€ƒè™‘ç”±æœºå™¨å­¦ä¹ æ¨¡å‹é¢„æµ‹çš„æ‰€æœ‰æ¦‚ç‡åˆ†æ•°ï¼Œå¹¶ä½¿ç”¨ä¸‹é¢å›¾ 5 ä¸­çš„å…¬å¼è®¡ç®—ç›¸å¯¹äº' **yáµ¢** 'çš„çœŸå®å€¼å’Œé¢„æµ‹å€¼' **p(yáµ¢)** 'çš„æŸå¤±ã€‚****

****![](img/5ce279153891dd515fedc9f5263948d9.png)****

****å›¾ 5:æµ‹äº•æŸå¤±è®¡ç®—å…¬å¼****

****ç†è§£è¿™ä¸ªå…¬å¼å¾ˆç®€å•ï¼Œå¯¹äºæ¯ä¸ª **yáµ¢=1** ï¼Œå€¼**log(p(yáµ¢)ã€‘**è¢«åŠ åˆ°æŸå¤±ä¸Šï¼Œè€Œå¯¹äºæ¯ä¸ª **yáµ¢=0** å€¼**log(1-p(yáµ¢)ã€‘**è¢«åŠ åˆ°æŸå¤±ä¸Šï¼Œç„¶åé€šè¿‡å°†è®¡ç®—çš„æ€»å’Œé™¤ä»¥ **N** (æ•°æ®ç‚¹çš„æ•°é‡)æ¥è®¡ç®—å¹³å‡å€¼ã€‚****

> ****ç®€å•åœ°è¯´ï¼Œå¯¹æ•°æŸå¤±æ˜¯å¹³å‡è´Ÿå¯¹æ•°(æ­£ç¡®åˆ†ç±»æ ‡ç­¾çš„æ¦‚ç‡)****

****ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥è¯´ï¼Œå½“'**ã€p(yáµ¢ã€‘)**'è¾ƒä½æ—¶ï¼Œè¿™æ„å‘³ç€æ¨¡å‹é¢„æµ‹'**'çš„å€¼æ›´ä¸ç¡®å®šï¼Œé‚£ä¹ˆå¯¹å®ƒçš„æƒ©ç½šå°±æ›´å¤šï¼Œå¯¹æ•°æŸå¤±ä¹Ÿæ›´å¤šï¼Œåä¹‹äº¦ç„¶ã€‚******

> ******é¢„æµ‹æ¦‚ç‡â¬‡å¯¹æ•°æŸå¤±â¬†******
> 
> ******é¢„æµ‹æ¦‚ç‡â¬†å¯¹æ•°æŸå¤±â¬‡******

******æŸ¥çœ‹ä¸‹å›¾ 6ï¼Œäº†è§£é¢„æµ‹æ¦‚ç‡å’Œæµ‹äº•æ›²çº¿æŸå¤±ä¹‹é—´çš„åæ¯”å…³ç³»ã€‚******

******![](img/24cc8c7a7f3ac239d4f3d5ed45da6ade.png)******

******å›¾ 6:ä¸é¢„æµ‹æ¦‚ç‡ç›¸å…³çš„æµ‹äº•æ›²çº¿çš„æ¥æº[å›¾åƒ](https://ml-cheatsheet.readthedocs.io/en/latest/loss_functions.html)******

1.  ******å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ **Log-Loss å°½å¯èƒ½å°**æ‰èƒ½è¯´æˆ‘ä»¬çš„æ¨¡å‹è¡¨ç°è‰¯å¥½ã€‚******
2.  ******å¯¹æ•°æŸè€—å¯ä»¥åœ¨**ã€0ï¼ŒINFã€‘**çš„èŒƒå›´å†…ï¼Œå¦‚å›¾ 6 æ‰€ç¤ºã€‚******

******ä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å®ç°æ—¥å¿—ä¸¢å¤±ã€‚ä¸‹é¢æ˜¯ Python3 ä¸­çš„ä»£ç å®ç°ã€‚******

******ä½†æ˜¯ **Scikit-learn** æä¾›äº†ä¸€è¡Œè¾“å…¥æ¥è®¡ç®—æ—¥å¿—æŸå¤±ï¼Œ******

******ä½¿ç”¨ Log-Loss çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯æœ‰ç‚¹éš¾ä»¥è§£é‡Šï¼Œå› ä¸ºæˆ‘ä»¬ä¸èƒ½ä»…ä»…é€šè¿‡çœ‹åˆ° Log-Loss çš„ä¸€äº›å€¼æ¥è¯´ä»€ä¹ˆã€‚è¿™æ˜¯å› ä¸ºå¯¹æ•°æŸè€—å¹¶ä¸é™å®šè¾“å‡ºå€¼çš„èŒƒå›´ï¼Œè€Œæ˜¯ä» 0 åˆ°æ— ç©·å¤§ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ª Log-Loss = 12 çš„å€¼ï¼Œé‚£ä¹ˆä»…ä»…é€šè¿‡çœ‹åˆ°è¿™ä¸ªå€¼ï¼Œæˆ‘ä»¬ä¸èƒ½è¯´ä»€ä¹ˆã€‚******

# ******å›å½’ç®—æ³•è¯„ä¼°******

******åˆ†ç±»å’Œå›å½’ç®—æ³•çš„åŒºåˆ«åœ¨äºåˆ†ç±»çš„è¾“å‡ºå±äºä¸€ä¸ªç±»ï¼Œè€Œå›å½’ç®—æ³•çš„è¾“å‡ºå±äºå®æ•°ï¼Œå¦‚ **yáµ¢ âˆˆ â„** ã€‚******

******è®¾ **yáµ¢** æ˜¯è¾“å…¥ **xáµ¢** çš„å®å€¼è¾“å‡ºï¼Œè€Œ **Å·áµ¢** (y-hat)æ˜¯å›å½’ç®—æ³•çš„é¢„æµ‹å®å€¼è¾“å‡ºã€‚å› æ­¤ï¼Œè¯¯å·® **eáµ¢** è®¡ç®—å¦‚ä¸‹:******

> ********eáµ¢=yáµ¢**â€”**Å·áµ¢********

******å› æ­¤ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ç”¨äºå›å½’æ¨¡å‹æ€§èƒ½æµ‹é‡çš„å„ç§ç±»å‹çš„æ¨¡å‹è¯„ä¼°æŠ€æœ¯ã€‚******

## ******r æˆ–å†³å®šç³»æ•°******

******å…ˆæ¥äº†è§£ä¸€ä¸‹**å¹³æ–¹å’Œ** ( **SS** )æ˜¯ä¸€ä¸ªéšæœºå˜é‡' **xáµ¢** 'çš„' **yáµ¢** 'çš„æ–¹å·®å€¼ä¹‹å’Œã€‚è¿™é‡Œ' **È³** '(y-bar)æ˜¯æ‰€æœ‰' **yáµ¢** 'çš„å€¼çš„**çš„æ„æ€**ã€‚******

> ********å¹³æ–¹å’Œ**â‚œâ‚’â‚œâ‚â‚—**=Ïƒ(yáµ¢+È³)********

> ******ç®€å•æ¥è¯´ï¼Œå¹³æ–¹å’Œ( **SS- total** )æ˜¯å…¶çœŸå®å€¼ç›¸å¯¹äºå…¶å¹³å‡å€¼çš„è¯¯å·®å¹³æ–¹å’Œã€‚******

******è€Œä¸”ï¼Œ******

> ******å¹³æ–¹å’Œáµ£â‚‘â‚›=Ïƒ(yáµ¢+**Å·**áµ¢)******

> ******å¹³æ–¹å’Œ( **SS- residue** )æ˜¯å…¶çœŸå®å€¼ç›¸å¯¹äºå…¶**é¢„æµ‹å€¼**çš„è¯¯å·®å¹³æ–¹å’Œã€‚******

******æ‰€ä»¥ï¼ŒR è¢«å®šä¹‰ä¸ºï¼Œ******

> ******R = 1 - (SSáµ£â‚‘â‚› / SSâ‚œâ‚’â‚œâ‚â‚—)******

******è®©æˆ‘ä»¬è€ƒè™‘å‡ ä¸ªæ¡ˆä¾‹ï¼ŒåŸºäºè¿™äº›æ¡ˆä¾‹ï¼Œå½“æˆ‘ä»¬çœ‹åˆ° R å€¼æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—å…³äºæ¨¡å‹æ€§èƒ½çš„ä¸€äº›ç›´è§‰ã€‚******

1.  ******å¦‚æœè¯¯å·® e =Ïƒ(yáµ¢+Å·áµ¢)ä¸º **0** é‚£ä¹ˆï¼Œr ä¸º **1 (** ä¸ºæœ€ä½³å€¼)ã€‚******
2.  ******å¦‚æœ SSáµ£â‚‘â‚› < SSâ‚œâ‚’â‚œâ‚â‚— then RÂ² lied between **0** å’Œ **1** (ä¸€èˆ¬æ¥å—)ã€‚******
3.  ******å¦‚æœ SSáµ£â‚‘â‚› = SSâ‚œâ‚’â‚œâ‚â‚—ï¼Œé‚£ä¹ˆ r å°±å˜æˆäº† **0** (æ€§èƒ½ä¸å¥½)ã€‚******
4.  ******å¦‚æœ SSáµ£â‚‘â‚› > SSâ‚œâ‚’â‚œâ‚â‚—ï¼Œé‚£ä¹ˆ r å˜æˆè´Ÿçš„å€¼(æœ€å·®æ€§èƒ½)ã€‚******

******è®©æˆ‘ä»¬çœ‹çœ‹ Python3 ä¸­ R çš„å®ç°******

******[https://gist . github . com/paras 009/b 46 ded 4 f1 ea 24 ab 48508623 f 6024294 b](https://gist.github.com/paras009/b46ded4f1ea24ab48508623f6024294b)******

******Scikit-Learn ä¸º compute R æä¾›äº†ä¸€ä¸ªå•è¡Œå¯¼å…¥ã€‚******

******[https://gist . github . com/paras 009/229 ad 9 ba 3a 7595 b 26 ba 8 bfb 7 e 179 c 379](https://gist.github.com/paras009/229ad9ba3a7595b26ba8bfb7e179c379)******

******éœ€è¦æ³¨æ„çš„é‡è¦ä¸€ç‚¹æ˜¯ï¼ŒR åœ¨æŸäº›æƒ…å†µä¸‹è¡¨ç°ä¸ä½³:******

********æœ‰å¼‚å¸¸å€¼çš„æ•°æ®** : å¦‚æœæ•°æ®ä¸­æœ‰ä¸€äº›å¼‚å¸¸å€¼ï¼Œé‚£ä¹ˆ R ä¸æ˜¯è®¡ç®—å›å½’æ¨¡å‹æ€§èƒ½çš„ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•ï¼Œè¯¯å·®å€¼ä¼šç«‹å³å¢åŠ ï¼Œå¹¶åè¿‡æ¥ä¸¥é‡å½±å“ R å€¼ã€‚å› æ­¤ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸‹ä¸€èŠ‚è®¨è®ºçš„**ä¸­å€¼ç»å¯¹åå·®**çš„æ¦‚å¿µã€‚******

## ******ä¸­ä½æ•°ç»å¯¹åå·®******

******ç”±äºå¼‚å¸¸å€¼å¯¹è¯¯å·®â€œ **eáµ¢** â€æœ‰å¾ˆå¤§å½±å“ï¼Œå› æ­¤ MAD é€šè¿‡è®¡ç®—æ‰€æœ‰è¯¯å·®å€¼çš„ä¸­å€¼å¹¶è®¡ç®—å®ƒä»¬ä¸æ¯ä¸ªè¯¯å·®å€¼çš„ç»å¯¹åå·®æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™æœ‰åŠ©äºè®¡ç®— MAD å€¼ï¼Œä»è€Œæ¶ˆé™¤å¼‚å¸¸å€¼å¯¹è¯¯å·®å€¼çš„å½±å“ã€‚******

> ******MAD =ä¸­ä½æ•°(|**eáµ¢**â€”ä¸­ä½æ•°( **eáµ¢** )|)******

********ä¸­ä½æ•°å’Œ MAD å¯¹å¼‚å¸¸å€¼ç¨³å¥**ã€‚ä¸­å€¼å’Œ MAD çš„è¾ƒå°å€¼è¡¨æ˜è¯¥æ¨¡å‹è¡¨ç°éå¸¸å¥½ã€‚è¯·è®°ä½ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‡å€¼æˆ–æ ‡å‡†å·®ï¼Œä½†å®ƒä»¬ä¸èƒ½å¤„ç†å¼‚å¸¸å€¼ï¼Œè€Œ MAD å¯¹å¼‚å¸¸å€¼æ²¡æœ‰æ˜¾è‘—å½±å“ã€‚******

********æ³¨**:ç»˜åˆ¶è¯¯å·®åˆ†å¸ƒå›¾æœ‰åŠ©äºç†è§£å¼‚å¸¸å€¼ä»¥åŠè¯¯å·®å€¼æ˜¯å¦‚ä½•ä¼ æ’­çš„ã€‚åˆ†å¸ƒâ€œ**å³å**è¶Šå¤šï¼Œæ¨¡å‹è¡¨ç°è¶Šå¥½ã€‚è¿™æ„å‘³ç€å¤§å¤šæ•°ç‚¹çš„**è¯¯å·®è¾ƒä½**ï¼Œåªæœ‰æå°‘æ•°ç‚¹çš„è¯¯å·®å€¼è¾ƒé«˜ï¼Œè¿™äº›è¯¯å·®å€¼å¹¶ä¸æ˜¾è‘—ï¼Œå¯ä»¥ä½¿ç”¨ MAD è¿›è¡Œå½’ä¸€åŒ–ã€‚******

******![](img/fddc75b976d358ecee06f62c9ee79cd8.png)******

******æ¦‚ç‡ä¸è¯¯å·®å›¾******

******æ‰€ä»¥ï¼Œå°±è¿™æ ·ï¼Œæˆ‘ä»¬åˆ°äº†è¿™ç¯‡æ–‡ç« çš„ç»“å°¾ã€‚ç°åœ¨ï¼Œä½ å¯ä»¥æ”¾å¿ƒå¤§èƒ†åœ°è¯„ä¼°ä½ çš„æ¨¡å‹äº†ï¼******

******![](img/879ddc4fb72dc381e778915104dd04c4.png)******

******æ¥æº:[https://media.giphy.com/media/5nkIn9AEfUQ6JtXL43/source.gif](https://media.giphy.com/media/5nkIn9AEfUQ6JtXL43/source.gif)******

## ******å‚è€ƒ******

1.  ******[https://en . Wikipedia . org/wiki/Evaluation _ of _ binary _ classifiers](https://en.wikipedia.org/wiki/Evaluation_of_binary_classifiers)******
2.  ******[https://en.wikipedia.org/wiki/Confusion_matrix](https://en.wikipedia.org/wiki/Confusion_matrix)******
3.  ******[https://en . Wikipedia . org/wiki/Receiver _ operating _ character istic](https://en.wikipedia.org/wiki/Receiver_operating_characteristic)******
4.  ******[https://en . Wikipedia . org/wiki/Loss _ functions _ for _ class ification](https://en.wikipedia.org/wiki/Loss_functions_for_classification)******
5.  ******[https://en.wikipedia.org/wiki/Coefficient_of_determination](https://en.wikipedia.org/wiki/Coefficient_of_determination)******
6.  ******[https://en.wikipedia.org/wiki/Median_absolute_deviation](https://en.wikipedia.org/wiki/Median_absolute_deviation)******

## ******æ›´å¤šå…³äºæœºå™¨å­¦ä¹ çš„æ–‡ç« :******

******[](/k-nearest-neighbour-explained-part-1-5e5e9192050) [## k-æœ€è¿‘é‚»è§£é‡Š-ç¬¬ 1 éƒ¨åˆ†

### KNN ç®—æ³•èƒŒåçš„ç§‘å­¦è§£é‡Šï¼

towardsdatascience.com](/k-nearest-neighbour-explained-part-1-5e5e9192050) [](https://medium.com/@pv009/q-q-plots-explained-5aa8495426c0) [## Q-Q å›¾è§£é‡Š

### æ¢ç´¢ Q-Q å›¾çš„åŠ›é‡ã€‚

medium.com](https://medium.com/@pv009/q-q-plots-explained-5aa8495426c0) [](https://medium.com/@pv009/the-powers-of-normal-distribution-4cbb06e4a955) [## â€œæ­£æ€åˆ†å¸ƒâ€çš„åŠŸæ•ˆ

### ç†è§£é’Ÿå½¢æ›²çº¿èƒŒåçš„ç§‘å­¦ï¼

medium.com](https://medium.com/@pv009/the-powers-of-normal-distribution-4cbb06e4a955) 

è¿˜æœ‰æ›´å¤šåœ¨ [Paras Varshney](https://medium.com/u/22b31444736c?source=post_page-----135b4ae27f7e--------------------------------) çš„ã€‚

å¦‚æœä½ ä»è¿™ç¯‡æ–‡ç« ä¸­å­¦åˆ°äº†æ–°çš„ä¸œè¥¿æˆ–è€…å–œæ¬¢é˜…è¯»å®ƒï¼Œé‚£ä¹ˆå°±åˆ†äº«å‡ºæ¥ï¼Œè®©å…¶ä»–äººä¹Ÿèƒ½æ„Ÿå—åˆ°ã€‚æ¬¢è¿ç»™æˆ‘ç•™è¨€ã€‚

**è°¢è°¢ï¼********