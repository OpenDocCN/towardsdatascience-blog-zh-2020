<html>
<head>
<title>Data Exploration on Airbnb Singapore: 01</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Airbnb新加坡数据探索:01</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-exploration-on-airbnb-singapore-01-40698c54cac3?source=collection_archive---------9-----------------------#2020-06-17">https://towardsdatascience.com/data-exploration-on-airbnb-singapore-01-40698c54cac3?source=collection_archive---------9-----------------------#2020-06-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="eb7f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><strong class="ak">用Python对Airbnb新加坡数据进行探索性数据分析</strong></h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/27d5bcab0e0c4d854fa260f4cf95eaf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iEnOPJiX8YkLDfQsikpTvw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@__menglong?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">鲍梦龙</a>在<a class="ae kv" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="9ab9" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="8b13" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">嗨！我叫阿格拉，我是一名建筑师，对建筑、城市设计、房地产和技术知识的整合感兴趣。本文是我在使用python编程语言学习数据科学的几个星期中，对我的个人数据科学项目的一个总结。</p><p id="2223" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如今，我们生活在一个数据大量产生和流通的时代。这些数据可以收集起来，让我们推断出有意义的结果，并做出明智的决定。然而，随着数据数量的增加，我们需要将数据可视化，以帮助我们进行数据分析。通过使用可视化工具，我们能够向我们的观众传递信息，并告知他们我们的发现。</p><p id="fce7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">本文的目的是探索一家技术公司的公开数据集，通过可视化工具清晰地绘制结果，并为公众和其他相关方提供新的见解。为了使每篇文章的主题更加集中，本文将分成一系列的几篇文章。</p><p id="9561" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">对于第一篇文章，我们将使用基本的探索性数据分析技术来探索和可视化来自新加坡Airbnb的数据集。我们将根据每个Airbnb房源的位置找出它们的分布，包括价格范围、房间类型、房源名称和其他相关因素。</p><p id="7ef5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">什么是探索性数据分析？</strong></p><p id="fb1f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我指的是数据科学家Terence S对探索性数据分析的<a class="ae kv" rel="noopener" target="_blank" href="/an-extensive-guide-to-exploratory-data-analysis-ddd99a03199e">解释。</a>简而言之，探索性数据分析(EDA)，也称为数据探索，是数据分析过程中的一个步骤，其中使用了多种技术来更好地了解所使用的数据集。</p><p id="7135" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">一些技术是:</p><ul class=""><li id="92bf" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">提取重要变量，留下无用变量</li><li id="cd9a" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">识别异常值、缺失值和人为错误</li><li id="eb36" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">理解数据，最大限度地提高我们对数据集的洞察力，并最大限度地减少流程后期可能出现的潜在错误</li></ul><p id="ca29" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">通过进行EDA，我们可以将几乎可用或不可用的数据集变成可用的数据集。</p><p id="d82b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">探索性数据分析的主要组成部分:</p><ol class=""><li id="58cb" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj nd mv mw mx bi translated">获取和加载数据</li><li id="4188" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj nd mv mw mx bi translated">清洗数据集</li><li id="796d" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj nd mv mw mx bi translated">探索和可视化数据</li></ol><p id="e767" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">为什么选择Airbnb？</strong></p><p id="4f46" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">自2008年以来，客人和主人一直使用Airbnb来拓展旅行的可能性，并提供一种更独特、更个性化的体验世界的方式。今天，Airbnb成为一种被全世界使用和认可的服务。通过Airbnb提供的数百万房源的数据分析对该公司来说是一个至关重要的因素。这些数以百万计的列表产生了大量的数据——可以分析的数据。</p><p id="7b2a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">为什么选择新加坡？</strong></p><p id="26bc" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">Airbnb在新加坡有着长期且相当复杂的关系。从五年前开始，新加坡政府就将Airbnb提供的短租贴上了非法服务的标签。虽然被贴上了这样的标签，但是到目前为止，只有两个案例发现房东因违反租赁法而被罚款。</p><p id="3994" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">此外，在疫情危机冲击全球旅游业之前。Airbnb在新加坡发展迅速，并在东南亚范围内产生了高度综合的数据。</p></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><h1 id="372a" class="kw kx iq bd ky kz nl lb lc ld nm lf lg jw nn jx li jz no ka lk kc np kd lm ln bi translated">1.获取和加载数据</h1><p id="eb74" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">对于这个项目，我们使用jupyter笔记本IDE和python编程语言来编写我们的脚本。IDE或集成开发环境是用于软件开发的软件应用程序。</p><p id="2410" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">为了获取数据，我们使用Airbnb数据，这些数据是在知识共享许可下在互联网上公开共享的。在我们能够将数据加载到我们的IDE之前，首先我们需要导入可视化和分析所需的各种外部库/模块。</p><p id="4747" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> a .加载python库</strong></p><ul class=""><li id="327f" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">用于数据分析的<strong class="lq ir">熊猫</strong>和<strong class="lq ir"> Numpy </strong>库</li><li id="6b00" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">用于数据可视化的<strong class="lq ir"> Matplotlib </strong>和<strong class="lq ir"> Seaborn </strong>库</li></ul><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="a409" class="nv kx iq nr b gy nw nx l ny nz">import pandas as pd<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>import matplotlib.image as mpimg<br/>%matplotlib inline<br/>import seaborn as sns</span></pre><p id="99de" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> b .加载数据集</strong></p><p id="6cf6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">为了加载数据集，我们使用pandas库和函数从<a class="ae kv" href="http://insideairbnb.com/" rel="noopener ugc nofollow" target="_blank">http://insideairbnb.com/</a>读取新加坡Airbnb 2019–2020数据集的CSV文件，将其转换为DataFrame并检查排名前5的索引数据。</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="d196" class="nv kx iq nr b gy nw nx l ny nz">airbnb = pd.read_csv('listings_sum.csv')<br/><strong class="nr ir">airbnb.head()</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/66ff92f5d7a23a137d824c75e0ee4d96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hGoPxEgBZ8mAqBpVpDKldA.png"/></div></div></figure><p id="7c1e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> c .了解数据</strong></p><p id="385d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在我们加载数据集之后，我们需要通过使用各种技术来理解数据集。首先，我们需要寻找关于我们的数据集有多大的信息。通过使用<strong class="lq ir"> shape </strong>属性，我们从包含列表索引的若干行和包含与该索引相关的每个特征的内容的若干列中了解我们的数据大小。</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="71ab" class="nv kx iq nr b gy nw nx l ny nz">airbnb.shape</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/e1a8fc1a36f18202d4a7055d44f17363.png" data-original-src="https://miro.medium.com/v2/resize:fit:166/format:webp/1*Bwxi8McMC_HpXBEVKDpOAw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(行数、列数)</p></figure><p id="d637" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">然后我们检查每一列的所有数据类型，如果它已经符合我们的要求。例如，我们需要经度和纬度上的数字数据类型(整数和浮点),为了列出名称，我们需要确保数据使用的是字符串/对象数据类型。</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="421b" class="nv kx iq nr b gy nw nx l ny nz">airbnb.dtypes</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/c771e8388d7f9de5bb1802ecc3c293aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*0SemeEkP62qJ_WAFSD-eGw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">数据类型信息</p></figure><p id="22a3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们发现我们的数据集有<strong class="lq ir"> 7395个列表</strong>。这些特性包括列表名称、主机id、位置信息、位置坐标、房间类型、每晚价格等等。</p><p id="2243" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">接下来，我们查找由所有新加坡地区列表组成的“neighbourhood _ group”的所有唯一值</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="0be2" class="nv kx iq nr b gy nw nx l ny nz">airbnb['neighbourhood_group'].unique()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/f0e0faad6bfd53f19bcdd1c6db18a9c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*1gdcj5ZK6nIaps_33V_Dtw.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/73c86c876dd2aff849f53f8911d2982c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*78NdsXeg6H-xEMAMo3QZ9Q.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">区域地图</p></figure><p id="35c5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从上面的列表中，我们看到新加坡有5个区域。</p><p id="8b92" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">城市重建局(URA)将该地区进一步划分为55个区域，称为城市规划区。我们将使用“邻居”列来查看哪个规划区域有Airbnb列表。</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="1813" class="nv kx iq nr b gy nw nx l ny nz">airbnb['neighbourhood'].unique()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/08e1114c7ad441041771e20ea2325040.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SIxJWuyg1N7UHSAbbgY9cA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">邻近</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/e59629acf0781b9118aafe26ae2696de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B48KFnXOWJAbTdv-ipd3SQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">规划区地图</p></figure><p id="37e9" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在，我们知道有43个规划区有Airbnb房源。</p><p id="33b8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们还查找列表中每个房间类型的“房间类型”列</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="2110" class="nv kx iq nr b gy nw nx l ny nz">airbnb['room_type'].unique()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/822185fa6a7184df13329ae9ce319aaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*d3G0aUXZF8BIAm5NXjQcHw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">房间类型</p></figure><p id="12cb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从上面的列表中，我们看到Airbnb有4种房型。根据Airbnb网站上的信息，每种房间类型的定义如下:</p><ul class=""><li id="b1e6" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated"><strong class="lq ir">包间</strong></li></ul><p id="644e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">客人可以单独进入酒店的卧室/睡眠区。其他区域如客厅、厨房和浴室也可能对主人开放，甚至对其他客人开放。</p><ul class=""><li id="4ff3" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated"><strong class="lq ir">整个家/公寓</strong></li></ul><p id="d470" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">客人们可以独享整个地方。它通常包括卧室、浴室和厨房。</p><ul class=""><li id="f5a5" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated"><strong class="lq ir">共享房间</strong></li></ul><p id="60ee" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">游客睡在卧室或可以与他人共享的公共区域。</p><ul class=""><li id="1d57" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated"><strong class="lq ir">酒店房间</strong></li></ul><p id="8214" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">典型的酒店房间及其设施。自2018年以来，Airbnb允许一些精品酒店和高评级独立酒店在其网站上列出他们的房间。</p></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><h1 id="e93a" class="kw kx iq bd ky kz nl lb lc ld nm lf lg jw nn jx li jz no ka lk kc np kd lm ln bi translated">2.清洗数据集</h1><p id="daf2" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">下一步是清理数据，我们加载的数据经常会有各种各样的错误，比如打字错误、缺少值、数据不完整等等。通过清理，数据质量将有更好的质量用于进一步的分析。</p><p id="f6b3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> a .检查缺少值的列</strong></p><p id="b1f0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">让我们首先检查我们的数据集中是否有任何丢失的值</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="74bd" class="nv kx iq nr b gy nw nx l ny nz"><strong class="nr ir">airbnb.isnull().sum()</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/5d777b29ee65f9d80a9c9d2790fea990.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*j6D0tgBFxqGQwpHUJpLjfA.png"/></div></figure><p id="69c1" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> b .删除冗余变量</strong></p><p id="310a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在我们的例子中，观察到的缺失值不需要过多的处理。查看我们的数据集，我们可以声明列“name”和“host_name”，“last_review”对于进一步的数据探索分析是不相关和不道德的。因此，我们可以去掉那些列。</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="b24b" class="nv kx iq nr b gy nw nx l ny nz">airbnb.drop(['id','host_name','last_review'],axis=1,inplace=True)<br/><strong class="nr ir">airbnb.head()</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/2d818e26c5dd1f172b20d7088c45b8bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KJf_jml7Uh7zjYAYg7ogCg.png"/></div></div></figure><p id="b5c0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> c .替换所有缺失值</strong></p><p id="d8bd" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">接下来，我们需要用0(零)替换“review_per_month”列中所有缺失的值，以确保缺失的值不会干扰我们的分析</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="4e4b" class="nv kx iq nr b gy nw nx l ny nz">airbnb['reviews_per_month'].fillna(0,inplace=True)</span></pre></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><h1 id="7330" class="kw kx iq bd ky kz nl lb lc ld nm lf lg jw nn jx li jz no ka lk kc np kd lm ln bi translated">3.探索和可视化数据</h1><p id="d6a4" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">清理完数据后，下一步是通过可视化和分析要素值来探索数据，解释过程和结果。</p><p id="3f82" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">对于我们的例子，我们将查找由每个最大值组成的各种列表类别，使用地图可视化列表分布，为每个区域创建房间类型比例，从列表名称中查找销售值，并找到最受欢迎的列表的平均价格。</p><p id="9371" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> a .热门列表计数</strong></p><p id="b547" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">首先，我们跳过“名称”的第一列，从“主机id”列开始。然后，我们根据列表计数对前10个主机进行切片</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="813c" class="nv kx iq nr b gy nw nx l ny nz">top_host_id = airbnb['host_id'].value_counts().head(10)</span></pre><p id="bee2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">接下来，我们设置图形大小，并使用条形图为数据可视化绘图进行设置</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="706e" class="nv kx iq nr b gy nw nx l ny nz">sns.set(rc={'figure.figsize':(10,8)})</span><span id="2b00" class="nv kx iq nr b gy oj nx l ny nz">viz_bar = top_host_id.plot(kind='bar')<br/>viz_bar.set_title('Hosts with the most listings in Singapore')<br/>viz_bar.set_xlabel('Host IDs')<br/>viz_bar.set_ylabel('Count of listings')<br/>viz_bar.set_xticklabels(viz_bar.get_xticklabels(), rotation=45)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/54b63675f21ad9a7c38e11a78768ef15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AW1Aj_fcaaF94vzofmMWCw.png"/></div></div></figure><p id="cf9a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从上面的图表中，我们可以看到<strong class="lq ir">前10名主机的总数几乎是整个数据集(7395个列表)</strong>的20%( 1416个列表)。甚至其中一个主机有350多个房源！</p><p id="58f0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> b .顶部区域面积</strong></p><p id="1d35" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">接下来，我们使用“neighbourhood _ group”列来可视化每个区域中列表计数的比例</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="fcd4" class="nv kx iq nr b gy nw nx l ny nz">labels = airbnb.neighbourhood_group.value_counts().index<br/>colors = ['#008fd5','#fc4f30','#e5ae38','#6d904f','#8b8b8b']<br/>explode = (0.1,0,0,0,0)</span><span id="6227" class="nv kx iq nr b gy oj nx l ny nz">shape = airbnb.neighbourhood_group.value_counts().values</span><span id="cfb5" class="nv kx iq nr b gy oj nx l ny nz">plt.figure(figsize=(12,12))<br/>plt.pie(shape, explode = explode, labels=shape, colors= colors, autopct = '%1.1f%%', startangle=90)<br/>plt.legend(labels)<br/>plt.title('Neighbourhood Group')<br/><strong class="nr ir">plt.show()</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/4735db57dba2b6204211566f53316365.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DsIpxIRx6XQUp4sJq2dAfQ.png"/></div></div></figure><p id="24f9" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从上面的图表中，我们可以看到<strong class="lq ir">中心区域拥有最多的房源</strong>，有近6000个房源，占全部房源的80%以上。</p><p id="bdf4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> c .顶级规划领域</strong></p><p id="92b4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">接下来，我们查找列表数量最多的前10个规划区域</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="14ed" class="nv kx iq nr b gy nw nx l ny nz">airbnb.neighbourhood.value_counts().head(10)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/b07f9971e5c4b5b9a2cd5da2504e0694.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*ZZO7Th0p08a1qDHdqMTvng.png"/></div></figure><p id="d338" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们可以看到，<strong class="lq ir"> Kallang的列表数最高。</strong>我们还发现<strong class="lq ir">前10个规划区中有9个位于中部地区</strong>，Bedok位于东部地区是个例外。</p><p id="7ba5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> d .列表图</strong></p><p id="176e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">为了创建列表位置的地图，我们将使用“经度”和“纬度”列。但是首先，我们需要检查列中的值</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="7f10" class="nv kx iq nr b gy nw nx l ny nz">coord = airbnb.loc[:,['longitude','latitude']]<br/><strong class="nr ir">coord.describe()</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/1cdc08e00711cb3a8935e4359032f29b.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*RbwnxU_tNFc5n4e5cdRcyA.png"/></div></figure><p id="e465" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从上面的数据中，我们可以看到<strong class="lq ir">最小</strong>和<strong class="lq ir">最大</strong>指标的<strong class="lq ir">经度</strong>和<strong class="lq ir">纬度</strong>的外值。</p><p id="bb08" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">接下来，我们可视化每个列表的散点图，并根据每个不同区域的颜色对其进行分组</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="d4c0" class="nv kx iq nr b gy nw nx l ny nz">plt.figure(figsize=(18,12))<br/>plt.style.use('fivethirtyeight')</span><span id="a613" class="nv kx iq nr b gy oj nx l ny nz">BBox = (103.5935, 104.0625, 1.1775, 1.5050)</span><span id="dc5b" class="nv kx iq nr b gy oj nx l ny nz">sg_map = plt.imread('map_bnw.png')<br/>plt.imshow(sg_map,zorder=0,extent=BBox)<br/>ax = plt.gca()</span><span id="e9f4" class="nv kx iq nr b gy oj nx l ny nz">groups = airbnb.groupby('neighbourhood_group')<br/>for name,group in groups :<br/>    plt.scatter(group['longitude'],group['latitude'],label=name,alpha=0.5, edgecolors='k')</span><span id="6461" class="nv kx iq nr b gy oj nx l ny nz">plt.xlabel('Longitude')<br/>plt.ylabel('Latitude')<br/>plt.legend()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/2d01223845ab2566375d4f6f64554bc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZfudIk2T1ZIAgv9zqFQMig.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">列表映射</p></figure><p id="55c2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在我们可以看到列表是如何被绘制到地图中的。为了更好地理解列表密度，我们可以使用follow热图</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="26df" class="nv kx iq nr b gy nw nx l ny nz"><strong class="nr ir">import folium<br/>from folium.plugins import HeatMap</strong></span><span id="cc06" class="nv kx iq nr b gy oj nx l ny nz">map_folium = folium.Map([1.35255,103.82580],zoom_start=11.4)</span><span id="ac41" class="nv kx iq nr b gy oj nx l ny nz">HeatMap(airbnb[['latitude','longitude']].dropna(),radius=8,gradient={0.2:'blue',0.4:'purple',0.6:'orange',1.0:'red'}).add_to(map_folium)<br/>display(map_folium)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/9c6a63cd6258d444b774f2c11a657dfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ustIPBbCHwYZ4TXhBy2-g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">列表密度图</p></figure><p id="f414" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从上面的地图中，我们可以清楚地看到<strong class="lq ir">最密集的列表</strong>所在的位置，在中央区域的<strong class="lq ir">南部区域用红色显示。离中心区域越远，上市密度越低。</strong></p><p id="6f9f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> e .价格图</strong></p><p id="ff54" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在我们可视化价格图之前，我们需要通过移除一些异常数据来更新数据集，因为一些数据价格的值远离IQR(四分位数范围)。</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="f13f" class="nv kx iq nr b gy nw nx l ny nz">airbnb_1 = airbnb[airbnb.price &lt; 300]</span></pre><p id="2f53" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">接下来，我们使用价格热图中的经度和纬度点来可视化每个列表的散点图和价格范围的差异。</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="1f40" class="nv kx iq nr b gy nw nx l ny nz">plt.figure(figsize=(18,12))</span><span id="b2f1" class="nv kx iq nr b gy oj nx l ny nz">sg_map = plt.imread('map_bnw.png')<br/>plt.imshow(sg_map,zorder=0,extent=BBox)<br/>ax = plt.gca()</span><span id="7f60" class="nv kx iq nr b gy oj nx l ny nz">airbnb_1.plot(kind='scatter',x='longitude',y='latitude',label='Listing Location', c='price', ax=ax, cmap=plt.get_cmap('jet'), colorbar=True, alpha=0.4, zorder=5)</span><span id="0e01" class="nv kx iq nr b gy oj nx l ny nz"><strong class="nr ir">plt.legend()<br/>plt.show()</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/06517085c0814ad4ad959075c3dcba1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E37nTNNuDHYh1dUMx5CVNw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">列表价格图</p></figure><p id="cca3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从上面的地图中，我们观察到<strong class="lq ir">价格朝着中心区域</strong>的中心部分相对上升，因为该区域是新加坡的CCR区域。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/283620f2a42f89d7bbea65f99072a091.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kdzsy6lIiKpBNtZnjSYHNw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://www.propertyguru.com.sg/property-guides/ccr-ocr-rcr-region-singapore-ura-map-21045" rel="noopener ugc nofollow" target="_blank"> PropertyGuru市场细分图</a></p></figure><p id="bf4e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从房地产的角度来看，URA将新加坡分为三个主要区域，他们称之为“细分市场”。核心中心区(CCR)，用黄色表示，是中心区的主要区域，在这里可以找到大多数高端和豪华的物业。中部地区(RCR)其余部分的红色被视为位于外部中部地区(OCR)的大众市场公寓和CCR中的高价值物业之间的中间层市场。最后一个是OCR，由灰色表示，覆盖了新加坡四分之三的面积，基本上是低端大众市场公寓所在的区域。</p><p id="bf4a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">通过查看上面的两张地图，我们可以认为Airbnb的挂牌价格与房地产细分市场有关。但要得出这样的结论，我们需要更多的数据来做进一步的分析。</p><p id="227c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> f .价格分布</strong></p><p id="31c4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">根据我们对价格热图的观察，我们需要使用一个方框图来显示价格分布，以便更好地了解按“neighborhood _ group”/region区域分组的标价范围。</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="8f62" class="nv kx iq nr b gy nw nx l ny nz">plt.style.use('fivethirtyeight')<br/>plt.figure(figsize=(14,12))<br/>sns.boxplot(y='price',x='neighbourhood_group',data = airbnb_1)<br/>plt.title('Neighbourhood Group Price Distribution &lt; S$ 300')<br/><strong class="nr ir">plt.show()</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/597fc10cdb25a4867a4cb695b67a9a08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uN-wb5d_M0Ig2ctVKacuRg.png"/></div></div></figure><p id="ba93" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从上面的数据中，我们看到<strong class="lq ir">中部地区每晚的价格最贵</strong>，中位数为<strong class="lq ir">130</strong>新元。</p><p id="1e95" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> g .顶级列表词</strong></p><p id="8762" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">接下来，我们将通过找出清单名称中最常用的词来更深入地探索属性细节。最常用的词可以代表他们的财产对潜在客人的销售价值。首先，我们将创建一个收集单词的函数。</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="264f" class="nv kx iq nr b gy nw nx l ny nz"><strong class="nr ir">#Crete empty list where we are going to put the name strings</strong><br/>names=[]</span><span id="2028" class="nv kx iq nr b gy oj nx l ny nz"><strong class="nr ir">#Getting name string from 'name' column and appending it to the empty list</strong><br/>for name in airbnb.name:<br/>    names.append(name)</span><span id="59ed" class="nv kx iq nr b gy oj nx l ny nz"><strong class="nr ir">#Setting a function to split name strings into seperate words</strong><br/>def split_name(name):<br/>    s = str(name).split()<br/>    return s</span><span id="d69c" class="nv kx iq nr b gy oj nx l ny nz"><strong class="nr ir">#Create empty list where we are going to count the words</strong><br/>names_count = []</span><span id="1f27" class="nv kx iq nr b gy oj nx l ny nz"><strong class="nr ir">#Getting name string to appending it to the names_count list</strong><br/>for n in names:<br/>    for word in split_name(n):<br/>        word = word.lower()<br/>        names_count.append(word)</span></pre><p id="8189" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们需要导入<strong class="lq ir">计数器</strong>库来计数并生成包含主机使用的前25个字的原始数据</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="368f" class="nv kx iq nr b gy nw nx l ny nz"><strong class="nr ir">from collections import Counter</strong></span><span id="74c8" class="nv kx iq nr b gy oj nx l ny nz">top_25 = Counter(names_count).most_common()<br/>top_25 = top_25[:25]</span></pre><p id="418e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">然后，我们将数据转换成数据帧，并将我们的发现可视化</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="3d35" class="nv kx iq nr b gy nw nx l ny nz">word_count_data = pd.DataFrame(top_25)<br/>word_count_data.rename(columns={0:'Words',1:'Counts'},inplace=True)</span><span id="5c61" class="nv kx iq nr b gy oj nx l ny nz">viz_count = sns.barplot(x='Words',y='Counts', data = word_count_data)<br/>viz_count.set_title('Top 25 used words for listing names')<br/>viz_count.set_ylabel('Count of words')<br/>viz_count.set_xlabel('Words')<br/>viz_count.set_xticklabels(viz_count.get_xticklabels(),rotation = 90)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/69d610a2e74237f1e6576107c32d13c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P08AKBrTD9OOHk7Les5LCg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">列出姓名时最常用的25个单词</p></figure><p id="a291" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从上面的图表中，我们看到了列表名称中使用的前25个单词。我们可以用文字云可视化的方法来帮助我们更好地理解<strong class="lq ir"> </strong>图表。</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="6e05" class="nv kx iq nr b gy nw nx l ny nz"><strong class="nr ir">from wordcloud import WordCloud, ImageColorGenerator</strong></span><span id="5c67" class="nv kx iq nr b gy oj nx l ny nz">text = ' '.join(str(n).lower() for n in airbnb.name)</span><span id="fe63" class="nv kx iq nr b gy oj nx l ny nz"><strong class="nr ir">#Generate wordcloud image</strong><br/>wordcloud = WordCloud(max_words=200, background_color = 'white').generate(text)<br/>plt.figure(figsize=(25,20))</span><span id="c617" class="nv kx iq nr b gy oj nx l ny nz"><strong class="nr ir">#Display the image</strong><br/>plt.imshow(wordcloud, interpolation='bilinear')<br/>plt.axis('off')<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/311b9f1628083262835cf934dc272e87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KD74RSEwMIHM3wEazS9w8Q.png"/></div></div></figure><p id="c1e7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">正如我们所看到的，大多数列表销售价值与公共设施(如mrt和活动中心)的邻近度或连接度有关，通过“MRT”、“near”、“to”、“city”、“walk to”关键字显示。有趣的是，看到房间条件如何落后于这些值，在图表的较低等级上显示为“宽敞”、“舒适”、“惬意”。</p><p id="e903" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> h .房型详情</strong></p><p id="6c59" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">接下来，我们将使用Plotly API图形可视化库来可视化每个地区的所有房型比例</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="bcd1" class="nv kx iq nr b gy nw nx l ny nz"><strong class="nr ir">import plotly.offline as pyo<br/>import plotly.graph_objs as go</strong></span><span id="9459" class="nv kx iq nr b gy oj nx l ny nz"><strong class="nr ir">#Setting up the color pallete</strong><br/>color_dict = {'Private room': '#cc5a49', 'Entire home/apt' : '#4586ac', 'Shared room' : '#21908d', 'Hotel room' : '#C0C0C0' }</span><span id="f6a9" class="nv kx iq nr b gy oj nx l ny nz"><strong class="nr ir">#Group the room type using 'neighbourhood_group' as an index</strong><br/>airbnb_types=airbnb.groupby(['neighbourhood_group', 'room_type']).size()</span><span id="7ca6" class="nv kx iq nr b gy oj nx l ny nz"><strong class="nr ir">#Create function to plot room type proportion on all region area</strong></span><span id="926d" class="nv kx iq nr b gy oj nx l ny nz">for region in airbnb.neighbourhood_group.unique():<br/>    <br/>    plt.figure(figsize=(24,12))<br/>    <br/>    airbnb_reg=airbnb_types[region]<br/>    labels = airbnb_reg.index<br/>    sizes = airbnb_reg.values<br/>              <br/>    colors = [color_dict[x] for x in labels]<br/>    <br/>    plot_num = 321<br/>    plt.subplot(plot_num)<br/>    reg_ch = go.Figure(data = [go.Pie(labels = labels, values = sizes, hole = 0.6)])<br/>    reg_ch.update_traces(title = reg, marker=dict(colors=colors))<br/>    reg_ch.show()<br/>    <br/>    plot_num += 1</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/f072267854cbbd48a9f18139f638e282.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bh_kYDUt9k4sQDwcZT4pJQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">房间类型</p></figure><p id="a947" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们可以看到，中心区域是唯一由整个住宅/公寓类型主导的区域，其余区域由私人房间类型主导。总体而言，酒店类型是每个地区上最少的房源，因为Airbnb在2018年才开始接受酒店房源。</p><p id="094e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">一.最受关注的10个名单</p><p id="7d3b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们将根据评论数量找出前10名的房源，以了解新加坡最受欢迎的Airbnb房源。</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="864e" class="nv kx iq nr b gy nw nx l ny nz">airbnb.nlargest(10, 'number_of_reviews')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/94872481907514c3bf75df0a4b103f0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rV3E6m_euhPmc0P0IYlkvw.png"/></div></div></figure><p id="6fe8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">瞧啊。这是10个最受欢迎的列表。同样，我们发现大多数最受关注的列表位于中部地区，10个列表中有7个位于中部地区。</p><p id="ab1c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> j .每晚平均价格</strong></p><p id="ab73" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">最后，我们将计算10个最受欢迎的房源每晚的平均价格</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="1e31" class="nv kx iq nr b gy nw nx l ny nz">price_avg = top_review.price.mean()<br/>print('Average price per night: S$ {}'.format(price_avg))</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/ac1dbbef5fa4d97c11f7054dbfd46aea.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*_lFzJobEn15EFsG3V1ZJGA.png"/></div></figure><p id="9d84" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从这个输出中，我们可以观察到<strong class="lq ir">Airbnb Singapore上最受欢迎的前10个房源的平均价格为99.9新元</strong>，大多数房源的价格都低于90新元，其中6/10是“私人房间”类型，热门评论房源总共有3111条评论。</p></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><h1 id="cacd" class="kw kx iq bd ky kz nl lb lc ld nm lf lg jw nn jx li jz no ka lk kc np kd lm ln bi translated"><strong class="ak">结论</strong></h1><p id="390a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">简单地通过对数据集执行EDA，我们已经识别出关于Airbnb房源如何在新加坡分布的各种新见解，我们知道房源位于哪里，发现中心区域支配着房源数量并具有最高的价格范围，房源价格可能如何与周围的房地产价格相关，并发现房源与其周围的连接性成为共同的销售价值之一。</p><p id="e4dc" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在下一篇文章中，我们将使用更详细的版本来探索数据集。我们将重点关注中心区域，以了解更深层次的背景，了解该区域每个房源之间的关系，以及它们与外部变量的关系，例如与公共设施的连接，以及房地产价格对房源租赁价格的影响。</p><p id="d149" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">感谢您的阅读！请随时给予任何反馈！</p><p id="2c4a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">参考:</strong></p><ol class=""><li id="0664" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj nd mv mw mx bi translated"><a class="ae kv" rel="noopener" target="_blank" href="/an-extensive-guide-to-exploratory-data-analysis-ddd99a03199e">https://towards data science . com/an-extensive-guide-to-explorative-data-analysis-DDD 99 a 03199 e</a></li><li id="1f53" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj nd mv mw mx bi translated"><a class="ae kv" href="https://www.channelnewsasia.com/news/business/airbnb-records-30-growth-rate-in-first-quarter-on-booking-11817260" rel="noopener ugc nofollow" target="_blank">https://www . channelnewsasia . com/news/business/Airbnb-records-30-第一季度预订增长率-11817260 </a></li><li id="4736" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj nd mv mw mx bi translated"><a class="ae kv" href="https://www.propertyguru.com.sg/property-guides/ccr-ocr-rcr-region-singapore-ura-map-21045" rel="noopener ugc nofollow" target="_blank">https://www . property guru . com . SG/property-guides/CCR-ocr-rcr-region-Singapore-ura-map-21045</a></li><li id="ece6" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj nd mv mw mx bi translated"><a class="ae kv" href="https://www.airbnb.com/help/article/5/what-does-the-room-type-of-a-listing-mean" rel="noopener ugc nofollow" target="_blank">https://www . Airbnb . com/help/article/5/the room-type-of-a-listing-是什么意思</a></li></ol></div></div>    
</body>
</html>