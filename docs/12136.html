<html>
<head>
<title>Why We Need to Use Pandas New String Dtype Instead of Object for Textual Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我们需要使用 Pandas 新的字符串数据类型而不是文本数据的对象</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-we-need-to-use-pandas-new-string-dtype-instead-of-object-for-textual-data-6fd419842e24?source=collection_archive---------27-----------------------#2020-08-21">https://towardsdatascience.com/why-we-need-to-use-pandas-new-string-dtype-instead-of-object-for-textual-data-6fd419842e24?source=collection_archive---------27-----------------------#2020-08-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/7b5e6636773d27fd4e8b596cb2e90b60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YkJLX2qtnakR6bYiQWqVcw.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">伊洛娜·弗罗利希在<a class="ae kf" href="https://unsplash.com/s/photos/panda?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="c27f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们必须用数值来表示每一位数据，以便由机器学习和深度学习模型进行处理和分析。然而，字符串通常不会有一个好的和干净的格式，需要大量的预处理。</p><p id="18cc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Pandas 提供了许多函数和方法来处理文本数据。在这篇文章中，我们将关注字符串的数据类型，而不是字符串操作。使用合适的数据类型是充分利用 Pandas 的第一步。文本数据目前有两种数据类型，<strong class="ki iu">对象</strong>和<strong class="ki iu">字符串类型。</strong></p><p id="b32b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在 pandas 1.0 之前，只有“object”数据类型用于存储字符串，这导致了一些缺点，因为非字符串数据也可以使用“object”数据类型存储。Pandas 1.0 引入了一种新的特定于字符串数据的数据类型，即<strong class="ki iu">string type</strong>。到目前为止，我们仍然可以使用 object 或 string type 来存储字符串，但是在将来，我们可能会被要求只使用 string type。</p><blockquote class="le lf lg"><p id="a677" class="kg kh lh ki b kj kk kl km kn ko kp kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">这里需要注意的一点是，对象数据类型仍然是字符串的默认数据类型。要使用 StringDtype，我们需要显式声明它。</p></blockquote><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/9826d8c112779f5ad151ee1adab2ebbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*etNd0EK9J5LoyJbZ3xKgcA.png"/></div></figure><p id="aa77" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以传递“<strong class="ki iu">字符串</strong>或<strong class="ki iu"> pd。用于选择字符串数据类型的 Dtype 参数的 string type()</strong>参数。</p><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/448489ce7275b074c97c214cf5c871de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*C_88bseASXbNrkPGPrQ9-Q.png"/></div></figure><p id="f757" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以使用 astype 函数将“对象”数据类型转换为“字符串”数据类型:</p><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/5cbeaa514a15eb7f53856c167fbaeeff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*3Kb07PSVDFiFzwvHyvgoEA.png"/></div></figure></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><p id="f33d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">尽管默认类型是“object ”,但出于一些原因，建议使用“string”。</p><ul class=""><li id="6640" class="lz ma it ki b kj kk kn ko kr mb kv mc kz md ld me mf mg mh bi translated">对象数据类型的范围更广，允许存储几乎任何东西。因此，即使我们在应该是字符串的地方有非字符串，我们也不会得到任何错误。</li></ul><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/22191e4178a887e2b16f3c5e5cc86223.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*_eMReJk9ET353wv5CrmjYg.png"/></div></figure><ul class=""><li id="6c24" class="lz ma it ki b kj kk kn ko kr mb kv mc kz md ld me mf mg mh bi translated">拥有专用的数据类型总是更好。例如，如果我们用“字符串”数据类型尝试上面的例子，我们会得到一个 TypeError。</li></ul><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/52af395d65f6c18456da8c5a29e43acc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*_J579Drv9DmAtAlTghCZaw.png"/></div></figure><ul class=""><li id="0aa7" class="lz ma it ki b kj kk kn ko kr mb kv mc kz md ld me mf mg mh bi translated">拥有专用的数据类型允许特定于数据类型的操作。例如，如果使用了“对象”数据类型，我们不能使用<strong class="ki iu"> select_dtypes </strong>只选择文本列。Select_dtypes(include="object ")将返回任何具有对象数据类型的列。另一方面，如果我们对文本数据使用“string”数据类型，select_dtypes(include="string ")将给出我们所需要的。</li></ul></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><p id="c28f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就目前的性能而言，“字符串”数据类型并不优于“对象”。但是，预计随着未来的增强,“字符串”数据类型的性能将会提高，内存消耗将会减少。因此，对于文本数据，我们应该已经在使用“字符串”而不是“对象”了。</p><p id="b15e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>