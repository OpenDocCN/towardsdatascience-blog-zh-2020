<html>
<head>
<title>Using Machine Learning to Find Amazon’s Next Fulfillment Center</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用机器学习寻找亚马逊的下一个履行中心</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-machine-learning-to-find-amazons-next-fulfillment-center-2a7b44cc4663?source=collection_archive---------92-----------------------#2020-05-18">https://towardsdatascience.com/using-machine-learning-to-find-amazons-next-fulfillment-center-2a7b44cc4663?source=collection_archive---------92-----------------------#2020-05-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="c98e" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://medium.com/towards-data-science/data-science-in-the-real-world/home" rel="noopener">现实世界中的数据科学</a></h2><div class=""/><div class=""><h2 id="d9c0" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">假设:巴西。但是具体在哪里呢？</h2></div><p id="cfd1" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">亚马逊应该在哪里建立下一个履行中心？我们可以利用机器学习来帮助回答这个问题。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ln"><img src="../Images/32862cd14486c14988717708e42e02df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*77_8IDA5kepmMNDH_AxgxA.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">图片来自谷歌地图</p></figure><p id="1b28" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">首先，让我们定义业务案例:</p><ul class=""><li id="6618" class="md me it kt b ku kv kx ky la mf le mg li mh lm mi mj mk ml bi translated">履行中心的一个主要目的是实现亚马逊的核心价值主张:快速 delvery。这意味着对于客户来说，位于中心位置非常重要。</li><li id="eb5d" class="md me it kt b ku mm kx mn la mo le mp li mq lm mi mj mk ml bi translated">据估计，2020 年，亚马逊拥有美国电子商务市场份额的近 44%，第二大竞争对手的份额为 7%。让我们放眼美国之外，发掘尚未开发的全球市场机会。</li><li id="61eb" class="md me it kt b ku mm kx mn la mo le mp li mq lm mi mj mk ml bi translated">让我们从现有的亚马逊国家中进行选择，以利用基础设施和法规遵从性。</li></ul><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi mr"><img src="../Images/ba37b18c95db507f5c7224360533d1f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2SVlbp9EcttiP3xE513tfw.jpeg"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">图片来自维基百科</p></figure><p id="67b6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">接下来，让我们探讨亚马逊履行中心与全国人口的比率。比率越小，中心需要担心的客户就越少，交付速度就越快。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ms"><img src="../Images/9a8642c4582027c079b30e0370ff2f0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ac7K3OcLo0HrxFdMp-sDRA.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">2020 年 5 月从维基百科提取的数据</p></figure><p id="2849" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">例如，亚马逊美国目前的比例是每 300 万人有 1 个履行中心。这意味着旧金山湾区中心的 1 个履行中心使亚马逊能够在当天完成购物项目并开车送货。</p><p id="9b3a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">看上面的数据，哪个国际国家的增长潜力最大？巴西似乎是一个不错的选择:它的总中心数量最少，人口最多，每 1.05 亿人有 1 个中心，也是亚马逊最近宣布扩张和感兴趣的地方。</p><p id="3d5f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">假设这些都是正确的因素，那么巴西到底在哪里呢？我们可以使用机器学习 k-means 聚类来识别潜在位置。从结论开始，这里是潜在的位置。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/49128fa70e69ced7bc356d9fc9f2730c.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*NggXYc6OViRAPytTwgXfEA.png"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">小圆圈代表巴西所有的 387 个城市。橙色的大圆圈代表 10 个集群的质心，这是潜在的履行中心位置。</p></figure><p id="f302" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">下面是获得结果的代码:</p><pre class="lo lp lq lr gt mu mv mw mx aw my bi"><span id="e074" class="mz na it mv b gy nb nc l nd ne"># Import libraries<br/>import pandas as pd<br/>from sklearn.cluster import KMeans<br/>import plotly.graph_objects as go</span><span id="27c5" class="mz na it mv b gy nf nc l nd ne"># Load and explore data of world cities from <a class="ae ng" href="https://simplemaps.com/data/world-cities" rel="noopener ugc nofollow" target="_blank">https://simplemaps.com/data/world-cities</a><br/>data = pd.read_csv('Data/worldcities.csv')<br/>data.head()</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi nh"><img src="../Images/814b89dc5d46e46cfcbad9f0981b2d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K-X_8YHU7cn_7Q1jHGIHeg.png"/></div></div></figure><pre class="lo lp lq lr gt mu mv mw mx aw my bi"><span id="a60f" class="mz na it mv b gy nb nc l nd ne"># Find how many cities in Brazil<br/>data.loc[data.country == 'Brazil'].count()</span><span id="9b6a" class="mz na it mv b gy nf nc l nd ne"># Filter data to only have Brazil<br/>brazil = data[data.country.isin(['Brazil'])]<br/>print(brazil.shape)<br/>brazil.head()</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ni"><img src="../Images/f866517de586a7c6bb9650c80cb7c4d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mvH1sn-qc0EDS-namelOXw.png"/></div></div></figure><pre class="lo lp lq lr gt mu mv mw mx aw my bi"><span id="15fb" class="mz na it mv b gy nb nc l nd ne"># Use k-means to find clusters <br/>brazil2 = brazil[['lat', 'lng']]<br/>kmeans = KMeans(n_clusters = 10)<br/>kmeans.fit(brazil2)<br/>y_means = kmeans.predict(brazil2)<br/>centers = kmeans.cluster_centers_</span><span id="9d6c" class="mz na it mv b gy nf nc l nd ne"># Plot on map<br/>fig = go.Figure(data = go.Scattergeo(<br/>    lon = brazil2['lng'],<br/>    lat = brazil2['lat'],<br/>    mode = 'markers',<br/>    marker = dict(<br/>        size = 3,<br/>        opacity = 0.8,<br/>        reversescale = True,<br/>        autocolorscale = True,<br/>        symbol = 'circle',<br/>        line = dict(<br/>            width = 1,<br/>            color = ['rgba(102, 102, 102)']<br/>        ),<br/>        cmin = 0,<br/>        color = y_means,<br/>        colorbar_title = "City Clusters"<br/>    )<br/>))</span><span id="bb5a" class="mz na it mv b gy nf nc l nd ne">fig.add_trace(go.Scattergeo(<br/>    lon = centers[:,1],<br/>    lat = centers[:,0],<br/>    mode = 'markers',<br/>    marker = dict(<br/>        size = 8,<br/>        line = dict(<br/>            width = 1,<br/>            color = 'orange'<br/>        ),<br/>        color = 'orange',<br/>    )<br/>))</span><span id="ca33" class="mz na it mv b gy nf nc l nd ne">fig.update_layout(<br/>    title = "Brazil City Clusters and Centroids ",<br/>    geo = dict(<br/>        scope = "south america",<br/>        showland = True,<br/>    )<br/>)</span><span id="aa5f" class="mz na it mv b gy nf nc l nd ne"># Print to new page: fig.write_html('first_figure.html', auto_open=True)<br/>fig</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/49128fa70e69ced7bc356d9fc9f2730c.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*NggXYc6OViRAPytTwgXfEA.png"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">小圆圈代表巴西所有的 387 个城市。橙色的大圆圈代表 10 个一组的质心，这是潜在的履行中心位置。</p></figure><p id="b1df" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果我们将聚类数增加到 25，我们会得到这样的结果:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi nj"><img src="../Images/52c1b7502dd7c547bfad301c7171597d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eNjpCxeF8XaZ0HOFIog_KQ.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">从 plot ly(plotly.com/python/scatter-plots-on-maps)生成的地图图像</p></figure><p id="0f6f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">为了达到与亚马逊美国相同的履行中心比率，亚马逊巴西将需要 70 个中心。我们可以在聚类中加入其他因素，如人口变量。</p><pre class="lo lp lq lr gt mu mv mw mx aw my bi"><span id="68b4" class="mz na it mv b gy nb nc l nd ne"># Use k-means to find clusters <br/>brazil2 = brazil[['lat', 'lng', '<strong class="mv jd">population</strong>']]<br/>kmeans = KMeans(n_clusters = <strong class="mv jd">70</strong>)<br/>kmeans.fit(brazil2)<br/>y_means = kmeans.predict(brazil2)<br/>centers = kmeans.cluster_centers_</span></pre><p id="32d7" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我们会得到这个:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi nk"><img src="../Images/ac79efc73c2e08405e9abbe64f38e121.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oPbV6qhJnt0lCObKQ_c6Ng.png"/></div></div></figure><p id="5058" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">接下来的步骤:<br/>从这里开始，我们应该利用领域知识来更好地了解客户人口统计、电子商务采用、基础设施等。这只是一个初步的假设，需要更深入更精细的分析。你可以在这里看到完整的代码:<a class="ae ng" href="http://github.com/allenjiang/mona-lisa-ai" rel="noopener ugc nofollow" target="_blank">github.com/allenjiang/mona-lisa-ai</a>。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/6e1c4a69a766c9b1ecd4be3ff65bfa68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*etyr8qdbxWSyQaLsN_Oucg.jpeg"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">图片来自维基百科</p></figure></div></div>    
</body>
</html>