<html>
<head>
<title>Getting Started With: Python I/O</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开始使用:Python I/O</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/getting-start-with-python-i-o-9a28ce635ba4?source=collection_archive---------48-----------------------#2020-05-06">https://towardsdatascience.com/getting-start-with-python-i-o-9a28ce635ba4?source=collection_archive---------48-----------------------#2020-05-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="ebd9" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">Python I/O 概述</h2><div class=""/><div class=""><h2 id="c032" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">Python 如何与 I/O 交互的快速演示</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/810058a93097118f26c91f8ceef0146f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Yl79Mdg7g4ijyLPxM3dbQ.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://www.pexels.com/pt-br/@divinetechygirl" rel="noopener ugc nofollow" target="_blank">克里斯蒂娜·莫里尔</a>在<a class="ae lh" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><blockquote class="li lj lk"><p id="d160" class="ll lm ln lo b lp lq kd lr ls lt kg lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">有几种方法可以显示程序的输出；数据可以以人类可读的形式打印出来，或者写入文件以备将来使用。</p><p id="00d4" class="ll lm ln lo b lp lq kd lr ls lt kg lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">Python 3 文档。</p></blockquote><p id="6eb6" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi ml translated"><span class="l mm mn mo bm mp mq mr ms mt di">在</span>开始时，ASCII 由 128 个字节表示；这些人物是在考虑使用英语的情况下创造出来的；因此，如果你死在一个像中国这样的国家，那里你的语言基础是特殊字符，这是不可能的，因为那时新的编码类型被创造出来了。例如，ISO-8859–1 编码(也称为 Latin_1)考虑的是西欧，如法国、西班牙、葡萄牙，但问题仍然存在，如果日本开发人员试图读取我们的文件怎么办？然后，一种新的编码类型 utf-8 诞生了，它支持超过 100 万个字符，包括阿拉伯语、汉语、俄语字符以及特殊字符。我们硬盘上的文件是以字节写的，所以我们可以知道读取这些字节的正确方式，编码提供了这一点，所以我们可以找出解码这些字节的正确方式。</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="8b00" class="nb nc it bd nd ne nf ng nh ni nj nk nl ki nm kj nn kl no km np ko nq kp nr ns bi translated">开文件</h1><p id="203d" class="pw-post-body-paragraph ll lm it lo b lp nt kd lr ls nu kg lu mi nv lx ly mj nw mb mc mk nx mf mg mh im bi translated">首先，要知道我们文件的内容，我们需要打开它。</p><p id="ce3e" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated"><code class="fe ny nz oa ob b">&gt;&gt;&gt; f = open(‘workfile’ ,’r’, encoding='utf-8')</code></p><p id="0068" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">函数 open return 是我们文件的一个表示，或者你也可以理解为一个文件对象。函数 open 的第二个参数是我们的文件将被打开的模式，在这个例子中我们使用模式 r。</p><h1 id="5f46" class="nb nc it bd nd ne oc ng nh ni od nk nl ki oe kj nn kl of km np ko og kp nr ns bi translated">读取文件</h1><p id="2211" class="pw-post-body-paragraph ll lm it lo b lp nt kd lr ls nu kg lu mi nv lx ly mj nw mb mc mk nx mf mg mh im bi translated">现在，我们将看到读取文件的三种可能方式。</p><pre class="ks kt ku kv gt oh ob oi oj aw ok bi"><span id="871b" class="ol nc it ob b gy om on l oo op">&gt;&gt;&gt; f = open(‘workfile’ ,’r’)&gt;&gt;&gt; f.readline()<br/>&gt;&gt;&gt; f.readlines()<br/>&gt;&gt;&gt; f.read()</span></pre><p id="2897" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated"><strong class="lo jd">方法 readline: </strong>从文件中读取一行。</p><p id="c0d5" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated"><strong class="lo jd">方法 readlines: </strong>返回一个列表，其中每一项都是文件中的一行。因此，您可以迭代内容变量，以显示文件中的所有行。</p><p id="9152" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated"><strong class="lo jd">方法 read: </strong>以字符串格式返回文件的所有内容。</p><h1 id="2f62" class="nb nc it bd nd ne oc ng nh ni od nk nl ki oe kj nn kl of km np ko og kp nr ns bi translated"><strong class="ak">写文件</strong></h1><p id="a029" class="pw-post-body-paragraph ll lm it lo b lp nt kd lr ls nu kg lu mi nv lx ly mj nw mb mc mk nx mf mg mh im bi translated">我们已经知道如何打开一个现有的文件，现在我们将了解如何写入一个文件。</p><pre class="ks kt ku kv gt oh ob oi oj aw ok bi"><span id="f7fe" class="ol nc it ob b gy om on l oo op">&gt;&gt;&gt; f = open(‘workfile’ ,’w’)</span><span id="463e" class="ol nc it ob b gy oq on l oo op">&gt;&gt;&gt; f = open(‘workfile’ ,’w’)&gt;&gt;&gt; new_content = 'someContent'<br/>&gt;&gt;&gt; f.write(new_content)</span></pre><p id="3c97" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">在这个例子中，我将写入一个现有的文件。当我使用 W(录制)模式时，如果你打开文件，你会看到旧的内容已经被删除，现在只有我们添加的内容在文件中。这就是录音模式的工作原理。<br/>另一种保存文件的方式是使用 A()模式，这种模式不替换文件的内容，相反，新的内容被添加在文件内容的末尾。</p><h1 id="3b21" class="nb nc it bd nd ne oc ng nh ni od nk nl ki oe kj nn kl of km np ko og kp nr ns bi translated">关闭方法</h1><p id="1548" class="pw-post-body-paragraph ll lm it lo b lp nt kd lr ls nu kg lu mi nv lx ly mj nw mb mc mk nx mf mg mh im bi translated">你可能会问自己:我为什么要关闭我的文件？当我完成我的任务时，一切都将从记忆中清除，一切都很好。</p><p id="eed4" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">嗯，你没有错。当你写一个文件时，Python 只在我们的应用程序完全完成时才释放我们的文件，也就是说，如果你有一个正在运行的进程或一个需要很长时间才能完成的大任务，如果你将信息写入一个文件，你将无法访问这些内容，直到你的应用程序完全完成，close 方法来帮助我们解决这个问题。</p><pre class="ks kt ku kv gt oh ob oi oj aw ok bi"><span id="3b08" class="ol nc it ob b gy om on l oo op">&gt;&gt;&gt; f = open(‘workfile’ ,’w’)</span><span id="ba25" class="ol nc it ob b gy oq on l oo op">&gt;&gt;&gt; new_content = 'someContent'<br/>&gt;&gt;&gt; f.write(new_content)<br/>&gt;&gt;&gt; f.close()</span></pre><h1 id="aa67" class="nb nc it bd nd ne oc ng nh ni od nk nl ki oe kj nn kl of km np ko og kp nr ns bi translated"><strong class="ak">冲洗方法</strong></h1><p id="6ed0" class="pw-post-body-paragraph ll lm it lo b lp nt kd lr ls nu kg lu mi nv lx ly mj nw mb mc mk nx mf mg mh im bi translated">考虑上面的相同场景，您有一个需要在文件中插入一些数据的长任务，并且有几个例程将被执行，直到您的应用程序完成。但是，您需要向该文件添加更多信息。关闭并打开文件不是最佳解决方案。</p><p id="a6ed" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">你可以刷新，基本上，强迫 Python 插入文件中已经存在的东西，这样，如果你在应用程序完全完成之前打开它，数据将已经保存在文件中。</p><pre class="ks kt ku kv gt oh ob oi oj aw ok bi"><span id="69e1" class="ol nc it ob b gy om on l oo op">&gt;&gt;&gt; f = open(‘workfile’ ,’w’)</span><span id="ec2d" class="ol nc it ob b gy oq on l oo op">&gt;&gt;&gt; new_content = 'someContent'<br/>&gt;&gt;&gt; f.write(new_content)<br/>&gt;&gt;&gt; f.flush()<br/>.<br/>.<br/>.</span></pre><h1 id="1a85" class="nb nc it bd nd ne oc ng nh ni od nk nl ki oe kj nn kl of km np ko og kp nr ns bi translated"><strong class="ak">求法</strong></h1><p id="858b" class="pw-post-body-paragraph ll lm it lo b lp nt kd lr ls nu kg lu mi nv lx ly mj nw mb mc mk nx mf mg mh im bi translated">这个方法将内存指针指向作为参数传递的数值位置，这个函数没有返回值，所以您需要使用它，然后使用一个读取方法在您指定的位置准确地显示它的内容。</p><pre class="ks kt ku kv gt oh ob oi oj aw ok bi"><span id="44a8" class="ol nc it ob b gy om on l oo op">&gt;&gt;&gt; f = open(‘workfile’ ,’w’)</span><span id="0c6f" class="ol nc it ob b gy oq on l oo op">&gt;&gt;&gt; new_content = 'someContent'<br/>&gt;&gt;&gt; f.write(new_content)<br/>&gt;&gt;&gt; f.seek(0)<br/>&gt;&gt;&gt; line = f.readline()<br/>&gt;&gt; print line<br/>someContent</span></pre><h1 id="49eb" class="nb nc it bd nd ne oc ng nh ni od nk nl ki oe kj nn kl of km np ko og kp nr ns bi translated">结论</h1><p id="b222" class="pw-post-body-paragraph ll lm it lo b lp nt kd lr ls nu kg lu mi nv lx ly mj nw mb mc mk nx mf mg mh im bi translated">使用 Python 文件很容易，这种语言的工作方式和给我们的反馈令人印象深刻。使用这些示例性的方法，您将能够在某些情况下有效地工作，但是如果您想迈出更大的一步，您必须理解，存在文件竞争的环境是一个更复杂的情况，但是更现实的是，这里展示的是以简单和正确的方式处理文件的基础。</p></div></div>    
</body>
</html>