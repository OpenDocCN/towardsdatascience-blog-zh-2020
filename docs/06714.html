<html>
<head>
<title>Populating a Network Graph with Named-Entities</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用命名实体填充网络图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/populating-a-network-graph-with-named-entities-fb8e3d2a380f?source=collection_archive---------31-----------------------#2020-05-26">https://towardsdatascience.com/populating-a-network-graph-with-named-entities-fb8e3d2a380f?source=collection_archive---------31-----------------------#2020-05-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="7175" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">数据科学/ Python NLP 片段</h2><div class=""/><div class=""><h2 id="023b" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用 networkx 可视化自然语言处理结果的早期尝试。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/218285007d87a94daaade6cad6553651.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mF7BJSLbZz5PnT5iW_93yw.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://unsplash.com/s/photos/news?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae lh" href="https://unsplash.com/@utsavsrestha?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Utsav Srestha </a>拍摄</p></figure><p id="b46e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="me">我做了很多自然语言处理，通常结果看起来很无聊。当我了解网络图时，我开始思考，为什么不用关键词作为节点，把它们连接起来，创建一个网络图呢？</em></p><p id="5b4a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="me"> Yupp，有何不可！</em></p><p id="296f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这篇文章中，我们会做到这一点。我们将从关于冠状病毒的新闻文章中提取命名实体，然后使用它们的关系在网络图中将它们连接在一起。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="5533" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">简介</h1><p id="e025" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">网络图是包含节点(顶点)和边(线)的很酷的视觉效果。它经常用于社交网络分析和网络分析，但数据科学家也将其用于自然语言处理。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nj"><img src="../Images/6d2432bb4d2788221c16fc99d66db972.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*cTkVwo2RCLOMQU1eBYj0cw.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">安德斯·桑德伯格在<a class="ae lh" href="https://www.flickr.com/photos/arenamontanus/268427309/in/photolist-pHL64-pHM2v-6tMfEz-4WFXny-869jFp-5RKqLt-cAT173-bWngsQ-5UT2bk-a1Jv37-a1Kpgb-22X1B-QmWPYi-c19Geu-2N9Z6h-6UVCQJ-pNWn9-44h6ju-btejyK-9M2QU4-7A9A3C-74oaKo-jR9gc-pNUDF-dHMZYj-t7tgKB-29KdY5-bkztuc-66JvbF-4CS4g3-5RKqMK-bWN8Sm-33Nf4C-7UYR2T-x9m1S-2N5zxK-bS9WnP-ciKZHy-5J95ED-n3DZZ-aFhJjH-THTRQG-SxKctc-btTTPU-TDNAMg-7yZcaX-29Kted-9pT4Ni-91471X-26ary2u" rel="noopener ugc nofollow" target="_blank">闪烁</a>上拍摄的照片</p></figure><p id="316e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">自然语言处理或 NLP 是人工智能的一个分支，它处理编程计算机来处理和分析大量文本并从中获取意义。换句话说，就是教计算机如何理解人类语言……像个老板一样！</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nk"><img src="../Images/f9ab583c24bab054cbdb3a9a82c4e050.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BaSe8fTx_mHdQNefzPe3Rg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://www.flickr.com/photos/brewbooks/" rel="noopener ugc nofollow" target="_blank"> brewbooks </a>在<a class="ae lh" href="https://www.flickr.com/photos/brewbooks/10805411174/in/photolist-UKMdza-hsQyhE-2iCStmP-2iStoUE-2e5EAr1-2iw1pBb-2iUPEcB-2iXqdWL-PaWqhd-2iJbARo-2iNM3hT-FdCYsS-2iQNUxy-Jec8po-2iMvVpU-2iL4DjL-2iARgAa" rel="noopener ugc nofollow" target="_blank"> Flickr </a>上拍摄</p></figure><p id="c2e2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">介绍够了，开始编码吧！</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="ca98" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，让我们确保处理好所有的依赖关系。打开终端并执行以下命令:</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="89f9" class="nq mn it nm b gy nr ns l nt nu">pip install -U spacy<br/>python -m spacy download en<br/>pip install networkx<br/>pip install fuzzywuzzy</span></pre><p id="2757" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这将安装 spaCy 并下载英语的训练模型。第三个命令安装 networkx。这应该适用于大多数系统。如果它对你不起作用，检查一下<a class="ae lh" href="https://spacy.io/usage" rel="noopener ugc nofollow" target="_blank">空间</a>和<a class="ae lh" href="https://networkx.github.io/documentation/stable/install.html" rel="noopener ugc nofollow" target="_blank">网络 x </a>的文档。此外，我们使用<a class="ae lh" href="https://pypi.org/project/fuzzywuzzy/" rel="noopener ugc nofollow" target="_blank"> fuzzywuzzy </a>进行一些文本预处理。</p><p id="9589" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">解决了这个问题，让我们启动 Jupyter 笔记本，开始行动吧！</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="1039" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">进口</h1><p id="5f97" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">将下面的代码块运行到一个单元格中，以将所有必需的导入内容导入到我们的 Python 环境中。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="adb7" class="nq mn it nm b gy nr ns l nt nu">import pandas as pd<br/>import numpy as np<br/>import pickle<br/>from operator import itemgetter<br/>from fuzzywuzzy import process, fuzz</span><span id="0a3c" class="nq mn it nm b gy nv ns l nt nu"># for natural language processing<br/>import spacy<br/>import en_core_web_sm</span><span id="7568" class="nq mn it nm b gy nv ns l nt nu"># for visualizations<br/>%matplotlib inline<br/>from matplotlib.pyplot import figure</span><span id="94fe" class="nq mn it nm b gy nv ns l nt nu">import networkx as nx</span></pre><h1 id="938d" class="mm mn it bd mo mp nw mr ms mt nx mv mw ki ny kj my kl nz km na ko oa kp nc nd bi translated">获取数据</h1><p id="2383" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">如果您想跟进，您可以在这里下载样本数据集<a class="ae lh" href="https://github.com/ecdedios/networkx-ner-quick-start" rel="noopener ugc nofollow" target="_blank"/>。该文件是使用<a class="ae lh" href="https://newspaper.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">报纸</a>从<a class="ae lh" href="https://www.npr.org/sections/coronavirus-live-updates" rel="noopener ugc nofollow" target="_blank">npr.org</a>导入新闻文章而创建的。如果你喜欢冒险，可以使用下面的代码片段来构建你自己的数据集。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="daa8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们得到我们的数据。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="d3cf" class="nq mn it nm b gy nr ns l nt nu">with open('npr_coronavirus.txt', 'rb') as fp:   # Unpickling<br/>    corpus = pickle.load(fp)</span></pre><h1 id="6693" class="mm mn it bd mo mp nw mr ms mt nx mv mw ki ny kj my kl nz km na ko oa kp nc nd bi translated">提取实体</h1><p id="c766" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">接下来，我们将从加载 spaCy 的英文模型开始:</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="8c10" class="nq mn it nm b gy nr ns l nt nu">nlp = en_core_web_sm.load()</span></pre><p id="2882" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，我们将提取实体:</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="4a09" class="nq mn it nm b gy nr ns l nt nu">entities = []</span><span id="5c9c" class="nq mn it nm b gy nv ns l nt nu">for article in corpus[:50]:<br/>    tokens = nlp(''.join(article))<br/>    gpe_list = []<br/>    for ent in tokens.ents:<br/>        if ent.label_ == 'GPE':<br/>            gpe_list.append(ent.text)<br/>    entities.append(gpe_list)</span></pre><p id="6209" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在上面的代码块中，我们创建了一个名为<code class="fe od oe of nm b">entities</code>的空列表来存储包含从每篇文章中提取的实体的列表。在 for 循环中，我们循环了语料库的前 50 篇文章。对于每一次迭代，我们将每篇文章转换成单词，然后遍历所有这些单词，得到国家、州和城市的标记为<code class="fe od oe of nm b">GPE</code>的实体。我们使用<code class="fe od oe of nm b">ent.text</code>来提取实际的实体，并将它们一个一个地附加到<code class="fe od oe of nm b">entities</code>中。</p><p id="4954" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">结果如下:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi og"><img src="../Images/3c07f1757ff24fd3fd06772c4c43d69b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tReDDcTfBKcjXy5fRwd5WA.png"/></div></div></figure><p id="898e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">请注意，北卡罗来纳州的名称有几种变体，有些名称中带有“the”前缀。让我们摆脱他们。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="6592" class="nq mn it nm b gy nr ns l nt nu">articles = []</span><span id="953c" class="nq mn it nm b gy nv ns l nt nu">for entity_list in entities:<br/>    cleaned_entity_list = []<br/>    for entity in entity_list:<br/>        cleaned_entity_list.append(entity.lstrip('the ').replace("'s", "").replace("’s",""))<br/>    articles.append(cleaned_entity_list)</span></pre><p id="3dad" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在上面的代码块中，我们简单地遍历列表列表<code class="fe od oe of nm b">articles</code>并逐个清理实体。每次迭代，我们都去掉前缀“the ”,去掉<code class="fe od oe of nm b">'s.</code></p><h1 id="4dc6" class="mm mn it bd mo mp nw mr ms mt nx mv mw ki ny kj my kl nz km na ko oa kp nc nd bi translated">可选:FuzzyWuzzy</h1><p id="817f" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">在查看实体时，我注意到“美国”也有变化。存在着“美利坚合众国”，而有些只是“美国”。我们可以把这些精简成一个更标准的命名约定。</p><p id="95cf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">FuzzyWuzzy 可以帮助解决这个问题。</p><p id="7732" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">被<a class="ae lh" href="https://pypi.org/project/fuzzywuzzy/" rel="noopener ugc nofollow" target="_blank">pypi.org</a>描述为“像老板一样的字符串匹配”，FiuzzyWuzzy 使用 Levenshtein 距离来计算单词之间的相似度。关于如何使用 FuzzyWuzzy 的真正好的教程，请查阅 Thanh Huynh 的文章。</p><div class="oh oi gp gr oj ok"><a rel="noopener follow" target="_blank" href="/fuzzywuzzy-find-similar-strings-within-one-column-in-a-pandas-data-frame-99f6c2a0c212"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd jd gy z fp op fr fs oq fu fw jc bi translated">FuzzyWuzzy:用 Python 在一列中查找相似的字符串</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">令牌排序比率与令牌集比率</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">towardsdatascience.com</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy lb ok"/></div></div></a></div><p id="0e9e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下面是使用 FuzzyWuzzy 的可选代码:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="7634" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在创建网络图之前的最后一步，让我们去掉列表中的空列表，这些列表是由没有任何<code class="fe od oe of nm b">GPE</code>实体类型的文章生成的。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="0c6d" class="nq mn it nm b gy nr ns l nt nu">articles = [article for article in articles if article != []]</span></pre><h1 id="aa00" class="mm mn it bd mo mp nw mr ms mt nx mv mw ki ny kj my kl nz km na ko oa kp nc nd bi translated">创建网络图</h1><p id="6d73" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">下一步，我们将创建图形存在的世界。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="e5b4" class="nq mn it nm b gy nr ns l nt nu">G = nx.Graph()</span></pre><p id="adfb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，我们将手动添加带有<code class="fe od oe of nm b">G.add_nodes_from()</code>的节点。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="1f5a" class="nq mn it nm b gy nr ns l nt nu">for entities in articles:<br/>    G.add_nodes_from(entities)</span></pre><p id="11bc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们看看这个图表是什么样子的:</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="4864" class="nq mn it nm b gy nr ns l nt nu">figure(figsize=(10, 8))<br/>nx.draw(G, node_size=15)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oz"><img src="../Images/dc4f4a56efd3a3068a2a802e78ee34bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c5QFtntfCKdvXOfKm-mfsw.png"/></div></div></figure><p id="3da9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">接下来，让我们添加将连接节点的边。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="d873" class="nq mn it nm b gy nr ns l nt nu">for entities in articles:<br/>    if len(entities) &gt; 1:<br/>        for i in range(len(entities)-1):<br/>           G.add_edges_from([(str(entities[i]),str(entities[i+1]))])</span></pre><p id="e457" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">对于上面代码的每一次迭代，我们都使用了一个条件，该条件将只处理包含两个或更多实体的实体列表。然后，我们用<code class="fe od oe of nm b">G.add_edges_from()</code>手动连接每个实体。</p><p id="416d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们看看现在的图表是什么样的:</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="f85b" class="nq mn it nm b gy nr ns l nt nu">figure(figsize=(10, 8))<br/>nx.draw(G, node_size=10)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pa"><img src="../Images/f94963054cf92a35f753617c661d7cf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nonMJMRHx6icB5jE_G-9rg.png"/></div></div></figure><p id="9c9d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这张图让我想起了蜘蛛！LOL。</p><p id="eff9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了便于组织，我决定使用 shell 版本的网络图:</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="337a" class="nq mn it nm b gy nr ns l nt nu">figure(figsize=(10, 8))<br/>nx.draw_shell(G, node_size=15)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pb"><img src="../Images/4b2a2efd2d502327dc03cf878b479efb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UzSWUlIrtzrSAKueGUSiyw.png"/></div></div></figure><p id="9ef6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们可以看出一些节点的连接比其他节点重。要查看哪些节点拥有最多的连接，让我们使用<code class="fe od oe of nm b">G.degree()</code>。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="fe34" class="nq mn it nm b gy nr ns l nt nu">G.degree()</span></pre><p id="327a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这给出了以下度数视图:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pc"><img src="../Images/635ab6bea64a9253f4abfc27dab43bc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lmJ-mbW1OfIUgwwLpeQSIA.png"/></div></div></figure><p id="1542" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们找出哪个节点或实体拥有最多数量的连接。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="488d" class="nq mn it nm b gy nr ns l nt nu">max(dict(G.degree()).items(), key = lambda x : x[1])</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pd"><img src="../Images/5a226153448f71abdd30e4e1542f6080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lqFa-PbtfsNRX1YvijHUIA.png"/></div></div></figure><p id="bb23" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了找出拥有最多连接数的其他节点，让我们来看看前 5 个:</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="6c49" class="nq mn it nm b gy nr ns l nt nu">degree_dict = dict(G.degree(G.nodes()))<br/>nx.set_node_attributes(G, degree_dict, 'degree')</span><span id="ba67" class="nq mn it nm b gy nv ns l nt nu">sorted_degree = sorted(degree_dict.items(), key=itemgetter(1), reverse=True)</span></pre><p id="1fd6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">上面，<code class="fe od oe of nm b">sorted_degrees</code>是一个包含所有节点及其度数值的列表。我们只希望前 5 名是这样的:</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="de54" class="nq mn it nm b gy nr ns l nt nu">print("Top 5 nodes by degree:")<br/>for d in sorted_degree[:5]:<br/>    print(d)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/f941b1b482605b4a5f676598d13c3339.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*MeEcXL8DP3yYiWoRdOWxhA.png"/></div></figure><h1 id="918c" class="mm mn it bd mo mp nw mr ms mt nx mv mw ki ny kj my kl nz km na ko oa kp nc nd bi translated">奖励回合:Gephi</h1><p id="1e71" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">Gephi 是一个开源的免费桌面应用程序，让我们可以可视化、探索和分析各种图形和网络。</p><p id="a4e3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们将图形数据导出到一个文件中，这样我们就可以将它导入到 Gephi 中。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="0fc1" class="nq mn it nm b gy nr ns l nt nu">nx.write_gexf(G, "npr_coronavirus_GPE_50.gexf")</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pf"><img src="../Images/0d6f8e1b56bde500415dae35f49120cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m_KGrkU6VtbRKuaKqu1p2A.png"/></div></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pg"><img src="../Images/8e71e9d3f3135e4b0ffd09b985b0f210.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zrjY8a6j-kzBvj6TqWlRQw.png"/></div></div></figure><p id="988e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">酷豆！</p><h1 id="39d3" class="mm mn it bd mo mp nw mr ms mt nx mv mw ki ny kj my kl nz km na ko oa kp nc nd bi translated">后续步骤</h1><p id="9fb1" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">这次，我们只处理了来自 npr.org<a class="ae lh" href="https://npr.org" rel="noopener ugc nofollow" target="_blank">的 50 篇文章。如果我们处理数据集的所有 300 篇文章，会发生什么？如果我们将实体类型从<code class="fe od oe of nm b">GPE</code>改为<code class="fe od oe of nm b">PERSON</code>，会看到什么？还能怎么用网络图来可视化自然语言处理结果？</a></p><p id="5143" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">总是有更多的事情要做。可能性是无限的！</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="4144" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我希望你喜欢今天的帖子。代码并不完美，我们还有很长的路要走，才能从数据中获得洞察力。我鼓励你更深入地了解<a class="ae lh" href="https://spacy.io/" rel="noopener ugc nofollow" target="_blank">空间</a>、<a class="ae lh" href="https://networkx.github.io/" rel="noopener ugc nofollow" target="_blank">网络</a>、<a class="ae lh" href="https://pypi.org/project/fuzzywuzzy/" rel="noopener ugc nofollow" target="_blank"> fuzzywuzzy </a>，甚至<a class="ae lh" href="https://gephi.org/" rel="noopener ugc nofollow" target="_blank"> Gephi </a>。</p><p id="bf79" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="me">敬请期待！</em></p><p id="547f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你可以通过<a class="ae lh" href="https://twitter.com/ecdedios" rel="noopener ugc nofollow" target="_blank"> Twitter </a>或<a class="ae lh" href="https://www.linkedin.com/in/ednalyn-de-dios/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>联系我。</p><p id="4cd0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">[1]:维基百科。(2020 年 5 月 25 日)。<em class="me">自然语言处理</em>T16】https://en.wikipedia.org/wiki/Natural_language_processing</p><p id="88d7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">[2]: Gephi。(2020 年 5 月 25 日)。<em class="me">打开图 Viz 平台</em><a class="ae lh" href="https://gephi.org/" rel="noopener ugc nofollow" target="_blank">https://gephi.org/</a></p></div></div>    
</body>
</html>