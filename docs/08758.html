<html>
<head>
<title>Convert Text to Speech in 5 Lines of Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 5 行代码将文本转换成语音</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/convert-text-to-speech-in-5-lines-of-code-1c67b12f4729?source=collection_archive---------31-----------------------#2020-06-24">https://towardsdatascience.com/convert-text-to-speech-in-5-lines-of-code-1c67b12f4729?source=collection_archive---------31-----------------------#2020-06-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="dcfc" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解文本到语音转换可以发挥作用的领域</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f26e324a1244ada01768a112d6b7590a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9dqzYbQTZbbzup7bWKUDNA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/photo/crop-unrecognizable-woman-listening-to-music-on-smartphone-in-car-4436365/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae ky" href="https://www.pexels.com/@ketut-subiyanto?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">赖爷 Subiyanto </a>拍摄</p></figure><p id="0424" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di">在这篇文章中，我将向你展示如何使用 Python 将文本转换成语音。这将是一个简单的机器学习项目，我们将了解一些基础的语音库称为 pyttsx3。如果你想知道在现实生活中我们可以在哪里使用文本到语音的转换，不要担心，你并不孤单。我在学习几乎任何东西之前都会问同样的问题，我会问自己这些信息会对我有什么帮助，在现实生活中哪里可以用到。这种思维方式帮助我更快地学习新事物，并激励我在个人生活中使用这些信息。</span></p><p id="0201" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将列举几个以非常好的方式使用文本到语音转换的行业。其中之一是在教室环境中，学生们还不知道如何阅读，但当你对他们说话时，他们可以理解。如今，技术在课堂上经常使用，一些文本到语音转换软件可以给老师们很大的帮助。一个简单的文本到语音转换会很有帮助，而不是老师花时间和每个孩子在一起，为他们朗读。这是一个很好的视频，展示了如何在课堂上使用文本到语音转换:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="2db2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个文本到语音转换的好例子是在 Chromebooks 上。他们有一个辅助功能，称为“选择说话”，你可以选择/突出显示文本，计算机将大声朗读给使用该功能的人。</p><p id="67ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后一个文本到语音转换的例子，我想和你分享的是有声读物。使用以前音频文件中的一些训练数据，可以让机器使用受过训练的人的声音阅读一本书。是的，人工智能越来越成为我们日常生活的一部分。此外，教一台机器比教一个人容易得多。这使得该领域的发展要快得多。让我们回到项目上来。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="d9cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将建立一个机器程序，将我们的文本转换成语音。文本可以是不同的语言，这就是为什么在选择我们的语音模型时，我们必须确保语言匹配。让我们从导入库开始。</p><h1 id="1fad" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">步骤 1 —图书馆</h1><p id="f1af" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">首先，我们将安装模块，这样我们就可以在我们的程序中使用它。我们将在这个项目中使用的唯一模块是 Pyttsx3。这是文本到语音模块，这个模块的一个好处是，它可以在你安装后离线工作。下面是安装该模块的代码:</p><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="f5f8" class="np mo it nl b gy nq nr l ns nt">pip install pyttsx3</span></pre><p id="9362" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想进一步了解这个模块，这里有<a class="ae ky" href="https://pypi.org/project/pyttsx3/" rel="noopener ugc nofollow" target="_blank">文档</a>。现在让我们将模块作为库导入到我们的程序中。</p><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="ee07" class="np mo it nl b gy nq nr l ns nt">import pyttsx3</span></pre></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="31e7" class="mn mo it bd mp mq nu ms mt mu nv mw mx jz nw ka mz kc nx kd nb kf ny kg nd ne bi translated">第 2 步—文本</h1><p id="9956" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">这一步是最容易的。您应该定义一个变量，并为其分配一个文本值。你的文字可长可短，这取决于你想要什么。下面，你可以看到我创建的文本变量，它被称为测试。</p><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="05a8" class="np mo it nl b gy nq nr l ns nt">test = "Once upon a time, a person was trying to convert text to speech using python"</span></pre></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="6d06" class="mn mo it bd mp mq nu ms mt mu nv mw mx jz nw ka mz kc nx kd nb kf ny kg nd ne bi translated">步骤 3 —语音引擎</h1><p id="1d4e" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在下面几行中，我们定义一个变量来分配我们的语音引擎。这很简单。</p><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="66c7" class="np mo it nl b gy nq nr l ns nt">engine = pyttsx3.init()</span></pre><p id="b34a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们必须定义我们希望机器说的语言。如前所述，它必须与我们在文本中使用的语言相匹配。若要查看可用的语言，请运行以下代码:</p><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="83c5" class="np mo it nl b gy nq nr l ns nt">voices = engine.getProperty('voices')</span><span id="16f4" class="np mo it nl b gy nz nr l ns nt">for voice in voices: <br/> print("Voice:") <br/> print(" - ID: %s" % voice.id) <br/> print(" - Name: %s" % voice.name) <br/> print(" - Languages: %s" % voice.languages) <br/> print(" - Gender: %s" % voice.gender) <br/> print(" - Age: %s" % voice.age)</span></pre><p id="ab18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将在终端中看到类似这样的内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/049411d0889566becc2cc9876ab36e17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/0*V9xqdVg3jQs7EiDk"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">声音</p></figure><p id="d9f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">复制您想要使用的语言的“id ”,并将其粘贴到我们的程序中。我们使用 setProperty 方法来定义口语。</p><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="ef3b" class="np mo it nl b gy nq nr l ns nt">en_voice_id = "com.apple.speech.synthesis.voice.Alex"</span><span id="69d9" class="np mo it nl b gy nz nr l ns nt">engine.setProperty('voice', en_voice_id)</span></pre></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="05fc" class="mn mo it bd mp mq nu ms mt mu nv mw mx jz nw ka mz kc nx kd nb kf ny kg nd ne bi translated">最后一步</h1><p id="5f31" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">我们差不多完成了，下面的代码将告诉我们的语音引擎大声说出我们之前定义的文本。基本上电脑会给你读出来。确保您的扬声器已打开，可以听到声音。</p><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="6d00" class="np mo it nl b gy nq nr l ns nt">engine.say(test)</span><span id="d645" class="np mo it nl b gy nz nr l ns nt">engine.runAndWait()</span></pre><p id="a69f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">恭喜你，你已经创建了一个将文本转换成语音的程序。现在，您已经了解了这些软件是如何在幕后工作的。希望你喜欢这篇教程，并在今天学到一些新东西。伟大的提示:当你觉得太懒的时候，你可以用这个和你的朋友交流🙂</p><p id="e52f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ob">跟随我的</em> <a class="ae ky" href="https://medium.com/@lifexplorer" rel="noopener">博客</a> <em class="ob">和</em> <a class="ae ky" href="https://towardsdatascience.com/" rel="noopener" target="_blank">走向数据科学</a> <em class="ob">留下灵感。</em></p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h2 id="3f5e" class="np mo it bd mp oc od dn mt oe of dp mx li og oh mz lm oi oj nb lq ok ol nd om bi translated">另一个你可能会感兴趣的机器学习项目</h2><div class="on oo gp gr op oq"><a rel="noopener follow" target="_blank" href="/convert-your-speech-to-text-using-python-1cf3eccfa922"><div class="or ab fo"><div class="os ab ot cl cj ou"><h2 class="bd iu gy z fp ov fr fs ow fu fw is bi translated">使用 Python 将您的语音转换为文本</h2><div class="ox l"><h3 class="bd b gy z fp ov fr fs ow fu fw dk translated">使用麦克风将您的语音实时转换为文本</h3></div><div class="oy l"><p class="bd b dl z fp ov fr fs ow fu fw dk translated">towardsdatascience.com</p></div></div><div class="oz l"><div class="pa l pb pc pd oz pe ks oq"/></div></div></a></div></div></div>    
</body>
</html>