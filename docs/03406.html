<html>
<head>
<title>Using Google Location History to Analyze Gym Visits</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用谷歌位置历史分析健身房访问</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-google-location-history-to-analyze-gym-visits-a8c7c18e0871?source=collection_archive---------28-----------------------#2020-03-31">https://towardsdatascience.com/using-google-location-history-to-analyze-gym-visits-a8c7c18e0871?source=collection_archive---------28-----------------------#2020-03-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/a3584c8dee1647e6fa213f83056834d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*esdyRjMWxpWvN_Od"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">Sebastian Hietsch 在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class=""/><div class=""><h2 id="5806" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">除了搜索目的地之外，谷歌地图还有其他用途吗</h2></div><p id="3b54" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我 2019 年的新年决心之一是更经常地去健身房。作为一个分析数据集的狂热爱好者，我决定利用我一直在收集的位置历史，调查一下去年我在这项工作中的一致性和成效。对于那些不知道的人来说，谷歌记录了你访问过的所有地方(当然，前提是你给予许可！).自从 2013 年我拥有第一部 Android 手机以来，我已经为谷歌分配了存储我的位置历史的权限，因此检索 JSON 中的数据并不困难。使用 Python 和 Matplotlib 来分析数据，我决定看看我去年在遵守决心方面有多成功。</p><p id="cfaa" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">起初，这些数据对我来说没有多大意义。但是一个小小的研究让我了解了错综复杂的数据。这些数据包含了我自 2013 年以来去过的所有地方的纬度、经度和日期。此外，它还包括几个描述“精度”、“速度”、“高度”、“航向”、“垂直精度”的栏目，这些在当前的上下文中对我没有用。因此，第一项任务是把数据整理成我能理解的东西。</p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi lr"><img src="../Images/fffe450fa670b47a21aeb6723f2f7173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xgH5MpDYMxu3c1bZ7QyyoQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">来自 JSON 的原始数据帧</p></figure><p id="8094" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">除了将“timestampMs”转换为相应的日期和时间，我还删除了“精度”、“速度”、“高度”、“航向”和“垂直精度”列，以创建一个经过处理的数据帧。第二个挑战是瞄准我的健身房的坐标来过滤数据帧。我不得不承认这是分析中最具挑战性的部分之一。纬度和经度是地理坐标系统的一部分，用来确定地球上任何地方的位置。</p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi lw"><img src="../Images/e08d794f25c9af5c2efa87f0994408c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UYKOItl9mu9DxYTNUC4Tiw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">在谷歌地图上看到的健身房位置</p></figure><p id="f7b1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我的健身房由北纬 50° 06 ' 53.5 "和东经 8° 41 ' 12.9 "描述。但是，使用它们，我无法从我的位置历史记录中筛选出与我的健身房相对应的数据点。为了找到一个大概的经纬度范围进行过滤，我把目光对准了谷歌为我 12 月 6 日的锻炼记录的坐标。</p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/3993a743507154194099efdd1d585143.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*gImKaGsNDsgywn9VGgOkcQ.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">为我在 2019 年 12 月 6 日的锻炼处理数据帧</p></figure><p id="dfd8" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用与我的健身房相对应的坐标范围，以及相应的日期和时间信息，我终于可以开始了。使用一些数据预处理技巧，为了方便起见，我添加了一些列，这将使分析变得稍微容易一些。使用“日期”列，我将日期和月份信息添加到数据框中。我还添加了我在坐标对上花费的时间，以分钟为单位。</p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ly"><img src="../Images/6090acf7594c0ee63f11f98413135b83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*offjo2Bw1UgKDgM0hu4zkA.png"/></div></div></figure><p id="bcab" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在研究数据以获得进一步的见解之前，我必须解决某些障碍:</p><ol class=""><li id="ab97" class="lz ma jg kx b ky kz lb lc le mb li mc lm md lq me mf mg mh bi translated">并非所有数据都是 100%准确的，因为收集的数据取决于几个因素，包括但不限于持续的互联网连接和手机 GPS 定位。当然没有办法克服这个丢失数据的问题。</li><li id="4f72" class="lz ma jg kx b ky mi lb mj le mk li ml lm mm lq me mf mg mh bi translated">数据点有可能会受到附近地区的影响。例如，我在体育馆下面的地铁站等火车也可能被错误地解释为我在体育馆度过的时间。为了解决这个问题，我简单地排除了坐标对持续时间少于 15 分钟的数据点。</li></ol><p id="df1d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在我已经获得了我需要的必要信息，即日期和时间，我可以更深入地研究这些数据了。</p><p id="4bfc" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用熊猫图书馆的 unique()，我确定在去年的 365 天中，我去了健身房 119 次。更深入地说，我决定调查每次锻炼需要多长时间，并研究一天中的时间、一周中的日子和一个月中的趋势。</p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/3f817d62cd0b28cc206b14de49237d97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*VA52cwmVIlYIIO-ifPhgVw.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">18:00 似乎是我最喜欢的锻炼时间</p></figure><p id="c722" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">那么我在健身房锻炼的平均时间是多少呢？一天中的大部分时间，我要么在大学，要么在语言学校，要么在工作，这可能解释了为什么我锻炼的高峰时间会在 17:00 或 18:00 左右。在假期里，也有几天我会稍微早一点去健身房。还有一个异常点，我 00:00 在体育馆。</p><p id="0ba6" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一周中的哪一天我更有可能去健身房？星期二！。令人惊讶的是，我最自由的日子是我很少去健身房的日子。然而，作为辩护，大多数周末也是我计划旅行的日子。然而，事后看来，人们可以得出这样的结论:随着时间的推移，我的动力会逐渐减弱。</p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/d166522bd5de5c37d4d0094054c5a684.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*zDkzWIA6zc1TBO2hSupu5Q.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">2019 年每周每天的健身房访问量</p></figure><p id="726b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">查看我每月的访问量也发现了一些有趣的事实。十月是访问量最大的月份。</p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/7624ec6ce4300315896ff1891c35854b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*Fp9bMy8rGqpM0Q4Fa_TxVA.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">2019 年每月健身房访问量</p></figure><p id="81a8" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然而，当它们被绘制成每次访问所花费的平均时间时，表格完全翻转过来，其中七月名列榜首。七月是夏天来临的时候，宜人的天气加上即将到来的暑假增加了在健身房锻炼的动力。虽然我在 10 月份去健身房的次数增加了，但我忙于应付工作和学校，没有时间在健身房呆很长时间(也降低了温度！).由于考试带来的压力，二月和三月不见了。</p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/597bdaed402a1d5bab2c2896f3f5d0d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*n5PuYk4ewW_ThQA5dUKp1g.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">2019 年每月在健身房花费的平均时间</p></figure><p id="c94b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">健身房的订阅费是每月 15€，去年 119 次，每次大约花费我 2€。不管有没有商业意识，收益远远超过了成本，所以对我来说，这是值得的。</p><p id="313b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">从 2018 年的 20 天到 2019 年的 119 天，我认为去年是一个很大的进步。我后悔没有通过一个应用程序来跟踪我的成长，这可以给我一个关于我的习惯如何影响我的整体健康的整体信息。然而，我已经开始采取措施来整合它们，并希望能够在 2020 年给你一个更好的画面。感谢您的阅读。如果你有任何问题，你一定可以联系我。</p></div></div>    
</body>
</html>