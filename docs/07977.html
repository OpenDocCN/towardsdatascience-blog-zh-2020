<html>
<head>
<title>5 Steps: Setup VS Code for Remote Development via SSH from Windows to Linux system</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">5 个步骤:通过 SSH 从 Windows 到 Linux 系统进行远程开发的设置和代码</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-steps-setup-vs-code-for-remote-development-via-ssh-from-windows-to-linux-b9bae9e8f904?source=collection_archive---------2-----------------------#2020-06-13">https://towardsdatascience.com/5-steps-setup-vs-code-for-remote-development-via-ssh-from-windows-to-linux-b9bae9e8f904?source=collection_archive---------2-----------------------#2020-06-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/26961986bba62a7da49c11b940c011d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vh57nh_J97hi2XpCfwkwVQ.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">来自 www.flaction.com<a class="ae kf" href="https://www.flaticon.com/home" rel="noopener ugc nofollow" target="_blank">的 Pixel Perfect 制作的图标</a></p></figure><p id="b79c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">远程开发是 VS 代码中非常受欢迎的功能。他们的官方<a class="ae kf" href="https://code.visualstudio.com/docs/remote/remote-overview" rel="noopener ugc nofollow" target="_blank">文档</a>提供了以通用方式配置它的标准说明。但是当我从 Windows 系统连接到远程 Linux 服务器时，我总是在输入 错误时得到下面的<strong class="ki iu"> <em class="le">损坏的 MAC，并且很难在一个地方找到完整的解决方案。</em></strong></p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lf"><img src="../Images/40d7c072f554882b6616f902f9b700ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*argVh3-9DO7Wwgs9gDTkEQ.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">错误:输入的 MAC 损坏</p></figure><p id="9eca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，本文将提供一个 VS 代码指南，专门用于通过基于密钥的 SSH 在 Windows 系统和 Linux 系统之间进行远程连接，SSH 还可以处理输入错误导致的 MAC 损坏。</p><h2 id="65ad" class="lk ll it bd lm ln lo dn lp lq lr dp ls kr lt lu lv kv lw lx ly kz lz ma mb mc bi translated">为什么我们需要远程开发:</h2><ul class=""><li id="a5bc" class="md me it ki b kj mf kn mg kr mh kv mi kz mj ld mk ml mm mn bi translated">对于软件开发人员来说，他们通常在本地开发新功能，然后在远程服务器上测试。</li><li id="a54d" class="md me it ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">对于数据科学家来说，他们需要额外的计算资源，如远程 GPU 节点，以支持大型数据处理。</li><li id="ceb3" class="md me it ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">对于 DevOps 工程师来说，他们的主要任务之一是在不同的服务器上部署不同的产品，这需要频繁的远程配置。</li></ul><h2 id="975a" class="lk ll it bd lm ln lo dn lp lq lr dp ls kr lt lu lv kv lw lx ly kz lz ma mb mc bi translated">先决条件:</h2><ul class=""><li id="d56c" class="md me it ki b kj mf kn mg kr mh kv mi kz mj ld mk ml mm mn bi translated">已安装的<strong class="ki iu"> VS 代码。</strong></li></ul><p id="f8e0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以从他们的<a class="ae kf" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank">网站</a>下载，然后按照我之前的指导<a class="ae kf" rel="noopener" target="_blank" href="/10-steps-to-setup-a-comprehensive-data-science-workspace-with-vscode-on-windows-32fe190a8f3">做必要的设置。该指南也适用于一般的开发工作区。</a></p><ul class=""><li id="5d10" class="md me it ki b kj kk kn ko kr mt kv mu kz mv ld mk ml mm mn bi translated">在本地 Windows 和远程 Linux 系统上都安装了 OpenSSH。</li></ul><p id="5fa6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">简而言之，这将允许您与<code class="fe mw mx my mz b">ssh</code>一起工作。您可以通过<code class="fe mw mx my mz b">ssh -V</code>在两个系统上查看。它将返回您系统上安装的 OpenSSH 的版本。否则，不会安装 OpenSSH。你可以从<a class="ae kf" href="https://docs.microsoft.com/en-us/windows-server/administration/openssh/openssh_install_firstuse" rel="noopener ugc nofollow" target="_blank">这里安装</a>用于 Windows，从<a class="ae kf" href="https://www.cyberciti.biz/faq/ubuntu-linux-install-openssh-server/" rel="noopener ugc nofollow" target="_blank">这里安装</a>用于 Linux。</p><p id="a5a1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们开始吧~🚀</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="1d68" class="lk ll it mz b gy ne nf l ng nh"><strong class="mz iu">Overview of Contents</strong><br/>Step 1: Install the Remote-SSH Extension in VS Code<br/>Step 2: Verify the SSH Connection in PowerShell<br/>Step 3: Enable the Remote Connection in VS Code<br/>Step 4: Generate SSH Key Pairs<br/>Step 5: Copy the Public Key to the Remote Server</span></pre><p id="fde9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">【以下设置基于 win 10 PowerShell】</strong></p><h2 id="2300" class="lk ll it bd lm ln lo dn lp lq lr dp ls kr lt lu lv kv lw lx ly kz lz ma mb mc bi translated">第一步:在 VS 代码中安装<strong class="ak"> <em class="ni"> Remote-SSH </em>扩展</strong></h2><p id="4d64" class="pw-post-body-paragraph kg kh it ki b kj mf kl km kn mg kp kq kr nj kt ku kv nk kx ky kz nl lb lc ld im bi translated">启动 VS 代码-&gt;点击左边栏<em class="le">扩展</em>图标- &gt;搜索框<strong class="ki iu">远程-SSH</strong>-&gt;安装:</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nm"><img src="../Images/4005aa53782845bb3b9c1dab352fd07b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K1a4h6bEOlhjnnsnEuWdLA.png"/></div></div></figure><p id="e75c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后您会看到一个小的远程连接图标显示在<em class="le">状态栏</em>的左下方:</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/99cf3893505b19230ba68842a5bd86c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nHxPSiAK7Zq8W2lwB6juHQ.png"/></div></div></figure><h2 id="ef2a" class="lk ll it bd lm ln lo dn lp lq lr dp ls kr lt lu lv kv lw lx ly kz lz ma mb mc bi translated">步骤 2:在 PowerShell 中验证 SSH 连接</h2><p id="41fc" class="pw-post-body-paragraph kg kh it ki b kj mf kl km kn mg kp kq kr nj kt ku kv nk kx ky kz nl lb lc ld im bi translated">点击左上方的<em class="le">终端</em>或快捷方式<code class="fe mw mx my mz b">ctrl+shift+`</code>在 VS Code - &gt;中打开一个 PowerShell 终端，如果不是 PowerShell，从这里更改:</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/6b5d44a9d8ccbb9f07dbdf82b328fcf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VLx7K-NQ6cj7A6cq.png"/></div></div></figure><p id="9b7c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过在 PowerShell 中执行<code class="fe mw mx my mz b">ssh username@hostname</code>来验证 SSH 连接。(不管您是否在 conda 环境中运行它)</p><p id="4262" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您可以成功登录到远程服务器，就可以开始下一步了。</p><p id="cd10" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">💢如果您在输入 时得到如下<strong class="ki iu"> <em class="le">损坏的 MAC 错误:</em></strong></p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi np"><img src="../Images/da3b2f4cb0273495db9dc17df2e87633.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jzp_FYzylMAflS22cV0GdQ.png"/></div></div></figure><p id="e53c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> ✅ </strong>你可以尝试以下解决方案:</p><p id="fc28" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">先跑<code class="fe mw mx my mz b">ssh -Q mac</code>。它将返回本地系统上所有可用 MAC 加密算法的列表:</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/d1a23dafcb9dcfac1649cd3f782ad13a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*BIAMrjQEPt48DFinVxVXnQ.png"/></div></figure><p id="6715" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，选择您喜欢的其中一个，并通过使用<code class="fe mw mx my mz b">-m</code>选项添加所选算法来再次连接到远程服务器:</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="cdac" class="lk ll it mz b gy ne nf l ng nh">ssh -m hmac-md5-96 username@hostname</span></pre><p id="b4d5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可能需要尝试几次，直到找到远程 Linux 服务器支持的算法。</p><p id="3a31" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，您应该能够登录到远程服务器，并为下一步做好准备。</p><h2 id="f44f" class="lk ll it bd lm ln lo dn lp lq lr dp ls kr lt lu lv kv lw lx ly kz lz ma mb mc bi translated">步骤 3:在 VS 代码中启用远程连接</h2><p id="d6d3" class="pw-post-body-paragraph kg kh it ki b kj mf kl km kn mg kp kq kr nj kt ku kv nk kx ky kz nl lb lc ld im bi translated">点击左下方的远程连接图标-&gt;选择<strong class="ki iu"> Remote-SSH:打开配置文件… </strong></p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nr"><img src="../Images/1a7fcc8e5221379552bfa54ea2c417a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X7U_56c00QF-uK9ldaMXpQ.png"/></div></div></figure><p id="de35" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者你可以直接从你的本地主目录<code class="fe mw mx my mz b">~/.ssh/config</code>打开<strong class="ki iu"> ssh 配置文件</strong>。</p><p id="db33" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将您的远程服务器信息添加到配置文件中，格式如下:</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="f795" class="lk ll it mz b gy ne nf l ng nh">Host [hostname]<br/>  HostName [hostname]<br/>  User [username]<br/>  MACs <strong class="mz iu">[optional; if you have the MAC error in Step 2, add the available algorithm which you found to here]</strong></span></pre><p id="ead3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您有多个服务器要连接，只需保持格式并一个接一个地添加它们。</p><p id="d43f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，您将得到如下配置文件:(我们将在下一步回到<strong class="ki iu">标识文件</strong></p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/fa33c16e5f0ad9095008f38a118009d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7p2yiBI1DWYOU0bxJpR6YQ.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">这个例子维护三个不同的远程服务器</p></figure><p id="61c9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，您应该能够连接到远程服务器，而不会出现 MAC 错误。</p><p id="a83f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">点击左下方的远程连接图标-&gt;选择<strong class="ki iu">Remote-SSH:Connect to Host…</strong>-&gt;您将会看到在您的配置文件中维护的远程服务器列表- &gt;点击您的目标服务器(您可能需要输入您的登录密码)</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/99cf3893505b19230ba68842a5bd86c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nHxPSiAK7Zq8W2lwB6juHQ.png"/></div></div></figure><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nt"><img src="../Images/8decb2658795965a35093889c23f1c19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ByP_Z3u1Ns3fCAza3tvPqw.png"/></div></div></figure><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/c27f3df107b61654aed285055f7cf627.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gPQOTDjm14uGgT5hAasz3Q.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">维护的主机列表</p></figure><p id="ff6c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">成功连接后，您将导航到一个新的 VS 代码窗口，远程主机名显示在左下角:</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/0a4f827540ff4ad111da019f8f41ba78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IvNxHHVlKqGLnIjbpRYFnQ.png"/></div></div></figure><p id="f7ea" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">至此，您已经通过 VS 代码成功地设置了一个可工作的远程开发工作区。但是，还没有结束。</p><p id="1109" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果在此停止，每次发出远程连接时，都会要求您输入登录密码。你还需要通过 VS 代码为远程服务器上的每个操作输入密码，即使只是打开一个文件夹。这真的很烦人。另一方面，密码登录不够安全。对每个人来说都很容易使用和理解，但这种方便不知何故牺牲了安全级别。密码很容易被暴力攻击破解。</p><p id="2732" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，与其在 VS 代码中输入密码，不如使用 SSH 公钥和私钥对来进行身份验证。</p><h2 id="70aa" class="lk ll it bd lm ln lo dn lp lq lr dp ls kr lt lu lv kv lw lx ly kz lz ma mb mc bi translated">步骤 4:生成 SSH 密钥对</h2><p id="3e1e" class="pw-post-body-paragraph kg kh it ki b kj mf kl km kn mg kp kq kr nj kt ku kv nk kx ky kz nl lb lc ld im bi translated">在 VS 代码 Powershell 终端中，执行命令:</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="a4da" class="lk ll it mz b gy ne nf l ng nh">ssh-keygen</span></pre><p id="2597" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在密钥生成过程中，它会提示:</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/d3a53eb31cb569bce468a4a498222b28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iCtmM3q0D2rRJwALF7Uz4w.png"/></div></div></figure><p id="cbf3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这允许您定义存储密钥的位置。按 ENTER 键将其保留为默认值。</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nx"><img src="../Images/0f804673660a0d3401ea02fdcebba5a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ssLZ6m2tq6q9lUNYXINwkg.png"/></div></div></figure><p id="638a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这允许您输入并再次确认密码以保护您的私钥(当您键入时，它不会显示您的密码)。此后，您需要在以后使用私钥时输入该密码。这是额外的保护。可以按回车键跳过。</p><p id="fe19" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">创建完成后，您将看到一把钥匙的随机艺术图像。您的密钥对存储在默认的隐藏<code class="fe mw mx my mz b">~/.ssh</code>目录中:</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ny"><img src="../Images/f126cbe0ef44e6b63677a89c6db1511b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WjYTRDfVRb90EA2eZdTLAg.png"/></div></div></figure><p id="6b27" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要再次检查，您可以通过以下方式查看上述位置的密钥对:</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="6be3" class="lk ll it mz b gy ne nf l ng nh">cd ~/.ssh<br/>ls</span></pre><p id="ec55" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您将看到两个新文件<code class="fe mw mx my mz b">id_rsa</code>存储私钥，而<code class="fe mw mx my mz b">id_rsa.pub</code>存储公钥。运行<code class="fe mw mx my mz b">cat [filename]</code>检查密钥内容。</p><p id="7bfe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果一切顺利。现在，您可以在 ssh 配置文件中添加私钥<code class="fe mw mx my mz b">~/.ssh/id_rsa</code>的路径作为<strong class="ki iu">步骤 2 </strong>，名称为<strong class="ki iu">标识文件</strong>:</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nz"><img src="../Images/c9e3e7d6e2ca12f7edb2deac30e5c28a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cl79sn4MWOWl0JZkkWxqmQ.png"/></div></div></figure><p id="e13e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请记住，一个公钥可以使用多次，❗ <strong class="ki iu">不要把你的私钥分享给任何人。</strong></p><h2 id="c7e2" class="lk ll it bd lm ln lo dn lp lq lr dp ls kr lt lu lv kv lw lx ly kz lz ma mb mc bi translated">步骤 5:将公钥复制到远程服务器</h2><p id="ff70" class="pw-post-body-paragraph kg kh it ki b kj mf kl km kn mg kp kq kr nj kt ku kv nk kx ky kz nl lb lc ld im bi translated">通过 VS 代码或任何其他带有密码的终端登录到远程服务器。检查<code class="fe mw mx my mz b">~/.ssh</code>目录下是否有<code class="fe mw mx my mz b">authorized_keys</code>文件。如果没有，请通过以下命令创建一个:</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="a463" class="lk ll it mz b gy ne nf l ng nh">cd ~/.ssh  <br/>touch authorized_keys </span></pre><p id="bcc9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mz b">authorized_keys</code>是 OpenSSH 定义的默认文件名，用于存储公钥。您可以在这个文件中维护多个公钥。确保每个键都在一行上，并且键的中间没有换行符。</p><p id="d3c8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在这个远程文件中维护您的公钥(本地<code class="fe mw mx my mz b">~/.ssh/id_rsa.pub </code>文件中的内容):</p><p id="8bae" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mz b">vim authorized_keys</code> - &gt;按<code class="fe mw mx my mz b">i</code>切换到插入模式- &gt;将你的公钥内容粘贴到这里- &gt;按<code class="fe mw mx my mz b">ESC</code> + <code class="fe mw mx my mz b">:</code> + <code class="fe mw mx my mz b">wq</code>写入并退出文件- &gt;到<code class="fe mw mx my mz b">cat authorized_keys</code>重新检查。</p><p id="0a6b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，您在 VS 代码中安全方便的远程开发工作区已经准备好了！</p><h2 id="60c9" class="lk ll it bd lm ln lo dn lp lq lr dp ls kr lt lu lv kv lw lx ly kz lz ma mb mc bi translated">结论</h2><p id="c675" class="pw-post-body-paragraph kg kh it ki b kj mf kl km kn mg kp kq kr nj kt ku kv nk kx ky kz nl lb lc ld im bi translated">回到你的 VS 代码。发出新的远程连接。现在，您应该能够在没有密码的情况下连接到远程服务器，并像在本地一样使用它。玩得开心！</p></div></div>    
</body>
</html>