<html>
<head>
<title>A/B Testing-part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">A/B测试-第2部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-b-testing-part-2-42b94e1fb1dc?source=collection_archive---------33-----------------------#2020-05-24">https://towardsdatascience.com/a-b-testing-part-2-42b94e1fb1dc?source=collection_archive---------33-----------------------#2020-05-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/2c459c784be794b37dab4a5f319fb977.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*u8GO3jDfKC-9VsYBAdTjHw.png"/></div></figure><p id="5def" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这是我的A/B测试系列的第二篇文章。在第一部分中，我们学习了A/B测试背后的想法。在这篇文章中，我将带你浏览A/B测试背后的统计数据，并重点分析测试的结果。我将使用<a class="ae ks" href="https://www.udacity.com/course/ab-testing--ud257" rel="noopener ugc nofollow" target="_blank"> Udacity的A/B测试课程</a>的最终项目作为案例研究。</p><p id="4d55" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们将回顾:</p><ul class=""><li id="b4e8" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">测试概述</li><li id="ceb1" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">测试前分析</li><li id="ca21" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">分析测试结果</li><li id="b9fb" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">建议</li></ul><h1 id="fda1" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">测试概述</h1><p id="c98b" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">在线学习平台Udacity在其课程概览页面有两个选项<strong class="jw ir"> <em class="mk">开始免费试用</em> </strong>和<strong class="jw ir"> <em class="mk">获取课程资料</em> </strong>。</p><p id="cd27" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果学生单击“开始免费试用”按钮，他们将被要求输入信用卡信息，并注册参加付费课程的免费试用。14天后，除非先取消，否则会自动收费。</p><p id="cf41" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果学生单击“访问课程材料”按钮，他们将能够观看视频并免费参加测验，但他们不会获得辅导支持或认证证书，也不会提交他们的最终项目以获得反馈。</p><p id="1079" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Udacity看到许多学生注册了免费试用，过了一段时间就放弃了这门课程，因为他们根本没有足够的时间来专注于这门课程。因此，Udacity决定进行一项测试，如果学生点击开始免费试用按钮，他们将被询问他们有多少时间可以投入到课程中。如果学生选择每周5小时或更多，他们将像往常一样通过结账流程。但是，如果他们选择每周少于5小时，将会出现一条消息，表明Udacity课程通常需要更多的时间才能成功完成。此时，学生可以选择继续注册免费试用，或者免费获取课程材料。<a class="ae ks" href="https://www.google.com/url?q=https://drive.google.com/a/knowlabs.com/file/d/0ByAfiG8HpNUMakVrS0s4cGN2TjQ/view?usp%3Dsharing&amp;sa=D&amp;ust=1588289196680000" rel="noopener ugc nofollow" target="_blank">这张截图</a>展示了实验的样子。</p><h2 id="0be5" class="ml li iq bd lj mm mn dn ln mo mp dp lr kf mq mr lv kj ms mt lz kn mu mv md mw bi translated">测试背后的假设</h2><p id="d2ab" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">假设是，这可能会预先为学生设定更明确的期望，从而减少因为没有足够的时间而离开免费试用的沮丧学生的数量，而不会显著减少继续通过免费试用并最终完成课程的学生的数量。这将改善学生的整体体验，并提高教练支持可能完成课程的学生的能力。</p><p id="25d5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了更好地理解用户流程，您可以查看以下图形:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi mx"><img src="../Images/577659e1cc20b97f10b418a06b4d9ab7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QihXhNlai2eOyDzuI0b9Lg.png"/></div></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">新设计中的用户流</p></figure><blockquote class="nk"><p id="ab06" class="nl nm iq bd nn no np nq nr ns nt kr dk translated"><strong class="ak">提示</strong>:在不知道用户流量的情况下，分析一个测试是没有意义的！此外，不可能对不变量和评估度量做出正确的决定。</p></blockquote></div><div class="ab cl nu nv hu nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ij ik il im in"><h1 id="13b2" class="lh li iq bd lj lk ob lm ln lo oc lq lr ls od lu lv lw oe ly lz ma of mc md me bi translated">测试前分析</h1><p id="1fbe" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">在运行测试之前，我们需要执行测试前分析，包括:</p><ul class=""><li id="40c1" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">选择分流单位</li><li id="bbf9" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">选择不变/评估指标</li><li id="fa16" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">计算所需的样本量</li></ul><h2 id="273e" class="ml li iq bd lj mm mn dn ln mo mp dp lr kf mq mr lv kj ms mt lz kn mu mv md mw bi translated">分流单位</h2><p id="facc" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">在这个测试中，Udacity选择cookie作为导流单元。如果学生注册了免费试用，从那时起，他们将被一个用户id跟踪。同一个用户名不能注册两次免费试用。对于未注册的用户，即使他们在访问课程概述页面时已登录，也不会在实验中跟踪他们的用户id。</p><h2 id="d767" class="ml li iq bd lj mm mn dn ln mo mp dp lr kf mq mr lv kj ms mt lz kn mu mv md mw bi translated">不变/评估指标</h2><p id="52ed" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">不变指标用于健全性检查。换句话说，这些指标的值不应该受到变更的影响。查看用户流程图，我选择以下指标作为不变指标:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi og"><img src="../Images/cc557d0e68230967e86727fb98677790.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mII9ebt9ojwuO6Yc4czEXQ.png"/></div></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">不变度量</p></figure><p id="1e7a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Udacity添加到用户漏斗的新层位于用户点击开始免费试用按钮之后。因此，与到达该按钮之前的用户旅程相关的指标应该保持不变。接下来，我们需要确定评估指标:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi oh"><img src="../Images/b2c43676f8901ad90c1b75733e8abbcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r0mOfVDzS_nvJ0xSnjTa4g.png"/></div></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">评估指标</p></figure><p id="8b4a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">基于我们期望看到的测试假设:</p><ul class=""><li id="bfc0" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">保留率的增加，这意味着更多的学生在免费试用后留在了测试组。</li><li id="06e3" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">总转化率下降，这意味着测试组中沮丧的学生较少。</li><li id="efdc" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">对净转换率没有太大影响，这意味着我们在测试组没有失去大量付费用户。</li></ul><p id="8d4d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Udacity给出了变更前每天的指标值。这些是我们的基线值。请注意，这些值与我们的用户数量相关。</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/954abe42f1b83ad68be6d313ccd12d63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*d1vyI8TGI0Gn1GRxQeMXaA.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">人口数据</p></figure><p id="9e5b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">假设我们取了一个大小为5000的样本，这意味着5k的cookies查看了课程概述页面。基线值需要调整，因为现在我们有5k cookies，而不是40k:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/988bd343c8d3fd3cbb1a54a4f254e6c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*B3TfcH4edqDJt7OSoJPiEQ.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">抽样资料</p></figure><h2 id="3e2c" class="ml li iq bd lj mm mn dn ln mo mp dp lr kf mq mr lv kj ms mt lz kn mu mv md mw bi translated">设置测试的显著性水平和功效</h2><p id="abd8" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">为了理解测试的显著性水平和功效，让我们看看在无效假设和替代假设下的<em class="mk"> d </em>(测试和控制中的度量X的值之间的差异)的分布:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/f3d7b215ba85c029edcdadbb61cd5b22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*NK6Q6vyFcP_2gaKdV_yJEw.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">零假设和替代假设下<strong class="bd ol"> d </strong>的分布</p></figure><p id="14ea" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">再次记住什么是无效假设和替代假设。零假设表明测试组和对照组之间没有真正的差异(<em class="mk"> d </em> = 0)，替代假设表明有差异(<em class="mk"> d </em>！=0).你可能会问自己，在零假设下，<em class="mk"> d </em>的分布意味着什么？为什么无效假设和替代假设有分布？答案在于我们是从我们的人口中抽样的(还记得5k饼干吗？)!也就是说，每次采样，我们都会得到一个新的值。在零假设下，这些值的分布将是平均值为0的正态分布。</p><p id="18d9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">显著性水平和置信度水平</strong>:显著性水平通常被称为1类误差，用希腊字母Alpha表示。这是错误拒绝零假设的概率，在上图中用绿色标出。该区域位于零假设曲线之下，并且在其置信区间之外。在工业中这个值如果经常<strong class="jw ir">设置</strong>为5%。黑色方块(1-alpha)显示的区域称为置信水平。当零假设为真时，置信水平基本上是拒绝替代假设的概率。如果alpha设置为5%，则置信度为95%。</p><p id="e8c2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">置信区间:</strong>我们不确定<em class="mk"> d </em>的<strong class="jw ir"> <em class="mk">真值</em> </strong>，所以我们使用95%的置信水平在观察到的<em class="mk"> d </em>(我们测量的<em class="mk"> d </em>是我们实验的结果)周围建立一个置信区间，我们这样解释:<strong class="jw ir"> <em class="mk">在95%的样本中，d的真值落在置信区间内。</em> </strong></p><p id="7c91" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">β和功效</strong>:类型2误差或β是错误拒绝零假设的概率，这是<strong class="jw ir">设置</strong>为20%。在上图中，贝塔以紫色突出显示。所以1-斗鱼a.k.a测试的功率是<strong class="jw ir">设置</strong>为80%。图表中的红点表示功率。换句话说，能力是在你应该拒绝零假设的时候拒绝零假设的概率！(这是<em class="mk">真正，</em>给熟悉混淆矩阵的人看。)</p><p id="88a3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我的朋友就是你所需要的去理解测试背后的数据！</p><figure class="my mz na nb gt jr"><div class="bz fp l di"><div class="om on l"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated"><a class="ae ks" href="https://giphy.com/gifs/cbs-big-bang-theory-3ohryD06NMpRUCxsuQ/links" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><h2 id="f22e" class="ml li iq bd lj mm mn dn ln mo mp dp lr kf mq mr lv kj ms mt lz kn mu mv md mw bi translated">计算所需的样本量</h2><p id="a296" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">现在我们应该计算我们需要的最小cookies数(最小样本大小)，以达到期望的统计功效。</p><p id="7264" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">总转化、留存、净转化都是<strong class="jw ir">概率</strong>，也就是说是二项式分布。基于中心极限定理，这些度量的标准偏差由以下公式给出:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/fa01d6c06b4f18186550de197119d8d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*LTeLRYkSM8tjBa_FeY-rbQ.png"/></div></figure><p id="c068" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了计算所需的样本大小，假设我们有两个样本，一个是基线(网站的当前版本)，另一个是测试版本(我们还没有推出，想找到它的大小)。实验功效与样本量有如下关系:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi op"><img src="../Images/3b274df83e7a101bf33a3a0766edc840.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/1*dPCUoX2PE_iC3vx9o1MaMA.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">双尾检验中检验能力与样本量的关系</p></figure><figure class="my mz na nb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi oq"><img src="../Images/ef3988fdfda32fba94ea64bc1a855ed7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M9wKQMCOn957NQWg8hlFIA.png"/></div></div></figure><p id="a002" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如您所见，样本大小包含在标准误差中。如果您将比例放入公式中，并假设我们希望在对照组和测试组之间有一个很好的50/50分割，那么样本大小将是:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi or"><img src="../Images/37af0421a37625d5549b60a1fd7b2804.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*y_-ILId6bZQdQywXFBGq3Q.png"/></div></figure><p id="bb6f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">酷！我们有一个样本量的公式！假设功效设置为80%,显著性水平设置为5%,则更一般的公式是:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi os"><img src="../Images/6552a6798321ea6cea10ceb202e96ae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*-n0p5fXvLhz1PyGi50Xijw.png"/></div></figure><p id="ef9d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果我们想要测试组和对照组各占一半，那么r=1。为了能够计算每个指标所需的样本量，我们需要<em class="mk">基线转换</em>和<em class="mk">最小期望变化</em>(也称为实际显著性水平)。</p><figure class="my mz na nb gt jr"><div class="bz fp l di"><div class="ot on l"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated"><a class="ae ks" href="https://giphy.com/gifs/finally-atlast-itsover-8UF0EXzsc0Ckg" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="da4e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">每个指标的预期实际显著性水平由Udacity给出。假设测试组和对照组的比例为50/50，我们得到每个指标的样本大小的以下值:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi ou"><img src="../Images/5cdecc006263dd5b590f1ec0dae431b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*98QvKBZisemlhv4AwC0i8Q.png"/></div></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">每个评估指标所需的样本量</p></figure><p id="5a9e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">关于工作台的重要注意事项</strong>:</p><ul class=""><li id="dc41" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">您需要选择您在最后一列中为测试计算的最大天数。这属于保留指标，表明需要100多天才能获得保留指标所需的cookies数量。这将是一个非常长的时间来运行一个测试，这是不值得的努力。我们放弃这一指标，转而使用第二大数字，它属于净转换率。</li><li id="da3c" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">请注意，最后一列是基于我们每天可以处理40k cookies的假设计算的。这不实际！我们绝不会让所有人都参与实验，而是应该选择一定比例的人。假设我选择让80%的人参与这个实验，那么我大概需要22天。</li></ul></div><div class="ab cl nu nv hu nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ij ik il im in"><h1 id="67c4" class="lh li iq bd lj lk ob lm ln lo oc lq lr ls od lu lv lw oe ly lz ma of mc md me bi translated">分析测试结果</h1><p id="f333" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">恭喜你！您设计了您的测试，并运行了大约3周，现在您有了<a class="ae ks" href="https://docs.google.com/spreadsheets/d/1Mu5u9GrybDdska-ljPXyBjTpdZIUev_6i7t4LRDfXM8/edit#gid=0" rel="noopener ugc nofollow" target="_blank">结果</a>！</p><h2 id="b92a" class="ml li iq bd lj mm mn dn ln mo mp dp lr kf mq mr lv kj ms mt lz kn mu mv md mw bi translated">健全性检查</h2><p id="688d" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">我们需要做的第一件事是健全性检查，我在这篇文章中强调了很多。我们为健全性检查选择了三个不变指标，让我们逐一检查:</p><ol class=""><li id="a304" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ov kz la lb bi translated">查看课程概述页面的cookies数量:</li></ol><p id="be02" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们决定测试组和对照组各占一半。这意味着浏览课程概览页面的cookies数量在两组之间应该不会有太大的差异。我们查看两组中的cookies总数，并检查它们是否有显著差异。如果答案是肯定的，我们查看每天的cookies数量，并检查差异来自哪里。</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/4df260296271d5ed23c49cd8f25dd766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*gzSEInHghO6dthSwPRBt9g.png"/></div></figure><p id="7cb2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这些数字看起来非常相似。但是我们需要确定它们之间的差异是<em class="mk">随机</em>还是<em class="mk">显著</em>。我们可以通过二项式分布来模拟将cookies分配给控制组和测试组，成功概率为50%(假设成功意味着被分配给控制组)。我们想要回答的问题是，如果我们有一个测试+控制组大小的样本，并且有50%的概率被分配到控制组，那么在控制组中看到观察到的cookies分数有多奇怪？</p><p id="ab1f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了回答这个问题，我们需要建立一个大约50%概率的置信区间，并检查在控制组中观察到的饼干部分是否在该区间内。</p><p id="862c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如前所述，二项式分布的标准误差通过以下公式计算:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/59f4a3eb070059e458700e22077f3a88.png" data-original-src="https://miro.medium.com/v2/resize:fit:318/format:webp/1*QaDmznVwhyPIvsIs1zS8zQ.png"/></div></figure><p id="aed9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了建立置信区间，我们首先需要计算误差幅度:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/0fc95fa8592ab88c2311bc6d90e2d39a.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/format:webp/1*Kw7XV_y4dYm7CLhrBLK3xg.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">误差幅度和置信区间关系</p></figure><p id="ba6b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了让事情更容易理解，我做了这张表:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi oz"><img src="../Images/db6c80c0a4c2b25f831746134d05fe14.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/1*eM7B7P6G_M6_REAIbl08Aw.png"/></div></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">查看课程概述页面的cookies数量的健全性检查</p></figure><p id="06c7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">请注意，我假设本次计算的置信度为95%。</p><p id="6ef6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">由于对照组中观察到的饼干比率在置信区间内，我们认为差异<em class="mk">不显著</em>。</p><p id="cdb3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">2.点击开始免费试用按钮的cookies数量</p><p id="232f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">按照与上面相同的公式和推理，我们得到这个表:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi oz"><img src="../Images/85a9476e5d3138e20179255069d9788c.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/1*ACsXGGXqJ4j_nGl1B7M23g.png"/></div></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">对点击免费试用按钮的cookies数量进行健全性检查</p></figure><p id="40cc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">观察到的比例在CI范围内，因此我们可以检查第三个指标。</p><p id="fa9d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">3.点击通过概率(CTP)</p><p id="3547" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们有两个概率，我们想知道它们之间的差异是否显著。</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/24b302ace55df11d968409f19ef70b39.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*FnSM9lWPmuCVRIIY_MSYlg.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">从总体中抽取两个样本，每个样本都有自己的大小和比例</p></figure><p id="98ce" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们需要利用前面提到的<em class="mk"> SE(差异)</em>公式:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/c29e9edd63e0fd772f82e5f3085ed9ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*ROIriwtSBETPshHdkULeqw.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">两个样本比例的标准误差</p></figure><p id="1397" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们期望两组的CTP之间的差异为零。因此，我们在<em class="mk"> d </em> = 0附近设定一个置信区间，并检查<em class="mk"> d </em>的观测值是否落在该区间内。</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/c2121ef04cb18bca08f1ee1211629147.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*jq3qukjdJgkXvJCAbJT3cQ.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">CTP的健全性检查</p></figure><p id="de0e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">根据上表，观察到的两组CTP之间的差异并不显著。我们的理智检查都完成了！</p><h2 id="4760" class="ml li iq bd lj mm mn dn ln mo mp dp lr kf mq mr lv kj ms mt lz kn mu mv md mw bi translated">检查效果大小</h2><p id="2ebc" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">现在我们进入有趣的部分！检查测试结果是否具有统计和实际意义。</p><ol class=""><li id="11a0" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ov kz la lb bi translated">总转换</li></ol><p id="773f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了计算这个指标，我们需要注册免费试用的用户数和点击免费试用按钮的cookies数。注册数据是不完整的，有些日子我们有点击数据，但没有注册数据。因此，在计算总转化率时，我们需要将这些日子过滤掉。</p><p id="cc25" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">类似于点击率，我们使用<em class="mk"> SE(差异)</em>在两组总转化率之间的<em class="mk">观察差异</em>周围做出置信区间。与对照组相比，试验组的总转化率降低了2.06%。</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/39d09e411422374a73997551c77c4c58.png" data-original-src="https://miro.medium.com/v2/resize:fit:444/format:webp/1*HxC0lbycC-ZfZerUOLKyYw.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">两组总转换值差异的置信区间</p></figure><p id="64d2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">回头看看测试的假设，我们预计总转换值会下降。我们预期的最低降幅为1%，置信区间的下限大于1%。换句话说，我们可以确定下降幅度将大于1%,并且由于置信区间不包含0，因此该结果在统计上和实践上都是有意义的。</p><p id="5d16" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">2.净转换</p><p id="5ba3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">与总转化率非常相似，我们围绕两组间观察到的差异建立了95%置信水平的置信区间。</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/8d551dc344fee7f6e8e2b428f5dad081.png" data-original-src="https://miro.medium.com/v2/resize:fit:406/format:webp/1*poOqe4ROulLE3RbGfhwuyg.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">两组净转换率值差异的置信区间</p></figure><p id="b00f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这种情况下，结果没有统计学意义，因为我们的置信区间包括0。</p><h1 id="74cb" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">建议</h1><p id="19d5" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">我们唯一有把握谈论的指标是总转化率。我们看到，在测试组中，这个指标的值下降了(正如我们所预料的)。然而，净转换指标的结果并不显著！这意味着我们没有信心说出<strong class="jw ir"><em class="mk"/></strong>这个指标会如何变化，或者基本上<strong class="jw ir"><em class="mk"/></strong>付费用户数量会如何变化！</p><p id="c085" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我建议不要启动这项测试。虽然总转化率的下降使得沮丧的学生数量也减少了，但是不清楚通过免费试用期并付款的学生数量如何变化。</p></div><div class="ab cl nu nv hu nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ij ik il im in"><h1 id="c08b" class="lh li iq bd lj lk ob lm ln lo oc lq lr ls od lu lv lw oe ly lz ma of mc md me bi translated"><strong class="ak">资源</strong></h1><ul class=""><li id="a793" class="kt ku iq jw b jx mf kb mg kf pf kj pg kn ph kr ky kz la lb bi translated"><a class="ae ks" href="https://www.udacity.com/course/ab-testing--ud257" rel="noopener ugc nofollow" target="_blank"> Udacity A/B测试课程</a></li><li id="9939" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated"><a class="ae ks" rel="noopener" target="_blank" href="/the-math-behind-a-b-testing-with-example-code-part-1-of-2-7be752e1d06f">A/B测试背后的数学原理</a></li><li id="39bd" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated"><a class="ae ks" href="https://web.stanford.edu/~kcobb/hrp259/lecture11.ppt" rel="noopener ugc nofollow" target="_blank">斯坦福讲座</a></li><li id="176b" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated"><a class="ae ks" href="https://www.kaggle.com/tammyrotem/ab-tests-with-python" rel="noopener ugc nofollow" target="_blank">用Python进行A/B测试</a></li></ul></div></div>    
</body>
</html>