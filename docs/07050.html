<html>
<head>
<title>NumPy Crash Course: Array Basics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NumPy 速成班:阵列基础</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/numpy-crash-course-array-basics-35c83ea147f5?source=collection_archive---------35-----------------------#2020-05-30">https://towardsdatascience.com/numpy-crash-course-array-basics-35c83ea147f5?source=collection_archive---------35-----------------------#2020-05-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0ad7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">几乎所有数据科学工具的核心数据结构。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7685635ffb132c80167b1afebe8f677a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9_n0LdejGmnas7Nx"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">亨利&amp;公司在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="84df" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">列表与数组</h2><p id="dbe5" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">我们都熟悉标准的 Python list——一个可变的对象，它具有很大的灵活性，因为不是列表中的所有元素都需要是同质的数据类型。也就是说，您可以拥有一个包含整数、字符串、浮点甚至其他对象的列表。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="8b0e" class="lg lh it mw b gy na nb l nc nd">my_list = [2, {'dog': ['Rex', 3]}, 'John', 3.14]</span></pre><p id="3cf9" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">上面是一个包含多种数据类型作为元素的完美有效的列表——甚至是一个包含另一个列表的字典！</p><p id="a985" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">然而，为了支持所有这些并发数据类型，每个 Python 列表元素都必须包含自己的唯一信息。每个元素都充当指向唯一 Python 对象的指针。由于这种低效率，随着列表变得越来越大，使用列表变得更加费力。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="43c3" class="lg lh it mw b gy na nb l nc nd">&gt;&gt;&gt;for element in my_list:<br/>    print(type(element))</span><span id="c574" class="lg lh it mw b gy nj nb l nc nd">&lt;class 'int'&gt;<br/>&lt;class 'dict'&gt;<br/>&lt;class 'str'&gt;<br/>&lt;class 'float'&gt;</span></pre><p id="f82e" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">有了数组，我们摆脱了列表的灵活性，取而代之的是一个由相同数据类型(通常是整数)的元素组成的多维表。<br/>这使得大型数据集的存储和操作更加高效。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="5945" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">数组的属性</h2><p id="062c" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">NumPy 数组的每个维度称为一个轴。例如，如果我们如下声明一个数组，我们有一个 2 轴数组:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="a293" class="lg lh it mw b gy na nb l nc nd">&gt;&gt;&gt; import numpy as np<br/>&gt;&gt;&gt; a = np.arange(10).reshape(2,5)<br/>&gt;&gt;&gt; a<br/>array([[0, 1, 2, 3, 4],<br/>       [5, 6, 7, 8, 9]])</span></pre><p id="9d3b" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">上面的代码使用 arrange()函数创建一个范围为 10 的数组，并将其重塑为一个 2 x 5 的数组。这个方法只是标准 range()函数的数组版本。</p><p id="c2cf" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">你可以看到你的数组属性使用了内置的数组属性 shape、ndim、dtype、itemsize 和 size。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="64b2" class="lg lh it mw b gy na nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Returns a tuple of the size of each dimension</strong><br/>&gt;&gt;&gt; a.shape<br/>(2, 5)</span><span id="a22e" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Returns the number of axes of the array</strong><br/>&gt;&gt;&gt; a.ndim<br/>2</span><span id="98fe" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Returns the description of the data type of the array</strong><br/>&gt;&gt;&gt; a.dtype<br/>dtype('int32')</span><span id="e39c" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Returns the byte size of each element in the array</strong><br/>&gt;&gt;&gt; a.itemsize<br/>4</span><span id="120b" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Returns the total number of elements in the array</strong><br/>&gt;&gt;&gt; a.size<br/>10</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="d6db" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">创建数组</h2><p id="7441" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">从头开始创建 NumPy 数组的方法有很多——这通常取决于您的应用程序使用哪种方法，但是下面列出了一些更常用的技术。</p><p id="5443" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">注意:如果要显式指定类型，dtype 参数是可选的，否则它将默认为最适合您在创建时传递的数据的类型。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="5843" class="lg lh it mw b gy na nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Create an array of specified size filled with 0's</strong><br/>&gt;&gt;&gt; np.zeros((3,3), dtype=int)<br/>array([[0, 0, 0],<br/>       [0, 0, 0],<br/>       [0, 0, 0]])</span><span id="7fc4" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Create an array of specified size filled with the given value</strong><br/>&gt;&gt;&gt; np.full((4,2), 1.23)<br/>array([[1.23, 1.23],<br/>       [1.23, 1.23],<br/>       [1.23, 1.23],<br/>       [1.23, 1.23]])</span><span id="9f2d" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Create a linear array with values from the arange() function</strong><br/>&gt;&gt;&gt; np.arange(10)<br/>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span><span id="d13d" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Create an array of N evenly spaced values between x and y</strong><br/>&gt;&gt;&gt; # np.linspace(x, y, N)<br/>array([0.        , 0.11111111, 0.22222222, 0.33333333, 0.44444444,<br/>       0.55555556, 0.66666667, 0.77777778, 0.88888889, 1.        ])</span><span id="4243" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Create an array of random values between 0 and 1</strong><br/>&gt;&gt;&gt; np.random.random((2,2))<br/>array([[0.90416154, 0.56633881],<br/>       [0.09384551, 0.23539769]])</span><span id="2fec" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Create an array of random integers between a given range</strong><br/>&gt;&gt;&gt; np.random.randint(0, 5, (2,2))<br/>array([[4, 3],<br/>       [3, 3]])</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="f824" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">重塑数组</h2><p id="88df" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">你已经看到我们使用了 shape()方法，它对操纵你的数组非常有用。对于 arange()和 linspace()这样的函数，可以使用 shape()创建任意大小的数组。<br/>然而，<strong class="me iu">非常重要的一点是</strong>要注意，为了能够重塑数组，新数组的大小必须与原始数组的大小相匹配。例如，以下内容不是有效的整形:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="5934" class="lg lh it mw b gy na nb l nc nd">&gt;&gt;&gt; b = np.arange(0, 6)<br/>&gt;&gt;&gt; b<br/>array([0, 1, 2, 3, 4, 5])<br/>&gt;&gt;&gt; b.reshape((3,3))</span><span id="ca22" class="lg lh it mw b gy nj nb l nc nd">Traceback (most recent call last):<br/>  File "&lt;pyshell#40&gt;", line 1, in &lt;module&gt;<br/>    b.reshape((3,3))<br/>ValueError: cannot reshape array of size 6 into shape (3,3)</span></pre><p id="488d" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">我们有 6 个元素，但正试图改造成一个 3 x 3，这将需要 9 个元素。然而，我们可以把它改造成 3 x 2:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="efe9" class="lg lh it mw b gy na nb l nc nd">&gt;&gt;&gt; b.reshape((3,2))<br/>array([[0, 1],<br/>       [2, 3],<br/>       [4, 5]])</span></pre><p id="37ef" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">我们还可以通过使用 ravel()方法将多维数组“展平”成一维:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="329c" class="lg lh it mw b gy na nb l nc nd">&gt;&gt;&gt; b.ravel()<br/>array([0, 1, 2, 3, 4, 5])</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="c5aa" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">索引/切片数组</h2><p id="ea43" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">数组索引的工作方式非常类似于列表索引和切片，我们只需要注意数据的维度。</p><p id="1e21" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">例如，假设我们正在使用如下所示的阵列:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="8f49" class="lg lh it mw b gy na nb l nc nd">&gt;&gt;&gt; x = np.arange(12).reshape((4,3))<br/>&gt;&gt;&gt; x<br/>array([[ 0, 1, 2],<br/>       [ 3, 4, 5],<br/>       [ 6, 7, 8],<br/>       [ 9, 10, 11]])</span></pre><p id="e52c" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">我们有一个总共包含 12 个元素的 4 x 3。要访问一个元素，我们需要使用一个元组。因此，如果我们想在多维数组中返回值，我们可以这样做:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="c8ff" class="lg lh it mw b gy na nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Return an entire axis</strong><br/>&gt;&gt;&gt; x[0]<br/>array([0, 1, 2])</span><span id="6a56" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Return a specific element</strong><br/>&gt;&gt;&gt; x[3][1]<br/>10</span></pre><p id="fe32" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">我们也可以用它来修改数组中的值。<br/>请注意，如果您尝试将该值修改为与您的数组不同的数据类型，您可能会遇到问题！当我们试图修改一个 int 类型的数组时，我们的 float 被转换为 int。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="d63d" class="lg lh it mw b gy na nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Modify a value using a correct data type</strong><br/>&gt;&gt;&gt; x[1][1] = 30<br/>&gt;&gt;&gt; x<br/>array([[ 0,  1,  2],<br/>       [ 3, 30,  5],<br/>       [ 6,  7,  8],<br/>       [ 9, 10, 11]])</span><span id="e671" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Modify a value using an incorrect data type</strong><br/>&gt;&gt;&gt; x[0][1] = 3.14<br/>&gt;&gt;&gt; x<br/>array([[ 0,  <strong class="mw iu">3</strong>,  2],<br/>       [ 3, 30,  5],<br/>       [ 6,  7,  8],<br/>       [ 9, 10, 11]])</span></pre><p id="e8c3" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">对于切片，我们再次使用熟悉的列表切片符号，但是当我们处理一维以上的数组时，需要用逗号分隔每个维度。<br/>我们使用通常的<strong class="me iu"> x【开始:停止:步骤】</strong>格式访问行和列。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="7661" class="lg lh it mw b gy na nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; x</strong><br/>array([[ 0,  3,  2],<br/>       [ 3, 30,  5],<br/>       [ 6,  7,  8],<br/>       [ 9, 10, 11]])</span><span id="1b68" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Return a slice of the first 2 rows and all columns</strong><br/>&gt;&gt;&gt; x[:2, :]<br/>array([[ 0,  3,  2],<br/>       [ 3, 30,  5]])</span><span id="6351" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Return a slice of all rows up to the first column</strong><br/>&gt;&gt;&gt; x[:, :1]<br/>array([[0],<br/>       [3],<br/>       [6],<br/>       [9]])</span><span id="c021" class="lg lh it mw b gy nj nb l nc nd"><strong class="mw iu">&gt;&gt;&gt; # Return every other row, every column</strong><br/>&gt;&gt;&gt; x[::2, :]<br/>array([[0, 3, 2],<br/>       [6, 7, 8]])</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="f841" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">既然您已经掌握了数组的基础知识，那么您就可以理解 Python 中最强大的数据结构之一了！</p><p id="9def" class="pw-post-body-paragraph mc md it me b mf ne ju mh mi nf jx mk lp ng mm mn lt nh mp mq lx ni ms mt mu im bi translated">接下来，我们将研究对数组的基本操作，因此，随着本系列的进展，请务必遵循本系列。<br/>未来故事的链接将会随着它们的发布而增加——以及一个索引页。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/fbb8fb0e972b79dd8fcec885411b5696.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5DoeKDDa_cqO_QUQ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@gaellemarcel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Gaelle Marcel </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure></div></div>    
</body>
</html>