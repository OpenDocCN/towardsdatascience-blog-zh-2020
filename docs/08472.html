<html>
<head>
<title>10 Minutes to Building a Machine Learning Pipeline with Apache Airflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10 分钟用 Apache Airflow 建立机器学习管道</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/10-minutes-to-building-a-machine-learning-pipeline-with-apache-airflow-53cd09268977?source=collection_archive---------3-----------------------#2020-06-20">https://towardsdatascience.com/10-minutes-to-building-a-machine-learning-pipeline-with-apache-airflow-53cd09268977?source=collection_archive---------3-----------------------#2020-06-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4fa5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为什么 ML 管道很重要，以及如何使用 Apache AirFlow 构建一个简单的 ML 管道</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a026f70f09506130ccc92c7cff8e7e0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3RoyIG8IseymtrgI"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">杰米·菲利普斯在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="558b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">通常，当你想到机器学习时，你往往会想到你现在可以创建的伟大模型。如果你想把这些令人惊奇的模型公之于众，你就必须超越仅仅训练模型，并融入数据收集、特征工程、训练、评估和服务。</em></p><p id="1f84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最重要的是，你还必须记住，你是在将一个软件应用程序投入生产。这意味着您将拥有任何生产软件所拥有的所有需求，包括可伸缩性、一致性、模块化、可测试性和安全性。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lt"><img src="../Images/23149ed2c0ee2403856a2510984bc3c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c2tmreFNVpgVqZVu-CxNRQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">ML 代码只是 ML 系统的一部分</p></figure><p id="e547" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">ML 管道允许你自动运行机器学习系统的步骤，从数据收集到模型服务(如上图所示)。它还将</strong> <a class="ae kv" href="https://papers.nips.cc/paper/5656-hidden-technical-debt-in-machine-learning-systems" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">减少机器学习系统</strong> </a>的技术债务，正如这篇链接论文所描述的。这就进入了<a class="ae kv" href="https://cloud.google.com/solutions/machine-learning/mlops-continuous-delivery-and-automation-pipelines-in-machine-learning" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> MLOps </strong> </a>的领域，这是一个快速发展的领域，与 DevOps 类似，(<strong class="ky ir">旨在自动化和监控 ML 系统的所有步骤。</strong></p><p id="357d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本教程将向您展示如何构建一个简单的 ML 管道，该管道可以自动化使用<a class="ae kv" href="https://github.com/fastai/fastai" rel="noopener ugc nofollow" target="_blank"> FastAI </a>构建的蒲公英和草的深度学习图像分类器的工作流程，然后使用<a class="ae kv" href="https://www.starlette.io/" rel="noopener ugc nofollow" target="_blank"> Starlette </a>作为 web 应用。我们将使用众多工作流工具中的<a class="ae kv" href="https://airflow.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache AirFlow </a>，如<a class="ae kv" href="https://github.com/spotify/luigi" rel="noopener ugc nofollow" target="_blank"> Luigi </a>、<a class="ae kv" href="https://mlflow.org/" rel="noopener ugc nofollow" target="_blank"> MLFlow </a>和<a class="ae kv" href="https://www.kubeflow.org/" rel="noopener ugc nofollow" target="_blank"> KubeFlow </a>，因为它提供了广泛的特性和漂亮的 UI。<strong class="ky ir"> AirFlow 是一款开源软件，允许您使用有向无环图(DAG)以编程方式创作和调度工作流，并通过内置的 AirFlow 用户界面对其进行监控。</strong>在本教程的最后，我将向您展示使您的管道生产就绪的进一步步骤。</p><p id="26b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">需求</strong>:由于您将在一个虚拟机实例上运行本教程，您需要的只是一台运行任何操作系统的计算机和一个 Google 帐户。</p><p id="2ee5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本教程将分为以下步骤:</p><ol class=""><li id="7536" class="lu lv iq ky b kz la lc ld lf lw lj lx ln ly lr lz ma mb mc bi translated">注册谷歌云平台并创建一个计算实例</li><li id="2075" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">从 Github 获取教程内容</li><li id="6daf" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">气流中的 ML 管道概述</li><li id="f33f" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">使用 nginx 安装 Docker 并设置虚拟主机</li><li id="f61b" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">构建并运行 Docker 容器</li><li id="d187" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">打开气流 UI 并运行 ML 管道</li><li id="88c5" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">运行部署的 web 应用程序</li></ol><h1 id="44d3" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">1.登录 Google 云平台并创建一个计算实例</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi na"><img src="../Images/1758f4c2c34e9b33db7b374e1359d44e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*N4LVeUOfb8igDwd25yhumw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">注册 GCP 是免费的！</p></figure><p id="70d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你还没有，通过你的谷歌账户注册<a class="ae kv" href="http://cloud.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌云平台</a>。你必须输入你的信用卡，但注册时不会收取任何费用。您还将获得价值 300 美元的免费积分，有效期为 12 个月！如果你用完了积分，不要担心——运行本教程将花费几分钱，只要你之后停止你的虚拟机实例！</p><p id="ad27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">进入控制台后，转到<a class="ae kv" href="https://cloud.google.com/compute/docs/instances/create-start-instance" rel="noopener ugc nofollow" target="_blank">计算引擎并创建一个实例</a>。然后:</p><ol class=""><li id="349d" class="lu lv iq ky b kz la lc ld lf lw lj lx ln ly lr lz ma mb mc bi translated">将实例命名为<code class="fe nb nc nd ne b">greenr-airflow</code></li><li id="ed83" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">将计算实例设置为<code class="fe nb nc nd ne b">n1-standard-8</code></li><li id="772a" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">将操作系统设置为 Ubuntu 18.04</li><li id="9f4d" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">将硬盘内存提升至 30GB</li><li id="b68a" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">允许云访问 API 和 HTTP/HTTPS 流量</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">如何创建虚拟机实例</p></figure><p id="f382" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您的实例已经创建并正在运行时，通过单击屏幕右侧的 SSH 按钮进入您的实例。</p><h1 id="9e82" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">2.从 Github 中提取训练好的模型</h1><p id="0dab" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">我们从 Github 上拉一下教程内容。通过在 VM 实例中键入以下命令，从 Github 克隆 repo:</p><pre class="kg kh ki kj gt nm ne nn no aw np bi"><span id="e0bf" class="nq mj iq ne b gy nr ns l nt nu">git clone <a class="ae kv" href="https://github.com/btphan95/greenr-tutorial" rel="noopener ugc nofollow" target="_blank">https://github.com/btphan95/greenr-</a>airflow<br/>cd <a class="ae kv" href="https://github.com/btphan95/greenr-tutorial" rel="noopener ugc nofollow" target="_blank">greenr-</a>airflow</span></pre><h1 id="212d" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">3.ML 管道组件概述</h1><p id="16ed" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">让我们探索一下这个 Git 存储库的内容。首先，让我们探索气流配置文件，<code class="fe nb nc nd ne b">/config/airflow.cfg</code>。它设置气流管道的所有配置选项，包括气流管道的位置(在本例中，我们将该文件夹设置为<code class="fe nb nc nd ne b">/dags/</code>，以及我们连接到元数据数据库<code class="fe nb nc nd ne b">sql_alchemy_conn</code>的位置)。Airflow 使用一个数据库来存储关于 Dag、它们的运行以及其他 AirFlow 配置(如用户、角色和连接)的元数据。就像在电子游戏中保存你的进度一样。</p><p id="0915" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，让我们探索 ML 管道，它在<code class="fe nb nc nd ne b">/dags/ml_pipeline.py</code>中定义。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv ng l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">ml_pipeline.py</p></figure><p id="10bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个 Python 脚本所做的是<em class="ls">将我们的有向无环图结构定义为代码</em>，包括我们想要执行的任务及其顺序。</p><p id="6ac7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们来分解一下 ml_pipeline.py 中的代码:</p><ol class=""><li id="453c" class="lu lv iq ky b kz la lc ld lf lw lj lx ln ly lr lz ma mb mc bi translated"><code class="fe nb nc nd ne b">default_args = … </code> default_args 定义了将被送入 DAG 函数的参数。这包括所有者名称<code class="fe nb nc nd ne b">owner</code>，失败的实例之后 DAG 是否应该再次运行<code class="fe nb nc nd ne b">depends_on_past</code>，以及开始日期<code class="fe nb nc nd ne b">start_date</code>。注意:AirFlow 将在 DAG 定义下的<code class="fe nb nc nd ne b">start_date</code>和<code class="fe nb nc nd ne b">schedule_interval</code>的一个实例之后启动 DAG。这意味着在我们的例子中，我们从(31 天前)+ (30 天间隔)=昨天开始。</li><li id="57db" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated"><code class="fe nb nc nd ne b">dag = DAG …</code> DAG 与 default_args 和<code class="fe nb nc nd ne b">schedule_interval</code>一起实例化有向非循环图。</li><li id="9c9b" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated"><code class="fe nb nc nd ne b">download_images = BashOperator…</code>记住 Apache AirFlow <em class="ls">将我们的有向无环图结构定义为代码</em>，DAGS 由任务组成。任务是使用执行代码的操作符定义的。这里，我们使用 BashOperator 为我们的任务运行 Python 文件，这些文件位于<code class="fe nb nc nd ne b">scripts/.</code>中，例如，在我们的 download_images 任务中，我们从 Google Images 下载图像，BashOperator 调用<code class="fe nb nc nd ne b">python3 /usr/local/airflow/scripts/download_images.py</code>。</li><li id="ec03" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">在这里，我们设置 DAG 中任务的顺序。第一个任务完成后，<code class="fe nb nc nd ne b">&gt;&gt;</code>命令运行第二个任务。这意味着在管道中，download_images 将在 train 之前运行，train 将在 serve 之前运行。</li></ol><p id="fae3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我鼓励您看一看每个任务的 python 脚本！</p><h1 id="b4e4" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">4.安装 Docker 并使用 nginx 设置虚拟主机</h1><p id="64c3" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated"><a class="ae kv" href="http://docker.com/" rel="noopener ugc nofollow" target="_blank"> Docker </a>允许你在容器中运行软件，容器是运行自己操作系统的虚拟环境，让你轻松可靠地捆绑软件及其所需的软件包。这就是为什么我们要使用 Docker 来运行我们的教程。首先，让我们通过运行 Docker 网站上的 Bash 脚本在我们的虚拟机上安装 Docker(或者您可以在这里手动安装 Docker<a class="ae kv" href="https://docs.docker.com/engine/install/ubuntu/" rel="noopener ugc nofollow" target="_blank"/>):</p><pre class="kg kh ki kj gt nm ne nn no aw np bi"><span id="be7c" class="nq mj iq ne b gy nr ns l nt nu">bash &lt;(curl -s <a class="ae kv" href="https://get.docker.com/" rel="noopener ugc nofollow" target="_blank">https://get.docker.com/</a>)</span></pre><p id="2003" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，你需要使用一个开源网络服务器软件<a class="ae kv" href="http://nginx.org/" rel="noopener ugc nofollow" target="_blank"> nginx </a>来设置虚拟主机。因为我计划在 Docker 容器中使用两个端口，一个用于 AirFlow UI，一个用于最终的 web 应用程序，并且只有一个公共 IP 地址(我们的计算实例的外部地址)，所以您将使用 nginx 将 HTTP 请求路由到我们的外部 IP 地址。使用以下脚本从端口 8080 上的气流路由到我们的默认端口 80:</p><pre class="kg kh ki kj gt nm ne nn no aw np bi"><span id="cd1f" class="nq mj iq ne b gy nr ns l nt nu">bash scripts/nginx-airflow.sh</span></pre><h1 id="b5b2" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">5.构建并运行 Docker 容器</h1><p id="53b8" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">现在，让我们使用以下命令构建 Docker 容器:</p><pre class="kg kh ki kj gt nm ne nn no aw np bi"><span id="851e" class="nq mj iq ne b gy nr ns l nt nu">sudo docker build -t greenr-airflow:latest .</span></pre><p id="05d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将运行我们目录中的 Dockerfile，并为我们的容器下载和安装必要的库。</p><p id="292a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请耐心等待——这大约需要 10 分钟。</p><p id="17d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，运行 Docker 容器:</p><pre class="kg kh ki kj gt nm ne nn no aw np bi"><span id="f671" class="nq mj iq ne b gy nr ns l nt nu">sudo docker run -d -p 8080:8080 -p 8008:8008 greenr-airflow</span></pre><p id="b4af" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">几秒钟后，访问您机器的外部 IP 地址，您可以在 GCP 控制台的计算引擎中找到该地址。确保在浏览器中输入时，在 IP 地址前加上 http://前缀，如:http://34.68.160.231/</p><p id="b05e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，您应该会看到气流用户界面:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/f96551ba5507292e355343783fcafc2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g2bUpg_Yhfkdm3ceJ7iEYg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">您现在应该会看到气流用户界面</p></figure><p id="3ad8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，单击关闭开关，然后单击最左边的按钮，触发 DAG。管道现在将运行，当您单击 ml_pipeline 并转到树部分时，您将看到有向非循环图以及管道的状态:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/505ce0fcc6f1fcbc6673c15edce36c68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wuKQAuOMfv9gjAEMNuuZnw.png"/></div></div></figure><p id="3fd2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">几分钟后，最后一个任务 serve 将会运行。您的 ML 管道已成功执行！现在，让 nginx 将我们的应用从端口 8008 路由到我们的外部 IP 地址:</p><pre class="kg kh ki kj gt nm ne nn no aw np bi"><span id="41f7" class="nq mj iq ne b gy nr ns l nt nu">bash scripts/nginx-app.sh</span></pre><p id="ab29" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此时，转到你的外部 IP 地址，在后面加上<code class="fe nb nc nd ne b">/app</code>，就像这样:http://34.68.160.231/app</p><p id="f0ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您现在将看到最终的 web 应用程序 greenr 正在运行！如果你有兴趣学习如何构建和部署 greenr，可以看看我的<a class="ae kv" rel="noopener" target="_blank" href="/10-minutes-to-deploying-a-deep-learning-model-on-google-cloud-platform-13fa56a266ee?source=friends_link&amp;sk=a863a2489ef040af125526669097d57d">教程</a>关于在 Google 云平台上部署深度学习模型！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi na"><img src="../Images/c06029e5496d5c223416c6b9bb515bd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*uYbrRpt2_M9T7vvfl1EVyw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">部署的 web 应用程序！上传一张图片，看看它是蒲公英还是草</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/34bac00a893bdc8a98b0426ef6f293aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FUMt6eC-8kOsbs0fSf6NIg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">最后的结果！</p></figure><p id="39f1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本教程中，您学习了如何在 Apache AirFlow 中构建一个简单的机器学习管道，该管道由三个任务组成:下载图像、训练和服务。当然，这还可以改进，使其更适合生产和可伸缩。以下是一些关于如何进一步拓展渠道的建议:</p><ol class=""><li id="735c" class="lu lv iq ky b kz la lc ld lf lw lj lx ln ly lr lz ma mb mc bi translated">考虑使用<a class="ae kv" href="https://airflow.apache.org/docs/stable/kubernetes.html" rel="noopener ugc nofollow" target="_blank">kubernetoperator</a>来创建在 Kubernetes 中运行的任务，允许更大的可伸缩性</li><li id="e026" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">考虑使用另一个执行器，比如<a class="ae kv" href="https://airflow.apache.org/docs/stable/executor/celery.html" rel="noopener ugc nofollow" target="_blank"> CeleryExecutor </a>，它支持并行和扩展工作器(我们使用了基本的 SequentialExecutor)</li><li id="c366" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">考虑使用 KubeFlow，它允许在 Kubernetes 中编排任务的大规模、生产就绪的 ML 管道，类似于 1。</li></ol><p id="a839" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望这给你一个关于在 Apache AirFlow 上构建 ML 管道的温和介绍，并且这可以作为你工作的模板！</p><p id="ece6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不要忘记关闭您的计算实例，以确保您不会因使用 Google Cloud 而被收费！</p></div></div>    
</body>
</html>