<html>
<head>
<title>Getting started with TFX on Google Cloud AI Platform— Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌云人工智能平台 TFX 入门—第 1 部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/getting-started-with-tfx-on-google-cloud-ai-platform-part-1-9935cc2f7454?source=collection_archive---------59-----------------------#2020-08-17">https://towardsdatascience.com/getting-started-with-tfx-on-google-cloud-ai-platform-part-1-9935cc2f7454?source=collection_archive---------59-----------------------#2020-08-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="ad0d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建机器学习(ML)模型通常是世界各地许多数据科学家和工程师的核心关注点。然而，他们经常忘记计划一旦模型建成，他们将如何生产。这通常不是他们的错(大多数情况下)，因为大多数情况下，不同的部门负责不同的生产领域，例如，数据科学家团队负责创建模型，开发人员团队负责打包模型以供使用。这通常会导致:</p><ul class=""><li id="9c04" class="ko kp it js b jt ju jx jy kb kq kf kr kj ks kn kt ku kv kw bi translated">模型没有定期更新，因为反馈循环通常是手动的，即收集的数据交给数据科学家团队来评估和更新模型。更新的模型然后被交给开发团队。我见过这样的过程，至少需要几个星期！</li><li id="07f7" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">维护模型的运营成本增加，因为有多个团队负责模型的生命周期。</li></ul><p id="5e81" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，Google/TensorFlow 的团队意识到，以上是围绕客户想要生产他们的模型的一个共同主题，所以他们创建了 TensorFlow Extended (TFX)。</p><p id="aaa5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">TFX 是一个平台，它允许用户为他们的 TensorFlow 代码创建端到端的生产规模的 ML 管道。它包括建模、培训、验证、服务推理和管理在线部署。机器学习管道可以使用任何编排工具来构建，如 Apache Airflow、Apache Beam 或 Kubeflow。必须注意的是，本文中的流水线是对 ML 工作流的描述，它们以图表的形式组合，可用于编排和自动化机器学习系统。出于本文的目的，我们将通过 TFX 使用 Kubeflow 管道。</p><p id="e0ef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">TFX 使用的主要库是:</p><ul class=""><li id="11cd" class="ko kp it js b jt ju jx jy kb kq kf kr kj ks kn kt ku kv kw bi translated"><strong class="js iu"> TF 数据验证</strong> —用于异常检测</li><li id="1833" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated"><strong class="js iu"> TF 变换</strong> —用于数据预处理和特征工程</li><li id="37f7" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated"><strong class="js iu"> TF 估计器和 Keras </strong> —建立和训练机器学习模型</li><li id="fbda" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated"><strong class="js iu"> TF 模型分析</strong> —模型评估与分析</li><li id="0dd5" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated"><strong class="js iu"> TF 服务</strong> —将模型作为 REST APIs 服务</li></ul><p id="3024" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下图显示了在端到端模型中使用的各种 TFX 库，我们将在下一系列文章中详细介绍它们。然而，在这篇文章中，我们将在谷歌云平台上建立一个基础，以了解 TFX 和库伯流的行动。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/a65166acded967f33656c3827c4efc4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DorVaxrqBSdGZoKK2go05w.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">图片改编自[1]</p></figure><h1 id="98ea" class="ls lt it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">1.在新的 Kubernetes 集群上建立 AI 平台管道。</h1><p id="7be2" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">我们将假设你们有一个项目与本教程启用计费。</p><p id="4d06" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">放心吧！本教程保持在免费层的限制，但是，如果你耗尽了免费层的限制，你可能会被收费。如果您想遵循本教程，建议您创建一个新项目。</p><ol class=""><li id="0f03" class="ko kp it js b jt ju jx jy kb kq kf kr kj ks kn mv ku kv kw bi translated">在导航窗格中，找到人工智能菜单下的“AI 平台”，点击<strong class="js iu">管道</strong>，如下图所示。</li></ol><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mw"><img src="../Images/7275fc7d5f2d80816483f64ba7580fed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uwNfBi-N1ui62BAY-OpzXw.gif"/></div></div></figure><p id="95a1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">2.点击“<strong class="js iu">新实例</strong>，创建一个新集群，如下图所示。您将被引导至 Kubeflow Pipelines 概览页面。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mw"><img src="../Images/bcf39b1338dd041141920d87e336cc5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*2mBhU8igq6wHTw66OyrZ6Q.gif"/></div></div></figure><p id="85a7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">3.在 Kubeflow Pipeline 概览页面上，点击“<strong class="js iu">配置</strong>”。</p><p id="a5f0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意:在启用 Kubernetes 引擎 API 时，您可能需要等待几分钟。</p><ul class=""><li id="fbd6" class="ko kp it js b jt ju jx jy kb kq kf kr kj ks kn kt ku kv kw bi translated">在“部署 Kubeflow 管道”页面上，选择离您最近的区域。离我最近的区域是“欧洲-西方 2-a”。</li><li id="b8a1" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">选中标记为“允许访问以下云 API”的框。</li><li id="cc1f" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">然后点击<strong class="js iu">创建集群</strong>。这需要在进入下一步之前完成。</li></ul><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mw"><img src="../Images/70a0f48313b56e46798f374649fe2636.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ue8D2ajOsRGXsg0Ij78d4w.gif"/></div></div></figure><p id="dcb5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">4.创建集群后，您可以选择名称空间和实例名称。我将保留我的默认设置。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mw"><img src="../Images/8171d06dfc4163ff60448a2cc8ddda6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*92yApaNpM9rS26dOijkEkQ.gif"/></div></div></figure><p id="8740" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您应该可以成功地看到您的 Kubernetes 集群中启动了 Kubeflow 管道，如下所示。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mx"><img src="../Images/8be38faec502c25473d5df97d0311ef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jeFbcXYTPTrx6iaKnGKAcQ.png"/></div></div></figure><p id="9fc8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们要设置一个云 AI 平台笔记本实例。</p><h1 id="2526" class="ls lt it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">2.设置云人工智能笔记本实例。</h1><ol class=""><li id="a7fd" class="ko kp it js b jt mq jx mr kb my kf mz kj na kn mv ku kv kw bi translated">回到主导航菜单，在人工智能菜单下找到“AI 平台”，点击<strong class="js iu">笔记本</strong>，如下图所示。</li></ol><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mw"><img src="../Images/23ff015d9f1275a278cb6733490db69e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*8gELoCmQOY9ZGcwroYxs6w.gif"/></div></div></figure><p id="7063" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">2.继续点击“<strong class="js iu">新实例</strong>，选择“<strong class="js iu"> Tensorflow 2.2 - &gt;不带 GPU</strong>”。</p><ul class=""><li id="ce44" class="ko kp it js b jt ju jx jy kb kq kf kr kj ks kn kt ku kv kw bi translated">注意:您可以通过单击新笔记本实例表单底部的定制来更改机器。</li></ul><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mw"><img src="../Images/d2bba152e7c6d69939ca782b5be22731.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*eqA1Yx6OQ5zolHbRWjnhqw.gif"/></div></div></figure><p id="c273" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们可以做的是从我们的人工智能渠道推出一款笔记本电脑。</p><h1 id="4934" class="ls lt it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">3.启动入门笔记本</h1><ol class=""><li id="ba95" class="ko kp it js b jt mq jx mr kb my kf mz kj na kn mv ku kv kw bi translated">我们现在可以点击“管道”按钮，它应该会把我们带到人工智能平台管道页面。然后，我们可以点击“Open Pipelines Dashboard”进入“入门页面”。</li></ol><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mw"><img src="../Images/49b616679dbe7157cb76e32e4ef2c310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*16UST5Hl9SAunQef3iQZJg.gif"/></div></div></figure><p id="2bac" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">2.在“入门页面”上，单击“打开 TF 2.2 笔记本”链接，并选择您已创建的笔记本实例。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mw"><img src="../Images/cc9d0a8fe8c3ef9985656469b407796c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*iykBdRnhDSalTDnoiJLTIg.gif"/></div></div></figure><p id="4fd9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您现在可以访问与 Kubeflow 链接的 Jupyter 实验室笔记本，将会打开一个模板笔记本。</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><p id="23bf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我的下一个系列中，我将使用简单的数据，通过简单的步骤，使用 TFX 管道生产您的模型。对于那些等不及的人，你可以通过谷歌的“<strong class="js iu">使用模板创建一个 TFX 管道</strong>”笔记本，它是默认打开的。</p><p id="8da8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">玩得开心！</p><p id="4a31" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">[1] TFX 管道—<a class="ae ni" href="https://cloud.google.com/solutions/machine-learning/architecture-for-mlops-using-tfx-kubeflow-pipelines-and-cloud-build" rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/solutions/machine-learning/architecture-for-m lops-using-tfx-kube flow-pipelines-and-cloud-build</a></p></div></div>    
</body>
</html>