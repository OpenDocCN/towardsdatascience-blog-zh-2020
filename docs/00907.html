<html>
<head>
<title>Wrapping Your Head Around Gradient Descent (with comics!)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">把你的头缠在梯度下降上(有漫画！)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/wrapping-your-head-around-gradient-descent-with-pictures-3fbd810235f5?source=collection_archive---------20-----------------------#2020-01-26">https://towardsdatascience.com/wrapping-your-head-around-gradient-descent-with-pictures-3fbd810235f5?source=collection_archive---------20-----------------------#2020-01-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="49c8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为什么我们需要另一篇关于梯度下降的文章？</h2></div><p id="74fb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为数学很难，我们中的一些人需要更慢、更直观的方法。</p><p id="621a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">TL；dr —没有 TL；博士我们在预测未来。描述细节而不使你愤怒退出需要几句话。</em></p><p id="fbcc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">理解这篇文章的唯一前提是知道什么是线性函数。我们看到线性函数有许多不同的表述方式，但今天我将坚持使用“<em class="lb">y = MX+b”</em>，因为它可能是应用最广泛的。</p><p id="f665" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我问“<em class="lb">函数 y = mx + b 的变量是什么？</em>”，你可能会说“<em class="lb"> x </em>”。</p><p id="975f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通常，你是对的，但是梯度下降的第一个“问题”是它是反向的。</p><p id="8b8c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不是“<em class="lb">给定这个线性函数，找到这些数据点</em>”，而是说“<em class="lb">给定这些数据点，找到线性函数</em>”</p><p id="a635" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让它深入人心，因为它超级怪异。</p><p id="5c11" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">把<em class="lb"> x </em>和<em class="lb"> y </em>更像是一堆常数。我们需要找到符合这些点的“<em class="lb"> m </em>”和“<em class="lb"> b </em>”的值。然后，我们可以用这条线来预测新的点。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/dc8f5ca85536f24bb5193633a2972c21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/1*iSbjAnxItHvdl-P1ItQZLQ.gif"/></div></figure><p id="34be" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果看手相的人教会了我们什么的话，预测未来并不是一门精确的科学。一般来说，没有一条线能完美地穿过这些点，所以我们想找出哪条线最接近到达这些点。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/9dd8025bf45aa5a8b301c0a84b7e34b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/1*j7Al2VIxE_nYSxy45jRupw.gif"/></div></figure><h1 id="a046" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated">什么是“紧密”配合？</h1><p id="989d" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">这似乎是一个愚蠢的问题。看起来你应该能够测量每个点离直线有多远，然后除以点的数量来计算出直线离每个点有多近。</p><p id="8e89" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，考虑下面两行，问问自己哪一行更好地代表了这两个数据点:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mh"><img src="../Images/5488db9ce482f9585fb2626b9be5f1a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d0onk-uHUvOpwu-0Ddwt_Q.png"/></div></div></figure><p id="21dc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一条线向底部倾斜。第二条线直接在数据点之间分开。第二行感觉更准确地表示了数据，但平均误差是一样的:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mm"><img src="../Images/af8ca7b02e37cbe3ed221f21ca495112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oA3l8px0mmF8JBB7jhCj-g.png"/></div></div></figure><p id="a446" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于这个原因和其他原因，我们通常用距离直线的平方来衡量一个数据点的“接近度”。这也确保了只有一个“最佳”位置。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mn"><img src="../Images/58c5d0a7268b5f803979de8b1207a20e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FZAKYGyoXAQCtrSvBSYOVA.png"/></div></div></figure><p id="0ac0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过使用平均平方误差，我们可以看到，将线放在中间比放在顶部更好。</p><h1 id="f4a7" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated">太好了，我怎么找到平均平方误差最小的地方？</h1><p id="6ca5" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">这有几种方法。最简单的方法叫做<a class="ae mo" rel="noopener" target="_blank" href="/understanding-the-ols-method-for-simple-linear-regression-e0a4e8f692cc">普通最小二乘法</a>，但是在复杂问题上表现不佳。为了解决复杂的问题，我们经常使用一种叫做“梯度下降”的方法。很多机器学习都建立在这个概念上。</p><p id="64bb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，让我们假设等式中没有"<em class="lb"> mx </em>"，而<em class="lb">只是</em>试图为"<em class="lb"> b </em>"找到好的值。这更简单，因为你只有一个变量需要求解。</p><p id="1ebc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb"> y = b </em></p><p id="83cb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这听起来可能很荒谬。这意味着“<em class="lb"> m </em>”锁定在零(一条水平线)。不管你得到什么输入，你总是要猜测同样的输出。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mp"><img src="../Images/c7b9dd0e28234a3ddd0f4d766f06097c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x_MCJjDsm16VIWJ1teX0fA.png"/></div></div><p class="mq mr gj gh gi ms mt bd b be z dk translated">照片来自<a class="ae mo" href="https://pxhere.com/en/photographer/616233" rel="noopener ugc nofollow" target="_blank"> Oleg Magni </a>在<a class="ae mo" href="https://pxhere.com/en/photo/1554717" rel="noopener ugc nofollow" target="_blank"> pxhere </a>上</p></figure><p id="df65" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">稍等一下。很快就会变得疯狂。</p><p id="809f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为简单起见，假设我们只有两个数据点。这些数据点代表了最近的房屋销售。我们知道每栋房子的面积和售价。</p><p id="6121" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我准备把这些数据点称为“东方先生的房子”和“西方先生的房子”(因为一个更靠近图形的东侧，另一个更靠近西侧)。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/d7dce5f00e4e6339b7c71fd49114995f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QTxvvutznBnFFwMG1_Lrmg.png"/></div></div></figure><p id="cf36" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们试图找到一条线<em class="lb"> y = b </em>，使 East 先生的房子和 West 先生的房子的平均平方误差最小。</p><p id="c771" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我知道你在想什么。“哦……就拿平均销售价”。</p><p id="29f0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb"> b = 7.5 </em></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/938fcf307535fc3d596a4ec8db45bd1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P-EZLqWEwjNikeDODfzHNw.png"/></div></div></figure><p id="ee4a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你说得对。这种方法是可行的，它可以最小化平方误差。然而，这不是梯度下降。这个可爱的“平均”小技巧不适用于更复杂的问题，所以让我们用梯度下降法来求这个值。</p><p id="2281" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在梯度下降中，我们首先将线放在一个随机的点上。我要把它放在这里:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/6e567b319718fbfe544094722dddc809.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Q9jHAK3tYu-V9qqFYFnPg.png"/></div></div></figure><p id="2484" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们希望这条线尽可能靠近所有的房子。所以我们对附近进行了调查。我们敲开每一扇门，并问“<em class="lb">我们应该把线移到哪个方向？</em>”。我将称之为<strong class="kh ir">移动调查</strong>:</p><h1 id="eece" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated">移动调查#1</h1><p id="260d" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated"><em class="lb">*叩叩叩* </em></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mv"><img src="../Images/ed2479dd0fe99f60dedad70bc67ac994.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bt_XcoLTbD8nwRrUkN5vJA.png"/></div></div><p class="mq mr gj gh gi ms mt bd b be z dk translated">左图由<a class="ae mo" href="https://www.pexels.com/@brett-sayles" rel="noopener ugc nofollow" target="_blank"> Brett Sayles </a>在<a class="ae mo" href="https://www.pexels.com/photo/man-wearing-cowboy-hat-2250519/" rel="noopener ugc nofollow" target="_blank"> pexels </a>上拍摄。右图来自<a class="ae mo" href="https://pixnio.com/people/male-men/portrait-photo-model-fashion-sunglasses-person-man-handsome" rel="noopener ugc nofollow" target="_blank"> pixnio </a></p></figure><p id="5fae" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">移动调查后，投票是一致的，所以我们把线向上移动。假设我们将其移动到 7.1</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/23f498ecf1143eb43dd7f95f7cd7d9e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NLr0YC74_sIzA_7GOWfbaA.png"/></div></div></figure><p id="ff84" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们进行另一项运动调查:</p><h1 id="490d" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated">移动调查#2</h1><p id="377b" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated"><em class="lb">*叩叩叩* </em></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mv"><img src="../Images/1501c97c385f021f5e7e39a1cdea54ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7eSLtWPhVkV8_oWDvTC0mA.png"/></div></div></figure><p id="f6c5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在越来越有趣了。韦斯特先生想把线下移，而伊斯特先生想把线上移。想象一下这些邻居在拔河(每个人都希望线离他们的财产更近)。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mw"><img src="../Images/a420a33bc55f98afd2df65dbe2b9a71b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nnWBCdKEzXz3p7U9"/></div></div><p class="mq mr gj gh gi ms mt bd b be z dk translated">照片来自<a class="ae mo" href="https://pxhere.com/en/photo/498377" rel="noopener ugc nofollow" target="_blank"> pxhere </a></p></figure><p id="5f18" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们如何决定把线移到哪里呢？</p><p id="c224" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">站在房主的角度想想这个问题:</p><ul class=""><li id="a163" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la nc nd ne nf bi translated">如果你的属性正好在线上，你就没有平方误差。</li><li id="f56a" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la nc nd ne nf bi translated">现在，如果我们把线从你的财产上拉开 1 格，你的平方误差是 1 (1)。</li><li id="ddb5" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la nc nd ne nf bi translated">如果我们将线<em class="lb">拉离你的财产另一个</em>空间，你的平方误差是 4 (2)。</li><li id="76b9" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la nc nd ne nf bi translated">如果我们把线<em class="lb">拉离你的财产另一个</em>空间，你的平方误差是 9 (3)。</li></ul><p id="4619" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如此处所示，每次搬家都比上一次更贵。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/1d6374040cc85697b3a3be88e03e95ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/1*AWCfDFlGPs9AKA2CNGJspQ.gif"/></div></figure><p id="470c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">错误在近距离非常便宜，在远距离就变得非常昂贵。</p><p id="b369" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看着这两栋房子:</p><ul class=""><li id="83a2" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la nc nd ne nf bi translated">韦斯特先生接近错误是廉价的那条线。</li><li id="c6ff" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la nc nd ne nf bi translated">伊斯特先生远离错误代价高昂的前线。</li></ul><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/510e8f811e1741c77171e4fb7f79b9f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AHqawpQz_gv6uX-0w-HUyA.png"/></div></div></figure><p id="9fd8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当你考虑权衡的时候，给 West 先生加上一些便宜的误差是值得的，这样我们就可以从 East 先生身上减去昂贵的误差。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mv"><img src="../Images/c964da428ff5c6c4c81d1f82f690f141.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6jM7xuZGXblOTaLTbhP_5w.png"/></div></div></figure><p id="3451" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">东方先生对变化非常敏感。我的意思是，把线从 East 先生那里移开会让我们花费很多，而把线移到离 East 先生更近的地方会让我们节省很多。</p><p id="015d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">相比之下，韦斯特先生对变化不敏感。将战线移向韦斯特先生，我们并没有得到多少好处。将生产线从韦斯特先生那里移开也花费较少。</p><p id="e14e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们的调查没有考虑“敏感性”。我们应该修改调查。我们需要问的不仅仅是"<em class="lb">我们应该把线往什么方向移动？</em>“但是”<em class="lb">你对线条运动有多敏感？</em></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mv"><img src="../Images/4f0663d80f080e88979f8a9259e6d8b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IPL7yVRiUeGywlkTbop4Tw.png"/></div></div></figure><p id="79e6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将结果写在我们的移动调查中:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nl"><img src="../Images/e43c45d8e6acf70fe8adc822a05e0a80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CPA-zLqACMEtHP2sRePyJg.png"/></div></div></figure><p id="2d04" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们调查了所有居民，我们将总敏感度除以居民人数，得出“平均敏感度”:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nl"><img src="../Images/f9e8c811270af8125c9b1d331588dc58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qm8TYTJB7HZg46GKRTKRug.png"/></div></div></figure><p id="6a71" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里的正平均敏感度意味着，如果我们把线上移，利大于弊。平均灵敏度(0.4)告诉我们上下权衡的强度。</p><p id="915e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们从这个数字中抽取一小部分(比如说 25%)。我们把这个百分比叫做“学习率”。</p><p id="40b3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb"> 0.4 *.25 = 0.1 </em></p><p id="6bca" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们把线移动那么多。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/e8f3daa958640a03687848f336d367af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wto0pNbYRuKe-bfFD8Xuuw.png"/></div></div></figure><p id="4e85" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">回到拔河的类比，你可以想象东方先生和西方先生在往相反的方向拉，但是东方先生远比西方先生强(因为他更敏感)。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nm"><img src="../Images/2a72c2cea0d4e6f7fd11c1afc15183cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kXoGpAZHW6Tre2zDux7g6w.png"/></div></div><p class="mq mr gj gh gi ms mt bd b be z dk translated">来自用户<a class="ae mo" href="https://pixabay.com/users/falco-81448/" rel="noopener ugc nofollow" target="_blank"> falco </a>在<a class="ae mo" href="https://pixabay.com/photos/tug-of-war-monument-wismar-515183/" rel="noopener ugc nofollow" target="_blank"> pixabay </a>上的照片</p></figure><p id="86a0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">线现在是 7.2，我们做另一个调查，再次问:</p><ul class=""><li id="0238" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la nc nd ne nf bi translated">”<em class="lb">我们应该向什么方向移动这条线？</em></li><li id="923a" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la nc nd ne nf bi translated">"<em class="lb">你对线条运动有多敏感？</em>”</li></ul><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nl"><img src="../Images/f6021eb516477798eeb2c270f3baae78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lJN_u6rIFSrAPUnVjC1tmA.png"/></div></div></figure><p id="a7bd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以看到，西先生比以前敏感了，东先生比以前不敏感了。</p><p id="f7c7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">伊斯特先生的敏感性仍然超过韦斯特先生，但没有以前那么多了。</p><p id="5ecd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们用这个数字的 25%来更新这一行:</p><p id="0c55" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb"> .3 * .25 = .075 </em></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/bde41b91c633cd648a8e63d54b49b75d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*486kX2iFrNMrHIJutbBFUg.png"/></div></div></figure><p id="0fc6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该线现在位于 7.275。移动的幅度比以前更小了。</p><p id="543a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们继续进行多轮调查，你会发现韦斯特先生越来越敏感，而伊斯特先生越来越不敏感。动作也越来越小。</p><p id="d95e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">随着更多回合的到来，拉锯战变得更加势均力敌。伊斯特先生希望这条线向上延伸，就像韦斯特先生希望这条线向下延伸一样。此时，“平均灵敏度”非常小(两个灵敏度实际上相互抵消)。</p><p id="704d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">随着平均灵敏度接近零(平衡)，线停止移动，因为线更新是基于平均灵敏度的。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nl"><img src="../Images/8abc7cdc12627b74c561aa63307c70f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iz4bmAgvg_dEpIaJoazapw.png"/></div></div></figure><p id="e1d9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我将向您展示 3 个不同的动画，它们都显示了直线从第一次测量(7.1)移动到平衡(7.5)时的梯度下降。这三个视图应该可以帮助你理解这个过程。</p><h1 id="b777" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated">视图#1:生产线移动视图</h1><p id="0e0d" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">以下动画展示了每次测量后的直线移动。当线接近 7.5(最小误差点)时，你可以看到波动越来越小。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/dec863fdb81db99044b9d4c311be67d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/1*Vp6Qlp--XVG8Y3rC0rHlyA.gif"/></div></figure><h1 id="b829" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated">视图#2:单个错误视图</h1><p id="1fe0" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">这个动画展示了东方先生和西方先生的错误。你可以看到，我们继续用昂贵的错误换取便宜的错误，直到双方都不便宜。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/a93fd559636d85ffab91ec11d861d5c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/1*YwRQCmamWxIh94eFHsJ9BQ.gif"/></div></figure><p id="53c5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">仔细想想，这是有道理的。只有当你得到的比放弃的多的时候，你才想要移动这条线。当平均灵敏度为零时，向任一方向移动直线都没有好处(因为两边的灵敏度相同)。</p><h1 id="d05b" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated">视图#3:梯度下降视图</h1><p id="e114" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">当谈到梯度下降时，你会看到最后一种类型的图表被多次引用。这一点可能很难理解。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi no"><img src="../Images/22c68935242c15f93475d103ed00b646.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sS4KWPNSbb1i3mMRryJ2MA.png"/></div></div></figure><p id="ce8e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该图与前面的图具有相同的形状，但不要被欺骗，它是<strong class="kh ir">非常</strong>不同的。在上图中，X 轴是误差(每个误差是一个单独的点)，Y 轴是误差的平方。</p><p id="5b6c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这张新图表中:</p><ul class=""><li id="fc38" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la nc nd ne nf bi translated">X 轴显示了'<em class="lb"> b </em>的不同值。</li><li id="1490" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la nc nd ne nf bi translated">当'<em class="lb"> b </em>'设置为该值时，Y 轴是<strong class="kh ir">平均平方误差</strong>。</li></ul><p id="61dc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以看到，理想的'<em class="lb"> b </em>'值为 7.5，产生 0.25 的平均平方误差。</p><p id="e01c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在梯度下降中的任务是找到这条曲线底部的点(最小平方误差)。</p><p id="a767" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们开始(在 7.1)，并继续做移动调查，我们在几轮后接近底部。点击此处观看动画:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/8cfbbf8bb8c8e5acb737a800826d569e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/1*wHrlOEV_SWKGvrd7o_Sf4g.gif"/></div></figure><p id="5746" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们开始梯度下降之前，我们知道曲线会这样形成(它总是这样)，但是我们不知道最小值在哪里。</p><p id="fb10" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在第一次移动调查后，我们发现猜测值为 7.1 会导致平均平方误差为 0.41。起初，这似乎是我们所知道的全部:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/5162adcb9881268e7c4a2e2bef199646.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w8zV0bICCU7if-PbjUEgUA.png"/></div></div></figure><p id="97d9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，我们实际上知道的更多。我们知道平均灵敏度是 0.4，这告诉我们两件事:</p><ol class=""><li id="ddaa" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la np nd ne nf bi translated">居民希望这条线上移(这样我们就知道我们在曲线的左侧)。</li><li id="6a7a" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la np nd ne nf bi translated">平均灵敏度很高，所以我们离中心很远。</li></ol><p id="c731" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我将标记一条蓝线，显示我们对自己所处位置的了解。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/10b765519b511322add59a8b5dddad41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yxp8uKFqbIMQLv_theWPoA.png"/></div></div></figure><p id="7af9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们做一个<em class="lb">秒</em>移动调查，我们发现 7.2 的猜测导致 0.34 的平均平方误差。</p><p id="d3df" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于平均敏感度(. 3)，我们知道我们仍然在图表的左侧，但我们越来越接近中心。我将画另一条线来表示这一点，但这条线不会太陡，因为我们更接近底部。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/b7f2f5738cf56a0ac0608bdd057eb526.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bNoiLzG0o-FFzVOOECJLhA.png"/></div></div></figure><p id="5d27" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">随着我们继续做移动调查，我们的步伐越来越小，越来越接近曲线的底部。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/853396144c0d2e208e2c3f72579cb691.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AT4Fu4k6OcAgWGxISptLIg.png"/></div></div></figure><p id="8056" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">蓝线的“陡度”代表平均灵敏度。当'<em class="lb"> b </em>值远离最小值时，斜率很陡。</p><p id="ae79" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">随着'<em class="lb"> b </em>'值接近最小值，平均灵敏度(也称为斜率)接近零。</p><blockquote class="nq"><p id="60f7" class="nr ns iq bd nt nu nv nw nx ny nz la dk translated">“G <em class="oa"> radient </em>”只是“<em class="oa">斜率</em>”的另一种说法。随着我们向图表的底部移动，梯度变得越来越小。这就是为什么我们称这种方法为“梯度下降”。</p></blockquote><p id="c861" class="pw-post-body-paragraph kf kg iq kh b ki ob jr kk kl oc ju kn ko od kq kr ks oe ku kv kw of ky kz la ij bi translated">无论你有两个数据点(如此处所示)，还是 1000 个数据点。梯度下降的逻辑是相同的:</p><ul class=""><li id="2362" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la nc nd ne nf bi translated">调查每个点，询问“<em class="lb">您希望我向哪个方向移动？”</em>和“<em class="lb">你有多敏感？</em></li><li id="0bf3" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la nc nd ne nf bi translated">取所有灵敏度(梯度)的平均值。</li><li id="0e3e" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la nc nd ne nf bi translated">乘以“学习率”</li><li id="2f7f" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la nc nd ne nf bi translated">更新该行。</li><li id="d25f" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la nc nd ne nf bi translated">重复直到我们找到平衡。</li></ul><p id="febd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">实际上，你永远不会完全达到平衡，因为当它接近底部时，更新变得越来越小，但是在足够多的回合之后，差异将变得微不足道。</em></p><h1 id="cdba" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated">好的，我们可以解出 b。“m”呢？</h1><p id="34dd" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">现在我们已经发现了如何找到最小的“b”值，让我们暂时忽略“b ”,想想如何找到最小的“m”值。</p><p id="6d4c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb"> y = mx </em></p><p id="448f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着“<em class="lb"> b </em>”实际上被固定在常数 0。我们可以使用“<em class="lb"> m </em>”值来改变函数的斜率，但是直线将总是通过(0，0)</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/7bf90bab699243d30b5a996132d15c8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/1*21hFwo4opQWqr95NvTRSUA.gif"/></div></figure><p id="8d45" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们再来看看 East 先生和 West 先生，猜一猜这条线可能在哪里:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/e6aefe32335c7d036f4e74f6bbc687a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AmcKiUYyFfC2Ef6ABco22A.png"/></div></div></figure><p id="c813" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<em class="lb"> m=1 </em>处，我们看到 West 先生在线上 2 个单位<em class="lb">，East 先生在线下</em>2 个单位<em class="lb">。平均平方误差为 4。</em></p><p id="fd22" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">直觉上，我们似乎处于平衡状态，无法在此基础上有所提高。然而，事实并非如此。</p><p id="3aa0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面的动画显示了如果我们将“<em class="lb"> m </em>”值从 1 更改为 0.9 会发生什么</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/1bf21c7f462e220dce8da9283b169724.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/1*yyoBl9W-RCREgnBXjmKtRg.gif"/></div></figure><p id="6929" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，我们是如何在离 East 先生更近的地方得到 1 个完整的空间，而在离 West 先生更远的地方只得到 1/2 的空间。总平方误差减少到 3.625</p><p id="1650" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当你认为等式<em class="lb"> y = mx </em>是有意义的</p><p id="ab49" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将“<em class="lb">m”</em>值乘以“<em class="lb"> x </em>”。因为东先生(<em class="lb"> x=10 </em>)的距离是西先生(<em class="lb"> x=5 </em>)的两倍，所以东先生受“<em class="lb"> m </em>变化的影响也是西先生的两倍。</p><p id="a916" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一般来说，越往东，对坡度变化越敏感。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mv"><img src="../Images/c964da428ff5c6c4c81d1f82f690f141.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6jM7xuZGXblOTaLTbhP_5w.png"/></div></div></figure><p id="2f22" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">既然我们向 East 先生移动可以得到两倍的收益，为什么不把线一直移动到 East 先生呢？我们可以向东方先生移动整整 2 个单位，而向西方先生只移动 1 个单位。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/73b1f8dc3b7398f217bdd5d0c6cadaa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tdQDMQY3TbU96wGH0e74DQ.png"/></div></div></figure><p id="79ec" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为我们离韦斯特先生有 3 个空间，新的平均平方误差是(4.5)。这比我们开始的时候更糟…怎么回事？</p><p id="93d4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">记住:当我们把线从 West 先生移开时，每个误差都比上一个更昂贵(由于平方误差)。在某些时候，韦斯特先生对运动非常敏感，以至于不值得做出权衡，尽管你可以通过移动线来获得两倍于伊斯特先生的距离。</p><blockquote class="nq"><p id="2834" class="nr ns iq bd nt nu nv nw nx ny nz la dk translated">虽然上面的线有最小的原始误差，但它没有最小的平方误差。</p></blockquote><p id="046c" class="pw-post-body-paragraph kf kg iq kh b ki ob jr kk kl oc ju kn ko od kq kr ks oe ku kv kw of ky kz la ij bi translated">因此，东先生和西先生都很敏感，但原因不同。事实证明，点对斜率变化的敏感度由两个因素决定:</p><ul class=""><li id="b075" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la nc nd ne nf bi translated">点离线有多远？</li><li id="12b0" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la nc nd ne nf bi translated">这个点向东有多远？</li></ul><p id="f0c4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们计算灵敏度时，我们需要考虑这两个因素。</p><p id="0212" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">灵敏度= {与直线的距离} * {x 值} </em></p><p id="ed5f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们把这条线放回(<em class="lb"> m = 0.9) </em></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/c0e5f8d0d75dcc73ed84f59e50fda1ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hsli9zOOCoQaFA-GN-ic3Q.png"/></div></div></figure><p id="1049" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本帖第一次，你很可能无法通过简单的看一眼就判断出线条应该往哪个方向移动。</p><p id="3e24" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们来做个移动调查，计算一下敏感度，就知道了。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi og"><img src="../Images/2047797cf337c3e2829045f58398b3c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wH5NaM9gRoL09xV_kRSwHA.png"/></div></div></figure><p id="ce2d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以看到，尽管 West 先生只有“<em class="lb"> x </em>”值的一半，但由于他与生产线的距离，他更加敏感。</p><p id="cfac" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们知道斜率需要向上移动，但是增加 1.25 比 T21 大得多，会把线放在两点之上。这就是为什么我们只移动它的一个百分比(我之前描述的“学习率”)。这里我用 1%的学习率。</p><p id="a119" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb"> 1.25 * .01 = .0125 </em></p><p id="3b44" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">新的“m”= . 9+. 0125</em></p><p id="5cde" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">新线在. 9125。在另一次移动调查后，我们可以看到平方误差有所下降。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi og"><img src="../Images/ba9bfe522161f0758e06685457918d0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UrY7VnszWF5690XQk2h9Kg.png"/></div></div></figure><p id="6a1e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">乘以学习率以获得更新值:</p><p id="a3bf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb"> 0.46875 * .01 = .0046875 </em></p><p id="2cd0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">新的“m”值= .9125 + .0046875 </em></p><p id="8afa" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更新后线路在. 917。如果我们继续一轮又一轮的移动调查，这条线会越来越接近它的平衡点(. 92)。</p><p id="3ac1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是 0.92 时的移动调查结果</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi og"><img src="../Images/3879d0e326b20c4c4b65ba071ad12dad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gTt7zLBligsngVblB6SUSQ.png"/></div></div></figure><p id="2f47" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">梯度下降过程看起来非常类似于我们看到的“<em class="lb"> m </em>”的梯度下降。</p><h1 id="a3f4" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated">梯度下降视图</h1><p id="7118" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">让我们看看坡度变化的梯度体面视图:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi oh"><img src="../Images/aae0c2223305e4687a0145f4bc9e7a3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ieygmE7B5aO7o4Q793jo8w.png"/></div></div></figure><p id="b024" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以看到，当“<em class="lb"> m </em>”值为 0.9 时，平方误差最小。</p><p id="3705" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">关于“<em class="lb"> m </em>”曲线需要注意的一点是，它比我们看到的“<em class="lb"> b </em>”的曲线要陡得多。这是因为"<em class="lb"> m </em>"值乘以我们的每个"<em class="lb"> x </em>"值，所以即使对"<em class="lb"> m </em>"的小更新也会导致大的变化(更好或更坏)。这就是为什么保持小的学习率很重要。</p><h1 id="d932" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated">把所有的放在一起</h1><p id="dc01" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">首先，我们想出了当“<em class="lb"> m </em>”保持不变时，如何求解“<em class="lb"> b </em>”。然后，我们想出了当“<em class="lb"> b </em>”保持不变时，如何求解“<em class="lb"> m </em>”。我们如何移动“<em class="lb"> m </em>”和“<em class="lb"> b </em>”来找到最佳的整体匹配？</p><p id="b96e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当“<em class="lb"> m </em>和“<em class="lb"> b </em>都可以移动时:</p><ol class=""><li id="3a76" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la np nd ne nf bi translated">假设“<em class="lb"> m </em>”不变。进行移动调查，询问所有居民他们希望“<em class="lb"> b </em>”值向哪个方向移动。</li><li id="c14b" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la np nd ne nf bi translated">假设“<em class="lb"> b </em>”不变。进行移动调查，询问所有居民他们希望“<em class="lb"> m </em>”值移动到哪个方向。</li><li id="e87b" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la np nd ne nf bi translated">根据“<em class="lb"> b </em>”移动调查的平均灵敏度更新“<em class="lb"> b </em>”值。</li><li id="8b97" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la np nd ne nf bi translated">根据“<em class="lb"> m </em>”移动测量的平均灵敏度更新“<em class="lb"> m </em>”值。</li><li id="a8aa" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la np nd ne nf bi translated">只有一个地方“<em class="lb"> m </em>”和“<em class="lb"> b </em>”的灵敏度都为零。这条线将会聚在那一点。</li></ol><h1 id="23d9" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated">完整的例子</h1><p id="972b" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">让我们来看一下当水平线位于(<em class="lb"> y = 0x + 7.5”)，</em>并进行全梯度下降时会发生什么。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/938fcf307535fc3d596a4ec8db45bd1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P-EZLqWEwjNikeDODfzHNw.png"/></div></div></figure><p id="e42f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">第一轮:</strong></p><ol class=""><li id="d4ae" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la np nd ne nf bi translated">在“<em class="lb"> b </em>”移动调查中，我们发现 East 先生和 West 先生对“<em class="lb"> b </em>”的变化同样敏感(他们都相距 0.5)。“<em class="lb"> b </em>的平均灵敏度为零。</li><li id="728e" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la np nd ne nf bi translated">在“<em class="lb"> m </em>”移动调查中，我们发现虽然两人距离相同，但 East 先生对“<em class="lb"> m </em>”变化的敏感度是他的两倍，因为他有两倍的“<em class="lb"> x </em>”值。</li><li id="7115" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la np nd ne nf bi translated">“<em class="lb"> b </em>”值没有更新，因为没有平均“<em class="lb"> b </em>”灵敏度。</li><li id="4d08" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la np nd ne nf bi translated">我们将“<em class="lb"> m </em>”值更新为平均“<em class="lb"> m </em>”灵敏度的 1%。</li></ol><p id="b200" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该线现在为"<em class="lb"> y = 0.0125x + 7.5" </em></p><p id="df6e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">第二轮:</strong></p><ol class=""><li id="727c" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la np nd ne nf bi translated">这一次，韦斯特先生比伊斯特先生离这条线更远。这意味着他对“<em class="lb"> b </em>”的变化更加敏感。韦斯特先生比较强势，想把“<em class="lb"> b </em>”值拉下来。</li><li id="1129" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la np nd ne nf bi translated">在“<em class="lb"> m </em>”移动调查后，我们发现 East 先生仍然对“m”的变化更敏感，并希望将“<em class="lb"> m </em>”的值拉高。</li><li id="a18c" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la np nd ne nf bi translated">我们将“b”值向下移动平均“<em class="lb"> b </em>”灵敏度的 25%。</li><li id="0fef" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la np nd ne nf bi translated">我们将“<em class="lb"> m </em>”值向上移动平均“<em class="lb"> m </em>”灵敏度的 1%。</li></ol><p id="14c9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">随着我们继续将“<em class="lb"> m </em>”和“<em class="lb"> b </em>”移向平衡，我们接近“<em class="lb"> m </em>”和“<em class="lb"> b </em>”都为零(最小值)的唯一地方。</p><p id="7fb4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们从两个角度来总结一下。</p><h1 id="0e8c" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated"><strong class="ak">直线运动视图</strong></h1><p id="a493" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">以下动画显示了梯度下降的重复循环，更新了“<em class="lb"> b </em>和“<em class="lb"> m </em>”。观察“<em class="lb"> b </em>”值如何下降，以及“<em class="lb"> m </em>”值如何增加。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/ca2aae2b6700810d9defbe40a2ff0dec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/1*ISbiq6ICEwrsA4-C2jORdw.gif"/></div></figure><h1 id="cc87" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated">梯度下降视图</h1><p id="482a" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">让我们从“梯度下降”的角度来看正在发生的事情。到目前为止，我们已经展示了两张“梯度下降”图。</p><ol class=""><li id="74dd" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la np nd ne nf bi translated">"<em class="lb"> b </em>"值与均方差。</li><li id="d9dc" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la np nd ne nf bi translated"><em class="lb"> m </em>值与均方差。</li></ol><p id="f68d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了显示"<em class="lb"> m </em> " <strong class="kh ir">"和</strong> " <em class="lb"> b </em>"与均方误差的关系，我们需要图表上的第三个轴。</p><p id="870c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">两个水平轴将代表“<em class="lb"> m </em>和“<em class="lb"> b </em>”的值。纵轴代表这些点的平方误差。</p><p id="c1bc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">3 轴梯度下降图通常看起来像这样。这个图表不是基于我们的数据，而是帮助你理解这个概念。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mu"><img src="../Images/b434d0cbe875b830dd207d910f7998ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8u5_6RMpWh6WHy1ZjvF-gw.png"/></div></div></figure><p id="a19e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该图有助于显示“<em class="lb"> m </em>”和“<em class="lb"> b </em>”都处于平衡状态的地方只有一个(底部)。</p><p id="19b6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是基于我们<em class="lb">实际</em>数据的梯度下降图。看起来有点困难，但是它有相同的“下坡到最小值”属性:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi oi"><img src="../Images/beb12460ad82f1708e5c96098f3be101.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uxDjPOlSZz0pAuBQKQ8g-g.gif"/></div></div></figure><p id="1811" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您仔细观察这个图表，您可以看到最小点的"<em class="lb"> m </em>"值为 6，而"<em class="lb"> b </em>"值为 0.2。</p><p id="724e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">直线"<em class="lb"> y = 0.2x + 6 </em>"实际上是理想的函数，结果是零误差(它穿过两点)。</p><p id="a5ad" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该图与之前的图有所不同，原因如下:</p><ul class=""><li id="462d" class="mx my iq kh b ki kj kl km ko mz ks na kw nb la nc nd ne nf bi translated">“<em class="lb"> m </em>”侧的变化比“<em class="lb"> b </em>”侧的变化要敏感得多，使图形呈现出这种独特的“taco”形状。</li><li id="d9b7" class="mx my iq kh b ki ng kl nh ko ni ks nj kw nk la nc nd ne nf bi translated">对于“<em class="lb"> b </em>”的每个值，最小可能的“<em class="lb"> m </em>”值会有一点变化。这就是为什么你看到的浅槽同时向“<em class="lb"> m </em>”和“<em class="lb"> b </em>”方向移动。</li></ul><h1 id="f915" class="lk ll iq bd lm ln lo lp lq lr ls lt lu jw lv jx lw jz lx ka ly kc lz kd ma mb bi translated">关于作者</h1><p id="6fb7" class="pw-post-body-paragraph kf kg iq kh b ki mc jr kk kl md ju kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">我是约翰尼·伯恩斯，FlyteHub.org 的创始人，这是一个免费开源工作流程库，可以在没有编码的情况下执行机器学习。我相信在人工智能上的合作会带来更好的产品。</p><p id="bd26" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你对数学如何支持我们的“敏感度”公式感兴趣，我会写一篇后续文章来解释。</p></div></div>    
</body>
</html>