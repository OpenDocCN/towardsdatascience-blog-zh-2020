<html>
<head>
<title>How To Clone Tables in SQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 SQL 中克隆表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-clone-tables-in-sql-dd29586ec89c?source=collection_archive---------0-----------------------#2020-06-24">https://towardsdatascience.com/how-to-clone-tables-in-sql-dd29586ec89c?source=collection_archive---------0-----------------------#2020-06-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0c03" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何创建表的克隆</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/870dc3803d2425df31560bef77ad9d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nuH5QT9cr2lzzBL5"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@casparrubin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卡斯帕·卡米尔·鲁宾</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="e7a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在数据库操作中，有时您可能需要将一个现有的表克隆或复制到一个新表中，因为它们在列和属性上有相似性，或者是为了在不影响原始表的情况下执行测试，或者是出于其他个人原因。</p><p id="b2ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我遇到了这种情况，我需要为我们正在集成的新特性创建一组新的表。这个表有相当多的列，并且非常类似于处理另一组特定特性的类似数据的现有表。</p><p id="ea92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为这个现有的表和新表非常相似，所以我的快速解决方案是克隆现有的表来创建新表。</p><p id="34b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在 SQL 中，这很容易做到，因为您可以轻松地运行几个命令来最大限度地满足您的克隆需求。</p><p id="6645" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将向您展示如何在 SQL 中复制和克隆现有的表。</p><h1 id="e12c" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">简单克隆</h1><p id="7179" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">第一种方法称为简单克隆，顾名思义，它从另一个表创建一个表，而不考虑任何列属性和索引。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="b118" class="mx lw it mt b gy my mz l na nb">CREATE TABLE <em class="nc">new_table</em> SELECT * FROM <em class="nc">original_table</em>;</span></pre><p id="d5c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，如果我有一个名为<code class="fe nd ne nf mt b">users</code>的表，我可以很容易地创建另一个名为<code class="fe nd ne nf mt b">adminUsers</code>的表，而不用关心<code class="fe nd ne nf mt b">users</code>表的列属性和索引。</p><p id="4a42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的 SQL 命令创建了一个简单的<code class="fe nd ne nf mt b">users</code>表副本。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="eb1e" class="mx lw it mt b gy my mz l na nb">CREATE TABLE <em class="nc">adminUsers</em> SELECT * FROM <em class="nc">users</em>;</span></pre><p id="4c62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用它可以快速克隆任何只包含原始表的结构和数据的表。</p><h1 id="c90d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">浅层克隆</h1><p id="e45a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">浅层克隆主要用于在不复制数据的情况下创建现有表数据结构和列属性的副本。这只会基于原始表的结构创建一个空表。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="2f71" class="mx lw it mt b gy my mz l na nb">CREATE TABLE <em class="nc">new_table</em> LIKE <em class="nc">original_table</em>;</span></pre><p id="3a07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下命令将基于原始表创建一个空表。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="54a3" class="mx lw it mt b gy my mz l na nb">CREATE TABLE <em class="nc">adminUsers</em> LIKE <em class="nc">users</em>;</span></pre><p id="16b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您只需要原始表的数据结构和列属性，请使用此选项</p><h1 id="6b16" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">深度克隆</h1><p id="6de3" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">深度克隆与简单克隆有很大的不同，但与浅层克隆相似，只是数据不同，顾名思义，它创建原始表的深度副本。</p><p id="6e13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着新表将拥有现有表的每个列和索引的所有属性。如果您想维护现有表的索引和属性，这非常有用。</p><p id="31d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，我们必须根据原始表的结构和属性创建一个空表，然后从原始表中选择数据并插入到新表中。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="e8f5" class="mx lw it mt b gy my mz l na nb">CREATE TABLE <em class="nc">new_table</em> LIKE <em class="nc">original_table</em>;<br/>INSERT INTO <em class="nc">new_table</em> SELECT * FROM <em class="nc">original_table</em>;</span></pre><p id="7fba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要轻松克隆我们的原件并复制其数据:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="03f9" class="mx lw it mt b gy my mz l na nb">CREATE TABLE <em class="nc">adminUsers</em> LIKE <em class="nc">users</em>;<br/>INSERT INTO <em class="nc">adminUsers</em> SELECT * FROM <em class="nc">adminUsers</em>;</span></pre><p id="ffa4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在另一件很酷的事情是，假设您不想要现有表中的所有数据，只想要一些数据，基于一些条件，然后微调您的<code class="fe nd ne nf mt b">SELECT</code>查询是您的最佳选择。</p><p id="67d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们的<code class="fe nd ne nf mt b">users</code>表中有带<code class="fe nd ne nf mt b">userType="admin"</code>的用户，我们只想将这些用户复制到我们的新表中，您可以像下面这样轻松地完成:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="5ae1" class="mx lw it mt b gy my mz l na nb">INSERT INTO <em class="nc">adminUsers</em> SELECT * FROM <em class="nc">adminUsers where userType="admin"</em>;</span></pre><p id="812b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">酷吧？我知道。</p><p id="9a9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您是 SQL 新手，下面是一些有用的资源:</p><div class="ng nh gp gr ni nj"><a href="https://www.w3schools.com/sql/default.asp" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">SQL 教程</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">SQL 是一种在数据库中存储、操作和检索数据的标准语言。我们的 SQL 教程将教你…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">www.w3schools.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a href="https://siitgo.com/pages/lhtml5z-8/1472/html5-web-sql-database" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">HTML5 - Web SQL 数据库</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">实际上，Web SQL 数据库 API 并不是已发布的 HTML5 规范的一部分，它是一个规范…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">siitgo.com</p></div></div><div class="ns l"><div class="ny l nu nv nw ns nx ks nj"/></div></div></a></div></div></div>    
</body>
</html>