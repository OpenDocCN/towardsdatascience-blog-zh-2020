<html>
<head>
<title>Handling `missing` data?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">处理“缺失”数据？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/handling-missing-data-12ac7c59eebc?source=collection_archive---------29-----------------------#2020-05-22">https://towardsdatascience.com/handling-missing-data-12ac7c59eebc?source=collection_archive---------29-----------------------#2020-05-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b8f6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">所有数据集都有<strong class="ak">个缺失值。</strong></h2></div><p id="ef17" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些可以是<em class="le">难、未定义</em>或<em class="le">空— </em>的形式，也可能是别的什么？</p><p id="3a30" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是我们该拿它们怎么办呢？我们应该删除这些行还是替换这些值？让我们看看如何以一种理智的方式摆脱这些缺失的价值观。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/b795bda16c9f48587eab4990d005e7b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*se48tZ2_-MgTQN3ETD7Arw.jpeg"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">数据无处不在，但也有缺失值。[斯蒂芬·道森在<a class="ae lv" href="https://unsplash.com/s/photos/data?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照]</p></figure><p id="bf0a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">替换数据集中缺失的值称为<strong class="kk iu">数据输入</strong>。</p><p id="14a3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，一些数据科学的从业者可以说——对这些价值“不做任何事情”。但是不要这样做，大多数算法在遇到缺少值的数据时都会抛出错误。</p><p id="65be" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们考虑一下熊猫的数据框架:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/b31535f4081245eb7430e869ab732ec7.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*4an0HnFpeIuREyGdIYZO4g.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">一个示例数据帧。[图片由作者提供]</p></figure><p id="debf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么，我们能做些什么来填补这些缺失的价值呢？</p><h2 id="822f" class="lx ly it bd lz ma mb dn mc md me dp mf kr mg mh mi kv mj mk ml kz mm mn mo mp bi translated">1.使用每列的“平均值”。</h2><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/dc156a8572d3d4cfdcfcb813a6245f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/format:webp/1*fG7KN3bzUU0aHITewXHJGA.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">用每列的平均值填充 NaN 值。[图片由作者提供]</p></figure><p id="6788" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是一个快速的解决方案，但是“均值”作为一个统计数据是不稳定的，并且它不能很好地与分类特征相适应。此外，如果数据是倾斜的，就不会考虑相关性。</p><p id="ee45" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这也会影响结果数据集的方差，因此要小心，如果训练 ML 算法时缺失数据用均值填充，这可能会导致较高的偏差。</p><h2 id="306f" class="lx ly it bd lz ma mb dn mc md me dp mf kr mg mh mi kv mj mk ml kz mm mn mo mp bi translated"><strong class="ak"> 2。使用每列中“最频繁”的值。</strong></h2><p id="acb6" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">现在让我们考虑一个新的数据框架，一个具有分类特征的数据框架。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/45819a2956952e6c486f4371cd6f6eb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:310/format:webp/1*wypHJ8Ug66BGNNwWfTMExQ.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">具有分类特征 1 和 2 的示例数据框。[图片由作者提供]</p></figure><p id="7b69" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以用众数来替换丢失的值——或者每列中出现最频繁的值。这同样没有考虑到相关性，并且由于不希望地将更多标签分配给特定类别，可能会在数据中引入偏差。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/b92bfcf386fca275ce21927f71668b57.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/1*jDDqvHTdRC4O5mUOB_ehFg.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">如何使用模式填充分类特征？[图片由作者提供]</p></figure><p id="da2d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是上述方法主要适用于小数据集，如果您有一个大数据集呢？</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="my mz l"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">大数据是不是变得太大了？[<a class="ae lv" href="https://media.giphy.com/media/xT0BKi1TLjmKiu1HGg/giphy.gif" rel="noopener ugc nofollow" target="_blank">Giphy 的 GIF 图</a></p></figure><p id="f78e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来看一个多了几行和几列的数据帧。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi na"><img src="../Images/0fea64a9ad7b48f426d548ed595f0c5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:336/format:webp/1*voTspnRiXlnW3jCh7AWhXw.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">更大的数据框架。[图片由作者提供]</p></figure><h2 id="6749" class="lx ly it bd lz ma mb dn mc md me dp mf kr mg mh mi kv mj mk ml kz mm mn mo mp bi translated">3.在每列中使用“内插法”。</h2><p id="6722" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">现在让我们使用上面显示的数据框架，我们可以沿着每一列使用插值来填充缺失的值。</p><p id="c790" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">但是插值有什么用呢？</em>它启动适合您数据的功能。然后，该函数可用于推断缺失数据的值。</p><p id="bfd5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<a class="ae lv" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.interpolate.html" rel="noopener ugc nofollow" target="_blank">熊猫</a>中有不同的插值策略，如<em class="le">线性</em>或<em class="le">多项式</em>。请记住，如果您使用多项式策略，您将需要指定插值多项式的<em class="le">阶</em>。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/ed862d6d15c1ccf8570650504789229e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*HVk6uT3YXYj4KKn6lvf_OQ.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">2 阶多项式插值后的结果。[图片由作者提供]</p></figure><p id="d490" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它在计算上比我们上面介绍的两种方法更昂贵，但是取决于用于插值的策略；它能给出更好的结果。</p><h2 id="2070" class="lx ly it bd lz ma mb dn mc md me dp mf kr mg mh mi kv mj mk ml kz mm mn mo mp bi translated"><strong class="ak"> 4。使用其他方法，如 K-最近邻法。</strong></h2><p id="3b83" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">上面显示的三种方法在 Pandas 的框架内工作。但是如果你可以访问其他像<code class="fe nc nd ne nf b">scikit-learn </code>这样的库，你也可以访问<code class="fe nc nd ne nf b">KNNImputer</code>。让我们考虑将它与方法 3 中使用的数据帧一起使用。</p><p id="2cab" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae lv" href="https://scikit-learn.org/stable/modules/generated/sklearn.impute.KNNImputer.html" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu">KNNImputer</strong></a><strong class="kk iu"/>的工作原理是每个新点如何与数据中的所有其他点相似。因此，通过检查数据集中的 k 个最近邻是否有缺失值，我们可以基于邻域或最近的“k 点”对它们进行估算。</p><p id="e104" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">总的来说，这种方法比上面提到的三种方法更加通用，因为它适用于所有类型的数据——连续数据、离散数据和分类数据。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/4922ee0bf8fc52bf9cbfd8e8af30270b.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*RjtnF-eqnGFhGmp_mCMGHg.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">结果使用邻居为 2 的 KNNImputer 后。[图片由作者提供]</p></figure><p id="fbcd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您知道任何其他填充数据集中缺失值的常用方法，请在评论中注明。</p><p id="ec33" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我希望你觉得这篇文章有趣并且有用。</p><p id="0190" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ℹ️ℹ️ℹ️ℹ️ℹ️ℹ️ℹ️ℹ️ℹ️ℹ️谢谢你！</p></div></div>    
</body>
</html>