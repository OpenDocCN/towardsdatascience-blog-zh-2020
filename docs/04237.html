<html>
<head>
<title>Constructing, Manipulating, Classifying and Generating Audio with Digital Signal Processing and Machine Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用数字信号处理和机器学习构建、操作、分类和生成音频</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/constructing-manipulating-classifying-and-generating-audio-with-digital-signal-processing-and-2c5a252dbab9?source=collection_archive---------26-----------------------#2020-04-17">https://towardsdatascience.com/constructing-manipulating-classifying-and-generating-audio-with-digital-signal-processing-and-2c5a252dbab9?source=collection_archive---------26-----------------------#2020-04-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e873cdabfab394003a662325219a0cab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pEQzuHcxEUcGYBkLg5BpLg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</p></figure><blockquote class="kc"><p id="acbe" class="kd ke iq bd kf kg kh ki kj kk kl km dk translated">"我们生活在一个信息越来越多，而意义越来越少的世界里."</p></blockquote></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><blockquote class="kc"><p id="e1c3" class="kd ke iq bd kf kg ku kv kw kx ky km dk translated">“所以艺术无处不在，因为技巧是现实的核心。所以艺术死了，不仅因为它的批判性超越性消失了，还因为现实本身，完全被一种与其自身结构不可分割的美学所浸透，已经与它自己的形象混淆了。现实不再有时间呈现现实的外表。它甚至不再超越小说:它捕捉了每一个梦，甚至在它呈现出梦的外观之前。”</p></blockquote></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><p id="d2c5" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">写于 1981 年，这两段引文都来自让·波德里亚的<em class="lw">模拟和拟像</em>。相邻的是<em class="lw">超现实的观念；</em>定义为:</p><blockquote class="lx ly lz"><p id="dd3f" class="kz la lw lb b lc ld le lf lg lh li lj ma ll lm ln mb lp lq lr mc lt lu lv km ij bi translated"><strong class="lb ir">超现实</strong>，在符号学和后现代主义中，是意识无法区分现实和对现实的模拟，尤其是在技术先进的后现代社会中</p></blockquote></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><p id="9f32" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">如果你在谷歌上搜索什么是音频？— 你会得到几个结果。</p><ol class=""><li id="2a13" class="me mf iq lb b lc ld lg lh lk mg lo mh ls mi km mj mk ml mm bi translated">它源于拉丁语:'<em class="lw"> audire '。</em>意思是:<em class="lw">听到</em></li><li id="9feb" class="me mf iq lb b lc mn lg mo lk mp lo mq ls mr km mj mk ml mm bi translated">直到 19 世纪末 20 世纪初，这个词才在英语语料库中广泛使用。在 1880 年之前开始有一个轻微的上升趋势，然后在 1900 年到 1910 年之间突然上升。</li></ol><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ms"><img src="../Images/a938a405995ff382b4de4dc4045c69bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Z1E_-rdJLKLeQfQ1VbjcQ.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">谷歌图书 ngram 浏览器，word: <strong class="bd mx">音频</strong>1800–2019</p></figure><p id="6197" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">1857 年 3 月，爱德华·莱昂·斯科特·德·马丁维尔在法国首次为唱机签名申请专利。这是已知的最早的录音设备。它将声波描绘成被烟熏黑的纸张或玻璃上的线条。这种表现是声波在空气中传播的物理现象的直接反应。最初用于研究声学，它不是一种将声音作为媒介传播的方法，但在某些情况下，它被用于检测音乐音高，方法是记录一个人演奏乐器或唱歌的音高，然后将该转录与另一个音叉转录进行比较。使用表示对表示进行分类。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div class="gh gi my"><img src="../Images/663ea97d393a82e69661788ae5dbbb02.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*P6ewbR3XDxLAfhZnHz-g2A.jpeg"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">É.-L. Scott，1857 年 3 月 25 日的“第 31470 号专利申请”。6 页，包括证书和一张亲笔签名| <a class="ae md" href="http://webistem.com/acoustics2008/acoustics2008/cd1/data/articles/001974.pdf" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="e0fb" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">下面是 1860 年 4 月 9 日用留声机录制的一段录音。据信是斯科特本人在唱一首法国民歌:“<em class="lw"> Au clair de la lune </em></p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">1860 年 4 月 9 日的录音</p></figure><p id="b1f5" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">一个有趣的提示:当斯科特录制这些录音时，据说他并不想让任何人听到，而只是想做一个分析工具。直到 1877 年，有人认为声音可以通过再现来再现。</p><p id="a4f0" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">在 2008 年之前，Scott 的录音还没有被听到，最古老的录音是 Edison 的<strong class="lb ir">留声机——黄色石蜡缸</strong>在 1888 年 6 月 29 日的音乐会上，4000 个声音在英国伦敦的 Handel Festival 上表演了<em class="lw"> Israel in Egypt </em>。</p><p id="f0df" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">然而，第一个入耳式耳机是在 19 世纪 50 年代发明的。医用<strong class="lb ir">听诊器</strong>。第一个听诊器于 1816 年问世。那时候它还不是我们现在知道的入耳式设备。这是一种放大胸腔声音的工具。1816 年的听诊器不是用电，而是医生放在病人胸部的纸漏斗。1850 年的听诊器没有太大的不同，但作为双耳装置变得更加精致；允许来自病人胸腔的声音直接进入医生的双耳。</p><p id="e142" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">1895 年，我们首次使用无线电信号进行传输。虽然，第一次传输是字母“S”的电报。所以，不是真的处理声音。但是在 1910 年，纳撒尼尔·鲍德温发明了我们现在所知的现代<strong class="lb ir">耳机</strong>。最初是为了海军作为一种通信方式使用，它被设计成包含一英里长的连接到操作员头带的铜线。这允许模拟信号通过电在铜中传播。</p><p id="feb4" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">当你搜索<em class="lw">“什么是音频”</em>时，你会发现第三个结果是这个定义:</p><blockquote class="lx ly lz"><p id="e82d" class="kz la lw lb b lc ld le lf lg lh li lj ma ll lm ln mb lp lq lr mc lt lu lv km ij bi translated">音频信号是声音的表示，通常使用电压电平表示模拟信号，使用一系列二进制数表示数字信号。音频信号具有大约 20 到 20，000 Hz 的音频范围内的频率，这对应于人类听觉的下限和上限。</p></blockquote><p id="d4eb" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">就本文而言，让我们来探索数字音频和机器用来表现声音的方法。</p></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h2 id="6844" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">如何用数字信号处理模拟声音？</h2><p id="270f" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">像模拟信号一样，数字信号也是声音的表现形式。允许机器再现的数字信号有两个主要方面。这两个方面可以认为是 X 和 Y；时间和幅度分别为:<strong class="lb ir">采样率</strong>和<strong class="lb ir">位深。</strong></p><h2 id="4ef1" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">抽样率</h2><p id="74db" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">如果您曾经打开过数字音频工作区(DAW ),或者检查过音频文件，您会对数字 44100 很熟悉。如果您还没有，44100Hz 是音频数字渲染的标准采样率。有不同的费率，如 88200，96000 和 196000，以及。但是 44100 是一个特定的数字，是信号采样的最低阈值。</p><p id="32ca" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">采样率是指机器在录音时每秒钟分析输入声音或模拟信号的次数。网上定义为:<em class="lw">空间</em><strong class="lb ir">T3】频率 T5<em class="lw">数字</em> <strong class="lb ir"> <em class="lw">采样</em> </strong> <em class="lw">。相邻像素间中心距的倒数</em>。这意味着，对于每个样本<em class="lw"> (1/44100 秒)</em>，机器记录信号，并以一个数字表示每个箱。音频也可以用这些原则来构建。</strong></p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/76574d5f69ff45fb79eca73792b554b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/1*SoOLWEbsEFskxS-yeJyj5Q.gif"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">低到高(从左到右)采样率对呈现数字表示的影响的图示| <a class="ae md" href="http://monicandreatic.blogspot.com/2016/05/digital-sound.html" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="ab5e" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">在上图中，您可以看到，在低采样速率下，这种表示会丢失信号中的许多信息；并且随着采样率的增加，产生更精确的表示。将其分解:<em class="lw">将声音或模拟信号转换为数字信号的任务是获取连续信号并将其转换为离散值，当随着时间的推移将这些离散值放在一起时，呈现连续信号的表示，然后可以转换回来</em>。基本上，采样率越高，机器可以渲染得越准确和精确。但是为什么是 44100Hz 呢？</p><p id="96ac" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">奈奎斯特采样定理陈述:<em class="lw">要达到最准确呈现某一频率信号的采样率，采样率必须是频率的两倍</em>。</p><pre class="mt mu mv mw gt oa ob oc od aw oe bi"><span id="55c9" class="nb nc iq ob b gy of og l oh oi">Sampling_Rate_Needed = frequency * 2</span></pre><p id="df3b" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">因此，如果频率为 440Hz，那么最精确地呈现频率的数字表示所需的采样速率应为 880Hz。据此推断，人类的听觉范围上限约为 20，000 赫兹。因此，为了准确地呈现人类可以听到的任何声音的数字表示，我们至少需要 40，000Hz 的采样率。似乎为了安全起见，增加了 4100 赫兹。额外的采样速率用于特定情况，如环绕声、电影音频、音乐制作和其他需要更精确处理渲染信号的高保真体验。但是为了准确地表现人类能听到的任何东西，44100 赫兹是必要的频率。</p><h2 id="4db3" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated"><strong class="ak">钻头深度</strong></h2><p id="440e" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">位深度类似于采样率，因为它是一种分辨率。但是它不是沿着时间渲染，而是沿着振幅渲染。低分辨率位深度 1 只能将振幅渲染为两种动态:开或关。声音或寂静。类似于黑白图像。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/4d66887c574012f58d6f2407ca3dd9ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*s_8UFg69z4jiOLUjSMVScw.jpeg"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">不同位深度量化对呈现数字表示的影响的图示| <a class="ae md" href="http://monicandreatic.blogspot.com/2016/05/digital-sound.html" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="702e" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">您可以看到，随着位深度的增加，机器可以使用更多的离散值来呈现幅度。我们可以用以下公式计算每比特深度的离散值数量:</p><pre class="mt mu mv mw gt oa ob oc od aw oe bi"><span id="1a91" class="nb nc iq ob b gy of og l oh oi">2^bit_depth</span></pre><p id="938d" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">对于 8 位的深度，有 256 个离散值的范围<em class="lw">(0–255)</em>。对于 16 位，有 65536 个离散值的范围。对于 24 位，有 16777216 个离散值的范围。概念化该离散值范围的另一种方式是:机器渲染给定样本体积可用的振幅的可能动态范围。使用下面的公式，我们可以理解以分贝为单位的比特深度的动态范围。</p><pre class="mt mu mv mw gt oa ob oc od aw oe bi"><span id="9877" class="nb nc iq ob b gy of og l oh oi">n = bit_depth<br/>20 * log10(2^n) = db</span></pre><p id="bcc0" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">位深度为 8 时，动态范围为 48db。然而，比特深度为 16 时，我们有 96db 当我们考虑抖动因素时，我们可以达到 115db。对于一个人来说，140 分贝是我们的耳朵受到痛苦伤害之前的极限。因此，在渲染声音时，115db 的动态范围足以满足大多数制作需求。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ok"><img src="../Images/bd303947267d0452b36bd9a311de2a8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C23ts09BHhyHBGcU7WZPkg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">声音信号被表示成离散数字数组的基本概述|原始 Aquegg |维基共享</p></figure><p id="84af" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">上图显示信号为一条红线，由机器用蓝点进行分析，并用数字渲染模拟为右边的阵列。假设该图为一秒钟，则采样率为 21Hz，位深度为 4 位。不确定这听起来会不会太好。</p><p id="69fc" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">我们听的大多数音乐都是 44.1KHz，16 位深度。因此，下一次您收听来自数字源的音频时，请尝试想象频率<em class="lw">(每秒 44100 个样本)</em>和振幅<em class="lw"> (65536 级动态范围)</em>上的所有离散值，这些值紧密地呈现在一个复合信号中，模拟了收听连续声波的体验。</p></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h1 id="3001" class="ol nc iq bd nd om on oo ng op oq or nj os ot ou nm ov ow ox np oy oz pa ns pb bi translated">构建数字音频</h1><h2 id="8a8c" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">工程频率</h2><p id="05d6" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">在我的上一篇文章<a class="ae md" rel="noopener" target="_blank" href="/sonifying-π-c453c20a7acd">发音 PI </a>中，我构建了一个基于频率 3.14Hz 的泛音序列，并从该序列生成音频文件。在这里，我将更深入地介绍我为实现这一目标而构建的模块的功能。此外，我将解释如何构建西方音乐体系以及更复杂、独特的音乐体系。</p><p id="958d" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">当我们思考什么是音高时，我们经常会想到它们的字母名称。A，A#，G，G#' …等等。但这些只是帮助我们理解音乐作为一种语言，并象征性地通过声波景观导航的抽象表示。“a”代表一类频率。为了引用“A”的更具体的实例，我们可以调用音高以及与其在序列中的位置相关联的八度音程数。这叫做科学记数法。“A”最常见的例子是“A4”。这个特定实例表示频率 440Hz，并且位于第四个八度音阶的位置。目前的调谐标准是基于 440 赫兹。每个八度音程位置正好是它上面八度音程的 1/2 和它下面八度音程的两倍。例如，“A5”代表频率 880 赫兹，“A3”代表频率 220 赫兹。在每个八度之间，有一个西方体系中所有十二个音符的实例。两个频率之间的最小间隔称为小秒。小秒针也是一种象征性的抽象概念，在西方语境中具有质量和定义的内涵；而仅仅是两个频率之间的数值距离的表示。有很多方法可以评估这个距离。</p><p id="df74" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">在下面的笔记本中有一些例子，它们是发展西方十二平均律音乐体系中使用的八度音阶所必需的数学关系。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="pc na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">分解西方音乐体系中音程的数学因素的笔记本</p></figure><p id="1ed6" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">这本笔记本的目的是揭露一些简单的事实。</p><ol class=""><li id="f433" class="me mf iq lb b lc ld lg lh lk mg lo mh ls mi km mj mk ml mm bi translated">八度音程是 1 和 2 之间的空间的表示。</li><li id="651a" class="me mf iq lb b lc mn lg mo lk mp lo mq ls mr km mj mk ml mm bi translated">分八度就是把 1 和 2 之间的空间分成相等的音程。</li><li id="bc6a" class="me mf iq lb b lc mn lg mo lk mp lo mq ls mr km mj mk ml mm bi translated">等同于这些划分的音程由抽象的特征表示，并且对于它们所属的八度音阶是唯一的，但是共享共同的因子分解。</li></ol><p id="eed7" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">但是让我们用这个逻辑，调查一些另类的音乐系统。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="pc na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">笔记本打破另类音乐系统的发展</p></figure><p id="f371" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">对于那些不熟悉西方音乐体系的人来说，本笔记本的目的是展示一个练习，这个练习描述了采用离散值的符号结构、解构它并将其整体嵌套在每个离散值的空间内的数学过程。在上部结构的空间内嵌入镜像下部结构。</p><h2 id="041f" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">建造 Wav</h2><p id="8a8b" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">从这里开始，让我们使用这些系统的频率来制作它们音调的数字表示。</p><p id="33f6" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">下面的笔记本简要概述了从一个数字开始构建音调，然后基于这些音调构建系统，并分析几个文件以验证它们是否被准确渲染的过程。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="pc na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">笔记本调查的建设和检查一个数字化建设的音频</p></figure><h2 id="024d" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">用音调的数字表示构建功能音乐</h2><p id="3fba" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">图 1 是根据上述代码渲染的音调构建的三个音阶。</p><ol class=""><li id="2dbe" class="me mf iq lb b lc ld lg lh lk mg lo mh ls mi km mj mk ml mm bi translated">半音四分之一音阶从 440 赫兹移动到 880 赫兹</li><li id="e9a2" class="me mf iq lb b lc mn lg mo lk mp lo mq ls mr km mj mk ml mm bi translated">半音半音音阶从 880 赫兹移动到 440 赫兹</li><li id="a3d4" class="me mf iq lb b lc mn lg mo lk mp lo mq ls mr km mj mk ml mm bi translated">全音阶半音音阶从 440 赫兹移动到 880 赫兹</li></ol><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">音频图 1</p></figure><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pd"><img src="../Images/cde8c103da28965b15ad5adb84794507.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*46vCzXjUov8qgORLELf96Q.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">图表图 1 |由作者代码生成的图像</p></figure><p id="0857" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">根据我们掌握的音调，我们可以做出任何音阶。我使用这三个只是为了证明概念。除了音阶，我们还可以构建和弦和级数。图 2 是从渲染音调构建的一个进程。</p><ol class=""><li id="0d1d" class="me mf iq lb b lc ld lg lh lk mg lo mh ls mi km mj mk ml mm bi translated">这个过程从一个第二代第六代开始</li><li id="0bf4" class="me mf iq lb b lc mn lg mo lk mp lo mq ls mr km mj mk ml mm bi translated">然后进入微音和弦，利用全音阶和微音系统的音调以混合和弦结束</li></ol><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">音频图 2</p></figure><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pd"><img src="../Images/2ee6c7ff479de3621654a808b4d6ca32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8qtJ4F5thHO-pNxSoNLVXA.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">图 2 |由作者代码生成的图像</p></figure><h2 id="c0a2" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">数字音频的新结构</h2><p id="f252" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">下面是我几年前画的一幅铅笔画的扫描图。下面是转换成数字音频并通过摄谱仪显示的同一幅图像。每个像素中的数据用于构建音频信息的频率和振幅。在未来的博客中，我可以详细说明这个过程是如何工作的，但现在，我只是想展示这个来进一步阐述数字音频是一种表现，而不是声音本身。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pe"><img src="../Images/337c16f62714b3f157b7a6d7cf7098c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I_R763otD9wkviEi7zAf8w.jpeg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">作者的墨水和铅笔画扫描|作者的图像</p></figure><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pf"><img src="../Images/1e31c7e8a6e04e146b9541a78d871641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*76x5SwM2OJRZvEjnsnSrNw.jpeg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">一段时间内以一系列频率呈现的图像|作者提供的图像</p></figure><p id="8eda" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated"><em class="lw"> ps。当通过扬声器播放时，它发出的实际声音令人难以忍受</em></p><h1 id="5c3b" class="ol nc iq bd nd om pg oo ng op ph or nj os pi ou nm ov pj ox np oy pk pa ns pb bi translated">操纵数字音频</h1><p id="ffb4" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">开发模拟音乐数学关系的数字渲染是一回事。很高兴知道机器可以实例化音调。但是当机器使用纯数学精度时，对声音的感知是熟悉的，但缺乏我们在物理世界中听到声音时所期望的品质。</p><p id="1937" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">让我们探索模块的更多功能，并使用录制的音频。在这一部分，我们将使用 20 世纪 70 年代公共领域购物中心 muzak 的舒缓声音。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">70 年代的公共领域音乐</p></figure><p id="f3aa" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">操作音频类似于 python 中的基本字符串和数组操作。</p><pre class="mt mu mv mw gt oa ob oc od aw oe bi"><span id="1135" class="nb nc iq ob b gy of og l oh oi">#to know how many elements are in an given array of audio</span><span id="d175" class="nb nc iq ob b gy pl og l oh oi">num_of_ele = seconds*sample_rate</span></pre><p id="1087" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">每个元素都是包含音频数据快照的样本。</p><p id="a32f" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">下面是一个笔记本，它通过对音频阵列的一系列单个操作，并以一个将效果按顺序链接并传递音频的操作结束。所有产生的例子都可以在笔记本下面找到。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="pc na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">笔记本经历一系列操作</p></figure></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h1 id="5add" class="ol nc iq bd nd om on oo ng op oq or nj os ot ou nm ov ow ox np oy oz pa ns pb bi translated">音频处理的结果</h1><h2 id="9984" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">反向音频</h2><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="ec49" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">python 中有几种反转音频的方法，但主要原理是将音频数据提取到一个数组中，反转数组，然后将其转换回音频文件。一个简单的方法是:</p><pre class="mt mu mv mw gt oa ob oc od aw oe bi"><span id="a671" class="nb nc iq ob b gy of og l oh oi">sr, y = read(wav)<br/>reverse_y = y[::-1]<br/>write(outfile, sr, reverse_y)</span></pre><h2 id="ed3a" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">时间拉伸音频</h2><p id="1b46" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">这里有三个时间拉伸算法的例子，可以减缓音频的速度。根据您如何考虑采样率的变化，您可以获得不同的探测范围。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">将采样速率乘以一个大于 1 的因子来减慢的算法</p></figure><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">将采样速率除以小于 1 的因子以降低速度的算法</p></figure><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">使用 scipy 的算法，当读入 wav 时，在 scipy 的数据输出中广播一个倍增因子</p></figure><p id="f39c" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">基本的想法是，你想让采样率更长，以便在更长的时间间隔上伸展音乐内容。为了加速音频，你做相反的事情。</p><p id="4393" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">下面是两个加速音频的例子。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">将采样速率乘以小于 1 的因子来加速的算法</p></figure><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">将采样速率除以一个大于 1 的因子来加速的算法</p></figure><h2 id="ef3e" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">音高移位音频</h2><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">音高上移 100 赫兹</p></figure><p id="0ab1" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">找到音高移位方法的关键是改变采样速率的速度，而不导致 wav 时间拉伸。为了实现这一点，我将我想改变音高的赫兹数除以采样率，然后将文件分成左右声道。一旦我这样做了，我就对每个通道中的每个样本使用<em class="lw">快速傅立叶变换</em>并调换频率，然后反转该过程并将两个通道缝合在一起。</p><h2 id="9791" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">延迟音频</h2><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">延迟设置为 1000 毫秒，因子为 0.5，重复次数为 3 次</p></figure><p id="1ed0" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">如果您查看绘制该文件音频的摄谱仪，可以看到延迟如何模糊了文件的中间，但在开头和结尾有明显的三次重复，信号的重叠迭代明显较少。为了延迟数字音频，您必须通过生成偏移来处理字节。这样做的逻辑如下:</p><pre class="mt mu mv mw gt oa ob oc od aw oe bi"><span id="0e82" class="nb nc iq ob b gy of og l oh oi"><strong class="ob ir">def</strong> delay(bytes,params,offset_ms):<br/>    # generate offset<br/>    offset= params.sampwidth*offset_ms*int(params.framerate/1000)<br/>    <br/>    # add silence in the beginning<br/>    beginning= b'<strong class="ob ir">\0</strong>'*offset</span><span id="b02c" class="nb nc iq ob b gy pl og l oh oi">    <em class="lw">#remove space from the end</em><br/>    end= bytes[:-offset]</span><span id="7b9b" class="nb nc iq ob b gy pl og l oh oi">    # concat bytes with both beginning and end with sample width<br/>    <strong class="ob ir">return</strong> add(bytes, beginning+end, params.sampwidth)</span></pre><h2 id="5cdc" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">使用代码块，如链式效果踏板</h2><p id="857d" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">在序列中构建算法后:</p><p id="7e99" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated"><em class="lw">反向- &gt;延迟- &gt;拉伸- &gt;延迟半速- &gt;层反向</em></p><p id="cce5" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">并通过数字信号，下面的音频结果。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">顺序算法效果</p></figure></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h1 id="da00" class="ol nc iq bd nd om on oo ng op oq or nj os ot ou nm ov ow ox np oy oz pa ns pb bi translated">数字音频分类</h1><p id="809c" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">到目前为止，一切都是在干扰呈现数字音频的数学机制。实质上是在玩音频阵列。在本文的其余部分，我们将更深入地研究使用特征提取的音频分析，以及机器如何使用这些特征来模拟音频。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/f2fd5a33179f208d9f6427d4b8525d73.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/1*NE-aprONxrYI5tp7K5ferg.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">可视化的 FFT | <a class="ae md" href="https://www.ritchievink.com/blog/2017/04/23/understanding-the-fourier-transform-by-example/" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="729e" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">为了提取这些特征，我们将使用傅立叶分析中的方法；主要是:快速傅立叶变换。FFT 是一种提取复杂波形并将其解析为后续简单波形的方法。它允许我们访问基于频域的特征。在下面的笔记本中，我们将探索:</p><ol class=""><li id="51cf" class="me mf iq lb b lc ld lg lh lk mg lo mh ls mi km mj mk ml mm bi translated">光谱质心</li><li id="2b3d" class="me mf iq lb b lc mn lg mo lk mp lo mq ls mr km mj mk ml mm bi translated">光谱带宽</li><li id="7f64" class="me mf iq lb b lc mn lg mo lk mp lo mq ls mr km mj mk ml mm bi translated">梅尔频率倒谱系数</li><li id="6f3c" class="me mf iq lb b lc mn lg mo lk mp lo mq ls mr km mj mk ml mm bi translated">色度特征</li></ol><p id="7634" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">简单解释一下:</p><h2 id="a6b5" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">光谱质心</h2><p id="a5bb" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">频谱质心可以被认为是测量给定声音的'<em class="lw">亮度</em>。它计算给定样本中频率的加权平均值。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/065448af7d322be95a994e0f985027eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*ZITDC_Gpd30IOuS1zuSGbQ.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">其中<em class="po"> x(n) </em>表示仓号<em class="po"> n </em>的加权频率值或幅度，<em class="po"> f(n) </em>表示该仓的中心频率。</p></figure><h2 id="60b5" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">光谱带宽</h2><p id="97f6" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">频谱带宽与声音的频谱分辨率相关。它被定义为<em class="lw">每个样本最大峰值频率一半处的频带宽度</em>。</p><p id="4ed9" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated"><strong class="lb ir">梅尔频率倒谱系数</strong></p><p id="8633" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">梅尔频率倒谱是从功率倒谱构建的，是声音的短期功率谱的表示。系数是通过 FFT 检查样本，然后将功率映射到 mel 标度上而得到的。然后记录每个 mel 频率。之后，执行离散余弦变换，就好像对数梅尔功率列表是一个孤立的信号。<em class="lw">即</em>信号的合成振幅就是系数。这些系数精确地描述了给定样本的频谱包络的形状。</p><p id="eab7" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated"><strong class="lb ir">色度</strong></p><p id="084e" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">色度提取沿着 0-11 的向量显示强度。该向量表示音高类别集，并揭示存在的每个音高类别的数量。换句话说，它告诉我们信号中存在哪些谐波频率。</p><p id="8666" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">这只是信号中存在的一小部分特性，但有了这些特性以及本笔记本中显示的其他一些特性，我们就可以开始对信号进行建模了。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="pc na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">显示信号建模特征提取示例的笔记本</p></figure><p id="f01f" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">有趣的是，对数字音频信号进行建模就是提取已有表征的特征的表征。</p><h2 id="9e4c" class="nb nc iq bd nd ne nf dn ng nh ni dp nj lk nk nl nm lo nn no np ls nq nr ns nt bi translated">建模</h2><p id="c6a9" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">使用 G. Tzanetakis 的集合，让我们使用这些特征提取来模拟音乐流派。该合集由 1000 首音轨组成，每首音轨时长 30 秒。它包含 10 个流派，每个流派代表 100 首曲目。轨道都是 22050 赫兹单声道 16 位 wav 文件。一旦我们从集合中提取了所有的数据，让我们从我们简单但很好的朋友开始，人工深度神经网络。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pp"><img src="../Images/a094d8d04d5b1c67910758ee59aec90c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q8DyD7WWqspjiCyWIKYgWQ.jpeg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">DeepANN 分类器| <a class="ae md" href="https://www.shutterstock.com/image-vector/neural-net-neuron-network-deep-learning-484275199" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="pc na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">笔记本构建和实现一个简单的 DeepANN</p></figure><p id="1ada" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">该模型达到了 69.50%的准确率。</p></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><p id="89e1" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">考虑到建模是信号工程表示的一种方法，让我们看看我们可以对数据建模的其他方式。让我们使用数字音频的图像，而不是提取代表样本中不同值的特征。为此，我们可以获取每个 wav 文件并生成一个摄谱仪。然后我们可以在光谱图上使用卷积神经网络(CNN)。</p><p id="fb8c" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">这是一个我们将用来训练 CNN 的光谱仪的例子。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/3c95abb8da91d7d1d75a4c1159ba7127.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*2qGqmEtO1URPR9Ne88FGfg.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">gtzan collection 的 10 秒 wav 文件的摄谱仪，流派:hip hop |由作者代码生成的图像</p></figure><p id="0256" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">CNN 将学习文件的视觉印象来理解一个流派的特征，而不是对提取的特征本身进行训练来理解一个流派的特征。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pr"><img src="../Images/400a185085dea82ed14fefb3993502e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hvEjb4lP3XCqDWko3Uc10g.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">CNN 分类器| <a class="ae md" href="https://www.researchgate.net/figure/Convolutional-neural-networks-structure_fig3_326884617" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="pc na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">笔记本电脑建设和实施有线电视新闻网</p></figure><p id="2022" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">虽然使用摄谱仪来表示音频的想法很有趣，但使用它来训练分类器似乎不是最有效的方法。更不用说 CNN 的训练时间在记忆和时间上要昂贵得多。</p><p id="7884" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">说到记忆和时间，让我们回到使用原始音频的特征提取，并尝试一个长短期记忆(LSTM)模型。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ps"><img src="../Images/71e853a1a949befcfee92c6729002d33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uc9Bsw7PY2k3FrXer-o76g.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">LSTM | <a class="ae md" href="http://colah.github.io/posts/2015-08-Understanding-LSTMs/" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="pc na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">笔记本电脑建设和实施 LSTM</p></figure><p id="943a" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">我们达到了 66.66%的准确率——比我们在本节开始时使用的原始神经网络模型的准确率略低 3%。在这里，LSTM 是有效的，但对于分类问题，我仍然会选择人工神经网络。但是让我们看看 LSTMs 还能做什么。</p></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h1 id="57f9" class="ol nc iq bd nd om on oo ng op oq or nj os ot ou nm ov ow ox np oy oz pa ns pb bi translated">生成数字音频</h1><p id="a659" class="pw-post-body-paragraph kz la iq lb b lc nu le lf lg nv li lj lk nw lm ln lo nx lq lr ls ny lu lv km ij bi translated">在我的文章<a class="ae md" href="https://medium.com/swlh/generative-ai-malfunctions-imperfections-irrationality-and-expression-9f50c81a6291" rel="noopener">生成性人工智能:故障、缺陷、非理性和表达</a>中，我讨论了一些关于人工智能是否以及如何能够’<em class="lw">生成</em>的观点。简而言之，总的来说，我认为 AI <em class="lw">可以</em>产生，从而创造，在某些情况下。在我们尝试让人工智能生成音乐之前，让我们使用预测功能来看看它复制音乐的能力有多强。</p><p id="3f9e" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">在这个笔记本里，我取了三个音频文件。</p><ol class=""><li id="1412" class="me mf iq lb b lc ld lg lh lk mg lo mh ls mi km mj mk ml mm bi translated"><em class="lw">《魔法咒语》水晶城堡</em></li><li id="e443" class="me mf iq lb b lc mn lg mo lk mp lo mq ls mr km mj mk ml mm bi translated"><em class="lw">《两个人就能赢》J·迪拉</em></li><li id="fe26" class="me mf iq lb b lc mn lg mo lk mp lo mq ls mr km mj mk ml mm bi translated"><em class="lw">《十二声部音乐第三部》，菲利普·格拉斯乐团(1975 年现场演出)</em></li></ol><p id="4a8e" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">这里的任务是使用更高维度的音频数据，即我们在处理数字音频时使用的幅度阵列，来看看 LSTM 是否可以预测每个样本的正确幅度序列。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="pc na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">用于音频生成的笔记本构建和实现 LSTM</p></figure><p id="d18e" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">正如我们所看到的，LSTM 可以被训练得相当精确。下面生成的音频:</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">拼接在一起的三个音轨的真实音频</p></figure><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">表演中的模型</p></figure><div class="mt mu mv mw gt ab cb"><figure class="pt jr pu pv pw px py paragraph-image"><img src="../Images/f78ae1661e00cd782e9bed8bd6c016ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*BQZHSi-nthUikehPG_-ehw.png"/></figure><figure class="pt jr pu pv pw px py paragraph-image"><img src="../Images/24bf9c78b9354a4a84fe95b08b705328.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*jknqXrbzoZs0wm-WPHiT2A.png"/><p class="jy jz gj gh gi ka kb bd b be z dk pz di qa qb translated">第一个模型的训练性能|由作者代码生成的图像</p></figure></div><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">模型学习但不太理解卷</p></figure><div class="mt mu mv mw gt ab cb"><figure class="pt jr pu pv pw px py paragraph-image"><img src="../Images/d5f5658deb4b37d8f40b2548236ae278.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*L4WnhbZlQpBNBXEC5gUqTw.png"/></figure><figure class="pt jr pu pv pw px py paragraph-image"><img src="../Images/0ad435163204b0a6dd7abf4ac378d74a.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*8etZ4D9vbovZxPP4vaftiQ.png"/><p class="jy jz gj gh gi ka kb bd b be z dk pz di qa qb translated">第二模型的训练性能|由作者代码生成的图像</p></figure></div><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">模型学习准确预测振幅并重现音频</p></figure><div class="mt mu mv mw gt ab cb"><figure class="pt jr pu pv pw px py paragraph-image"><img src="../Images/aaf3ba78718c6be467eb2d35b940c708.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*rea4Q3A2mfz8lei9xsIbKA.png"/></figure><figure class="pt jr pu pv pw px py paragraph-image"><img src="../Images/8647fc3e29d647c4c4b16f46a31579a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*CuBPYF2DHxuhf2No29KIdA.png"/><p class="jy jz gj gh gi ka kb bd b be z dk pz di qa qb translated">第三模型的训练性能|由作者代码生成的图像</p></figure></div><p id="f196" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">对于下一个生成音频的实验，我不会展示笔记本电脑，因为每个模型都需要几天甚至更长时间来训练(一个模型用 GPU 花费了近一周的时间！).但是对于那些有兴趣阅读模型代码的人来说，这里是最终模型的架构。根据我预处理数据的方式，这个模型最终产生了一些有趣的结果。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="pc na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">最终 LSTM 建筑</p></figure><p id="bbf6" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">除了众多添加的层之外，该模型的主要区别之一是时间分布的密集分层，所有内容都构建在其中。这允许 LSTM 在训练时一致地返回层内和层间每一步的完整序列。它还产生一个完整序列的输出，而不是一次一个样本。</p><p id="addc" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">在这个实验中，我不想停留在振幅的表面水平，而是想在通过傅立叶分析提取的低维光谱特征上训练模型。我不是在一个复杂的音频文件上训练，而是在一个艺术家的完整专辑和现场表演上训练。我继续使用水晶城堡，J 迪拉和菲利普·格拉斯合奏。最初，我把整张专辑分成 10 秒钟的音频片段，最终在完整的音轨上训练了一个模型。</p><p id="8f65" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">在训练过程中，我保存了不同模型开发的不同阶段，并从每个艺术家提取的特征数据中构建了一个随机序列生成器。然后，我让每个模型在不同的学习阶段尽可能地产生声音。下面是不同阶段的输出。音频不会以任何方式改变，而是按照模型学习阶段的时间顺序排列。</p><p id="ce49" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated"><em class="lw">*警告:开始时有点吵</em></p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">隔离后，你可能会发现这个 LSTM 在杰弗逊南部的约翰逊大街&amp;法拉盛附近的布什维克闲逛</p></figure><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi qc"><img src="../Images/7c985ff17f47efd226f517ede3908a50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P4EvMv5NcPc-qg1ENdgoow.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">AI _ LSTM _ 生成 _ 水晶城堡的摄谱仪|图片由作者代码生成</p></figure><p id="5ecc" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated"><em class="lw">* 50 秒到 1:40 秒之间发生了一些美丽而不完美的事情</em></p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">隔离后，你可能会发现这个 LSTM 每天都在伍德布里奇的盟友那里闲逛</p></figure><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi qc"><img src="../Images/92ee44b1ad92a403c37c6a091a6950e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FbkywqBzQib67rVWT9qLLg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">AI_LSTM_Generated_J Dilla |图片由作者代码生成的摄谱仪</p></figure><p id="f59a" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">真正让我惊讶的是:在给定数据的情况下，模型首先学习音频的哪些部分，以及它从看似只是音调和声音到对节奏的明确理解有多快。这个输出让我想起了开车去北部时，通过调频广播信号调谐，寻找正确的电台。</p><p id="f302" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">现在，在这两个例子中，有一些严重的过度拟合，以及一些细微差别。事实上，在 J Dilla 赛道上，有趣的是这个模型不停地吐出循环。我想知道这是否与 J Dilla 使用样本有关。而在水晶城堡的音乐中，有重复，但它是人们重复的话，节奏和旋律，而 J Dilla 的轨道是录音和磁带的逐字取样重复。我还发现令人着迷的是，在 J Dilla 的音轨中，人声清晰，可以听到明确的词语——你可以在摄谱仪的后半部分看到人声的弦外之音；而在水晶城堡的音轨中，声音是存在的，但看起来是一个模糊的单词轮廓，与乐器天衣无缝地融合在一起，而不是明确的话语。</p><p id="a21c" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">最后，让我们听听菲利普·格拉斯系综模型。有趣的事情正在这里发生。我不想听从白噪音到智能模拟的演变，我想放大来听这里发生的音乐选择，以及音色。在 Crystal Castles 和 J Dilla 中，每一个成熟的 AI 都会在逐字模拟和误差边缘之间振荡，误差边缘允许一些令人想起决策的故障缺陷。不过，在谷歌眼镜模式下，所有的输出都是现场录音中找不到的音乐片段。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">艾 LSTM 菲利普·格拉斯合奏</p></figure><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi qd"><img src="../Images/631a7ebc48c18b55458e83652369a846.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zrn3UlBjPtC6uLhNKzqBGw.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">AI _ LSTM _ 玻璃 _2_1_6 |图像的摄谱仪由作者代码生成</p></figure><p id="f8e0" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">下面是一些我觉得很漂亮的光谱图。人工智能正在理解频率和节奏，并产生信号，这些信号在它接受训练的实际记录中并不存在。然而，它缺乏音色，听起来像一个模拟合成器；但对我来说，感觉奇怪的真实，有菲利普·格拉斯的幽灵般的影响，但却是增强的，创造性的和独特的。</p><div class="mt mu mv mw gt ab cb"><figure class="pt jr qe pv pw px py paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/8a442b2d55ab46daf8c7ee17a67c930e.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*GTxZuuoFs0PCrhQKSpzFFw.png"/></div></figure><figure class="pt jr qe pv pw px py paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/1db714cfab9009c1b5f77f751fef8f00.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*YF0LjPV7DEr8NZ9F38DIAg.png"/></div></figure><figure class="pt jr qe pv pw px py paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/cd2fdb3b9ba05508995aa9d3aabb9886.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*zrn3UlBjPtC6uLhNKzqBGw.png"/></div></figure></div><div class="ab cb"><figure class="pt jr pu pv pw px py paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/1a172c6bdab5c2f95afaae5f8854123b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*LnOI_Hp430oB_b_T49Tj0A.png"/></div></figure><figure class="pt jr pu pv pw px py paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/be629ee48d70ccdb8107406cbd7869d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*wMWctL53Kv5O9nt1ZKgP2Q.png"/></div></figure></div><div class="ab cb"><figure class="pt jr qe pv pw px py paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/a11375cc7ccce2601e1a3fc7a6c3ae1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*rYui7XZ0QOP3YIxr3S2pgg.png"/></div></figure><figure class="pt jr qe pv pw px py paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/923539bacfa810ff68e2d37beb88e086.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Rh2JDWkqaTwsN5D77ov14g.png"/></div></figure><figure class="pt jr qe pv pw px py paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/6a84fad0724b65857111006e073a776b.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*NYjtE6L9ueRobGagDxLksg.png"/></div></figure></div><div class="ab cb"><figure class="pt jr pu pv pw px py paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/52cf1854d275f99cd5c484bf75661ed4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*u5quSOskr3Ql5AoHmIFKHQ.png"/></div></figure><figure class="pt jr pu pv pw px py paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/009876a54a1fdb26c7e3c2168e81deef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*GGZZMf0cVcT0YEwVz-dTCw.png"/></div></figure></div><div class="ab cb"><figure class="pt jr qe pv pw px py paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/719e6d5cbe3bd16dc03c705f0a6ddc0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*SnT7KOiDysj9zGieKD71dw.png"/></div></figure><figure class="pt jr qe pv pw px py paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/bdf29e6ae921ce398e49f19da6b5ce90.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*E4Lo3c3zwzwjV8u7k4BYCw.png"/></div></figure><figure class="pt jr qe pv pw px py paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/754d73d47f2ffc6469be033f12994a1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0p4jtXE8psfNotjC_QAiuw.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk qf di qg qb translated">由作者代码生成的所有光谱图</p></figure></div><p id="5eb5" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv km ij bi translated">下面是我觉得有趣的输出汇编。音频没有改变。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">GlassAI 汇编</p></figure><h1 id="b392" class="ol nc iq bd nd om pg oo ng op ph or nj os pi ou nm ov pj ox np oy pk pa ns pb bi translated">结论</h1><blockquote class="kc"><p id="d24b" class="kd ke iq bd kf kg ku kv kw kx ky km dk translated">“所以艺术无处不在，因为技巧是现实的核心。所以艺术死了，不仅因为它的批判性超越性消失了，还因为现实本身，完全被一种与其自身结构不可分割的美学所浸透，已经与它自己的形象混淆了。现实不再有时间呈现现实的外表。它甚至不再超越小说:它捕捉了每一个梦，甚至在它呈现出梦的外观之前。”</p></blockquote><p id="d6db" class="pw-post-body-paragraph kz la iq lb b lc qh le lf lg qi li lj lk qj lm ln lo qk lq lr ls ql lu lv km ij bi translated">这一点，连同<strong class="lb ir"> <em class="lw">超现实</em> </strong>的概念，一直贯穿在我的脑海深处。虽然我知道鲍德里亚指的是作为一个对象系统的现实的理论讨论，但当我开始探索 DSP 时，这方面的一些东西引起了我的共鸣。我认为数字音频是一种表现，一种声音的模拟。无法与自然产生的声音区分开来的声音。技术上来说，是的。但以玻璃为结尾，让我觉得通过模拟和复制媒介的有意开发，我们可能会发现一个没有技术桥梁我们根本无法达到的创造力维度。回到人工智能可以成为一种创造性和协作性工具的想法。我以这本笔记本作为结束。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="pc na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">通过顺序算法发送玻璃信号的笔记本</p></figure><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mz na l"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">通过顺序算法从玻璃信号输出</p></figure></div></div>    
</body>
</html>