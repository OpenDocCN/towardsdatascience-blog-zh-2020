<html>
<head>
<title>Descriptive statistics in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">R中的描述统计</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/descriptive-statistics-in-r-8e1cad20bf3a?source=collection_archive---------7-----------------------#2020-01-22">https://towardsdatascience.com/descriptive-statistics-in-r-8e1cad20bf3a?source=collection_archive---------7-----------------------#2020-01-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="466b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">本文解释了如何计算R中的主要描述性统计数据，以及如何以图形方式呈现它们。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/81b866a6e0bdfea21316629b66530e09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*t0YWOBlaKeGPSeaC"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@ruthson_zimmerman?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">鲁特森·齐默曼</a>拍摄</p></figure><h1 id="df67" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="7238" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi mn translated">这篇文章解释了如何计算R中的主要描述性统计数据，以及如何用图表的方式展示它们。要了解每个描述性统计背后的推理，如何手工计算它们以及如何解释它们，请阅读文章“<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-by-hand/" rel="noopener ugc nofollow" target="_blank">手工描述性统计</a>”。</p><p id="6d20" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">简要回顾一下那篇文章中所说的内容，描述统计学(广义上的)是统计学的一个分支，旨在总结、描述和呈现一系列值或数据集。描述性统计通常是任何统计分析的第一步和重要部分。它允许检查数据的质量，并有助于通过对数据有一个清晰的概述来“理解”数据。如果表述得好，描述性统计已经是进一步分析的良好起点。有许多方法可以总结一个数据集。它们分为两种类型:</p><ol class=""><li id="d6bb" class="nb nc it lt b lu mw lx mx ma nd me ne mi nf mm ng nh ni nj bi translated">位置测量和</li><li id="9490" class="nb nc it lt b lu nk lx nl ma nm me nn mi no mm ng nh ni nj bi translated">分散测量</li></ol><p id="16f8" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">位置测量提供了对数据集中趋势的理解，而分散测量提供了对数据扩散的理解。在本文中，我们只关注R中最常见的描述性统计及其可视化的实现(如果认为合适的话)。有关每项措施的目的和用法的更多信息，请参见在线或上述文章中的<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-by-hand/" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="4219" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">数据</h1><p id="6aeb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们在整篇文章中使用数据集<code class="fe np nq nr ns b">iris</code>。这个数据集在R中是默认导入的，你只需要通过运行<code class="fe np nq nr ns b">iris</code>来加载它:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="5efc" class="nx la it ns b gy ny nz l oa ob">dat &lt;- iris # load the iris dataset and renamed it dat</span></pre><p id="485d" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">下面是该数据集及其结构的预览:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="14a9" class="nx la it ns b gy ny nz l oa ob">head(dat) # first 6 observations</span><span id="2a43" class="nx la it ns b gy oc nz l oa ob">##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species<br/>## 1          5.1         3.5          1.4         0.2  setosa<br/>## 2          4.9         3.0          1.4         0.2  setosa<br/>## 3          4.7         3.2          1.3         0.2  setosa<br/>## 4          4.6         3.1          1.5         0.2  setosa<br/>## 5          5.0         3.6          1.4         0.2  setosa<br/>## 6          5.4         3.9          1.7         0.4  setosa</span><span id="cce5" class="nx la it ns b gy oc nz l oa ob">str(dat) # structure of dataset</span><span id="ab4f" class="nx la it ns b gy oc nz l oa ob">## 'data.frame':    150 obs. of  5 variables:<br/>##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...<br/>##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...<br/>##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...<br/>##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...<br/>##  $ Species     : Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...</span></pre><p id="e626" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">该数据集包含150个观察值和5个变量，代表萼片和花瓣的长度和宽度以及150种花的种类。萼片和花瓣的长度和宽度是数值变量，物种是一个有3个水平的因子(在变量名称后用<code class="fe np nq nr ns b">num</code>和<code class="fe np nq nr ns b">Factor w/ 3 levels</code>表示)。如果需要刷新，请参见R 中的<a class="ae ky" href="https://www.statsandr.com/blog/data-types-in-r" rel="noopener ugc nofollow" target="_blank">不同变量类型。</a></p><p id="322a" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">关于图，我们给出了默认的图和著名的<code class="fe np nq nr ns b">{ggplot2}</code>包中的图。来自<code class="fe np nq nr ns b">{ggplot2}</code>包的图形通常具有更好的外观，但是它需要更高级的编码技能(参见文章“<a class="ae ky" href="https://www.statsandr.com/blog/graphics-in-r-with-ggplot2/" rel="noopener ugc nofollow" target="_blank">R中的图形与ggplot2 </a>”以了解更多信息)。如果你需要发布或分享你的图表，我建议如果可以的话使用<code class="fe np nq nr ns b">{ggplot2}</code>，否则默认的图表就可以了。</p><p id="8d99" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><strong class="lt iu">提示:我最近从</strong> <code class="fe np nq nr ns b"><strong class="lt iu">{esquisse}</strong></code> <strong class="lt iu">插件中发现了ggplot2构建器。看看你如何从</strong>  <code class="fe np nq nr ns b"><a class="ae ky" href="https://www.statsandr.com/blog/rstudio-addins-or-how-to-make-your-coding-life-easier/" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu">{ggplot2}</strong></a></code> <a class="ae ky" href="https://www.statsandr.com/blog/rstudio-addins-or-how-to-make-your-coding-life-easier/" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu">包</strong> </a> <strong class="lt iu">中轻松地</strong> <a class="ae ky" href="https://www.statsandr.com/blog/rstudio-addins-or-how-to-make-your-coding-life-easier/" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu">画出图形，而不必自己编码。</strong></a></p><p id="8bd4" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">本文中显示的所有图都可以定制。例如，可以编辑标题、x和y轴标签、颜色等。然而，定制图超出了本文的范围，所以所有的图都没有任何定制。感兴趣的读者可以在网上找到大量的资源。</p><h1 id="b86d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">最小值和最大值</h1><p id="337e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">通过<code class="fe np nq nr ns b">min()</code>和<code class="fe np nq nr ns b">max()</code>功能可以找到最小值和最大值:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="e47a" class="nx la it ns b gy ny nz l oa ob">min(dat$Sepal.Length)</span><span id="04b3" class="nx la it ns b gy oc nz l oa ob">## [1] 4.3</span><span id="8e07" class="nx la it ns b gy oc nz l oa ob">max(dat$Sepal.Length)</span><span id="aa7d" class="nx la it ns b gy oc nz l oa ob">## [1] 7.9</span></pre><p id="bd0f" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">或者是<code class="fe np nq nr ns b">range()</code>功能:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="0230" class="nx la it ns b gy ny nz l oa ob">rng &lt;- range(dat$Sepal.Length)<br/>rng</span><span id="ae66" class="nx la it ns b gy oc nz l oa ob">## [1] 4.3 7.9</span></pre><p id="619e" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">直接给出最小值和最大值。注意，<code class="fe np nq nr ns b">range()</code>函数的输出实际上是一个包含最小值和最大值的对象(按照这个顺序)。这意味着您实际上可以通过以下方式获得最小值:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="8107" class="nx la it ns b gy ny nz l oa ob">rng[1] # rng = name of the object specified above</span><span id="7dcd" class="nx la it ns b gy oc nz l oa ob">## [1] 4.3</span></pre><p id="b419" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">最大值为:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="bd56" class="nx la it ns b gy ny nz l oa ob">rng[2]</span><span id="28d4" class="nx la it ns b gy oc nz l oa ob">## [1] 7.9</span></pre><p id="3da2" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">这提醒我们，在R中，通常有几种方法可以达到相同的结果。使用最短代码段的方法通常是首选，因为较短的代码段不容易出现编码错误，并且可读性更好。</p><h1 id="581f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">范围</h1><p id="877b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">正如您所猜测的，通过从最大值中减去最小值，可以很容易地计算出范围:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="11eb" class="nx la it ns b gy ny nz l oa ob">max(dat$Sepal.Length) - min(dat$Sepal.Length)</span><span id="5bf6" class="nx la it ns b gy oc nz l oa ob">## [1] 3.6</span></pre><p id="3cfc" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">据我所知，没有默认的函数来计算范围。但是，如果您熟悉用R编写函数，您可以创建自己的函数来计算范围:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="5226" class="nx la it ns b gy ny nz l oa ob">range2 &lt;- function(x) {<br/>  range &lt;- max(x) - min(x)<br/>  return(range)<br/>}</span><span id="6d51" class="nx la it ns b gy oc nz l oa ob">range2(dat$Sepal.Length)</span><span id="56d1" class="nx la it ns b gy oc nz l oa ob">## [1] 3.6</span></pre><p id="0df9" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">这相当于上面给出的最大最小值。</p><h1 id="e9fa" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">平均</h1><p id="9d26" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">平均值可以用<code class="fe np nq nr ns b">mean()</code>函数计算:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="c0d9" class="nx la it ns b gy ny nz l oa ob">mean(dat$Sepal.Length)</span><span id="3fa8" class="nx la it ns b gy oc nz l oa ob">## [1] 5.843333</span></pre><p id="15c9" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><em class="od">温馨提示:</em></p><ul class=""><li id="94d9" class="nb nc it lt b lu mw lx mx ma nd me ne mi nf mm oe nh ni nj bi translated">如果数据集中至少有一个缺失值，使用<code class="fe np nq nr ns b">mean(dat$Sepal.Length, na.rm = TRUE)</code>计算排除NA后的平均值。该参数可用于本文中介绍的大多数函数，而不仅仅是平均值</li><li id="4846" class="nb nc it lt b lu nk lx nl ma nm me nn mi no mm oe nh ni nj bi translated">对于截断的平均值，使用<code class="fe np nq nr ns b">mean(dat$Sepal.Length, trim = 0.10)</code>并根据您的需要更改<code class="fe np nq nr ns b">trim</code>参数</li></ul><h1 id="d612" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">中位数</h1><p id="0195" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">通过<code class="fe np nq nr ns b">median()</code>函数可以计算出中值:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="4ed1" class="nx la it ns b gy ny nz l oa ob">median(dat$Sepal.Length)</span><span id="1000" class="nx la it ns b gy oc nz l oa ob">## [1] 5.8</span></pre><p id="dc5b" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">或者使用<code class="fe np nq nr ns b">quantile()</code>功能:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="aa62" class="nx la it ns b gy ny nz l oa ob">quantile(dat$Sepal.Length, 0.5)</span><span id="ee80" class="nx la it ns b gy oc nz l oa ob">## 50% <br/>## 5.8</span></pre><p id="20e2" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">因为0.5阶的分位数(q0.5)对应于中值。</p><h1 id="cac3" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">第一和第三四分位数</h1><p id="ec3f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">由于使用了<code class="fe np nq nr ns b">quantile()</code>函数，并通过将第二个参数设置为0.25或0.75，可以计算出第一个和第三个四分位数的中值:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="e8e8" class="nx la it ns b gy ny nz l oa ob">quantile(dat$Sepal.Length, 0.25) # first quartile</span><span id="8ee8" class="nx la it ns b gy oc nz l oa ob">## 25% <br/>## 5.1</span><span id="6af5" class="nx la it ns b gy oc nz l oa ob">quantile(dat$Sepal.Length, 0.75) # third quartile</span><span id="613b" class="nx la it ns b gy oc nz l oa ob">## 75% <br/>## 6.4</span></pre><p id="2a65" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">您可能已经看到，上面的结果与您手工计算第一个和第三个四分位数<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-by-hand/" rel="noopener ugc nofollow" target="_blank">的结果略有不同。这是正常的，有许多方法来计算它们(R实际上有7种方法来计算分位数！).然而，这里和文章“</a><a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-by-hand/" rel="noopener ugc nofollow" target="_blank">手工描述性统计</a>”中介绍的方法是最简单和最“标准”的方法。此外，两种方法之间的结果没有显著变化。</p><h1 id="e4c5" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">其他分位数</h1><p id="e5c7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">正如您已经猜到的，任何分位数也可以用<code class="fe np nq nr ns b">quantile()</code>函数来计算。例如，第四个十分位数或第98个百分位数:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="6e68" class="nx la it ns b gy ny nz l oa ob">quantile(dat$Sepal.Length, 0.4) # 4th decile</span><span id="e8d7" class="nx la it ns b gy oc nz l oa ob">## 40% <br/>## 5.6</span><span id="bac4" class="nx la it ns b gy oc nz l oa ob">quantile(dat$Sepal.Length, 0.98) # 98th percentile</span><span id="c132" class="nx la it ns b gy oc nz l oa ob">## 98% <br/>## 7.7</span></pre><h1 id="45de" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">四分位间距</h1><p id="3f7e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">四分位数间距(即第一个四分位数和第三个四分位数之间的差值)可以用<code class="fe np nq nr ns b">IQR()</code>函数计算:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="248d" class="nx la it ns b gy ny nz l oa ob">IQR(dat$Sepal.Length)</span><span id="f3e8" class="nx la it ns b gy oc nz l oa ob">## [1] 1.3</span></pre><p id="e9ab" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">或者再次使用<code class="fe np nq nr ns b">quantile()</code>功能:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="42c3" class="nx la it ns b gy ny nz l oa ob">quantile(dat$Sepal.Length, 0.75) - quantile(dat$Sepal.Length, 0.25)</span><span id="a4c8" class="nx la it ns b gy oc nz l oa ob">## 75% <br/>## 1.3</span></pre><p id="0303" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">如前所述，如果可能的话，通常建议使用最短的代码来获得结果。因此，最好使用<code class="fe np nq nr ns b">IQR()</code>函数来计算四分位数范围。</p><h1 id="380a" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">标准偏差和方差</h1><p id="f992" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">使用<code class="fe np nq nr ns b">sd()</code>和<code class="fe np nq nr ns b">var()</code>函数计算标准偏差和方差:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="daec" class="nx la it ns b gy ny nz l oa ob">sd(dat$Sepal.Length) # standard deviation</span><span id="ea8e" class="nx la it ns b gy oc nz l oa ob">## [1] 0.8280661</span><span id="84be" class="nx la it ns b gy oc nz l oa ob">var(dat$Sepal.Length) # variance</span><span id="611a" class="nx la it ns b gy oc nz l oa ob">## [1] 0.6856935</span></pre><p id="eaad" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">请记住文章<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-by-hand/" rel="noopener ugc nofollow" target="_blank">手动描述性统计</a>中的内容，无论是计算样本还是总体，标准差和方差都是不同的(参见<a class="ae ky" href="https://www.statsandr.com/blog/what-is-the-difference-between-population-and-sample/" rel="noopener ugc nofollow" target="_blank">样本和总体之间的差异</a>)。在R中，计算标准差和方差时，假设数据代表一个样本(因此分母为n-1，其中n为观察次数)。据我所知，R中默认没有计算总体的标准差或方差的函数。</p><p id="aad8" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><em class="od">提示:</em>要同时计算多个变量的标准差(或方差)，使用<code class="fe np nq nr ns b">lapply()</code>和适当的统计数据作为第二个参数:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="98da" class="nx la it ns b gy ny nz l oa ob">lapply(dat[, 1:4], sd)</span><span id="5fc1" class="nx la it ns b gy oc nz l oa ob">## $Sepal.Length<br/>## [1] 0.8280661<br/>## <br/>## $Sepal.Width<br/>## [1] 0.4358663<br/>## <br/>## $Petal.Length<br/>## [1] 1.765298<br/>## <br/>## $Petal.Width<br/>## [1] 0.7622377</span></pre><p id="481b" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">命令<code class="fe np nq nr ns b">dat[, 1:4]</code>选择变量1至4，因为第五个变量是一个<a class="ae ky" href="https://www.statsandr.com/blog/variable-types-and-examples/#qualitative" rel="noopener ugc nofollow" target="_blank">定性</a>变量，不能对这类变量计算标准偏差。如有必要，参见R 中不同<a class="ae ky" href="https://www.statsandr.com/blog/data-types-in-r/" rel="noopener ugc nofollow" target="_blank">数据类型的概述。</a></p><h1 id="9283" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">摘要</h1><p id="d079" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您可以使用<code class="fe np nq nr ns b">summary()</code>一次计算数据集所有数值变量的最小值、第一四分位数、中值、平均值、第三四分位数和最大值:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="0264" class="nx la it ns b gy ny nz l oa ob">summary(dat)</span><span id="244b" class="nx la it ns b gy oc nz l oa ob">##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   <br/>##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  <br/>##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  <br/>##  Median :5.800   Median :3.000   Median :4.350   Median :1.300  <br/>##  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  <br/>##  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  <br/>##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  <br/>##        Species  <br/>##  setosa    :50  <br/>##  versicolor:50  <br/>##  virginica :50  <br/>##                 <br/>##                 <br/>##</span></pre><p id="e0bc" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><em class="od">提示:</em>如果您需要这些分组描述性统计数据，请使用<code class="fe np nq nr ns b">by()</code>功能:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="649f" class="nx la it ns b gy ny nz l oa ob">by(dat, dat$Species, summary)</span><span id="7121" class="nx la it ns b gy oc nz l oa ob">## dat$Species: setosa<br/>##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   <br/>##  Min.   :4.300   Min.   :2.300   Min.   :1.000   Min.   :0.100  <br/>##  1st Qu.:4.800   1st Qu.:3.200   1st Qu.:1.400   1st Qu.:0.200  <br/>##  Median :5.000   Median :3.400   Median :1.500   Median :0.200  <br/>##  Mean   :5.006   Mean   :3.428   Mean   :1.462   Mean   :0.246  <br/>##  3rd Qu.:5.200   3rd Qu.:3.675   3rd Qu.:1.575   3rd Qu.:0.300  <br/>##  Max.   :5.800   Max.   :4.400   Max.   :1.900   Max.   :0.600  <br/>##        Species  <br/>##  setosa    :50  <br/>##  versicolor: 0  <br/>##  virginica : 0  <br/>##                 <br/>##                 <br/>##                 <br/>## ------------------------------------------------------------ <br/>## dat$Species: versicolor<br/>##   Sepal.Length    Sepal.Width     Petal.Length   Petal.Width          Species  <br/>##  Min.   :4.900   Min.   :2.000   Min.   :3.00   Min.   :1.000   setosa    : 0  <br/>##  1st Qu.:5.600   1st Qu.:2.525   1st Qu.:4.00   1st Qu.:1.200   versicolor:50  <br/>##  Median :5.900   Median :2.800   Median :4.35   Median :1.300   virginica : 0  <br/>##  Mean   :5.936   Mean   :2.770   Mean   :4.26   Mean   :1.326                  <br/>##  3rd Qu.:6.300   3rd Qu.:3.000   3rd Qu.:4.60   3rd Qu.:1.500                  <br/>##  Max.   :7.000   Max.   :3.400   Max.   :5.10   Max.   :1.800                  <br/>## ------------------------------------------------------------ <br/>## dat$Species: virginica<br/>##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   <br/>##  Min.   :4.900   Min.   :2.200   Min.   :4.500   Min.   :1.400  <br/>##  1st Qu.:6.225   1st Qu.:2.800   1st Qu.:5.100   1st Qu.:1.800  <br/>##  Median :6.500   Median :3.000   Median :5.550   Median :2.000  <br/>##  Mean   :6.588   Mean   :2.974   Mean   :5.552   Mean   :2.026  <br/>##  3rd Qu.:6.900   3rd Qu.:3.175   3rd Qu.:5.875   3rd Qu.:2.300  <br/>##  Max.   :7.900   Max.   :3.800   Max.   :6.900   Max.   :2.500  <br/>##        Species  <br/>##  setosa    : 0  <br/>##  versicolor: 0  <br/>##  virginica :50  <br/>##                 <br/>##                 <br/>##</span></pre><p id="4a3b" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">其中参数是数据集、分组变量和汇总函数的名称。请遵循此顺序，如果不遵循此顺序，请指定参数的名称。</p><p id="dbcd" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">如果您需要更多的描述性统计数据，请使用<code class="fe np nq nr ns b">{pastecs}</code>包中的<code class="fe np nq nr ns b">stat.desc()</code>:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="57da" class="nx la it ns b gy ny nz l oa ob">library(pastecs)<br/>stat.desc(dat)</span><span id="615a" class="nx la it ns b gy oc nz l oa ob">##              Sepal.Length  Sepal.Width Petal.Length  Petal.Width Species<br/>## nbr.val      150.00000000 150.00000000  150.0000000 150.00000000      NA<br/>## nbr.null       0.00000000   0.00000000    0.0000000   0.00000000      NA<br/>## nbr.na         0.00000000   0.00000000    0.0000000   0.00000000      NA<br/>## min            4.30000000   2.00000000    1.0000000   0.10000000      NA<br/>## max            7.90000000   4.40000000    6.9000000   2.50000000      NA<br/>## range          3.60000000   2.40000000    5.9000000   2.40000000      NA<br/>## sum          876.50000000 458.60000000  563.7000000 179.90000000      NA<br/>## median         5.80000000   3.00000000    4.3500000   1.30000000      NA<br/>## mean           5.84333333   3.05733333    3.7580000   1.19933333      NA<br/>## SE.mean        0.06761132   0.03558833    0.1441360   0.06223645      NA<br/>## CI.mean.0.95   0.13360085   0.07032302    0.2848146   0.12298004      NA<br/>## var            0.68569351   0.18997942    3.1162779   0.58100626      NA<br/>## std.dev        0.82806613   0.43586628    1.7652982   0.76223767      NA<br/>## coef.var       0.14171126   0.14256420    0.4697441   0.63555114      NA</span></pre><p id="ba44" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">通过在前面的函数中添加参数<code class="fe np nq nr ns b">norm = TRUE</code>，您可以获得更多的统计数据(即偏度、峰度和正态性检验)。请注意，变量<code class="fe np nq nr ns b">Species</code>不是数字，因此无法计算该变量的描述性统计数据，并显示NA。</p><h1 id="0ef3" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">变异系数</h1><p id="f0bc" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">变异系数可以通过<code class="fe np nq nr ns b">stat.desc()</code>(见上表中的<code class="fe np nq nr ns b">coef.var</code>线)或手动计算得到(记住变异系数是标准偏差除以平均值):</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="1961" class="nx la it ns b gy ny nz l oa ob">sd(dat$Sepal.Length) / mean(dat$Sepal.Length)</span><span id="52fb" class="nx la it ns b gy oc nz l oa ob">## [1] 0.1417113</span></pre><h1 id="0bb4" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">方式</h1><p id="daf0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">据我所知，没有找到变量模式的函数。然而，由于函数<code class="fe np nq nr ns b">table()</code>和<code class="fe np nq nr ns b">sort()</code>，我们可以很容易地找到它:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="34f2" class="nx la it ns b gy ny nz l oa ob">tab &lt;- table(dat$Sepal.Length) # number of occurrences for each unique value<br/>sort(tab, decreasing = TRUE) # sort highest to lowest</span><span id="69d2" class="nx la it ns b gy oc nz l oa ob">## <br/>##   5 5.1 6.3 5.7 6.7 5.5 5.8 6.4 4.9 5.4 5.6   6 6.1 4.8 6.5 4.6 5.2 6.2 6.9 7.7 <br/>##  10   9   9   8   8   7   7   7   6   6   6   6   6   5   5   4   4   4   4   4 <br/>## 4.4 5.9 6.8 7.2 4.7 6.6 4.3 4.5 5.3   7 7.1 7.3 7.4 7.6 7.9 <br/>##   3   3   3   3   2   2   1   1   1   1   1   1   1   1   1</span></pre><p id="4c39" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><code class="fe np nq nr ns b">table()</code>给出每个唯一值出现的次数，然后<code class="fe np nq nr ns b">sort()</code>和参数<code class="fe np nq nr ns b">decreasing = TRUE</code>从最高到最低显示出现的次数。因此变量<code class="fe np nq nr ns b">Sepal.Length</code>的模式是5。此代码查找模式也可应用于定性变量，如<code class="fe np nq nr ns b">Species</code>:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="804f" class="nx la it ns b gy ny nz l oa ob">sort(table(dat$Species), decreasing = TRUE)</span><span id="626b" class="nx la it ns b gy oc nz l oa ob">## <br/>##     setosa versicolor  virginica <br/>##         50         50         50</span></pre><p id="31fd" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">或者:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="4bd8" class="nx la it ns b gy ny nz l oa ob">summary(dat$Species)</span><span id="50b4" class="nx la it ns b gy oc nz l oa ob">##     setosa versicolor  virginica <br/>##         50         50         50</span></pre><h1 id="6586" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相互关系</h1><p id="147f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">另一个描述性统计是相关系数。相关性衡量两个变量之间的线性关系。</p><p id="6e0b" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">计算R中的相关性需要一个详细的解释，所以我写了一篇文章，涵盖了<a class="ae ky" href="https://www.statsandr.com/blog/correlation-coefficient-and-correlation-test-in-r/" rel="noopener ugc nofollow" target="_blank">相关性和相关性测试</a>。</p><h1 id="ef90" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相依表</h1><p id="52a2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><code class="fe np nq nr ns b">table()</code>上面介绍的也可以用在两个定性变量上来创建一个列联表。数据集<code class="fe np nq nr ns b">iris</code>只有一个定性变量，因此我们为这个例子创建一个新的定性变量。我们创建变量<code class="fe np nq nr ns b">size</code>，如果花瓣的长度小于所有花的中值，则对应于<code class="fe np nq nr ns b">small</code>，否则对应于<code class="fe np nq nr ns b">big</code>:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="29ed" class="nx la it ns b gy ny nz l oa ob">dat$size &lt;- ifelse(dat$Sepal.Length &lt; median(dat$Sepal.Length),<br/>  "small", "big"<br/>)</span></pre><p id="79cc" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">以下是按大小排列的事件摘要:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="e689" class="nx la it ns b gy ny nz l oa ob">table(dat$size)</span><span id="50f9" class="nx la it ns b gy oc nz l oa ob">## <br/>##   big small <br/>##    77    73</span></pre><p id="c7d9" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">我们现在用<code class="fe np nq nr ns b">table()</code>函数创建两个变量<code class="fe np nq nr ns b">Species</code>和<code class="fe np nq nr ns b">size</code>的列联表:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="57ec" class="nx la it ns b gy ny nz l oa ob">table(dat$Species, dat$size)</span><span id="7422" class="nx la it ns b gy oc nz l oa ob">##             <br/>##              big small<br/>##   setosa       1    49<br/>##   versicolor  29    21<br/>##   virginica   47     3</span></pre><p id="0daa" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">或者用<code class="fe np nq nr ns b">xtabs()</code>功能:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="b18b" class="nx la it ns b gy ny nz l oa ob">xtabs(~ dat$Species + dat$size)</span><span id="6385" class="nx la it ns b gy oc nz l oa ob">##             dat$size<br/>## dat$Species  big small<br/>##   setosa       1    49<br/>##   versicolor  29    21<br/>##   virginica   47     3</span></pre><p id="b9ef" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">列联表给出了每个分组的病例数。例如，只有一朵大刚毛藻花，而数据集中有49朵小刚毛藻花。</p><p id="ad65" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">更进一步，我们可以从表中看出，setosa花的尺寸似乎比virginica花大。为了检查大小是否与物种显著相关，我们可以进行独立性的卡方检验，因为两个变量都是分类变量。参见如何用手和R 中的<a class="ae ky" href="https://www.statsandr.com/blog/chi-square-test-of-independence-in-r/" rel="noopener ugc nofollow" target="_blank">进行该测试</a><a class="ae ky" href="https://www.statsandr.com/blog/chi-square-test-of-independence-by-hand/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="43fb" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">请注意，<code class="fe np nq nr ns b">Species</code>在行中，<code class="fe np nq nr ns b">size</code>在列中，因为我们在<code class="fe np nq nr ns b">table()</code>中指定了<code class="fe np nq nr ns b">Species</code>，然后又指定了<code class="fe np nq nr ns b">size</code>。如果要切换两个变量，请更改顺序。</p><p id="5552" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">代替具有频率(即..病例数)您还可以通过在<code class="fe np nq nr ns b">prop.table()</code>函数中添加<code class="fe np nq nr ns b">table()</code>函数来获得每个子组中的相对频率(即比例):</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="b511" class="nx la it ns b gy ny nz l oa ob">prop.table(table(dat$Species, dat$size))</span><span id="7412" class="nx la it ns b gy oc nz l oa ob">##             <br/>##                      big       small<br/>##   setosa     0.006666667 0.326666667<br/>##   versicolor 0.193333333 0.140000000<br/>##   virginica  0.313333333 0.020000000</span></pre><p id="3c7a" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">注意，您也可以通过向<code class="fe np nq nr ns b">prop.table()</code>函数添加第二个参数来按行或按列计算百分比:<code class="fe np nq nr ns b">1</code>表示行，或者<code class="fe np nq nr ns b">2</code>表示列:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="1f5a" class="nx la it ns b gy ny nz l oa ob"># percentages by row:<br/>round(prop.table(table(dat$Species, dat$size), 1), 2) # round to 2 digits with round()</span><span id="7c59" class="nx la it ns b gy oc nz l oa ob">##             <br/>##               big small<br/>##   setosa     0.02  0.98<br/>##   versicolor 0.58  0.42<br/>##   virginica  0.94  0.06</span><span id="5682" class="nx la it ns b gy oc nz l oa ob"># percentages by column:<br/>round(prop.table(table(dat$Species, dat$size), 2), 2) # round to 2 digits with round()</span><span id="90fe" class="nx la it ns b gy oc nz l oa ob">##             <br/>##               big small<br/>##   setosa     0.01  0.67<br/>##   versicolor 0.38  0.29<br/>##   virginica  0.61  0.04</span></pre><p id="d0a2" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">更多高级列联表见<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-in-r/#cross-tabulations-with-ctable" rel="noopener ugc nofollow" target="_blank">高级描述统计</a>部分。</p><h1 id="bf9a" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">马赛克图</h1><p id="88ad" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">镶嵌图允许可视化两个定性变量的列联表:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="ef60" class="nx la it ns b gy ny nz l oa ob">mosaicplot(table(dat$Species, dat$size),<br/>  color = TRUE,<br/>  xlab = "Species", # label for x-axis<br/>  ylab = "Size" # label for y-axis<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/08569875fce3fe333ab3b1847d199de2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3RV6oBDtCH3llF_d.png"/></div></div></figure><p id="ae61" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">镶嵌图显示，对于我们的样本，大小花的比例在三个物种之间明显不同。特别是，海滨锦鸡儿属物种是最大的，而setosa属物种是三个物种中最小的(就萼片长度而言，因为变量<code class="fe np nq nr ns b">size</code>是基于变量<code class="fe np nq nr ns b">Sepal.Length</code>)。</p><p id="d39e" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">供您参考，镶嵌图也可以通过<code class="fe np nq nr ns b">{vcd}</code>包中的<code class="fe np nq nr ns b">mosaic()</code>功能完成:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="2996" class="nx la it ns b gy ny nz l oa ob">library(vcd)</span><span id="0691" class="nx la it ns b gy oc nz l oa ob">mosaic(~ Species + size,<br/>       data = dat,<br/>       direction = c("v", "h"))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/02e256dfdcfb980d34fa06322e6b27e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DcH-WyHiLJDQYNTo.png"/></div></div></figure><h1 id="6052" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">条形图</h1><p id="1944" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">柱状图只能在定性变量上完成(参见定量变量的差异<a class="ae ky" href="https://www.statsandr.com/blog/variable-types-and-examples/" rel="noopener ugc nofollow" target="_blank">这里</a>)。柱状图是一种可视化定性变量分布的工具。我们绘制了定性变量<code class="fe np nq nr ns b">size</code>的柱状图:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="878c" class="nx la it ns b gy ny nz l oa ob">barplot(table(dat$size)) # table() is mandatory</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/6fd3c07b7ccc550dc5a3e2dbcc7fa337.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NYxmqEVEfQ9jEn8G.png"/></div></div></figure><p id="9129" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">您也可以像我们之前做的那样，通过添加<code class="fe np nq nr ns b">prop.table()</code>来绘制相对频率而不是频率的柱状图:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="f288" class="nx la it ns b gy ny nz l oa ob">barplot(prop.table(table(dat$size)))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/4e00fa2b5bc51a83d14f7a682f65d846.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*W4Pn22-8g5fU4ZGK.png"/></div></div></figure><p id="450f" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在<code class="fe np nq nr ns b">{ggplot2}</code>中:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="7609" class="nx la it ns b gy ny nz l oa ob">library(ggplot2) # needed each time you open RStudio<br/># The package ggplot2 must be installed first</span><span id="5e0e" class="nx la it ns b gy oc nz l oa ob">ggplot(dat) +<br/>  aes(x = size) +<br/>  geom_bar()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/afedc2c0a9a348cf909955cf58961bbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zpxnQexqpD_5kllY.png"/></div></div></figure><h1 id="49eb" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">柱状图</h1><p id="47ca" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">直方图给出了定量变量分布的概念。这个想法是将值的范围分成区间，并计算每个区间内有多少个观察值。直方图有点类似于柱状图，但是直方图用于定量变量，而柱状图用于定性变量。要在R中绘制直方图，使用<code class="fe np nq nr ns b">hist()</code>:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="b00a" class="nx la it ns b gy ny nz l oa ob">hist(dat$Sepal.Length)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/c2afcd4fbb4711ea8ff095d2e6459e58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*A17gfVvAfIX9Bw4_.png"/></div></div></figure><p id="fc52" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">如果您想要更改容器的数量，请在<code class="fe np nq nr ns b">hist()</code>函数中添加参数<code class="fe np nq nr ns b">breaks =</code>。一个经验法则(称为斯特奇斯定律)是，仓的数量应该是观察数量的平方根的舍入值。数据集包括150个观察值，因此在这种情况下，箱的数量可以设置为12。</p><p id="3759" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在<code class="fe np nq nr ns b">{ggplot2}</code>:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="b5df" class="nx la it ns b gy ny nz l oa ob">ggplot(dat) +<br/>  aes(x = Sepal.Length) +<br/>  geom_histogram()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/256f92fa355f005eba1dda785da84547.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8FbLzyRySw237xSC.png"/></div></div></figure><p id="eaa3" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">默认情况下，箱子的数量为30。例如，您可以使用<code class="fe np nq nr ns b">geom_histogram(bins = 12)</code>更改该值。</p><h1 id="2d6f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">箱线图</h1><p id="7813" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">箱线图在描述性统计中非常有用，但往往没有得到充分利用(主要是因为公众没有很好地理解它)。箱线图通过直观显示五个常见位置汇总(最小值、中值、第一/第三四分位数和最大值)以及使用四分位数间距(IQR)标准分类为可疑异常值的任何观察值，以图形方式表示定量变量的分布。IQR标准意味着q0.75+1.5⋅IQR以上和q0.25−1.5⋅IQR以下的所有观测值(其中q0.25和q0.75分别对应于第一和第三四分位数)都被r视为潜在异常值。箱线图中的最小值和最大值表示为没有这些可疑异常值。在同一个图上看到所有这些信息有助于对数据的分散和位置有一个良好的初步了解。在绘制数据的箱线图之前，请参见下图，该图解释了箱线图上的信息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/5112090fcec2c1bddc7d1b0c24de07cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*c9Wu-yqa5V8ZYST8.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">详细箱线图。资料来源:加州大学卢万分校LFSAB1105</p></figure><p id="ebe0" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">现在我们的数据集有一个例子:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="a44f" class="nx la it ns b gy ny nz l oa ob">boxplot(dat$Sepal.Length)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/0005310ef091e701f07f845b01575b04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wNs2-7INEFHYZniK.png"/></div></div></figure><p id="eabc" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">为了比较和对比两个或更多组的分布情况，并排显示的箱线图提供的信息甚至更多。例如，我们比较不同物种的萼片长度:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="06a1" class="nx la it ns b gy ny nz l oa ob">boxplot(dat$Sepal.Length ~ dat$Species)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/6dd33a49062a8c3247079738dda019d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Gs1_qJZuCmhos6_T.png"/></div></div></figure><p id="81af" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在<code class="fe np nq nr ns b">{ggplot2}</code>:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="7f79" class="nx la it ns b gy ny nz l oa ob">ggplot(dat) +<br/>  aes(x = Species, y = Sepal.Length) +<br/>  geom_boxplot()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/b9690cace62064eba9f9ca441a25eb52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pKQY7uEJAdQMuzaH.png"/></div></div></figure><h1 id="84e2" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">点图</h1><p id="0416" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">点状图或多或少类似于箱线图，只是观察值以点表示，并且图上没有汇总统计数据:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="f378" class="nx la it ns b gy ny nz l oa ob">library(lattice)</span><span id="afc1" class="nx la it ns b gy oc nz l oa ob">dotplot(dat$Sepal.Length ~ dat$Species)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/fcfb55963a4352d4757bf92313d56be9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3fRfSX53BoKb5dTl.png"/></div></div></figure><h1 id="a5a9" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">散点图</h1><p id="b423" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">散点图允许检查两个定量变量之间是否有潜在的联系。出于这个原因，散点图经常被用来可视化两个变量之间的潜在关联<a class="ae ky" href="https://www.statsandr.com/blog/correlation-coefficient-and-correlation-test-in-r/" rel="noopener ugc nofollow" target="_blank">。例如，当绘制萼片长度和花瓣长度的散点图时:</a></p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="8187" class="nx la it ns b gy ny nz l oa ob">plot(dat$Sepal.Length, dat$Petal.Length)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/41365e3d73201b8298fb2a2ea3c3bef8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*euPgcjx8GFOnEP2V.png"/></div></div></figure><p id="da9f" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">这两个变量之间似乎有正相关。</p><p id="1e6a" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在<code class="fe np nq nr ns b">{ggplot2}</code>中:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="c418" class="nx la it ns b gy ny nz l oa ob">ggplot(dat) +<br/>  aes(x = Sepal.Length, y = Petal.Length) +<br/>  geom_point()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/50573a13ca1879cc84adcd6a7f4db215.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qfSg7C6V7bZO4yKR.png"/></div></div></figure><p id="5dc5" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">作为箱线图，散点图在根据因子区分点时提供的信息甚至更多，在这种情况下，物种:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="0412" class="nx la it ns b gy ny nz l oa ob">ggplot(dat) +<br/>  aes(x = Sepal.Length, y = Petal.Length, colour = Species) +<br/>  geom_point() +<br/>  scale_color_hue()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/e55de1a141b98640629330ed8375517c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*M78d3LoqtenLsbd7.png"/></div></div></figure><h1 id="65a5" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">QQ图</h1><h1 id="268b" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">对于单个变量</h1><p id="72a5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了检查变量的正态性假设(正态性是指数据遵循正态分布，也称为高斯分布)，我们通常使用直方图和/或QQ图。<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-in-r/#fn1" rel="noopener ugc nofollow" target="_blank"> 1 </a>如果您需要更新相关内容，请参阅讨论<a class="ae ky" href="https://www.statsandr.com/blog/do-my-data-follow-a-normal-distribution-a-note-on-the-most-widely-used-distribution-and-how-to-test-for-normality-in-r/" rel="noopener ugc nofollow" target="_blank">正态分布以及如何评估R </a>中的正态假设的文章。直方图前面已经介绍过了，下面是如何绘制QQ图:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="bb33" class="nx la it ns b gy ny nz l oa ob"># Draw points on the qq-plot:<br/>qqnorm(dat$Sepal.Length)<br/># Draw the reference line:<br/>qqline(dat$Sepal.Length)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/77a3cc4d87226057b86589827f33445d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3SINSXSfzPowpG_r.png"/></div></div></figure><p id="cce2" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">或者使用<code class="fe np nq nr ns b">{car}</code>包中的<code class="fe np nq nr ns b">qqPlot()</code>函数绘制带置信带的QQ图:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="948c" class="nx la it ns b gy ny nz l oa ob">library(car) # package must be installed first<br/>qqPlot(dat$Sepal.Length)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/e6f6ed12a479119721b110d29098454d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XTjR9uLrNvsvwfPx.png"/></div></div></figure><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="9666" class="nx la it ns b gy ny nz l oa ob">## [1] 132 118</span></pre><p id="39f7" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">如果点靠近参考线(有时称为亨利线)并在置信带内，则可以认为满足正态性假设。点和参考线之间的偏差越大，并且它们越位于置信带之外，满足正态条件的可能性就越小。变量<code class="fe np nq nr ns b">Sepal.Length</code>似乎不遵循正态分布，因为有几个点位于置信带之外。当面对非正态分布时，第一步通常是对数据应用对数变换，并重新检查经过对数变换的数据是否正态分布。应用对数变换可以通过<code class="fe np nq nr ns b">log()</code>功能完成。</p><p id="1184" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在<code class="fe np nq nr ns b">{ggpubr}</code>:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="e883" class="nx la it ns b gy ny nz l oa ob">library(ggpubr)<br/>ggqqplot(dat$Sepal.Length)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/9d8fcbef34cbd8945f6b3f6d75a29276.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gY5nT2hUEL6LGfpZ.png"/></div></div></figure><h1 id="99d3" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">按组</h1><p id="132a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">对于一些统计检验，所有组都需要正态假设。一种解决方案是通过手动将数据集分成不同的组来为每个组绘制QQ图，然后为每个数据子集绘制QQ图(使用上面所示的方法)。另一个(更简单的)解决方案是用<code class="fe np nq nr ns b">{car}</code>包中函数<code class="fe np nq nr ns b">qqPlot()</code>中的参数<code class="fe np nq nr ns b">groups =</code>为每个组自动绘制一个QQ图:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="444f" class="nx la it ns b gy ny nz l oa ob">qqPlot(dat$Sepal.Length, groups = dat$size)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/69f60150f5696d2cf3ff8684ed9ae4c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mzeytyLLRW3teOCi.png"/></div></div></figure><p id="dd51" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在<code class="fe np nq nr ns b">{ggplot2}</code>中:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="c245" class="nx la it ns b gy ny nz l oa ob">qplot(<br/>  sample = Sepal.Length, data = dat,<br/>  col = size, shape = size<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/0472e22d32ff8197a8da1c5b51018249.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*z4auLf3voOHeUGey.png"/></div></div></figure><p id="3827" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">也可以仅通过形状或颜色来区分组。为此，删除上述<code class="fe np nq nr ns b">qplot()</code>函数中的参数<code class="fe np nq nr ns b">col</code>或<code class="fe np nq nr ns b">shape</code>之一。</p><h1 id="e4a5" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">密度图</h1><p id="7fdd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">密度图是直方图的平滑版本，用于相同的概念，即表示数值变量的分布。函数<code class="fe np nq nr ns b">plot()</code>和<code class="fe np nq nr ns b">density()</code>一起用于绘制密度图:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="a8fa" class="nx la it ns b gy ny nz l oa ob">plot(density(dat$Sepal.Length))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/1f4919ab7ae98b4a379dbde268616eba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_AKlphLX8sYCooe8.png"/></div></div></figure><p id="c14e" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在<code class="fe np nq nr ns b">{ggplot2}</code>中:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="8a53" class="nx la it ns b gy ny nz l oa ob">ggplot(dat) +<br/>  aes(x = Sepal.Length) +<br/>  geom_density()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/f6096140af0f876cacc5df497f49a673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Oowpx1eSefjuHqKj.png"/></div></div></figure><h1 id="b108" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相关图</h1><p id="aed3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最后一种描述图是相关图，也称为相关图。这种类型的图表比上面给出的图表更复杂，因此将在另一篇文章中详细介绍。参见<a class="ae ky" href="https://www.statsandr.com/blog/correlogram-in-r-how-to-highlight-the-most-correlated-variables-in-a-dataset" rel="noopener ugc nofollow" target="_blank">如何绘制相关图以突出显示数据集中最相关的变量</a>。</p><h1 id="1424" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">高级描述统计学</h1><p id="70fb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们讨论了计算最常见和最基本的描述性统计数据的主要函数。然而，r中有更多的函数和包来执行更高级的描述性统计。在本节中，我将介绍其中一些函数和包在我们的数据集上的应用。</p><h1 id="d455" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><code class="fe np nq nr ns b">{summarytools}</code>套餐</h1><p id="03d2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我在R语言项目中经常使用的一个描述性统计软件包是<code class="fe np nq nr ns b"><a class="ae ky" href="https://cran.r-project.org/web/packages/summarytools/index.html" rel="noopener ugc nofollow" target="_blank">{summarytools}</a></code>软件包。该包围绕4个功能展开:</p><ol class=""><li id="f92e" class="nb nc it lt b lu mw lx mx ma nd me ne mi nf mm ng nh ni nj bi translated"><code class="fe np nq nr ns b">freq()</code>对于频率表</li><li id="b4c4" class="nb nc it lt b lu nk lx nl ma nm me nn mi no mm ng nh ni nj bi translated"><code class="fe np nq nr ns b">ctable()</code>用于交叉制表</li><li id="b183" class="nb nc it lt b lu nk lx nl ma nm me nn mi no mm ng nh ni nj bi translated"><code class="fe np nq nr ns b">descr()</code>用于描述性统计</li><li id="54d5" class="nb nc it lt b lu nk lx nl ma nm me nn mi no mm ng nh ni nj bi translated"><code class="fe np nq nr ns b">dfSummary()</code>对于数据帧摘要</li></ol><p id="f1a3" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">对于大多数描述性分析来说，这4个功能的组合通常已经足够了。此外，这个包在构建时考虑到了<a class="ae ky" href="https://www.statsandr.com/blog/getting-started-in-r-markdown/" rel="noopener ugc nofollow" target="_blank"> R Markdown </a>，这意味着输出在HTML报告中表现良好。对于非英语使用者，内置了法语、葡萄牙语、西班牙语、俄语和土耳其语翻译。</p><p id="7d96" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在接下来的几节中，我将分别阐述这四个函数。随后的输出在R Markdown报告中显示得更好，但在本文中，我将自己限制在原始输出上，因为目标是展示函数如何工作，而不是如何使它们呈现得更好。如果您想在R Markdown中以漂亮的方式打印输出，请参见包装的<a class="ae ky" href="https://cran.r-project.org/web/packages/summarytools/vignettes/Introduction.html" rel="noopener ugc nofollow" target="_blank">插图</a>中的设置设置。<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-in-r/#fn2" rel="noopener ugc nofollow" target="_blank"> 2 </a></p><h1 id="d6b1" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">带<code class="fe np nq nr ns b">freq()</code>的频率表</h1><p id="4e50" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><code class="fe np nq nr ns b">freq()</code>功能生成频率表，其中包含频率、比例以及缺失数据信息。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="9c5a" class="nx la it ns b gy ny nz l oa ob">library(summarytools)<br/>freq(dat$Species)</span><span id="e014" class="nx la it ns b gy oc nz l oa ob">## Frequencies  <br/>## dat$Species  <br/>## Type: Factor  <br/>## <br/>##                    Freq   % Valid   % Valid Cum.   % Total   % Total Cum.<br/>## ---------------- ------ --------- -------------- --------- --------------<br/>##           setosa     50     33.33          33.33     33.33          33.33<br/>##       versicolor     50     33.33          66.67     33.33          66.67<br/>##        virginica     50     33.33         100.00     33.33         100.00<br/>##             &lt;NA&gt;      0                               0.00         100.00<br/>##            Total    150    100.00         100.00    100.00         100.00</span></pre><p id="f881" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">如果不需要关于缺失值的信息，添加<code class="fe np nq nr ns b">report.nas = FALSE</code>参数:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="b15f" class="nx la it ns b gy ny nz l oa ob">freq(dat$Species,<br/>     report.nas = FALSE) # remove NA information</span><span id="3ccd" class="nx la it ns b gy oc nz l oa ob">## Frequencies  <br/>## dat$Species  <br/>## Type: Factor  <br/>## <br/>##                    Freq        %   % Cum.<br/>## ---------------- ------ -------- --------<br/>##           setosa     50    33.33    33.33<br/>##       versicolor     50    33.33    66.67<br/>##        virginica     50    33.33   100.00<br/>##            Total    150   100.00   100.00</span></pre><p id="1247" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">对于只有计数和比例的极简输出:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="1b14" class="nx la it ns b gy ny nz l oa ob">freq(dat$Species,<br/>     report.nas = FALSE, # remove NA information<br/>     totals = FALSE, # remove totals<br/>     cumul = FALSE, # remove cumuls<br/>     headings = FALSE) # remove headings</span><span id="e826" class="nx la it ns b gy oc nz l oa ob">## <br/>##                    Freq       %<br/>## ---------------- ------ -------<br/>##           setosa     50   33.33<br/>##       versicolor     50   33.33<br/>##        virginica     50   33.33</span></pre><h1 id="782b" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">与<code class="fe np nq nr ns b">ctable()</code>交叉列表</h1><p id="dc6c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><code class="fe np nq nr ns b">ctable()</code>函数为分类变量对生成交叉表(也称为列联表)。使用数据集中的两个分类变量:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="ecdc" class="nx la it ns b gy ny nz l oa ob">ctable(x = dat$Species,<br/>       y = dat$size)</span><span id="e0be" class="nx la it ns b gy oc nz l oa ob">## Cross-Tabulation, Row Proportions  <br/>## Species * size  <br/>## Data Frame: dat  <br/>## <br/>## ------------ ------ ------------ ------------ --------------<br/>##                size          big        small          Total<br/>##      Species                                                <br/>##       setosa           1 ( 2.0%)   49 (98.0%)    50 (100.0%)<br/>##   versicolor          29 (58.0%)   21 (42.0%)    50 (100.0%)<br/>##    virginica          47 (94.0%)    3 ( 6.0%)    50 (100.0%)<br/>##        Total          77 (51.3%)   73 (48.7%)   150 (100.0%)<br/>## ------------ ------ ------------ ------------ --------------</span></pre><p id="4c82" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">默认情况下显示行比例。要显示列或总比例，分别添加<code class="fe np nq nr ns b">prop = "c"</code>或<code class="fe np nq nr ns b">prop = "t"</code>参数:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="3a30" class="nx la it ns b gy ny nz l oa ob">ctable(x = dat$Species,<br/>       y = dat$size,<br/>       prop = "t") # total proportions</span><span id="7e82" class="nx la it ns b gy oc nz l oa ob">## Cross-Tabulation, Total Proportions  <br/>## Species * size  <br/>## Data Frame: dat  <br/>## <br/>## ------------ ------ ------------ ------------ --------------<br/>##                size          big        small          Total<br/>##      Species                                                <br/>##       setosa           1 ( 0.7%)   49 (32.7%)    50 ( 33.3%)<br/>##   versicolor          29 (19.3%)   21 (14.0%)    50 ( 33.3%)<br/>##    virginica          47 (31.3%)    3 ( 2.0%)    50 ( 33.3%)<br/>##        Total          77 (51.3%)   73 (48.7%)   150 (100.0%)<br/>## ------------ ------ ------------ ------------ --------------</span></pre><p id="8fda" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">要完全删除比例，请添加参数<code class="fe np nq nr ns b">prop = "n"</code>。此外，为了只显示最低限度，添加<code class="fe np nq nr ns b">totals = FALSE</code>和<code class="fe np nq nr ns b">headings = FALSE</code>参数:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="6dd1" class="nx la it ns b gy ny nz l oa ob">ctable(x = dat$Species,<br/>       y = dat$size,<br/>       prop = "n", # remove proportions<br/>       totals = FALSE, # remove totals<br/>       headings = FALSE) # remove headings</span><span id="eeff" class="nx la it ns b gy oc nz l oa ob">## <br/>## ------------ ------ ----- -------<br/>##                size   big   small<br/>##      Species                     <br/>##       setosa            1      49<br/>##   versicolor           29      21<br/>##    virginica           47       3<br/>## ------------ ------ ----- -------</span></pre><p id="597a" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">这相当于在<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-in-r/#contingency-table" rel="noopener ugc nofollow" target="_blank">列联表</a>中执行的<code class="fe np nq nr ns b">table(dat$Species, dat$size)</code>和<code class="fe np nq nr ns b">xtabs(~ dat$Species + dat$size)</code>。</p><p id="a3fa" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">为了显示<a class="ae ky" href="https://www.statsandr.com/blog/chi-square-test-of-independence-in-r/" rel="noopener ugc nofollow" target="_blank">卡方独立性检验</a>的结果，添加<code class="fe np nq nr ns b">chisq = TRUE</code>参数:<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-in-r/#fn3" rel="noopener ugc nofollow" target="_blank"> 3 </a></p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="7419" class="nx la it ns b gy ny nz l oa ob">ctable(x = dat$Species,<br/>       y = dat$size,<br/>       chisq = TRUE, # display results of Chi-square test of independence<br/>       headings = FALSE) # remove headings</span><span id="9eca" class="nx la it ns b gy oc nz l oa ob">## <br/>## ------------ ------ ------------ ------------ --------------<br/>##                size          big        small          Total<br/>##      Species                                                <br/>##       setosa           1 ( 2.0%)   49 (98.0%)    50 (100.0%)<br/>##   versicolor          29 (58.0%)   21 (42.0%)    50 (100.0%)<br/>##    virginica          47 (94.0%)    3 ( 6.0%)    50 (100.0%)<br/>##        Total          77 (51.3%)   73 (48.7%)   150 (100.0%)<br/>## ------------ ------ ------------ ------------ --------------<br/>## <br/>## ----------------------------<br/>##  Chi.squared   df   p.value <br/>## ------------- ---- ---------<br/>##     86.03      2       0    <br/>## ----------------------------</span></pre><p id="5c76" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">p值接近于0，所以我们拒绝两个变量之间独立性的零假设。在我们的上下文中，这表明物种和大小是相互依赖的，并且这两个变量之间存在显著的关系。</p><p id="bf83" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">由于结合了<code class="fe np nq nr ns b">stby()</code>和<code class="fe np nq nr ns b">ctable()</code>函数，还可以为第三分类变量的每个级别创建一个列联表。我们的数据集中只有2个分类变量，所以让我们使用有4个分类变量(即性别、年龄组、吸烟者、患病者)的<code class="fe np nq nr ns b">tabacco</code>数据集。对于这个例子，我们想要创建一个变量<code class="fe np nq nr ns b">smoker</code>和<code class="fe np nq nr ns b">diseased</code>的列联表，并且对于每个<code class="fe np nq nr ns b">gender</code>:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="db11" class="nx la it ns b gy ny nz l oa ob">stby(list(x = tobacco$smoker, # smoker and diseased<br/>          y = tobacco$diseased), <br/>     INDICES = tobacco$gender, # for each gender<br/>     FUN = ctable) # ctable for cross-tabulation</span><span id="8dcb" class="nx la it ns b gy oc nz l oa ob">## Cross-Tabulation, Row Proportions  <br/>## smoker * diseased  <br/>## Data Frame: tobacco  <br/>## Group: gender = F  <br/>## <br/>## -------- ---------- ------------- ------------- --------------<br/>##            diseased           Yes            No          Total<br/>##   smoker                                                      <br/>##      Yes               62 (42.2%)    85 (57.8%)   147 (100.0%)<br/>##       No               49 (14.3%)   293 (85.7%)   342 (100.0%)<br/>##    Total              111 (22.7%)   378 (77.3%)   489 (100.0%)<br/>## -------- ---------- ------------- ------------- --------------<br/>## <br/>## Group: gender = M  <br/>## <br/>## -------- ---------- ------------- ------------- --------------<br/>##            diseased           Yes            No          Total<br/>##   smoker                                                      <br/>##      Yes               63 (44.1%)    80 (55.9%)   143 (100.0%)<br/>##       No               47 (13.6%)   299 (86.4%)   346 (100.0%)<br/>##    Total              110 (22.5%)   379 (77.5%)   489 (100.0%)<br/>## -------- ---------- ------------- ------------- --------------</span></pre><h1 id="8cac" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">用<code class="fe np nq nr ns b">descr()</code>描述性统计</h1><p id="748e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><code class="fe np nq nr ns b">descr()</code>函数生成描述性(单变量)统计数据，其中包含常见的集中趋势统计数据和离差测量值。(如果您需要提醒，请参见<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-by-hand/#location-versus-dispersion-measures" rel="noopener ugc nofollow" target="_blank">集中趋势和分散程度之间的差异</a>。)</p><p id="cc72" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">该函数的一个主要优点是它接受单个矢量和数据帧。如果提供了数据框，则会忽略所有非数字列，因此您不必在运行函数之前亲自移除它们。</p><p id="654f" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><code class="fe np nq nr ns b">descr()</code>功能允许显示:</p><ul class=""><li id="a16b" class="nb nc it lt b lu mw lx mx ma nd me ne mi nf mm oe nh ni nj bi translated">只有一个你选择的描述性统计的选择，以平均值和标准差的<code class="fe np nq nr ns b">stats = c("mean", "sd")</code>参数为例</li><li id="1fc3" class="nb nc it lt b lu nk lx nl ma nm me nn mi no mm oe nh ni nj bi translated">使用<code class="fe np nq nr ns b">stats = "fivenum"</code>的最小值、第一个四分位数、中间值、第三个四分位数和最大值</li><li id="459e" class="nb nc it lt b lu nk lx nl ma nm me nn mi no mm oe nh ni nj bi translated">最常见的描述性统计(均值、标准差、最小值、中值、最大值、有效观察值的数量和百分比)，用<code class="fe np nq nr ns b">stats = "common"</code>:</li></ul><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="f896" class="nx la it ns b gy ny nz l oa ob">descr(dat,<br/>      headings = FALSE, # remove headings<br/>      stats = "common") # most common descriptive statistics</span><span id="4621" class="nx la it ns b gy oc nz l oa ob">## <br/>##                   Petal.Length   Petal.Width   Sepal.Length   Sepal.Width<br/>## --------------- -------------- ------------- -------------- -------------<br/>##            Mean           3.76          1.20           5.84          3.06<br/>##         Std.Dev           1.77          0.76           0.83          0.44<br/>##             Min           1.00          0.10           4.30          2.00<br/>##          Median           4.35          1.30           5.80          3.00<br/>##             Max           6.90          2.50           7.90          4.40<br/>##         N.Valid         150.00        150.00         150.00        150.00<br/>##       Pct.Valid         100.00        100.00         100.00        100.00</span></pre><p id="8058" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><em class="od">提示</em>:如果你有大量的变量，添加<code class="fe np nq nr ns b">transpose = TRUE</code>参数以获得更好的显示效果。</p><p id="0265" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">为了按组计算这些描述性统计数据(例如，我们数据集中的<code class="fe np nq nr ns b">Species</code>)，请将<code class="fe np nq nr ns b">descr()</code>函数与<code class="fe np nq nr ns b">stby()</code>函数结合使用:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="1f95" class="nx la it ns b gy ny nz l oa ob">stby(data = dat,<br/>     INDICES = dat$Species, # by Species<br/>     FUN = descr, # descriptive statistics<br/>     stats = "common") # most common descr. stats</span><span id="a7b4" class="nx la it ns b gy oc nz l oa ob">## Descriptive Statistics  <br/>## dat  <br/>## Group: Species = setosa  <br/>## N: 50  <br/>## <br/>##                   Petal.Length   Petal.Width   Sepal.Length   Sepal.Width<br/>## --------------- -------------- ------------- -------------- -------------<br/>##            Mean           1.46          0.25           5.01          3.43<br/>##         Std.Dev           0.17          0.11           0.35          0.38<br/>##             Min           1.00          0.10           4.30          2.30<br/>##          Median           1.50          0.20           5.00          3.40<br/>##             Max           1.90          0.60           5.80          4.40<br/>##         N.Valid          50.00         50.00          50.00         50.00<br/>##       Pct.Valid         100.00        100.00         100.00        100.00<br/>## <br/>## Group: Species = versicolor  <br/>## N: 50  <br/>## <br/>##                   Petal.Length   Petal.Width   Sepal.Length   Sepal.Width<br/>## --------------- -------------- ------------- -------------- -------------<br/>##            Mean           4.26          1.33           5.94          2.77<br/>##         Std.Dev           0.47          0.20           0.52          0.31<br/>##             Min           3.00          1.00           4.90          2.00<br/>##          Median           4.35          1.30           5.90          2.80<br/>##             Max           5.10          1.80           7.00          3.40<br/>##         N.Valid          50.00         50.00          50.00         50.00<br/>##       Pct.Valid         100.00        100.00         100.00        100.00<br/>## <br/>## Group: Species = virginica  <br/>## N: 50  <br/>## <br/>##                   Petal.Length   Petal.Width   Sepal.Length   Sepal.Width<br/>## --------------- -------------- ------------- -------------- -------------<br/>##            Mean           5.55          2.03           6.59          2.97<br/>##         Std.Dev           0.55          0.27           0.64          0.32<br/>##             Min           4.50          1.40           4.90          2.20<br/>##          Median           5.55          2.00           6.50          3.00<br/>##             Max           6.90          2.50           7.90          3.80<br/>##         N.Valid          50.00         50.00          50.00         50.00<br/>##       Pct.Valid         100.00        100.00         100.00        100.00</span></pre><h1 id="7369" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">使用<code class="fe np nq nr ns b">dfSummary()</code>的数据帧摘要</h1><p id="f8b9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><code class="fe np nq nr ns b">dfSummary()</code>函数生成一个汇总表，其中包含数据集中所有变量的统计数据、频率和图表。显示的信息取决于变量的类型(字符、因子、数字、日期),也根据不同值的数量而变化。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="41a1" class="nx la it ns b gy ny nz l oa ob">dfSummary(dat)</span><span id="1ac6" class="nx la it ns b gy oc nz l oa ob">## Data Frame Summary  <br/>## dat  <br/>## Dimensions: 150 x 6  <br/>## Duplicates: 1  <br/>## <br/>## ----------------------------------------------------------------------------------------------------------------------<br/>## No   Variable        Stats / Values           Freqs (% of Valid)   Graph                            Valid    Missing  <br/>## ---- --------------- ------------------------ -------------------- -------------------------------- -------- ---------<br/>## 1    Sepal.Length    Mean (sd) : 5.8 (0.8)    35 distinct values     . . : :                        150      0        <br/>##      [numeric]       min &lt; med &lt; max:                                : : : :                        (100%)   (0%)     <br/>##                      4.3 &lt; 5.8 &lt; 7.9                                 : : : : :                                        <br/>##                      IQR (CV) : 1.3 (0.1)                            : : : : :                                        <br/>##                                                                    : : : : : : : :                                    <br/>## <br/>## 2    Sepal.Width     Mean (sd) : 3.1 (0.4)    23 distinct values           :                        150      0        <br/>##      [numeric]       min &lt; med &lt; max:                                      :                        (100%)   (0%)     <br/>##                      2 &lt; 3 &lt; 4.4                                         . :                                          <br/>##                      IQR (CV) : 0.5 (0.1)                              : : : :                                        <br/>##                                                                    . . : : : : : :                                    <br/>## <br/>## 3    Petal.Length    Mean (sd) : 3.8 (1.8)    43 distinct values   :                                150      0        <br/>##      [numeric]       min &lt; med &lt; max:                              :         . :                    (100%)   (0%)     <br/>##                      1 &lt; 4.3 &lt; 6.9                                 :         : : .                                    <br/>##                      IQR (CV) : 3.5 (0.5)                          : :       : : : .                                  <br/>##                                                                    : :   . : : : : : .                                <br/>## <br/>## 4    Petal.Width     Mean (sd) : 1.2 (0.8)    22 distinct values   :                                150      0        <br/>##      [numeric]       min &lt; med &lt; max:                              :                                (100%)   (0%)     <br/>##                      0.1 &lt; 1.3 &lt; 2.5                               :       . .   :                                    <br/>##                      IQR (CV) : 1.5 (0.6)                          :       : :   :   .                                <br/>##                                                                    : :   : : : . : : :                                <br/>## <br/>## 5    Species         1. setosa                50 (33.3%)           IIIIII                           150      0        <br/>##      [factor]        2. versicolor            50 (33.3%)           IIIIII                           (100%)   (0%)     <br/>##                      3. virginica             50 (33.3%)           IIIIII                                             <br/>## <br/>## 6    size            1. big                   77 (51.3%)           IIIIIIIIII                       150      0        <br/>##      [character]     2. small                 73 (48.7%)           IIIIIIIII                        (100%)   (0%)     <br/>## ----------------------------------------------------------------------------------------------------------------------</span></pre><h1 id="2445" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><code class="fe np nq nr ns b">describeBy()</code>来自<code class="fe np nq nr ns b">{psych}</code>包</h1><p id="5f3b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><code class="fe np nq nr ns b">{psych}</code>包中的<code class="fe np nq nr ns b">describeBy()</code>函数允许按分组变量报告多个汇总统计数据(即有效病例数、平均值、标准偏差、中值、修整平均值、mad:中值绝对偏差(与中值的偏差)、最小值、最大值、范围、偏斜度和峰度)。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="76be" class="nx la it ns b gy ny nz l oa ob">library(psych)<br/>describeBy(dat,<br/>           dat$Species) # grouping variable</span><span id="3296" class="nx la it ns b gy oc nz l oa ob">## <br/>##  Descriptive statistics by group <br/>## group: setosa<br/>##              vars  n mean   sd median trimmed  mad min  max range skew kurtosis<br/>## Sepal.Length    1 50 5.01 0.35    5.0    5.00 0.30 4.3  5.8   1.5 0.11    -0.45<br/>## Sepal.Width     2 50 3.43 0.38    3.4    3.42 0.37 2.3  4.4   2.1 0.04     0.60<br/>## Petal.Length    3 50 1.46 0.17    1.5    1.46 0.15 1.0  1.9   0.9 0.10     0.65<br/>## Petal.Width     4 50 0.25 0.11    0.2    0.24 0.00 0.1  0.6   0.5 1.18     1.26<br/>## Species*        5 50 1.00 0.00    1.0    1.00 0.00 1.0  1.0   0.0  NaN      NaN<br/>## size*           6 50  NaN   NA     NA     NaN   NA Inf -Inf  -Inf   NA       NA<br/>##                se<br/>## Sepal.Length 0.05<br/>## Sepal.Width  0.05<br/>## Petal.Length 0.02<br/>## Petal.Width  0.01<br/>## Species*     0.00<br/>## size*          NA<br/>## ------------------------------------------------------------ <br/>## group: versicolor<br/>##              vars  n mean   sd median trimmed  mad min  max range  skew<br/>## Sepal.Length    1 50 5.94 0.52   5.90    5.94 0.52 4.9  7.0   2.1  0.10<br/>## Sepal.Width     2 50 2.77 0.31   2.80    2.78 0.30 2.0  3.4   1.4 -0.34<br/>## Petal.Length    3 50 4.26 0.47   4.35    4.29 0.52 3.0  5.1   2.1 -0.57<br/>## Petal.Width     4 50 1.33 0.20   1.30    1.32 0.22 1.0  1.8   0.8 -0.03<br/>## Species*        5 50 2.00 0.00   2.00    2.00 0.00 2.0  2.0   0.0   NaN<br/>## size*           6 50  NaN   NA     NA     NaN   NA Inf -Inf  -Inf    NA<br/>##              kurtosis   se<br/>## Sepal.Length    -0.69 0.07<br/>## Sepal.Width     -0.55 0.04<br/>## Petal.Length    -0.19 0.07<br/>## Petal.Width     -0.59 0.03<br/>## Species*          NaN 0.00<br/>## size*              NA   NA<br/>## ------------------------------------------------------------ <br/>## group: virginica<br/>##              vars  n mean   sd median trimmed  mad min  max range  skew<br/>## Sepal.Length    1 50 6.59 0.64   6.50    6.57 0.59 4.9  7.9   3.0  0.11<br/>## Sepal.Width     2 50 2.97 0.32   3.00    2.96 0.30 2.2  3.8   1.6  0.34<br/>## Petal.Length    3 50 5.55 0.55   5.55    5.51 0.67 4.5  6.9   2.4  0.52<br/>## Petal.Width     4 50 2.03 0.27   2.00    2.03 0.30 1.4  2.5   1.1 -0.12<br/>## Species*        5 50 3.00 0.00   3.00    3.00 0.00 3.0  3.0   0.0   NaN<br/>## size*           6 50  NaN   NA     NA     NaN   NA Inf -Inf  -Inf    NA<br/>##              kurtosis   se<br/>## Sepal.Length    -0.20 0.09<br/>## Sepal.Width      0.38 0.05<br/>## Petal.Length    -0.37 0.08<br/>## Petal.Width     -0.75 0.04<br/>## Species*          NaN 0.00<br/>## size*              NA   NA</span></pre><h1 id="dbb5" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><code class="fe np nq nr ns b">aggregate()</code>功能</h1><p id="9f80" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><code class="fe np nq nr ns b">aggregate()</code>函数允许将数据分成子集，然后计算每个子集的汇总统计数据。例如，如果我们想通过<code class="fe np nq nr ns b">Species</code>和<code class="fe np nq nr ns b">Size</code>计算变量<code class="fe np nq nr ns b">Sepal.Length</code>和<code class="fe np nq nr ns b">Sepal.Width</code>的平均值:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="e4d2" class="nx la it ns b gy ny nz l oa ob">aggregate(cbind(Sepal.Length, Sepal.Width) ~ Species + size,<br/>          data = dat,<br/>          mean)</span><span id="a3fb" class="nx la it ns b gy oc nz l oa ob">##      Species  size Sepal.Length Sepal.Width<br/>## 1     setosa   big     5.800000    4.000000<br/>## 2 versicolor   big     6.282759    2.868966<br/>## 3  virginica   big     6.663830    2.997872<br/>## 4     setosa small     4.989796    3.416327<br/>## 5 versicolor small     5.457143    2.633333<br/>## 6  virginica small     5.400000    2.600000</span></pre><p id="3958" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">感谢阅读。我希望这篇文章能帮助你在r中做描述性统计。如果你想手工做同样的事情或理解这些统计代表什么，我邀请你阅读文章"<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-by-hand/" rel="noopener ugc nofollow" target="_blank">手工描述性统计</a>"。</p><p id="7963" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">和往常一样，如果您有与本文主题相关的问题或建议，请将其添加为评论，以便其他读者可以从讨论中受益。</p><p id="1660" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><strong class="lt iu">相关文章:</strong></p><ul class=""><li id="9570" class="nb nc it lt b lu mw lx mx ma nd me ne mi nf mm oe nh ni nj bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/an-efficient-way-to-install-and-load-r-packages/" rel="noopener ugc nofollow" target="_blank">安装和加载R包的有效方法</a></li><li id="3e94" class="nb nc it lt b lu nk lx nl ma nm me nn mi no mm oe nh ni nj bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/do-my-data-follow-a-normal-distribution-a-note-on-the-most-widely-used-distribution-and-how-to-test-for-normality-in-r/" rel="noopener ugc nofollow" target="_blank">我的数据符合正态分布吗？关于最广泛使用的分布以及如何检验R中的正态性的注释</a></li><li id="5a74" class="nb nc it lt b lu nk lx nl ma nm me nn mi no mm oe nh ni nj bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/fisher-s-exact-test-in-r-independence-test-for-a-small-sample/" rel="noopener ugc nofollow" target="_blank">R中的Fisher精确检验:小样本的独立性检验</a></li><li id="8885" class="nb nc it lt b lu nk lx nl ma nm me nn mi no mm oe nh ni nj bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/chi-square-test-of-independence-in-r/" rel="noopener ugc nofollow" target="_blank">R中独立性的卡方检验</a></li><li id="53be" class="nb nc it lt b lu nk lx nl ma nm me nn mi no mm oe nh ni nj bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/how-to-create-a-timeline-of-your-cv-in-r/" rel="noopener ugc nofollow" target="_blank">如何在简历中创建时间线</a></li></ul></div><div class="ab cl oh oi hx oj" role="separator"><span class="ok bw bk ol om on"/><span class="ok bw bk ol om on"/><span class="ok bw bk ol om"/></div><div class="im in io ip iq"><ol class=""><li id="4e29" class="nb nc it lt b lu mw lx mx ma nd me ne mi nf mm ng nh ni nj bi translated">正态性检验，如夏皮罗-维尔克或科尔莫戈罗夫-斯米尔诺夫检验，也可以用来检验数据是否遵循正态分布。然而，在实践中，正态性检验通常被认为过于保守，因为对于大样本量，与正态性的微小偏差都可能导致违反正态性条件。由于这个原因，通常情况下，正态性条件是基于视觉检查(直方图和QQ图)和形式检验(例如夏皮罗-维尔克检验)的组合来验证的。<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-in-r/#fnref1" rel="noopener ugc nofollow" target="_blank"> ↩ </a></li><li id="b3b5" class="nb nc it lt b lu nk lx nl ma nm me nn mi no mm ng nh ni nj bi translated">注意这个包需要<code class="fe np nq nr ns b">plain.ascii</code>和<code class="fe np nq nr ns b">style</code>参数。在我们的例子中，这些参数被添加到每个块的设置中，所以它们是不可见的。<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-in-r/#fnref2" rel="noopener ugc nofollow" target="_blank"> ↩ </a></li><li id="4f34" class="nb nc it lt b lu nk lx nl ma nm me nn mi no mm ng nh ni nj bi translated">注意，也可以计算比值比和风险比。关于这个问题的更多信息，请参见软件包的简介，因为这些比率超出了本文的范围。<a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-in-r/#fnref3" rel="noopener ugc nofollow" target="_blank"> ↩ </a></li></ol></div><div class="ab cl oh oi hx oj" role="separator"><span class="ok bw bk ol om on"/><span class="ok bw bk ol om on"/><span class="ok bw bk ol om"/></div><div class="im in io ip iq"><p id="34fa" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><em class="od">原载于2020年1月22日https://statsandr.com</em><em class="od"/><a class="ae ky" href="https://statsandr.com/blog/descriptive-statistics-in-r/" rel="noopener ugc nofollow" target="_blank"><em class="od">。</em></a></p></div></div>    
</body>
</html>