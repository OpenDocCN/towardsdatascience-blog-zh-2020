<html>
<head>
<title>Simple and fast Question Answering system using HuggingFace DistilBERT — single &amp; batch inference examples provided.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用HuggingFace DistilBERT的简单快速的问题回答系统——提供了单个和批量推理的例子。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/simple-and-fast-question-answering-system-using-huggingface-distilbert-single-batch-inference-bcf5a5749571?source=collection_archive---------22-----------------------#2020-05-08">https://towardsdatascience.com/simple-and-fast-question-answering-system-using-huggingface-distilbert-single-batch-inference-bcf5a5749571?source=collection_archive---------22-----------------------#2020-05-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/5ff3a7337af25ac0f142dd5c1c54ddfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_0F_GcFvE9IchCs10XV9kQ.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图片来自<a class="ae kf" href="https://pixabay.com/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>并由<a class="ae kf" href="https://chrome.google.com/webstore/detail/aiartist/odfcplkplkaoehpnclejafhhodpmjjmk" rel="noopener ugc nofollow" target="_blank"> AiArtist Chrome插件</a>风格化(由我构建)</p></figure><p id="0acd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">问题回答</strong>系统有很多用例，比如通过通读公司文件并找到完美答案来自动回复<strong class="ki iu">客户的查询</strong>。</p><p id="bb94" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇博文中，我们将看到如何使用<a class="ae kf" href="https://huggingface.co/transformers/index.html" rel="noopener ugc nofollow" target="_blank"><strong class="ki iu">hugging face transformers</strong></a>库中的<a class="ae kf" href="https://huggingface.co/transformers/model_doc/distilbert.html#distilbertforquestionanswering" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu"> DistilBERT </strong> </a>实现一个最先进的、超快的、轻量级的问答系统。</p><h2 id="e820" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">投入</h2><p id="cbe3" class="pw-post-body-paragraph kg kh it ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">输入将是一小段我们称之为<strong class="ki iu">上下文、</strong>和一个<strong class="ki iu">问题- </strong></p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="6383" class="le lf it mh b gy ml mm l mn mo"><strong class="mh iu">Context :<br/></strong>The US has passed the peak on new coronavirus cases, President Donald Trump said and predicted that some states would reopen this month.The US has over 637,000 confirmed Covid-19 cases and over 30,826 deaths, the highest for any country in the world.</span><span id="ee51" class="le lf it mh b gy mp mm l mn mo"><strong class="mh iu">Question:<br/></strong>What was President Donald Trump's prediction?</span></pre><h2 id="30a7" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">输出</h2><p id="30e1" class="pw-post-body-paragraph kg kh it ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">我们的<strong class="ki iu">问答</strong>系统的输出将是来自<strong class="ki iu">上下文</strong>段落的答案，如下所示—</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="1fc1" class="le lf it mh b gy ml mm l mn mo"><strong class="mh iu">Answer: <br/></strong>some states would reopen this month.</span></pre><h2 id="14c9" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">让我们开始吧:</h2><p id="5940" class="pw-post-body-paragraph kg kh it ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">首先，我们来看看如何回答一个<strong class="ki iu">单题</strong>如上图。然后，我们将看到如何利用<strong class="ki iu">批处理</strong>从上下文中一次回答<strong class="ki iu">多个问题</strong>。</p><p id="c7de" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">安装最新版本的<a class="ae kf" href="https://huggingface.co/transformers/" rel="noopener ugc nofollow" target="_blank">变形金刚</a>库-</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="def0" class="le lf it mh b gy ml mm l mn mo">pip install transformers==2.8.0<br/>pip install torch==1.4.0</span></pre><p id="5952" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">单项推断:</strong></p><p id="f01d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是用<strong class="ki iu"> DistilBERT </strong>进行单一推理的代码:</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="eac8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出将是:</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="28f8" class="le lf it mh b gy ml mm l mn mo"><strong class="mh iu">Question  </strong>What was President Donald Trump's prediction?</span><span id="60c8" class="le lf it mh b gy mp mm l mn mo"><strong class="mh iu">Answer Tokens:</strong><br/>['some', 'states', 'would', 're', '##open', 'this', 'month']</span><span id="61eb" class="le lf it mh b gy mp mm l mn mo"><strong class="mh iu">Answer </strong>:  some states would reopen this month</span></pre><h2 id="cf4c" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">批量推断:</h2><p id="886f" class="pw-post-body-paragraph kg kh it ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">现在让我们试着用批量推理做同样的事情，我们试着传递三个问题，并以<strong class="ki iu">批量</strong>的形式得到它们的答案</p><p id="b359" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">三个问题是-</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="d6a5" class="le lf it mh b gy ml mm l mn mo"><strong class="mh iu">1.</strong> What was President Donald Trump's prediction?<br/><strong class="mh iu">2. </strong>How many deaths have been reported from the virus?<br/><strong class="mh iu">3. </strong>How many cases have been reported in the United States?</span></pre><p id="1dee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是用DistilBERT进行批量推理的代码:</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="e2c7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出将会是—</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="ff32" class="le lf it mh b gy ml mm l mn mo"><strong class="mh iu">Context </strong>:  The US has passed the peak on new coronavirus cases, President Donald Trump said and predicted that some states would reopen this month.The US has over 637,000 confirmed Covid-19 cases and over 30,826 deaths, the highest for any country in the world.</span><span id="8c99" class="le lf it mh b gy mp mm l mn mo"><strong class="mh iu">Question</strong>:  What was President Donald Trump's prediction?<br/><strong class="mh iu">Answer</strong>:  some states would reopen this month</span><span id="5c9f" class="le lf it mh b gy mp mm l mn mo"><strong class="mh iu">Question</strong>:  How many deaths have been reported from the virus?<br/><strong class="mh iu">Answer</strong>:  30 , 826</span><span id="043a" class="le lf it mh b gy mp mm l mn mo"><strong class="mh iu">Question</strong>:  How many cases have been reported in the United States?<br/><strong class="mh iu">Answer</strong>:  over 637 , 000</span></pre><p id="dfd5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你对从<strong class="ki iu">上下文</strong>自动生成<strong class="ki iu">问题</strong>感兴趣，而不是对<strong class="ki iu">问题回答</strong>感兴趣，你可以在下面的链接中查看我的各种算法和开源代码-</p><ol class=""><li id="3b6f" class="ms mt it ki b kj kk kn ko kr mu kv mv kz mw ld mx my mz na bi translated"><a class="ae kf" href="https://medium.com/swlh/practical-ai-automatically-generate-true-or-false-questions-from-any-content-with-openai-gpt2-9081ffe4d4c9" rel="noopener">是非题生成</a></li><li id="b971" class="ms mt it ki b kj nb kn nc kr nd kv ne kz nf ld mx my mz na bi translated"><a class="ae kf" rel="noopener" target="_blank" href="/practical-ai-automatically-generate-multiple-choice-questions-mcqs-from-any-content-with-bert-2140d53a9bf5">选择题生成</a></li><li id="ec6d" class="ms mt it ki b kj nb kn nc kr nd kv ne kz nf ld mx my mz na bi translated"><a class="ae kf" href="https://medium.com/swlh/practical-ai-generate-english-pronoun-questions-from-any-story-using-neural-coreference-fe958ae1eb21" rel="noopener">为英语语言学习生成代词疑问句</a></li><li id="3811" class="ms mt it ki b kj nb kn nc kr nd kv ne kz nf ld mx my mz na bi translated"><a class="ae kf" href="https://becominghuman.ai/practical-ai-using-pretrained-bert-to-generate-grammar-and-vocabulary-multiple-choice-questions-d92e4fbeeeaa" rel="noopener ugc nofollow" target="_blank">语法MCQ一代</a></li></ol><p id="07a2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">编码快乐！</p><h1 id="5398" class="ng lf it bd lg nh ni nj lj nk nl nm lm nn no np lp nq nr ns ls nt nu nv lv nw bi translated">使用自然语言处理的问题生成——教程</h1><p id="a8d7" class="pw-post-body-paragraph kg kh it ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">我推出了一个非常有趣的Udemy课程，名为“使用NLP生成问题”,扩展了这篇博文中讨论的一些技术。如果你想看一看，这里是<a class="ae kf" href="https://www.udemy.com/course/question-generation-using-natural-language-processing/?referralCode=C8EA86A28F5398CBF763" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><p id="944d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">祝NLP探索愉快，如果你喜欢它的内容，请随时在Twitter上找到我。</p></div></div>    
</body>
</html>