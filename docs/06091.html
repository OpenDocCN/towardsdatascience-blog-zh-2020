<html>
<head>
<title>Preprocessing your images for machine learning (image recognition)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为机器学习(图像识别)预处理图像</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/preprocessing-your-images-for-machine-learning-image-recognition-277fb7aad5b2?source=collection_archive---------61-----------------------#2020-05-17">https://towardsdatascience.com/preprocessing-your-images-for-machine-learning-image-recognition-277fb7aad5b2?source=collection_archive---------61-----------------------#2020-05-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/988aa555b814176744b94849896fa8d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rd2RZLZhRPTml3nz"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">照片由Jye B在Unsplash上拍摄—【https://unsplash.com/photos/RuTMP0iI_ek T4】</p></figure><p id="252d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我在JKU学习期间，有一个为机器学习项目预处理图像的任务。在学习算法中使用原始图像之前，有必要对其进行清理，因此我们创建了一个预处理函数。我认为这对其他人也很有用，所以我想分享一点我的方法。该文件是以一种易于理解的方式构建的，并且应该具有类似教程的效果。</p><h1 id="2de7" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">目录</h1><ul class=""><li id="1a67" class="mc md it ki b kj me kn mf kr mg kv mh kz mi ld mj mk ml mm bi translated"><a class="ae kf" href="https://github.com/Createdd/Writing/blob/master/2020/articles/preProcessingImages.md#the-pre-processing-errors" rel="noopener ugc nofollow" target="_blank">预处理错误</a></li><li id="327c" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated"><a class="ae kf" href="https://github.com/Createdd/Writing/blob/master/2020/articles/preProcessingImages.md#the-processing-file" rel="noopener ugc nofollow" target="_blank">加工文件</a></li><li id="421e" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated"><a class="ae kf" href="https://github.com/Createdd/Writing/blob/master/2020/articles/preProcessingImages.md#python-code" rel="noopener ugc nofollow" target="_blank"> Python代码</a></li><li id="032e" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated"><a class="ae kf" href="https://github.com/Createdd/Writing/blob/master/2020/articles/preProcessingImages.md#about" rel="noopener ugc nofollow" target="_blank">关于</a></li></ul><h1 id="cb75" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">预处理错误</h1><p id="d747" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">在为机器学习任务处理图像时，经常会遇到一些错误。这些是:</p><ol class=""><li id="538f" class="mc md it ki b kj kk kn ko kr mv kv mw kz mx ld my mk ml mm bi translated">正确的文件扩展名，代表图像文件(如jpg)</li><li id="f011" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld my mk ml mm bi translated">特定的文件大小</li><li id="5c54" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld my mk ml mm bi translated">该文件可以作为图像读取(取决于用于进一步处理的库)</li><li id="09b7" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld my mk ml mm bi translated">图像数据具有可用信息(不止一个值)</li><li id="1aaf" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld my mk ml mm bi translated">图像有一定的宽度和高度</li><li id="eb2f" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld my mk ml mm bi translated">没有重复的图像</li></ol><h1 id="22ba" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">加工文件</h1><p id="2d2f" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">该函数有3个参数:</p><ol class=""><li id="9e24" class="mc md it ki b kj kk kn ko kr mv kv mw kz mx ld my mk ml mm bi translated">包含图像文件的输入目录</li><li id="61a7" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld my mk ml mm bi translated">输出目录，有效图像将被复制到该目录</li><li id="449b" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld my mk ml mm bi translated">包含错误的日志文件</li></ol><p id="d531" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我的解决方案递归搜索允许的图像文件。这是通过<code class="fe mz na nb nc b">get_files</code>功能完成的。</p><p id="30bf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mz na nb nc b">check_files</code>函数获取文件并返回带有相应错误代码的图像列表。</p><p id="29ea" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mz na nb nc b">validate_file</code>函数检查图像中的各种常见错误，并返回错误编号。如果没有发生错误，错误代码将为0。</p><p id="6811" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mz na nb nc b">separate_files</code>功能将区分有效图像和无效图像。</p><p id="39ce" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mz na nb nc b">copy_valid_files</code>功能会将有效文件复制到定义的“输出目录”文件夹中。</p><p id="92da" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">函数在指定的日志文件路径中创建一个日志文件，包含所有有错误的文件。</p><p id="c1e9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">整个<code class="fe mz na nb nc b">pre_processing</code>函数最终返回有效文件的数量。</p><h1 id="3f59" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">Python代码</h1><p id="78d8" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">python文件可以在我的数据科学收藏库中找到:<a class="ae kf" href="https://github.com/Createdd/DataScienceCollection" rel="noopener ugc nofollow" target="_blank">https://github.com/Createdd/DataScienceCollection</a></p><p id="de86" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里，您可以通过Github Gist检查代码:</p><figure class="nd ne nf ng gt ju"><div class="bz fp l di"><div class="nh ni l"/></div></figure></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="db11" class="le lf it bd lg lh nq lj lk ll nr ln lo lp ns lr ls lt nt lv lw lx nu lz ma mb bi translated">关于</h1><p id="adeb" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">丹尼尔是一名企业家、软件开发人员和律师。他的知识和兴趣围绕商业法和编程机器学习应用发展。从本质上说，他认为自己是复杂环境的问题解决者，这在他的各种项目中都有所体现。如果你有想法、项目或问题，不要犹豫，立即联系我们。</p><figure class="nd ne nf ng gt ju gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/20f3d929b1125504c0086c77be8e2920.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/0*iPFrfiBikV-Ot4-Z"/></div></figure><p id="99b5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">连接到:</p><ul class=""><li id="db0f" class="mc md it ki b kj kk kn ko kr mv kv mw kz mx ld mj mk ml mm bi translated"><a class="ae kf" href="https://www.linkedin.com/in/createdd" rel="noopener ugc nofollow" target="_blank">领英</a></li><li id="1c80" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated"><a class="ae kf" href="https://github.com/Createdd" rel="noopener ugc nofollow" target="_blank"> Github </a></li><li id="51a1" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated"><a class="ae kf" href="https://medium.com/@createdd" rel="noopener">中等</a></li><li id="9fc6" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated"><a class="ae kf" href="https://twitter.com/_createdd" rel="noopener ugc nofollow" target="_blank">推特</a></li><li id="2e60" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated"><a class="ae kf" href="https://www.instagram.com/create.dd/" rel="noopener ugc nofollow" target="_blank"> Instagram </a></li></ul></div></div>    
</body>
</html>