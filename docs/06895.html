<html>
<head>
<title>Correlation coefficient and correlation test in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">R 中的相关系数和相关检验</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/correlation-coefficient-and-correlation-test-in-r-2c8324860b04?source=collection_archive---------46-----------------------#2020-05-28">https://towardsdatascience.com/correlation-coefficient-and-correlation-test-in-r-2c8324860b04?source=collection_archive---------46-----------------------#2020-05-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a256" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">学习如何计算相关系数，并在 R</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d3eccb2df79e3edf229443f1955c403b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EDGFwggL1T78MiR8"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@nate_dumlao?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">内森·杜姆劳</a></p></figure><h1 id="9d11" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="7946" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi mn translated">变量之间的关系在描述性分析中起着重要的作用。相关性衡量两个变量之间的<strong class="lt iu">关系，即它们如何相互关联。从这个意义上来说，相关性可以让我们知道哪些变量是同向发展的，哪些是反向发展的，哪些是独立的。</strong></p><p id="1e99" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在本文中，我将展示如何计算<strong class="lt iu">相关系数</strong>，如何执行<strong class="lt iu">相关测试</strong>以及如何<strong class="lt iu">可视化 r 中变量之间的关系</strong>。</p><p id="21a2" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">相关性通常计算在两个<a class="ae ky" href="https://statsandr.com/blog/variable-types-and-examples/#quantitative" rel="noopener ugc nofollow" target="_blank">定量</a>变量上，但也可以计算在两个<a class="ae ky" href="https://statsandr.com/blog/variable-types-and-examples/#ordinal" rel="noopener ugc nofollow" target="_blank">定性序数</a>变量上。如果需要研究两个<a class="ae ky" href="https://statsandr.com/blog/variable-types-and-examples/#nominal" rel="noopener ugc nofollow" target="_blank">定性名义</a>变量之间的关系，请参见<a class="ae ky" href="https://statsandr.com/blog/chi-square-test-of-independence-in-r/" rel="noopener ugc nofollow" target="_blank">独立性卡方检验</a>。</p><h1 id="07db" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">数据</h1><p id="b0d1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在本文中，我们使用<code class="fe nb nc nd ne b">mtcars</code>数据集(在 R 中默认加载):</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="f37a" class="nj la it ne b gy nk nl l nm nn"># display first 5 observations<br/>head(mtcars, 5)</span><span id="3799" class="nj la it ne b gy no nl l nm nn">##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb<br/>## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4<br/>## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4<br/>## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1<br/>## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1<br/>## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2</span></pre><p id="c73e" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">变量<code class="fe nb nc nd ne b">vs</code>和<code class="fe nb nc nd ne b">am</code>是分类变量，因此在本文中它们被删除了:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="d6bf" class="nj la it ne b gy nk nl l nm nn"># remove vs and am variables<br/>library(tidyverse)<br/>dat &lt;- mtcars %&gt;%<br/>  select(-vs, -am)</span><span id="e0e1" class="nj la it ne b gy no nl l nm nn"># display 5 first obs. of new dataset<br/>head(dat, 5)</span><span id="a27d" class="nj la it ne b gy no nl l nm nn">##                    mpg cyl disp  hp drat    wt  qsec gear carb<br/>## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46    4    4<br/>## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02    4    4<br/>## Datsun 710        22.8   4  108  93 3.85 2.320 18.61    4    1<br/>## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44    3    1<br/>## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02    3    2</span></pre><h1 id="db18" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相关系数</h1><h1 id="0b80" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">两个变量之间</h1><p id="22f3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">使用<code class="fe nb nc nd ne b">cor()</code>函数找到两个变量之间的相关性。假设我们想要计算马力(<code class="fe nb nc nd ne b">hp</code>)和每加仑英里数(<code class="fe nb nc nd ne b">mpg</code>)之间的相关性:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="885e" class="nj la it ne b gy nk nl l nm nn"># Pearson correlation between 2 variables<br/>cor(dat$hp, dat$mpg)</span><span id="5ca4" class="nj la it ne b gy no nl l nm nn">## [1] -0.7761684</span></pre><p id="b3f6" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">请注意，变量<em class="np"> x </em>和<em class="np"> y </em>之间的相关性等于变量<em class="np"> y </em>和<em class="np"> x </em>之间的相关性，因此<code class="fe nb nc nd ne b">cor()</code>函数中变量的顺序无关紧要。</p><p id="7da4" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">默认情况下，皮尔逊相关性是用<code class="fe nb nc nd ne b">cor()</code>函数计算的。如果您想要计算 Spearman 相关性，请将参数<code class="fe nb nc nd ne b">method = "spearman"</code>添加到<code class="fe nb nc nd ne b">cor()</code>函数中:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="37e6" class="nj la it ne b gy nk nl l nm nn"># Spearman correlation between 2 variables<br/>cor(dat$hp, dat$mpg,<br/>  method = "spearman"<br/>)</span><span id="ac57" class="nj la it ne b gy no nl l nm nn">## [1] -0.8946646</span></pre><p id="c86e" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">有多种相关方法(运行<code class="fe nb nc nd ne b">?cor</code>了解更多关于<code class="fe nb nc nd ne b">cor()</code>功能中可用的不同方法的信息):</p><ul class=""><li id="6c2f" class="nq nr it lt b lu mw lx mx ma ns me nt mi nu mm nv nw nx ny bi translated"><strong class="lt iu">皮尔逊</strong>相关性常用于具有线性关系的<a class="ae ky" href="https://statsandr.com/blog/variable-types-and-examples/#continuous" rel="noopener ugc nofollow" target="_blank">定量连续</a>变量</li><li id="7e5f" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm nv nw nx ny bi translated"><strong class="lt iu"> Spearman </strong>相关性(实际上类似于 Pearson，但基于每个变量的排名值，而不是原始数据)通常用于评估涉及<a class="ae ky" href="https://statsandr.com/blog/variable-types-and-examples/#ordinal" rel="noopener ugc nofollow" target="_blank">定性序数</a>变量或定量变量的关系(如果联系是部分线性的)</li><li id="9c12" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm nv nw nx ny bi translated">根据和谐和不和谐对的数量计算得出的肯德尔(Kendall)常用于定性序数变量</li></ul><h1 id="b9ad" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相关矩阵:所有变量的相关性</h1><p id="a3d1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">假设现在我们想计算几对变量的相关性。我们可以很容易地对数据集中所有可能的变量对这样做，同样使用<code class="fe nb nc nd ne b">cor()</code>函数:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="cfc1" class="nj la it ne b gy nk nl l nm nn"># correlation for all variables<br/>round(cor(dat),<br/>  digits = 2 # rounded to 2 decimals<br/>)</span><span id="bb16" class="nj la it ne b gy no nl l nm nn">##        mpg   cyl  disp    hp  drat    wt  qsec  gear  carb<br/>## mpg   1.00 -0.85 -0.85 -0.78  0.68 -0.87  0.42  0.48 -0.55<br/>## cyl  -0.85  1.00  0.90  0.83 -0.70  0.78 -0.59 -0.49  0.53<br/>## disp -0.85  0.90  1.00  0.79 -0.71  0.89 -0.43 -0.56  0.39<br/>## hp   -0.78  0.83  0.79  1.00 -0.45  0.66 -0.71 -0.13  0.75<br/>## drat  0.68 -0.70 -0.71 -0.45  1.00 -0.71  0.09  0.70 -0.09<br/>## wt   -0.87  0.78  0.89  0.66 -0.71  1.00 -0.17 -0.58  0.43<br/>## qsec  0.42 -0.59 -0.43 -0.71  0.09 -0.17  1.00 -0.21 -0.66<br/>## gear  0.48 -0.49 -0.56 -0.13  0.70 -0.58 -0.21  1.00  0.27<br/>## carb -0.55  0.53  0.39  0.75 -0.09  0.43 -0.66  0.27  1.00</span></pre><p id="aac3" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">这个相关矩阵给出了两个变量的所有组合的相关性的概述。</p><h1 id="6714" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相关系数的解释</h1><p id="dcfd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">首先，相关性的范围从<strong class="lt iu"> -1 到 1 </strong>。这给了我们两件事的提示:</p><ol class=""><li id="7773" class="nq nr it lt b lu mw lx mx ma ns me nt mi nu mm oe nw nx ny bi translated">2 变量之间关系的方向</li><li id="c496" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm oe nw nx ny bi translated">2 变量之间关系的强度</li></ol><p id="30a1" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">关于关系的方向:一方面，<strong class="lt iu">负相关</strong>意味着所考虑的两个变量以<strong class="lt iu">相反的方向</strong>变化，也就是说，如果一个变量增加，另一个变量减少，反之亦然。另一方面，<strong class="lt iu">正相关</strong>意味着所考虑的两个变量在<strong class="lt iu">相同方向</strong>变化，即如果一个变量增加，另一个变量增加，如果一个变量减少，另一个变量也减少。</p><p id="ca99" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">关于关系的强度:<strong class="lt iu">相关系数越极端</strong>(越接近-1 或 1)<strong class="lt iu">关系越强</strong>。这也意味着<strong class="lt iu">相关性接近于 0 </strong>表示两个变量<strong class="lt iu">独立</strong>，也就是说，当一个变量增加时，另一个变量没有减少或增加的趋势。</p><p id="3bca" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">作为一个例子，上面找到的马力(<code class="fe nb nc nd ne b">hp</code>)和每加仑英里数(<code class="fe nb nc nd ne b">mpg</code>)之间的皮尔逊相关性是-0.78，这意味着这两个变量以相反的方向变化。这是有道理的，马力越大的汽车消耗的燃料越多(因此每加仑行驶里程越低)。相反，从相关矩阵中我们看到，每加仑英里数(<code class="fe nb nc nd ne b">mpg</code>)和行驶 1/4 英里的时间(<code class="fe nb nc nd ne b">qsec</code>)之间的相关性是 0.42，这意味着快车(低<code class="fe nb nc nd ne b">qsec</code>)往往每加仑英里数更差(低<code class="fe nb nc nd ne b">mpg</code>)。这也是有道理的，因为速度快的汽车往往消耗更多的燃料。</p><p id="ff96" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">然而，相关矩阵不容易解释，尤其是当数据集由许多变量组成时。在接下来的章节中，我们将介绍相关矩阵的一些替代方案。</p><h1 id="9eb7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">形象化</h1><h1 id="62ad" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">两个变量的散点图</h1><p id="4e21" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">可视化两个变量之间相关性的一个好方法是绘制两个感兴趣变量的散点图。假设我们想要检查马力(<code class="fe nb nc nd ne b">hp</code>)和每加仑英里数(<code class="fe nb nc nd ne b">mpg</code>)之间的关系:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="02d7" class="nj la it ne b gy nk nl l nm nn"># scatterplot<br/>library(ggplot2)</span><span id="abe5" class="nj la it ne b gy no nl l nm nn">ggplot(dat) +<br/>  aes(x = hp, y = mpg) +<br/>  geom_point(colour = "#0c4c8a") +<br/>  theme_minimal()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/71b9482a9866db1283a5eda29abe993a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RBE9yoL8L_K5TTxc.png"/></div></div></figure><p id="3e14" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">如果您不熟悉<code class="fe nb nc nd ne b"><a class="ae ky" href="https://www.statsandr.com/blog/graphics-in-r-with-ggplot2/" rel="noopener ugc nofollow" target="_blank">{ggplot2}</a></code> <a class="ae ky" href="https://www.statsandr.com/blog/graphics-in-r-with-ggplot2/" rel="noopener ugc nofollow" target="_blank">包</a>，您可以使用 R base graphics 的<code class="fe nb nc nd ne b">plot()</code>功能绘制散点图:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="aac7" class="nj la it ne b gy nk nl l nm nn">plot(dat$hp, dat$mpg)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/8a04ffc9978d714c6b4785c879917ce5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cDPmp4Cvm5lyijQ7.png"/></div></div></figure><p id="57d6" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">或者使用<a class="ae ky" href="https://www.statsandr.com/blog/rstudio-addins-or-how-to-make-your-coding-life-easier/#esquisse" rel="noopener ugc nofollow" target="_blank"> esquisse 插件</a>使用<code class="fe nb nc nd ne b">{ggplot2}</code>包轻松绘制图形。</p><h1 id="896a" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">几对变量的散点图</h1><p id="2a78" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">假设我们想可视化几对变量之间的关系，而不是只可视化两个变量之间的关系。多亏了<code class="fe nb nc nd ne b">pair()</code>功能，这才成为可能。对于这个例子，我们只关注每加仑英里数(<code class="fe nb nc nd ne b">mpg</code>)、马力(<code class="fe nb nc nd ne b">hp</code>)和重量(<code class="fe nb nc nd ne b">wt</code>):</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="9e0f" class="nj la it ne b gy nk nl l nm nn"># multiple scatterplots<br/>pairs(dat[, c(1, 4, 6)])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/fa39a27c93c3bd452545261f52f1aef2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yOb9fbfiUSJdxMQk.png"/></div></div></figure><p id="32f2" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">该图表明，重量(<code class="fe nb nc nd ne b">wt</code>)和马力(<code class="fe nb nc nd ne b">hp</code>)正相关，而每加仑英里数(<code class="fe nb nc nd ne b">mpg</code>)似乎与马力(<code class="fe nb nc nd ne b">hp</code>)和重量(<code class="fe nb nc nd ne b">wt</code>)负相关。</p><h1 id="e785" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">另一个简单的相关矩阵</h1><p id="0863" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">相关矩阵的这个版本以稍微更易读的方式呈现相关系数，即，通过基于它们的符号给系数着色。应用于我们的数据集，我们有:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="3352" class="nj la it ne b gy nk nl l nm nn"># improved correlation matrix<br/>library(corrplot)</span><span id="5a18" class="nj la it ne b gy no nl l nm nn">corrplot(cor(dat),<br/>  method = "number",<br/>  type = "upper" # show only upper side<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/35c1d5ed9a96db87fe6daf91fc4ab5d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jov8UomyKnSR2zez.png"/></div></div></figure><h1 id="2bb7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相关性检验</h1><h1 id="4d1f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">对于 2 个变量</h1><p id="6211" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">与指示<a class="ae ky" href="https://statsandr.com/blog/what-is-the-difference-between-population-and-sample/" rel="noopener ugc nofollow" target="_blank">样本</a>中某些变量对之间相关系数的相关矩阵不同，相关测试用于测试<a class="ae ky" href="https://statsandr.com/blog/what-is-the-difference-between-population-and-sample/" rel="noopener ugc nofollow" target="_blank">总体</a>中两个变量之间的相关性(表示为ρ)是否显著不同于 0。</p><p id="dfb8" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">实际上，样本中的相关系数不同于 0 并不意味着总体中的相关性<strong class="lt iu">显著</strong>不同于 0。这需要用一个<a class="ae ky" href="https://statsandr.com/blog/hypothesis-test-by-hand/" rel="noopener ugc nofollow" target="_blank">假设检验</a>来检验——也就是所谓的相关性检验。</p><p id="b19c" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">相关性检验的无效假设和替代假设如下:</p><ul class=""><li id="5fe7" class="nq nr it lt b lu mw lx mx ma ns me nt mi nu mm nv nw nx ny bi translated">H0: ρ = 0(意味着两个变量之间没有线性关系)</li><li id="5ead" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm nv nw nx ny bi translated">H1: ρ ≠ 0(表示两个变量之间存在线性关系)</li></ul><p id="ed3d" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">通过这种相关性测试，我们实际测试的是:</p><ul class=""><li id="f9b1" class="nq nr it lt b lu mw lx mx ma ns me nt mi nu mm nv nw nx ny bi translated">样本包含了足够的证据，可以拒绝零假设，得出相关系数不等于 0 的结论，所以总体中存在这种关系。</li><li id="bbd8" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm nv nw nx ny bi translated">或者相反，样本没有包含足够的证据证明相关系数不等于 0，那么在这种情况下我们不拒绝总体中变量之间没有关系的零假设。</li></ul><p id="cc64" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">假设我们想要测试后轮轴比率(<code class="fe nb nc nd ne b">drat</code>)是否与行驶四分之一英里的时间(<code class="fe nb nc nd ne b">qsec</code>)相关:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="dbf7" class="nj la it ne b gy nk nl l nm nn"># Pearson correlation test<br/>test &lt;- cor.test(dat$drat, dat$qsec)<br/>test</span><span id="936b" class="nj la it ne b gy no nl l nm nn">## <br/>##  Pearson's product-moment correlation<br/>## <br/>## data:  dat$drat and dat$qsec<br/>## t = 0.50164, df = 30, p-value = 0.6196<br/>## alternative hypothesis: true correlation is not equal to 0<br/>## 95 percent confidence interval:<br/>##  -0.265947  0.426340<br/>## sample estimates:<br/>##        cor <br/>## 0.09120476</span></pre><p id="1e04" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">这两个变量之间相关性检验的<em class="np">p</em>-值为 0.62。在 5%的显著性水平上，我们不拒绝无相关性的零假设。因此，我们得出结论，我们不拒绝这两个变量之间没有线性关系的假设。<a class="ae ky" href="https://statsandr.com/blog/correlation-coefficient-and-correlation-test-in-r/#fn1" rel="noopener ugc nofollow" target="_blank"> 1 </a></p><p id="ed0f" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">这个检验证明，即使相关系数不等于 0(样本中相关系数为 0.09)，但在总体中实际上与 0 没有显著差异。</p><p id="6568" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">注意，相关性测试的<em class="np">p</em>-值基于相关系数<strong class="lt iu">和</strong>样本大小。样本量越大，相关性越极端(接近-1 或 1)，无相关性的零假设被拒绝的可能性就越大。在小样本量的情况下，因此有可能在样本中获得<em class="np">相对</em>大的相关性(基于相关系数)，但仍然在总体中找到与 0 没有显著差异的相关性(基于相关性测试)。因此，建议在解释相关系数之前始终进行相关性测试，以避免得出有缺陷的结论。</p><p id="1659" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在 R 中报告相关性测试结果的一种简单而又好的方法是使用<code class="fe nb nc nd ne b">{report}</code>包中的<code class="fe nb nc nd ne b">report()</code>函数:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="4d3b" class="nj la it ne b gy nk nl l nm nn"># install.packages("remotes")<br/># remotes::install_github("easystats/report") # You only need to do that once<br/>library("report") # Load the package every time you start R<br/>report(test)</span><span id="2cf3" class="nj la it ne b gy no nl l nm nn">## Effect sizes were labelled following Funder's (2019) recommendations.<br/>## <br/>## The Pearson's product-moment correlation between dat$drat and dat$qsec is positive, not significant and very small (r = 0.09, 95% CI [-0.27, 0.43], t(30) = 0.50, p = 0.620)</span></pre><p id="77e7" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">如您所见，该函数为您解释了测试(以及相关系数和<em class="np">p</em>-值)。</p><p id="9202" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">注意，<code class="fe nb nc nd ne b">report()</code>功能可用于其他分析。在软件包的<a class="ae ky" href="https://easystats.github.io/report/" rel="noopener ugc nofollow" target="_blank">文档</a>中查看更多示例。如果你觉得这个有用，也可以在 R 中看到更多的<a class="ae ky" href="https://statsandr.com/blog/tips-and-tricks-in-rstudio-and-r-markdown/" rel="noopener ugc nofollow" target="_blank">提示和技巧。</a></p><h1 id="3c13" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">对于几对变量</h1><p id="9efa" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">类似于用于计算几对变量相关性的相关矩阵，<code class="fe nb nc nd ne b">rcorr()</code>函数(来自<code class="fe nb nc nd ne b">{Hmisc}</code>包)允许一次计算几对变量相关性测试的<em class="np"> p </em>值。应用于我们的数据集，我们有:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="acea" class="nj la it ne b gy nk nl l nm nn"># correlation tests for whole dataset<br/>library(Hmisc)<br/>res &lt;- rcorr(as.matrix(dat)) # rcorr() accepts matrices only</span><span id="f3a2" class="nj la it ne b gy no nl l nm nn"># display p-values (rounded to 3 decimals)<br/>round(res$P, 3)</span><span id="f581" class="nj la it ne b gy no nl l nm nn">##        mpg   cyl  disp    hp  drat    wt  qsec  gear  carb<br/>## mpg     NA 0.000 0.000 0.000 0.000 0.000 0.017 0.005 0.001<br/>## cyl  0.000    NA 0.000 0.000 0.000 0.000 0.000 0.004 0.002<br/>## disp 0.000 0.000    NA 0.000 0.000 0.000 0.013 0.001 0.025<br/>## hp   0.000 0.000 0.000    NA 0.010 0.000 0.000 0.493 0.000<br/>## drat 0.000 0.000 0.000 0.010    NA 0.000 0.620 0.000 0.621<br/>## wt   0.000 0.000 0.000 0.000 0.000    NA 0.339 0.000 0.015<br/>## qsec 0.017 0.000 0.013 0.000 0.620 0.339    NA 0.243 0.000<br/>## gear 0.005 0.004 0.001 0.493 0.000 0.000 0.243    NA 0.129<br/>## carb 0.001 0.002 0.025 0.000 0.621 0.015 0.000 0.129    NA</span></pre><p id="ad27" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">仅应解释与小于显著性水平(通常α = 0.05)的<em class="np"> p </em>值的相关性。</p><h1 id="32ce" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相关系数和相关检验的组合</h1><p id="79d5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">既然我们已经讨论了相关系数和相关性测试的概念，那么让我们看看是否可以将这两个概念结合起来。</p><p id="56a1" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">来自<a class="ae ky" href="https://easystats.github.io/correlation/" rel="noopener ugc nofollow" target="_blank"> easystats </a> <code class="fe nb nc nd ne b"><a class="ae ky" href="https://easystats.github.io/correlation/" rel="noopener ugc nofollow" target="_blank">{correlation}</a></code> <a class="ae ky" href="https://easystats.github.io/correlation/" rel="noopener ugc nofollow" target="_blank">包</a>的<code class="fe nb nc nd ne b">correlation</code>函数允许在单个表中组合相关系数和相关测试(感谢<a class="ae ky" href="https://github.com/AntoineSoetewey/statsandr/issues/8" rel="noopener ugc nofollow" target="_blank"> krzysiektr </a>为我指出这一点):</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="8131" class="nj la it ne b gy nk nl l nm nn">library(correlation)</span><span id="6147" class="nj la it ne b gy no nl l nm nn">correlation::correlation(dat,<br/>  include_factors = TRUE, method = "auto"<br/>)</span><span id="0e77" class="nj la it ne b gy no nl l nm nn">## Parameter1 | Parameter2 |     r |         95% CI |     t | df |      p |  Method | n_Obs<br/>## ----------------------------------------------------------------------------------------<br/>## mpg        |        cyl | -0.85 | [-0.93, -0.72] | -8.92 | 30 | &lt; .001 | Pearson |    32<br/>## mpg        |       disp | -0.85 | [-0.92, -0.71] | -8.75 | 30 | &lt; .001 | Pearson |    32<br/>## mpg        |         hp | -0.78 | [-0.89, -0.59] | -6.74 | 30 | &lt; .001 | Pearson |    32<br/>## mpg        |       drat |  0.68 | [ 0.44,  0.83] |  5.10 | 30 | &lt; .001 | Pearson |    32<br/>## mpg        |         wt | -0.87 | [-0.93, -0.74] | -9.56 | 30 | &lt; .001 | Pearson |    32<br/>## mpg        |       qsec |  0.42 | [ 0.08,  0.67] |  2.53 | 30 | 0.137  | Pearson |    32<br/>## mpg        |       gear |  0.48 | [ 0.16,  0.71] |  3.00 | 30 | 0.065  | Pearson |    32<br/>## mpg        |       carb | -0.55 | [-0.75, -0.25] | -3.62 | 30 | 0.016  | Pearson |    32<br/>## cyl        |       disp |  0.90 | [ 0.81,  0.95] | 11.45 | 30 | &lt; .001 | Pearson |    32<br/>## cyl        |         hp |  0.83 | [ 0.68,  0.92] |  8.23 | 30 | &lt; .001 | Pearson |    32<br/>## cyl        |       drat | -0.70 | [-0.84, -0.46] | -5.37 | 30 | &lt; .001 | Pearson |    32<br/>## cyl        |         wt |  0.78 | [ 0.60,  0.89] |  6.88 | 30 | &lt; .001 | Pearson |    32<br/>## cyl        |       qsec | -0.59 | [-0.78, -0.31] | -4.02 | 30 | 0.007  | Pearson |    32<br/>## cyl        |       gear | -0.49 | [-0.72, -0.17] | -3.10 | 30 | 0.054  | Pearson |    32<br/>## cyl        |       carb |  0.53 | [ 0.22,  0.74] |  3.40 | 30 | 0.027  | Pearson |    32<br/>## disp       |         hp |  0.79 | [ 0.61,  0.89] |  7.08 | 30 | &lt; .001 | Pearson |    32<br/>## disp       |       drat | -0.71 | [-0.85, -0.48] | -5.53 | 30 | &lt; .001 | Pearson |    32<br/>## disp       |         wt |  0.89 | [ 0.78,  0.94] | 10.58 | 30 | &lt; .001 | Pearson |    32<br/>## disp       |       qsec | -0.43 | [-0.68, -0.10] | -2.64 | 30 | 0.131  | Pearson |    32<br/>## disp       |       gear | -0.56 | [-0.76, -0.26] | -3.66 | 30 | 0.015  | Pearson |    32<br/>## disp       |       carb |  0.39 | [ 0.05,  0.65] |  2.35 | 30 | 0.177  | Pearson |    32<br/>## hp         |       drat | -0.45 | [-0.69, -0.12] | -2.75 | 30 | 0.110  | Pearson |    32<br/>## hp         |         wt |  0.66 | [ 0.40,  0.82] |  4.80 | 30 | &lt; .001 | Pearson |    32<br/>## hp         |       qsec | -0.71 | [-0.85, -0.48] | -5.49 | 30 | &lt; .001 | Pearson |    32<br/>## hp         |       gear | -0.13 | [-0.45,  0.23] | -0.69 | 30 | 1.000  | Pearson |    32<br/>## hp         |       carb |  0.75 | [ 0.54,  0.87] |  6.21 | 30 | &lt; .001 | Pearson |    32<br/>## drat       |         wt | -0.71 | [-0.85, -0.48] | -5.56 | 30 | &lt; .001 | Pearson |    32<br/>## drat       |       qsec |  0.09 | [-0.27,  0.43] |  0.50 | 30 | 1.000  | Pearson |    32<br/>## drat       |       gear |  0.70 | [ 0.46,  0.84] |  5.36 | 30 | &lt; .001 | Pearson |    32<br/>## drat       |       carb | -0.09 | [-0.43,  0.27] | -0.50 | 30 | 1.000  | Pearson |    32<br/>## wt         |       qsec | -0.17 | [-0.49,  0.19] | -0.97 | 30 | 1.000  | Pearson |    32<br/>## wt         |       gear | -0.58 | [-0.77, -0.29] | -3.93 | 30 | 0.008  | Pearson |    32<br/>## wt         |       carb |  0.43 | [ 0.09,  0.68] |  2.59 | 30 | 0.132  | Pearson |    32<br/>## qsec       |       gear | -0.21 | [-0.52,  0.15] | -1.19 | 30 | 1.000  | Pearson |    32<br/>## qsec       |       carb | -0.66 | [-0.82, -0.40] | -4.76 | 30 | &lt; .001 | Pearson |    32<br/>## gear       |       carb |  0.27 | [-0.08,  0.57] |  1.56 | 30 | 0.774  | Pearson |    32</span></pre><p id="28c9" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">如你所见，它给出了所有变量对的相关系数(列<code class="fe nb nc nd ne b">r</code>)和相关性测试的结果(列<code class="fe nb nc nd ne b">95% CI</code>表示置信区间，列<code class="fe nb nc nd ne b">p</code>表示 pp 值)，以及其他有用的信息。这个表非常有用，信息丰富，但是让我们看看是否有可能将相关系数和相关性测试的概念结合在一个单独的可视化中。易于阅读和解释的可视化。</p><p id="55e3" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">理想情况下，我们希望对数据集中存在的所有可能的变量对之间的相关性有一个简明的概述，对与 0 显著不同的相关性有一个清楚的区分。</p><p id="22dc" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">下图被称为<a class="ae ky" href="https://www.statsandr.com/blog/correlogram-in-r-how-to-highlight-the-most-correlated-variables-in-a-dataset/#correlogram" rel="noopener ugc nofollow" target="_blank">相关图</a>，由<code class="fe nb nc nd ne b">corrplot()</code>函数改编而来，具体操作如下:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="9eef" class="nj la it ne b gy nk nl l nm nn">corrplot2 &lt;- function(data,<br/>                      method = "pearson",<br/>                      sig.level = 0.05,<br/>                      order = "original",<br/>                      diag = FALSE,<br/>                      type = "upper",<br/>                      tl.srt = 90,<br/>                      number.font = 1,<br/>                      number.cex = 1,<br/>                      mar = c(0, 0, 0, 0)) {<br/>  library(corrplot)<br/>  data_incomplete &lt;- data<br/>  data &lt;- data[complete.cases(data), ]<br/>  mat &lt;- cor(data, method = method)<br/>  cor.mtest &lt;- function(mat, method) {<br/>    mat &lt;- as.matrix(mat)<br/>    n &lt;- ncol(mat)<br/>    p.mat &lt;- matrix(NA, n, n)<br/>    diag(p.mat) &lt;- 0<br/>    for (i in 1:(n - 1)) {<br/>      for (j in (i + 1):n) {<br/>        tmp &lt;- cor.test(mat[, i], mat[, j], method = method)<br/>        p.mat[i, j] &lt;- p.mat[j, i] &lt;- tmp$p.value<br/>      }<br/>    }<br/>    colnames(p.mat) &lt;- rownames(p.mat) &lt;- colnames(mat)<br/>    p.mat<br/>  }<br/>  p.mat &lt;- cor.mtest(data, method = method)<br/>  col &lt;- colorRampPalette(c("#BB4444", "#EE9988", "#FFFFFF", "#77AADD", "#4477AA"))<br/>  corrplot(mat,<br/>    method = "color", col = col(200), number.font = number.font,<br/>    mar = mar, number.cex = number.cex,<br/>    type = type, order = order,<br/>    addCoef.col = "black", # add correlation coefficient<br/>    tl.col = "black", tl.srt = tl.srt, # rotation of text labels<br/>    # combine with significance level<br/>    p.mat = p.mat, sig.level = sig.level, insig = "blank",<br/>    # hide correlation coefficiens on the diagonal<br/>    diag = diag<br/>  )<br/>}</span><span id="788e" class="nj la it ne b gy no nl l nm nn">corrplot2(<br/>  data = dat,<br/>  method = "pearson",<br/>  sig.level = 0.05,<br/>  order = "original",<br/>  diag = FALSE,<br/>  type = "upper",<br/>  tl.srt = 75<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/9ccac669f7c78022278bffbdfb4524c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*miidWNf85uIAVyDp.png"/></div></div></figure><p id="436c" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">相关图显示了所有变量对的相关系数(更极端的相关性用更强烈的颜色表示)，与 0 没有显著差异的相关性用白色方框表示。</p><p id="3bfa" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">要了解更多关于这个图和使用的代码，我邀请您阅读题为“R 中的<a class="ae ky" href="https://www.statsandr.com/blog/correlogram-in-r-how-to-highlight-the-most-correlated-variables-in-a-dataset/" rel="noopener ugc nofollow" target="_blank">相关图:如何突出显示数据集</a>中最相关的变量”的文章。</p><p id="e519" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">对于那些仍然不完全满意的人，我最近从<code class="fe nb nc nd ne b">{GGally}</code>包中找到了一个带有<code class="fe nb nc nd ne b">ggpairs()</code>功能的替代品。</p><p id="b8ab" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">下面是一个带有变量<code class="fe nb nc nd ne b">mpg</code>、<code class="fe nb nc nd ne b">hp</code>和<code class="fe nb nc nd ne b">wt</code>的例子:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="286d" class="nj la it ne b gy nk nl l nm nn">library(GGally)</span><span id="97c7" class="nj la it ne b gy no nl l nm nn">ggpairs(dat[, c("mpg", "hp", "wt")])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/8ee30e94734ab384f28e79be70b9e22b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ScTHlmnHIVORaqnY.png"/></div></div></figure><p id="8b44" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">该图结合了相关系数、相关性测试(通过系数<a class="ae ky" href="https://statsandr.com/blog/correlation-coefficient-and-correlation-test-in-r/#fn2" rel="noopener ugc nofollow" target="_blank"> 2 </a>旁边的星号)和数据集中所有可能变量对的散点图。</p><h1 id="1d2e" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相关性并不意味着因果关系</h1><p id="4d35" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我确信你已经听说过统计学中的“相关性并不意味着因果关系”这句话。如果不讨论因果关系，一篇关于相关性的文章是不完整的。</p><p id="793b" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">两个变量之间的非零相关不一定意味着这两个变量之间有因果关系！</p><p id="04f4" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">事实上，两个变量之间的显著相关性意味着一个变量的变化与另一个变量的变化相关(积极或消极)。尽管如此，显著的相关性<em class="np">并不</em>表明一个变量的变化<em class="np">导致另一个变量的变化</em>。</p><p id="2d49" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">X 和 Y 之间的非零相关可能出现在几种情况下:</p><ul class=""><li id="6d45" class="nq nr it lt b lu mw lx mx ma ns me nt mi nu mm nv nw nx ny bi translated">x 导致 Y</li><li id="baf6" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm nv nw nx ny bi translated">y 导致 X</li><li id="6650" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm nv nw nx ny bi translated">第三个变量导致 X 和 Y</li><li id="228f" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm nv nw nx ny bi translated">这三个原因的结合</li></ul><p id="b07b" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">有时，两个变量之间存在因果关系是相当清楚的。以牛奶等消费品的价格与其消费量之间的相关性为例。这两者之间的因果联系是相当明显的:如果牛奶价格上涨，预计其消费量将减少。</p><p id="16db" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">然而，这种因果联系并不总是存在的，即使相关性是显著的。Maurage、Heeren 和 Pesenti ( <a class="ae ky" href="https://statsandr.com/blog/correlation-coefficient-and-correlation-test-in-r/#ref-maurage2013does" rel="noopener ugc nofollow" target="_blank"> 2013 </a>)表明，尽管巧克力消费量和诺贝尔奖获得者数量之间存在显著的正相关性，但这种相关性来自于第三个变量，即国内生产总值(GDP)，导致了巧克力消费量和诺贝尔奖获得者数量。他们发现，GDP 较高的国家往往有较高的巧克力消费和科学研究水平(导致更多的诺贝尔奖获得者)。</p><p id="2b3f" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">这个例子表明，在解释相关性时必须非常谨慎，避免将相关性过度解释为因果关系。</p><p id="c312" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">感谢阅读。我希望这篇文章能帮助你在 r 中计算相关性和执行相关性测试。</p><p id="2f3f" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">和往常一样，如果您有与本文主题相关的问题或建议，请将其添加为评论，以便其他读者可以从讨论中受益。</p><h1 id="a763" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">参考</h1><p id="8baa" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">毛拉日、皮埃尔、亚历山大·海伦和毛罗·佩森蒂。2013.“食用巧克力真的会增加获得诺贝尔奖的机会吗？健康研究中过度解释相关性的危险。”<em class="np">营养杂志</em>143(6):931–33。</p></div><div class="ab cl og oh hx oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="im in io ip iq"><ol class=""><li id="c31b" class="nq nr it lt b lu mw lx mx ma ns me nt mi nu mm oe nw nx ny bi translated">重要的是要记住，我们测试了两个变量之间的<em class="np">线性</em>关系，因为我们使用了皮尔逊相关性。总体中的两个变量之间可能存在关系，但这种关系可能不是线性的。<a class="ae ky" href="https://statsandr.com/blog/correlation-coefficient-and-correlation-test-in-r/#fnref1" rel="noopener ugc nofollow" target="_blank"> ↩︎ </a></li><li id="a533" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm oe nw nx ny bi translated">3 星号表示系数在 5%水平显著，2 表示在 1%显著水平，3 表示在 0.1%显著水平。<a class="ae ky" href="https://statsandr.com/blog/correlation-coefficient-and-correlation-test-in-r/#fnref2" rel="noopener ugc nofollow" target="_blank"> ↩︎ </a></li></ol><h1 id="5927" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相关文章</h1><ul class=""><li id="b01c" class="nq nr it lt b lu lv lx ly ma on me oo mi op mm nv nw nx ny bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/descriptive-statistics-in-r/" rel="noopener ugc nofollow" target="_blank">R 中的描述性统计</a></li><li id="dc36" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm nv nw nx ny bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/one-proportion-and-goodness-of-fit-test-in-r-and-by-hand/" rel="noopener ugc nofollow" target="_blank">一次比例和拟合优度测试(R 和手动)</a></li><li id="50fa" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm nv nw nx ny bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/how-to-perform-a-one-sample-t-test-by-hand-and-in-r-test-on-one-mean/" rel="noopener ugc nofollow" target="_blank">如何手动执行单样本 t 检验，并对一个平均值进行 R:检验</a></li><li id="971d" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm nv nw nx ny bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/the-9-concepts-and-formulas-in-probability-that-every-data-scientist-should-know/" rel="noopener ugc nofollow" target="_blank">每个数据科学家都应该知道的概率中的 9 个概念和公式</a></li><li id="1201" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm nv nw nx ny bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/correlogram-in-r-how-to-highlight-the-most-correlated-variables-in-a-dataset/" rel="noopener ugc nofollow" target="_blank">R 中的相关图:如何突出显示数据集中最相关的变量</a></li></ul></div><div class="ab cl og oh hx oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="im in io ip iq"><p id="fa6d" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><em class="np">原载于 2020 年 5 月 28 日</em><a class="ae ky" href="https://statsandr.com/blog/correlation-coefficient-and-correlation-test-in-r/" rel="noopener ugc nofollow" target="_blank"><em class="np">https://statsandr.com</em></a>T22。</p></div></div>    
</body>
</html>