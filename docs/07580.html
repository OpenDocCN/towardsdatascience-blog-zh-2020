<html>
<head>
<title>How to create a C++ project using Ceres Solver?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Ceres Solver创建一个C++项目？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-create-a-c-project-using-ceres-solver-f3d67c8044f3?source=collection_archive---------49-----------------------#2020-06-07">https://towardsdatascience.com/how-to-create-a-c-project-using-ceres-solver-f3d67c8044f3?source=collection_archive---------49-----------------------#2020-06-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2d04" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">开始使用Ceres解算器的逐步步骤</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3333eaf1154c7485c0ddcc70527b4c2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Oo-K47030qrFA3Jg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用Ceres优化的3D姿势图示例。来源:<a class="ae kv" href="http://ceres-solver.org/nnls_tutorial.html" rel="noopener ugc nofollow" target="_blank">谷神星教程</a></p></figure><p id="5aa8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我猜你们大多数人已经知道一点谷神星解算器是什么。对于那些没有听说过它的人来说，<a class="ae kv" href="http://ceres-solver.org/" rel="noopener ugc nofollow" target="_blank"> Ceres Solver </a>是最受欢迎的开源库之一，用于解决大型复杂的优化问题。Ceres Solver的一个突出特点是能够解决带有边界约束的<a class="ae kv" href="http://en.wikipedia.org/wiki/Non-linear_least_squares" rel="noopener ugc nofollow" target="_blank">非线性最小二乘</a>问题。它在机器人学中广泛用于解决束调整和SLAM等问题。用户和应用程序的集合可以在官方网站上找到。</p><p id="edcf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尽管Ceres Solver(在本文的其余部分称为Ceres)有很好的文档和实践教程来帮助新用户入门。我发现关于如何使用Ceres创建一个新项目的信息隐藏在官方指南中。这正是这个故事的内容。</p><h2 id="b599" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">安装Ceres</h2><p id="be46" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">首先，我们需要安装Ceres才能使用。在这一节中，我们将讨论如何在Ubuntu机器上构建和安装Ceres作为静态库。如果您正在使用不同的操作系统，或者您更喜欢将Ceres构建为共享库，请遵循<a class="ae kv" href="http://ceres-solver.org/installation.html" rel="noopener ugc nofollow" target="_blank">安装页面</a>上的说明。</p><p id="355d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们从推荐给Ubuntu的依赖项开始:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Ubuntu上安装Ceres的依赖项</p></figure><p id="e6c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们从<a class="ae kv" href="http://ceres-solver.org/installation.html#getting-the-source-code" rel="noopener ugc nofollow" target="_blank"> Ceres的网站上获取源代码。</a>在撰写本文时，最新的稳定版本是1.14.0。请在以下命令中相应地调整版本:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">将Ceres构建为静态库</p></figure><p id="c8c0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们已经成功编译了谷神星。我们应该能够运行谷神星的HelloWorld示例。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/fa5a43cc143de67435a8a5285dac1eac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OHyP9AOXc0WpbWctFjfAzQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">运行Ceres附带的Hello World示例</p></figure><p id="7257" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后一步是将Ceres安装到之前指定的安装目录中:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="cb31" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据安装目录，您可能需要也可能不需要<code class="fe mt mu mv mw b">sudo</code>权限。</p><h2 id="5b1a" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">使用Ceres-Solver创建一个项目</h2><p id="7df5" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在上一节中，我们已经讨论了将Ceres-Solver作为静态库来构建和安装。我们还运行了Ceres附带的<a class="ae kv" href="http://ceres-solver.org/nnls_tutorial.html#hello-world" rel="noopener ugc nofollow" target="_blank"> HelloWorld </a>示例。下一步是能够编译我们自己的HelloWorld程序，并开始探索谷神星的魔法世界。</p><p id="9364" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，我们将创建一个简单的项目，如下所示:</p><pre class="kg kh ki kj gt mx mw my mz aw na bi"><span id="6cc2" class="ls lt iq mw b gy nb nc l nd ne">my_project<br/>├── CMakeLists.txt<br/>└── helloworld.cc</span></pre><p id="f492" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mt mu mv mw b">helloworld.cc</code>只是我们之前运行的HellowWorld示例的源代码。你可以从<a class="ae kv" href="https://ceres-solver.googlesource.com/ceres-solver/+/master/examples" rel="noopener ugc nofollow" target="_blank"> Ceres的git库</a>获得。还有许多其他可用的示例，包括但不限于圆拟合示例、束调整示例、姿势图优化的2D &amp; 3D示例等。</p><p id="8b0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mt mu mv mw b">CMakeLists.txt</code>包含关于如何使用<a class="ae kv" href="https://cmake.org/cmake/help/latest/guide/tutorial/index.html" rel="noopener ugc nofollow" target="_blank">CMake构建系统</a>构建我们的<code class="fe mt mu mv mw b">helloworld.cc</code>的信息:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">helloworld.cc的CMakeLists.txt</p></figure><p id="ef39" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意Ceres官方支持CMake 2.8向后兼容。但2020年采用CMake 3.x风格对我们来说并无大碍。</p><p id="38eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你不熟悉CMake构建系统，我强烈推荐<a class="ae kv" href="https://medium.com/@aakashmallik?source=post_page-----e415b5b387dc----------------------" rel="noopener"> Aakash Mallik </a>的<a class="ae kv" href="https://medium.com/heuristics/c-application-development-part-2-cmakelists-txt-e415b5b387dc" rel="noopener"> C++应用开发系列</a>。</p><p id="23f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想发布使用Ceres的项目，请参考<a class="ae kv" href="http://ceres-solver.org/installation.html#installing-exporting-a-project-that-uses-ceres" rel="noopener ugc nofollow" target="_blank">安装/导出使用Ceres的项目</a>了解更多信息。</p><p id="2815" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望这个简写版的<a class="ae kv" href="http://ceres-solver.org/installation.html#" rel="noopener ugc nofollow" target="_blank"> Ceres安装指南</a>对那些不熟悉CMake的人有所帮助。</p><h2 id="1cdb" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">参考</h2><div class="nf ng gp gr nh ni"><a href="http://ceres-solver.org/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">Ceres求解器——一个大规模非线性优化库</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">Ceres Solver [1]是一个开源的C++库，用于建模和解决大型复杂的优化问题。它…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">ceres-solver.org</p></div></div></div></a></div><div class="nf ng gp gr nh ni"><a href="http://ceres-solver.org/installation.html" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">安装- Ceres解算器</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">您可以从最新的稳定版本开始。或者如果你想要最新的版本，你可以克隆git库git…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">ceres-solver.org</p></div></div></div></a></div><div class="nf ng gp gr nh ni"><a href="https://medium.com/heuristics/c-application-development-part-2-cmakelists-txt-e415b5b387dc" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">C++应用程序开发(第二部分— CMakeLists.txt)</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">如果你曾经做过一个比较大的C++项目，那么你一定听说过这个工具。它可能看起来会做一些…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">medium.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw kp ni"/></div></div></a></div><div class="nf ng gp gr nh ni"><a href="https://cmake.org/cmake/help/latest/guide/tutorial/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">CMake教程- CMake 3.17.3文档</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">CMake教程提供了一个分步指南，涵盖了CMake帮助解决的常见构建系统问题…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">cmake.org</p></div></div></div></a></div></div></div>    
</body>
</html>