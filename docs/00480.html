<html>
<head>
<title>Introduction to ggplot2 in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">R中的ggplot2简介</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introduction-to-ggplot2-in-r-4db4f720f505?source=collection_archive---------26-----------------------#2020-01-14">https://towardsdatascience.com/introduction-to-ggplot2-in-r-4db4f720f505?source=collection_archive---------26-----------------------#2020-01-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cd87" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用ggplot2包中的数据可视化技术快速入门。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/00dfea33342bc655c14bcd9e3a25f9ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2N0hO_OZNr7_PRTlIVwe9w.png"/></div></div></figure><h1 id="6365" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">什么是数据可视化？</h1><blockquote class="lm ln lo"><p id="d572" class="lp lq lr ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated"><em class="it">是以图形、图标、演示等方式可视化数据的实践。它最常用于将复杂的数据转化为非技术受众易于理解的见解。</em></p></blockquote><p id="0f37" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">如果你是数据可视化的新手，这是一本可以作为起点的好书——<a class="ae mp" href="https://www.amazon.com/Storytelling-Data-Visualization-Business-Professionals/dp/1119002257" rel="noopener ugc nofollow" target="_blank">用数据讲故事</a></p><p id="59e7" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">如果你有兴趣学习更多关于Python数据可视化的知识，可以看看我的另一个教程——Python中的<a class="ae mp" href="https://medium.com/@jasonmchlee/introduction-to-matplotlib-in-python-5f5a9919991f" rel="noopener">Matplotlib</a></p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="57fa" class="ku kv it bd kw kx mx kz la lb my ld le jz mz ka lg kc na kd li kf nb kg lk ll bi translated">R是什么？</h1><p id="9e61" class="pw-post-body-paragraph lp lq it ls b lt nc ju lv lw nd jx ly mm ne mb mc mn nf mf mg mo ng mj mk ml im bi translated">r是一种主要用于统计分析的编程语言。它是金融和医疗保健行业的常用分析工具。</p><p id="adce" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated"><a class="ae mp" href="https://www.r-project.org/about.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ls iu"> R </strong> </a>提供了多种多样的统计(线性和非线性建模、经典统计测试、时序分析、分类、聚类、…)和图形技术，具有高度的可扩展性。</p><p id="1749" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">R入门的绝佳资源，</p><ol class=""><li id="eb79" class="nh ni it ls b lt lu lw lx mm nj mn nk mo nl ml nm nn no np bi translated"><a class="ae mp" href="https://www.codecademy.com/learn/learn-r" rel="noopener ugc nofollow" target="_blank">代码学院</a></li><li id="5ee5" class="nh ni it ls b lt nq lw nr mm ns mn nt mo nu ml nm nn no np bi translated"><a class="ae mp" href="https://www.guru99.com/r-tutorial.html" rel="noopener ugc nofollow" target="_blank"> guru99 </a></li><li id="09ec" class="nh ni it ls b lt nq lw nr mm ns mn nt mo nu ml nm nn no np bi translated"><a class="ae mp" href="https://nostarch.com/bookofr" rel="noopener ugc nofollow" target="_blank">R之书</a></li></ol></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="cae7" class="ku kv it bd kw kx mx kz la lb my ld le jz mz ka lg kc na kd li kf nb kg lk ll bi translated">什么是ggplot2？</h1><p id="7fa9" class="pw-post-body-paragraph lp lq it ls b lt nc ju lv lw nd jx ly mm ne mb mc mn nf mf mg mo ng mj mk ml im bi translated"><a class="ae mp" href="https://en.wikipedia.org/wiki/Ggplot2" rel="noopener ugc nofollow" target="_blank"> ggplot2 </a>是来自<a class="ae mp" href="https://www.tidyverse.org/" rel="noopener ugc nofollow" target="_blank"><em class="lr">tidy verse</em></a><em class="lr">的R包。它的流行归因于在高抽象层次上定制图形和删除或改变图中组件的简单性。</em></p><p id="4d09" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">如果您有兴趣了解更多信息，请查阅这本书— <a class="ae mp" href="http://shop.oreilly.com/product/0636920052807.do" rel="noopener ugc nofollow" target="_blank">用ggplot2实现R中的数据可视化</a></p><p id="f5bf" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">ggplot中的绘图语法遵循构建图形的简单分层方法。</p><ol class=""><li id="e965" class="nh ni it ls b lt lu lw lx mm nj mn nk mo nl ml nm nn no np bi translated">数据</li><li id="1074" class="nh ni it ls b lt nq lw nr mm ns mn nt mo nu ml nm nn no np bi translated">美学——变量</li><li id="cd5b" class="nh ni it ls b lt nq lw nr mm ns mn nt mo nu ml nm nn no np bi translated">几何样式-这是您定义图形样式的地方</li><li id="0bb8" class="nh ni it ls b lt nq lw nr mm ns mn nt mo nu ml nm nn no np bi translated">用于定制的附加层—标题、标签、轴等。</li></ol><p id="0ee9" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">结构看起来像这样。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="84cf" class="oa kv it nw b gy ob oc l od oe">ggplot(data = Example_Data) +<br/>       aes(x = Variable_1, y = Variable_2) +<br/>       geom_bar()   #this is an example of a bar plot sysntax</span></pre></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><p id="071d" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">对于本教程，我将假设您对R概念有基本的工作熟练程度。</p><p id="1edb" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">我们开始吧！</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="bd6c" class="ku kv it bd kw kx mx kz la lb my ld le jz mz ka lg kc na kd li kf nb kg lk ll bi translated">准备好我们的环境</h1><p id="d11b" class="pw-post-body-paragraph lp lq it ls b lt nc ju lv lw nd jx ly mm ne mb mc mn nf mf mg mo ng mj mk ml im bi translated">首先，我们需要安装tidyverse和ggplot2包。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="6a9d" class="oa kv it nw b gy ob oc l od oe">install.packages(c("ggplot2", "tidyverse")</span></pre><p id="bcc3" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">接下来，我们需要加载ggplot2库。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="b3b6" class="oa kv it nw b gy ob oc l od oe">library(ggplot2)</span></pre></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="bd03" class="ku kv it bd kw kx mx kz la lb my ld le jz mz ka lg kc na kd li kf nb kg lk ll bi translated">条形图</h1><p id="27fe" class="pw-post-body-paragraph lp lq it ls b lt nc ju lv lw nd jx ly mm ne mb mc mn nf mf mg mo ng mj mk ml im bi translated">对于数据，我们将使用一个名为<em class="lr"> reviews的数据集。</em>文件已经读入我们的环境。<em class="lr">评论</em>数据集收集了来自4个主要评论网站的电影评论，分别是Fandango、烂番茄、IMDB和Metacritic。</p><p id="a7f2" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">我们感兴趣的输入是，</p><ol class=""><li id="89e8" class="nh ni it ls b lt lu lw lx mm nj mn nk mo nl ml nm nn no np bi translated">数据= <em class="lr">评论</em></li><li id="409c" class="nh ni it ls b lt nq lw nr mm ns mn nt mo nu ml nm nn no np bi translated">美学= (x轴=评分网站，y轴=平均评分)</li><li id="1818" class="nh ni it ls b lt nq lw nr mm ns mn nt mo nu ml nm nn no np bi translated">几何样式=条形图</li></ol><p id="b9c2" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">要创建一个显示每个网站平均评分的条形图，我们可以执行以下操作。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="d93b" class="oa kv it nw b gy ob oc l od oe">ggplot(data=reviews) +<br/>    aes(x = Rating_Site, y = avg) +<br/>        geom_bar(stat = 'identity')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/e755346f419bea9c99191cf0f8e57e5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6kesgk-GoHaxYEgWxZJ0jA.png"/></div></div></figure></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="3ebb" class="ku kv it bd kw kx mx kz la lb my ld le jz mz ka lg kc na kd li kf nb kg lk ll bi translated">直方图</h1><p id="64d5" class="pw-post-body-paragraph lp lq it ls b lt nc ju lv lw nd jx ly mm ne mb mc mn nf mf mg mo ng mj mk ml im bi translated">直方图向我们展示了一个值出现的频率。下面是一个直方图，显示了我们的点评数据集中评分的频率分布。请注意，添加了一些附加层。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="3dec" class="oa kv it nw b gy ob oc l od oe">ggplot(data = reviews) +<br/>    aes(x = Rating, <strong class="nw iu">fill </strong>= "red") +<br/>        <strong class="nw iu">geom_histogram</strong>(bins=30) +<br/>        <strong class="nw iu">labs</strong>(title = "Distribution of Ratings")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/7f6dae071648efe2399dcf30ae13cac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W3YuqG0J1k3Ttuhhah3hrA.jpeg"/></div></div></figure><p id="dae1" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">其他步骤:</p><ol class=""><li id="4617" class="nh ni it ls b lt lu lw lx mm nj mn nk mo nl ml nm nn no np bi translated">填充——我们在美学层使用它来指定我们想要的颜色。</li><li id="332b" class="nh ni it ls b lt nq lw nr mm ns mn nt mo nu ml nm nn no np bi translated">geom_histogram() —这里我们定义我们想要一个直方图。</li><li id="f1b5" class="nh ni it ls b lt nq lw nr mm ns mn nt mo nu ml nm nn no np bi translated">实验室——为了添加标题，我们为<em class="lr">标签使用了一个新图层。</em></li></ol><p id="ff12" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">在这里，我们可以看到，我们改变和增加了3个新的层。ggplot使得根据我们的个人喜好定制图形变得非常容易。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="8e98" class="ku kv it bd kw kx mx kz la lb my ld le jz mz ka lg kc na kd li kf nb kg lk ll bi translated">箱线图</h1><p id="ad6f" class="pw-post-body-paragraph lp lq it ls b lt nc ju lv lw nd jx ly mm ne mb mc mn nf mf mg mo ng mj mk ml im bi translated">箱线图是可视化描述性统计的另一个优秀工具。如果您想了解更多关于boxplots的信息，请查看这篇来自数据科学作家伙伴的文章</p><p id="dd71" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">下面是一个箱线图，显示了所有评级网站的分布情况。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="daba" class="oa kv it nw b gy ob oc l od oe">ggplot(data=reviews) +<br/>    aes(x=Rating_Site, y = Rating, <strong class="nw iu">color = Rating_Site</strong>) +<br/>        <strong class="nw iu">geom_boxplot</strong>() +<br/>            labs(title="Comparison of Movie Ratings") +<br/>                theme(<strong class="nw iu">panel.background</strong> = element_rect(fill = "white"), <strong class="nw iu">legend.position</strong>="none")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/c40a86464fd146846d574c925f580b06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*me2T_1B3-6nWugn1-wHwxQ.png"/></div></div></figure><p id="d584" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">现在我们看看这个箱线图，我们已经改变或添加了一些新的层。</p><ol class=""><li id="2ed2" class="nh ni it ls b lt lu lw lx mm nj mn nk mo nl ml nm nn no np bi translated">颜色—颜色允许我们定制元素的线条边框，这里我们选择传入变量rating_site。这使得每个盒子的颜色彼此不同。</li><li id="bc4f" class="nh ni it ls b lt nq lw nr mm ns mn nt mo nu ml nm nn no np bi translated">geom _ box plot()-陈述图形的样式</li><li id="23ae" class="nh ni it ls b lt nq lw nr mm ns mn nt mo nu ml nm nn no np bi translated">panel.background —这允许我们移除灰色背景并用白色填充它。我个人倾向于白色背景，但是根据你想要表达的内容，有时候不同颜色的背景会更有用。</li><li id="6f4b" class="nh ni it ls b lt nq lw nr mm ns mn nt mo nu ml nm nn no np bi translated">legend.position —这里我声明移除图例标签。为什么？如果我让图例可见，它只会说明它所指的每个盒状图的颜色是哪个rating_site。这是重复的，因为很明显xlabels已经向我们显示了rating_site。</li></ol><p id="e08e" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">总的来说，我们可以看到代表Fandango评级的方框在y轴上比其他网站的要高。相比之下，烂番茄盒子更长，这意味着评级更加分散。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="1928" class="ku kv it bd kw kx mx kz la lb my ld le jz mz ka lg kc na kd li kf nb kg lk ll bi translated">概观</h1><p id="920c" class="pw-post-body-paragraph lp lq it ls b lt nc ju lv lw nd jx ly mm ne mb mc mn nf mf mg mo ng mj mk ml im bi translated">ggplot是r中最强大的可视化工具之一。一旦您深入研究这个主题，您就会发现您可以拥有多少可定制性来创建丰富多彩、详细生动的图形。</p><p id="b919" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">在ggplot库中以及其他流行的r库中有更多可用的图形，值得探索所有不同的选项并找到适合您的编码和分析风格的库。</p><p id="9bd7" class="pw-post-body-paragraph lp lq it ls b lt lu ju lv lw lx jx ly mm ma mb mc mn me mf mg mo mi mj mk ml im bi translated">请继续关注——我将分享更多关于在ggplot中创建其他图形的教程。</p></div></div>    
</body>
</html>