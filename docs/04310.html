<html>
<head>
<title>Install and configure OpenCV-4.2.0 in Windows 10 — VC++</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Windows 10 中安装和配置 OpenCV-4 . 2 . 0—v c++</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/install-and-configure-opencv-4-2-0-in-windows-10-vc-d132c52063a1?source=collection_archive---------1-----------------------#2020-04-19">https://towardsdatascience.com/install-and-configure-opencv-4-2-0-in-windows-10-vc-d132c52063a1?source=collection_archive---------1-----------------------#2020-04-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a4e7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在 Windows 10 中安装 OpenCV-4.2.0 的完整指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/35dd053b18875c569bc3264da10c9edf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_3jVbFJHcGwHK9KESixOpA.png"/></div></div></figure><p id="6199" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这篇文章将指导你在两种不同的环境下在 Windows 10 (64 位)中安装和配置 OpenCV-4.2.0 的所有步骤:</p><ul class=""><li id="40ea" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">OpenCV 与 Visual Studio 2019，用于 C++开发</li><li id="11ba" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">OpenCV 和 Anaconda，用于 Python 3.6.0+开发</li></ul><p id="88a9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我将在这里重点介绍 OpenCV for Visual Studio with C++，python 和 Anaconda 的其他教程部分可以在<a class="ae mb" href="https://medium.com/p/7a7386ae024/edit" rel="noopener"> <em class="mc">这里</em> </a> <em class="mc">找到。</em></p><blockquote class="md me mf"><p id="3dd4" class="kr ks mc kt b ku kv jr kw kx ky ju kz mg lb lc ld mh lf lg lh mi lj lk ll lm ij bi translated"><strong class="kt ir">注意</strong>:为了跟随教程，我假设你已经安装了<a class="ae mb" href="https://visualstudio.microsoft.com/vs/community/" rel="noopener ugc nofollow" target="_blank"> Visual Studio 2019 </a>。如果没有，请在继续阅读之前安装这些工具。</p></blockquote></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><h1 id="ff65" class="mq mr iq bd ms mt mu mv mw mx my mz na jw nb jx nc jz nd ka ne kc nf kd ng nh bi translated">适用于 Visual Studio 2019 的 OpenCV-4.2.0</h1><p id="f8e9" class="pw-post-body-paragraph kr ks iq kt b ku ni jr kw kx nj ju kz la nk lc ld le nl lg lh li nm lk ll lm ij bi translated">为 Visual C++开发设置 OpenCV 的所有必要步骤。</p><h2 id="ed07" class="nn mr iq bd ms no np dn mw nq nr dp na la ns nt nc le nu nv ne li nw nx ng ny bi translated">步骤 1:安装 C++桌面开发工作负载</h2><p id="77a0" class="pw-post-body-paragraph kr ks iq kt b ku ni jr kw kx nj ju kz la nk lc ld le nl lg lh li nm lk ll lm ij bi translated">打开 Visual Studio 安装工具，将 C++ for desktop development 作为工作负载添加到当前的 Visual Studio IDE 版本中。这一步是必不可少的，因为如果没有所有 C++所需的库，就不能在 VS 中使用 OpenCV。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/b886365df968526383a5e80fbf551f5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KpUkNHJRyViu-jJ3f_Gd-g.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">Visual Studio 安装程序向导</p></figure><h2 id="f367" class="nn mr iq bd ms no np dn mw nq nr dp na la ns nt nc le nu nv ne li nw nx ng ny bi translated">步骤 2:下载并安装 OpenCV-4.2.0</h2><p id="07a0" class="pw-post-body-paragraph kr ks iq kt b ku ni jr kw kx nj ju kz la nk lc ld le nl lg lh li nm lk ll lm ij bi translated">下载适用于 Windows 平台的 OpenCV 4.2.0 最新稳定版(opencv-4.2.0-vc14_vc15.exe)。进入 OpenCV 官方网站:<a class="ae mb" href="https://opencv.org/" rel="noopener ugc nofollow" target="_blank">https://opencv.org/</a>-&gt;-<strong class="kt ir">资源</strong>-&gt;-<strong class="kt ir">发布</strong>点击 Windows 平台。你将被重定向到 SourceForge，下载将自动开始。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/2c12a603a667cb58bbf1160b3406169c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w5LTjsfo7k-sV3VRHLk89Q.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">OpenCV-4.2.0 版本:<a class="ae mb" href="https://opencv.org/releases/" rel="noopener ugc nofollow" target="_blank">https://opencv.org/releases/</a></p></figure><p id="c38c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在运行下载之前。exe 文件，转到 C:\文件夹并添加一个名为 opencv-4.2.0 的新文件夹。运行安装程序并将 zip 文件解压到新创建的 opencv-4.2.0 文件夹中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/686ef02fd9649e93a514cb7e43dc6df0.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*w49u41pzsTm9s1T8Sxeiag.png"/></div><p class="oa ob gj gh gi oc od bd b be z dk translated">将包含 OpenCV 编译版本的 zip 文件解压到您的文件夹中</p></figure><h2 id="0da7" class="nn mr iq bd ms no np dn mw nq nr dp na la ns nt nc le nu nv ne li nw nx ng ny bi translated">步骤 3:将 OpenCV 二进制文件添加到您的系统路径中</h2><p id="2f84" class="pw-post-body-paragraph kr ks iq kt b ku ni jr kw kx nj ju kz la nk lc ld le nl lg lh li nm lk ll lm ij bi translated">一旦 OpenCV 正确地安装在您的文件夹中，您现在必须将二进制文件<code class="fe og oh oi oj b">C:\OpenCV-4.2.0\opencv\build\x64\vc15\bin</code>添加到您的系统路径中，这样您就可以通过命令行轻松地访问 OpenCV 可执行文件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/a186da02b5ad2a5b77fb9b9d71f3ed8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*CyPKi3akYEn9c9hf2Rj-Zg.png"/></div><p class="oa ob gj gh gi oc od bd b be z dk translated">编辑系统路径</p></figure><h2 id="3649" class="nn mr iq bd ms no np dn mw nq nr dp na la ns nt nc le nu nv ne li nw nx ng ny bi translated">步骤 4:配置 Visual Studio 项目以运行 OpenCV</h2><p id="4386" class="pw-post-body-paragraph kr ks iq kt b ku ni jr kw kx nj ju kz la nk lc ld le nl lg lh li nm lk ll lm ij bi translated">打开 Visual Studio 2019，选择创建一个新项目，然后转到 C++控制台应用程序模板。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/8e61b1c9e62604cbc3fd0adf6206adc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qGOBPULJPA9CiZEa8sOKWA.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">创建一个新项目，并选择控制台应用程序 C++模板</p></figure><p id="c793" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">创建项目后，您应该有一个布局，其右侧有一个解决方案资源管理器，其中有一个源文件，并且在窗口上方的功能区中，您应该看到针对<code class="fe og oh oi oj b">x86</code>平台的<code class="fe og oh oi oj b">Debug</code>，这意味着该项目将针对 x86 windows 体系结构以调试模式构建和运行。</p><ul class=""><li id="61b8" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">首先，您应该将解决方案平台从<code class="fe og oh oi oj b">x86</code>更改为<code class="fe og oh oi oj b">x64</code></li><li id="9108" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">其次，您必须更改<strong class="kt ir">项目属性</strong>来添加 OpenCV 库</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/44b59c604ba774804b6e577d5f33ce9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vA1u5OyLg8NDdYBiovo1EQ.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">更改目标解决方案平台，并转到项目属性</p></figure><p id="fb17" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在能够执行任何代码之前，有许多属性需要编辑:</p><ol class=""><li id="7670" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm om lt lu lv bi translated">转到<strong class="kt ir">配置属性/VC++目录</strong>为 OpenCV 添加包含和库目录。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/bd1033d2fc17e9efc69df80079e3f5b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r9sZOl-niZqJeixdSkTw6w.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">编辑包含目录和库目录</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/7678cdebd31991a1418c8bd9146ce377.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N6iv2GwlKo3PcRLWkjBFwQ.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">单击蓝色条目旁边的右箭头</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/e13b439cac293ac401a2af5b7cb74940.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/1*ROLujpBot_8LXMuBKmzQtw.png"/></div><p class="oa ob gj gh gi oc od bd b be z dk translated">包括内部系统路径</p></figure><p id="457e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于包含目录，您必须添加以下路径:<code class="fe og oh oi oj b">C:\OpenCV-4.2.0\opencv\build\include.</code>对<strong class="kt ir">库目录</strong>做同样的操作，添加这个内部路径:<code class="fe og oh oi oj b">C:\OpenCV-4.2.0\opencv\build\x64\vc15\lib.</code></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/c2897b14f216301f03e80628983dec5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WKjheD6M_BfiPtRWhu7ZXQ.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">Include 和 Lib 目录都添加到项目中</p></figure><p id="5140" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">2.用<code class="fe og oh oi oj b">opencv_world420d.lib</code> OpenCV 动态库编辑 VC++项目链接器。你会在这里找到<strong class="kt ir">DLL</strong>(<strong class="kt ir">D</strong><em class="mc">dynamic</em><strong class="kt ir"><em class="mc">L</em></strong><em class="mc">ink</em><strong class="kt ir"><em class="mc">L</em></strong><em class="mc">ibrary</em>):<code class="fe og oh oi oj b">C:\OpenCV-4.2.0\opencv\build\x64\vc15\lib</code>复制文件名<code class="fe og oh oi oj b">opencv_world420d.lib</code>粘贴到依赖框中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/ba6f11b06d9ba50f2a0462f24d930662.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s7Q7xs_cbWsnNPbC2ayteQ.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">完成后，单击“确定”按钮</p></figure><h2 id="1fdb" class="nn mr iq bd ms no np dn mw nq nr dp na la ns nt nc le nu nv ne li nw nx ng ny bi translated">最后一步:测试一些代码</h2><p id="b358" class="pw-post-body-paragraph kr ks iq kt b ku ni jr kw kx nj ju kz la nk lc ld le nl lg lh li nm lk ll lm ij bi translated">最后，您可以在 visual studio IDE 中运行这个演示代码，看看它是否工作正常。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/5d32d081f1547721372d2a123dcda018.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*u81IeDQ4OuCM56316tiMCA.png"/></div><p class="oa ob gj gh gi oc od bd b be z dk translated">生成的图像</p></figure><p id="7832" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就这样，您现在可以轻松地使用 OpenCV 了。😉</p></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><p id="63e7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">更多安装信息，请访问<a class="ae mb" href="https://docs.opencv.org/2.4/doc/tutorials/introduction/windows_visual_studio_Opencv/windows_visual_studio_Opencv.html" rel="noopener ugc nofollow" target="_blank"> OpenCV 官方指南</a>。</p></div></div>    
</body>
</html>