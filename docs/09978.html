<html>
<head>
<title>Deep Reinforcement Learning With Python | Part 3| Using Tensorboard to Analyse Trained Models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 进行深度强化学习|第 3 部分|使用 Tensorboard 分析训练好的模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/deep-reinforcement-learning-with-python-part-3-using-tensorboard-to-analyse-trained-models-606c214c14c7?source=collection_archive---------30-----------------------#2020-07-14">https://towardsdatascience.com/deep-reinforcement-learning-with-python-part-3-using-tensorboard-to-analyse-trained-models-606c214c14c7?source=collection_archive---------30-----------------------#2020-07-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/e55bf90ee069dfaabe75e058efccb7d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a9F8vOTfpDEM52eW5SSXAQ.jpeg"/></div></div></figure><div class=""/><h1 id="b573" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">在前面的部分中:</h1><ul class=""><li id="4dcb" class="kz la je lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated"><a class="ae lr" href="https://medium.com/p/reinforcement-learning-with-python-part-1-creating-the-environment-dad6e0237d2d" rel="noopener">第一部分</a>讲解并创建游戏环境。</li></ul><div class="is it gp gr iu ls"><a rel="noopener follow" target="_blank" href="/reinforcement-learning-with-python-part-1-creating-the-environment-dad6e0237d2d"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd jf gy z fp lx fr fs ly fu fw jd bi translated">Python 强化学习|第 1 部分|创建环境</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">设计和建立一个游戏环境，允许 RL 代理在上面训练和玩。</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">towardsdatascience.com</p></div></div><div class="mb l"><div class="mc l md me mf mb mg ja ls"/></div></div></a></div><ul class=""><li id="b83c" class="kz la je lb b lc mh le mi lg mj li mk lk ml lm ln lo lp lq bi translated"><a class="ae lr" href="https://medium.com/p/deep-reinforcement-learning-with-python-part-2-creating-training-the-rl-agent-using-deep-q-d8216e59cf31" rel="noopener">第二部分</a>讨论了训练 DQN 的过程，解释了 DQNs 并给出了选择 DQN 而不是 Q-Learning 的理由。</li></ul><div class="is it gp gr iu ls"><a rel="noopener follow" target="_blank" href="/deep-reinforcement-learning-with-python-part-2-creating-training-the-rl-agent-using-deep-q-d8216e59cf31"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd jf gy z fp lx fr fs ly fu fw jd bi translated">使用 Python 的深度强化学习|第 2 部分|使用深度 Q 创建和训练 RL 代理…</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">在第一部分，我们经历了制作游戏环境，并逐行解释。在这一部分，我们是…</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">towardsdatascience.com</p></div></div><div class="mb l"><div class="mc l md me mf mb mg ja ls"/></div></div></a></div><h1 id="0107" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">在这一部分中:</h1><p id="b396" class="pw-post-body-paragraph mm mn je lb b lc ld mo mp le lf mq mr lg ms mt mu li mv mw mx lk my mz na lm im bi translated">我们将:</p><ul class=""><li id="3e5a" class="kz la je lb b lc mh le mi lg mj li mk lk ml lm ln lo lp lq bi translated">使用 Tensorboard 可视化训练好的模型。</li><li id="9ec5" class="kz la je lb b lc nb le nc lg nd li ne lk nf lm ln lo lp lq bi translated">解释加载和尝试已训练模型的方式。</li><li id="a132" class="kz la je lb b lc nb le nc lg nd li ne lk nf lm ln lo lp lq bi translated">用最好的模型，让它玩游戏。</li></ul><h1 id="5120" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">使用张量板:</h1><p id="8f07" class="pw-post-body-paragraph mm mn je lb b lc ld mo mp le lf mq mr lg ms mt mu li mv mw mx lk my mz na lm im bi translated">1-使用修改的 Tensorboard 使 Tensorboard 在一个日志文件中记录来自训练过程中所有情节的数据，而不是每次我们拟合模型时都制作新的日志文件。</p><p id="f488" class="pw-post-body-paragraph mm mn je lb b lc mh mo mp le mi mq mr lg ng mt mu li nh mw mx lk ni mz na lm im bi translated">下一个代码<strong class="lb jf"><em class="nj">modified tensor board</em></strong>来自 sentdex 的<a class="ae lr" href="https://pythonprogramming.net/deep-q-learning-dqn-reinforcement-learning-python-tutorial/" rel="noopener ugc nofollow" target="_blank">这个博客</a>，我只是稍微修改了一下，让它可以在 TensorFlow2.0 上运行:</p><figure class="nk nl nm nn gt iv"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="357b" class="pw-post-body-paragraph mm mn je lb b lc mh mo mp le mi mq mr lg ng mt mu li nh mw mx lk ni mz na lm im bi translated">2-在代理类的 __init__ 中定义修改后的 tensorboard 的对象:</p><figure class="nk nl nm nn gt iv"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="bcd3" class="pw-post-body-paragraph mm mn je lb b lc mh mo mp le mi mq mr lg ng mt mu li nh mw mx lk ni mz na lm im bi translated"><strong class="lb jf"> <em class="nj">路径</em> </strong>和<strong class="lb jf"> <em class="nj">名称</em> </strong>用于定义保存日志文件的完整路径。</p><p id="a7ae" class="pw-post-body-paragraph mm mn je lb b lc mh mo mp le mi mq mr lg ng mt mu li nh mw mx lk ni mz na lm im bi translated">3-拟合模型时，将修改后的张量板作为回调传递:</p><figure class="nk nl nm nn gt iv"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="9b1a" class="pw-post-body-paragraph mm mn je lb b lc mh mo mp le mi mq mr lg ng mt mu li nh mw mx lk ni mz na lm im bi translated">4-每集开始时:</p><figure class="nk nl nm nn gt iv"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="7351" class="pw-post-body-paragraph mm mn je lb b lc mh mo mp le mi mq mr lg ng mt mu li nh mw mx lk ni mz na lm im bi translated">5-要更新日志，请使用下一行:</p><figure class="nk nl nm nn gt iv"><div class="bz fp l di"><div class="no np l"/></div></figure><h1 id="eb2d" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">可视化日志:</h1><p id="79f8" class="pw-post-body-paragraph mm mn je lb b lc ld mo mp le lf mq mr lg ms mt mu li mv mw mx lk my mz na lm im bi translated">在“logs”文件夹所在的目录下打开终端，并运行:</p><pre class="nk nl nm nn gt nq nr ns nt aw nu bi"><span id="7700" class="nv kc je nr b gy nw nx l ny nz">tensorboard --logdir="logs/"</span></pre><figure class="nk nl nm nn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oa"><img src="../Images/6862171dc96e3e55b79274ddbeb27584.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*giG_mlt6Di1yeBsNr286qQ.jpeg"/></div></div></figure><figure class="nk nl nm nn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oa"><img src="../Images/814365480432a21238ea2bcfb2a9392b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UjS3b35XTQY8ojFtXgfBzA.jpeg"/></div></div></figure><p id="b679" class="pw-post-body-paragraph mm mn je lb b lc mh mo mp le mi mq mr lg ng mt mu li nh mw mx lk ni mz na lm im bi translated">将出现一个浏览器窗口:</p><figure class="nk nl nm nn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ob"><img src="../Images/837cf90153a8159a8206984c7f645ca6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pTYckogSPDhnZnLqZ5YCSg.jpeg"/></div></div></figure><figure class="nk nl nm nn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ob"><img src="../Images/b9fb4954c7849c2bc81f8bc277d0f437.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Tm5fqeB_40FhSys_FjD4Q.jpeg"/></div></div></figure><figure class="nk nl nm nn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ob"><img src="../Images/2f0f2a44d8a0e4f9424ded3c95958ada.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XLCNE9lfRIOZMHXZDNCNog.jpeg"/></div></div></figure><p id="e7be" class="pw-post-body-paragraph mm mn je lb b lc mh mo mp le mi mq mr lg ng mt mu li nh mw mx lk ni mz na lm im bi translated">你可以自己尝试其他选项。</p><p id="b3e9" class="pw-post-body-paragraph mm mn je lb b lc mh mo mp le mi mq mr lg ng mt mu li nh mw mx lk ni mz na lm im bi translated">通过使用这些可视化，我们可以看到记录的变量之间的关系，例如<em class="nj"> epsilon </em>和<em class="nj"> max_reward。</em></p><h1 id="db6e" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">加载和使用训练模型:</h1><figure class="nk nl nm nn gt iv"><div class="bz fp l di"><div class="no np l"/></div></figure><h1 id="e87a" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">代理人玩游戏的一些镜头:</h1><figure class="nk nl nm nn gt iv"><div class="bz fp l di"><div class="oc np l"/></div></figure></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><h1 id="bb31" class="kb kc je bd kd ke ok kg kh ki ol kk kl km om ko kp kq on ks kt ku oo kw kx ky bi translated">资源:</h1><ul class=""><li id="211d" class="kz la je lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated"><a class="ae lr" href="https://www.youtube.com/watch?v=t3fbETsIBCY&amp;list=PLQVvvaa0QuDezJFIOU5wDdfy4e9vdnx-7&amp;index=5" rel="noopener ugc nofollow" target="_blank"> <strong class="lb jf">深度 Q 学习 w/ DQN —强化学习 p.5 </strong> </a></li></ul></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><p id="7b11" class="pw-post-body-paragraph mm mn je lb b lc mh mo mp le mi mq mr lg ng mt mu li nh mw mx lk ni mz na lm im bi translated">本系列的其他部分:</p><div class="is it gp gr iu ls"><a rel="noopener follow" target="_blank" href="/reinforcement-learning-with-python-part-1-creating-the-environment-dad6e0237d2d"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd jf gy z fp lx fr fs ly fu fw jd bi translated">Python 强化学习|第 1 部分|创建环境</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">设计和建立一个游戏环境，允许 RL 代理在上面训练和玩。</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">towardsdatascience.com</p></div></div><div class="mb l"><div class="mc l md me mf mb mg ja ls"/></div></div></a></div><div class="is it gp gr iu ls"><a rel="noopener follow" target="_blank" href="/deep-reinforcement-learning-with-python-part-2-creating-training-the-rl-agent-using-deep-q-d8216e59cf31"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd jf gy z fp lx fr fs ly fu fw jd bi translated">使用 Python 的深度强化学习|第 2 部分|使用深度 Q 创建和训练 RL 代理…</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">在第一部分，我们经历了制作游戏环境，并逐行解释。在这一部分，我们是…</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">towardsdatascience.com</p></div></div><div class="mb l"><div class="mc l md me mf mb mg ja ls"/></div></div></a></div></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><p id="59c0" class="pw-post-body-paragraph mm mn je lb b lc mh mo mp le mi mq mr lg ng mt mu li nh mw mx lk ni mz na lm im bi translated">您可以关注我:</p><ul class=""><li id="f491" class="kz la je lb b lc mh le mi lg mj li mk lk ml lm ln lo lp lq bi translated"><a class="ae lr" href="https://twitter.com/ModMaamari" rel="noopener ugc nofollow" target="_blank"> <strong class="lb jf"> <em class="nj">推特</em></strong>T5】</a></li><li id="7fd9" class="kz la je lb b lc nb le nc lg nd li ne lk nf lm ln lo lp lq bi translated"><a class="ae lr" href="https://www.linkedin.com/in/mohammed-maamari/" rel="noopener ugc nofollow" target="_blank"><strong class="lb jf"><em class="nj">LinkedIn</em></strong></a></li><li id="5152" class="kz la je lb b lc nb le nc lg nd li ne lk nf lm ln lo lp lq bi translated"><a class="ae lr" href="https://www.facebook.com/mamarih1/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb jf"> <em class="nj">脸谱</em> </strong> </a></li></ul></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><h1 id="67bf" class="kb kc je bd kd ke ok kg kh ki ol kk kl km om ko kp kq on ks kt ku oo kw kx ky bi translated">您可能还喜欢:</h1><ul class=""><li id="b226" class="kz la je lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated"><a class="ae lr" href="https://medium.com/@mamarih1/deep-neural-networks-for-regression-problems-81321897ca33" rel="noopener"> <strong class="lb jf">深度神经网络用于回归问题</strong> </a></li><li id="7919" class="kz la je lb b lc nb le nc lg nd li ne lk nf lm ln lo lp lq bi translated"><a class="ae lr" href="https://blog.goodaudience.com/ai-generates-taylor-swifts-song-lyrics-6fd92a03ef7e" rel="noopener ugc nofollow" target="_blank"> <strong class="lb jf"> AI 生成泰勒斯威夫特的歌词</strong> </a></li><li id="f3d8" class="kz la je lb b lc nb le nc lg nd li ne lk nf lm ln lo lp lq bi translated"><a class="ae lr" href="https://medium.com/datadriveninvestor/introduction-to-random-forest-algorithm-with-python-9efd1d8f0157" rel="noopener"> <strong class="lb jf">用 Python 介绍随机森林算法</strong> </a></li><li id="1a9c" class="kz la je lb b lc nb le nc lg nd li ne lk nf lm ln lo lp lq bi translated"><a class="ae lr" href="https://medium.com/@mamarih1/machine-learning-crash-course-with-tensorflow-apis-summary-524e0fa0a606" rel="noopener"> <strong class="lb jf">带 TensorFlow APIs 的机器学习速成班汇总</strong> </a></li><li id="c7e7" class="kz la je lb b lc nb le nc lg nd li ne lk nf lm ln lo lp lq bi translated"><a class="ae lr" href="https://medium.com/@mamarih1/how-to-make-a-cnn-using-tensorflow-and-keras-dd0aaaed8ab4" rel="noopener"> <strong class="lb jf">如何用 Tensorflow 和 Keras </strong> </a> <strong class="lb jf">制作一个 CNN？</strong></li><li id="6880" class="kz la je lb b lc nb le nc lg nd li ne lk nf lm ln lo lp lq bi translated"><a class="ae lr" href="https://medium.com/@mamarih1/how-to-choose-the-best-machine-learning-model-e1dbb46bdd4d" rel="noopener"> <strong class="lb jf">如何选择最好的机器学习模型？</strong> </a></li></ul></div></div>    
</body>
</html>