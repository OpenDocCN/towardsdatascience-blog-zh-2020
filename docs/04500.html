<html>
<head>
<title>Using Python To Visualize Stock Data to Candlestick Charts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python将股票数据可视化为蜡烛图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-python-to-visualize-stock-data-to-candlestick-charts-e1a5b08c8e9c?source=collection_archive---------5-----------------------#2020-04-22">https://towardsdatascience.com/using-python-to-visualize-stock-data-to-candlestick-charts-e1a5b08c8e9c?source=collection_archive---------5-----------------------#2020-04-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/80c150b676008b313a1fae7237f9cc41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Jk9kPUZS3OZTW1fz"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@m_b_m?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> M. B. M. </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="1f53" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">烛台数据是一个非常重要的方式来显示数据在股票市场如何移动。有些人可能用它来观察股票价格。有些人可能还会添加颜色，以便更好地形象化。许多人还用它来绘制交易模式。它们也非常有用，因为它们不是显示一个股票价格，而是有四个不同的价格点。这些包括开盘价、收盘价、最高价和最低价。</p><figure class="lf lg lh li gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi le"><img src="../Images/f96640d714e5d3a746651d7d9af0567f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CFmw_aBIH5F372Q5TbkBUw.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图片由<a class="ae kf" href="https://www.newtraderu.com/2019/08/28/candlestick-patterns-cheat-sheet/" rel="noopener ugc nofollow" target="_blank">https://www.newtraderu.com/</a>提供</p></figure><h2 id="ed13" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">概述代码</h2><p id="ce35" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">假设你以前有Python知识，我将在一个<a class="ae kf" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyter笔记本</a>中创建这一切。我将使用<code class="fe mh mi mj mk b"><a class="ae kf" href="http://pandas_datareader" rel="noopener ugc nofollow" target="_blank">pandas_datareader</a></code>从雅虎获取数据。然后，我将使用<code class="fe mh mi mj mk b"><a class="ae kf" href="https://plotly.com/" rel="noopener ugc nofollow" target="_blank">plotly</a></code>来绘制这些信息，将它们可视化到烛台上。所以一个简单的大纲应该是这样的:</p><ol class=""><li id="4feb" class="ml mm it ki b kj kk kn ko kr mn kv mo kz mp ld mq mr ms mt bi translated">导入必要的库</li><li id="ba70" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">使用<code class="fe mh mi mj mk b">pandas_datareader</code>从雅虎获取数据</li><li id="1d40" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">将数据存储到数据帧中</li><li id="0a11" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">将数据框与<code class="fe mh mi mj mk b">plotly</code>烛台格式匹配</li><li id="360a" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">使用<code class="fe mh mi mj mk b">plotly</code>将数据框中的数据可视化</li></ol><h2 id="02b1" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">创建代码</h2><p id="a8c4" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">从Jupyter开始，我做所有必要的进口。</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="c7be" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于这个例子，我将使用微软作为我的股票。我将股票代码设置为一个变量，然后使用<code class="fe mh mi mj mk b">pandas_datareader</code>从Yahoo获取信息并存储到一个变量中。它应该自动保存为DataFrame对象。对于日期，我只是把它设置为去年年初。</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="82a4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了让<code class="fe mh mi mj mk b">plotly</code>理解我们的数据，我们需要将它与正确的信息相匹配。他们把它变得简单，使用“痕迹”，把痕迹看作图形的选项。我们从数据帧中定义我们想要使用的内容，然后在选项中设置这些内容。</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="915e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们现在可以在<code class="fe mh mi mj mk b">plotly</code>中设置图表布局。</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="1c9e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们现在可以展示可视化。它应该看起来像这样。请随意使用工具来改变它。</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="nb na l"/></div></figure><h2 id="7b4b" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">奖金</h2><p id="db16" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><a class="ae kf" href="https://www.investopedia.com/terms/m/movingaverage.asp" rel="noopener ugc nofollow" target="_blank">均线</a>也可以作图！大多数交易者使用均线来观察股票的走向。有些人还使用不同的日期，在这些天里，如果T2交叉(当不同的移动平均线交叉时)发生，他们可以用它作为买入或卖出的信号。将它添加到我们的代码中非常简单。我们只是为每条均线创建单独的轨迹。我创建了一个30天均线的轨迹和一个50天均线的轨迹。</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="1042" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">更新后的图表应该如下所示。</p><figure class="lf lg lh li gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nd"><img src="../Images/bc19d17a55b85a05d5ba1ee80082713f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4oqnKqKXShpZGbArgN8QDA.png"/></div></div></figure><p id="5a36" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是使用Python将股票绘制成烛台的简单方法。使用跟踪可以添加更多的数据。我希望这对刚开始学习Python并且对金融数据感兴趣的人有所帮助。此外，这还深入研究了数据可视化，这使得模式的识别更容易。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="b59b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我其他一些涉及Python和Robinhood的文章:</p><div class="nl nm gp gr nn no"><a rel="noopener follow" target="_blank" href="/using-python-and-robinhood-to-create-a-simple-buy-low-sell-high-trading-bot-13f94fe93960"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd iu gy z fp nt fr fs nu fu fw is bi translated">使用Python和Robinhood创建一个简单的低买高卖交易机器人</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">所以我最近一直在折腾Robinhood，一直在努力理解股票。我不是财务顾问或…</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">towardsdatascience.com</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc jz no"/></div></div></a></div><div class="nl nm gp gr nn no"><a rel="noopener follow" target="_blank" href="/using-python-and-robinhood-to-build-an-iron-condor-options-trading-bot-4a16e29649b0"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd iu gy z fp nt fr fs nu fu fw is bi translated">使用Python和Robinhood构建一个钢铁秃鹰期权交易机器人</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">所以我最近发现了期权交易的潜在收益。</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">towardsdatascience.com</p></div></div><div class="nx l"><div class="od l nz oa ob nx oc jz no"/></div></div></a></div><p id="8d6a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以上代码可以在<a class="ae kf" href="https://gist.github.com/melvfnz/43fb917a58dafa473b7c99b96c5f747b" rel="noopener ugc nofollow" target="_blank">这里</a>找到，请随时关注我的交易之旅<a class="ae kf" href="https://www.patreon.com/melvfnz" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="8d5b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我在这里也有家教和职业指导！</p><p id="e593" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你们有任何问题、评论或顾虑，请不要忘记通过LinkedIn<a class="ae kf" href="https://www.linkedin.com/in/melvfernandez/" rel="noopener ugc nofollow" target="_blank">与我联系！</a></p></div></div>    
</body>
</html>