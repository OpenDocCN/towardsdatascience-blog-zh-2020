<html>
<head>
<title>A definitive guide for Setting up a Deep Learning Workstation with Ubuntu 18.04</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Ubuntu 18.04设置深度学习工作站的权威指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-definitive-guide-for-setting-up-a-deep-learning-workstation-with-ubuntu-18-04-5459d70e19c3?source=collection_archive---------2-----------------------#2020-05-24">https://towardsdatascience.com/a-definitive-guide-for-setting-up-a-deep-learning-workstation-with-ubuntu-18-04-5459d70e19c3?source=collection_archive---------2-----------------------#2020-05-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/750c26594516025c107ba9f8078dcba7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nOZjyVWUHxY9_FHDrktyrA.png"/></div></div></figure><h2 id="52b0" class="jc jd je bd b dl jf jg jh ji jj jk dk jl translated" aria-label="kicker paragraph">DL钻机</h2><div class=""/><div class=""><h2 id="63e7" class="pw-subtitle-paragraph kk jn je bd b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dk translated">CUDA，CuDNN，Python，Pytorch，Tensorflow，RAPIDS</h2></div><p id="1ac3" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">Lambda和其他供应商提供预建的<a class="ae ly" href="https://lambdalabs.com/gpu-workstations/vector?utm_source=medium-rahul-agarwal&amp;utm_medium=blog-shout-out&amp;utm_campaign=blogin" rel="noopener ugc nofollow" target="_blank">深度学习工作站</a>，配备新的安培RTX 3090、3080和3070 GPU——但如果你有兴趣构建自己的工作站，请继续阅读。</p><p id="531f" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">创建自己的工作站至少是我的一个梦想。我知道这个过程，但不知何故，我从来没有去过。</p><p id="2218" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">但这次我不得不这么做。因此，我找了一些空闲时间，在NVIDIA的帮助下创建了一个深度学习平台，他们非常有帮助。在这方面，特别感谢<a class="lz ma ep" href="https://medium.com/u/a994b4ad25d0?source=post_page-----5459d70e19c3--------------------------------" rel="noopener" target="_blank">乔希·帕特森</a>和迈克尔·库帕。</p><p id="e807" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">现在，每当我从安装角度创建整个深度学习设置时，我都会面临类似的挑战。这就像是带着各种各样的依赖和错误在兜圈子。这一次，我也不得不在整个配置没有错误的情况下尝试很多东西。</p><p id="7c8a" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><em class="mb">所以这一次，在我自己的系统中安装所有需求和它们的依赖关系时，我特意记录了所有的东西。</em></p><p id="0b25" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><strong class="le jo"> <em class="mb">这篇帖子是关于设置你自己的Linux Ubuntu 18.04系统，用于深度学习，拥有你可能需要的一切。</em>T9】</strong></p><p id="b4e1" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><em class="mb">如果首选预建的深度学习系统，我可以推荐工作站和服务器的</em> <a class="ae ly" href="https://www.exxactcorp.com/Deep-Learning-NVIDIA-GPU-Solutions?utm_source=web%20referral&amp;utm_medium=backlink&amp;utm_campaign=Rahul%20Agarwal" rel="noopener ugc nofollow" target="_blank"> <em class="mb"> Exxact的line </em> </a> <em class="mb">。</em></p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="ca42" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我假设你已经安装了新的Ubuntu 18.04。我从2017年的<a class="ae ly" href="https://blog.slavv.com/@slavivanov?source=post_page-----148c5ebe6415----------------------" rel="noopener ugc nofollow" target="_blank">斯拉夫·伊万诺夫的</a>精彩<a class="ae ly" href="https://blog.slavv.com/the-1700-great-deep-learning-box-assembly-setup-and-benchmarks-148c5ebe6415" rel="noopener ugc nofollow" target="_blank">帖子中获得了关于创建深度学习盒子的灵感。从设置的角度来看，你可以将它称为同一篇文章的2020版本，但从那时起许多事情都发生了变化，并且有许多关于Tensorflow和Pytorch不支持的特定CUDA版本的警告。</a></p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="1561" class="mj mk je bd ml mm mn mo mp mq mr ms mt kt mu ku mv kw mw kx mx kz my la mz na bi translated">启动</h1><figure class="nc nd ne nf gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nb"><img src="../Images/3886384ef30920c06fb34d8130e2f0c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vtmeemI4xu6B1Q12"/></div></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">由<a class="ae ly" href="https://unsplash.com/@sergeytrofimov?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Serghei Trofimov </a>在<a class="ae ly" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="1264" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">在对我们的安装做任何事情之前，我们需要将我们的Linux系统更新到最新的包。我们可以简单地通过使用:</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="1ff5" class="np mk je nl b gy nq nr l ns nt">sudo apt-get update<br/>sudo apt-get --assume-yes upgrade<br/>sudo apt-get --assume-yes install tmux build-essential gcc g++ make binutils<br/>sudo apt-get --assume-yes install software-properties-common<br/>sudo apt-get --assume-yes install git</span></pre><h1 id="c572" class="mj mk je bd ml mm nu mo mp mq nv ms mt kt nw ku mv kw nx kx mx kz ny la mz na bi translated">该过程</h1><p id="c9ce" class="pw-post-body-paragraph lc ld je le b lf nz ko lh li oa kr lk ll ob ln lo lp oc lr ls lt od lv lw lx im bi translated">现在我们已经做好了一切准备，我们要安装以下四样东西:</p><ol class=""><li id="bb59" class="oe of je le b lf lg li lj ll og lp oh lt oi lx oj ok ol om bi translated">GPU驱动程序:为什么你的电脑不支持高图形分辨率？或者你的显卡如何与你的python接口对话？</li><li id="51c0" class="oe of je le b lf on li oo ll op lp oq lt or lx oj ok ol om bi translated"><strong class="le jo"> CUDA </strong>:提供访问GPU指令集和并行计算单元的层。简单地说，它允许我们为GPU编写代码</li><li id="afdc" class="oe of je le b lf on li oo ll op lp oq lt or lx oj ok ol om bi translated"><strong class="le jo"> CuDNN </strong>:为深度学习网络提供原语的库</li><li id="c190" class="oe of je le b lf on li oo ll op lp oq lt or lx oj ok ol om bi translated"><strong class="le jo"> Pytorch、Tensorflow和Rapids </strong>:编码深度神经网络的高级API</li></ol></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h2 id="eb70" class="np mk je bd ml os ot dn mp ou ov dp mt ll ow ox mv lp oy oz mx lt pa pb mz jk bi translated">1.GPU驱动程序</h2><p id="3b44" class="pw-post-body-paragraph lc ld je le b lf nz ko lh li oa kr lk ll ob ln lo lp oc lr ls lt od lv lw lx im bi translated">第一步是添加最新的NVIDIA驱动程序。18.04版本可以选择GPU产品类型，Linux 64 bit，下载类型为“Linux长寿命”。</p><figure class="nc nd ne nf gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pc"><img src="../Images/3982d9d2179f519cbe7a52b052ea70da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*chrSc2Z7siRejY8urNLPiQ.png"/></div></div></figure><p id="ae75" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">点击搜索将带您进入下载页面:</p><figure class="nc nd ne nf gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pd"><img src="../Images/cfb3a83539ba6bd3170aaa4e4458ceee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k2a51lvIO9pcCNCy6HjI7Q.png"/></div></div></figure><p id="abe4" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以从这里下载驱动程序文件<code class="fe pe pf pg nl b">NVIDIA-Linux-x86_64–440.44.run</code>并使用以下命令运行它:</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="f472" class="np mk je nl b gy nq nr l ns nt">chmod +x <!-- -->NVIDIA-Linux-x86_64–440.44.run<br/>sudo sh <!-- -->NVIDIA-Linux-x86_64–440.44.run</span></pre><p id="7238" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">对于您来说，该文件可能会有不同的名称，这取决于最新的版本。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h2 id="90b3" class="np mk je bd ml os ot dn mp ou ov dp mt ll ow ox mv lp oy oz mx lt pa pb mz jk bi translated">2.库达</h2><p id="781c" class="pw-post-body-paragraph lc ld je le b lf nz ko lh li oa kr lk ll ob ln lo lp oc lr ls lt od lv lw lx im bi translated">我们现在需要安装CUDA工具包。不知何故，Pytorch和Tensorflow仍然不支持CUDA toolkit 10.2，所以我们将使用两者都支持的CUDA Toolkit 10.1。</p><p id="589a" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">此外，CUDA 10.1产品页面上的命令对我不起作用，我最终使用的命令是:</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="bdbd" class="np mk je nl b gy nq nr l ns nt">sudo apt-key adv --fetch-keys <a class="ae ly" href="http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1804/x86_64/7fa2af80.pub" rel="noopener ugc nofollow" target="_blank">http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1804/x86_64/7fa2af80.pub</a> &amp;&amp; echo "deb <a class="ae ly" href="https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1804/x86_64" rel="noopener ugc nofollow" target="_blank">https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1804/x86_64</a> /" | sudo tee /etc/apt/sources.list.d/cuda.list</span><span id="22e6" class="np mk je nl b gy ph nr l ns nt">sudo apt-get update &amp;&amp; sudo apt-get -o Dpkg::Options::="--force-overwrite" install cuda-10-1 cuda-drivers</span></pre><p id="453a" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">下一步是创建LD_LIBRARY_PATH，并将安装CUDA的路径附加到PATH变量中。只需在您的终端上运行以下命令。</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="f9a9" class="np mk je nl b gy nq nr l ns nt">echo 'export PATH=/usr/local/cuda-10.1/bin${PATH:+:${PATH}}' &gt;&gt; ~/.bashrc &amp;&amp; echo 'export LD_LIBRARY_PATH=/usr/local/cuda-10.1/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}' &gt;&gt; ~/.bashrc &amp;&amp; source ~/.bashrc &amp;&amp; sudo ldconfig</span></pre><p id="acf2" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">之后，可以使用以下命令检查CUDA是否安装正确:</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="14bd" class="np mk je nl b gy nq nr l ns nt">nvcc --version</span></pre><figure class="nc nd ne nf gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pi"><img src="../Images/92f8c77b5a35dd9950bbc261b4f266d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rCx-Z6n9LrO1wU2ronNQRg.png"/></div></div></figure><p id="9e47" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">如你所见，CUDA版本是我们想要的10.1。另外，检查您是否可以使用该命令:</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="1847" class="np mk je nl b gy nq nr l ns nt">nvidia-smi</span></pre><p id="edcd" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">对我来说，当我第一次使用它时，它显示了一个错误，但是一个简单的重启就解决了这个问题。我的两个NVIDIA显卡都光彩照人。不用担心显示屏上说支持的CUDA版本是10.2。我也被<a class="ae ly" href="https://stackoverflow.com/questions/53422407/different-cuda-versions-shown-by-nvcc-and-nvidia-smi" rel="noopener ugc nofollow" target="_blank">弄糊涂了</a>，但这只是<code class="fe pe pf pg nl b">nvidia-smi</code>中显示的图形驱动程序支持的最高CUDA版本。</p><figure class="nc nd ne nf gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pj"><img src="../Images/1948ba2fa5894440defdc1bc237869c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H3oKr6NpPC8CTgLxMuT8og.png"/></div></div></figure></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h2 id="4d6b" class="np mk je bd ml os ot dn mp ou ov dp mt ll ow ox mv lp oy oz mx lt pa pb mz jk bi translated">3.CuDNN</h2><p id="8cb2" class="pw-post-body-paragraph lc ld je le b lf nz ko lh li oa kr lk ll ob ln lo lp oc lr ls lt od lv lw lx im bi translated">如果我们不打算训练神经网络，那么所有这些库有什么用？CuDNN提供了深度学习的各种原语，后来被PyTorch/TensorFlow使用。</p><p id="ba4d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">但是我们首先需要得到一个<a class="ae ly" href="https://developer.nvidia.com/rdp/form/cudnn-download-survey" rel="noopener ugc nofollow" target="_blank">开发者帐号</a>来安装CuDNN。一旦你填写了注册表格，你会看到下面的屏幕。选择适合您的CUDA版本的cuDNN版本。对我来说，CUDA版本是10.1，所以我选择第二个。</p><figure class="nc nd ne nf gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pk"><img src="../Images/af5808ad061dd2406ff887c024d62c69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C4qj2I5GTQOipBSYLYtT9Q.png"/></div></div></figure><p id="ea10" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">选择合适的CuDNN版本后，屏幕会展开:</p><figure class="nc nd ne nf gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pl"><img src="../Images/3996d80e69535f83f2126817599d4f3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pR6n5mJF21fMXs_1L61bqw.png"/></div></div></figure><p id="0687" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">对于我的用例，我需要为Ubuntu 18.04下载三个文件:</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="2abf" class="np mk je nl b gy nq nr l ns nt"><a class="ae ly" href="https://developer.nvidia.com/compute/machine-learning/cudnn/secure/7.6.5.32/Production/10.1_20191031/Ubuntu18_04-x64/libcudnn7_7.6.5.32-1%2Bcuda10.1_amd64.deb" rel="noopener ugc nofollow" target="_blank">cuDNN Runtime Library for Ubuntu18.04  (Deb)</a></span><span id="02f8" class="np mk je nl b gy ph nr l ns nt"><a class="ae ly" href="https://developer.nvidia.com/compute/machine-learning/cudnn/secure/7.6.5.32/Production/10.1_20191031/Ubuntu18_04-x64/libcudnn7-dev_7.6.5.32-1%2Bcuda10.1_amd64.deb" rel="noopener ugc nofollow" target="_blank">cuDNN Developer Library for Ubuntu18.04  (Deb)</a></span><span id="3135" class="np mk je nl b gy ph nr l ns nt"><a class="ae ly" href="https://developer.nvidia.com/compute/machine-learning/cudnn/secure/7.6.5.32/Production/10.1_20191031/Ubuntu18_04-x64/libcudnn7-doc_7.6.5.32-1%2Bcuda10.1_amd64.deb" rel="noopener ugc nofollow" target="_blank">cuDNN Code Samples and User Guide for Ubuntu18.04  (Deb)</a></span></pre><p id="7f51" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">下载这些文件后，您可以使用这些命令进行安装。如果未来发生任何变化，您还可以看到确切的<a class="ae ly" href="https://docs.nvidia.com/deeplearning/sdk/cudnn-install/index.html" rel="noopener ugc nofollow" target="_blank">命令</a>:</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="0afb" class="np mk je nl b gy nq nr l ns nt"># Install the runtime library:<br/>sudo dpkg -i libcudnn7_7.6.5.32-1+cuda10.1_amd64.deb</span><span id="b94e" class="np mk je nl b gy ph nr l ns nt">#Install the developer library:<br/>sudo dpkg -i libcudnn7-dev_7.6.5.32-1+cuda10.1_amd64.deb</span><span id="00b8" class="np mk je nl b gy ph nr l ns nt">#Install the code samples and cuDNN User Guide(Optional):<br/>sudo dpkg -i libcudnn7-doc_7.6.5.32-1+cuda10.1_amd64.deb</span></pre></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h2 id="50e0" class="np mk je bd ml os ot dn mp ou ov dp mt ll ow ox mv lp oy oz mx lt pa pb mz jk bi translated">4.蟒蛇，Pytorch，张量流和急流</h2><p id="ddc9" class="pw-post-body-paragraph lc ld je le b lf nz ko lh li oa kr lk ll ob ln lo lp oc lr ls lt od lv lw lx im bi translated">最后，我们到达了症结所在。我们将安装大部分时间都要使用的软件。</p><p id="f307" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我们需要在虚拟环境中安装Python。我已经下载了python3，因为它是目前最稳定的版本，是时候和Python 2.7说再见了。当它持续的时候，它是伟大的。我们还将安装Pytorch和Tensorflow。在适用的特定任务中，我更喜欢他们两个。</p><p id="ba15" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">你可以去<a class="ae ly" href="https://www.anaconda.com/distribution/" rel="noopener ugc nofollow" target="_blank"> anaconda发行版</a>页面下载这个包。</p><figure class="nc nd ne nf gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pm"><img src="../Images/f7cc26021c40136ebc822de7d7c326b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5XDpHAe1Nhomj7g9Y71hTQ.png"/></div></div></figure><p id="6e14" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">下载后，您只需运行shell脚本:</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="ed65" class="np mk je nl b gy nq nr l ns nt">sudo sh Anaconda3-2019.10-Linux-x86_64.sh</span></pre><p id="a6a0" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您还需要在您的shell上运行这些命令，将一些命令添加到您的<code class="fe pe pf pg nl b">~/.bashrc</code>文件中，并使用最新的库版本更新conda发行版。</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="be53" class="np mk je nl b gy nq nr l ns nt">cat &gt;&gt; ~/.bashrc &lt;&lt; 'EOF'<br/>export PATH=$HOME/anaconda3/bin:${PATH}<br/>EOF</span><span id="62d4" class="np mk je nl b gy ph nr l ns nt">source .bashrc<br/>conda upgrade -y --all</span></pre><p id="c22d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">下一步是为你的深度学习追求创造一个新的环境，或者使用一个现有的环境。我使用以下工具创建了一个新的Conda环境:</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="99b2" class="np mk je nl b gy nq nr l ns nt">conda create --name py37</span></pre><p id="0787" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">这里，py37是我们为这个新的conda环境提供的名称。您可以使用以下方式激活conda环境:</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="4760" class="np mk je nl b gy nq nr l ns nt">conda activate py37</span></pre><p id="e7b0" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您现在应该能够看到类似这样的内容:</p><figure class="nc nd ne nf gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pn"><img src="../Images/8ddb9a81cebbef81ab3cdb45da383c16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mwCX-mQYZtSO6Dg0ul7Bmg.png"/></div></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">请注意终端中命令开头的py37</p></figure><p id="0cd9" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我们现在可以使用pip或conda将所有需要的包添加到这个环境中。正如我已经提到的，从<a class="ae ly" href="https://pytorch.org/get-started/locally/" rel="noopener ugc nofollow" target="_blank"> pytorch网站</a>看到的最新版本1.3还不能用于CUDA 10.2，所以我们很幸运有了CUDA 10.1。此外，我们需要将TensorFlow的版本指定为2.1.0，因为这个版本是使用10.1 CUDA构建的。</p><p id="88ee" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我还安装了RAPIDS，这是一个将各种数据科学工作负载转移到GPU的库。为什么GPU只用于深度学习而不用于数据处理？您可以从<a class="ae ly" href="https://rapids.ai/start.html" rel="noopener ugc nofollow" target="_blank"> rapids发布选择器</a>中获得安装rapids的命令:</p><figure class="nc nd ne nf gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi po"><img src="../Images/3885416153fba4a2d3eb516f85cdd551.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LL5OiZJki3GSs1qpdvC78A.png"/></div></div></figure><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="99db" class="np mk je nl b gy nq nr l ns nt">sudo apt install python3-pip</span><span id="8d83" class="np mk je nl b gy ph nr l ns nt">conda install -c rapidsai -c nvidia -c conda-forge -c defaults rapids=0.11 python=3.7 cudatoolkit=10.1</span><span id="bb7f" class="np mk je nl b gy ph nr l ns nt">pip install torchvision</span></pre><p id="a8b1" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">由于PyTorch安装会干扰TensorFlow，所以我在另一个环境中安装了TensorFlow。</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="38f5" class="np mk je nl b gy nq nr l ns nt">conda create --name tf<br/>conda activate tf<br/>pip install --upgrade tensorflow</span></pre><p id="1cbc" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">现在，我们可以通过在TF和Pytorch各自的环境中使用以下命令来检查它们的安装是否正确:</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="d815" class="np mk je nl b gy nq nr l ns nt"># Should print True<br/>python3 -c "import tensorflow as tf; print(tf.test.is_gpu_available())"</span><span id="b0a7" class="np mk je nl b gy ph nr l ns nt"># should print cuda<br/>python3 -c "import torch; print(torch.device('cuda' if torch.cuda.is_available() else 'cpu'))"</span></pre><p id="fd6d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">如果安装显示TensorFlow出现一些错误，或者GPU测试失败，您可能需要在<code class="fe pe pf pg nl b">bashrc</code>文件的末尾添加这两行，然后重新启动终端:</p><pre class="nc nd ne nf gt nk nl nm nn aw no bi"><span id="7475" class="np mk je nl b gy nq nr l ns nt">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda/extras/CUPTI/lib64:/usr/local/cuda/lib64</span><span id="3e19" class="np mk je nl b gy ph nr l ns nt">export CUDA_HOME=/usr/local/cuda</span></pre><p id="01cf" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">你可能还想安装<code class="fe pe pf pg nl b">jupyter lab</code>或<code class="fe pe pf pg nl b">jupyter notebook</code>。感谢开发者，这个过程就像在你的终端上运行<code class="fe pe pf pg nl b">jupyter lab</code>或<code class="fe pe pf pg nl b">jupyter notebook</code>一样简单，无论你喜欢哪个。我个人更喜欢没有不必要的杂物的笔记本。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="8d0a" class="mj mk je bd ml mm mn mo mp mq mr ms mt kt mu ku mv kw mw kx mx kz my la mz na bi translated">结论</h1><p id="7dab" class="pw-post-body-paragraph lc ld je le b lf nz ko lh li oa kr lk ll ob ln lo lp oc lr ls lt od lv lw lx im bi translated"><strong class="le jo"> <em class="mb">在这篇文章中，我谈到了你将需要毫不费力地在你的深度学习装备中安装的所有软件。</em> </strong></p><p id="af64" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">你可能仍然需要一些帮助和面对一些问题，我最好的建议是去看看不同的NVIDIA和Stack Overflow论坛。</p><p id="8d2a" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">因此，我们已经有了深度学习装备设置，现在是进行一些测试的时候了。在接下来的几篇文章中，我将对GPU进行一些基准测试，并尝试编写更多关于各种深度学习库的文章，这些库可以包含在他们的工作流中。敬请关注。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="753f" class="mj mk je bd ml mm mn mo mp mq mr ms mt kt mu ku mv kw mw kx mx kz my la mz na bi translated">继续学习</h1><p id="b4b0" class="pw-post-body-paragraph lc ld je le b lf nz ko lh li oa kr lk ll ob ln lo lp oc lr ls lt od lv lw lx im bi translated">如果你想了解更多关于<a class="ae ly" href="https://coursera.pxf.io/7mKnnY" rel="noopener ugc nofollow" target="_blank">深度学习的知识，这里</a>是一门优秀的课程。您可以免费开始7天的免费试用。</p><p id="0199" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">谢谢你的阅读。将来我也会写更多初学者友好的帖子。在<a class="ae ly" href="https://medium.com/@rahul_agarwal?source=post_page---------------------------" rel="noopener"> <strong class="le jo">媒体</strong> </a>关注我或者订阅我的<a class="ae ly" href="https://mlwhiz.ck.page/a9b8bda70c" rel="noopener ugc nofollow" target="_blank"> <strong class="le jo">博客</strong> </a>了解他们。一如既往，我欢迎反馈和建设性的批评，可以通过Twitter<a class="ae ly" href="https://twitter.com/MLWhiz?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"><strong class="le jo">@ mlwhiz</strong></a>联系</p><p id="5645" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">此外，一个小小的免责声明——这篇文章中可能会有一些相关资源的附属链接，因为分享知识从来都不是一个坏主意。</p></div></div>    
</body>
</html>