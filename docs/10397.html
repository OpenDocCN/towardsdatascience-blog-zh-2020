<html>
<head>
<title>5 Data Structures to Master in R if you want to be a Data Scientist</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如果你想成为一名数据科学家，在 R 语言中要掌握 5 种数据结构</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-data-structures-to-master-in-r-if-you-want-to-be-a-data-scientist-df9c09609a3f?source=collection_archive---------47-----------------------#2020-07-21">https://towardsdatascience.com/5-data-structures-to-master-in-r-if-you-want-to-be-a-data-scientist-df9c09609a3f?source=collection_archive---------47-----------------------#2020-07-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1442" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解如何掌握基本数据类型和高级数据结构，如因子、列表和数据框。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/310a223934f5454b31c7d265c5931664.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XUNKTNh_o0JamUBEKyFEKA.png"/></div></div></figure><p id="a08a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要成为一名 R 数据科学家，您需要掌握这种广泛使用的开源语言的基础知识，包括因子、列表和数据框架。掌握这些数据结构后，您就可以开始自己的第一次数据分析了！</p><p id="4e9a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这五种数据结构是:</p><ol class=""><li id="6806" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated"><strong class="kt ir">矢量</strong></li><li id="740f" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated"><strong class="kt ir">矩阵</strong></li><li id="7fea" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated"><strong class="kt ir">因素</strong></li><li id="01e9" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated"><strong class="kt ir">数据帧</strong></li><li id="87e9" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated"><strong class="kt ir">列表</strong></li></ol><p id="3a38" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一直读到数据类型的备忘单的末尾。</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="9d16" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">基本数据类型</h1><p id="94ea" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">在我们开始讨论数据结构之前，了解一下组成这些数据结构中的一些元素的基本数据类型是很重要的。</p><p id="a255" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">主要类型有:</p><ul class=""><li id="a931" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm nf lt lu lv bi translated"><strong class="kt ir">数字</strong> —十进制值，如<code class="fe ng nh ni nj b">4.5</code>，或整数值，如<code class="fe ng nh ni nj b">4</code>。</li><li id="c18d" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm nf lt lu lv bi translated"><strong class="kt ir">逻辑值</strong> —布尔值(<code class="fe ng nh ni nj b">TRUE</code>或<code class="fe ng nh ni nj b">FALSE</code>)</li><li id="2d9c" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm nf lt lu lv bi translated"><strong class="kt ir">字符</strong> —文本(或字符串)值，如<code class="fe ng nh ni nj b">"medium"</code>(注意这些是区分大小写的)</li></ul><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="55db" class="no mj iq nj b gy np nq l nr ns"># Here are some variables being assigned these basic data types<br/>my_numeric &lt;- 9.5<br/>my_logical &lt;- TRUE<br/>my_character &lt;- "Linda"</span></pre><p id="2373" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您想更深入地了解 R 中的基础知识，请查看我写的这篇文章，这篇文章教您如何计算、分配变量以及使用基本数据类型。它也包括练习题！</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="ccdc" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">向量</h1><p id="2552" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated"><strong class="kt ir"> Vectors </strong>是一维数组，可以存储任何基本的数据类型，包括数字、逻辑和字符。</p><h2 id="49e9" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">创建向量</h2><p id="6794" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">要创建一个向量，使用<a class="ae nt" href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/c" rel="noopener ugc nofollow" target="_blank">组合功能</a> <code class="fe ng nh ni nj b"><a class="ae nt" href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/c" rel="noopener ugc nofollow" target="_blank">c()</a></code>，用圆括号之间的逗号分隔元素。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="2c6a" class="no mj iq nj b gy np nq l nr ns">my_vector &lt;- c(elem1, elem2, elem3)<br/>numeric_vector &lt;- c(1, 2, 3)<br/>character_vector &lt;- c("a", "b", "c")</span></pre><h2 id="68e3" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">命名一个向量</h2><p id="70d6" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">给向量命名就是给向量元素命名。可以使用名称功能<code class="fe ng nh ni nj b">names()</code>来完成。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="2136" class="no mj iq nj b gy np nq l nr ns"># Without names, its not clear what data is being used<br/>some_vector &lt;- c("Linda", "Data Scientist")<br/>names(some_vector) &lt;- c("Name", "Profession")</span><span id="1d4f" class="no mj iq nj b gy of nq l nr ns"><br/># Output<br/>&gt; some_vector<br/>     Name          Profession<br/>   "Linda"   "Data Scientist"</span></pre><h2 id="5c95" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">从向量中选择</h2><p id="ab06" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">如果我们想从一个向量中选择一个<em class="og">元素</em>，我们只需在方括号中输入我们想要选择的元素的索引。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="b65e" class="no mj iq nj b gy np nq l nr ns">my_vector[i]<br/># my_vector is the vector we are selecting from<br/># i is the index of the element</span><span id="663c" class="no mj iq nj b gy of nq l nr ns"># To select the first element <br/># Note that the first element has index 1 not 0 (as in many other programming languages)<br/>my_vector[1]</span></pre><p id="3275" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要从一个矢量中选择多个元素，使用方括号中的矢量指示应该选择哪些元素。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="b491" class="no mj iq nj b gy np nq l nr ns"># For example, to select the first and fifth element, us c(1,5)<br/>my_vector[c(1,5)]</span><span id="e5fc" class="no mj iq nj b gy of nq l nr ns"># For example, to select a range, we can abbreviate c(2,3,4) to 2:4<br/>my_vector[2:4]</span></pre><p id="3922" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们也可以使用元素的<em class="og">名称</em>来代替它们的数字位置。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="1c7e" class="no mj iq nj b gy np nq l nr ns">weekday_vector["Monday"]</span></pre><p id="ff43" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你想更深入地了解向量，看看这篇我写的关于如何创建、命名、选择和比较向量的文章。结束时，你将学会如何使用向量分析游戏结果！</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="c50a" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">矩阵</h1><p id="27b0" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated"><strong class="kt ir">矩阵</strong>是排列成固定数量的行和列的相同数据类型(数字、字符或逻辑)元素的集合。<strong class="kt ir">二维矩阵</strong>仅适用于行和列。</p><h2 id="2a2e" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">创建矩阵</h2><p id="307d" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">函数<code class="fe ng nh ni nj b"><a class="ae nt" href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/matrix" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">matrix()</strong></a></code>创建一个矩阵。这个函数有三个重要的参数:</p><ol class=""><li id="9e95" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated"><code class="fe ng nh ni nj b"><strong class="kt ir">vector</strong></code> —这是将被排列到矩阵行和列中的元素的集合。该参数是可选的；如果我们把这个参数留空，矩阵就不会被填充，但它可以在以后被填充。我们可以使用已经创建的向量。</li><li id="73d4" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated"><code class="fe ng nh ni nj b"><strong class="kt ir">byrow</strong></code> —表示矩阵是按行(<code class="fe ng nh ni nj b">byrow=TRUE</code>)还是按列(<code class="fe ng nh ni nj b">byrow=FALSE</code>)填充。默认设置为<code class="fe ng nh ni nj b">FALSE</code>。</li><li id="6ef9" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated"><code class="fe ng nh ni nj b"><strong class="kt ir">nrows</strong></code> <strong class="kt ir"> </strong> —表示所需的行数。</li></ol><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="37b1" class="no mj iq nj b gy np nq l nr ns"># A matrix containing the numbers 1 to 9, filled row-wise, with 3 rows.<br/>matrix(1:9, byrow=TRUE, nrow=3)<br/># 1 2 3<br/># 4 5 6<br/># 7 8 9</span></pre><h2 id="b519" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">命名矩阵</h2><p id="4640" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">为了给行和列添加名称，我们可以使用函数<code class="fe ng nh ni nj b">colnames()</code>和<code class="fe ng nh ni nj b">rownames()</code>。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="e292" class="no mj iq nj b gy np nq l nr ns">rownames(my_matrix) &lt;- row_names_vector<br/>colnames(my_matrix) &lt;- col_names_vector</span></pre><p id="e83d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们也可以使用<code class="fe ng nh ni nj b">dimnames</code>属性，在创建时直接命名矩阵。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="b8f1" class="no mj iq nj b gy np nq l nr ns">my_matrix &lt;- matrix(vector, byrow=some_logical, nrow=some_number<br/>  dimnames = list(row_names_vector, column_names_vector)</span></pre><h2 id="9c70" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">添加到矩阵</h2><p id="2477" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">我们可以使用<code class="fe ng nh ni nj b"><a class="ae nt" href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/cbind" rel="noopener ugc nofollow" target="_blank">cbind()</a></code>将矩阵和/或向量按列合并在一起，向矩阵中添加一列或多列。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="ca4c" class="no mj iq nj b gy np nq l nr ns">big_matrix &lt;- cbind(matrix1, matrix2, vector1, ...)</span></pre><p id="dca4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要添加一行，我们使用<code class="fe ng nh ni nj b"><a class="ae nt" href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/cbind" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">rbind()</strong></a></code> <strong class="kt ir"> </strong>函数获取一系列向量或矩阵，并按行组合它们。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="5338" class="no mj iq nj b gy np nq l nr ns">big_matrix &lt;- rbind(matrix1, matrix2, vector1, ...)</span></pre><h2 id="e24f" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">计算总数</h2><p id="fa5f" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">我们可以用<code class="fe ng nh ni nj b">rowSums()</code>计算每行的总和，用<code class="fe ng nh ni nj b">colSums()</code>计算每列的总和。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="4354" class="no mj iq nj b gy np nq l nr ns">rowSums(my_matrix)<br/>colSums(my_matrix)</span></pre><h2 id="2990" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">选择矩阵元素</h2><p id="ac21" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">方括号<code class="fe ng nh ni nj b">[]</code>用于从矩阵中选择一个或多个元素。因为矩阵是二维的，所以需要逗号来分隔行和列。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="520f" class="no mj iq nj b gy np nq l nr ns">my_matrix[row, column]</span><span id="f176" class="no mj iq nj b gy of nq l nr ns"># Select element on the first row and second column<br/>my_matrix[1,2]</span><span id="b0ff" class="no mj iq nj b gy of nq l nr ns"># Returns a matrix with the data on rows 1 through 3, and columns 2 through 4<br/>my_matrix[1:3, 2:4]</span><span id="b94e" class="no mj iq nj b gy of nq l nr ns"># To select all elements of a column, no number is needed before the column<br/># Select all elements of the first column<br/>my_matrix[,1]</span><span id="474b" class="no mj iq nj b gy of nq l nr ns"># To select all elements of a row, no number is needed after the row<br/># Select all elements of the first row<br/>my_matrix[1,]</span></pre><p id="8a44" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您想更深入地了解矩阵，请查看我写的这篇关于如何创建、命名、选择矩阵以及用矩阵进行基本计算的文章。它甚至包括练习题要做！</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="a05c" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">因素</h1><p id="ef48" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">一个<strong class="kt ir">因子</strong>用于存储分类变量。<strong class="kt ir">分类变量</strong>属于<em class="og">有限数量的类别</em>(例如，“男性”、“女性”)。它们与<strong class="kt ir">连续变量</strong>相反，后者可以对应于无限数量的值。</p><h2 id="98a0" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">创建因子</h2><p id="641e" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">要创建一个因子，使用<code class="fe ng nh ni nj b"><a class="ae nt" href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/factor" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">factor()</strong></a></code>函数，它将一个向量编码为一个因子(也称为“类别”或“枚举类型”)。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="c7bd" class="no mj iq nj b gy np nq l nr ns"># Creates a gender factor with the categories "Female" and "Male"<br/>gender_vector &lt;- c("Male", "Female", "Female", "Male", "Male")<br/>gender_factor &lt;- factor(gender_vector)</span></pre><p id="a78d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">名义分类变量</strong>没有隐含顺序(例如<code class="fe ng nh ni nj b">“Elephant”</code>、<code class="fe ng nh ni nj b">“Monkey”</code>、<code class="fe ng nh ni nj b">“Horse”</code>)。<strong class="kt ir">有序分类变量</strong>具有自然排序/排名(例如<code class="fe ng nh ni nj b">“Low”</code>、<code class="fe ng nh ni nj b">“Medium”</code>、<code class="fe ng nh ni nj b">“High”</code>)。</p><p id="1f37" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">r 以不同的方式构造和打印它们。默认情况下，<code class="fe ng nh ni nj b">factor()</code>函数将向量转换成一个无序因子。要创建有序因子，我们需要两个额外的参数:</p><ul class=""><li id="a801" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm nf lt lu lv bi translated"><code class="fe ng nh ni nj b"><strong class="kt ir">ordered</strong></code> —设置为<code class="fe ng nh ni nj b">TRUE</code>，表示因子已排序。</li><li id="7c47" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm nf lt lu lv bi translated"><code class="fe ng nh ni nj b"><strong class="kt ir">levels</strong></code> <strong class="kt ir"> </strong> —以正确的顺序设置因子的值。</li></ul><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="2d46" class="no mj iq nj b gy np nq l nr ns"># Constructs a factor with nominal categorical variables<br/>animal_vector &lt;- c("Elephant", "Monkey", "Horse")<br/>animal_factor &lt;- factor(animal_vector)</span><span id="0246" class="no mj iq nj b gy of nq l nr ns"><br/># Constructs a factor with ordinal categorical variable<br/>temperature_vector &lt;- c("High", "Low", "High", "Low", "Medium")<br/>temperature_factor &lt;- factor(temperature_vector, order = TRUE, levels = c("Low", "Medium", "High"))</span></pre><p id="8e3e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于顺序变量，使用<code class="fe ng nh ni nj b">&lt;</code>指示顺序。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="914b" class="no mj iq nj b gy np nq l nr ns"># Output for nominal variables<br/># Animals<br/>[1] Elephant Giraffe  Donkey   Horse   <br/>Levels: Donkey Elephant Giraffe Horse</span><span id="7547" class="no mj iq nj b gy of nq l nr ns"># Output for ordinal variables<br/># Temperature<br/>[1] High   Low    High   Low    Medium<br/>Levels: Low &lt; Medium &lt; High</span></pre><h2 id="36b5" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">重命名因子级别</h2><p id="44f4" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">有时，出于清晰或其他原因，更改数据集中特定因子级别的名称会有所帮助。例如，假设来自调查的原始数据包含一个关于回答者性别的问题，只记录了两个类别:<code class="fe ng nh ni nj b">"M"</code>和<code class="fe ng nh ni nj b">"F"</code>。在数据收集过程中记录缩写可能很方便，但在分析过程中可能会变得混乱。我们可以通过使用<code class="fe ng nh ni nj b"><a class="ae nt" href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/levels" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">levels()</strong></a></code> <strong class="kt ir"> </strong>功能来改变关卡的名称:</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="8416" class="no mj iq nj b gy np nq l nr ns">levels(factor_vector) &lt;- c("name1", "name2", ...)</span><span id="72a2" class="no mj iq nj b gy of nq l nr ns"># Specify the levels to "Male" and "Female" instead of "M" and "F"<br/>survey_vector &lt;- c("M", "F", "F", "M", "M")<br/>survey_factor &lt;- factor(survey_vector)<br/>levels(survey_factor) &lt;- c("Female", "Male")</span></pre><p id="14ce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">注意:</strong>分配等级的顺序很重要。<code class="fe ng nh ni nj b">levels(survey_factor)</code>输出<code class="fe ng nh ni nj b">[1] "F" "M"</code>。如果在创建过程中未指定因子等级，它们将自动按字母顺序分配<em class="og">。为了正确地将<code class="fe ng nh ni nj b">"F"</code>映射到<code class="fe ng nh ni nj b">"Female"</code>和<code class="fe ng nh ni nj b">"M"</code>映射到<code class="fe ng nh ni nj b">"Male"</code>，需要按照特定的顺序将电平设置为<code class="fe ng nh ni nj b">c("Female", "Male")</code>。</em></p><h2 id="093b" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">总结一个因素</h2><p id="2c36" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated"><code class="fe ng nh ni nj b"><a class="ae nt" href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/summary" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">summary()</strong></a></code> <strong class="kt ir"> </strong>函数给出了变量内容的快速概览。它可用于因子，以确定我们的向量中每个因子级别有多少个响应。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="6865" class="no mj iq nj b gy np nq l nr ns">summary(my_factor)</span><span id="234b" class="no mj iq nj b gy of nq l nr ns"># Example<br/>summary(survey_factor)</span><span id="6f18" class="no mj iq nj b gy of nq l nr ns"># Output<br/>Female    Male<br/>     2       3</span></pre><p id="8fdf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您想更深入地了解因素，请查看我写的这篇关于如何创建、子集化和比较因素的文章。它包括练习题，这样你可以练习你新开发的技能。</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="df54" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">数据帧</h1><p id="326a" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated"><strong class="kt ir">数据帧</strong>类似于矩阵，但元素不必都是相同的数据类型。数据框以变量为列(如<code class="fe ng nh ni nj b"> married, age</code>)，以观察值为行(如<code class="fe ng nh ni nj b">respondent1, respondent2 , …</code>)。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="da90" class="no mj iq nj b gy np nq l nr ns">              married  age<br/>Respondent1      TRUE   24<br/>Respondent2      FALSE  18<br/>Respondent3      FALSE  28</span></pre><h2 id="48ae" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">检查数据帧</h2><p id="a3de" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">我们可以通过使用以下函数显示整个帧的一小部分来检查元素:</p><ul class=""><li id="e8ff" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm nf lt lu lv bi translated"><code class="fe ng nh ni nj b"><a class="ae nt" href="https://www.rdocumentation.org/packages/utils/versions/3.6.2/topics/head" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">head()</strong></a></code> —显示数据帧的第一部分</li><li id="9864" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm nf lt lu lv bi translated"><code class="fe ng nh ni nj b"><a class="ae nt" href="https://www.rdocumentation.org/packages/utils/versions/3.6.2/topics/head" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">tail()</strong></a></code> —显示最后一部分。</li></ul><p id="0e9a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们还可以使用<code class="fe ng nh ni nj b"><a class="ae nt" href="https://www.rdocumentation.org/packages/utils/versions/3.6.2/topics/str" rel="noopener ugc nofollow" target="_blank">str()</a></code>函数来显示框架的结构，得到以下信息:</p><ul class=""><li id="afb5" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm nf lt lu lv bi translated">观察总数</li><li id="3a7e" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm nf lt lu lv bi translated">变量总数</li><li id="65c6" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm nf lt lu lv bi translated">变量名的完整列表</li><li id="edf1" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm nf lt lu lv bi translated">每个变量的数据类型</li><li id="d9c0" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm nf lt lu lv bi translated">第一次观察</li></ul><h2 id="da1c" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">创建数据框</h2><p id="1219" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">为了构建数据框，我们使用了<code class="fe ng nh ni nj b"><a class="ae nt" href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/data.frame" rel="noopener ugc nofollow" target="_blank">data.frame()</a></code>函数，将数据向量作为不同列的参数传递。请注意，数据帧中的每一列都具有相同的长度，因此传递的向量也应该具有相同的长度。但是它们不需要相同的数据类型。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="4909" class="no mj iq nj b gy np nq l nr ns">my_df &lt;- data.frame(vector_variable1, vector_variable2, ...) </span></pre><h2 id="bb2a" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">选择数据框元素</h2><p id="8e12" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">类似于向量和矩阵，我们用方括号<code class="fe ng nh ni nj b">[]</code>来选择元素。逗号用于指示分别从行和列中选择什么。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="e959" class="no mj iq nj b gy np nq l nr ns"># Select the value at the first row and second column<br/>my_df[1,2]</span><span id="64f5" class="no mj iq nj b gy of nq l nr ns"># Select rows 1 to 3, and columns 2 to 4<br/>my_df[1:3, 2:4]</span><span id="b149" class="no mj iq nj b gy of nq l nr ns"># Select all elements in row 1<br/>my_df[1,]</span><span id="2fe0" class="no mj iq nj b gy of nq l nr ns"># Select all elements in col 3<br/>my_df[,3]</span><span id="c45b" class="no mj iq nj b gy of nq l nr ns"># Select the first three elements from the age column<br/>my_df[1:3, "age"]</span><span id="2212" class="no mj iq nj b gy of nq l nr ns"># Select all elements of the married column<br/>my_df[,"married"]<br/>my_df$married # Notice that we can use the $ sign as a short-cut<br/>subset(my_df, subset = married) # We can also use the subset function</span></pre><h2 id="38f1" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">对数据帧进行排序</h2><p id="c806" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">我们可以使用<code class="fe ng nh ni nj b"><a class="ae nt" href="http://www.rdocumentation.org/packages/base/functions/order" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">order()</strong></a></code> <strong class="kt ir"> </strong>函数根据某个数据框变量对数据进行排序。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="38df" class="no mj iq nj b gy np nq l nr ns"># Sorts data frame by age (youngest to oldest)<br/>positions &lt;- order(my_df$age) # Use order() to create positions<br/>my_df[positions,] # Use positions to sort df</span></pre><p id="2235" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您想更深入地了解数据框，请查看我写的这篇关于如何创建、选择和排序数据框的<a class="ae nt" rel="noopener" target="_blank" href="/introduction-to-data-frames-in-r-b9a6302d9a56">文章</a>，通过练习问题来进一步巩固您的学习。</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="e9d8" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">列表</h1><p id="9df9" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated"><strong class="kt ir">列表</strong>可以保存不同对象的组件，如矩阵、向量、数据帧和其他列表，以有序的方式聚集在一个名称(列表的名称)下。这些对象不需要以任何方式相关联，因此，实际上任何东西都可以存储在一个列表中。</p><h2 id="305f" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">创建列表</h2><p id="6150" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">我们使用函数<code class="fe ng nh ni nj b"><a class="ae nt" href="http://www.rdocumentation.org/packages/base/functions/list" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">list()</strong></a></code> <strong class="kt ir"> </strong>来构造一个列表:</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="fcf1" class="no mj iq nj b gy np nq l nr ns">my_list &lt;- list(comp1, comp2, ...)</span><span id="d083" class="no mj iq nj b gy of nq l nr ns"># Constructs a list with different elements<br/>my_list &lt;- list(my_vector, my_matrix, my_df)</span></pre><h2 id="ae84" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">命名列表组件</h2><p id="8460" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">我们可以给列表中的组件命名，这样就不会忘记它们所代表的含义。我们既可以在构建列表时命名它们，也可以在之后命名它们。举个例子，</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="8b5c" class="no mj iq nj b gy np nq l nr ns"># Name components directly during list construction.<br/>my_list &lt;- list(name1 = comp1, name2 = comp2)</span><span id="6e14" class="no mj iq nj b gy of nq l nr ns"># Use names() function to name list after construction<br/>my_list &lt;- list(comp1, comp2)<br/>names(my_list) &lt;- c("name1", "name2")</span></pre><h2 id="6cda" class="no mj iq bd mk nu nv dn mo nw nx dp ms la ny nz mu le oa ob mw li oc od my oe bi translated">选择列表元素</h2><p id="cf94" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">我们可以使用组件的编号位置以及双方括号<code class="fe ng nh ni nj b">[[]]</code>，而不是用于向量和矩阵的单方括号<code class="fe ng nh ni nj b">[]</code>。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="fcce" class="no mj iq nj b gy np nq l nr ns"># Select the first component (position 1)<br/>my_list[[1]]</span><span id="c761" class="no mj iq nj b gy of nq l nr ns"># Select name2 from the list<br/>my_list[["name2]]<br/>my_list$name2</span><span id="bcc0" class="no mj iq nj b gy of nq l nr ns"># Select first element from name2 component<br/>my_list[["name2"][1]]<br/>my_list$name2[1]</span></pre></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="2149" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">r 数据结构备忘单</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/2efbde60a5d898b0f2dbec7086212ea7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OU2x5OFxGpdcZdoTOw5J-g.png"/></div></div><p class="oi oj gj gh gi ok ol bd b be z dk translated">创建和选择不同数据结构的备忘单。</p></figure></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="32f6" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">笔记</h1><p id="49a6" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">所有图片，除非特别注明，均归作者所有。横幅图像是使用<a class="ae nt" href="https://www.canva.com/" rel="noopener ugc nofollow" target="_blank"> Canva </a>创建的。</p></div></div>    
</body>
</html>