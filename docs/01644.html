<html>
<head>
<title>3 Conditionals Every Data Scientist Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每个数据科学家都应该知道的3个条件</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/3-conditionals-every-data-scientist-should-know-1916d48b078a?source=collection_archive---------31-----------------------#2020-02-14">https://towardsdatascience.com/3-conditionals-every-data-scientist-should-know-1916d48b078a?source=collection_archive---------31-----------------------#2020-02-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/02fc649cd52cf1ebf6947b13457ee4a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tDkHLVJdr369Jd1-8eonMQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图示条件方差(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>提供)</p></figure><div class=""/><div class=""><h2 id="f64e" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">条件期望、条件概率和条件方差:回归建模者的实践见解</h2></div><h2 id="9b96" class="ky kz jj bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">条件期望</h2><p id="8c7f" class="pw-post-body-paragraph lu lv jj lw b lx ly kk lz ma mb kn mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated"><em class="mn">随机变量的条件期望是我们期望它取的值，条件是它所依赖的另一个变量取一个特定值。</em></p><p id="2d9e" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw jk">如果这听起来很拗口，不要绝望。</strong>我们将很快进入这个概念的“啊哈”时刻。为了帮助我们的探索，我们将使用泊松分布的随机变量<strong class="lw jk"> <em class="mn"> Y </em> </strong>作为我们的主角。</p><p id="3b4e" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">所以设<strong class="lw jk"> <em class="mn"> Y </em> </strong>为平均发生率<em class="mn"> λ </em>的<a class="ae jg" rel="noopener" target="_blank" href="/the-poisson-process-everything-you-need-to-know-322aa0ab9e9a">泊松分布离散随机变量</a>。</p><p id="dfef" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw jk"><em class="mn"/></strong>的<strong class="lw jk"> P </strong>概率<strong class="lw jk"> M </strong>屁股<strong class="lw jk"> F </strong>油膏看起来如下。(<strong class="lw jk"> PMF </strong>只是离散随机变量的概率分布的另一个名称):</p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mt"><img src="../Images/f574d7442f84fd3a9159fcadc867aac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*59d9fRbeUqEqw5x4KOIerg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">泊松(λ=20)随机变量的PMF</p></figure><p id="c2f1" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw jk"><em class="mn">【Y】</em></strong>的期望值，记为<strong class="lw jk"><em class="mn"/></strong><em class="mn">(</em><strong class="lw jk"><em class="mn"/></strong><em class="mn">)【T47)，是以下各项的乘积之和:</em></p><ul class=""><li id="6237" class="my mz jj lw b lx mo ma mp lh na ll nb lp nc mm nd ne nf ng bi translated"><strong class="lw jk"> <em class="mn"> Y </em> </strong>在其范围【0，∞】、<em class="mn">和</em>内的每一个值，</li><li id="c938" class="my mz jj lw b lx nh ma ni lh nj ll nk lp nl mm nd ne nf ng bi translated">其对应的概率<em class="mn">P(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">= Y)</em>，摘自其PMF。换句话说，如下:</li></ul><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/17a4910f1cec35ca41ccf0c63cc57ad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*3j8GXCp9ay0t7kO3UilzUQ.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">离散随机变量的期望值(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>提供)</p></figure><p id="ffa2" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">关于期望值的事情是，如果你把你的钱押在<strong class="lw jk"> <em class="mn"> Y </em> </strong>的任何一个值上，<em class="mn">E(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">)</em>是你应该押的。</p><p id="54e4" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">在<strong class="lw jk"> <em class="mn"> Y </em> </strong>是<em class="mn">泊松(λ) </em>分布的情况下，可以证明<strong class="lw jk"> <em class="mn"> E(Y) </em> </strong>就是单纯的<em class="mn"> λ </em>。在上图所示的样本分布中，<em class="mn">E(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">)</em>= 20<em class="mn">。</em></p><p id="fdf1" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">如果<strong class="lw jk"> <em class="mn"> Y </em> </strong>是一个连续值的随机变量，如正态分布的随机变量，<em class="mn">E(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">)</em>计算如下:</p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/60ff14bb2901ffecad484e34a8e24bf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*07f58kbu3Q5O_HcFfmjxTw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">无条件期待连续的<strong class="bd nn"> <em class="no"> Y </em> </strong>(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>)</p></figure><p id="c0fc" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">其中<em class="mn"> f(y) </em>是<strong class="lw jk">Y</strong>的<strong class="lw jk"> P </strong>概率<strong class="lw jk"> D </strong>密度<strong class="lw jk">F</strong>function(<strong class="lw jk">PDF</strong>)<em class="mn">【a，b】</em>是其区间<strong class="lw jk"> <em class="mn">。</em> </strong></p><p id="ac5b" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">那么<strong class="lw jk">关于这个期望的条件</strong>是什么呢？在这种情况下，什么都不是，因为<strong class="lw jk"> <em class="mn"> Y </em> </strong>，按照我们的定义，是一个独立变量，即它的值不依赖于任何其他变量的值。</p><p id="e0d1" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">我们现在介绍另一个主角:变量<strong class="lw jk"> <em class="mn"> X </em> </strong>。有了图中的<strong class="lw jk"> <em class="mn"> X </em> </strong>，我们可以考虑<strong class="lw jk"> <em class="mn"> Y </em> </strong>依赖于<strong class="lw jk"> <em class="mn"> X </em> </strong>的情况，即<strong class="lw jk"> <em class="mn"> Y是X: </em> </strong>的某个函数</p><p id="bd4b" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">= f(</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">)。</em></p><p id="48a5" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">一个简单的例子<em class="mn"> f(。)</em>是<strong class="lw jk"> <em class="mn"> Y </em> </strong>和<strong class="lw jk"> <em class="mn"> X </em> </strong>之间的线性关系:</p><p id="8a9d" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw jk"><em class="mn"/></strong><em class="mn">=</em><strong class="lw jk"><em class="mn">β0</em></strong><em class="mn">+</em><strong class="lw jk"><em class="mn">β1 * X</em></strong></p><p id="9323" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">其中<strong class="lw jk"> <em class="mn"> β0 </em> </strong>为截距<strong class="lw jk"> <em class="mn"> β1 </em> </strong>为直线的斜率。</p><p id="6dc1" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">让我们扮演一下上帝。我们将声称知道<strong class="lw jk"> <em class="mn"> Y </em> </strong>和<strong class="lw jk"> <em class="mn"> X. </em> </strong>之间的<em class="mn">真实</em>关系如下(但是不要让你头脑中的回归建模者知道这个真实关系！):</p><p id="14e3" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">= 20+10</em><strong class="lw jk"><em class="mn">* X</em></strong></p><p id="d411" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">下面是<strong class="lw jk"> <em class="mn"> Y </em> </strong>对<strong class="lw jk"> <em class="mn"> X </em> </strong>的剧情:</p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi np"><img src="../Images/0644b50f31a365ef26e6716687169940.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EOhrS9I_OoOA-hNwc59_lw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><em class="no"/><strong class="bd nn"><em class="no">Y</em></strong><em class="no">= 20+10</em><strong class="bd nn"><em class="no">* X</em></strong>(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>)</p></figure><p id="3cad" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">等等，但是<strong class="lw jk"> <em class="mn"> Y </em> </strong>不是一个<em class="mn">随机</em>变量吗？因此，对于<strong class="lw jk"> <em class="mn"> X </em> </strong>的每个值，我们会期望<strong class="lw jk"><em class="mn"/></strong>占据一个或多个由<strong class="lw jk"><em class="mn"/>【Y】</strong>的概率分布(PDF或PMF)控制的<em class="mn">随机</em>值。Y的这种随机行为导致了下面这种图，Y<strong class="lw jk"><em class="mn"/></strong>对X<strong class="lw jk"><em class="mn"/></strong>而不是我们之前看到的非常整齐的图:</p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nq"><img src="../Images/723e79804fda32bd5c8127174827d852.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*keWbZ0nWAbCYX87nv4twIQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">一个更现实的Y对x的曲线被假设为泊松分布的<em class="no">随机变量。</em>(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>)</p></figure><p id="3a16" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">再次回忆一下，在我们的例子中，我们假设<strong class="lw jk"> <em class="mn"> Y </em> </strong>是<em class="mn">泊松(λ) </em>分布<em class="mn">。</em>原来泊松分布的PMF的参数<em class="mn"> λ </em>在我们之前看到的<strong class="lw jk"> <em class="mn"> Y </em> </strong>对<strong class="lw jk"> <em class="mn"> X </em> </strong>的整齐直线图和上图所示的<strong class="lw jk"><em class="mn"/></strong>对<strong class="lw jk"> <em class="mn"> X </em> </strong>的涂抹图之间形成了结缔组织。具体来说，<em class="mn"> λ </em>是<strong class="lw jk"> <em class="mn"> X </em> </strong>的如下线性函数:</p><p id="a6f9" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><em class="mn">λ(</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">)= 20+10</em><strong class="lw jk"><em class="mn">* X</em></strong></p><p id="b0e1" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">但正如我们在文章开头所指出的，一个<em class="mn">泊松(λ) </em>分布随机变量的期望值即<em class="mn">E(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">)</em>，就是<em class="mn">的简单λ。</em>因此，对于<strong class="lw jk"> <em class="mn">的某个值X </em> </strong>:</p><p id="4a71" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><em class="mn">E(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">|</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">)=λ(</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">)，从而:</em></p><p id="c47a" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><em class="mn">E(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">|</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">)= 20+10</em><strong class="lw jk"><em class="mn">* X</em></strong></p><p id="a266" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">符号<em class="mn">E(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">|</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">)</em>是<em class="mn"/>对<strong class="lw jk"><em class="mn"/></strong>X<strong class="lw jk"><em class="mn">Y</em></strong>的<strong class="lw jk">条件期望，条件是<strong class="lw jk"> <em class="mn"> X </em> </strong>取一个特定值</strong></p><p id="2b6a" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">比如在Y对X的整齐直线图中，当<strong class="lw jk"><em class="mn">X</em></strong><em class="mn">= 6</em>时，</p><p id="617c" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><em class="mn">E(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">|</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">= 6)= 20+10 * 6 = 80</em>。</p><p id="bb37" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">所以现在我们可以说，当<strong class="lw jk"> <em class="mn"> X </em> </strong> =6，<strong class="lw jk"> <em class="mn"> Y </em> </strong>是一个均值<em class="mn"> λ </em>为80的泊松分布随机变量。</p><p id="8599" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">我们可以对<strong class="lw jk"> <em class="mn"> X </em> </strong>的每一个值进行类似的计算，得到<strong class="lw jk"><em class="mn">X</em></strong><em class="mn">= X</em>对应的条件期望<strong class="lw jk"><em class="mn">Y</em></strong>这样做让我们“叠加”两个<strong class="lw jk"> <em class="mn"> Y </em> </strong>对<strong class="lw jk"> <em class="mn"> X </em> </strong>图，如下所示。橙色点是Y的泊松分布样本的条件平均值，由蓝色点表示。</p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nq"><img src="../Images/2eeeb45355f8ae3eb3101b7e9d105eac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6CCpVHuiQ3oj6tAYx6jpvQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">E( <strong class="bd nn"> Y </strong> | <strong class="bd nn"> X </strong>)叠加在<strong class="bd nn"> Y </strong>(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>提供)</p></figure><p id="4e31" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">一般来说，如果<strong class="lw jk"> <em class="mn"> Y </em> </strong>是一个随机变量，并且<strong class="lw jk">与<strong class="lw jk"><em class="mn">【X】</em></strong>具有线性关系，我们可以将这种关系表示如下:</strong></p><p id="453a" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw jk"><em class="mn">E(Y | X</em></strong><em class="mn">= X</em><strong class="lw jk"><em class="mn">)</em></strong><em class="mn">=β0+β1</em><strong class="lw jk"><em class="mn">*</em></strong><em class="mn">X</em></p><p id="fd86" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw jk"> <em class="mn">其中E(Y | X</em></strong><em class="mn">= X</em><strong class="lw jk"><em class="mn">)称为以X取值为条件的Y的期望值</em></strong><em class="mn"/></p><p id="a376" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">条件期望，又称<strong class="lw jk"> <em class="mn"> Y </em> </strong>对<strong class="lw jk"><em class="mn"/></strong>的条件均值，也可以简写为<em class="mn">E(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">|</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">)。</em></p></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><h2 id="ae08" class="ky kz jj bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">现在是关于条件概率分布的部分:</strong></h2><p id="3f48" class="pw-post-body-paragraph lu lv jj lw b lx ly kk lz ma mb kn mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">我们将看到<strong class="lw jk"> <em class="mn">解释变量X </em> </strong>如何通过参数<em class="mn"> λ: </em>进入泊松分布<strong class="lw jk"> <em class="mn"> Y </em> </strong>的PMF</p><p id="61ca" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">到目前为止，我们已经看到:</p><p id="b826" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw jk"><em class="mn">E(Y | X</em></strong><em class="mn">= X</em><strong class="lw jk"><em class="mn">)</em></strong><em class="mn">=λ(</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">= X)=β0+β1</em><em class="mn">*</em><em class="mn">X</em></p><p id="1e35" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">我们还知道，<strong class="lw jk"> <em class="mn"> Y </em> </strong>的PMF由下式给出:</p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/124c6cdb1d0fe95432c6596522e4623f.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*bs5GnTkONTZGOIaa5815cA.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><em class="no"> PMF的泊松(λ) </em>(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>)</p></figure><p id="727b" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">在上面的等式中，用<em class="mn">β0+β1</em><strong class="lw jk"><em class="mn">*</em></strong><em class="mn">X</em>替换<em class="mn"> λ </em>，或者确实用任何其他函数<em class="mn">f(</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">)<strong class="lw jk"><em class="mn">X</em></strong>，就宾果！<strong class="lw jk"> <em class="mn"> Y </em> </strong>取特定值<em class="mn"> y </em>的概率现在突然依赖于<strong class="lw jk"><em class="mn">×取特定值<em class="mn"> x </em>。请参见下面更新的PMF公式:</em></strong></em></p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/8c0c5f8865f0dd1b508d75fe194480d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*orX_sDlx2qFDcNCCVH_ONw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">泊松的条件PMF(<em class="no">λ(X))</em>(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>)</p></figure><p id="6d59" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">换句话说，<strong class="lw jk"> <em class="mn"> Y </em> </strong>的PMF现在已经转化为一个<strong class="lw jk"> <em class="mn">条件概率分布函数</em> </strong>。这不是很棒吗？</p><p id="ced8" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw jk"> <em class="mn"> Y </em> </strong>可以有任何一种概率分布，离散的、连续的或混合的。同样，<strong class="lw jk"> <em class="mn"> Y </em> </strong>可以通过任何一种关系<em class="mn"> f(.)</em>介于<strong class="lw jk"> <em class="mn"> Y </em> </strong>和<strong class="lw jk"> <em class="mn"> X </em> </strong>之间。因此，对于<strong class="lw jk"><em class="mn"/></strong>Y为离散随机变量的情况，我们可以将<strong class="lw jk">Y</strong>对<strong class="lw jk"> <em class="mn"> X </em> </strong>的条件期望写成如下:</p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/37d488bd13d6dc8370356eaf8226beea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*Mq9hQk6gQ5QPZYOJXhGHRw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">离散随机变量的条件期望(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>提供)</p></figure><p id="0d02" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">其中<em class="mn">P(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">= Y _ I |</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">= X)</em>是<em class="mn">条件概率</em> <strong class="lw jk"> <em class="mn">质量</em> </strong> <em class="mn">函数</em>的<strong class="lw jk"> <em class="mn"> Y </em> </strong>。</p><p id="c560" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">如果<strong class="lw jk"> <em class="mn"> Y </em> </strong>是一个连续的随机变量，我们可以把它的条件期望写成:</p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/c249a354ecb17ff9ec2c28970651ae47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*ANm0Y4I4vxarnKR48cewaw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">连续随机变量的条件期望(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>提供)</p></figure><p id="6912" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">其中<em class="mn">f(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">= Y _ I |</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">= X)</em>是<em class="mn">条件概率</em> <strong class="lw jk"> <em class="mn">密度</em> </strong> <em class="mn">函数</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">。</em></p><p id="c0b2" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">条件概率分布和条件期望在回归模型的规范中占有突出的位置。我们将在线性回归的上下文中看到两者之间的联系。</p></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><h2 id="1422" class="ky kz jj bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">条件期望和回归建模</h2><p id="97be" class="pw-post-body-paragraph lu lv jj lw b lx ly kk lz ma mb kn mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">假设给我们一个(y，x)元组的随机样本，该样本取自前面图中所示的总体值:</p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nq"><img src="../Images/4e0df3996f920f7ebfe99c92d659031d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BhzwvpkuzzIdghxSpD4iHw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">(y，x)值的随机样本(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>提供)</p></figure><p id="a134" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">还假设您已决定将线性回归模型拟合到此样本，目标是从x预测Y。在您的模型被训练(即<em class="mn">拟合</em>)到样本后，模型的回归方程可指定如下:</p><p id="6185" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw jk"><em class="mn">【Y _(预测)</em></strong>=<strong class="lw jk"><em class="mn"/></strong><em class="mn">+</em><strong class="lw jk"><em class="mn">β1 _(拟合)*X </em> </strong></p><p id="ec24" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">其中<strong class="lw jk"> <em class="mn"> β0_(拟合)</em> </strong>和<strong class="lw jk"> <em class="mn"> β1_(拟合)</em> </strong>为拟合模型的系数。现在让我们跳过安装步骤。下图显示了上述样本图的拟合模型。我已经叠加了<strong class="lw jk"> <em class="mn"> Y </em> </strong>，<strong class="lw jk"> <em class="mn"> E(Y|X) </em> </strong>的条件期望，对于<strong class="lw jk"> <em class="mn"> X </em> </strong>的每个值:</p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nq"><img src="../Images/39eb6495bef48a92390c2a2267b6f3ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3CKtDDqow3-WD4ZrdNKANw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">样本Y，E(Y|X)和拟合的模型(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>提供)</p></figure><p id="38e4" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">从图中可以看出，拟合的模型并没有完全通过<strong class="lw jk"> <em class="mn"> Y </em> </strong>的条件期望。每种情况下都有少量的误差。让我们算出这个误差为<strong class="lw jk"> <em class="mn"> X </em> </strong> <em class="mn"> =8 </em>:</p><pre class="mu mv mw mx gt oc od oe of aw og bi"><span id="7212" class="ky kz jj od b gy oh oi l oj ok">When <strong class="od jk"><em class="mn">X</em></strong>=8:<br/>We know <em class="mn">E(</em><strong class="od jk"><em class="mn">Y</em></strong><em class="mn">|</em><strong class="od jk"><em class="mn">X</em></strong><em class="mn">) </em>because we are playing God and we know the exact equation between <strong class="od jk"><em class="mn">Y</em></strong> and <strong class="od jk"><em class="mn">X</em></strong><em class="mn">:<br/>E(</em><strong class="od jk"><em class="mn">Y</em></strong><em class="mn">|</em><strong class="od jk"><em class="mn">X</em></strong><em class="mn">=8)</em> = 20+10*8 = 100</span><span id="f8b8" class="ky kz jj od b gy ol oi l oj ok">Our model cannot God, so at best it can only estimate <em class="mn">E(</em><strong class="od jk"><em class="mn">Y</em></strong><em class="mn">|</em><strong class="od jk"><em class="mn">X</em></strong><em class="mn">)</em><strong class="od jk">:<br/><em class="mn">Y_predicted</em></strong><em class="mn">|</em><strong class="od jk"><em class="mn">X</em></strong><em class="mn">=8</em> = 22.034 + 9.458 * 8 = 97.698</span><span id="981e" class="ky kz jj od b gy ol oi l oj ok">Thus the <strong class="od jk">residual error <em class="mn">ϵ</em></strong> for <strong class="od jk"><em class="mn">X</em></strong><em class="mn">=8</em> is 100 - 97.698 = 2.302</span></pre><p id="d272" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">这样，我们也可以找到所有其他值<strong class="lw jk"> <em class="mn"> X </em> </strong>的残差。</p><p id="13ac" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">我们现在可以使用这些剩余误差项，根据拟合模型的系数来表达<strong class="lw jk"> <em class="mn"> Y </em> </strong>的条件期望。这种关系为<strong class="lw jk"><em class="mn">×</em></strong><em class="mn">= 8</em>看起来是这样的:</p><p id="6215" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><em class="mn">E(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">|</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">= 8)= 100 = 22.034+9.458 * 8+2.302</em></p><p id="413d" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">或者总的来说，我们有:</p><blockquote class="om"><p id="a575" class="on oo jj bd op oq or os ot ou ov mm dk translated"><em class="no">e(</em><strong class="ak"><em class="no">y</em></strong><em class="no">|</em><strong class="ak"><em class="no">x</em></strong><em class="no">)=</em><strong class="ak"><em class="no">【β0 _(拟合)</em></strong><em class="no">+</em><em class="no">【β1 _(拟合)*X + ϵ </em> </p></blockquote><p id="6f0c" class="pw-post-body-paragraph lu lv jj lw b lx ow kk lz ma ox kn mc lh oy me mf ll oz mh mi lp pa mk ml mm im bi translated">换句话说:</p><blockquote class="om"><p id="d93c" class="on oo jj bd op oq or os ot ou ov mm dk translated">E(Y|X) = Y_(预测)+ ϵ</p></blockquote><p id="6070" class="pw-post-body-paragraph lu lv jj lw b lx ow kk lz ma ox kn mc lh oy me mf ll oz mh mi lp pa mk ml mm im bi translated"><em class="mn">其中</em> <strong class="lw jk"> <em class="mn"> ϵ </em> </strong> <em class="mn">是回归模型的误差，又称模型的残差。</em></p><p id="f146" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">一般来说，对于“表现良好”的模型，当您在越来越大的样本量上训练您的模型时，会发生以下有趣的事情:</p><ul class=""><li id="d20d" class="my mz jj lw b lx mo ma mp lh na ll nb lp nc mm nd ne nf ng bi translated">在我们的示例中，拟合模型的系数:<em class="mn"> β0_(拟合)</em>和<em class="mn"> β1_(拟合)</em>开始接近真实值(在我们的示例中，分别为20和10)。</li><li id="3684" class="my mz jj lw b lx nh ma ni lh nj ll nk lp nl mm nd ne nf ng bi translated">拟合模型的预测(<strong class="lw jk"> <em class="mn"> Y_predicted </em> </strong>)开始逼近<strong class="lw jk"><em class="mn">Y</em></strong>on<strong class="lw jk"><em class="mn"/></strong>，<em class="mn">即E(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">|</em><strong class="lw jk"><em class="mn">X</em>【T97)</strong></li><li id="c0f9" class="my mz jj lw b lx nh ma ni lh nj ll nk lp nl mm nd ne nf ng bi translated">模型的剩余误差开始趋近于零。</li></ul></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><h2 id="0312" class="ky kz jj bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">条件方差</h2><p id="3e4f" class="pw-post-body-paragraph lu lv jj lw b lx ly kk lz ma mb kn mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated"><em class="mn">方差是对数据偏离均值的简单衡量。</em></p><p id="3941" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">数学上，样本的方差<em class="mn"> s </em>(或总体的<em class="mn"> σ </em>)是样本(或总体)值与样本(或总体)均值之差的平方和。</p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/4e5d40df44a13c8836d8c6d8fc232779.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*EesMlCswRXi5os_dnFB2Pw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">样本的方差(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>提供)</p></figure><p id="647a" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">下面的情节说明了<strong class="lw jk"> <em class="mn">无条件</em> </strong>方差<em class="mn">s(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">)</em>和<strong class="lw jk"> <em class="mn">有条件</em> </strong>方差<em class="mn">s(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">|</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">= X</em>:</p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/02fc649cd52cf1ebf6947b13457ee4a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tDkHLVJdr369Jd1-8eonMQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">无条件和有条件方差(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>提供)</p></figure><p id="8a00" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">样本(或总体)的<strong class="lw jk">无条件</strong>方差考虑了样本(或总体)中的所有值，而<strong class="lw jk">有条件</strong>方差只关注与给定值<strong class="lw jk"><em class="mn">【X</em></strong>相对应的<strong class="lw jk"><em class="mn"/></strong>Y值的子集。</p><p id="0e51" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">在我们的示例中，我们将样本的条件方差<em class="mn">s(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">|</em><strong class="lw jk"><em class="mn">X</em></strong><em class="mn">= X)定义为给定X值的Y的方差。</em>因此记法为<em class="mn">s(</em><strong class="lw jk"><em class="mn">Y</em></strong><em class="mn">|</em><strong class="lw jk"><strong class="lw jk"/></strong></p></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><h2 id="b99a" class="ky kz jj bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">条件方差和回归建模</h2><p id="6ffc" class="pw-post-body-paragraph lu lv jj lw b lx ly kk lz ma mb kn mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">与条件期望一样，条件方差在回归建模领域占有特殊的位置，其位置如下:</p><p id="d803" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">建立回归模型(或任何统计模型)的主要原因是试图“解释”因变量的可变性。实现这个目标的一个方法是在你的模型中包含相关的解释变量<strong class="lw jk"> <em class="mn"> X </em> </strong>。条件方差为您提供了一种解释回归变量对减少<strong class="lw jk"> <em class="mn"> Y </em> </strong>方差的帮助(即解释)程度的方法。</p><p id="ea19" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">如果你发现一个解释变量的存在不能解释太多的差异，它可以从模型中删除。</p><p id="5ed8" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">为了说明这个概念，让我们再来看一下上面的图，它显示了<strong class="lw jk"><em class="mn"/></strong>中的无条件方差和有条件方差</p><p id="90da" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">样本的总体方差为870.59。但是，如果您要将<strong class="lw jk"> <em class="mn"> X </em> </strong>固定为6，那么只需知道<strong class="lw jk"> <em class="mn"> X </em> </strong>为6就可以将方差降低到只有25！下表列出了<strong class="lw jk"> <em class="mn"> Y </em> </strong>中<strong class="lw jk"><em class="mn"/></strong>x的剩余值的条件方差，将每个值与Y的总体无条件方差进行比较，即870.59:</p><figure class="mu mv mw mx gt iv gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/59c84d36c15e4b8a64d18e51840c98b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:342/format:webp/1*zJqj1-1cJcxSsFUzS95sqw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">不同X值的条件方差(图片由<a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">作者</a>提供)</p></figure><p id="22da" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">就是这样！这就是条件概率，条件期望和条件方差的全部内容。您可以看到这三个概念在回归建模中扮演了多么有用和重要的角色。</p><p id="2098" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">快乐造型！</p></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><p id="08f7" class="pw-post-body-paragraph lu lv jj lw b lx mo kk lz ma mp kn mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><em class="mn">感谢阅读！我写关于数据科学的主题。如果您喜欢这篇文章，请</em> <a class="ae jg" href="https://timeseriesreasoning.medium.com" rel="noopener"> <strong class="lw jk"> <em class="mn">关注我</em> </strong> </a> <em class="mn">接收关于数据科学、时间序列分析和预测主题的文章、指南和编程建议。</em></p></div></div>    
</body>
</html>