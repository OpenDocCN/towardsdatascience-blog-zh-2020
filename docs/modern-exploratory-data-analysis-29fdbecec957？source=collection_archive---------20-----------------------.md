# ç°ä»£æ¢ç´¢æ€§æ•°æ®åˆ†æ

> åŸæ–‡ï¼š<https://towardsdatascience.com/modern-exploratory-data-analysis-29fdbecec957?source=collection_archive---------20----------------------->

## æŠ›å¼ƒæ—§çš„æ–¹å¼ã€‚æœªæ¥æ˜¯è‡ªåŠ¨åŒ–çš„ã€‚

## å››ä¸ªè‡ªåŠ¨åŒ– EDA åº“è¿°è¯„

![](img/78bc6594e21300938eb6c43a9cb38e99.png)

ç…§ç‰‡ç”±[äºšå†å±±å¾·ç½—Â·åŸƒå°”è´å¡”](https://unsplash.com/@alessandroerbetta?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) æ‹æ‘„

EDA ä»£è¡¨æ¢ç´¢æ€§æ•°æ®åˆ†æï¼Œå¯èƒ½æ˜¯ä»»ä½•æ•°æ®ç§‘å­¦é¡¹ç›®ä¸­æœ€é‡è¦ä½†æœ€å®¹æ˜“è¢«å¿½è§†çš„æ­¥éª¤ã€‚

**æˆ‘çš„ç›®æ ‡æ˜¯ä¸æ‚¨åˆ†äº«ä¸€äº›å·¥å…·ï¼Œè¿™äº›å·¥å…·å¯ä»¥åœ¨æ¢ç´¢æ•°æ®æ—¶å°†æ‚¨çš„å·¥ä½œæ•ˆç‡æå‡ 10 å€ã€‚**

# è¯­å¢ƒ

æ­£æ˜¯åœ¨æ¢ç´¢é˜¶æ®µï¼Œæ•°æ®ç§‘å­¦å®¶åœ¨è¿›å…¥æ•°æ®æ¸…ç†ã€ç‰¹å¾å·¥ç¨‹å’Œå»ºæ¨¡ä¹‹å‰ï¼Œä¸æ•°æ®é›†ä¿æŒå¯†åˆ‡è”ç³»ã€‚

> ç„¶è€Œï¼Œæˆ‘ä»¬ä¸­æœ‰å¤ªå¤šçš„äººåŒ†å¿™å®Œæˆæ•°æ®æ¢ç´¢ï¼Œè¿‡æ—©åœ°è·³åˆ°ä¸‹ä¸€æ­¥ã€‚

è¿‡å»ï¼Œä½ å¿…é¡»ä¸º EDA ç¼–å†™è‡ªå·±ç†Ÿæ‚‰çš„å‡½æ•°ï¼Œåœ¨è¿™ä¸ªé¢†åŸŸå·²ç»æœ‰äº†å¾ˆå¤šé‡æ–°å‘æ˜è½®å­å’Œ/æˆ–å¤åˆ¶ç²˜è´´çš„æ–¹æ³•ã€‚ä½†æ˜¯éšç€è‡ªåŠ¨æœºå™¨å­¦ä¹ ç­‰å…ˆè¿›æŠ€æœ¯çš„å‡ºç°ï¼Œå¾ˆæ˜æ˜¾ EDA ä¹Ÿå¯ä»¥ä»è‡ªåŠ¨åŒ–ä¸­å—ç›Šã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘é¦–å…ˆå±•ç¤ºäº†ä¸€ä¸ªç”¨è€å¼æ–¹æ³•åš EDA çš„ä¾‹å­ã€‚ç„¶åï¼Œæˆ‘å›é¡¾äº†ä»¥ä¸‹è‡´åŠ›äºä½¿ EDA å°½å¯èƒ½ç®€å•é«˜æ•ˆçš„è½¯ä»¶åŒ…:

*   ç†ŠçŒ«-å‰–æ(python)
*   æ‘˜è¦å·¥å…·(R)
*   æ¢ç´¢(R)
*   æ•°æ®å¥³ä»†(R)

# âœ¨è¦æ±‚è¿è¡Œä¸‹é¢çš„ä¾‹å­

æˆ‘ä»¬å°†ä½¿ç”¨çš„æ•°æ®é›†æ˜¯:

*   å›å½’:[å¥åº·ä¿é™©](https://www.kaggle.com/mirichoi0218/insurance#insurance.csv)ï¼Œè¿™é‡Œçš„ç›®æ ‡æ˜¯é¢„æµ‹ä¿é™©è´¹ã€‚
*   åˆ†ç±»:[æ³°å¦å°¼å…‹å·](https://www.kaggle.com/c/titanic/data)ï¼Œç›®æ ‡æ˜¯é¢„æµ‹è°å¹¸å­˜ã€‚

å®‰è£… R åŒ…:

```
install.packages(c("summarytools", "explore" "dataMaid"))
```

å®‰è£… python `pandas-profiling`åŒ…:

```
pip install pandas-profiling
```

è¦ä½¿ç”¨ Jupyter ç¬”è®°æœ¬ä¸­çš„è½¯ä»¶åŒ…ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä»å‘½ä»¤è¡Œè¿è¡Œä»¥ä¸‹å‘½ä»¤:

```
jupyter nbextension enable --py widgetsnbextension
```

å¦‚æœæ‚¨æ›´å–œæ¬¢ Jupyter Labï¼Œå‘½ä»¤æ”¹ä¸º:

```
jupyterlab: jupyter labextension install @jupyter-widgets/jupyterlab-manager
```

# è€åŠæ³•

åœ¨è¿‡å»ï¼Œäººä»¬è¦ä¹ˆä½¿ç”¨å¯è§†åŒ–åº“ï¼Œè¦ä¹ˆä½¿ç”¨ pandas å†…ç½®çš„å¯è§†åŒ–åŠŸèƒ½ã€‚è®©æˆ‘ä»¬çœ‹å‡ ä¸ªä¾‹å­ã€‚

```
import pandas as pd 
import numpy as np data = pd.read_csv('insurance.csv')
```

## ğŸ‘‰`head`åŠŸèƒ½

è¿™å¯èƒ½æ˜¯æ¯ä¸ªæ•°æ®ç§‘å­¦ç¬”è®°æœ¬ä¸­çš„ç¬¬ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œç”¨äºæŸ¥çœ‹æ•°æ®:

```
**data**.head()
```

![](img/ebbea81b05e78ad0cf46be23084ae526.png)

## ğŸ‘‰`describe`åŠŸèƒ½

è¿™ä¸ªå‡½æ•°ä¸ºæˆ‘ä»¬æä¾›äº†æ¯ä¸ªå˜é‡çš„ä¸€äº›æ±‡æ€»ç»Ÿè®¡æ•°æ®ã€‚æˆ‘å–œæ¬¢æŠŠæ•°å­—å˜é‡å’Œåˆ†ç±»å˜é‡åˆ†æˆä¸¤ä¸ªç‹¬ç«‹çš„è°ƒç”¨:

```
data.describe(include=np.number)
```

![](img/4e3870ef855b7a718c32233edd4fd1b4.png)

```
data.describe(include=np.object)
```

![](img/8243b8f4dd600a5455cb8d1af0197585.png)

## ğŸ‘‰å’Œç†ŠçŒ«ä¸€èµ·ç­–åˆ’

ä¸¤ç§æœ€å¸¸è§çš„å•å‘åˆ†å¸ƒå›¾æ˜¯åˆ†ç±»å˜é‡çš„æ¡å½¢å›¾å’Œè¿ç»­å˜é‡çš„ç›´æ–¹å›¾ã€‚ä¸¤è€…éƒ½å¾ˆå®¹æ˜“ç›´æ¥ä»ç†ŠçŒ«ä¸Šä½¿ç”¨:

```
data['region'].value_counts().plot.barh(title='Region')
```

![](img/147884a306be070838c5021895be244c.png)

```
data['age'].plot.hist(title='Age distribution')
```

![](img/24a28ce62e1534f141d4edf2dfab62d0.png)

æœ€åï¼Œæˆ‘ä»¬æœ‰æ™®éå­˜åœ¨çš„ç›¸å…³çŸ©é˜µ:

```
data.corr().style.background_gradient(cmap='coolwarm').set_precision(2)
```

![](img/21f32db8f3e9361a5365070010c51d52.png)

è¿™å°±ç»“æŸäº†æˆ‘ä»¬å¯¹è€æ´¾æ¢ç´¢æ€§æ•°æ®åˆ†æçš„å¿«é€Ÿå›é¡¾ã€‚å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬å¿…é¡»æ˜ç¡®åœ°å†™ä¸‹æ¯ä¸€æ­¥ã€‚å¦‚æœåˆ—æ•°å¢åŠ ï¼Œè¿™ä¸ªè¿‡ç¨‹è¦ä¹ˆå˜å¾—ä¹å‘³ï¼Œè¦ä¹ˆæˆ‘ä»¬å¿…é¡»å†™ä¸‹è‡ªå·±çš„å‡½æ•°æ¥å®ç°è‡ªåŠ¨åŒ–ã€‚

åœ¨è¿™ç¯‡æ–‡ç« çš„å…¶ä½™éƒ¨åˆ†ï¼Œæˆ‘å›é¡¾äº†ç°æœ‰çš„æˆåŠŸçš„å¯ä»¥ä¸ºæˆ‘ä»¬æ‰§è¡Œè‡ªåŠ¨åŒ–çš„åŒ…ã€‚

# ğŸ“¦æ‘˜è¦å·¥å…·`(R)`

`summarytools`å¯èƒ½æ˜¯è·å–æ•°æ®é›†ä¸­æ¯ä¸€åˆ—å•å‘ä¿¡æ¯çš„æœ€ç®€å•æ–¹æ³•ã€‚

```
library(summarytools) 
library(readr) df <- read_csv("insurance.csv") view(dfSummary(df))
```

è¾“å‡ºç›´æ¥æ˜¾ç¤ºåœ¨ RStudio çš„æµè§ˆå™¨ä¸­ï¼Œä½†æ˜¯æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨`file`å‚æ•°å°†å…¶ä¿å­˜ä¸º html æ–‡ä»¶ã€‚çœ‹ä¸€çœ‹:

![](img/c03032b2b1bda1ab66c22749d2bea22c.png)

è™½ç„¶ä¸å…¨é¢ï¼Œä½†æˆ‘å‘ç°è¿™ä¸ªè¾“å‡ºåœ¨å¾ˆå°çš„ç©ºé—´å†…æ‰“åŒ…å¤§é‡æœ‰ç”¨çš„ä¿¡æ¯æ—¶éå¸¸æœ‰æ•ˆã€‚è¿™ä¸ªåŒ…è¿˜æœ‰ä¸€äº›å…¶ä»–çš„å•å˜é‡ç»Ÿè®¡å’Œäº¤å‰åˆ¶è¡¨çš„å‡½æ•°ï¼Œä½†æ˜¯åœ¨æˆ‘çœ‹æ¥çœŸæ­£çš„ç²¾åæ˜¯ä¸Šé¢çš„`dfSummary`å‡½æ•°ã€‚

# ğŸ“¦æ¢ç´¢`(R)`

`explore`å¥—é¤ç›¸å½“ä¸å¯æ€è®®ã€‚åªéœ€ä¸€è¡Œä»£ç ï¼Œæ‚¨å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„é—ªäº®çš„åº”ç”¨ç¨‹åºï¼Œè®©æ‚¨äº¤äº’å¼åœ°æ¢ç´¢æ‚¨çš„æ•°æ®ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ª **titanic** æ•°æ®é›†çš„ä¾‹å­ã€‚ä¸‹é¢ï¼Œæˆ‘å±•ç¤ºäº†ä¸¤ä¸ªå˜é‡çš„å•å‘å’ŒåŒå‘å›¾ï¼Œä¸€ä¸ªåˆ†ç±»å˜é‡(æ€§åˆ«)å’Œä¸€ä¸ªè¿ç»­å˜é‡(å¹´é¾„)ã€‚æˆ‘ä»¬ç«‹åˆ»å‘ç°å¥³æ€§æ›´æœ‰å¯èƒ½å­˜æ´»ï¼Œå¹´è½»äººä¹Ÿæ›´æœ‰å¯èƒ½å­˜æ´»:

```
library(explore) df <- read_csv("titanic_train.csv") explore(df)
```

![](img/4b11cbc4bfe0cb9fc9b2d04b47020269.png)![](img/a5a6c854e2d9089b3eac83b0afcd2299.png)

å¦ä¸€ä¸ªå¾ˆå¥½çš„åŠŸèƒ½æ˜¯â€œè§£é‡Šâ€é€‰é¡¹å¡ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç›´è§‚åœ°çœ‹åˆ°ä¸€ä¸ªç®€å•çš„å†³ç­–æ ‘ï¼Œä»¥å»ºç«‹æˆ‘ä»¬å¯¹é¢„æµ‹å˜é‡çš„ç›´è§‰:

![](img/4a54af7f5c9536e9dddd4afdb6408c1a.png)

# ğŸ“¦æ•°æ®åŠ©ç†`(R)`

```
library('dataMaid') makeDataReport(df,                
               render = FALSE,
               file = "output_file.Rmd",
               replace = TRUE)
```

`dataMaid`å¯èƒ½æ˜¯ç›®å‰ä¸ºæ­¢æœ€å…¨é¢çš„é€‰é¡¹ã€‚æ‚¨å¯ä»¥è¾“å‡ºä¸€ä¸ª Rmd æ–‡ä»¶ï¼Œç„¶åä» RStudio å°†å…¶ç¼–ç»‡æˆ HTML æŠ¥å‘Šï¼Œæˆ–è€…æ‚¨å¯ä»¥ä½¿ç”¨`render=TRUE`ä¸ºæ‚¨è¾“å‡ºä¸€ä¸ªæ¼‚äº®çš„ Word æ–‡æ¡£ï¼

æŠ¥å‘Šä»¥ä¸€ä¸ªæ±‡æ€»è¡¨å¼€å§‹:

![](img/3825a0d0a887b43e300c1dd83dd2cbec.png)

åé¢æ˜¯æ¯ä¸ªå˜é‡çš„ä¸€ä¸ªéƒ¨åˆ†ã€‚è¿™æ˜¯ bmi çš„éƒ¨åˆ†ï¼Œæ ¹æ®ä¸Šé¢çš„æ±‡æ€»è¡¨ï¼Œå®ƒå¯èƒ½æœ‰é—®é¢˜ï¼Œç»“æœæ˜¯æ½œåœ¨å¼‚å¸¸å€¼çš„é—®é¢˜:

![](img/ac2b67c423c9dabd69b23454f8c7a96a.png)

`makeDataReport`å‡½æ•°æœ‰å¾ˆå¤šå‚æ•°æ¥è°ƒæ•´è¾“å‡ºã€‚æ€»çš„æ¥è¯´ï¼Œæˆ‘å¯¹è¿™ä¸ªåŒ…å°è±¡éå¸¸æ·±åˆ»ã€‚

# ğŸ“¦ç†ŠçŒ«ç®€ä»‹`(python)`

æœ€åä½†åŒæ ·é‡è¦çš„æ˜¯ï¼Œ`pandas-profiling`å¯èƒ½æ˜¯ python ä¸–ç•Œä¸­è‡ªåŠ¨ EDA æœ€æµè¡Œçš„åŒ…ã€‚æ‚¨å¯ä»¥åœ¨ç¬”è®°æœ¬ä¸­ä½¿ç”¨å®ƒï¼Œå¹¶ä¸”ç”±äºå¥‡å¦™çš„`ipywidgets`åº“ï¼Œæ‚¨å¯ä»¥è·å¾—ä¸€ä¸ªäº¤äº’å¼çš„éå¸¸ä¸°å¯Œçš„å¯è§†åŒ–æ¥æ¢ç´¢æ‚¨çš„æ•°æ®ã€‚

```
from pandas_profiling import ProfileReport profile = ProfileReport(data, 
                        title='Pandas Profiling Report', 
                        html={'style':{'full_width':True}}) profile.to_widgets()
```

é¦–å…ˆï¼Œæ‚¨å°†è·å¾—æ•°æ®çš„æ¦‚è¿°:

![](img/4935fce1de9ca1548274829b08eb8450.png)

ä»¥åŠä¸€äº›ä»¥å‰çš„åŒ…æ²¡æœ‰æ•æ‰åˆ°çš„è­¦å‘Š:

![](img/ed754bd82a2f036d05c45f985ec628f2.png)

æˆ‘ä»¬è¿˜ä¼šå¾—åˆ°æ¯ä¸ªå˜é‡çš„è¯¦ç»†æŠ¥å‘Š:

![](img/d1b659235d2b96aa4c8a7f3c452cfde9.png)![](img/77c1ad1484dfb267b64955e11211c88a.png)

æˆ‘ä»¬ç”šè‡³å¯ä»¥åˆ‡æ¢ç»†èŠ‚è¿›è¡Œæ›´æ·±å…¥çš„æ¢ç´¢:

![](img/71f9a8dd8c41bf6868ea2b165d2e63eb.png)

å˜é‡ä¹‹é—´çš„ç›¸äº’ä½œç”¨å›¾ä¹Ÿå¯ç”¨:

![](img/79b8229b5a3d23090ecc3830e0b5f001.png)

å…¶ä»–é€‰é¡¹å¡(ç›¸å…³æ€§ã€ç¼ºå¤±å€¼å’Œæ ·æœ¬)æ˜¯æ‚¨æ‰€æœŸæœ›çš„ã€‚æˆ‘é‚€è¯·ä½ æ¥ç©è¿™ä¸ªå¥‡å¦™çš„åŒ…ã€‚

# âœ…è£å†³

æˆ‘å¸Œæœ›æˆ‘è¯´æœä½ åœæ­¢ä½¿ç”¨è‡ªåˆ¶çš„åŠŸèƒ½æˆ–æ˜‚è´µçš„å¯è§†åŒ–å·¥å…·ï¼Œæ”¹ç”¨å¼€æºçš„ä¸“ç”¨åŒ…ã€‚

ä¸Šé¢æè¿°çš„ 4 ä¸ªåŒ…æ˜¯æˆ‘åœ¨çœŸå®æƒ…å†µä¸‹è¿›è¡Œæ•°æ®æ¢ç´¢çš„å¸¸ç”¨å·¥å…·ã€‚æˆ‘ä»éäº¤äº’å¼çš„å¼€å§‹ï¼Œé¦–å…ˆæ˜¯`summarytools`ï¼Œç„¶åæ˜¯`dataMaid`ã€‚ç„¶åæˆ‘å’Œ`explore`ä¸€èµ·ç©è€ï¼Œæœ€åï¼Œæˆ‘å’Œ`pandas-profiling`åœ¨ä¸€èµ·çš„æ—¶é—´æœ€å¤šã€‚

è¿™å°±æ˜¯æˆ‘å¦‚ä½•å°½å¯èƒ½ç†Ÿæ‚‰æˆ‘çš„æ•°æ®ï¼Œè€Œä¸æµªè´¹æ—¶é—´ç¼–å†™æ¨¡æ¿ä»£ç ã€‚æ ¹æ®æˆ‘å¾—å‡ºçš„å‘ç°ï¼Œæˆ‘å°†ä½¿ç”¨å…¶ä»–è½¯ä»¶åŒ…è¿›è¡Œå¼‚å¸¸æ£€æµ‹ã€æ’è¡¥ã€ç‰¹å¾å·¥ç¨‹ç­‰ã€‚è¿™äº›éƒ½å°†æ˜¯æœªæ¥æ–‡ç« çš„ä¸»é¢˜ã€‚æ„Ÿè°¢é˜…è¯»ï¼