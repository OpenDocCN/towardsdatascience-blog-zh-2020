<html>
<head>
<title>Step-by-Step Web Scraping Project Using Selenium in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中使用Selenium的分步Web抓取项目</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/step-by-step-web-scraping-project-using-selenium-in-python-3be887e6e35c?source=collection_archive---------17-----------------------#2020-05-15">https://towardsdatascience.com/step-by-step-web-scraping-project-using-selenium-in-python-3be887e6e35c?source=collection_archive---------17-----------------------#2020-05-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d5a2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">选择网站，在Python中设置Selenium，抓取数据并分析。</h2></div><p id="c5cb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Selenium是数据科学中的一个强大工具。它的用途之一是自动收集网站上公开的数据。使用Python中的Selenium，您可以自动化web浏览器访问网站上的数据，收集并存储在MySQL、CSV文件等中。</p><blockquote class="le lf lg"><p id="ac4a" class="ki kj lh kk b kl km ju kn ko kp jx kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">这个项目是在华沙大学数据科学研究生学习期间与T2的Jorge Bueno Perez和T4的Noam Shmuel一起完成的。</p></blockquote><p id="0b1e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这个分步指南中，您将看到如何使用Selenium Python从网站<a class="ae ll" href="https://openaq.org/#/?_k=l3sffn" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu">www.openaq.org</strong></a>获取数据，并创建如下图所示的箱线图。</p><h2 id="4e42" class="lm ln it bd lo lp lq dn lr ls lt dp lu kr lv lw lx kv ly lz ma kz mb mc md me bi translated">最终结果将是这样的:</h2><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mf"><img src="../Images/81a9a632b4f1f49d3eb3abc1eafa3b4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ag6xt_-lBJcldkSEqkaJ2w.png"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">显示2020年不同欧盟国家空气污染的箱线图</p></figure><blockquote class="le lf lg"><p id="14b1" class="ki kj lh kk b kl km ju kn ko kp jx kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">箱线图显示了欧盟国家PM 2.5空气污染水平的数据。<a class="ae ll" href="https://en.wikipedia.org/wiki/Particulates" rel="noopener ugc nofollow" target="_blank"> PM 2.5是在空气中测量的颗粒物</a>。简而言之，数字越大，空气质量越差。</p></blockquote><h2 id="db28" class="lm ln it bd lo lp lq dn lr ls lt dp lu kr lv lw lx kv ly lz ma kz mb mc md me bi translated">我们将通过Selenium实现什么自动化:</h2><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mv"><img src="../Images/823300b2e0194c4693a86357837ea21e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*iyW9-Fjf4-SrNaUfIHUuWA.gif"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">从网站收集PM 2.5数据的手动过程</p></figure><h1 id="9b69" class="mw ln it bd lo mx my mz lr na nb nc lu jz nd ka lx kc ne kd ma kf nf kg md ng bi translated">本文涵盖以下主题:</h1><ol class=""><li id="e63e" class="nh ni it kk b kl nj ko nk kr nl kv nm kz nn ld no np nq nr bi translated">选择网站</li><li id="b217" class="nh ni it kk b kl ns ko nt kr nu kv nv kz nw ld no np nq nr bi translated">在Python中设置Selenium</li><li id="e55f" class="nh ni it kk b kl ns ko nt kr nu kv nv kz nw ld no np nq nr bi translated">从网站抓取数据并存储</li><li id="e4b9" class="nh ni it kk b kl ns ko nt kr nu kv nv kz nw ld no np nq nr bi translated">使用Python中的Seaborn boxplot分析数据</li></ol><h1 id="3449" class="mw ln it bd lo mx my mz lr na nb nc lu jz nd ka lx kc ne kd ma kf nf kg md ng bi translated">1.选择网站</h1><p id="59cd" class="pw-post-body-paragraph ki kj it kk b kl nj ju kn ko nk jx kq kr nx kt ku kv ny kx ky kz nz lb lc ld im bi translated">在你决定删除哪个网站之前，一个自然的问题来了——从网站上删除数据合法吗？</p><p id="9435" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想知道网站上是否允许抓取，首先你应该检查链接上的信息:在网站的末尾添加“robots.txt”。例如:<a class="ae ll" href="http://www.website.come/robots.txt" rel="noopener ugc nofollow" target="_blank">www.examplewebsite.com<strong class="kk iu">/robots . txt</strong></a></p><p id="fc9c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看我们是否能废弃Facebook.com。当你打开链接<a class="ae ll" href="https://www.facebook.com/robots.txt" rel="noopener ugc nofollow" target="_blank">www.Facebook.com<strong class="kk iu">/robots . txt</strong></a>你会看到以下信息:</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/0d901868bdbe77e1ddd50feb541b5912.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*1AQJRrAh0P2Cd583obr2Jw.png"/></div></figure><p id="59d3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面明确写着你需要脸书的特别授权才能销毁这些数据。为了更好地理解Robots.txt，请点击查看更多信息。</p><p id="bce6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">总是建议在知识共享协议下许可的、有开放数据源的或在Robots.txt中不禁止抓取的网站上使用抓取。</p><p id="e7ae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于这个项目是非商业性的，并且网站<a class="ae ll" href="http://www.openaq.org" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu">【www.openaq.org】</strong></a>有开放的数据，可以通过多种方式访问，我们决定用它来进行抓取。他们甚至鼓励人们<a class="ae ll" href="https://github.com/openaq/openaq-info/blob/master/FAQ.md#whatis" rel="noopener ugc nofollow" target="_blank">在他们令人敬畏的FAQ中使用数据做好事</a>,值得一查！</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi ob"><img src="../Images/6a63f60c5378ba79dbf98aa0cc96a76d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EQcJJf_dubAs8Axi0PzzcQ.png"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated"><a class="ae ll" href="https://openaq.org/#/?_k=rlxbjy" rel="noopener ugc nofollow" target="_blank">www.openaq.org</a></p></figure><h2 id="ac5d" class="lm ln it bd lo lp lq dn lr ls lt dp lu kr lv lw lx kv ly lz ma kz mb mc md me bi translated">收集什么数据？</h2><p id="388b" class="pw-post-body-paragraph ki kj it kk b kl nj ju kn ko nk jx kq kr nx kt ku kv ny kx ky kz nz lb lc ld im bi translated">在这个网站上，我们决定删除关于国家和PM 2.5信息的数据。为了做到这一点，我们希望过滤PM 2.5，并为每个国家访问位置卡。然后复制PM 2.5数据(是一个数字)。<strong class="kk iu">基本上，我们想做的和下面的gif一样。</strong></p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mv"><img src="../Images/823300b2e0194c4693a86357837ea21e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*iyW9-Fjf4-SrNaUfIHUuWA.gif"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">从网站收集PM 2.5数据的手动过程</p></figure><p id="4e6c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">看起来很累很无聊吧？访问大约100个国家的页面，每个国家有多达15个位置。喔喔喔！！！不会吧。<strong class="kk iu">但好消息是Selenium可以为我们实现自动化</strong>。但是！我们需要设置这个。</p><h1 id="c882" class="mw ln it bd lo mx my mz lr na nb nc lu jz nd ka lx kc ne kd ma kf nf kg md ng bi translated">2.在Python中设置Selenium</h1><p id="8f2a" class="pw-post-body-paragraph ki kj it kk b kl nj ju kn ko nk jx kq kr nx kt ku kv ny kx ky kz nz lb lc ld im bi translated">你应该在你的电脑里安装Selenium。只需在命令提示符下键入<strong class="kk iu"><em class="lh">pip install selenium</em></strong>(对于Windows)并按回车键。有关安装的更多详细信息，请参见<a class="ae ll" href="https://selenium-python.readthedocs.io/installation.html" rel="noopener ugc nofollow" target="_blank"> Selenium文档</a>。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/28465afb17d9a9c0f22d4d1117f43289.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*Lt02pEJvNw0tFykRWHwm5w.png"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">从命令提示符安装Selenium</p></figure><p id="c9d5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后你需要一个驱动程序，作为Selenium访问你的浏览器的桥梁。就我而言，我为Mozilla Firefox下载了一个<strong class="kk iu"> <em class="lh"> geckodriver </em> </strong>。取决于您的版本，您可以从这里下载<a class="ae ll" href="https://selenium-python.readthedocs.io/installation.html" rel="noopener ugc nofollow" target="_blank"/>:</p><p id="73ff" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">火狐</strong>:<a class="ae ll" href="https://github.com/mozilla/geckodriver/releases" rel="noopener ugc nofollow" target="_blank">https://github.com/mozilla/geckodriver/releases</a></p><p id="1ea3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">考虑到你下载了<strong class="kk iu"> <em class="lh"> geckodriver </em> </strong>，将其解压，并复制粘贴<strong class="kk iu"><em class="lh">geckodriver.exe</em></strong>到你的python所在的文件夹中。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/4080fb326387aa8cb4cef22db4ab6159.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*hajXCZ2JGxznsJah1E6epw.png"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">将geckodrive.exe复制粘贴到python app所在的文件夹中(我的案例)</p></figure><p id="1568" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">创建一个. py文件并导入主库和包。</p><figure class="mg mh mi mj gt mk"><div class="bz fp l di"><div class="oe of l"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">Selenium的主要库和包</p></figure><p id="5ec6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们需要找到到我们的<strong class="kk iu"><em class="lh">geckodriver.exe</em></strong>的路径，并用python代码设置webdriver，如下所示。</p><figure class="mg mh mi mj gt mk"><div class="bz fp l di"><div class="oe of l"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">Python中的WebDriver设置</p></figure><h1 id="1302" class="mw ln it bd lo mx my mz lr na nb nc lu jz nd ka lx kc ne kd ma kf nf kg md ng bi translated">3.从网站抓取数据并存储</h1><p id="431b" class="pw-post-body-paragraph ki kj it kk b kl nj ju kn ko nk jx kq kr nx kt ku kv ny kx ky kz nz lb lc ld im bi translated">抓取工作流程如下所示:</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi og"><img src="../Images/50a59a9205db6654d18a4345758dfd6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iWr9y2DP8H8jb4IFsdkFPQ.png"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">刮擦4步工作流程</p></figure><h2 id="f3bb" class="lm ln it bd lo lp lq dn lr ls lt dp lu kr lv lw lx kv ly lz ma kz mb mc md me bi translated">3.1获取过滤器中的国家名称</h2><p id="7dba" class="pw-post-body-paragraph ki kj it kk b kl nj ju kn ko nk jx kq kr nx kt ku kv ny kx ky kz nz lb lc ld im bi translated">我们需要与过滤器中的国家名称完全相同的拼写。从过滤器中获取值似乎有点困难。相反，我们可以从这个<a class="ae ll" href="https://openaq.org/#/countries?_k=t0gtqr" rel="noopener ugc nofollow" target="_blank">链接</a>中获得所有国家的名称。它们将具有相同的拼写。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi oh"><img src="../Images/364f3d25c002db4423772d2ecd7f863a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-U8zQJMZIOic4xEFDLShyA.png"/></div></div></figure><p id="8e3c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您右键单击国家名称并转到Inspect元素，您将看到国家名称保存在class <strong class="kk iu"> card__title中。</strong></p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi oi"><img src="../Images/21fd96c412000be58c86e82530fa3dfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LCuVF1PxbpmFRGxMLLQAdQ.png"/></div></div></figure><p id="1e6b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">废弃国名代码的主要部分如下所示:(<a class="ae ll" href="https://github.com/LashaGoch/SeleniumPythonProject/blob/master/Code/Get1Countries.py" rel="noopener ugc nofollow" target="_blank">全称</a>)</p><figure class="mg mh mi mj gt mk"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="fb9e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果是一个保存在CSV文件中的国家列表。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi oj"><img src="../Images/377283694aa9905e3caf9d867fa781bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fzx-Fm30gFWFnBDVoiKnhQ.png"/></div></div></figure><h2 id="dcd7" class="lm ln it bd lo lp lq dn lr ls lt dp lu kr lv lw lx kv ly lz ma kz mb mc md me bi translated">3.2获取每个国家页面的链接</h2><p id="cb3a" class="pw-post-body-paragraph ki kj it kk b kl nj ju kn ko nk jx kq kr nx kt ku kv ny kx ky kz nz lb lc ld im bi translated">我们希望有网站时，每个国家都在过滤器中选择迭代。我们将使用刚刚生成的CSV文件中的国家名称。</p><p id="e8ea" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们要删除的链接:</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/c7381c3957de95b4bcd744c69574d016.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cCxpo8WuRpzmsoN0BA89rA.png"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">以奥地利网站为例</p></figure><p id="eb4c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">代码:</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/62d574e7b9b57e7386a4fdbc74a65a7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*rjH7yjhfblJqouOIfIQ2rw.png"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated"><a class="ae ll" href="https://gist.github.com/LashaGoch/da23c5b089ddc9c4c45d643226f2986c" rel="noopener ugc nofollow" target="_blank">Github Gist上的代码</a></p></figure><p id="43a9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此步骤的结果是生成包含国家/地区&amp; country_url(某个国家/地区的网站)的CSV文件。完整的代码是<a class="ae ll" href="https://github.com/LashaGoch/SeleniumPythonProject/blob/master/Code/Get2LinksOfCountries.py" rel="noopener ugc nofollow" target="_blank">这里是</a>。这些链接将在下一步中使用。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi om"><img src="../Images/664b8238709642e9135f638462574353.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gaLjZZEEiHn1sDDrjv5TBw.png"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">在步骤3.2中生成的CSV文件</p></figure><h2 id="0332" class="lm ln it bd lo lp lq dn lr ls lt dp lu kr lv lw lx kv ly lz ma kz mb mc md me bi translated">3.3从一个国家的页面，获取每个位置卡的链接</h2><p id="72ec" class="pw-post-body-paragraph ki kj it kk b kl nj ju kn ko nk jx kq kr nx kt ku kv ny kx ky kz nz lb lc ld im bi translated">基本上，我们希望获得访问每个位置卡的链接:</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi on"><img src="../Images/66ff94cbf5dde21ae6f2b69cd152dd56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gP-2erdbHwf7CSQH155Mkg.png"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">访问每个位置卡的链接</p></figure><p id="c39c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以通过类名删除位置卡的链接，并检索href。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi oo"><img src="../Images/f2e8f7d88caafd9f3a3a950b4dea79d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bqV1GMGLH_U8m7kSGYjE3Q.png"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">检查位置卡标题、类名和href的元素</p></figure><p id="5ada" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">刮位置卡链接功能及代码:(<a class="ae ll" href="https://github.com/LashaGoch/SeleniumPythonProject/blob/master/Code/Get3LinksOfCards.py" rel="noopener ugc nofollow" target="_blank">全代码</a>)</p><h2 id="9890" class="lm ln it bd lo lp lq dn lr ls lt dp lu kr lv lw lx kv ly lz ma kz mb mc md me bi translated">3.4打开位置卡，废弃PM 2.5数据</h2><p id="084a" class="pw-post-body-paragraph ki kj it kk b kl nj ju kn ko nk jx kq kr nx kt ku kv ny kx ky kz nz lb lc ld im bi translated">这是刮的最后一步。由于我们有每个位置卡的链接，我们可以访问每个卡上的PM 2.5数据并将其废弃。此外，我们将废弃同一页上的位置城市和国家。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/60133e4e37fed6964cbd0a320945631e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*9FVuq3H2xUCL49PR4awwtA.png"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">AT2KA21的位置卡</p></figure><p id="799e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">用XPath获取PM 2.5数据并分成不同的变量:(<a class="ae ll" href="https://github.com/LashaGoch/SeleniumPythonProject/blob/master/Code/Get4Details.py" rel="noopener ugc nofollow" target="_blank">完整代码</a>)</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/5aa6a469cc7da83357bc1229066aee15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*Q5JtMpHL8vp1MY8pBUbs-Q.png"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">用XPath获取PM 2.5数据，Github Gist上的<a class="ae ll" href="https://gist.github.com/LashaGoch/457ab1abcde7ff4da53045b7e6f75e55" rel="noopener ugc nofollow" target="_blank">代码</a></p></figure><p id="31a6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">获取位置细节并分解成变量:</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/099aa1a6a3c3879b322432c6d7810b00.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*5b-PH4p0TxdkT4nPHx72FA.png"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">获取位置细节，Github Gist上的<a class="ae ll" href="https://gist.github.com/LashaGoch/8b324cde91440e52451863db8d4b901b" rel="noopener ugc nofollow" target="_blank">代码</a></p></figure><p id="db90" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您看到完整的代码，我们会将在这一步收集的所有数据保存到CSV文件中。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi os"><img src="../Images/94d5ab4574a75639d85b58df1a1da4b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kvPRwpKs5kn5qIj2YlLtRg.png"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">步骤3.4的结果</p></figure><h1 id="3cbe" class="mw ln it bd lo mx my mz lr na nb nc lu jz nd ka lx kc ne kd ma kf nf kg md ng bi translated">4.使用Python中的Seaborn boxplot分析数据</h1><p id="6d5a" class="pw-post-body-paragraph ki kj it kk b kl nj ju kn ko nk jx kq kr nx kt ku kv ny kx ky kz nz lb lc ld im bi translated">在我们创建Seaborn箱线图之前，有几个数据操作步骤。过滤数据PM 2.5 &gt; 0；日期创建于2020年，仅限欧盟国家:</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi ot"><img src="../Images/dc687dd17cf33e24d91f224471e5ed16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*npKXLcelOEXPvsfFHg8LdA.png"/></div></div></figure><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/80a1ea7d4ab95157b86324eabe0040ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/1*oXrxC67cVNTNGTykLG3LxA.png"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated"><a class="ae ll" href="https://gist.github.com/LashaGoch/c789e228dc48b3b55b28f96cf7922f57" rel="noopener ugc nofollow" target="_blank">Github Gist上的过滤代码</a></p></figure><p id="7554" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Seaborn Boxplot的背景:</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi ov"><img src="../Images/f7b0a5be276cd388810abbcfdf76cfc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ih3wQgNA_sXAR1QQzlGIsA.png"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated"><a class="ae ll" href="https://gist.github.com/LashaGoch/b83bb861746f464990169c0a7d5292f5" rel="noopener ugc nofollow" target="_blank">Github Gist上的Seaborn Boxplot代码</a></p></figure><h1 id="6420" class="mw ln it bd lo mx my mz lr na nb nc lu jz nd ka lx kc ne kd ma kf nf kg md ng bi translated">结果是:</h1><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mf"><img src="../Images/81a9a632b4f1f49d3eb3abc1eafa3b4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ag6xt_-lBJcldkSEqkaJ2w.png"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">显示2020年不同欧盟国家空气污染的箱线图</p></figure></div></div>    
</body>
</html>