<html>
<head>
<title>A layman’s guide to plot with python and matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">python 和 matplotlib 绘图入门指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-laymans-guide-to-plot-with-python-and-matplotlib-8462054f2059?source=collection_archive---------29-----------------------#2020-07-04">https://towardsdatascience.com/a-laymans-guide-to-plot-with-python-and-matplotlib-8462054f2059?source=collection_archive---------29-----------------------#2020-07-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/2542289b0ba31e2d5f3abb6d13db14b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qnrwgqaRLKZmOnQZ"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">卢克·切瑟在 Unsplash<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">上的照片</a></p></figure><div class=""/><div class=""><h2 id="e11d" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">在 10 分钟的咖啡休息时间用 matplotlib 打破僵局！</h2></div><p id="7453" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">无论数据是多小或多大，数据可视化在任何领域都是一项必不可少的例行任务，无论是绘制简单的正弦曲线，还是为利益相关者创建复杂的交互式仪表盘。<a class="ae jg" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python </a>是当今最受欢迎的编程语言之一(在<a class="ae jg" href="https://stackoverflow.com/tags" rel="noopener ugc nofollow" target="_blank">堆栈溢出</a>的活跃前 3 名中)，提供了数据可视化的巨大可能性。</p><p id="bf45" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Matplotlib 是一个如此强大的 python 绘图库，它提供了各种各样的 1D、2D 和 3D 可视化。作为 Stack Overflow 上<a class="ae jg" href="https://stackoverflow.com/questions/tagged/matplotlib" rel="noopener ugc nofollow" target="_blank"> matplotlib 的金牌持有者，我想到创建一系列教程，旨在教授使用<strong class="la jk">python</strong>&amp;<strong class="la jk">matplotlib</strong>绘制引人注目的图形的基本知识，提供<strong class="la jk">即用型 Jupyter 笔记本</strong>。</a></p><p id="d98e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我的这第一篇帖子将教你 matplotlib 的<strong class="la jk"><em class="lu"/></strong>，以<strong class="la jk">一维图、</strong>连同基本<strong class="la jk">条</strong>和<strong class="la jk">饼图</strong> <strong class="la jk">图表</strong>为例。整个笔记本可以从我的 GitHub <a class="ae jg" href="https://github.com/piethonic/matplotlib" rel="noopener ugc nofollow" target="_blank">库</a>下载/分叉。使用以下系统设置:Python 版本:3.7.7，Matplotlib 版本:3.1.3。本教程预计也适用于旧版本。</p><h1 id="9a9c" class="lv lw jj bd lx ly lz ma mb mc md me mf kp mg kq mh ks mi kt mj kv mk kw ml mm bi translated">1) <strong class="ak">让我们从 1D 的剧情开始</strong></h1><p id="90e8" class="pw-post-body-paragraph ky kz jj la b lb mn kk ld le mo kn lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">要在 Jupyter 笔记本中启用内嵌绘图，您需要在笔记本的开头使用以下内容</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="9a10" class="nb lw jj mx b gy nc nd l ne nf">%matplotlib inline</span></pre><p id="35d0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您的屏幕支持 retina 显示屏，您可以使用以下方法提高图形的分辨率</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="6a78" class="nb lw jj mx b gy nc nd l ne nf">%config InlineBackend.figure_format = ‘retina’</span></pre><p id="5973" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Matplotlib 提供了几个很酷的<a class="ae jg" href="https://matplotlib.org/3.1.0/gallery/style_sheets/style_sheets_reference.html" rel="noopener ugc nofollow" target="_blank">样式表</a>来增强人物美感。我会用<code class="fe ng nh ni mx b">'fivethirtyeight'</code></p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="5a29" class="nb lw jj mx b gy nc nd l ne nf">plt.style.use('fivethirtyeight')</span></pre><h2 id="c8f9" class="nb lw jj bd lx nj nk dn mb nl nm dp mf lh nn no mh ll np nq mj lp nr ns ml nt bi translated"><strong class="ak"> 1.1)最简单的情节</strong></h2><p id="83d2" class="pw-post-body-paragraph ky kz jj la b lb mn kk ld le mo kn lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">最简单的<em class="lu">示例是绘制一个值列表。让我们创建一个增量值列表并绘制它。</em></p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="31c0" class="nb lw jj mx b gy nc nd l ne nf">values = [5, 6, 7, 8, 9]<br/>plt.plot(values)</span></pre><figure class="ms mt mu mv gt iv gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/05cd5418f45e15a52932725f24342782.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*URGvg9nj6GteeAA4PZafSg.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd nv">简单的线条图</strong></p></figure><p id="5100" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以看到<code class="fe ng nh ni mx b">values</code>被绘制在<em class="lu"> y </em>轴上。为了在<em class="lu"> x-y </em>空间上绘图，通常需要两个列表:一个用于 x<em class="lu">值，另一个用于 y </em>值。请注意，默认情况下，实线用于绘图。</p><p id="04bf" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在你可能想知道这个数字是如何在没有传递<em class="lu"> x </em>值的情况下创建的。</p><p id="ed1d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">默认情况下，当我们将单个列表传递给<code class="fe ng nh ni mx b">plt.plot()</code>时，<em class="lu">x</em>-轴假定从零开始的整数值，直到比<em class="lu"> y </em>值的长度小 1。在上图中，<code class="fe ng nh ni mx b">values</code>有五行。所以<em class="lu">x</em>-值变成了 0，1，2，3，4(因为在 python 中索引是从 0 开始的)。换句话说，<em class="lu">x</em>-值为<code class="fe ng nh ni mx b">range(len(values))</code>，其中<code class="fe ng nh ni mx b">len(values)</code>返回列表的长度，即 5。因此，下面的线也将绘制相同的图形:</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="0be6" class="nb lw jj mx b gy nc nd l ne nf">plt.plot(range(len(values)), values)</span></pre><p id="68ae" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">注意:</strong>如果您使用其他 python IDE，例如 spyder，您需要在<code class="fe ng nh ni mx b">plt.plot()</code>命令后使用<code class="fe ng nh ni mx b">plt.show()</code>来显示图形窗口。虽然你不需要在 Jupyter 笔记本上。</p><h2 id="7c49" class="nb lw jj bd lx nj nk dn mb nl nm dp mf lh nn no mh ll np nq mj lp nr ns ml nt bi translated"><strong class="ak"> 1.2)让我们绘制一些函数，</strong> 𝑦 =𝑓(𝑥)</h2><p id="5361" class="pw-post-body-paragraph ky kz jj la b lb mn kk ld le mo kn lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">我们将为𝑥∈(0,3𝜋):绘制以下两个函数</p><ul class=""><li id="6cc1" class="nw nx jj la b lb lc le lf lh ny ll nz lp oa lt ob oc od oe bi translated"><em class="lu"> y </em> = sin( <em class="lu"> x </em>)</li><li id="da76" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><em class="lu"> y </em> = cos( <em class="lu"> x </em></li></ul><p id="3ee6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae jg" href="https://numpy.org/" rel="noopener ugc nofollow" target="_blank"> NumPy </a>包在执行向量化操作时非常方便:</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="9958" class="nb lw jj mx b gy nc nd l ne nf">import numpy as np</span></pre><p id="ca1c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们将定义𝑥-values 并计算相应的<em class="lu"> y- </em>值:</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="01b2" class="nb lw jj mx b gy nc nd l ne nf">x = np.linspace(0., 3*np.pi, 100) # 0 to 3*Pi in 100 steps</span><span id="1788" class="nb lw jj mx b gy ok nd l ne nf">y_1 = np.sin(x) <br/>y_2 = np.cos(x)</span></pre><p id="ccaf" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在让我们绘制<em class="lu">和<em class="lu">中的两个</em>功能相同的图</em>。在 1D 图中，两个关键元素是<em class="lu">线</em>和<em class="lu">标记</em>(符号)。它们的属性都可以在打印时自定义。在下面的代码片段中，我将使用一些<strong class="la jk">必须</strong>已知的必要属性(带有选择的选项)。传递给<code class="fe ng nh ni mx b">plt.plot()</code>命令的参数将在本文稍后解释。</p><figure class="ms mt mu mv gt iv"><div class="bz fp l di"><div class="ol om l"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="ak">用下面的正弦和余弦曲线生成图形的代码片段。</strong></p></figure><figure class="ms mt mu mv gt iv gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/cfb87b8ebcba2f05c05942458bd8d677.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*okBXAUg0Z3d9oKJidpSpYA.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd nv">同一图形中的正弦和余弦曲线。</strong></p></figure><h2 id="6e3c" class="nb lw jj bd lx nj nk dn mb nl nm dp mf lh nn no mh ll np nq mj lp nr ns ml nt bi translated">1.3)面向对象的绘图方法</h2><p id="c90b" class="pw-post-body-paragraph ky kz jj la b lb mn kk ld le mo kn lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">现在，让我们使用面向对象的方法来操作图形的属性。其中，有以下两种可能性:</p><p id="b65e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">方法一</strong></p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="419d" class="nb lw jj mx b gy nc nd l ne nf">fig = plt.figure(figsize=(8,6))<br/>ax = fig.add_subplot(111)</span></pre><p id="0538" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">方法二</strong></p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="259b" class="nb lw jj mx b gy nc nd l ne nf">fig, ax = plt.subplots(figsize=(8,6))</span></pre><p id="bf28" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面我来演示一下<strong class="la jk">方法 2 </strong>(我的最爱)的使用方法:</p><figure class="ms mt mu mv gt iv"><div class="bz fp l di"><div class="ol om l"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="ak">代码片段生成如下图。</strong></p></figure><figure class="ms mt mu mv gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi on"><img src="../Images/48fe0dce6018fb9fdfc8e315e881cbe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9rqwV19xC0YoDQyL5Vrj0w.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd nv">使用上述面向对象方法的正弦和余弦曲线。</strong></p></figure><h1 id="65f9" class="lv lw jj bd lx ly lz ma mb mc md me mf kp mg kq mh ks mi kt mj kv mk kw ml mm bi translated">2)定制情节</h1><h2 id="e037" class="nb lw jj bd lx nj nk dn mb nl nm dp mf lh nn no mh ll np nq mj lp nr ns ml nt bi translated">2.1 选择线条样式和标记</h2><p id="b600" class="pw-post-body-paragraph ky kz jj la b lb mn kk ld le mo kn lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">在上述两种方法中，我使用了实线和圆形标记。下一节将教你如何选择不同的线条样式和标记。</p><p id="de6d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> 1。线条样式:</strong>你可以明确地使用关键字<code class="fe ng nh ni mx b">linestyle='-'</code>或者缩写<code class="fe ng nh ni mx b">ls='-'</code>。以下是几种可用的线条样式:</p><ul class=""><li id="ae89" class="nw nx jj la b lb lc le lf lh ny ll nz lp oa lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">'-'</code>:实线</li><li id="1020" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">'--'</code>:虚线</li><li id="61a4" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">'-.'</code>:点划线</li><li id="d43e" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">'.'</code>:虚线</li></ul><p id="f8e9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> 2。标记:</strong>可以用关键字<code class="fe ng nh ni mx b">marker='o'</code>。以下是几个可用的标记:</p><ul class=""><li id="db16" class="nw nx jj la b lb lc le lf lh ny ll nz lp oa lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">'o'</code>:圆形</li><li id="9b70" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">'s'</code>:方形</li><li id="065b" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">'p'</code>:五边形</li><li id="5675" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">'h'</code>:六边形</li><li id="6df8" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">'^'</code>:上三角</li><li id="1179" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">'v'</code>:下三角形</li><li id="7b4a" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">'x'</code>:十字</li></ul><h2 id="0211" class="nb lw jj bd lx nj nk dn mb nl nm dp mf lh nn no mh ll np nq mj lp nr ns ml nt bi translated">2.2 选择颜色</h2><p id="78fd" class="pw-post-body-paragraph ky kz jj la b lb mn kk ld le mo kn lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated"><strong class="la jk"> 1。颜色:</strong>你可以明确地使用关键字<code class="fe ng nh ni mx b">color='g'</code>或者缩写<code class="fe ng nh ni mx b">c='g'</code>。</p><ul class=""><li id="e28d" class="nw nx jj la b lb lc le lf lh ny ll nz lp oa lt ob oc od oe bi translated">标准颜色可以用单个字母:<code class="fe ng nh ni mx b">'r'</code>、<code class="fe ng nh ni mx b">'g'</code>、<code class="fe ng nh ni mx b">'b'</code>、<code class="fe ng nh ni mx b">'k'</code>、<code class="fe ng nh ni mx b">'o'</code>表示红、绿、蓝、黑、橙<em class="lu">等</em>。</li><li id="a083" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated">对于标准色以及其他非标准色如<code class="fe ng nh ni mx b">'navy'</code>、<code class="fe ng nh ni mx b">'darkorange'</code>、<code class="fe ng nh ni mx b">'indigo'</code>也可以指定全称为<code class="fe ng nh ni mx b">'red'</code>、<code class="fe ng nh ni mx b">'green'</code>、<code class="fe ng nh ni mx b">'orange'</code>。</li><li id="a16a" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated">允许颜色的完整列表可以在<a class="ae jg" href="https://matplotlib.org/3.1.0/gallery/color/named_colors.html" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</li></ul><p id="eab0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">妙招:</strong>使用<code class="fe ng nh ni mx b">'-r'</code>、<code class="fe ng nh ni mx b">'--g'</code>、<code class="fe ng nh ni mx b">-.k</code>等简写符号，既可以组合线型，也可以组合色彩。然而，您<em class="lu">不能</em>使用类似<code class="fe ng nh ni mx b">linestyle='-.r'</code>或<code class="fe ng nh ni mx b">ls='-k'</code>的东西，因为现在您正在指定线条样式的属性，但是同时指定了线条样式和颜色。</p><p id="2947" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">加成:组合线条和标记<br/> </strong>如果你想同时使用线条和标记，有两种可能。假设您想要一条带有方形标记的红色点划线。您可以使用以下两个选项之一:</p><ul class=""><li id="02df" class="nw nx jj la b lb lc le lf lh ny ll nz lp oa lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">'-.rs'</code></li><li id="14fe" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">'-.r', marker='s'</code></li></ul><h2 id="e83e" class="nb lw jj bd lx nj nk dn mb nl nm dp mf lh nn no mh ll np nq mj lp nr ns ml nt bi translated">2.3 控制线条和标记的属性</h2><p id="5493" class="pw-post-body-paragraph ky kz jj la b lb mn kk ld le mo kn lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">从上一节中，您现在知道了可以使用哪些线条样式和标记。下面将教你如何定制它们的属性。</p><p id="8cfb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> 1。台词:</strong></p><ul class=""><li id="71c5" class="nw nx jj la b lb lc le lf lh ny ll nz lp oa lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">lw</code>代表线宽，例如:<code class="fe ng nh ni mx b">lw=2</code>。也可以用关键字<code class="fe ng nh ni mx b">linewidth=2</code>。</li><li id="5037" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">alpha</code>控制透明度(0 表示完全透明，1 表示不透明)。您可以选择 0 到 1 之间的任何浮点值。</li></ul><p id="c665" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> 2。标记:</strong></p><ul class=""><li id="c807" class="nw nx jj la b lb lc le lf lh ny ll nz lp oa lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">ms</code>代表标记尺寸，例如:<code class="fe ng nh ni mx b">ms=10</code>。也可以使用关键字<code class="fe ng nh ni mx b">markersize=10</code>。</li><li id="a3f0" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">mfc</code>代表标记面颜色，例如:<code class="fe ng nh ni mx b">mfc='green'</code>。也可以使用关键字<code class="fe ng nh ni mx b">markerfacecolor='green'</code>。</li><li id="cce1" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">mec</code>代表标记边缘颜色，例如:<code class="fe ng nh ni mx b">mec='red'</code>。也可以使用关键字<code class="fe ng nh ni mx b">markeredgecolor='red'</code>。</li><li id="a87f" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">mew</code>代表标记边缘宽度，例如:<code class="fe ng nh ni mx b">mew=5</code>。也可以用关键字<code class="fe ng nh ni mx b">markeredgewidth=5</code>。</li><li id="8744" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">alpha</code>控制透明度(0 表示完全透明，1 表示不透明)。您可以选择 0 到 1 之间的任何浮点值。</li></ul><h1 id="fc5e" class="lv lw jj bd lx ly lz ma mb mc md me mf kp mg kq mh ks mi kt mj kv mk kw ml mm bi translated">3)散点图</h1><p id="07fa" class="pw-post-body-paragraph ky kz jj la b lb mn kk ld le mo kn lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">到目前为止，我们使用了<code class="fe ng nh ni mx b">plot</code>模块，其中两条不同的曲线分别用直线和标记绘制。有时候，你会想要一个散点图。这可以通过<em class="lu">间接</em>实现，就像你在上面看到的余弦曲线那样，也可以通过<code class="fe ng nh ni mx b">scatter</code>图直接<em class="lu">实现。</em></p><p id="107a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在<code class="fe ng nh ni mx b">plt.plot()</code>中，您只能传递<em class="lu"> y </em>值，而<em class="lu"> x </em>值会自动生成。然而，在散点图中，<strong class="la jk">你需要同时传递<em class="lu"> x </em>和<em class="lu">y</em>-值</strong>。</p><p id="5959" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是散点图的一些基本特征参数:</p><ul class=""><li id="a3a0" class="nw nx jj la b lb lc le lf lh ny ll nz lp oa lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">marker</code>:选择散点样式。在这种情况下，你<strong class="la jk">不能</strong>使用缩写<code class="fe ng nh ni mx b">m</code>。</li><li id="3ee2" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">s</code>:定义标记尺寸。</li><li id="8933" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">c</code>:定义散射颜色。也可以用关键字<code class="fe ng nh ni mx b">color</code>。</li><li id="519c" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">edgecolor</code>:定义标记的边缘颜色。也可以用关键字<code class="fe ng nh ni mx b">ec</code>。</li><li id="587a" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">facecolor</code>:定义标记的颜色。也可以用关键字<code class="fe ng nh ni mx b">fc</code>。它做的事情和<code class="fe ng nh ni mx b">c</code>一样。但是，如果首先指定<code class="fe ng nh ni mx b">c='red'</code>，然后再指定<code class="fe ng nh ni mx b">facecolor='blue'</code>，最初设置的红色标记将被蓝色取代。</li></ul><p id="4ae7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">与<code class="fe ng nh ni mx b">plt.plot()</code>类似，对于标准颜色，您可以使用它们的全名(<code class="fe ng nh ni mx b">red</code>、<code class="fe ng nh ni mx b">blue</code>、<code class="fe ng nh ni mx b">green</code>等)。)或者只是他们的第一个字母<code class="fe ng nh ni mx b">'r'</code>、<code class="fe ng nh ni mx b">'g'</code>、<code class="fe ng nh ni mx b">'b'</code>等等。</p><p id="0248" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以试验一下<code class="fe ng nh ni mx b">ax.legend()</code>中的<code class="fe ng nh ni mx b">True</code>和<code class="fe ng nh ni mx b">False</code>值，看看它是如何影响图例框的。</p><p id="e706" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以阅读散点图的<a class="ae jg" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.scatter.html" rel="noopener ugc nofollow" target="_blank">官方文档</a>了解更多详情。</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="eb48" class="nb lw jj mx b gy nc nd l ne nf">fig, ax = plt.subplots(figsize=(8,6))</span><span id="adfd" class="nb lw jj mx b gy ok nd l ne nf">ax.scatter(x_1, y_1, color='red', marker='s', edgecolor='black', s=50, label='$f(x)$=sin($x$)')</span><span id="7067" class="nb lw jj mx b gy ok nd l ne nf"># 'fancybox=False' produces a legend box with sharp edges.<br/>ax.legend(loc='best', frameon=True, fancybox=False)<br/>ax.set_title('A simple scatter plot');</span></pre><figure class="ms mt mu mv gt iv gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/1436a3ece81e23e8b5a2637ea56e1688.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*rybt2l9HXU0jT7g-BlmIqQ.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd nv">显示正弦曲线的散点图。</strong></p></figure><h1 id="9095" class="lv lw jj bd lx ly lz ma mb mc md me mf kp mg kq mh ks mi kt mj kv mk kw ml mm bi translated">4)条形图</h1><h2 id="5e0b" class="nb lw jj bd lx nj nk dn mb nl nm dp mf lh nn no mh ll np nq mj lp nr ns ml nt bi translated">4.1)垂直条形图(又名柱形图)</h2><p id="7b9e" class="pw-post-body-paragraph ky kz jj la b lb mn kk ld le mo kn lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">我将使用面向对象的方法。也可以用<code class="fe ng nh ni mx b">plt.bar()</code>。以下是传递给条形图的一些基本参数:</p><ul class=""><li id="83c4" class="nw nx jj la b lb lc le lf lh ny ll nz lp oa lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">width</code>:棒材的宽度。</li><li id="2483" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">edgecolor</code>:定义条形的边缘颜色。也可以用<code class="fe ng nh ni mx b">ec</code>。</li><li id="3f7b" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">linewidth</code>:定义棒材边缘的宽度。也可以用<code class="fe ng nh ni mx b">lw</code>。</li><li id="24ee" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">linestyle</code>:定义边缘的样式。也可以用<code class="fe ng nh ni mx b">lw</code>。可以使用与前面为线图指定的样式相同的样式。</li><li id="df2e" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">color</code>:定义条的颜色。在这种情况下，你<strong class="la jk">不能</strong>使用缩写<code class="fe ng nh ni mx b">c</code>。</li><li id="bd17" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">hatch</code>:定义条形的阴影/填充样式。可以用<code class="fe ng nh ni mx b">o</code>、<code class="fe ng nh ni mx b">*</code>、<code class="fe ng nh ni mx b">/</code>、<code class="fe ng nh ni mx b">//</code>、<code class="fe ng nh ni mx b">\\</code>、<code class="fe ng nh ni mx b">-</code>、<code class="fe ng nh ni mx b">+</code>、<code class="fe ng nh ni mx b">|</code>这样的风格。影线也将具有与边缘相同的颜色。</li></ul><p id="df4d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以阅读条形图的<a class="ae jg" href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.pyplot.bar.html" rel="noopener ugc nofollow" target="_blank">官方文档</a>了解更多详情。</p><p id="1b30" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们定义一些样本数据，例如一个班中 5 个学生的成绩，并绘制一个垂直条形图。</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="c6f4" class="nb lw jj mx b gy nc nd l ne nf">names = ['Tom', 'Mark', 'Sam', 'Jim', 'Henry']<br/>grades = [79, 85, 49, 98, 65]</span><span id="2e89" class="nb lw jj mx b gy ok nd l ne nf">fig, ax = plt.subplots(figsize=(8,5))</span><span id="63d2" class="nb lw jj mx b gy ok nd l ne nf">ax.bar(names, grades, width=0.5, hatch='/', edgecolor='black', ls='--', linewidth=3, color='orange')<br/>ax.set_ylabel('Grades')<br/>ax.set_title('A basic bar chart');</span></pre><figure class="ms mt mu mv gt iv gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/e5053fa91dbaee3d1c3ab695c73d72a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*9zw7zJ7YreYJ9uO66ksFUw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">显示一个班中五个学生成绩的垂直条形图。</p></figure><p id="2f62" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您希望每个条形都具有特定的颜色，可以传递所需颜色的列表。如果传递的颜色列表中的元素数小于条形数，颜色循环将会重复。</p><p id="7c06" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，如下图所示，如果您有五个条，但您选择了<code class="fe ng nh ni mx b">color=['r', 'b', 'g']</code>，前三个条将分别为红色、蓝色、绿色，其余两个条将分别为红色和蓝色。</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="3c36" class="nb lw jj mx b gy nc nd l ne nf">fig, ax = plt.subplots(figsize=(8,5))</span><span id="34d2" class="nb lw jj mx b gy ok nd l ne nf">ax.bar(names, grades, width=0.5, hatch=’/’, edgecolor=’black’, linewidth=3, color=[‘r’, ‘b’, ‘g’])<br/>ax.set_ylabel('Grades');</span></pre><figure class="ms mt mu mv gt iv gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/7a3df3495c3a0f15e98a5f6a57c876d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*AshXpiS2ho57oFNZe8bezA.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd nv">带有自定义颜色的垂直条形图。</strong></p></figure><h2 id="4d5f" class="nb lw jj bd lx nj nk dn mb nl nm dp mf lh nn no mh ll np nq mj lp nr ns ml nt bi translated">4.2 水平条形图</h2><p id="49a2" class="pw-post-body-paragraph ky kz jj la b lb mn kk ld le mo kn lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">绘制水平条形图时，只需用<code class="fe ng nh ni mx b">barh</code>代替<code class="fe ng nh ni mx b">bar</code>。</p><p id="fa07" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">最</strong> <strong class="la jk">最重要的是</strong>，你要用关键字<code class="fe ng nh ni mx b">height</code>代替条块的<code class="fe ng nh ni mx b">width</code>。</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="cb5e" class="nb lw jj mx b gy nc nd l ne nf">fig, ax = plt.subplots(figsize=(8,5))</span><span id="2924" class="nb lw jj mx b gy ok nd l ne nf">ax.barh(names, grades, height=0.5, hatch=’/’, edgecolor=’black’, linewidth=3, color=[‘r’, ‘b’, ‘g’])<br/>ax.set_xlabel('Grades');</span></pre><figure class="ms mt mu mv gt iv gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/33409b922b3465398fe8d2436710de96.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*CyiTU1xGg9eD1C0Kp_8DMg.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">显示一个班中五个学生成绩的水平条形图。</p></figure><h1 id="fa3a" class="lv lw jj bd lx ly lz ma mb mc md me mf kp mg kq mh ks mi kt mj kv mk kw ml mm bi translated">5)饼图</h1><p id="380d" class="pw-post-body-paragraph ky kz jj la b lb mn kk ld le mo kn lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">我将使用面向对象的方法。也可以使用<code class="fe ng nh ni mx b">plt.pie()</code>。</p><p id="a5dd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是饼图的一些基本特征参数:</p><ul class=""><li id="c2cc" class="nw nx jj la b lb lc le lf lh ny ll nz lp oa lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">labels</code>:饼图每个扇区的名称标签。</li><li id="7b09" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">shadow</code>:开启阴影效果。可以是<code class="fe ng nh ni mx b">True</code>也可以是<code class="fe ng nh ni mx b">False</code>。</li><li id="a3c4" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">labeldistance</code>:控制<code class="fe ng nh ni mx b">labels</code>径向远离/靠近饼图的距离。</li><li id="42d5" class="nw nx jj la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated"><code class="fe ng nh ni mx b">autopct</code>:自动计算百分比分布，并以定义的格式给每个楔形标注相应的值。例如，<code class="fe ng nh ni mx b">'%.0f%%'</code>将百分比显示为整数值，<code class="fe ng nh ni mx b">'%.2f%%'</code>将显示最多两位小数的百分比。</li></ul><p id="925c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">更多详情可以阅读饼状图的<a class="ae jg" href="https://matplotlib.org/3.1.1/gallery/pie_and_polar_charts/pie_features.html" rel="noopener ugc nofollow" target="_blank">官方文档</a>。</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="7f4b" class="nb lw jj mx b gy nc nd l ne nf">names = ['Tom', 'Mark', 'Sam', 'Jim', 'Henry']<br/>shares = [15, 13, 46, 22, 30]</span><span id="6ee3" class="nb lw jj mx b gy ok nd l ne nf">fig, ax = plt.subplots(figsize=(8,8))</span><span id="af91" class="nb lw jj mx b gy ok nd l ne nf">ax.pie(shares, labels=names, autopct=’%.2f%%’, shadow=True, labeldistance=1.1)<br/>ax.set_title(‘Distribution of shares’, fontsize=18, y=0.95);</span></pre><figure class="ms mt mu mv gt iv gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/d181554a65f868db118c041bff7e4a98.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*GTyGvsR6ZH8vBj46kW7faQ.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd nv">份额持有人分布饼状图。</strong></p></figure><h2 id="0b8a" class="nb lw jj bd lx nj nk dn mb nl nm dp mf lh nn no mh ll np nq mj lp nr ns ml nt bi translated">5.1)设计饼图的样式</h2><p id="382f" class="pw-post-body-paragraph ky kz jj la b lb mn kk ld le mo kn lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">如果您希望突出贡献最大的人，您可以使用选项<code class="fe ng nh ni mx b">explode</code>从饼图中分割出最大的楔形。</p><p id="d67a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您需要指定<code class="fe ng nh ni mx b">explode</code>的值，它决定了分割的楔形从饼图中心的距离。由于我们有五个人，我们需要指定一个包含五个分解值的列表，例如<code class="fe ng nh ni mx b">explode = [0, 0, 0.15, 0, 0]</code>。您还可以为所有元素指定有限值，例如<code class="fe ng nh ni mx b">explode = [0.1, 0.2, 0.3, 0.4, 0.5]</code>。下面的例子说明了这一点。</p><p id="2fe6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里，我手动将值 0.15 指定为<code class="fe ng nh ni mx b">explode</code>列表的第三个元素，因为百分比最高的是<code class="fe ng nh ni mx b">names</code>列表的第三个元素“Sam”。</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="d461" class="nb lw jj mx b gy nc nd l ne nf">fig, ax = plt.subplots(figsize=(8,8))</span><span id="af31" class="nb lw jj mx b gy ok nd l ne nf">explode = [0, 0, 0.15, 0, 0]</span><span id="7bad" class="nb lw jj mx b gy ok nd l ne nf">ax.pie(shares, labels=names, explode=explode, autopct='%.2f%%', shadow=True, labeldistance=1.1)<br/>ax.set_title('Distribution of shares', fontsize=18, y=0.95);</span></pre><figure class="ms mt mu mv gt iv gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/448c399d66bda8572ce83f7562f1e075.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*lLPEHZUZ9NddF8zd4v7DSw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd nv">份额持有人分布饼图，突出显示最高分布。</strong></p></figure></div></div>    
</body>
</html>