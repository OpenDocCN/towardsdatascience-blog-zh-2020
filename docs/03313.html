<html>
<head>
<title>R - Statistical Programming Language</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">R -统计编程语言</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/r-statistical-programming-language-6adc8c0a6e3d?source=collection_archive---------2-----------------------#2020-03-30">https://towardsdatascience.com/r-statistical-programming-language-6adc8c0a6e3d?source=collection_archive---------2-----------------------#2020-03-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bdff" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们不要让冠状病毒阻止我们学习新技能</h2></div><p id="8d7a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果可能的话，我们应该利用这段时间学习一项新技能。在过去的几周里，我一直在学习编程语言R。</p><blockquote class="le"><p id="ad9e" class="lf lg it bd lh li lj lk ll lm ln ld dk translated">本文旨在概述R编程语言以及每个数据科学家都必须熟悉的所有主要概念</p></blockquote><h1 id="4c64" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz lz ka ma kc mb kd mc kf md kg me mf bi translated">动机</h1><p id="8d6b" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">数据科学和定量开发领域要求我们不断适应和学习新技能，因为它具有高度动态和高要求的性质。在数据科学家的职业生涯中，学习多种编程语言变得非常重要。随后，我选择了学习r。</p><p id="b0e6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本文旨在概述所有关键的主要领域，并从基础开始解释一切。它假设读者不熟悉编程语言r，或者对编程语言r只有初级的理解。</p><blockquote class="le"><p id="cc7c" class="lf lg it bd lh li lj lk ll lm ln ld dk translated">我强烈推荐R，原因有很多，我将在本文中重点介绍</p></blockquote><figure class="mm mn mo mp mq mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi ml"><img src="../Images/02774342ca1854fe2362cfa50203999b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8HnaF9UlYzuSpdUU"/></div></div><p class="my mz gj gh gi na nb bd b be z dk translated">克里斯·迪诺托在<a class="ae nc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="f5ad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">r越来越受欢迎，它是最流行的编程语言之一。r是统计学家为统计学家写的。它可以很好地与其他编程语言如C++，Java，SQL集成。此外，R主要被视为一种统计编程语言。因此，许多金融机构和大型量化组织在研发过程中使用R编程语言。</p><blockquote class="le"><p id="60c4" class="lf lg it bd lh li lj lk ll lm ln ld dk translated">Python是一种通用语言，R可以看作是一种分析性编程语言。</p></blockquote><h1 id="9df7" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz lz ka ma kc mb kd mc kf md kg me mf bi translated">1.文章目标</h1><p id="1afe" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">本文将解释关于R的以下关键领域:</p><ol class=""><li id="152e" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld ni nj nk nl bi translated">R是什么？</li><li id="b021" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">如何安装R？</li><li id="9db2" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">在哪里编码R？</li><li id="222c" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">什么是R包和R脚本？</li><li id="0266" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">有哪些不同的R数据类型？</li><li id="2247" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">如何在R中声明变量及其作用域？</li><li id="155b" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">怎么写评论？</li><li id="01ae" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">什么是矢量？</li><li id="6fa2" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">什么是矩阵？</li><li id="6c15" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">什么是列表？</li><li id="ac03" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">什么是数据框？</li><li id="8713" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">R中不同的逻辑运算</li><li id="d1dd" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">R中的函数</li><li id="cf03" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">R中的循环</li><li id="153c" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">读写R中的外部数据</li><li id="c7c7" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">在R中执行统计计算</li><li id="dd85" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">在R中绘图</li><li id="460f" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">R语言中的面向对象编程</li><li id="e9e5" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">著名R图书馆</li><li id="f7c1" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">如何安装外部R库</li><li id="d6e4" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">在R中绘图</li></ol><h1 id="6d8d" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">让我们开始…</h1><p id="7305" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我将从基础开始解释这种编程语言，以使这种语言更容易理解。说了这么多，编程进阶的关键是始终尽可能多的练习。</p><blockquote class="le"><p id="136c" class="lf lg it bd lh li lj lk ll lm ln ld dk translated">这篇文章应该为读者打下坚实的基础</p></blockquote><h1 id="a970" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz lz ka ma kc mb kd mc kf md kg me mf bi translated">2.R是什么？</h1><ul class=""><li id="3130" class="nd ne it kk b kl mg ko mh kr nu kv nv kz nw ld nx nj nk nl bi translated">r是一种在GNU许可下的自由编程语言。简而言之，R是一个统计环境。</li><li id="c8b1" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">r主要用于统计计算。它提供了一系列在机器学习领域广泛使用的算法，如时间序列分析、分类、聚类、线性建模等。</li><li id="56e2" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">r也是一个环境，它包括一套软件包，可用于执行数值计算、图表绘制和数据操作。</li><li id="5991" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">r在统计研究项目中大量使用。</li><li id="eb8e" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">r非常类似于S编程语言。</li><li id="aa9a" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">r在UNIX、Windows、MacOS、FreeBSD和Linux平台上编译运行。</li><li id="5d9b" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">r有大量的数据结构、操作符和特性。它提供了从数组到矩阵，从循环到递归，以及与其他编程语言如C、C++和Fortran的集成。</li><li id="47a1" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">可以用c编程语言直接更新R对象。</li><li id="22dd" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">可以实现新的R包来扩展。</li><li id="c9b0" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">r解释程序</li><li id="b314" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">r受到S+的启发，因此如果你熟悉S，那么学习r将是一项简单的任务。</li></ul><h2 id="ef75" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">R的好处:</h2><p id="f068" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">除了上面列出的好处，R还包括:</p><ul class=""><li id="4565" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld nx nj nk nl bi translated">简单易学</li><li id="ab59" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">大量的统计、分析和图形软件包是开源和免费的</li><li id="cd77" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">大量的学术论文及其在R中的实现都是可用的</li><li id="a4c2" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">世界顶级大学教授他们的学生R编程语言，因此，它现在已经成为一个公认的标准，因此，R将继续增长。</li><li id="9303" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">与其他语言的集成能力</li><li id="b87f" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">此外，还有大量的社区支持</li></ul><h2 id="bf01" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">R的局限性:</h2><p id="0178" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">也有一些限制:</p><ul class=""><li id="330e" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld nx nj nk nl bi translated">r没有C++快，而且安全性和内存管理也是个问题。</li><li id="65b8" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">r有大量的名称空间，有时会显得太多。然而，情况正在好转。</li><li id="f262" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">r是一种统计语言，因此不像Python那样直观。创建OOP不像用Python那么简单。</li></ul><h1 id="8109" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">让我们开始学习R</h1><p id="f7bd" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">现在，我将在快速跟进部分介绍R语言。</p><figure class="ol om on oo gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi ok"><img src="../Images/055d699cb29d9aaf880a525746ec037f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Nfw-_VHfadoYlZS7"/></div></div><p class="my mz gj gh gi na nb bd b be z dk translated">乔纳斯·雅各布森在<a class="ae nc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="5631" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">3.如何安装R？</h1><p id="b374" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">您可以在以下位置安装R:</p><ul class=""><li id="01c3" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld nx nj nk nl bi translated">乌布托</li><li id="5cdf" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">苹果个人计算机</li><li id="dd76" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">Windows操作系统</li><li id="834f" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">一种男式软呢帽</li><li id="0dce" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">一种自由操作系统</li><li id="79d7" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">SLES</li><li id="8938" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">OpenSUSE</li></ul><h2 id="2c08" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">第一步是下载R:</h2><ul class=""><li id="1c31" class="nd ne it kk b kl mg ko mh kr nu kv nv kz nw ld nx nj nk nl bi translated">打开互联网浏览器</li><li id="d637" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">去www.r-project.org的<a class="ae nc" href="http://www.r-project.org" rel="noopener ugc nofollow" target="_blank"/>。</li><li id="6896" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">写这篇文章时最新的R版本是3.6.3(手持风向袋)。它于2020年2月29日发布。</li></ul><p id="212f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些是链接:</p><ul class=""><li id="c673" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld nx nj nk nl bi translated"><a class="ae nc" href="https://cran.r-project.org/bin/linux/" rel="noopener ugc nofollow" target="_blank">下载R for Linux </a></li><li id="a563" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated"><a class="ae nc" href="https://cran.r-project.org/bin/macosx/" rel="noopener ugc nofollow" target="_blank">下载适用于(Mac) OS X的R</a></li><li id="d180" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated"><a class="ae nc" href="https://cran.r-project.org/bin/windows/" rel="noopener ugc nofollow" target="_blank">下载R for Windows </a></li></ul><h1 id="802a" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">4.在哪里编码R？</h1><p id="6ce7" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">有多种图形界面可用。我强烈推荐R-Studio</p><figure class="ol om on oo gt mr gh gi paragraph-image"><div class="gh gi op"><img src="../Images/eec501c18f2fc4a620e9819390f408a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*liFKV1ptGZ_C1WNarZYPpA.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">R-Studio的截图</p></figure><p id="a179" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下载RStudio桌面:</p><ul class=""><li id="e7fb" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld nx nj nk nl bi translated">从https://rstudio.com/products/rstudio/download/<a class="ae nc" href="https://rstudio.com/products/rstudio/download/" rel="noopener ugc nofollow" target="_blank">下载r studio</a></li><li id="6438" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">RStudio桌面开源许可是免费的</li><li id="2ff0" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">你可以在这里了解更多:【https://rstudio.com/products/rstudio/#rstudio-desktop】T4</li><li id="bdd6" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">RStudio需要<a class="ae nc" href="http://cran.rstudio.com/" rel="noopener ugc nofollow" target="_blank"> R 3.0.1+ </a>。</li></ul><p id="6263" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您使用的是Windows，它通常会将R Studio安装在以下位置:</p><p id="a114" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">C:\Program Files\RStudio</p><h1 id="ba7c" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">5.什么是R包和R脚本？</h1><p id="fab5" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">R包和R脚本是R的两个关键组件。</p><h2 id="19c3" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">r包</h2><p id="eff3" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">因为R是一种开源编程语言，所以理解什么是包是很重要的。包本质上是对代码和其他功能的分组和组织。包是一个可以包含大量文件的库。</p><p id="0d2d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据科学家可以通过创建自己的包或增强他人的包来贡献并与他人共享他们的代码。包允许数据科学家重用代码并将其分发给其他人。</p><blockquote class="le"><p id="7b45" class="lf lg it bd lh li lj lk ll lm ln ld dk translated">创建包是为了包含函数和数据集</p></blockquote><p id="398e" class="pw-post-body-paragraph ki kj it kk b kl oq ju kn ko or jx kq kr os kt ku kv ot kx ky kz ou lb lc ld im bi translated">数据科学家可以创建一个包来组织代码、文档、测试、数据集等。然后该包可以与其他人共享。</p><p id="d2fd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">网上有上万个R包。这些包位于中央存储库中。有许多可用的存储库，如CRAN、Bioconductor、Github等。</p><p id="e311" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一个值得一提的存储库是CRAN。它是一个服务器网络，为r存储了大量版本的代码和文档。</p><p id="23b3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一个包包含一个描述文件，其中包含日期、依赖项、作者以及包的版本等信息。描述文件帮助消费者获得关于包的有意义的信息。</p><p id="6529" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ov">要加载包，请键入:</em></p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="0770" class="ny lp it ox b gy pb pc l pd pe"><em class="ov">library(name of the package)</em></span></pre><p id="c401" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要使用软件包的函数，请键入软件包的名称::函数的名称。</p><p id="fd7d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们想使用“carat”包的函数“AdBCDOne ”,那么我们可以:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="359c" class="ny lp it ox b gy pb pc l pd pe">library(carat)<br/>carat::AdBCDOne()</span></pre><h2 id="4302" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">r脚本:</h2><p id="67bd" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">R script是数据科学家编写统计代码的地方。它是一个带有扩展名的文本文件。我们可以称这个脚本为教程。稀有</p><p id="0fad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以在一个包中创建多个R脚本。</p><p id="bd8d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果您创建了两个R脚本:</p><ol class=""><li id="e7a4" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld ni nj nk nl bi translated">博客。稀有</li><li id="d7a6" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">出版。稀有</li></ol><p id="8497" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想调用出版的功能。r在博客里。然后，您可以使用source("target R script ")命令来导入发布。r进入博客。R <em class="ov"> : </em></p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="a1ce" class="ny lp it ox b gy pb pc l pd pe">source("publication.R")</span></pre><h2 id="3bc2" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">创建R脚本的R包</h2><p id="4cfe" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">过程相对简单。简单地</p><ol class=""><li id="f18a" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld ni nj nk nl bi translated">创建描述文件</li><li id="ef94" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">创建R.scripts并添加包所需的任何数据集、文档和测试</li><li id="c0a2" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">用R脚本编写你的功能</li><li id="362e" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">我们可以使用devtools和roxygen2通过使用以下命令来创建R包:</li></ol><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="a1ba" class="ny lp it ox b gy pb pc l pd pe">create_package("name of the package")</span></pre><h1 id="5dde" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">6.有哪些不同的R数据类型？</h1><p id="40f0" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">为了能够有效地使用R编程语言，理解R中不同的数据类型和结构是至关重要的。本节将阐述这些概念。</p><h2 id="52b9" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">数据类型:</h2><p id="f508" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">这些是R中的基本数据类型:</p><ol class=""><li id="0627" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld ni nj nk nl bi translated"><strong class="kk iu">字符</strong>:如“abc”或“a”</li><li id="57ac" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu">整数</strong>:如5L</li><li id="f7d3" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu">数字</strong>:如10.5</li><li id="7b0a" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu">逻辑</strong>:真或假</li><li id="996e" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu">复杂</strong>:如5+4i</li></ol><p id="854d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以使用typeof(变量)来查找变量的类型。</p><p id="ffa8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要查找元数据，如类型的属性，请使用attributes(variable)命令。</p><h2 id="927a" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">数据结构:</h2><p id="7ce7" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">r中有许多数据结构，最重要的数据结构有:</p><ol class=""><li id="a8f3" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld ni nj nk nl bi translated"><strong class="kk iu"> vector </strong>:最重要的数据结构，本质上是元素的集合。</li><li id="8c61" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu">矩阵</strong>:具有行和列的表状结构</li><li id="42f8" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu">数据框</strong>:用于执行统计操作的表格数据结构</li><li id="0511" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu">列出了</strong>:可以保存数据类型组合的集合。</li><li id="6c30" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu">因子</strong>:表示分类数据</li></ol><h2 id="9a41" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">当我们开始构建基础时，我将在本文中解释所有这些数据类型和数据结构。</h2><h1 id="8620" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">7.如何声明变量？</h1><p id="7b3d" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以创建一个变量并给它赋值。变量可以是上面列出的任何数据类型和数据结构。也有其他可用的数据结构。此外，开发人员可以创建他们自己的自定义类。</p><p id="414e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">变量用于存储可以在代码中更改的值。</p><p id="27eb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为理解的问题，记住R中的环境是什么是至关重要的。本质上，环境是存储变量的地方。它是对的集合，其中对的第一项是符号(变量)，第二项是它的值。</p><p id="6fdf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">环境是分层的(树形结构)，因此一个环境可以有一个父环境和多个子环境。根环境是父环境为空的环境。</p><p id="2ca0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们必须声明一个变量，并用→</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="38b6" class="ny lp it ox b gy pb pc l pd pe">x &lt;- "my variable"<br/>print(x)</span></pre><p id="2c02" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这会将“我的变量”的值设置为变量x，print()函数会输出x的值，也就是“我的变量”。</p><p id="48f6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">每当我们声明一个变量并调用它时，就在当前环境中搜索它，并在父环境中递归搜索，直到找到该符号。</p><p id="fdd2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要创建整数集合，我们可以这样做:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="7457" class="ny lp it ox b gy pb pc l pd pe">coll &lt;- 1:5<br/>print(coll)</span></pre><p id="8eb9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">1是集合的第一个值，5是集合的最后一个值。</p><p id="59fe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将打印1 2 3 4 5</p><p id="535d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，R-Studio IDE会跟踪变量:</p><figure class="ol om on oo gt mr gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/be6f73a96c23da88dc95b3cf1bae29c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*idYHrD_sNsczmgzjlDhY5w.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">R工作室截图</p></figure><p id="320f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ov"/><code class="fe pg ph pi ox b"><em class="ov">ls()</em></code><em class="ov">函数可以用来显示当前环境中的变量和函数。</em></p><h1 id="f337" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">8.怎么写评论？</h1><p id="638d" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">代码中添加了注释，以帮助读者、其他数据科学家和您自己理解代码。</p><p id="b55c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意:始终确保注释不会污染您的脚本。</p><p id="e62e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以添加一行注释:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="d104" class="ny lp it ox b gy pb pc l pd pe">#This is a single line comment</span></pre><p id="12cf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以使用双引号添加多行注释:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="c0b9" class="ny lp it ox b gy pb pc l pd pe">"This is a <br/>multi line comment<br/>"</span></pre><p id="fdaa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ov">注意:在R-Studio中，选择要注释的代码，然后按Ctrl+Shift+C </em></p><p id="fe4e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ov">它会自动为你评论代码。</em></p><h1 id="0526" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">9.什么是矢量？</h1><p id="2e9c" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">向量是r中最重要的数据结构之一。本质上，向量是元素的集合，其中每个元素都需要具有相同的数据类型，例如逻辑(真/假)、数字、字符。</p><p id="1e69" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们也可以创建一个空向量:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="5481" class="ny lp it ox b gy pb pc l pd pe">x &lt;- vector()</span></pre><p id="12d0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">默认情况下，向量的类型是逻辑的，例如True/False。下面一行将逻辑打印为矢量类型:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="f9b7" class="ny lp it ox b gy pb pc l pd pe">typeof(x)</span></pre><p id="1f22" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要使用元素创建向量，可以使用concatenate函数(c):</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="fced" class="ny lp it ox b gy pb pc l pd pe">x &lt;- c("Farhad", "Malik", "FinTechExplained")<br/>print(x)</span></pre><p id="3097" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将打印:</p><p id="98a6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[1]《法尔哈德》<br/>【2】《马利克》<br/>【3】《fintech explained》</p><p id="bdbc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们想求出一个向量的长度，我们可以使用length()函数:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="9da9" class="ny lp it ox b gy pb pc l pd pe">length(x) </span></pre><p id="1dbb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这会打印出3，因为向量中有三个元素。</p><p id="8561" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要将元素添加到向量中，我们可以将元素与向量结合起来。</p><p id="76a2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，在带有一个元素“hello”的vector的开头添加“world”:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="bbad" class="ny lp it ox b gy pb pc l pd pe">x &lt;- c("hello")<br/>x &lt;- c("world", x)<br/>print(x)</span></pre><p id="372d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将打印“世界”“你好”</p><p id="266f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们混合元素的类型，那么R也将适应向量的类型。向量的类型(模式)将变成它认为最适合向量的类型:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="7928" class="ny lp it ox b gy pb pc l pd pe">another_vec &lt;- c("test", TRUE)<br/>print(typeof(another_vec))</span></pre><p id="53e6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然第二个元素是一个逻辑值，但类型将被打印为“字符”。</p><p id="c446" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">运算也可以在向量上执行。</p><p id="42eb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，将一个标量乘以一个向量:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="df2d" class="ny lp it ox b gy pb pc l pd pe">x &lt;- c(1,2,3)<br/>y &lt;- x*2<br/>print(y)</span></pre><p id="0c7b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将打印2，4，6</p><p id="e6d7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们也可以将两个向量相加:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="19f3" class="ny lp it ox b gy pb pc l pd pe">x &lt;- c(1,2,3)<br/>y &lt;- c(4,5,6)<br/>z &lt;- x+y<br/>print(z)</span></pre><p id="3efd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将打印5 7 9</p><p id="8e32" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果向量是字符，我们想把它们加在一起:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="c5d7" class="ny lp it ox b gy pb pc l pd pe">x &lt;- c("F","A","C")<br/>y &lt;- c("G","E","D")<br/>z &lt;- x+y<br/>print(z)</span></pre><p id="9c5a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它将输出:</p><p id="44e7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ov">x+y错误:二元运算符的非数字参数</em></p><h1 id="7b9a" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">10.什么是矩阵？</h1><p id="4727" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">矩阵也是r中最常见的数据结构之一。</p><p id="a740" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它可以被认为是一个向量的延伸。矩阵可以有多行和多列。矩阵的所有元素必须具有相同的数据类型。</p><p id="b78a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">若要创建矩阵，请使用matrix()构造函数并传入nrow和ncol来指示列和行:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="de80" class="ny lp it ox b gy pb pc l pd pe">x &lt;- matrix(nrow=4, ncol=4)</span></pre><p id="5374" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将创建一个名为x的矩阵变量，有4行4列。</p><p id="7187" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过在构造函数中传递矩阵，可以将向量转换为矩阵。生成的矩阵将按列填充:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="3384" class="ny lp it ox b gy pb pc l pd pe">vector &lt;- c(1, 2, 3)<br/>x &lt;- matrix(vector)<br/>print(x)</span></pre><p id="0c42" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将创建一个1列3行的矩阵(每个元素一行):</p><p id="5c0c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[，1]<br/>【1，】1<br/>【2，】2<br/>【3，】3</p><p id="1197" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们想按行或列填充矩阵，那么我们可以显式地传入行数和列数以及<em class="ov"> byrow </em>参数:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="3f91" class="ny lp it ox b gy pb pc l pd pe">vector &lt;- c(1, 2, 3, 4)<br/>x &lt;- matrix(vector, nrow=2, ncol=2, byrow=TRUE)<br/>print(x)</span></pre><p id="7603" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的代码创建了一个2行2列的矩阵。矩阵按行填充。</p><p id="1e5f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[，1] [，2] <br/> [1，] 1 2 <br/> [2，] 3 4</p><h1 id="0bbb" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">11.什么是列表和因子？</h1><p id="caa2" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">如果我们想创建一个可以包含不同类型元素的集合，那么我们可以创建一个列表。</p><h2 id="d193" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">列表:</h2><p id="2c3f" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">列表是r中最重要的数据结构之一。要创建列表，请使用list()构造函数:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="2e0e" class="ny lp it ox b gy pb pc l pd pe">my_list &lt;- list("hello", 1234, FALSE)</span></pre><p id="cbf3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的代码片段演示了如何用不同数据类型的三个元素创建一个列表。</p><p id="3783" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以通过使用索引来访问任何元素，例如:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="cf55" class="ny lp it ox b gy pb pc l pd pe">item_one = my_list[1]</span></pre><p id="c287" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将打印“你好”</p><p id="d6ae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们也可以给每个元素起一个名字，例如</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="b133" class="ny lp it ox b gy pb pc l pd pe">my_named_list &lt;- list(“A”=1, “B”=2)</span><span id="54d2" class="ny lp it ox b gy pj pc l pd pe">print(names(my_named_list))</span><span id="bb7c" class="ny lp it ox b gy pj pc l pd pe">It prints “A” “B”</span><span id="217e" class="ny lp it ox b gy pj pc l pd pe">print(my_named_list[‘A’])</span><span id="606a" class="ny lp it ox b gy pj pc l pd pe">It prints 1</span></pre><h2 id="013e" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">因素:</h2><p id="ba60" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">因素是分类数据，例如是、否或男性、女性或红色、蓝色、绿色等。</p><p id="c76f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">可以创建因子数据类型来表示因子数据集:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="7101" class="ny lp it ox b gy pb pc l pd pe">my_factor = factor(c(TRUE, FALSE, TRUE))<br/>print(my_factor)</span></pre><p id="868f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因子也可以排序:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="8fd5" class="ny lp it ox b gy pb pc l pd pe">my_factor = factor(c(TRUE, FALSE, TRUE), levels = c(TRUE, FALSE))<br/>print(my_factor)</span></pre><p id="93dd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以用表格的形式打印这些因子:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="d664" class="ny lp it ox b gy pb pc l pd pe">my_factor = factor(c(TRUE, FALSE, TRUE), levels = c(TRUE, FALSE))<br/>print(table(my_factor))</span></pre><p id="5385" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将打印:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="1906" class="ny lp it ox b gy pb pc l pd pe">TRUE FALSE <br/>    2     1</span></pre><blockquote class="le"><p id="9bcc" class="lf lg it bd lh li pk pl pm pn po ld dk translated">我们已经讨论了文章的一半。让我们继续学习更多的统计学知识</p></blockquote><h1 id="19e8" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz lz ka ma kc mb kd mc kf md kg me mf bi translated">12.什么是数据框？</h1><p id="4be6" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">大多数(如果不是全部的话)数据科学项目需要表格格式的输入数据。数据框数据结构可以用来表示r中的表格数据。每一列可以包含一个元素列表，每一列可以是彼此不同的类型。</p><p id="3605" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要创建2列5行的数据框，只需执行以下操作:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="e5c1" class="ny lp it ox b gy pb pc l pd pe">my_data_frame &lt;- data.frame(column_1 = 1:5, column_2 = c("A", "B", "C", "D", E"))<br/>print(my_data_frame)</span><span id="38c9" class="ny lp it ox b gy pj pc l pd pe">column_1 column_2<br/>1        1        A<br/>2        2        B<br/>3        3        C<br/>4        4        D<br/>5        5        E</span></pre><h1 id="2bf7" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">13.R中的不同逻辑运算符</h1><p id="5cbb" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">本节概述了常用运算符:</p><h2 id="66d1" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">或者:一|二</h2><p id="7a9e" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">这将检查一个或两个是否为真。</p><h2 id="8d2d" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">还有:一和二</h2><p id="0464" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">这将检查一和二是否为真。</p><h2 id="ba24" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">不是:！投入</h2><p id="a8e6" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">如果输入为假，将返回真</p><h2 id="93c3" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">我们也可以使用、&gt;、isTRUE(输入)等。</h2><h1 id="b07e" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">14.R和变量作用域中的函数</h1><p id="8182" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">有时我们希望代码执行一组任务。这些任务可以按功能分组。函数本质上是r中的对象。</p><p id="dc29" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在R中，参数可以传递给函数，函数也可以返回一个对象。</p><p id="ace8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">r附带了许多内置函数，如length()、mean()等。</p><p id="b97a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">每次我们声明一个函数(或变量)并调用它时，在当前环境中搜索它，并在父环境中递归搜索，直到找到该符号。</p><p id="0b86" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一个函数有一个名字。这个存储在R环境中。函数体包含函数的语句。</p><blockquote class="le"><p id="5336" class="lf lg it bd lh li lj lk ll lm ln ld dk translated">一个函数可以返回值，并且可以选择接受一些参数。</p></blockquote><p id="870d" class="pw-post-body-paragraph ki kj it kk b kl oq ju kn ko or jx kq kr os kt ku kv ot kx ky kz ou lb lc ld im bi translated">要创建一个函数，我们需要以下语法:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="8535" class="ny lp it ox b gy pb pc l pd pe">name_of_function &lt;- function(argument1...argumentN) {<br/>   Body of the function</span><span id="98c7" class="ny lp it ox b gy pj pc l pd pe">}</span></pre><p id="144a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以创建一个接受两个整数并返回一个和的函数:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="9676" class="ny lp it ox b gy pb pc l pd pe">my_function &lt;- function(x, y) {<br/>  z &lt;- x + y<br/>  return(z)<br/>}</span></pre><p id="65a4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要调用该函数，我们可以传入参数:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="5493" class="ny lp it ox b gy pb pc l pd pe">z &lt;- my_function(1,2)<br/>print(z)</span></pre><p id="d361" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将打印3。</p><p id="a2d5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以为参数设置默认值，以便在参数值未提供的情况下采用其值:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="cb49" class="ny lp it ox b gy pb pc l pd pe">my_function &lt;- function(x, y=2) {<br/>  z &lt;- x + y<br/>  return(z)<br/>}<br/>output &lt;- my_function(1)<br/>print(output)</span></pre><p id="db13" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">y的缺省值是2，因此，我们可以调用这个函数而不用传入y的值。</p><p id="e079" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">需要注意的关键是花括号{...}</p><p id="5536" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">让我们看一个复杂的例子，我们将使用逻辑运算符</strong></p><p id="822b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">假设我们想要创建一个接受以下参数的函数:模式、x和y。</p><ul class=""><li id="f7ba" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld nx nj nk nl bi translated">如果模式为真，那么我们要把x和y相加。</li><li id="6d0e" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">如果模式为假，那么我们要减去x和y。</li></ul><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="d407" class="ny lp it ox b gy pb pc l pd pe">my_function &lt;- function(mode, x, y) {<br/>  if (mode == TRUE)<br/>  {<br/>    z &lt;- x + y<br/>    return(z)<br/>  }<br/>  else<br/>  {<br/>    z &lt;- x - y<br/>    return(z)<br/>  }<br/>}</span></pre><p id="677c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要调用函数将x和y的值相加，我们可以这样做:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="8706" class="ny lp it ox b gy pb pc l pd pe">output &lt;- my_function(TRUE, 1, 5)<br/>print(output)</span></pre><p id="f561" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将打印6</p><p id="3db0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们回顾一下下面的代码。具体来说，请参见print(z)的位置:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="1e73" class="ny lp it ox b gy pb pc l pd pe">my_function &lt;- function(mode, x, y) {<br/>  if (mode == TRUE)<br/>  {<br/>    z &lt;- x + y<br/>    return(z)<br/>  }<br/>  else<br/>  {<br/>    z &lt;- x - y<br/>    return(z)<br/>  }<br/>  #what happens if we try to print z<br/>  print(z)<br/>}</span></pre><p id="a37f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">需要注意的关键是，z是在括号关闭后打印的。</p><p id="b848" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">变量z在那里可用吗？这就把我们带到了函数作用域的话题上！</p><p id="04f0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一个函数可以在另一个函数中声明:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="cf60" class="ny lp it ox b gy pb pc l pd pe">some_func &lt;- function() {<br/>  some_func_variable &lt;- 456</span><span id="4348" class="ny lp it ox b gy pj pc l pd pe">  another_func &lt;- function() {<br/>   another_func_variable &lt;- 123<br/>  }<br/>}</span></pre><p id="4a9f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的例子中，some_func和another_func是两个函数。在some_func内部声明了另一个_func。因此，另一个_func()是some_func()的私有函数。因此，它不能与外界接触。</p><p id="81ba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我在some_func之外执行另一个_func()，如下所示:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="b254" class="ny lp it ox b gy pb pc l pd pe">another_func()</span></pre><p id="79cf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将会遇到错误:</p><p id="a21a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ov">another _ func()中的错误:找不到函数“another _ func”</em></p><p id="55cc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一方面，我们可以在some_func()中执行另一个_func()，它将按预期工作。</p><p id="4ca0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在考虑这段代码来理解r中作用域的工作原理。</p><ol class=""><li id="72ac" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld ni nj nk nl bi translated">some_func_variable可由some_func和another_func函数访问。</li><li id="e76b" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">另一个函数变量只能由另一个函数访问</li></ol><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="057d" class="ny lp it ox b gy pb pc l pd pe">some_func &lt;- function() {<br/>  some_func_variable &lt;- "DEF"<br/>  another_func &lt;- function() {<br/>    another_func_variable &lt;- "ABC"<br/>    print(some_func_variable)<br/>    print("Inside another func" + another_func_variable)<br/>  }<br/>  print(some_func_variable)<br/>  print("outside another func" + another_func_variable)<br/>  another_func()<br/>}<br/>some_func()</span></pre><p id="f925" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">运行上面的代码会在R-Studio中抛出一个异常:</p><p id="d37c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ov">&gt;some _ func()<br/>[1]“DEF”<br/>打印错误("在另一个func之外"+另一个_func_variable) : <br/>找不到对象'另一个_ func _ variable '</em></p><p id="66f5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如错误所述，<em class="ov">未找到另一个_ func _变量。我们可以看到DEF被打印出来，这是赋给变量some_func_variable的值。</em></p><p id="245a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ov">如果我们想访问一个全局变量并给它赋值，使用&lt; &lt; -运算符。在父环境框架中搜索变量。如果找不到变量，则创建一个全局变量。</em></p><p id="01a7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要添加未知数量的参数，请使用…</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="6ea3" class="ny lp it ox b gy pb pc l pd pe">my_func &lt;- function(a, b, ...)<br/>{ <br/>  print(c)<br/>}</span><span id="ddb8" class="ny lp it ox b gy pj pc l pd pe">my_func(a=1,b=2,c=3)</span></pre><h1 id="d7e1" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">15.R中的循环</h1><p id="f4a6" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">r也支持控制结构。数据科学家可以给R代码添加逻辑。本节重点介绍最重要的控制结构:</p><h2 id="0399" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">对于循环</h2><p id="e1fe" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">有时候，我们想要迭代集合中的元素。语法是:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="8dad" class="ny lp it ox b gy pb pc l pd pe">for (i in some_collection) {<br/>  print(i)<br/>}</span></pre><p id="8ac7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的例子中，迭代器可以是列表、向量等。上面的代码片段将打印集合的元素。</p><p id="3da2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以通过使用seq_along()函数循环遍历一个集合。它接受一个集合并生成一个整数序列。</p><h2 id="e1c7" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">While循环</h2><p id="a8b8" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">有时，我们必须循环，直到满足一个条件。一旦条件为假，我们就可以退出循环。</p><p id="3292" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以使用while循环来实现所需的功能。</p><p id="f395" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在下面的代码中，我们将x的值设置为3，z的值设置为0。随后，我们将z的值每次递增1，直到z的值等于或大于x。</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="60cb" class="ny lp it ox b gy pb pc l pd pe">x &lt;- 3</span><span id="8126" class="ny lp it ox b gy pj pc l pd pe">z &lt;- 0<br/>while(z &lt; x) {<br/> z &lt;- z + 1</span><span id="0241" class="ny lp it ox b gy pj pc l pd pe">}</span></pre><h2 id="5074" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">If Else(可选)</h2><p id="8a83" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated"><em class="ov"> If Then Else </em>在编程中大量使用。</p><p id="333f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">简而言之，条件是在if控制模块中评估的。如果为真，则执行其代码，否则执行下一个块。下一个块可以是Else If或Else。</p><p id="d5e0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果(条件为真){</p><p id="d574" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">#执行语句</p><p id="f383" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi">}</p><p id="3f63" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以有一个可选的else:</p><p id="abb5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果(条件为真){</p><p id="93e8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">#执行语句</p><p id="91a2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi">}</p><p id="9705" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">else if(另一个条件为真){</p><p id="3d2b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">#执行语句</p><p id="6c6e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi">}</p><p id="bff5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">否则{</p><p id="6169" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">#执行语句</p><p id="2373" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi">}</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="cb59" class="ny lp it ox b gy pb pc l pd pe">x &lt;- 3<br/>y &lt;- 0</span><span id="d4f6" class="ny lp it ox b gy pj pc l pd pe">if (x == 3) {<br/>   y &lt;- 1</span><span id="4c8e" class="ny lp it ox b gy pj pc l pd pe">}<br/>else if (x&lt;3) {<br/>  y &lt;- 2</span><span id="585a" class="ny lp it ox b gy pj pc l pd pe">}<br/>else {<br/>  y &lt;- 3</span><span id="c436" class="ny lp it ox b gy pj pc l pd pe">}</span></pre><h2 id="1170" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">重复</h2><p id="2616" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">如果我们想要重复一组语句未知的次数(可能直到满足一个条件或者用户输入一个值等等)。)然后我们可以重复/中断语句。休息可以结束迭代。</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="3e7e" class="ny lp it ox b gy pb pc l pd pe">repeat {<br/>  print("hello")<br/>  x &lt;- random()<br/>  if (x &gt; 0.5)<br/>  {<br/>    break; #exit the loop<br/>  }<br/>}</span></pre><p id="7faf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们想跳过一次迭代，我们可以使用下面的语句:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="561c" class="ny lp it ox b gy pb pc l pd pe">repeat {<br/>  print("hello")<br/>  x &lt;- random()<br/>  if (x &gt; 0.5)<br/>  {<br/>    next #iterate again <br/>  }<br/>}</span></pre><h1 id="9102" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">16.读写R中的外部数据</h1><p id="c533" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">r提供了一系列的包，允许我们读写外部数据，比如excel文件或SQL表。本节说明了我们如何实现它。</p><h2 id="9bd9" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">16.1读取Excel文件</h2><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="87f1" class="ny lp it ox b gy pb pc l pd pe">library(openxlsx)<br/>path &lt;-"C:/Users/farhadm/Documents/Blogs/R.xlsx"<br/>res &lt;- read.xlsx(path, 'Sheet1')<br/>head(res)</span></pre><p id="4e1f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将显示最上面的行:</p><figure class="ol om on oo gt mr gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/6538edd862d24c9a40d54185e9239731.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*lenC73v1ZMykAyk9Et_4Aw.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">显示excel文件内容的代码片段</p></figure><h2 id="1fa3" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">16.2写入Excel文件</h2><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="dd09" class="ny lp it ox b gy pb pc l pd pe">columnA &lt;- runif(100,0.1,100)<br/>columnB &lt;- runif(100,5,1000)<br/>df &lt;- data.frame(columnA, columnB)<br/>write.xlsx(df, file = path, sheetName="NewSheet", append=TRUE)</span></pre><p id="6970" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它用名为NewSheet的工作表创建了一个新的excel文件:</p><figure class="ol om on oo gt mr gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/47f0667959770cdff684d09322bdceeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:306/format:webp/1*O24NoicbQwtjWImHCFZB7Q.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">显示Excel内容的代码片段</p></figure><h2 id="b3bf" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">16.3读取SQL表</h2><p id="a707" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以从SQL表中读取数据</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="ca15" class="ny lp it ox b gy pb pc l pd pe">library(RODBC)<br/>db &lt;- odbcDriverConnect('driver={SQL <br/>Server};server=SERVERNAME;database=DATABASENAME;trusted_connection=true')<br/>res &lt;- sqlQuery(db, 'SQL QUERY')</span></pre><h2 id="305e" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">16.4写入SQL表</h2><p id="24d4" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以写入SQL表</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="801e" class="ny lp it ox b gy pb pc l pd pe">sqlSave(odbcConnection, some data frame, tablename="TABLE", append=TRUE, rownames=FALSE)</span></pre><h1 id="d745" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">17.在R中执行统计计算</h1><p id="cdf0" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">众所周知，r是最流行的统计编程语言之一。理解r中的内置统计函数至关重要。本节将概述数据科学家执行的最常见的统计计算。</p><h2 id="ba7b" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.1填充缺失值:</h2><p id="5445" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">数据科学项目中最常见的任务之一是填充缺失值。我们可以使用is.na()来查找空的元素(na或NAN):</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="99a5" class="ny lp it ox b gy pb pc l pd pe">vec &lt;- c("test", NA, "another test")<br/>is.na(vec)</span></pre><p id="8548" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将打印FALSE TRUE FALSE，表明NA中的第二个元素。</p><p id="59ae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了更好地理解它们，is.na()将返回所有为na的元素/对象。is.nan()将返回所有的nan对象。值得注意的是，南是安娜，但安娜不是南。</p><p id="164d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ov">注意:许多统计函数，如均值、中值等，都有一个参数:na.rm，它表示我们是否要删除na(缺失值)。</em></p><p id="7380" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来的几次计算将基于以下两个向量:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="14f2" class="ny lp it ox b gy pb pc l pd pe">A &lt;- c(1,2,5,6.4,6.7,7,7,7,8,9,3,4,1.5,0,10,5.1,2.4,3.4, 4.5, 6.7)<br/>B &lt;- c(4,4.1,0,1.4,2,1,6.7,7,5,5,8,9,3,2,2.5,0,10,5.1,4.3,5.7)</span><span id="bc8f" class="ny lp it ox b gy pj pc l pd pe">print(length(A)) #20<br/>print(length(B)) #20</span></pre><p id="5825" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">向量A和B都包含20个元素的数值。</p><h2 id="3236" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.2平均值</h2><p id="b051" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">平均值的计算方法是对集合中的值求和，然后除以值的总数:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="e4cb" class="ny lp it ox b gy pb pc l pd pe">my_mean &lt;- mean(A)<br/>print(my_mean)</span></pre><h2 id="0c8f" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.3中位数</h2><p id="817c" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">Median是排序集合中的中间值。如果有偶数个值，则是两个中间值的平均值:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="90e4" class="ny lp it ox b gy pb pc l pd pe">my_median &lt;- median(A)<br/>print(my_median)</span></pre><h2 id="dfa2" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.4模式</h2><p id="9e82" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">众数是最常见的值。r缺少计算模式的标准内置函数。但是，我们可以创建一个函数来计算它，如下所示。</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="9e01" class="ny lp it ox b gy pb pc l pd pe">distinct_A &lt;- unique(A)<br/>matches &lt;- match(A, distinct_A)<br/>table_A &lt;- tabulate(matches)<br/>max_A &lt;- which.max(table_A)<br/>mode&lt;-distinct_A[max_A]<br/>print(mode)</span></pre><p id="8de4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该函数执行以下步骤:</p><ol class=""><li id="5959" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld ni nj nk nl bi translated">计算集合的不同值</li><li id="11b4" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">然后，它找到每个项目的频率，并创建一个表格</li><li id="0118" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">最后，它找到出现次数最多的词的索引，并将其作为模式返回。</li></ol><h2 id="a8dd" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.5标准偏差</h2><p id="59a8" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">标准偏差是数值与平均值的偏差。</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="788c" class="ny lp it ox b gy pb pc l pd pe">sd &lt;- sd(A)<br/>print(sd)</span></pre><h2 id="5415" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.6差异</h2><p id="add7" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">方差是标准偏差的平方:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="e9d9" class="ny lp it ox b gy pb pc l pd pe">var &lt;- var(A)<br/>print(var)</span></pre><h2 id="361d" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.7相关性</h2><p id="3bf8" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">相关性有助于我们了解集合之间是否存在关系，以及它们是否随着关系的强度一起移动:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="9247" class="ny lp it ox b gy pb pc l pd pe">cor &lt;- cor(A, B)<br/>print(cor)</span></pre><p id="3412" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以传入特定的相关方法，如Kendall或Spearman。皮尔逊是默认的相关方法。</p><p id="e674" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ov">在方法参数中传递相关方法。</em></p><h2 id="75dc" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.8协方差</h2><p id="8b1f" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">协方差是用来告诉我们变量之间的关系的。</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="493e" class="ny lp it ox b gy pb pc l pd pe">covariance &lt;- cov(A, B)<br/>print(covariance)</span></pre><h2 id="5692" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.9标准化和规范化数据集</h2><p id="564b" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们经常需要标准化数据，例如使用最小-最大标准化或使用标准化机制计算z值。</p><p id="79a2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">标准化数据意味着数据集的均值= 0，标准差= 1。它需要从每个观察值中减去平均值，然后除以标准偏差。</p><p id="e53e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以使用比例函数。如果我们想从每个观察值中减去平均值，那么将其中心参数设置为真。</p><p id="c997" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们想要标准化数据，那么我们需要设置它的scale参数为True。</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="a077" class="ny lp it ox b gy pb pc l pd pe">normal_A &lt;- scale(A, center=TRUE, scale = FALSE)<br/>print(normal_A)</span><span id="98a4" class="ny lp it ox b gy pj pc l pd pe">standard_A &lt;- scale(A, center=TRUE, scale = TRUE)<br/>print(standard_A)</span></pre><h2 id="d47f" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.10回归模型</h2><p id="537a" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">回归模型由于其简单性和可解释性，在机器学习解决方案中越来越受欢迎。本质上，回归模型帮助我们理解不同变量之间的关系。</p><p id="63c8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通常，计算一个或多个变量的系数。这些变量是回归变量。它们用于估计和预测另一个变量，即因变量。因变量也称为响应变量。</p><p id="a1d9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">回归数据是通过抽样收集的，用于预测结果:</p><figure class="ol om on oo gt mr gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/7cebdd5c690387571d0656cd0cb1e8ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*3JczaTye_KAHv7QkDMIx8g.png"/></div></figure><ul class=""><li id="e6bb" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld nx nj nk nl bi translated">b <em class="ov"> n </em>是线性模型可以估计的系数。</li><li id="45b3" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">x <em class="ov"> n </em>是自变量。我们将收集这些变量的数据并输入到模型中。</li></ul><p id="3624" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为一个例子，让我们假设我们收集了温度数据集，并希望预测降雨量。我们可以使用如下所示的线性模型:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="e51f" class="ny lp it ox b gy pb pc l pd pe">Temperature &lt;- c(1,2,5,6.4,6.7,7,7,7,8,9,3,4,1.5,0,10,5.1,2.4,3.4, 4.5, 6.7)<br/>Rainfall &lt;- c(4,4.1,0,1.4,2,1,6.7,7,5,5,8,9,3,2,2.5,0,10,5.1,4.3,5.7)</span><span id="6944" class="ny lp it ox b gy pj pc l pd pe">model &lt;- lm(Rainfall~Temperature)</span></pre><p id="4bbb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ov">注意，如果有多个变量用于预测一个变量，例如使用湿度和温度来预测降雨量，我们可以使用lm()函数，并将公式设置为:</em></p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="b299" class="ny lp it ox b gy pb pc l pd pe">Temperature &lt;- c(1,2,5,6.4,6.7,7,7,7,8,9,3,4,1.5,0,10,5.1,2.4,3.4, 4.5, 6.7)<br/>Rainfall &lt;- c(4,4.1,0,1.4,2,1,6.7,7,5,5,8,9,3,2,2.5,0,10,5.1,4.3,5.7)<br/>Humidity &lt;- c(4,4.1,0,1.4,2,1,6.7,7,5,5,8,9,3,2,2.5,0,10,5.1,4.3,5.7)</span><span id="117b" class="ny lp it ox b gy pj pc l pd pe">model &lt;- lm(Rainfall~Temperature+Humidity)<br/></span></pre><p id="519d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们可以打印出模型的概要。</p><p id="b6b6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">r将告诉我们关于残差、系数、它们的标准偏差误差、t值、F统计量等等:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="5cff" class="ny lp it ox b gy pb pc l pd pe">print(summary(model))</span></pre><p id="8974" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它将打印以下统计数据:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="5d07" class="ny lp it ox b gy pb pc l pd pe">Call:<br/>lm(formula = Rainfall ~ Temperature)</span><span id="b025" class="ny lp it ox b gy pj pc l pd pe">Residuals:<br/>    Min      1Q  Median      3Q     Max <br/>-4.2883 -2.2512 -0.2897  1.8661  5.4124</span><span id="8b26" class="ny lp it ox b gy pj pc l pd pe">Coefficients:<br/>            Estimate Std. Error t value Pr(&gt;|t|)   <br/>(Intercept)   4.8639     1.3744   3.539  0.00235 **<br/>Temperature  -0.1151     0.2423  -0.475  0.64040   <br/>---<br/>Signif. codes:  <br/>0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span><span id="ab21" class="ny lp it ox b gy pj pc l pd pe">Residual standard error: 2.933 on 18 degrees of freedom<br/>Multiple R-squared:  0.01239, Adjusted R-squared:  -0.04248 <br/>F-statistic: 0.2258 on 1 and 18 DF,  p-value: 0.6404</span></pre><p id="d21d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">根据上面的例子，降雨量是-0.1151 *温度+ 4.8639</p><p id="a265" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们想要使用模型来估计新值，我们可以使用predict()函数，其中第一个参数是模型，第二个参数是我们想要预测降雨量的温度值:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="75e5" class="ny lp it ox b gy pb pc l pd pe">temperature_value &lt;- data.frame(Temperature = 170)<br/>rainfall_value &lt;-  predict(model,temperature_value)<br/>print(rainfall_value)</span></pre><h2 id="8f9f" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.11贝叶斯模型</h2><p id="6f96" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">贝叶斯模型使用概率来表示未知。目的是输入数据以估计未知参数。</p><p id="2d06" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">举个例子，假设我们想确定一家公司的股票明天值多少钱。让我们也考虑一下，我们用公司销售额这个变量来估计股票价格。</p><p id="f080" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这种情况下，股票价格是未知的，我们将使用公司的销售额来计算股票的价格。</p><p id="8fc5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以收集历史销售和股票价格的样本，并使用它来找到这两个变量之间的关系。在现实世界的项目中，我们会添加更多的变量来估计股票价格。</p><p id="430f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">需要理解的关键概念是条件概率和贝叶斯定理。文章中解释了这些概念:</p><div class="ps pt gp gr pu pv"><a rel="noopener follow" target="_blank" href="/understanding-probability-and-statistics-the-essentials-of-probability-for-data-scientists-459d61a8da44"><div class="pw ab fo"><div class="px ab py cl cj pz"><h2 class="bd iu gy z fp qa fr fs qb fu fw is bi translated">理解概率和统计:数据科学家的概率基础</h2><div class="qc l"><h3 class="bd b gy z fp qa fr fs qb fu fw dk translated">为统计学家解释概率的关键概念</h3></div><div class="qd l"><p class="bd b dl z fp qa fr fs qb fu fw dk translated">towardsdatascience.com</p></div></div><div class="qe l"><div class="qf l qg qh qi qe qj mw pv"/></div></div></a></div><div class="ps pt gp gr pu pv"><a rel="noopener follow" target="_blank" href="/understanding-probability-and-statistics-central-limit-theorem-and-convergence-for-data-scientists-653c53145400"><div class="pw ab fo"><div class="px ab py cl cj pz"><h2 class="bd iu gy z fp qa fr fs qb fu fw is bi translated">理解概率和统计:数据科学家的中心极限定理和收敛</h2><div class="qc l"><h3 class="bd b gy z fp qa fr fs qb fu fw dk translated">本文是“理解概率与统计”系列文章的第二篇。它侧重于CLT和…</h3></div><div class="qd l"><p class="bd b dl z fp qa fr fs qb fu fw dk translated">towardsdatascience.com</p></div></div><div class="qe l"><div class="qk l qg qh qi qe qj mw pv"/></div></div></a></div><p id="76b6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本质上，我们试图做的是使用股价的先验概率来预测使用似然数据和标准化常数的后验概率。</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="5d84" class="ny lp it ox b gy pb pc l pd pe">install.packages("BAS")<br/>library(BAS)<br/>StockPrice &lt;- c(1,2,5,6.4,6.7,7,7,7,8,9,3,4,1.5,0,10,5.1,2.4,3.4, 4.5, 6.7)<br/>Sales &lt;- c(4,4.1,0,1.4,2,1,6.7,7,5,5,8,9,3,2,2.5,0,10,5.1,4.3,5.7)<br/></span><span id="bb66" class="ny lp it ox b gy pj pc l pd pe">model &lt;- bas.lm(StockPrice~Sales)<br/>print(summary(model))</span></pre><p id="ce35" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，我们安装了BAS包，然后使用了BAS库。然后显示结果:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="bac0" class="ny lp it ox b gy pb pc l pd pe">             P(B != 0 | Y) model 1     model 2<br/>Intercept      1.00000000  1.0000  1.00000000<br/>Temperature    0.08358294  0.0000  1.00000000<br/>BF                     NA  1.0000  0.09120622<br/>PostProbs              NA  0.9164  0.08360000<br/>R2                     NA  0.0000  0.01240000<br/>dim                    NA  1.0000  2.00000000<br/>logmarg                NA  0.0000 -2.39463218</span></pre><p id="79ab" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">可以使用参数<code class="fe pg ph pi ox b">prior</code>指定回归系数的不同先验分布，包括</p><ul class=""><li id="7f16" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld nx nj nk nl bi translated">《BIC》</li><li id="9d92" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">“AIC</li><li id="a4d5" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">" g优先"</li><li id="6c1d" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">"超重力"</li><li id="3368" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">“超g拉普拉斯”</li><li id="0059" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">“超g-n”</li><li id="a9d1" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">《JZS》</li><li id="7438" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">" ZS-空"</li><li id="adf7" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">“ZS-完整”</li><li id="33f5" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">"电子商务本地"</li><li id="b0ec" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">“e B-全球”</li></ul><h2 id="8084" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.12生成随机数</h2><p id="dcfc" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">要在一个范围内生成随机数，请使用runif函数。这将打印100个介于0.1和10.0之间的随机数</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="0ead" class="ny lp it ox b gy pb pc l pd pe">random_number &lt;- runif(100, 0.1, 10.0)<br/>print(random_number)</span></pre><p id="5aeb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以使用sample()函数生成替换或不替换的项目和数字。</p><h2 id="bc9d" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.13泊松分布</h2><p id="ef97" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以使用泊松分布，并使用家庭为泊松分布的<em class="ov"> glm </em>模型:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="15b1" class="ny lp it ox b gy pb pc l pd pe">output &lt;-glm(formula = Temperature ~ Rainfall+Humidity,<br/>             family = poisson)<br/>print(summary(output))</span></pre><p id="8c32" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果将被打印出来:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="15e0" class="ny lp it ox b gy pb pc l pd pe">Deviance Residuals: <br/>    Min       1Q   Median       3Q      Max  <br/>-3.2343  -0.8547  -0.1792   0.8487   1.8781</span><span id="896d" class="ny lp it ox b gy pj pc l pd pe">Coefficients: (1 not defined because of singularities)<br/>            Estimate Std. Error z value Pr(&gt;|z|)    <br/>(Intercept)  1.69807    0.17939   9.466   &lt;2e-16 ***<br/>Rainfall    -0.02179    0.03612  -0.603    0.546    <br/>Humidity          NA         NA      NA       NA    <br/>---<br/>Signif. codes:  <br/>0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span><span id="7a66" class="ny lp it ox b gy pj pc l pd pe">(Dispersion parameter for poisson family taken to be 1)</span><span id="7fc2" class="ny lp it ox b gy pj pc l pd pe">Null deviance: 35.460  on 19  degrees of freedom<br/>Residual deviance: 35.093  on 18  degrees of freedom<br/>AIC: Inf</span><span id="b0b4" class="ny lp it ox b gy pj pc l pd pe">Number of Fisher Scoring iterations: 5</span></pre><h2 id="0537" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.14正常分布</h2><p id="c428" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">有几种方法可以生成正态分布的数据。最常见的方法是使用样本大小、平均值和标准差调用rnorm函数:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="ea82" class="ny lp it ox b gy pb pc l pd pe">y &lt;- rnorm(100, 0, 1)</span></pre><h2 id="79f5" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.15远期替代</h2><p id="957c" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">向前替换是用于求解线性方程组的常见过程:Lx = y</p><p id="85eb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这种情况下，L是具有非零对角线元素的下三角系数矩阵L。</p><p id="484c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有两个函数可以帮助我们向前和向后替换。</p><p id="c63c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">r有forwardsolve(A，b)用于下三角A上的前向替换，有backsolve(A，b)用于上三角A上的后向替换。</p><p id="75e9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">具体来说，它们是:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="ebf7" class="ny lp it ox b gy pb pc l pd pe">backsolve(r, x, k = ncol(r), upper.tri = TRUE,<br/>             transpose = FALSE)<br/>forwardsolve(l, x, k = ncol(l), upper.tri = FALSE,<br/>             transpose = FALSE)</span></pre><p id="1520" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ov"> r:上三角矩阵:R x = b <br/> l:下三角矩阵:L x = b </em></p><p id="5ace" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这两个三角矩阵都给出了我们试图求解的系数。</p><p id="4de7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">x:这是矩阵，它的列给出了方程的右边。</p><p id="d91a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">k:这是要求我们使用的r的列数和x的行数。</p><p id="bd1d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">upper.tri: TRUE然后使用r的上三角形部分。</p><p id="7c79" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">转置:如果为真，那么我们试图为y求解r' * y = x</p><p id="a62e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出将与x的类型相同，因此，如果x是一个向量，那么输出将是一个向量，否则，如果x是一个矩阵，那么输出将是一个矩阵。</p><h2 id="06d0" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">17.16 T检验</h2><p id="27b2" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">t测试可以通过使用t.test()函数来执行。</p><p id="529d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，R中的单样本t检验可以通过使用<code class="fe pg ph pi ox b">t.test(y, mu = 0)</code>来运行，其中y是我们想要检验的变量，而<code class="fe pg ph pi ox b">mu</code>是由零假设指定的平均值:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="f2f4" class="ny lp it ox b gy pb pc l pd pe">Humidity &lt;- c(4,4.1,0,1.4,2,1,6.7,7,5,5,8,9,3,2,2.5,0,10,5.1,4.3,5.7)</span><span id="f588" class="ny lp it ox b gy pj pc l pd pe">t.test(Humidity, mu = 5) <br/></span></pre><p id="5cfc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的代码测试湿度是否≤5的平均值。这是无效假设。</p><p id="aefb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果是:</p><p id="338d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">单一样本t检验</p><p id="e451" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据:湿度<br/> t = -1.1052，df = 19，p值= 0.2829 <br/>备选假设:真均值不等于5<br/>95%置信区间:<br/> 2.945439 5.634561 <br/>样本估计:<br/>x的均值<br/> 4.29</p><h1 id="6b90" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">18.在R中绘图</h1><p id="8560" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">这一节将解释在r中绘制图表是多么容易。</p><h2 id="f71d" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">X-Y散点图</h2><p id="8dd2" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我生成了以下数据:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="f798" class="ny lp it ox b gy pb pc l pd pe">x&lt;-runif(200, 0.1, 10.0)<br/>y&lt;-runif(200, 0.15, 20.0)</span><span id="57ba" class="ny lp it ox b gy pj pc l pd pe">print(x)<br/>print(y)</span></pre><p id="1e2c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">代码片段将绘制图表</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="d72b" class="ny lp it ox b gy pb pc l pd pe">plot(x, y, main='Line Chart')</span></pre><figure class="ol om on oo gt mr gh gi paragraph-image"><div class="gh gi ql"><img src="../Images/0c92444fa2f9c5403ebd64ceb6557e45.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*7vmWh-jxOnAIhwLvbOgZFQ.png"/></div><p class="my mz gj gh gi na nb bd b be z dk translated">XY散点图</p></figure><h2 id="afbe" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">相关图</h2><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="be22" class="ny lp it ox b gy pb pc l pd pe">install.packages('ggcorrplot')</span><span id="a318" class="ny lp it ox b gy pj pc l pd pe">library(ggcorrplot)<br/>x&lt;-runif(200, 0.1, 10.0)<br/>y&lt;-runif(200, 0.15, 20.0)<br/>z&lt;-runif(200, 0.15, 20.0)</span><span id="aa41" class="ny lp it ox b gy pj pc l pd pe">data &lt;- data.frame(x,y,z)<br/>corr &lt;- round(cor(data), 1)</span><span id="4ecf" class="ny lp it ox b gy pj pc l pd pe">ggcorrplot(corr)</span></pre><figure class="ol om on oo gt mr gh gi paragraph-image"><div class="gh gi qm"><img src="../Images/f88953fa044b76688de904985c72489c.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*84zw_T2idx6mpcFBbbZHBQ.png"/></div></figure><h2 id="8664" class="ny lp it bd lq nz oa dn lu ob oc dp ly kr od oe ma kv of og mc kz oh oi me oj bi translated">柱状图</h2><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="1d44" class="ny lp it ox b gy pb pc l pd pe">x&lt;-runif(200, 0.1, 10.0)<br/>hist(x)</span></pre><figure class="ol om on oo gt mr gh gi paragraph-image"><div class="gh gi qn"><img src="../Images/46c975d36285d06eb23f7730e1be05b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*VG5N1FVhc8a-1x9OcWNt8w.png"/></div></figure><h1 id="72d5" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">19.R语言中的面向对象编程</h1><p id="74bf" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">本节将概述R中面向对象编程的概念。理解R中如何创建对象是至关重要的，因为它可以帮助您以更简单的方式实现可伸缩的大型应用程序。</p><p id="b4f1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在R编程语言中需要理解的首要概念是一切都是对象。</p><p id="c6be" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">函数也是一个对象，如函数部分所解释的。因此，我们必须定义一个函数来创建对象。关键是在对象上设置class属性。</p><p id="cb0b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">r支持面向对象的概念，比如继承。一个类可以是一个向量。</p><p id="4cb4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在r中有几种创建类的方法。我将围绕创建S3类演示最简单的形式。这包括创建一个属性列表。</p><p id="1f12" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我解释如何构建一个完整的类之前，让我们以一种简化的方式回顾一下步骤:</p><ul class=""><li id="3fa5" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld nx nj nk nl bi translated">第一步是创建一个命名列表，其中每个元素都有一个名称。每个元素的名称都是该类的一个属性。作为一个例子，这是我们如何在R中创建一个人类类:</li></ul><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="a56d" class="ny lp it ox b gy pb pc l pd pe">farhad &lt;- list(firstname="Farhad", lastname="Malik")<br/>class(farhad) &lt;- append(class(farhad), "Human")</span></pre><ul class=""><li id="7131" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld nx nj nk nl bi translated">我们创建了一个具有以下属性的人类类的实例:名字设置为法尔哈德，姓氏设置为马利克。</li><li id="a8a2" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld nx nj nk nl bi translated">要打印Human object实例的firstname属性，我们可以这样做:</li></ul><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="d758" class="ny lp it ox b gy pb pc l pd pe">print(farhad$firstname)</span></pre><ul class=""><li id="fa3a" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld nx nj nk nl bi translated">现在，让我们转到另一个重要的概念。我们如何为对象创建一个实例方法？</li></ul><p id="cdde" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">关键是使用命令:UseMethod</p><p id="5077" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个命令通知R系统搜索一个函数。一个对象可以有多个类，UseMethod使用实例的类来确定要执行哪个方法。</p><p id="75a1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们创建GetName函数，该函数返回名和姓的连接字符串:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="bfd4" class="ny lp it ox b gy pb pc l pd pe">#This is how you create a new generic function<br/>GetName &lt;- function(instance)<br/>{<br/>  UseMethod("GetName", instance)<br/>}</span><span id="97ec" class="ny lp it ox b gy pj pc l pd pe">#This is how you provide a function its body<br/>GetName.Human &lt;- function(instance)<br/>{<br/>  return(paste(instance$firstname,instance$lastname))<br/>}</span><span id="26d4" class="ny lp it ox b gy pj pc l pd pe">GetName(farhad)</span></pre><p id="566f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，让我们创建一个具有属性firstname和lastname的类Human。它将有一个函数:GetName()，返回名字和姓氏。</p><p id="be04" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">技巧:创建一个返回列表的函数，并将属性作为参数传递给函数。然后使用UseMethod命令创建方法。</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="a995" class="ny lp it ox b gy pb pc l pd pe">Human &lt;- function(firstname, lastname)<br/>{<br/>  instance &lt;- list(firstname=firstname, lastname=lastname)<br/>  class(instance) &lt;- append(class(instance), "Human")<br/>  return(instance)<br/>  <br/>}<br/>GetName &lt;- function(instance)<br/>{<br/>  UseMethod("GetName", instance)<br/>}<br/>GetName.Human &lt;- function(instance)<br/>{<br/>  return(paste(instance$firstname,instance$lastname))<br/>}<br/>farhad &lt;- Human(firstname="farhad", lastname="malik")<br/>print(farhad)<br/>name &lt;- GetName(farhad)<br/>print(name)</span></pre><p id="58da" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将打印:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="4017" class="ny lp it ox b gy pb pc l pd pe">&gt; print(farhad)<br/>$firstname<br/>[1] "Farhad"</span><span id="a814" class="ny lp it ox b gy pj pc l pd pe">$lastname<br/>[1] "Malik"</span><span id="414a" class="ny lp it ox b gy pj pc l pd pe">attr(,"class")<br/>[1] "list"  "Human"<br/>&gt; <br/>&gt; <br/>&gt; name &lt;- GetName(farhad)<br/>&gt; print(name)<br/>[1] "Farhad Malik"</span></pre><p id="a77d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">如果我们想创建一个新的类OfficeWorker，它从Human类继承并为GetName()方法提供不同的功能，该怎么办？</strong></p><p id="07db" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以通过以下方式实现这一目标:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="8558" class="ny lp it ox b gy pb pc l pd pe">Human &lt;- function(firstname, lastname)<br/>{<br/>  instance &lt;- list(firstname=firstname, lastname=lastname)<br/>  class(instance) &lt;- append(class(instance), "Human")<br/>  return(instance)<br/>  <br/>}</span><span id="176c" class="ny lp it ox b gy pj pc l pd pe">OfficeWorker &lt;- function(firstname, lastname)<br/>{<br/>  <br/>  me &lt;- Human(firstname, lastname)<br/>  <br/>  # Add the class<br/>  class(me) &lt;- append(class(me),"OfficeWorker")<br/>  return(me)<br/>}</span></pre><p id="76ba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们创建一个办公人员的实例并打印该实例，它将打印以下内容:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="2876" class="ny lp it ox b gy pb pc l pd pe">worker = OfficeWorker(firstname="some first name", lastname="some last name")<br/>print(worker)</span><span id="4b51" class="ny lp it ox b gy pj pc l pd pe">&gt; print(worker)<br/>$firstname<br/>[1] "some first name"</span><span id="37e9" class="ny lp it ox b gy pj pc l pd pe">$lastname<br/>[1] "some last name"</span><span id="7d75" class="ny lp it ox b gy pj pc l pd pe">attr(,"class")<br/>[1] "list"         "Human"        "OfficeWorker"</span></pre><p id="1d17" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，实例的类是list、Human和OfficeWorker</p><p id="89ae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要为办公室工作人员创建不同的功能，我们可以覆盖它:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="956c" class="ny lp it ox b gy pb pc l pd pe">GetName &lt;- function(instance)<br/>{<br/>  UseMethod("GetName", instance)<br/>}<br/>GetName.Human &lt;- function(instance)<br/>{<br/>  return(paste(instance$firstname,instance$lastname))<br/>}<br/>GetName.OfficeWorker &lt;- function(instance)<br/>{<br/>  return(paste("Office  Worker",instance$firstname,instance$lastname))<br/>}</span></pre><p id="4dc6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将打印:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="c883" class="ny lp it ox b gy pb pc l pd pe">&gt; GetName(worker)<br/>[1] "some first name some last name"</span></pre><h1 id="1e6f" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">20.如何安装外部R包</h1><p id="77aa" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">安装一个R包非常简单。</p><p id="e0ae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们所要做的就是键入以下命令:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="0cf8" class="ny lp it ox b gy pb pc l pd pe">install.packages("name of package")</span></pre><p id="d47e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要安装多个软件包，我们可以向install.packages命令传递一个向量:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="9e93" class="ny lp it ox b gy pb pc l pd pe">install.packages(c("package1","package2"))</span></pre><p id="55fe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，CARAT是最流行的机器学习包之一。</p><p id="52ee" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">R-Studio使得安装包变得极其容易。要安装CARAT，点击右下角的软件包标签，然后点击安装按钮。</p><p id="e4d0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输入“克拉”并点击安装</p><figure class="ol om on oo gt mr gh gi paragraph-image"><div class="gh gi qo"><img src="../Images/6b29806d3160715476d5f3f538851d4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*EuUoc8Jw7-gpIHQqSvg1rA.png"/></div></figure><p id="91c9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将出现对话框，指示正在安装软件包:</p><figure class="ol om on oo gt mr gh gi paragraph-image"><div class="gh gi qp"><img src="../Images/402e447594fa056d4e1093ad702837e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*TbBO3gA2KMPyp3Hx4bdABA.png"/></div></figure><p id="92a6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">安装软件包后，您可以在控制台窗口中看到它:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="e741" class="ny lp it ox b gy pb pc l pd pe">The downloaded binary packages are in<br/> C:\Users\AppData\Local\Temp\Rtmp8q8kcY\downloaded_packages</span></pre><p id="9555" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要删除软件包，请键入:</p><pre class="ol om on oo gt ow ox oy oz aw pa bi"><span id="6f2e" class="ny lp it ox b gy pb pc l pd pe">remove.packages("package name")</span></pre><h1 id="8bf7" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">21.著名R图书馆</h1><p id="9a88" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">除了本文提到的R库和内置的R函数之外，我还推荐了大量有用的R包:</p><ol class=""><li id="031d" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld ni nj nk nl bi translated"><strong class="kk iu">预言家</strong>:预测、数据科学和分析项目</li><li id="d831" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu"> Plotly </strong>:用于图形</li><li id="6f01" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu">看门人</strong>:用于数据清理</li><li id="e20f" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu">插入符号</strong>:用于分类和回归训练</li><li id="4389" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu"> Mlr </strong>:用于机器学习项目</li><li id="a931" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu">润滑</strong>:用于时间序列数据</li><li id="06fc" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu"> Ggpolot2 </strong>:用于可视化</li><li id="0942" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu"> Dplyr </strong>:用于操作和清除数据</li><li id="6acf" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">预测:处理分类数据时</li><li id="7112" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated"><strong class="kk iu"> Dplyr </strong>:用于数据操作</li></ol><h1 id="38d8" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz nr ka ma kc ns kd mc kf nt kg me mf bi translated">22.摘要</h1><p id="1361" class="pw-post-body-paragraph ki kj it kk b kl mg ju kn ko mh jx kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">本文解释了关于R的以下关键领域:</p><ol class=""><li id="f23c" class="nd ne it kk b kl km ko kp kr nf kv ng kz nh ld ni nj nk nl bi translated">R是什么？</li><li id="73e5" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">如何安装R？</li><li id="a3e8" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">在哪里编码R？</li><li id="b722" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">什么是R包和R脚本？</li><li id="ef2f" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">有哪些不同的R数据类型？</li><li id="dd75" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">如何在R中声明变量及其作用域？</li><li id="c379" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">怎么写评论？</li><li id="c2e9" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">什么是矢量？</li><li id="51b7" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">什么是矩阵？</li><li id="dbcd" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">什么是列表？</li><li id="4033" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">什么是数据框？</li><li id="af89" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">R中不同的逻辑运算</li><li id="0907" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">R中的函数</li><li id="3e8c" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">R中的循环</li><li id="07f2" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">读写R中的外部数据</li><li id="b4e3" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">在R中执行统计计算</li><li id="fff4" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">在R中绘图</li><li id="d247" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">R语言中的面向对象编程</li><li id="55c7" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">著名R图书馆</li><li id="9443" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">如何安装外部R库</li><li id="f755" class="nd ne it kk b kl nm ko nn kr no kv np kz nq ld ni nj nk nl bi translated">在R中绘图</li></ol><p id="3cba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我以一种使语言更容易理解的方式从基础开始解释了编程语言R。说了这么多，编程进阶的关键是始终尽可能多的练习。</p><p id="468d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您有任何反馈或意见，请告诉我。</p></div></div>    
</body>
</html>