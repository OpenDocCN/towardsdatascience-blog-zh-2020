<html>
<head>
<title>Should I buy a lottery ticket?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">该不该买彩票？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/should-i-buy-a-lottery-ticket-6d3fece5a6bd?source=collection_archive---------23-----------------------#2020-01-14">https://towardsdatascience.com/should-i-buy-a-lottery-ticket-6d3fece5a6bd?source=collection_archive---------23-----------------------#2020-01-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="32b4" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">彩票分析</h2><div class=""/><div class=""><h2 id="eedf" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">我分析了过去的彩票数据，利用统计学和概率来决定购买彩票。</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/afc012f2b84be0f7083e4c32cb702899.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cx5NyAggVYEf8MIToYyDMQ.jpeg"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">迪伦·诺尔特在<a class="ae le" href="https://unsplash.com/s/photos/lottery?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="3f9e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我经常发现自己在决定是否购买彩票，尤其是新年前夕的强力球抽奖。我在那些时刻感到犹豫的原因是我对所选数字的随机性缺乏信任。当你搜索彩票结果的操纵时，有许多资源解释这个系统是如何被欺骗和操纵的。你也可以遇到彩票前雇员如何操纵结果的过去事件。</p><p id="c00e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">看到关于过去彩票结果被操纵和造假的新闻，我对彩票结果的信任变得更加不适。有了数据科学的经验和背景，今年我决定用统计学来证明我和其他人一样有平等的机会赢得彩票。在这篇文章中，我将讲述我如何利用统计数据来分析彩票结果，并做出购买/不购买彩票的决定。</p><p id="5b39" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">彩票机制</strong></p><p id="c859" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我要分析的彩票名为“Sayı sal Lotto”，是土耳其国家彩票的一种。游戏内部工作如下:从范围[1，49]中抽取6个数字，奖金按递减顺序分配给猜中6，5，4，3的人。在不涉及太多细节的情况下，让我们深入数学，从统计学的角度来分析这场比赛。</p><p id="8d47" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">决定购买彩票</strong></p><p id="78fc" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">从这一节开始，我将解释我使用的方法并分享代码片段。然而，为了让你更好地理解所使用的方法，我将定义和使用一些术语，如随机变量和概率。各部分的概要如下:</p><ol class=""><li id="41e7" class="mb mc iq lh b li lj ll lm lo md ls me lw mf ma mg mh mi mj bi translated"><em class="mk">什么是随机变量？在这里，我解释什么是随机变量和不同类型的随机变量使用。我还给出了统计学中事件的定义。</em></li><li id="9892" class="mb mc iq lh b li ml ll mm lo mn ls mo lw mp ma mg mh mi mj bi translated"><em class="mk">中乐透的概率。在这一步中，我计算了赢得乐透不同事件的各种概率。</em></li><li id="83de" class="mb mc iq lh b li ml ll mm lo mn ls mo lw mp ma mg mh mi mj bi translated"><em class="mk">概率的分布。随机变量相对于不同值变化的概率。我感兴趣的是找出在抽奖中答对一个特定数字的概率分布。</em></li><li id="907e" class="mb mc iq lh b li ml ll mm lo mn ls mo lw mp ma mg mh mi mj bi translated"><em class="mk">运行chi2拟合优度测试。该测试可用于比较理论分布与观察分布的吻合程度。我收集了彩票样本中每个号码的频率统计数据。我将使用chi2检验将每个数字的预期数字频率与这些统计数据进行比较。</em></li></ol><p id="5669" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">第一步:什么是随机变量？</strong></p><p id="5201" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">随机变量是其分布函数为实验的不同结果赋值的变量。随机变量通常用字母来表示。它们分为离散型和连续型，离散型具有有限或无限范围内的特定值，连续型可以取实数线上某个区间内的任何值。在抽奖的情况下，从49个数字中抽取一个数字只能是[1，49]范围内的整数。因此，我在彩票环境中处理一个离散的随机变量。</p><p id="2767" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">另一方面，一个事件是一个结果，它有一个概率值。我相信你可以在网上找到更正式的定义。但是为了我们的目的，让我们多谈谈数学。</p><p id="aecb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">第二步:中彩票的概率</strong></p><p id="58c8" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">一个事件的概率告诉你在所有可能的后果下，这个事件发生的可能性有多大。例如，“A队有1/3的机会获胜”意味着考虑到所有可能的结果，A队获胜的概率是<em class="mk"> 1 </em> / <em class="mk"> 3 = 0.33 </em>。如果事件的概率接近于1，则很可能发生随机事件。</p><p id="1bbe" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在彩票中，中奖概率等于中奖号码占所有可能彩票号码总数的分数。换句话说，你试图从一包49个数字中找出所有6个数字的组合。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/9cd6423462099657e38d8f0c7452be07.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*bdiKGWqj1TmW1eXyHFbZZg@2x.png"/></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/ca12f300bf0c3b821a10977246b01c4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:774/format:webp/1*G3kqo3N9YvfHUNWedlErgQ@2x.png"/></div></figure><p id="2502" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为了找到中奖的概率，我需要算出所有可能的彩票结果。这是我使用密码的地方。我从一组n个物品中挑选r个物品，不管挑选的顺序如何，其中r是6，n是49。那么彩票中奖的概率就变成了<em class="mk">1</em>/<em class="mk">13983816。</em></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/5ca765291dc6bfabb706ab59ef23143f.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*VHcbjiCuAZC6wroXAwyIPA@2x.png"/></div></figure><p id="49e1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">你可能会说“<em class="mk">好吧，那已经是不玩的理由了，因为赢的几率很低</em>”。但是，请记住，我是在可能的操纵后得出的数字。所以我不打算谈论玩游戏是否理性。如果我要计算从49个数字中得到2(不是任意2个随机数，而是实际的数字2)的概率，那么我会将所有可能的6个位置中的1个位置设置为2，并对其余的5个位置进行相同的计算，≊ <em class="mk"> 0.12 </em></p><p id="8242" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">第三步:概率分布</strong></p><p id="cbac" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我现在有可能得到一个数字(一个特定的数字，比如2，3，30等等。)中了彩票。概率的分布如下:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/7249259839dc3011cc4bf4a6d89be370.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*1hJMwyX-96MvLibINYpcYg@2x.png"/></div></figure><p id="efb0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">分析了最近的1000张彩票后，我得到了每张彩票的总号码频率，也就是说，我知道2在最近的1000张彩票中是否出现了150次。这是观察到的所画数字的数字频率分布。</p><p id="6bff" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为了找到特定号码在最近1000次彩票中出现频率的期望值(样本量=1000)，我将范围<em class="mk"> [0，1000] </em>中的每个<em class="mk"> k </em>乘以在彩票中挑选该号码的相应概率(如果k为100，则该特定号码在1000次彩票中出现100次)。公式是<em class="mk"> E(x) = x*P(x)。</em></p><pre class="kp kq kr ks gt mu mv mw mx aw my bi"><span id="3eb2" class="mz na iq mv b gy nb nc l nd ne">expectedValue = 0<br/>for every k in [0,1000]:<br/>  expectedValue+=k*P(k)</span><span id="4fa8" class="mz na iq mv b gy nf nc l nd ne">where P(k)=(0.12**k)*(0.88**(i-k))*C(i,k)<br/>C(i,k)=i choose k<br/>i=1000</span></pre><p id="3456" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我最终得到了122，作为一个样本为1000的特定数字的数字频率的期望值。</p><p id="92e3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">步骤4:运行chi2拟合优度测试</strong></p><p id="ebd6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">卡方拟合优度检验用于确定样本数据分布是否与预期分布一致。我建立了卡方拟合优度检验的假设，随后计算了各自自由度的卡方统计量:</p><p id="d8ec" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">A.零假设:观察值和期望值之间没有显著差异。</p><p id="f4ff" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">B.<strong class="lh ja">替代假设:</strong>观察值与期望值之间存在显著差异。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="c829" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">运行上面的代码片段后，我得到了35.596的chi2统计值。检查了chi2表中的p值后，我得出结论，观察值和期望值之间没有显著差异。因此，我可以向自己保证，数据没有被操纵，可以购买彩票。</p><p id="c59f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">结束语</strong></p><p id="11bc" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在这篇文章中，我分享了我是如何统计分析过去的彩票数据来决定购买彩票的。虽然我在统计上没有发现任何操纵行为，但我并不宣称这就是最终结论。您可以使用不同的方法分析相同的数据，并得出不同的结果。如果您也想尝试一下，非结构化代码(<a class="ae le" href="https://github.com/bkoseoglu/lottery_analysis" rel="noopener ugc nofollow" target="_blank">链接</a>)可能会有所帮助。</p><p id="f306" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="mk">如果你对帖子有任何疑问，或者对数据科学有任何疑问，你可以在</em><a class="ae le" href="http://www.linkedin.com/in/koseoglubaran" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja"><em class="mk">Linkedin</em></strong></a><strong class="lh ja"><em class="mk">上找到我。</em> </strong></p><p id="8bff" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">享受阅读，祝你新年快乐！</p></div></div>    
</body>
</html>