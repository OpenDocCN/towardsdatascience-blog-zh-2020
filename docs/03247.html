<html>
<head>
<title>Using Data Science for Customer Acquisition</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用数据科学获取客户</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-data-science-for-customer-acquisition-2001525792f?source=collection_archive---------11-----------------------#2020-03-28">https://towardsdatascience.com/using-data-science-for-customer-acquisition-2001525792f?source=collection_archive---------11-----------------------#2020-03-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6654" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">客户细分报告和客户反应预测</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c536f5d98a3e609a81e26405c36bf18d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QiOdPyd6ytFMaW3gy1a4Bg.png"/></div></div></figure><p id="b47a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi lq translated">为了给自己的品牌带来新客户，公司一直在开发他们的客户获取流程和策略。尽管这并不容易！任何基本客户获取计划的第一步都是<strong class="kw iu">识别优质潜在客户</strong>，猜猜看！<strong class="kw iu">数据科学可以帮助我们做到这一点</strong>！这个项目是关于可以用来理解顾客的特点，并可能获得他们的策略。</p><p id="7091" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">该项目应用机器学习算法，以便从人口统计数据中获取潜在客户的信息。这是由贝塔斯曼子公司Arvato Financial Solutions提供的Udacity机器学习工程师纳米学位项目的顶点项目。我选择这个项目主要是因为提供的数据是真实的，而且几乎没有对其进行清理。除此之外，我真的很喜欢了解业务和客户的需求，以便为公司和那些使用商业产品或服务的人提供最佳体验。</p><p id="2e79" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">项目的第一部分包括基于Arvato Financial Solutions的现有客户和德国普通人群构建客户细分报告。为此，我使用无监督学习技术来识别最能描述公司核心客户群的人群。</p><p id="dcf5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第二部分包括建立客户营销活动响应预测器，以识别最有可能转化为客户的个人。为了做到这一点，我尝试了一些监督学习算法，并最终找到了给我最好ROC AUC分数的算法。</p><p id="3dee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> <em class="lz">你可以在我的</em></strong><a class="ae ma" href="https://github.com/jmcabreira/Data-Science-Projects/tree/master/Customer_Segmentation_Report" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu"><em class="lz">Github</em></strong></a><strong class="kw iu"><em class="lz">页面查看我开发的所有代码。</em>T19】</strong></p><h1 id="3c7b" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">数据:</h1><p id="ec47" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">如上所述，该项目的数据由德国贝塔斯曼的子公司Arvato Financial Solutions提供。有六个数据文件与本项目相关，如下所示:</p><p id="e605" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">第一部分)客户细分</strong></p><ul class=""><li id="6db0" class="my mz it kw b kx ky la lb ld na lh nb ll nc lp nd ne nf ng bi translated"><strong class="kw iu">uda city _ AZDIAS _ 052018 . CSV</strong>:德国普通人口的人口统计数据</li><li id="a2c1" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu">uda city _ CUSTOMERS _ 052018 . CSV</strong>:邮购公司客户的人口统计数据</li><li id="6302" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> DIAS信息级别—属性2017.xlsx </strong>:属性和描述的顶级列表，按信息类别组织</li><li id="ece4" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> DIAS属性-值2017.xlsx : </strong>每个变量的数据值按字母顺序排列</li></ul><p id="4846" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">第二部分)营销活动响应预测</strong></p><ul class=""><li id="ffe8" class="my mz it kw b kx ky la lb ld na lh nb ll nc lp nd ne nf ng bi translated"><strong class="kw iu">uda city _ maillout _ 052018 _ train . CSV</strong>:作为营销活动目标的个人的人口统计数据</li><li id="7f29" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu">uda city _ maillout _ 052018 _ test . CSV</strong>:作为营销活动目标的个人的人口统计数据</li></ul><p id="33f4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lz">注意:已将</em> <strong class="kw iu"> <em class="lz"> DIAS信息级别</em> </strong> <em class="lz">和</em><strong class="kw iu"><em class="lz">DIAS Attributes xlsx文件</em> </strong> <em class="lz">翻译为data_info.csv文件，该文件包含关于特征及其各自可能值的信息</em>。</p><h1 id="ba9c" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">数据预处理:</h1><p id="4d7b" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">为了给机器学习算法提供输入，必须执行几个干净的预处理步骤。特别是，所提供的数据需要经过8个步骤的预处理和特征工程。您知道80-20法则吗？嗯，许多人说数据科学项目大约80%的时间花在数据准备(预处理)上，20%花在数据分析和机器学习方法上。这正是在这个特殊的项目中发生的事情。我建立了一个函数，可以完成所有必需的过程，如下所示:</p><h2 id="c1be" class="nm mc it bd md nn no dn mh np nq dp ml ld nr ns mn lh nt nu mp ll nv nw mr nx bi translated">第1步-删除功能</h2><p id="41bd" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">由于缺失值的数量，清理功能会删除35个特征(列)。这些列包含超过40%的nan数据。信息的缺乏可能会对模型产生负面影响，正因为如此，我决定摆脱它们。除此之外，对于客户数据集I，该函数还删除了三个额外的列(<em class="lz">“CUSTOMER _ GROUP”，“ONLINE_PURCHASE”，“PRODUCT _ GROUP”</em>)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/0e5f01372377687a5202f36d4252e025.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*kyfnzhrv4raHxNjweVWP5Q.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/f927007951a785710d0ebc1f7dbabe43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tpVahxZSDhthEZ5aHCGa1g.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">每个要素的缺失值百分比分布</p></figure><h2 id="9000" class="nm mc it bd md nn no dn mh np nq dp ml ld nr ns mn lh nt nu mp ll nv nw mr nx bi translated">第2步-转换丢失的代码</h2><p id="1470" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">我创建了<em class="lz"> data_info.csv </em>文件，该文件汇总了来自<em class="lz"> DIAS信息级别-Attributes 2017 . xlsx</em>和<em class="lz">DIAS Attributes-Values 2017 . xlsx文件</em>的信息。除此之外，我还包括了每个特征的缺失值代码，这样我就可以识别每个特征的所有缺失值，然后转换为NAN。</p><p id="4382" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这就是data_indo数据框架的样子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/cebb217a819caf2104eb69ae2b422a5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nue1wpN2F29Ry0e9dVkHLA.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/a5883a8b0d95f08f6f03190be29b281d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MlWHlFE189T7qe67zJ-ORA.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">编码前每个要素的缺失值总数(仅显示50个要素)</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/b28a59113959fe200c7dafdc5a0e9867.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q2yJdpYSIZMfJzRlBCDpaQ.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">编码后每个要素的缺失值总数(仅显示50个要素)</p></figure><p id="71ad" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">第3步-删除行和数据插补</strong></p><p id="3424" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了分析每行缺失值的数量，我将数据帧分成不同的集合。第一个具有大量缺失值(超过250个)，其他的缺失值少于250个。通过这样做，我可以调查一些特征的分布，并比较两个数据框架。我意识到(许多特性的)分布是不同的，因此我决定继续处理丢失值较少的数据框，并删除所有超过250个nan变量的行。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/37e81ac0852e9adb6c33fa24fe0b6519.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*OKiE4oRSaSLj9Xpt6iJGUg.png"/></div></figure><h2 id="b4ef" class="nm mc it bd md nn no dn mh np nq dp ml ld nr ns mn lh nt nu mp ll nv nw mr nx bi translated">第4部分—数据插补</h2><p id="aafb" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">尽管大多数特征要么是分类的，要么是顺序的，但我假设所有变量都是分类的。知道这一点后，我用特性中最常见的值替换了所有缺失的值(nan变量),以补偿数据集中缺失的值。</p><h2 id="2da3" class="nm mc it bd md nn no dn mh np nq dp ml ld nr ns mn lh nt nu mp ll nv nw mr nx bi translated">第5部分—特征工程</h2><p id="508c" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">用于构建客户细分的无监督学习算法需要数值。因此，所有的数据都必须用数字编码，这样模型才能按照预期的方式进行。</p><p id="900a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在分析了所有这些特性后，我决定如下操作:</p><ul class=""><li id="49d6" class="my mz it kw b kx ky la lb ld na lh nb ll nc lp nd ne nf ng bi translated"><strong class="kw iu">奥斯特_韦斯特_KZ </strong> —将被重新编码为0和1二进制特征</li><li id="4e0c" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu">LNR</strong>——这似乎是一个索引，所以我们可以摆脱它</li><li id="5cfc" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> CAMEO_DEU_2015 </strong> —此功能有许多带有“XX”类别的行(347行)。我认为这些输入是丢失的值，用一个数字值替换它们，并应用一个热编码来重新编码变量。</li><li id="eaa1" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> CAMEO_DEUG_2015 </strong> —该功能也有许多“X”输入。我做了和上面一样的功能</li><li id="2b16" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> CAMEO_INTL_2015 </strong> —同上述特征</li><li id="0f88" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu">D19 _ letz ter _ KAUF _ branch e</strong>—该特征有36个类别(字符串)，需要重新编码。</li><li id="86c5" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> EINGEFUEGT_AM </strong> —这是一个日期格式功能，需要重新编码(年和月列)</li></ul><p id="4314" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了避免稀疏性问题，我将一个热编码限制为44和33个最频繁的特征标签。换句话说，我只为44个和33个最常见的特性类别中的每一个建立了一个二元变量，并将其余的视为噪声。我将设置变量的前44类<strong class="kw iu"> CAMEO_DEU_2015 </strong>和<strong class="kw iu"> CAMEO_INTL_2015 </strong>和<strong class="kw iu"> D19_LETZTER_KAUF_BRANCHE的前33类。</strong></p><p id="4371" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我使用了前44和前33个最常见的类别，因为这样我可以保证azdias数据图的所有顶部组件都等于客户数据图的顶部组件。</p><h1 id="3a76" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">主成分分析</h1><p id="b071" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">由于我们有一个大型数据集，我们将执行降维。为此，我们需要执行特征缩放，以便主分量向量不会受到每个变量的缩放差异的影响。这种方法在处理基于距离的算法时非常重要，这就是我们的情况。</p><p id="b89d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我使用了标准标度，将每个特征表示为0，标准偏差等于1。</p><p id="9a24" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">缩放数据框后，我们可以应用降维。为了做到这一点，我使用了主成分方法，以便找到数据中最大方差的向量。首先，我使用了dataframe的所有功能。通过这样做，我们可以看到可变性的一般趋势。下图显示了每个组成部分解释的差异比率和解释的累积差异。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/653f926ba3c2e49a22f833978a0a1a16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*jWglJJwR7jULLgfYDNrlxg.png"/></div></figure><p id="128e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在查看了上面屏幕图中每个组件解释的差异后，我决定选择215个组件，它们占解释的差异的大约89%。</p><h1 id="48ae" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">k均值聚类</h1><p id="d982" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">我们可以绘制肘形曲线，以更好地确定要使用的聚类数。该方法获取k(聚类)的值，并查看每个数据点到聚类中心的平均距离。我们可以注意到，该值随着k的增加而减小，我们选择k的数值，在该数值处，k停止以显著的速率减小(肘部)。</p><p id="ed42" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我从使用MiniBatchKMeans开始，它是KMeans算法的变体，使用小批量来减少计算时间。这个算法的结果比标准的KMeans稍差，正因为如此，在确定了聚类数之后，我使用了常规的算法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/58ec52f33778e5901a56c46e652437b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*hLShbpMhpWNT93YcZKQcrg.png"/></div></figure><p id="aa22" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">上面的肘形曲线显示了前9个集群的分数迅速降低。即使它在几个点上增加，在群集11之后，减少变得越来越不明显。正因为如此，我决定选择11作为聚类数。</p><h1 id="b53c" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">比较普通人群和客户群</h1><p id="89f0" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">在将PCA和聚类模型构建到一般人群数据上之后，我们可以将相同的过程应用到客户数据上，并比较聚类分布。这个想法是为了找出公司最强大的客户群在哪里。换句话说，我们必须找出哪些分组代表过多或代表不足。那有什么帮助？好吧，让我们假设15%的人被分配到一般人群的特定集群，25%的客户也“感觉”接近该集群的质心。这样的话，消费者的比例将会大于总人口的比例。这表明普通人群中的这些人可能是公司的目标受众。</p><p id="cf7f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面的条形图显示了分配到11个集群的人员分布。基于前面的假设，我们可以注意到，代表性最强和代表性最弱的集群分别是集群编号7和6。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/0744452d0e2b7bc762c3eb563d40c206.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tmWqQJ2OourC8yVEQNwCEg.png"/></div></div></figure><p id="2982" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了了解这些集群的一些特征，我决定研究一些描述它们的“金融类型”的特征，并绘制它们的分布图。</p><h2 id="0d23" class="nm mc it bd md nn no dn mh np nq dp ml ld nr ns mn lh nt nu mp ll nv nw mr nx bi translated">特点:</h2><ul class=""><li id="3007" class="my mz it kw b kx mt la mu ld ol lh om ll on lp nd ne nf ng bi translated"><strong class="kw iu"> HH_EINKOMMEN_SCORE </strong>:估计家庭净收入(较低=较高收入)</li><li id="b04c" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> FINANZ_VORSORGER </strong>:准备好的个人财务类型(较低=较高财务类型)</li><li id="29a1" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> FINANZ_ANLEGER </strong>:投资者个人理财类型(较低=较高理财类型)</li><li id="15ce" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> FINANZ_HAUSBAUER </strong>:房屋所有者的个人金融类型(较低=较高金融类型)</li><li id="f0c6" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu">金融极简主义者</strong>:金融兴趣低的人(低=高金融类型)</li><li id="0b91" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> FINANZ_SPARER </strong>:存钱者(较低=较高的金融类型)</li><li id="deee" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> LP_STATUS_GROB </strong>:社会地位(下层=下层)</li><li id="9c18" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> KKK </strong>:购买力(低=高购买力)</li><li id="84b5" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu">安雷德_KZ </strong>:性别(1男2女)</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/4a304e8bc73baedb116b3464badf0086.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*7qtzP7AD5X0KuVOWGb1beA.png"/></div><p class="oa ob gj gh gi oc od bd b be z dk translated">估计家庭净收入</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi op"><img src="../Images/660e42e239a5f6e6859d79d95ac25e4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/format:webp/1*87H-DEKBjCo8sBc5rE1GXA.png"/></div><p class="oa ob gj gh gi oc od bd b be z dk translated">准备好的个人财务类型</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/321f31c926ad1290e4697aee651f8a29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*o3AqiSDs2w2gN8xPADoPyg.png"/></div><p class="oa ob gj gh gi oc od bd b be z dk translated">投资者的个人理财类型</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/0f4a10db32e411562a6d4bfcb02b3960.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*lMH25SOet6ZkYyE5UrrdxQ.png"/></div><p class="oa ob gj gh gi oc od bd b be z dk translated">房主的个人理财类型</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/0f8a9ff4a8321870034624e633eafea1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U5KjKMoN9ru3qerl38gYfw.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">那些经济利益低的人</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/8de822f34c810436924161f18b761365.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*HiQLtSiyO1L_m7oqhLjUTA.png"/></div><p class="oa ob gj gh gi oc od bd b be z dk translated">存钱的人</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/fa25d7e88a9602f7618c185ecc8e7992.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*runLTjxKuiTl3Z4AR9pL0A.png"/></div><p class="oa ob gj gh gi oc od bd b be z dk translated">社会地位</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/ec70045c8fdbc090fbb9a50f8922d115.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*Zrwa__RZ0jkftmyOislMeg.png"/></div><p class="oa ob gj gh gi oc od bd b be z dk translated">购买力</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/69dda0115431f0c59a543a21ea3004c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*GrGqmVU78SaPktNIhCm0hg.png"/></div><p class="oa ob gj gh gi oc od bd b be z dk translated">性别(1名男性，2名女性)</p></figure><h1 id="721a" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">解释:</h1><p id="52f1" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">我们可以注意到的第一件事是，在客户群体中，有一个集群代表过多，也有一些集群代表不足。</p><p id="cd8f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们还可以注意到，过表示数量最多的三个集群分别是<strong class="kw iu">集群7 </strong>、<strong class="kw iu">集群11 </strong>和<strong class="kw iu">集群3 </strong>。正因为如此，这表明这些集群更有可能成为公司的目标受众。</p><p id="4ad9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">另一方面，代表性最不足的三个群组是<strong class="kw iu">群组1 </strong>、<strong class="kw iu">群组6 </strong>、<strong class="kw iu">群组8 </strong></p><p id="16a9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了更好地了解每个聚类的总体情况，我们必须检查每个特征的分布。在我的例子中，我选择了代表每种金融类型的特征。</p><ul class=""><li id="3d8d" class="my mz it kw b kx ky la lb ld na lh nb ll nc lp nd ne nf ng bi translated"><strong class="kw iu"> HH_EINKOMMEN_SCORE </strong>:估计家庭净收入(较低=较高收入)</li><li id="14d4" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> FINANZ_VORSORGER </strong>:准备好的个人财务类型(较低=较高财务类型)</li><li id="2712" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> FINANZ_ANLEGER </strong>:投资者个人理财类型(较低=较高理财类型)</li><li id="1bb5" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> FINANZ_HAUSBAUER </strong>:房屋所有者的个人金融类型(较低=较高金融类型)</li><li id="aa39" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu">金融极简主义者</strong>:金融兴趣低的人(较低=较高的金融类型)</li><li id="6442" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">金融储蓄者(较低=较高的金融类型)</li><li id="613f" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> LP_STATUS_GROB </strong>:社会地位(下层=下层)</li><li id="099a" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu"> KKK </strong>:购买力(低=高购买力)</li><li id="ec73" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated"><strong class="kw iu">安瑞德_KZ </strong>:性别(1男2女)</li></ul><p id="99b5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">拥有<strong class="kw iu">过度代表</strong>客户数据的集群由<strong class="kw iu">更有可能</strong>的个人组成:</p><ul class=""><li id="9c0b" class="my mz it kw b kx ky la lb ld na lh nb ll nc lp nd ne nf ng bi translated">收入高</li><li id="a428" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">做好充分准备</li><li id="1d7d" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">成为投资者</li><li id="d56b" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">成为省钱达人</li><li id="1ee7" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">购买力一般/很高</li><li id="79a4" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">男性</li></ul><p id="9db2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在<strong class="kw iu">代表性不足的</strong>群体中的人<strong class="kw iu">更有可能</strong>:</p><ul class=""><li id="9460" class="my mz it kw b kx ky la lb ld na lh nb ll nc lp nd ne nf ng bi translated">收入一般</li><li id="7867" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">准备一般</li><li id="247c" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">不投资他们的钱</li><li id="b55a" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">经济利益很低</li><li id="b1c2" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">社会地位低而且非常低</li><li id="4bae" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">购买力一般</li><li id="e4dd" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">不是男的就是女的</li></ul><h1 id="dc26" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">客户反应预测</h1><p id="3fcc" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">既然我们已经发现了哪部分人更有可能成为邮购公司的客户，我们就可以建立一个监督模型来预测一个人是否会对营销活动做出反应。</p><p id="76a5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">“mailout.train”和mailout.test中的每一行都代表邮寄活动的目标个人。每个数据集包含大约43 000个数据行，训练数据集包括一个列“响应”，该列说明在活动之后某人是否成为公司的客户。</p><p id="41a0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我首先使用clean_df函数来处理预处理部分的所有步骤。之后，我注意到数据集在类方面是不平衡的。事实上，98.76%的观察结果对应于没有对活动做出响应的人。因此，准确性度量似乎不是评估模型的好选择。我将使用ROC AUC指标，因为它不受不平衡的影响。</p><h2 id="4e6d" class="nm mc it bd md nn no dn mh np nq dp ml ld nr ns mn lh nt nu mp ll nv nw mr nx bi translated">ROC AUC指标</h2><p id="d486" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">由于第二个模型是一个分类问题，我将使用AUC-ROC作为度量。ROC(受试者操作特征)代表概率曲线，它是通过绘制真阳性率(TPR)或召回率与假阳性率(1-特异性)的关系图来创建的。AUC给出了可分离度。通过使用AUC-ROC，我们能够知道我们的模型在分类这两类中的表现如何。AUC(曲线下面积)越高，模型预测活动成功的能力就越强(在我们的例子中)。</p><h2 id="31e5" class="nm mc it bd md nn no dn mh np nq dp ml ld nr ns mn lh nt nu mp ll nv nw mr nx bi translated">基线模型</h2><p id="752e" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">我构建了一个函数，它接受要执行的模型或模型列表、用于馈送GridSearchCV和调整分类器的参数名称、X_train数据、Y_train数据和一个可选参数，以防我想要绘制条形图和比较不同的模型。</p><p id="a486" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">每当我建立一个分类模型时，我喜欢从使用逻辑回归算法的基本形式开始。起初，我删除了代表每个个体的id的列，得到了一个很差的结果。令人惊讶的是，在包含该行之后，我得到了0.7的结果，这对于基线模型来说是不错的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/00fdacd5d59509032d76e4929f514151.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X2M9uVGN7o8p-H2XwgqQ2Q.png"/></div></div></figure><h2 id="111a" class="nm mc it bd md nn no dn mh np nq dp ml ld nr ns mn lh nt nu mp ll nv nw mr nx bi translated">构建其他模型</h2><p id="9df8" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">我在数据上测试了几个不同的监督学习模型。请注意，我没有对数据进行缩放，因为我最期待的是三个基于模型的更好的结果，正如我们所知，这些模型可以很好地处理非缩放数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/47130eef6c8f20f0c952793557829365.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*excTh9FX05Ty3HRxJTlJag.png"/></div></figure><h2 id="839a" class="nm mc it bd md nn no dn mh np nq dp ml ld nr ns mn lh nt nu mp ll nv nw mr nx bi translated">梯度增强调谐</h2><p id="e3e2" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">上面的柱状图表明，最有前途的分类器是gradientBoosting。正因为如此，我选择了这个算法来调整使用。</p><p id="9c6c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我做了一个执行试验和错误调整，调整参数，如n_estimators、loss、learning_rate、n_samples_split、min_samples_leaf、max_depth、max_features和subsample。</p><p id="dba4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我最终得到了一个具有以下特征的模型:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/b38e975dfe4afef4ed2b6668ecb641fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*_qy6hyMhKoyWlzy1G1CdTw.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/4e97057290e9d82dd996335b5f4e0c45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*Yg6MXrNBvJR8TP6g0Knu4w.png"/></div></figure><p id="ea4d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">根据模型的特征重要性:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/582196192f89da6bb6c0b03cd49babeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*FVee0xKbE-7p-Q00Jo0Iaw.png"/></div></figure><h1 id="f041" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">结论</h1><p id="35d0" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">这个项目的主要目标是了解客户群，并预测一个人是否会对营销活动做出反应。这样，我们可以帮助一家德国邮购公司开发一种更有效的瞄准潜在客户的方法。</p><p id="94a4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第一部分包括建立无监督模型，如PCA和k-means聚类，以执行客户细分。我们使用了215个组件和11个集群。应用这些方法后，我可以比较代表过多和代表不足的组别，并得出一些结论。例如，我注意到，被过度代表的群体中的大多数人(来自普通人群的人可能是公司的目标受众)收入高，是投资者，也是很好的存钱者。另一方面，普通人收入一般，不投资，购买力一般。</p><p id="8278" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在第二部分，我建立了几个不同的监督学习模型，并对它们进行了比较。梯度推进算法给我提供了最好的ROC AUC分数，因此它被选择和调整。经过彻底的参数调整后，我在测试数据中得到了0.78794分。</p><p id="c7ca" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这个项目真的很有挑战性，但是我从中学到了很多。我要感谢Udacity的所有支持(特别是我的导师Mofetoluwa A .)和贝塔斯曼Arvato Analytics提供的所有这些数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl pc"><img src="../Images/972ddfea52af8b7b2c015d8be5d39e83.png" data-original-src="https://miro.medium.com/v2/format:webp/1*V0c7eqLKiTL-9iFNNY-3Fw.png"/></div></figure></div></div>    
</body>
</html>