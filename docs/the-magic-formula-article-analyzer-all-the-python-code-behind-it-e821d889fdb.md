# â€œç¥å¥‡å…¬å¼æ–‡ç« åˆ†æå™¨â€èƒŒåçš„æ‰€æœ‰ Python ä»£ç 

> åŸæ–‡ï¼š<https://towardsdatascience.com/the-magic-formula-article-analyzer-all-the-python-code-behind-it-e821d889fdb?source=collection_archive---------42----------------------->

## æ²¡æœ‰ç†ŠçŒ«æˆ– Matplotlibs çš„åˆ†æã€‚æˆ‘çŸ¥é“ï¼Œå¾ˆç–¯ç‹‚â€¦

![](img/90d01db4e0871cc00e3320019e251910.png)

[Kelly Sikkema](https://unsplash.com/@kellysikkema?utm_source=medium&utm_medium=referral) åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

ä½ å¯èƒ½æœ‰ä¸€äº›æœ€å–œæ¬¢çš„ä½œå®¶ã€‚å¦‚æœæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥åˆ†æä»–ä»¬æˆåŠŸçš„æ–‡ç« å¹¶å‘ä»–ä»¬å­¦ä¹ å‘¢ï¼Ÿå—¯ï¼Œæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œè¿™å°±æ˜¯æˆ‘ç”¨ python åˆ†æå™¨å·¥å…·æ‰€åšçš„äº‹æƒ…ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†æµè§ˆå¹¶åˆ†äº«è¿™ä¸ªå·¥å…·èƒŒåçš„æ‰€æœ‰ä»£ç ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åˆ†æä½ è‡ªå·±å–œæ¬¢çš„ä½œè€…äº†ã€‚

# å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„

å¦‚æœä½ è¿˜æ²¡æœ‰è¯»è¿‡ï¼Œé‚£å°±å»çœ‹çœ‹æˆ‘çš„åŸå§‹æ–‡ç« ï¼Œåœ¨é‚£é‡Œæˆ‘ä¼šæŠŠå®ƒåˆ†è§£å¹¶åšå®é™…çš„åˆ†æã€‚

[](https://medium.com/better-marketing/7-ways-you-can-find-the-magic-formula-of-great-successful-writers-d32001d6ac4e) [## 7 ä¸ªæ•°æ®ç‚¹ç¼–è¯‘æˆåŠŸåª’ä½“ä½œå®¶çš„ç¥å¥‡å…¬å¼

### ç”¨æ•°æ®åˆ†æä¸ºä»€ä¹ˆä¸‰ä½é¡¶çº§ä½œå®¶å¦‚æ­¤æˆåŠŸ

medium.com](https://medium.com/better-marketing/7-ways-you-can-find-the-magic-formula-of-great-successful-writers-d32001d6ac4e) 

è¯¥å·¥å…·åªéœ€è¦ä¸€ä¸ªåŒ…å«ç‰¹å®šæ•°æ®çš„ CSV æ–‡ä»¶ï¼Œå¹¶å°†ç«‹å³è¾“å‡ºç»Ÿè®¡æ•°æ®:

![](img/d8d65114d4a394de64fb6973e13ececa.png)

å·¥å…·ç®¡é“ã€‚CSV é€šè¿‡ç¨‹åºå‘é€å¹¶è¾“å‡ºç»Ÿè®¡æ•°æ®

**è¿™æ˜¯ä¸€ä¸ª CSV ç¤ºä¾‹**

![](img/62d8029b2d4e5d8496290d57d007b8e5.png)

Google å·¥ä½œè¡¨ç¤ºä¾‹

**ä¸‹é¢æ˜¯ä¸€ä¸ªè¾“å‡ºç¤ºä¾‹:**

![](img/d61ba8470cc362e724adb0da2edc90a0.png)

è’‚å§†Â·ä¸¹å®çš„ç¥å¥‡å…¬å¼è¡¨ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä¸€æ­¥ä¸€æ­¥åœ°æ£€æŸ¥æˆ‘çš„ä»£ç ï¼Œè¿™æ ·ä½ å¯ä»¥æ›´å¥½åœ°ç†è§£æˆ‘ä¸€ç›´åœ¨æƒ³çš„ä¸œè¥¿ï¼Œä¹Ÿè®¸ä½ å¯ä»¥ä¼˜åŒ–ã€é‡æ„å¹¶é‡å†™å®ƒï¼Œä½¿å®ƒå˜å¾—æ›´å¥½ã€‚

> ä¸ºä»€ä¹ˆä»–è¿˜æ²¡æœ‰è°ˆåˆ°ç†ŠçŒ«ï¼Ÿ

å¯¹äºè¿™ä¸ªå·¥å…·ï¼Œæˆ‘ä½¿ç”¨äº†`statistics`ã€`datetime`å’Œ`tabulate`ã€‚`pandas`å’Œ`matplotlib`æ­é…`jupyter`å¯èƒ½æ˜¯ä¸€ä¸ªå®Œç¾çš„ç»„åˆã€‚è¯´å®è¯ï¼Œåˆšå¼€å§‹çš„æ—¶å€™æˆ‘è¿˜ä¸å¤Ÿäº†è§£ã€‚å¦‚æœæˆ‘å†åšä¸€æ¬¡ï¼Œæˆ‘å¯èƒ½ä¼šä½¿ç”¨è¿™æ ·çš„è®¾ç½®ã€‚

è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªå·¥å…·æ˜¯å¦‚ä½•è®¾ç½®çš„ï¼

# é˜¶çº§ç»“æ„

æ ¹æ®ç¨‹åºçš„å¤§å°ï¼Œä½ å¯ä»¥æœ‰å‡ ä¸ªç±»ã€‚`Articles`ã€`Writers`ã€`Publications`éƒ½æœ‰æ•ˆã€‚

`main.py`ä½¿ç”¨`Article`ç±»å’Œä¸€ä¸ª CSV æ–‡ä»¶æ¥è§£ææ•°æ®ã€‚`main.py`ä¹Ÿè¾“å‡ºæ‰€æœ‰æ•°æ®ã€‚

æˆ‘æœ€åå¾—åˆ°çš„è®¾ç½®æ˜¯:

![](img/673c0a10afbf7b2ed9ec68af1e22c288.png)

å¦‚æœæ‚¨æ„¿æ„ï¼Œå¯ä»¥è·Ÿéšè¿™ä¸ª testdata.csv æ–‡ä»¶:

æµ‹è¯•æ•°æ® CSV æ–‡ä»¶ã€‚

# æ–‡ç« ç±»

å…ˆè¯´`Article`ç±»ã€‚

è¿™ä¸ªç±»åŒ…å«æ–‡ç« æœ¬èº«çš„æ•°æ®ã€‚æˆ‘ä»¬å‘é€æ ‡é¢˜ï¼Œå®ƒå±äºå“ªä¸ªå‡ºç‰ˆç‰©ï¼Œæ•°æ®ï¼Œé˜…è¯»æ—¶é—´ï¼ŒæŒå£°å’Œå›åº”ã€‚

å½“ä½ è¯·æ±‚æ•°æ®æ—¶ï¼Œä¸€ç»„æ–¹æ³•è¿”å›æ•°æ®ã€‚

ä»¥ä¸‹æ˜¯ article ç±»çš„å®Œæ•´ä»£ç ã€‚

æ–‡ç« ç±»åˆ«çš„è¦ç‚¹ä»£ç 

## def __init__ (selfâ€¦)

```
self._headline = headline 
self._publication = publication 
self._date = date 
self._read_time = int(read_time) 
self._claps = int(claps)
self._responses = int(responses)
```

è¿™ä¸ªç±»çš„æ„é€ å‡½æ•°ä¿å­˜äº†æˆ‘ä»¬å°†ä» CSV æ–‡ä»¶ä¸­è·å¾—çš„æœ‰ä»·å€¼çš„æ•°æ®ã€‚è¿™é‡Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„â€¦

## def __str__(self):

__str__ æ–¹æ³•çš„ä»£ç 

æˆ‘å–œæ¬¢åŒ…å«`__str__`æ–¹æ³•ï¼Œè¿™æ ·å¦‚æœæˆ‘éœ€è¦çŸ¥é“å®ƒåŒ…å«ä»€ä¹ˆæ•°æ®ï¼Œæˆ‘å°±å¯ä»¥æ‰“å°å¯¹è±¡æœ¬èº«ã€‚ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡å¹¶æ‰“å°å®ƒï¼Œçœ‹çœ‹æ„é€ å‡½æ•°ä¿å­˜äº†ä»€ä¹ˆæ•°æ®(æˆ–è€…æ‚¨å†³å®šçš„`__str__`åº”è¯¥æ‰“å°çš„ä»»ä½•æ•°æ®)

```
article1 = Article('Super Headline' , 'Super Publication' , '03/19/20' , '6' , '55' , '2')print(article1)
```

![](img/2b0fa94f69d3cb8ce7c95b7e0c0b98f0.png)

æ‰“å°æ–‡ç«  1 çš„è¾“å‡º

## headline_word_count(è‡ªå·±)

è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„æ–¹æ³•å‡½æ•°ï¼Œå¯ä»¥å†™æˆä¸€è¡Œ:

```
return len(self._headline.split())
```

è¿å­—ç¬¦ç»å¸¸å‡ºç°åœ¨æ ‡é¢˜ä¸­ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›å®ƒä»¬å‡ºç°åœ¨æˆ‘ä»¬çš„å­—æ•°ä¸­ã€‚æˆ‘ä»¬å¿…é¡»ç§»é™¤å®ƒã€‚

```
split_headline = self._headline.split()#remove hyphen as it is not a word
        if '-' in split_headline:
            split_headline.remove('-')count = len(split_headline)
        return count
```

å¦ä¸€ç§é€‰æ‹©(å®é™…ä¸Šæˆ‘æ›´å–œæ¬¢)æ˜¯ä½¿ç”¨åˆ—è¡¨ç†è§£:

```
word_list = [word for word in self._headline.split() if word != '-']
return len(word_list)
```

å¯¹äºåˆå­¦è€…æ¥è¯´æœ‰ç‚¹éš¾è¯»ï¼Œæ‰€ä»¥æˆ‘æƒ³æŠŠä¸¤ä¸ªé€‰é¡¹éƒ½åŒ…æ‹¬è¿›æ¥ã€‚

## def headline_include_you(è‡ªå·±)

è¿™ä¸ªæ–¹æ³•çš„åŠŸèƒ½æ˜¯æ£€æŸ¥æ ‡é¢˜ä¸­æ˜¯å¦æœ‰å•è¯â€œyouâ€ã€‚

å¸¦æœ‰â€œä½ â€çš„æ–‡ç« é€šå¸¸å‘ç”¨æˆ·æä¾›ä¸€äº›æç¤ºå’ŒæŠ€å·§ï¼Œæœ‰è¶£çš„æ˜¯ï¼Œçœ‹çœ‹æœ‰å¤šå°‘é¡¶çº§æ–‡ç« ä»¥æŸç§æ–¹å¼ä½¿ç”¨äº†â€œä½ â€ã€‚

```
if 'you' in self._headline.lower():
    return True
return False
```

æˆ‘ä»¬å¯ä»¥åœ¨åå°å¾ªç¯æ¯ä¸ªå•è¯ï¼Œå› ä¸ºæ ‡é¢˜æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æ­£åœ¨æ£€æŸ¥å­—æ¯ç»„åˆâ€œyouâ€æ˜¯å¦åœ¨æ ‡é¢˜ä¸­çš„ä»»ä½•ä½ç½®ã€‚

è¿™æ®µä»£ç ä¹Ÿèƒ½æ•æ‰åƒâ€œä½ è‡ªå·±â€è¿™æ ·çš„è¯ï¼Œä½†æ˜¯å®ƒæœ‰ä¸€ä¸ª**çš„é‡å¤§ç¼ºé™·**ã€‚å®ƒè¿˜å¯ä»¥æ•æ‰åƒâ€œé’å¹´â€ã€â€œyoutubeâ€æˆ–å…¶ä»–åŒ…å«â€œä½ â€ï¸anywhere çš„å•è¯ğŸ¤·ğŸ¼â€â™‚ï¸

æ¥ä¸‹æ¥çš„æ–¹æ³•å°†ä»¥ä¸åŒçš„æ–¹å¼å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚è¿™æ˜¯ä¸€ä¸ªæ›´å®‰å…¨çš„è®¾ç½®ï¼Œæˆ‘ä»¬ä¹Ÿåº”è¯¥ä½¿ç”¨ä½ çš„æ–¹æ³•ã€‚

## def headline_include_i(è‡ªå·±):

è¿™ä¸ªæ–¹æ³•å‡½æ•°ä¸å‰ä¸€ä¸ªæ–¹æ³•å‡½æ•°çš„é€»è¾‘ç›¸åŒï¼Œä½†æ˜¯å®ƒæœ‰ä¸€ä¸ªæˆ‘ä»¬æƒ³è¦æ£€æŸ¥çš„å•è¯çš„é¢„å®šä¹‰åˆ—è¡¨ã€‚

å®ƒå°†æ£€æŸ¥*ã€æˆ‘ã€‘**ã€æˆ‘å·²ç»ã€‘**ã€æˆ‘æ˜¯ã€‘*ã€‚å®ƒä¸ä¼šåƒä¸Šé¢çš„ä¾‹å­é‚£æ ·æ•æ‰ä»…ä»…ä»¥*â€˜Iâ€™*å¼€å¤´çš„å•è¯ï¼Œå› ä¸ºæˆ‘ä»¬é¢„å…ˆå®šä¹‰äº†æˆ‘ä»¬æƒ³è¦ä½¿ç”¨çš„å•è¯åˆ—è¡¨ã€‚

```
i_list = [â€˜Iâ€™,â€™I\â€™mâ€™,â€™I\â€™veâ€™] 
for word in i_list: 
    if word in self._headline.split():
        return True
return False
```

## def headline_wh_words(self):

è¯¥æ–¹æ³•åŠŸèƒ½ä¸ä¸Šé¢çš„æ–¹æ³•åŠŸèƒ½ç›¸åŒã€‚

## def headline_include_num(self):

è¿™ä¸ªæ–¹æ³•å‡½æ•°ä¸å‰ä¸¤ä¸ªå‡ ä¹ç›¸åŒï¼Œä½†æ˜¯å®ƒæœ‰ä¸€ä¸ªé¢å¤–çš„æ­¥éª¤(æ£€æŸ¥å•è¯çš„å­—æ¯ï¼Œè€Œä¸ä»…ä»…æ˜¯å•è¯),ä»¥ç¡®ä¿å®ƒæ•è·åƒâ€œ6+â€è¿™æ ·çš„å•è¯

```
for word in self._headline.split():
    for letter in word:
        #catch words with number concatinated with anything:
        if letter.isdigit():
            return True
    return False
```

## def headline_include_money(è‡ªå·±)

å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ª if è¯­å¥æ¥è¿è¡Œæˆ‘ä»¬å¾ªç¯éå†çš„åˆ—è¡¨ã€‚æˆ‘ä¸èƒ½å†³å®šå“ªä¸ªæ›´æ¼‚äº®ï¼Œä½†å®ƒä»¬éƒ½æ˜¯æœ‰æ•ˆçš„é€‰æ‹©ã€‚

è¿™æ›´çŸ­ï¼Œä½†å¦‚æœè¯­å¥å¤ªé•¿ï¼Œå¯èƒ½æ›´éš¾é˜…è¯»ã€‚

æ ‡é¢˜çš„è¦ç‚¹ä»£ç åŒ…æ‹¬é‡‘é’±

æ³¨æ„ï¼Œæˆ‘å¯¹ç…§`self._headline.lower()`æ£€æŸ¥`money`ï¼Œè¿™æ ·æˆ‘å°±ä¸ç”¨æ‹…å¿ƒåƒâ€˜Moneyâ€™è¿™æ ·çš„å¤§å†™å­—æ¯äº†ã€‚

æˆ‘è¿˜æ£€æŸ¥ç¾å…ƒç¬¦å·,$ï¼Œä»¥åŠå•è¯â€œç¾å…ƒâ€(å› æ­¤ä¹Ÿæ˜¯ç¾å…ƒ)

## æ¯”ç‡æ–¹æ³•

ä»£ç æœ‰ä¸€äº›æ¯”ç‡æ–¹æ³•ï¼Œæ£€æŸ¥æ¯åˆ†é’Ÿé¼“æŒå’Œå“åº”çš„æ¯”ç‡ã€‚

## è·å–æ–¹æ³•

get æ–¹æ³•ç”¨äºè¿”å›æˆ‘ä»¬ä»¥åå¯èƒ½éœ€è¦çš„ä»»ä½•ä¸œè¥¿ï¼Œæ¯”å¦‚æ‰€æœ‰çš„æ„é€ å‡½æ•°å˜é‡ã€‚

# åˆ†æ(main.py)

![](img/020ae8338dfbd7c97288285d1d28d4ce.png)

å›¾ç‰‡æ¥è‡ª [Pixabay](https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=3614766) ç”± [janjf93](https://pixabay.com/users/janjf93-3084263/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=3614766) æ‹æ‘„

æ˜¯æ—¶å€™å†™ä¸€ä¸ªä¸»å·¥å…·ï¼Œè§£å†³æˆ‘ä»¬å¯èƒ½æœ‰çš„æ‰€æœ‰åˆ†æé—®é¢˜äº†ã€‚

ä¸»æ–‡ä»¶çš„ç»“æ„æ˜¯è¿™æ ·è®¾ç½®çš„:

*   å°†æ•°æ®ä½œä¸º`Article`å¯¹è±¡æ·»åŠ åˆ°æ–‡ç« åˆ—è¡¨çš„ CSV é˜…è¯»å™¨
*   æŸœå°ã€‚è¿™äº›æ–¹æ³•æ£€æŸ¥æ‰€æœ‰æ–‡ç« å¹¶è¿”å›è®¡æ•°æ•°æ®ã€‚(ä¾‹å¦‚ï¼Œæœ€é•¿çš„æ ‡é¢˜ã€å¹³å‡å­—æ•°ã€åŒ…å«â€œæ‚¨â€çš„æ–‡ç« æ•°é‡ç­‰ã€‚)
*   `read_time`å…·ä½“æ–¹æ³•ã€‚å…¶ä¸­ä¸€äº›ä¹Ÿæ˜¯è®¡æ•°å™¨ã€‚
*   äº§å‡ºã€‚è¿™äº›æ–¹æ³•åªæ˜¯è¾“å‡ºæˆ‘ä»¬æƒ³è¦çœ‹åˆ°çš„æ•°æ®ã€‚

åœ¨æˆ‘ä»¬æµè§ˆä»£ç ä¹‹å‰ï¼Œè¿™é‡Œæ˜¯:

main.py çš„è¦ç‚¹ä»£ç 

## def read_csv(æ–‡ä»¶):

è¿™é‡Œå¹¶æ²¡æœ‰å‘ç”Ÿå¤ªå¤šçš„äº‹æƒ…ã€‚æˆ‘ä»¬å‘è¿‡ç¨‹ä¼ é€’ä¸€ä¸ªæ–‡ä»¶åï¼Œè¿‡ç¨‹ä½¿ç”¨`csv.reader`è¯»å–å®ƒã€‚

æˆ‘ä»¬ä½¿ç”¨`next(datareader)`æ¥è·³è¿‡æ ‡é¢˜ï¼Œç„¶åå¾ªç¯éå†è¿™äº›è¡Œï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°`article_list`ä¸­ã€‚è¿™å°†æ˜¯æˆ‘ä»¬å‰©ä½™ç¨‹åºçš„æ•°æ®ã€‚

csv é˜…è¯»å™¨çš„è¦ç‚¹ä»£ç ã€‚

## è®¡æ•°å™¨:

æ‰€æœ‰è®¡æ•°å™¨çš„è®¾ç½®éƒ½éå¸¸ç›¸ä¼¼ã€‚æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªè®¡æ•°å™¨ï¼Œéå†æ–‡ç« å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨æ–‡ç« æ–¹æ³•é€’å¢è®¡æ•°å™¨ã€‚

æ¥è‡ª`headlines_wiht_i()`çš„ç¤ºä¾‹

```
i_count = 0
    for article in article_list:
        if article.headline_include_i():
            i_count +=1return i_count
```

## def headline_median_word_count():

è¿™æ˜¯è®¾ç½®ç¨æœ‰ä¸åŒçš„è®¡æ•°å™¨ä¹‹ä¸€ã€‚åœ¨ä½¿ç”¨`statistics.median`æ–¹æ³•å¯»æ‰¾ä¸­ä½æ•°ä¹‹å‰ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ—è¡¨ç†è§£æ¥å¡«å……æ ‡é¢˜å­—æ•°åˆ—è¡¨ã€‚

```
word_count_list = [words.headline_word_count() for words in article_list]word_count_median = statistics.median(word_count_list)
return word_count_median
```

## def è¯»å–æ—¶é—´æ‘˜è¦():

read_time_summary çš„è¦ç‚¹ä»£ç 

æˆ‘æƒ³ä¸º read_time æ•°æ®åˆ›å»ºä¸€ä¸ªå­—å…¸ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥çŸ¥é“ä¸€ç¯‡ X åˆ†é’Ÿçš„æ–‡ç« å†™äº†å¤šå°‘æ¬¡ã€‚

å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªè¿™æ ·çš„åˆ—è¡¨:
read _ time:5
read _ time:9
read _ time:2
read _ time:5
read _ time:4
read _ time:3
read _ time:3

è¯¥å­—å…¸å°†å¦‚ä¸‹æ‰€ç¤º:

read_time_dict ={2:1ï¼Œ3:2ï¼Œ4:1ï¼Œ5:2ï¼Œ9:1}

è¿™æ„å‘³ç€ 2 åˆ†é’Ÿçš„æ–‡ç« è¢«å‘ç° 1 æ¬¡ï¼Œ3 åˆ†é’Ÿçš„æ–‡ç« è¢«å‘ç° 2 æ¬¡ï¼Œä»¥æ­¤ç±»æ¨ã€‚

æˆ‘ä»¬å¿«é€Ÿæ£€æŸ¥ read_time é”®æ˜¯å¦å·²ç»åœ¨å­—å…¸ä¸­ã€‚å¦‚æœä¸æ˜¯ï¼Œæˆ‘ä»¬å°±åˆ›å»ºå®ƒã€‚å¦‚æœå®ƒç¡®å®å­˜åœ¨ï¼Œæˆ‘ä»¬å°±å¢åŠ å®ƒã€‚

æœ‰äº†è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•æ—¶å€™è¯·æ±‚ read_time æ•°æ®çš„æ¦‚è§ˆã€‚

## def å¹³å‡è¯»å–æ—¶é—´():

ä½¿ç”¨ read_time_summary()å­—å…¸ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å¾—åˆ°å¹³å‡è¯»å–æ—¶é—´å€¼ã€‚

```
read_sum = 0
    read_time_extract = read_time_summary()
    for key,value in read_time_extract.items():
        minutes = key*value
        read_sum += minutes
    return read_sum/len(article_list)
```

## def ä¸­å€¼è¯»å–æ—¶é—´():

ä¸ºäº†æ‰¾åˆ°ä¸­å€¼ read_timeï¼Œæˆ‘ä»¬å†æ¬¡ä½¿ç”¨`statistics.median`å‡½æ•°ã€‚è¯¥å‡½æ•°éœ€è¦ä¸€ä¸ªåˆ—è¡¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä½¿ç”¨`read_time_summary`å‡½æ•°æ¥åˆ›å»ºè¿™ä¸ªåˆ—è¡¨å¹¶è¿”å›ä¸­å€¼ã€‚

```
read_time_list = []
    read_time_dict = read_time_summary()
    for key,value in read_time_dict.items():
        for iteration in range(0,value):
            read_time_list.append(key)read_time_median = statistics.median(read_time_list)
    return read_time_median
```

## å®šä¹‰ publication_summary():

`publication_summary`ä¸`read_time_summary`çš„é€»è¾‘ç›¸åŒ

# è¾“å‡º:

![](img/b8668ed1eb46a52d88441f2aec996e97.png)

ç…§ç‰‡ç”± [AG Z](https://www.pexels.com/@ag-z-1866835?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) ä» [Pexels](https://www.pexels.com/photo/grayscale-photo-of-person-standing-while-holding-a-newspaper-3483786/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) æ‹æ‘„

æ˜¯æ—¶å€™è¾“å‡ºäº†ã€‚äº§å‡ºæ˜¯æˆ‘ä»¬æœ¬è´¨ä¸Šæ‰€è¿½æ±‚çš„ã€‚è¿™æ˜¯æˆ‘ä»¬æ•°æ®çš„è¡¨ç¤ºã€‚

æˆ‘å·²ç»æŠŠä¸åŒçš„è¾“å‡ºå†™æˆäº†ç¨‹åºï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥éšå¿ƒæ‰€æ¬²åœ°æ‰“å¼€å’Œå…³é—­å®ƒä»¬ã€‚

æœ‰ä¸¤ç§è¾“å‡ºç»“æ„ã€‚

*   **åˆ—è¡¨è¾“å‡º:**

åˆ—è¡¨è¾“å‡ºçš„å…¬å¼å¦‚ä¸‹:

```
header
information : {data}
```

*   **è¡¨æ ¼è¾“å‡º:**

è¡¨æ ¼ç”¨`tabulate`æ–¹æ³•è¾“å‡ºæ‰“å°æ•°æ®

```
header1 - header2 - header3
-data1-----data2-----data3--
```

ä»¥ä¸‹æ˜¯è¾“å‡ºç¨‹åºåŠå…¶ç»ˆç«¯æ‰“å°è¡¨ç¤º

## def è¾“å‡ºè¯»å–æ—¶é—´æ•°æ®():

è¾“å‡º _ è¯»å– _ æ—¶é—´ _ æ•°æ®ä»£ç 

![](img/0f5de8f9ea6580b1582b38453d6a39e1.png)

è¾“å‡º _ è¯»å– _ æ—¶é—´ _ æ•°æ®ç»ˆç«¯æ‰“å°

## def è¾“å‡ºå‘å¸ƒæ•°æ®():

è¿™æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡ä½¿ç”¨`tabulate`æ–¹æ³•ã€‚å½“æˆ‘ä»¬éå† publication_dict æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é”®å’Œå€¼æ¥åˆ›å»ºæˆ‘ä»¬å‘é€ç»™åˆ¶è¡¨æ–¹æ³•çš„åˆ—è¡¨ã€‚

```
publication_dict = publication_summary()
    #create list to print.
    table_representation_list = []
    for key,value in publication_dict.items():
        publication_table = [key,value]
        table_representation_list.append(publication_table)
```

æˆ‘ä»¬è¿˜æƒ³åœ¨å±•ç¤ºä¹‹å‰å¯¹å…¶è¿›è¡Œæ’åºã€‚

```
sort_table = sorted(table_representation_list , key=lambda x: x[1],reverse= True)
```

`tabulate`è®©æˆ‘ä»¬å®šä¹‰æ ‡é¢˜å’Œè¡¨æ ¼æ ·å¼ã€‚æœ‰å¾ˆå¤šå¥½çœ‹çš„æ¡Œå­æ¬¾å¼ã€‚è¿™ä¸ªå·¥å…·æˆ‘ç”¨çš„æ˜¯ fancy_gridã€‚

```
print (tabulate(sort_table, headers= ['Publication' , 'Articles'],tablefmt="fancy_grid"))
```

æˆ‘å»ºè®®ä½ åœ¨è¿™é‡Œçœ‹çœ‹æ‰€æœ‰çš„é€‰æ‹©:

[åˆ¶è¡¨æ ·å¼æ ¼å¼é€‰æ‹©](https://pypi.org/project/tabulate/)

è¾“å‡º _ å‘å¸ƒ _ æ•°æ®ä»£ç 

![](img/b87f3e850b27b8cf9560bff6496109b9.png)

è¾“å‡º _ å‡ºç‰ˆ _ æ•°æ®ç»ˆç«¯æ‰“å°

## def è¾“å‡ºæ ‡é¢˜æ•°æ®():

è¾“å‡º _ æ ‡é¢˜ _ æ•°æ®ä»£ç 

![](img/d0f444d72e6e7122fa8f40df7d8985c5.png)

è¾“å‡º _ æ ‡é¢˜ _ æ•°æ®ç»ˆç«¯æ‰“å°

## def è¾“å‡ºæ—¥æœŸæ•°æ®():

è¿™ä¸ªè¿‡ç¨‹å¤„ç†æ—¥æœŸã€‚æˆ‘ä»¬æƒ³çœ‹çœ‹ä½œè€…æ¯æœˆå†™å¤šå°‘æ–‡ç« ã€‚æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª dictï¼Œä»¥æœˆä»½ä½œä¸ºé”®ï¼Œä»¥è¯¥æœˆå†™çš„æ–‡ç« æ•°é‡ä½œä¸ºå€¼ã€‚è¿™æ ·æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰¾åˆ°å¹³å‡å€¼ã€‚è¶…çº§ä¿çš®ğŸ‘ğŸ¼

ä¸ºäº†è®©è¿™ä¸ªç¨‹åºæ›´å®¹æ˜“ä½¿ç”¨ï¼Œæˆ‘å†³å®šæ¯æœˆè®¾å®š 4 å‘¨ã€‚å¦‚æœä½ è®¾ç½®ä¸€ä¸ªæ—¥/æœˆå­—å…¸{'Jan':31ï¼Œ' Feb':28â€¦}ï¼Œä½ å¯ä»¥å¾—åˆ°ä¸€ä¸ªå®Œç¾çš„è®¡ç®—ã€‚

è¾“å‡ºæ—¥æœŸæ•°æ®ä»£ç 

![](img/4a848f56c1d67ea3bc302785c531d3c2.png)

è¾“å‡ºæ—¥æœŸæ•°æ®ç»ˆç«¯æ‰“å°

## def è¾“å‡º _ æ–‡ç«  _ æ•°æ®():

æˆ‘å¹¶ä¸ç»å¸¸ä½¿ç”¨è¿™ä¸ªè¿‡ç¨‹ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•ï¼Œå¯ä»¥æ”¶é›†æ¯ç¯‡æ–‡ç« çš„ä¿¡æ¯å¹¶æ‰“å°å‡ºæ¥ï¼Œè¿™æ ·ä½ å°±å¯ä»¥æ›´ä»”ç»†åœ°æ£€æŸ¥å®ƒä»¬ã€‚

è¾“å‡º _ å•†å“ _ æ•°æ®ä»£ç 

![](img/106c86142aedd8c0bdecf7938350e7ab.png)

è¾“å‡º _ æ–‡ç«  _ æ•°æ®ç»ˆç«¯æ‰“å°

## def è¾“å‡º _ ç‰µå¼•åŠ› _ æ•°æ®():

ä¸å‰é¢çš„ç¨‹åºä¸€æ ·ï¼Œç‰µå¼•åŠ›æ•°æ®ç”¨äºæ£€æŸ¥ç‰©å“ã€‚

å®ƒæ ¹æ®æ¯åˆ†é’Ÿçš„é¼“æŒæ¬¡æ•°å’Œæ¯åˆ†é’Ÿçš„å“åº”æ¬¡æ•°ä¸ºæ–‡ç« åˆ†é…ä¸€ä¸ª*åˆ†æ•°*ã€‚

è¾“å‡º _ ç‰µå¼•åŠ› _ æ•°æ®ä»£ç 

![](img/da29a00e6abea6e5eee4881d349003b2.png)

è¾“å‡º _ ç‰µå¼• _ æ•°æ®ç»ˆç«¯æ‰“å°

## def top_ten(æ¯”ç‡ç±»å‹):

è¿™ä¸ªç¨‹åºå¤§æ¦‚æœ‰å‡ ç§å†™æ³•ã€‚å¦‚æœä½ çŸ¥é“æ›´å¥½çš„æ–¹æ³•ï¼Œè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚æˆ‘ç›¸ä¿¡è¿™æ˜¯å¯ä»¥ä¼˜åŒ–çš„ã€‚

è¿™ä¸ªè¿‡ç¨‹æ ¹æ®é¼“æŒç‡(æ¯åˆ†é’Ÿé˜…è¯»æ—¶é—´ä½ å¾—åˆ°å¤šå°‘æ¬¡é¼“æŒ)æˆ–å“åº”ç‡(æ¯åˆ†é’Ÿé˜…è¯»æ—¶é—´ä½ å¾—åˆ°å¤šå°‘æ¬¡å“åº”)è¾“å‡ºä¸€ä¸ªåŒ…å«**å‰ 10 ç¯‡**æ–‡ç« çš„è¡¨æ ¼ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬ç”¨æ–‡ç« å¡«å……ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­æˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªåŒ…å«æ ‡é¢˜(ä½œä¸ºæ ‡è¯†ç¬¦)å’Œæ¯”ç‡å€¼çš„å…ƒç»„ã€‚

å¯¹ç”µè·¯æ¿è¿›è¡Œæ’åºæ˜¯é€šè¿‡æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨çš„ä¸€è¡Œæ¼‚äº®çš„å°ä»£ç æ¥å®Œæˆçš„:

```
sorted_board = sorted(ratio_board , key=lambda x: x[1], reverse=True)
```

æœ‰äº†æ’åºæ¿ï¼Œæˆ‘ä»¬åªéœ€è¦å‰ 10 ç¯‡æ–‡ç« :

```
sorted_board = sorted_board[0:10]
```

ç„¶åä½¿ç”¨åˆ¶è¡¨æ¥è¾“å‡ºè¡¨æ ¼ã€‚

åå¤§ä»£ç 

![](img/bab3c6f433a6dfd3508c1c1680a6ab71.png)

åå¤§ç»ˆç«¯æ‰“å°â€”æ‹æ‰‹

![](img/ccec8621448c3a5c7452b713d04dc01d.png)

å‰ååç»ˆç«¯æ‰“å°-å“åº”

## def é­”æ³•å…¬å¼():

æœ€åçš„ç¨‹åºï¼çœŸæ­£çš„ç¥å¥‡å…¬å¼ã€‚è¿™ä½¿ç”¨äº†å‰ 10 ä¸ªé€»è¾‘ä¸­çš„å¤§éƒ¨åˆ†ï¼Œçœ‹èµ·æ¥éå¸¸ç›¸ä¼¼ã€‚

é­”æœ¯å…¬å¼ä»£ç 

ä¸€ç¯‡å¥½æ–‡ç« çš„æ‰€æœ‰æœ‰ä»·å€¼çš„åˆ†ææ•°æ®éƒ½åœ¨è¿™ä¸ªè¡¨ä¸­ã€‚æ˜¯åˆ©ç”¨å¥½è¿™äº›æ•°æ®ï¼Œè¿˜æ˜¯åªæ˜¯ä¸ºäº†å¥½ç©è€Œé˜…è¯»ï¼Œè¿™å–å†³äºæˆ‘ä»¬ã€‚

![](img/a18f7fc1c0da190431c05a68d55a6824.png)

é­”æœ¯å…¬å¼ç»ˆç«¯æ‰“å°

## def analyse_writer(æ•°æ®é›†):

è¿™ä¸ªè¿‡ç¨‹æ‰§è¡Œæˆ‘ä»¬æƒ³è¦çš„æ‰€æœ‰è¾“å‡ºã€‚è¿™ç§è®¾ç½®æ–¹å¼ä½¿å¾—æ•…éšœæ’é™¤éå¸¸å®¹æ˜“ã€‚åªéœ€æ³¨é‡Šæ‰ä½ å·²ç»å®Œæˆçš„éƒ¨åˆ†ï¼Œå¹¶ä¸“æ³¨äºä½ æ­£åœ¨åšçš„éƒ¨åˆ†ã€‚

```
def analyse_writer(dataset):
    '''
    Procedure that reads the CSV file and
    outputs all data.
    '''
    read_csv(dataset)
    output_article_data()
    output_read_time_data()
    output_date_data()
    output_headline_data()
    output_traction_data()
    output_publication_data()
    top_ten('Claps')
    top_ten('Responses')
    magic_formula()
```

â€¦æœ€å:

```
#execute the tool:
if __name__ == "__main__":
    analyse_writer('analysis_tim_denning.csv')
```

# æœ€å

![](img/d2c78133cf4ee72e22d0356d8209a123.png)

ç…§ç‰‡ç”± [Pexels](https://www.pexels.com/photo/woman-in-red-long-sleeve-writing-on-chalk-board-3769714/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) çš„ [Andrea Piacquadio](https://www.pexels.com/@olly?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) æ‹æ‘„

è¿™ä¸ªé¡¹ç›®åŸºäºæ¯ä¸ªäººéƒ½å¯ä»¥è·å¾—çš„æ–‡ç« æ•°æ®è¾“å‡ºä¸€äº›æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚è¿™é‡Œçš„æ‰€æœ‰æ•°æ®éƒ½åœ¨ä½ å‘ä¸‹æ»šåŠ¨ä½œè€…é¡µé¢æ—¶çœ‹åˆ°çš„æ–‡ç« å¡ç‰‡ä¸­ã€‚

![](img/e026a1d2a8291f79f14743ba53e5895a.png)

å¦‚æœä½ æ˜¯ä¸€åæ•°æ®ç§‘å­¦å®¶ï¼Œä½ ç°åœ¨å¯èƒ½ä¼šå› ä¸ºçœ‹åˆ°æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç†ŠçŒ«å®Œæˆçš„æ‰€æœ‰æ‰‹åŠ¨å·¥ä½œè€Œæµæ³ªï¼Œä½†è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å®éªŒé¡¹ç›®ï¼Œä¸“æ³¨äºç¼–å†™ä¸€äº›å¥½çš„ç¨‹åºå’Œå‡½æ•°ä»¥åŠå¤„ç†çœŸå®æ•°æ®ã€‚

å¦‚æœæˆ‘å†åšä¸€æ¬¡ç±»ä¼¼çš„äº‹æƒ…ï¼Œæˆ‘è‚¯å®šä¼šæŠŠ`pandas`å’Œ`matplotlib`ä¸ç±»ä¼¼`jupyter`çš„ä¸œè¥¿ä¸€èµ·ä½¿ç”¨ã€‚

æˆ‘å¸Œæœ›ä½ å–œæ¬¢è¿™ä¸ªæ—…ç¨‹:)æ‹¿èµ·ä»£ç ï¼Œå’Œä½ æœ€å–œæ¬¢çš„ä½œè€…ä¸€èµ·äº²è‡ªå°è¯•ä¸€ä¸‹ï¼Œç„¶åå‘Šè¯‰æˆ‘æ•ˆæœå¦‚ä½•ã€‚