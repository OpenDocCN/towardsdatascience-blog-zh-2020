<html>
<head>
<title>How to create Latex tables directly from Python code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何直接从 Python 代码创建 Latex 表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-create-latex-tables-directly-from-python-code-5228c5cea09a?source=collection_archive---------7-----------------------#2020-06-30">https://towardsdatascience.com/how-to-create-latex-tables-directly-from-python-code-5228c5cea09a?source=collection_archive---------7-----------------------#2020-06-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3b19" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">将控制台中的结果表复制到 Latex 报告中是一件单调乏味且充满错误的事情——那么为什么不实现自动化呢？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5116dfbba911461936e10507911f5c4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s18xp81pJfv-3I-IUeqXXA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">制作桌子要简单优雅(图片由<a class="ae ky" href="https://unsplash.com/@romanbozhko?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">罗曼·博日科</a>在<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄)。</p></figure><p id="0771" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建结果表在交流数据科学的实验结果方面起着重要作用。在 Python 中生成表格并在控制台输出中绘制它们有各种解决方案，但是如何将它们转换成书面报告呢？通常，这需要一些耗时和令人麻木的复制和粘贴，但有一些更好的解决方案。</p><h1 id="55f6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">用 Python 制作表格</h1><p id="8d47" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Python 有几个库允许你绘制表格。在这篇文章中，我将特别关注两个:<a class="ae ky" href="https://pypi.org/project/tabulate/" rel="noopener ugc nofollow" target="_blank">制表</a>和<a class="ae ky" href="https://pypi.org/project/texttable/" rel="noopener ugc nofollow" target="_blank">文本表格</a>。它们都实现了相同的目标——以尽可能少的麻烦生成格式良好的表格。制表是更受欢迎的图书馆，上个月下载量超过 1000 万次。相比之下，texttable 的用户量不到 200 万(根据 2020 年 6 月底的 PyPi 统计数据):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/b9e3b54c7f8cc0923ee51ef54994a73f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bKRYKUxSoRan0f0JtfhTKA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">table 和 texttable 的下载比较(<a class="ae ky" href="https://pypistats.org/" rel="noopener ugc nofollow" target="_blank"> PyPi Stats </a> 30/06/2020)</p></figure><p id="3076" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这两个库都允许您以特定的样式格式化表格。Texttable 在选择表格设计方面给予用户完全的自主权；可以定制列对齐、标题对齐、表格装饰、列类型，甚至是用于在行列之间画线的字符。制表选择关注预先设计的格式，但是用户仍然可以选择覆盖这些格式。</p><p id="2416" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我个人的偏好是使用 texttable。十有八九，我使用它是因为它是我遇到的第一个创建表的库，但是它还没有让我失望。</p><h1 id="9a37" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">导出到 Latex</h1><p id="d587" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">制表格式主要是为了在其他平台上使用或模仿它们的设计，例如 github、html、psql。其中一种格式允许创建 latex 代码，为您提供可以直接复制并粘贴到 Latex 文档中的文本。工作完成了——这很容易。</p><p id="199f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">比制表更轻量级的 Texttable 没有提供这样的解决方案。然而，作为一个个人的业余项目，我把我的第一个 Python 库放在一起，作为 texttable 的包装器来创建 Latex 表。我创造性地将其命名为<a class="ae ky" href="https://github.com/JAEarly/latextable" rel="noopener ugc nofollow" target="_blank"> latextable </a>，目前它已经在 PyPi 上可用。它提供了与制表 Latex 格式类似的输出，并提供了额外的功能，如匹配 texttable 控制台输出的格式，并允许用户添加表格标题和标签。</p><p id="bb59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用任何一个库都非常简单；它们都做了它们的设计用途，并且有非常相似的用法。对于包含表数据的行列表，表是这样创建的:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="d4db" class="my lw it mu b gy mz na l nb nc">print('Tabulate Table:')<br/>print(tabulate(rows, headers='firstrow'))</span><span id="e128" class="my lw it mu b gy nd na l nb nc">table = Texttable()<br/>table.set_cols_align(["c"] * 4)<br/>table.set_deco(Texttable.HEADER | Texttable.VLINES)<br/>print('\nTexttable Table:')<br/>print(table.draw())</span></pre><p id="dc29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出 Latex 代码同样简单:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="1d36" class="my lw it mu b gy mz na l nb nc">print(‘\nTabulate Latex:’)<br/>print(tabulate(rows, headers=’firstrow’, tablefmt=’latex’))<br/>print(‘\nTexttable Latex:’)<br/>print(latextable.draw_latex(table, caption=”A comparison of rocket features.”))</span></pre><p id="cf1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它给出了下面的 Latex 代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/832da5570304d51de20e6c8ec76ebbab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GyoRZKjfGL_Tg6GN0cHbEw.png"/></div></div></figure><p id="be3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">两种 Latex 输出都可以直接复制到 Latex 文档中，latextable 输出具有自动缩进的优点。控制台输出与渲染 Latex 的比较如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/4dcc8081bf2899adc59bbb005746fea3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SobVYBRXvdtO_y7ROvAsTA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">比较控制台输出(左)和渲染 Latex 输出(右)的制表(上)和 texttable/latextable(下)。</p></figure><p id="92ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我已经在<a class="ae ky" href="https://colab.research.google.com/drive/1Iq10lHznMngg1-Uoo-QtpTPii1JDYSQA?usp=sharing" rel="noopener ugc nofollow" target="_blank">的 Colab 笔记本</a>中提供了这个例子的完整源代码。很可能您仍然需要对 Latex 代码进行一些修改，以得到您想要的样子，但是通过使用这些工具中的一个，您至少不必浪费时间来复制和粘贴东西。这样做的好处是，你在抄写时不会犯任何错误！</p></div></div>    
</body>
</html>