<html>
<head>
<title>Customer Segmentation with K Means Clustering</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于K均值聚类的客户细分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/customer-segmentation-with-kmeans-e499f4ebbd3d?source=collection_archive---------16-----------------------#2020-02-28">https://towardsdatascience.com/customer-segmentation-with-kmeans-e499f4ebbd3d?source=collection_archive---------16-----------------------#2020-02-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6626" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">营销活动不再采用一刀切的方式</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/289463bf8b91eccec99c616780aaed27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_f80A--7CTfl36EEoz6ZlQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@hannah15198?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">汉娜·林</a>在<a class="ae kv" href="https://unsplash.com/s/photos/dogs?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><blockquote class="kw kx ky"><p id="5205" class="kz la lb lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">并非所有的顾客都是平等的。—我(还有许多其他人)</p></blockquote><p id="2199" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">你永远不会像对你的伴侣那样对你的父母说话，也不会像对你的经理那样对你的孩子说话。那么，为什么你的营销团队在你的营销材料中使用一刀切的语言呢？</p><p id="d9c5" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">利用机器学习和人工智能处理大量的消费者历史、网络流量和产品评论，可以对营销活动产生重大影响。通过利用统计和分析工具的力量，可以根据三个简单的行为特征将客户划分为不同的群体，从而影响多渠道营销活动中使用的语言，并提高点击率和转化率。</p><h2 id="118e" class="lz ma iq bd mb mc md dn me mf mg dp mh lw mi mj mk lx ml mm mn ly mo mp mq mr bi translated">你越了解你的顾客，你就越富裕。</h2><p id="0e99" class="pw-post-body-paragraph kz la iq lc b ld ms jr lf lg mt ju li lw mu ll lm lx mv lp lq ly mw lt lu lv ij bi translated">作为客户，你不希望被视为达到目的的手段。你想成为社区的一员。作为一名零售商，你的工作是了解你的顾客，并告诉他们你对他们的了解。不要被动，了解他们的痛点，了解他们的购买习惯，建立信任。收入也会随之而来。</p><h2 id="24b5" class="lz ma iq bd mb mc md dn me mf mg dp mh lw mi mj mk lx ml mm mn ly mo mp mq mr bi translated">市场细分和RFM模型</h2><p id="c84d" class="pw-post-body-paragraph kz la iq lc b ld ms jr lf lg mt ju li lw mu ll lm lx mv lp lq ly mw lt lu lv ij bi translated">一般来说，有四种方法来划分你的消费群:</p><ul class=""><li id="98dd" class="mx my iq lc b ld le lg lh lw mz lx na ly nb lv nc nd ne nf bi translated">人口统计—年龄、性别、社会经济地位</li><li id="5707" class="mx my iq lc b ld ng lg nh lw ni lx nj ly nk lv nc nd ne nf bi translated">地理——他们在世界的什么地方？</li><li id="ce3c" class="mx my iq lc b ld ng lg nh lw ni lx nj ly nk lv nc nd ne nf bi translated">心理分析——寻找结婚戒指，计划买房子</li><li id="a23c" class="mx my iq lc b ld ng lg nh lw ni lx nj ly nk lv nc nd ne nf bi translated"><strong class="lc ir">行为——一旦你的客户到达你的网站，他们会做什么？</strong></li></ul><p id="4d9f" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">谷歌的BigQuery API允许你对谷歌分析数据进行类似SQL的查询。如果你通过谷歌分析账户进行电子商务跟踪，你就可以获得客户的行为数据。该研究是在2016年8月至2017年8月期间对谷歌商品商店的数据进行的。在此期间，超过740，000名不同的人访问了merch商店，购买了11，500件商品，总价值超过200，000美元。</p><p id="1006" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">为了补充我们从谷歌商品商店获得的网络数据，我们将设计一些功能，以便根据RFM模型为每个客户“打分”。该技术采用最近一次购买的最近度(R ),所有购买的频率(F)或计数减1，以及由平均订单金额定义的货币值(M)。</p><h2 id="308b" class="lz ma iq bd mb mc md dn me mf mg dp mh lw mi mj mk lx ml mm mn ly mo mp mq mr bi translated">RFM特色工程</h2><p id="c91f" class="pw-post-body-paragraph kz la iq lc b ld ms jr lf lg mt ju li lw mu ll lm lx mv lp lq ly mw lt lu lv ij bi translated">为了对数据进行分段，您需要从三列开始:唯一的客户id、交易日期和交易金额。我用这个函数将谷歌商店的数据处理成一种我们可以用来建模的格式</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="1baf" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">一旦我们通过这个函数运行我们的数据框架，我们就剩下以下信息:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/a76a992028523aa65789160fc3a67be0.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*qhvostRu8ztQf7O7b_20Yw.png"/></div></figure><p id="ee2a" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">值得注意的是，你的网站可能也有不购物的访问者，但是这种细分方法是针对已经转化的客户的。另一项研究可以——也应该——对那些不购买的人的行为进行研究，这样你就可以提高网站的转化能力。</p><h2 id="a4fc" class="lz ma iq bd mb mc md dn me mf mg dp mh lw mi mj mk lx ml mm mn ly mo mp mq mr bi translated">基于Kmeans的无监督机器学习</h2><p id="e562" class="pw-post-body-paragraph kz la iq lc b ld ms jr lf lg mt ju li lw mu ll lm lx mv lp lq ly mw lt lu lv ij bi translated">既然我们的数据已准备好进行聚类，我们将测试几个聚类级别并比较肘形图中的误差平方和，以确定对每个要素单独进行聚类的最佳级别。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="f935" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">看起来，频率开始在五个集群水平，最近在四或五，收入在四或五。根据您的业务模型，您可能有理由选择较低或较高数量的集群。经过几次反复，我决定了五个频率、四个最近和五个收入。</p><p id="5df3" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">从这里开始，我们将需要一些辅助函数来从最差到最好对集群进行排序，并为每个数据点分配相应的集群。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="96b2" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">结果如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/93404002063d684b7a9321ddff148b52.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*GOeClEWi9ZdWY1uVRP37Eg.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/929d376b2787468819cedafad2633df2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*fNMc_ELmDqRoY58sXtTNLw.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/4500eef17c92996aac971a28e3620e98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*cwqUlwstf_vi73nkCJVItA.png"/></div></figure><ul class=""><li id="608c" class="mx my iq lc b ld le lg lh lw mz lx na ly nb lv nc nd ne nf bi translated">频率——绝大多数客户属于较低的类别，在3到4之间有一个巨大的跳跃，只有一个客户购买超过15次</li><li id="0c97" class="mx my iq lc b ld ng lg nh lw ni lx nj ly nk lv nc nd ne nf bi translated">最近——大多数客户都很不活跃(你真正需要多少件谷歌t恤？)最近的窗口变得越大，聚类分配越好。</li><li id="71a3" class="mx my iq lc b ld ng lg nh lw ni lx nj ly nk lv nc nd ne nf bi translated">收入——绝大多数消费者平均在谷歌商品商店购买了价值17到19美元的商品。这五个收入群分布相当均匀，平均订单支出不超过23美元。</li></ul><p id="fb20" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">我们将通过合计每个聚类的得分来确定总体得分，并由此确定细分分层。</p><pre class="kg kh ki kj gt nr ns nt nu aw nv bi"><span id="8d3c" class="lz ma iq ns b gy nw nx l ny nz">rfm_df[‘OverallScore’] = rfm_df[‘RecencyCluster’] + rfm_df[‘FrequencyCluster’] + rfm_df[‘RevenueCluster’]</span><span id="11ba" class="lz ma iq ns b gy oa nx l ny nz">rfm_df.groupby(‘OverallScore’)[‘Recency’,’Frequency’,’logRevenue’].mean()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/1fbf800ddbfeb8a0f87f6931f76475d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/format:webp/1*euMl0V7oQl1vvAvbqMG63g.png"/></div></div></figure><p id="d359" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">根据你的商业模式，你可能已经有了一定的细分市场。在这里，我把他们分成三组。不活跃、<br/>不频繁、低消费的客户是低价值客户，中值客户高于平均收入，平均收入高于平均收入，最近消费频率高于平均收入，高价值客户属于至少两个特征的上层客户。</p><pre class="kg kh ki kj gt nr ns nt nu aw nv bi"><span id="4898" class="lz ma iq ns b gy nw nx l ny nz"># Naming and defining segments<br/>rfm_df[‘Segment’] = 0<br/>rfm_df.loc[rfm_df[‘OverallScore’]&gt;4,’Segment’] = 1 <br/>rfm_df.loc[rfm_df[‘OverallScore’]&gt;6,’Segment’] = 2</span></pre><p id="8066" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">现在来看看每个集群，看看我们做得有多好:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/d2b14b190e2580728984c204b471bf9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*2SyOFCjd6xKG3Gblks3YVQ.png"/></div></figure><p id="d8f5" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">看看那些轮廓优美的集群！</p><p id="29db" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">从该图中，我们可以看到，有些客户并没有花很多钱，但是经常访问该网站，并且最近进行了购买，这也属于高价值类别。分数似乎被非常不频繁的购买或很久以前的最后一次购买拉低了。</p></div><div class="ab cl od oe hu of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="ij ik il im in"><p id="9c74" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">从这里，你可以将这些信息传递给你的营销团队，或者如果你是营销团队，使用这些信息为针对每个客户特定购买行为的电子邮件营销活动或广告设计语言。您已经播下了种子，现在看看您的收入如何增长吧！</p></div></div>    
</body>
</html>