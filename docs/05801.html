<html>
<head>
<title>How machine learning can predict the price of the diamond you desire to buy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æœºå™¨å­¦ä¹ å¦‚ä½•é¢„æµ‹ä½ æƒ³è¦è´­ä¹°çš„é’»çŸ³çš„ä»·æ ¼</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/predicting-diamond-prices-using-basic-measurement-metrics-bc8ba821c8f6?source=collection_archive---------48-----------------------#2020-05-13">https://towardsdatascience.com/predicting-diamond-prices-using-basic-measurement-metrics-bc8ba821c8f6?source=collection_archive---------48-----------------------#2020-05-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c6cd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">ä½¿ç”¨åŸºæœ¬æµ‹é‡æŒ‡æ ‡é¢„æµ‹é’»çŸ³ä»·æ ¼ã€‚</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ac7aeee126ec436c9f6beddb7f22745b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VQbogBPJUxpT32a-"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">ç”±<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šçš„<a class="ae kv" href="https://unsplash.com/@chuttersnap?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> chuttersnap </a>æ‹æ‘„</p></figure><h1 id="1d7a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ä»‹ç»</h1><p id="bb70" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">æˆ‘æƒ³ä¸€æœ‰è¶³å¤Ÿçš„é’±å°±ç»™æˆ‘å¦ˆå¦ˆä¹°ä¸€æšé’»çŸ³æˆ’æŒ‡ã€‚å‰å‡ å¤©ï¼Œæˆ‘åœ¨è°·æ­Œä¸Šæœç´¢äº†å®ƒçš„ä»·æ ¼ï¼Œä½†æˆ‘ä¸çŸ¥é“æ˜¯ä»€ä¹ˆæŒ‡æ ‡æ¨åŠ¨äº†è¿™äº›ä»·æ ¼ã€‚å› æ­¤ï¼Œæˆ‘å†³å®šåº”ç”¨ä¸€äº›æœºå™¨å­¦ä¹ æŠ€æœ¯æ¥æ‰¾å‡ºæ˜¯ä»€ä¹ˆæ¨åŠ¨äº†ä¸€æšå®Œç¾æ— ç‘•çš„é’»çŸ³æˆ’æŒ‡çš„ä»·æ ¼ï¼</p><h1 id="c8ae" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ç›®æ ‡</h1><p id="0b0a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">æ„å»ºä¸€ä¸ªwebåº”ç”¨ç¨‹åºï¼Œç”¨æˆ·å¯ä»¥åœ¨å…¶ä¸­æŸ¥æ‰¾ä»–ä»¬æƒ³è¦çš„é’»çŸ³çš„é¢„æµ‹ä»·æ ¼ã€‚</p><h1 id="740f" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">æ•°æ®</h1><p id="899b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">å¯¹äºè¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä½¿ç”¨äº†GitHubä¸Špycaretçš„datasetæ–‡ä»¶å¤¹ä¸­çš„ä¸€ä¸ª<a class="ae kv" href="https://github.com/pycaret/pycaret/blob/master/datasets/diamond.csv" rel="noopener ugc nofollow" target="_blank">æ•°æ®é›†</a>ï¼Œæ‰§è¡Œäº†æ•°æ®é¢„å¤„ç†è½¬æ¢ï¼Œå¹¶å»ºç«‹äº†ä¸€ä¸ªå›å½’æ¨¡å‹ï¼Œä»¥ä½¿ç”¨åŸºæœ¬çš„é’»çŸ³æµ‹é‡æŒ‡æ ‡æ¥é¢„æµ‹é’»çŸ³çš„ä»·æ ¼(326ç¾å…ƒè‡³18ï¼Œ823ç¾å…ƒ)ã€‚æ•°æ®é›†ä¸­çš„æ¯é¢—é’»çŸ³éƒ½æœ‰ä¸€ä¸ªä»·æ ¼ã€‚é’»çŸ³çš„ä»·æ ¼ç”±7ä¸ªè¾“å…¥å˜é‡å†³å®š:</p><ol class=""><li id="ce3f" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj mr ms mt mu bi translated"><strong class="lq ir">å…‹æ‹‰é‡é‡</strong>:0.2åƒå…‹-5.01åƒå…‹</li><li id="9217" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated">åˆ‡å‰²:ä¸€èˆ¬ã€è‰¯å¥½ã€éå¸¸å¥½ã€ä¼˜è´¨ã€ç†æƒ³</li><li id="066c" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><strong class="lq ir">é¢œè‰²</strong>:ä»J(æœ€å·®)åˆ°D(æœ€å¥½)</li><li id="c594" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><strong class="lq ir">æ¸…æ™°åº¦</strong> : I1(æœ€å·®)ã€SI2ã€SI1ã€VS2ã€VS1ã€VVS2ã€VVS1ã€IF(æœ€å¥½)</li><li id="9641" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><strong class="lq ir">æ³¢å…°</strong> : ID(ç†æƒ³)ã€EX(ä¼˜ç§€)ã€G(è‰¯å¥½)ã€VG(éå¸¸å¥½)</li><li id="3c04" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><strong class="lq ir">å¯¹ç§°æ€§</strong> : ID(ç†æƒ³)ï¼ŒEX(ä¼˜ç§€)ï¼ŒG(è‰¯å¥½)ï¼ŒVG(éå¸¸å¥½)</li><li id="63e2" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><strong class="lq ir">æŠ¥å‘Š</strong> : AGSL(ç¾å›½å®çŸ³åä¼šå®éªŒå®¤)ã€GIA(ç¾å›½å®çŸ³å­¦é™¢)</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi na"><img src="../Images/4c8ed82d43f2238530c422b295f2182a.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*R75fqXl3B500vg8nl_xyTA.jpeg"/></div></figure><h1 id="c997" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ğŸ‘‰ä»»åŠ¡</h1><ol class=""><li id="0967" class="mk ml iq lq b lr ls lu lv lx nb mb nc mf nd mj mr ms mt mu bi translated"><strong class="lq ir">æ¨¡å‹è®­ç»ƒå’ŒéªŒè¯:</strong>ä½¿ç”¨Python ( <a class="ae kv" href="https://www.pycaret.org/" rel="noopener ugc nofollow" target="_blank"> PyCaret </a>)è®­ç»ƒã€éªŒè¯æ¨¡å‹ï¼Œå¹¶å¼€å‘ç”¨äºéƒ¨ç½²çš„æœºå™¨å­¦ä¹ ç®¡é“ã€‚</li><li id="4d78" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><strong class="lq ir">å‰ç«¯Webåº”ç”¨:</strong>æ„å»ºä¸€ä¸ªåŸºæœ¬çš„HTMLå‰ç«¯ï¼Œå¸¦æœ‰è‡ªå˜é‡(å…‹æ‹‰é‡é‡ã€åˆ‡å·¥ã€é¢œè‰²ã€å‡€åº¦ã€æŠ›å…‰åº¦ã€å¯¹ç§°æ€§ã€æŠ¥å‘Š)çš„è¾“å…¥è¡¨å•ã€‚</li><li id="8415" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><strong class="lq ir">åç«¯Webåº”ç”¨:</strong>ä½¿ç”¨<a class="ae kv" href="https://flask.palletsprojects.com/en/1.1.x/" rel="noopener ugc nofollow" target="_blank">çƒ§ç“¶</a> <strong class="lq ir"> </strong>æ¡†æ¶ã€‚</li><li id="eb54" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><strong class="lq ir">éƒ¨ç½²webåº”ç”¨ç¨‹åº:</strong>ä½¿ç”¨<a class="ae kv" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank"> Heroku </a>ï¼Œ<strong class="lq ir"> </strong>ä¸€æ—¦éƒ¨ç½²ï¼Œå®ƒå°†å…¬å¼€å¯ç”¨ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡Web URLè®¿é—®ã€‚</li></ol><h1 id="4616" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ğŸ’»é¡¹ç›®å·¥ä½œæµç¨‹</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/0feb05ae62b928fdfa3d9f0bb2e52ef8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FjY7vxjIMooJNIomOFbglQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">æœºå™¨å­¦ä¹ å·¥ä½œæµç¨‹(ä»åŸ¹è®­åˆ°PaaSéƒ¨ç½²)</p></figure><h1 id="7ce6" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ä»»åŠ¡1 â€”æ¨¡å‹è®­ç»ƒå’ŒéªŒè¯</h1><p id="0d76" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">ä½¿ç”¨PyCaretåœ¨Python (Jupyterç¬”è®°æœ¬)ä¸­è¿›è¡Œæ¨¡å‹è®­ç»ƒå’ŒéªŒè¯ï¼Œä»¥å¼€å‘æœºå™¨å­¦ä¹ ç®¡é“å¹¶è®­ç»ƒå›å½’æ¨¡å‹ã€‚æˆ‘ä½¿ç”¨PyCaretä¸­çš„é»˜è®¤é¢„å¤„ç†è®¾ç½®ã€‚</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="e269" class="nk kx iq ng b gy nl nm l nn no">from <strong class="ng ir">pycaret.regression import</strong> *</span><span id="b1ec" class="nk kx iq ng b gy np nm l nn no">s2 = setup(data, target = 'Price', session_id = 123,<br/>           normalize = <strong class="ng ir">True</strong>,<br/>           polynomial_features = <strong class="ng ir">True</strong>, trigonometry_features = <strong class="ng ir">True</strong>, feature_interaction=<strong class="ng ir">True</strong>, <br/>           bin_numeric_features= ['Carat Weight']</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/80ffcf161946e07314cfab911c61d8e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/format:webp/1*H4tGL_NWnPZFfwouYfFf7w.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">æ•°æ®é›†ä¸­è½¬æ¢çš„æ¯”è¾ƒ</p></figure><p id="ce58" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx nr lz ma mb ns md me mf nt mh mi mj ij bi translated">è¿™æ”¹å˜äº†æ•°æ®é›†ï¼Œå‡å°‘åˆ°65ä¸ªç”¨äºè®­ç»ƒçš„ç‰¹å¾ï¼Œè€ŒåŸå§‹æ•°æ®é›†ä¸­åªæœ‰8ä¸ªç‰¹å¾ã€‚</p><p id="a318" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx nr lz ma mb ns md me mf nt mh mi mj ij bi translated">PyCaretä¸­çš„æ¨¡å‹è®­ç»ƒå’ŒéªŒè¯:</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="d426" class="nk kx iq ng b gy nl nm l nn no"># Model Training and Validation <br/>lr = <strong class="ng ir">create_model</strong>('lr')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/f382f0c5589839459ee870d1c3d2e654.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*FwCeBalylPwLsbmVOyV7Ig.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">çº¿æ€§å›å½’æ¨¡å‹çš„10å€äº¤å‰éªŒè¯</p></figure><p id="f932" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx nr lz ma mb ns md me mf nt mh mi mj ij bi translated">åœ¨è¿™é‡Œï¼Œå‡æ–¹æ ¹è¯¯å·®(<strong class="lq ir"> RMSE </strong>)å’Œå¹³å‡ç»å¯¹ç™¾åˆ†æ¯”è¯¯å·®(<strong class="lq ir"> MAPE </strong>)å—åˆ°äº†æ˜¾è‘—å½±å“ã€‚</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="e656" class="nk kx iq ng b gy nl nm l nn no"># plot the trained model<strong class="ng ir"><br/></strong>plot_model(lr)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/3cacdcd26d24583dcec5e0fadbd95283.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/format:webp/1*DYkg3lccdCl4BLPvHrD3_w.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">çº¿æ€§å›å½’æ¨¡å‹çš„æ®‹å·®å›¾</p></figure><p id="77f6" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx nr lz ma mb ns md me mf nt mh mi mj ij bi translated">æ„å»ºæ¨¡å‹åï¼Œæˆ‘å°†å®ƒä¿å­˜ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¯ä»¥ä¼ è¾“åˆ°å…¶ä»–åº”ç”¨ç¨‹åºå¹¶ä¾›å…¶ä½¿ç”¨:</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="f650" class="nk kx iq ng b gy nl nm l nn no"># save transformation pipeline and model <br/>save_model(lr, 'deployment_28042020')</span></pre><p id="7e06" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx nr lz ma mb ns md me mf nt mh mi mj ij bi translated">ä¿å­˜æ¨¡å‹ä¼šæ ¹æ®åœ¨<strong class="lq ir"> setup() </strong>å‡½æ•°ä¸­å®šä¹‰çš„é…ç½®åˆ›å»ºæ•´ä¸ªè½¬æ¢ç®¡é“ï¼Œå¹¶ä¸”ä¼šè€ƒè™‘åˆ°ç›¸äº’ä¾èµ–å…³ç³»ã€‚æ•´ä¸ªæœºå™¨å­¦ä¹ ç®¡é“å’Œçº¿æ€§å›å½’æ¨¡å‹ç°åœ¨ä¿å­˜åœ¨<strong class="lq ir"> save_model() </strong>å‡½æ•°ä¸­ã€‚</p><h1 id="99c0" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ä»»åŠ¡2 â€” <strong class="ak">å‰ç«¯Webåº”ç”¨</strong></h1><p id="9fef" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><strong class="lq ir"> CSSæ ·å¼è¡¨<br/> </strong> CSS(å±‚å æ ·å¼è¡¨)æè¿°äº†ç”¨HTMLç¼–å†™çš„æ–‡æ¡£çš„å‘ˆç°æ–¹å¼ã€‚å®ƒä¿å­˜è¯¸å¦‚é¢œè‰²ã€å­—ä½“å¤§å°ã€è¾¹è·ç­‰ä¿¡æ¯ã€‚å®ƒè¢«ä¿å­˜ä¸ºé“¾æ¥åˆ°HTMLä»£ç çš„. cssæ–‡ä»¶ã€‚</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="b814" class="nk kx iq ng b gy nl nm l nn no">&lt;head&gt;<br/>  &lt;meta charset="UTF-8"&gt;<br/>  &lt;title&gt;Predict Diamond Price&lt;/title&gt;<br/>  &lt;link href='<a class="ae kv" href="https://fonts.googleapis.com/css?family=Pacifico'" rel="noopener ugc nofollow" target="_blank">https://fonts.googleapis.com/css?family=Pacifico'</a> rel='stylesheet' type='text/css'&gt;<br/>&lt;link href='<a class="ae kv" href="https://fonts.googleapis.com/css?family=Arimo'" rel="noopener ugc nofollow" target="_blank">https://fonts.googleapis.com/css?family=Arimo'</a> rel='stylesheet' type='text/css'&gt;<br/>&lt;link href='<a class="ae kv" href="https://fonts.googleapis.com/css?family=Hind:300'" rel="noopener ugc nofollow" target="_blank">https://fonts.googleapis.com/css?family=Hind:300'</a> rel='stylesheet' type='text/css'&gt;<br/>&lt;link href='<a class="ae kv" href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300'" rel="noopener ugc nofollow" target="_blank">https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300'</a> rel='stylesheet' type='text/css'&gt;<br/>&lt;link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='./style.css') }}"&gt;<br/>  <br/>&lt;/head&gt;</span></pre><p id="50a3" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx nr lz ma mb ns md me mf nt mh mi mj ij bi translated">å¯¹äºå‰ç«¯webåº”ç”¨ç¨‹åºï¼Œæˆ‘ä½¿ç”¨äº†ä¸€ä¸ªç®€å•çš„HTMLæ¨¡æ¿å’Œä¸€ä¸ªCSSæ ·å¼è¡¨æ¥è®¾è®¡è¾“å…¥è¡¨å•ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬çš„webåº”ç”¨ç¨‹åºå‰ç«¯é¡µé¢çš„HTMLä»£ç ç‰‡æ®µã€‚</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="fe41" class="nk kx iq ng b gy nl nm l nn no">&lt;body&gt;<br/> &lt;div class="login"&gt;<br/> &lt;h1&gt;Predict Diamond Price&lt;/h1&gt;</span><span id="3846" class="nk kx iq ng b gy np nm l nn no">&lt;!-- Form to enter new data for predictions  --&gt;<br/>    &lt;form action="{{ url_for('predict')}}"method="POST"&gt;<br/>      &lt;input type="text" name="Carat Weight" placeholder="Carat Weight" required="required" /&gt;&lt;br&gt;<br/>     &lt;input type="text" name="Cut" placeholder="Cut" required="required" /&gt;&lt;br&gt;<br/>        &lt;input type="text" name="Color" placeholder="Color" required="required" /&gt;&lt;br&gt;<br/>        &lt;input type="text" name="Clarity" placeholder="Clarity" required="required" /&gt;&lt;br&gt;<br/>        &lt;input type="text" name="Polish" placeholder="Polish" required="required" /&gt;&lt;br&gt;<br/>        &lt;input type="text" name="Symmetry" placeholder="Symmetry" required="required" /&gt;&lt;br&gt;<br/>        &lt;input type="text" name="Report" placeholder="Report" required="required" /&gt;&lt;br&gt;<br/>        &lt;button type="submit" class="btn btn-primary btn-block btn-large"&gt;Predict&lt;/button&gt;<br/>    &lt;/form&gt;</span><span id="012f" class="nk kx iq ng b gy np nm l nn no">&lt;br&gt;<br/>   &lt;br&gt;<br/> &lt;/div&gt;<br/> {{pred}}</span><span id="e7a0" class="nk kx iq ng b gy np nm l nn no">&lt;/body&gt;</span></pre><h1 id="50de" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ä»»åŠ¡3â€”åç«¯Webåº”ç”¨ç¨‹åº</h1><p id="8701" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">æˆ‘ä½¿ç”¨Flaskæ¡†æ¶æ¥æ„å»ºåç«¯webåº”ç”¨ç¨‹åºã€‚ä¸‹é¢æ˜¯åç«¯åº”ç”¨ç¨‹åºçš„Flaskä»£ç ç‰‡æ®µã€‚</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="8c51" class="nk kx iq ng b gy nl nm l nn no">from flask import Flask,request, url_for, redirect, render_template, jsonify<br/>from pycaret.regression import *<br/>import pandas as pd<br/>import pickle<br/>import numpy as np</span><span id="4418" class="nk kx iq ng b gy np nm l nn no">app = Flask(__name__)</span><span id="d3e6" class="nk kx iq ng b gy np nm l nn no">model = load_model('deployment_28042020')<br/>cols = ['Carat Weight', 'Cut', 'Color', 'Clarity', 'Polish', 'Symmetry', 'Report']</span><span id="6fe6" class="nk kx iq ng b gy np nm l nn no"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/')<br/>def home():<br/>    return render_template("home.html")</span><span id="c68b" class="nk kx iq ng b gy np nm l nn no"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/predict',methods=['POST'])<br/>def predict():<br/>    int_features = [x for x in request.form.values()]<br/>    final = np.array(int_features)<br/>    data_unseen = pd.DataFrame([final], columns = cols)<br/>    prediction = predict_model(model, data=data_unseen, round = 0)<br/>    prediction = int(prediction.Label[0])<br/>    return render_template('home.html',pred='Price of the Diamond is ${}'.format(prediction))</span><span id="22d9" class="nk kx iq ng b gy np nm l nn no"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/predict_api',methods=['POST'])<br/>def predict_api():<br/>    data = request.get_json(force=True)<br/>    data_unseen = pd.DataFrame([data])<br/>    prediction = predict_model(model, data=data_unseen)<br/>    output = prediction.Label[0]<br/>    return jsonify(output)</span><span id="1b37" class="nk kx iq ng b gy np nm l nn no">if __name__ == '__main__':<br/>    app.run(debug=True)</span></pre><h1 id="845c" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ä»»åŠ¡4â€” <strong class="ak">éƒ¨ç½²ç½‘ç»œåº”ç”¨</strong></h1><p id="8041" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">åœ¨è®­ç»ƒäº†æ¨¡å‹ï¼Œå»ºç«‹äº†æœºå™¨å­¦ä¹ ç®¡é“ä¹‹åï¼Œæˆ‘åœ¨Herokuä¸Šéƒ¨ç½²äº†webåº”ç”¨ç¨‹åºã€‚æˆ‘é“¾æ¥äº†ä¸€ä¸ªGitHubåº“åˆ°Herokuã€‚è¿™ä¸ªé¡¹ç›®çš„ä»£ç å¯ä»¥åœ¨æˆ‘çš„GitHubåº“<a class="ae kv" href="http://github.com/dhrumilpatel02/diamond-price-prediction" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>æ‰¾åˆ°ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/1d325eb5a012b773543e5ff66eb8c9df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*niARTBE1C-YFsEL0_o0GdQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://github.com/dhrumilpatel02/diamond-price-prediction" rel="noopener ugc nofollow" target="_blank">github.com/dhrumilpatel02/diamond-price-prediction</a></p></figure><p id="d1e8" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx nr lz ma mb ns md me mf nt mh mi mj ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘åœ¨Herokuä¸Šéƒ¨ç½²äº†webåº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºå‘å¸ƒåœ¨URL:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/0a8f7228b37c88897ee2689ac3afddd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*Iit66VbWpxkDG6V4RBpSTg.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://diamond-price-prediction.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">https://diamond-price-prediction.herokuapp.com/</a></p></figure></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><p id="b0ee" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx nr lz ma mb ns md me mf nt mh mi mj ij bi translated">æ„Ÿè°¢PyCaretçš„åˆ›å§‹äººå’Œä¸»è¦ä½œè€…ï¼Œ<a class="ae kv" href="https://www.linkedin.com/in/profile-moez/" rel="noopener ugc nofollow" target="_blank"> Moez Ali </a>ã€‚è¿™ä¸ªé¡¹ç›®çš„è¿‡ç¨‹çµæ„Ÿæ¥è‡ªäºä»–æœ€è¿‘åœ¨<a class="ae kv" rel="noopener" target="_blank" href="/build-and-deploy-your-first-machine-learning-web-app-e020db344a99">çš„å¸–å­</a>ã€‚</p><h1 id="81b1" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">æ„Ÿè°¢é˜…è¯»ï¼</h1><p id="2ded" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»åˆ°æˆ‘:</p><ol class=""><li id="f384" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj mr ms mt mu bi translated">åœ¨<strong class="lq ir"> LinkedIn </strong> <a class="ae kv" href="https://www.linkedin.com/in/dhrumilpatel02/" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>å…³æ³¨/è”ç³»æˆ‘ã€‚</li><li id="924c" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated">åœ¨<strong class="lq ir"> GitHub </strong> <a class="ae kv" href="https://github.com/dhrumilpatel02" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>å…³æ³¨æˆ‘ã€‚</li><li id="bf38" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated">æŸ¥çœ‹æˆ‘çš„<strong class="lq ir">ç½‘ç«™</strong> <a class="ae kv" href="https://dhrumilpatel02.github.io/portfolio/" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>ã€‚</li></ol></div></div>    
</body>
</html>