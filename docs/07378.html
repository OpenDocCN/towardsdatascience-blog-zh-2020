<html>
<head>
<title>The Bechdel Test: Analyzing gender disparity in Hollywood</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">贝克德尔测试:分析好莱坞的性别差异</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-bechdel-test-analyzing-gender-disparity-in-hollywood-263cd4bcd9d?source=collection_archive---------16-----------------------#2020-06-04">https://towardsdatascience.com/the-bechdel-test-analyzing-gender-disparity-in-hollywood-263cd4bcd9d?source=collection_archive---------16-----------------------#2020-06-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ed3e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用数据分析技术可视化好莱坞的性别不平等</h2></div><p id="229f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">什么是贝氏测验？</strong></p><p id="d976" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">贝克德尔测试是以漫画家艾莉森·贝克德尔的名字命名的，她在 1985 年的一个连环漫画中提出了这个想法。要通过测试，故事需要具备:</p><ul class=""><li id="1636" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">至少两个女人</li><li id="194f" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">女人们需要互相交流</li><li id="4d07" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">他们需要彼此谈论除了男人以外的东西</li></ul><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi ls"><img src="../Images/3d0dd976796c83bf7ed7788ae1f63ad3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VOLvOATPLdK6CI-a5vla3w.jpeg"/></div></div><p class="me mf gj gh gi mg mh bd b be z dk translated">照片由<a class="ae mi" href="https://unsplash.com/@franagain?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">弗兰·霍根</a>在<a class="ae mi" href="https://unsplash.com/s/photos/women-talking?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="5fa3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我第一次听说 Bechdel 测试是在看《简·处女》的时候，它引起了我的兴趣。对我来说，测试的标准似乎太低了，电影应该很容易通过。</p><p id="3b12" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，一个简单的谷歌搜索告诉我不是这样。显然，有大量的电影没有满足通过 Bechdel 测试的要求，包括:</p><ul class=""><li id="3fba" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">贫民窟的百万富翁</li><li id="a76d" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">弱点</li><li id="0f9d" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">泰山</li><li id="a8e2" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">《模仿游戏》</li><li id="89a5" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">社交网络</li></ul><p id="8b92" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">读了一些关于 Bechdel 考试的资料后，我受到了启发。我决定对电影数据集进行数据分析，以检查它们是否通过了测试！</p><p id="e16a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">数据问题</strong></p><p id="7d12" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我的目的是从各种不同的来源收集数据，并回答以下关于 Bechdel 测试的问题:</p><ol class=""><li id="e781" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld mj lk ll lm bi translated">这些年电影的 Bechdel 分数有提高吗？</li><li id="607e" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld mj lk ll lm bi translated">IMDB 评分越高的电影，Bechdel 评分就越高吗？</li><li id="9881" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld mj lk ll lm bi translated">有女导演的电影是不是 Bechdel 分数更高？</li><li id="a7a5" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld mj lk ll lm bi translated">一部电影的预算对其 Bechdel 评分有影响吗？</li><li id="e1fd" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld mj lk ll lm bi translated">Bechdel 分数较高的电影会产生较大的收入吗？</li></ol><p id="30c8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">数据收集</strong></p><p id="f2d0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我从三个不同的来源收集数据:<a class="ae mi" href="https://bechdeltest.com/" rel="noopener ugc nofollow" target="_blank">bechdeltest.com</a>、<a class="ae mi" href="https://www.kaggle.com/rounakbanik/the-movies-dataset" rel="noopener ugc nofollow" target="_blank">卡格尔</a>和<a class="ae mi" href="https://cran.r-project.org/web/packages/ggplot2movies/index.html" rel="noopener ugc nofollow" target="_blank">这个电影数据集</a>。</p><p id="a696" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">数据分析</strong></p><p id="ad1f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我将使用 Python 来执行所有的数据分析和可视化。</p><p id="5c8d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，我使用了来自 bechdeltest.com 的数据，因为他们的 API 很容易获取。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="b52a" class="mp mq it ml b gy mr ms l mt mu"># imports<br/>import urllib, json<br/>import pandas as pd</span><span id="61b7" class="mp mq it ml b gy mv ms l mt mu">df = pd.read_json('<a class="ae mi" href="http://bechdeltest.com/api/v1/getAllMovies'" rel="noopener ugc nofollow" target="_blank">http://bechdeltest.com/api/v1/getAllMovies'</a>)</span></pre><p id="74ce" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我将看看数据帧的头部:</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="3a71" class="mp mq it ml b gy mr ms l mt mu">df.head()</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/133e603c3580c9a4353e51a4f98e3ffb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*_HMFPas3P32MLYpoIA6_9A.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="81dc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据框中有五个变量:</p><ul class=""><li id="9454" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">评分:电影的 Bechdel 评分从 0 到 3。Bechdel 分数低于 3 表示电影没有通过 Bechdel 测试，Bechdel 分数为 3 表示电影通过。</li><li id="adeb" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">imdbid:电影的 IMDB 编号</li><li id="c82f" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">标题:电影标题</li><li id="a191" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">id:唯一的电影 ID</li><li id="3496" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">年份:电影上映的年份</li></ul><p id="2b41" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">看一下“年份”一栏，你可以看到有 19 世纪的电影，其中很多电影的贝克德尔分数为 0。</p><p id="1066" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我将为 1967 年以后发行的电影创建一个新的数据框，并将在我的其余分析中使用这个新的数据框。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="65d7" class="mp mq it ml b gy mr ms l mt mu">dfNew = df[df['year']&gt;=1967]</span></pre><p id="90e8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">看看新的数据框:</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="ef6a" class="mp mq it ml b gy mr ms l mt mu">dfNew.head()</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/4a3752212b8026e5e5d326617240d8d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*rCnjTvKzk5W_7cPQXSstlQ.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="f46c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我现在将把列“rating”重命名为“Bechdel Score ”,以便于后面的分析。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="e11c" class="mp mq it ml b gy mr ms l mt mu">dfNew.rename(columns={'rating':'Bechdel Score'}, inplace=True)</span></pre><p id="961c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我将把“year”列转换成 datetime 对象。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="f391" class="mp mq it ml b gy mr ms l mt mu">dfNew['year'] = pd.to_datetime(dfNew['year'], format='%Y')</span></pre><p id="4e69" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我将把 Bechdel 分数改为分类变量。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="e8ad" class="mp mq it ml b gy mr ms l mt mu">dfNew['Bechdel Score'] = dfNew['Bechdel Score'].astype('category',copy=False)</span></pre><p id="645a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，数据准备好了，可以用来做一些数据可视化。</p><p id="0167" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我将首先使用 Seaborn 创建一个计数图，以可视化 Bechdel 分数。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="d610" class="mp mq it ml b gy mr ms l mt mu">sns.countplot(x='Bechdel Score',data=dfNew)</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi my"><img src="../Images/f6cea7a55488e1611d242325c7b16b3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*QuYpq58nSWlzgoKfdjO6cQ.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="fb03" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">1967 年以后的大部分电影看起来都有更高的 Bechdel 分数，但是他们通过 Bechdel 测试了吗？</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="c910" class="mp mq it ml b gy mr ms l mt mu">li = []<br/>for i in dfNew['Bechdel Score']:<br/>    if(i&lt;3):<br/>        li.append(0)<br/>    else:<br/>        li.append(1)<br/>dfNew['pass_test'] = li<br/>dfNew</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/95ef4a5913d3942ff5e6764a4ce6e438.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*q2dp8LFIWWpgMOFxV4yDiA.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="5d07" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在有一个数据帧叫做 pass test，所有通过 Bechdel 测试的电影取值为 1，没有通过的电影取值为 0。</p><p id="4a5a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我将使用 Seaborn 来可视化这个。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="2566" class="mp mq it ml b gy mr ms l mt mu">sns.countplot(x='pass_test',data=dfNew)</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/b9b49eb7c80c445f0f80a59247785d1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*yTDnigvMTuMjEbUHKV81QA.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="7931" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">自 1967 年以来，通过贝克德尔测试的电影比没有通过测试的电影多。</p><p id="8949" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，这种差异并不像我预期的那样显著。似乎仍然有非常多的电影没有通过测试。</p><p id="6691" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我将看看 Bechdel 分数如何随时间变化。</p><p id="532d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">女性在电影业的代表性有所提高吗？事情还是一样吗？他们恶化了吗？</p><p id="0fd9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为此，我将使用 Plotnine 库。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="fc7a" class="mp mq it ml b gy mr ms l mt mu">from plotnine import *</span><span id="8176" class="mp mq it ml b gy mv ms l mt mu">(ggplot(dfNew)+geom_point(aes('year',color=dfNew['Bechdel Score']),stat='count',show_legend=False)+geom_line(aes('year',color=dfNew['Bechdel Score']),stat='count',show_legend=False))</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi na"><img src="../Images/183d5afc2659376bb4e07580392165ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*0ESCp33NKE8hQstMbv6qdQ.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="7bc2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在 20 世纪 70 年代和 80 年代，有几部电影通过了贝克德尔测试。在这段时间里，通过测试的电影和没有通过测试的电影没有明显的区别。</p><p id="56e1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在 20 世纪 80 年代和 90 年代之后的几年里，通过贝克德尔测试的电影数量激增，进入 21 世纪后，情况有了很大改善。</p><p id="acc8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我想形象化 IMDB 评级和 Bechdel 分数之间的关系。是 Bechdel 分数越高的电影更有可能获得更高的 IMDB 评分，还是相反？</p><p id="7e60" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为此，我将使用名为 movies.csv 的不同数据集，并将其与现有数据框合并。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="b6df" class="mp mq it ml b gy mr ms l mt mu">imdb = pd.read_csv('movies.csv')<br/>imdbNew = imdb[['title','rating']]</span><span id="e656" class="mp mq it ml b gy mv ms l mt mu">dfNew = pd.merge(dfNew, imdbNew, how='left', left_on=['title'], right_on=['title'])</span><span id="1edf" class="mp mq it ml b gy mv ms l mt mu">dfNew.head()</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/fc136c9c60d77e31d12bfe00aa1e156f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*Hl1a2YS-nkU42kp6gQipBg.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="726b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据帧中的“分级”栏代表 IMBD 电影的分级。该列有几个空值，这些行将被删除。</p><p id="ab7c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我将创建一个只有年份、Bechdel 分数和 IMDB 评级的新数据框，这样我就可以直观地看到这三者之间的关系。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="f6f9" class="mp mq it ml b gy mr ms l mt mu"># Dropping rows with null values:<br/>dfNew = dfNew.dropna()</span><span id="d40d" class="mp mq it ml b gy mv ms l mt mu">dfNew = dfNew.drop('id',axis=1)</span><span id="d008" class="mp mq it ml b gy mv ms l mt mu"># Creating a new dataframe with only year, Bechdel scores, and imdb rating:<br/>new = dfNew.groupby(['year','Bechdel Score']).agg({'rating':'mean'}).reset_index()</span><span id="17de" class="mp mq it ml b gy mv ms l mt mu">new.head()</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/31f574967df7db481757b79ca7adfe20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/format:webp/1*__TWv3EnuWLrqBNKXhabOg.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="2e62" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">完美！现在，我将想象这种关系:</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="46f4" class="mp mq it ml b gy mr ms l mt mu"># Plot year against IMDB rating and Bechdel Score:</span><span id="01f0" class="mp mq it ml b gy mv ms l mt mu">ggplot(new,aes(x='year',y='rating',color='Bechdel Score'))+ geom_point()+geom_smooth()+scale_y_continuous(name="imdb rating")+labs( colour='Bechdel Score' )</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/dccb53f1068bb914ac5ad0e7d0b7e19e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*8fWPikafQsT2AZxYDp3ouA.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="97ba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">看起来似乎通过 Bechdel 测试的电影比没有通过测试的电影的 IMDB 评分低得多，这让我很惊讶。</p><p id="359a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我将试着形象化导演的性别和 Bechdel 分数之间的关系。我假设有女性导演的电影更有可能有更高的 Bechdel 分数，我将在这里尝试绘制。</p><p id="6307" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为此，我将使用来自 Kaggle 的不同电影数据集。然后，我将使用性别预测库根据导演的名字来预测导演的性别，并将其与之前的数据帧合并。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="8a9e" class="mp mq it ml b gy mr ms l mt mu">import gender_guesser.detector as gen<br/>latest = pd.read_csv('movielatest.csv',encoding = "latin")</span><span id="7a15" class="mp mq it ml b gy mv ms l mt mu">dfLatest = latest[['name','director']]<br/>dfLatest.rename(columns={'name':'title'}, inplace=True)<br/>dfLatest = pd.merge(dfNew, dfLatest, how='left', left_on=['title'], right_on=['title'])</span><span id="079a" class="mp mq it ml b gy mv ms l mt mu">dfLatest = dfLatest.dropna()<br/>dfLatest.head()</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/969b7b196d9ed5313b8ec41e0b93da75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*HYgoNwfyHj2rxLbaRmi1NQ.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="eb62" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">新创建的数据框中现在有一个额外的变量；导演。现在，我将尝试根据名字预测导演的性别，并将其附加到数据框中。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="6592" class="mp mq it ml b gy mr ms l mt mu"># Predicting gender of director from first name:</span><span id="deff" class="mp mq it ml b gy mv ms l mt mu">d = gen.Detector()<br/>genders = []<br/>firstNames = dfLatest['director'].str.split().str.get(0)<br/>for i in firstNames[0:len(firstNames)]:<br/>    if d.get_gender(i) == 'male':<br/>        genders.append('male')<br/>    elif d.get_gender(i) == 'female':<br/>        genders.append('female')<br/>    else:<br/>        genders.append('unknown')<br/>dfLatest['gender'] = genders<br/>dfLatest = dfLatest[dfLatest['gender'] != 'unknown']</span><span id="7528" class="mp mq it ml b gy mv ms l mt mu"># Encode the variable gender into a new dataframe:<br/>dfLatest['Male'] = dfLatest['gender'].map( {'male':1, 'female':0} )</span><span id="8504" class="mp mq it ml b gy mv ms l mt mu">dfLatest.head()</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/7722813194ba47243c24d6fd6954eec8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*xExohQ9-H3zGcT3esScn0w.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="1086" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据帧有两个附加变量；性别和男性。性别代表导演的性别。如果导演是男性，变量 male 的值为 1，如果导演是女性，变量 male 的值为 0。</p><p id="c9a7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我有了这些信息，我将继续想象数据中更多的趋势。</p><p id="7603" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我将创建一个变量性别的计数图，以直观显示数据集中男性与女性的数量:</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="1bc0" class="mp mq it ml b gy mr ms l mt mu">sns.countplot(x='gender',data=dfLatest)</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/10aca682151228edd882069927e85629.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*Jxp9lD1NWSzZJ9hM62NuAQ.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="5b69" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">似乎数据集中几乎所有的电影都有男性导演。这也是我预料到的事情，因为众所周知，好莱坞雇佣的女导演非常少。</p><p id="411c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来我会用 Bechdel 评分来可视化导演的性别，看看有女导演的电影是不是评分更高。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="33d0" class="mp mq it ml b gy mr ms l mt mu">sns.countplot(x='Bechdel Score',hue='gender',data=dfLatest)</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/e6d7d888cc718dd6ae4aa4a6eee19470.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*DYSDh0MdUYpwlUCytwETwg.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="c46c" class="mp mq it ml b gy mr ms l mt mu">ggplot(aes(x = 'year', y = 'Bechdel Score',color='gender'), data = dfLatest)+geom_point()</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/484a27e347c98ad36f00b3ecb9d8a890.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*vyv3ZeeVsFnUFGUWrzwfvw.png"/></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="ea52" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">几乎所有有女导演的电影似乎都通过了贝克德尔测试！</p><p id="69e3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我将看看可变预算，看看电影的预算和它的 Bechdel 分数之间是否有某种相关性。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="f1aa" class="mp mq it ml b gy mr ms l mt mu">dfLatest['budget']=latest['budget']</span><span id="0fe7" class="mp mq it ml b gy mv ms l mt mu">ggplot(aes(x='year', y='budget',color='Bechdel Score'), data = dfLatest)+geom_point()+geom_smooth()</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi nj"><img src="../Images/f89d22a116fabc2ccf1805eac4a08763.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SsUfldTHQEB1A0a4cpODww.png"/></div></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="2b39" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里可以看到的一件事是，随着时间的推移，一部电影的预算显著增加。此外，通过贝克德尔测试的电影似乎比得分为零的电影预算略高，但在这里没有观察到强相关性。</p><p id="e011" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我将设想预算和主管性别之间的关系:</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="5f08" class="mp mq it ml b gy mr ms l mt mu">ggplot(aes(x = 'year', y = 'budget',color='gender'), data = dfLatest)+geom_point()+geom_smooth()</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi nk"><img src="../Images/9ad7b36b2cbfdf016a441923385d84d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ECEZ7Lv-kn-YsFD1mmTD0Q.png"/></div></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="0307" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">导演的性别似乎对电影的预算没有任何关系或影响。</p><p id="bcae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将电影预算、贝克德尔分数和导演性别之间的关系可视化:</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="cf73" class="mp mq it ml b gy mr ms l mt mu">sns.violinplot(x='Bechdel Score',y='budget',hue='Male',data=dfLatest)</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi nl"><img src="../Images/d9efac43a5327cdc3fd5ba4ed8914c09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zY63WYjP4ItbdEVkyyh1Ig.png"/></div></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="e2f0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我将想象一部电影的类型和贝克德尔分数，以及任何随时间的变化。</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="6945" class="mp mq it ml b gy mr ms l mt mu">dfLatest['genre'] = latest['genre']<br/>ggplot(aes(x = 'year', y = 'genre',color='Bechdel Score'), data = dfLatest)+geom_point()</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi nm"><img src="../Images/680a7349082d15d0e5a33d2b1102ce92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OxdkGbF42hBk1bWUZtUE5A.png"/></div></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="e3b6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，我将看看电影票房，以及年份、Bechdel 分数和性别:</p><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="fbf8" class="mp mq it ml b gy mr ms l mt mu">dfLatest['gross'] = latest['gross']</span><span id="a477" class="mp mq it ml b gy mv ms l mt mu"># Movie grossing with Bechdel score and gender:<br/>sns.violinplot(x='Bechdel Score',y='gross',hue='Male',data=dfLatest)</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi nn"><img src="../Images/6b5c72bb2f8172ff4ddbce51f8756e52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cwYzeW4A9IVH_hky_YKBtA.png"/></div></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><pre class="lt lu lv lw gt mk ml mm mn aw mo bi"><span id="bdd2" class="mp mq it ml b gy mr ms l mt mu"># Movie grossing with year and gender:</span><span id="13c7" class="mp mq it ml b gy mv ms l mt mu">ggplot(aes(x = 'year', y = 'gross',color='gender'), data = dfLatest)+geom_point()</span></pre><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi no"><img src="../Images/b430623850f37546088fa293c32ed6d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6KyH4ROSpi7CLFLeFlBdmQ.png"/></div></div><p class="me mf gj gh gi mg mh bd b be z dk translated">作者图片</p></figure><p id="57ff" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就是这样！我设法将各种关系可视化，并回答了我着手寻找答案的所有数据问题。</p><p id="d4af" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一些有趣的数据发现包括:</p><ol class=""><li id="f490" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld mj lk ll lm bi translated">没有通过 Bechdel 测试的电影往往有更高的 IMDB 评级。</li><li id="9970" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld mj lk ll lm bi translated">这些年来，越来越多的电影通过了贝克德尔测试。</li><li id="a3ba" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld mj lk ll lm bi translated">有女导演的电影，Bechdel 分更高。</li><li id="9e36" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld mj lk ll lm bi translated">一部电影的预算或收入与其 Bechdel 评分之间没有明显的相关性。</li></ol><p id="b235" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当然，这个分析仅仅是根据我从三个地方收集的数据进行的，可能并不能代表电影的全部。</p><p id="d2f6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，可能还有其他变量会影响此分析的结果，在得出结论之前，用其他地方的数据进行实验可能是个好主意。</p><p id="b689" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，我想提一下，Bechdel 测试不一定是衡量电影中女性代表性的最佳基准。它没有考虑女性角色写得有多好，也没有衡量角色有意义的深度。</p><p id="8959" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，这是用来揭露性别偏见的最著名的指标之一，也是我们拥有这类数据的唯一测试。</p><p id="c8d8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据集和完整的代码可以在<a class="ae mi" href="https://github.com/Natassha/Bechdel-Test" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p></div></div>    
</body>
</html>