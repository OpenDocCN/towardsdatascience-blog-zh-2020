<html>
<head>
<title>Python For Data Science — What To Do Before Performing Machine Learning ?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于数据科学的 Python 在执行机器学习之前要做什么？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-for-data-science-what-to-do-before-performing-machine-learning-a30f62465632?source=collection_archive---------24-----------------------#2020-01-08">https://towardsdatascience.com/python-for-data-science-what-to-do-before-performing-machine-learning-a30f62465632?source=collection_archive---------24-----------------------#2020-01-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e3c0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">不要沉迷于机器学习模型，先了解你的数据。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/799b7a0b39b476150ede3f01b77b574a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lmI2E8KHL9DLXWHTpz478w.png"/></div></div></figure><p id="f67e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你好，读者，<br/>欢迎来到另一集“数据会让你变得富有”,在这里我将分享我的经验、指南和我的数据之旅的故事。<br/>如果你是来学习新东西的，请继续阅读，我保证你会从我的所有文章中有所收获，因为我的主要动机是为我的观众提供<strong class="kw iu">价值</strong>。这就是我介绍自己的方式，即使是在面试中。</p><p id="0d76" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">本周，我们将谈论<strong class="kw iu">机器学习</strong>。<br/>对，大家都感兴趣的话题。每个数据科学家都在展示他们的模型，比较他们的准确度分数，而他们中的一些人甚至不知道这些数据是关于什么的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lq"><img src="../Images/357c79bcadbed2e6cc51dafca100d10f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fnw1NQ13LCzWkje64rw3Pw.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">谷歌趋势的机器学习趋势</p></figure><p id="7cd3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">机器学习正在兴起。我们都知道。<br/>基于 Google Trends，它甚至与数据科学本身作为一个话题不相上下，<br/>我们都知道数据科学有多热门。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="5df0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我经常看到，当谈到数据时，初级数据从业者脑海中闪现的第一件事是机器学习……而且不仅仅是他们。</p><p id="2fee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最近，我参加了公司内部的<strong class="kw iu">黑客马拉松</strong>。<br/>由组织的<strong class="kw iu">最高管理层</strong>决定的进入前 3 名的想法，都与机器学习有关。在这一点上，很难忽视机器学习，因为每个人都在学习。<br/>然而，只有极小比例的数据从业者能做好。</p><blockquote class="lx ly lz"><p id="efda" class="ku kv ma kw b kx ky ju kz la lb jx lc mb le lf lg mc li lj lk md lm ln lo lp im bi translated">忘记人工智能吧——在大数据这个勇敢的新世界里，我们应该提防的是人工白痴。—汤姆·查特菲尔德</p></blockquote><p id="c4e5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">不要误解我。我不是来攻击机器学习的。相反，我在这里指导你如何做得更好。不要在没有首先了解什么是<strong class="kw iu">业务需求</strong>的情况下盲目地投入机器学习。在<strong class="kw iu">了解你的数据集</strong>之前，不要开始考虑用什么算法。如果你没有完全掌握你的<strong class="kw iu">问题陈述，又是什么影响了它</strong>，你怎么知道应该包括哪些栏目？</p><p id="691b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们很多人都被细节所困扰，但最终，这完全取决于我们能为我们工作的组织提供多少价值。为了提供这样的影响，我们必须完全理解我们的数据集，这就引出了我的下一个话题。</p><h1 id="501d" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">数据探索</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/982b67bd897007f5dd87b51ea7fae31f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gvNBool3rPsc053n"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">照片由<a class="ae mx" href="https://unsplash.com/@willianjusten?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">威利安·贾斯登·德·瓦斯康塞洛斯</a>在<a class="ae mx" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="d654" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在决定对数据集执行何种技术之前，您必须首先完全理解它。你可以通过<strong class="kw iu">探索</strong>数据集来实现。</p><blockquote class="lx ly lz"><p id="4524" class="ku kv ma kw b kx ky ju kz la lb jx lc mb le lf lg mc li lj lk md lm ln lo lp im bi translated"><strong class="kw iu">探索</strong>是以发现<a class="ae mx" href="https://en.wikipedia.org/wiki/Information" rel="noopener ugc nofollow" target="_blank">信息</a>或资源——维基百科为目的的搜索行为</p></blockquote><p id="f338" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是维基百科(100%可信)在<strong class="kw iu"> Exploration 上提供的定义。现在把它应用到你的数据集中。</strong></p><p id="3855" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就像上面的图像一样，您现在处于数据集中的陌生区域。你可以通过问这样的问题来更好地理解它:</p><ul class=""><li id="1781" class="my mz it kw b kx ky la lb ld na lh nb ll nc lp nd ne nf ng bi translated">数据集的目标是什么？</li><li id="a5e9" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">我们试图衡量的指标是什么？</li><li id="6a4d" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">每列是什么意思？</li></ul><p id="6550" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了回答这些问题，我们通过使用<strong class="kw iu">熊猫</strong>来彻底检查数据。如果我们能够<strong class="kw iu">可视化</strong>某些点，那就更清楚了。</p><h1 id="23fd" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">先决条件</h1><p id="b5b0" class="pw-post-body-paragraph ku kv it kw b kx nm ju kz la nn jx lc ld no lf lg lh np lj lk ll nq ln lo lp im bi translated">数据探索大量使用<strong class="kw iu">熊猫</strong>。<br/>因此，你应该可以轻松地浏览它。你可以通读一下我写的关于<strong class="kw iu">熊猫基础知识</strong>的文章来刷新你的记忆。</p><div class="nr ns gp gr nt nu"><a rel="noopener follow" target="_blank" href="/python-for-data-science-basics-of-pandas-5f8d9680617e"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">用于数据科学的 Python 熊猫指南</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">10 分钟内完成数据探索指南</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">towardsdatascience.com</p></div></div><div class="od l"><div class="oe l of og oh od oi ks nu"/></div></div></a></div><p id="b94b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">除了熊猫之外，我们也将视觉化我们的发现。我对自己的可视化感到自豪，因为它让我有能力绘制出交互式图形。这在探索过程中非常有用，因为我可以流畅地浏览图表。如果你是 Plotly 的新手，请仔细阅读我关于如何使用 Plotly 的文章。</p><div class="nr ns gp gr nt nu"><a rel="noopener follow" target="_blank" href="/python-for-data-science-a-guide-to-data-visualization-with-plotly-969a59997d0c"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">面向数据科学的 python——Plotly 数据可视化指南</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">现在是 2020 年，是时候停止使用 Matplotlib 和 Seaborn 了</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">towardsdatascience.com</p></div></div><div class="od l"><div class="oj l of og oh od oi ks nu"/></div></div></a></div><div class="nr ns gp gr nt nu"><a rel="noopener follow" target="_blank" href="/python-for-data-science-advance-guide-to-data-visualization-with-plotly-8dbeaedb9724"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">用于数据科学的 Python 使用 Plotly 进行数据可视化的高级指南</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">如何在 Plotly 中添加和自定义滑块、下拉菜单和按钮</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">towardsdatascience.com</p></div></div><div class="od l"><div class="ok l of og oh od oi ks nu"/></div></div></a></div><p id="7775" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我几乎涵盖了你在这里需要的一切。不客气</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol lw l"/></div></figure><p id="a77b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在你已经设置好了，剩下的就是进入代码了。让我们直入主题吧。</p></div><div class="ab cl om on hx oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="im in io ip iq"><h1 id="1e22" class="me mf it bd mg mh ot mj mk ml ou mn mo jz ov ka mq kc ow kd ms kf ox kg mu mv bi translated">进口</h1><p id="8925" class="pw-post-body-paragraph ku kv it kw b kx nm ju kz la nn jx lc ld no lf lg lh np lj lk ll nq ln lo lp im bi translated">像往常一样，我们将与<a class="ae mx" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> Jupyter 笔记本</strong> </a>一起工作。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="8116" class="pd mf it oz b gy pe pf l pg ph">#all plotly<br/>from plotly.offline import init_notebook_mode,iplot<br/>import plotly.graph_objects as go<br/>import cufflinks as cf<br/>init_notebook_mode(connected=True)</span><span id="81c7" class="pd mf it oz b gy pi pf l pg ph">#others<br/>import pandas as pd<br/>import numpy as np</span></pre><h1 id="8bdf" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">导入数据集</h1><p id="9cc7" class="pw-post-body-paragraph ku kv it kw b kx nm ju kz la nn jx lc ld no lf lg lh np lj lk ll nq ln lo lp im bi translated">在本文中，我们将使用一个<a class="ae mx" href="https://www.kaggle.com/blastchar/telco-customer-churn" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">电信客户流失数据集</strong> </a>。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="c235" class="pd mf it oz b gy pe pf l pg ph">df = pd.read_csv(filepath)</span></pre><h1 id="095d" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">数据集摘要</h1><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="f948" class="pd mf it oz b gy pe pf l pg ph">df.head(5)<br/>df.info()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/d7ddf62bc6583ffdf29cd13f520a851a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v5s074DZXKwUMwzLtvdIXw.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/2d086eb7ad0269c196f68f17eac017f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uB8q5TLltL-HVmUUcgOSzw.png"/></div></div></figure><p id="3e62" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">df.head()和 df.info()是获得数据集良好感觉的一种极其快速和简单的方法。从这里，我们可以通过查看数据集的前 5 行来大致了解数据集。</p><p id="13cd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然而，我们看到有 21 列，Jupyter 不能提前显示所有内容。因此，我们还没有一个清晰的图像。</p><p id="10e7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">查看 df.info()，我们可以看到有 7032 行和 21 列。我们还可以看到所有列的名称、数据类型以及有多少非空值。巧合的是，所有的列都有 7032 个非空值，这意味着在我们的数据集中没有任何<strong class="kw iu">缺失数据</strong>。通常情况下，情况并非如此。我们可以通过以下方式检查缺失的数据:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="da92" class="pd mf it oz b gy pe pf l pg ph">df.isnull().sum()</span></pre><p id="4b9a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这将返回所有的列以及每一列有多少 null 值。</p><p id="4767" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">之后，我们希望了解所有列的含义。<br/>既然这是一个已发布的数据集，你可以在<a class="ae mx" href="https://www.kaggle.com/blastchar/telco-customer-churn" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">数据集上找到</strong> </a>本身的链接。<br/>再说一遍，通常不是这样。我们可以通过以下方式进一步了解我们的专栏:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="b54e" class="pd mf it oz b gy pe pf l pg ph">df.nunique()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/dd5f30f23a70ac333854b2f622799223.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qXpOt2fxnFjMIN3GebaYsw.png"/></div></div></figure><p id="d7e0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这将返回所有列及其唯一值的数量。</p><p id="459e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们首先定义我们的度量。<br/>为什么首先要创建这个数据集？<br/>它是为了研究(和预测)某个电信公司的<strong class="kw iu">流失</strong>而创建的。<br/>因此，很明显这里的列<strong class="kw iu"> Churn </strong>是我们的度量列。</p><p id="ae99" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们观察到<strong class="kw iu"> customerID </strong>有 7032 个唯一值，这与数据集中的行数相同。这意味着 customerID 是我们的唯一行标识符。</p><p id="3ce2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于<strong class="kw iu">月费用</strong>、<strong class="kw iu">总费用</strong>和<strong class="kw iu">任期</strong>列，我们可以根据它们拥有的<strong class="kw iu">唯一值</strong>和它们的<strong class="kw iu">数据类型推断出它们是<strong class="kw iu">数值</strong>列。</strong></p><p id="1268" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于<strong class="kw iu">剩余的</strong>列，我们看到它们有 2、3 和 4 个唯一值。这可能意味着它们是<strong class="kw iu">分类</strong>列。</p><p id="0a25" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了总结我们刚刚获得的信息并充分利用它们，我们可以为它们创建变量:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="438c" class="pd mf it oz b gy pe pf l pg ph">#defining all our columns<br/>Id_col     = ['customerID']<br/>metric_col = ["Churn"]<br/>cat_cols   = df.nunique()[df.nunique() &lt;= 4][df.nunique() &gt; 2].keys().tolist()<br/>cat_cols   = [x for x in cat_cols if x not in metric_col]<br/>bool_cols = df.nunique()[df.nunique() == 2].keys().tolist()<br/>bool_cols = [x for x in bool_cols if x not in metric_col]<br/>num_cols   = [x for x in df.columns if x not in cat_cols + metric_col + Id_col + bool_cols]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/01dcc7bc22e584ae72a2d0817ba183eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WzY8f0pcQ4G9y1G8MOi3nA.png"/></div></div></figure></div><div class="ab cl om on hx oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="im in io ip iq"><h1 id="2600" class="me mf it bd mg mh ot mj mk ml ou mn mo jz ov ka mq kc ow kd ms kf ox kg mu mv bi translated">探索数据集</h1><p id="d9cf" class="pw-post-body-paragraph ku kv it kw b kx nm ju kz la nn jx lc ld no lf lg lh np lj lk ll nq ln lo lp im bi translated">探索数据集有不同的方式。我个人的做法是首先围绕<strong class="kw iu">指标</strong>栏，因为这是我们试图研究的内容。</p><p id="97b1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">到现在为止，你可能已经明白，这是一个包含 7032 名<strong class="kw iu">客户</strong>的数据集，以及他们所有的<strong class="kw iu">属性</strong>，如果他们已经停止使用该公司的服务。因此，我们可以研究他们拥有的<strong class="kw iu">属性</strong>和他们的<strong class="kw iu">流失率</strong>之间的关系。</p><p id="b1b2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一个简单的例子就是<strong class="kw iu">性别</strong>列。<br/>基本问题比如— <br/>离职的<strong class="kw iu">男性</strong>还是<strong class="kw iu">女性</strong>多？</p><p id="f8c0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们肯定可以通过探索我们的数据集来回答这个问题。</p><p id="ff94" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们先来看看有多少真正的客户被<strong class="kw iu">搅了。</strong></p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="52a7" class="pd mf it oz b gy pe pf l pg ph">#defining data<br/>trace = go.Pie(labels=df["Churn"].value_counts().keys().tolist(), <br/>                values=df["Churn"].value_counts().values.tolist(), <br/>                marker=dict(colors=['red']), <br/>                # Seting values to <br/>                hoverinfo="value"<br/>              )<br/>data = [trace]</span><span id="d781" class="pd mf it oz b gy pi pf l pg ph">#defining layout<br/>layout = go.Layout(title="Churn Distribution")</span><span id="3e12" class="pd mf it oz b gy pi pf l pg ph">#defining figure and plotting<br/>fig = go.Figure(data = data,layout = layout)<br/>iplot(fig)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/1d2386e1d8abd16657e4ebb68dabf352.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*Cb3qHju9UFJKKXBHaSLC3Q.gif"/></div></figure><p id="054a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">看起来大约有 27%的顾客放弃了他们的服务。</p><p id="afd6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">由于我们的<strong class="kw iu">客户流失</strong>列仅包含<strong class="kw iu"> 2 个</strong>唯一值，即“是”或“否”。<br/>我们可以将数据集分为流失的<strong class="kw iu">客户和停留<strong class="kw iu">的<strong class="kw iu">客户</strong>。这样我们可以更深入地研究数据。</strong></strong></p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="f5ca" class="pd mf it oz b gy pe pf l pg ph">#Separating customers who churned and customers who stayed<br/>churn     = df[df["Churn"] == "Yes"]<br/>not_churn = df[df["Churn"] == "No"]</span></pre></div><div class="ab cl om on hx oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="im in io ip iq"><p id="503c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">别在我面前睡着了，我们才刚刚开始。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="po lw l"/></div></figure><p id="9c22" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们首先处理所有的<strong class="kw iu">分类</strong>列以及它们与我们的度量标准的关系。我们进一步将我们的分类列分为<strong class="kw iu">布尔型</strong>和<strong class="kw iu">分类型</strong>，布尔型本身只有两个唯一值。</p><p id="c1cf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们来看看所有的分类列及其实际的唯一值。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="3af1" class="pd mf it oz b gy pe pf l pg ph">#all categorical columns and thier unique values<br/>for i in cat_cols:<br/>    for j in df[i].unique().tolist():<br/>        print(i + ' unique values are ' + j)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/fa6b0d35f0f16ba41e70429c4381a238.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OGRB6PY7yZEQDS_Vbg7uKg.png"/></div></div></figure><p id="a496" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有几列像<strong class="kw iu">在线备份</strong>和<strong class="kw iu">在线安全</strong>同时包含值<strong class="kw iu">否</strong>和<strong class="kw iu">无互联网服务</strong>。对我们来说，这本质上意味着同样的事情，那就是他们没有那个<strong class="kw iu">特征</strong>。因此，我们可以将所有<strong class="kw iu">无互联网服务</strong>转换为<strong class="kw iu">无</strong>。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="c679" class="pd mf it oz b gy pe pf l pg ph">columns_to_be_replaced = [ 'OnlineSecurity', 'OnlineBackup', 'DeviceProtection',<br/>                'TechSupport','StreamingTV', 'StreamingMovies']</span><span id="6d27" class="pd mf it oz b gy pi pf l pg ph">for i in columns_to_be_replaced : <br/>    df[i]  = df[i].replace({'No internet service' : 'No'})</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/f2341c888203e0cb2317ece6cbf50637.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J7xsR_o29uVzfK6hOOH3aA.png"/></div></div></figure><p id="1a69" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们的数据现在更清晰了，更容易处理。</p></div><div class="ab cl om on hx oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="im in io ip iq"><h1 id="d10a" class="me mf it bd mg mh ot mj mk ml ou mn mo jz ov ka mq kc ow kd ms kf ox kg mu mv bi translated">形象化</h1><p id="6c53" class="pw-post-body-paragraph ku kv it kw b kx nm ju kz la nn jx lc ld no lf lg lh np lj lk ll nq ln lo lp im bi translated">下一步是对照我们的<strong class="kw iu">指标</strong>来可视化我们所有的<strong class="kw iu">特性</strong>。重要的是以一种你的观众容易阅读的方式来形象化它。</p><h2 id="3974" class="pd mf it bd mg pr ps dn mk pt pu dp mo ld pv pw mq lh px py ms ll pz qa mu qb bi translated">分类列:</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qc"><img src="../Images/27e36a2100d4ba1fc98330b280591561.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yA3A_xMGo1Jtc5d9XJylwA.png"/></div></div></figure><p id="185b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我绘制了多个支线剧情来展示<strong class="kw iu">分类</strong>特征相对于<strong class="kw iu">变动</strong>的分布，从而实现了这种可视化。</p><p id="5435" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你觉得很难理解，刷新我的<a class="ae mx" rel="noopener" target="_blank" href="/python-for-data-science-a-guide-to-data-visualization-with-plotly-969a59997d0c">文章</a>:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="1ae2" class="pd mf it oz b gy pe pf l pg ph">#defining data<br/>data = {}<br/>for i in cat_cols:<br/>    for j in df[i].unique().tolist():<br/>        data[i + '_' + j] = go.Bar(<br/>    x=['churn','not churn'],<br/>    y=[(churn[i][churn[i] == j].value_counts().values.tolist()[0]/churn[i].value_counts().values.sum())*100,(not_churn[i][not_churn[i] == j].value_counts().values.tolist()[0]/not_churn[i].value_counts().values.sum())*100],<br/>    name = j,width=0.4)</span></pre><p id="7c21" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于上面的代码块，我们为<strong class="kw iu">的每个唯一值</strong>定义了一个条形图，该值出现在<strong class="kw iu">的每个列</strong>中。结果我们总共有<strong class="kw iu"> 13 </strong>个痕迹。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="8aa4" class="pd mf it oz b gy pe pf l pg ph">#defining layout<br/>layout = go.Layout(<br/>    title = 'Distribution of Categorical Columns in customer attrition',<br/>    barmode='stack',<br/>    showlegend= False<br/>)</span><span id="1f5b" class="pd mf it oz b gy pi pf l pg ph">#defining figure and plotting<br/>fig = tools.make_subplots(rows=2, cols=2, subplot_titles = ('MultipleLines', 'InternetService', 'Contract', 'PaymentMethod'))<br/>fig.append_trace(data['MultipleLines_No phone service'], 1,1)<br/>fig.append_trace(data['MultipleLines_No'], 1,1)<br/>fig.append_trace(data['MultipleLines_Yes'], 1,1)<br/>fig.append_trace(data['InternetService_DSL'], 1,2)<br/>fig.append_trace(data['InternetService_Fiber optic'], 1,2)<br/>fig.append_trace(data['InternetService_No'], 1,2)<br/>fig.append_trace(data['Contract_Month-to-month'], 2,1)<br/>fig.append_trace(data['Contract_One year'], 2,1)<br/>fig.append_trace(data['Contract_Two year'], 2,1)<br/>fig.append_trace(data['PaymentMethod_Electronic check'], 2,2)<br/>fig.append_trace(data['PaymentMethod_Mailed check'], 2,2)<br/>fig.append_trace(data['PaymentMethod_Bank transfer (automatic)'], 2,2)<br/>fig.append_trace(data['PaymentMethod_Credit card (automatic)'], 2,2)<br/>fig.layout.update(layout)<br/>iplot(fig)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qd"><img src="../Images/8deade74056f9b9ebf314565a96f91d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*6fIxpf7Rhb2jnDBJfBkRlA.gif"/></div></div></figure><p id="42e8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从图中，我们可以清楚地观察到流失客户与非流失客户的某些模式。首先，大部分流失客户订阅了按月合同，而留下来的客户分享了几乎相同的 T2 分布。这可能表明逐月订阅本身存在<strong class="kw iu">产品缺陷</strong>。我不会在这里进入所有的细节，但我们可以有效地得出某些<strong class="kw iu">结论</strong>，这将有助于我们以后的机器学习模型。</p><p id="6de0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们对布尔列做同样的事情。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="4078" class="pd mf it oz b gy pe pf l pg ph">#defining data<br/>data = {}<br/>for i in bool_cols:<br/>    for j in df[i].unique().tolist():<br/>        data[i + '_' + j] = go.Bar(<br/>    x=['churn','not churn'],<br/>    y=[(churn[i][churn[i] == j].value_counts().values.tolist()[0]/churn[i].value_counts().values.sum())*100,(not_churn[i][not_churn[i] == j].value_counts().values.tolist()[0]/not_churn[i].value_counts().values.sum())*100],<br/>    name = j,width=0.4)<br/>trace = list(data.keys())</span><span id="ffb2" class="pd mf it oz b gy pi pf l pg ph">#defining layout, fig and plotting<br/>fig = tools.make_subplots(rows=4, cols=3, subplot_titles = ('Partner','SeniorCitizen','Partner', 'Dependents',<br/>       'PhoneService', 'OnlineSecurity', 'OnlineBackup', 'DeviceProtection',<br/>       'TechSupport', 'StreamTV','StreamingMovies','PaperlessBilling'))<br/>fig.append_trace(data[trace[0]], 1,1)<br/>fig.append_trace(data[trace[1]], 1,1)<br/>fig.append_trace(data[trace[2]], 1,2)<br/>fig.append_trace(data[trace[3]], 1,2)<br/>fig.append_trace(data[trace[4]], 1,3)<br/>fig.append_trace(data[trace[5]], 1,3)<br/>fig.append_trace(data[trace[6]], 2,1)<br/>fig.append_trace(data[trace[7]], 2,1)<br/>fig.append_trace(data[trace[8]], 2,2)<br/>fig.append_trace(data[trace[9]], 2,2)<br/>fig.append_trace(data[trace[10]], 2,3)<br/>fig.append_trace(data[trace[11]], 2,3)<br/>fig.append_trace(data[trace[12]], 3,1)<br/>fig.append_trace(data[trace[13]], 3,1)<br/>fig.append_trace(data[trace[14]], 3,2)<br/>fig.append_trace(data[trace[15]], 3,2)<br/>fig.append_trace(data[trace[16]], 3,3)<br/>fig.append_trace(data[trace[17]], 3,3)<br/>fig.append_trace(data[trace[18]], 4,1)<br/>fig.append_trace(data[trace[19]], 4,1)<br/>fig.append_trace(data[trace[20]], 4,2)<br/>fig.append_trace(data[trace[21]], 4,2)<br/>fig.append_trace(data[trace[22]], 4,3)<br/>fig.append_trace(data[trace[23]], 4,3)<br/>fig.layout.update(layout)<br/>iplot(fig)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qd"><img src="../Images/d14cb47a224838178b8551dcedc13069.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*R82V_lm27A73YXwtx-shWQ.gif"/></div></div></figure><p id="7786" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">太美了。从这里，我们可以判断某个特性在流失客户和非流失客户之间的分布是否有很大差异。首先，我们可以看到像<strong class="kw iu">无纸化记账</strong>和<strong class="kw iu">合作伙伴</strong>这样的功能有很大的不同。再说一遍，我不想深入讨论，但你会意识到，你可以在这里做出某些结论。</p><h2 id="a69b" class="pd mf it bd mg pr ps dn mk pt pu dp mo ld pv pw mq lh px py ms ll pz qa mu qb bi translated">数字列:</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/681d71a36e616e0f928daac54c4b2815.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qSxkAKTSwfxIjWlpoLwNuw.png"/></div></div></figure><p id="6177" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们想象一下流失客户和非流失客户的每个<strong class="kw iu">数字</strong>特征的分布。我们先从任期开始。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="618a" class="pd mf it oz b gy pe pf l pg ph">#defining data<br/>trace1 = go.Histogram(x  = churn['tenure'],<br/>                          histnorm= "percent",<br/>                          name = "Churn Customers",<br/>                          marker = dict(line = dict(width = .5,<br/>                                                    color = "black"<br/>                                                    )<br/>                                        ),<br/>                         opacity = 1<br/>                         ) <br/>    <br/>trace2 = go.Histogram(x  = not_churn['tenure'],<br/>                      histnorm = "percent",<br/>                      name = "Non churn customers",<br/>                      marker = dict(line = dict(width = .5,<br/>                                          color = "black"<br/>                                         )<br/>                             ),<br/>                      opacity = .7<br/>                     )<br/>data = [trace1,trace2]</span><span id="0553" class="pd mf it oz b gy pi pf l pg ph">#defining layout<br/>layout = go.Layout(dict(title ='tenure' + " distribution in customer attrition ",<br/>                        plot_bgcolor  = "rgb(243,243,243)",<br/>                        paper_bgcolor = "rgb(243,243,243)",<br/>                        xaxis = dict(gridcolor = 'rgb(255, 255, 255)',<br/>                                         title = 'tenure',<br/>                                         zerolinewidth=1,<br/>                                         ticklen=5,<br/>                                         gridwidth=2<br/>                                        ),<br/>                        yaxis = dict(gridcolor = 'rgb(255, 255, 255)',<br/>                                         title = "percent",<br/>                                         zerolinewidth=1,<br/>                                         ticklen=5,<br/>                                         gridwidth=2<br/>                                        )<br/>                       ),barmode = 'overlay'<br/>                  )</span><span id="8802" class="pd mf it oz b gy pi pf l pg ph">#defining figure and plotting<br/>fig  = go.Figure(data=data,layout=layout)<br/>iplot(fig)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qd"><img src="../Images/06dc355efe8b5683ff265678c0425fb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ahKjQBYWe3-CCdPcJUE1RA.gif"/></div></div></figure><p id="ab0f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">很快我们就能看到分布的巨大差异。<br/>具体来说，在<strong class="kw iu">流失</strong>的客户中，大约有<strong class="kw iu">一半</strong>只在电信公司呆了不到<strong class="kw iu"> 3 个月</strong>。另一方面，<strong class="kw iu">留下来的客户在任期上分享了一个相当平均的分配，稍微偏向于更长的任期。</strong></p><p id="f07a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们对<strong class="kw iu">总费用</strong>和<strong class="kw iu">月费用做同样的事情。</strong></p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="cf76" class="pd mf it oz b gy pe pf l pg ph">#defining data<br/>trace1 = go.Histogram(x  = churn['MonthlyCharges'],<br/>                          histnorm= "percent",<br/>                          name = "Churn Customers",<br/>                          marker = dict(line = dict(width = .5,<br/>                                                    color = "black"<br/>                                                    )<br/>                                        ),<br/>                         opacity = 1<br/>                         )</span><span id="dde6" class="pd mf it oz b gy pi pf l pg ph">trace2 = go.Histogram(x  = not_churn['MonthlyCharges'],<br/>                      histnorm = "percent",<br/>                      name = "Non churn customers",<br/>                      marker = dict(line = dict(width = .5,<br/>                                          color = "black"<br/>                                         )<br/>                             ),<br/>                      opacity = .7<br/>                     )<br/>data = [trace1,trace2]</span><span id="53a3" class="pd mf it oz b gy pi pf l pg ph">#defining layout<br/>layout = go.Layout(dict(title ='MonthlyCharges' + " distribution in customer attrition ",<br/>                        plot_bgcolor  = "rgb(243,243,243)",<br/>                        paper_bgcolor = "rgb(243,243,243)",<br/>                        xaxis = dict(gridcolor = 'rgb(255, 255, 255)',<br/>                                         title = 'monthlycharges',<br/>                                         zerolinewidth=1,<br/>                                         ticklen=5,<br/>                                         gridwidth=1<br/>                                        ),<br/>                        yaxis = dict(gridcolor = 'rgb(255, 255, 255)',<br/>                                         title = "monthlycharges",<br/>                                         zerolinewidth=1,<br/>                                         ticklen=5,<br/>                                         gridwidth=1<br/>                                        )<br/>                       ),barmode = 'overlay'<br/>                  )</span><span id="95d5" class="pd mf it oz b gy pi pf l pg ph">#defining figure and plotting<br/>fig  = go.Figure(data=data,layout=layout)<br/>iplot(fig)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qd"><img src="../Images/3a2f4d7e396262f8f0be7669dc0e015a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*u8AOXEw-dDaswNGAFVlhVQ.gif"/></div></div></figure><p id="9a6a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">类似地，我们看到大多数购买了的顾客每月花费了<strong class="kw iu"> 70 到 110 </strong>的费用。另一方面，大多数入住的顾客每月花费少于 30 美元。作为一名数据从业者，您可以与企业沟通，进一步了解这些客户将钱花在了什么产品/服务上，并进一步分析该产品/服务。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="d898" class="pd mf it oz b gy pe pf l pg ph">#defining data<br/>trace1 = go.Histogram(x  = churn['TotalCharges'],<br/>                          histnorm= "percent",<br/>                          name = "Churn Customers",<br/>                          marker = dict(line = dict(width = .5,<br/>                                                    color = "black"<br/>                                                    )<br/>                                        ),<br/>                         opacity = 1<br/>                         )</span><span id="e36a" class="pd mf it oz b gy pi pf l pg ph">trace2 = go.Histogram(x  = not_churn['TotalCharges'],<br/>                      histnorm = "percent",<br/>                      name = "Non churn customers",<br/>                      marker = dict(line = dict(width = .5,<br/>                                          color = "black"<br/>                                         )<br/>                             ),<br/>                      opacity = .7<br/>                     )<br/>data = [trace1,trace2]</span><span id="e6b9" class="pd mf it oz b gy pi pf l pg ph">#defining layout<br/>layout = go.Layout(dict(title ='TotalCharges' + " distribution in customer attrition ",<br/>                        plot_bgcolor  = "rgb(243,243,243)",<br/>                        paper_bgcolor = "rgb(243,243,243)",<br/>                        xaxis = dict(gridcolor = 'rgb(255, 255, 255)',<br/>                                         title = 'TotalCharges',<br/>                                         zerolinewidth=1,<br/>                                         ticklen=5,<br/>                                         gridwidth=1<br/>                                        ),<br/>                        yaxis = dict(gridcolor = 'rgb(255, 255, 255)',<br/>                                         title = "TotalCharges",<br/>                                         zerolinewidth=1,<br/>                                         ticklen=5,<br/>                                         gridwidth=1<br/>                                        )<br/>                       ),barmode = 'overlay'<br/>                  )</span><span id="cb04" class="pd mf it oz b gy pi pf l pg ph">#defining figure and plotting<br/>fig  = go.Figure(data=data,layout=layout)<br/>iplot(fig)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qd"><img src="../Images/4fe9abe85416cc73f28d5680de0990b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-6MlQE_G6J3-4CYhm5UiaQ.gif"/></div></div></figure><p id="d2b1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">总费用是<strong class="kw iu">而不是</strong>一个很好的特征来做出结论。想想吧。<br/>客户的任期越长，客户花费的总费用越高。因此，总费用<strong class="kw iu">直接受到该客户的租期和月费用</strong>的影响。我们看到，大多数流失客户的总支出少于<strong class="kw iu"> 100，</strong>这是有道理的，因为我们知道，大多数流失客户在前 3 个月就退出了。</p><p id="e813" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">也就是说，让我们想象一下<strong class="kw iu">任期</strong>和<strong class="kw iu">每月</strong> <strong class="kw iu">费用</strong>之间的关系，同时了解这两个特征对<strong class="kw iu">总费用</strong>的影响。当我们这样处理多个变量时，我会想到泡沫图。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="fbf9" class="pd mf it oz b gy pe pf l pg ph">#defining data<br/>trace1 = go.Scatter(x=churn['MonthlyCharges'],y=churn['tenure'],mode = "markers",marker = dict(line = dict(color = "blue"),<br/>                                                                   size=churn['TotalCharges']/180,<br/>                                                        color = 'blue',<br/>                                                      <br/>                                                      ),<br/>                        opacity = .9<br/>                       ,name='churn',showlegend=True)</span><span id="184b" class="pd mf it oz b gy pi pf l pg ph">trace2 = go.Scatter(x=not_churn['MonthlyCharges'],y=not_churn['tenure'],mode = "markers",marker = dict(line = dict(color = "red"),<br/>                                                                   size=not_churn['TotalCharges']/180,<br/>                                                       color = 'red',<br/>                                                      <br/>                                                      ),<br/>                        opacity = 0.5<br/>                       ,name='not_churn',showlegend=True)<br/>data = [trace1, trace2]<br/>                       <br/>#defining layout<br/>layout = go.Layout(dict(title = 'Monthly Charges vs Tenure (radius = total charges)',<br/>                            plot_bgcolor  = "rgb(243,243,243)",<br/>                            paper_bgcolor = "rgb(243,243,243)",<br/>                            xaxis = dict(gridcolor = 'rgb(255, 255, 255)',<br/>                                         title = "monthly charges",<br/>                                         zerolinewidth=1,ticklen=5,gridwidth=2),<br/>                            yaxis = dict(gridcolor = 'rgb(255, 255, 255)',<br/>                                         title = "tenure",<br/>                                         zerolinewidth=1,ticklen=5,gridwidth=2),<br/>                            height = 600<br/>                           )<br/>                      )</span><span id="15df" class="pd mf it oz b gy pi pf l pg ph">#defining figure and plotting<br/>fig = go.Figure(data,layout=layout)<br/>iplot(fig)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/8a4f1b58d96aa36c3768c3ff4cbc9443.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*jg3vJb97b8Vz9B5BuTNKSg.gif"/></div></figure><p id="979a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从图中，我们可以看到，代表总电荷<strong class="kw iu">的气泡</strong>在图的右上角变大。这实质上意味着总费用<strong class="kw iu">直接取决于</strong>每月费用和客户的使用期限。</p><p id="ea3c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">至此，您已经对数据集有了相对<strong class="kw iu">扎实的</strong> <strong class="kw iu">理解</strong>。我将在这里停止我的探索，但这只是我自己。您可以从不同角度进一步研究数据集，例如了解要素之间的关系。天空是极限。</p><p id="c49b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您还可以在这里找到本文的完整代码:</p><div class="nr ns gp gr nt nu"><a href="https://github.com/nickefy/what-to-do-before-machine-learning/blob/master/What%20To%20Do%20Before%20Machine%20Learning.ipynb" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">机器学习之前做什么</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">github.com</p></div></div><div class="od l"><div class="qe l of og oh od oi ks nu"/></div></div></a></div></div><div class="ab cl om on hx oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="im in io ip iq"><h1 id="37a8" class="me mf it bd mg mh ot mj mk ml ou mn mo jz ov ka mq kc ow kd ms kf ox kg mu mv bi translated">恭喜</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qf"><img src="../Images/5d4d2b7a5f46945b2bc82a983c9db516.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HmGaACkAzP-ddPHJ"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">照片由<a class="ae mx" href="https://unsplash.com/@ayahya09?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">阿里·叶海亚</a>在<a class="ae mx" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="d3fc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我赞扬你坚持到最后，因为这可能意味着你对数据充满热情<strong class="kw iu">。你应该担心，它正在接管。</strong></p><p id="045d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">简而言之，这里是你在这里学到的东西:</p><ul class=""><li id="ccc4" class="my mz it kw b kx ky la lb ld na lh nb ll nc lp nd ne nf ng bi translated">数据探索</li><li id="03f7" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">拆分不同类型的数据</li><li id="eac8" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">在数据中定义行标识符、度量和功能</li><li id="fcc0" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">可视化数据以帮助探索</li></ul><p id="eb87" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你现在更愿意建立一个机器学习模型来预测客户的流失，这也是我下一篇文章要做的。</p><h1 id="dd32" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">在你走之前</h1><p id="33aa" class="pw-post-body-paragraph ku kv it kw b kx nm ju kz la nn jx lc ld no lf lg lh np lj lk ll nq ln lo lp im bi translated">我们还没有完成这个数据集。我将对这个数据集执行分类机器学习，以预测客户下次是否会流失。我还在撰写更多关于数据行业的故事、文章和指南。你绝对可以期待更多这样的帖子。与此同时，请随意查看我的其他<a class="ae mx" href="https://medium.com/@nickmydata" rel="noopener">文章</a>来暂时填补您对数据的渴望。</p><p id="f8f7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，我总是会引用一句话。</p><blockquote class="lx ly lz"><p id="776c" class="ku kv ma kw b kx ky ju kz la lb jx lc mb le lf lg mc li lj lk md lm ln lo lp im bi translated">数据是新的科学。大数据掌握着答案。— 安吉拉·阿伦茨</p></blockquote></div><div class="ab cl om on hx oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="im in io ip iq"><h2 id="2938" class="pd mf it bd mg pr ps dn mk pt pu dp mo ld pv pw mq lh px py ms ll pz qa mu qb bi translated">订阅我的时事通讯，保持联系。</h2><p id="9da5" class="pw-post-body-paragraph ku kv it kw b kx nm ju kz la nn jx lc ld no lf lg lh np lj lk ll nq ln lo lp im bi translated"><strong class="kw iu"> <em class="ma">感谢</em> </strong> <em class="ma">的阅读！如果你想与我取得联系，请随时通过 nickmydata@gmail.com 或我的</em> <a class="ae mx" href="https://www.linkedin.com/in/nickefy/" rel="noopener ugc nofollow" target="_blank"> <em class="ma"> linkedIn 个人资料</em> </a> <em class="ma">联系我。也可以在我的</em><a class="ae mx" href="https://github.com/nickefy" rel="noopener ugc nofollow" target="_blank"><em class="ma">Github</em></a><em class="ma">中查看代码。</em></p></div></div>    
</body>
</html>