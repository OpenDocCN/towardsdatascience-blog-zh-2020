<html>
<head>
<title>Going From Stata to Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从Stata到熊猫</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/going-from-stata-to-pandas-706888525acf?source=collection_archive---------23-----------------------#2020-04-22">https://towardsdatascience.com/going-from-stata-to-pandas-706888525acf?source=collection_archive---------23-----------------------#2020-04-22</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="6e0f" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">开始、探索和可视化。专为熟悉或曾经熟悉Stata的人设计的指南。</h2></div><h2 id="03ac" class="kj kk iu bd kl km kn dn ko kp kq dp kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">由三部分组成的单一指南，概述</h2><p id="d417" class="pw-post-body-paragraph lf lg iu lh b li lj jv lk ll lm jy ln ks lo lp lq kw lr ls lt la lu lv lw lx in bi translated">本指南是为想开始学习熊猫的Stata用户准备的。它是使用Stata用户熟知的示例和工作流编写的。此外，本文引用了许多Stata用户都知道的数据。</p><p id="af14" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">在本指南的第1.1部分中，我回顾了Stata用户可能希望开始探索使用Python和Pandas的各种原因。</p><p id="751b" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">在下一节，即第1.2部分，我将演示交叉列表和汇总统计，它们将帮助您开始数据探索过程。</p><p id="cf22" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">最后，在第1.3部分中，我举例说明了各种简单的可视化方法，它们将帮助您继续数据探索过程。</p><h1 id="3caa" class="md kk iu bd kl me mf mg ko mh mi mj kr ka mk kb kv kd ml ke kz kg mm kh ld mn bi translated">第1.1部分:所以，您安装了Python和Pandas，但是您不确定接下来的步骤。</h1><p id="1285" class="pw-post-body-paragraph lf lg iu lh b li lj jv lk ll lm jy ln ks lo lp lq kw lr ls lt la lu lv lw lx in bi translated">Stata和Pandas都为数据操作、可视化、统计等提供了完整(或接近完整)的平台。Stata声称是…</p><blockquote class="mo"><p id="72db" class="mp mq iu bd mr ms mt mu mv mw mx lx dk translated">一个完整的集成软件包，可满足您的所有数据科学需求，包括数据操作、可视化、统计和可再现的报告。(<a class="ae my" href="https://www.stata.com/why-use-stata/" rel="noopener ugc nofollow" target="_blank">stata.com</a></p></blockquote><p id="4074" class="pw-post-body-paragraph lf lg iu lh b li mz jv lk ll na jy ln ks nb lp lq kw nc ls lt la nd lv lw lx in bi translated">熊猫声称是…</p><blockquote class="mo"><p id="6df1" class="mp mq iu bd mr ms mt mu mv mw mx lx dk translated">一个开源、BSD许可的库，为<a class="ae my" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python </a>编程语言提供高性能、易于使用的数据结构和数据分析工具。(【pandas.pydata.org】T4)</p></blockquote><h2 id="3888" class="kj kk iu bd kl km ne dn ko kp nf dp kr ks ng ku kv kw nh ky kz la ni lc ld le bi translated">Stata用户可能想学习熊猫的原因</h2><figure class="nk nl nm nn gu no gi gj paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gi gj nj"><img src="../Images/264d864bb8632563b2b5b2682252c915.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9VUMFQXK4WRZJfWrFy3YPA.png"/></div></div><p class="nv nw gk gi gj nx ny bd b be z dk translated">Stata &amp;熊猫营销图片。</p></figure><p id="10a3" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">一个合作者正在使用熊猫。你是Stata用户，但你合作的研究小组不是。他们用熊猫。在同一个沙盒里，你决定学习熊猫。</p><p id="11c4" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated"><strong class="lh iv">你已经决定要扩展你的技能。准备好迎接新的挑战了吗？也许你读过Stata书店的几本书。您已经创建并发布了用户编写的程序(Stata用户称之为<em class="nz">包</em>)。也许你甚至已经在<a class="ae my" href="http://repec.org/" rel="noopener ugc nofollow" target="_blank">波士顿学院统计软件组件(SSC)档案库</a>发布了一个或多个程序到用户社区的首选存储库中。很明显，你已经准备好扩展你的技能了。</strong></p><p id="c0bf" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated"><strong class="lh iv">您无法访问Stata。或者你预期失去Stata的访问权。Stata是专有的，它的许可费用很高。如果你已经失去或预计失去访问Stata的权限，并且你对为自己购买许可证不感兴趣(尽管它很有价值)，Pandas是一个不错的选择。</strong></p><p id="e396" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated"><strong class="lh iv">其他原因。</strong>为什么一个Stata用户可能想学习熊猫并不重要。本指南是一个不可知论的指南，承认两种语言各有优缺点。在我的工作中，我经常发现一个人继承另一个人留下的东西。</p><h2 id="6114" class="kj kk iu bd kl km kn dn ko kp kq dp kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">本指南假设您已经安装了Python和Pandas</h2><p id="6407" class="pw-post-body-paragraph lf lg iu lh b li lj jv lk ll lm jy ln ks lo lp lq kw lr ls lt la lu lv lw lx in bi translated">为了避免重新发明轮子，本指南除了建议Stata用户考虑安装用于科学研究的<a class="ae my" href="https://www.anaconda.com/distribution/" rel="noopener ugc nofollow" target="_blank"> Anaconda发行版</a>之外，不讨论Python或Pandas的安装。</p><p id="9b06" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">本指南中给出的示例和解释已经使用Anaconda发行版进行了测试。具体来说，这里给出的例子是在Jupyter笔记本中创建的，这是Python的Anaconda发行版中包含的软件。</p><p id="72cd" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">使用Stata著名的汽车数据集示例。<a class="ae my" rel="noopener" target="_blank" href="/three-datasets-i-often-use-as-examples-c70ec5b2f793">我之前已经讨论过这个数据集，它对于测试或训练是有用的</a>。在Jupyter笔记本中加载该数据集通常会是这样的:</p><figure class="nk nl nm nn gu no gi gj paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gi gj oa"><img src="../Images/faec8de3d1b72d2d65fac251c3976f9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oc84nwIfkSxfJ80xOYUNgA.png"/></div></div><p class="nv nw gk gi gj nx ny bd b be z dk translated">运行Python 3内核的Jupyter笔记本。使用Stata示例汽车数据集的熊猫插图。</p></figure><p id="cc8a" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">接下来在第1.2部分，我将演示交叉列表和汇总统计，这将帮助您开始数据探索过程。在最后一节，第1.3部分，我将演示简单的可视化，让您继续数据探索过程。</p><h1 id="17b6" class="md kk iu bd kl me mf mg ko mh mi mj kr ka mk kb kv kd ml ke kz kg mm kh ld mn bi translated">第1.2部分:安装Python和Pandas之后，接下来是您的步骤。</h1><h2 id="444b" class="kj kk iu bd kl km kn dn ko kp kq dp kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">加载自动数据集</h2><p id="7ba3" class="pw-post-body-paragraph lf lg iu lh b li lj jv lk ll lm jy ln ks lo lp lq kw lr ls lt la lu lv lw lx in bi translated">在Stata中加载汽车数据集很容易:<code class="fe ob oc od oe b">sysuse auto</code>。在Python中，这个过程可以分两行完成。但是为了使代码更易读，我把它分成三行:</p><pre class="nk nl nm nn gu of oe og oh aw oi bi"><span id="166e" class="kj kk iu oe b gz oj ok l ol om">import pandas as pd</span><span id="fa57" class="kj kk iu oe b gz on ok l ol om">auto = 'http://www.stata-press.com/data/r15/auto2.dta'<br/>df = pd.read_stata(auto)</span></pre><p id="81a3" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">就是这样！简单。如果你是一个新的熊猫用户，如果你正在跟随祝贺！您已经将第一个数据集加载到内存中。</p><p id="e41e" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">你会注意到的第一件事是，在Python中工作，很少有“输出”输出是语言提供的信息，用来帮助验证命令是否完成了您想要它做的事情。关于这方面的更多信息，请参见我的相关文章<a class="ae my" rel="noopener" target="_blank" href="/merging-data-the-pandas-missing-output-dafca42c9fe">合并数据:熊猫丢失输出</a>。</p><p id="27d6" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">在Python中，这种反馈要少得多。验证您是否正确加载了汽车数据集。试试代码<code class="fe ob oc od oe b">df.head()</code>大致相当于Stata的<code class="fe ob oc od oe b">list in 1/5</code>。以下是您应该看到的内容:</p><figure class="nk nl nm nn gu no gi gj paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gi gj oo"><img src="../Images/7518d524607ab164e05fe77906188323.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-P-brDCLgbPe74IxKFpleQ.png"/></div></div><p class="nv nw gk gi gj nx ny bd b be z dk translated">运行Python内核的Jupyter笔记本。使用Stata汽车数据集的熊猫插图。</p></figure><h2 id="95f3" class="kj kk iu bd kl km kn dn ko kp kq dp kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">交叉制表</h2><p id="8fa6" class="pw-post-body-paragraph lf lg iu lh b li lj jv lk ll lm jy ln ks lo lp lq kw lr ls lt la lu lv lw lx in bi translated">交叉列表法是最简单的分析技术之一。这种技术包括将两个或多个分类变量之间的出现次数制成表格。</p><p id="f94e" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">Stata的局限性在于，涉及两个或三个以上分类变量的交叉列表是有限的。对熊猫来说，三个或更多种类是没有问题的。</p><p id="3a54" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">与汽车数据集的双向列表:</p><pre class="nk nl nm nn gu of oe og oh aw oi bi"><span id="1257" class="kj kk iu oe b gz oj ok l ol om">pd.crosstab(df['rep78'], df['foreign'])</span></pre><figure class="nk nl nm nn gu no gi gj paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gi gj op"><img src="../Images/0f7d4fd8af9ce9b09ea15429447929b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F7CUsqinEYMZER0uZjvkhA.png"/></div></div><p class="nv nw gk gi gj nx ny bd b be z dk translated">运行Python内核的Jupyter笔记本。两个变量(维修记录和制造来源)的交叉列表。使用Stata汽车数据集的熊猫插图。</p></figure><p id="e4ac" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">仔细看，这个表格遗漏了一些数据。为了让Stata在其交叉表中包含缺失的数据，跟在<code class="fe ob oc od oe b">tab</code>命令后面的<code class="fe ob oc od oe b">mi</code>选项将提供更完整的数据视图。把它放在一起，在Stata它会是<code class="fe ob oc od oe b">tab foreign rep78, mi</code>。</p><p id="ceac" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">在Pandas中，需要两行来显示更完整的数据视图:</p><pre class="nk nl nm nn gu of oe og oh aw oi bi"><span id="66a0" class="kj kk iu oe b gz oj ok l ol om"># Specify a new category among the repair records.<br/>df['rep78'].cat.add_categories('No Record', inplace=True)</span><span id="644b" class="kj kk iu oe b gz on ok l ol om"># Generate a tabulation using the fillna() method.<br/>pd.crosstab(df['foreign'], df['rep78'].fillna('No Record'))</span></pre><figure class="nk nl nm nn gu no gi gj paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gi gj op"><img src="../Images/846559b831ea937a4dd4c980f7911659.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*udv1us5uNwg7zov2vfIEVg.png"/></div></div><p class="nv nw gk gi gj nx ny bd b be z dk translated">运行Python内核的Jupyter笔记本。两个变量的交叉列表(维修记录和制造来源，包括缺失数据)。使用Stata汽车数据集的熊猫插图。</p></figure><h2 id="93c5" class="kj kk iu bd kl km kn dn ko kp kq dp kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">汇总统计数据</h2><p id="5f5b" class="pw-post-body-paragraph lf lg iu lh b li lj jv lk ll lm jy ln ks lo lp lq kw lr ls lt la lu lv lw lx in bi translated">Stata中的汇总统计并不复杂。查看连续变量的最快方法之一是键入<code class="fe ob oc od oe b">sum</code>。通过汽车数据集，您可以:</p><figure class="nk nl nm nn gu no gi gj paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gi gj oq"><img src="../Images/67249fbafcf856ca860fa219477d17e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UCL_UApWhKD-h7qpLukgVg.png"/></div></div><p class="nv nw gk gi gj nx ny bd b be z dk translated">Stata汽车数据集的汇总统计数据。</p></figure><p id="ef78" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">在Pandas中，最接近这种输出的命令是<code class="fe ob oc od oe b">df.describe().transpose()</code>，它将给出:</p><figure class="nk nl nm nn gu no gi gj paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gi gj or"><img src="../Images/0b9f03afaa87a10846de240add53c996.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lap35CdZL8a4Z7E8Mc2tkg.png"/></div></div><p class="nv nw gk gi gj nx ny bd b be z dk translated">运行Python内核的Jupyter笔记本。跨行显示变量名的汇总统计信息，沿列显示统计信息。使用Stata汽车数据集的熊猫插图。</p></figure><p id="a5fc" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">大多数Pandas用户会使用<code class="fe ob oc od oe b">df.describe()</code>，它在输出的顶部显示变量名，在每行显示统计数据。作为一名Stata用户，我添加了<code class="fe ob oc od oe b">transpose()</code>方法，该方法旋转输出以更好地匹配我习惯的Stata惯例。</p><p id="95b5" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">另外，熊猫的默认输出也给出了第25、50和75个百分点。当然，第50百分位是最有用的中间值。Stata的默认输出中没有提供这些额外的统计数据。</p><p id="d7fe" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">如果你正在跟随并且感觉冒险，通过执行以下来测试你的直觉:</p><pre class="nk nl nm nn gu of oe og oh aw oi bi"><span id="0f32" class="kj kk iu oe b gz oj ok l ol om">df[['price','mpg','foreign']].groupby('foreign').describe()</span></pre><p id="2f7e" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">看看你是否能正确预测输出会是什么。此外，努力调整代码以进行定制，以便您可以探索价格(price)或里程数(mpg)之外的其他变量。</p><p id="06db" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">接下来的第1.3部分演示了各种简单的可视化，让您可以继续数据探索过程。</p><h1 id="1c80" class="md kk iu bd kl me mf mg ko mh mi mj kr ka mk kb kv kd ml ke kz kg mm kh ld mn bi translated">第1.3部分:交叉列表和总结数据后，进行简单的可视化。</h1><h2 id="f72a" class="kj kk iu bd kl km kn dn ko kp kq dp kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">直方图和散点图得到升级</h2><p id="15db" class="pw-post-body-paragraph lf lg iu lh b li lj jv lk ll lm jy ln ks lo lp lq kw lr ls lt la lu lv lw lx in bi translated">我最喜欢在熊猫而不是Stata中进行数据探索的一个部分是散点图和直方图的组合——在同一个图中。</p><p id="f445" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">直方图一次显示一个变量的分布。散点图说明了两个或多个变量之间的关系。</p><p id="a5fe" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">Pandas提供了对jointplot的访问，它将散点图和直方图的优点结合成一个。再次使用Stata的汽车数据集:</p><pre class="nk nl nm nn gu of oe og oh aw oi bi"><span id="6f11" class="kj kk iu oe b gz oj ok l ol om">import pandas as pd<br/>import seaborn as sns<br/>%matplotlib inline</span><span id="e271" class="kj kk iu oe b gz on ok l ol om">auto = 'http://www.stata-press.com/data/r15/auto2.dta'<br/>df = pd.read_stata(auto)</span><span id="e958" class="kj kk iu oe b gz on ok l ol om">sns.jointplot(x='weight',y='mpg',data=df, kind='scatter')</span></pre><figure class="nk nl nm nn gu no gi gj paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gi gj os"><img src="../Images/3fd93e33fd7c485bd3bb1ca675c8a254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ThKMGMHDQAf8ObtTSma42w.png"/></div></div><p class="nv nw gk gi gj nx ny bd b be z dk translated">运行Python内核的Jupyter笔记本。说明英里数(mpg)和汽车重量(以磅为单位)之间关系的联合图。使用Stata汽车数据集的熊猫插图。</p></figure><p id="c3e6" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">这个可视化探索了里程(在纵轴<em class="nz"> y </em>上以每加仑英里数表示)和车辆重量(在<em class="nz"> x </em>轴上以磅数表示)之间的关系。与直觉和一般理解一致，可视化表明，随着车辆重量增加，车辆里程减少。</p><p id="89a6" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">这个连接图显示了这两个变量(体重和mpg)之间的关系，以及这些变量的分布情况。作为一个额外的奖励，这个可视化显示了这两个变量的皮尔逊相关系数及其<em class="nz"> p </em>值。</p><h2 id="4980" class="kj kk iu bd kl km kn dn ko kp kq dp kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">配对图</h2><p id="9a73" class="pw-post-body-paragraph lf lg iu lh b li lj jv lk ll lm jy ln ks lo lp lq kw lr ls lt la lu lv lw lx in bi translated">此外，pairplot可以方便地比较数据集内的许多变量。配对图提供了散点图矩阵，类似于典型的相关矩阵。下面将比较里程(mpg)、重量(weight)、长度(length)、价格(price):</p><pre class="nk nl nm nn gu of oe og oh aw oi bi"><span id="db99" class="kj kk iu oe b gz oj ok l ol om">sns.pairplot(df[['mpg','weight','length','price']])</span></pre><figure class="nk nl nm nn gu no gi gj paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gi gj ot"><img src="../Images/2312fc869282b7c615f858da2a8a861d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rlDkU4B3OnhPM-gl3fTQwg.png"/></div></div><p class="nv nw gk gi gj nx ny bd b be z dk translated">运行Python内核的Jupyter笔记本。说明里程(mpg)、重量(weight)、长度(length)和价格(price)之间关系的Pairplot。使用Stata汽车数据集的熊猫插图。</p></figure><p id="6158" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">为了增加分类比较，这里我们将比较国外制造和国内制造，我们可以调整代码以包括几个附加参数:</p><pre class="nk nl nm nn gu of oe og oh aw oi bi"><span id="3a24" class="kj kk iu oe b gz oj ok l ol om">sns.pairplot(df[['mpg','weight','length','price','foreign']],<br/>             kind='scatter', plot_kws={'alpha': 0.5}, <br/>             hue='foreign')</span></pre><figure class="nk nl nm nn gu no gi gj paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gi gj ot"><img src="../Images/45f53528b6b38e47261c42c70b919e51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5rK0rJNt3et6WRzR0aLOtg.png"/></div></div><p class="nv nw gk gi gj nx ny bd b be z dk translated">运行Python内核的Jupyter笔记本。说明里程(mpg)、重量(weight)、长度(length)和价格(price)之间关系的Pairplot。在这个可视化中，我们还比较了国外和国内的制造来源。使用Stata汽车数据集的熊猫插图。</p></figure><p id="079a" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">在添加了额外的论点之后，这些论点产生了一种视觉效果，可以让你比较国内制造的车辆和国外制造的车辆，新的模式开始出现，这可能会为进一步的分析提供信息。</p><div class="ou ov gq gs ow ox"><a href="https://adamrossnelson.medium.com/membership" rel="noopener follow" target="_blank"><div class="oy ab fp"><div class="oz ab pa cl cj pb"><h2 class="bd iv gz z fq pc fs ft pd fv fx it bi translated">加入我的介绍链接媒体-亚当罗斯纳尔逊</h2><div class="pe l"><h3 class="bd b gz z fq pc fs ft pd fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="pf l"><p class="bd b dl z fq pc fs ft pd fv fx dk translated">adamrossnelson.medium.com</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl nt ox"/></div></div></a></div><h1 id="edc0" class="md kk iu bd kl me mf mg ko mh mi mj kr ka mk kb kv kd ml ke kz kg mm kh ld mn bi translated">结论</h1><p id="e274" class="pw-post-body-paragraph lf lg iu lh b li lj jv lk ll lm jy ln ks lo lp lq kw lr ls lt la lu lv lw lx in bi translated">本文分为三个部分，旨在帮助Stata用户考虑如何过渡到Python和Pandas。如果目标不是过渡，本指南将帮助Stata用户开始学习一种新工具，可以补充您在Stata中正在进行的工作。Stata和熊猫各有优缺点。</p><p id="9c3e" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">在最基本的层面上，一旦你对Stata的熟练程度达到了中级或更高级，那么通过学习Python和Pandas来增加你的技能是值得的。本文展示了将帮助您开始数据探索过程的技术。</p><p id="d2b9" class="pw-post-body-paragraph lf lg iu lh b li ly jv lk ll lz jy ln ks ma lp lq kw mb ls lt la mc lv lw lx in bi translated">第1.1部分回顾了Stata用户可能希望开始探索使用Python和Pandas的各种原因。第1.2和1.3部分演练了使用Stata流行的汽车数据集进行数据探索、分析和可视化的基本示例。</p><h1 id="4d4e" class="md kk iu bd kl me mf mg ko mh mi mj kr ka mk kb kv kd ml ke kz kg mm kh ld mn bi translated">感谢阅读</h1><p id="a883" class="pw-post-body-paragraph lf lg iu lh b li lj jv lk ll lm jy ln ks lo lp lq kw lr ls lt la lu lv lw lx in bi translated">感谢阅读。把你的想法和主意发给我。你可以写信只是为了说声嗨。如果你真的需要告诉我是怎么错的，我期待着尽快和你聊天。推特:<a class="ae my" href="https://twitter.com/adamrossnelson" rel="noopener ugc nofollow" target="_blank">@ adamrossnelson</a>LinkedIn:<a class="ae my" href="https://www.linkedin.com/in/arnelson/" rel="noopener ugc nofollow" target="_blank">亚当罗斯尼尔森</a>。</p></div></div>    
</body>
</html>