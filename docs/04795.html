<html>
<head>
<title>Parse Thousands of Stock Recommendations in Minutes with Python!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python在几分钟内解析数千份股票推荐！</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/parse-thousands-of-stock-recommendations-in-minutes-with-python-6e3e562f156d?source=collection_archive---------12-----------------------#2020-04-27">https://towardsdatascience.com/parse-thousands-of-stock-recommendations-in-minutes-with-python-6e3e562f156d?source=collection_archive---------12-----------------------#2020-04-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f136" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何在不到3分钟的时间内解析顶级分析师的数千条建议！</h2></div><p id="cbbf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你和我一样，你可能已经想了很多次什么股票是最热门的，分析师如何轻松地发现这些股票。我会经常在雅虎财经页面上随意查找一些股票，看看它们的评级是否很高。我也知道必须有一个更好的方法来找到这些随机股票，所以我用不到40行代码创建了这个简单的解析器。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi le"><img src="../Images/d5157e810a698fcb71d90f26c121b2c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*jQLw52gWemIGbf6hzaYMqA.jpeg"/></div><p class="lm ln gj gh gi lo lp bd b be z dk translated">照片由<a class="ae lq" href="https://unsplash.com/@jamie452?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">杰米街</a>在<a class="ae lq" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="b43f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我进入编码方面之前，我想快速了解一下雅虎财经页面上的这些推荐内容和位置。如果你转到<a class="ae lq" href="https://finance.yahoo.com/" rel="noopener ugc nofollow" target="_blank">页面</a>并输入一只股票，你会看到类似我下面的图片。该页面包括股票表现和关键统计数据的交互式图表，如市盈率、每股收益、Beta值、股息信息等。你甚至可以在左下角看到这只股票目前是被低估了，还是被高估了，或者处于合理的价值。然而，这不是建议的位置。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lr"><img src="../Images/32e92c356a23ef2c01c819255bc087ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HmlXVqY9f7gwiK9IVhS_ww.jpeg"/></div></div><p class="lm ln gj gh gi lo lp bd b be z dk translated">苹果的雅虎财经页面</p></figure><p id="8842" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你继续向下滚动，页面右侧会出现一个类似下图的图表，概述了分析师在过去几个月对特定股票的建议。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/7027be92d12bc7365a21f60693bb0d3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:638/format:webp/1*EyQxWMzQlBSqcVc23xeKbw.png"/></div><p class="lm ln gj gh gi lo lp bd b be z dk translated">雅虎财经股票分析师推荐图</p></figure><p id="e4f8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">股票分析师将股票分为1-5级，1级表示强烈买入，5级表示强烈卖出。推荐的平均值是底部的推荐评级(苹果的评级为2)。我的算法解析给定列表中每只股票的值，然后将数据下载到CSV文件中。下面的GitHub要点包含了所有的代码。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="lx ly l"/></div><p class="lm ln gj gh gi lo lp bd b be z dk translated">解析算法的所有代码。</p></figure><p id="b756" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，我们必须导入依赖项，然后定义两个变量。跑马灯列表目前设置为包含标准普尔500的所有跑马灯符号，但可以根据您的喜好进行更改。如果您要增加代码列表，我建议取消注释第31行中的“time.sleep(0.5)”代码。建议变量被设置为一个空列表，这样我们就可以用它来存储我们从即将到来的for循环中收集的值。</p><p id="aa80" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">for循环实际上包含解析算法，该算法允许Python访问每只股票的雅虎财经页面，并收集其各自的推荐评级。任何没有有效评级值的公司都将以值6保存到列表中。</p><p id="0921" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，将创建一个熊猫数据框架，其中包含每个股票及其推荐。然后，数据帧将作为CSV文件下载到您的计算机上。</p><p id="4de6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我希望这个程序将来会对你有用。非常感谢您的阅读！</p><p id="4266" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="lz">免责声明:本文材料纯属教育性质，不应作为专业投资建议。自行决定投资。</em></p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><p id="6f9e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">参考文献:</strong></p><div class="mh mi gp gr mj mk"><a href="https://stackoverflow.com/a/42237860/11915680" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab fo"><div class="mm ab mn cl cj mo"><h2 class="bd iu gy z fp mp fr fs mq fu fw is bi translated">解析雅虎财经</h2><div class="mr l"><h3 class="bd b gy z fp mp fr fs mq fu fw dk translated">感谢贡献一个堆栈溢出的答案！请务必回答问题。提供详细信息并分享…</h3></div><div class="ms l"><p class="bd b dl z fp mp fr fs mq fu fw dk translated">stackoverflow.com</p></div></div><div class="mt l"><div class="mu l mv mw mx mt my lk mk"/></div></div></a></div></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><p id="542d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你喜欢这篇文章，可以看看下面我写的其他一些Python for Finance文章！</p><div class="mh mi gp gr mj mk"><a rel="noopener follow" target="_blank" href="/stock-news-sentiment-analysis-with-python-193d4b4378d4"><div class="ml ab fo"><div class="mm ab mn cl cj mo"><h2 class="bd iu gy z fp mp fr fs mq fu fw is bi translated">用Python进行股票新闻情绪分析！</h2><div class="mr l"><h3 class="bd b gy z fp mp fr fs mq fu fw dk translated">对财经新闻进行秒级情感分析！</h3></div><div class="ms l"><p class="bd b dl z fp mp fr fs mq fu fw dk translated">towardsdatascience.com</p></div></div><div class="mt l"><div class="mz l mv mw mx mt my lk mk"/></div></div></a></div><div class="mh mi gp gr mj mk"><a rel="noopener follow" target="_blank" href="/making-a-stock-screener-with-python-4f591b198261"><div class="ml ab fo"><div class="mm ab mn cl cj mo"><h2 class="bd iu gy z fp mp fr fs mq fu fw is bi translated">用Python制作股票筛选程序！</h2><div class="mr l"><h3 class="bd b gy z fp mp fr fs mq fu fw dk translated">学习如何用Python制作一个基于Mark Minervini的趋势模板的强大的股票筛选工具。</h3></div><div class="ms l"><p class="bd b dl z fp mp fr fs mq fu fw dk translated">towardsdatascience.com</p></div></div><div class="mt l"><div class="na l mv mw mx mt my lk mk"/></div></div></a></div><div class="mh mi gp gr mj mk"><a rel="noopener follow" target="_blank" href="/creating-a-finance-web-app-in-3-minutes-8273d56a39f8"><div class="ml ab fo"><div class="mm ab mn cl cj mo"><h2 class="bd iu gy z fp mp fr fs mq fu fw is bi translated">在3分钟内创建一个财务Web应用程序！</h2><div class="mr l"><h3 class="bd b gy z fp mp fr fs mq fu fw dk translated">了解如何使用Python中的Streamlit创建技术分析应用程序！</h3></div><div class="ms l"><p class="bd b dl z fp mp fr fs mq fu fw dk translated">towardsdatascience.com</p></div></div><div class="mt l"><div class="nb l mv mw mx mt my lk mk"/></div></div></a></div></div></div>    
</body>
</html>