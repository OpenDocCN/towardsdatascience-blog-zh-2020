# ä¼¦æ•¦ä¸œåŒºçš„ç²‰ä¸å–œæ¬¢ Hollyoaks å—ï¼Ÿ

> åŸæ–‡ï¼š<https://towardsdatascience.com/do-eastenders-fans-like-hollyoaks-analysis-in-r-4eed0fe3b7e?source=collection_archive---------61----------------------->

## ä½¿ç”¨ rtweet å’Œ VennDiagram è¿›è¡Œç®€å•çš„ Twitter è¿½éšè€…é‡å åˆ†æã€‚

![](img/d66a6b53d5908c681f8f8c4d3e8b51b6.png)

Joshua Hoehne åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

æƒ³çŸ¥é“ä½ å’Œä½ æœ€å–œæ¬¢çš„åäººæœ‰å¤šå°‘ç²‰ä¸å—ï¼Ÿæ²¡æœ‰å—ï¼Ÿå“¦..æˆ‘ä¹Ÿæ²¡æœ‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ *çœŸçš„*æƒ³çŸ¥é“ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ R è„šæœ¬ï¼Œä½¿ç”¨ rtweet å’Œ [VennDiagram](https://cran.r-project.org/web/packages/VennDiagram/VennDiagram.pdf) æ¥æ‰¾å‡ºç­”æ¡ˆã€‚

ä¾‹å¦‚ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„å°è„šæœ¬ï¼Œå¯ä»¥ç”¨æ¥å†™é‚£äº›â€œå€¼å¾—æ‹¥æœ‰â€çš„åˆ†æï¼›åˆ†æä½ çš„å“ç‰Œå’Œç«äº‰å¯¹æ‰‹çš„è¿½éšè€…é‡å ï¼Œæˆ–è€…å›ç­”ç±»ä¼¼*ä¼¦æ•¦ä¸œåŒºçš„ç²‰ä¸å–œæ¬¢ Hollyoaks å—ï¼Ÿç»§ç»­æ»šåŠ¨æŸ¥çœ‹å¤§æ­ç§˜ï¼*

å®Œæ•´çš„è„šæœ¬(ä¸‹é¢çš„åˆ†æ­¥æŒ‡å—):

# é€æ­¥åœ°

## æ­¥éª¤ 1 â€”è¿è¡Œæ‰€éœ€çš„åŒ…

è¿™ä¸ªè„šæœ¬ä½¿ç”¨äº† 3 ä¸ªåŒ…:

*   [rtweet](https://cran.r-project.org/web/packages/rtweet/rtweet.pdf) â€”ä» Twitter API æ”¶é›†æ‰€éœ€çš„æ•°æ®ã€‚
*   Tidyverse â€”å¤„ç†æ•°æ®ã€‚
*   [æ–‡è¿ªé›…å›¾](https://cran.r-project.org/web/packages/VennDiagram/VennDiagram.pdf) â€”å¯è§†åŒ–æ•°æ®ã€‚

```
library(rtweet)
library(tidyverse)
library(VennDiagram)
```

å½“æ‚¨ç¬¬ä¸€æ¬¡è¿è¡Œ [**rtweet**](https://cran.r-project.org/web/packages/rtweet/rtweet.pdf) åŒ…æ—¶ï¼ŒR ä¼šå°è¯•æ‰“å¼€æ‚¨çš„ç½‘ç»œæµè§ˆå™¨ï¼Œä»¥ä¾¿æ‚¨ç™»å½•å¹¶å…è®¸è®¿é—® Twitterã€‚

## ç¬¬ 2 æ­¥â€”è®¾ç½®è´¦æˆ·

è®¾ç½®ä½ æƒ³è¦åˆ†æçš„è´¦æˆ·ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šçœ‹åˆ°è‹±å›½çš„ Soap Twitter è´¦æˆ·ã€‚åœ¨ä¸‹é¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬é™ˆè¿°çš„ç”¨æˆ·åä¸ Twitter ä¸Šæ˜¾ç¤ºçš„å®Œå…¨ä¸€æ ·ã€‚æˆ‘ä»¬å°†å­˜å‚¨å®ƒï¼Œä»¥ä¾¿åœ¨æ”¶é›†æ•°æ®æ—¶åœ¨å‡½æ•°ä¸­ä½¿ç”¨ï¼Œå¹¶åœ¨ç¨åå‘½åç»´æ©å›¾çš„åŒºåŸŸæ—¶ä½¿ç”¨ï¼Œä»¥ä½¿è„šæœ¬å¯é‡ç”¨ã€‚

```
a_name <- â€œitvcorrieâ€
b_name <- â€œbbceastendersâ€
c_name <- â€œemmerdaleâ€
d_name <- â€œHollyoaksâ€
```

## æ­¥éª¤ 3 â€”æ”¶é›†æ•°æ®

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ **rtweet** åŒ…ä¸­çš„ **get_followers** å‡½æ•°æ¥æ”¶é›†è‹±å›½è‚¥çš‚å‰§å…³æ³¨è€…çš„ç”¨æˆ· idğŸ“ºæ¨ç‰¹è´¦æˆ·ã€‚

ä»¥ä¸‹ä»£ç ç‰‡æ®µå°†æ”¶é›†æ‰€æœ‰ç”¨æˆ· id çš„è¡¨æ•°æ®å¸§ï¼Œå­˜å‚¨ä¸º aã€bã€c å’Œ dï¼Œä¾›ä»¥ååœ¨ç»´æ©å›¾ä¸­ä½¿ç”¨ã€‚

å¦‚æœæ‚¨æ­£åœ¨åˆ†ææ‹¥æœ‰å¤§é‡è¿½éšè€…çš„å¸æˆ·ï¼Œæ­¤æ­¥éª¤å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ **lookup_users** å‡½æ•°æ”¶é›†å…³äºå¸æˆ·çš„é«˜çº§æ•°æ®ï¼Œå¹¶å°†å…¶å­˜å‚¨ä¸º X *_lookupã€‚*æ•°æ®æå–åŒ…å«ä¸€ä¸ªåˆ—ï¼Œå…¶ä¸­åŒ…å«è¯¥å¸æˆ·çš„å…³æ³¨è€…æ€»æ•°ã€‚

```
a_lookup <- lookup_users(a_name)
```

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è·å–å…³æ³¨è€…çš„æ•°é‡å¹¶å­˜å‚¨ä¸º **n** ï¼Œè¿™å°†å‘Šè¯‰ä¸‹ä¸€ä¸ªå‡½æ•°ä½•æ—¶åœæ­¢æ”¶é›†ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬æœ‰ä¸€ä¸ªå®Œæ•´çš„æ•°æ®é›†ã€‚å¦‚æœæ‚¨æƒ³å¯¹æ•°æ®é›†è¿›è¡Œé‡‡æ ·ï¼Œæ‚¨å¯ä»¥å¯¹è¯¥éƒ¨åˆ†åº”ç”¨é‡‡æ ·å‡½æ•°ã€‚åœ¨æ²¡æœ‰å£°æ˜ **n** çš„æƒ…å†µä¸‹ï¼Œ **get_followers** å‡½æ•°ä¼šè‡ªåŠ¨æŠ½å–ä¸€ä¸ªéå¸¸å¤§çš„æ•°æ®æ ·æœ¬ã€‚

```
n = a_lookup$followers_count
```

ç°åœ¨æ”¶é›†ç”¨æˆ· idã€‚ä½¿ç”¨ **get_followers** å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å£°æ˜æ„Ÿå…´è¶£çš„ç”¨æˆ·å(æˆ‘ä»¬åœ¨æ­¥éª¤ 2 ä¸­å°†å…¶å­˜å‚¨ä¸ºä¸€ä¸ªå€¼)ã€æˆ‘ä»¬å¸Œæœ›æ”¶é›†çš„å…³æ³¨è€…æ•°é‡(nï¼Œå¦‚ä¸Šæ‰€è¿°)ä»¥åŠè®¾ç½®ä¸º **TRUE çš„ **retryonratelimit** å­å¥ã€‚**è¿™å°†ç¡®ä¿ **get_followers** å‡½æ•°åœ¨è¾¾åˆ°é€Ÿç‡é™åˆ¶æ—¶ç»§ç»­è¿è¡Œã€‚*æ³¨æ„ï¼Œ*é€Ÿç‡é™åˆ¶æ˜¯ä¸ºæ‚¨çš„æ•´ä¸ªä¼šè¯è®¾ç½®çš„ï¼Œè€Œä¸æ˜¯ä¸ºæ¯ä¸ªç”¨æˆ·åè®¾ç½®çš„ã€‚è¾¾åˆ°é€Ÿç‡é™åˆ¶å’Œé‡è¯•ä¹‹é—´é€šå¸¸éœ€è¦ 10-15 åˆ†é’Ÿï¼Œæ‰€ä»¥å¦‚æœæ‚¨æƒ³å¤„ç†å¤§å‹æ•°æ®é›†ï¼Œè¯·è®°ä½è¿™ä¸€ç‚¹ã€‚

```
a <- get_followers(a_name, n = n, retryonratelimit = TRUE)
```

æˆ‘ä»¬é‡å¤è¿™ä¸ªè¿‡ç¨‹æ¥æå–å­˜å‚¨åœ¨ aã€bã€cã€d _ name ä¸‹çš„ç”¨æˆ·åæ‰€éœ€çš„æ‰€æœ‰æ•°æ®ï¼Œä»¥åˆ›å»º 4 ä¸ªæ•´æ´çš„æ•°æ®é›†ã€‚

åœ¨ä½ ç­‰å¾…è¿™ä¸ªéƒ¨åˆ†è¿è¡Œçš„æ—¶å€™ï¼Œæœ€å¥½æŠŠæ°´å£¶æ”¾ä¸Šã€‚ â˜•

```
a_lookup <- lookup_users(a_name)
n = a_lookup$followers_count
a <- get_followers(a_name, n = n, retryonratelimit = TRUE)b_lookup <- lookup_users(b_name)
n = b_lookup$followers_count
b <- get_followers(b_name, n = n, retryonratelimit = TRUE)c_lookup <- lookup_users(c_name)
n = c_lookup$followers_count
c <- get_followers(c_name, n = n, retryonratelimit = TRUE)d_lookup <- lookup_users(d_name)
n = d_lookup$followers_count
d <- get_followers(d_name, n = n, retryonratelimit = TRUE)
```

## æ­¥éª¤ 4 â€”å¯è§†åŒ–æ•°æ®

4 å¤©åï¼Œæˆ‘ä»¬ç»ˆäºæ”¶é›†åˆ°äº†æˆ‘ä»¬éœ€è¦çš„æ•°æ®ğŸ˜„ç°åœ¨æ˜¯æˆ‘ä»¬æœŸå¾…å·²ä¹…çš„æ—¶åˆ»ï¼Œè§†è§‰åŒ–ï¼

æˆ‘ä»¬å°†ä½¿ç”¨ [**æ–‡è¿ªé›…å›¾**](https://cran.r-project.org/web/packages/VennDiagram/VennDiagram.pdf) åŒ…æ¥åˆ†æç»“æœã€‚

ä¸‹é¢ä½¿ç”¨çš„**æ–‡æ°å›¾**åŠŸèƒ½ä¸»è¦å…³æ³¨ä»¥ä¸‹å†…å®¹:

*   **x** =æ‚¨æƒ³è¦å¯è§†åŒ–çš„æ•°æ®ã€‚è¿™é‡Œé‡‡å–äº†ä¸€ä¸ªé¢å¤–çš„æ­¥éª¤ï¼Œä»æ¯ä¸ªè¡¨æ•°æ®æ¡†ä¸­æå–ç”¨æˆ· ID æ•°æ®å¹¶è½¬æ¢ä¸ºå­—ç¬¦å€¼ï¼Œæ‚¨å¯ä»¥å‡å°‘æˆ–æ‰©å±•åˆ—è¡¨ä»¥åŒ¹é…æ‚¨æƒ³è¦åˆ†æçš„ç”¨æˆ·æ•°é‡ã€‚
*   **category.names** =æ­¥éª¤ 2 ä¸­åˆ›å»ºçš„å€¼ï¼Œæ‚¨å¯ä»¥ç¼©å°æˆ–æ‰©å¤§åˆ—è¡¨ä»¥åŒ¹é…æ‚¨æƒ³è¦åˆ†æçš„ç”¨æˆ·æ•°é‡ã€‚
*   **filename** =åŒ…å«çŸ¢é‡è¾“å‡ºçš„ png æ–‡ä»¶çš„åç§°ï¼Œæ‚¨å¯ä»¥éšæ„é‡å‘½åã€‚
*   **col** =æ¯ä¸ªåŒºåŸŸå‘¨å›´çš„è¾¹æ¡†ï¼Œè¿™æ˜¯ç°è‰²çš„ï¼Œå¯ä»¥éšæ„æ›´æ”¹ã€‚
*   **å¡«å……** =ä½ æƒ³è¦çš„æ¯ä¸ªåŒºåŸŸçš„é¢œè‰²ï¼Œè¿™å°†éµå¾ªä¸ **x** å’Œ**ç±»åˆ«åç§°**ç›¸åŒçš„é¡ºåºï¼ŒåŒæ ·ï¼Œä½ å¯ä»¥å‡å°‘æˆ–æ‰©å±•ä»¥åŒ¹é…ä½ æƒ³è¦åˆ†æçš„ç”¨æˆ·æ•°é‡ã€‚**Î±**å’Œæœ¬èŠ‚ä¸­çš„ 0.3ï¼Œè¡¨æ˜é¢œè‰²å°†é€æ˜åˆ°ä»€ä¹ˆç¨‹åº¦ã€‚

è¿˜æœ‰è®¸å¤šå…¶ä»–å¯ç”¨çš„å®šåˆ¶ï¼Œæˆ‘å»ºè®®æµè§ˆä¸€ä¸‹æ–‡æ¡£ä»¥è·å¾—æ›´å¤šæ ·å¼ã€‚

```
venn.diagram(
 x = list(
           a %>% select(user_id) %>% unlist(),
           b %>% select(user_id) %>% unlist(),
           c %>% select(user_id) %>% unlist(),
           d %>% select(user_id) %>% unlist()
          ),
 category.names = c(a_name,
                    b_name,
                    c_name,
                    d_name),
 filename = â€˜output.pngâ€™,
 output=TRUE,
 col = alpha(â€œ#D3D3D3â€,0.3),
 fill = c(alpha(â€œ#581845â€,0.3), 
          alpha(â€˜#FFC300â€™,0.3), 
          alpha(â€˜#C70039â€™,0.3),
          alpha(â€˜#FF5733â€™,0.3))
 )
```

å®Œæˆåï¼Œæ‚¨å°†åœ¨ R Studio çš„æ–‡ä»¶çª—æ ¼ä¸­çœ‹åˆ°è¾“å‡ºã€‚å•å‡»è¯¥æ–‡ä»¶ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„å†…å®¹:

![](img/01953ac73d1ae6bef3d78ce9296e41ad.png)

é‚£ä¹ˆï¼Œä¼¦æ•¦ä¸œåŒºçš„ç²‰ä¸å–œæ¬¢å¥½è±åå—ï¼Ÿ

ä¼¦æ•¦ä¸œåŒºæ‹¥æœ‰ **2ï¼Œ491ï¼Œ993** åæ¨ç‰¹ç²‰ä¸ï¼Œå…¶ä¸­:

*   **51.64%** ä¹Ÿè·ŸéšåŠ å†•è¡—ã€
*   **35.62%** ä¹Ÿè·Ÿç€è‰¾é»˜ä»£å°”ï¼Œ
*   **7.76%** ä¹Ÿè·Ÿç€å’Œåˆ©æ—¶ï¼Œ
*   **4.21%** æ²¿ç€åŠ å†•è¡—ã€åŸƒé»˜ä»£å°”å’Œéœåˆ©äºšå…‹ï¼Œ
*   **2.05%** è·Ÿéš just EastEnders å’Œ Hollyoaksã€‚

åˆ†æè¡¨æ˜ï¼ŒHollyoaks åœ¨ä¼¦æ•¦ä¸œåŒºç²‰ä¸çš„è‚¥çš‚å‰§æ’è¡Œæ¦œä¸Šæ’åä¸é«˜â€¦â€¦æˆ–è€…ä»–ä»¬åªæ˜¯è®¤ä¸ºè‡ªå·±çš„æ¨æ–‡ä¸æœ‰è¶£ã€‚

ä½ ä¼šå‘ç°ä»€ä¹ˆï¼Ÿ

# å¿«ä¹åˆ†æï¼

å…‹æ´›ä¼ŠğŸ‘©ğŸ½â€ğŸ’»ğŸ“ˆ

Instagram: @the.numerist

Github: chloeanalyst