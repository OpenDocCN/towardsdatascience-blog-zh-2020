<html>
<head>
<title>A Beginners Guide to Creating Clean and Appetizing Python Charts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建干净而有趣的 Python 图表的初学者指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-beginners-guide-to-creating-clean-and-appetizing-python-charts-f7e1cf1899d2?source=collection_archive---------24-----------------------#2020-06-03">https://towardsdatascience.com/a-beginners-guide-to-creating-clean-and-appetizing-python-charts-f7e1cf1899d2?source=collection_archive---------24-----------------------#2020-06-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/60d5b722f689825b0d3c0c92e1e9421e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OMMsxkd7jPtonTz4XepwpQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://unsplash.com/@vladington?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">斯特凡</a>在<a class="ae jg" href="https://unsplash.com/s/photos/dinner?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h2 id="5ae0" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph">数据可视化</h2><div class=""/><div class=""><h2 id="4e8c" class="pw-subtitle-paragraph kp js jj bd b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dk translated">随着诸如 Matplotlib、Seaborn 和 Plotly 之类的优秀图形软件包数量的增加，人们很快就会对如何使它看起来更好感到困惑。这并不意味着你可以偷懒！</h2></div><p id="5708" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">当你第一次试图弄清楚如何使你的图表看起来完全符合你的要求时，你会感到困惑，尤其是因为似乎 StackOverflow 上的每个人都有自己绘制和定制图表的方式。当您意识到您不能仅仅应用 Matplotlib 中完全相同的代码来定制 Seaborn 中强大的开箱即用的绘图时，这变得更加令人沮丧。</p><p id="a5c7" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">本文将重点关注在试图用 Matplotlib 创建一个清晰的图表时将会遇到的主要问题，然后深入研究这些工具如何转化为 Seaborn 和 Plotly。</p><ol class=""><li id="de9f" class="md me jj lj b lk ll ln lo lq mf lu mg ly mh mc mi mj mk ml bi translated"><strong class="lj jt">电镀:</strong>标签，支线剧情，轴刻度，旋转，支线剧情</li><li id="4987" class="md me jj lj b lk mm ln mn lq mo lu mp ly mq mc mi mj mk ml bi translated"><strong class="lj jt">成分:</strong>线宽、线型、色调/Cmap、线条颜色、图例和样式。</li><li id="9504" class="md me jj lj b lk mm ln mn lq mo lu mp ly mq mc mi mj mk ml bi translated"><strong class="lj jt">调料:</strong> Kwargs，动画，注解，还有其他类似 Seaborn，Plotly 的包。</li><li id="c8bd" class="md me jj lj b lk mm ln mn lq mo lu mp ly mq mc mi mj mk ml bi translated"><strong class="lj jt">上菜:</strong>针对你制作的每张图表要问的问题</li></ol><h1 id="e666" class="mr ms jj bd mt mu mv mw mx my mz na nb ky nc kz nd lb ne lc nf le ng lf nh ni bi translated"><strong class="ak">电镀</strong></h1><p id="1777" class="pw-post-body-paragraph lh li jj lj b lk nj kt lm ln nk kw lp lq nl ls lt lu nm lw lx ly nn ma mb mc im bi translated">"如何设置标题、轴标签、轴限制等？"可能是关于 Matplotlib 最常搜索的问题之一。我喜欢用<code class="fe no np nq nr b">set()</code>把所有东西都放在一行。</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="55b7" class="oa ms jj nr b gy ob oc l od oe">import matplotlib.pyplot as plt</span><span id="c99e" class="oa ms jj nr b gy of oc l od oe">fig, ax = plt.subplots(figsize = (10,10))<br/>df.plot(kind="line")<br/>ax.set(Title = "Test Title", xlabel = "x label", ylabel= "y label", xlim= (0,5), ylim = (0,5))</span></pre><figure class="ns nt nu nv gt iv gh gi paragraph-image"><div class="gh gi og"><img src="../Images/cc2875f0f39a84b78ab1c15953e88bef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*17bIFJ2y3tWFy1dL6PGrjQ.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">绘制空白图形</p></figure><p id="20ce" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">支线剧情:</strong>关于定制支线剧情已经有很多很棒的文章了，我就简单说一下。以下是你开始时真正需要知道的:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="9a0f" class="oa ms jj nr b gy ob oc l od oe">fig, (ax1,ax2) = plt.subplots(2,1, sharex=True) #creating a figure with two charts in the same column, that share an x axis.</span><span id="be95" class="oa ms jj nr b gy of oc l od oe">ax3 = ax1.twinx #creating secondary y axis.</span></pre><figure class="ns nt nu nv gt iv gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/b800d82c16ff35a6f0e0a5ad0a2d4f02.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*uFf-Wa2Ka778_gtTXKbncw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">ax1 是第一个图，因此 ax3 在第一个图上创建了一个双轴</p></figure><p id="e014" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">有时在你添加了第二个轴或一些支线剧情后，你的情节和标签看起来会被压扁，所以使用<code class="fe no np nq nr b">fig.tight_layout()</code>来固定间距。</p><p id="47fd" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果你正在绘制一个像<code class="fe no np nq nr b">pivot.plot(kind=’line’)</code>这样的数据透视表，那么你可以做的一个很酷的技巧是<code class="fe no np nq nr b">pivot.plot(kind = 'line’, subplots = True)</code>为数据透视表的每一列快速创建支线剧情。使用<code class="fe no np nq nr b">plot()</code>绘制枢轴将成为你最好的朋友，索引将永远是 x 轴，列将是 y 轴。</p><p id="57a2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">刻度管理:</strong>假设您想要在折线图中绘制一些“对象”类型的数据，但是轴不允许您这样做，因为它需要是一个 int！首先保存分类变量名称的列表，然后将分类列转换为整数(1，2，3，4…)。</p><p id="b861" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">选择频率(1，5，10，…)并将其保存在另一个列表中。现在设置您的滴答频率，然后用您的按滴答频率索引的分类变量列表替换标签。代码应该如下所示:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="577c" class="oa ms jj nr b gy ob oc l od oe">cat_labels = df[“column_name"].unique()</span><span id="0877" class="oa ms jj nr b gy of oc l od oe">df[“column_name"] = np.arange(1,100,1) </span><span id="08c2" class="oa ms jj nr b gy of oc l od oe">tickfrequency = np.arange[1,100,5] #every 5th tick to be shown on axis<br/></span><span id="932c" class="oa ms jj nr b gy of oc l od oe">ax.xaxis.set_ticks(tickfrequency)</span><span id="3102" class="oa ms jj nr b gy of oc l od oe"><br/>ax.xaxis.set_ticklabels(cat_labels[tickfrequency])</span></pre><h1 id="589e" class="mr ms jj bd mt mu mv mw mx my mz na nb ky nc kz nd lb ne lc nf le ng lf nh ni bi translated"><strong class="ak">配料</strong></h1><p id="5ee3" class="pw-post-body-paragraph lh li jj lj b lk nj kt lm ln nk kw lp lq nl ls lt lu nm lw lx ly nn ma mb mc im bi translated"><strong class="lj jt">线条定制:</strong>线条宽度、标记、颜色和类型可以在<a class="ae jg" href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.pyplot.plot.html" rel="noopener ugc nofollow" target="_blank">这里找到</a>如果你向下滚动到格式字符串。如果愿意，您可以使用<code class="fe no np nq nr b">set_dashes()</code>创建自定义模式。</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="d881" class="oa ms jj nr b gy ob oc l od oe">import numpy as np</span><span id="33b5" class="oa ms jj nr b gy of oc l od oe">#data for plots<br/>x = np.linspace(0, 10, 100)<br/>y = np.sin(x)</span><span id="f90a" class="oa ms jj nr b gy of oc l od oe">fig, ax = plt.subplots()<br/># Using set_dashes() to modify dashing of an existing line</span><span id="ba02" class="oa ms jj nr b gy of oc l od oe">line1, = ax.plot(x, y, label='line 1')<br/>line1.set_dashes([2, 2, 10, 2])  </span><span id="1ee6" class="oa ms jj nr b gy of oc l od oe">line2 = ax.plot(x, y-0.4, label='line 3', color='green', marker='o', linestyle='dashed', linewidth=0.5, markersize=0.3)</span></pre><figure class="ns nt nu nv gt iv gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/af1ce41ce4d79fce6c8cd59c64d35318.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*5HnS80PCyf2-7TwVa706aw.png"/></div></figure><p id="25ea" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果我们在同一图形上先画一条线，然后画一个散点，散点会覆盖这条线。现在解决这个问题的一个方法是最后绘制这条线，但是使用<code class="fe no np nq nr b">zorder</code>更容易跟踪。较高的<code class="fe no np nq nr b">zorder </code>值会覆盖较低的值，把它想象成一个向你走来的 z 轴。</p><p id="863f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我认为没有足够多的人使用不同的线条模式(我对此也感到内疚)，但是<strong class="lj jt">数据可视化也需要考虑可访问性。</strong> <em class="oj"> </em>考虑你的观众是色盲的情况，使用不同的线条图案或色盲友好的颜色图。要了解更多信息，请跟随<a class="ae jg" href="https://ux.stackexchange.com/questions/94696/color-palette-for-all-types-of-color-blindness" rel="noopener ugc nofollow" target="_blank">这条线索</a>，但一般来说你要<strong class="lj jt">避免以下组合</strong> : <em class="oj"> </em>绿色&amp;棕色，蓝色&amp;紫色，绿色&amp;蓝色，浅绿色&amp;黄色，蓝色&amp;灰色，绿色&amp;灰色，绿色&amp;黑色。</p><p id="17b3" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">管理颜色:</strong>所以你有 20 个不同的列试图绘制(如果你有更多，请考虑过滤或创建不同的图表)，但颜色在第一个 10 个之后重复！</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="1867" class="oa ms jj nr b gy ob oc l od oe">unique = example_df["column_name"].unique()<br/>palette = dict(zip(unique, sns.color_palette()))</span></pre><p id="0b71" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">对于 Matplotlib，你设置<code class="fe no np nq nr b">color = palette</code>，对于 Seaborn，你在你的绘图函数的参数中设置<code class="fe no np nq nr b">palette = palette</code>。</p><p id="e681" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您还可以将分类变量传递给“hue ”,以便在 Seaborn 中自动分配颜色，或者传递给“c ”,以便使用 matplotlib，如下所示。</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="4079" class="oa ms jj nr b gy ob oc l od oe">c=example_df['column_name'].apply(lambda x: palette[x]) <br/>#this is replacing the unique label with the color assigned through the whole column.</span></pre><p id="b528" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">通过支线剧情和循环，你已经在同一张图表上得到了你的多个情节，但是现在你的传奇完全是一团糟。让我们来看一下如何创建自定义图例。假设您正在绘制第二个 y 轴，但不想要两个图例。</p><p id="6f0a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以随意设置图例标记，并按如下方式分配标签:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="8ea5" class="oa ms jj nr b gy ob oc l od oe">from matplotlib.patches import Patch<br/>from matplotlib.lines import Line2D</span><span id="51ad" class="oa ms jj nr b gy of oc l od oe">legend_elements = [Line2D([0], [0], color='b', lw=4, label='Line1'),<br/>                   Patch(facecolor='r', edgecolor='g',<br/>                         label='Line2')]</span><span id="68e1" class="oa ms jj nr b gy of oc l od oe">ax1.legend(handles = legend_elements,loc='best')</span></pre><figure class="ns nt nu nv gt iv gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/61f3ec96622c83b80ad496a6a64d5716.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*FHdoUphGC7suNkKRAvLHmA.png"/></div></figure><p id="2c0d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果你正在绘制一个循环，以下是有用的</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="300f" class="oa ms jj nr b gy ob oc l od oe">from collections import OrderedDict</span><span id="2146" class="oa ms jj nr b gy of oc l od oe">handles, labels = plt.gca().get_legend_handles_labels()<br/>by_label = OrderedDict(zip(labels, handles))    <br/>ax.legend(by_label.values(), by_label.keys())</span></pre><p id="4151" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以将图例的<code class="fe no np nq nr b">loc</code>设置为 9 个位置中的一个(3x3 网格)，将其设置为“最佳”，或者通过改变<code class="fe no np nq nr b">bbox_to_anchor=(1, 1.1))</code>的值将其移出图形。<code class="fe no np nq nr b">ncols</code>将允许您通过指定每行放置多少个标签来横向压缩您的图例。</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="4869" class="oa ms jj nr b gy ob oc l od oe">ax.legend(by_label.values(), by_label.keys(), bbox_to_anchor=(1,1.1),ncol = 3)</span></pre><figure class="ns nt nu nv gt iv gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/27acc0125825014ef84bc7919dbba002.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*ph_0X6SYyJATeRZ1kyz6cQ.png"/></div></figure><p id="2baf" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">你还是不喜欢你的图表吗？然后使用<code class="fe no np nq nr b">plt.style.use('ggplot2')</code>更改样式表。要查看完整的风格列表，<a class="ae jg" href="https://matplotlib.org/3.2.1/gallery/style_sheets/style_sheets_reference.html" rel="noopener ugc nofollow" target="_blank">请点击这里</a>。</p><h1 id="e077" class="mr ms jj bd mt mu mv mw mx my mz na nb ky nc kz nd lb ne lc nf le ng lf nh ni bi translated"><strong class="ak">调料</strong></h1><p id="86b1" class="pw-post-body-paragraph lh li jj lj b lk nj kt lm ln nk kw lp lq nl ls lt lu nm lw lx ly nn ma mb mc im bi translated">现在事情会变得有点复杂。<strong class="lj jt"> </strong>如果你输入<code class="fe no np nq nr b">help(fig.plot)</code>，你会在最后看到<code class="fe no np nq nr b">**kwargs</code>。<code class="fe no np nq nr b">**kwargs </code>是一个<a class="ae jg" href="https://realpython.com/python-dicts/" rel="noopener ugc nofollow" target="_blank">字典</a>的设置，帮助你定制到一个发球台。<a class="ae jg" rel="noopener" target="_blank" href="/a-primer-on-args-kwargs-decorators-for-data-scientists-bb8129e756a7">这是一篇很好的文章</a>解释了一般的<code class="fe no np nq nr b">*args</code>和<code class="fe no np nq nr b">**kwargs</code>，但简而言之，因为 Seaborn 方法是建立在 Matplotlib 之上的，所以你可以将任何 Matplotlib 参数传递到 Seaborn 的<code class="fe no np nq nr b">**kwargs</code>中(并像字体一样进行定制)。我在下面谈到了一个比这更简单的方法，你已经学到了。</p><p id="e2af" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">你一定要知道 中的一个是<code class="fe no np nq nr b">gridspec</code>，因为它可以让你改变支线剧情的比例(也就是说，让上面的变小，下面的变大)。</p><p id="b70a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">动画:</strong>我发现<a class="ae jg" rel="noopener" target="_blank" href="/animate-your-graphs-in-python-in-4-easy-steps-243dccad9a7">使用这种方法</a>最简单，而不是用<code class="fe no np nq nr b">matplotlib.animation</code>搞乱不同的编剧和问题。如果你的动画太大<a class="ae jg" href="https://gifcompressor.com/" rel="noopener ugc nofollow" target="_blank">使用这个</a>来缩小它们的尺寸。</p><p id="1548" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">注解:</strong>这个简单，只用于文本，其中前两个值是 x 和 y 坐标:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="acbc" class="oa ms jj nr b gy ob oc l od oe">text = ("This is a really long string that I'd rather have wrapped so that it "<br/>     "doesn't go outside of the figure, but if it's long enough it will go "<br/>     "off the top or bottom!")</span><span id="ce8f" class="oa ms jj nr b gy of oc l od oe">plt.text(4, 1, text, ha='left', rotation=15, wrap=<strong class="nr jt">True</strong>)</span></pre><p id="5ae7" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">对于箭头<a class="ae jg" href="https://matplotlib.org/2.0.0/users/annotations.html" rel="noopener ugc nofollow" target="_blank">和文本</a>之类的东西，也是类似的:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="39ea" class="oa ms jj nr b gy ob oc l od oe">ax.annotate(‘local max’, xy=(2, 1), xytext=(3, 1.5), arrowprops=dict(facecolor=’black’, shrink=0.05)<!-- --> </span></pre><p id="7e34" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">对于图形上的水平线或垂直线，您可以绘制:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="d0af" class="oa ms jj nr b gy ob oc l od oe">plt.axhline(y=0.5, color='r', linestyle='-')<br/>plt.axvline(x=0.5, color='r', linestyle='-')</span></pre><p id="14a0" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这个包完全是基于 Matplotlib 构建的。由于单线图的复杂性，你需要更多地关注<code class="fe no np nq nr b">args</code>来找出你需要改变的地方。处理所有定制问题的最简单方法是创建一个<code class="fe no np nq nr b">fig, ax = plt.subplots()</code>，将轴传递给参数<code class="fe no np nq nr b">ax=ax</code>，然后使用<code class="fe no np nq nr b">ax.set()</code>定制轴。有些情节不会有<code class="fe no np nq nr b">“ax”</code>参数，但会有一个<code class="fe no np nq nr b">“height”</code>你可以设置。其他情节允许你改变情节的类型，但是你不能轻易改变网格/支线剧情的布局。然而，<a class="ae jg" href="https://matplotlib.org/3.2.1/tutorials/intermediate/gridspec.html" rel="noopener ugc nofollow" target="_blank">知道了</a> <code class="fe no np nq nr b"><a class="ae jg" href="https://matplotlib.org/3.2.1/tutorials/intermediate/gridspec.html" rel="noopener ugc nofollow" target="_blank">gridspec </a></code> <a class="ae jg" href="https://matplotlib.org/3.2.1/tutorials/intermediate/gridspec.html" rel="noopener ugc nofollow" target="_blank"> kwarg </a>会让你相对轻松地重现许多剧情。</p><p id="2909" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这不是一篇关于最有用的图的文章，但是一定要熟悉<code class="fe no np nq nr b">pairplot()</code>并通过在<code class="fe no np nq nr b">sns.heatmap()</code>中插入 df.corr()来创建相关图。这些是让任何人惊叹的快速方法。</p><figure class="ns nt nu nv gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ol"><img src="../Images/77612213b2776f70e31bd83ad8591056.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qrcYLyh4Gc-NWnvr3p52qg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">谷歌图片相关图示例</p></figure><p id="4579" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt"> Plotly: </strong>它们经历了多次迭代，拥有 Express、Graph Objects、Dash 等子类。它主要是用 Javascript ( <a class="ae jg" href="https://en.wikipedia.org/wiki/D3.js" rel="noopener ugc nofollow" target="_blank"> D3.js </a>、<a class="ae jg" href="https://en.wikipedia.org/wiki/HTML" rel="noopener ugc nofollow" target="_blank"> HTML </a>和<a class="ae jg" href="https://en.wikipedia.org/wiki/CSS" rel="noopener ugc nofollow" target="_blank"> CSS </a>)在前端构建的，这就是为什么你可以在 HTML 文件(或者嵌入)中与它交互。一开始可能会令人困惑，但可以这样想:</p><ol class=""><li id="ff87" class="md me jj lj b lk ll ln lo lq mf lu mg ly mh mc mi mj mk ml bi translated"><a class="ae jg" href="https://plotly.com/python/plotly-express/" rel="noopener ugc nofollow" target="_blank"><em class="oj">plotly . express</em></a><em class="oj"/>是给你的 Seaborn 式的俏皮话。</li><li id="fc3f" class="md me jj lj b lk mm ln mn lq mo lu mp ly mq mc mi mj mk ml bi translated"><a class="ae jg" href="https://plotly.com/python/reference/" rel="noopener ugc nofollow" target="_blank"><em class="oj"/></a><em class="oj"/>是为了更复杂的可视化和定制。他们不使用支线剧情，而是使用“轨迹”，你可以在同一个剧情中添加轨迹(就像 Matplotlib 中的轴)或者使用它们来创建支线剧情。查看<a class="ae jg" href="https://plotly.com/python/reference/" rel="noopener ugc nofollow" target="_blank">此链接</a>以深入了解如何定制您的图表。</li><li id="e812" class="md me jj lj b lk mm ln mn lq mo lu mp ly mq mc mi mj mk ml bi translated"><em class="oj"> plotly.dash </em>是使用回调的能力(比如有一个滑块来更新不同日期的图表，或者下拉菜单来改变你的 x 和 y 轴)。这是一个非常强大的工具，可以部署在 Heroku 或 Jupyter 笔记本上，但需要一些时间来适应。</li></ol><p id="2eb5" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">Plotly 需要记住的一件重要事情是，根据您绘制的数据量，交互速度可能会显著降低。一种方法是使用<a class="ae jg" href="https://plotly.com/python/webgl-vs-svg/" rel="noopener ugc nofollow" target="_blank">这个方法</a>。</p><h1 id="8ade" class="mr ms jj bd mt mu mv mw mx my mz na nb ky nc kz nd lb ne lc nf le ng lf nh ni bi translated"><strong class="ak">上菜</strong></h1><p id="5034" class="pw-post-body-paragraph lh li jj lj b lk nj kt lm ln nk kw lp lq nl ls lt lu nm lw lx ly nn ma mb mc im bi translated">如果这太多太混乱，不要担心，因为数据可视化并不容易。就像建立机器学习模型一样，<strong class="lj jt">你的大部分时间并没有花在有趣的事情上</strong>——而是花在争论和清理数据上，以便可以可视化。你可以做很多改变，这些改变可能看起来微不足道，没有必要，但是当你把它们加起来，这就是星盘和混乱的星盘之间的区别。</p><p id="cda9" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在发送任何图表之前，有几个问题需要问自己:</p><ol class=""><li id="94b6" class="md me jj lj b lk ll ln lo lq mf lu mg ly mh mc mi mj mk ml bi translated"><strong class="lj jt">对于电镀:</strong>我的轴的规模和分布基于域有意义吗？我是否在一张图表上放了太多东西或者太多支线剧情？</li><li id="abda" class="md me jj lj b lk mm ln mn lq mo lu mp ly mq mc mi mj mk ml bi translated"><strong class="lj jt">对于配料:</strong>我能否轻松清晰地理解每条线/条/点所指的内容？你通常会有太多或太少的变化，并不是所有的变化都可以通过颜色和图例来补偿！</li><li id="2733" class="md me jj lj b lk mm ln mn lq mo lu mp ly mq mc mi mj mk ml bi translated"><strong class="lj jt">为了调味:</strong>我真的需要它是 3D 的、动画的、可交互的吗？一点点盐可以增加味道，但是太多了，人们会感到恶心。在棒线图或哑铃图工作正常的情况下，放入类似桑基图这样的东西是多余的。</li></ol><p id="1702" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">任何时候你感到困惑，只要记住<strong class="lj jt">你的图表试图从数据中传达一个故事，如果它没有做到这一点，你需要再次浏览它，添加或删除元素。大多数时候，人们不会有足够的耐心耐心听完你对你想要展示的东西的冗长解释。</strong></p><p id="238f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">祝你们好运，我希望你们都能给出一些令人惊叹的视觉效果！</p></div></div>    
</body>
</html>