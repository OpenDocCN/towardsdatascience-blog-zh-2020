<html>
<head>
<title>Building and Deploying a Recommender with Flask and Heroku</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Flask和Heroku构建和部署推荐器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/overview-on-building-a-local-coffee-drinking-outlet-recommender-and-deployment-with-flask-and-39b16fb40388?source=collection_archive---------30-----------------------#2020-05-12">https://towardsdatascience.com/overview-on-building-a-local-coffee-drinking-outlet-recommender-and-deployment-with-flask-and-39b16fb40388?source=collection_archive---------30-----------------------#2020-05-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8aa1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Heroku构建混合推荐器和部署基于内容的过滤组件时基于模型的观点</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5d3268b0b7e1e9d0fedbe7c850171332.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uj5N70zZjSvzIgpS6eBR5g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">我的数据科学沉浸式计划的顶点演示幻灯片的首页</p></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="718c" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">在这篇文章中，我用Flask和Heroku展示了一种构建混合推荐器和部署一个基于模型的内容过滤系统的方法。这是我在新加坡大会(GA)下的数据科学沉浸式项目中的顶点项目。更多详情可以在这些GitHub回购链接中找到:<a class="ae ly" href="https://github.com/jasonchia89/GA_Capstone" rel="noopener ugc nofollow" target="_blank"> GA_Capstone </a>，<a class="ae ly" href="https://github.com/jasonchia89/GA_Capstone_Flask" rel="noopener ugc nofollow" target="_blank">GA _ Capstone _ Flask _ Heroku _ deployment</a>。</p><p id="1072" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">对于这个项目，我选择了咖啡作为感兴趣的主题，因为我周围都是热爱咖啡的社会团体(尽管我不喝咖啡！)而且我很清楚，在寻找喝茶的好去处时，实际上存在着无穷无尽的选择。因此，我认为建立一个推荐器可以解决被选择淹没的问题，并且不需要根据过多的属性如位置、服务标准等来过滤选择。，在这里可能会派上用场。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="cf9b" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">待建推荐系统类型概述</h1><blockquote class="mr"><p id="ce2a" class="ms mt iq bd mu mv mw mx my mz na lx dk translated"><em class="nb">基于模型的内容过滤</em></p></blockquote><p id="d9fc" class="pw-post-body-paragraph lc ld iq le b lf nc jr lh li nd ju lk ll ne ln lo lp nf lr ls lt ng lv lw lx ij bi translated">一种基于内容的过滤模式，在受监督的机器学习算法(由特征<em class="nh"> X </em>和目标<em class="nh"> y </em>定义)的背景下构建，其中项目(在这种情况下为咖啡店)的各种特征(特征矩阵，<em class="nh"> X </em>)用于预测用户评级(目标<em class="nh"> y </em>)。预测的用户评级然后以降序排列，并且认为合适的前5个或任意数字<em class="nh"> n </em>被呈现为前5个或前<em class="nh"> n </em>个推荐，供用户检查。</p><blockquote class="mr"><p id="6884" class="ms mt iq bd mu mv mw mx my mz na lx dk translated">基于模型的协同过滤</p></blockquote><p id="6be7" class="pw-post-body-paragraph lc ld iq le b lf nc jr lh li nd ju lk ll ne ln lo lp nf lr ls lt ng lv lw lx ij bi translated">一种基于机器学习算法的协同过滤范例，该算法从现有数据中学习用户-项目交互，以预测用户的项目评级(或在我们的上下文中用户的咖啡出口评级)， 通过考虑具有相似评级模式的其他用户的项目评级——这就是为什么协作过滤RecSys经常遇到<em class="nh">冷启动问题</em>的原因，在该问题中，不可能找到具有与未对任何项目进行评级的新用户相似的评级模式的用户——然后向感兴趣的用户推荐那些相似用户最喜欢的项目(因此本质上是协作的)。</p><blockquote class="mr"><p id="0b40" class="ms mt iq bd mu mv mw mx my mz na lx dk translated">混合RecSys</p></blockquote><p id="8850" class="pw-post-body-paragraph lc ld iq le b lf nc jr lh li nd ju lk ll ne ln lo lp nf lr ls lt ng lv lw lx ij bi translated">混合RecSys结合了基于内容的过滤和协作过滤，试图减少其中任何一种的缺点，以产生更整体和更全面的系统(可以说是两全其美)，例如，基于内容的过滤不能产生交叉推荐，即，它倾向于只推荐与用户曾经喜欢的项目类型相同的项目。协同过滤通过其协同特性解决了这一问题——可以潜在地推荐不属于用户曾经喜欢的项目类别的项目，只要那些项目是具有相似评级模式的其他用户最喜欢的。另一方面，对于只涉及显式反馈的数据集，如用户评级(如Yelp数据集)，协同过滤只考虑用户-项目交互矩阵，该矩阵包括<em class="nh">用户id</em>、<em class="nh">评级</em>和<em class="nh">项目id。</em>在这种情况下，<em class="nh"> </em>基于内容的过滤可以通过提供更细粒度的项目特征来丰富RecSys的项目特征数据集(即<em class="nh">类别</em>、<em class="nh"> review_count </em>、<em class="nh"> avg_store_rating </em>等)。从而使RecSys更加全面和强大。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="0919" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated"><strong class="ak">数据</strong></h1><p id="b85e" class="pw-post-body-paragraph lc ld iq le b lf ni jr lh li nj ju lk ll nk ln lo lp nl lr ls lt nm lv lw lx ij bi translated">该数据集包括大约987家当地咖啡饮食店和相关功能，6，292条用户评论和7，076条用户评级，这些都是使用<a class="ae ly" href="https://pypi.org/project/beautifulsoup4/" rel="noopener ugc nofollow" target="_blank"> BeautifulSoup </a>和Yelp的API令牌的组合从Yelp搜集来的。</p><p id="1781" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">由于在收集的数据集中有很大比例的用户只对1-2家商店进行评级，因此在随后的模型评估阶段的<em class="nh"> train_test_split() </em>和<em class="nh">交叉验证</em>阶段，当数据集被分成由<em class="nh"> userids </em>分层的训练和验证集时(尤其是如果test_size小于0.5并且交叉验证折叠数大于2)，针对所有这些用户的模型训练将不可避免地遇到错误。因此，我只将对至少10个不同渠道进行评级的用户纳入基于内容的过滤模型(这导致<em class="nh"> 110 /2552 </em>用户被纳入模型训练)。数字10是任意选择的，尽管这可能与用户应该如何提供10个评级以生成部署模型中的前5个建议有关，我们将在后面看到。</p><p id="d4ba" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">从训练数据来看，我们的目标<em class="nh"> y </em>(用户评分)明显不平衡:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/4d1277d62f285d03c981443feff269e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WdgqOZs4GWhdPcIQBd-ZWQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">不平衡的目标类别:在类别1和类别2中几乎没有任何评级，在类别3中最小，大多数属于类别4和类别5，其中类别4占主导地位</p></figure><p id="323e" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">由于目标类的不平衡性质，以及我们不希望推荐差的推荐(<em class="nh">误报</em>)也不希望错过好的推荐(<em class="nh">误报</em>)，一个<a class="ae ly" href="https://datascience.stackexchange.com/questions/15989/micro-average-vs-macro-average-performance-in-a-multiclass-classification-settin" rel="noopener ugc nofollow" target="_blank">微平均F1分数</a>，这实质上是一个定义为精度和召回之间的微平均平衡的指标，用于稍后评估各个模型的性能。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="9b54" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated"><strong class="ak">型号</strong></h1><blockquote class="no np nq"><p id="918c" class="lc ld nh le b lf lg jr lh li lj ju lk nr lm ln lo ns lq lr ls nt lu lv lw lx ij bi translated">基于内容的过滤</p></blockquote><p id="f943" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">将被合并到基于内容的过滤模型中的项目(或咖啡店)方面的特征是:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/4bc65a6747dbf8ae23114f207789c666.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HZ0ute5leVsXiBg_ehqA6Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">基于内容的过滤功能:评论、类别、评论数量和平均商店评级</p></figure><p id="c5d5" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">使用naive <em class="nh"> Tf-idf </em>矢量器将评论分解为词项频率，该矢量器用于在模型训练之前显示每个评论词项的区分强度及其与各种咖啡店的关联。</p><p id="06c3" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">我调整并试验了各种有监督的机器学习算法，如<em class="nh">逻辑回归</em>、<em class="nh">决策树分类器</em>，以及集成方法，如<em class="nh">极端梯度提升分类器(XGB)。</em> XGB表现最好(<strong class="le ir">微观平均F1分:0.97 </strong>)，被选中部署。XGB是一种极端的梯度推进回归树(GBRT)算法，它:</p><ul class=""><li id="1c7f" class="nv nw iq le b lf lg li lj ll nx lp ny lt nz lx oa ob oc od bi translated"><strong class="le ir">减少偏差、方差，并从过去弱学习器的错误中“学习”以产生强学习器</strong>,因为它从浅的低方差/高偏差基础估计器开始，并根据过去估计器的错误迭代拟合估计器，以纠正那些错误/错误分类</li><li id="84da" class="nv nw iq le b lf oe li of ll og lp oh lt oi lx oa ob oc od bi translated"><a class="ae ly" href="https://datascience.stackexchange.com/questions/16904/gbm-vs-xgboost-key-differences" rel="noopener ugc nofollow" target="_blank"> <strong class="le ir">通过使用更规则的模型形式化来控制过拟合</strong> </a>，从而比常规的梯度增强方法如<em class="nh">梯度增强分类器</em>执行得更好</li><li id="1ee1" class="nv nw iq le b lf oe li of ll og lp oh lt oi lx oa ob oc od bi translated"><strong class="le ir">能够很好地处理混合数据类型</strong>(回想一下:用于基于内容过滤的数据集混合了数字和分类数据类型，分别像<em class="nh"> review_count </em>和<em class="nh"> reviews </em>)</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/f4d648e6edb53442fe3c8b7838692ad1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yryWKr0JbrwSdvEO3fBIOQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">XGB的一个实例——感谢<a class="ae ly" href="https://blog.quantinsti.com/xgboost-python/" rel="noopener ugc nofollow" target="_blank">https://blog.quantinsti.com/xgboost-python/</a></p></figure><blockquote class="no np nq"><p id="824b" class="lc ld nh le b lf lg jr lh li lj ju lk nr lm ln lo ns lq lr ls nt lu lv lw lx ij bi translated">协同过滤</p></blockquote><p id="e180" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">使用交替最小二乘法(ALS)算法，并使用Pyspark的<em class="nh">交叉验证器</em> ( <strong class="le ir">微平均F1分数:1.0 </strong>)进行调整。ALS是一种矩阵分解技术，它将用户-项目交互矩阵(如具有显式反馈的数据集的用户-项目评级矩阵)分解为用户和项目潜在因素，其中它们的点积将预测用户的项目评级(或在此上下文中各种咖啡店的用户评级)。它在固定用户或项目潜在因素之间交替，以在最小化损失(实际和预测用户评级之间的误差)的过程中，通过每次迭代的梯度下降来求解另一个:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/3d468723b8174d79ec2d4ff490d9bee6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kl5k7IPhd2Uwom48tls8mw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">矩阵分解损失函数:解释潜在的用户和项目因素，这些因素将在使用ALS算法时通过梯度下降来学习</p></figure><blockquote class="no np nq"><p id="bf27" class="lc ld nh le b lf lg jr lh li lj ju lk nr lm ln lo ns lq lr ls nt lu lv lw lx ij bi translated">混合RecSys</p></blockquote><p id="d200" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">基于内容的过滤和协作过滤通过对来自两个过滤系统的评级预测进行加权求和而结合在一起。例如，如果基于内容的过滤的预测用户评级是3，而协作过滤的预测用户评级是4，则最终的预测用户评级将是:</p><blockquote class="mr"><p id="b120" class="ms mt iq bd mu mv mw mx my mz na lx dk translated">(0.97/(0.97(XGB的微平均F1)+1.0(ALS的微平均F1))(基于XGB的微平均F1分配给基于内容的过滤的权重)x3+(1.0/(0.97(XGB的微平均F1)+1.0(ALS的微平均F1))(基于ALS的微平均F1分配给协同过滤的权重)x 4 = ~3.51 = 3.5(四舍五入到最接近的0.5)</p></blockquote><p id="81e5" class="pw-post-body-paragraph lc ld iq le b lf nc jr lh li nd ju lk ll ne ln lo lp nf lr ls lt ng lv lw lx ij bi translated">混合RecSys的<strong class="le ir">微平均F1分数为1.0 </strong>。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="c51f" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">Flask应用程序实现</h1><p id="7373" class="pw-post-body-paragraph lc ld iq le b lf ni jr lh li nj ju lk ll nk ln lo lp nl lr ls lt nm lv lw lx ij bi translated">使用Flask python脚本和一些html模板，在本地虚拟环境<em class="nh">中成功实现了混合RecSys。</em></p><p id="c6f1" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">基本上，用户应该选择并评价他们以前去过或熟悉的10个当地咖啡饮品店(最好每个评价等级有2个不同的店，以便允许在后端工作的机器学习模型更全面地了解用户的“偏好”，这反过来将产生更可靠的推荐)，并点击“<em class="nh">提交</em>以产生前5个推荐供所述用户检查。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/11b9ff98ba357fea6f6e70d8eaa4a9b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GE5qqvLqfo2nDTipTwKaDw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在本地虚拟环境中实现的Flask应用程序的首页:用户首先根据既定的准则提交一些商店的评级</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/3543550fed1f31422842529f04444bbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M-NfE4EhYQz3ctRBVNrM5Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Flask应用程序的首页还提供了额外的Yelp链接，链接到喝咖啡的商店，供用户在给它们评分前参考</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/5a39ae16c7cc1a5fb930ec948f72ede2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*HgwD1JWfxQEhy-YaQYn99A.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">根据提交的10个评分，为用户生成的前5个推荐示例</p></figure><p id="d13c" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">然而，与大多数部署的机器学习模型不同，这些模型仅简单地基于作为用户输入提供的看不见的特征(即<em class="nh"> X_test </em>)来预测结果，这种混合RecSys依赖于一对手动组合的机器学习模型来训练新的看不见的评级(即目标、<em class="nh"> y_train) </em>和已评级的咖啡店(即特征、<em class="nh"> X_train </em>)并预测用户对其他未评级的咖啡店的评级。因此，点击“<em class="nh">提交</em>”后，平均需要<strong class="le ir">15–20多分钟</strong>才能在Flask app上生成前5条建议……这种持续时间对于Heroku这样的正式部署平台来说是不可接受的，只要等待时间超过仅仅<a class="ae ly" href="https://devcenter.heroku.com/articles/request-timeout" rel="noopener ugc nofollow" target="_blank"> <strong class="le ir"> 30秒</strong> </a>，Heroku就会终止任何web应用程序的进程，并在错误日志中输出一条“<em class="nh">请求超时</em>消息和一个H12错误……</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="3ab5" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">使用Heroku部署基于内容的过滤</h1><p id="689d" class="pw-post-body-paragraph lc ld iq le b lf ni jr lh li nj ju lk ll nk ln lo lp nl lr ls lt nm lv lw lx ij bi translated">鉴于上述情况，我只能尝试部署RecSys的“一半”,特别是XGB组件:因为ALS只能从Pyspark-<em class="nh">py spark . ml . recommendation</em>库导入，而且我还没有找到详细介绍使用Heroku部署py spark代码的在线资源。找到的大多数资源都是关于Scala和Spark应用程序的，这些应用程序需要用<em class="nh"> Scala构建工具</em> ( <em class="nh"> sbt </em>)和<em class="nh"> jar </em>汇编进行编译，这对于我使用最少Pyspark代码的Flask应用程序来说似乎有点太复杂了——甚至没有<em class="nh"> SparkContext </em>或<em class="nh"> spark-submit </em>，只有<em class="nh"> SparkSession </em>和ALS组件。</p><p id="68a5" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">随着RecSys被削减到只有XGB组件，“<em class="nh">请求超时</em>”仍然是一个问题。在用<em class="nh">% %的时间削减了代码的XGB组件并在Jupyter Notebook中记录了每个代码单元的运行时之后，</em>我能够充分缩短运行时，以便XGB组件可以通过Heroku正式部署，而不是通过<a class="ae ly" href="http://sg-coffee-recommender.herokuapp.com" rel="noopener ugc nofollow" target="_blank">这里的</a>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/5819d782ec6caecc55257af6a7f8949b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZzdXtwZ7OQCnehPqfVGdGw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">与Heroku一起部署的基于内容的过滤RecSys:首页，用户在此提交10个出口评级</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/f4f1b63c4123e7ec2e4f8cb3107f6b1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*ov_hhLvK9-tkwfwMJhuTfw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">与Heroku一起部署的基于内容的过滤RecSys:基于提交的10个评级的用户前5个建议的结果页面</p></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="d355" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">模型限制</h1><p id="1e4c" class="pw-post-body-paragraph lc ld iq le b lf ni jr lh li nj ju lk ll nk ln lo lp nl lr ls lt nm lv lw lx ij bi translated">混合RecSys的一些局限性包括:</p><ul class=""><li id="eaa1" class="nv nw iq le b lf lg li lj ll nx lp ny lt nz lx oa ob oc od bi translated">缺乏隐含数据</li><li id="e57d" class="nv nw iq le b lf oe li of ll og lp oh lt oi lx oa ob oc od bi translated">RecSys基于不更新的静态数据，因此将来可能会过时</li><li id="3f8b" class="nv nw iq le b lf oe li of ll og lp oh lt oi lx oa ob oc od bi translated">可疑的数据质量(大多数用户只对1-2个网点进行评级，因此不可能对包含所有2552个用户的模型进行训练和交叉验证)</li><li id="6b18" class="nv nw iq le b lf oe li of ll og lp oh lt oi lx oa ob oc od bi translated">很难同时调整<em class="nh"> Tf-idf </em>和训练具有单词术语和数字特征组合的模型——因此<em class="nh"> Tf-idf </em>没有被调整，而是使用了一个简单的版本</li><li id="2283" class="nv nw iq le b lf oe li of ll og lp oh lt oi lx oa ob oc od bi translated">均值归一化可作为RecSys根据每个网点的平均用户评级向开始时未提供任何评级的用户推荐网点的备用方案</li></ul></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="3782" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">未来计划</h1><p id="51b7" class="pw-post-body-paragraph lc ld iq le b lf ni jr lh li nj ju lk ll nk ln lo lp nl lr ls lt nm lv lw lx ij bi translated">在线关注各种部署平台、<em class="nh"> stackoverflow </em>和Pyspark部署的更新，看看Pyspark ALS组件是否可以整合到Heroku部署中，以便可以在线部署完整的混合RecSys。</p><p id="a01b" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">如果上述结果很好，可以潜在地结合用户设计/用户体验的概念，以更好地设计html用户界面，为A/B测试做准备，以衡量混合RecSys构建的有效性。</p></div></div>    
</body>
</html>