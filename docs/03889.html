<html>
<head>
<title>Infectious Disease Modelling: Beyond the Basic SIR Model</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">传染病建模:超越基本SIR模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/infectious-disease-modelling-beyond-the-basic-sir-model-216369c584c4?source=collection_archive---------2-----------------------#2020-04-11">https://towardsdatascience.com/infectious-disease-modelling-beyond-the-basic-sir-model-216369c584c4?source=collection_archive---------2-----------------------#2020-04-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/46a3cdbf6f4b456570dbbce7002f4797.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YB71iX0vwxzZ82WI_dmqhA.png"/></div></div></figure><p id="2931" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我的上一篇文章解释了背景，并介绍了传染病建模的主题。如果你对SIR方程还没有很好的理解，你可能想先读一下那个来理解这个。这篇文章关注的是基本SIR模型的更复杂的变体，它将使你能够实现和编码你自己的变体和想法。<a class="ae kz" href="https://medium.com/@hf2000510/infectious-disease-modelling-fit-your-model-to-coronavirus-data-2568e672dbc7" rel="noopener">下一篇文章</a>将关注模型与现实世界数据的拟合，并将新冠肺炎作为案例研究。</p><p id="f9cd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae kz" href="https://github.com/henrifroese/infectious_disease_modelling/blob/master/part_two.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">你可以在这里找到整篇文章的python笔记本。</strong> </a></p></div><div class="ab cl la lb hx lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="im in io ip iq"><p id="664b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，我们将从一个稍微不同的更直观的角度快速探索SIR模型。之后，我们派生并实现了以下扩展:</p><ul class=""><li id="9713" class="lh li it kd b ke kf ki kj km lj kq lk ku ll ky lm ln lo lp bi translated"><strong class="kd iu">“死亡”状态</strong>,指死于疾病的个体</li><li id="6dd9" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu">一种“暴露”状态</strong>，针对已感染疾病但尚未传染的个体(这被称为<em class="lv"> SEIR </em>模型)</li><li id="b5c7" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu">依赖于时间的R₀-values </strong>这将允许我们对隔离、锁定等进行建模</li><li id="1c4d" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu">与资源和年龄相关的死亡率</strong>这将使我们能够模拟过度拥挤的医院、有很多年轻人的人群……</li></ul><h1 id="2540" class="lw lx it bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">作为状态转换的模型</h1><p id="01d8" class="pw-post-body-paragraph kb kc it kd b ke mu kg kh ki mv kk kl km mw ko kp kq mx ks kt ku my kw kx ky im bi translated">快速回顾一下，看看我们定义的变量:</p><ul class=""><li id="e8ae" class="lh li it kd b ke kf ki kj km lj kq lk ku ll ky lm ln lo lp bi translated">N: 总人口</li><li id="7ae5" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated">S(t): 第t天易感人数</li><li id="7925" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> I(t): </strong>第t天感染人数</li><li id="213e" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> R(t): </strong>第t天康复的人数</li><li id="9893" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> β: </strong>感染者每天感染的预期人数</li><li id="947c" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> D: </strong>一个感染者已经并可能传播疾病的天数</li><li id="5759" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> γ: </strong>感染者每日痊愈的比例(γ = 1/D)</li><li id="a97e" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> R₀: </strong>一个感染者感染的总人数(R₀ = β / γ)</li></ul><p id="60b2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是基本方程:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/95d26c04c58254fde82e400201e6f9d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HIMoCPOD4deo1D3JzJMHYg.png"/></div></div></figure><p id="8645" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在推导方程时，我们已经直观地将它们视为“方向”，它告诉我们第二天人口会发生什么(例如，当10个人被感染，康复率为1/5(即伽马)，那么第二天康复的人数应该增加1/5 * 10 = 2)。我们现在将对方程的理解固化为从一个区间S、I或R到另一个区间的“方向”或<em class="lv">【跃迁】</em>——这将极大地简化事情，当我们稍后引入更多区间时，方程会变得混乱。</p><p id="c593" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下面是我们需要的符号:</p><p id="17ad" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">隔间是盒子(“状态”)，就像这样:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/827e5632c0142f730c1b4c2811c3d545.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/1*hJPP0FLd-92bV16JPU0_-g.png"/></div></figure><p id="89f5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">从一个隔室到另一个隔室的过渡由箭头表示，其标签如下:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/9160b3870d81e7f0a3411c6a7d97a89c.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*5caEXgP-6ZG7HkrPECKAEA.png"/></div></figure><p id="162d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="lv">率</em>描述了转变需要多长时间，<em class="lv">人口</em>是这种转变适用的个体群体，<em class="lv">概率</em>是个体发生转变的概率。</p><p id="0f22" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">作为一个例子，让我们看看SIR方程中从易感者到被感染者的转变，β= 2，总人口为100，10人被感染，90人易感。比率是1，因为感染是立即发生的；过渡适用的人群是2 * 10 = 20个人，因为10个被感染的人每个感染2个人；可能性是90%，因为90/100的人仍然会被感染。它对应于这个直观的符号:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/497d46c57759f05c1074850cfc22c937.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*We4K9njCiEMowVuran4mWA.png"/></div></figure><p id="00dd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">而且更一般的，现在对于整个模型(对于I → R，速率为γ，概率为1随着每个人的恢复):</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/9b50a93d76cdd59c79879c033f4cdc56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NNO-CdlCZORoPYtllW343A.png"/></div></div></figure><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/95d26c04c58254fde82e400201e6f9d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HIMoCPOD4deo1D3JzJMHYg.png"/></div></div></figure><p id="ddbe" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">正如你所看到的，箭头<em class="lv">指向</em>一个隔间<em class="lv">在等式中加上</em>；指向远离一个隔间的箭头<em class="lv">减去<em class="lv">。那不是太糟糕，是吗？花点时间去真正理解新的符号，看看它是如何用另一种方式来写方程的。</em></em></p><p id="f930" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对，我们现在理解了SIR模型，可以用python编码了，但是它已经有用了吗？它能告诉我们任何关于真实世界传染病的事情吗？答案是<em class="lv">不</em>在目前的状态下，该模型更多的是一个玩具，而不是一个有用的工具。让我们改变这一切！</p><h1 id="62da" class="lw lx it bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">引入新隔间</h1><h2 id="61db" class="ni lx it bd ly nj nk dn mc nl nm dp mg km nn no mk kq np nq mo ku nr ns ms nt bi translated">导出暴露隔间</h2><p id="8228" class="pw-post-body-paragraph kb kc it kd b ke mu kg kh ki mv kk kl km mw ko kp kq mx ks kt ku my kw kx ky im bi translated">许多传染病在具有传染性之前都有一个潜伏期，在此期间宿主还不能传播疾病。我们将这样的个体——以及整个隔间——称为<strong class="kd iu"><em class="lv">E</em></strong><em class="lv">exposed</em>。</p><p id="0f49" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">直觉上，我们会有S → E → I → R形式的转变:易感人群会感染病毒，从而暴露，然后被感染，然后康复。新的转变S → E将具有与当前的S → I转变相同的箭头，因为概率是相同的(所有易感者都可以被暴露)，速率是相同的(“暴露”立即发生)并且群体是相同的(感染个体可以传播疾病并且每个每天暴露β个新个体)。从I到R的过渡也没有改变的理由。唯一的新转变是从E到I的转变:概率是1(每个暴露的人都会被感染)，总体是E(所有暴露的人都会被感染)，比率得到一个新的变量，δ (delta)。我们实现了这些转变:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/088df864351c1798628b328a15fdbeb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B-HZLpVWEgAZ3iloHBJjCA.png"/></div></div></figure><p id="6776" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">从这些转换，我们可以立即推导出这些方程(再次，比较状态转换和方程，直到它对你有意义):</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/a0bbe1ba2deac9caf2964ccc342c75d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pifhDuehblWR5EijDFh4kw.png"/></div></div></figure><h2 id="4378" class="ni lx it bd ly nj nk dn mc nl nm dp mg km nn no mk kq np nq mo ku nr ns ms nt bi translated">对暴露隔间进行编程</h2><p id="2e30" class="pw-post-body-paragraph kb kc it kd b ke mu kg kh ki mv kk kl km mw ko kp kq mx ks kt ku my kw kx ky im bi translated">这应该不会太难，我们只需要修改上一篇文章中的几行代码(<a class="ae kz" href="https://github.com/hf2000510/infectious_disease_modelling/blob/master/part_two.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">再次，完整的代码在这里沿着</strong> </a> <strong class="kd iu">，</strong>我只是在这里展示重要的位)。我们将在100万人口中模拟一种高传染性(R₀ =5.0)疾病，潜伏期为5天，恢复期为7天。</p><pre class="na nb nc nd gt nu nv nw nx aw ny bi"><span id="de54" class="ni lx it nv b gy nz oa l ob oc">Imports needed: <br/>from scipy.integrate import odeint<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>%matplotlib inline</span></pre><p id="7ea9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">方程和初始值现在看起来像这样:</p><figure class="na nb nc nd gt ju"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="1e63" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们随时间计算S、E、I和R:</p><figure class="na nb nc nd gt ju"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="2800" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">(标绘后)得到这个:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi of"><img src="../Images/a06496c21fbf23975a8bf3fc4368d6a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CKUw6ZXNRGh0ytRdzERY6g.png"/></div></div></figure><p id="b28f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们现在能够更真实地模拟真实的疾病，尽管仍然肯定缺少一个部分；我们现在将添加它:</p><h2 id="1da1" class="ni lx it bd ly nj nk dn mc nl nm dp mg km nn no mk kq np nq mo ku nr ns ms nt bi translated">导出死舱</h2><p id="13ba" class="pw-post-body-paragraph kb kc it kd b ke mu kg kh ki mv kk kl km mw ko kp kq mx ks kt ku my kw kx ky im bi translated">对于非常致命的疾病，这个隔间非常重要。对于其他一些情况，您可能希望添加完全不同的区间和动态(例如在长时间研究一种疾病时的出生和非疾病相关的死亡)；这些模型可以变得像你想要的那样复杂！</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/088df864351c1798628b328a15fdbeb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B-HZLpVWEgAZ3iloHBJjCA.png"/></div></div><p class="og oh gj gh gi oi oj bd b be z dk translated">我们当前的状态转换</p></figure><p id="2b35" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们考虑一下如何利用当前的转换添加一个<strong class="kd iu"> <em class="lv"> D </em> </strong> <em class="lv"> ead </em>状态。人什么时候会死于这种疾病？只有在他们被感染的时候！这意味着我们必须增加一个过渡I → D。当然，人不会马上死去；我们为人们的死亡率定义了一个新的变量<em class="lv">ρ(rho)</em>(例如，当死亡需要6天时，ρ将是1/6)。回收率γ没有理由改变。所以我们的新模型看起来会像这样:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/238cdf34441fce0c995905b39e896190.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*67WEZSCZ70oMs5TKKvvfJg.png"/></div></div></figure><p id="9b57" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">唯一缺少的是从感染到康复以及从感染到死亡的概率。这将是又一个变量(现在的最后一个！)，即<em class="lv">死亡率α。</em>例如，如果α=5%，ρ = 1，γ = 1(因此人们在1天内死亡或康复，这是一个更简单的例子)，100人被感染，那么5% ⋅ 100 = 5人将死亡。剩下95%的⋅ 100 = 95人正在康复。总而言之，I → D的概率是α，因此I → R的概率是1-α。我们最终得出了这个模型:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/b4488ba53c134406fe0cde1c20c3e10b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TIZaRpt70TR1RFtf2dmlew.png"/></div></div></figure><p id="b97a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这自然会转化为这些等式:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/dababc09e0ef7af00faf233b4464dfd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*002FJ30Y58ApR33Pk3njLA.png"/></div></div></figure><h2 id="f6a7" class="ni lx it bd ly nj nk dn mc nl nm dp mg km nn no mk kq np nq mo ku nr ns ms nt bi translated">对死区进行编程</h2><p id="8410" class="pw-post-body-paragraph kb kc it kd b ke mu kg kh ki mv kk kl km mw ko kp kq mx ks kt ku my kw kx ky im bi translated">我们只需要对代码做一些细微的修改(我们将α设置为20%，ρ设置为1/9)…</p><figure class="na nb nc nd gt ju"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="aa82" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">…我们得出这样的结论:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ok"><img src="../Images/3e8ffd7b2069fac8318015092d758638.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6L3YUMAmyR4PX0s_HFFTw.png"/></div></div></figure><p id="f27e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">请注意，我添加了一个“总计”，将每个时间步长的S、E、I、R和D相加，作为“健全检查”:区间的总和总是为N；这可以给你一个提示，说明你的方程是否正确。</p><p id="3ca4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您现在应该知道如何向模型中添加一个新的区间:考虑需要添加和更改哪些转换；想想这些新转变的概率、人口和速率；画图表；最后写下方程式。对于这些模型来说，编码绝对是<em class="lv">而不是</em>最难的部分！</p><p id="3b21" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如，您可能想要为需要去ICU的受感染个体添加一个“ICU”隔间(我们将在下一篇文章中完成)。想想人可以从哪个车厢进ICU，出了ICU后可以去哪里等等。</p><h1 id="339e" class="lw lx it bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">时间相关变量</h1><p id="e48d" class="pw-post-body-paragraph kb kc it kd b ke mu kg kh ki mv kk kl km mw ko kp kq mx ks kt ku my kw kx ky im bi translated">以下是我们目前使用的变量的更新列表:</p><ul class=""><li id="e484" class="lh li it kd b ke kf ki kj km lj kq lk ku ll ky lm ln lo lp bi translated"><strong class="kd iu">总人口</strong></li><li id="6b43" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> S(t): </strong>第t天易感人数</li><li id="be59" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> E(t): </strong>第t天暴露的人数</li><li id="6e0e" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> I(t): </strong>第t天感染人数</li><li id="e273" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> R(t): </strong>第t天康复人数</li><li id="6686" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu">D(t):</strong>t日死亡人数</li><li id="0cc1" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> β: </strong>感染者每天感染的预期人数</li><li id="1036" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> D: </strong>感染者已经并可能传播疾病的天数</li><li id="ce4a" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> γ: </strong>感染者每日痊愈的比例(γ = 1/D)</li><li id="c09e" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> R₀: </strong>一个感染者感染的总人数(R₀ = β / γ)</li><li id="edeb" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> δ: </strong>潜伏期的长短</li><li id="44ae" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated"><strong class="kd iu"> α: </strong>病死率</li><li id="f268" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated">人的死亡率(= 1/从感染到死亡的天数)</li></ul><p id="c1a5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如您所见，只有区间会随时间变化(它们不是恒定的)。当然，这是极不现实的！举个例子，为什么R₀-value应该是常数？当然，全国范围内的封锁减少了感染者的感染人数，<em class="lv">这就是它们的意义所在</em>！自然地，为了更接近模拟真实世界的发展，我们必须让我们的变量随着时间而变化。</p><h2 id="8083" class="ni lx it bd ly nj nk dn mc nl nm dp mg km nn no mk kq np nq mo ku nr ns ms nt bi translated">时间相关R₀</h2><p id="76aa" class="pw-post-body-paragraph kb kc it kd b ke mu kg kh ki mv kk kl km mw ko kp kq mx ks kt ku my kw kx ky im bi translated">首先，我们实现一个简单的改变:在第<em class="lv"> L </em>天，一个严格的“锁定”被强制执行，将R₀推至0.9。在方程中，我们用β而不是R₀，但我们知道R₀ = β / γ，所以β = R₀ ⋅ γ。这意味着我们定义了一个函数</p><pre class="na nb nc nd gt nu nv nw nx aw ny bi"><span id="2f85" class="ni lx it nv b gy nz oa l ob oc">def R_0(t):<br/>    return 5.0 if t &lt; L else 0.9</span></pre><p id="b4dc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">β的另一个函数调用这个函数:</p><pre class="na nb nc nd gt nu nv nw nx aw ny bi"><span id="81d2" class="ni lx it nv b gy nz oa l ob oc">def beta(t):<br/>    return R_0(t) * gamma</span></pre><p id="25a5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对，似乎很容易；我们只需相应地更改代码:</p><figure class="na nb nc nd gt ju"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="d914" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们画出一些不同的L值:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ol"><img src="../Images/905b0f78c8777334d5532e8025f483b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NgQChXUPE_ZmkIwMNtR9ow.png"/></div></div></figure><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi om"><img src="../Images/4535294768df395da7e9330c9920b68d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BNFROv6e5yehhxF_6sWvVQ.png"/></div></div></figure><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi on"><img src="../Images/3370e2da2dfea59d91a8da848bbfbbe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CCWlpHOZdaqiEMn4A-cRLg.png"/></div></div></figure><p id="af46" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">几天的时间就能让疾病的整体传播发生巨大的变化！</p><p id="204f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">事实上，R₀可能从来没有从一种价值观“跳到”另一种价值观。相反，它(或多或少地)不断变化(可能上下波动几次，例如，如果社会距离措施放松，然后再次收紧)。你可以为R₀选择任何你想要的函数，我只想给出一个常见的选择来模拟社交距离的最初影响:一个<a class="ae kz" href="https://en.wikipedia.org/wiki/Logistic_function" rel="noopener ugc nofollow" target="_blank"> <em class="lv">逻辑函数</em> </a>。</p><p id="2116" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">该函数(用于我们的目的)如下所示:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/4da3779d38af779074a74c4cceaa45d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4rBxPap9aKEg_zoUZhGYMA.png"/></div></div></figure><p id="4060" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下面是这些参数的实际作用:</p><ul class=""><li id="033c" class="lh li it kd b ke kf ki kj km lj kq lk ku ll ky lm ln lo lp bi translated">r0 _ start和r0 _ end是第一天和最后一天的r0值</li><li id="5c67" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated">x_0是拐点的x值(即R_0最急剧下降的日期，这可以被认为是主要的“锁定”日期)</li><li id="c242" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated">k让我们改变R_0下降的速度</li></ul><p id="4968" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这些图可能有助于您理解参数:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ok"><img src="../Images/4147ba1fbfabe94c2c4a077914c86e53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SvPoLK2ODH8BHU2JQIDJ8g.png"/></div></div></figure><p id="e0e6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">同样，相应地更改代码:</p><figure class="na nb nc nd gt ju"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="dbba" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们让R₀在第50天左右从5.0快速下降到0.5，现在可以真正看到曲线在第50天后变平:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oo"><img src="../Images/386112d3f6a801f18d8a761c6009cd3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YLZQ08dRTGx11Zvj29gDTQ.png"/></div></div></figure><h2 id="51f6" class="ni lx it bd ly nj nk dn mc nl nm dp mg km nn no mk kq np nq mo ku nr ns ms nt bi translated"><strong class="ak">与资源和年龄相关的死亡率</strong></h2><p id="b240" class="pw-post-body-paragraph kb kc it kd b ke mu kg kh ki mv kk kl km mw ko kp kq mx ks kt ku my kw kx ky im bi translated">与R₀相似，对大多数真正的疾病来说，死亡率α可能不是常数。这可能取决于多种因素。我们将关注对资源和年龄的依赖性。</p><p id="a78d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，让我们看看资源依赖。当更多的人被感染时，我们希望死亡率更高。想一想如何将它转化为一个函数:我们可能需要一个“基础”或“最佳”死亡率，用于只有少数人被感染(并因此得到最佳治疗)的情况，以及一些考虑到当前感染人口比例的因素。这是实现这些想法的函数的一个例子:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/4c858d7e4bc26a46eaf0f0479fac27b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MnY3JYS9xZhuvPPjNuxHVw.png"/></div></div></figure><p id="8c1b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里，<em class="lv"> s </em>是某个任意但固定的(这意味着我们为一个模型自由选择它一次，然后它随时间保持不变)比例因子，它控制感染比例应该有多大的影响；α_OPT是最佳死亡率。例如，如果s=1，有一半的人口在某一天被感染，那么s ⋅ I(t) / N = 1/2，那么那一天的病死率α(t)为50% + α_OPT。或者也许大多数人几乎没有任何症状，因此许多被感染的人不会阻塞医院。那么比例因子0.1可能是合适的(在同样的情况下，死亡率仅为5% + α_OPT)。</p><p id="0bcc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">更精细的模型可能会使死亡率取决于ICU病床或呼吸机的数量等。我们将在下一篇文章中对冠状病毒建模时做这件事。</p><p id="1f69" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">年龄依赖就有点难了。为了完全实现它，我们必须为每个年龄组包括单独的隔间(例如，一个感染隔间用于0-9岁的人，另一个用于10-19岁的人……)。用python中的一个简单for循环就可以做到这一点，但是等式有点混乱。仍然能够产生良好结果的更简单的方法如下:</p><p id="8d9c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于更简单的方法，我们需要两样东西:按年龄组的死亡率和该年龄组占总人口的比例。例如，我们可能有以下死亡率和按年龄组划分的人数(在Python字典中):</p><pre class="na nb nc nd gt nu nv nw nx aw ny bi"><span id="6a54" class="ni lx it nv b gy nz oa l ob oc">alpha_by_agegroup = {<br/>    "0-29": 0.01, "30-59": 0.05, "60-89": 0.20, "89+": 0.30<br/>}<br/>proportion_of_agegroup = {<br/>    "0-29": 0.1, "30-59": 0.3, "60-89": 0.4, "89+": 0.2<br/>}</span></pre><p id="0177" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">(这将是一个非常老的人口，40%在60-89岁之间，20%在89岁以上)。现在，我们通过将年龄组死亡率乘以该年龄组的人口比例相加来计算总平均死亡率:</p><p id="8eab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">α = 0.01 ⋅ 0.1 + 0.05 ⋅ 0.3 + 0.2 ⋅ 0.4 + 0.3 ⋅ 0.2 = 15.6%.或者在代码中:</p><pre class="na nb nc nd gt nu nv nw nx aw ny bi"><span id="e494" class="ni lx it nv b gy nz oa l ob oc">alpha = sum(<br/>    alpha_by_agegroup[agegroup] * proportion_of_agegroup[agegroup]  <br/>    for agegroup in alpha_by_agegroup.keys()<br/>)</span></pre><p id="b267" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">相当年轻的人口比例如下…</p><pre class="na nb nc nd gt nu nv nw nx aw ny bi"><span id="12ab" class="ni lx it nv b gy nz oa l ob oc">proportion_of_agegroup = {<br/>    "0-29": 0.4, "30-59": 0.4, "60-89": 0.1, "89+": 0.1<br/>}</span></pre><p id="81ec" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">…平均死亡率仅为7.4%！</p><p id="fd45" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果我们想同时使用我们的资源依赖公式和年龄依赖公式，我们可以使用我们刚刚用来计算α_OPT的资源公式，并在上面的资源依赖公式中使用它。</p><p id="71f3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">随着时间的推移，当然有更精细的方法来实现死亡率。例如，我们没有考虑到只有需要重症监护的危重病例才会挤满医院，并可能增加死亡率；或者死亡改变了我们最初用来计算死亡率的人口结构；或者感染对死亡率的影响应该在几天后发生，因为人们通常不会立即死亡，这将导致<a class="ae kz" href="https://en.wikipedia.org/wiki/Delay_differential_equation" rel="noopener ugc nofollow" target="_blank"> <em class="lv">延迟微分方程</em> </a>，这在Python中很难处理！再次强调，尽你所能地发挥创造力！</p><h2 id="d585" class="ni lx it bd ly nj nk dn mc nl nm dp mg km nn no mk kq np nq mo ku nr ns ms nt bi translated">实施与资源和年龄相关的死亡率</h2><p id="1a83" class="pw-post-body-paragraph kb kc it kd b ke mu kg kh ki mv kk kl km mw ko kp kq mx ks kt ku my kw kx ky im bi translated">这相当简单，我们甚至不需要改变我们的主方程(我们在方程中定义<em class="lv"> alpha </em>，因为我们需要访问当前值I(t))。</p><figure class="na nb nc nd gt ju"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="18ef" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">根据上面按年龄组和老年人口统计的死亡率(以及比例因子<em class="lv"> s </em>为1，所以许多人被感染对死亡率有很大影响)，我们得出了这个图:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ok"><img src="../Images/200053b2ce66f6eb82dd7ad0d7452472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E-w6HO_pFgn9bQX80Vo3Ow.png"/></div></div></figure><p id="1080" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于较年轻的人口(大约8万人而不是15万人死亡):</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi op"><img src="../Images/c1cc32bb6ce45a855ad24a8d9f40f31b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eoSCiPnwnI85ZoKxjfrNDQ.png"/></div></div></figure><p id="06f6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在缩放系数只有0.01:</p><p id="c26a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于年龄较大的人群(请注意，随着时间的推移，死亡率仅略微上升)…</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oq"><img src="../Images/f8062cc56baa555f635e5d17cf1d61ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dPTCnGCtH96DYUa6eylLJQ.png"/></div></div></figure><p id="9c52" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">…以及更年轻的人群:</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi or"><img src="../Images/38613d65dd9961bcdc5410732400b24d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J_qdqsGMAviXuMsjE1QkSQ.png"/></div></div></figure><h1 id="4906" class="lw lx it bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">概述</h1><p id="c6b4" class="pw-post-body-paragraph kb kc it kd b ke mu kg kh ki mv kk kl km mw ko kp kq mx ks kt ku my kw kx ky im bi translated">仅此而已！您现在应该能够添加自己的区间(可能是针对可能再次感染<em class="lv"/>的个人的区间，或者是针对糖尿病患者等特殊风险群体的区间)，首先通过状态转换符号以图形方式，然后正式通过等式，最后通过Python以编程方式！此外，您还看到了一些实现时间相关变量的示例，这使得模型更加通用。</p><p id="10a6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">所有这些应该可以让你设计出非常接近真实世界的SIR模型。当然，许多科学家目前正在研究这些模型(<a class="ae kz" href="https://scholar.google.de/scholar?as_vis=1&amp;q=coronavirus+SIR&amp;hl=en&amp;as_sdt=1,5&amp;as_ylo=2020" rel="noopener ugc nofollow" target="_blank">此链接</a>可以帮助你找到一些当前的文章——注意，它们可能会变得非常复杂，但这仍然是深入了解该领域当前状态的一个很好的方式)。在下一篇文章中，我们将把重点放在设计模型并使其适合真实世界的数据，并将冠状病毒作为一个案例研究。</p><p id="95d4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="lv">编者按:</em> </strong> <em class="lv"> </em> <a class="ae kz" href="http://towardsdatascience.com" rel="noopener" target="_blank"> <em class="lv">走向数据科学</em> </a> <em class="lv">是一份以数据科学和机器学习研究为主的中型刊物。我们不是健康专家或流行病学家，本文的观点不应被解释为专业建议。想了解更多关于疫情冠状病毒的信息，可以点击</em> <a class="ae kz" href="https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports" rel="noopener ugc nofollow" target="_blank"> <em class="lv">这里</em> </a> <em class="lv">。</em></p></div></div>    
</body>
</html>