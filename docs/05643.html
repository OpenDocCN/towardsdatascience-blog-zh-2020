<html>
<head>
<title>Monte Carlo Simulation with Dollar-Cost Averaging</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">采用美元成本平均法的蒙特卡罗模拟</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/monte-carlo-simulation-with-dollar-cost-averaging-653ae47ec7d5?source=collection_archive---------26-----------------------#2020-05-11">https://towardsdatascience.com/monte-carlo-simulation-with-dollar-cost-averaging-653ae47ec7d5?source=collection_archive---------26-----------------------#2020-05-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/5c54e84da0ac4ddba5c0da28e511c049.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PIwmyzKq7RdNlwbo"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">艾萨克·史密斯在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class=""/><div class=""><h2 id="30e8" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">利用Python中的蒙特卡罗模拟分析标准普尔500 ROI</h2></div><p id="1665" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lu">声明:我不是金融专业人士。此处提供的内容仅用于信息、教育和娱乐目的，不应被解释为专业的财务建议。</em></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="2544" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从我完成研究生学业开始我在分析领域的新事业已经有几个月了。在我拿到最初的几份工资后，我开始思考如何更明智地使用每月支付费用后剩余的现金，因为把它留在利息为0.01%的支票账户上似乎有点乏味。经过一番研究后，我决定为什么不把它投入股市，至少可以跟上通货膨胀，这样我就可以将美元成本平均到标准普尔500交易所交易基金(ETF)中了。</p><p id="c9bb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">美元成本平均法(DCA)是一种常见的投资策略，其中固定金额的资本定期投资于某项资产，以减少市场波动的影响。这种策略与ETF完美契合了我的需求，因为它是自动多样化的，不需要多少市场知识。</p><p id="4fc0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我把辛苦赚来的钱投入股市之前，我想我应该好好利用我的分析学位所获得的新知识。我决定在ETF上用Python实现一个简单的蒙特卡罗(MC)模拟，看看DCA的表现如何。通过MC模拟，我可以在对历史数据进行重复随机采样后，获得预期投资回报(ROI)的分布。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c154" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">数据</h1><p id="9262" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">为了做到这一点，我研究了两个最受欢迎的基金，SPDR 标准普尔500 ETF信托基金(SPY)和先锋标准普尔500 ETF (VOO)。我从雅虎上下载了这些数据。财务，从开始日期到当前日期的所有日期。模拟中使用的两个关键变量是交易日和每个交易日结束时的调整收盘价(因为收盘价不包括股息)。没有考虑成交量和日内价格。</p><figure class="na nb nc nd gt iv gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/ea03be91d5009ed99e876df65d016cf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*szDuvZK8SsZIcbwDvlS_lw.jpeg"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">间谍数据帧的前五行</p></figure><p id="c11d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过快速绘制数据，我注意到曲线的形状几乎相同(这是意料之中的，因为它们跟踪的是相同的股票)。间谍存在的时间也是VOO的两倍多，在过去的三月里，大概是由于新冠肺炎·疫情的原因，它的大量减少非常明显。</p><figure class="na nb nc nd gt iv gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/b172c6158f5ea653514ece667696e201.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*sHdWZ_tc-cxdrsCROPmfcA.png"/></div></figure><p id="c5fc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">幸运的是，我不必为这个简单的时间序列做任何数据清理，所以我们可以直接进行模拟。</p><h1 id="1b16" class="mc md jj bd me mf nf mh mi mj ng ml mm kp nh kq mo ks ni kt mq kv nj kw ms mt bi translated">仿真法</h1><p id="600c" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">构成MC模拟的主要组件是过程、常量变量、随机变量和样本大小。在这种情况下:</p><ul class=""><li id="50a9" class="nk nl jj la b lb lc le lf lh nm ll nn lp no lt np nq nr ns bi translated"><strong class="la jk">流程:</strong> DCA在12个月内每个日历月进行一次间谍和VOO</li><li id="5bc2" class="nk nl jj la b lb nt le nu lh nv ll nw lp nx lt np nq nr ns bi translated"><strong class="la jk">恒定变量:</strong>每月1000美元投资</li><li id="e6d8" class="nk nl jj la b lb nt le nu lh nv ll nw lp nx lt np nq nr ns bi translated"><strong class="la jk">随机变量:</strong>选择一个连续12个月的时间段和每个日历月一次的购买日期</li><li id="9aa4" class="nk nl jj la b lb nt le nu lh nv ll nw lp nx lt np nq nr ns bi translated"><strong class="la jk">样本量:</strong> 20，000次(间谍)和10，000次(VOO)迭代</li></ul><p id="ad3c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">模拟开始时，银行里有1000美元作为第一个月的购买力，在股票存在的范围内随机选择12个月的时间，间谍从1993年到2020年，VOO从2010年到2020年。在随机过程生成器中，允许12个月的周期从一年开始，到下一年结束。所有随机过程发生器都运行在均匀分布上。</p><p id="045b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于所选日期范围内的每个月，从历史数据中随机选择该月的一个日期作为购买日期。日期随股价而定，用可获得的购买力购买最大数量的股票。除了每月1000美元的新收入外，剩余的购买力会滚动到下个月。</p><p id="004a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在12个月的期间内，每个月都重复该过程的这一阶段，以创建一个样本。整个过程对于SPY重复20，000次，对于VOO重复10，000次。</p><p id="6d2c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每个数据点都在一个循环函数中计算并存储在Python中。请查看我在<a class="ae jg" href="https://github.com/matchin/monte_carlo_dca" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上的代码了解更多细节。</p><p id="62dc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意:SPY中的额外迭代是为了说明其更长的存在时间(需要更多的样本来收敛到总体均值)。</p><h1 id="1648" class="mc md jj bd me mf nf mh mi mj ng ml mm kp nh kq mo ks ni kt mq kv nj kw ms mt bi translated">结果</h1><p id="13d6" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">在对间谍和VOO进行模拟后，可以计算出每个样本从第1个月到第12个月的年投资回报率，从而得出样本分布。当我们可视化结果时，我们看到一致的分布，稍微偏向负回报，中心在6–7%的年回报。SPY中的分布更加广泛，偏离平均值更多，这可能来自VOO没有的1993年至2010年间的额外数据。</p><figure class="na nb nc nd gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ny"><img src="../Images/adaf6b9211fe150c0007cfd049a58306.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3yTAE6_-vjkXZCUrcjqXlw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">间谍和12个月投资回报样本分布</p></figure><figure class="na nb nc nd gt iv gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/af74e83db04f4f0c4ab01df932b7bd85.png" data-original-src="https://miro.medium.com/v2/resize:fit:390/format:webp/1*4GklluIH2yCCIS6kT1BF0Q.jpeg"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">12个月回报统计</p></figure><p id="1605" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">无论某人投资哪只ETF，都有75%的机会获得至少1%的回报，这已经是0.01%利息支票账户的100倍。更妙的是，SPY的最高回报是27%(虽然概率很低)！</p><p id="a52d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">出于好奇，我还对输入进行了一些调整，并模拟了60个月的ROI，以观察它的表现。间谍变得不那么一致，变得更加多变，而VOO没有太大变化。</p><figure class="na nb nc nd gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ny"><img src="../Images/e8360248bd5216289206832ca2c23baa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ia1ViddQFkJcODpPKbWJcQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">间谍和VOO的60个月投资回报样本分布</p></figure><figure class="na nb nc nd gt iv gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/b31fd19032227ba911d356e703baa565.png" data-original-src="https://miro.medium.com/v2/resize:fit:386/format:webp/1*li6ZxK8DzR9OrOFvvrShXg.jpeg"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">60个月退货统计</p></figure><p id="cd8f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在5年的时间里，投资者可以预期获得30%左右的平均回报。最好的情况是，一项投资可能会因为间谍而翻倍，或者在最坏的情况下损失40%。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="27b4" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">结论</h1><p id="4a07" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">根据这一分析，每月随机选择一天用DCA将钱投入标准普尔500 ETF，几乎肯定比把钱留在支票账户要好。与任何投资一样，风险越高，回报也越高。正如我们在这里看到的，平均12个月的投资回报率为6–7%也有可能出现负投资回报率。SPY提供了一个略有不同(也许更好？)由于起步较早，对市场的估计比VOO大。周期性将是一个有趣的分析点，可以看出每月分期付款与每季度、每两个月分期付款相比如何。最后，这只是一个有趣的项目，给了我一个练习分析技能的借口，并希望获得一些对我个人财务有用的见解。</p><p id="195c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你有兴趣查看我的代码，请查看我的<a class="ae jg" href="https://github.com/matchin/monte_carlo_dca" rel="noopener ugc nofollow" target="_blank"> Github </a>！</p></div></div>    
</body>
</html>