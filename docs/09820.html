<html>
<head>
<title>Docker Networking</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker 网络</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/docker-networking-919461b7f498?source=collection_archive---------19-----------------------#2020-07-12">https://towardsdatascience.com/docker-networking-919461b7f498?source=collection_archive---------19-----------------------#2020-07-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0fc5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">容器是如何与它们的宿主以及彼此通信的！</h2></div><p id="99cf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当你安装 docker 时，它会自动创建三个网络——网桥、主机和无网络。其中，网桥是容器运行时所连接的默认网络。要将容器连接到任何其他网络，您可以使用 run 命令的<strong class="kh ir"> - network </strong>标志。</p><ol class=""><li id="86ed" class="lb lc iq kh b ki kj kl km ko ld ks le kw lf la lg lh li lj bi translated"><a class="ae lk" rel="noopener" target="_blank" href="/a-concise-guide-to-docker-f6b6d5fb56f4">简介</a></li><li id="0cf0" class="lb lc iq kh b ki ll kl lm ko ln ks lo kw lp la lg lh li lj bi translated"><a class="ae lk" href="https://medium.com/@gyani91/docker-file-179b5e3d9171" rel="noopener"> Docker 文件</a></li><li id="d4fb" class="lb lc iq kh b ki ll kl lm ko ln ks lo kw lp la lg lh li lj bi translated"><a class="ae lk" href="https://medium.com/@gyani91/docker-commands-bbf02780b785" rel="noopener">基本对接命令</a></li><li id="561c" class="lb lc iq kh b ki ll kl lm ko ln ks lo kw lp la lg lh li lj bi translated"><a class="ae lk" href="https://medium.com/@gyani91/port-and-volume-mapping-c8bb09221f82" rel="noopener">端口和卷映射</a></li><li id="af68" class="lb lc iq kh b ki ll kl lm ko ln ks lo kw lp la lg lh li lj bi translated">Docker 联网(你来了！)</li><li id="131f" class="lb lc iq kh b ki ll kl lm ko ln ks lo kw lp la lg lh li lj bi translated"><a class="ae lk" href="https://medium.com/@gyani91/docker-storage-598e385f4efe" rel="noopener">码头仓库</a></li><li id="83f8" class="lb lc iq kh b ki ll kl lm ko ln ks lo kw lp la lg lh li lj bi translated"><a class="ae lk" href="https://medium.com/@gyani91/docker-compose-44a8112c850a" rel="noopener"> Docker 撰写</a></li><li id="a6c1" class="lb lc iq kh b ki ll kl lm ko ln ks lo kw lp la lg lh li lj bi translated"><a class="ae lk" href="https://medium.com/@gyani91/deleting-docker-entities-2f90e4a0a765" rel="noopener">删除 Docker 实体</a></li></ol><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lq"><img src="../Images/1b30a1ab34db14df8ff7737b56be04fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WKiEgPXO8XXppoqgr7ZVQA.png"/></div></div><p class="mc md gj gh gi me mf bd b be z dk translated">Docker 中自动创建的网络</p></figure><p id="f6c7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">桥</strong>网络将<em class="mg"> 172.17.x.x </em>范围内的 IP 分配给其中的容器。要从外部访问这些容器，您需要将这些容器的端口映射到主机上的端口。另一个自动创建的网络是<strong class="kh ir">主机</strong>。选择<strong class="kh ir">主机</strong>网络将移除 docker 主机和容器之间的任何网络隔离。例如，如果您在端口 5000 上运行一个容器，它将可以在 docker 主机上的同一个端口上被访问，而不需要任何显式的端口映射。这种方法的唯一缺点是不能对任何容器两次使用同一个端口。最后，<strong class="kh ir"> None </strong>网络保持容器完全隔离，即它们不连接到任何网络或容器。</p><p id="a629" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些容器可以使用它们的名字相互联系。这是通过运行在地址<strong class="kh ir"> 127.0.0.11 </strong>上的嵌入式 DNS 实现的。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mh"><img src="../Images/10ff1a507a6749a366f851bbe0a73f3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DQ7oHTHIgHOvfTqk58NR-A.png"/></div></div><p class="mc md gj gh gi me mf bd b be z dk translated">嵌入式 DNS</p></figure><p id="cf42" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">默认情况下，容器连接到同一个网络。如果我们希望两个容器在不同的网络上，我们该怎么办？</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mi"><img src="../Images/ddd008477e001a4c45c677e3739ddab0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pxgEmyU1LZIfHENlBmFDHQ.png"/></div></div><p class="mc md gj gh gi me mf bd b be z dk translated">默认网络</p></figure><p id="39eb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们可以使用以下命令定义一个用户定义的网络，并在运行容器时分配该网络。</p><pre class="lr ls lt lu gt mj mk ml mm aw mn bi"><span id="9e85" class="mo mp iq mk b gy mq mr l ms mt">docker network create \<br/>	--driver bridge \<br/>	--subnet 182.18.0.0/16 \<br/>	user-def</span></pre><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mu"><img src="../Images/740f1cddd71866d97cb188f6d7b648be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-O2YqpRXmDBP_PzSNOhyyA.png"/></div></div><p class="mc md gj gh gi me mf bd b be z dk translated">用户定义的网络</p></figure><p id="0733" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<a class="ae lk" href="https://medium.com/@gyani91/docker-storage-598e385f4efe" rel="noopener">下一节</a>中，我们将了解 Docker 储物件！</p><p id="4e9c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">参考:</p><p id="7b4d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[1]穆姆沙德·曼南贝斯，<a class="ae lk" href="https://kodekloud.com/p/docker-for-the-absolute-beginner-hands-on" rel="noopener ugc nofollow" target="_blank"> Docker for the Absolute 初学者</a> (2020)，KodeKloud.com</p></div></div>    
</body>
</html>