<html>
<head>
<title>Creating a basic pie chart using Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Matplotlib创建基本饼图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-a-basic-pie-chart-using-matplotlib-16dd3bf540b6?source=collection_archive---------11-----------------------#2020-02-01">https://towardsdatascience.com/creating-a-basic-pie-chart-using-matplotlib-16dd3bf540b6?source=collection_archive---------11-----------------------#2020-02-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div class="gh gi ir"><img src="../Images/9619fe764371c2b443899b4af428c552.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*hbUSzO-Ul9Fi6p-30xL6Sg.png"/></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">图片鸣谢:<a class="ae jc" href="https://www.canva.com/design/DADyheAuwPg/CktbIdGv6Cw60nVQXcSw4w/edit?category=tACFakiSKJ8" rel="noopener ugc nofollow" target="_blank">https://www . can va . com/design/DADyheAuwPg/cktbidgv 6 CW 60 nvqxcsw 4 w/edit？category=tACFakiSKJ8 </a></p></figure><div class=""/><div class=""><h2 id="cdb1" class="pw-subtitle-paragraph kc je jf bd b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dk translated">如何使用饼图来描述您的数据。</h2></div><p id="60d4" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">饼图用于以突出每个数据点对整体的贡献(即100%)的格式呈现分类数据。图表的形状是圆形的，就像一个饼图，每个数据点都以一定的百分比表示，同时从饼图中取一部分，形状像一个切片。它在饼图中的份额越大，数据点在饼图中所占的比例就越大。</p><h1 id="ca2e" class="lq lr jf bd ls lt lu lv lw lx ly lz ma kl mb km mc ko md kp me kr mf ks mg mh bi translated">如何在Jupyter笔记本中使用饼图</h1><h2 id="54a9" class="mi lr jf bd ls mj mk dn lw ml mm dp ma ld mn mo mc lh mp mq me ll mr ms mg mt bi translated">获取数据集</h2><p id="1f3c" class="pw-post-body-paragraph ku kv jf kw b kx mu kg kz la mv kj lc ld mw lf lg lh mx lj lk ll my ln lo lp im bi translated">该数据集是从英格兰超级联赛网站上获得的，并收集了英格兰超级联赛中得分最高的前15名球员。然后，他们被操纵去找出英超球队是如何在这个表格中被代表的。</p><div class="mz na nb nc gt ab cb"><figure class="nd iv ne nf ng nh ni paragraph-image"><img src="../Images/1e0a5a8acaddf27186687334315b50de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*WTFF90hS_--ZwJ_rl5bFDw.png"/></figure><figure class="nd iv nj nf ng nh ni paragraph-image"><img src="../Images/15c2075000b409b5754c6537a0b3ed9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:374/format:webp/1*1jX7VbtOSS0hu717fIkTBw.png"/><p class="iy iz gj gh gi ja jb bd b be z dk nk di nl nm translated">左图，英超2019/20赛季中期前五名球员。右边是前15名进球最多的球队中进球最多的前五支球队。</p></figure></div><p id="3ab2" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">获得数据集后，下一步是导入数据可视化包进行分析。</p><h2 id="b541" class="mi lr jf bd ls mj mk dn lw ml mm dp ma ld mn mo mc lh mp mq me ll mr ms mg mt bi translated">导入数据可视化包</h2><p id="446c" class="pw-post-body-paragraph ku kv jf kw b kx mu kg kz la mv kj lc ld mw lf lg lh mx lj lk ll my ln lo lp im bi translated">为构建饼图而导入的数据可视化包称为Matplotlib，它是使用以下代码集导入的:</p><pre class="mz na nb nc gt nn no np nq aw nr bi"><span id="0e0c" class="mi lr jf no b gy ns nt l nu nv"><em class="nw">## Import data visualization packages</em><br/><strong class="no jg">import</strong> <strong class="no jg">matplotlib.pyplot</strong> <strong class="no jg">as</strong> <strong class="no jg">plt</strong><br/>%matplotlib inline</span></pre><h2 id="d08c" class="mi lr jf bd ls mj mk dn lw ml mm dp ma ld mn mo mc lh mp mq me ll mr ms mg mt bi translated">制作饼图</h2><p id="ba24" class="pw-post-body-paragraph ku kv jf kw b kx mu kg kz la mv kj lc ld mw lf lg lh mx lj lk ll my ln lo lp im bi translated">我们的目标是构建一个饼图，代表英超联赛中进球最多的前15支球队中进球最多的前5支球队。首先，将构建一个非常基本的饼图。饼图是使用以下代码制作的:</p><pre class="mz na nb nc gt nn no np nq aw nr bi"><span id="2618" class="mi lr jf no b gy ns nt l nu nv">labels = df_score_2.index<br/>colors = ['lightskyblue', 'red', 'blue', 'green', 'gold']<br/>plt.pie(df_score_2['Stat'], labels= labels, colors=colors, startangle=90, autopct='<strong class="no jg">%.1f%%</strong>')<br/>plt.show()</span></pre><p id="c3b0" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="nw">标签= df_score_2.index </em>用于存储表格的索引，作为饼图的标签。<em class="nw">标签</em>是五个队的名字。<em class="nw">颜色= ['亮天蓝色'，'红色'，'蓝色'，'绿色'，'金色'] </em>将用于代表饼状图中五支英超球队的每一片，作为他们的颜色。应使用<em class="nw"> plt.pie(df_score_2['Stat']，labels= labels，colors=colors，startangle=90，autopct = '</em><strong class="kw jg"><em class="nw">% . 1f % %</em>%</strong><em class="nw">')</em>创建饼图。<em class="nw"> df_score_2['Stat'] </em>包含各队的数值，该数值应除以总数并乘以100。它们切片的大小与它们的比例有关。<em class="nw">标签=标签</em>是饼图中每个扇区的标签。<em class="nw"> colors = colors </em>用于高亮显示每个切片的颜色。startangle=90 代表饼图开始构建的角度。<em class="nw">autopct = '</em><strong class="kw jg"><em class="nw">% . 1f % %</em></strong><em class="nw">'</em>用于格式化百分比在饼图上的显示方式。最后，<em class="nw"> plt.show() </em>用于显示饼图。</p><figure class="mz na nb nc gt iv gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/b2cca6540caa9793010317ffbb0994b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*SadWTDvBqAixbBcjiL018Q.png"/></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">一个饼图，显示前15名进球最多的球队中进球最多的前5支球队。</p></figure><h2 id="69f9" class="mi lr jf bd ls mj mk dn lw ml mm dp ma ld mn mo mc lh mp mq me ll mr ms mg mt bi translated">增强饼图</h2><p id="ff57" class="pw-post-body-paragraph ku kv jf kw b kx mu kg kz la mv kj lc ld mw lf lg lh mx lj lk ll my ln lo lp im bi translated">上面的饼状图是一个草稿饼状图，可以通过添加更多代码来改进。假设利物浦将对阵托特纳姆热刺，两支球队都希望在视觉上更加突出。这可以使用下面编写的一组代码来完成:</p><pre class="mz na nb nc gt nn no np nq aw nr bi"><span id="1609" class="mi lr jf no b gy ns nt l nu nv"><em class="nw">## for exploding the pie chart</em> <br/>labels = df_score_2.index <br/>colors = ['lightskyblue', 'red', 'blue', 'green', 'gold']<br/>explode =(0,0.1,0,0.1,0) <br/>plt.pie(df_score_2['Stat'], explode = explode,labels= labels, colors=colors, startangle=90, autopct='<strong class="no jg">%.1f%%</strong>') <br/>plt.show()</span></pre><p id="01a9" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">除了添加了新的一行代码<em class="nw"> explode =(0，0.1，0，0.1，0) </em>之外，上面的代码没有任何变化。添加这行代码并明确表示括号中的第二个和第四个成员的值是0.1，将会把利物浦和托特纳姆热刺队从馅饼中剔除。然后，一个新命令<em class="nw"> explode = explode </em>被添加到<em class="nw"> plt.pie </em>函数中。</p><figure class="mz na nb nc gt iv gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/67636e6bfa97786e4e9db0b7ea3238fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*o4G2o324Rg7JZ275f1SK7w.png"/></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">一个改进的饼状图显示了前15名进球最多的球队中进球最多的前5支球队，剔除了利物浦和热刺。</p></figure><h2 id="0f6b" class="mi lr jf bd ls mj mk dn lw ml mm dp ma ld mn mo mc lh mp mq me ll mr ms mg mt bi translated">增强饼图II</h2><p id="2984" class="pw-post-body-paragraph ku kv jf kw b kx mu kg kz la mv kj lc ld mw lf lg lh mx lj lk ll my ln lo lp im bi translated">使用下面的代码，可以通过包含更多细节的标题和添加阴影使饼图看起来更坚实来进一步改进饼图。</p><pre class="mz na nb nc gt nn no np nq aw nr bi"><span id="08ca" class="mi lr jf no b gy ns nt l nu nv"><em class="nw">## Adding a title to the pie chart and a shadow to the chart</em> <br/>labels = df_score_2.index <br/>colors = ['lightskyblue', 'red', 'blue', 'green', 'gold'] <br/>explode =(0,0.1,0,0.1,0)<br/>plt.pie(df_score_2['Stat'], explode = explode,labels= labels, colors=colors, startangle=90, autopct='<strong class="no jg">%.1f%%</strong>', shadow = <strong class="no jg">True</strong>) plt.title("Top five teams with the most goals among the top 15 highest goal scorers <strong class="no jg">\n</strong>in the premier league 2019/20 mid-season", fontsize = 18) <br/>plt.show()</span></pre><p id="0239" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">函数plt.pie中增加了<em class="nw"> shadow = True </em>命令，使饼状图看起来更优雅。<em class="nw"> plt.title("英超2019/20赛季中期前15名进球最多的球队</em><strong class="kw jg"><em class="nw">\ n</em></strong><em class="nw">" fontsize = 18)</em>代码也被用来给饼状图添加标题。</p><figure class="mz na nb nc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="oa ob di oc bf od"><div class="gh gi nz"><img src="../Images/4b4b25b0f3513d863f9b2b6673263a17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Aw5jm3Zw_nZItqzR26rXw.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">一个改进的饼状图，显示了前15名进球最多的球队中进球最多的前5支球队，其中主要剔除了利物浦和热刺。</p></figure><h2 id="10d9" class="mi lr jf bd ls mj mk dn lw ml mm dp ma ld mn mo mc lh mp mq me ll mr ms mg mt bi translated">增强饼图III</h2><p id="ab10" class="pw-post-body-paragraph ku kv jf kw b kx mu kg kz la mv kj lc ld mw lf lg lh mx lj lk ll my ln lo lp im bi translated">可以对饼图进行更多的改进，使其更具结构性和可展示性。可以添加图例，可以放大饼图，可以增强图片的结构。</p><pre class="mz na nb nc gt nn no np nq aw nr bi"><span id="8c08" class="mi lr jf no b gy ns nt l nu nv"><em class="nw">## Adding a legend to the chart and increasing its size</em> <br/>labels = df_score_2.index <br/>colors = [‘lightskyblue’, ‘red’, ‘blue’, ‘green’, ‘gold’] <br/>explode =(0,0.1,0,0.1,0) <br/>fig, ax1 = plt.subplots(figsize = (24,12)) <br/>ax1.pie(df_score_2[‘Stat’], explode = explode, colors=colors, startangle=90, autopct=’<strong class="no jg">%.1f%%</strong>’, shadow = <strong class="no jg">True</strong>) <br/>plt.title(“Top five teams with the most goals among the top 15 highest goal scorers <strong class="no jg">\n</strong>in the premier league 2019/20 mid-season”, fontsize = 24) <br/>ax1.legend(labels, loc = “upper right”) <br/>plt.tight_layout() <br/>plt.show()</span></pre><p id="ef36" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">新增加的内容包括添加<em class="nw"> fig，ax1 = plt.subplots(figsize = (24，12)) </em>这是在使饼状图的绘图功能分配<em class="nw">给ax1时用于放大饼状图的代码。</em><em class="nw">PLT . pie</em>变成<em class="nw"> ax1.pie. </em>然后用<em class="nw"> ax1.legend(labels，loc = "upper right") </em>给饼状图添加图例，用<em class="nw">标签</em>作为图例，图例位于图的右上角。<em class="nw"> plt.tight_layout() </em>用于将饼状图更好的固定到图中。</p><figure class="mz na nb nc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="oa ob di oc bf od"><div class="gh gi oe"><img src="../Images/801f14128f8ec9e8caa6a1c1c947a449.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NvzG-8_YhlUc2O243ym2Eg.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">一个改进的饼状图，显示了前15名进球最多的球队中进球最多的前5支球队，其中主要剔除了利物浦和热刺。</p></figure><p id="0dad" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">上面的饼状图是饼状图漂亮的表现形式，也是如何将饼状图放到饼状图中的一个例子。</p><p id="67a4" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">饼图在对合计总值的数据进行分类时非常有用，可以显示每个类别在饼图中所占的比重。例如，大学校园中的种族代表或街区中的车辆品牌所有权。</p></div></div>    
</body>
</html>