<html>
<head>
<title>An Easy Python Wrapper for YouTube Data API 3.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个简单的 YouTube 数据 API 3.0 的 Python 包装器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/an-easy-python-wrapper-for-youtube-data-api-3-0-a0f1b9f4c964?source=collection_archive---------27-----------------------#2020-09-04">https://towardsdatascience.com/an-easy-python-wrapper-for-youtube-data-api-3-0-a0f1b9f4c964?source=collection_archive---------27-----------------------#2020-09-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="27d2" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://pedram-ataee.medium.com/list/notes-from-industry-265207a5d024" rel="noopener">业内笔记</a></h2><div class=""/><div class=""><h2 id="e8b5" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">一个收集 YouTube 数据和运行有趣的数据科学项目的伟大工具</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/2b3ea5ac624373a1f9d74c59d776f930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Or37eXz-ZMwTaZrW"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@rachitank?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">轴箱</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="0bb1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">YouTube 是教育、娱乐、广告等等的主要来源之一。YouTube 拥有如此多的数据，数据科学家可以用它们来运行有趣的项目或开发产品。如果你是一个新手或者数据科学家专家，你一定听说过情感分析，这是自然语言处理的主要应用之一。例如，情感分析正被用于监控社交媒体或顾客评论。</p><p id="04d2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当你在网上搜索时，你可以很容易地找到几个收集了亚马逊产品评论或 IMDB 电影评论的情感分析数据集。尽管如此，让您处理在线数据的 API 服务并不多。几周前，我决定在 YouTube 视频评论上运行一个情感分析项目。</p><blockquote class="me"><p id="72f1" class="mf mg it bd mh mi mj mk ml mm mn md dk translated">对于没有经验的数据科学家来说，YouTube 数据 API 服务可能有点混乱。这就是为什么我决定编写一个用户友好的 Python 包装器来加速数据科学社区的开发。</p></blockquote><p id="99fb" class="pw-post-body-paragraph li lj it lk b ll mo kd ln lo mp kg lq lr mq lt lu lv mr lx ly lz ms mb mc md im bi translated">我配置好一切，进行了我的实验。幸运的是，谷歌推出了一个强大的 API 来搜索符合特定搜索标准的 YouTube 视频。然而，我发现他们的数据服务对于没有经验的数据科学家来说可能有点混乱。这就是为什么我决定为 YouTube 数据 API 编写一个名为<code class="fe mt mu mv mw b">youtube-easy-api</code>的用户友好的 Python 包装器。该模块帮助社区更快地运行更有趣的数据科学项目。在本文中，我想向您展示如何使用这个模块。希望你喜欢它。</p><div class="mx my gp gr mz na"><a href="https://read.amazon.ca/kp/embed?asin=B08D2M2KV1&amp;preview=newtab&amp;linkCode=kpe&amp;ref_=cm_sw_r_kb_dp_8QSSFbEFAX8DD&amp;reshareId=CK4K0MBDHW11XYFQ5EFE&amp;reshareChannel=system" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd jd gy z fp nf fr fs ng fu fw jc bi translated">人工智能:非正统的教训:如何获得洞察力和建立创新的解决方案…</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">通过 Kindle 分享。描述:这不是你的经典 AI 书。人工智能:非正统的教训是一个…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">read.amazon.ca</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no lb na"/></div></div></a></div></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="3547" class="nw nx it bd ny nz oa ob oc od oe of og ki oh kj oi kl oj km ok ko ol kp om on bi translated">获取您的 Google 证书</h1><p id="ed97" class="pw-post-body-paragraph li lj it lk b ll oo kd ln lo op kg lq lr oq lt lu lv or lx ly lz os mb mc md im bi translated">首先，您必须设置您的凭据，然后才能使用此模块。如果你有你的 Google API 密匙，你可以跳过这一节；否则，看看下面的视频。当你想初始化<code class="fe mt mu mv mw b">youtube-easy-api</code>模块时，你必须通过<code class="fe mt mu mv mw b">API_KEY</code>。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ot ou l"/></div></figure><h1 id="948c" class="nw nx it bd ny nz ov ob oc od ow of og ki ox kj oi kl oy km ok ko oz kp om on bi translated">从 PyPI 服务器安装模块</h1><p id="94ec" class="pw-post-body-paragraph li lj it lk b ll oo kd ln lo op kg lq lr oq lt lu lv or lx ly lz os mb mc md im bi translated">首先你要从 PyPI 服务器安装 Google 开发的必备库如下:<code class="fe mt mu mv mw b">google-api-python-client</code>、<code class="fe mt mu mv mw b">google-auth-oauthlib</code>、<code class="fe mt mu mv mw b">google</code>。然后，您可以使用<code class="fe mt mu mv mw b">pip</code>命令安装<code class="fe mt mu mv mw b">youtube-easy-api</code>模块，类似于上面的库。</p><pre class="ks kt ku kv gt pa mw pb pc aw pd bi"><span id="1b76" class="pe nx it mw b gy pf pg l ph pi">pip3 install youtube-easy-api</span></pre><div class="mx my gp gr mz na"><a href="https://pypi.org/project/youtube-easy-api/" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd jd gy z fp nf fr fs ng fu fw jc bi translated">youtube-easy-api</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">这个模块提供了一个简单的界面来提取 Youtube 视频元数据，包括标题、评论和统计数据。你…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">pypi.org</p></div></div><div class="nj l"><div class="pj l nl nm nn nj no lb na"/></div></div></a></div><h1 id="4eae" class="nw nx it bd ny nz ov ob oc od ow of og ki ox kj oi kl oy km ok ko oz kp om on bi translated">现在，您可以开始使用该模块了…</h1><p id="0f5a" class="pw-post-body-paragraph li lj it lk b ll oo kd ln lo op kg lq lr oq lt lu lv or lx ly lz os mb mc md im bi translated"><code class="fe mt mu mv mw b">youtube-easy-api</code>模块目前支持两种方法<code class="fe mt mu mv mw b">search_videos</code>和<code class="fe mt mu mv mw b">get_metadata</code>。</p><h2 id="ceb9" class="pe nx it bd ny pk pl dn oc pm pn dp og lr po pp oi lv pq pr ok lz ps pt om iz bi translated">-如何在 YouTube 视频中搜索</h2><p id="8952" class="pw-post-body-paragraph li lj it lk b ll oo kd ln lo op kg lq lr oq lt lu lv or lx ly lz os mb mc md im bi translated">您可以指定一个关键字，并使用<code class="fe mt mu mv mw b">search_videos</code>方法在所有 YouTube 视频中进行搜索。这个方法接受一个<code class="fe mt mu mv mw b">search_keyword</code>并返回一个有序的字典列表，每个字典包含<code class="fe mt mu mv mw b">video_id</code>、<code class="fe mt mu mv mw b">title</code>和<code class="fe mt mu mv mw b">channel</code>。你可以在下面找到一个例子。必须在初始化步骤通过<code class="fe mt mu mv mw b">API_KEY</code>。</p><pre class="ks kt ku kv gt pa mw pb pc aw pd bi"><span id="c7a0" class="pe nx it mw b gy pf pg l ph pi">from youtube_easy_api.easy_wrapper import *<br/><br/>easy_wrapper = YoutubeEasyWrapper()<br/>easy_wrapper.initialize(api_key=API_KEY)<br/>results = easy_wrapper.search_videos(search_keyword='python',<br/>                                     order='relevance')</span></pre><p id="6477" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe mt mu mv mw b">order</code>参数指定 API 响应中使用的排序方法。默认值是<code class="fe mt mu mv mw b">relevance</code>(即，按照与搜索查询的相关性排序)。根据原始 API 文档，其他可接受的值如下。</p><ul class=""><li id="74aa" class="pu pv it lk b ll lm lo lp lr pw lv px lz py md pz qa qb qc bi translated"><code class="fe mt mu mv mw b">date</code> —按时间倒序排序(创建日期)</li><li id="3757" class="pu pv it lk b ll qd lo qe lr qf lv qg lz qh md pz qa qb qc bi translated"><code class="fe mt mu mv mw b">rating</code> —从最高评级到最低评级排序</li><li id="13fc" class="pu pv it lk b ll qd lo qe lr qf lv qg lz qh md pz qa qb qc bi translated"><code class="fe mt mu mv mw b">viewCount</code> —按视图数量从高到低排序</li></ul><p id="9033" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如上所述，<code class="fe mt mu mv mw b">search_videos</code>方法返回一个字典列表。如果使用上面的调用，结果的第一个元素如下。</p><pre class="ks kt ku kv gt pa mw pb pc aw pd bi"><span id="ede2" class="pe nx it mw b gy pf pg l ph pi">results[0]['video_id'] = 'rfscVS0vtbw'<br/>results[0]['title'] = 'Learn Python - Full Course for Beginners ...[Tutorial]'<br/>results[0]['channel'] = 'freeCodeCamp.org'</span></pre><h2 id="032c" class="pe nx it bd ny pk pl dn oc pm pn dp og lr po pp oi lv pq pr ok lz ps pt om iz bi translated">-如何提取 YouTube 视频的元数据</h2><p id="0d15" class="pw-post-body-paragraph li lj it lk b ll oo kd ln lo op kg lq lr oq lt lu lv or lx ly lz os mb mc md im bi translated">有了<code class="fe mt mu mv mw b">video_id</code>，就可以提取所有相关的元数据，包括标题、评论和统计数据。注意，URL 中还使用了<code class="fe mt mu mv mw b">video_id</code>。因此，您可以使用<code class="fe mt mu mv mw b">search_videos</code>方法、网页抓取工具或手动选择来检索<code class="fe mt mu mv mw b">video_id</code>。你可以在下面找到一个例子。必须在初始化步骤通过<code class="fe mt mu mv mw b">API_KEY</code>。</p><pre class="ks kt ku kv gt pa mw pb pc aw pd bi"><span id="2e4d" class="pe nx it mw b gy pf pg l ph pi">from youtube_easy_api.easy_wrapper import *<br/><br/>easy_wrapper = YoutubeEasyWrapper()<br/>easy_wrapper.initialize(api_key=API_KEY)<br/>metadata = easy_wrapper.get_metadata(video_id=VIDEO_ID)</span></pre><p id="b187" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最终可以提取出<code class="fe mt mu mv mw b">metadata</code>字典中存储的<code class="fe mt mu mv mw b">title</code>、<code class="fe mt mu mv mw b">description</code>、<code class="fe mt mu mv mw b">statistics</code>、<code class="fe mt mu mv mw b">contentDetails</code>、<code class="fe mt mu mv mw b">comments</code>等所有 YouTube 视频元数据；<code class="fe mt mu mv mw b">get_metadata</code>方法的输出。你可以在下面找到一个例子。</p><pre class="ks kt ku kv gt pa mw pb pc aw pd bi"><span id="e54f" class="pe nx it mw b gy pf pg l ph pi">metadata = easy_wrapper.get_metadata(video_id='f3lUEnMaiAU')<br/>print(metadata['comments][0])</span><span id="61e5" class="pe nx it mw b gy qi pg l ph pi">'Jack ma is like your drunk uncle trying to teach you a life lesson. Elon musk is like a robot trying to imitate a human'</span></pre><p id="2067" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，您可以访问情感分析项目所需的所有数据。还有一点，你有一个每天调用谷歌设置的这项服务的限额。因此，如果超过这个限制，您将会遇到一个错误。你必须等待第二天或认购增加你的每日限额。</p><h1 id="997d" class="nw nx it bd ny nz ov ob oc od ow of og ki ox kj oi kl oy km ok ko oz kp om on bi translated">感谢阅读！</h1><p id="5340" class="pw-post-body-paragraph li lj it lk b ll oo kd ln lo op kg lq lr oq lt lu lv or lx ly lz os mb mc md im bi translated">如果你喜欢这个帖子，想支持我…</p><ul class=""><li id="72b2" class="pu pv it lk b ll lm lo lp lr pw lv px lz py md pz qa qb qc bi translated"><em class="qj">跟我上</em> <a class="ae lh" href="https://medium.com/@pedram-ataee" rel="noopener"> <em class="qj">中</em> </a> <em class="qj">！</em></li><li id="2ca5" class="pu pv it lk b ll qd lo qe lr qf lv qg lz qh md pz qa qb qc bi translated"><em class="qj">在</em> <a class="ae lh" href="https://www.amazon.com/Pedram-Ataee/e/B08D6J3WNW" rel="noopener ugc nofollow" target="_blank"> <em class="qj">亚马逊</em> </a> <em class="qj">上查看我的书！</em></li><li id="6029" class="pu pv it lk b ll qd lo qe lr qf lv qg lz qh md pz qa qb qc bi translated"><em class="qj">成为</em> <a class="ae lh" href="https://pedram-ataee.medium.com/membership" rel="noopener"> <em class="qj">中的一员</em> </a> <em class="qj">！</em></li><li id="9a4e" class="pu pv it lk b ll qd lo qe lr qf lv qg lz qh md pz qa qb qc bi translated"><em class="qj">连接上</em><a class="ae lh" href="https://www.linkedin.com/in/pedrama/" rel="noopener ugc nofollow" target="_blank"><em class="qj">Linkedin</em></a><em class="qj">！</em></li><li id="6b66" class="pu pv it lk b ll qd lo qe lr qf lv qg lz qh md pz qa qb qc bi translated"><em class="qj">关注我</em> <a class="ae lh" href="https://twitter.com/pedram_ataee" rel="noopener ugc nofollow" target="_blank"> <em class="qj">推特</em> </a> <em class="qj">！</em></li></ul><div class="mx my gp gr mz na"><a href="https://pedram-ataee.medium.com/membership" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd jd gy z fp nf fr fs ng fu fw jc bi translated">通过我的推荐链接加入 Medium—Pedram Ataee 博士</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">pedram-ataee.medium.com</p></div></div><div class="nj l"><div class="qk l nl nm nn nj no lb na"/></div></div></a></div></div></div>    
</body>
</html>