<html>
<head>
<title>Machine Learning Data Manipulation Using C++</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用C++进行机器学习数据操作</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-manipulation-using-c-389d6c4493b1?source=collection_archive---------40-----------------------#2020-06-13">https://towardsdatascience.com/data-manipulation-using-c-389d6c4493b1?source=collection_archive---------40-----------------------#2020-06-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3a76" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于如何使用C++实现机器学习基础的工作代码教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/30fe90a694598f08f66b7666c0df2e8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IWKTDXElpzLDMMnFLdn4Zw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">克里斯·利维拉尼在Unsplash上的照片</p></figure><p id="08b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">数据操作</strong>是改变数据使其更容易阅读或更容易处理的过程。在开始模型构建之前，数据操作通常用于机器学习，作为数据预处理的一部分，也在模型构建期间将数据转换成更适合处理的形式。</p><p id="9851" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在下面的文章中，我们将简要介绍C++中各种数据操作API的实现。</p><ul class=""><li id="48ef" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">按类拆分数据。</li><li id="4826" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">二维向量转置。</li><li id="1bd2" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">二维向量随机化。</li><li id="c4ba" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">数据分为训练数据和测试数据。</li></ul><p id="df5b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这篇文章是解决机器学习算法在C++中实现的系列文章的一部分，在整个系列中，我们将使用C++特性实现基本的机器学习算法。</p><ul class=""><li id="eda9" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><a class="ae mi" href="https://medium.com/ml2b/when-should-you-learn-machine-learning-using-c-6edd719f95ff?source=friends_link&amp;sk=8b66a55c047b99bbd1c720e59fe6a770" rel="noopener">什么时候应该学习使用C++的机器学习？</a></li><li id="fee2" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae mi" rel="noopener" target="_blank" href="/data-preprocessing-and-visualization-in-c-6d97ed236f3b?source=friends_link&amp;sk=d13cdabff65a5ce56b717835108615ab">c++中的数据预处理和可视化。</a></li><li id="d634" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae mi" rel="noopener" target="_blank" href="/data-manipulation-using-c-389d6c4493b1?source=friends_link&amp;sk=b16fffc79fcdfbd63f60d919eb86d835">使用C++进行机器学习数据操作。</a></li><li id="30b4" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae mi" rel="noopener" target="_blank" href="/naive-bayes-implementation-from-scratch-using-c-51c958094041">使用C++ </a>从零开始的朴素贝叶斯。</li><li id="8a7b" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae mi" href="https://medium.com/swlh/linear-regression-implementation-in-c-acdfb621e56" rel="noopener">线性回归在C++中的实现</a>。</li><li id="1b95" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">每个C++开发人员必读的8本书。</li><li id="c5cb" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae mi" href="https://medium.com/ml2b/the-9-books-each-machine-learning-developer-must-read-e6ef8c0fb384" rel="noopener">每个机器学习开发者必读的9本书。</a></li></ul><p id="9543" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里我们将使用可用的虹膜数据集<a class="ae mi" href="https://archive.ics.uci.edu/ml/datasets/iris" rel="noopener ugc nofollow" target="_blank"/>。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="eae7" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">按类别划分数据:</h1><p id="6f95" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">正如我们在上一篇文章中讨论的，我们将使用Iris数据集作为我们的数据的例子。我们从读取文件中的虹膜数据开始。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从iris.data文件加载数据集</p></figure><p id="9d0c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您不熟悉这行代码，请阅读本文。</p><div class="np nq gp gr nr ns"><a rel="noopener follow" target="_blank" href="/data-preprocessing-and-visualization-in-c-6d97ed236f3b"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">C++中的数据预处理和可视化</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">关于如何使用C++实现机器学习的基本功能的工作代码示例</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og ks ns"/></div></div></a></div><p id="f7f2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们现在需要实现一个函数，我们可以给它一个向量和一个标签，它会过滤出值，并返回一个包含这个标签的元素的向量。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="461e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个函数的实现并不复杂:</p><ul class=""><li id="8748" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">首先，我们需要遍历二维向量中的每个元素，并将每个标签与需要的标签进行比较。</li><li id="3e7b" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">其次，我们将这些向量推入新的输出向量并返回。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按类拆分数据集</p></figure><p id="22b9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">前面代码的注释:</p><ul class=""><li id="26f1" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">我们使用了一个lambda表达式来完成函数中的所有重要工作，你会注意到，比较和存储是在lambda表达式中进行的。</li><li id="62b0" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">当试图存储数据时，我们使用一个向量，并将该向量推回到输出向量中。这改变了数据形状，因为当我从文件中加载数据集时，我使用的格式是将每个特征加载到一个单独的矢量中，然后通过将这些矢量放入一个二维矢量中来创建数据集矢量。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">输入向量中的数据格式</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">转置功能之前的数据格式</p></figure><ul class=""><li id="5f17" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">扩展之前的注释，这需要我们在收集数据后转置向量。</li></ul><p id="0fa0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们可以使用这个API来检查数据大小:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按类拆分数据的函数的用法</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/475166a132c06d4d695c477f4f0d7ae7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*MhKT0rirFaozfYX0bag3bg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">先前数据拆分代码的输出</p></figure><h1 id="9a91" class="mq mr it bd ms mt oi mv mw mx oj mz na jz ok ka nc kc ol kd ne kf om kg ng nh bi translated">二维向量转置:</h1><p id="372f" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">在上一节中，我们使用了一个二维向量转置，但是这个函数不是一个标准函数。如前所述，在我们的实现过程中，数据格式需要多次更改，因此我为此创建了一个单独的函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">转置功能实现</p></figure><p id="9f93" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如你所见，向量转置是一个简单的操作。您只需从索引为[i][j]的向量中读取数据，并将其存储在索引为[j][i]的向量中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">检查移调前后的数据大小</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/02eb11795997a1b3476df5b4dc4055b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3VtKNnPweh-ENLDQQCS3Ag.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">移调示例的输出</p></figure><p id="8a54" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">虽然这个操作很简单，但它将大大简化我们的实现，原因是，有时我们需要将数据作为一个整体来处理，而在某些情况下，我们需要将数据作为整个特性的值的样本来处理。</p><h1 id="bb35" class="mq mr it bd ms mt oi mv mw mx oj mz na jz ok ka nc kc ol kd ne kf om kg ng nh bi translated">数据随机化:</h1><p id="ddb2" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">在分割任何数据之前，通常最好先随机化数据。我们不希望所有的训练数据都来自同一类型。</p><p id="516e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，如果您研究Iris数据集，您会发现来自相同类型的数据被分组在一起，这可能会导致您在Iris-Sentosa数据上训练您的模型，然后在Versicolor数据上测试它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/3886182131ac2826235b72acc1a12034.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*9U7aAiiAht5wz3HdhHfEpw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Iris数据集包含分组在一起的相同类型的数据</p></figure><p id="8eeb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了解决这个问题，我们需要在拆分之前添加一个随机化步骤。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用random_shuffle的向量随机化</p></figure><p id="efca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请注意，根据random_shuffle <a class="ae mi" href="http://www.cplusplus.com/reference/algorithm/random_shuffle/" rel="noopener ugc nofollow" target="_blank">文档</a>，这个函数是一个模板，这就是为什么我在使用它之前转置了二维向量，以每次处理一个样本，这将确保样本数据不会混合在一起。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">随机化代码的输出</p></figure><h1 id="d08c" class="mq mr it bd ms mt oi mv mw mx oj mz na jz ok ka nc kc ol kd ne kf om kg ng nh bi translated">训练数据和测试数据分割:</h1><p id="3c54" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">机器学习中最重要的步骤之一就是数据拆分。</p><div class="np nq gp gr nr ns"><a rel="noopener follow" target="_blank" href="/train-validation-and-test-sets-72cb40cba9e7"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">关于机器学习中训练、验证和测试集</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">这旨在为任何需要了解各种数据集分割之间的差异的人提供一个简短的入门指南，同时…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="op l od oe of ob og ks ns"/></div></div></a></div><p id="7861" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是一个如何在C++中实现数据拆分的例子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">训练和测试数据拆分的实现</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">测试和训练数据拆分的调用</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/a998722d142b38876cc6f3b864f1d24f.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*iPgE-71V69uYemo5pIpRXw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">拆分后的数据大小</p></figure><p id="37c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你对这些函数的数据输出感兴趣，可以查看这个<a class="ae mi" href="https://gist.github.com/ahmhashesh/ddde5f4fd07913e30dd09a85c0384d9b" rel="noopener ugc nofollow" target="_blank">链接</a></p><p id="1ba5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">把所有这些代码一起修改，我们会发现，矢量转置是这些功能中的重要一步。所以我们必须注意这一步的优化。</p><p id="6745" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">毕竟，数据操作就是如何在C++中处理向量，并把你需要做的事情分成小步骤。</p><p id="db00" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">想回忆一下吗？</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="or no l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="or no l"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="1da9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这篇文章是解决机器学习算法在C++中的实现的系列文章的一部分，在整个系列中，我们将使用可用的Iris数据集<a class="ae mi" href="https://archive.ics.uci.edu/ml/datasets/iris" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><ul class=""><li id="d03d" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><a class="ae mi" href="https://medium.com/ml2b/when-should-you-learn-machine-learning-using-c-6edd719f95ff?source=friends_link&amp;sk=8b66a55c047b99bbd1c720e59fe6a770" rel="noopener">什么时候应该学习使用C++的机器学习？</a></li><li id="37f2" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">每个C++开发人员必读的8本书。</li><li id="ef0f" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae mi" rel="noopener" target="_blank" href="/data-preprocessing-and-visualization-in-c-6d97ed236f3b?source=friends_link&amp;sk=d13cdabff65a5ce56b717835108615ab">c++中的数据预处理和可视化。</a></li><li id="a219" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae mi" rel="noopener" target="_blank" href="/data-manipulation-using-c-389d6c4493b1?source=friends_link&amp;sk=b16fffc79fcdfbd63f60d919eb86d835">使用C++进行机器学习数据操作。</a></li><li id="4e8d" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae mi" rel="noopener" target="_blank" href="/naive-bayes-implementation-from-scratch-using-c-51c958094041">使用C++ </a>从零开始的朴素贝叶斯。</li><li id="f12b" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae mi" href="https://medium.com/ml2b/linear-regression-implementation-in-c-acdfb621e56" rel="noopener">线性回归在C++中的实现</a>。</li></ul><p id="5f94" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">希望这篇文章对您有用，请关注本系列新文章发布时的通知。</p><p id="37d3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可能也会觉得这些文章很有趣:</p><div class="np nq gp gr nr ns"><a href="https://medium.com/ml2b/so-you-think-you-have-mastered-c-programming-caecc56a587f" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">所以你以为你掌握了C编程！！！</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">C语言中改变你想法的5个技巧…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.com</p></div></div><div class="ob l"><div class="os l od oe of ob og ks ns"/></div></div></a></div><div class="np nq gp gr nr ns"><a href="https://medium.com/ml2b/introduction-to-compressive-transform-53acb767361e" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">压缩变换简介</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">长时记忆模型和近期工作综述</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.com</p></div></div><div class="ob l"><div class="ot l od oe of ob og ks ns"/></div></div></a></div></div></div>    
</body>
</html>