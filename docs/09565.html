<html>
<head>
<title>When to use PowerShell instead of shell scripts?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么时候用 PowerShell 代替 Shell 脚本？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/when-to-use-powershell-instead-of-shell-scripts-f71852fcb465?source=collection_archive---------62-----------------------#2020-07-07">https://towardsdatascience.com/when-to-use-powershell-instead-of-shell-scripts-f71852fcb465?source=collection_archive---------62-----------------------#2020-07-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/44b6f57c1711419465af5a6ce6f768a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vu4bRu82jUxdK0FU"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">罗曼·辛克维奇在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="0cb1" class="kg kh it bd ki kj kk dn kl km kn dp ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">假设我们需要编写一段代码，负责替换现有文件中一条信息，或者只是定期清理一个目录。</h2><p id="9df6" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated">要解决这些情况，您认为什么工具可以简单地完成这项工作？</p><p id="885b" class="pw-post-body-paragraph lc ld it le b lf lx lh li lj ly ll lm kp lz lo lp kt ma lr ls kx mb lu lv lw im bi translated">在我看来，shell 脚本是这项工作的合适人选。为什么我会相信？因为它们编写简单、易于理解、易于维护。</p><p id="772f" class="pw-post-body-paragraph lc ld it le b lf lx lh li lj ly ll lm kp lz lo lp kt ma lr ls kx mb lu lv lw im bi translated">对，那么为什么我需要使用其他工具来做同样的工作并得到同样的输出呢？其实你没有，我的想法只是换个方式来说明:)</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="e160" class="mj kh it bd ki mk ml mm kl mn mo mp ko mq mr ms ks mt mu mv kw mw mx my la mz bi translated">重要的事情先来</h1><p id="a948" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated"><a class="ae kf" href="https://docs.microsoft.com/en-us/powershell/scripting/install/installing-powershell?view=powershell-7" rel="noopener ugc nofollow" target="_blank">在这里</a>你可以找到关于 Powershell 安装的完整文档。</p><p id="bc75" class="pw-post-body-paragraph lc ld it le b lf lx lh li lj ly ll lm kp lz lo lp kt ma lr ls kx mb lu lv lw im bi translated">好了，不多说了，我们来编码吧。</p><h1 id="e877" class="mj kh it bd ki mk na mm kl mn nb mp ko mq nc ms ks mt nd mv kw mw ne my la mz bi translated">使用 Powershell 将数据替换到文件中</h1><p id="da29" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated">回到我们的场景，当我们想要替换现有文件中的一条信息时。假设我们有一个<em class="nf"> json </em>，它有多个层次，如下所示:</p><figure class="ng nh ni nj gt ju"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h1 id="0d5d" class="mj kh it bd ki mk na mm kl mn nb mp ko mq nc ms ks mt nd mv kw mw ne my la mz bi translated">替换字符串值</h1><p id="8a02" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated">假设我们想要将“文件名”替换为类似“myAwesomeApp-${shortdate}”的内容。日志”，我们的代码可能是这样的:</p><figure class="ng nh ni nj gt ju"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="06c4" class="pw-post-body-paragraph lc ld it le b lf lx lh li lj ly ll lm kp lz lo lp kt ma lr ls kx mb lu lv lw im bi translated">文件更新时间:</p><figure class="ng nh ni nj gt ju"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="60e9" class="pw-post-body-paragraph lc ld it le b lf lx lh li lj ly ll lm kp lz lo lp kt ma lr ls kx mb lu lv lw im bi translated">现在，稍微复杂一点:</p><h1 id="b5f5" class="mj kh it bd ki mk na mm kl mn nb mp ko mq nc ms ks mt nd mv kw mw ne my la mz bi translated">从数组中移除项目</h1><p id="6f3c" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated">现在，我们的目标是当“minLevel”是“Info”时删除“rule”。我们的 PowerShell 脚本可以是:</p><figure class="ng nh ni nj gt ju"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="4ba0" class="pw-post-body-paragraph lc ld it le b lf lx lh li lj ly ll lm kp lz lo lp kt ma lr ls kx mb lu lv lw im bi translated">输出:</p><figure class="ng nh ni nj gt ju"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h1 id="2f41" class="mj kh it bd ki mk na mm kl mn nb mp ko mq nc ms ks mt nd mv kw mw ne my la mz bi translated">全部放在一起，然后进行一些重构</h1><p id="be7a" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated">现在我们可以把所有这些放在一起，做一个小的重构:</p><figure class="ng nh ni nj gt ju"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="f877" class="pw-post-body-paragraph lc ld it le b lf lx lh li lj ly ll lm kp lz lo lp kt ma lr ls kx mb lu lv lw im bi translated">最后一个文件是:</p><figure class="ng nh ni nj gt ju"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h1 id="d333" class="mj kh it bd ki mk na mm kl mn nb mp ko mq nc ms ks mt nd mv kw mw ne my la mz bi translated">结论</h1><p id="4c75" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated">就像上面的一切一样，没有绝对的真理，你可以做任何你想做的事情，你想做的事情，你可以毫无问题地工作。</p><p id="3d91" class="pw-post-body-paragraph lc ld it le b lf lx lh li lj ly ll lm kp lz lo lp kt ma lr ls kx mb lu lv lw im bi translated">但是在我看来，当你想把“面向对象”的行为带到你的任务中时，你应该使用 PowerShell 脚本。</p><p id="84ac" class="pw-post-body-paragraph lc ld it le b lf lx lh li lj ly ll lm kp lz lo lp kt ma lr ls kx mb lu lv lw im bi translated">你怎么想？你同意吗？你不同意吗？如果有你认为重要的补充，请告诉我:)</p><p id="53e0" class="pw-post-body-paragraph lc ld it le b lf lx lh li lj ly ll lm kp lz lo lp kt ma lr ls kx mb lu lv lw im bi translated">非常感谢您的宝贵时间！</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="3249" class="pw-post-body-paragraph lc ld it le b lf lx lh li lj ly ll lm kp lz lo lp kt ma lr ls kx mb lu lv lw im bi translated">最初发布于<a class="ae kf" href="https://devandops.cloud/when-use-powershell-instead-of-shell-scripts/" rel="noopener ugc nofollow" target="_blank">https://devan dops . cloud/when-use-powershell-inst-of-shell-scripts/</a></p></div></div>    
</body>
</html>