<html>
<head>
<title>How I created a Real-Time Twitter Sentiment Analysis tool for COVID</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何为COVID创建一个实时的Twitter情绪分析工具</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-i-created-a-real-time-twitter-sentiment-analysis-tool-for-covid-292ff6a6323b?source=collection_archive---------26-----------------------#2020-04-15">https://towardsdatascience.com/how-i-created-a-real-time-twitter-sentiment-analysis-tool-for-covid-292ff6a6323b?source=collection_archive---------26-----------------------#2020-04-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6568" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">利用机器学习和Python，我开发了一个模型，将关于COVID的推文分为正面、负面或中性。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1dad89f68134c038b1bdf6ebe0b1d3c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9ILTShCos4r8FxJslM_IYQ.gif"/></div></div></figure><p id="745e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Twitter是最成功的微博服务，每天有1.5亿用户。每秒钟写6000条推文。人们在推特上发布任何想到的东西，并使用标签将推文与主题联系起来。</p><p id="136a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以建立一个机器学习分类器，根据他们的情绪对推文进行评级。一条推文可以表达积极、消极或中性的情绪。</p><p id="bfd6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我将创建一个简单的模型来实时分类此类推文，并为COVID的整体情绪创建一个图表。人们对这种病毒有什么看法？</p><h1 id="1763" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">1.资料组</h1><p id="b12d" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">首先，我需要一个已经分类到三个类别之一的推特数据集来训练我的模型。Sem-eval 提供了一个相对较大的数据集，包含65.854条已标记的推文。因为没有特定于COVID的twitter数据集，所以我将使用一个通用的twitter数据集。</p><h1 id="928c" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">2.文本预处理</h1><p id="c94c" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">接下来，我将使用<a class="ae mn" href="https://github.com/Deffro/text-preprocessing-techniques" rel="noopener ugc nofollow" target="_blank"> 16种预处理技术</a>的组合来预处理推文。tweet的初始形式不适合自然语言处理(NLP)。推文不干净，包含URL、用户提及、俚语、缩写、数字、重复的标点符号、拉长的单词等。<br/>因而有这样一段文字:</p><blockquote class="mo mp mq"><p id="e2d3" class="ku kv mr kw b kx ky ju kz la lb jx lc ms le lf lg mt li lj lk mu lm ln lo lp im bi translated">呆在家里！！注意安全！！保持快乐！！活下去。我们可以和https://t.co/SEpa9yxg87一起战斗</p></blockquote><p id="d4c5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">会变成:</p><blockquote class="mo mp mq"><p id="8857" class="ku kv mr kw b kx ky ju kz la lb jx lc ms le lf lg mt li lj lk mu lm ln lo lp im bi translated">呆在家里多感叹保持安全多感叹保持快乐多感叹保持活力。我们可以用COVID-stayhomestaysafe stay health网址战斗</p></blockquote><h1 id="edb3" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">3.机器学习</h1><p id="34b3" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">我在预处理过的数据集上训练了10个机器学习模型。我选择不使用深度学习模型(如BERT ),因为我不是专家。因此，我使用了逻辑回归、朴素贝叶斯、K近邻、随机森林和支持向量机等模型。后者在性能(f-measure)上胜过其余的，我选择了它。</p><p id="fd89" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">执行了列车测试分割(20%测试)。TF-IDF矢量器将文本标记转换为数字，未删除停用词，分类的性能指标如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/d91f1fa74451a6623042706f1e57b703.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*lX5LLMRRf-31cgNgK0bUsw.png"/></div><p class="mw mx gj gh gi my mz bd b be z dk translated">ML模型的性能。</p></figure><p id="1813" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我选择了线性SVC，并对整个数据重新训练了模型。我记得在过去，支持向量机是NLP的最新技术！被训练的模型被保存在困境中。</p><h1 id="9379" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">4.实时预测</h1><p id="0613" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">为了实时获取推文，我需要一个账户和一个api密匙。接下来，我可以选择关键词，只有包含这些关键词的推文才会被返回。我选择了“covid”作为关键字。</p><p id="dc54" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当从推文流中获取一条新推文时，经过训练的模型会预测其情绪，并将该推文保存在文本文件中。</p><p id="06a5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">与此同时，一个脚本正在运行，随着更多的数据添加到文本文件中，该脚本会实时绘制文本文件的内容。它使用matplotlib的动画功能来刷新情节。如果推文是正面的，y轴得到+1，如果是负面的-1，中立的+0。</p><p id="7344" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div><p class="mw mx gj gh gi my mz bd b be z dk translated">实时推特情感分析。</p></figure><p id="9ae3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">可以看出，在1000条关于COVID的推文之后，整体情绪是-80。</p><p id="256e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">可以为任何关键词生成相同的实时图，脚本可以全天候运行以收集和标记推文。</p><p id="e2c1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢阅读！</p></div></div>    
</body>
</html>