<html>
<head>
<title>Aethos 2.0 — An Improved Way to Automate your Data Science Work Flow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Aethos 2.0 —自动化数据科学工作流程的改进方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/aethos-2-0-an-improved-way-to-automate-your-data-science-work-flow-8bfb2ac3a29a?source=collection_archive---------71-----------------------#2020-05-13">https://towardsdatascience.com/aethos-2-0-an-improved-way-to-automate-your-data-science-work-flow-8bfb2ac3a29a?source=collection_archive---------71-----------------------#2020-05-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7ba7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Aethos 2.0 的新特性</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/40de55ef11e1008eb6a70594e89beae9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oHwKZhd8GbSnitbc-Pj-1Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Justin Jairam 拍摄的照片来自<a class="ae ky" href="https://www.instagram.com/jusspreme/?hl=en" rel="noopener ugc nofollow" target="_blank"> @jusspreme </a></p></figure><p id="8542" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2019 年底，我发布了 Aethos 1.0，这是自动化常见数据科学技术的第一个迭代包。从那以后，我收到了很多关于如何改进 Aethos 的反馈，我将在这里介绍。将会有很多代码示例来展示该包的强大功能和多功能性。</p><p id="192c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在 TDS 上看到之前关于 Aethos 第一版的帖子。</p><blockquote class="lv lw lx"><p id="8d89" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/Ashton-Sidhu/aethos" rel="noopener ugc nofollow" target="_blank">艾托斯简介</a></p><p id="908a" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/training-tracking-analyzing-interpreting-and-serving-models-with-one-line-of-code-785ea3b0668b">用艾托斯造型</a></p></blockquote><p id="9a06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">*注意*:你可以通过我的页面上的谷歌协作链接<a class="ae ky" href="https://ashton-sidhu.github.io/Blog/jupyter/aethos/datascience/2020/05/12/Aethos-2.0.html" rel="noopener ugc nofollow" target="_blank">关注这篇文章。</a></p><h1 id="225c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">Aethos 是什么？</h1><p id="b86e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">对于那些不熟悉 Aethos 的人来说，Aethos 是一个自动化数据科学技术和用例的 Python 库，从缺失值插补、NLP 预处理、特征工程、数据可视化到建模、模型分析和模型部署。</p><p id="5844" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要查看完整的功能以及您可以运行的其他技术和模型，请查看<a class="ae ky" href="https://github.com/Ashton-Sidhu/aethos" rel="noopener ugc nofollow" target="_blank"> Github </a>上的项目页面。</p><h1 id="e959" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">Aethos 1.0 的问题</h1><p id="0b99" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Aethos 第一版的许多问题都与软件包及其 API 的可用性有关。主要问题是:</p><ul class=""><li id="49a7" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">由于文件和耦合包的数量，导入时间很慢。</li><li id="3892" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">有两个用于端到端分析的对象—用于转换的数据和用于建模的模型</li><li id="9938" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">模型对象有每一个模型，并不特定于监督或无监督的问题。</li><li id="d6d4" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">不直观的 API 要求向底层数据帧添加新列</li><li id="6780" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">随着将笔记本转换为 pdf 等外部工具的使用，报告功能变得多余。</li><li id="530c" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">API 的用例有限。没有 Aethos，你无法分析你的数据，或分析你训练的模型。</li><li id="caae" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">Aethos 和 Pandas 不可互换，在转换数据时不能一起工作。</li></ul><h1 id="734c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">Aethos 2.0 的新特性</h1><p id="0ae4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Aethos 2.0 着眼于解决软件包的直观性和可用性，使其更容易使用和理解。它还解决了与 Aethos 一起使用 Pandas 数据框架的能力。</p><ul class=""><li id="8516" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">通过简化和分离 Aethos 模块，缩短了软件包的导入时间。</li><li id="e0c7" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">只需要一个 Aethos 对象来可视化、转换、建模和分析结果。</li><li id="8200" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">仅查看针对您的问题的模型(分类、回归或无监督)。</li><li id="1ea4" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">消除了通过 Aethos 对象向底层数据帧添加数据的复杂性。您可以使用 x_train 和 x_test 属性访问底层数据帧。</li><li id="a71a" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">删除了报告功能。</li><li id="64a6" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">访问 DataFrame 列时删除了点符号。</li><li id="148c" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">现在可以将方法链接在一起。</li></ul><p id="3a28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Aethos 2.0 引入了新的对象来支持新的案例:</p><ul class=""><li id="440c" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated"><em class="ly">分析</em>:分析、可视化和运行统计分析(t 检验、anova 等)。)在你的数据上。</li><li id="1f40" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><em class="ly">分类</em>:分析、可视化、运行统计分析、转换和估算您的数据以运行分类模型。</li><li id="991c" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><em class="ly">回归</em>:分析、可视化、运行统计分析、转换和估算您的数据以运行回归模型。</li><li id="ce8c" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><em class="ly">无监督</em>:分析、可视化、运行统计分析、转换和估算您的数据以运行无监督模型。</li><li id="ba4d" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><em class="ly">分类模型分析</em>:解释、分析和可视化分类模型结果。</li><li id="ba6b" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><em class="ly">回归模型分析</em>:解释、分析和可视化回归模型结果。</li><li id="994f" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><em class="ly">UnsupervisedModelAnalysis</em>:解释、分析和可视化无监督的模型结果。</li><li id="7c8a" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><em class="ly">文本模型分析</em>:解释、分析和可视化文本模型结果。</li></ul><blockquote class="lv lw lx"><p id="cecf" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><strong class="lb iu"> <em class="it">注意:</em> </strong> <em class="it">当使用 Aethos 运行模型时，模型分析对象会自动初始化。它们也可以通过提供模型对象、训练数据和测试数据来自行初始化。</em></p></blockquote><h1 id="d9b2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">例子</h1><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="f77d" class="ns md it no b gy nt nu l nv nw">!pip install aethos</span></pre><p id="4ab9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">进口熊猫和鹦鹉。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="c8a2" class="ns md it no b gy nt nu l nv nw">import pandas as pd<br/>import aethos as at</span><span id="ac54" class="ns md it no b gy nx nu l nv nw">at.options.track_experiments = True # Enable experiment tracking with MLFlow</span></pre><p id="938a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了展示每一个物体，让我们载入泰坦尼克号数据集。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="b1b0" class="ns md it no b gy nt nu l nv nw">orig_data = pd.read_csv('https://raw.githubusercontent.com/Ashton-Sidhu/aethos/develop/examples/data/train.csv')</span></pre><p id="da8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将描述原始数据作为参考。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="bb9b" class="ns md it no b gy nt nu l nv nw">orig_data.describe()</span></pre><h1 id="de3b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">分析</h1><p id="e33f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">分析对象主要用于快速、方便地分析和可视化数据。它没有能力运行 Aethos 的自动清理和转换技术，只有可视化和统计测试。它也不会分割您的数据，但是您可以选择提供一个测试集。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="02ae" class="ns md it no b gy nt nu l nv nw">df = at.Analysis(orig_data, target='Survived')</span></pre><p id="1e72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从描述我们的数据开始。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="1741" class="ns md it no b gy nt nu l nv nw">df.describe()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/d7d9cf5815f374305d27a55108814f9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zJ201JujKlIl1bqpBQBv4A.png"/></div></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="d878" class="ns md it no b gy nt nu l nv nw">df.missing_values</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/30e0b259f792614428ead32b21d15448.png" data-original-src="https://miro.medium.com/v2/resize:fit:418/format:webp/1*bP2hmyYBVH_MlAHl1HaMKw.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="3d0f" class="ns md it no b gy nt nu l nv nw">df.column_info()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/54dc5632a381499a0e20892ece838eb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KhsB_-NEDOLgsDV2WMhM1Q.png"/></div></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="616c" class="ns md it no b gy nt nu l nv nw">df.standardize_column_names()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/5f967079ea241055a39a41ef127da012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SaJiDaj3hx06KjP43oViEQ.png"/></div></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="ac1a" class="ns md it no b gy nt nu l nv nw">df.describe_column('fare')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/97652203a2bc99e0fa977bb02b3e3744.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*LrhIANXyxRE7tkjMXIyxIw.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/8aa6f16efeaf0e8faa252d804ece160d.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*PMG6pn50UksHEmZr74FROw.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="f78e" class="ns md it no b gy nt nu l nv nw">df.data_report()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/e10ec25a6ac46bce8f740a774f5fa00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Il5ek8c1lVC6Cv5R2XWi8A.png"/></div></div></figure><p id="9fe9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看多个特征的直方图。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="835a" class="ns md it no b gy nt nu l nv nw">df.histogram('age', 'fare', hue='survived')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/f77f7eb0b004e198e9dee987f5908cc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u56KNeRacWOFZ2rsUWUSng.png"/></div></div></figure><p id="b353" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建可配置的相关矩阵。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="3f03" class="ns md it no b gy nt nu l nv nw">df.correlation_matrix(data_labels=True, hide_mirror=True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/069675923c40a499d6118a5fba289551.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*f2jkYv3a5NHAm8sJrB4D9g.png"/></div></figure><p id="4303" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">画出每个年龄买票的平均价格。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="2b44" class="ns md it no b gy nt nu l nv nw">df.barplot(x='age', y='fare', method='mean', labels={'age': 'Age', 'fare': 'Fare'}, asc=False)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/076dbfaf0f4ff4c3a1eaf45a62182a73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-LGU0SvYIKm0DvCXafWWQw.png"/></div></div></figure><p id="f7c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以观察年龄和公平之间的关系，并了解幸存者和幸存者之间的差异。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="3ca0" class="ns md it no b gy nt nu l nv nw">df.scatterplot(x='age', y='fare', color='survived', labels={'age': 'Age', 'fare': 'Fare'}, marginal_x='histogram', marginal_y='histogram')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/3c6ebdecf542390d21e03a32ac06e78d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*57grGB-wsKzIaW91xTS3qw.png"/></div></div></figure><p id="05dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以想象其他的情节，比如雨云，小提琴，盒子，成对等等。我建议查看更多示例。</p><p id="50de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最大的变化之一是能够和熊猫并肩工作。如果您想转换和处理只与 Pandas 相关的数据，分析对象将反映这些变化。这允许您将 Aethos 单独用于自动分析，将 Pandas 用于转换。</p><p id="88ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了演示这一点，我们将使用我们创建的原始 pandas 数据帧创建一个新的布尔特征来查看乘客是否为儿童。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="e726" class="ns md it no b gy nt nu l nv nw">orig_data['is_child'] = (orig_data['age'] &lt; 18).astype(int)<br/>orig_data.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/cf3acc51d1cce488fee7f0e937c20923.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i3G8b5xO4FJT9SkBOmNRUQ.png"/></div></div></figure><p id="64c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们来看看我们的分析对象。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="ca9f" class="ns md it no b gy nt nu l nv nw">df.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/41693323937aa45d88e132a8f84ab6b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c3Rt7qTv2LAzCUAQW_pMWw.png"/></div></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="3f1e" class="ns md it no b gy nt nu l nv nw">df.boxplot(x='is_child', y='fare', color='survived')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/24cb2dd7dfde1f12b44268774445be9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nhcUEdl1Ztz-A5kc7GOQlw.png"/></div></div></figure><p id="114d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您仍然可以在 Aethos 对象上运行 pandas 函数。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="ff50" class="ns md it no b gy nt nu l nv nw">df.nunique()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/b6113686c9a9fa88965a74aaa737206b.png" data-original-src="https://miro.medium.com/v2/resize:fit:368/format:webp/1*Ji5R8brV93-j2pR6H4CHNA.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="86e9" class="ns md it no b gy nt nu l nv nw">df['age'].nunique()</span></pre><p id="d75c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi">88</p><h1 id="383c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">新功能</h1><p id="aafc" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Aethos 2.0 中引入了一些新的分析技术。</p><h2 id="a0dc" class="ns md it bd me ol om dn mi on oo dp mm li op oq mo lm or os mq lq ot ou ms ov bi translated">预测能力得分</h2><p id="66de" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">预测能力得分是非对称的、数据类型不可知的得分，可以检测两个列之间的线性或非线性关系。分数范围从 0(无预测能力)到 1(完美预测能力)。它可以用作相关性(矩阵)的替代方法。创建这个库需要 8080 个实验室，你可以在这里得到更多信息</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="fb9a" class="ns md it no b gy nt nu l nv nw">df.predictive_power(data_labels=True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/bdc99d5558223da79d174ce1e2176ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*nTfq_arvO_WCPjw5NK8bPg.png"/></div></figure><h2 id="e706" class="ns md it bd me ol om dn mi on oo dp mm li op oq mo lm or os mq lq ot ou ms ov bi translated">AutoViz</h2><p id="8d0d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">AutoViz 自动可视化您的数据，并根据您的数据特征显示关键图。信用去 AutoViML 创建这个库，你可以得到更多的信息<a class="ae ky" href="https://github.com/AutoViML/AutoViz" rel="noopener ugc nofollow" target="_blank">在这里</a>。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="0578" class="ns md it no b gy nt nu l nv nw">df.autoviz()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/76f0a4e0cff7e5107a9d8dd02f709e39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iUL7I8CX6AH0Sce6Ox2f0w.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/ff1951765d15db496863c873bf695716.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xc4BJXo4ou1_hS8lGeigPw.png"/></div></div></figure><p id="b820" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">外加更多！它负责许多您通常会做的可视化工作，并帮助识别特征之间的关系。你可以在这里查看全部输出<a class="ae ky" href="https://ashton-sidhu.github.io/Blog/jupyter/aethos/datascience/2020/05/12/Aethos-2.0.html" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="0986" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">系统模型化</h1><p id="0680" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Aethos 2.0 引入了 3 个新的模型对象:分类、回归和无监督。这些对象具有与分析对象相同的功能，但也可以像在 Aethos 1.0 中那样转换数据。对于不熟悉 Aethos 的人来说，每当您使用 Aethos 应用转换时，它会将转换应用于训练数据，并将其应用于训练和测试数据(在分类和回归的情况下),以避免数据泄漏。</p><p id="691d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我们将讨论分类对象，但是如果你正在处理一个回归或者无监督的问题，过程是完全一样的。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="a9b6" class="ns md it no b gy nt nu l nv nw">df = at.Classification(orig_data, target='Survived', test_split_percentage=.25)</span></pre><p id="cde2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与 Aethos 1.0 一样，如果没有提供测试数据，它会在初始化时被分割。在 Aethos 2.0 中，它使用分类问题的分层来分割数据，以确保类平衡的一些相似性。</p><blockquote class="lv lw lx"><p id="51c3" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><strong class="lb iu">警告:</strong>前面我们展示了修改原始数据帧并将其反映在 Aethos 对象中的能力。如果你没有为分类和回归对象提供一个测试集，情况就不一样了。</p><p id="ee3a" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><strong class="lb iu">提示:</strong> Aethos 附带了一个清单，可以在清理、分析和转换数据时提醒您。</p></blockquote><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="9c9e" class="ns md it no b gy nt nu l nv nw">df.checklist()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/a730c65cd5e4bc68578d90c1525ce1bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3gYnLa3nZ5I5taCG_A7YTQ.png"/></div></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="3731" class="ns md it no b gy nt nu l nv nw">df.standardize_column_names()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/08b1ad38bda10226c0083cc7b9c227e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tFVMw2cmaZjqc8zOIYd4kw.png"/></div></div></figure><p id="f8bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为这是一个概述，所以让我们选择将要使用的列，去掉我们不打算使用的列。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="a841" class="ns md it no b gy nt nu l nv nw">df.drop(keep=['survived', 'pclass', 'sex', 'age', 'fare', 'embarked'])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/c57437b9a718bb93244325c5dc1cd4eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*4pTGlL3dc3GGjADyyKwlpg.png"/></div></figure><p id="54cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们把我们的转变连在一起。请记住，我们的转换将适合训练数据，并自动转换我们的测试数据。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="ba39" class="ns md it no b gy nt nu l nv nw">is_child = lambda df: 1 if df['age'] &lt; 18 else 0</span><span id="5b7b" class="ns md it no b gy nx nu l nv nw">df.replace_missing_median('age') \<br/>  .replace_missing_mostcommon('embarked') \<br/>  .onehot_encode('sex', 'pclass', 'embarked', keep_col=False) \<br/>  .apply(is_child, 'is_child') \<br/>  .normalize_numeric('fare', 'age')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/7915ae13fd878da1d357ec2d6053aae7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JdbpBfm4pt972TCXhK7Kpw.png"/></div></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="af8d" class="ns md it no b gy nt nu l nv nw">df.x_train.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/20755156c76fa1ddca83e6ccee94354b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4opiN7rt6J12x00QTWVOvw.png"/></div></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="e379" class="ns md it no b gy nt nu l nv nw">df.x_test.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/530fe90d04950f4c5723f31e3e892c5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gyCew3o8SZi6CnI42XKJXg.png"/></div></div></figure><p id="68c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们训练一个逻辑回归模型。</p><p id="453b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将使用 gridsearch，它会自动返回最佳模型。在网格搜索过程中，我们将使用分层 K-fold 进行交叉验证。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="d645" class="ns md it no b gy nt nu l nv nw">gs_params = {<br/>    "C": [0.1, 0.5, 1],<br/>    "max_iter": [100, 1000]<br/>}</span><span id="9f09" class="ns md it no b gy nx nu l nv nw">lr = df.LogisticRegression(<br/>    cv_type='strat-kfold',<br/>    gridsearch=gs_params,<br/>    random_state=42<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/dacbbea3b88d0509692fe8c90433e786.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aUlytXw871KBNqYEaUy7EA.png"/></div></div></figure><p id="c770" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦模型被训练，一个 ModelAnalysis 对象被返回，它允许我们分析、解释和可视化我们的模型结果。包括一个列表，帮助您调试您的模型，如果它是过拟合或欠拟合。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="eada" class="ns md it no b gy nt nu l nv nw">df.help_debug()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pg"><img src="../Images/b4abaf8eda6a9af28ac9d11874c16941.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TtUmu-N8G4xBe32tuqSgbQ.png"/></div></div></figure><p id="ef55" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以通过在产生的 ModelAnalysis 对象上调用<code class="fe ph pi pj no b">cross_validate </code>来快速交叉验证任何模型。它将显示所有折叠的平均分数和学习曲线。</p><p id="9778" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于分类问题，默认的交叉验证方法是分层 K-Fold。这允许保持某种形式的类平衡，而对于回归，缺省值是 K 倍。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="daa2" class="ns md it no b gy nt nu l nv nw">lr.cross_validate()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/a3febeb65ade72147f0d65789b09761b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-wzFjyFdr6cIHQhDS4kRXQ.png"/></div></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="0e98" class="ns md it no b gy nt nu l nv nw">lr.metrics() # Note this displays the results on the test data.</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/c54490cf814c94c63f9e99159a5a6b93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OKciKQuv9cr1xzlgzzCeDw.png"/></div></div></figure><h2 id="3e79" class="ns md it bd me ol om dn mi on oo dp mm li op oq mo lm or os mq lq ot ou ms ov bi translated">手动与自动</h2><p id="a9aa" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">让我们手动训练一个逻辑回归，并查看和验证结果。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="3886" class="ns md it no b gy nt nu l nv nw">from sklearn.linear_model import LogisticRegression<br/>from sklearn.metrics import accuracy_score, roc_auc_score, precision_score</span><span id="4f9b" class="ns md it no b gy nx nu l nv nw">X_train = df.x_train.drop("survived", axis=1)<br/>X_test = df.x_test.drop("survived", axis=1)</span><span id="b0eb" class="ns md it no b gy nx nu l nv nw">y_train = df.x_train["survived"]<br/>y_test = df.x_test["survived"]</span><span id="9122" class="ns md it no b gy nx nu l nv nw">clf = LogisticRegression(C=1, max_iter=100, random_state=42).fit(X_train, y_train)<br/>y_pred = clf.predict(X_test)</span><span id="1566" class="ns md it no b gy nx nu l nv nw">print(f"Accuracy: {accuracy_score(y_test, y_pred).round(3)}")<br/>print(f"AUC: {roc_auc_score(y_test, clf.decision_function(X_test)).round(3)}")<br/>print(f"Precision: {precision_score(y_test, y_pred).round(3)}")</span></pre><blockquote class="lv lw lx"><p id="dd98" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">准确度:0.848 <br/> AUC: 0.854 <br/>精度:0.882</p></blockquote><p id="38a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果是一样的。</p><h1 id="39ab" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">模型分析</h1><p id="b9ac" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">与建模类似，Aethos 2.0 引入了 4 个模型分析对象:ClassificationModelAnalysis、RegressionModelAnalysis、UnsupervisedModelAnalysis 和 TextModelAnalysis。在 Aethos 2.0 中，它们可以通过两种方式进行初始化:</p><ul class=""><li id="3d2a" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">使用 Aethos 训练模型的结果</li><li id="da5b" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">通过提供模型对象、模型使用的训练数据以及评估模型性能(用于回归和分类)的测试数据来自行初始化它。</li></ul><p id="3eac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与模型对象类似，我们将探索分类模型分析对象，但对于回归、无监督和文本模型分析，过程是相同的。</p><h1 id="4408" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">从 Aethos 初始化</h1><p id="473f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">首先，我们将从建模的地方开始，查看逻辑回归模型的指标。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="f0ed" class="ns md it no b gy nt nu l nv nw">type(lr)</span></pre><blockquote class="lv lw lx"><p id="6ee2" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">aet hos . model _ analysis . class ification _ model _ analysis。分类模型分析</p></blockquote><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="9525" class="ns md it no b gy nt nu l nv nw">lr.metrics()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/c54490cf814c94c63f9e99159a5a6b93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OKciKQuv9cr1xzlgzzCeDw.png"/></div></div></figure><p id="3d1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以根据您的业务需求来设置项目度量。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="ffd5" class="ns md it no b gy nt nu l nv nw">at.options.project_metrics = ["Accuracy", "ROC AUC", "Precision"]</span><span id="0ed4" class="ns md it no b gy nx nu l nv nw">lr.metrics()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/014301a975fa342b8a50226e3eb2946d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sjJRNkxFzeCwaN7iMmA_NA.png"/></div></div></figure><p id="ca5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您只想查看单个指标，也有相应的功能。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="5617" class="ns md it no b gy nt nu l nv nw">lr.fbeta(beta=0.4999)</span></pre><blockquote class="lv lw lx"><p id="e947" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi">0.8380023094880403</p></blockquote><p id="7438" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以用一行代码分析任何模型结果:</p><ul class=""><li id="42a6" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">韵律学</li><li id="8139" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">分类报告</li><li id="465b" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">混淆矩阵</li><li id="ba93" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">决策界限</li><li id="fa76" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">决策图</li><li id="cea1" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">依赖图</li><li id="daba" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">力图</li><li id="ef65" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">石灰地块</li><li id="3e3f" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">莫里斯敏感度</li><li id="a373" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">模型重量</li><li id="b1a2" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">汇总图</li><li id="943f" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">受试者工作特征曲线</li><li id="68bd" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">单个指标</li></ul><p id="ee1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">而且这只是针对分类模型，每种类型的问题都有自己的一套 ModelAnalysis 函数。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="eaf6" class="ns md it no b gy nt nu l nv nw">lr.classification_report()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/045b86aa69716de8151012a21c156fb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*3Od2g8BfEBDZloJ589yErQ.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="2ac4" class="ns md it no b gy nt nu l nv nw">lr.confusion_matrix()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi po"><img src="../Images/1795d6f3e4ad6eaa716d11a97ac4eacb.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*GVVP6uQG4p6JDEpdQFOJEQ.png"/></div></figure><p id="8fac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以将训练集中的特征提供给依赖图，否则它将只使用模型中的前两个特征。在引擎盖下，它使用 YellowBricks 决策边界可视化工具来创建可视化。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="c8ed" class="ns md it no b gy nt nu l nv nw">lr.decision_boundary('age', 'fare')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/5f7699fa3fe652d4ebb8712dede6d22f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*tqg_Wjr7PoPicc2FOAbMUg.png"/></div></figure><p id="db1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还包括自动 SHAP 用例来解释你的模型。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="10bd" class="ns md it no b gy nt nu l nv nw">lr.decision_plot()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/e4711c9aff9fabf5cf672d011948de3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*UzKHRTp8ZqAw5RVOHfR0MA.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="4fe9" class="ns md it no b gy nt nu l nv nw">lr.dependence_plot('age')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/150ff22a80d1806acf9b9cbdbdf998ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*swH4TLzU4ANbNVvSVJ9Xmg.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="510e" class="ns md it no b gy nt nu l nv nw">lr.force_plot()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/e4080f68d427de4cce25ef3ed888f543.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XBiGD0w8vLScfqf5OS19SQ.png"/></div></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="ea38" class="ns md it no b gy nt nu l nv nw">lr.interpret_model()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pt"><img src="../Images/ff7d6a226661ef014e825b25c7bd5e1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xnJi-sDElka8Eor2_IhMSg.png"/></div></div></figure><p id="060e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看模型中权重最高的要素。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="ca00" class="ns md it no b gy nt nu l nv nw">lr.model_weights()</span></pre><blockquote class="lv lw lx"><p id="4fa2" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">性别 _ 女:1.16 <br/>性别 _ 男:-1.16 <br/> pclass_3 : -1.08 <br/>年龄:-1.03<br/>pclass _ 1:0.98<br/>is _ child:0.41<br/>上船 _ S:-0.31<br/>船上 _Q : 0.21 <br/>上船 _C : 0.10 <br/> pclass_2 : 0.10</p></blockquote><p id="f0ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">轻松绘制 RoC 曲线。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="5e51" class="ns md it no b gy nt nu l nv nw">lr.roc_curve()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/b62db983e7fc0131534a645b82b5b7ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*8cbsj1VYtzxEpcl4qHof4A.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="1028" class="ns md it no b gy nt nu l nv nw">lr.summary_plot()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/d6a68f669420e579bfce0ef8c92df3de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*PD2yVjAaJoCKIsdz8V50Aw.png"/></div></figure><p id="cfd8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们可以使用 FastAPI、Gunicorn 和 Docker 通过 RESTful API 生成文件来部署我们的模型。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="263b" class="ns md it no b gy nt nu l nv nw">lr.to_service('aethos2')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pw"><img src="../Images/2ff831a5c7d1c34704a8148ce864b39b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*VfJu_9h4mOQClO_qd1bgwg.png"/></div></figure><h1 id="70da" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">用户初始化</h1><p id="8cd9" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果我们像之前在笔记本中所做的那样手动训练一个模型，并且想要使用 Aethos 的模型分析功能，我们可以。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="bd78" class="ns md it no b gy nt nu l nv nw">lr = at.ClassificationModelAnalysis(<br/>    clf,<br/>    df.x_train,<br/>    df.x_test,<br/>    target='survived',<br/>    model_name='log_reg'<br/>)</span></pre><p id="e1f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意:</strong> x_train 和 x_test 数据集必须将目标变量作为数据帧的一部分。</p><p id="6a8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你现在可以做我们刚刚做的所有事情，并获得相同的结果。现在，您可以手动转换数据，训练模型，并使用 Aethos 来解释结果。我把它们放在下面以供验证。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="2661" class="ns md it no b gy nt nu l nv nw">type(lr)</span></pre><blockquote class="lv lw lx"><p id="d60f" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">aet hos . model _ analysis . class ification _ model _ analysis。分类模型分析</p></blockquote><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="9daa" class="ns md it no b gy nt nu l nv nw">lr.metrics()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/c54490cf814c94c63f9e99159a5a6b93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OKciKQuv9cr1xzlgzzCeDw.png"/></div></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="68ea" class="ns md it no b gy nt nu l nv nw">lr.fbeta(beta=0.4999)</span></pre><blockquote class="lv lw lx"><p id="b630" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi">0.8380023094880403</p></blockquote><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="f116" class="ns md it no b gy nt nu l nv nw">lr.classification_report()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/045b86aa69716de8151012a21c156fb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*3Od2g8BfEBDZloJ589yErQ.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="34c1" class="ns md it no b gy nt nu l nv nw">lr.confusion_matrix()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi po"><img src="../Images/1795d6f3e4ad6eaa716d11a97ac4eacb.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*GVVP6uQG4p6JDEpdQFOJEQ.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="10ad" class="ns md it no b gy nt nu l nv nw">lr.decision_boundary('age', 'fare')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/5f7699fa3fe652d4ebb8712dede6d22f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*tqg_Wjr7PoPicc2FOAbMUg.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="4687" class="ns md it no b gy nt nu l nv nw">lr.decision_plot()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/e4711c9aff9fabf5cf672d011948de3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*UzKHRTp8ZqAw5RVOHfR0MA.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="92bb" class="ns md it no b gy nt nu l nv nw">lr.dependence_plot('age')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/150ff22a80d1806acf9b9cbdbdf998ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*swH4TLzU4ANbNVvSVJ9Xmg.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="5adf" class="ns md it no b gy nt nu l nv nw">lr.force_plot()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/e4080f68d427de4cce25ef3ed888f543.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XBiGD0w8vLScfqf5OS19SQ.png"/></div></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="6d27" class="ns md it no b gy nt nu l nv nw">lr.interpret_model()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pt"><img src="../Images/ff7d6a226661ef014e825b25c7bd5e1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xnJi-sDElka8Eor2_IhMSg.png"/></div></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="d7ee" class="ns md it no b gy nt nu l nv nw">lr.model_weights()</span></pre><blockquote class="lv lw lx"><p id="1642" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">性别 _ 女:1.16 <br/>性别 _ 男:-1.16 <br/> pclass_3 : -1.08 <br/>年龄:-1.03<br/>pclass _ 1:0.98<br/>is _ child:0.41<br/>embarked _ S:-0.31<br/>fare:0.31<br/>embarked _ Q:0.21<br/>embarked _ C:0.10<br/>pclass _ 2:0.10</p></blockquote><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="73fa" class="ns md it no b gy nt nu l nv nw">lr.roc_curve()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/b62db983e7fc0131534a645b82b5b7ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*8cbsj1VYtzxEpcl4qHof4A.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="b251" class="ns md it no b gy nt nu l nv nw">lr.summary_plot()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/d6a68f669420e579bfce0ef8c92df3de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*PD2yVjAaJoCKIsdz8V50Aw.png"/></div></figure><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="8718" class="ns md it no b gy nt nu l nv nw">lr.to_service('aethos2')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pw"><img src="../Images/2ff831a5c7d1c34704a8148ce864b39b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*VfJu_9h4mOQClO_qd1bgwg.png"/></div></figure><h1 id="619b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">反馈</h1><p id="e6b2" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我鼓励所有关于这个帖子或 Aethos 的反馈。你可以在推特上给我发信息，或者在 sidhuashton@gmail.com 给我发电子邮件。</p><p id="2c0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">任何 bug 或功能请求，请在<a class="ae ky" href="https://github.com/Ashton-Sidhu/aethos/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc" rel="noopener ugc nofollow" target="_blank"> Github repo </a>上创建问题。我欢迎所有功能请求和任何贡献。如果你想为一个开源项目做贡献，这个项目是一个很好的开端——如果你需要帮助，可以随时给我发消息。</p></div></div>    
</body>
</html>