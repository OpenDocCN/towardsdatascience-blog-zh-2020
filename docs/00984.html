<html>
<head>
<title>Evaluation Metrics for Classification Problems in Machine Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习中分类问题的评价指标</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/evaluation-metrics-for-classification-problems-in-machine-learning-d9f9c7313190?source=collection_archive---------27-----------------------#2020-01-28">https://towardsdatascience.com/evaluation-metrics-for-classification-problems-in-machine-learning-d9f9c7313190?source=collection_archive---------27-----------------------#2020-01-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a2fe9379a64518d69b115bf40abc033e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GLRrPp_iDl0lWnCMezG-xQ.jpeg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">在<a class="ae kc" href="https://unsplash.com/s/photos/evaluation?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kc" href="https://unsplash.com/@helloquence?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Helloquence </a>拍摄的照片</p></figure><p id="665b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">知道如何创建机器学习模型是成为成功的数据科学家的一大步，但第一个模型很少是“最好”的模型。评估我们的机器学习模型的质量对于继续改进我们的模型至关重要，直到它尽可能地发挥最佳性能。对于<strong class="kf ir"> <em class="lb">分类</em> </strong>问题，<strong class="kf ir"> <em class="lb">评估度量</em> </strong>将预期类别标签与预测类别标签进行比较，或者解释类别标签的预测概率。分类问题是常见的，并且具有许多现实世界的应用，例如检测垃圾邮件、定向营销、欺诈检测或评估患者是否处于发展特定疾病诊断的高风险中。在这篇博文中，我们将回顾针对这些类型问题的一些不同类型的分类评估标准。</p><blockquote class="lc"><p id="fc35" class="ld le iq bd lf lg lh li lj lk ll la dk translated">1.混淆矩阵</p><p id="e797" class="ld le iq bd lf lg lh li lj lk ll la dk translated">2.精确</p><p id="edd1" class="ld le iq bd lf lg lh li lj lk ll la dk translated">3.回忆</p><p id="beb6" class="ld le iq bd lf lg lh li lj lk ll la dk translated">4.准确(性)</p><p id="e0df" class="ld le iq bd lf lg lh li lj lk ll la dk translated">5.f1-分数</p><p id="51b0" class="ld le iq bd lf lg lh li lj lk ll la dk translated">6.AUC ROC</p></blockquote><h1 id="953f" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">混淆矩阵</h1><p id="3ce5" class="pw-post-body-paragraph kd ke iq kf b kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">混淆矩阵是一个包含预测值和实际值的四种不同组合的表格。这是一个很好的方式来可视化不同的输出，并计算<strong class="kf ir">精度、召回、</strong> <strong class="kf ir">精度、F-1 评分</strong>为<strong class="kf ir"> </strong>以及<strong class="kf ir"> AUC-ROC。</strong>我们将在本博客后面更详细地讨论每一个问题。首先，让我们将 TP、FP、FN 和 TN 分解成一个混淆矩阵。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/9ba39ed0c7156e3219f367dc79cf6896.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/0*7sQSsNYtwhDi1xGw.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">混淆矩阵</p></figure><ul class=""><li id="96a3" class="mu mv iq kf b kg kh kk kl ko mw ks mx kw my la mz na nb nc bi translated"><strong class="kf ir">真阳性(TP) </strong>:我们的模型预测的次数是肯定的，实际输出也是肯定的。</li><li id="eda1" class="mu mv iq kf b kg nd kk ne ko nf ks ng kw nh la mz na nb nc bi translated"><strong class="kf ir">真阴性(TN) </strong>:我们的模型预测为 NO 而实际输出为 NO 的次数。</li><li id="2408" class="mu mv iq kf b kg nd kk ne ko nf ks ng kw nh la mz na nb nc bi translated"><strong class="kf ir">假阳性(FP) </strong>:我们的模型预测为是而实际输出为否的次数，这就是所谓的 1 类错误。</li><li id="e5a6" class="mu mv iq kf b kg nd kk ne ko nf ks ng kw nh la mz na nb nc bi translated"><strong class="kf ir">漏报</strong><strong class="kf ir">【FN】</strong>:我们的模型预测为否，实际输出为是的次数。这就是所谓的第二类错误。</li></ul><h1 id="7927" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ni lz ma mb nj md me mf nk mh mi mj bi translated"><strong class="ak"><em class="nl"/></strong>——</h1><p id="54e8" class="pw-post-body-paragraph kd ke iq kf b kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">精度可以描述为相关实例在检索实例中所占的比例。这回答了“多大比例的积极认同是正确的？”公式如下:</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/308b585e4908dd3630676436f9cbed2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*DlNmmzI50pumJzJwXzn55A.png"/></div></figure><p id="14c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">根据我们的混淆矩阵，等式可以表示为:</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/da57f4c727f5ae6ccd8524cdee67d55c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*4v5z2u-fvw4_ywFl2jI5DQ.png"/></div></figure><p id="0a8a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">精度表示我们的模型所说的相关数据点的比例实际上是相关的。</p><h1 id="f38a" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ni lz ma mb nj md me mf nk mh mi mj bi translated"><strong class="ak"> <em class="nl">回忆</em> </strong> —</h1><p id="6cbe" class="pw-post-body-paragraph kd ke iq kf b kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">回忆，又称<em class="lb">敏感性。</em>这回答了“有多少比例的实际阳性被正确分类？”这可以用下面的等式来表示:</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/1977d907d66a4eab523c1add05bc80d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ak5UdRx3QjdxThcQMLonfg.png"/></div></div></figure><p id="328a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的混淆矩阵中，它可以表示为:</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi np"><img src="../Images/96dcbde604c09d21e132ab8ac3ad635f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*B8FQvNug5B6bfME14N8Www.png"/></div></figure><p id="a813" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">召回表示数据集中哪些实例是相关的。在评估模型时，检查精确度和召回率是很重要的，因为它们通常有相反的关系。当精确度增加时，回忆倾向于减少，反之亦然。</p><h1 id="f76f" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ni lz ma mb nj md me mf nk mh mi mj bi translated"><strong class="ak"> <em class="nl">准确度</em> </strong> —</h1><p id="8a12" class="pw-post-body-paragraph kd ke iq kf b kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">准确性决定了在所有的分类中，我们正确分类了多少？这在数学上可以表示为:</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/9c47a1542ef274241546e972a0dcc183.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VEtOIKV8URnPspucgCBerw.png"/></div></div></figure><p id="ca28" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用我们的混淆矩阵术语，该等式可写成:</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/8c561f0af1123b54aa138d01d1826059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tZaJpElbscJgmpDxWORQJw.png"/></div></div></figure><p id="bda1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们希望准确度分数<strong class="kf ir">尽可能</strong> <strong class="kf ir">高</strong>。值得注意的是，准确性可能不总是使用的最佳指标，尤其是在<a class="ae kc" href="https://www.quora.com/What-is-an-imbalanced-dataset" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">类不平衡数据集</strong> </a> <strong class="kf ir">的情况下。</strong>这是指数据在所有类别中的分布不相等。</p><p id="8851" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，假设我们正在寻求建立一个模型来帮助诊断脑癌患者。如果我们的模型只是将每个人归类为没有患脑癌，我们在绝大多数情况下都是正确的，但事实上，当某人患有脑癌而没有被诊断出来的代价是毁灭性的。根据行业的不同，这些成本可能会超过模型的准确性。在这种不平衡的情况下，最好使用<strong class="kf ir"> F1-Score </strong>来代替。</p><h1 id="bcee" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ni lz ma mb nj md me mf nk mh mi mj bi translated"><strong class="ak"><em class="nl">F1-得分</em> </strong> —</h1><p id="fbcc" class="pw-post-body-paragraph kd ke iq kf b kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">F1 分数是精确度和召回率的函数。它用于在两个指标之间找到正确的平衡。它决定了在不遗漏大量实例的情况下，模型正确分类的实例数量。这个分数可以用下面的等式来表示:</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/e654e183ac9ecc2adbf62d5f7f9ffa9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fC5NzEJEzj17EkQS7L_fMA.png"/></div></div></figure><p id="6517" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">精确度和召回率之间的不平衡，例如高精确度和低召回率，可以给你一个非常精确的模型，但是不能正确地分类困难的数据。我们希望 F1 分数尽可能高，以实现我们车型的最佳性能。</p><h1 id="ab5b" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ni lz ma mb nj md me mf nk mh mi mj bi translated">AUC(曲线下面积)ROC(受试者操作特征)曲线</h1><p id="2ef3" class="pw-post-body-paragraph kd ke iq kf b kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">AUC ROC 曲线是显示分类模型在所有阈值的性能的图表。ROC 是概率曲线，AUC 代表可分离度。ROC 绘制了以下参数:</p><ul class=""><li id="e094" class="mu mv iq kf b kg kh kk kl ko mw ks mx kw my la mz na nb nc bi translated"><strong class="kf ir">真阳性率(TPR) </strong>，也称回忆或敏感度，在上一节有解释。</li></ul><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/b0db1ea60d42f4296184754de62e0a92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3PW4C6ME1kHcU_YcZnmX1w.png"/></div></div></figure><ul class=""><li id="4d53" class="mu mv iq kf b kg kh kk kl ko mw ks mx kw my la mz na nb nc bi translated"><strong class="kf ir">假阳性率(FPR) </strong>，也称为漏失，假阳性预测与所有实际为阴性的值的比率。</li></ul><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/0404e69576af397d3d9c2798b3176d30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e-tMgZWJs2GlWmtno8SR0A.png"/></div></div></figure><p id="e0c7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">RPR 和 FPR 都在范围[0，1]内。该曲线是在范围[0，1]中不同点的 FPR 对 TPR。表现最好的分类模型会有一条类似于下图中绿线的曲线。绿线在曲线下的面积最大。AUC 越高，你的模型表现越好。只有 50-50 准确度的分类器实际上并不比随机猜测好多少，这使得模型毫无价值(红线)。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nv"><img src="../Images/a35225c49543da15b389c53513f978cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ym8UEiBOTglD5NzxC4my4A.png"/></div></div></figure><p id="bc43" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我希望这篇博客有助于澄清用于评估机器学习中分类模型性能的不同度量标准！</p><p id="06eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果这篇博文有什么启示，请务必记住，没有适用于所有问题的评估标准。这取决于行业和你要处理什么样的数据集。</p><p id="cbf5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">感谢阅读！</p><p id="6c81" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">参考资料:</p><ol class=""><li id="d6d3" class="mu mv iq kf b kg kh kk kl ko mw ks mx kw my la nw na nb nc bi translated"><a class="ae kc" href="https://developers.google.com/machine-learning/crash-course/classification/true-false-positive-negative" rel="noopener ugc nofollow" target="_blank">https://developers . Google . com/machine-learning/速成课程/分类/真-假-正-负</a></li><li id="7366" class="mu mv iq kf b kg nd kk ne ko nf ks ng kw nh la nw na nb nc bi translated"><a class="ae kc" rel="noopener" target="_blank" href="/understanding-confusion-matrix-a9ad42dcfd62">https://towards data science . com/understanding-mission-matrix-a9ad 42 dcfd 62</a></li><li id="546b" class="mu mv iq kf b kg nd kk ne ko nf ks ng kw nh la nw na nb nc bi translated"><a class="ae kc" href="http://gim.unmc.edu/dxtests/ROC3.htm" rel="noopener ugc nofollow" target="_blank">http://gim.unmc.edu/dxtests/ROC3.htm</a></li><li id="de70" class="mu mv iq kf b kg nd kk ne ko nf ks ng kw nh la nw na nb nc bi translated"><a class="ae kc" rel="noopener" target="_blank" href="/beyond-accuracy-precision-and-recall-3da06bea9f6c">https://towards data science . com/beyond-accuracy-precision-and-recall-3da 06 bea 9 f6c</a></li><li id="fca2" class="mu mv iq kf b kg nd kk ne ko nf ks ng kw nh la nw na nb nc bi translated"><a class="ae kc" rel="noopener" target="_blank" href="/accuracy-precision-recall-or-f1-331fb37c5cb9">https://towards data science . com/accuracy-precision-recall-or-f1-331 FB 37 C5 CB 9</a></li></ol></div></div>    
</body>
</html>