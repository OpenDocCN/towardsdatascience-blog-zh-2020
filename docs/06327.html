<html>
<head>
<title>FuzzyWuzzy: Find Similar Strings within one column in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">FuzzyWuzzy:用 Python 在一列中查找相似的字符串</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/fuzzywuzzy-find-similar-strings-within-one-column-in-a-pandas-data-frame-99f6c2a0c212?source=collection_archive---------2-----------------------#2020-05-21">https://towardsdatascience.com/fuzzywuzzy-find-similar-strings-within-one-column-in-a-pandas-data-frame-99f6c2a0c212?source=collection_archive---------2-----------------------#2020-05-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/a114c920c9aad919b55659a4d787bab7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4kS-j2MPQAZ6LVxiHsf4Fg.jpeg"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">马特&amp;克里斯·普阿在<a class="ae jd" href="https://unsplash.com/s/photos/ramen?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><div class=""/><div class=""><h2 id="ddfc" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">令牌排序比率与令牌集比率</h2></div></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="b024" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">使数据变脏的方法有很多种，数据录入不一致就是其中之一。不一致的值比重复的值更糟糕，有时很难检测到。本文介绍了我如何应用<a class="ae jd" href="https://github.com/seatgeek/fuzzywuzzy" rel="noopener ugc nofollow" target="_blank"> FuzzyWuzzy </a>包在<a class="ae jd" href="https://www.theramenrater.com/resources-2/the-list/" rel="noopener ugc nofollow" target="_blank">一个拉面评论数据集</a>中查找相似的拉面品牌名称(完整的 Jupyter 笔记本可以在我的<a class="ae jd" href="https://github.com/thuynh323/Python-data-preprocessing/blob/master/FuzzyWuzzy%20-%20Ramen%20Rater%20List/Find%20similar%20strings%20with%20FuzzyWuzzy.ipynb" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中找到)。你也可以在这里找到缩短代码<a class="ae jd" href="https://github.com/thuynh323/Natural-language-processing/blob/master/FuzzyWuzzy%20-%20Ramen%20Rater%20List/fuzz_match_function.py" rel="noopener ugc nofollow" target="_blank">的函数。</a></p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="612d" class="ly lz jg bd ma mb mc md me mf mg mh mi km mj kn mk kp ml kq mm ks mn kt mo mp bi translated">数据</h1><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="f402" class="mz lz jg mv b gy na nb l nc nd">import pandas as pd<br/>import numpy as np<br/>from fuzzywuzzy import process, fuzz</span><span id="2f05" class="mz lz jg mv b gy ne nb l nc nd">ramen = pd.read_excel('The-Ramen-Rater-The-Big-List-1-3400-Current-                    As-Of-Jan-25-2020.xlsx')<br/>ramen.head()</span></pre><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nf"><img src="../Images/a0a30d60019731a4d604ccb0b9ce31a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a5fjCoAKN3AZ2qDXmff0Kg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">数据集的前几行</p></figure><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="7647" class="mz lz jg mv b gy na nb l nc nd">ramen.info()</span><span id="45ad" class="mz lz jg mv b gy ne nb l nc nd"><strong class="mv jh">&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 3400 entries, 0 to 3399<br/>Data columns (total 6 columns):<br/>Review #    3400 non-null int64<br/>Brand       3400 non-null object<br/>Variety     3400 non-null object<br/>Style       3400 non-null object<br/>Country     3400 non-null object<br/>Stars       3400 non-null object<br/>dtypes: int64(1), object(5)<br/>memory usage: 159.5+ KB</strong></span></pre><p id="7485" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">这个数据集非常简单，容易理解。在搬到 FuzzyWuzzy 之前，我想再核实一些信息。首先，我删除了每一列中的前导空格和尾随空格(如果有的话)，然后打印出它们的唯一值的数量。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="60c8" class="mz lz jg mv b gy na nb l nc nd">for col in ramen[['Brand','Variety','Style','Country']]:<br/>    ramen[col] = ramen[col].str.strip()<br/>    print('Number of unique values in ' + str(col) +': ' + str(ramen[col].nunique()))</span><span id="7bb0" class="mz lz jg mv b gy ne nb l nc nd"><strong class="mv jh">Number of unique values in Brand: 499<br/>Number of unique values in Variety: 3170<br/>Number of unique values in Style: 8<br/>Number of unique values in Country: 48</strong></span></pre><p id="3c42" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">通过对独特的品牌名称进行排序，可以看出是否有相似的。结果只显示前 20 个品牌。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="08f1" class="mz lz jg mv b gy na nb l nc nd">unique_brand = ramen['Brand'].unique().tolist()<br/>sorted(unique_brand)[:20]</span><span id="6c11" class="mz lz jg mv b gy ne nb l nc nd"><strong class="mv jh">['1 To 3 Noodles',<br/> '7 Select',<br/> '7 Select/Nissin',<br/> '7-Eleven / Nissin',<br/> 'A-One',<br/> 'A-Sha',<br/> 'A-Sha Dry Noodle',<br/> 'A1',<br/> 'ABC',<br/> 'Acecook',<br/> 'Adabi',<br/> 'Ah Lai',<br/> 'Aji-no-men',<br/> 'Ajinatori',<br/> 'Ajinomoto',<br/> 'Alhami',<br/> 'Amianda',<br/> 'Amino',<br/> "Annie Chun's",<br/> 'Aroi']</strong></span></pre><p id="5711" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">我们可以在一开始就看到一些可疑的名字。接下来，让我们用 FuzzyWuzzy 做一些测试。</p><h1 id="9de9" class="ly lz jg bd ma mb ng md me mf nh mh mi km ni kn mk kp nj kq mm ks nk kt mo mp bi translated">快速模糊测试</h1><p id="6e86" class="pw-post-body-paragraph lc ld jg le b lf nl kh lh li nm kk lk ll nn ln lo lp no lr ls lt np lv lw lx ij bi translated">FuzzyWuzzy 有四个记分员选项来查找两个字符串之间的 Levenshtein 距离。在本例中，我将检查标记排序比率和标记集比率，因为我认为它们更适合这个可能有混合单词顺序和重复单词的数据集。</p><p id="826d" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">我挑选了四个品牌名称，并在品牌栏中找到了它们相似的名称。因为我们将 Brand 列与其自身进行匹配，所以结果将始终包括得分为 100 的所选名称。</p><h2 id="9977" class="mz lz jg bd ma nq nr dn me ns nt dp mi ll nu nv mk lp nw nx mm lt ny nz mo oa bi translated">令牌排序比率</h2><p id="d024" class="pw-post-body-paragraph lc ld jg le b lf nl kh lh li nm kk lk ll nn ln lo lp no lr ls lt np lv lw lx ij bi translated">token sort ratio scorer 对字符串进行标记化，并通过将这些字符串还原为小写字母、删除标点符号，然后按字母顺序排序来清理它们。之后，它会找到 Levenshtein 距离并返回相似度百分比。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="1bb9" class="mz lz jg mv b gy na nb l nc nd">process.extract('7 Select', unique_brand, scorer=fuzz.token_sort_ratio)</span><span id="475d" class="mz lz jg mv b gy ne nb l nc nd"><strong class="mv jh">[('7 Select', 100),<br/> ('7 Select/Nissin', 70),<br/> ('Jinbo Selection', 61),<br/> ('Seven &amp; I', 53),<br/> ('Lele', 50)]</strong></span></pre><p id="7233" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">这个结果意味着 7 Select/Nissin 在参考 7 Select 时有 70%的相似度。如果我将阈值设置为 70%以获得 7 Select-7 Select/Nissin 对，这还不错。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="f881" class="mz lz jg mv b gy na nb l nc nd">process.extract('A-Sha', unique_brand, scorer=fuzz.token_sort_ratio)</span><span id="6a02" class="mz lz jg mv b gy ne nb l nc nd"><strong class="mv jh">[('A-Sha', 100), ('Shan', 67), ('Nasoya', 55), ('Alhami', 55), ('Ah Lai', 55)]</strong></span></pre><p id="8066" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">低于 70%就不是阿沙的对手了。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="f7fd" class="mz lz jg mv b gy na nb l nc nd">process.extract('Acecook', unique_brand, scorer=fuzz.token_sort_ratio)</span><span id="8263" class="mz lz jg mv b gy ne nb l nc nd"><strong class="mv jh">[('Acecook', 100),<br/> ('Vina Acecook', 74),<br/> ('Yatekomo', 53),<br/> ('Sahmyook', 53),<br/> ('Panco', 50)]</strong></span></pre><p id="7cf0" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">仍然擅长 70%的阈值。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="8eb4" class="mz lz jg mv b gy na nb l nc nd">process.extract("Chef Nic's Noodles", unique_brand, scorer=fuzz.token_sort_ratio)</span><span id="07e7" class="mz lz jg mv b gy ne nb l nc nd"><strong class="mv jh">[("Chef Nic's Noodles", 100),<br/> ("Mr. Lee's Noodles", 71),<br/> ('Fantastic Noodles', 69),<br/> ('1 To 3 Noodles', 62),<br/> ("Mom's Dry Noodle", 59)]</strong></span></pre><p id="31d0" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">现在，我们有一个问题。如果我设置 70%的阈值，令牌排序比率计分器将得到错误的一对厨师 Nic 的面条-李先生的面条。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="29ae" class="mz lz jg mv b gy na nb l nc nd">process.extract('Chorip Dong', unique_brand, scorer=fuzz.token_sort_ratio)</span><span id="57ca" class="mz lz jg mv b gy ne nb l nc nd"><strong class="mv jh">[('Chorip Dong', 100),<br/> ('ChoripDong', 95),<br/> ('Hi-Myon', 56),<br/> ('Mr. Udon', 56),<br/> ('Maison de Coree', 54)]</strong></span></pre><p id="9910" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">这个看起来足够好了。</p><h2 id="5ebf" class="mz lz jg bd ma nq nr dn me ns nt dp mi ll nu nv mk lp nw nx mm lt ny nz mo oa bi translated">令牌集比率</h2><p id="e8ec" class="pw-post-body-paragraph lc ld jg le b lf nl kh lh li nm kk lk ll nn ln lo lp no lr ls lt np lv lw lx ij bi translated">标记集比率计分器还对字符串进行标记化，并遵循与标记排序比率一样的处理步骤。然后，它收集两个字符串之间的公共标记，并执行成对比较以找到相似性百分比。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="3cde" class="mz lz jg mv b gy na nb l nc nd">process.extract('7 Select', unique_brand, scorer=fuzz.token_set_ratio)</span><span id="ec8d" class="mz lz jg mv b gy ne nb l nc nd"><strong class="mv jh">[('7 Select', 100),<br/> ('7 Select/Nissin', 100),<br/> ('The Ramen Rater Select', 86),<br/> ('Jinbo Selection', 61),<br/> ('Seven &amp; I', 53)]</strong></span></pre><p id="160b" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">由于令牌集比例更加灵活，7 Select — 7 Select/Nissin 的分数从 70%提高到了 100%。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="f299" class="mz lz jg mv b gy na nb l nc nd">process.extract('A-Sha', unique_brand, scorer=fuzz.token_set_ratio)</span><span id="7bc3" class="mz lz jg mv b gy ne nb l nc nd"><strong class="mv jh">[('A-Sha', 100),<br/> ('A-Sha Dry Noodle', 100),<br/> ('Shan', 67),<br/> ('Nasoya', 55),<br/> ('Alhami', 55)]</strong></span></pre><p id="5c4f" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">现在我们看到阿沙还有另外一个名字叫阿沙挂面。而我们只有通过使用令牌集比率才能看到这一点。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="c13c" class="mz lz jg mv b gy na nb l nc nd">process.extract('Acecook', unique_brand, scorer=fuzz.token_set_ratio)</span><span id="6624" class="mz lz jg mv b gy ne nb l nc nd"><strong class="mv jh">[('Acecook', 100),<br/> ('Vina Acecook', 100),<br/> ('Yatekomo', 53),<br/> ('Sahmyook', 53),<br/> ('Panco', 50)]</strong></span></pre><p id="39c6" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">这一个得到 100%就像 7 选择的情况。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="21d4" class="mz lz jg mv b gy na nb l nc nd">process.extract("Chef Nic's Noodles", unique_brand, scorer=fuzz.token_set_ratio)</span><span id="7bda" class="mz lz jg mv b gy ne nb l nc nd"><strong class="mv jh">[("Chef Nic's Noodles", 100),<br/> ('S&amp;S', 100),<br/> ('Mr. Noodles', 82),<br/> ("Mr. Lee's Noodles", 72),<br/> ('Tseng Noodles', 70)]</strong></span></pre><p id="383f" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">当 Nic 主厨的面条 S&amp;S 的令牌集比率返回 100%时，情况会变得更糟。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="5995" class="mz lz jg mv b gy na nb l nc nd">process.extract('Chorip Dong', unique_brand, scorer=fuzz.token_set_ratio)</span><span id="1cef" class="mz lz jg mv b gy ne nb l nc nd"><strong class="mv jh">[('Chorip Dong', 100),<br/> ('ChoripDong', 95),<br/> ('Hi-Myon', 56),<br/> ('Mr. Udon', 56),<br/> ('Maison de Coree', 54)]</strong></span></pre><p id="d184" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">我们对这个有相同的结果。</p><p id="7044" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">尽管标记集比率比标记排序比率更灵活，并且可以检测到更多的相似字符串，但它也可能会带来更多的错误匹配。</p><h1 id="8c64" class="ly lz jg bd ma mb ng md me mf nh mh mi km ni kn mk kp nj kq mm ks nk kt mo mp bi translated">应用 FuzzyWuzzy</h1><p id="deb1" class="pw-post-body-paragraph lc ld jg le b lf nl kh lh li nm kk lk ll nn ln lo lp no lr ls lt np lv lw lx ij bi translated">在这一部分中，我首先使用了 token sort ratio，并创建了一个表来显示品牌名称、它们的相似性以及它们的得分。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="be42" class="mz lz jg mv b gy na nb l nc nd"><em class="ob">#Create tuples of brand names, matched brand names, and the score</em><br/>score_sort = [(x,) + i<br/>             for x in unique_brand <br/>             for i in process.extract(x, unique_brand,     scorer=fuzz.token_sort_ratio)]</span><span id="11eb" class="mz lz jg mv b gy ne nb l nc nd"><em class="ob">#Create a dataframe from the tuples</em><br/>similarity_sort = pd.DataFrame(score_sort, columns=['brand_sort','match_sort','score_sort'])<br/>similarity_sort.head()</span></pre><figure class="mq mr ms mt gt is gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/37ac404a7188021bc63b32ca7bf42da1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*5HQRZRqGN68hill_5ayyIA.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">数据帧的第一行</p></figure><p id="5290" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">因为我们在同一列中寻找匹配的值，所以一个值对会有另一个顺序相反的相同值对。例如，我们会找到一对江户包—高户，和另一对高户—江户包。为了稍后消除其中一个，我们需要为相同的对找到“代表”值。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="4023" class="mz lz jg mv b gy na nb l nc nd">similarity_sort['sorted_brand_sort'] = np.minimum(similarity_sort['brand_sort'], similarity_sort['match_sort'])</span><span id="06b6" class="mz lz jg mv b gy ne nb l nc nd">similarity_sort.head()</span></pre><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi od"><img src="../Images/2f5b81880efff3ea1e892db1b8fddaf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V0xe0tZ4bqC2vFaVLg75FA.png"/></div></div></figure><p id="9a4d" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">基于上面的测试，我只关心那些至少有 80%相似度的配对。我也排除那些与自己匹配的(品牌价值和匹配价值完全相同)和那些重复的配对。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="9407" class="mz lz jg mv b gy na nb l nc nd">high_score_sort = <br/>similarity_sort[(similarity_sort['score_sort'] &gt;= 80) &amp;<br/>                (similarity_sort['brand_sort'] !=  similarity_sort['match_sort']) &amp;<br/>                (similarity_sort['sorted_brand_sort'] != similarity_sort['match_sort'])]</span><span id="a68b" class="mz lz jg mv b gy ne nb l nc nd">high_score_sort = high_score_sort.drop('sorted_brand_sort',axis=1).copy()</span></pre><p id="51d9" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">现在，让我们看看结果。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="bf12" class="mz lz jg mv b gy na nb l nc nd">high_score_sort.groupby(['brand_sort','score_sort']).agg(<br/>                        {'match_sort': ', '.join}).sort_values(<br/>                        ['score_sort'], ascending=False)</span></pre><figure class="mq mr ms mt gt is gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/c45c35a898420d539ad569ba98a008c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*PZz1S5fWFa12fno2cTMJSw.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">使用令牌排序比的模糊匹配</p></figure><p id="010e" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">从 95 分及以上的分数来看，一切都很好。在每一对中，这两个值可能有拼写错误、缺少一个字符或格式不一致，但总体来说，它们显然是相互引用的。低于 95 就不好说了。我们可以通过列出每一对的数据来看一些例子。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="39ea" class="mz lz jg mv b gy na nb l nc nd"><em class="ob">#Souper - Super - 91%</em><br/>ramen[(ramen['Brand'] == 'Souper') | (ramen['Brand'] == 'Super')].sort_values(['Brand'])</span></pre><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/767e7a4c2a93b2caaba6a5c4fe5db423.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yop_ULirwcTqKWDvINTT2A.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">汤和超级</p></figure><p id="a447" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">对于这一对，我们看到这两个品牌来自不同的制造商/国家，他们的拉面类型或风格也没有相似之处。我会说这些品牌不一样。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="ced7" class="mz lz jg mv b gy na nb l nc nd"><em class="ob">#Ped Chef - Red Chef - 88%</em><br/>ramen[(ramen['Brand'] == 'Ped Chef') | (ramen['Brand'] == 'Red Chef')].sort_values(['Brand'])</span></pre><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi og"><img src="../Images/c3ae8111b25ea4dfdd3b8104d6a9e035.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zxy6yI7WCuSyGZT3CHIpdw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">Ped 厨师和 Red 厨师</p></figure><p id="57a7" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">在这里，我们只有 Ped Chef 品牌的一个记录，我们也在它的品种名称中看到了与 Red Chef 品牌相同的模式。我很确定这两个牌子是一样的。</p><p id="0ca7" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">对于像这样的小数据集，我们可以通过相同的方法继续检查其他对。从 84%及以下的阈值开始，我们可以忽略一些明显不同的对，或者我们可以如上快速检查。</p><p id="1f0d" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">要应用令牌集比率，我可以只重复相同的步骤；这部分可以在我的<a class="ae jd" href="https://github.com/thuynh323/Python-data-preprocessing/blob/master/FuzzyWuzzy%20-%20Ramen%20Rater%20List/Find%20similar%20strings%20with%20FuzzyWuzzy.ipynb" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到。</p><h1 id="d777" class="ly lz jg bd ma mb ng md me mf nh mh mi km ni kn mk kp nj kq mm ks nk kt mo mp bi translated">令牌排序比率与令牌集比率</h1><p id="ff75" class="pw-post-body-paragraph lc ld jg le b lf nl kh lh li nm kk lk ll nn ln lo lp no lr ls lt np lv lw lx ij bi translated">比较结果包括姓名、使用标记排序比和标记集比的匹配以及相应的分数。</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oh"><img src="../Images/060c421c37626721908d441c2054eb4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KnysYof2xCx1uZ4b1jDA-Q.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">这不是完整的数据集</p></figure><p id="9c9c" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">现在我们可以看到两个得分手之间有多么不同。不出所料，记号集比率匹配高分数的错误名字(例如 S&amp;S，面条先生)。然而，与令牌排序比相比，它确实带来了更多的匹配(例如 7 Select/Nissin、Sugakiya Foods、Vina Acecook)。这意味着要得到最多的匹配，应该使用两个记分员。</p><p id="c381" class="pw-post-body-paragraph lc ld jg le b lf lg kh lh li lj kk lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">以你的拉面知识和模糊的思维，你能挑出任何正确的搭配吗？</p></div></div>    
</body>
</html>