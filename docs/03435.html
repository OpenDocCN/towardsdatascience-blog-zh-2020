<html>
<head>
<title>Organize your data and models using the Object Oriented Programming and Pickle</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用面向对象编程和Pickle组织您的数据和模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/organize-your-data-and-models-using-the-object-oriented-programming-and-pickle-876a6654494?source=collection_archive---------28-----------------------#2020-04-01">https://towardsdatascience.com/organize-your-data-and-models-using-the-object-oriented-programming-and-pickle-876a6654494?source=collection_archive---------28-----------------------#2020-04-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="ir is gp gr it iu"><div class="bz fp l di"><div class="iv iw l"/></div><p class="ix iy gj gh gi iz ja bd b be z dk translated">来自<a class="ae jb" href="https://giphy.com/gifs/Friends-episode-15-friends-tv-the-one-where-estelle-dies-W3a0zO282fuBpsqqyD/links" rel="noopener ugc nofollow" target="_blank">GIPHY.com</a></p></figure><div class=""/><div class=""><h2 id="972e" class="pw-subtitle-paragraph kb jd je bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dk translated">为了未来的自己和他人</h2></div><p id="8dd9" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">我喜欢创建一个做笔记的系统。当我记起某个地方写下了什么东西，但又不能马上认出来时，我会非常激动。因此，当我在一个数据科学项目中处理多个模型时，我需要它们在一个地方，当我稍后回来引用它们时。另外，我讨厌为了回到之前的位置而重新运行代码。是的，你总是可以用python处理几乎每一种类型的东西，但是我想要一个pickle文件，把所有的东西都组织好。所以今天我想分享我是如何使用pickles和创建类来组织数据和建模结果的。这篇文章可以帮助你在数据科学项目中实践你的面向对象编程技能。</p></div><div class="ab cl lp lq hx lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="im in io ip iq"><h2 id="b52d" class="lw lx je bd ly lz ma dn mb mc md dp me lc mf mg mh lg mi mj mk lk ml mm mn mo bi translated">使用字典来组织创建pickle文件的项目。</h2><p id="a647" class="pw-post-body-paragraph kt ku je kv b kw mp kf ky kz mq ki lb lc mr le lf lg ms li lj lk mt lm ln lo im bi translated">例如，在我的前一篇文章的<a class="ae jb" rel="noopener" target="_blank" href="/are-you-using-enough-coupons-d18c2d18dd5f">中所写的项目中，我创建了一个名为<code class="fe mu mv mw mx b">finals</code>的字典，并在数据准备的每一步转换时保存处理过的数据。</a></p><figure class="mz na nb nc gt iu gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi my"><img src="../Images/d2764e08f89d14d423dde50508090e0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x7-gKNf7aCOzuuhaKVv3vA.png"/></div></div><p class="ix iy gj gh gi iz ja bd b be z dk translated">在数据准备的每个步骤中保存参数和数据</p></figure><figure class="mz na nb nc gt iu gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi nj"><img src="../Images/d41ac9c2d03fee40bc7c76abcb463b08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xB--KbhRXuq7yk77YIinIA.png"/></div></div><p class="ix iy gj gh gi iz ja bd b be z dk translated">创建一个与字典同名的pickle文件</p></figure><p id="000e" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">我将关键字作为代码中使用的变量名，这样当我以后加载pickle文件时，我可以直接加载字典、分配变量和使用代码，而不用从头开始运行。</p><p id="06b6" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">当您需要时，这非常有用:</p><p id="d367" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">回到探索性数据分析步骤；</p><p id="542e" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">使用尚未准备好放入模型的数据(如未缩放、创建虚拟变量之前的数据)创建用于准备演示或撰写报告的可视化效果。；</p><p id="5817" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">使用单独的Jupyter笔记本进行数据处理和建模，并加载数据。</p><figure class="mz na nb nc gt iu gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi nk"><img src="../Images/022dec7c942de52d27e24142d76e35b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T0LVzxzw5Bb5Md57bfLo_A.png"/></div></div><p class="ix iy gj gh gi iz ja bd b be z dk translated">加载pickle文件并创建变量，变量的名称引用字典中的键。</p></figure></div><div class="ab cl lp lq hx lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="im in io ip iq"><h2 id="b454" class="lw lx je bd ly lz ma dn mb mc md dp me lc mf mg mh lg mi mj mk lk ml mm mn mo bi translated">创建一个类来保存不同的建模结果</h2><figure class="mz na nb nc gt iu"><div class="bz fp l di"><div class="nl iw l"/></div></figure><p id="fb8a" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">注意，在<code class="fe mu mv mw mx b">__init__</code>方法中，没有必需的参数。我这样做是为了让它可以更灵活地用于不同类型的事物，并且更容易创建对象实例。但是我创建了我希望对象拥有的属性。</p><p id="b2b9" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">为了利用这一点，我创建了以下内容:</p><p id="8786" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">1.两个<code class="fe mu mv mw mx b">Pandas.DataFrames</code>用于保存和绘制评估指标，一个字典<code class="fe mu mv mw mx b">Result</code>用于保存<code class="fe mu mv mw mx b">result</code>对象。</p><figure class="mz na nb nc gt iu"><div class="bz fp l di"><div class="nl iw l"/></div></figure><p id="7940" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">2.向<code class="fe mu mv mw mx b">result</code>对象的属性输入信息并显示模型结果的功能。请注意，我已经将<code class="fe mu mv mw mx b">X_train</code>、<code class="fe mu mv mw mx b">X_test</code>、<code class="fe mu mv mw mx b">y_train</code>、<code class="fe mu mv mw mx b">y_test</code>作为全局变量，但是您可以修改它们作为输入。注意，步骤1中创建的<code class="fe mu mv mw mx b">DataFrames</code>也保存在<code class="fe mu mv mw mx b">Results</code>字典中</p><figure class="mz na nb nc gt iu"><div class="bz fp l di"><div class="nl iw l"/></div></figure><p id="05f4" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">那么这是如何工作的呢？</p><p id="2f04" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">让我用一个简单的逻辑回归模型来演示一下。</p><figure class="mz na nb nc gt iu"><div class="bz fp l di"><div class="nl iw l"/></div></figure><figure class="mz na nb nc gt iu gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi nm"><img src="../Images/601ba90d437dbd42e41f53ad28534164.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ADyiF-xzYDMFS929tMhOAg.png"/></div></div></figure><figure class="mz na nb nc gt iu gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi nn"><img src="../Images/071241c7f57a1ccf9303d43bec728455.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zn-CFaizGklIOpwxzC71pQ.png"/></div></div></figure><p id="d2f8" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">现在，你可能会问，当我已经有空间保存评估分数时，我在哪里使用这些数据帧。一旦我收集了不同型号的分数，就很容易创造一个情节来比较他们的表现。</p><figure class="mz na nb nc gt iu gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi no"><img src="../Images/b296818d01687142491169c7a6215723.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N5fKBVCkG-d0173Mub3vfQ.png"/></div></div></figure><p id="0e79" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">最后，一旦我在字典中添加了我创建的所有内容，下次我需要它时，它就会被腌起来。</p><figure class="mz na nb nc gt iu gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi np"><img src="../Images/f8e4c5a67adaf74fd7778af8da54a744.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ebcqHyEXsYwpPEVFpuaHhA.png"/></div></div></figure><p id="e635" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">我希望你觉得这是有用的。此外，如果你有更好的方法来保存你的结果和数据，请在下面留下评论，让我知道。你可以在这里看到我在本文<a class="ae jb" href="https://github.com/YeonjooSmith/Blog_OOP_Pickle" rel="noopener ugc nofollow" target="_blank">中使用的示例代码。</a></p><p id="9c12" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">感谢您的阅读。</p></div></div>    
</body>
</html>