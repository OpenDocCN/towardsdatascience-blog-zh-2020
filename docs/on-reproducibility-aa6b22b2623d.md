# 论再现性

> 原文：<https://towardsdatascience.com/on-reproducibility-aa6b22b2623d?source=collection_archive---------39----------------------->

![](img/703116d623bfbde0c5d74d13763168ae.png)

可再生科学

再现性对科学很重要。直到多项研究得出相同的结论，科学结果才被认为是确定的。此外，如果新的工作能够建立在过去工作的基础上，它会更有效率。

我对科学有看法，因为我是物理化学家。现在我进入了数据科学领域，我将把这些观点带在身边。这就是为什么我决心让我的作品具有可复制性。

我在 Metis 数据科学训练营认识到这一点，当时我和我的团队使用四个不同的人开发的代码对相同的数据进行相同的分析，并在四台机器上得到完全相同的结果，一台是 Mac，三台运行某种风格的 Linux。

简而言之，该项目包括向一个假设的客户提出建议，告诉他何时何地在地铁站附近部署街头团队，以便尽可能多的人拿到关于该组织即将举行的晚会的小册子。我与埃里克·巴塞特、伊莱·t·德拉姆和乔安娜·纳赫曼一起工作。该项目的细节，包括自述文件，在这里。

为了组织这个项目，我从 [cookie cutter 数据科学模板](https://drivendata.github.io/cookiecutter-data-science/)中获得了灵感，并根据我们的需求做了一些简化。下面是目录结构的简要总结:

```
.
├── data
│   ├── interim
│   └── raw
├── notebooks
│   └── code
│      
├── references
└── reports
    └── figures
```

这里有几个关键特征。首先，数据从 jupyter 笔记本和 python 代码中分离出来。这种分离有助于保持事物的条理性。

其次，数据被分为原始数据和临时数据。顾名思义，文件夹`data/raw`用于存放从纽约市大都会运输管理局(MTA)下载的原始形式的数据。这确保了即使 MTA 网站关闭，分析也可以始终从相同的起点运行。`data/interim`也是顾名思义，是存放已经部分处理过的数据的文件夹。在分析过程中保存部分数据可以节省开发和重新运行数据操作过程的后续步骤的时间。

一个技术提示:我们需要采取一个额外的步骤来允许在`code`文件夹中的 python 脚本“看到”在`data`文件夹中的数据。下面是允许这样做的代码摘录:

```
from pathlib import Path
PROJECT_DIR = str(Path(__file__).resolve().parents[2])
```

现在，在加载数据时，只需将`/data/raw/filename.csv`添加到`PROJECT_DIR`字符串中。不管项目目录放在哪里，这都可以工作，并且在 Mac 和 Linux 机器上都可以工作。(大概在 Windows 上也是如此，尽管我们还没有测试过)。

我来自物理化学领域，习惯于测量微弱、嘈杂的信号，每次运行的数据都会略有不同，尽管数据背后的模式应该是一致的。相比之下，对于这个项目，我们有一个数据集，每次我们运行分析的“实验”都会产生相同的结果。当然，举例来说，如果我们分别分析不同连续年份的数据，我们会得到不同但可能相似的结果。无论如何，这种精确的再现性对我来说是全新的，让我感到相当惊讶。

与此相关，当我得知计算机的随机数生成器是确定性的和“伪随机的”时，我很惊讶。但那是另一篇博文了。

回到正题，这个组织方案有一个很大的好处。有一次，我和一个小组成员得到了与我们认为的相同过程不同的结果。幸运的是，我们知道在哪里寻找生成这些结果的代码，并很快发现了问题。(我对一个关键步骤的替代计算方法做了错误的假设)。在这之后，计算得出了同样的结果。

我希望有人会拿起这个过程，并尝试运行我们所做的分析，如果只是为了表明他们可以。在同一栋大楼工作的四个人进行相同的分析是一回事。如果一个我从未交谈过的陌生人也能做到这一点，那就更好了。如果你愿意尝试，我鼓励你在这里派生和克隆项目的回购[并告诉我进展如何。](https://github.com/ekand/mtacular)

感谢您的阅读，如果您对此有任何问题或意见，请告诉我！

*原载于 2020 年 1 月 13 日*[*https://ekand . github . io*](https://ekand.github.io/2020/01/13/on-reproducibility/)*。*