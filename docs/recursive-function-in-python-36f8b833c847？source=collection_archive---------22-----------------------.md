# Python ä¸­çš„é€’å½’å‡½æ•°

> åŽŸæ–‡ï¼š<https://towardsdatascience.com/recursive-function-in-python-36f8b833c847?source=collection_archive---------22----------------------->

## æ•°æ®ç§‘å­¦

## æ•°æ®ç§‘å­¦é¢†åŸŸçš„ä¾‹å­

![](img/a60721dda152143e42c88c9a0c093b81.png)

ç…§ç‰‡ç”±[Tine ivani](https://unsplash.com/@tine999?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„

# ç›®å½•

*   ä»€ä¹ˆæ˜¯é€’å½’ï¼Ÿ
*   ç¨‹åºè®¾è®¡ä¸­çš„é€’å½’
*   æ¥è‡ªæ•°æ®ç§‘å­¦ä¸–ç•Œçš„ä¾‹å­
*   ç»“è®º

# ä»€ä¹ˆæ˜¯é€’å½’ï¼Ÿ

é€’å½’æ˜¯ä¸€ä¸ªåœ¨æ“ä½œä¸­å¼•ç”¨è‡ªèº«çš„æ¦‚å¿µã€‚è¿™åœ¨æ‰€æœ‰è‰ºæœ¯é¢†åŸŸéƒ½å¯ä»¥æ‰¾åˆ°:æ–‡å­¦(mise en abyme)ã€ç»˜ç”»ã€æ‘„å½±â€¦â€¦
ä¸€ä¸ªç‰©ç†ä¸–ç•Œçš„ä¾‹å­æ˜¯å°†ä¸¤ä¸ªå¹³è¡Œçš„é•œå­é¢å¯¹é¢æ”¾ç½®ã€‚å®ƒä»¬ä¹‹é—´çš„ä»»ä½•å¯¹è±¡éƒ½å°†è¢«é€’å½’åå°„ã€‚
æˆ‘ä»¬æ¯å¤©åœ¨å®šä¹‰è¯çš„æ—¶å€™éƒ½ä¼šç”¨åˆ°é€’å½’ï¼äº‹å®žä¸Šï¼Œæˆ‘ä»¬ç”¨è¯æ¥å®šä¹‰ä»–äººï¼Œè€Œä»–äººä¹Ÿè¢«å…¶ä»–è¯æ‰€å®šä¹‰ï¼

# ç¨‹åºè®¾è®¡ä¸­çš„é€’å½’

åœ¨ç¼–ç¨‹ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¼•ç”¨è‡ªèº«çš„å‡½æ•°ã€‚ä¸¤ä¸ªå‡½æ•°å¯ä»¥äº’ç›¸è°ƒç”¨ï¼Œè¿™å«ç›¸äº’é€’å½’ã€‚è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°å­¦ç•Œçš„ä¾‹å­:é˜¶ä¹˜ã€‚è‡ªç„¶æ•°`n`çš„é˜¶ä¹˜æ˜¯å°äºŽç­‰äºŽ`n`çš„ä¸¥æ ¼æ­£æ•´æ•°çš„ä¹˜ç§¯ã€‚è®°ä¸º`n!`ï¼Œè®¡ç®—å¦‚ä¸‹:`n! = (n-1)!*n`ã€‚

åœ¨ä½ çš„å¤´è„‘ä¸­è¿è¡Œè¿™ä¸ªç®—æ³•ï¼Œä½ ä¼šå‘çŽ°å®ƒæ°¸è¿œä¸ä¼šåœæ­¢ï¼Œå®ƒä¼šæ— ä¼‘æ­¢åœ°è¿è¡Œã€‚çš„ç¡®ï¼Œå¦‚æžœæˆ‘ä»¬ç”¨`n = 3`æ‰§è¡Œå‡½æ•°ï¼ŒT5 ä¼šè¢«`n = 3`è°ƒç”¨ï¼Œç„¶åŽ`n = 2`ï¼Œç„¶åŽ`n = 1`ï¼Œç„¶åŽ`n = 0`ï¼Œç„¶åŽ`n = -1`ï¼Œç­‰ç­‰ã€‚

> ä¸€ä¸ªæ°¸ä¸åœæ­‡çš„ç®—æ³•æ˜¯ä¸ªé—®é¢˜ï¼Œå¯æƒ³è€ŒçŸ¥ï¼

å› æ­¤ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯æŒ‡å®š**ä¸€ä¸ªåœæ­¢æ¡ä»¶**ï¼Œè¿™å°†å§‹ç»ˆå–å†³äºŽæˆ‘ä»¬çš„é—®é¢˜ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­`3! = 3*2*1`ã€‚æ‚¨ä¼šæ³¨æ„åˆ°ä¸åŒçš„å› å­(3ã€2 å’Œ 1)ä»Žä¸ä¸ºè´Ÿï¼Œç”šè‡³ä¸ç­‰äºŽ 0ã€‚æ­£æ˜¯è¿™ä¸ªæ¡ä»¶ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªåœæ­¢æ¡ä»¶:â€œå› å­å†³ä¸èƒ½å°äºŽæˆ–ç­‰äºŽ 0â€ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæ¡ä»¶è¯­å¥:

> åœ¨å‡½æ•°å†…éƒ¨è°ƒç”¨å‡½æ•°è¢«ç§°ä¸ºé€’å½’è°ƒç”¨ã€‚
> 
> é€’å½’è°ƒç”¨å¿…é¡»åœ¨æ¡ä»¶è¯­å¥ä¸­ã€‚

**æ³¨:**æ¯ä¸€æ¬¡é€’å½’éƒ½å¯ä»¥è½¬åŒ–ä¸ºè¿­ä»£ã€‚

# æ¥è‡ªæ•°æ®ç§‘å­¦ä¸–ç•Œçš„ä¾‹å­

## 1.äºŒå‰æ ‘ç»“æž„çš„è¡¨ç¤º:

äºŒå‰æ ‘æ˜¯ç”±ç§°ä¸ºèŠ‚ç‚¹çš„å…ƒç´ å±‚æ¬¡ç»“æž„å½¢æˆçš„æ•°æ®ç»“æž„ã€‚èŠ‚ç‚¹ç”±ä¸¤ç±»ä¿¡æ¯è¡¨å¾:

*   èŠ‚ç‚¹ç‰¹å®šä¿¡æ¯
*   æè¿°ä¸Žå…¶åŽä»£èŠ‚ç‚¹çš„é“¾æŽ¥çš„ä¿¡æ¯

äºŒå‰æ ‘æ€»æ˜¯ç”±ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å®š:å®ƒçš„åˆå§‹èŠ‚ç‚¹å«åšæ ¹èŠ‚ç‚¹ã€‚
æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹:

*   å¦‚æžœè¯¥èŠ‚ç‚¹æ­£å¥½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œå®ƒä»¬è¢«ç§°ä¸º t *å·¦å­èŠ‚ç‚¹*å’Œ*å³å­èŠ‚ç‚¹*ã€‚
*   å¦‚æžœè¯¥èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œè¿™æ˜¯å·¦å­èŠ‚ç‚¹*æˆ–å³å­èŠ‚ç‚¹*ã€‚**
*   å¦‚æžœèŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œå®ƒè¢«ç§°ä¸º*å¶èŠ‚ç‚¹*ã€‚

æ ‘æžæ˜¯ä»Žæ ‘æ ¹åˆ°æ ‘å¶çš„è·¯å¾„ã€‚

å› æ­¤ï¼ŒäºŒå‰æ ‘æ˜¯ä¸€ä¸ª**é€’å½’ç»“æž„**ï¼Œå› ä¸ºå·¦å­æ ‘å’Œå³å­æ ‘æœ¬èº«å°±æ˜¯èŠ‚ç‚¹(ä¾æ¬¡ä»£è¡¨æ ‘)ã€‚

![](img/11df6de79995d615bd24265d284c243e.png)

äºŒå‰æ ‘å›¾ã€‚æºä½œè€…

è¿™ä¸ªå›¾è¡¨ç¤ºä¸€ä¸ªäºŒå‰æ ‘ï¼Œå®ƒçš„èŠ‚ç‚¹ A æ˜¯æ ¹ï¼ŒB æ˜¯å®ƒçš„å·¦å­©å­ï¼ŒC æ˜¯å®ƒçš„å³å­©å­ã€‚èŠ‚ç‚¹ C åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ F(å³å­èŠ‚ç‚¹)ã€‚dã€E å’Œ F æ˜¯å¶èŠ‚ç‚¹ã€‚
ã€Aï¼ŒBï¼ŒDã€‘ï¼Œã€Aï¼ŒBï¼ŒEã€‘ï¼Œã€Aï¼ŒCï¼ŒFã€‘æ˜¯æ ‘çš„åˆ†æ”¯ã€‚

è®©æˆ‘ä»¬åˆ›å»ºç±»èŠ‚ç‚¹:

**å±žæ€§:**

*   ***æ ‡ç­¾*** :è¡¨ç¤ºè§‚å¯Ÿçš„å­—ç¬¦ä¸²ã€‚
*   ***å·¦*** :è¡¨ç¤ºå·¦å­çš„ç±»çš„å®žä¾‹ã€‚
*   ***right*** :ä»£è¡¨å³å­©å­çš„ç±»çš„å®žä¾‹ã€‚

**æ–¹æ³•:**

*   ***__init__:*** æž„é€ å‡½æ•°ã€‚
*   ***__str__:*** æ ¹æ®ä»¥ä¸‹ç¤ºä¾‹è¿”å›žè¡¨ç¤ºæ ‘çš„å­—ç¬¦ä¸²
*   ***çº¿æ€§åŒ–:*** é€’å½’æ–¹æ³•è¿”å›žä¸€ä¸ªæ ‘å½¢åˆ†æ”¯åˆ—è¡¨ã€‚

```
NodeFigure = Nd = Node('A',Node('B', Node('D'), Node('E')), Node('C',None,Node('F')))**>>> print(NodeFigure)**
Node(A,Node(B,Node(D),Node(E)),Node(C,None,Node(F)))
```

## 2.å†³ç­–æ¨¡åž‹çš„è¡¨ç¤º

æ•°æ®é›†è¡¨çš„åˆ‡ç‰‡

å†³ç­–è§„åˆ™å¯ä»¥ç”¨äºŒå‰æ ‘æ¥è¡¨ç¤ºï¼Œç§°ä¸º**äºŒå‰å†³ç­–æ ‘**ã€‚ä¾‹å¦‚ï¼Œå¯¹äºŽä¸‹è¡¨ä¸­çš„æ•°æ®é›†ï¼Œå¯ä»¥æž„å»ºä¸‹å›¾æ‰€ç¤ºçš„äºŒå…ƒå†³ç­–æ ‘ã€‚

![](img/19b9875ef979592f2c50cf8c28c77707.png)

åœ¨è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»º DecisionNode ç±»ï¼Œå®ƒä»Ž Node ç±»ç»§æ‰¿å¹¶è¡¨ç¤ºä¸€ä¸ªäºŒå‰å†³ç­–æ ‘ã€‚

**å±žæ€§:**

*   ***æ ‡ç­¾*** :è¡¨ç¤ºè§‚å¯Ÿçš„å­—ç¬¦ä¸²ï¼Œç»§æ‰¿è‡ª Node ç±»ã€‚
*   ***distr*** :ä»£è¡¨æ¯ä¸ªå†³ç­–æ¦‚çŽ‡çš„å­—å…¸:
    â€”â€”æ¯ä¸ª**é”®**ä»£è¡¨ä¸€ä¸ªå¯èƒ½çš„å†³ç­– 0 æˆ– 1ã€‚
    -æ¯ä¸ª**å€¼**éƒ½æ˜¯ä¸€ä¸ªä»£è¡¨å†³ç­–æ¦‚çŽ‡çš„å®žæ•°ã€‚
*   ***threshold:*** ä¸€ä¸ªå®žæ•°ä»£è¡¨æµ‹è¯•é˜ˆå€¼ï¼Œç”¨æ¥æŽ¨å¯¼è¦è·Ÿéšçš„åˆ†æ”¯ã€‚
*   ***left*** :è¡¨ç¤ºå·¦ä¾§å­èŠ‚ç‚¹çš„ç±»çš„å®žä¾‹ï¼Œç»§æ‰¿è‡ª Node ç±»ã€‚
*   ***right*** :ä»£è¡¨å³å­çš„ç±»çš„å®žä¾‹ï¼Œç»§æ‰¿è‡ª Node ç±»ã€‚

**æ–¹æ³•:**

*   ***__init__:*** æž„é€ å‡½æ•°(ä»ŽèŠ‚ç‚¹ç»§æ‰¿)
*   ***__str__:*** æ ¹æ®ä»¥ä¸‹ç¤ºä¾‹è¿”å›žè¡¨ç¤ºæ ‘çš„å­—ç¬¦ä¸²

```
#Create the instance
left = DecisionNode('Decision', {0:0,1:1}, 0.5)
right = DecisionNode('Age',{0:0.5, 1:0.5},62,
                     DecisionNode('Decision', {0:0.2, 1:0.8},0.5),
                     DecisionNode('Tachycardia',{0:0.4,1:0.6},0.5,
                         DecisionNode('Decision',{0:0.1, 1:0.9},0.5),
                         DecisionNode('Decision',{0:0.9, 1:0.1},0.5)) )
DecisionNd = DecisionNode('Blood Pressure', {0:0.3,1:0.7},91, left, right)**>>> print(DecisionNd)**IF Blood Pressure >= 91  THEN Decision = {0: 0, 1: 1}
IF Blood Pressure < 91 AND Age >= 62  THEN Decision = {0: 0.2, 1: 0.8}
IF Blood Pressure < 91 AND Age < 62 AND Tachycardia >= 0.5  THEN Decision = {0: 0.1, 1: 0.9}
IF Blood Pressure < 91 AND Age < 62 AND Tachycardia < 0.5  THEN Decision = {0: 0.9, 1: 0.1}
```

# ç®€è€Œè¨€ä¹‹:å¦‚ä½•ç¼–ç¨‹ä¸€ä¸ªé€’å½’å‡½æ•°ï¼Ÿ

1.  å°†é—®é¢˜åˆ†è§£æˆä¸€ä¸ªæˆ–å¤šä¸ªåŒç±»åž‹çš„å­é—®é¢˜ã€‚å­é—®é¢˜é€šè¿‡é€’å½’è°ƒç”¨è§£å†³ã€‚
2.  å­é—®é¢˜åº”è¯¥æ¯”åŽŸé—®é¢˜å°ã€‚
3.  æœ€åŽï¼Œåˆ†è§£å¿…é¡»äº§ç”Ÿä¸€ä¸ªä¸åˆ†è§£æˆå­é—®é¢˜çš„åŸºæœ¬é—®é¢˜(**è¿™æ˜¯åœæ­¢æ¡ä»¶**)ã€‚

## èµ„æº:

*   [http://www.ipeis.rnu.tn/concours_nationaux/concours.htm](http://www.ipeis.rnu.tn/concours_nationaux/concours.htm)
*   [https://www.geeksforgeeks.org/recursive-functions/](https://www.geeksforgeeks.org/recursive-functions/)

**æ„Ÿè°¢é˜…è¯»ï¼ðŸ˜„**

![](img/73fcb42edeb341185b03869b3b377154.png)

æŸ¥çœ‹æˆ‘çš„å…¶ä»–æ–‡ç« ï¼Œå¹¶åœ¨[åª’ä½“](https://medium.com/@ahmedazizkhelifi)ä¸Šå…³æ³¨æˆ‘

å“ˆåˆ©è²Â·è‰¾å“ˆè¿ˆå¾·Â·é˜¿é½å…¹