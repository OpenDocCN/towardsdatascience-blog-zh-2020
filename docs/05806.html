<html>
<head>
<title>Sorting Objects in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的对象排序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/sorting-objects-in-python-d43db6edaaea?source=collection_archive---------53-----------------------#2020-05-13">https://towardsdatascience.com/sorting-objects-in-python-d43db6edaaea?source=collection_archive---------53-----------------------#2020-05-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f714" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">对同一类别的对象进行排序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4572a0713a31e1119f372d87e12fd649.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A9EQ7Eewc4xdmHfTGLu-yg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.pexels.com/photo/leaves-hang-on-rope-1389460/" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="9189" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在计算机科学中，类是定义具有相关属性和方法的对象的蓝图。计算机科学中的一个常见任务是基于属性对数据结构进行排序。在本帖中，我们将讨论如何基于属性值对同一类的对象进行排序。</p><p id="23ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始吧！</p><p id="989b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们有一个名为“AppleMusicUser”的类，它有一个初始化apple用户ID的“__init__”方法:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="4e86" class="ma mb it lw b gy mc md l me mf">class AppleMusicUser:<br/>    def __init__(self, apple_id):<br/>        self.apple_id = apple_id</span></pre><p id="4c35" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们用电子邮件“emusk@tesla.com”创建一个“AppleMusicUser”类的实例:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="860c" class="ma mb it lw b gy mc md l me mf">user1 = AppleMusicUser("emusk@tesla.com")</span></pre><p id="944b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们打印这个对象，我们会得到:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="cb33" class="ma mb it lw b gy mc md l me mf">print(user1)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mg"><img src="../Images/6c7ee6144a4ecb91981d558592a608f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*fsArcY-eFaBGE0PNkQ7hDQ.png"/></div></div></figure><p id="e128" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这表示“AppleMusicUser”对象位于指定的内存地址。我们可以通过添加一个“__repr__”方法来更改该对象的表示方式:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="aade" class="ma mb it lw b gy mc md l me mf">class AppleMusicUser:<br/>    def __init__(self, apple_id):<br/>        self.apple_id = apple_id<br/>    def __repr__(self):<br/>        return 'AppleID({})'.format(self.apple_id)</span></pre><p id="2936" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在如果我们打印:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="0e1f" class="ma mb it lw b gy mc md l me mf">print(user1)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/2a49d7afa2b89b587efead11c496aad2.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*efUdekL-l3iHc9YmKEyFgw.png"/></div></figure><p id="7214" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，假设我们有一个“AppleMusicUser”对象列表:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d678" class="ma mb it lw b gy mc md l me mf">users = [AppleMusicUser("mzuckerberg@facebook.com"), AppleMusicUser("jdorsey@twitter.com"), AppleMusicUser("emusk@tesla.com")]</span></pre><p id="5001" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们打印对象列表:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="83fe" class="ma mb it lw b gy mc md l me mf">print(users)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/a39372d141ff7f2c20204dd285cd58cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qUK0Rx6ckSxLLueN8i1JMA.png"/></div></div></figure><p id="9625" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用“sorted()”方法和lambda函数根据apple ID对对象列表进行排序:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="78b2" class="ma mb it lw b gy mc md l me mf">print(sorted(users, key = lambda u: u.apple_id))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/187cf388dd572a3fd8d2df9930d9d9bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c6QCng4Dn1-HyuJC0FqR8Q.png"/></div></div></figure><p id="386d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，我们可以使用运算符模块中的“attrgetter()”方法来定义排序方法中的键:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="e771" class="ma mb it lw b gy mc md l me mf">from operator import attrgetter<br/>print(sorted(users, key = attrgetter('appled_id')))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/187cf388dd572a3fd8d2df9930d9d9bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c6QCng4Dn1-HyuJC0FqR8Q.png"/></div></div></figure><p id="5e53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我个人更喜欢使用“attrgetter()”来定义排序键，但是使用lambda函数也很好。使用“attrgetter()”的优势在于速度和提取多个属性的能力。</p><p id="9bf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于我们的最后一个示例，假设我们有一个附加属性“plays”，对应于播放的歌曲数量:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="8196" class="ma mb it lw b gy mc md l me mf">class AppleMusicUser:<br/>    def __init__(self, apple_id, plays):<br/>        self.apple_id = apple_id<br/>        self.plays = plays <br/>    def __repr__(self):<br/>        return 'AppleID({}, plays:{})'.format(self.apple_id, self.plays)</span></pre><p id="ad79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们重新定义我们的对象列表:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="896e" class="ma mb it lw b gy mc md l me mf">users = [AppleMusicUser("mzuckerberg@facebook.com", 100), AppleMusicUser("jdorsey@twitter.com", 20), <br/>         AppleMusicUser("emusk@tesla.com", 50)]<br/>print(users)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/0719d4510d4804758c15904cc4b14857.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SOzeBSinofQtvSCcOpczkw.png"/></div></div></figure><p id="f346" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以根据播放次数对对象进行分类:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d8bc" class="ma mb it lw b gy mc md l me mf">from operator import attrgetter<br/>print(sorted(users, key = attrgetter('plays')))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ml"><img src="../Images/1c6d9025d2a17cd2e70e1b64f7b9c2e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f2Vq2jt7PDkCnyjSRvCIbQ.png"/></div></div></figure><p id="6ec1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我就讲到这里，但是您可以自己随意摆弄代码。</p><h1 id="6c0e" class="mm mb it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">结论</h1><p id="ada2" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">总之，在这篇文章中，我们讨论了如何在python中对对象进行排序。首先，我们展示了如何使用sorted方法和lambda函数根据属性“apple_id”对对应于“AppleMusicUser”类实例的对象进行排序。接下来，我们展示了如何通过在操作符模块中使用“attrgetter”方法来执行相同的排序任务。最后，我们展示了如何根据与用户播放的歌曲数量相对应的附加属性进行排序。我希望你觉得这篇文章有用/有趣。这篇文章的代码可以在<a class="ae ky" href="https://github.com/spierre91/medium_code/blob/master/classes_in_python/sorting_objects.py" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。感谢您的阅读！</p></div></div>    
</body>
</html>