<html>
<head>
<title>Running Jupyter Notebook on WSL while Using Browser on Windows</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 WSL 上运行 Jupyter 笔记本，同时在 Windows 上使用浏览器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/running-jupyter-notebook-on-wsl-while-using-firefox-on-windows-5a47ebfae4c1?source=collection_archive---------6-----------------------#2020-04-25">https://towardsdatascience.com/running-jupyter-notebook-on-wsl-while-using-firefox-on-windows-5a47ebfae4c1?source=collection_archive---------6-----------------------#2020-04-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a3a3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">体验 Ubuntu 或 Mac 的指南</h2></div><p id="bdb8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您像我一样是一名数据科学家，最近刚刚迁移(回到)Windows，您可能会发现启动并运行系统很困难，尤其是当您想要使用 bash terminal 的强大功能时。你会立刻意识到你为苹果电脑支付的价格可能真的是值得的。你得到了两个世界的好处:基于 GUI 的应用程序可以正常工作，而基于 CLI 的应用程序可以加快速度。</p><p id="266a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然使用 Windows subsystem for Linux (WSL)可以帮助我让好的 ol' bash 终端工作，但它不能在运行 Jupyter Notebook 时提供相同的现成体验。我也错过了好的终端，比如 Mac 上的<a class="ae le" href="https://www.iterm2.com/" rel="noopener ugc nofollow" target="_blank"> iTerm2 </a>或者 Ubuntu 上的<a class="ae le" href="https://gnometerminator.blogspot.com/" rel="noopener ugc nofollow" target="_blank"> Terminator </a>。你可以找到人们使用类似<a class="ae le" href="https://hyper.is/" rel="noopener ugc nofollow" target="_blank"> Hyper </a>的变通方法，甚至可以回到旧的<a class="ae le" href="https://github.com/tmux/tmux/wiki" rel="noopener ugc nofollow" target="_blank"> tmux </a>，但我发现前者很迟缓，而后者没有 iTerm2 或终结者那么容易。在本帖中，我将向您介绍<a class="ae le" href="https://github.com/microsoft/terminal" rel="noopener ugc nofollow" target="_blank"> Windows 终端</a>。</p><p id="208d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它很简单，相当快，类似 iTerm2。<em class="lf">很好。</em></p><h1 id="2c97" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">设置 Windows 终端</h1><p id="0214" class="pw-post-body-paragraph ki kj it kk b kl ly ju kn ko lz jx kq kr ma kt ku kv mb kx ky kz mc lb lc ld im bi translated">您可以从 Microsoft Store 安装它。您可能需要首先更新您的 Windows。别担心，等待是值得的。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi md"><img src="../Images/ea9f142f1f800dce80752ae78675f090.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gWCovsiYQC_zyUUG_yYi0Q.png"/></div></div><p class="mp mq gj gh gi mr ms bd b be z dk translated">最低要求是 Windows 10 build 1903 | Image by author</p></figure><p id="0129" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">完成了吗？</p><p id="c258" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="lf">免责声明:我假设你已经用你最喜欢的发行版安装了 WSL。如果你还没有，那就按照</em> <a class="ae le" href="https://docs.microsoft.com/en-us/windows/wsl/install-win10" rel="noopener ugc nofollow" target="_blank"> <em class="lf">这个指南</em> </a> <em class="lf">。这种情况下，我用的是 Ubuntu 18.04。</em></p><p id="66b6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，打开您的 Windows 终端。默认情况下，您应该会看到 Windows PowerShell。使用 Windows 终端，你可以打开多个标签，从 Windows PowerShell、命令提示符、你选择的 WSL 甚至 Azure Cloud Shell 切换。如果你想让 bash 成为你的默认设置，点击 Ctrl+，或者点击向下的 v 形图标，然后点击“设置”。</p><p id="5b19" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">找到“defaultProfile”并将值更改为“profiles”&gt;“defaults”&gt;“list”中的“guid”。</p><pre class="me mf mg mh gt mt mu mv mw aw mx bi"><span id="9006" class="my lh it mu b gy mz na l nb nc">{<br/>    "defaultProfile": <strong class="mu iu">"{c6eaf9f4-32a7-5fdc-b5cf-066e8a4b1e40}"</strong>,<br/>    ...<br/>    "profiles":<br/>    {<br/>        "defaults":<br/>        {<br/>            ...<br/>        },<br/>        "list":<br/>        [<br/>            {<br/>                "guid": "<strong class="mu iu">{c6eaf9f4-32a7-5fdc-b5cf-066e8a4b1e40}</strong>",<br/>                "hidden": false,<br/>                "name": "Ubuntu-18.04",<br/>                "source": "Windows.Terminal.Wsl",<br/>                <strong class="mu iu">"startingDirectory": "//wsl$/Ubuntu-18.04/home/&lt;username&gt;"</strong><br/>            },<br/>            ...<br/>        ]<br/>    },<br/>    ...<br/>}</span></pre><p id="756f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，我还向 WSL 添加了<strong class="kk iu">“starting directory”</strong>。</p><p id="a6ac" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用默认设置，您可以通过按 Alt+Shift+D 打开一个新的窗格。现在你不再需要 Hyper 了，是吗？</p><h1 id="ecbe" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">配置 Jupyter 笔记本</h1><p id="7df8" class="pw-post-body-paragraph ki kj it kk b kl ly ju kn ko lz jx kq kr ma kt ku kv mb kx ky kz mc lb lc ld im bi translated">我假设你已经在这里安装了 Python 和 Jupyter Notebook。如果没有，我推荐使用<a class="ae le" href="https://www.anaconda.com/products/individual" rel="noopener ugc nofollow" target="_blank"> Anaconda </a>来安装它们。提醒您，这将安装在您的 WSL 中。</p><p id="f88d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，使用以下命令生成笔记本配置:</p><pre class="me mf mg mh gt mt mu mv mw aw mx bi"><span id="1fd2" class="my lh it mu b gy mz na l nb nc">jupyter notebook --generate-config</span></pre><p id="ea85" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后您将在中看到一个 Python 文件。朱庇特文件夹。使用您最喜欢的文本编辑器编辑它们。</p><pre class="me mf mg mh gt mt mu mv mw aw mx bi"><span id="cf70" class="my lh it mu b gy mz na l nb nc">code ~/.jupyter/jupyter_notebook_config.py</span></pre><p id="2fd7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过更改该行来禁止通过 redicect 文件启动浏览器(默认值为<strong class="kk iu"> True </strong>):</p><pre class="me mf mg mh gt mt mu mv mw aw mx bi"><span id="94fe" class="my lh it mu b gy mz na l nb nc">c.NotebookApp.use_redirect_file = False</span></pre><p id="009f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">WSL 的好处是可以直接从 bash 打开 Windows 程序。因此，要让您的 Jupyter 笔记本在浏览器中打开一个选项卡，您可以在 bash 中将它们添加为$BROWSER。我这里用的是火狐，但是你可以换成你自己喜欢的浏览器。也就是说，可以编辑~/。bashrc，并添加以下行:</p><pre class="me mf mg mh gt mt mu mv mw aw mx bi"><span id="68f3" class="my lh it mu b gy mz na l nb nc">export BROWSER='/mnt/c/Program Files/Mozilla Firefox/firefox.exe'</span></pre><p id="113e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="lf">瞧吧！</em></p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi nd"><img src="../Images/437dc39259fc8889079494d306b330db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Qrh93wux7jAxo4qRrLdxg.png"/></div></div><p class="mp mq gj gh gi mr ms bd b be z dk translated">从 WSL 运行 Jupyter 将会在 Windows | Image by author 上调用您的浏览器</p></figure><p id="a95b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">/mnt/c 意味着您可以直接从 bash 访问 Windows 上的文件！很整洁不是吗？因此，在这种情况下，我们在 Windows 上使用 Firefox。没有必要在 WSL 上安装 Firefox 甚至 X11。现在，你可以像在 Ubuntu 或 Mac 上一样启动你的笔记本了。</p><p id="91ee" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="lf">希望你觉得这有用！</em></p></div></div>    
</body>
</html>