<html>
<head>
<title>Building bar charts using Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Matplotlib 构建条形图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-bar-charts-using-matplotlib-c7cf6db3e728?source=collection_archive---------7-----------------------#2020-01-02">https://towardsdatascience.com/building-bar-charts-using-matplotlib-c7cf6db3e728?source=collection_archive---------7-----------------------#2020-01-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div class="gh gi ir"><img src="../Images/66c833e42bed019538e643c0bfc7fa00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*VTAh5kgjn122Bm5okWhwHw.png"/></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">图片鸣谢:<a class="ae jc" href="https://www.canva.com/design/DADvjWtEzNo/SNHmmyKo16hxiXclDcExXQ/edit?category=tACFakiSKJ8" rel="noopener ugc nofollow" target="_blank">https://www . can va . com/design/DADvjWtEzNo/snhmmyko 16 hhxicldcexxq/edit？category=tACFakiSKJ8 </a></p></figure><div class=""/><div class=""><h2 id="987a" class="pw-subtitle-paragraph kc je jf bd b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dk translated">如何使用条形图展示数据的指南</h2></div><p id="732d" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi lq translated"><span class="l lr ls lt bm lu lv lw lx ly di"/><strong class="kw jg"/>条形图是一种数据可视化技术，可用于表示数据集中的数值，以显示不同数据点之间的差异。它使用一根棒作为量值的度量。条形越大，数字越高。例如，如果一个人在比较财富，条形图中较大的条形比较小的条形意味着更多的钱。</p><h2 id="8c80" class="lz ma jf bd mb mc md dn me mf mg dp mh ld mi mj mk lh ml mm mn ll mo mp mq mr bi translated">使用 Jupyter 笔记本构建条形图的分步指南</h2><h2 id="5031" class="lz ma jf bd mb mc md dn me mf mg dp mh ld mi mj mk lh ml mm mn ll mo mp mq mr bi translated"><strong class="ak">加载数据集</strong></h2><p id="dd4d" class="pw-post-body-paragraph ku kv jf kw b kx ms kg kz la mt kj lc ld mu lf lg lh mv lj lk ll mw ln lo lp im bi translated">英超联赛 2019/20 赛季中期最高进球得分数据集是使用 IBM Watson Studio 上的 Jupyter Notebook 加载的。</p><figure class="my mz na nb gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi mx"><img src="../Images/37ceb131be62de2ad4babec1cfb98d53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*YB1KMt0wvaDHLGOuvFtC9g.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">英超联赛 2019/20 赛季中期前五名射手</p></figure><h2 id="8480" class="lz ma jf bd mb mc md dn me mf mg dp mh ld mi mj mk lh ml mm mn ll mo mp mq mr bi translated"><strong class="ak">导入数据可视化包</strong></h2><p id="31a8" class="pw-post-body-paragraph ku kv jf kw b kx ms kg kz la mt kj lc ld mu lf lg lh mv lj lk ll mw ln lo lp im bi translated">为了运行将生成条形图的代码，导入了一个名为 matplotlib 的数据可视化包。下面是一组用于导入条形图的代码。python 编程语言中使用 Matplotlib 作为绘图库。</p><pre class="my mz na nb gt ng nh ni nj aw nk bi"><span id="ced1" class="lz ma jf nh b gy nl nm l nn no"><em class="np">## Import data visualization packages</em><br/><strong class="nh jg">import</strong> <strong class="nh jg">matplotlib.pyplot</strong> <strong class="nh jg">as</strong> <strong class="nh jg">plt</strong><br/>%matplotlib inline</span></pre><h2 id="d323" class="lz ma jf bd mb mc md dn me mf mg dp mh ld mi mj mk lh ml mm mn ll mo mp mq mr bi translated"><strong class="ak">创建条形图</strong></h2><p id="9696" class="pw-post-body-paragraph ku kv jf kw b kx ms kg kz la mt kj lc ld mu lf lg lh mv lj lk ll mw ln lo lp im bi translated">条形图是在安装包后通过运行下面的代码集构建的。</p><pre class="my mz na nb gt ng nh ni nj aw nk bi"><span id="ad29" class="lz ma jf nh b gy nl nm l nn no">plt.bar("Player", "Stat", data = df_goal, color = "blue")<br/>plt.xlabel("Players")<br/>plt.ylabel("Goal Scored")<br/>plt.title("Highest goal scorers in the Premier league 2019-20 by mid-season")<br/>plt.show()</span></pre><p id="aac3" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">plt.bar("Player "，" Stat "，data = df_goal，color = "blue ")用于表示希望绘制一个条形图，使用 Player 列作为 x 轴，Stat 列作为 y 轴，使用 df_goal 数据集，并且条的颜色为蓝色。plt.xlabel(“球员”)和 plt.ylabel(“进球”)分别用于标注 x 轴和 y 轴。plt.title(“英超联赛 2019-20 赛季中期最高进球者”)用于为图表制作标题。plt.show()用于使用前面的命令生成图形。</p><p id="703b" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">上面运行的代码的结果可以在下面看到。</p><figure class="my mz na nb gt iv gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/399ac26be784c50370037adc42bfcdbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*H8p6fuXOmblUjhw7W8lUQw.png"/></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">显示英超 2019/20 赛季中期进球最多球员的条形图。</p></figure><p id="e185" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在上面的条形图中可以看到，x 轴刻度无法正常显示。因此，x 轴记号在旋转后会变得可见。下面是一组修改条形图的代码。</p><pre class="my mz na nb gt ng nh ni nj aw nk bi"><span id="bfe7" class="lz ma jf nh b gy nl nm l nn no">plt.bar("Player", "Stat", data = df_goal, color = "blue")<br/>plt.xlabel("Players")<br/>plt.xticks(rotation = 90)<br/>plt.ylabel("Goal Scored")<br/>plt.title("Highest goal scorers in the Premier league 2019-20 by mid-season")<br/>plt.show()</span></pre><p id="2515" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通过添加 plt.xticks(旋转= 90°)，条形图可以转换为:</p><figure class="my mz na nb gt iv gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/5f011a7ee91c42f34d2e23f845619e75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*aqlN7VqM458K-3wEEJe2wg.png"/></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">一个改进的条形图显示了英超 2019/20 赛季中期的最高进球得分者。</p></figure><p id="ecf8" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是一个更清晰的条形图，x 轴刻度现在垂直且可见。</p><h2 id="be50" class="lz ma jf bd mb mc md dn me mf mg dp mh ld mi mj mk lh ml mm mn ll mo mp mq mr bi translated">创建水平条形图</h2><p id="4fcc" class="pw-post-body-paragraph ku kv jf kw b kx ms kg kz la mt kj lc ld mu lf lg lh mv lj lk ll mw ln lo lp im bi translated">也可以通过将前一组代码中的 plt.bar 更改为 plt.barh 来构建水平条形图。</p><pre class="my mz na nb gt ng nh ni nj aw nk bi"><span id="b796" class="lz ma jf nh b gy nl nm l nn no">plt.barh("Player", "Stat", data = df_goal, color = "red") plt.xlabel("Players") <br/>plt.ylabel("Goal Scored") <br/>plt.title("Highest goal scorers in the Premier league 2019-20 by mid-season")<br/>plt.show()</span></pre><figure class="my mz na nb gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi ns"><img src="../Images/c83d364129e90828c89c42f90abdf425.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mONBbdEzJXRbKtoR6wS6JA.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">显示英超 2019/20 赛季中期最高进球得分者的水平条形图。</p></figure><p id="9157" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">条形图和水平条形图都可以修改，看起来更漂亮。</p><h2 id="db5c" class="lz ma jf bd mb mc md dn me mf mg dp mh ld mi mj mk lh ml mm mn ll mo mp mq mr bi translated">美化条形图</h2><p id="7e88" class="pw-post-body-paragraph ku kv jf kw b kx ms kg kz la mt kj lc ld mu lf lg lh mv lj lk ll mw ln lo lp im bi translated">可以通过运行下面的代码集来修改条形图。</p><pre class="my mz na nb gt ng nh ni nj aw nk bi"><span id="8330" class="lz ma jf nh b gy nl nm l nn no">df_goal2 = df_goal[['Player', 'Stat']].sort_values(by = 'Stat', ascending = <strong class="nh jg">True</strong>)<br/>ind = df_goal2.set_index("Player", inplace = <strong class="nh jg">True</strong>)<br/><em class="np">## A modified bar graph</em><br/>bar = df_goal2.plot(kind='bar',figsize=(30, 16), color = "blue", legend = <strong class="nh jg">None</strong>)<br/>bar<br/>plt.yticks(fontsize = 24)<br/>plt.xticks(ind,fontsize = 18)<br/>plt.xlabel("Players", fontsize = 20)<br/>plt.ylabel("Goal scored", fontsize = 20)<br/>plt.title("Higehst goal scorers in the premier league mid-season of 2019/20", fontsize=32)<br/>bar.spines['top'].set_visible(<strong class="nh jg">False</strong>)<br/>bar.spines['right'].set_visible(<strong class="nh jg">False</strong>)<br/>bar.spines['bottom'].set_linewidth(0.5)<br/>bar.spines['left'].set_visible(<strong class="nh jg">True</strong>)<br/>plt.show()</span></pre><p id="4d1f" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">与构建条形图的常规代码相比，增加了一些内容。从上面可以看出，使用新形成的数据集 df_goal2 创建了一个名为 bar 的对象，用代码 bar = df_goal2.plot(kind='bar '，figsize=(30，16)，color = "blue "，legend = <strong class="kw jg"> None </strong>)设计了一个条形图。ind 用于存储将由 x 轴表示的索引。</p><p id="b937" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">顶部和右侧的书脊被移除，但底部和左侧的书脊仍然可见，使用代码:bar.spines['top']。set_visible( <strong class="kw jg"> False </strong>)，bar.spines['右']。set_visible( <strong class="kw jg"> False </strong>)，bar.spines['bottom']。set_linewidth(0.5)和 bar.spines['left']。set_visible( <strong class="kw jg"> True </strong>)。</p><p id="50b7" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这些代码的结果可以在下面看到。</p><figure class="my mz na nb gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi nt"><img src="../Images/8677964bafe964b454df5f07555e0e6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RB3I4bz7zzlj_u7FzcpqJg.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">一个漂亮的条形图，显示了英超 2019/20 赛季中期的最高进球得分者。</p></figure><h2 id="8c5d" class="lz ma jf bd mb mc md dn me mf mg dp mh ld mi mj mk lh ml mm mn ll mo mp mq mr bi translated">美化水平条形图</h2><p id="de95" class="pw-post-body-paragraph ku kv jf kw b kx ms kg kz la mt kj lc ld mu lf lg lh mv lj lk ll mw ln lo lp im bi translated">美化条形图的相同过程适用于水平条形图。下面是构建美化版的一组代码。</p><pre class="my mz na nb gt ng nh ni nj aw nk bi"><span id="1dda" class="lz ma jf nh b gy nl nm l nn no"><em class="np">## A modified horizontal bar graph</em><br/>barh = df_goal2.plot(kind='barh',figsize=(30, 16), color = "red", legend = <strong class="nh jg">None</strong>)<br/>barh<br/>plt.yticks(fontsize = 24)<br/>plt.xticks(ind,fontsize = 18)<br/>plt.xlabel("Goal scored", fontsize = 22)<br/>plt.ylabel("Players", fontsize = 22)<br/>plt.title("Higehst goal scorers in the premier league mid-season of 2019/20", fontsize=32)<br/>barh.spines['top'].set_visible(<strong class="nh jg">False</strong>)<br/>barh.spines['right'].set_visible(<strong class="nh jg">False</strong>)<br/>barh.spines['bottom'].set_linewidth(0.5)<br/>barh.spines['left'].set_visible(<strong class="nh jg">True</strong>)<br/>plt.show()</span></pre><p id="1092" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">运行代码后，结果显示为下面的水平条形图:</p><figure class="my mz na nb gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi nu"><img src="../Images/80338739e355c9728a170ee20b3fcc58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4YiHITHvWx-IVy9yBHSdgw.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">一个漂亮的水平条形图，显示了英超 2019/20 赛季中期的最高进球得分者。</p></figure><p id="9d25" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对美化的条形图中的脊线进行的相同观察也可以对该图中的脊线进行。</p><p id="56f6" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">条形图在多种数字应用中非常有用，例如显示人们的健康改善如何随着时间的推移而变化，描绘财富如何增加以及其他有趣的概念。</p><p id="aa62" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw jg">在</strong>  <strong class="kw jg">这里可以找到用于这个项目的完整版本的代码</strong> <a class="ae jc" href="https://github.com/MUbarak123-56/DataBEL/blob/master/BAR%20CHART%20TUTORIAL.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="kw jg">。</strong></a></p></div></div>    
</body>
</html>