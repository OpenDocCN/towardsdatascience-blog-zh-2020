<html>
<head>
<title>A Real-World Time Series Forecasting: Daily Average Exchange Rates</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现实世界的时间序列预测:每日平均汇率</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-real-world-time-series-data-analysis-and-forecasting-121f4552a87?source=collection_archive---------9-----------------------#2020-08-08">https://towardsdatascience.com/a-real-world-time-series-data-analysis-and-forecasting-121f4552a87?source=collection_archive---------9-----------------------#2020-08-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fd21" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何应用 ARIMA 模型预测时间序列数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/297b5ef044371814d62ea5af17cd8e84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PoGgJwj454cCRr4x"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae ky" href="https://unsplash.com/@neonbrand?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> NeONBRAND </a>拍摄的照片</p></figure><p id="515c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">时间序列数据的<strong class="lb iu">平稳性</strong>意味着序列的均值、方差和自相关等统计属性不会随时间而改变。序列平稳性的概念对于应用统计预测模型非常重要，因为:</p><ol class=""><li id="5ac5" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">像 ARIMA 这样的大多数统计方法都是基于过程是平稳或近似平稳的假设[1]。</li><li id="3421" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">平稳的时间序列可以提供有意义的样本统计，如均值、方差、与其他变量的相关性[1]。</li></ol><p id="09f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">过程的平稳性可以通过目视检查<strong class="lb iu">时间序列图</strong>或序列的<strong class="lb iu">变差图来验证。可以执行像<strong class="lb iu">增强的 Dickey-Fuller </strong>测试这样的统计测试来检查过程的平稳性。本文通过直观检查时间序列图和变异函数来验证平稳性。</strong></p><p id="1355" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">时间序列图— </strong>如果给定的时间序列图显示一段时间内的<strong class="lb iu">恒定均值和方差</strong>，则该时间序列图可视为平稳过程。</p><p id="f32f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">变异函数— </strong>是一种检查时间序列数据平稳性的图形工具。如果给定过程(时间序列)的变差函数在一定数量的滞后后显示稳定，则该过程被定义为平稳过程。</p><p id="0e59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果原始时间序列没有表现出平稳性，那么可以通过实施<strong class="lb iu">变换</strong>(例如对数变换)和<strong class="lb iu">差分</strong>来稳定该序列。</p><p id="efce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将把 ARIMA 模型应用于真实世界的数据集“美元和欧元之间的日平均汇率”。Sorren Bissgard 和 Murat Kulachi 在《时间序列分析和实例预测》一书中给出了数据集。下面给出了数据集的一个片段:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/93bb0b38497a41798101d4a0958ebb01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LXEL-d6tH6xcYUiUiFlU8g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">美元和欧元之间的日平均汇率</p></figure><p id="0336" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">平稳性:原始时间序列及其变差函数</strong></p><p id="d9b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图 1 和图 2 分别展示了原始时间序列及其变异函数。图 1 显示该序列不是稳定的，因为它不遵循恒定的均值和方差。图 2 中的变差函数没有显示出稳定性，因为在大约 80°滞后之后，变差函数显示出下降趋势，从长远来看，变差函数可能无法保持稳定的模式，这表明该过程不是稳定的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl mk"><img src="../Images/7145cf36cf62f55b9dbc0e6a8eef1fb3.png" data-original-src="https://miro.medium.com/v2/format:webp/1*DAflIxa818rJ5JAOnvgBxQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 1:原始时间序列</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/37971405a231f54bd2793631054497d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:546/format:webp/1*hiile-Jp-WDO6rpgv7ZRYw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 2:原始系列的变差函数</p></figure><p id="6276" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">平稳性:区别原始序列</strong></p><p id="0dbc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图 3 和图 4 分别显示了原始序列的一元差分过程的时间序列及其变异函数。图 3 示出了一个差分序列遵循恒定的均值和方差，表示平稳序列。此外，图 4 中的一阶差分变异函数显示了稳定系列的特征，因为它证明了长期稳定。因此，一个差分序列适合用于进一步分析。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl mk"><img src="../Images/659b041b432c88e1860b1c74498bdcdc.png" data-original-src="https://miro.medium.com/v2/format:webp/1*uyYIAXzWgVOLF3GnEHPFbg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 3:原始时间序列的一个不同过程</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/89029b323f1922301eca11d24391fa3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*tHGOzbRHfv1tRS1BN9EP3w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 4:一个差分系列的变差函数</p></figure><h2 id="d47e" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">调查候选模型并选择最佳模型</h2><p id="6f90" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">可以阅读这篇<a class="ae ky" rel="noopener" target="_blank" href="/identifying-ar-and-ma-terms-using-acf-and-pacf-plots-in-time-series-forecasting-ccb9fd073db8">文章</a> <a class="ae ky" rel="noopener" target="_blank" href="/identifying-ar-and-ma-terms-using-acf-and-pacf-plots-in-time-series-forecasting-ccb9fd073db8"> — <strong class="lb iu">时间序列分析:利用 ACF 和 PACF 图识别 AR 和 MA—</strong></a>了解如何利用 ACF 和 PACF 图选择 ARMA 模型的阶数。</p><p id="61e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图 5 和图 6 显示了一个差分序列的 ACF 和 PACF。ACF 在一个滞后之后切断，并且 PACF 也从系列的开始切断。因此，ARIMA(p，d，q)可以是其中 p = 0，d = 1，q = 1 的候选模型。然而，我们也试验了 ARIMA (1，1，1)、ARIMA (0，1，2)和 ARIMA (1，1，2)来研究模型的性能。在应用不同的模型后，我们将把 AIC 作为一个性能指标来选择最佳模型。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/f9081fab20bf8ca50eb8a547c48474c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*cjScZ2TIKJGfZb4_4yL5tQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 5:一个差分系列的 ACF</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/55ef90a08eeeb8d48c9baeeaf69fddac.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*6gw3s97RTS49mCX5kBUxzw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 6:一个差分序列的 PACF</p></figure><p id="79af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图 6、7、8 和 9 显示了我们在一个差分序列上实现的 4 个不同的前述模型的结果。所有候选模型的方差和标准误差大致相似。AIC 也显示了所有四种模型的相似值。ARIMA (1，1，1)模型的 AIC 最低，为-1398(图 8)，尽管所有的估计参数在统计上并不显著。ARIMA (0，1，1)和 ARIMA (0，1，2)可被视为最佳模式，因为它们的 AIC 是第二低的，但 ARIMA (0，1，2)的估计参数不显著。因此，我们最终选择 ARIMA (0，1，1)作为最佳模型(图 6)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/bacc620055e70fe62896acf3548e7057.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*bRLdnZ-_25qrFe-8PpzADQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 6: ARIMA (0，1，1)模型</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/7fffbb284ddfca561b9196cbaef1b43d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*i1FsSqH4b0OvcqcOh7Dcbg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 7: ARIMA (1，1，2)模型</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/0af23bb9eedaaa62bc78d59b7ba6b881.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*UEV8grjkeNjybh_y_WnOZQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 8: ARIMA (1，1，1)模型</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/fd74309059ce4cb471b14ef226c0fede.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*QD2ZHc58zagytStji8w2QQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 9: ARIMA (0，1，2)模型</p></figure><h2 id="4047" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">最终模型的分析</h2><p id="6f6c" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">以下是最终模型 ARIMA (0，1，1)的图。白噪声概率显示了白噪声的显著性，残差图显示了正态性。IACF 没有显示出任何不稳定性，白噪声概率是显著的。Q-Q 图遵循线性模式，残差分布也遵循正态曲线，这表明该模型满足正态假设。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/a84fa27686f86e1f4fb421bc1706ae34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*Osu6JPGw_3mIlqmJV8XolQ.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/1ebad4533e31f010e20aaf307e5ca820.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*3bU-tDVU3Vc-9tcOW3NuYw.png"/></div></figure><h2 id="2a7d" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">时间数列预测法</h2><p id="6223" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">表 1 显示了该比率的预测值。标准误差显示预测值的稳定性，因为所有标准误差都不显著。图 10 显示了 7 天预测值的曲线，表明曲线稳定。表二。将原始比率值与预测值进行比较。平方误差(SE)显示原始值和预测值之间的平方误差。每个预测比率的 SE 显示预测比率非常接近原始比率，这表明 ARIMA 模型的预测质量良好。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/0d826cd11670a7515b8d37f2db128c8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*AltHd6hYnE46jPiXJ3cwuw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表 1:平均汇率预测</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/3814c2418d4353e525ec0d2cea2ced15.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*qnY5a6W6CkO1XqDYlRtaVg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 10:未来 7 天的汇率预测</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/3e7b00899e286ac24e30f91cbd368da1.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*UMDo017RwsZ2M_M2W1NJpQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表 2:原始汇率和预测汇率的比较</p></figure><p id="7d9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">参考</strong></p><p id="08ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[1]https://people.duke.edu/~rnau/411diff.htm<a class="ae ky" href="https://people.duke.edu/~rnau/411diff.htm" rel="noopener ugc nofollow" target="_blank"/></p></div></div>    
</body>
</html>