<html>
<head>
<title>Space Science with Python — The Solar System centre</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用Python进行空间科学——太阳系中心</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/space-science-with-python-the-solar-system-centre-6b8ad8d7ea96?source=collection_archive---------28-----------------------#2020-04-29">https://towardsdatascience.com/space-science-with-python-the-solar-system-centre-6b8ad8d7ea96?source=collection_archive---------28-----------------------#2020-04-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="7411" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/space-science-with-python" rel="noopener" target="_blank">https://towards data science . com/tagged/space-science-with-python</a></h2><div class=""/><div class=""><h2 id="3199" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">Python教程系列的第三部分</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/9b3cabe869345d79358ebf2aee14f17b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lNK1jPFIlslCXl-D5vW11g.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">我们太阳系的示意图(未按比例)，鸣谢:<a class="ae lh" href="https://images.nasa.gov/details-PIA11800" rel="noopener ugc nofollow" target="_blank"> NASA/JPL </a></p></figure><h2 id="94df" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">前言</h2><p id="856c" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated"><em class="mw">这是我的Python教程系列“Python的空间科学”的第三部分。这里显示的所有代码都上传到</em> <a class="ae lh" href="https://github.com/ThomasAlbin/SpaceScienceTutorial" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> GitHub </em> </a> <em class="mw">上。尽情享受吧！</em></p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h2 id="001d" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">上次…</h2><p id="f1c3" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">…我们计算并可视化了太阳系重心(SSB)相对于太阳的运动。黄道平面上的二维投影揭示了SSB令人印象深刻的行为:重心的位置定期离开太阳，尽管太阳包含了太阳系99 %以上的质量！人们可以理解，这种运动是由其他天体引起的，例如行星、小行星甚至尘埃。<em class="mw">但是主要的贡献者是什么，我们能想象出来吗？在本教程中，我们将针对这个科学问题，对上次的结果进行分析。</em></p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h2 id="3748" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">我们开始吧</h2><p id="dd2c" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">对于我们的分析，我们将使用与上次相同的时间间隔和方法。我们将额外使用另一个伟大的库:<a class="ae lh" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> <em class="mw">熊猫</em> </a>。<em class="mw">熊猫</em>常用于数据科学家、数据工程师以及科学家之间。人们可以创建包含表格形式数据的所谓数据框。过滤、添加列、应用函数或类似SQL的请求允许操作和分析存储在内存中的数据。如果您还没有安装pandas，那么在您的虚拟环境中使用<em class="mw"> pip3 </em>包管理器来安装:</p><pre class="ks kt ku kv gt ne nf ng nh aw ni bi"><span id="2848" class="li lj it nf b gy nj nk l nl nm">pip3 install pandas</span></pre><p id="5c97" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">如果你不熟悉<em class="mw">熊猫</em>，我会推荐一些教程，在那里你可以学习这个包的功能和优点。我将解释显示的功能，但是我强烈建议您深入研究这个数据驱动工具。</p><p id="b5ad" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">我们的第一个SPICE函数也是<a class="ae lh" href="https://naif.jpl.nasa.gov/pub/naif/toolkit_docs/C/cspice/furnsh_c.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> furnsh </em> </a>，它加载SPICE元文件<em class="mw"> kernel_meta.txt </em>中列出的所有请求的SPICE内核文件。我已经<a class="ae lh" href="https://naif.jpl.nasa.gov/pub/naif/" rel="noopener ugc nofollow" target="_blank">下载了</a>并为本文添加了相应的内核，所以你可以简单地从<a class="ae lh" href="https://github.com/ThomasAlbin/SpaceScienceTutorial" rel="noopener ugc nofollow" target="_blank"> GitHub </a>获取最新的更新。后面的教程需要大的内核，需要手动下载。我们将在单独的教程中学习如何浏览官方库以及如何选择正确的内核。</p><p id="3cb1" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">同样，我们选择从2000年1月1日开始的时间间隔，并加上10，000天。我们使用函数<a class="ae lh" href="https://naif.jpl.nasa.gov/pub/naif/toolkit_docs/C/cspice/et2utc_c.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> utc2et </em> </a>将UTC时间字符串转换为星历时间(et ),并创建一个包含所有ET时间步长的<em class="mw"> numpy </em>数组。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ns nt l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">第1/8部分</p></figure><p id="7fac" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">我们现在应该如何继续分析SSB的运动？首先，我们需要计算重心相对于太阳的轨迹。上一次，我们在for循环中做了这个。从现在开始，我们使用<em class="mw"> pandas </em>数据帧在一个地方存储所有必要的结果。</p><p id="49bd" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">SPICE返回以km为单位的空间信息。同样，我们想用太阳的半径来缩放它。我们用函数<a class="ae lh" href="https://naif.jpl.nasa.gov/pub/naif/toolkit_docs/C/cspice/bodvcd_c.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> bodvcd </em> </a>从内核中提取这些信息(注意:SPICE知道每个内核的内容，加载后不需要指定内核的名称或位置):</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ns nt l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">第2/8部分</p></figure><p id="857d" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">结果将存储在一个名为<em class="mw"> SOLAR_SYSTEM_DF </em>的数据帧中，该数据帧在开始时被定义为空。第6行创建了一个名为<em class="mw"> ET </em>的列，并用相应的ET值填充数据帧。<a class="ae lh" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.loc.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw">。loc </em> </a>在<em class="mw"> pandas </em>中用于分配列，也用于过滤数据帧。在第12+13行，我们计算了ETs的日期时间对象。<em class="mw"> spiceypy </em>函数<em class="mw"> et2datetime </em>用于此目的，但是，它不是官方SPICE工具包的一部分。在SPICE中，函数<a class="ae lh" href="https://naif.jpl.nasa.gov/pub/naif/toolkit_docs/C/cspice/et2utc_c.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> et2utc </em> </a>用于设置各种日期时间格式；输出本身是一个字符串。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ns nt l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">第3/8部分</p></figure><p id="fa37" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">我们现在添加并计算三个新列。首先，<em class="mw">POS _ SSB _ WRT _太阳</em>被计算，其包含从太阳看到的SSB的位置向量。对于这个计算，我们需要ET列，并逐行应用(使用<a class="ae lh" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.apply.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw">)。通过lambda函数应用</em></a>)SPICE函数<a class="ae lh" href="https://naif.jpl.nasa.gov/pub/naif/toolkit_docs/C/cspice/spkgps_c.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> spkgps </em> </a>。<a class="ae lh" href="https://naif.jpl.nasa.gov/pub/naif/toolkit_docs/C/cspice/spkgps_c.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> spkgps </em> </a>需要目标NAIF ID ( <em class="mw"> targ </em>)，ET ( <em class="mw"> et </em>)，参考帧(<em class="mw">ref</em>)；这里是黄道参考系<em class="mw">eclipse j2000</em>)和观测者的NAIF ID ( <em class="mw"> obs </em>)。SSB和Sun的ID分别为<a class="ae lh" href="https://naif.jpl.nasa.gov/pub/naif/toolkit_docs/C/req/naif_ids.html" rel="noopener ugc nofollow" target="_blank"> 0和</a>10。</p><p id="7bad" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">然后，计算出的位置向量与太阳的半径成比例(第11 + 12行)。我们按行应用一个lambda函数，用半径划分数组。</p><p id="6194" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">最后，使用SPICE函数<a class="ae lh" href="https://naif.jpl.nasa.gov/pub/naif/toolkit_docs/C/cspice/vnorm_c.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> vnorm </em> </a>计算太阳和SSB之间的距离。该函数计算一个向量的长度(所谓的范数)，与<em class="mw"> numpy </em>函数<a class="ae lh" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html" rel="noopener ugc nofollow" target="_blank"><em class="mw">numpy . linalg . norm</em>()</a>相同。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ns nt l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">第4/8部分</p></figure><p id="713d" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">无论是数据科学、空间科学、天文学还是任何其他科学领域:可视化和描述数据是正确分析的第一步。</p><p id="47b6" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">所以让我们把SSB和太阳之间的距离想象成时间的函数。为此，我们使用上次介绍的模块<a class="ae lh" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> matplotlib </em> </a>。我们使用列<em class="mw">SSB _ WRT _太阳_缩放_DIST </em>的数据，并根据<em class="mw"> UTC </em>日期-时间绘制它。</p><p id="3f1e" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">以下代码创建了一个如下所示的图。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ns nt l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">第5/8部分</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nu"><img src="../Images/992e5530a951106bd5d17adf64699ef2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YG9GrJzMYCLPrVi7GMt4rw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">太阳系重心(SSB)与UTC日期时间之间的距离。这个距离是以太阳半径给出的。1太阳半径对应696000公里。致谢:T. Albin (2020)</p></figure><p id="7312" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">我们来描述和理解一下剧情。我们看到SSB和太阳之间的距离与UTC给出的日期时间。距离轴的刻度在0到2个太阳半径之间，时间轴从2000年开始，正好在2028年之前结束。我们看到，距离随时间变化，然而，这种变化似乎是调制的(不同的振幅；还有频率(？)).两个局部极大值之间的距离(大约2009年和2022年)大约是十年！</p><p id="bb41" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">这些缓慢的时间变化意味着什么？理论上可以通过所有重力(行星、小行星、尘埃等)的总和计算出SSB相对于太阳的位置。).内行星(水星到火星)的轨道周期在90天到将近2年之间。如果这些行星的质量对SSB的计算很重要，我们会看到许多“尖峰”和快速变化的变化，但我们没有。</p><p id="74ac" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">与内部行星相比，外部气体巨行星(木星、土星、天王星和海王星)的质量更大，轨道周期也更长(木星绕太阳一周大约12年，土星几乎需要30年)。虽然它们离我们很远(木星大约5天文单位，土星大约9.5天文单位)，但它们似乎严重影响了SSB的位置。</p><p id="4149" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">我们能简单地在数据中看到这种效应吗？</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h2 id="7816" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">相位角</h2><p id="fe13" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">今天(2020年4月29日),我们看到月亮正处于上弦月阶段。从地球上看，每秒钟被照亮的面积都在增加。几天后，月亮将被完全照亮，它的渐亏期开始了。在围绕我们旋转的过程中，月球相对于太阳以不同的相位角出现。考虑下面的草图:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nv"><img src="../Images/afab0512a6d74bbe6c585955f2681c12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*voTbJ52FJj_p98PLkPSsXw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">从地球上看到的月亮和太阳之间的相位角。致谢:T. Albin (2020)</p></figure><p id="04f9" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">相角是从地球上看到的太阳和月亮的方向向量之间的角度。一般来说:相角是指从观察者的角度来看，两个方向向量所围成的角度。因此，可以计算任何天体之间的相角，相角定义在0到180度之间。</p><p id="8869" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated"><em class="mw">这与SSB分析有什么关系？</em>如前所述，我们有一个理论，气体巨星的引力是SSB运动最相关的因素。SSB和太阳中心之间的巨大距离可能意味着外围行星“排成一行”,从同一个方向产生更强的引力。</p><p id="198c" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">为了检查相位角的相关性，我们在数据框中增加了新的列，包含了所有气体巨星的角度。首先，我们建立了一个字典，其中包含行星(重心)的缩写名称以及相应的行星NAIF ID代码。</p><p id="b8d9" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">for循环遍历字典，并为每个行星动态创建2个新列(子字符串%s被行星的缩写替换):</p><ul class=""><li id="860b" class="nw nx it mf b mg nn mj no lr ny lv nz lz oa mv ob oc od oe bi translated"><em class="mw">POS _ % s _ WRT _太阳</em>:从太阳上看到的行星位置矢量。对于这个计算，我们再次使用了<em class="mw">。在ETs上应用</em>功能，并为此使用SPICE函数<a class="ae lh" href="https://naif.jpl.nasa.gov/pub/naif/toolkit_docs/C/cspice/spkgps_c.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> spkgps </em> </a>。</li><li id="8dd6" class="nw nx it mf b mg of mj og lr oh lv oi lz oj mv ob oc od oe bi translated"><em class="mw">PHASE _ ANGLE _ SUN _ % s2sb</em>:从太阳上看到的行星与SSB之间的相位角。<em class="mw">。应用</em>应用在<em class="mw">轴=1 </em>上，因为我们需要两列用于此计算，即<em class="mw">POS _ % s _ WRT _太阳</em>和来自太阳的SSB方向向量<em class="mw">POS _ SSB _ WRT _太阳</em>。这两个向量之间的角度通过SPICE函数<a class="ae lh" href="https://naif.jpl.nasa.gov/pub/naif/toolkit_docs/C/cspice/vsep_c.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> vsep </em> </a>计算。结果以rad给出，因此使用<em class="mw"> numpy </em>函数<a class="ae lh" href="https://numpy.org/doc/stable/reference/generated/numpy.degrees.html" rel="noopener ugc nofollow" target="_blank"><em class="mw">numpy . degrees()</em></a>将其转换为度数。</li></ul><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ns nt l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">第6/8部分</p></figure><p id="42f6" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated"><em class="mw">两个向量(a，b)之间的角度(p)是如何计算的？</em>两个向量的点积等于两个向量的长度乘以夹角的余弦的乘积。我们将等式重新排列到角度，得到以下等式:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ok"><img src="../Images/07707d43a2ed512b65807649bd914cc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OTf7CzNwFF6TixLEuW6ibQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">致谢:T. Albin (2020)</p></figure><p id="e06c" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">现在，让我们验证一下<a class="ae lh" href="https://naif.jpl.nasa.gov/pub/naif/toolkit_docs/C/cspice/vsep_c.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> vsep </em> </a>的结果。我们定义了一个lambda函数，其中使用了<em class="mw"> numpy </em>的<a class="ae lh" href="https://numpy.org/doc/stable/reference/generated/numpy.arccos.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> numpy.arccos() </em> </a>，<a class="ae lh" href="https://numpy.org/doc/stable/reference/generated/numpy.dot.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw">。dot() </em> </a>和<a class="ae lh" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html" rel="noopener ugc nofollow" target="_blank"><em class="mw">. linalg . norm()</em></a>函数。我们使用数据帧的第一个条目，计算从太阳看到的SSB和木星之间的相位角。<em class="mw">熊猫</em>功能<a class="ae lh" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.iloc.html" rel="noopener ugc nofollow" target="_blank">T23】。iloc[]  </a>允许通过整数索引访问数据；这里:0。对于这两个函数，我们得到的结果大约是14.9。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ns nt l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">第7/8部分</p></figure><p id="5db8" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">我们现在有一个包含各种参数的复杂数据框架。我们得到了UTC和ET的时间，我们得到了太阳和SSB之间的距离以及所有气体巨星的相位角。现在我们要绘制数据，以查看SSB-Sun距离和相位角之间的联系。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h2 id="3583" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">气态巨行星的引力</h2><p id="11c1" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">我们该如何绘制这些数据？我们想要显示两种不同类型的数据。第一:SSB-太阳的距离(如前所示)以及从太阳上看到的SSB和每个行星之间的相位角。要查看任何链接，我们需要将它们绘制在一个图中，产生两个不同的y轴(x轴是UTC时间)。我们有4个行星的相位角，结果在一个图中有5条曲线。由此产生的情节将过于拥挤，人们很容易忘记所显示的内容。</p><p id="0cdb" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">因此，我们为每个星球创建一个单独的子图。这些图垂直对齐，以共享日期-时间轴。第3行准备图形并创建4个<em class="mw"> matplotlib </em>轴。</p><p id="f513" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">for循环分别遍历所有<em class="mw"> matplotlib </em>轴和行星数据。让我们深入探讨一下:</p><ul class=""><li id="b1f6" class="nw nx it mf b mg nn mj no lr ny lv nz lz oa mv ob oc od oe bi translated">第15行:首先我们为每个子情节创建一个标题。这个名字就是这个星球的名字。因为每个星球都有自己的情节，我们不需要设定一个传奇。</li><li id="91fc" class="nw nx it mf b mg of mj og lr oh lv oi lz oj mv ob oc od oe bi translated"><strong class="mf jd">第18–20行:</strong>这里，我们绘制了SSB-Sun距离，并选择蓝色来区分距离和相位角曲线。</li><li id="6494" class="nw nx it mf b mg of mj og lr oh lv oi lz oj mv ob oc od oe bi translated"><strong class="mf jd">第24–30行:</strong>一些绘图格式，我们添加了y标签、轴限制和颜色。</li><li id="6094" class="nw nx it mf b mg of mj og lr oh lv oi lz oj mv ob oc od oe bi translated"><strong class="mf jd">第33行:</strong>该命令告诉<em class="mw"> matplotlib </em>在同一个<em class="mw"> matplotlib </em>轴上创建一个孪生图。<a class="ae lh" href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.twinx.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw">。twinx() </em> </a>表示x轴(UTC中的日期时间)被复制。</li><li id="fca3" class="nw nx it mf b mg of mj og lr oh lv oi lz oj mv ob oc od oe bi translated"><strong class="mf jd">第36–39行:</strong>现在我们绘制行星和SSB(观测者:太阳)之间的相位角。这条曲线是橙色的…</li><li id="34eb" class="nw nx it mf b mg of mj og lr oh lv oi lz oj mv ob oc od oe bi translated"><strong class="mf jd">第42–49行:</strong> …以及相应的y轴标签和刻度(y轴上显示的数字)。</li><li id="987d" class="nw nx it mf b mg of mj og lr oh lv oi lz oj mv ob oc od oe bi translated"><strong class="mf jd">第52行:</strong>为了更好的可读性或视觉引导，我们沿着日期-时间添加了一个垂直网格。</li></ul><p id="133d" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">最后，我们为时间轴设置一个标签，减少子图之间的空间并保存该图。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ns nt l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">第八部分</p></figure><p id="c14d" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">所有支线剧情如下所示。你可以看到蓝色和橙色的曲线分别代表SSB和太阳的距离以及SSB和行星之间的相位角。标题显示行星名称，右侧y轴倒置。正如你所看到的，SSB和太阳之间的大距离与2020年和2024年之间木星的小相位角相关。然而，这种影响对于2008年至2012年间的第一次局部最大值来说不太严重，并且与2012年至2016年间的最小值完全不相关。让我们来看看这个特殊的最小值。你可以看到土星、天王星和海王星的相位角要大得多，并产生了一个向另一个方向的“反引力”,导致SSB的位置停留在太阳内。在2020年和2024年之间，气态巨行星更倾向于同一个方向，导致最大距离几乎是2个太阳半径！</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ol"><img src="../Images/64b771c50721a2ea95475dd044ad77be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d_uRJqj8Vz2yEPCqZGQqEA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">这些子图显示了以太阳半径表示的SSB-太阳距离与以UTC表示的日期-时间(左轴，蓝色)。橙色曲线(和相应的右轴)显示了从太阳上看到的行星和单边带之间的相位角，单位为度。每个子图的标题都显示了行星的名称。致谢:T. Albin (2020)</p></figure></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h2 id="00c3" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">结论</h2><p id="7167" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">今天我们看了一下SSB运动的原因。太阳和重心之间的距离随时间缓慢变化。振幅发生变化，最大值和最小值之间的时间间隔表明内行星不可能是这种引力的主要贡献者(否则我们会看到更多与较短轨道周期相关的短时间峰值和变化)。我们利用从太阳上看到的SSB和气态巨行星之间的相位角来分析太阳和SSB之间的距离。木星似乎是一个主要因素(因为它是最大的行星，距离我们只有5天文单位)。然而，考虑到2012年和2016年之间0.5倍太阳半径的最小距离，其他的巨行星也不能被忽略。</p><p id="7887" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">为了更深入地探究这个话题，我们需要用牛顿力学来处理这个问题，并利用每个行星的引力来计算SSB相对于太阳的位置。然而，我们不想把这个特定的主题推得太紧。下一篇教程将于2020年5月2日出版，我们将继续研究一个完全不同的空间主题的相位角。</p><p id="f058" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">在科学中创造情节通常是具有挑战性和耗时的。有没有其他方法来可视化数据和分析？当然！以某种方式可视化数据只是一种可能的解决方案。如果你想分享你的想法或解决方案，请随意。在这里或GitHub上。</p><p id="7aea" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">同时，保持健康，享受夜空，</p><p id="981c" class="pw-post-body-paragraph md me it mf b mg nn kd mi mj no kg ml lr np mn mo lv nq mq mr lz nr mt mu mv im bi translated">托马斯</p></div></div>    
</body>
</html>