<html>
<head>
<title>Create your own Word Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建您自己的单词云</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/create-your-own-word-cloud-705798556574?source=collection_archive---------38-----------------------#2020-06-07">https://towardsdatascience.com/create-your-own-word-cloud-705798556574?source=collection_archive---------38-----------------------#2020-06-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f897" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">学习使用Python构建一个非常简单的单词云，只需几行代码！</h2></div><p id="3b98" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">大家好！难道我们都没有看到如此有趣和新形式的单词云被展示出来，并想知道我们是否也可以生成这样的单词云。如果我告诉你一个不超过20行代码的<em class="le"> Python程序</em><strong class="kk iu"><em class="le"/></strong>是可能的呢？让我们开始吧！</p><div class="lf lg lh li gt ab cb"><figure class="lj lk ll lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/7acba40f89e017be2a43de870e085340.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*7RuMdyq2yATszTUwrCuACw.jpeg"/></div></figure><figure class="lj lk lw lm ln lo lp paragraph-image"><img src="../Images/7fd818bbfd89574285b3730b0453d3b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/1*QOcaWLdsuV6-JAwcUVUkOg.jpeg"/><p class="lx ly gj gh gi lz ma bd b be z dk mb di mc md translated">图像来自信号源(<a class="ae me" href="https://adaringadventure.com/word-cloud-nlp/" rel="noopener ugc nofollow" target="_blank"> 1 </a>和<a class="ae me" href="https://algorithmia.com/algorithms/nlp/DocumentClassifier" rel="noopener ugc nofollow" target="_blank"> 2 </a>)</p></figure></div><h2 id="2b0e" class="mf mg it bd mh mi mj dn mk ml mm dp mn kr mo mp mq kv mr ms mt kz mu mv mw mx bi translated">概观</h2><p id="2794" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">在这个故事中，我将向你展示一个非常简单的代码，告诉你如何从任何文本数据中构建和生成一个非常简单的单词云。</p><h2 id="22fa" class="mf mg it bd mh mi mj dn mk ml mm dp mn kr mo mp mq kv mr ms mt kz mu mv mw mx bi translated">数据</h2><p id="7deb" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">为了生成这个词云，我将使用一个数据集，该数据集最初是为了构建一个<em class="le">垃圾评论分类器</em>而创建的。</p><p id="d167" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">文件<code class="fe nd ne nf ng b">'Youtube05-Shakira.csv'</code>是由评论ID、作者、日期、内容和类别等5列组成的数据集。“内容”和“类别”列用于建立机器学习模型，以将消息分类为垃圾消息。</p><p id="d7ca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了生成我们的单词云，我将只在“内容”栏中使用单词。</p><h2 id="5f05" class="mf mg it bd mh mi mj dn mk ml mm dp mn kr mo mp mq kv mr ms mt kz mu mv mw mx bi translated">步骤1:导入库</h2><p id="63f4" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">任何python程序的第一步总是在<em class="le">导入库</em>。对于这段代码，我们只需要<em class="le">三个</em> <em class="le">库</em>，其中两个应该已经安装在您的Python工作空间中了。在此程序之前，唯一需要额外安装的库是'<strong class="kk iu"> <em class="le"> wordcloud </em> </strong>'库，可以使用'<strong class="kk iu"> <em class="le"> pip </em> </strong>'命令轻松安装。</p><pre class="lf lg lh li gt nh ng ni nj aw nk bi"><span id="1f2d" class="mf mg it ng b gy nl nm l nn no"># Importing the Libraries</span><span id="00ee" class="mf mg it ng b gy np nm l nn no">from wordcloud import WordCloud, STOPWORDS<br/>import pandas as pd<br/>import matplotlib.pyplot as plt</span></pre><h2 id="56b4" class="mf mg it bd mh mi mj dn mk ml mm dp mn kr mo mp mq kv mr ms mt kz mu mv mw mx bi translated">步骤2:读取数据文件</h2><p id="5319" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">下一步，我们将读取数据文件(。csv文件)并存储在一个<strong class="kk iu"> <em class="le">熊猫数据帧</em> </strong>中。在处理大型数据集时，pandas数据框总是更容易、更快速地使用。我们的单词云生成所需的列可以很容易地从pandas数据框中访问。</p><pre class="lf lg lh li gt nh ng ni nj aw nk bi"><span id="797c" class="mf mg it ng b gy nl nm l nn no"># Read 'Youtube05-Shakira.csv' file</span><span id="0adc" class="mf mg it ng b gy np nm l nn no">data = pd.read_csv(r"Youtube05-Shakira.csv", encoding ="latin-1")</span></pre><h2 id="c8be" class="mf mg it bd mh mi mj dn mk ml mm dp mn kr mo mp mq kv mr ms mt kz mu mv mw mx bi translated">步骤3:设置注释和停用词</h2><p id="0443" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">在这一步中，我们为单词云生成初始化两个重要的字符串。</p><p id="b62f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">'<strong class="kk iu"><em class="le">comment _ words</em></strong>'是用于在单行文本中存储内容列的所有单词的字符串</p><p id="a8bf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">‘<strong class="kk iu"><em class="le">stop _ words</em></strong>’用于存储所有英语中非常常用的单词，如‘the’，‘a’，‘an’，‘in’。这些单词将在稍后生成单词云时被过滤。</p><h2 id="e9a2" class="mf mg it bd mh mi mj dn mk ml mm dp mn kr mo mp mq kv mr ms mt kz mu mv mw mx bi translated">步骤4:遍历数据文件</h2><p id="de64" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">既然我们已经将数据文件存储到了pandas dataframe中，现在我们必须将“内容”列的每一行转换成一个很长的单行文本。</p><p id="c945" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一步是将<strong class="kk iu"> <em class="le">拆分</em> </strong>一行中的每个单词(一个注释有有限的单词数)并将其存储在一个变量中。<code class="fe nd ne nf ng b">separate = i.split()</code></p><p id="21df" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">拆分单词后，为了所有单词的同质性，我们使用<code class="fe nd ne nf ng b">.lower()</code>函数将所有单词转换成小写的<strong class="kk iu"><em class="le"/></strong>。</p><p id="2d56" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，我们<strong class="kk iu"> <em class="le">连接</em> </strong>所有单词，并使用函数<code class="fe nd ne nf ng b">.join()</code>将其存储到变量‘comment _ words’中。现在，变量‘comment _ words’<strong class="kk iu"><em class="le">comment _ words</em></strong>包含了生成我们的单词云所需的一个长文本中的所有单词。</p><pre class="lf lg lh li gt nh ng ni nj aw nk bi"><span id="5bca" class="mf mg it ng b gy nl nm l nn no"># Iterating through the .csv data file <br/>for i in data.CONTENT: <br/>    i = str(i) <br/>    separate = i.split() <br/>    for j in range(len(separate)): <br/>        separate[j] = separate[j].lower() <br/>      <br/>    comment_words += " ".join(separate)+" "</span></pre><h2 id="2d46" class="mf mg it bd mh mi mj dn mk ml mm dp mn kr mo mp mq kv mr ms mt kz mu mv mw mx bi translated">步骤5:创建单词云</h2><p id="d6b7" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">在这一步，我们最终使用'<strong class="kk iu"> <em class="le"> WordCloud </em> </strong>'函数生成单词云。在此，我们将使用两个变量'<em class="le">停止字</em>和'<em class="le">注释字</em>'。该代码不言自明，易于理解。</p><pre class="lf lg lh li gt nh ng ni nj aw nk bi"><span id="3cc5" class="mf mg it ng b gy nl nm l nn no"># Creating the Word Cloud<br/>final_wordcloud = WordCloud(width = 800, height = 800, <br/>                background_color ='black', <br/>                stopwords = stop_words, <br/>                min_font_size = 10).generate(comment_words)</span></pre><h2 id="68b6" class="mf mg it bd mh mi mj dn mk ml mm dp mn kr mo mp mq kv mr ms mt kz mu mv mw mx bi translated">步骤6:显示单词云</h2><p id="fabe" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">最后一步是显示我们刚刚使用上面的代码生成的单词云。'<strong class="kk iu"><em class="le">matplotlib . py plot</em></strong>'库用于显示word cloud。看看下面生成的字云！</p><pre class="lf lg lh li gt nh ng ni nj aw nk bi"><span id="46d3" class="mf mg it ng b gy nl nm l nn no"># Displaying the WordCloud                    <br/>plt.figure(figsize = (10, 10), facecolor = None) <br/>plt.imshow(final_wordcloud) <br/>plt.axis("off") <br/>plt.tight_layout(pad = 0) <br/>  <br/>plt.show()</span></pre><figure class="lf lg lh li gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi nq"><img src="../Images/010317bd6d6bb6e00ed2e6c91571e263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-EdDL3JG_8SPgh2L6FCuXw.png"/></div></div><p class="lx ly gj gh gi lz ma bd b be z dk translated">生成的词云</p></figure><p id="52a8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">万岁！您现在已经理解了如何使用Python和几行代码生成一个非常简单和基本的单词云。你现在可以以此为基础<em class="le">生成各种形状</em>和类型的文字云！</p><p id="7033" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我正在分享一个到我的github库的链接，在那里有<strong class="kk iu"> <em class="le">中的全部代码。ipynb </em> </strong>文件可供您使用！</p><div class="nr ns gp gr nt nu"><a href="https://github.com/mk-gurucharan/Word-Cloud" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">mk-gurucharan/Word-Cloud</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">这是从一个“.”构造单词云的代码。csv”文件。单词云(也称为标签云)是一种简单的可视化…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">github.com</p></div></div><div class="od l"><div class="oe l of og oh od oi lu nu"/></div></div></a></div><p id="fc59" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然，这并不是机器学习的一部分，这是人工智能的另一个重要领域<strong class="kk iu"><em class="le"/></strong>(NLP)的最基本的运用之一。所以，继续尝试这个新领域的自然语言处理。到那时，快乐的机器学习！</p></div></div>    
</body>
</html>