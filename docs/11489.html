<html>
<head>
<title>The Web Scraping Template</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网页抓取模板</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-web-scraping-template-by-durgesh-samariya-e2c663f196ef?source=collection_archive---------31-----------------------#2020-08-09">https://towardsdatascience.com/the-web-scraping-template-by-durgesh-samariya-e2c663f196ef?source=collection_archive---------31-----------------------#2020-08-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3680" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">网页抓取步骤总结。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/17374b0b605d533c2e6d40013f061184.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RTiKvkUwEp4yGhDh"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@marvelous?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马文·迈耶</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="b130" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Web 抓取是自动从 web 中提取数据的过程。Web 报废包括从网页中获取数据，并根据需要存储它们。</p><p id="fe40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将分享我的模板，我用它来节省我的时间，避免一次又一次地写同样的东西。我使用 Python 编程语言进行 web 报废。</p><p id="10ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">免责声明:此模板并不适用于所有网站，因为所有网站都不相同。然而，它在大多数时候是有效的。本帖不是教程帖。</p><h1 id="d854" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="b087" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果你想查看我的模板，请点击这里查看<a class="ae ky" href="https://github.com/themlphdstudent/web_scrapping_template/blob/master/Web%20Scrapping%20Template.ipynb" rel="noopener ugc nofollow" target="_blank"/>。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="9623" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">加载所需的库</h1><p id="7d7f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">第一步是加载所有需要的库。让我们导入所有必需的库。我正在使用<a class="ae ky" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="noopener ugc nofollow" target="_blank"> BeautifulSoup </a>库进行网页清理。除此之外，我正在使用<a class="ae ky" href="https://pandas.pydata.org/docs/" rel="noopener ugc nofollow" target="_blank"> Pandas </a>和<a class="ae ky" href="https://requests.readthedocs.io/en/master/" rel="noopener ugc nofollow" target="_blank"> request </a>库。导入之前，请确保系统中安装了所有库。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="37ca" class="nj lw it nf b gy nk nl l nm nn">!pip3 install bs4, pandas, request</span></pre><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="073b" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">从语法上分析</h1><p id="37c5" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">现在，所有需要的库都已加载。请求一个网站对于从网上删除数据是非常重要的。一旦请求成功，网站的全部数据/内容都是可用的。然后我们可以解析 bs4 的 URL，这使得内容以纯文本形式可用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="d8da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">只需添加您想要删除的 URL 并运行单元格。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="6d4c" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">提取所需的元素</h1><p id="900c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">现在我们可以使用 soup.find()和 soup.find_all()方法从网页中搜索所需的标签。通常，我的目标是存储数据的表。首先，我总是搜索标题。通常，标题可以在<thead>标签中找到。所以让我们找到它们并存储在 Python list 中。</thead></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="bebc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们的标题存储在一个名为 headings 的列表中。现在，让我们找到可以在<tbody>标签中找到的表体。</tbody></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="2002" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们有了标题和内容。是时候将它们存储在 DataFrame 中了。在这里，我创建了一个名为<code class="fe nq nr ns nf b">data</code>的数据帧。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="1093" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们为将来的使用准备好了数据。我喜欢在将数据保存为 CSV 格式之前进行一些数据分析。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="fbb8" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">数据分析</h1><p id="46b2" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">分析数据至关重要。使用 pandas，我们可以使用 head()、describe()和 info()等不同的方法来执行数据分析。除此之外，您还可以检查列名。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="6838" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦您分析了数据，您可能想要清理它们。这一步是可选的，因为在创建数据时并不总是需要。但是，有时候是需要的。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="ffb6" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">数据清理</h1><p id="69f5" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">这个模板有一些数据清理过程，比如从数据中删除不需要的符号和重命名列名。如果你愿意，你甚至可以添加更多的东西。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="e90b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们的数据可以保存了。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="d575" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">将数据保存到 CSV 中</h1><p id="9eb3" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">让我们将数据保存在 CSV 文件中。您需要更改文件名。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="0cd5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个帖子到此为止。从网上删除数据不仅仅局限于这个模板。有很多事情可以做，但这都取决于网站。这个模板有一些你必须重复的东西，这样可以节省你的时间。你可以在这里找到一个完整的 jupyter 笔记本。</p><p id="3ca9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">感谢阅读。快乐的网页抓取！</strong></p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="a041" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢我的工作并想支持我，我会非常感谢你在我的社交媒体频道上关注我:</p><ul class=""><li id="7501" class="nt nu it lb b lc ld lf lg li nv lm nw lq nx lu ny nz oa ob bi translated">支持我的最好方式就是跟随我上<a class="ae ky" href="https://medium.com/@themlphdstudent" rel="noopener"> <strong class="lb iu">中级</strong> </a>。</li><li id="40f4" class="nt nu it lb b lc oc lf od li oe lm of lq og lu ny nz oa ob bi translated">订阅我的新<a class="ae ky" href="https://www.youtube.com/c/themlphdstudent" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> YouTube 频道</strong> </a>。</li><li id="4bae" class="nt nu it lb b lc oc lf od li oe lm of lq og lu ny nz oa ob bi translated">在我的<a class="ae ky" href="http://eepurl.com/hampwT" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">邮箱列表</strong> </a>报名。</li></ul><p id="6666" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">如果你错过了我的循序渐进指南</strong></p><p id="a181" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://medium.com/towards-artificial-intelligence/getting-started-with-titanic-kaggle-447a309f2d19" rel="noopener">泰坦尼克号起航|第一部分</a></p><p id="be6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">《泰坦尼克号》入门|第二部</p><p id="853a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你错过了我的 python 系列。</p><ul class=""><li id="42b6" class="nt nu it lb b lc ld lf lg li nv lm nw lq nx lu ny nz oa ob bi translated">第 0 天:<a class="ae ky" href="https://medium.com/@durgeshsamariya/100-days-of-machine-learning-code-a9074e1c42c3" rel="noopener">挑战介绍</a></li><li id="ac6c" class="nt nu it lb b lc oc lf od li oe lm of lq og lu ny nz oa ob bi translated">第 1 天:<a class="ae ky" href="https://medium.com/the-innovation/python-basics-variables-data-types-and-list-59cea3dfe10f" rel="noopener"> Python 基础知识— 1 </a></li><li id="1b1f" class="nt nu it lb b lc oc lf od li oe lm of lq og lu ny nz oa ob bi translated">第 2 天:<a class="ae ky" rel="noopener" target="_blank" href="/python-basics-2-working-with-list-tuples-dictionaries-871c6c01bb51"> Python 基础知识— 2 </a></li><li id="d2ba" class="nt nu it lb b lc oc lf od li oe lm of lq og lu ny nz oa ob bi translated">第 3 天:<a class="ae ky" href="https://medium.com/towards-artificial-intelligence/python-basics-3-97a8e69066e7" rel="noopener"> Python 基础知识— 3 </a></li><li id="36b1" class="nt nu it lb b lc oc lf od li oe lm of lq og lu ny nz oa ob bi translated">第 4 天:<a class="ae ky" href="https://medium.com/javarevisited/python-basics-4-functions-working-with-functions-classes-working-with-class-inheritance-70e0338c1b2e" rel="noopener"> Python 基础— 4 </a></li><li id="7fa6" class="nt nu it lb b lc oc lf od li oe lm of lq og lu ny nz oa ob bi translated">第 5 天:<a class="ae ky" href="https://medium.com/towards-artificial-intelligence/python-basics-5-files-and-exceptions-by-durgesh-samariya-5d892d170640" rel="noopener"> Python 基础知识— 5 </a></li></ul><p id="2dd8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">我希望你会喜欢我的其他文章。</strong></p><ul class=""><li id="8e19" class="nt nu it lb b lc ld lf lg li nv lm nw lq nx lu ny nz oa ob bi translated"><a class="ae ky" href="https://medium.com/dev-genius/learn-terminal-git-commands-in-3-minutes-3997b354382e" rel="noopener">给初学者的 Git</a></li><li id="9ca8" class="nt nu it lb b lc oc lf od li oe lm of lq og lu ny nz oa ob bi translated"><a class="ae ky" href="https://medium.com/@durgeshsamariya/august-2020-monthly-machine-learning-reading-list-by-durgesh-samariya-20028aa1d5cc" rel="noopener">八月月度阅读清单</a></li><li id="e036" class="nt nu it lb b lc oc lf od li oe lm of lq og lu ny nz oa ob bi translated"><a class="ae ky" href="https://medium.com/towards-artificial-intelligence/a-curated-list-of-clustering-resources-fe355e0e058e" rel="noopener">集群资源</a></li><li id="699a" class="nt nu it lb b lc oc lf od li oe lm of lq og lu ny nz oa ob bi translated"><a class="ae ky" href="https://medium.com/dev-genius/curated-list-of-outlier-detection-resources-35ed27d0e46e" rel="noopener">离群点检测资源</a></li></ul></div></div>    
</body>
</html>