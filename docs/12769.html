<html>
<head>
<title>Intro to Stanford’s CoreNLP for Pythoners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">斯坦福大学 Pythoners 课程简介</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/intro-to-stanfords-corenlp-and-java-for-python-programmers-c2586215aab6?source=collection_archive---------22-----------------------#2020-09-02">https://towardsdatascience.com/intro-to-stanfords-corenlp-and-java-for-python-programmers-c2586215aab6?source=collection_archive---------22-----------------------#2020-09-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="eaaf" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在您的 Python 项目中安装、开始使用和集成 coreNLP Java 脚本。</h2></div><p id="a268" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你好。我回来了，我希望这是斯坦福大学 CoreNLP 图书馆系列文章的第一篇。在本文中，我将重点介绍这个库的安装，并为像我这样的 Java 新手介绍它的基本特性。我将首先通过命令行来完成安装步骤和一些测试。稍后，我将带您浏览两个非常简单的 Java 脚本，您可以轻松地将它们合并到 Python NLP 管道中。你可以在<a class="ae le" href="https://github.com/laurabravopriegue/coreNLP_tutorial" rel="noopener ugc nofollow" target="_blank"> github </a>上找到完整的代码！</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/73011d5010b96cc6a869c6d877f34301.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uB3jAhGCLV3goD10"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated"><a class="ae le" href="https://unsplash.com/@ninjason?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">梁杰森</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="c68d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">CoreNLP 是一个工具包，用它你只需要几行代码就可以生成一个相当完整的 NLP 管道。该库包括所有主要 NLP 过程的预构建方法，如词性(POS)标记、命名实体识别(NER)、依存解析或情感分析。它还支持除英语之外的其他语言，尤其是阿拉伯语、汉语、德语、法语和西班牙语。</p><p id="a11c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我是这个库的忠实粉丝，主要是因为它的情感分析模型是多么酷的❤(我将在下一篇文章中详细介绍)。然而，我明白为什么大多数人宁愿使用 NLTK 或 SpaCy 等其他库，因为 CoreNLP 可能有点矫枉过正。事实上，coreNLP 的计算成本可能比其他库高得多，对于浅层 NLP 进程，结果甚至不会明显更好。另外，它是用 Java 编写的，对于 Python 用户来说入门有点痛苦(但是它是可行的，正如您将在下面看到的，如果您不介意的话，它还有一个 Python API)。</p><ul class=""><li id="ecfa" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated"><strong class="kk iu"> CoreNLP 管道和基本标注器</strong></li></ul><p id="23a5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">coreNLP 的基本构建模块是<strong class="kk iu"> coreNLP </strong>管道<strong class="kk iu">管道</strong>。管道获取输入文本，对其进行处理，并以<strong class="kk iu"> coreDocument 对象</strong>的形式输出处理结果。coreNLP 管道可以根据您的 NLP 项目需求进行定制和调整。<strong class="kk iu">属性对象</strong>允许通过添加、删除或编辑<strong class="kk iu">注释者</strong>来进行定制。</p><p id="633f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那有很多行话，所以让我们用一个例子来分解它。所有的信息和数据都来自官方的 coreNLP 页面。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi me"><img src="../Images/12518482eaf690d5a414163d111481f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I7zr76Khz-HIWWaG1r1R6g.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">coreNLP 基本管道——图摘自<a class="ae le" href="https://stanfordnlp.github.io/CoreNLP/pipeline.html#running-a-pipeline-from-the-command-line" rel="noopener ugc nofollow" target="_blank"> coreNLP 现场</a></p></figure><p id="8858" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上图中，我们有一个基本的 coreNLP 管道，默认情况下，当您第一次运行 coreNLP 管道类而不做任何更改时，就会运行这个管道。在最左边，我们有进入管道的<strong class="kk iu">输入文本</strong>，这通常是普通的<em class="mf">。txt </em>文件。管道本身由<strong class="kk iu"> 6 个标注器</strong>组成。这些注释器中的每一个都将按顺序处理输入文本，处理的中间输出有时被其他一些注释器用作输入。如果我们想通过添加或删除注释器来改变这个管道，我们可以使用<strong class="kk iu"> properties 对象</strong>。最终输出是一组<strong class="kk iu">注释</strong>，其形式为<strong class="kk iu"> </strong>一个<strong class="kk iu"> coreDocument 对象</strong>。</p><p id="1522" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将在整篇文章中使用这个基本管道。稍后当我们看一个例子时，对象的性质将变得更加清楚。现在，让我们记下每个注释器做了什么:</p><ul class=""><li id="4d48" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated"><strong class="kk iu">注释器 1:标记化</strong> →将原始文本转换成标记。</li><li id="84d3" class="lv lw it kk b kl mg ko mh kr mi kv mj kz mk ld ma mb mc md bi translated"><strong class="kk iu">注释者 2:分句</strong> →将原文分成句子。</li><li id="35d9" class="lv lw it kk b kl mg ko mh kr mi kv mj kz mk ld ma mb mc md bi translated"><strong class="kk iu">标注器 3:词性(POS)标注</strong> →给记号分配词性标签，比如是动词还是名词。文本中的每个标记都将被赋予一个标签。</li></ul><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ml"><img src="../Images/d84bf48e00083dc32cd4b65555c9a13f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qPtXm62WvSX4pK-b6SvO-A.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">位置标记示例—图摘自<a class="ae le" href="https://stanfordnlp.github.io/CoreNLP/pipeline.html#running-a-pipeline-from-the-command-line" rel="noopener ugc nofollow" target="_blank"> coreNLP 网站</a></p></figure><ul class=""><li id="33b6" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated"><strong class="kk iu">注释器 4:词条化</strong> →将每个单词转换成它的词条，即它的字典形式。例如，单词“was”被映射为“be”。</li><li id="a216" class="lv lw it kk b kl mg ko mh kr mi kv mj kz mk ld ma mb mc md bi translated"><strong class="kk iu">注释器 5:命名实体识别(NER) </strong> →当实体(人、国家、组织等)在文本中被命名时进行识别。它还能识别数字实体，如日期。</li></ul><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mm"><img src="../Images/bc33f6cfb7b384923fa27aa4677781e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oVCcv0xYTKGO8l0PWT-jIA.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">NER 示例—图摘自<a class="ae le" href="https://stanfordnlp.github.io/CoreNLP/pipeline.html#running-a-pipeline-from-the-command-line" rel="noopener ugc nofollow" target="_blank"> coreNLP 网站</a></p></figure><ul class=""><li id="a0cb" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated"><strong class="kk iu">注释器 6:依存解析</strong> →将解析文本并突出显示单词之间的依存关系。</li></ul><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mn"><img src="../Images/2b4fa0e6f02e8288457d80e8974a719b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*77kSXdMKf5MtpvD9E32h5g.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">依存解析示例—图摘自<a class="ae le" href="https://stanfordnlp.github.io/CoreNLP/pipeline.html#running-a-pipeline-from-the-command-line" rel="noopener ugc nofollow" target="_blank"> coreNLP 网站</a></p></figure><p id="d56c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，来自 6 个标注器的所有输出被组织到一个<strong class="kk iu">核心文档</strong>中。这些基本上是以结构化方式包含注释信息的数据对象。CoreDocuments 使我们的生活变得更容易，因为，正如您将在后面看到的，它们存储了所有的信息，以便我们可以用一个简单的 API 来访问它。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mo"><img src="../Images/8ed03a9cbbd9d6caa0143e86ae0be9b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xHiKBqPvXVNBsziePIlfjg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">CoreDocument 的图形表示——图摘自<a class="ae le" href="https://stanfordnlp.github.io/CoreNLP/pipeline.html#running-a-pipeline-from-the-command-line" rel="noopener ugc nofollow" target="_blank"> coreNLP 网站</a></p></figure><ul class=""><li id="a65d" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated"><strong class="kk iu">安装</strong></li></ul><p id="b959" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你需要安装 Java。你可以在这里下载最新版本的<a class="ae le" href="https://www.oracle.com/java/technologies/javase-jdk14-downloads.html" rel="noopener ugc nofollow" target="_blank"/>。为了下载 CoreNLP，我遵循了<a class="ae le" href="https://stanfordnlp.github.io/CoreNLP/download.html" rel="noopener ugc nofollow" target="_blank">官方指南</a>:</p><ol class=""><li id="17c3" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld mp mb mc md bi translated">使用 curl 或 wget 下载 CoreNLP zip 文件</li></ol><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="616d" class="mv mw it mr b gy mx my l mz na">curl -O -L http://nlp.stanford.edu/software/stanford-corenlp-latest.zip</span></pre><p id="5fdd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.解压缩文件</p><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="301b" class="mv mw it mr b gy mx my l mz na">unzip stanford-corenlp-latest.zip</span></pre><p id="5011" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.移到新创建的目录中</p><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="1770" class="mv mw it mr b gy mx my l mz na">cd stanford-corenlp-4.1.0</span></pre><p id="e4d8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们来看几个例子，以确保一切正常。</p><ul class=""><li id="e3b8" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated"><strong class="kk iu">使用命令行和 input.txt 文件的示例</strong></li></ul><p id="6f96" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于这个例子，首先我们将打开终端并创建一个测试文件，我们将使用它作为输入。代码改编自 coreNLP 的官方网站。您可以使用以下命令:</p><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="b1f3" class="mv mw it mr b gy mx my l mz na">echo "the quick brown fox jumped over the lazy dog" &gt; test.txt</span></pre><p id="64a1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe nb nc nd mr b">echo</code>在 test.txt 文件上打印句子<code class="fe nb nc nd mr b">"the quick brown fox jumped over the lazy dog"</code>。</p><p id="b874" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们在测试句子上运行一个默认的 coreNLP 管道。</p><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="c799" class="mv mw it mr b gy mx my l mz na">java -cp “*” -mx3g edu.stanford.nlp.pipeline.StanfordCoreNLP -outputFormat xml -file test.txt</span></pre><p id="2eb2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是一个 java 命令，从类<em class="mf">edu . Stanford . NLP . pipeline . stanfordcorenlp .</em>加载并运行 coreNLP 管道，因为我们没有对该类进行任何更改，所以设置将设置为默认值。管道将使用 test.txt 文件作为输入，并将输出一个 XML 文件。</p><p id="55ce" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">运行该命令后，管道将开始注释文本。你会注意到这需要一段时间……(一个 9 个单词的句子大约需要 20 秒🙄).输出将是一个名为 test.txt.xml 的文件。这个过程还会自动生成一个 XSLT 样式表(<em class="mf"> CoreNLP-to-HTML.xsl </em>)，如果您在浏览器中打开它，它会将 xml 转换为 HTML。</p><div class="lg lh li lj gt ab cb"><figure class="ne lk nf ng nh ni nj paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><img src="../Images/3b087bf4281a4c1ce28c7c5834387450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*1MbF5lPlvlsZD0LAxl0zgQ.png"/></div></figure><figure class="ne lk nk ng nh ni nj paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><img src="../Images/2291d79363b6809347d510eb2d4248cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*MmrGwmZF48xjm5QRhJ6sBA.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk nl di nm nn translated">在 Firefox 中显示的 XML 文件</p></figure></div><p id="bbbc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">似乎一切都很好！！我们看到标准管道实际上相当复杂。它包括了我们在上一节中看到的所有注释器:标记化、句子分割、语义化、词性标注、NER 标注和依存解析。</p><p id="9fc8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> <em class="mf">注意:</em> </strong> <em class="mf">我用 Firefox 显示了它，然而我花了很长时间才弄明白如何做到这一点，因为显然在 2019 年 Firefox 不再允许这样做。可以通过进入</em> about:config <em class="mf">页面并将</em>privacy . file _ unique _ origin<em class="mf">设置更改为</em> False <em class="mf">来解决这个问题。如果对您不起作用，您可以选择 json 作为输出格式，或者用文本编辑器打开 XML 文件。</em></p><ul class=""><li id="fdb1" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated"><strong class="kk iu">使用交互式外壳模式的示例</strong></li></ul><p id="3712" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于我们的第二个例子，您也将专门使用终端。CoreNLP 有一个很酷的交互式 shell 模式，可以通过运行以下命令进入。</p><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="69a7" class="mv mw it mr b gy mx my l mz na">java -cp “*” -mx3g edu.stanford.nlp.pipeline.StanfordCoreNLP </span></pre><p id="0a2e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦进入这种交互模式，您只需键入一个句子或一组句子，它们将由基本的注释器动态处理！下面你可以看到一个如何分析句子“你好，我叫劳拉”的例子。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi no"><img src="../Images/a3eefd5d39966b28ad67cd0cc78673cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3rpJNtNPsliJi9GCrH9xag.png"/></div></div></figure><p id="f3b6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以看到在终端中以不同格式打印的 XML 文件中看到的相同注释！你也可以用更长的文本来尝试。</p><ul class=""><li id="4067" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated"><strong class="kk iu">使用非常简单的 Java 代码的示例</strong></li></ul><p id="d061" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们来看几个 Java 代码示例！我们将基本上使用 Java 创建和调整管道，然后将结果输出到一个. txt 文件中，该文件可以合并到我们的 Python 或 R NLP 管道中。代码改编自 coreNLP 的官方网站。</p><p id="e546" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">例 1 </strong></p><p id="3160" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我的 github 中找到完整的代码。我将首先带您浏览一下<em class="mf">coreNLP _ pipeline 1 _ LBP . Java</em>文件。我们开始导入所有需要的依赖项的文件。然后，我们将创建一个用于分析的文本示例。您可以将其更改为任何其他示例:</p><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="a0fa" class="mv mw it mr b gy mx my l mz na">public static String text = "Marie was born in Paris."; </span></pre><p id="aef8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们设置了管道，创建了一个文档，并使用以下代码行对其进行了注释:</p><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="935b" class="mv mw it mr b gy mx my l mz na">// set up pipeline properties<br/>Properties props = new Properties();</span><span id="bca7" class="mv mw it mr b gy np my l mz na">// set the list of annotators to run<br/>props.setProperty("annotators","tokenize,ssplit,pos,lemma,ner,depparse");</span><span id="5633" class="mv mw it mr b gy np my l mz na">// build pipeline<br/>StanfordCoreNLP pipeline = new StanfordCoreNLP(props);</span><span id="e33b" class="mv mw it mr b gy np my l mz na">// create a document object and annotate it<br/>CoreDocument document = pipeline.processToCoreDocument(text);<br/>pipeline.annotate(document);</span></pre><p id="9421" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">文件的其余几行将在终端上打印出来，进行几次测试以确保管道工作正常。例如，我们首先获得输入文档的句子列表。</p><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="1e09" class="mv mw it mr b gy mx my l mz na">// get sentences of the document<br/>        List &lt;CoreSentence&gt; sentences = document<strong class="mr iu">.sentences()</strong>;<br/>        System.out.println("Sentences of the document");<br/>        System.out.println(sentences);<br/>        System.out.println();</span></pre><p id="000f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，我们使用 document 对象上的方法<code class="fe nb nc nd mr b">.sentences()</code>获得句子列表。类似地，我们在宾语句子上使用方法<code class="fe nb nc nd mr b">.tokens()</code>得到句子的标记列表，在宾语 tok 上使用方法<code class="fe nb nc nd mr b">.word()</code>和<code class="fe nb nc nd mr b">.lemma()</code>得到单个单词和词条。</p><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="f27f" class="mv mw it mr b gy mx my l mz na">List&lt;CoreLabel&gt; tokens = sentence<strong class="mr iu">.tokens()</strong>;</span><span id="a920" class="mv mw it mr b gy np my l mz na">System.out.println("Tokens of the sentence:");<br/>          for (CoreLabel tok : tokens) {<br/>            System.out.println("Token: " + tok<strong class="mr iu">.word()</strong>);<br/>            System.out.println("Lemma: " + tok<strong class="mr iu">.lemma()</strong>);<br/>          }</span></pre><p id="8630" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要运行这个文件，你只需要把它保存在你的<code class="fe nb nc nd mr b">stanford-corenlp-4.1.0</code>目录下，然后使用命令</p><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="019b" class="mv mw it mr b gy mx my l mz na">java -cp "*" coreNLP_pipeline1_LBP.java</span></pre><p id="67b0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果应该是这样的:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nq"><img src="../Images/48b90b0f234a5297996d97a3e6cd8b78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KattpGDRwTtQT22TWXCvfA.png"/></div></div></figure><p id="7e2f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">例二</strong></p><p id="8727" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第二个例子<em class="mf">coreNLP _ pipeline 2 _ LBP . Java</em>略有不同，因为它读取一个文件<em class="mf"> coreNLP_input.txt </em>作为输入文档，并将结果输出到一个<em class="mf"> coreNLP_output.txt </em>文件。</p><p id="5de5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们使用短篇故事<em class="mf">狐狸和葡萄</em>作为输入文本。这是一份有 2 段 6 句话的文件。处理过程将类似于上面的例子，除了这一次我们还将跟踪段落和句子的编号。</p><p id="cc8c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最大的变化将是关于读取输入和写入最终输出。下面的这段代码将创建输出文件(如果它还不存在)并使用<strong class="kk iu"> PrintWriter </strong>打印列名…</p><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="b559" class="mv mw it mr b gy mx my l mz na">File file = new File("coreNLP_output.txt");<br/>    //create the file if it doesn't exist<br/>    if(!file.exists()){<br/>      file.createNewFile();}</span><span id="cc81" class="mv mw it mr b gy np my l mz na"><strong class="mr iu">PrintWriter</strong> out = new <strong class="mr iu">PrintWriter</strong>(file);</span><span id="7484" class="mv mw it mr b gy np my l mz na">//print column names on the output document      out.println("par_id;sent_id;words;lemmas;posTags;nerTags;depParse");</span></pre><p id="8b83" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">…另一位将使用扫描仪读取输入文档。输入文档将被保存为一个字符串文本，我们可以像示例 1 中那样使用它。</p><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="9915" class="mv mw it mr b gy mx my l mz na"><strong class="mr iu">Scanner</strong> myReader = new <strong class="mr iu">Scanner</strong>(myObj);</span><span id="4832" class="mv mw it mr b gy np my l mz na">while (myReader.hasNextLine()) {<br/>          String text = myReader.nextLine();</span></pre><p id="b2d1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">运行文件<em class="mf">coreNLP _ pipeline 2 _ LBP . Java</em>并生成输出后，可以使用以下 python 代码将其作为 dataframe 打开:</p><pre class="lg lh li lj gt mq mr ms mt aw mu bi"><span id="f0e7" class="mv mw it mr b gy mx my l mz na">df = pd.read_csv('coreNLP_output.txt', delimiter=';',header=0)</span></pre><p id="479f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">产生的数据帧将如下所示，并可用于进一步分析！</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nr"><img src="../Images/987f504567cc49c845527d91487e90d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rDnXjV1DJyvLVjMQETpThQ.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">coreNLP 数据框架</p></figure><ul class=""><li id="89cc" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated"><strong class="kk iu">结论</strong></li></ul><p id="9bd0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如你所看到的，coreNLP 非常容易使用，并且很容易集成到 Python NLP 管道中！你也可以把它直接打印到一个. csv 文件中，并使用其他分隔符，但是我遇到了一些烦人的解析问题。不管怎样，希望你喜欢这篇文章，并且记住完整的代码可以在<a class="ae le" href="https://github.com/laurabravopriegue/coreNLP_tutorial" rel="noopener ugc nofollow" target="_blank"> github </a>上找到。</p><p id="7ba2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在下面的帖子中，我们将开始讨论递归情感分析模型，以及如何在 coreNLP 和 Java 中使用它。请继续关注，了解更多关于✌科伦普的信息🏻</p><ul class=""><li id="4bbe" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated"><strong class="kk iu">参考书目</strong></li></ul><div class="ns nt gp gr nu nv"><a href="https://stanfordnlp.github.io/CoreNLP/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">概观</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">高性能人类语言分析工具，现在带有 Python 中的原生深度学习模块，可用于许多…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">stanfordnlp.github.io</p></div></div><div class="oe l"><div class="of l og oh oi oe oj lp nv"/></div></div></a></div><div class="ns nt gp gr nu nv"><a href="https://stanfordnlp.github.io/CoreNLP/download.html" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">[计] 下载</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">斯坦福 CoreNLP 可以通过下面的链接下载。这将下载一个大的(536 MB) zip 文件，其中包含(1)的…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">stanfordnlp.github.io</p></div></div><div class="oe l"><div class="ok l og oh oi oe oj lp nv"/></div></div></a></div><div class="ns nt gp gr nu nv"><a href="https://stanfordnlp.github.io/CoreNLP/pipeline.html" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">管道</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">CoreNLP 的核心是管道。管道接收文本或 xml，并生成完整的注释对象…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">stanfordnlp.github.io</p></div></div><div class="oe l"><div class="ol l og oh oi oe oj lp nv"/></div></div></a></div><div class="ns nt gp gr nu nv"><a href="https://stanfordnlp.github.io/CoreNLP/api.html" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">CoreNLP API</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">下面是一小段代码，演示了在一些示例文本上运行完整的管道。它需要英国人…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">stanfordnlp.github.io</p></div></div><div class="oe l"><div class="om l og oh oi oe oj lp nv"/></div></div></a></div><div class="ns nt gp gr nu nv"><a href="https://stanfordnlp.github.io/CoreNLP/cmdline.html" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">命令行用法</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">注意:Stanford CoreNLP v.3.5+需要 Java 8，但也可以使用 Java 9/10/11。如果使用 Java 9/10/11，您需要…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">stanfordnlp.github.io</p></div></div><div class="oe l"><div class="on l og oh oi oe oj lp nv"/></div></div></a></div></div></div>    
</body>
</html>