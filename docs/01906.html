<html>
<head>
<title>Big Data in 10 Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10分钟内的大数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/big-data-in-10-minutes-bead3c012ba4?source=collection_archive---------27-----------------------#2020-02-22">https://towardsdatascience.com/big-data-in-10-minutes-bead3c012ba4?source=collection_archive---------27-----------------------#2020-02-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div class="gh gi ir"><img src="../Images/7a24276bd6fee93fe5b5d9d2654ae5e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*Q9uKogp72CCwoeIIKiFbIw.png"/></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">来源:https://www.flickr.com/people/22402885@N00</p></figure><div class=""/><p id="74d3" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">是的，10分钟就可以开始处理您的第一个大数据集！</p><p id="a375" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">在本文中，我将向您展示如何轻松进入大数据世界，前提是您有一些Python背景。</p><p id="617b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">开始这个小旅程的最佳点是首先了解什么是大数据。答案真的取决于你电脑的RAM大小和处理速度。对于传统的PC来说，超过8GB或16GB的任何东西都很难处理。公司的机器可能会吃得更多一点。因此，大数据基本上是任何太大而无法以传统方式处理的数据集。</p><p id="2fa8" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">那么我们如何处理大数据呢？显然，一种方法是购买更多的内存和更强的处理器。但是这非常昂贵，并且也不是可扩展的解决方案。在数据集非常大(&gt; 1TB)的情况下，它可能也不起作用。相反，有一个更好的、可扩展的解决方案。就是在多台计算机/计算单元上划分数据集和工作量。然而，这并不意味着你需要自己购买硬件和连接机器。幸运的是，互联网服务为我们提供了现成的完整计算基础设施。</p><p id="127f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">Amazon AWS就是这样一种服务，用户可以根据需要租用任意数量的计算单元来处理任意数量的数据。计算单元位于亚马逊服务器上，随时听候您的调遣。使用AWS服务的费用是完全透明的，按每小时每单位计算。不要担心，在本例中运行第一次大数据分析的总成本应该不到4美元。</p><p id="c925" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">话虽如此，让我们开始工作吧！</p></div><div class="ab cl la lb hx lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="im in io ip iq"><p id="c8cb" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg">第1步</strong>创建一个亚马逊AWS账户:</p><p id="514b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 1a。</strong>去<a class="ae jc" href="https://aws.amazon.com/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/</a>记账</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lh"><img src="../Images/21bd124e86223dc0e222ba99ca2965ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9GvMIB9i9uESRNhxmbFe9Q.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">创建AWS帐户</p></figure><p id="27b7" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 1b。除了通常的信息，您还需要输入您的信用卡详细信息。这是注册的最后一步。为了检查你的信用卡是否真实，亚马逊AWS会从你的账户中一次性扣除1美元(相当烦人，我同意)。</strong></p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/063dfcd524564743022d6d09fd7ebc12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*IqBtmW-n1f3Rx8irTdYHEg.png"/></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">提供信用卡信息</p></figure><p id="f617" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">在帐户设置期间，选择您的位置:<em class="lr">美国西部(俄勒冈州)</em>(这不是强制性的，但它不会伤害)</p><p id="6dca" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg">步骤2 </strong>是启动您的集群</p><p id="e68c" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 2a。</strong>集群是一群并行工作的计算机实例/处理器的另一种说法。登录您的AWS帐户，进入左上角的S<em class="lr">services</em>，输入<em class="lr"> EMR </em>。这代表Elastic Map Reduce，它是亚马逊的一项并行计算服务。</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/969c7efd19cadb16d9f117abfde963cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*tPAaYSJ3QMAIEI24D7bdTA.png"/></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">亚马逊提供很多服务，选择EMR</p></figure><p id="c999" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 2b。</strong>一旦进入<em class="lr"> EMR，</em>进入左侧面板的<em class="lr">集群</em>，点击<em class="lr">创建集群</em></p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lt"><img src="../Images/c7c72552b1f9e43c499de0d95dcb79f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UxftS7X30Ac9PG_1JPZG7w.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">开始做一个集群</p></figure><p id="24eb" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 2c </strong>。然后点击<em class="lr">进入高级选项</em>，确保你的启动模式设置为<em class="lr">集群。</em></p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lu"><img src="../Images/57acce0822fc1e8abb619023492fd0b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bvHf5MpU0QVE7jXWc015jw.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">转到高级选项</p></figure><p id="6f99" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">一旦你进入高级选项，有4页要填写，按照我下面的方法设置它们。</p><p id="a38e" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 2d。</strong>在第一页(软件和步骤)，确保您使用最新的EMR版本，并选择Spark、Hive和Hadoop。此外，选择泽佩林，色相，Ganglia和猪是一个好主意。点击<em class="lr">下一步。</em></p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lv"><img src="../Images/87b4e9b03d02906eeec99044b221e61e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wj2O_8OTnRQq3abBAZVnig.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">群集高级选项的第一页—软件</p></figure><p id="65bb" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 2e。</strong>在第2页(硬件)中，我们应该选择实例/处理器类型和实例数量。亚马逊AWS提供了许多不同的<a class="ae jc" href="https://aws.amazon.com/ec2/instance-types/" rel="noopener ugc nofollow" target="_blank">实例/处理器类型</a>。它们有不同的用途和<a class="ae jc" href="https://aws.amazon.com/emr/pricing/" rel="noopener ugc nofollow" target="_blank">价格</a>，所以调查哪种配置最适合您的任务是个好主意。</p><p id="161b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">在这个例子中，我选择了五个M5.xlarge处理器(1个主实例和4个核心实例)。这提供了比普通电脑多10倍的内存。事实证明，这样的构造对于处理12 GB和2500万行的数据集已经足够好了。</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lw"><img src="../Images/0c4ca7273a60fb5645664560c7648209.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mkAlQ2bt9o3vb7dNwUyVdQ.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">群集高级选项的第2页—硬件设置</p></figure><p id="712a" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 2f。</strong>在集群高级选项的第3页(常规集群设置),我们应该为集群命名</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lx"><img src="../Images/89958db5fdf5d316556c5c2498daf01a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kEhK53nfmLvUBFnM9j04IA.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">群集高级选项的第3页—常规设置</p></figure><p id="2748" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 2g。</strong>在集群高级选项的第4页(安全)中，您可以设置安全配置。我们不会太关注这个，因此我选择了<em class="lr">在没有EC2密钥对的情况下继续。</em>你可以在这里阅读更多关于EC2密钥对<a class="ae jc" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi ly"><img src="../Images/d02d4629fd3ceb8a4dfdf1ea4aea6ef6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5NUl8Pjv_qmlfyghW42Ruw.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">群集高级选项第4页—安全性</p></figure><p id="3eb9" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 2h。</strong>现在您的集群已经设置好了，点击<em class="lr">创建集群，</em>将出现以下屏幕</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lz"><img src="../Images/46a42b0a4f0547cae83beb847609d0bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eg7ao-fsKS2-Xbd0IZljVw.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">您的集群几乎准备好了</p></figure><p id="2cda" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 2i。</strong>点击左侧窗格中的<em class="lr">集群</em>。您的集群的状态是<em class="lr">开始</em>。一旦集群准备就绪，状态将变为<em class="lr">等待(集群就绪)。</em>此外，一旦集群可以使用，集群名称旁边的空绿色圆圈将变成一个完整的绿色圆圈。随时刷新页面，检查圆圈是否变成全绿色。</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi ma"><img src="../Images/a736106858ba513c4d2126ea422bdab0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MqozoK0BvHXdSvPf58Cl6g.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">等待完整的绿色圆圈出现</p></figure><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mb"><img src="../Images/49b091ba1a1bacb0c3e5117cd2aa5dca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LpQSWH5_B0k3CekgEPOG2A.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">您的集群已经准备好了！</p></figure><p id="c16b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 2j。</strong>现在我们应该为您的代码设置工作空间了。亚马逊EMR在平台中集成了Jupyter笔记本。在左侧窗格中点击<em class="lr">笔记本</em>，然后点击<em class="lr">创建笔记本</em>。</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mb"><img src="../Images/168e5ea235284b6dd6308079ff768120.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7fayPUxNioKDOeuPChhG5g.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">启动Jupyter笔记本</p></figure><p id="c0fe" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 2k。</strong>为您的笔记本命名，然后点击<em class="lr">选择</em>(在集群下)，将您的笔记本连接到您刚刚创建的集群。</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mc"><img src="../Images/be2bafc1c8262776960cc5dc4aaa2612.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QE8ywCv28Sc6qR5_BXpaJg.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">为您的笔记本命名</p></figure><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi md"><img src="../Images/a55afe2bcb2a153337c6e4fb88d7c002.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pK1UVxKV6x64r7OPtwRcsg.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">将您的笔记本电脑连接到集群</p></figure><p id="1f7a" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 2l。</strong>然后点击<em class="lr">选择集群</em>然后<em class="lr">创建笔记本</em>。你的笔记本也需要几分钟准备好。一旦准备就绪，它将从<em class="lr">开始</em>变为<em class="lr">就绪</em>。点击上方中的<em class="lr">打开。</em></p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi me"><img src="../Images/6864865ece29f127cf437b220b88210f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Xgw7sXgetTjhS9I9KnFJQ.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">等到你的笔记本准备好了</p></figure><p id="868b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 2m。您的Jupyter笔记本将在另一个浏览器窗口中打开。一旦打开笔记本，一定要点击<em class="lr">内核/改内核</em> / <em class="lr"> PySpark。这是第二步的最后一部分。</em></strong></p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/39f4986196bd05d79889505dbf7a117e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*9w-py6Tx5ZKbGHVWBWlN7g.png"/></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">将您的Jupyter笔记本设置为PySpark</p></figure><p id="5c6a" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg">第三步</strong>是准备你的(大)数据</p><p id="0f78" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">3a。返回AWS第一页，转到<em class="lr">服务</em>并找到S3。S3是亚马逊提供的一个非常大的云数据库。这是您的数据应该存储的地方。</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mg"><img src="../Images/39bc6976468bc5e632b65fb2080a6931.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bvGoizt-ErhcPcLDJDUrYQ.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">去亚马逊S3</p></figure><p id="79ac" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 3b。</strong>在S3中，点击<em class="lr">创建桶</em>。这是一个存储库，您将在其中上传数据。</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mh"><img src="../Images/e62d0d3537d18ccb497d0ab36ec01d47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jiCdNQOiPjFVzIQJanUoWQ.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">在亚马逊S3创建一个桶</p></figure><p id="2808" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 3c。给你的铲斗起一个独特的名字。亚马逊S3上没有两个桶可以共享同一个名称</strong></p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mi"><img src="../Images/649a09ed11ddbecc440fb6f650c94504.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XXsP1IB4hP6qgiBWLIPFpA.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">给你的S3桶一个独特的名字</p></figure><p id="4e2f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 3d。点击桶来打开它</strong></p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mj"><img src="../Images/f782457a8a3f0d0e1cbfe4f5629f8436.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rgl5nJEJFnf-7kPkmh4iVQ.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">打开你的桶</p></figure><p id="aa79" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 3e。</strong>您现在可以将数据添加到您的存储桶中。对于小于160 GB的文件，您可以简单地将它们拖放到您的存储桶中。(要上传大于160 GB的数据，您必须使用AWS CLI、AWS SDK或亚马逊S3 REST API)</p><p id="dd21" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">出于本教程的目的，您可以继续使用<a class="ae jc" href="https://github.com/maleckicoa/Sparkify-Project/blob/master/sparkify_log_small.json" rel="noopener ugc nofollow" target="_blank">这个虚拟数据集</a>。将其下载到您的本地机器，然后上传到您的bucket。</p><p id="5238" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">虚拟数据集只有几MB，所以不是大数据。如果你有一个合适的大数据集，可以自由地使用它来代替虚拟数据集。</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mk"><img src="../Images/d466973c197862d1f5ec139a304a6b03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O9Ti25wb3q7PvCjS6LzBMw.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">将数据上传到您的铲斗</p></figure><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi ml"><img src="../Images/6390406caf48b4b25e0595d8d288f377.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rDjmWDfdkWRxnDxdRB-Wjg.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">您的数据将出现在存储桶中</p></figure><p id="da2d" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 3f。</strong>查看您的数据是否在桶中</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mb"><img src="../Images/351d322da9a7d314243529027766b466.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cs54Gb6uTW4NA5aB72bZYA.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">您的数据在桶里，准备分析</p></figure><p id="1a1b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 3g。</strong>现在已经为分析做好了一切准备。到您的数据的路径具有以下模式:“s3n:// <em class="lr">您的存储桶名</em> / <em class="lr">您的文件名.扩展名类型</em>”。</p><p id="302f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">您将使用该路径将S3数据导入您的Jupyter笔记本</p><p id="70be" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg">第四步</strong>就是最后做你的大数据分析！</p><p id="caae" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 4a。</strong>从导入基本的PySpark包开始。</p><p id="edaf" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">PySpark是一个API，一个用来支持Python在Spark上运行的工具。Spark是一个集群计算框架，最近几乎成了大数据的同义词。简而言之，Spark正在协调分布在多个处理单元上的工作负载。做大数据，和Spark交互，也可以选择Scala，Java或者R，而不是Python(PySpark)。</p><p id="7f39" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">因为我对Python很熟悉，所以在这个例子中我选择了PySpark。你会发现PySpark与原生Python语法非常相似，但是万一遇到困难，你可以在这里查找<a class="ae jc" rel="noopener" target="_blank" href="/pyspark-and-sparksql-basics-6cb4bf967e53">。</a></p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mm"><img src="../Images/712ed7cc03b95030477a14c8c12146fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CEntnNQyoAySHsZ1JLPdEA.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">导入PySpark包</p></figure><p id="bd99" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 4b。</strong>创建一个Spark会话，并使用之前创建的路径从Bucket导入数据。</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mn"><img src="../Images/3ba514c2c7afae19746744f64ccfbff1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aXTC-mbVpIR-QpwWjTgFng.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">将数据导入Jupyter笔记本</p></figure><p id="30db" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 4c。</strong>做你的分析。您可以选择PySpark或SQL语法。如果您选择使用SQL语法，不要忘记创建临时表。您只能对临时表运行查询，而不能直接对PySpark数据框运行查询。</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mo"><img src="../Images/8f79b8e6dfc74d22a658bad4b0a5f8ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nj8dMVGlJbn424sHdZ2l2g.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">选择本机PySpark或SQL语法来处理您的数据</p></figure><p id="e27d" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">如果你想对你的数据运行ML算法，<a class="ae jc" rel="noopener" target="_blank" href="/machine-learning-with-pyspark-and-amazon-emr-3149dbc847ae">这里的</a>是一个关于如何在PySpark中完成的例子。</p><p id="37ff" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg">第5步</strong>是终止您的会话</p><p id="8a0f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 5a。</strong>完成分析后，确保终止集群。否则你可能会付出高昂的代价。返回<em class="lr">服务/ EMR/集群</em>并点击<em class="lr">终止。</em></p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mp"><img src="../Images/f52bfe0f929899dbcbc7ac750e263f4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oqr4--fOTJYIR9rZN6sQdQ.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">不要忘记终止集群</p></figure><p id="075e" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 5b。</strong>集群需要几分钟才能关闭</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mq"><img src="../Images/19c43de964714143b1b16937c844dd5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*73wmIMnzEJKCwVZzBxjI7g.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">检查集群是否正在终止</p></figure><p id="51d7" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 5c。之后，你应该<em class="lr">停止</em>或<em class="lr">删除</em>你的笔记本，同时删除你的S3桶。只要保存在AWS服务器上，这两者都会产生(实际上非常小的)成本。所以如果真的不需要，就删掉。在删除之前，不要忘记在本地下载您的笔记本，否则您会丢失代码。</strong></p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mr"><img src="../Images/3b745e3638a1c5b5529c287123da28b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pVBA9ZrHtg2UWpmiaujXAg.png"/></div></div></figure><p id="c011" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 5d。</strong>删除你的S3桶</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi ms"><img src="../Images/1c167448b25c6ccbada6843e5c3476e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xV8ULwi5ZgX_jPc-mitpog.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">删除您的存储桶</p></figure><p id="5894" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 5e。</strong>最后一步是前往您的账户名称/ <em class="lr">我的账单仪表板</em>查看您的账单</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mt"><img src="../Images/f587de3670bec256946fd44f9cde50f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kj0-fkapjCEWICwRYYD2qg.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">检查您的账单仪表板</p></figure><p id="b970" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke jg"> 5f。</strong>如前所述，如果您正确地遵循了所有步骤，那么本次练习的总账单不会超过3美元，还不包括1美元的信用卡检查费。(正如您在下面看到的，我设法产生了更高的成本，但这只是因为我运行了几天我的集群)。</p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mu"><img src="../Images/d8dfde256a59907bc11868c129166049.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sUAQYH6_KrJFR7mTr9sl_A.png"/></div></div><p class="iy iz gj gh gi ja jb bd b be z dk translated">计费仪表板提供了一些不错的AWS成本可视化</p></figure></div><div class="ab cl la lb hx lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="im in io ip iq"><h1 id="5297" class="mv mw jf bd mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns bi translated">总结</h1><p id="29e5" class="pw-post-body-paragraph kc kd jf ke b kf nt kh ki kj nu kl km kn nv kp kq kr nw kt ku kv nx kx ky kz im bi translated">我们的小旅程即将结束，让我们快速总结一下我们所经历的上述步骤:</p><ul class=""><li id="d091" class="ny nz jf ke b kf kg kj kk kn oa kr ob kv oc kz od oe of og bi translated">开立亚马逊AWS账户</li><li id="d736" class="ny nz jf ke b kf oh kj oi kn oj kr ok kv ol kz od oe of og bi translated">使用AWS EMR服务设置并激活您的集群</li><li id="73d1" class="ny nz jf ke b kf oh kj oi kn oj kr ok kv ol kz od oe of og bi translated">制作一个Jupyter笔记本，并将其与您的集群连接</li><li id="0395" class="ny nz jf ke b kf oh kj oi kn oj kr ok kv ol kz od oe of og bi translated">将您的数据上传到亚马逊S3</li><li id="d835" class="ny nz jf ke b kf oh kj oi kn oj kr ok kv ol kz od oe of og bi translated">运行分析</li></ul><h1 id="445f" class="mv mw jf bd mx my om na nb nc on ne nf ng oo ni nj nk op nm nn no oq nq nr ns bi translated">就是这样！:)</h1><h1 id="d734" class="mv mw jf bd mx my om na nb nc on ne nf ng oo ni nj nk op nm nn no oq nq nr ns bi translated">祝贺您设置了您的第一个大数据分析！！</h1><p id="d8d7" class="pw-post-body-paragraph kc kd jf ke b kf nt kh ki kj nu kl km kn nv kp kq kr nw kt ku kv nx kx ky kz im bi translated">如果您做的一切都正确，完成上述配置步骤应该需要大约10分钟。我希望这篇文章对您有用，并祝您在未来的大数据事业中取得更大的成功！</p></div></div>    
</body>
</html>