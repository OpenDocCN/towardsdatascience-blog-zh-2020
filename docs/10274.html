<html>
<head>
<title>Data normalization with Pandas and Scikit-Learn</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Pandas 和 Scikit 实现数据标准化-学习</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-normalization-with-pandas-and-scikit-learn-7c1cc6ed6475?source=collection_archive---------2-----------------------#2020-07-20">https://towardsdatascience.com/data-normalization-with-pandas-and-scikit-learn-7c1cc6ed6475?source=collection_archive---------2-----------------------#2020-07-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="631b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">清洁数据集的完整指南—第 1 部分</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9c6f9504dce778b873cdaf20bbc8d586.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EjO5HnibKnuUpgGc"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">杰里米·帕金斯在<a class="ae ky" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="9869" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个<strong class="lb iu">机器学习算法</strong>的成功高度依赖于输入模型的数据质量。真实世界的数据通常是脏的，包含异常值、缺失值、错误的数据类型、不相关的要素或非标准化的数据。这些中的任何一个的存在都将阻止机器学习模型正确地学习。出于这个原因，将原始数据转换成有用的格式是机器学习过程中的一个重要阶段。在预处理数据时，您会多次遇到的一种技术是<strong class="lb iu">归一化</strong>。</p><p id="fe10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">数据规范化</strong>是机器学习中的常见做法，它包括将<strong class="lb iu">数字列</strong>转换为<strong class="lb iu">通用比例。</strong>在机器学习中，一些特征值会多次与其他特征值不同。具有较高值的特征将主导学习过程。然而，这并不意味着这些变量对预测模型的结果更重要。<strong class="lb iu">数据标准化</strong>将多尺度数据转换为相同尺度。归一化后，所有变量对模型有<strong class="lb iu">相似的影响</strong>，提高了学习算法的稳定性和性能。</p><p id="ed05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">统计学中有多种<strong class="lb iu">归一化技术</strong>。在本文中，我们将讨论最重要的几个问题:</p><ol class=""><li id="45ef" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><strong class="lb iu">最大绝对缩放比例</strong></li><li id="bbef" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">最小-最大特征缩放</strong></li><li id="d81e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">z 值法</strong></li><li id="24a3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">稳健缩放</strong></li></ol><p id="48d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，我们将用<strong class="lb iu">熊猫</strong>和<strong class="lb iu"> Scikit-Learn </strong>解释如何实现它们。</p><p id="7b01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，让我们开始吧💙</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="555d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下数据框包含用于预测二手车价格的<strong class="lb iu">多元回归模型</strong>的输入(独立变量):(1)里程表读数(km)和(2)燃油经济性(km/l)。在本文中，我们使用一个小数据集进行学习。然而，在现实世界中，所使用的数据集将会大得多。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/558365502236b970f0c9fa757077c182.png" data-original-src="https://miro.medium.com/v2/resize:fit:486/format:webp/1*ptiMV65pi-0Q4_jdkxrqLQ.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/1ee08f69f7d0a4940bc4c98ff5c256af.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*b1NGUSUFxs4HPbLw48H9kQ.png"/></div></figure><p id="0e20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以观察到，里程表读数从 120000 到 400000，而燃油经济性从 10 到 17。<strong class="lb iu">多元线性回归</strong>模型将比燃油经济性属性更重视里程表读数变量，因为它的值更高。然而，这并不意味着里程表读数属性作为一个预测因素更重要。为了解决这个问题，我们必须用<strong class="lb iu">归一化</strong>两个变量的值。❤️</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="1b80" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">最大绝对比例</h1><p id="7500" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated"><strong class="lb iu">最大绝对缩放</strong>通过将每个观察值除以其最大绝对值，在-1 和 1 之间重新缩放每个特征<strong class="lb iu">。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/6cd7f23dc16f3b26170de6bccd4cd776.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*qa_W9JzNscAXpTtc44yhow.png"/></div></figure><p id="787b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用<strong class="lb iu">在<strong class="lb iu">熊猫</strong>中应用<strong class="lb iu">最大绝对缩放</strong>。max() </strong>和<strong class="lb iu">。abs() </strong>方法，如下所示。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/a55f8b8401d5084bae958eb75fb739dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*cTK4hAqrXApcgKTom0e5cw.png"/></div></figure><p id="7422" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，我们可以使用<strong class="lb iu"> Scikit-learn </strong>库来计算<strong class="lb iu">最大绝对缩放比例</strong>。首先，我们用 maxabscaler 类创建一个 abs_scaler。然后，我们使用<strong class="lb iu">拟合方法</strong>学习缩放数据所需的参数(每个特征的<strong class="lb iu">最大绝对值</strong>)。最后，我们使用这些参数来转换数据。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/8c3157c744d3c5e1b151aca7292a5b2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:484/format:webp/1*a2JTSG2Uavnz6YcR2jX2KA.png"/></div></figure><p id="522f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你所观察到的，我们使用<strong class="lb iu"> Pandas </strong>和<strong class="lb iu"> Scikit-learn </strong>获得了相同的结果。下图显示了执行最大绝对缩放后的转换数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/c368f90fd5fecd7d0c7a16acc3786251.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*T2TzlRNjKWFW36PSwR5W2Q.png"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="55ce" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">最小-最大要素缩放</h1><p id="d901" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated"><strong class="lb iu">最小-最大方法</strong>(通常称为<strong class="lb iu">归一化</strong>)通过减去特征的最小值然后除以范围，将特征重新缩放到<strong class="lb iu"> [0，1] </strong>的<strong class="lb iu">固定范围</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/45f9c806c7026a5c882d8d8456b35441.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*wJqdWdLdjBJqGbaDRWVZnQ.png"/></div></figure><p id="73cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用<strong class="lb iu">在<strong class="lb iu">熊猫</strong>中应用<strong class="lb iu">最小-最大缩放</strong>。min() </strong>和<strong class="lb iu">。max() </strong>方法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/6bc31bf62f7abc0aeb8a34d11009c273.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*aaWT4ygK90U7yV-DcsDn1Q.png"/></div></figure><p id="20a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，我们可以使用<strong class="lb iu"> Scikit-learn </strong>库中可用的<strong class="lb iu"> MinMaxScaler </strong>类。首先，我们创建一个<strong class="lb iu">缩放器对象</strong>。然后，我们<strong class="lb iu">拟合</strong>缩放器参数，这意味着我们计算每个特征的最小和最大值。最后，我们使用这些参数对数据进行转换。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/baafc3867c48e9f899b9e58810e0c346.png" data-original-src="https://miro.medium.com/v2/resize:fit:468/format:webp/1*LmJhMg--PJgmv72JnSuClQ.png"/></div></figure><p id="ab48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，我们可以获得由<strong class="lb iu"> fit </strong>函数计算的最小值和最大值，以便用<strong class="lb iu"> data_min_ </strong>和<strong class="lb iu"> data_max_ </strong>属性对数据进行归一化。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="029b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下图显示了应用最小-最大要素缩放后的数据。正如您所观察到的，这种标准化技术将所有特征值重新调整到[0，1]的范围内。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/fd9fa157fe4f9121344e8f5238227159.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*jm0ZBUgQsseN-j6wyfodLw.png"/></div></figure><p id="09e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你所观察到的，我们使用<strong class="lb iu">熊猫</strong>和<strong class="lb iu"> Scikit-learn </strong>获得了相同的结果。但是，如果您想要执行许多数据转换步骤，建议使用<strong class="lb iu">最小最大缩放器</strong>作为<strong class="lb iu">管道</strong>构造器的输入，而不是使用<strong class="lb iu">熊猫</strong>执行规范化。</p><p id="b7f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，切记<strong class="lb iu">最大绝对缩放</strong>和<strong class="lb iu">最小-最大缩放</strong>对<strong class="lb iu">异常值</strong>非常敏感，因为单个异常值会影响最小和最大值，并对结果产生重大影响。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="3d51" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">z 得分法</h1><p id="6139" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated"><strong class="lb iu"> z-score 方法</strong>(通常称为<strong class="lb iu">标准化</strong>)将数据转换为一个<strong class="lb iu">均值为 0 </strong>、<strong class="lb iu">标准差为 1 </strong>的分布。通过减去相应特征的平均值<strong class="lb iu">然后除以标准偏差</strong>来计算每个标准化值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/2286b00b016544bc2151ea842da9f906.png" data-original-src="https://miro.medium.com/v2/resize:fit:346/format:webp/1*Qy9qhRvqU0pOfADth0Njhw.png"/></div></figure><p id="ed5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与<strong class="lb iu">最小-最大缩放</strong>不同，<strong class="lb iu"> z 分数</strong>不会将特征重新缩放至固定范围。如果输入呈正态分布，则<strong class="lb iu"> z 值</strong>通常在<strong class="lb iu"> -3.00 到 3.00 </strong>(超过数据的 99%)之间。但是，标准化值也可以更高或更低，如下图所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/2aa9af29309ad2aa4aa68ab59478c464.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*cDUtW2cNIZ7L5XrdOkiucQ.png"/></div></figure><p id="2e5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重要的是要记住<strong class="lb iu"> z 分数</strong>不一定是正态分布的。它们只是缩放数据，并遵循与原始输入相同的分布。该变换后的分布具有平均值为 0 的<strong class="lb iu">和标准差为 1 </strong>的<strong class="lb iu">，并且只有在输入要素遵循正态分布的情况下才会成为<strong class="lb iu">标准正态分布</strong>(见上图)。</strong></p><p id="dbad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用<strong class="lb iu">来计算<strong class="lb iu">熊猫</strong>中的<strong class="lb iu"> z 分数</strong>。均值()</strong>和<strong class="lb iu"> std() </strong>方法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/c25ad5f4d027cb0d13a571436a4e205b.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*Nr4wNWMmpaxGJASf3oq4Kw.png"/></div></figure><p id="01ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，我们可以使用<strong class="lb iu"> Scikit-learn </strong>库中可用的<strong class="lb iu"> StandardScaler </strong>类来执行 z-score。首先，我们创建一个<strong class="lb iu">标准缩放器</strong>对象。然后，我们使用<strong class="lb iu">计算转换的参数(在这种情况下，<strong class="lb iu">表示</strong>和<strong class="lb iu">标准偏差</strong>)。</strong>方法契合()。接下来，我们称之为<strong class="lb iu">。transform() </strong>方法将标准化应用于数据帧。<strong class="lb iu">。transform() </strong>方法使用从<strong class="lb iu">生成的参数。fit() </strong>方法来执行 z-score。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/294a1c26037551caf72cc17434a5479c.png" data-original-src="https://miro.medium.com/v2/resize:fit:468/format:webp/1*9JttcFlMtYed79sdAQLXrQ.png"/></div></figure><p id="1573" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了简化代码，我们使用了<strong class="lb iu">。fit_transform()方法</strong>将两种方法(fit 和 transform)结合在一起。</p><p id="c5ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你所观察到的，这些结果与使用<strong class="lb iu">熊猫</strong>获得的结果不同。<strong class="lb iu"> StandardScaler </strong>函数计算<strong class="lb iu">总体标准差</strong>，其中平方和除以<strong class="lb iu"> N </strong>(总体中值的数量)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/7420247c8053f70fa10b12b871b5cb19.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*-MLQB6P2HhXUsb7Xr2DkpA.png"/></div></figure><p id="a300" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">反之，<strong class="lb iu">。std()方法</strong>计算<strong class="lb iu">样本标准差</strong>，其中公式的分母是<strong class="lb iu"> N-1 </strong>而不是<strong class="lb iu"> N </strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/50fce9fd3c231d102958c980531b0f3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/format:webp/1*gguzxyuZ1h0QHS64gPbThw.png"/></div></figure><p id="7886" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使用 Pandas 获得相同的结果，我们将参数<strong class="lb iu"> ddof </strong>设置为等于 0(默认值为 ddof=1)，它表示计算中使用的除数(<strong class="lb iu"> N-ddof </strong>)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/332c416a2cf54ffc85d450155ec4f672.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*kBDGoe_C5qlMfAoQ7CTTZQ.png"/></div></figure><p id="c62b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以获得由<strong class="lb iu"> fit </strong>函数计算的参数，用于标准化具有<strong class="lb iu"> mean_ </strong>和<strong class="lb iu"> scale_ </strong>属性的数据。如你所见，当在<strong class="lb iu">中设置参数<strong class="lb iu"> ddof 等于 0 </strong>时，我们在<strong class="lb iu"> Scikit-learn </strong>和<strong class="lb iu"> Pandas </strong>中获得相同的结果。std() </strong>方法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="daab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下图显示了应用 z 得分方法后的数据，该方法是使用总体标准差(除以 N)计算的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/0a78da58eee9ad2aafca25e0d93b5a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*IgKqVlT_C_lsHAJDVuAFiQ.png"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="35ff" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">稳健的缩放</h1><p id="053f" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在<strong class="lb iu">稳健缩放</strong>中，我们通过减去<strong class="lb iu">中值</strong>然后除以<strong class="lb iu">四分位间距</strong>来缩放数据集的每个特征。<strong class="lb iu">四分位数范围(IQR) </strong>定义为第三个<strong class="lb iu">和第一个四分位数</strong>之间的差值，代表数据的中间 50%。数学上，鲁棒定标器可以表示为:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/f256a76b125d1cabac8ceff585d4a9dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:514/format:webp/1*IB6PRhdSwVkOR9AyI_bhyg.png"/></div></figure><p id="e01d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中<strong class="lb iu"> Q1(x) </strong>是属性 x 的<strong class="lb iu">第一个四分位数</strong>，<strong class="lb iu"> Q2(x) </strong>是<strong class="lb iu">中位数</strong>，<strong class="lb iu"> Q3(x) </strong>是<strong class="lb iu">第三个四分位数</strong>。</p><p id="b6be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种方法在处理包含许多<strong class="lb iu">异常值</strong>的数据集时非常方便，因为它使用的统计数据对<strong class="lb iu">异常值</strong> ( <strong class="lb iu">中值</strong>和<strong class="lb iu">四分位距</strong>)非常稳健，而以前的定标器使用的统计数据受<strong class="lb iu">异常值</strong>的影响很大，如<strong class="lb iu">最大值</strong>、<strong class="lb iu">最小值</strong>、<strong class="lb iu">平均值</strong>和<strong class="lb iu"/></p><p id="58be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看<strong class="lb iu">异常值</strong>如何影响使用<strong class="lb iu">最小-最大缩放</strong>和<strong class="lb iu">鲁棒缩放</strong>缩放数据后的结果。</p><p id="64b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下数据集包含 10 个数据点，其中一个是异常值<strong class="lb iu"/>(变量 1 = 30)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/5efaf52e430015b51089e03efc38230f.png" data-original-src="https://miro.medium.com/v2/resize:fit:328/format:webp/1*QnEUJYtEpFwMiJdJXk-fqw.png"/></div></figure><p id="4114" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">最小-最大缩放</strong>将变量 1 移向 0，因为与变量 2 相比存在<strong class="lb iu">异常值</strong>，变量 2 的点在 0 到 1 的范围内均匀分布。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/efd7debf8432ce8dd32290ff3b6d40cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:318/format:webp/1*IwL8dAUJGHBc9eTSs2pC_Q.png"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/132628c2b93fe8b756a59a88fa0901cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*lHx6tV4QWjDKRk0FoNvW9w.png"/></div></figure><p id="679d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">缩放前，第一个数据点的值为(1，1)，变量 1 和变量 2 的值相等。转换后，变量 2 的值远大于变量 1 (0.034，0.142)。这是因为变量 1 有一个<strong class="lb iu">异常值</strong>。</p><p id="232c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，如果我们应用<strong class="lb iu">鲁棒缩放</strong>，两个变量在变换后具有相同的值(-1.00，-1.00)，因为两个特征具有相同的<strong class="lb iu">中值</strong>和<strong class="lb iu">四分位间距</strong>，是被移动的值<strong class="lb iu">异常值</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/710c34d40ebf1f334f2c754b3f9e92f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:336/format:webp/1*0D5LH-HnaNVCUfQSYsCqYw.png"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/75dcee24f8462057d540302a419dbee1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*L9sZcvvSwVtJ2SDxjXeTiA.png"/></div></figure><p id="6fbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，是时候对汽车数据集应用健壮的缩放了💜</p><p id="9006" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们之前所做的，我们可以使用<strong class="lb iu"> Pandas </strong>来执行健壮的缩放。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/1e0f8209df2bfa78b721a50c284b7e89.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*zlda0_0RucswDWXCgkYcaw.png"/></div></figure><p id="573c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">中值</strong>被定义为分布的中点，意味着分布值的 50%小于<strong class="lb iu">中值</strong>。在<strong class="lb iu">熊猫</strong>中，我们可以用<strong class="lb iu">来计算。中位数()</strong>或<strong class="lb iu">。分位数(0.5) </strong>方法。<strong class="lb iu">第一个四分位数</strong>是数据集下半部分的中值(25%的值位于第一个四分位数以下)，可以用<strong class="lb iu">计算。分位数(0.25) </strong>法。<strong class="lb iu">第三个四分位数</strong>代表数据集上半部分的中值(75%的值位于第三个四分位数之下)，可以用<strong class="lb iu">计算。【分位数(0.75)】法。</strong></p><p id="174e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为对<strong class="lb iu"> Pandas </strong>的替代，我们也可以使用<strong class="lb iu"> Scikit-learn </strong>库来执行<strong class="lb iu">健壮缩放</strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/3d24773da7146a5de34f5445cfad6530.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/format:webp/1*K9NzQ0KpPD19c3y9uw5BAA.png"/></div></figure><p id="c9cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如上所示，我们获得了与之前相同的结果🙌</p><p id="2141" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下图显示了使用鲁棒缩放转换数据后的结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/eb6e46b5512ff71df11d657bdeb054c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*Nr7vLwNWnUiScaeY16s9pw.png"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="835a" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">摘要</h1><p id="584d" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">数据规范化包括将<strong class="lb iu">数字列</strong>转换为<strong class="lb iu">通用比例。在 Python 中，我们可以用非常简单的方式实现数据规范化。Pandas 库包含多种用于计算最常见的描述性统计函数的内置方法，这使得数据标准化技术非常容易实现。作为另一种选择，我们可以使用 Scikit-Learn 库将数据转换成通用的标度。在这个库中，已经实现了最常用的缩放方法。</strong></p><p id="cb89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了数据标准化，我们还必须应用多种数据预处理技术来保证学习算法的性能。我们将在以后的文章中讨论其中的一些。🙌</p><p id="cce4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读:)</p><p id="6172" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">阿曼达💜</p></div></div>    
</body>
</html>