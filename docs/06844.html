<html>
<head>
<title>The impact of rules on queries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">规则对查询的影响</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-impact-of-rules-on-queries-e69468dadf98?source=collection_archive---------74-----------------------#2020-05-27">https://towardsdatascience.com/the-impact-of-rules-on-queries-e69468dadf98?source=collection_archive---------74-----------------------#2020-05-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1e5d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">实现数据中的知识</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dd0e56fb9c729968f38551855df65902.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HCoxvBFahOivW7vJsZSdVg.jpeg"/></div></div></figure><p id="4355" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">应用程序处理和操作数据的逻辑通常由位于数据库和表示层之间的应用程序或逻辑层控制。这就形成了必须符合数据库结构的请求。下图代表了经典的三层体系结构，世界上大多数 IT 系统都是在此基础上构建的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/7edafd2a0864c106b54c87d7c4d49100.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*bG_IaMrIwOvbGoEkV6_pug.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated"><a class="ae lv" href="https://en.wikipedia.org/wiki/Multitier_architecture#Three-tier_architecture" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Multitier _ architecture #三层架构</a></p></figure><p id="bb9c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然而，知识图提出了这种设计的范式转变，模糊了逻辑和数据之间的界限。通过将领域的一些知识通过规则带入图中，知识图捕获的不仅仅是系统中的数据。因此，规则可以使查询和请求更容易编写和管理，这反过来又使应用程序更灵活、更不容易出错、更快。</p><p id="d86d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">本文将介绍一个简单的例子来展示规则对查询设计的影响。这个例子将在由 Oxford Semantic Technologies 开发的高性能知识图和语义推理引擎 RDFox 上演示。</p><h1 id="9216" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">介绍规则</h1><p id="15af" class="pw-post-body-paragraph ku kv it kw b kx mo ju kz la mp jx lc ld mq lf lg lh mr lj lk ll ms ln lo lp im bi translated">规则是一个逻辑语句，它扫描图形以寻找与规则匹配的数据模式。</p><p id="76e9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">考虑 RDFox 控制台中呈现的下图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/539cf8ffc3b02fd8a261b50dac69e873.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*hHwj6WEPJgABL_cyWE-b-g.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">为此示例导入的原始数据片段。</p></figure><p id="8293" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从图中很容易判断出道格拉斯·亚当斯和查理·卓别林出生在英国，因此他们是英国漫画家。在经典的分层方法中，可以在中间层编写逻辑，以原始形式直接查询基图。根据定义，这个查询将比我们直接查询所有英国漫画的知识图更复杂。</p><p id="58cc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第一个规则作用于关系的子类，对于我们的数据，这使得道格拉斯·亚当斯和查理·卓别林之间的直接类型关系成为喜剧。</p><p id="d573" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe mu mv mw mx b">[?x, a, ?z] :- [?x, a, ?y], [?y, :subClassOf, ?z] .</code></p><p id="f18e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，我们将英国漫画的概念引入图表。为了添加这个概念，我们可以在 Datalog 中使用一个简单的规则来实现英国漫画关系:</p><p id="3841" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe mu mv mw mx b">[?x, a, :UKComic] :- [?x, a, :Comic] , [?x, :born_in, :uk] .</code></p><p id="fb05" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">也就是说:</p><p id="88db" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果<code class="fe mu mv mw mx b">?x</code>是一个<code class="fe mu mv mw mx b">:Comic</code>，而<code class="fe mu mv mw mx b">?x</code>是<code class="fe mu mv mw mx b">born_in</code> <code class="fe mu mv mw mx b">:uk</code>，那么<code class="fe mu mv mw mx b">?x</code>就是一个<code class="fe mu mv mw mx b">:UKComic</code>。</p><h1 id="0560" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">具体化规则</h1><p id="c33a" class="pw-post-body-paragraph ku kv it kw b kx mo ju kz la mp jx lc ld mq lf lg lh mr lj lk ll ms ln lo lp im bi translated">RDFox 将扫描数据存储中满足规则主体的三元组。每当“<code class="fe mu mv mw mx b">:-</code>”符号后的模式得到满足时，RDFox 就会向图中添加一个<code class="fe mu mv mw mx b">:UKComic</code>三元组，并在找到所有英国漫画后停止。</p><p id="f338" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">结果如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi my"><img src="../Images/c431c572cf42c72d73220f19c844f6d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*ZztKJGydXkxsgnmHyjZkeg.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">与前面显示的相同的片段显示了规则添加的内容。特别是与新的英国漫画概念的直接联系。</p></figure><p id="5a8c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用 RDFox，一旦规则被导入到数据存储中，或者每当新的数据点被添加到数据存储中时，这些三元组就被规则具体化。例如，一部在英国诞生的新漫画在被添加到图表中时会被自动标记为<code class="fe mu mv mw mx b">:UKComic</code>。</p><h1 id="ddf9" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">规则如何帮助查询？</h1><p id="1be3" class="pw-post-body-paragraph ku kv it kw b kx mo ju kz la mp jx lc ld mq lf lg lh mr lj lk ll ms ln lo lp im bi translated">在第一个图中，要获取英国漫画，查询必须首先识别在英国出生的实体，然后识别漫画实体，然后返回两个答案中存在的实体。在 SPARQL 中，查询可以用以下方式表示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/115fcff72c8a781d7d9867702ecbbb16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*8xd6Ii8r8bCIeLPi6mFgvQ.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">原始查询针对源数据运行。</p></figure><p id="d61f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用英国漫画规则，回答相同问题的查询要简单得多，因为它只搜索<code class="fe mu mv mw mx b">:UKComic</code>实体:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi na"><img src="../Images/6c5195b8280148590fa45ef3c7f680af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*_xBIEjCyaPrbocK8rCLKCg.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">使用 new :UKComic 概念的简化查询。</p></figure><p id="4802" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们还可以注意到，简化的查询执行起来更快。这在更大的数据集和更复杂的查询中变得更加明显。</p><p id="7fdb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">规则通过以一致和可管理的方式扩展原始数据来提供帮助:随着新数据的添加，相同的规则也会触发。重要的是，如果数据被删除，反之亦然，并且先前触发的规则的后果被撤销。</p><p id="601c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因此，用规则对经常搜索的概念进行建模有助于更快地回答问题，但由于查询更简单，它们也使中间层更容易维护。更简单的查询使应用程序更加灵活。</p><p id="0af2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">大多数查询可以通过规则的 IF 部分来建模，这意味着许多现有的应用程序可以通过知识图变得更快、更灵活。如果您当前的架构无法提供用户所需的查询性能，为什么不使用规则将数据的逻辑推送到知识图中呢？尝试使用 RDFox 结合规则编写查询，您可以在这里注册试用<a class="ae lv" href="https://www.oxfordsemantic.tech/product" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="4824" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要了解更多关于知识图表的信息，请点击阅读我们在 TDS <a class="ae lv" rel="noopener" target="_blank" href="/the-intuitions-behind-knowledge-graphs-and-reasoning-59df2f1ad054">上的介绍。</a></p><h2 id="5743" class="nb lx it bd ly nc nd dn mc ne nf dp mg ld ng nh mi lh ni nj mk ll nk nl mm nm bi translated">关于牛津语义技术</h2><p id="e30b" class="pw-post-body-paragraph ku kv it kw b kx mo ju kz la mp jx lc ld mq lf lg lh mr lj lk ll ms ln lo lp im bi translated">牛津语义技术公司(Oxford Semantic Technologies)背后的团队于 2011 年在牛津大学计算机科学系开始研究 RDFox，他们坚信灵活和高性能的推理是数据广泛应用的一种可能性，而不会危及结果的正确性。RDFox 是第一个面向市场的知识图，它是基于推理从头开始设计的。牛津语义技术公司是牛津大学的一个分支，由主要投资者支持，包括三星风险投资公司(<a class="ae lv" href="https://www.samsungventure.co.kr/english_main.do" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu"/></a>)、牛津科学创新公司(<a class="ae lv" href="https://www.oxfordsciencesinnovation.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> OSI </strong> </a>)和牛津大学的投资部门(<a class="ae lv" href="https://innovation.ox.ac.uk/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> OUI </strong> </a>)。作者很自豪能成为这个团队的一员，也是已故伟大的道格拉斯·亚当斯的粉丝。</p><p id="585b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">由<a class="ae lv" href="https://unsplash.com/@pawel_czerwinski?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">paweczerwi324ski</a>在<a class="ae lv" href="https://unsplash.com/@pawel_czerwinski?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></div></div>    
</body>
</html>