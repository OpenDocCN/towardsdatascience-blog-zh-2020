<html>
<head>
<title>How to Visualize Social Network With Graph Theory</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用图论可视化社交网络</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-visualize-social-network-with-graph-theory-4b2dc0c8a99f?source=collection_archive---------15-----------------------#2020-02-29">https://towardsdatascience.com/how-to-visualize-social-network-with-graph-theory-4b2dc0c8a99f?source=collection_archive---------15-----------------------#2020-02-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="efbc" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">找出《权力的游戏》中的影响者</h2></div><h1 id="1aa4" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">动机</h1><p id="fe4e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">读完G. R. R .马丁的《冰之歌与被解雇》系列<em class="lw">的书，作为《权力的游戏》的忠实粉丝，你可能会好奇谁是维斯特洛最有影响力的人。或者你知道艾德·史塔克和蓝道·塔利是有联系的，但不太清楚它们到底是如何联系的。他们是由第三人还是第四人联系在一起的？如果能把网络形象化，是不是很棒？</em></p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi lx"><img src="../Images/99494f430adba3a16640f5f0e0189107.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sgB9K4_zgAoNnjdq"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">照片由<a class="ae mn" href="https://unsplash.com/@williamk?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">威廉·克劳斯</a>在<a class="ae mn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="a3a6" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">作为数据爱好者，您决定搜索相关数据进行分析。幸运的是，你找到了乔治·r·r·马丁《冰与火之歌》的<a class="ae mn" href="https://github.com/mathbeveridge/asoiaf" rel="noopener ugc nofollow" target="_blank">人物互动网络数据</a>。这是多么令人兴奋啊！但是数据包含节点和边的列表。它们到底是什么意思，你应该从哪里开始？别担心。我支持你。让我们来理解什么是图，以及图如何帮助我们理解社交网络。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="76b6" class="ki kj it bd kk kl na kn ko kp nb kr ks jz nc ka ku kc nd kd kw kf ne kg ky kz bi translated">什么是图？</h1><p id="7c91" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">图是包含<strong class="lc iu">个顶点</strong>(或节点)和<strong class="lc iu">的结构，每一对相关的顶点称为一条边</strong>。这些边可以是有向的或无向的。定向意味着一个方向。人A可能喜欢人B，但是人B可能不喜欢人A。如果A和B握手，那也意味着B和A握手</p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/530abe40f120a1d70e6f883cc066970a.png" data-original-src="https://miro.medium.com/v2/resize:fit:446/format:webp/1*aE_QGumydQwbZ2b7LZgNlg.png"/></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">有六个顶点和七条边的图。检索自<a class="ae mn" href="https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></figure><p id="15f3" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">有了图的结构，它可以用来有效地可视化社会网络。想知道团队中成员的影响者？我们可以立即看到拥有最多连接(边)的人(节点)是影响者。</p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi ng"><img src="../Images/7024e1d9447634e6cc8ca267c677977d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sp26hwnYNVMS0LWJXJBEPQ.png"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">从<a class="ae mn" href="https://appsource.microsoft.com/es-es/product/power-bi-visuals/WA104381236?tab=Overview" rel="noopener ugc nofollow" target="_blank">微软</a>检索</p></figure><p id="a60b" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">太好了！我们知道为什么图表在可视化网络方面是有用的。让我们看看如何创建图表，并使用它来可视化《权力的游戏》中的角色网络！</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="836c" class="ki kj it bd kk kl na kn ko kp nb kr ks jz nc ka ku kc nd kd kw kf ne kg ky kz bi translated">探索数据</h1><p id="a0ea" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我把几本书的多个数据合并成两个文件:节点数据<code class="fe nh ni nj nk b">‘ASOIAF_nodes.csv’,</code>和边数据<code class="fe nh ni nj nk b">‘ASOIAF_edges.csv’.</code>你可以在这里找到数据<a class="ae mn" href="https://github.com/khuyentran1401/Game-of-Thrones-And-Graph" rel="noopener ugc nofollow" target="_blank">的</a></p><pre class="ly lz ma mb gt nl nk nm nn aw no bi"><span id="f5ab" class="np kj it nk b gy nq nr l ns nt">import pandas as pd</span><span id="2bbe" class="np kj it nk b gy nu nr l ns nt">nodes = pd.read_csv('ASOIAF_nodes.csv')<br/>nodes = nodes['Id']<br/>num_nodes = nodes.shape[0]<br/>nodes</span></pre><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi nv"><img src="../Images/fae30f2b524c09f7eedfdd4c3b96a0e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*S-hoGuk3LfIJn8pqeBm4VA.png"/></div></div></figure><p id="56ee" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">酷！所以我们在变量<code class="fe nh ni nj nk b">node.</code>中有一个字符列表，总共有276个节点(字符)。现在让我们探索边缘。在<code class="fe nh ni nj nk b">‘ASOIAF_edges.csv’</code>文件中，还有关于权重(交互次数)和图的种类(无向)的信息。但是因为我们只关心连接，所以我们使用前两列</p><pre class="ly lz ma mb gt nl nk nm nn aw no bi"><span id="e891" class="np kj it nk b gy nq nr l ns nt">edges = pd.read_csv('ASOIAF_edges.csv',usecols=[0,1] )<br/>edges</span></pre><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/dd8e80b9feed12ed8ce518ac8c061e30.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*dYWUCX0uE-GOuak3bk9bTA.png"/></div></figure><p id="04f3" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">总共有683个连接！哇哦。在整个系列中建立了许多联系。但是我们如何把这些数据做成图表呢？我们可以认为:</p><ul class=""><li id="de5e" class="nx ny it lc b ld mo lg mp lj nz ln oa lr ob lv oc od oe of bi translated">每个字符作为一个顶点</li><li id="d3ff" class="nx ny it lc b ld og lg oh lj oi ln oj lr ok lv oc od oe of bi translated">两个相连的顶点作为一条边</li></ul><p id="3202" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">现在我们已经准备好可视化网络了！</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="d9bb" class="ki kj it bd kk kl na kn ko kp nb kr ks jz nc ka ku kc nd kd kw kf ne kg ky kz bi translated">用Graphviz可视化图形</h1><p id="356d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><a class="ae mn" href="https://graphviz.readthedocs.io/en/stable/manual.html" rel="noopener ugc nofollow" target="_blank"> Graphviz </a>是一个用于绘制图形的Python接口。要安装它，请运行</p><pre class="ly lz ma mb gt nl nk nm nn aw no bi"><span id="e35a" class="np kj it nk b gy nq nr l ns nt">$ pip install graphviz</span></pre><p id="f37b" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">通过实例化一个新的<code class="fe nh ni nj nk b">Digraph</code>对象来创建一个图</p><pre class="ly lz ma mb gt nl nk nm nn aw no bi"><span id="4b5f" class="np kj it nk b gy nq nr l ns nt">from graphviz import Digraph</span><span id="3872" class="np kj it nk b gy nu nr l ns nt">dot = Digraph(comment='VIP graph')</span></pre><p id="7222" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">让我们想象前十个节点</p><pre class="ly lz ma mb gt nl nk nm nn aw no bi"><span id="3db9" class="np kj it nk b gy nq nr l ns nt">nodes_G = []<br/>for node in edges[:10]['Source']:<br/>    if node not in nodes_G:<br/>        nodes_G.append(node)<br/>for node in edges[:10]['Target']:<br/>    if node not in nodes_G:<br/>        nodes_G.append(node)</span></pre><p id="8b93" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">向图中添加节点和边</p><pre class="ly lz ma mb gt nl nk nm nn aw no bi"><span id="f725" class="np kj it nk b gy nq nr l ns nt">dot = Digraph(comment='VIP graph')</span><span id="bc28" class="np kj it nk b gy nu nr l ns nt">for i in range(len(nodes_G)):<br/>    dot.node(nodes_G[i])</span><span id="5a91" class="np kj it nk b gy nu nr l ns nt">for i in range(len(edges[:10])):<br/>    edge = edges.iloc[i]<br/>    dot.edge(edge['Source'], edge['Target'])</span></pre><p id="1f1d" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">视觉化:</p><pre class="ly lz ma mb gt nl nk nm nn aw no bi"><span id="c43c" class="np kj it nk b gy nq nr l ns nt">dot.render('VIP-graph_10.gv', view=True)</span></pre><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/d3515b3ed8b147ee0f626e6b72beb1bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*LIHZ3ugueYgMnexcd8VaaQ.png"/></div></figure><p id="fa42" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">不错！我们可以在图表中清楚地看到角色之间的互动。但是把整个网络可视化怎么样？当然，我们可以这样做。但是我们应该预料到这个系列的5章中的角色网络将会是巨大的</p><pre class="ly lz ma mb gt nl nk nm nn aw no bi"><span id="c2e1" class="np kj it nk b gy nq nr l ns nt">dot = Digraph(comment='VIP graph')</span><span id="068d" class="np kj it nk b gy nu nr l ns nt">for i in range(num_nodes):<br/>    dot.node(nodes[i])</span><span id="5c2d" class="np kj it nk b gy nu nr l ns nt">for i in range(len(edges)):<br/>    edge = edges.iloc[i]<br/>    dot.edge(edge['Source'], edge['Target'])</span><span id="29cf" class="np kj it nk b gy nu nr l ns nt">dot.render('VIP-graph.gv', view=True)</span></pre><p id="8f2c" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">表演时间到了！</p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div class="gh gi om"><img src="../Images/5b02b52e889375c08fbc45f8d38f6c06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/1*pvBOzaneYq4Y-3GpsN-Aeg.gif"/></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">在这里找到这张Gif图片<a class="ae mn" href="https://github.com/khuyentran1401/Game-of-Thrones-And-Graph/blob/master/VIP-graph.gv.pdf" rel="noopener ugc nofollow" target="_blank"/></p></figure><p id="778f" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">酷！有了图，我们可以有效地将网络形象化。但是我们能创建自己的图形类吗？</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="a220" class="ki kj it bd kk kl na kn ko kp nb kr ks jz nc ka ku kc nd kd kw kf ne kg ky kz bi translated">创建图表</h1><p id="8b79" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">首先创建顶点(节点)类。我们希望顶点类有什么属性和方法？嗯。添加连接<code class="fe nh ni nj nk b">(addNeighbor)</code>，知道当前节点与哪些节点连接(<code class="fe nh ni nj nk b">getConnections</code>)，找出节点名称(<code class="fe nh ni nj nk b">getId</code>，连接强度如何(<code class="fe nh ni nj nk b">getWeight</code>)</p><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="7ace" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">用图形的一些基本方法创建一个图形类:</p><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="on oo l"/></div></figure><h1 id="d8d6" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">结论</h1><p id="e0eb" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">恭喜你！在本文中，您已经学习了什么是图，以及如何使用图来可视化社交网络。那么你能用这些知识做什么呢？也许查阅本文中的<a class="ae mn" href="https://github.com/khuyentran1401/Game-of-Thrones-And-Graph" rel="noopener ugc nofollow" target="_blank">数据</a>和<strong class="lc iu">创作的人物图</strong>你很好奇去<strong class="lc iu">分析他们的关系</strong>？</p><p id="8bfe" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">或者，如果你根本不是《权力的游戏》的粉丝，你可以分析你关心的其他社交网络的数据，如Twitter、脸书，以分析你和你的朋友或粉丝之间的网络。你将练习使用图表以及理解你和你朋友的关系。你是直接认识他们还是通过与他人的联系认识他们的？这将是如此迷人的知道！</p><p id="7964" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">你可以在我的<a class="ae mn" href="https://github.com/khuyentran1401/Game-of-Thrones-And-Graph" rel="noopener ugc nofollow" target="_blank"> Github </a>里找到这篇文章的代码。在我的笔记本上，我还讲述了如何用深度优先搜索遍历断开的节点，用广度优先搜索<strong class="lc iu">找到两个字符</strong>之间的距离<strong class="lc iu">。</strong></p><p id="7722" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">我喜欢写一些基本的数据科学概念，并尝试不同的算法和数据科学工具。你可以在LinkedIn和Twitter上与我联系。</p><p id="e197" class="pw-post-body-paragraph la lb it lc b ld mo ju lf lg mp jx li lj mq ll lm ln mr lp lq lr ms lt lu lv im bi translated">如果你想查看我写的所有文章的代码，请点击这里。在Medium上关注我，了解我的最新数据科学文章，例如:</p><div class="op oq gp gr or os"><a rel="noopener follow" target="_blank" href="/convex-hull-an-innovative-approach-to-gift-wrap-your-data-899992881efc"><div class="ot ab fo"><div class="ou ab ov cl cj ow"><h2 class="bd iu gy z fp ox fr fs oy fu fw is bi translated">凸包:包装数据的创新方法</h2><div class="oz l"><h3 class="bd b gy z fp ox fr fs oy fu fw dk translated">如何利用包装算法实现数据可视化</h3></div><div class="pa l"><p class="bd b dl z fp ox fr fs oy fu fw dk translated">towardsdatascience.com</p></div></div><div class="pb l"><div class="pc l pd pe pf pb pg mh os"/></div></div></a></div><div class="op oq gp gr or os"><a rel="noopener follow" target="_blank" href="/how-to-create-interactive-and-elegant-plot-with-altair-8dd87a890f2a"><div class="ot ab fo"><div class="ou ab ov cl cj ow"><h2 class="bd iu gy z fp ox fr fs oy fu fw is bi translated">如何用Altair创建交互式剧情</h2><div class="oz l"><h3 class="bd b gy z fp ox fr fs oy fu fw dk translated">在5行简单的Python代码中利用您的数据分析</h3></div><div class="pa l"><p class="bd b dl z fp ox fr fs oy fu fw dk translated">towardsdatascience.com</p></div></div><div class="pb l"><div class="ph l pd pe pf pb pg mh os"/></div></div></a></div><div class="op oq gp gr or os"><a rel="noopener follow" target="_blank" href="/what-graphical-excellence-is-and-how-to-create-it-db02043e0b37"><div class="ot ab fo"><div class="ou ab ov cl cj ow"><h2 class="bd iu gy z fp ox fr fs oy fu fw is bi translated">什么是卓越的图形以及如何创建它</h2><div class="oz l"><h3 class="bd b gy z fp ox fr fs oy fu fw dk translated">作为一名数据科学家，了解如何制作重要的图表至关重要</h3></div><div class="pa l"><p class="bd b dl z fp ox fr fs oy fu fw dk translated">towardsdatascience.com</p></div></div><div class="pb l"><div class="pi l pd pe pf pb pg mh os"/></div></div></a></div><div class="op oq gp gr or os"><a rel="noopener follow" target="_blank" href="/how-to-learn-data-science-when-life-does-not-give-you-a-break-a26a6ea328fd"><div class="ot ab fo"><div class="ou ab ov cl cj ow"><h2 class="bd iu gy z fp ox fr fs oy fu fw is bi translated">当生活不给你喘息的机会，如何学习数据科学</h2><div class="oz l"><h3 class="bd b gy z fp ox fr fs oy fu fw dk translated">我努力为数据科学贡献时间。但是发现新的策略使我能够提高我的学习速度和…</h3></div><div class="pa l"><p class="bd b dl z fp ox fr fs oy fu fw dk translated">towardsdatascience.com</p></div></div><div class="pb l"><div class="pj l pd pe pf pb pg mh os"/></div></div></a></div></div></div>    
</body>
</html>