<html>
<head>
<title>The 4-step refresher of statistical power</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">统计能力的4步复习</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-quick-refresher-of-statistical-power-fe8ae5e0c317?source=collection_archive---------42-----------------------#2020-06-03">https://towardsdatascience.com/a-quick-refresher-of-statistical-power-fe8ae5e0c317?source=collection_archive---------42-----------------------#2020-06-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2be2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">当你忘记如何计算功耗时，这是一个简单易懂的指南</h2></div><p id="b966" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">10多年来，我经常谈论统计的力量，但无法记住细节。如果你和我一样，收藏这篇文章！我将快速介绍在更新您的幂计算知识时需要遵循的四个步骤。</p><ol class=""><li id="4fb8" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated"><em class="ln">了解你的重要性测试</em></li><li id="69d2" class="le lf it kk b kl lo ko lp kr lq kv lr kz ls ld lj lk ll lm bi translated"><em class="ln">知道如何从p </em>回来工作</li><li id="c3ce" class="le lf it kk b kl lo ko lp kr lq kv lr kz ls ld lj lk ll lm bi translated"><em class="ln">处理两次不确定性</em></li><li id="1248" class="le lf it kk b kl lo ko lp kr lq kv lr kz ls ld lj lk ll lm bi translated"><em class="ln">从p开始工作两次</em></li></ol><p id="3ad9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">复制这篇文章的所有代码在GitHub 上都有<a class="ae lt" href="https://github.com/drsimonj/StatisticalPowerRefresher" rel="noopener ugc nofollow" target="_blank">。</a></p><h2 id="8696" class="lu lv it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">我们的数据和统计测试</h2><p id="1f1c" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">我们将使用双尾<a class="ae lt" href="https://en.wikipedia.org/wiki/Student%27s_t-test#One-sample_t-test" rel="noopener ugc nofollow" target="_blank">单样本<em class="ln"> t </em>测试</a>来评估以下问题的平均答案是否与0有显著差异。</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/907eb3620077297fe8c71e21099d490b.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*hEIAG2bCosc1A_SM1PZ1lA.png"/></div><p class="na nb gj gh gi nc nd bd b be z dk translated">在我们的疫情问题中，人们对回家的感觉从-2(糟糕)到2(很好)进行评分。由<a class="ae lt" href="https://www.flaticon.com/authors/google" rel="noopener ugc nofollow" target="_blank">谷歌</a>从<a class="ae lt" href="https://www.flaticon.com/" rel="noopener ugc nofollow" target="_blank">平面图标</a>制作的图标</p></figure><h1 id="f637" class="ne lv it bd lw nf ng nh lz ni nj nk mc jz nl ka mf kc nm kd mi kf nn kg ml no bi translated">1.了解你的重要性测试</h1><p id="2a9e" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">首先要知道你的功率计算意味着真正知道你如何从数据到p值。单样本<em class="ln"> t </em>测试的步骤:</p><ul class=""><li id="5021" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld np lk ll lm bi translated">根据平均值、标准偏差和样本量计算出一个<em class="ln"> t </em>统计量:</li></ul><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/b49a12238a632be7f0a2d7b0e60467bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:272/0*f22Xbe1sAUNC_sY8"/></div><p class="na nb gj gh gi nc nd bd b be z dk translated">获得t统计量的公式，然后从相应的<em class="nr"> t </em>分布映射到p值。sd =标准偏差，n =样本量。使用<a class="ae lt" href="https://www.codecogs.com/latex/eqneditor.php" rel="noopener ugc nofollow" target="_blank">编码</a>准备的方程式。</p></figure><ul class=""><li id="d306" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld np lk ll lm bi translated">将其映射到带有自由度的<em class="ln"> t- </em>分布，样本大小减1。</li><li id="0fa8" class="le lf it kk b kl lo ko lp kr lq kv lr kz ls ld np lk ll lm bi translated">从该点开始的曲线百分比等于<em class="ln"> p </em>值。</li></ul><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/df2d3d2df26dca9f0f1025ac7430382a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FXtfTKKnFxoHao-RhHciFg.png"/></div></div></figure><p id="a69d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ln">注:为清晰起见，只显示了一面。双边测试的p值加倍。</em></p><h1 id="dc8b" class="ne lv it bd lw nf ng nh lz ni nj nk mc jz nl ka mf kc nm kd mi kf nn kg ml no bi translated">2.知道如何从p返回工作</h1><p id="d708" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">功率计算从<em class="ln">p</em>-值返回到关于数据的缺失信息。假设我们知道标准偏差(1.17)和样本量(10)，并希望计算平均值，其中<em class="ln"> p = </em> 0.05。有了<em class="ln">p</em>-值和样本量，我们就可以得到<em class="ln">t</em>-值(回想一下，这是一个双尾检验)。</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/5ccb536c2d31d52bed19c9cf7f38e290.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SNdcFGQCMtZcYP7tt_Sl3g.png"/></div></div></figure><p id="0929" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将所有内容代入公式:</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/f66f9715bc61e87eeb6b25152b15b53e.png" data-original-src="https://miro.medium.com/v2/resize:fit:280/0*2D__9X5c26mf7gQw"/></div></figure><p id="d28e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">做数学和<code class="fe ny nz oa ob b">mean(x) = +/-0.84</code>。对于我们的标准差和样本，高于0.84或低于-0.84的平均值将具有小于0.05的<em class="ln">p</em>-值。</p><h1 id="74d0" class="ne lv it bd lw nf ng nh lz ni nj nk mc jz nl ka mf kc nm kd mi kf nn kg ml no bi translated">3.两次处理不确定性</h1><p id="f8e2" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">假设人口平均值确实是0.84，确切地说，t = 2.26，T2 = 0.05。你不能保证得到一个重要的结果。记得为什么吗？</p><p id="d595" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在null (0)附近有一个<em class="ln">t</em>-分布，因为即使它是真的，我们也很少用那个精确的值对一个组进行采样。同样，我们很少会看到0.84，即使它是真正的潜在平均值。所以有第二个分布，它描述了在给定真实总体均值的情况下，我们可能观察到的情况。为了简单起见，我们将使用一个等价于零的<em class="ln"> t- </em>分布，但是看看<a class="ae lt" href="https://en.wikipedia.org/wiki/Noncentrality_parameter" rel="noopener ugc nofollow" target="_blank">非中心性参数</a>如何被用于变得严重。</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/74a0f95775779c34ddda26b5c0d0e6a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n4hE2RZiiv3lMJuireJwHw.png"/></div></div></figure><p id="be88" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果总体平均值在临界值<em class="ln"> t </em>上，这意味着我们将有50%的时间观察到样本平均值高于临界值。这是“功效”——在给定特定总体均值的情况下，观察到统计显著结果的概率——总体均值为0.84。</p><p id="67bd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">任何值的幂是其采样分布下超出与零值显著差异点的面积。就像计算另一个<em class="ln"> p </em>值一样，如果你知道你的显著性测试，这应该是轻而易举的。在这个例子中，1.40的总体平均值映射到3.76的<em class="ln"> t </em>值，并且具有92%的功效。</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/9263b61a3739bf42d9bff8d79d28741f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DGLe8tSWrQkJA1dOVDbYDA.png"/></div></div></figure><h1 id="9e82" class="ne lv it bd lw nf ng nh lz ni nj nk mc jz nl ka mf kc nm kd mi kf nn kg ml no bi translated">4.从<em class="nr"> p </em>返回工作两次</h1><p id="54c8" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">计算功效很有趣，但更实际的是计算样本大小或可能产生显著结果的效果。两者都涉及设定两种概率:</p><ol class=""><li id="3944" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">显著性的阈值(称为alpha，通常为0.05)。</li><li id="63cd" class="le lf it kk b kl lo ko lp kr lq kv lr kz ls ld lj lk ll lm bi translated">期望的功率(称为β，通常为0.80)</li></ol><h2 id="8816" class="lu lv it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">计算效果大小</h2><p id="1e2c" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">让我们从了解样本大小开始，并希望评估我们可以检测到多大的影响。假设我们可以将我们的调查发送给另外10个人，并认为标准差与之前大致相同(1.17)是合理的。显著性阈值为0.05时，什么总体均值(正向)具有0.80的功效(样本产生显著结果的概率为80%)。</p><blockquote class="oc od oe"><p id="0a68" class="ki kj ln kk b kl km ju kn ko kp jx kq of ks kt ku og kw kx ky oh la lb lc ld im bi translated"><strong class="kk iu"> <em class="it"> p1。</em> </strong> <em class="it">算出位于意义边界的意思。这里没有变化。是+/-0.84。</em></p><p id="9593" class="ki kj ln kk b kl km ju kn ko kp jx kq of ks kt ku og kw kx ky oh la lb lc ld im bi translated"><strong class="kk iu"><em class="it">p2</em></strong>T28】。计算出将分布中最低的20%和最高的80%分开的平均值。如果T30分布集中在0(我们马上会解决这个问题)，它将是-0.33。</p></blockquote><p id="e2be" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们现在需要找到这两点的交汇点。想象移动总体平均值的分布(用于<em class="ln"> p2 </em>)，直到定义80%功效的值与显著性阈值相同。也就是说，移动分布，使得-0.33现在是0.84。分布的中心/平均值相应地移动并落在1.17(纯粹是巧合，它与标准偏差相匹配)。瞧啊。对于我们已知的样本大小和标准偏差，如果真实总体均值为1.17或更大——对应于3.15的<em class="ln"> t </em>值——我们将有相当好的机会(80%)观察到显著的结果。</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/1e79f5166c86b52d79acd39bdc80cdd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KXDSX00bByWIelU9kpnbDg.png"/></div></div></figure><h2 id="a67d" class="lu lv it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">计算样本大小</h2><p id="bcc2" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">让我们反过来试试。假设平均值1.17是对我们有意义的最小值，但是我们不确定需要多大的样本。其他标准相同(标准差= 1.17，显著性阈值= 0.05，功效= 0.80)。</p><p id="1362" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个问题更棘手，因为在不知道样本大小(这涉及到自由度)的情况下，我们不知道<em class="ln"> t </em>分布的形状。我们可以通过一些迭代来解决它。在高层次上…</p><blockquote class="oc od oe"><p id="2e6a" class="ki kj ln kk b kl km ju kn ko kp jx kq of ks kt ku og kw kx ky oh la lb lc ld im bi translated">第一步。选择一个样本大小。</p><p id="01ea" class="ki kj ln kk b kl km ju kn ko kp jx kq of ks kt ku og kw kx ky oh la lb lc ld im bi translated">第二步。从p回工作两次:<br/> <strong class="kk iu"> <em class="it"> p1。</em> </strong> <em class="it">算出位于意义边界的平均值。<br/> </em> <strong class="kk iu"> <em class="it"> p2。</em> </strong> <em class="it">算出将人口分布分割为80%的平均值。移动它，使人口值集中在预先确定的效果大小(1.17)。</em></p><p id="23c7" class="ki kj ln kk b kl km ju kn ko kp jx kq of ks kt ku og kw kx ky oh la lb lc ld im bi translated">第三步。如果p1和p2的结果相等，则停止。<em class="it"> <br/>如果不是，从步骤1开始用不同的样本量。</em></p></blockquote><p id="ee52" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有很多方法可以优化这一点，你可以在我的代码中找到一个简单的解决方案。不管你怎么做，结果都是10(验证最后一部分)。为了多样化，让我们尝试一些不同的东西。如果总体均值为0.02，我们需要多大的样本量才能达到80%的功效？</p><p id="145e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi">27,037!</p><h1 id="cd9f" class="ne lv it bd lw nf ng nh lz ni nj nk mc jz nl ka mf kc nm kd mi kf nn kg ml no bi translated"><strong class="ak">结论</strong></h1><p id="8027" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">统计学，像所有的技术课题一样，具有挑战性。学习细节会加深你的理解，但不要觉得有压力去记忆它们。当你学习新技术的时候，学习它的实用价值，它们能解决和不能解决的问题，优势和劣势。当需要技术资料的时候，就准备一篇这样的文章吧:)</p><p id="9398" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读。如果你喜欢这个，并且对更高级的电力话题感兴趣，你可能会喜欢我的文章，“Booking.com如何用CUPED增加在线实验的电力”</p></div></div>    
</body>
</html>