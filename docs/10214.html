<html>
<head>
<title>The ultimate guide to writing better Python code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编写更好的 Python 代码的终极指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-ultimate-guide-to-writing-better-python-code-1362a1209e5a?source=collection_archive---------1-----------------------#2020-07-19">https://towardsdatascience.com/the-ultimate-guide-to-writing-better-python-code-1362a1209e5a?source=collection_archive---------1-----------------------#2020-07-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="15b8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让你的软件更快、更易读和更易维护并不需要这么难</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/418b969d9ac3e07c8f582ff0462969d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FZWJzoMSaaMsE2qEb-jT9A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">让您的 Python 代码更上一层楼。戴维·克洛德在<a class="ae ky" href="https://unsplash.com/s/photos/python?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="c703" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw mf bm di mg"> <img alt="D" class="ks mh mi mj mk ml fc n ih dh bf" src="../Images/e7b97ba5c7306f218d23a013412aef1c.png" width="79" height="79" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fit:158/1*1LK09tSgMaNjHjMz6-Wxbg.jpeg"/> <span class="l lw lx ly bm lz ma mb mc md di me"> D </span> </span>尽管有<a class="ae ky" rel="noopener" target="_blank" href="/why-python-is-not-the-programming-language-of-the-future-30ddc5339b66">的缺点</a>，Python 仍然是当今编程世界的王者。它的多功能性、初学者友好性和巨大的社区只是促成它在过去几年里巨大增长的几个因素。尽管像<a class="ae ky" rel="noopener" target="_blank" href="/thought-you-loved-python-wait-until-you-meet-rust-64a06d976ce"> Rust </a>、<a class="ae ky" rel="noopener" target="_blank" href="/one-in-two-pythonistas-should-learn-golang-now-ba8dacaf06e8"> Go </a>和<a class="ae ky" rel="noopener" target="_blank" href="/bye-bye-python-hello-julia-9230bff0df62"> Julia </a>这样的新语言越来越受欢迎，Python 的统治可能会持续几年。</p><p id="d498" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论您是初学者还是经验丰富的工程师，您都可能经常与 Python 打交道。在这种情况下，稍微升级一下你的游戏是很有意义的。</p><p id="e03b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开发人员不会编写一个东西，然后让它在未来几年保持不变。因此，好的代码不仅仅是关于速度和效率。这也是关于可读性和可维护性。</p><p id="9372" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像生活中的所有事情一样，没有什么灵丹妙药可以让你的代码达到一流的性能。有一些快速解决办法，比如高效的功能和方便的自动化。然而，要真正让你的代码发光，你还需要养成长期的习惯，比如让你的代码尽可能简单，并与你的风格保持一致。</p><div class="mm mn gp gr mo mp"><a rel="noopener follow" target="_blank" href="/12-python-tips-and-tricks-for-writing-better-code-b57e7eea580b"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd iu gy z fp mu fr fs mv fu fw is bi translated">编写更好代码的 12 个 Python 技巧和诀窍</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">通过掌握最新的 Python 特性、技术、技巧和诀窍来提高代码的质量…</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">towardsdatascience.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd ks mp"/></div></div></a></div><h1 id="38bd" class="ne nf it bd ng nh ni nj nk nl nm nn no jz np ka nq kc nr kd ns kf nt kg nu nv bi translated">使用更高效的功能和结构</h1><h2 id="8192" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">用 f 弦避免弦乐打嗝</h2><p id="1c65" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">从处理输入到在屏幕上打印消息，字符串是任何编程语言的重要组成部分。在 Python 中，有三种格式化字符串的方法:原始的<code class="fe on oo op oq b">%s</code>-方法、<code class="fe on oo op oq b">str.format()</code>，以及从 Python 3.6 开始的 f-字符串。</p><p id="cab1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你处理简短的表达时，古老的<code class="fe on oo op oq b">%s</code>方法很好。你需要做的就是用<code class="fe on oo op oq b">%s</code>标记出你想要插入字符串的地方，然后在语句后引用这些字符串。像这样:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="1900" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; name = "Monty"<br/>&gt;&gt;&gt; day = "Tuesday"<br/>&gt;&gt;&gt; "Happy %s, %s. Welcome to Python!" % (day, name)</span><span id="32d8" class="nw nf it oq b gy oz ow l ox oy">'Happy Tuesday, Monty. Welcome to Python!'</span></pre><p id="cd2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这一切都很好，但是当您同时处理大量字符串时，就会变得混乱。这就是为什么 Python 从 2.6 版本开始引入了<code class="fe on oo op oq b">str.format()</code>。</p><p id="d4de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实际上，<code class="fe on oo op oq b">%s</code>符号被花括号取代了。像这样:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="d24b" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; "Happy {}, {}. Welcome to Python!".format(day, name)</span></pre><p id="e3a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe on oo op oq b">str.format()</code>的真正好处是你现在能够定义对象，然后在你的格式化语句中引用它们:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="7442" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; greeting = {'name': 'Monty', 'day': 'Tuesday'}<br/>&gt;&gt;&gt; "Happy {day}, {name}. Welcome to Python!".format(day=greeting['day'], name=greeting['name'])<!-- --> </span></pre><p id="ffc4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个巨大的进步，但是 f 弦更简单。考虑一下这个:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="32d5" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; name = "Monty"<br/>&gt;&gt;&gt; day = "Tuesday"<br/>&gt;&gt;&gt; f"Happy {day}, {name}. Welcome to Python!"</span></pre><p id="b015" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就更简单了！不过，f 字符串更好的一点是，您可以在其中传递函数:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="c90f" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; f"Happy {day}, {name.upper()}. Welcome to Python!"</span><span id="eb18" class="nw nf it oq b gy oz ow l ox oy">'Happy Tuesday, MONTY. Welcome to Python!'</span></pre><p id="a152" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">f 弦的最后一个优点是它们比其他两种方法更快。因为它们非常简单，所以从现在开始使用它们是很有意义的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/c5a43b23e3dcc86567e2e2a362a99274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*STrvjUFZAADmmxfcYMTb8g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">让你的代码更有效率。由<a class="ae ky" href="https://unsplash.com/@kellysikkema?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Kelly Sikkema </a>在<a class="ae ky" href="https://unsplash.com/s/photos/programmer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="cd50" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">使用列表理解</h2><p id="b86e" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">列表理解是一种在保持可读性的同时使代码更加简洁的好方法。考虑这段代码，我们试图将前几个平方数存储在一个列表中:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="83a3" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; square_numbers = [0, 1, 2, 3, 4]<br/>&gt;&gt;&gt; for x in range(5):<br/>...     square_numbers.append(x**2)<br/>...<br/>&gt;&gt;&gt; square_numbers</span><span id="c232" class="nw nf it oq b gy oz ow l ox oy">[0, 1, 2, 3, 4, 0, 1, 4, 9, 16]</span></pre><p id="cb41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这很笨拙，我们必须再次从列表中删除前几项。此外，我们仍然有变量<code class="fe on oo op oq b">x</code>浮动并占用内存。有了列表理解，这就变得简洁多了:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="bcdb" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; square_numbers = [x**2 for x in range(5)]<br/>&gt;&gt;&gt; square_numbers</span><span id="5cf3" class="nw nf it oq b gy oz ow l ox oy">[0, 1, 4, 9, 16]</span></pre><p id="26ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/12-python-tips-and-tricks-for-writing-better-code-b57e7eea580b">语法</a>相当简单:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="0c96" class="nw nf it oq b gy ov ow l ox oy">new_list = [<strong class="oq iu">expression</strong> for <strong class="oq iu">item</strong> in <strong class="oq iu">iterable</strong> (if <strong class="oq iu">conditional</strong>)]</span></pre><p id="d433" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以下次你准备用一个<code class="fe on oo op oq b">for</code>循环或者一个<code class="fe on oo op oq b">if</code>语句做一个列表的时候，请三思。每次都可以节省几行代码。</p><h2 id="59fe" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">快速创建长度为 N 的列表</h2><p id="b381" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">在 Python 中初始化列表很容易。但是你可以通过使用<code class="fe on oo op oq b">*</code>操作符来升级你的游戏，例如像这样的:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="0f57" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; four_nones = <strong class="oq iu">[</strong>None<strong class="oq iu">]</strong> * 4<br/>&gt;&gt;&gt; four_nones</span><span id="22ad" class="nw nf it oq b gy oz ow l ox oy">[None, None, None, None]</span></pre><p id="fa6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果要创建一个列表列表，可以使用列表串联:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="0b84" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; four_lists = [[] for __ in range(4)]<br/>&gt;&gt;&gt; four_lists</span><span id="8455" class="nw nf it oq b gy oz ow l ox oy">[[], [], [], []]</span></pre><p id="53ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你试图初始化长列表或者列表的列表时，这很方便。不仅更容易阅读和调试，而且也不太可能在列表的单个元素中出现拼写错误。</p><h2 id="a38e" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">删除列表元素时要小心</h2><p id="5fac" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">考虑一个列表<code class="fe on oo op oq b">a</code>，我们想要删除所有等于<code class="fe on oo op oq b">bar</code>的条目。我们可以使用 for 循环来完成这项工作:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="96db" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; a = ['foo', 'foo', 'bar', 'bar']<br/>&gt;&gt;&gt; for i in a:<br/>...     if i == 'bar':<br/>...             a.remove(i)<br/>...<br/>&gt;&gt;&gt; a</span><span id="ff52" class="nw nf it oq b gy oz ow l ox oy">['foo', 'foo', 'bar']</span></pre><p id="38aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是还剩下一只<code class="fe on oo op oq b">bar</code>！发生了什么事？</p><p id="ae53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我处于位置 0 和 1 时，它正确地认识到这些元素不需要被删除。在<code class="fe on oo op oq b">i = 2</code>，它删除了<code class="fe on oo op oq b">bar</code>。现在第二个<code class="fe on oo op oq b">bar</code>移动到位置<code class="fe on oo op oq b">2</code>。但是现在循环已经结束，因为在<code class="fe on oo op oq b">i = 3</code>处不再有元素，因此第二个<code class="fe on oo op oq b">bar</code>仍然存在。</p><p id="16f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简而言之，当你从列表中删除项目时，不要使用<code class="fe on oo op oq b">for</code>循环。虽然你可以通过一些修正来避免这种错误，但是它们很容易出错。相反，列表理解再次派上了用场:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="d3bb" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; foos = [value for value in a if value != 'bar']<br/>&gt;&gt;&gt; foos</span><span id="e9e2" class="nw nf it oq b gy oz ow l ox oy">['foo', 'foo']</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/1087ec9d23d46fe004cf78143387e602.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nFARG5D1d5rnAxDmBcssBw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">给你的代码增加一些优雅。照片由<a class="ae ky" href="https://unsplash.com/@joeel56?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">妮可·沃尔夫</a>在<a class="ae ky" href="https://unsplash.com/s/photos/developer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h2 id="7bcc" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">优雅地访问字典元素</h2><p id="db78" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">使用<code class="fe on oo op oq b">dict.get()</code>来访问字典的元素既笨拙又容易出错。考虑这个<a class="ae ky" href="https://docs.python-guide.org/writing/style/#access-a-dictionary-element" rel="noopener ugc nofollow" target="_blank">例子</a>:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="eca6" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; d = <strong class="oq iu">{</strong>'hello': 'world'}<br/>&gt;&gt;&gt; if d.has_key('hello'):<br/>...    print d['hello']    <em class="pc"># prints 'world'</em><br/>&gt;&gt;&gt; else:<br/>...    print 'default_value'</span></pre><p id="7942" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您使用<code class="fe on oo op oq b">dict.get()</code>，会简洁得多:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="e649" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; d.get('hello', 'default_value') <em class="pc"># prints 'world'</em><br/>&gt;&gt;&gt; d.get('thingy', 'default_value') <em class="pc"># prints 'default_value'</em></span></pre><p id="61ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，如果你想更短，你可以写:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="c8c8" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; if 'hello' in d:<br/>...    d['hello']</span></pre><h2 id="0c8f" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">用*、**和 _</h2><p id="86e8" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">当你有一个列表，但你不需要所有的参数，你会怎么做？为此，您可以使用<code class="fe on oo op oq b">_</code>:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="7b55" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; numbers = [1, 2, 3]<br/>&gt;&gt;&gt; a, b, _ = numbers<br/>&gt;&gt;&gt; a<br/>1</span></pre><p id="18eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下划线通常用来告诉程序员这个变量不值得记住。虽然 Python 确实记住了变量，但是使用这种约定增加了代码的可读性。</p><p id="40ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您有一个很长的列表，但您只对前几个或后几个变量感兴趣，您可以这样做:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="807e" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; long_list = [x for x in range(100)]<br/>&gt;&gt;&gt; a, b, *c, d, e, f = long_list<br/>&gt;&gt;&gt; e<br/>98</span></pre><p id="b1d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以<code class="fe on oo op oq b">*</code>开头的变量可以包含任意数量的元素。在本例中，我们创建了一个从 0 到 99 的列表，并对前两个和后三个元素进行了解压缩。具体来说，倒数第二个元素<code class="fe on oo op oq b">e</code>是 98，这是我们所期望的。</p><p id="22cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以使用<code class="fe on oo op oq b">*</code>操作符向函数传递任意数量的参数:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="e6c5" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; def printfunction(*args):<br/>...    print(args)<br/>&gt;&gt;&gt; printfunction(1,2,3,4,5,6)</span><span id="9ae0" class="nw nf it oq b gy oz ow l ox oy">(1, 2, 3, 4, 5, 6)</span></pre><p id="9281" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，您可以使用<code class="fe on oo op oq b">**</code>操作符将整个<a class="ae ky" rel="noopener" target="_blank" href="/12-python-tips-and-tricks-for-writing-better-code-b57e7eea580b">字典</a>传递给一个函数:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="1755" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; def myfriendsfunction(name, age, profession):<br/>...     print("Name: ", name)<br/>...     print("Age: ", age)<br/>...     print("Profession: ", profession)<br/>&gt;&gt;&gt; friendanne = {"name": "Anne", "age": 26, "profession": "Senior Developer"}<br/>&gt;&gt;&gt; myfriendsfunction(**friendanne)</span><span id="ef2a" class="nw nf it oq b gy oz ow l ox oy">Name:  Anne<br/>Age:  26<br/>Profession:  Senior Developer</span></pre><p id="fc43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些是访问变量的快速简单的方法，没有太多的麻烦。把它们记在心里！</p><h2 id="b427" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">自动打开和关闭文件</h2><p id="79b4" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">打开文件的传统方式意味着您需要再次关闭它们:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="04ff" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; newfile = open("file.txt")<br/>&gt;&gt;&gt; data = newfile.read()<br/>&gt;&gt;&gt;     print(data)<br/>&gt;&gt;&gt; newfile.close()</span></pre><p id="6ff3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过使用<code class="fe on oo op oq b">with open</code>，您可以节省一行代码和引入 bug 的可能性:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="fda5" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; with open('file.txt') as f:<br/>&gt;&gt;&gt;     for line in f:<br/>&gt;&gt;&gt;         print line</span></pre><p id="3038" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样，即使在<code class="fe on oo op oq b">with</code>块中出现异常，文件<a class="ae ky" href="https://docs.python-guide.org/writing/style/#read-from-a-file" rel="noopener ugc nofollow" target="_blank">也会再次关闭</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/4b2e348e9eb848084d6e0b50b15173e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IznJX6I-6xM5KY0wi8Xh6g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用这些快速提示加快编码速度。安妮·斯普拉特在<a class="ae ky" href="https://unsplash.com/s/photos/developer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="697f" class="ne nf it bd ng nh ni nj nk nl nm nn no jz np ka nq kc nr kd ns kf nt kg nu nv bi translated">快速获取信息</h1><h2 id="2b3c" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">在转到 StackOverflow 之前，请使用 help()</h2><p id="b4e8" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">如果你想看看一个函数是做什么的，只需使用<code class="fe on oo op oq b">help()</code>。如果你原则上知道你在做什么，但是不太确定函数的细节，这是很有用的。</p><p id="da60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以通过在自己的函数中添加帮助信息来简化您的工作。这很容易做到:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="7943" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; def mynewfunction(arg1, arg2):<br/>...     """<br/>...     This function does something really cool.<br/>...     Hope that helps!<br/>...     """<br/>&gt;&gt;&gt; help(mynewfunction)</span><span id="6b79" class="nw nf it oq b gy oz ow l ox oy">This function does something really cool.<br/>Hope that helps!</span></pre><p id="1fe4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个帮助消息是一个 docstring，作为代码的文档也很有用。在这个例子中，您显然需要向函数添加一个主体，并使消息更加具体。但是你明白了。</p><h2 id="2706" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">使用 dir()了解属性和方法</h2><p id="0437" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">如果你不太清楚一个对象是如何工作的，<code class="fe on oo op oq b">dir()</code>可以帮助你。它返回您希望了解的任何函数、模块、列表、字典或其他对象的属性和方法。</p><p id="1bdb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从 Python 2.7 开始，可以使用<code class="fe on oo op oq b">dir()</code>函数。所以对于大多数 Python 用户来说，使用这个可能是一个不错的选择。</p><h2 id="bed0" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">使用 getsizeof()优化您的内存</h2><p id="4f05" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">如果你的程序运行缓慢，你认为这与内存问题有关，你可以用<code class="fe on oo op oq b">getsizeof()</code>检查你的对象，以了解问题的症结所在。这相当容易:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="70f0" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; import sys<br/>&gt;&gt;&gt; x = [1, 2, 3, 4, 5]<br/>&gt;&gt;&gt; sys.getsizeof(x)</span><span id="48f5" class="nw nf it oq b gy oz ow l ox oy">112</span></pre><p id="f918" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为在我的机器上,<code class="fe on oo op oq b">x</code>是一个由五个 24 位整数组成的向量，所以它占用 112 位内存是完全合理的。注意，根据您的机器、架构和 Python 版本，这个数字会有所不同。</p><h1 id="38d5" class="ne nf it bd ng nh ni nj nk nl nm nn no jz np ka nq kc nr kd ns kf nt kg nu nv bi translated">使文档更容易</h1><h2 id="2d67" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">选择您的 docstring 风格并坚持下去</h2><p id="f9d6" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">如上所述，将 docstrings 添加到所有的模块、函数、类或方法定义中是一个非常好的主意。</p><p id="294e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使你的代码尽可能的可维护和可读，你应该选择一种 docstring <a class="ae ky" href="http://daouzli.com/blog/docstring.html" rel="noopener ugc nofollow" target="_blank">风格</a>并坚持下去。如果你正在合作一个项目，确保你从一开始就决定了一种风格。这使得以后阅读和添加到文档中变得更加容易。</p><h2 id="b3b3" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">您代码版本</h2><p id="f269" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">大多数软件项目都有一个三位数的版本号，例如“Python 3.8.4”。这个系统很简单——如果你做了一些小的改动或错误修正，你可以修改最后一个数字，如果要做更大的改动，你可以修改中间的数字，如果要做更基本的改动，你可以修改第一个数字。</p><p id="6b72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使您的项目很小，保留所有的旧副本并对它们进行编号也有一些好处。如果你试图修复一个 bug，但是你最终破坏了一些东西，你总是可以回到最新的版本。如果你的项目不是向后兼容的，保留旧的拷贝是至关重要的。此外，这种编号方案创建了一个整洁的更改日志，您可以在以后参考。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/aaedf29a341203f9a0571dca8b01c0c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i8TEZH6GqSb_YtZB_r7zkw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在协作时，适当的文档记录是至关重要的。安妮·斯普拉特在<a class="ae ky" href="https://unsplash.com/s/photos/developer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h2 id="2f5a" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">定期领取</h2><p id="2c0a" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">如果你正在合作或从事一个开源项目，这是必须的:把你的代码放在 Github、Gitlab 或任何你希望你的代码存在的地方。这样，任何人都可以在任何时间访问它。</p><p id="bf4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，确保你经常得到它。这不仅让每个人都了解最新情况；这也是你的代码被维护并且仍然相关的标志。</p><h2 id="4c60" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">保留变更日志</h2><p id="dd6f" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">即使你使用了文档字符串并对你的版本进行了一致的编号，那也不能捕捉到你所做的所有改变。为了保证细节的安全，最好有一个单独的文档来详细解释所有的更改。</p><p id="6ffb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使这几乎与最终用户无关，您的变更日志对您自己和您的同事来说都是一份有价值的文档。人类的大脑忘记得很快，现在对你来说完全显而易见的事情在两周内往往变得相当模糊。</p><h2 id="9622" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">使用长的描述性变量名</h2><p id="d316" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">你注意到上面的例子了吗？函数和变量的名字几乎总是很长。这不是巧合。</p><p id="f65c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于一小段代码来说，使用如此多的字符似乎是多余的，但是对于阅读代码来说，这要好得多。此外，编写代码不会花太多时间——大多数编辑器都有自动完成功能。</p><h2 id="66fe" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">使用 PEP 8</h2><p id="2fad" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">也许你是那种代码可以运行但格式不规范的开发人员。虽然这听起来可能没那么悲惨，但它会带来一大堆问题。更不用说那些试图阅读你的代码的同事了…</p><p id="56c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以帮你自己一个忙，用官方 Python 风格指南<a class="ae ky" href="https://www.python.org/dev/peps/pep-0008/" rel="noopener ugc nofollow" target="_blank"> PEP 8 </a>格式化你的代码。别担心，你不需要学习每一个细节，也不需要重构你的每一段代码。您可以自动检查您的代码是否符合<code class="fe on oo op oq b">pycodestyle</code>。在您的 shell 中，安装软件包，然后在您的 Python 文件上运行它:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="08c9" class="nw nf it oq b gy ov ow l ox oy">$ pip install pycodestyle<br/>$ pycodestyle my_file.py</span></pre><p id="10dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这表明您需要在哪里进行调整，以便您的文件符合 PEP 8。如果您想让您的文件自动符合，您可以使用<code class="fe on oo op oq b">autopep8</code>:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="89f7" class="nw nf it oq b gy ov ow l ox oy">$ pip install autopep8<br/>$ autopep8 --in-place my_file.py</span></pre><h2 id="ba48" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">评论很好</h2><p id="153b" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">关于评论是好是坏有一个持续的争论。一些程序员认为好的代码可读性很强，你不需要任何注释。其他人希望你评论每一行。</p><p id="1ac7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除非你是一个纯粹主义者，否则你至少会时不时地发表评论。无论如何，确保你的评论简明扼要。我喜欢思考，如果有人从来没有看过我的代码，但现在因为他们想改变什么而看了一下，他们会喜欢读什么。这种方法效果很好。</p><h1 id="29e6" class="ne nf it bd ng nh ni nj nk nl nm nn no jz np ka nq kc nr kd ns kf nt kg nu nv bi translated">养成好习惯</h1><h2 id="47dc" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">使线路延续更加稳定</h2><p id="14da" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">原则上，您可以在每行的末尾用<code class="fe on oo op oq b">\</code>、<a class="ae ky" href="https://docs.python-guide.org/writing/style/#line-continuations" rel="noopener ugc nofollow" target="_blank">分割多行表达式，就像这样</a>:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="6d4e" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; big_string = """This is the beginning of a really long story. \<br/>... It's full of magicians, dragons and fabulous creatures. \<br/>... Needless to say, it's quite scary, too."""</span></pre><p id="8f6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，这很容易出错，因为如果在<code class="fe on oo op oq b">\</code>后面加上一个字符，即使只是一个空格，它也会停止工作。最好这样分:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="f566" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; big_string = (<br/>... "This is the beginning of a really long story. "<br/>... "It's full of magicians, dragons and fabulous creatures. "<br/>... "Needless to say, it's quite scary, too."<br/>... )</span></pre><p id="dfaf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，大多数时候，多行表达式是你把事情过于复杂的标志。</p><h2 id="0eb8" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">不要写意大利面条代码</h2><p id="f87d" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">这应该是显而易见的，但令人震惊的是，许多初级开发人员仍然编写单片代码。但是没有人阅读一千行代码…</p><p id="5381" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，请确保您定义了函数，并在必要时调用它们。这将使你的代码可读性提高一千倍，你的同事也会因此而感谢你。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/931ebb4f533890b9cfbd286a74555396.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3uYdv8kLwZtN403ozgYX6w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从长远来看，保持一些好习惯并改进你的代码。照片由<a class="ae ky" href="https://unsplash.com/@arifriyanto?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">阿里夫·里扬托</a>在<a class="ae ky" href="https://unsplash.com/s/photos/developer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h2 id="13eb" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">每行只使用一条语句</h2><p id="7a4a" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">这是一个类似的方向。不要做这样的事情:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="3a31" class="nw nf it oq b gy ov ow l ox oy">print("one"); print("two")</span></pre><p id="36b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它可能看起来很复杂，但它不是。当您在某一行中遇到错误时，您会希望确切地知道该行做了什么，以便可以快速地调试它。所以分了吧；各行各业。</p><h2 id="9a9d" class="nw nf it bd ng nx ny dn nk nz oa dp no li ob oc nq lm od oe ns lq of og nu oh bi translated">使用类型提示</h2><p id="f469" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">Python 是一种动态类型语言。虽然这对快速生成代码很有好处，但也会使调试变得更加困难。</p><p id="dd12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从 Python 3.5 开始，可以通过添加类型提示来为调试做准备。这不会影响代码，因为解释器会忽略它。但是这对你很有帮助，因为你可以立即看到你是否传递了错误的东西给一个函数。</p><p id="4859" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类型提示的工作方式如下例所示:</p><pre class="kj kk kl km gt or oq os ot aw ou bi"><span id="d3c4" class="nw nf it oq b gy ov ow l ox oy">&gt;&gt;&gt; def sayhello(day:str, name:str) -&gt; str:<br/>...     return f"Happy {day}, {name}. Welcome to Python!"</span></pre><p id="18a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe on oo op oq b">:str</code>表示函数的参数应该是字符串，<code class="fe on oo op oq b">-&gt; str</code>部分表示函数应该返回一个字符串。</p><h1 id="5f54" class="ne nf it bd ng nh ni nj nk nl nm nn no jz np ka nq kc nr kd ns kf nt kg nu nv bi translated">底线是:Python 很棒。更好的 Python 很神奇</h1><p id="da9b" class="pw-post-body-paragraph kz la it lb b lc oi ju le lf oj jx lh li ok lk ll lm ol lo lp lq om ls lt lu im bi translated">不要退而求其次。Python 仍然是通用编程语言中无可争议的王者，这一事实不能成为编写平庸代码的借口。</p><p id="3101" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过遵循风格惯例、恰当地记录变更并保持代码简洁，您将使您的代码脱颖而出。在某些情况下，这甚至会提高其性能。无论如何，这将使你和你的同事更容易阅读和维护代码。</p><p id="9f50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然这个列表包含了大量的提示和技巧，但它肯定不是详尽无遗的。如果我错过了什么，请在评论中告诉我。同时，祝您编码愉快！</p><p id="767a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="pc">编辑:正如</em> <a class="pf pg ep" href="https://medium.com/u/6c6a760e66da?source=post_page-----1362a1209e5a--------------------------------" rel="noopener" target="_blank"> <em class="pc">眨眼萨维尔</em> </a> <em class="pc">指出的，</em> <code class="fe on oo op oq b"><em class="pc">getsizeof()</em></code> <em class="pc">的结果各不相同，取决于机器、架构和 Python 版本。现在包括在内了。还有，</em> <a class="pf pg ep" href="https://medium.com/u/87c94c990627?source=post_page-----1362a1209e5a--------------------------------" rel="noopener" target="_blank"> <em class="pc">奥利弗·法伦</em> </a> <em class="pc">正确的表述了下划线</em> <code class="fe on oo op oq b"><em class="pc">_</em></code> <em class="pc">确实是一个占用内存的变量。文本现在包括使用下划线，这是一种增加可读性的约定。而正如</em> <a class="ae ky" href="https://twitter.com/mfrederickson" rel="noopener ugc nofollow" target="_blank"> <em class="pc">迈克尔·弗雷德森</em> </a> <em class="pc">在推特上指出的，</em> <code class="fe on oo op oq b"><em class="pc">dir()</em></code> <em class="pc">功能从 Python 2.7 开始就可用了。这个故事错误地声明它只能从 Python 3 中获得。</em></p></div></div>    
</body>
</html>