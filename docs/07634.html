<html>
<head>
<title>How to create a 3D time-series map using Python and Kepler.gl</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Python和Kepler.gl创建3D时间序列地图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/an-interactive-3d-map-of-police-action-s-that-have-resulted-in-death-b9d7fbf81822?source=collection_archive---------31-----------------------#2020-06-08">https://towardsdatascience.com/an-interactive-3d-map-of-police-action-s-that-have-resulted-in-death-b9d7fbf81822?source=collection_archive---------31-----------------------#2020-06-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8a093c5311113a9c1725f55de995edcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0l-WeqdtYRruoV_XxS-ZKg.png"/></div></div></figure><h2 id="dff9" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">使用Kepler.gl可视化时序数据</h2><p id="b034" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">随着抗议活动席卷美国，我想更好地了解警察和受害者之间的互动导致死亡的频率。这提供了一个很好的机会来测试优步的开普勒. gl工具箱，并创建一个导致死亡的警察互动的互动3D地图。</p><p id="a2c6" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">在这篇文章中，我将谈论<a class="ae lp" href="http://erikyan.com/police_interactions_resulting_in_death.html" rel="noopener ugc nofollow" target="_blank">地图</a>，它做什么，以及我们如何与数据互动。我还将讨论创建过程以及如何轻松地制作交互式地理空间可视化(对于那些对这个项目的技术方面感兴趣的人)。</p><h2 id="d1b3" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated"><strong class="ak">关于地图</strong></h2><p id="1b02" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">当你打开<a class="ae lp" href="http://erikyan.com/police_interactions_resulting_in_death.html" rel="noopener ugc nofollow" target="_blank">地图</a>时，你会注意到一个带有播放/暂停按钮的时间序列滑块。可以点击播放按钮，将数据制作成动画，看看死亡人数是如何随时间变化的(范围从2013年1月到2019年12月)。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/7ba827990cc3cc00da546c0b7cdfb6c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*XLqDpdW6SC_MOOlx007N3w.gif"/></div><p class="ma mb gj gh gi mc md bd b be z dk translated">时间序列功能正在发挥作用。(图片由作者提供)</p></figure><p id="a418" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">如果您单击&gt;按钮(在页面的左上角)，您可以与数据交互以更改您在地图上看到的内容。例如，您可以:隐藏层，添加新层，根据变量(如种族、性别等)过滤数据。我添加了一个隐藏层，它基于地理空间半径可视化聚合数据。当图层可见时，您将看到计算的聚类:</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/92f3355826ee5c399f316a07d80d04c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*6Khl-B8ta80H0SmB2lNM0g.gif"/></div><p class="ma mb gj gh gi mc md bd b be z dk translated">启用聚类映射层的时间序列。(图片由作者提供)</p></figure><p id="47e8" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">我不会深入谈论你在地图界面内可以做的一切。在这里您可以随意查看地图的实时版本<a class="ae lp" href="http://erikyan.com/police_interactions_resulting_in_death.html" rel="noopener ugc nofollow" target="_blank">并体验地图的功能/探索数据。</a></p><h2 id="33d2" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">地图是如何制作的</h2><p id="b89c" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">让我们浏览一下创建此地图的过程。为此，我们利用<a class="ae lp" href="http://mappingpoliceviolence.org" rel="noopener ugc nofollow" target="_blank">开放访问数据集</a>和<a class="ae lp" href="https://kepler.gl/" rel="noopener ugc nofollow" target="_blank"> Kepler.gl </a>，优步的开源地理空间分析工具。优步最近发布了一篇关于Kepler.gl的伟大文章，它是使用React &amp; Redux、Deck.gl和WebGL构建的。</p><p id="53f1" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">如果你使用过Deck.gl，那么使用Kepler.gl就更容易了。Deck.gl已经可以轻松创建基于WebGL的大型数据集可视化。Kepler.gl提供了一个屏幕界面，您可以在其中快速配置数据可视化，从而进一步简化了这一过程。可以保存地图配置进行存档或直接编辑(如果您想要手动更改配置脚本)。</p><p id="508d" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated"><em class="me">你的数据集需要包括三个变量:</em></p><ol class=""><li id="21cb" class="mf mg iq kw b kx lq lb lr kh mh kl mi kp mj lo mk ml mm mn bi translated">“日期时间”变量(用于启用时间序列功能)</li><li id="80c3" class="mf mg iq kw b kx mo lb mp kh mq kl mr kp ms lo mk ml mm mn bi translated">纬度变量(来自每个县的面形心)</li><li id="e512" class="mf mg iq kw b kx mo lb mp kh mq kl mr kp ms lo mk ml mm mn bi translated">经度变量(来自每个县的多边形质心)</li></ol><p id="82ab" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">如果您已经有了一个日期变量，您将希望修改该变量，使其至少包含小时和分钟(即，将日期转换为日期时间格式)。目前，Kepler.gl只能处理日期时间戳，而不仅仅是日期(<a class="ae lp" href="https://github.com/keplergl/kepler.gl/issues/78" rel="noopener ugc nofollow" target="_blank">见Kepler.gl Github第78期</a>)。</p><p id="c614" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">实现这一点的快速方法(如果日期列的格式为mm/dd/yy):</p><pre class="lw lx ly lz gt mt mu mv mw aw mx bi"><span id="3b5d" class="jy jz iq mu b gy my mz l na nb">kepler_mvp_df[‘datetime’] = kepler_mvp_df[‘datetime’].astype(str) + ‘ 0:00’</span></pre><p id="2ce5" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">我们希望包括开普勒时间序列地图的经度和纬度信息，因为我们将使用每个面的质心作为每个不同区域/地区的中心经度和纬度，而不是为每个时间戳分配geojson形状。</p><p id="082a" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">我使用的警察交互数据集(参见数据集来源/有效性部分)包括街道地址、城市、州、邮政编码和郡信息。我们将按州县绘制数据，因为我们可以使用<a class="ae lp" href="https://www.weather.gov/gis/Counties" rel="noopener ugc nofollow" target="_blank">国家气象局的GIS </a>形状文件，使用每个县各自地理空间形状的质心提取每个县的中心经度和纬度。</p><p id="4b29" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">我推荐使用<a class="ae lp" href="https://geopandas.org/" rel="noopener ugc nofollow" target="_blank"> geopandas </a>来提取shapefile数据:</p><pre class="lw lx ly lz gt mt mu mv mw aw mx bi"><span id="035a" class="jy jz iq mu b gy my mz l na nb">shapefile_data = gpd.read_file("c_03mr20.shp")<br/>print(shapefile_data)</span><span id="5b9b" class="jy jz iq mu b gy nc mz l na nb">shapfile_raw = pd.DataFrame()<br/>shapfile_raw = shapfile_raw.append(shapefile_data)</span><span id="6e30" class="jy jz iq mu b gy nc mz l na nb">shapfile_raw</span></pre><p id="7ae1" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">一旦提取了经度和纬度，我们只需使用州和县变量(这两个数据集中应该都有)将坐标字典与数据集合并。在这种情况下，我们将使用州缩写和县名来合并数据:</p><pre class="lw lx ly lz gt mt mu mv mw aw mx bi"><span id="2fb2" class="jy jz iq mu b gy my mz l na nb">kepler_mvp_df = pd.merge(MVP_raw,merged_dict_df, on=[‘STATE’,’County’])</span></pre><p id="fc3f" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">现在，我们准备将数据加载到Kepler.gl中，并开始创建我们的可视化！</p><h2 id="ed19" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">为Jupyter笔记本设置Kepler.gl:</h2><p id="cc5b" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">使用Kepler.gl的方法有很多，对于这张地图，我使用了Kepler.gl Jupyter小部件。这种方法很有用，因为Kepler.gl加载在Jupyter Notebook的一个单元格中，允许您操作数据并将其直接加载到Kepler中，而不必在环境之间切换或传输数据集。</p><p id="5423" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">如果你没有Jupyter笔记本，我强烈推荐这个<a class="ae lp" href="https://jupyter.readthedocs.io/en/latest/install.html" rel="noopener ugc nofollow" target="_blank">教程</a>。安装开普勒最简单的方法是使用pip:</p><pre class="lw lx ly lz gt mt mu mv mw aw mx bi"><span id="9fc3" class="jy jz iq mu b gy my mz l na nb">pip install keplergl</span></pre><p id="3895" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">我建议使用pandas将您的数据推送到数据框架中。在这种情况下，我们的数据集是在Jupyter Notebook中准备的，因此我们只需将数据集直接导入Kepler Jupyter小部件:</p><pre class="lw lx ly lz gt mt mu mv mw aw mx bi"><span id="9afc" class="jy jz iq mu b gy my mz l na nb">from keplergl import KeplerGl</span><span id="3f4d" class="jy jz iq mu b gy nc mz l na nb">kepler_map = KeplerGl(height = 800, data={‘data_name_here’: dataset_df})</span><span id="2eca" class="jy jz iq mu b gy nc mz l na nb">kepler_map</span></pre><p id="5a78" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">在上面的代码片段中，我们正在导入开普勒小部件，指定窗口高度，并定义/导入数据集到小部件中。</p><p id="a8b5" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">一旦数据加载完毕，你就可以使用Kepler.gl内置界面根据自己的喜好配置地图视觉效果。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/7c5427cfba514062a53a7522f77c154f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*wYHA5aqn7X7ZMDMtdgirWQ.gif"/></div><p class="ma mb gj gh gi mc md bd b be z dk translated">(图片由作者提供)</p></figure><p id="0c24" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">在这张地图中，一张热量图沿着x轴和z轴叠加，随着死亡密度的增加，热量密度从暗红色到黄色不等。地图的3D渲染允许我们利用y轴，使用黄线来显示热点图密度颜色的强度(看到热点中心的黄点并不能告诉您它相对于其他黄色热点的强度，因此六边形线可以帮助我们通过利用y轴更好地可视化热点密度)。</p><p id="a404" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">您的配置脚本将如下所示:</p><pre class="lw lx ly lz gt mt mu mv mw aw mx bi"><span id="36b1" class="jy jz iq mu b gy my mz l na nb">new_config = {'version': 'v1',<br/> 'config': {'visState': {'filters': [{'dataId': ['police action that resulted in death'],<br/>     'id': 'o7g4tr5v',<br/>     'name': ['datetime'],<br/>     'type': 'timeRange',<br/>     'value': [1357006005000, 1374938411000],<br/>     'enlarged': True,<br/>     'plotType': 'histogram',<br/>     'yAxis': None},<br/>    {'dataId': ['police action that resulted in death'],<br/>     'id': 'p34jx073r',<br/>     'name': ["Victim's race"],<br/>     'type': 'multiSelect',<br/>     'value': [],<br/>     'enlarged': False,<br/>     'plotType': 'histogram',<br/>     'yAxis': None}],<br/>   'layers': [{'id': 'e136xu9',<br/>     'type': 'heatmap',<br/>     'config': {'dataId': 'police action that resulted in death',<br/>      'label': 'Heat',<br/>      'color': [231, 159, 213],<br/>      'columns': {'lat': 'LAT', 'lng': 'LON'},<br/>      'isVisible': True,<br/>      'visConfig': {'opacity': 0.5,<br/>       'colorRange': {'name': 'Global Warming',<br/>        'type': 'sequential',<br/>        'category': 'Uber',<br/>        'colors': ['#5A1846',<br/>         '#900C3F',<br/>         '#C70039',<br/>         '#E3611C',<br/>         '#F1920E',<br/>         '#FFC300']},<br/>       'radius': 40},<br/>      'hidden': False,<br/>      'textLabel': [{'field': None,<br/>        'color': [255, 255, 255],<br/>        'size': 18,<br/>        'offset': [0, 0],<br/>        'anchor': 'start',<br/>        'alignment': 'center'}]},<br/>     'visualChannels': {'weightField': None, 'weightScale': 'linear'}},<br/>    {'id': 'm9ia9z',<br/>     'type': 'hexagon',<br/>     'config': {'dataId': 'police action that resulted in death',<br/>      'label': 'Hex',<br/>      'color': [221, 178, 124],<br/>      'columns': {'lat': 'LAT', 'lng': 'LON'},<br/>      'isVisible': True,<br/>      'visConfig': {'opacity': 0.4,<br/>       'worldUnitSize': 8,<br/>       'resolution': 8,<br/>       'colorRange': {'name': 'Global Warming',<br/>        'type': 'sequential',<br/>        'category': 'Uber',<br/>        'colors': ['#5A1846',<br/>         '#900C3F',<br/>         '#C70039',<br/>         '#E3611C',<br/>         '#F1920E',<br/>         '#FFC300']},<br/>       'coverage': 1,<br/>       'sizeRange': [0, 500],<br/>       'percentile': [0, 100],<br/>       'elevationPercentile': [0, 100],<br/>       'elevationScale': 40,<br/>       'colorAggregation': 'count',<br/>       'sizeAggregation': 'count',<br/>       'enable3d': True},<br/>      'hidden': False,<br/>      'textLabel': [{'field': None,<br/>        'color': [255, 255, 255],<br/>        'size': 18,<br/>        'offset': [0, 0],<br/>        'anchor': 'start',<br/>        'alignment': 'center'}]},<br/>     'visualChannels': {'colorField': None,<br/>      'colorScale': 'quantile',<br/>      'sizeField': None,<br/>      'sizeScale': 'linear'}},<br/>    {'id': 'l2vlgiq',<br/>     'type': 'cluster',<br/>     'config': {'dataId': 'police action that resulted in death',<br/>      'label': 'Cluster',<br/>      'color': [23, 184, 190],<br/>      'columns': {'lat': 'LAT', 'lng': 'LON'},<br/>      'isVisible': True,<br/>      'visConfig': {'opacity': 0.05,<br/>       'clusterRadius': 110,<br/>       'colorRange': {'name': 'Uber Viz Diverging 1.5',<br/>        'type': 'diverging',<br/>        'category': 'Uber',<br/>        'colors': ['#00939C',<br/>         '#5DBABF',<br/>         '#BAE1E2',<br/>         '#F8C0AA',<br/>         '#DD7755',<br/>         '#C22E00']},<br/>       'radiusRange': [1, 40],<br/>       'colorAggregation': 'count'},<br/>      'hidden': False,<br/>      'textLabel': [{'field': None,<br/>        'color': [255, 255, 255],<br/>        'size': 18,<br/>        'offset': [0, 0],<br/>        'anchor': 'start',<br/>        'alignment': 'center'}]},<br/>     'visualChannels': {'colorField': None, 'colorScale': 'quantize'}},<br/>    {'id': 'ci0b6l',<br/>     'type': 'point',<br/>     'config': {'dataId': 'police action that resulted in death',<br/>      'label': "Victim's Name",<br/>      'color': [28, 27, 27],<br/>      'columns': {'lat': 'LAT', 'lng': 'LON', 'altitude': None},<br/>      'isVisible': False,<br/>      'visConfig': {'radius': 0,<br/>       'fixedRadius': False,<br/>       'opacity': 0.8,<br/>       'outline': False,<br/>       'thickness': 0.5,<br/>       'strokeColor': None,<br/>       'colorRange': {'name': 'Global Warming',<br/>        'type': 'sequential',<br/>        'category': 'Uber',<br/>        'colors': ['#5A1846',<br/>         '#900C3F',<br/>         '#C70039',<br/>         '#E3611C',<br/>         '#F1920E',<br/>         '#FFC300']},<br/>       'strokeColorRange': {'name': 'Global Warming',<br/>        'type': 'sequential',<br/>        'category': 'Uber',<br/>        'colors': ['#5A1846',<br/>         '#900C3F',<br/>         '#C70039',<br/>         '#E3611C',<br/>         '#F1920E',<br/>         '#FFC300']},<br/>       'radiusRange': [0, 50],<br/>       'filled': False},<br/>      'hidden': False,<br/>      'textLabel': [{'field': {'name': "Victim's name", 'type': 'string'},<br/>        'color': [255, 255, 255],<br/>        'size': 3,<br/>        'offset': [0, 0],<br/>        'anchor': 'start',<br/>        'alignment': 'center'}]},<br/>     'visualChannels': {'colorField': None,<br/>      'colorScale': 'quantile',<br/>      'strokeColorField': None,<br/>      'strokeColorScale': 'quantile',<br/>      'sizeField': None,<br/>      'sizeScale': 'linear'}}],<br/>   'interactionConfig': {'tooltip': {'fieldsToShow': {'police action that resulted in death': ["Victim's name",<br/>       "Victim's age",<br/>       "Victim's gender",<br/>       "Victim's race",<br/>       'URL of image of victim']},<br/>     'enabled': True},<br/>    'brush': {'size': 0.5, 'enabled': False},<br/>    'geocoder': {'enabled': False},<br/>    'coordinate': {'enabled': False}},<br/>   'layerBlending': 'additive',<br/>   'splitMaps': [],<br/>   'animationConfig': {'currentTime': None, 'speed': 0.5}},<br/>  'mapState': {'bearing': 12.35033335232777,<br/>   'dragRotate': True,<br/>   'latitude': 33.612636906131925,<br/>   'longitude': -98.63889376921583,<br/>   'pitch': 55.12552722162369,<br/>   'zoom': 3.5734484899775754,<br/>   'isSplit': False},<br/>  'mapStyle': {'styleType': 'dark',<br/>   'topLayerGroups': {},<br/>   'visibleLayerGroups': {'label': True,<br/>    'road': True,<br/>    'border': True,<br/>    'building': False,<br/>    'water': True,<br/>    'land': True,<br/>    '3d building': False},<br/>   'threeDBuildingColor': [9.665468314072013,<br/>    17.18305478057247,<br/>    31.1442867897876],<br/>   'mapStyles': {}}}}</span></pre><p id="be8e" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">确保保存您的配置脚本以供将来参考(或者如果您想要手动更改您的配置脚本):</p><pre class="lw lx ly lz gt mt mu mv mw aw mx bi"><span id="07cc" class="jy jz iq mu b gy my mz l na nb">current_config = kepler_map.config</span><span id="8137" class="jy jz iq mu b gy nc mz l na nb">current_config</span></pre><p id="f3fe" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">您也可以将地图导出为交互式html地图:</p><pre class="lw lx ly lz gt mt mu mv mw aw mx bi"><span id="009e" class="jy jz iq mu b gy my mz l na nb">kepler_map.save_to_html(file_name=”kepler_map.html”)</span></pre><p id="f3dc" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">请务必保留最终配置文件的副本。您可以使用配置文件在Kepler Jupyter小部件中重新加载地图视觉效果:</p><pre class="lw lx ly lz gt mt mu mv mw aw mx bi"><span id="0cb7" class="jy jz iq mu b gy my mz l na nb">kepler_map = KeplerGl(height=800, data={‘data_name_here’: dataset_df}, config=current_config)</span><span id="48ec" class="jy jz iq mu b gy nc mz l na nb">kepler_map</span></pre><p id="4c34" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">或者，您也可以使用保存的配置文件快速重新创建交互式html地图:</p><pre class="lw lx ly lz gt mt mu mv mw aw mx bi"><span id="f441" class="jy jz iq mu b gy my mz l na nb">kepler_map.save_to_html(data={‘data_name_here’: dataset_df}, config=config, file_name=”kepler_map.html”)</span></pre><p id="30ed" class="pw-post-body-paragraph ku kv iq kw b kx lq kz la lb lr ld le kh ls lg lh kl lt lj lk kp lu lm ln lo ij bi translated">就是这样！创建一个交互式的3D地图没有比这更简单的了。</p><h2 id="d600" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">数据集来源/有效性:</h2><p id="713d" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">我使用的数据集来自mappingpoliceviolence.org，由萨缪尔·辛扬威和德雷·麦克森创建。我不能证明数据集的准确性或有效性，但数据集确实包含关于集合中列出的每个单独数据点的深层细节(如人口统计信息、地理信息和相关链接)。</p></div></div>    
</body>
</html>