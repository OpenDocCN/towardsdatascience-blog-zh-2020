<html>
<head>
<title>Augmented Reality using Fiducial Markers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用基准标记的增强现实</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/augmented-reality-using-fiducial-markers-b8124b8f528?source=collection_archive---------38-----------------------#2020-05-17">https://towardsdatascience.com/augmented-reality-using-fiducial-markers-b8124b8f528?source=collection_archive---------38-----------------------#2020-05-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="18b9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">ArUco 基准标记</h2></div><p id="3231" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">根据维基百科，基准标记“是放置在成像系统的视野中的物体，其出现在产生的图像中，用作参考点或测量点。它可以是放置在成像对象中或上的东西，或者是光学仪器的十字线中的一个标记或一组标记。”[1]基准标记已经在许多不同的场合作为测量手段使用。例如，如果你拍一张某人站在尺子旁边的照片，看看他们有多高，尺子将作为一个基准标记。</p><p id="84f2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2014 年发表了一篇研究论文，提出了一种专门为相机姿态估计设计的基准标记系统[2]。相机姿态估计是寻找真实环境中的点和它们的 2D 图像投影之间的对应关系的过程。使用基准标记使这一过程变得容易得多。他们提出的标记被称为阿鲁科标记。该论文的两位作者拉斐尔·穆尼奥斯和塞尔吉奥·加里多制作了一个模块来与他们合作，这个模块又作为 aruco 模块并入 OpenCV[3]。</p><h2 id="e960" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">用 OpenCV 和 Python 检测 ArUco 标记</h2><p id="5884" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">在之前的一篇文章中，我提到了 Pyto [4],所以我想我应该写一个脚本，从我的 iPhone 上的一个实时摄像头中找到一个 ArUco 标记，然后在它周围画一个方框。我使用了以下 ArUco 标记图像:</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/dcf5e6e03d469a9b8cc0313b2da673f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:414/format:webp/1*TBd06Rz_XnwnS6Y4xCVWEQ.png"/></div><p class="mk ml gj gh gi mm mn bd b be z dk translated">阿鲁科标记(id=1)</p></figure><p id="973f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我把这张图片打印在一张纸上，放在我的桌子上:</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mo"><img src="../Images/2152c337da06d642549e150d8ebc7e04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pBnGZ6eSIU5CBiEgRp2fqg.jpeg"/></div></div></figure><p id="e668" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你会发现我把透明度降低到 50%来保存我的黑色墨盒！它仍然工作正常。</p><p id="d836" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是我的脚本，它检测标记，然后在它周围画一个框，并附上 ID:</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="8256" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是在我的桌子上用 ArUco 标记运行的脚本:</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mv"><img src="../Images/e0e8584eb51b1eaa1b1d0d7dce7e4568.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ofHwFJeV_f6dvOg-OPeYQw.png"/></div></div></figure><h2 id="2d62" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">增强现实</h2><p id="84be" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">一旦我能够检测到标记，我想在它上面放置一个图像会很好，这样可以在你移动相机时保持正确的视角。为了实现这一点，我们需要知道标记的单应性。然后，我们可以将图像转换成相同的单应性，并将其正确地放置在标记的顶部。</p><p id="d992" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你不需要理解单应、齐次坐标或矩阵的实际细节就能实现这一点。但是如果你感兴趣的话，可以看看最后的维基文章参考文献[5][6]。</p><p id="c0ea" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了获得单应性，我们调用 OpenCV 方法<strong class="kk iu">find 单应性</strong>。一旦我们有了单应性，我们就可以调用方法<strong class="kk iu"> warpPerspective </strong>，它将对图像进行仿射变换，以将其置于正确的角度，并将其正确地放置在标记的顶部。</p><p id="2d4a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是我的脚本:</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="83c9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是它在 Pyto 运行时的样子:</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mv"><img src="../Images/3c30e3ac484bf304eb9813fcd2cf13ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uP-GW39lTNz5QeGM_8gj0w.png"/></div></div></figure></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h2 id="681c" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">参考和链接</h2><p id="f446" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">[1]维基百科对“基准标记”的定义:https://en.wikipedia.org/wiki/Fiducial_marker<a class="ae nd" href="https://en.wikipedia.org/wiki/Fiducial_marker" rel="noopener ugc nofollow" target="_blank"/></p><p id="304f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[2]塞尔吉奥·加里多-朱拉多，拉斐尔·穆尼奥斯-萨利纳斯，弗朗西斯科·j·马德里-奎瓦斯和曼努埃尔·j·马林-希门尼斯，<a class="ae nd" href="https://www.researchgate.net/publication/260251570_Automatic_generation_and_detection_of_highly_reliable_fiducial_markers_under_occlusion" rel="noopener ugc nofollow" target="_blank">遮挡情况下高度可靠的基准标记的自动生成和检测</a></p><p id="584e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[3]<a class="ae nd" href="https://docs.opencv.org/4.1.0/d5/dae/tutorial_aruco_detection.html" rel="noopener ugc nofollow" target="_blank">https://docs . opencv . org/4 . 1 . 0/D5/DAE/tutorial _ aruco _ detection . html</a></p><p id="70ae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[4]皮托:【https://github.com/ColdGrub1384/Pyto】T4</p><p id="8b76" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[5] <a class="ae nd" href="https://en.wikipedia.org/wiki/Homography_(computer_vision)" rel="noopener ugc nofollow" target="_blank">单应维基百科定义</a></p><p id="2154" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[6] <a class="ae nd" href="https://en.wikipedia.org/wiki/Homogeneous_coordinates" rel="noopener ugc nofollow" target="_blank">同质坐标维基百科定义</a></p></div></div>    
</body>
</html>