<html>
<head>
<title>New Python library for statistical tests — simpler than statsmodels, richer than scipy.stats</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于统计测试的新Python库—比statsmodels更简单，比scipy.stats更丰富</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/new-python-library-for-statistical-tests-simpler-than-statsmodels-richer-than-scipy-stats-ff380d4673c0?source=collection_archive---------30-----------------------#2020-05-23">https://towardsdatascience.com/new-python-library-for-statistical-tests-simpler-than-statsmodels-richer-than-scipy-stats-ff380d4673c0?source=collection_archive---------30-----------------------#2020-05-23</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><h2 id="7b6a" class="is it iu bd b dl iv iw ix iy iz ja dk jb translated" aria-label="kicker paragraph">PYTHON中的统计模型</h2><div class=""/><div class=""><h2 id="f6b3" class="pw-subtitle-paragraph ka jd iu bd b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dk translated">统计建模变得更加简单</h2></div><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj ks"><img src="../Images/b6c55d888e5983e225843aa13e5556e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MJXFgbopHKR1lE2KhA852g@2x.png"/></div></div><p class="le lf gk gi gj lg lh bd b be z dk translated"><a class="ae li" href="https://pingouin-stats.org/" rel="noopener ugc nofollow" target="_blank"> Pingouin </a>统计建模Python库</p></figure><p id="1590" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">Python的<a class="ae li" href="https://www.statsmodels.org/stable/index.html" rel="noopener ugc nofollow" target="_blank"> statsmodels </a>和<a class="ae li" href="https://docs.scipy.org/doc/scipy/reference/stats.html" rel="noopener ugc nofollow" target="_blank"> scipy </a>库令人难以置信。但是，当涉及到执行简单但最广泛使用的统计测试时，如t测试、方差分析(ANOVA)和回归，这两个库似乎同时做了太多和太少。</p><p id="bd04" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">Statsmodels功能强大，但是它的输出对初学者来说是多余的，难以解析。然而，Scipy.stats更容易使用，但是提供的输出有些欠缺(例如，只有测试统计和概率值)。</p><p id="8062" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">有没有介于两者之间的东西——为最常见的统计测试提供简单而详尽的输出的库？</p></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><h1 id="5817" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">Pinguoin前来救援</h1><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj ne"><img src="../Images/8d2dd93b049e6ab45af1b1f223e76e88.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*yWDNqEmot0PG7QE5JAXNfQ.png"/></div><p class="le lf gk gi gj lg lh bd b be z dk translated">于2018年4月发布，目前正在进行<a class="ae li" href="https://github.com/raphaelvallat/pingouin" rel="noopener ugc nofollow" target="_blank">积极开发</a></p></figure><p id="eede" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">是一个相对较新的库，旨在为许多常见的统计测试提供简单而详尽的输出。</p><h1 id="32a8" class="mm mn iu bd mo mp nf mr ms mt ng mv mw kj nh kk my km ni kn na kp nj kq nc nd bi translated">安装并导入pingouin</h1><p id="408a" class="pw-post-body-paragraph lj lk iu ll b lm nk ke lo lp nl kh lr ls nm lu lv lw nn ly lz ma no mc md me in bi translated">如果你不想安装，打开我的共享Deepnote Python笔记本<a class="ae li" href="https://beta.deepnote.com/project/d1350ad6-bcb4-4c3d-857b-c29d01b8a803#%2Fpingouin.ipynb" rel="noopener ugc nofollow" target="_blank"><strong class="ll je"/></a>，在你阅读这篇文章的时候一个单元一个单元地运行它。否则，pingouin可通过pip和conda获得，因此选择您喜欢的安装方法。</p><pre class="kt ku kv kw gu np nq nr ns aw nt bi"><span id="529c" class="nu mn iu nq b gz nv nw l nx ny">pip install pingouin<br/>conda install -c conda-forge pingouin</span></pre><p id="3a78" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">这篇文章将只涉及<strong class="ll je"> t检验、方差分析、回归，以及pingouin如何与</strong> <a class="ae li" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="ll je">熊猫</strong>、</a>集成，但是pingouin可以做的不止这些(例如，中介)，所以查看它的<a class="ae li" href="https://pingouin-stats.org/index.html#" rel="noopener ugc nofollow" target="_blank">文档</a>。</p></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><h1 id="c1fa" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">“学生”t检验</h1><p id="8dbe" class="pw-post-body-paragraph lj lk iu ll b lm nk ke lo lp nl kh lr ls nm lu lv lw nn ly lz ma no mc md me in bi translated">很容易进行t检验并得到最小但重要的结果，这些结果被方便地存储在熊猫数据帧中。</p><pre class="kt ku kv kw gu np nq nr ns aw nt bi"><span id="054f" class="nu mn iu nq b gz nv nw l nx ny">import pingouin as pg</span><span id="2104" class="nu mn iu nq b gz nz nw l nx ny">x = [1, 2, 3, 4, 5]<br/>y = [0, 1, 2, 3, 6]</span><span id="99aa" class="nu mn iu nq b gz nz nw l nx ny">model = pg.ttest(x, y)  # output is a pandas dataframe<br/>print(model)</span></pre><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj gk"><img src="../Images/3920047d52e553d58eae3c827c767162.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*juPtMNUJrAkyTtCct5_ITA@2x.png"/></div></div><p class="le lf gk gi gj lg lh bd b be z dk translated">熊猫数据帧中t-test的清晰但全面的输出(运行代码<a class="ae li" href="https://beta.deepnote.com/project/d1350ad6-bcb4-4c3d-857b-c29d01b8a803#%2Fpingouin.ipynb" rel="noopener ugc nofollow" target="_blank">此处</a></p></figure><p id="f689" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">真正令人难以置信的是，结果不仅包括T统计量(T)和p值(p-val)，还包括其他统计量，所有这些都在熊猫数据框架的一行中:自由度(dof)、95%置信区间(CI95%)、科恩的d效应大小度量(cohen-d)、反映假设证据强度的贝叶斯因子(BF10)和统计功效(power)。</p></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><h1 id="7d2a" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">方差分析(ANOVA)</h1><p id="b620" class="pw-post-body-paragraph lj lk iu ll b lm nk ke lo lp nl kh lr ls nm lu lv lw nn ly lz ma no mc md me in bi translated">执行<a class="ae li" href="https://pingouin-stats.org/generated/pingouin.anova.html#pingouin.anova" rel="noopener ugc nofollow" target="_blank">方差分析</a>同样简单。我们将使用pingouin中的内置数据集，并改编一个来自官方文档的示例，在该示例中，我们可以看到胆固醇是否可以通过性别(男性或女性)和药物(A、B、C)来预测。</p><p id="f71b" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">当我们使用pingouin时，我们也可以使用与pandas数据帧相关联的<code class="fe oa ob oc nq b">anova</code>方法。也支持相当多的其他方法。或者也可以使用等价的<code class="fe oa ob oc nq b">pg.anova</code>函数来代替pandas方法。</p><pre class="kt ku kv kw gu np nq nr ns aw nt bi"><span id="6679" class="nu mn iu nq b gz nv nw l nx ny">dt = pg.read_dataset('anova3')</span><span id="0f66" class="nu mn iu nq b gz nz nw l nx ny"># pandas method anova<br/>dt.anova(dv="Cholesterol", between=["Sex", "Drug"]).round(3)</span><span id="c8b2" class="nu mn iu nq b gz nz nw l nx ny"># pingouin function anova<br/>pg.anova(dv="Cholesterol", between=["Sex", "Drug"], data=dt)</span></pre><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj od"><img src="../Images/e2ddba1698b9d41860236702ddb5c586.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*49tseHFHJr650r5WgpbjHg@2x.png"/></div></div><p class="le lf gk gi gj lg lh bd b be z dk translated">熊猫数据帧中ANOVA的清晰而全面的输出(运行代码<a class="ae li" href="https://beta.deepnote.com/project/d1350ad6-bcb4-4c3d-857b-c29d01b8a803#%2Fpingouin.ipynb" rel="noopener ugc nofollow" target="_blank">此处</a>)</p></figure><p id="c1e9" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">同样，输出是在熊猫数据帧中。Pingouin几乎使得用Python来适应简单的统计模型变得太容易了，并且产生的输出清晰但非常全面——甚至可能比强大的统计计算语言r提供的输出更好。</p></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><h1 id="f113" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">回归</h1><p id="1cc5" class="pw-post-body-paragraph lj lk iu ll b lm nk ke lo lp nl kh lr ls nm lu lv lw nn ly lz ma no mc md me in bi translated">Pingouin还执行线性和逻辑回归。这里，我们导入了<a class="ae li" href="https://seaborn.pydata.org/" rel="noopener ugc nofollow" target="_blank"> seaborn </a>库，这样我们就可以使用内置的iris数据集。我们使用萼片长度和萼片宽度来预测花瓣长度。</p><pre class="kt ku kv kw gu np nq nr ns aw nt bi"><span id="ec9c" class="nu mn iu nq b gz nv nw l nx ny">import seaborn as sns<br/>iris = sns.load_dataset("iris")</span><span id="b0a2" class="nu mn iu nq b gz nz nw l nx ny">X = iris[['sepal_length', 'sepal_width']]  # predictors/features<br/>y = iris['petal_length']  # outcome/target<br/>pg.linear_regression(X, y)</span></pre><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj oe"><img src="../Images/a23907821b1d3cb5ee9d86c1a74fe97f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_q9NsLzqUwlaPNZdvKeVzw@2x.png"/></div></div><p class="le lf gk gi gj lg lh bd b be z dk translated">熊猫数据框架中线性回归的清晰而全面的输出(运行代码<a class="ae li" href="https://beta.deepnote.com/project/d1350ad6-bcb4-4c3d-857b-c29d01b8a803#%2Fpingouin.ipynb" rel="noopener ugc nofollow" target="_blank">此处</a>)</p></figure></div><div class="ab cl mf mg hy mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="in io ip iq ir"><p id="a863" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">给Pingouin 一个机会，我很好奇你对它的想法，以及你是否认为你会使用它。另外，如果你喜欢这篇文章，可以看看我的其他几篇关于Python和pandas数据科学的文章。</p><div class="of og gq gs oh oi"><a rel="noopener follow" target="_blank" href="/reshape-pandas-dataframe-with-pivot-table-in-python-tutorial-and-visualization-2248c2012a31"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd je gz z fq on fs ft oo fv fx jd bi translated">用Python中的pivot_table重塑熊猫数据框—教程和可视化</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">使用pd.pivot_table将long转换为wide</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow lc oi"/></div></div></a></div><div class="of og gq gs oh oi"><a rel="noopener follow" target="_blank" href="/two-simple-ways-to-loop-more-effectively-in-python-886526008a70"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd je gz z fq on fs ft oo fv fx jd bi translated">在Python中更有效地循环的两种简单方法</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">使用枚举和压缩编写更好的Python循环</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="ox l ot ou ov or ow lc oi"/></div></div></a></div><div class="of og gq gs oh oi"><a rel="noopener follow" target="_blank" href="/real-or-spurious-correlations-attractive-people-you-date-are-nastier-fa44a30a9452"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd je gz z fq on fs ft oo fv fx jd bi translated">真实或虚假的关联:你约会的有魅力的人更令人讨厌</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">使用Python模拟数据、测试直觉并提高数据科学技能</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="oy l ot ou ov or ow lc oi"/></div></div></a></div><p id="10f2" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated"><em class="oz">更多帖子，</em> <a class="ae li" href="https://hauselin.ck.page/587b46fb05" rel="noopener ugc nofollow" target="_blank"> <em class="oz">订阅我的邮件列表</em> </a> <em class="oz">。</em></p></div></div>    
</body>
</html>