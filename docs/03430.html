<html>
<head>
<title>Comparison of Clustering Performance for both CPU and GPU</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CPU和GPU的集群性能比较</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/comparison-of-clustering-performance-for-both-cpu-and-gpu-3f47fb3de872?source=collection_archive---------23-----------------------#2020-04-01">https://towardsdatascience.com/comparison-of-clustering-performance-for-both-cpu-and-gpu-3f47fb3de872?source=collection_archive---------23-----------------------#2020-04-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="55fc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一个基准:Scikit-Learn和TensorFlow-GPU的K均值算法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6bc1c63bb0efa340012359c239b5821f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_MqLBkRmPSp3MUV6c1FEkQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(<a class="ae kv" href="https://pixabay.com/illustrations/processor-cpu-computer-chip-board-2217771/" rel="noopener ugc nofollow" target="_blank">来源</a>)</p></figure><p id="c55a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你想对一个现象有更深的理解时，一种方法是将他们分组，这样更容易理解。例如，您可能想按标题观看电影，而另一个人可能想按类型观看。你决定如何对它们进行分组会引导你对它们有更多的了解。</p><p id="4091" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在机器学习中，将数据点分成一定数量的组称为聚类。这些数据点没有初始标签。因此，聚类是将未标记的数据点分组，以更有意义的方式找出它们。</p><p id="2bf5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要深入了解聚类技术，请访问<a class="ae kv" href="http://www.mit.edu/~9.54/fall14/slides/Class13.pdf" rel="noopener ugc nofollow" target="_blank"> <em class="ls">麻省理工学院-edu </em> </a>笔记。</p><p id="c5aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，目的是通过<strong class="ky ir"><em class="ls"/></strong>的执行时间来比较<em class="ls"> Scikit-Learn (random，k-means++) </em>和<em class="ls"> TensorFlow-GPU (k-means++，Tunnel k-means) </em>算法的集群性能，并通过提供相应的系统规格将它们打印在比较矩阵中。由于数据的内容不是本次基准研究的重点，因此所需的数据集将随机生成。</p><div class="lt lu gp gr lv lw"><a href="https://www.commencis.com/thoughts/comparison-of-clustering-performance-for-both-cpu-and-gpu/" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">CPU和GPU的集群性能比较</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">当你想对一个现象有更深的理解时，一种方法是把他们分成小组来做…</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">www.commencis.com</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk kp lw"/></div></div></a></div><h1 id="bf30" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">k均值聚类</h1><p id="d63f" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated"><a class="ae kv" href="https://stanford.edu/~cpiech/cs221/handouts/kmeans.html" rel="noopener ugc nofollow" target="_blank"> <em class="ls"> k均值聚类</em> </a>的目的是以不重叠的方式将一些数量的观察值<strong class="ky ir"> n </strong>划分成<strong class="ky ir"> k </strong>数量的质心。数据点的数量在集群内部应该尽可能的一致，在集群外部应该尽可能的不同。更多理论解释，请访问<a class="ae kv" href="https://cseweb.ucsd.edu/~dasgupta/291-geom/kmeans.pdf" rel="noopener ugc nofollow" target="_blank">本网页</a>。</p><p id="8b19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，将测试三个不同的环境<em class="ls"> (2个不同的CPU驱动系统，1个GPU驱动系统)</em>。系统规格添加如下。</p><blockquote class="ni nj nk"><p id="a2b3" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq">第一个CPU供电的系统规格:</em> </strong></p><p id="057e" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir">处理器:</strong>英特尔(R)酷睿(TM)i7–8850h<br/><strong class="ky ir">处理器速度:</strong> 2.60 GHz <br/> <strong class="ky ir">物理核心:</strong> 6 <br/> <strong class="ky ir">逻辑处理器:</strong> 12 <br/> <strong class="ky ir">物理内存(RAM): </strong> 64 GB</p><p id="bd1f" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq">第二CPU供电系统规格:</em> </strong></p><p id="d0a7" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir">处理器:</strong>英特尔(R)酷睿(TM)i9–10900<br/><strong class="ky ir">处理器速度:</strong> 3.70 GHz <br/> <strong class="ky ir">物理核心:</strong> 10 <br/> <strong class="ky ir">逻辑处理器:</strong> 20 <br/> <strong class="ky ir">物理内存(RAM): </strong> 256 GB (8个32GB DDR4 3000 MHz)</p><p id="9e67" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq"> GPU驱动的系统规格:</em> </strong></p><p id="a3ca" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir">处理器:</strong>英特尔(R)酷睿(TM)i9–10900<br/><strong class="ky ir">处理器速度:</strong> 3.70 GHz <br/> <strong class="ky ir">图形处理器(GPU):</strong>NVIDIA GeForce RTX 2080 ti 352位11GB GDDR6内存(2)</p></blockquote><h1 id="5ed6" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">1.基于CPU的K-均值聚类</h1><p id="ca81" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">中央处理器(CPU)是计算机的关键部件，大部分处理和计算都在其中进行。</p><p id="c12b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于进一步的编码部分，我们将使用Python编程语言<em class="ls">(</em><a class="ae kv" href="https://www.python.org/downloads/release/python-370/" rel="noopener ugc nofollow" target="_blank"><em class="ls">3.7版</em> </a> <em class="ls"> ) </em>。<a class="ae kv" href="https://www.jetbrains.com/pycharm/" rel="noopener ugc nofollow" target="_blank"> <em class="ls"> PyCharm </em> </a>和<a class="ae kv" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> <em class="ls"> Jupyter笔记本</em> </a>都可以用来运行Python脚本。为了便于使用，可以安装<a class="ae kv" href="https://www.anaconda.com/distribution/" rel="noopener ugc nofollow" target="_blank"> <em class="ls"> Anaconda </em> </a>，因为它本身包含了所有必需的IDE和重要包。</p><p id="2d59" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为第一步，我们将安装CPU实施所需的软件包。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="db0e" class="nt mm iq np b gy nu nv l nw nx">pip install psutil<br/>pip install numpy<br/>pip install matplotlib<br/>pip install scikit-learn</span></pre><p id="f8dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安装完<a class="ae kv" href="https://psutil.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">psutil</em></strong></a><strong class="ky ir"><em class="ls"/></strong><a class="ae kv" href="https://docs.scipy.org/doc/numpy/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">numpy</em></strong></a><strong class="ky ir"><em class="ls"/></strong><a class="ae kv" href="https://matplotlib.org/3.1.3/api/_as_gen/matplotlib.pyplot.html" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">matplotlib</em></strong></a><a class="ae kv" href="https://pypi.org/project/scikit-learn/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">sk learn</em></strong></a><strong class="ky ir"><em class="ls"/></strong>我们将导入</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="b206" class="nt mm iq np b gy nu nv l nw nx">import platform<br/>import time<br/>import psutil as ps<br/>import platform<br/>from datetime import datetime<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>from sklearn.cluster import KMeans</span></pre><p id="2c4a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在开始集群之前，可以使用下面的代码片段检查CPU信息及其当前的CPU使用百分比。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="5f66" class="nt mm iq np b gy nu nv l nw nx">print("Physical cores:", ps.cpu_count(logical=False))<br/>print("Logical cores:", ps.cpu_count(logical=True),"\n")<br/><br/>print("CPU Usage Percentages:", "\n")<br/>for i, percentage in enumerate(ps.cpu_percent(percpu=True)):<br/>    print(f"CPU {i}: {percentage}%")<br/>    <br/>print("\n")<br/>print(f"Current CPU Usage in Total: {ps.cpu_percent()}%")</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/a4b4400890b40e91069c8a6142389ad5.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*DqF9cw4C0gyF7r49TaCjKQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><strong class="bd nz">第一个CPU系统信息</strong>(图片作者提供)</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/720b8967d5549c2be603b73f4c5d3fe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*gCF-jlT9tCK-2GH0aXUoOw.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/29e3b312194fa97b761fcb184f739891.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*LOmzgubMPIqaUzGDwXDjMg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><strong class="bd nz">第二CPU系统信息</strong>(图片由作者提供)</p></figure><p id="9a78" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在带有参数<em class="ls"> "init= random" </em>或<em class="ls"> "init=kmeans++" </em>的<a class="ae kv" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html" rel="noopener ugc nofollow" target="_blank"><em class="ls"/></a>函数中存在两种类型的k-means算法。下面首先测试<em class="ls">“init = random”</em>，代表随机选择<em class="ls"> k </em>个观测值。</p><p id="7106" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">“n _ clusters”</em>参数代表算法将分割成的聚类数。当我们将“<em class="ls">n _ clusters”</em>分配到<em class="ls">“100”中时，</em>向算法发出信号，将所有数据点分配到最合适的100个质心中。为了能够控制每次运行的随机性，应将“<em class="ls"> random_state </em>”参数设置为整数；否则，每次运行都会选择不同的随机组，这将很难与之前的输出进行比较。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="0487" class="nt mm iq np b gy nu nv l nw nx">kmeansRnd = KMeans(n_clusters=100, init='random',random_state=12345)</span></pre><p id="58f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">设置集群参数后，生成5列500 K行的随机数。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="eaa4" class="nt mm iq np b gy nu nv l nw nx">CPU_Test_1 = np.random.normal(size=(500000,5))</span></pre><p id="6359" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们有5列和500 K行随机生成的数据。使用“<em class="ls"> fit_predict </em>”函数，将通过输入名为“<em class="ls"> CPU_Test_1 </em>”的数据来计算每个数据点的聚类中心和聚类指数。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="2819" class="nt mm iq np b gy nu nv l nw nx">kmeansRnd.fit_predict(CPU_Test_1)</span></pre><p id="6901" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用python的“<em class="ls"> plotly </em>”包添加样本的可视化和聚类数。在描述数据点和聚类的同时，该绘图脚本的结果被添加到帖子的后续部分中基于系统的结果的末尾。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="856f" class="nt mm iq np b gy nu nv l nw nx">plt.scatter(CPU_Test_1[:,0], CPU_Test_1[:,1], s=1)</span><span id="b042" class="nt mm iq np b gy oc nv l nw nx">plt.scatter(kmeans.cluster_centers_[:,0], kmeans.cluster_centers_[:,1], s=5, c="r")</span><span id="caa2" class="nt mm iq np b gy oc nv l nw nx">plt.title("K-means (Random) with Scikit Learn", "\n")</span><span id="3d27" class="nt mm iq np b gy oc nv l nw nx">plt.show()</span></pre><p id="2d4f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过在我们的算法之外添加以下代码行，可以跟踪算法的执行时间。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="df4b" class="nt mm iq np b gy nu nv l nw nx">start_time = time.time()</span><span id="95ef" class="nt mm iq np b gy oc nv l nw nx"># ... <em class="ls">clustering</em> <em class="ls">code block </em></span><span id="fc42" class="nt mm iq np b gy oc nv l nw nx">end_time = time.time()<br/>print(end_time - start_time)</span></pre><h2 id="cea6" class="nt mm iq bd mn od oe dn mr of og dp mv lf oh oi mx lj oj ok mz ln ol om nb on bi translated">1.1.使用Scikit-Learn的k均值(随机)聚类</h2><p id="7045" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated"><a class="ae kv" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.k_means.html" rel="noopener ugc nofollow" target="_blank"><em class="ls">sci kit Learn K-means—random</em></a>算法以随机方式选择第一个中心聚类，与<em class="ls"> k-means++算法</em>相比，这可能会导致更高的聚类内方差。</p><blockquote class="ni nj nk"><p id="3c58" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq">第一个CPU驱动的系统结果:</em> </strong></p><p id="b70c" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir">算法执行时间:</strong> 2505.26秒<br/> <strong class="ky ir">聚类可视化:</strong>蓝点(数据点)，红点(聚类)</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/04cd11c082c07bb8d64ab8e0eabccad4.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*lAhjQz5ZHK_P6Kem8RY8zg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Scikit Learn，K-means(随机)聚类100个聚类(图片由作者提供)</p></figure><blockquote class="ni nj nk"><p id="e594" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq">第二次CPU供电系统结果:</em> </strong></p><p id="7030" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir">算法执行时间:</strong> 1395.10秒<br/> <strong class="ky ir">聚类可视化:</strong>蓝点(数据点)，红点(聚类)</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/b9f5c1ba4f4abfdeee33af95f05db478.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*ugHZqihDERquE76mnEnBwA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Scikit Learn，K-means(随机)聚类100个聚类(图片由作者提供)</p></figure><h2 id="6073" class="nt mm iq bd mn od oe dn mr of og dp mv lf oh oi mx lj oj ok mz ln ol om nb on bi translated">1.2.使用Scikit-Learn的K-means (kmeans++)聚类</h2><p id="c53a" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated"><em class="ls">sci kit Learn K-means—K means++</em>算法以更符合逻辑的方式选择第一个中心聚类，这可以导致之后更快的聚类性能。</p><blockquote class="ni nj nk"><p id="4f11" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq">第一次CPU供电系统结果:</em> </strong></p><p id="f7b2" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir">算法执行时间:</strong> 2603.74秒<br/> <strong class="ky ir">聚类可视化:</strong>蓝点(数据点)，红点(聚类)</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/64398c07fa26a175114458031711b3b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*ApSDYcwFAeXpxARWvQxWkA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Scikit Learn，K-means (kmeans++)聚类100个聚类(图片由作者提供)</p></figure><blockquote class="ni nj nk"><p id="dd38" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq">第二次CPU供电系统结果:</em> </strong></p><p id="5201" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir">算法执行时间:</strong> 1384.73秒<br/> <strong class="ky ir">聚类可视化:</strong>蓝点(数据点)，红点(聚类)</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/0b768e96144bb8cea4325b5cda3bac7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*wI61WObO8cbeWYdciBunXg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Scikit Learn，K-means (kmeans++)聚类100个聚类(图片由作者提供)</p></figure><h1 id="2ead" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated"><strong class="ak"> 2。基于GPU的集群</strong></h1><p id="75a6" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated"><a class="ae kv" href="https://www.tensorflow.org/overview" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">tensor flow</em></strong></a>库是为海量数值计算而开发的。根据您环境中安装的版本，它支持CPU和GPU。如果您希望启用您的GPU，需要安装的版本是<a class="ae kv" href="https://www.tensorflow.org/guide/gpu" rel="noopener ugc nofollow" target="_blank"><em class="ls">tensor flow-GPU</em></a>。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="1898" class="nt mm iq np b gy nu nv l nw nx">pip install tensorflow-gpu</span></pre><p id="c5b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了能够通过使用TensorFlow库来测试GPU信息的可用性，可以使用下面的代码片段。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="cf52" class="nt mm iq np b gy nu nv l nw nx">import tensorflow as tf</span><span id="b5fa" class="nt mm iq np b gy oc nv l nw nx">config = tf.compat.v1.ConfigProto()<br/>tf.config.list_physical_devices('GPU')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/24de4f80d19c7fbf268c725be53cfe6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*gqksqRtMEBBs72MKLflx-A.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><p id="1a58" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用以下脚本查看GPU信息后，可以打印更详细的设备信息，包括CPU。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="c1e1" class="nt mm iq np b gy nu nv l nw nx">from tensorflow.python.client import device_lib as dev_lib</span><span id="d3d2" class="nt mm iq np b gy oc nv l nw nx">print (dev_lib.list_local_devices())</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/3a478dd7b821063fc5c40a6e26776b99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k85O7BeM6CbqFw3TkxyfAQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><h2 id="4444" class="nt mm iq bd mn od oe dn mr of og dp mv lf oh oi mx lj oj ok mz ln ol om nb on bi translated">2.1.使用TensorFlow-GPU进行KMeansTF (kmeans++)聚类</h2><p id="fd3d" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated"><a class="ae kv" href="https://kmeanstf.readthedocs.io/en/latest/stubs/mymod.kmeanstf.KMeansTF.html#kmeanstf.kmeanstf.KMeansTF" rel="noopener ugc nofollow" target="_blank"><em class="ls">tensor flow k-means</em></a><em class="ls"/>算法通过迭代优化类内方差，路由随机产生的初始质心的负面影响。</p><p id="b202" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过安装以下<em class="ls"> kmeanstf </em>包，可以使用支持GPU的Tensorflow k-means算法。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="2c32" class="nt mm iq np b gy nu nv l nw nx">pip install kmeanstf</span></pre><p id="3591" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在安装了所需的包之后，下面的算法将在基于GPU的环境中运行。结果添加在系统规格之后。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="e253" class="nt mm iq np b gy nu nv l nw nx">from kmeanstf import KMeansTF</span><span id="a0f9" class="nt mm iq np b gy oc nv l nw nx">start_time = time.time()</span><span id="2281" class="nt mm iq np b gy oc nv l nw nx">kmeanstf = KMeansTF(n_clusters=100, random_state=12345)<br/>GPU_Test = np.random.normal(size=(500000,5))<br/>kmeanstf.fit(GPU_Test)</span><span id="f87f" class="nt mm iq np b gy oc nv l nw nx">end_time = time.time()<br/>print('Kmeans++ execution time in seconds: {}'.format(end_time - start_time))</span></pre><blockquote class="ni nj nk"><p id="3af4" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq"> GPU驱动的系统规格:</em> </strong></p><p id="fcc9" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir">算法执行时间:</strong> 219.18秒<br/> <strong class="ky ir">聚类可视化:</strong>蓝点(数据点)，红点(聚类)</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/0663a3aad1decc166de15daa3455aa98.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*btLZv0eOeXxI3D2GnkIkMQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">KMeansTF(kmeans++)100个聚类的聚类(图片由作者提供)</p></figure><h2 id="9d9d" class="nt mm iq bd mn od oe dn mr of og dp mv lf oh oi mx lj oj ok mz ln ol om nb on bi translated"><strong class="ak"> 2.2。</strong> TunnelKMeansTF <strong class="ak">使用TensorFlow-GPU进行聚类</strong></h2><p id="c1ce" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">隧道<a class="ae kv" href="https://kmeanstf.readthedocs.io/en/latest/stubs/mymod.kmeanstf.TunnelKMeansTF.html" rel="noopener ugc nofollow" target="_blank"><em class="ls">k-means</em></a><em class="ls"/>算法具有在聚类之间实现非局部移位的能力，以为每个数据点找到最佳质心。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="3e66" class="nt mm iq np b gy nu nv l nw nx">start_time = time.time()</span><span id="4dbe" class="nt mm iq np b gy oc nv l nw nx">kmeansTunnel = TunnelKMeansTF(n_clusters=100, random_state=12345)<br/>GPU_Test = np.random.normal(size=(500000,5))<br/>kmeansTunnel.fit(GPU_Test)</span><span id="3ae4" class="nt mm iq np b gy oc nv l nw nx">end_time = time.time()<br/>print('Tunnel Kmeans execution time in seconds: {}'.format(end_time - start_time))</span></pre><blockquote class="ni nj nk"><p id="8df7" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq"> GPU驱动的系统规格:</em> </strong></p><p id="7683" class="kw kx ls ky b kz la jr lb lc ld ju le nl lg lh li nm lk ll lm nn lo lp lq lr ij bi translated"><strong class="ky ir">算法执行时间:</strong> 107.38秒<em class="iq"> <br/> </em> <strong class="ky ir">聚类可视化:</strong>蓝点(数据点)，红点(聚类)</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/20665c464890de90b7e6d923e60b63ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*O31ToKv8ZYhqoW8-quyCww.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">100个聚类的TunnelKMeansTF聚类(图片由作者提供)</p></figure><h2 id="4f58" class="nt mm iq bd mn od oe dn mr of og dp mv lf oh oi mx lj oj ok mz ln ol om nb on bi translated"><strong class="ak"> 3。最终比较矩阵</strong></h2><p id="64d2" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">为了更清楚地理解算法的输出，生成了一个矩阵表。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/c662e1cd267b84e7a6f659d2c15b581f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FOHYmcbhS0G12kRjFvRt4Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">系统特性与算法运行时间(图片由作者提供)</p></figure><p id="114a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们在比较矩阵中所观察到的，GPU驱动的系统在执行时间方面具有独特的性能优势。</p><p id="ecc3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完整的实现代码和Jupyter笔记本在我的<a class="ae kv" href="https://github.com/pinarersoy/K-means_Clustering_Performance_Comparison" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> GitHub </strong> </a> <strong class="ky ir">上都有。</strong></p><p id="c78a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">非常感谢您的提问和评论！</p></div><div class="ab cl ox oy hu oz" role="separator"><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc"/></div><div class="ij ik il im in"><p id="c249" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">参考文献:</strong></p><ol class=""><li id="dcbd" class="pe pf iq ky b kz la lc ld lf pg lj ph ln pi lr pj pk pl pm bi translated"><a class="ae kv" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.k_means.html" rel="noopener ugc nofollow" target="_blank"> Scikit学习K-means </a></li><li id="4db3" class="pe pf iq ky b kz pn lc po lf pp lj pq ln pr lr pj pk pl pm bi translated"><a class="ae kv" href="https://www.tensorflow.org/install/gpu" rel="noopener ugc nofollow" target="_blank"> TensorFlow-GPU </a></li><li id="46bb" class="pe pf iq ky b kz pn lc po lf pp lj pq ln pr lr pj pk pl pm bi translated"><a class="ae kv" href="https://pypi.org/" rel="noopener ugc nofollow" target="_blank"> Python包</a></li></ol></div></div>    
</body>
</html>