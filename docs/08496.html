<html>
<head>
<title>The Battle of the Neighborhoods — Open a Movie Theater in Montreal</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">邻里之战——在蒙特利尔开一家电影院</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-battle-of-the-neighborhoods-open-a-movie-theater-in-montreal-355cf5c679b8?source=collection_archive---------27-----------------------#2020-06-20">https://towardsdatascience.com/the-battle-of-the-neighborhoods-open-a-movie-theater-in-montreal-355cf5c679b8?source=collection_archive---------27-----------------------#2020-06-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="16ae" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">利用follow和Foursquare APIs获得IBM数据科学专业证书的顶点项目</h2></div><p id="7d7b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi lb translated"><span class="l lc ld le bm lf lg lh li lj di">我</span>跟随<a class="ae lk" href="https://www.coursera.org/" rel="noopener ugc nofollow" target="_blank"> Coursera </a>的<a class="ae lk" href="https://www.coursera.org/professional-certificates/ibm-data-science" rel="noopener ugc nofollow" target="_blank"> IBM数据科学专业证书</a>，该专业证书由9门课程组成。有很多很好的例子。</p><p id="f14b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后一项任务是完成一个名为Capstone project的项目，该项目要求您利用Foursquare APIs从API调用中获取数据，并利用follow map库可视化数据分析。这是在这个项目中实践数据科学方法和工具集的一个很好的机会。</p><p id="a87f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这个项目中，我们将涵盖数据科学生命周期的所有阶段来解决问题。我们将深入研究数据科学中的以下工具/库:</p><ul class=""><li id="87af" class="ll lm iq kh b ki kj kl km ko ln ks lo kw lp la lq lr ls lt bi translated">叶库，包括choropleth地图，地图视图中的热图</li><li id="9128" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">用于树叶地图的蜂窝状网格</li><li id="983c" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">谷歌地理编码API</li><li id="cc18" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">四方API</li><li id="9615" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">k-均值聚类算法</li><li id="df72" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">水平条形图</li><li id="0e73" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">熊猫，胖胖的，身材匀称</li></ul><p id="5479" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">好了，我们开始吧。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="02eb" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">简介:业务问题</h1><p id="2751" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">在这个项目中，我们将寻找一个开设电影院的最佳地点。具体来说，这份报告可以为有兴趣<strong class="kh ir">在加拿大魁北克蒙特利尔</strong>开电影院的利益相关者提供参考。</p><p id="1436" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">蒙特利尔是加拿大第二大城市，也是魁北克省最大的城市，位于圣劳伦斯河与渥太华河的交汇处。它坐落在一个岛上。在这篇报道中，我们将关注蒙特利尔岛上的所有地区。蒙特利尔岛上有许多电影院，我们将<strong class="kh ir">推断现存的电影院在哪里</strong>。然后，我们将使用一个聚类模型<strong class="kh ir">来寻找岛上相似的区域</strong>，考虑每个行政区和区域的人口统计数据。首选区域应<strong class="kh ir">远离现有电影院</strong>。</p><p id="fddf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将使用数据科学工具获取原始数据，将其可视化，然后<strong class="kh ir">根据上述标准</strong>生成几个最有希望的区域。同时，我们还将向候选人解释他们的优势和特点，以便<strong class="kh ir">利益相关者可以根据分析做出最终决定</strong>。</p><h1 id="1a56" class="mg mh iq bd mi mj nd ml mm mn ne mp mq jw nf jx ms jz ng ka mu kc nh kd mw mx bi translated">数据</h1><p id="f730" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">根据我们问题的定义，可能影响我们决策的因素有:</p><ul class=""><li id="b589" class="ll lm iq kh b ki kj kl km ko ln ks lo kw lp la lq lr ls lt bi translated">人口统计信息，例如人口、密度、教育、年龄、收入</li><li id="4971" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">附近现有购物中心的数量</li><li id="c936" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">社区和附近现有电影院的数量</li></ul><p id="e4fb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们决定在整个蒙特利尔岛周围使用一个有规则间隔的位置网格来定义我们的社区。具体来说，我们将使用流行的六边形蜂窝来定义我们的邻域。</p><p id="0934" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这个项目中，我们将从以下数据源获取或提取数据:</p><ul class=""><li id="7a7b" class="ll lm iq kh b ki kj kl km ko ln ks lo kw lp la lq lr ls lt bi translated"><a class="ae lk" href="http://ville.montreal.qc.ca/pls/portal/url/ITEM/55637C4923B8B03EE0530A930132B03E" rel="noopener ugc nofollow" target="_blank">2016年蒙特利尔人口普查信息</a></li><li id="4705" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">六边形邻域的中心将通过算法生成，这些区域中心的近似地址将使用<strong class="kh ir">谷歌地理编码API </strong>获得</li><li id="9b27" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">使用Foursquare API 可以获得每个街区的购物中心和电影院的数据</li><li id="3ac7" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">将使用众所周知的蒙特利尔位置的<strong class="kh ir">谷歌地理编码API </strong>获得蒙特利尔中心的坐标</li><li id="2d45" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">从<a class="ae lk" href="https://jmacman12.carto.com/tables/montreal_shapefile/public" rel="noopener ugc nofollow" target="_blank"> Carto </a>中获得蒙特利尔市shapefile</li></ul><h2 id="a5dd" class="ni mh iq bd mi nj nk dn mm nl nm dp mq ko nn no ms ks np nq mu kw nr ns mw nt bi translated">蒙特利尔岛形状文件</h2><p id="19a8" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">为了在<strong class="kh ir">叶子</strong>地图中显示蒙特利尔岛的边界，我们需要一个蒙特利尔岛的<strong class="kh ir"> geojson </strong>定义文件。我们从<a class="ae lk" href="https://jmacman12.carto.com/tables/montreal_shapefile/public" rel="noopener ugc nofollow" target="_blank"> Carto </a>网站下载了这个形状文件。</p><p id="cca6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该文件为JSON格式，包含蒙特利尔岛每个行政区或自治市的边界定义。在下一步中，我们将使用一个叶子地图来可视化这个geojson定义文件。</p><h2 id="68a8" class="ni mh iq bd mi nj nk dn mm nl nm dp mq ko nn no ms ks np nq mu kw nr ns mw nt bi translated">薄层</h2><blockquote class="nu nv nw"><p id="eaca" class="kf kg nx kh b ki kj jr kk kl km ju kn ny kp kq kr nz kt ku kv oa kx ky kz la ij bi translated"><code class="fe ob oc od oe b"><em class="iq">folium</em></code>建立在Python生态系统的数据优势和<code class="fe ob oc od oe b"><em class="iq">leaflet.js</em></code>库的映射优势之上。用Python处理你的数据，然后通过<code class="fe ob oc od oe b"><em class="iq">folium</em></code>在活页地图上可视化。<em class="iq"> </em></p></blockquote><p id="ed3d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe ob oc od oe b">folium</code>并不难，只需要几行代码就可以用边界数据显示蒙特利尔岛。</p><figure class="of og oh oi gt oj"><div class="bz fp l di"><div class="ok ol l"/></div><p class="om on gj gh gi oo op bd b be z dk translated">使用geojson定义在follow地图中显示蒙特利尔边界。</p></figure><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi oq"><img src="../Images/7b36c83bfac121679a6279b5cd0e59df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V9qsPYDpS4XD5r_N1exOYQ.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">奥利佛地图中的蒙特利尔岛。</p></figure><p id="615a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下一步，我们希望在地图中生成候选像元，更具体地说，只在蒙特利尔岛内。在处理与地图相关的问题时，通常使用蜂窝状六边形网格。与圆形不同，六边形之间没有间隔，确保没有遗漏区域。此外，任意两个相邻六边形之间的距离是相同的。</p><p id="b971" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不幸的是，<code class="fe ob oc od oe b">Folium </code>不提供在地图视图中绘制六边形的原生支持，我们必须编写一些代码来支持这一功能。</p><p id="6fb0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们编写了一个方法，通过给定质心坐标和边长来计算六边形顶点的坐标。</p><figure class="of og oh oi gt oj"><div class="bz fp l di"><div class="ok ol l"/></div><p class="om on gj gh gi oo op bd b be z dk translated">获取六边形的顶点。</p></figure><p id="aafa" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">之后，我们在整个岛上生成一个蜂窝状六边形网格。</p><figure class="of og oh oi gt oj"><div class="bz fp l di"><div class="ok ol l"/></div><p class="om on gj gh gi oo op bd b be z dk translated">在蒙特利尔生成蜂窝状六边形网格。</p></figure><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi ox"><img src="../Images/c257f01baa8bc1f404f5c344c80c24e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xYdaFKF0DEJR4QoDV87OOA.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">在蒙特利尔地图上显示蜂窝状六边形网格。</p></figure><p id="d208" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看起来棒极了！😄</p><p id="462f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">到目前为止，我们在岛上创建了一个蜂窝网格，并为每个六边形生成了中心坐标。我们将使用<code class="fe ob oc od oe b">Google Geocoding API</code>相应地反向查找地址。</p><h2 id="32a7" class="ni mh iq bd mi nj nk dn mm nl nm dp mq ko nn no ms ks np nq mu kw nr ns mw nt bi translated">谷歌地理编码API</h2><blockquote class="nu nv nw"><p id="8e31" class="kf kg nx kh b ki kj jr kk kl km ju kn ny kp kq kr nz kt ku kv oa kx ky kz la ij bi translated">Google地理编码API是一种提供地址地理编码和反向地理编码的服务。</p></blockquote><p id="8ecc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用这组API需要一个Google API密钥。可以从<a class="ae lk" href="https://console.developers.google.com" rel="noopener ugc nofollow" target="_blank">谷歌开发者控制台</a>应用。</p><figure class="of og oh oi gt oj"><div class="bz fp l di"><div class="ok ol l"/></div><p class="om on gj gh gi oo op bd b be z dk translated">谷歌地理编码API。</p></figure><p id="8c89" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们将所有数据放在一个<code class="fe ob oc od oe b">Pandas Dataframe</code>中，并显示前10项。</p><p id="ee3f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每行包含一个六边形的中心地址和对应的经纬度，在WGS84球面坐标系中，<code class="fe ob oc od oe b">X/Y</code>列在UTM笛卡尔坐标系中，使用常用的公制单位——米或千米。</p><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi oy"><img src="../Images/5e342c6ed0c4d99542343fdc23304a94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yq6iq8zASoSS9Zct6F8RDA.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">候选六边形的数据框架。</p></figure><h2 id="cd4d" class="ni mh iq bd mi nj nk dn mm nl nm dp mq ko nn no ms ks np nq mu kw nr ns mw nt bi translated">四方应用编程接口</h2><blockquote class="nu nv nw"><p id="1b8d" class="kf kg nx kh b ki kj jr kk kl km ju kn ny kp kq kr nz kt ku kv oa kx ky kz la ij bi translated">Foursquare Places API提供对Foursquare的全球数据库的实时访问，该数据库包含丰富的场所数据和用户内容，可在您的应用程序或网站中增强您基于位置的体验。</p></blockquote><p id="5183" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们生成了蒙特利尔岛上所有的候选社区，我们将使用Foursquare API获取所有电影院的信息。</p><p id="5af4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从Foursquare API文档中，我们可以在<a class="ae lk" href="https://developer.foursquare.com/docs/build-with-foursquare/categories" rel="noopener ugc nofollow" target="_blank">场馆类别</a>中找到对应的电影院类别。Foursquare API中<strong class="kh ir">电影院</strong>对应的ID是<code class="fe ob oc od oe b">4bf58dd8d48988d17f941735</code>，在<strong class="kh ir">艺术&amp;娱乐</strong>主类别下。它包含几个子类别:</p><ul class=""><li id="81fb" class="ll lm iq kh b ki kj kl km ko ln ks lo kw lp la lq lr ls lt bi translated">汽车影院，id: <code class="fe ob oc od oe b">56aa371be4b08b9a8d5734de</code></li><li id="ff81" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">独立电影院，id: <code class="fe ob oc od oe b">4bf58dd8d48988d17e941735</code></li><li id="ace3" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la lq lr ls lt bi translated">多路复用，id: <code class="fe ob oc od oe b">4bf58dd8d48988d180941735</code></li></ul><p id="4897" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不像到处都是咖啡店、餐馆，这个地区没有很多电影院，这也是有道理的，因为我们不期望每个社区都有电影院。</p><p id="5e34" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们先把蒙特利尔岛上所有的电影院都找来。为此，我们将获取每个行政区和自治市的电影院数据。</p><figure class="of og oh oi gt oj"><div class="bz fp l di"><div class="ok ol l"/></div><p class="om on gj gh gi oo op bd b be z dk translated">通过Foursquare APIs获取附近的电影院。</p></figure><p id="dc45" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从Foursquare APIs的回应来看，蒙特利尔岛上一共有44家电影院。让我们在地图视图中绘制它。</p><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi oz"><img src="../Images/a48002ef561490a782e24ddbe7db7c1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zDhw4sZ-cAw5f3MaJY8i4g.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">蒙特利尔岛上的电影院。</p></figure><p id="873f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们使用正电子风格在热图中显示它。</p><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi pa"><img src="../Images/e4447c9ab0ef9075de25b7309ad8997f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WjFoaREMFe67PXXXO-pgCw.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">岛上电影院分布热图。</p></figure><p id="a34b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从热图上，我们可以看到电影院主要集中在市中心和岛的中心。通常，附近也有很多购物中心，让我们使用Foursquare APIs拉出蒙特利尔岛上的购物中心数据。</p><p id="f301" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从Foursquare API文档来看，有几个类别与商场或购物中心有关。</p><figure class="of og oh oi gt oj gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/4ea8bc21914c56efb78e66cfff908cf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:542/format:webp/1*2bJx0QON5BWCRDEled8YAQ.png"/></div></figure><p id="b20b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将获取上述类别中的所有购物中心数据，并将它们与电影院数据一起显示在地图上。</p><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi pc"><img src="../Images/83644cd7abbb7082362187112d41b6a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FvTv36IWoZeVyqGL1Mlldw.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">蓝色的购物中心，红色的电影院。</p></figure><p id="a39c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从地图上看，我们可以看到电影院在大多数情况下都位于购物中心附近。</p><blockquote class="pd"><p id="32aa" class="pe pf iq bd pg ph pi pj pk pl pm la dk translated">我们的目标区域附近应该有更多的购物中心和更少的电影院。</p></blockquote><p id="c100" class="pw-post-body-paragraph kf kg iq kh b ki pn jr kk kl po ju kn ko pp kq kr ks pq ku kv kw pr ky kz la ij bi translated">在此之前，我们需要根据某些信息对所有候选六边形进行聚类，在这个项目中，我们提取人口普查数据作为聚类的主要特征。</p><h2 id="9ca4" class="ni mh iq bd mi nj nk dn mm nl nm dp mq ko nn no ms ks np nq mu kw nr ns mw nt bi translated">蒙特利尔人口普查信息</h2><p id="9282" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">现在我们将获取蒙特利尔岛上每个行政区或自治市的人口普查信息。最新数据采集于2016年。我们可以从<a class="ae lk" href="http://ville.montreal.qc.ca/pls/portal/url/ITEM/55637C4923B8B03EE0530A930132B03E" rel="noopener ugc nofollow" target="_blank">蒙特利尔市官网</a>获取。</p><p id="0e64" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个包含大量数据的相当大的excel文件，我修改了一些表格，以便更容易地将数据提取到熊猫数据框架中。</p><p id="f0d1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只关注几个基本的普查信息:<code class="fe ob oc od oe b">Population</code>、<code class="fe ob oc od oe b">Density</code>、<code class="fe ob oc od oe b">Age</code>、<code class="fe ob oc od oe b">Education</code>、<code class="fe ob oc od oe b">Income</code>。</p><figure class="of og oh oi gt oj"><div class="bz fp l di"><div class="ok ol l"/></div><p class="om on gj gh gi oo op bd b be z dk translated">将excel加载到Pandas数据框架中。</p></figure><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi ps"><img src="../Images/5eff19eeb3e49e03e7c9a20687ae18c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rjepG8oHbCcNGXlaMzUCAA.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">预处理后的普查数据框架</p></figure><p id="f299" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们将在choropleth地图上显示人口普查数据分布。</p><blockquote class="nu nv nw"><p id="fbf8" class="kf kg nx kh b ki kj jr kk kl km ju kn ny kp kq kr nz kt ku kv oa kx ky kz la ij bi translated">一张<a class="ae lk" href="https://en.wikipedia.org/wiki/Choropleth_map" rel="noopener ugc nofollow" target="_blank"> Choropleth地图</a>是一张由彩色多边形组成的地图。它用于表示一个量的空间变化。⁴</p></blockquote><p id="e73e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也在同一张地图上显示购物中心和电影院的位置。</p><figure class="of og oh oi gt oj"><div class="bz fp l di"><div class="ok ol l"/></div><p class="om on gj gh gi oo op bd b be z dk translated">在地图上显示人口普查信息。</p></figure><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi pt"><img src="../Images/3be88d9e1790ab3ef299649187655624.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rvGBKkpc3ChlD7JNeiEYQA.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">各行政区的人口分布。</p></figure><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi pu"><img src="../Images/1eb2542b9eb26370e1b9f526c36a5f7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l8AMC1YwqwLOxxl1PlZnng.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">各区的密度分布。</p></figure><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi pv"><img src="../Images/2215841dfa764aefc0aaba5624ff8428.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P8U7y7c_8VRezQRPNvfs5A.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">按行政区划分的教育分布。</p></figure><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi pw"><img src="../Images/ec327c4032f5ad2c637afd784fb02ca8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nx4ELpcITi4NKjd4T-O3lA.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">各区的年龄分布。</p></figure><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi px"><img src="../Images/8a8536e057def3427e73b2f9223af0fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lPBi_3Dp2U4AAAGgAI-b5Q.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">各区的收入分配。</p></figure><p id="fa2e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从上面的choropleth地图，我们可以看到电影院大多位于人口较多的地区。购物中心的位置也是如此。此外，大多数电影院位于收入较低的地区。收入较高的地区购物中心和电影院较少。</p><p id="550f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">到目前为止，我们检索了所有需要的原始数据，并对它们进行了可视化。在下面的步骤中，我们将操作这些数据集，提取数据，并为机器学习算法生成新的特征。最后，我们将在蒙特利尔岛上找到最适合开设电影院的地方。</p><h1 id="8584" class="mg mh iq bd mi mj nd ml mm mn ne mp mq jw nf jx ms jz ng ka mu kc nh kd mw mx bi translated">方法学</h1><p id="4a04" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">这个项目的商业目的是在蒙特利尔岛上找一个合适的地方开一家电影院。</p><p id="9e26" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们检索了以下数据:</p><ol class=""><li id="5d23" class="ll lm iq kh b ki kj kl km ko ln ks lo kw lp la py lr ls lt bi translated">蒙特利尔岛上所有电影院的数据</li><li id="c880" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la py lr ls lt bi translated">蒙特利尔岛上所有购物中心的数据</li><li id="d4f4" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la py lr ls lt bi translated">2016年蒙特利尔各行政区的人口普查数据，具体而言，蒙特利尔岛内各行政区或自治市的人口、密度、年龄、教育和收入数据</li><li id="8643" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la py lr ls lt bi translated">蒙特利尔岛各行政区和自治市的边界数据</li></ol><p id="c393" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还生成了一个遍布整个蒙特利尔岛的蜂窝状六边形网格。</p><p id="c35f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基于上述原始数据，我们将尝试相应地生成新的特征，例如每个候选小区的<strong class="kh ir">人口普查信息，以及</strong>本地和附近的<strong class="kh ir">电影院和商场的数量。</strong></p><p id="fe48" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后一步，我们将把重点放在购物中心多、电影院少的最有前景的地区。我们还将在地图视图中显示候选六边形像元，以便利益相关者做出最终决定。</p><h1 id="fe96" class="mg mh iq bd mi mj nd ml mm mn ne mp mq jw nf jx ms jz ng ka mu kc nh kd mw mx bi translated">分析</h1><p id="ff00" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">我们得到了每个自治区和直辖市的基本人口普查信息。我们希望获得每个候选六边形像元的人口普查信息，因此，我们根据与像元相交的区和自治市来计算这些人口普查信息。</p><p id="ca8e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果一个六边形完全在一个区内，我们将使用该区的人口普查信息作为六边形的信息。因此，这意味着对于一个行政区内的所有六边形，我们将在人口普查要素中对它们一视同仁。</p><p id="18d3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，如果一个六边形与两个区分别有50%的交集，我们将从这两个区分别生成该六边形的50%比率的普查数据。</p><p id="390f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基于这个规则，我们可以计算所有六边形的人口普查。</p><figure class="of og oh oi gt oj"><div class="bz fp l di"><div class="ok ol l"/></div><p class="om on gj gh gi oo op bd b be z dk translated">为每个六边形生成人口普查信息。</p></figure><p id="fc2a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们将这个数据框与之前的位置数据框合并，生成一个新的:<code class="fe ob oc od oe b"><strong class="kh ir">candidates_df</strong></code>包含每个六边形的基本信息。我们打印几行这个数据帧。</p><pre class="of og oh oi gt pz oe qa qb aw qc bi"><span id="c840" class="ni mh iq oe b gy qd qe l qf qg">candidates_df.iloc[200:206]</span></pre><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi qh"><img src="../Images/506597a8d20d25770e5f4b2de95bec4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k8UZnLb4A0kbHrHGRJjmng.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">六边形的普查信息</p></figure><p id="1d09" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看起来不错。现在我们有了每个六边形区域的人口普查信息。</p><p id="5bea" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们将计算每个六边形区域的购物中心和电影院的相关信息。</p><p id="3c9b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将计算购物中心和电影院的以下特征:</p><ol class=""><li id="98de" class="ll lm iq kh b ki kj kl km ko ln ks lo kw lp la py lr ls lt bi translated">当前六边形单元内的购物中心和电影院的数量。</li><li id="a65b" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la py lr ls lt bi translated">距离六边形单元中心1公里以内的商场和电影院的数量。</li><li id="4baa" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la py lr ls lt bi translated">距离六边形小区中心3公里以内的多个商场和电影院。</li></ol><figure class="of og oh oi gt oj"><div class="bz fp l di"><div class="ok ol l"/></div><p class="om on gj gh gi oo op bd b be z dk translated">为每个六边形生成电影院的数量。</p></figure><p id="0e88" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们准备好了我们需要的所有数据，我们可以使用<strong class="kh ir"> K-Means聚类算法</strong>将相似的候选六边形区域分组到聚类中。</p><h2 id="ca91" class="ni mh iq bd mi nj nk dn mm nl nm dp mq ko nn no ms ks np nq mu kw nr ns mw nt bi translated">k均值聚类</h2><p id="b594" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">我们选取人口普查特征以及购物中心和电影院的数量作为输入特征。</p><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi qi"><img src="../Images/3ad99ef82307a189dfae52c2637f275e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PDDm_xSOk0f77atrKV-5uw.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">选定的特征作为K均值聚类算法的输入参数</p></figure><p id="b630" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将首先运行一个评估步骤来选择最佳的<code class="fe ob oc od oe b"><strong class="kh ir">K</strong></code>，这是算法中的类别数。</p><p id="5e53" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<strong class="kh ir">距离平方和</strong>和<strong class="kh ir">轮廓得分</strong>两种方法来评估针对不同<code class="fe ob oc od oe b"><strong class="kh ir">K</strong></code>的K-Means算法。</p><p id="d6aa" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">距离平方和</strong>测量数据点与其指定的聚类质心之间的误差。越小意味着越好。</p><p id="e589" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">剪影评分</strong>也关注于最小化簇内距离的平方和，同时也试图最大化其邻域之间的距离。从它的定义来看，值越大，K越好。</p><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi qj"><img src="../Images/21a9d7428f063f2e89e7a03c80530a09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SBfD-oUmmgv1VEg8ILof1g.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">K-均值聚类的K选择</p></figure><p id="8c31" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从图中，我们可以看到当K变大时<code class="fe ob oc od oe b">Sum of Squared Distance</code>下降。当K=2，3时，<code class="fe ob oc od oe b">Silhouette Score</code>较高，但当时上证指数仍然较高，我们选择<code class="fe ob oc od oe b">K=10</code>用于本项目，它是<code class="fe ob oc od oe b">Sum of Squared Distance</code>和<code class="fe ob oc od oe b">Silhouette Score</code>的平衡数。让我们用<strong class="kh ir"> k=10 </strong>再次运行K均值算法。</p><figure class="of og oh oi gt oj"><div class="bz fp l di"><div class="ok ol l"/></div><p class="om on gj gh gi oo op bd b be z dk translated">k=10的k均值聚类算法。</p></figure><p id="4b95" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们在地图视图中用不同的颜色显示聚类结果。</p><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi qk"><img src="../Images/94726f7b1e88534e911f2a87e73bf058.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lADNuboXIR01-g3hruZo9g.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">10组候选六边形</p></figure><p id="4bca" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们将所有内容放在一个地图视图上:</p><ol class=""><li id="7051" class="ll lm iq kh b ki kj kl km ko ln ks lo kw lp la py lr ls lt bi translated">六边形的彩色簇</li><li id="b072" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la py lr ls lt bi translated">蓝点的购物中心</li><li id="2c8f" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la py lr ls lt bi translated">红点的电影院有黄色的环</li></ol><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi ql"><img src="../Images/2f8d8370144ba80c3fe8a4945032f088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*blzQ5nddUuLu_tbP3V7fkw.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">有购物中心和电影院的集群</p></figure><p id="a152" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从上面的地图视图中的集群图，我们可以看到在市中心有一个由4个六边形组成的浅蓝色集群，在这个集群中有很多电影院和购物中心。</p><p id="801e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">紫色集群包含有许多购物中心的区域。除了市中心组团外，浅绿色组团包含更多的购物中心和电影院。</p><p id="75a1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们给所有三个电影院相关特征分配权重，并将它们组合成一个特征。商场也一样。便于整理。</p><p id="58d9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将计算加权的<code class="fe ob oc od oe b">Mall Score</code>和加权的<code class="fe ob oc od oe b">Cinema Score</code>，然后生成一个新的<code class="fe ob oc od oe b">Score</code>特征用于排序。</p><p id="13c9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最终得分越高，意味着商场越多，电影院越少。</p><figure class="of og oh oi gt oj"><div class="bz fp l di"><div class="ok ol l"/></div><p class="om on gj gh gi oo op bd b be z dk translated">为群集生成一个分数。</p></figure><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi qm"><img src="../Images/6cfc0b053dabc91897b8097d88bbd1d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pZ82jWtKIZPpIB0XYiF6TQ.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">按分数对分类进行排序。</p></figure><p id="ef96" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ob oc od oe b">Cluster 7</code>得分最高，它的商场多，电影院少。下面我们来探讨一下<code class="fe ob oc od oe b">cluster 7</code>的更多特点。</p><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi qn"><img src="../Images/a517d9fd5fd66dc03989905b562eef09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9g8MjL6EK65nrz-AQLpR8w.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">集群7的统计信息</p></figure><p id="68bf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ob oc od oe b">Cluster 7</code>有<strong class="kh ir"> 40个六边形</strong>平均每个地方有0.77个<em class="nx">商场，每个地方</em>有0.0个<em class="nx">电影院。让我们使用<strong class="kh ir"> matplotlib.pyplot </strong>库绘制所有聚类，以便在条形图中比较每个特性。我们突出显示了目标集群<code class="fe ob oc od oe b">Cluster 7</code>。</em></p><figure class="of og oh oi gt oj"><div class="bz fp l di"><div class="ok ol l"/></div><p class="om on gj gh gi oo op bd b be z dk translated">为集群绘制水平条形图。</p></figure><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi qo"><img src="../Images/df642d0364624b2a3c9e80cca5db64e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KJwiWIdBWj0XHqX5yEwLzQ.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">聚类的特征比较</p></figure><p id="d52f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从柱状图中，我们可以看到<strong class="kh ir">星团7 </strong>在所有星团中拥有最多的人口和密度。此外，它在hexagon地区或附近有相当多的购物中心和相对较少的电影院。</p><p id="2914" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们按照<code class="fe ob oc od oe b">Score</code>降序排列第7簇中的所有六边形，并挑选前5个六边形。他们将是我们开设电影院的首选位置。</p><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi qp"><img src="../Images/17291df522536b179e46021b04470538.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rrvdRFbDAfK_euTBYtJbLw.png"/></div></div></figure><p id="47c5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">根据以上统计信息，当地有1~3家商场，附近有更多商场，但1公里范围内没有电影院。看起来不错的选择。</p><p id="8de3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们在地图视图中画出<code class="fe ob oc od oe b">Cluster 7</code>六边形，将其他的集群变灰，并突出显示我们的5个选项。</p><figure class="of og oh oi gt oj gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi qq"><img src="../Images/707df2761fb9b288f8aac1697053b3bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qtv43a9WurvfXLzCE0RMzg.png"/></div></div><p class="om on gj gh gi oo op bd b be z dk translated">5个最有希望的候选领域</p></figure><p id="dee1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们的分析到此结束。我们已经找出了5个最有希望的区域，附近有更多的购物中心，电影院较少。每个区域都是正六边形，这在地图视图中很常见。与其他集群相比，集群中的区域具有最多的人口和密度。</p><h1 id="cd84" class="mg mh iq bd mi mj nd ml mm mn ne mp mq jw nf jx ms jz ng ka mu kc nh kd mw mx bi translated">结果和讨论</h1><p id="690f" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">我们在整个蒙特利尔岛生成了六边形区域。我们根据包括人口、密度、年龄、教育和收入在内的人口普查数据信息将他们分为10类。运行聚类算法时，还会考虑购物中心信息和现有电影院信息。</p><p id="52ac" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从数据分析和可视化中，我们可以看到电影院通常都位于购物中心附近，这启发了我们找出购物中心多而电影院少的区域。</p><p id="0566" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">经过K-Means聚类机器学习算法，我们得到了附近商场最多，平均电影院较少的聚类。我们还发现了星团的其他特征。它显示该集群具有最多的人口和密度，这意味着所有集群中最高的流量。</p><p id="2b72" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该群集中有40个六边形区域，我们按照购物中心和电影院信息降序排列所有这些六边形区域，目标是覆盖本地小区或附近更多的购物中心和更少的电影院。</p><p id="c306" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得出结论，5个最有希望的六边形区域满足我们的所有条件。这些推荐区域将是进一步分析的良好起点。还可以考虑其他因素，例如实际交通数据和每个电影院、附近停车场的收入。它们将有助于找到更准确的结果。</p><h1 id="78ad" class="mg mh iq bd mi mj nd ml mm mn ne mp mq jw nf jx ms jz ng ka mu kc nh kd mw mx bi translated">结论</h1><p id="5a7e" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">这个项目的目的是在蒙特利尔岛上找一块地方开电影院。</p><p id="ad5b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在从几个数据源获取数据并将其处理到一个干净的数据框架中之后，应用K-Means聚类算法，我们选择了平均购物中心较多而电影院较少的聚类。通过对聚类中的所有候选区域进行排序，我们得到了最有希望的5个区域，这些区域被利益相关者用作最终勘探的起点。</p><p id="09eb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">利益相关者将根据每个推荐区域的社区和位置的具体特征，并考虑每个位置的停车场、集群中现有电影院的交通以及它们的当前收入等其他因素，最终决定最佳电影院的位置。</p><h1 id="4afb" class="mg mh iq bd mi mj nd ml mm mn ne mp mq jw nf jx ms jz ng ka mu kc nh kd mw mx bi translated">密码</h1><p id="b05a" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated"><a class="ae lk" href="https://github.com/kyokin78/Coursera_Capstone/blob/project/CapstoneProject_OpenCinemaInMontreal.ipynb" rel="noopener ugc nofollow" target="_blank">https://github . com/kyokin 78/Coursera _ Capstone/blob/project/Capstone project _ opencinemainmontreal . ipynb</a></p><h1 id="a43e" class="mg mh iq bd mi mj nd ml mm mn ne mp mq jw nf jx ms jz ng ka mu kc nh kd mw mx bi translated">参考</h1><p id="975b" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated"><a class="ae lk" href="https://cocl.us/coursera_capstone_notebook" rel="noopener ugc nofollow" target="_blank">顶点工程——在德国柏林开一家意大利餐厅</a></p><ol class=""><li id="fc0d" class="ll lm iq kh b ki kj kl km ko ln ks lo kw lp la py lr ls lt bi translated">【https://python-visualization.github.io/folium/ T4】</li><li id="41e7" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la py lr ls lt bi translated"><a class="ae lk" href="https://developers.google.com/maps/documentation/geocoding/start" rel="noopener ugc nofollow" target="_blank">https://developers . Google . com/maps/documentation/geocoding/start</a></li><li id="7862" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la py lr ls lt bi translated"><a class="ae lk" href="https://developer.foursquare.com/docs/places-api/" rel="noopener ugc nofollow" target="_blank">https://developer.foursquare.com/docs/places-api/</a></li><li id="fe08" class="ll lm iq kh b ki lu kl lv ko lw ks lx kw ly la py lr ls lt bi translated"><a class="ae lk" href="https://plotly.com/python/choropleth-maps/" rel="noopener ugc nofollow" target="_blank">https://plotly.com/python/choropleth-maps/</a></li></ol></div></div>    
</body>
</html>