<html>
<head>
<title>Create Dataset for Sentiment Analysis by Scraping Google Play App Reviews using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过使用 Python 抓取 Google Play 应用评论来创建用于情感分析的数据集</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/create-dataset-for-sentiment-analysis-by-scraping-google-play-app-reviews-using-python-ceaaa0e41c1?source=collection_archive---------14-----------------------#2020-05-02">https://towardsdatascience.com/create-dataset-for-sentiment-analysis-by-scraping-google-play-app-reviews-using-python-ceaaa0e41c1?source=collection_archive---------14-----------------------#2020-05-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8b99" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何收集 Android 应用的评论，并使用这些信息建立一个用于情感分析的数据集</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/31dc24e3b56642ac85b8e4f50616f00f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*shEhLqIOUSDQHAG0K122Rg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马库斯·温克勒的照片</p></figure><blockquote class="kz la lb"><p id="639d" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><em class="it">TL；DR 了解如何通过收集 Android 应用程序的用户评论来创建用于情感分析的数据集。您需要将应用程序和检查信息转换为数据框，并将其保存为 CSV 文件。</em></p></blockquote><ul class=""><li id="f87e" class="lz ma it lf b lg lh lj lk mb mc md me mf mg ly mh mi mj mk bi translated"><a class="ae ky" href="https://colab.research.google.com/drive/1GDJIpz7BXw55jl9wTOMQDool9m8DIOyp" rel="noopener ugc nofollow" target="_blank">在你的浏览器(Google Colab)中运行笔记本</a></li><li id="a7e3" class="lz ma it lf b lg ml lj mm mb mn md mo mf mp ly mh mi mj mk bi translated"><a class="ae ky" href="https://github.com/curiousily/Getting-Things-Done-with-Pytorch" rel="noopener ugc nofollow" target="_blank">在 GitHub 上完成项目</a></li></ul><div class="mq mr gp gr ms mt"><a href="https://leanpub.com/getting-things-done-with-pytorch" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd iu gy z fp my fr fs mz fu fw is bi translated">用 PyTorch 完成任务</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">“成功创造人工智能将是人类历史上最大的事件。不幸的是，这也可能是最后一次，除非…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">leanpub.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh ks mt"/></div></div></a></div><p id="24d1" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">您将学习如何:</p><ul class=""><li id="f75d" class="lz ma it lf b lg lh lj lk mb mc md me mf mg ly mh mi mj mk bi translated">为数据集设置目标和包含标准</li><li id="eb4a" class="lz ma it lf b lg ml lj mm mb mn md mo mf mp ly mh mi mj mk bi translated">通过抓取 Google Play 获得真实世界的用户评论</li><li id="327d" class="lz ma it lf b lg ml lj mm mb mn md mo mf mp ly mh mi mj mk bi translated">使用 Pandas 将数据集转换并保存为 CSV 文件</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="fd3e" class="nk nl it bd nm nn no np nq nr ns nt nu jz nv ka nw kc nx kd ny kf nz kg oa ob bi translated">设置</h1><p id="f66f" class="pw-post-body-paragraph lc ld it lf b lg oc ju li lj od jx ll mb oe lo lp md of ls lt mf og lw lx ly im bi translated">让我们安装所需的包并设置导入:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh nj l"/></div></figure><h1 id="6bbd" class="nk nl it bd nm nn no np nq nr ns nt nu jz nv ka nw kc nx kd ny kf nz kg oa ob bi translated">数据集的目标</h1><p id="162f" class="pw-post-body-paragraph lc ld it lf b lg oc ju li lj od jx ll mb oe lo lp md of ls lt mf og lw lx ly im bi translated">你希望你的应用得到反馈。消极和积极都是好的。但是消极的一面可能会暴露出您的服务所缺少的关键特性或停机时间(当它更加频繁时)。</p><p id="5fd8" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">幸运的是，Google Play 有大量的应用程序、评论和分数。我们可以使用<a class="ae ky" href="https://github.com/JoMingyu/google-play-scraper" rel="noopener ugc nofollow" target="_blank"> google-play-scraper </a>包收集应用信息和评论。</p><p id="62ec" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">你可以选择大量的应用程序进行分析。但是不同的应用类别包含不同的受众、特定领域的怪癖等等。我们从简单的开始。</p><p id="8846" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">我们想要已经存在一段时间的应用程序，因此可以有机地收集意见。我们希望尽可能减少广告策略。应用程序不断更新，因此审查的时间是一个重要因素。</p><p id="b7cc" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">理想情况下，您会希望收集所有可能的评论并加以利用。然而，在现实世界中，数据通常是有限的(太大、不可访问等)。所以，我们会尽力而为。</p><p id="cba3" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">让我们从<em class="le">生产力</em>类别中选择一些符合标准的应用。我们将使用<a class="ae ky" href="https://www.appannie.com/apps/google-play/top-chart/?country=US&amp;category=29&amp;device=&amp;date=2020-04-05&amp;feed=All&amp;rank_sorting_type=rank&amp;page_number=1&amp;page_size=100&amp;table_selections=" rel="noopener ugc nofollow" target="_blank"> AppAnnie </a>选择一些美国顶级应用:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh nj l"/></div></figure><h1 id="48ca" class="nk nl it bd nm nn no np nq nr ns nt nu jz nv ka nw kc nx kd ny kf nz kg oa ob bi translated">抓取应用程序信息</h1><p id="a6f3" class="pw-post-body-paragraph lc ld it lf b lg oc ju li lj od jx ll mb oe lo lp md of ls lt mf og lw lx ly im bi translated">让我们收集每个应用程序的信息:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh nj l"/></div></figure><p id="d01a" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">我们得到了所有 15 个应用程序的信息。让我们编写一个助手函数，它可以更好地打印 JSON 对象:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh nj l"/></div></figure><p id="62f3" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">以下是列表中的应用程序信息示例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh nj l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh nj l"/></div></figure><p id="272c" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">这包含了许多信息，包括评级数量，评论数量和每个分数的评级数量(1 到 5)。让我们忽略所有这些，看看它们美丽的图标:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh nj l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/475380997d204f08c53f1c21b5998892.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*H-f_UW7X49ci0NEH.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们数据集中的应用图标</p></figure><p id="f148" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">我们将通过将 JSON 对象转换成 Pandas 数据帧并将结果保存到 CSV 文件中来存储应用程序信息，以备后用:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh nj l"/></div></figure><h1 id="1ec1" class="nk nl it bd nm nn no np nq nr ns nt nu jz nv ka nw kc nx kd ny kf nz kg oa ob bi translated">抓取应用评论</h1><p id="070e" class="pw-post-body-paragraph lc ld it lf b lg oc ju li lj od jx ll mb oe lo lp md of ls lt mf og lw lx ly im bi translated">在一个理想的世界里，我们会得到所有的评论。但是有很多，我们正在搜集数据。那不太礼貌。我们做什么呢</p><p id="5b65" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">我们想要:</p><ul class=""><li id="043c" class="lz ma it lf b lg lh lj lk mb mc md me mf mg ly mh mi mj mk bi translated">平衡数据集—每个分数的评论数量大致相同(1-5)</li><li id="125a" class="lz ma it lf b lg ml lj mm mb mn md mo mf mp ly mh mi mj mk bi translated">每个应用的代表性评论样本</li></ul><p id="9965" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">我们可以通过使用刮包选项过滤复习分数来满足第一个要求。对于第二个问题，我们将根据评论的有用性对其进行排序，这是 Google Play 认为最重要的评论。为了以防万一，我们还会从最新的数据中获取一个子集:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh nj l"/></div></figure><p id="3c03" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">请注意，我们将应用 id 和排序顺序添加到每个评论中。这里有一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh nj l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh nj l"/></div></figure><p id="4185" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated"><code class="fe oj ok ol om b">repliedAt</code>和<code class="fe oj ok ol om b">replyContent</code>包含开发人员对评审的回应。当然，他们可能会失踪。</p><p id="8b10" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">我们获得了多少应用评论？</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh nj l"/></div></figure><pre class="kj kk kl km gt on om oo op aw oq bi"><span id="4849" class="or nl it om b gy os ot l ou ov">15750</span></pre><p id="ca7f" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">让我们将评论保存到 CSV 文件中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh nj l"/></div></figure><h1 id="688e" class="nk nl it bd nm nn no np nq nr ns nt nu jz nv ka nw kc nx kd ny kf nz kg oa ob bi translated">摘要</h1><p id="f6c9" class="pw-post-body-paragraph lc ld it lf b lg oc ju li lj od jx ll mb oe lo lp md of ls lt mf og lw lx ly im bi translated">干得好！您现在拥有一个数据集，其中包含来自 15 个生产力应用程序的超过 15k 条用户评论。当然，你可以疯狂地得到更多。</p><ul class=""><li id="8eab" class="lz ma it lf b lg lh lj lk mb mc md me mf mg ly mh mi mj mk bi translated"><a class="ae ky" href="https://colab.research.google.com/drive/1GDJIpz7BXw55jl9wTOMQDool9m8DIOyp" rel="noopener ugc nofollow" target="_blank">在你的浏览器中运行笔记本(Google Colab) </a></li><li id="0e3a" class="lz ma it lf b lg ml lj mm mb mn md mo mf mp ly mh mi mj mk bi translated"><a class="ae ky" href="https://github.com/curiousily/Getting-Things-Done-with-Pytorch" rel="noopener ugc nofollow" target="_blank">在 GitHub 上完成项目</a></li></ul><div class="mq mr gp gr ms mt"><a href="https://leanpub.com/getting-things-done-with-pytorch" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd iu gy z fp my fr fs mz fu fw is bi translated">用 PyTorch 完成任务</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">“成功创造人工智能将是人类历史上最大的事件。不幸的是，这也可能是最后一次，除非…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">leanpub.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh ks mt"/></div></div></a></div><p id="56f6" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">您学习了如何:</p><ul class=""><li id="b198" class="lz ma it lf b lg lh lj lk mb mc md me mf mg ly mh mi mj mk bi translated">为数据集设定目标和期望值</li><li id="8adb" class="lz ma it lf b lg ml lj mm mb mn md mo mf mp ly mh mi mj mk bi translated">抓取 Google Play 应用程序信息</li><li id="9643" class="lz ma it lf b lg ml lj mm mb mn md mo mf mp ly mh mi mj mk bi translated">收集 Google Play 应用的用户评论</li><li id="0a73" class="lz ma it lf b lg ml lj mm mb mn md mo mf mp ly mh mi mj mk bi translated">将数据集保存到 CSV 文件</li></ul><p id="9a16" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated">接下来，我们将使用这些评论对 BERT 进行情感分析。但是首先，我们必须做一些文本预处理！</p><h1 id="cd32" class="nk nl it bd nm nn no np nq nr ns nt nu jz nv ka nw kc nx kd ny kf nz kg oa ob bi translated">参考</h1><ul class=""><li id="9e4d" class="lz ma it lf b lg oc lj od mb ow md ox mf oy ly mh mi mj mk bi translated"><a class="ae ky" href="https://github.com/JoMingyu/google-play-scraper" rel="noopener ugc nofollow" target="_blank">用于 Python 的 Google Play Scraper】</a></li></ul></div><div class="ab cl oz pa hx pb" role="separator"><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe"/></div><div class="im in io ip iq"><p id="f8e5" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mb ln lo lp md lr ls lt mf lv lw lx ly im bi translated"><em class="le">最初发表于</em><a class="ae ky" href="https://www.curiousily.com/posts/create-dataset-for-sentiment-analysis-by-scraping-google-play-app-reviews-using-python/" rel="noopener ugc nofollow" target="_blank"><em class="le">https://www.curiousily.com</em></a><em class="le">。</em></p></div></div>    
</body>
</html>