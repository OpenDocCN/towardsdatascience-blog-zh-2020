<html>
<head>
<title>Python for Finance — Analysing Account Receivables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python for Finance —分析应收账款</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-for-finance-analysing-account-receivables-35d3d809c769?source=collection_archive---------35-----------------------#2020-04-16">https://towardsdatascience.com/python-for-finance-analysing-account-receivables-35d3d809c769?source=collection_archive---------35-----------------------#2020-04-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="56a3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">分析应收账款对于识别潜在的公司收款问题非常重要。</h2></div><p id="c4ee" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">应收账款是客户欠公司的金额。在这个故事中，我们将使用 Python 来分析科技行业公司的应收账款。这个故事将分成两部分。首先，<strong class="kh ir">我们将开始分析苹果公司</strong>的应收账款。然后，<strong class="kh ir">我们将分析科技行业中一组可比公司的应收账款与销售比率。</strong></p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/447574a396bf26d21fa7ed185371ac24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PFOC3rCeg3sp17Fk"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">照片由<a class="ae lr" href="https://www.pexels.com/@goumbik?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ls">卢卡斯</strong> </a>发自<a class="ae lr" href="https://www.pexels.com/photo/macbook-pro-beside-papers-669619/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ls"> Pexels </strong> </a></p></figure><h1 id="e786" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">如何阅读应收账款</h1><p id="f122" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated"><strong class="kh ir">应收账款是公司的金融资产，因为它们代表公司因销售商品或服务而拥有的金额。</strong></p><p id="88e8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">投资者经常用来比较公司间应收账款的比率之一是应收账款对销售比率。就销售额而言，应收账款的高比率表明一个公司有很大比例的赊销。高比率会给公司带来一定的风险，因为债务人可能无法偿还债务。</p><p id="b869" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每个公司都需要估计有多少应收账款无法收回。这些被称为坏账应收账款，会减少公司的利润和应收账款总额。因此，保持较低的应收账款水平可能被视为一个好迹象，因为公司计提的坏账准备将因此减少。</p><p id="44d5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一方面，非常低的应收账款与销售比率可能表明一个公司对其客户过于积极。因此，积极的收集方法可能会影响公司与客户的关系，从而影响销售。</p><h1 id="1c5f" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">使用 Python 进行应收账款趋势分析</h1><p id="6e3d" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">首先，我们将使用 Python 为 Apple 执行应收款趋势分析。这将向我们展示应收账款在过去几个季度的绝对值是如何变化的。</p><p id="5773" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将使用免费的财务 API<a class="ae lr" href="https://financialmodelingprep.com/developer/docs/#Company-Financial-Ratios" rel="noopener ugc nofollow" target="_blank">financialmodelingprep</a>来检索财务数据。如果您已经阅读了我之前的文章，那么下面的代码对您来说会很熟悉。因此，我不会详细介绍它的功能。</p><p id="302c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基本上，我们向 API 端点发出 get 请求来检索资产负债表数据。然后，我们解析响应以提取<em class="mq">应收款</em>数据并将其添加到 Python 字典中。</p><p id="ecce" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们将字典转换成熊猫数据框架。</p><pre class="lc ld le lf gt mr ms mt mu aw mv bi"><span id="af7b" class="mw lu iq ms b gy mx my l mz na">import requests<br/>import pandas as pd<br/><br/>all_Receivables = {} <br/>stock = 'AAPL'<br/><br/>balanceSheet = requests.get(f'https://financialmodelingprep.com/api/v3/financials/balance-sheet-statement/{stock}?period=quarter')<br/><br/>balanceSheet = balanceSheet.json()<br/><br/>all_Receivables[stock] = {}<br/><br/>for item in balanceSheet['financials']:<br/>  receivables = item['Receivables']<br/>  period = item['date']<br/>  all_Receivables[stock][period] = receivables<br/>all_Receivables<br/><br/>receivables_apple = pd.DataFrame.from_dict(all_Receivables, orient='index')<br/>receivables_apple = receivables_apple.T<br/> </span></pre><p id="bb17" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们有了 Pandas 数据框架，我们就可以使用库<a class="ae lr" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank"> Plotly </a>来绘制条形格式的应收账款:</p><pre class="lc ld le lf gt mr ms mt mu aw mv bi"><span id="1767" class="mw lu iq ms b gy mx my l mz na">import plotly.express as px<br/><br/>fig = px.bar(receivables_apple, x=receivables_apple.index,y =receivables_apple[stock],title='Account Receivables: ' + stock)<br/><br/>fig.show()</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi nb"><img src="../Images/0ea4da12d09b3b4781bf46491dcc3502.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zy6u1l-OsXQwKxLS"/></div></div></figure><h1 id="acc8" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">使用 Python 比较公司间的应收账款</h1><p id="fb81" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">在上一节中，我们绘制了苹果公司的应收账款趋势。我们可以看到应收账款随着时间的推移在增加。这可能是由于销售额的增长转化为更高水平的应收账款。</p><p id="4e38" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，仅仅关注应收账款可能不足以帮助投资者。在本节中，我们将进一步分析这两种情况:</p><ul class=""><li id="d1b5" class="nc nd iq kh b ki kj kl km ko ne ks nf kw ng la nh ni nj nk bi translated"><strong class="kh ir">应收账款对销售比率</strong>。这将表明销售方面的应收账款水平。这将非常有助于将一家公司与可比较的公司进行比较。</li><li id="61af" class="nc nd iq kh b ki nl kl nm ko nn ks no kw np la nh ni nj nk bi translated"><strong class="kh ir">同行业不同公司的应收账款对比</strong>。</li></ul><p id="a738" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，正如你在下面的代码部分看到的，我们有一个在技术领域运营的公司列表。在我之前的一篇文章中，<a class="ae lr" href="https://codingandfun.com/evaluate-companies-liquidity-with-python/" rel="noopener ugc nofollow" target="_blank">我向你展示了如何通过程序提取一个行业中所有公司的报价。</a></p><p id="5c0a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们遍历列表中的每个公司，以便<strong class="kh ir"> <em class="mq">提取应收账款和收入来计算应收账款与销售额的比率。</em> </strong>接下来，我们将这三个变量添加到一个 Python 字典中。最后，正如我们在上一节中所做的，我们将字典转换成熊猫数据帧。</p><pre class="lc ld le lf gt mr ms mt mu aw mv bi"><span id="d326" class="mw lu iq ms b gy mx my l mz na">technological_companies = ['MSFT','AAPL','AMZN','GOOG','IBM','CSCO','ORCL','SAP','IBM']<br/>all_Receivables = {} <br/><br/>for company in technological_companies:<br/>  try:<br/>#Retrieve Balance Sheet Data for each of the companies in the list<br/>    balanceSheet = requests.get(f'https://financialmodelingprep.com/api/v3/financials/balance-sheet-statement/{company}?period=quarter')<br/>    balanceSheet = balanceSheet.json()<br/>    all_Receivables[company] = {}<br/>    for item in balanceSheet['financials']:<br/>      receivables = item['Receivables']<br/>      all_Receivables[company]['receivables'] = receivables<br/><br/>    IS = requests.get(f'https://financialmodelingprep.com/api/v3/financials/income-statement/{company}?period=quarter')<br/>    IS = IS.json()<br/>    for item in IS['financials']:<br/>      revenues = item['Revenue']<br/>      all_Receivables[company]['Revenue'] = revenues<br/>    <br/>    all_Receivables[company]['receivables_to_sales'] = float(receivables)/float(revenues)<br/>  except:<br/>    pass<br/><br/>receivables_companies = pd.DataFrame.from_dict(all_Receivables, orient='index')<br/>receivables_companies = receivables_companies.T<br/>print(receivables_companies)</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/ad38632d2feccaaaa4fcd34f0c62e55b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hwhxQVDC-dOivL2J"/></div></div></figure><p id="6f4c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们执行一些数据操作，只保留行<em class="mq"> receivables_to_sales </em>，因为这是我们想要绘制的信息。</p><pre class="lc ld le lf gt mr ms mt mu aw mv bi"><span id="f5ac" class="mw lu iq ms b gy mx my l mz na">#keep only receivables to sales<br/>receivables_companies = receivables_companies[receivables_companies.index =='receivables_to_sales'] <br/>receivables_companies = receivables_companies.T.reset_index()</span></pre><p id="f0f5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，在清理数据框架后，我们可以使用 Plotly 绘制不同公司的应收账款与销售比率:</p><pre class="lc ld le lf gt mr ms mt mu aw mv bi"><span id="27c3" class="mw lu iq ms b gy mx my l mz na">import plotly.express as px<br/><br/>fig = px.bar(receivables_companies, x=receivables_companies['index'],y =receivables_companies['receivables_to_sales'])<br/><br/>fig.show()</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi nb"><img src="../Images/35c2b71dc104e96bc403f3985c582690.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6mL9YsncXhg1U-bPR1pw5Q.png"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">应收账款比较</p></figure><h1 id="0080" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">包扎</h1><p id="c07a" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">我们已经看到了两种简单的方法来分析单个公司以及一组可比公司的应收账款。</p><p id="1a7c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的例子中，我们可以看到，与同行公司相比，IBM 的应收账款与销售额比率非常高。作为完成我们分析的下一步，我们需要查看公司财务报告的财务注释，以了解高比率的原因。是因为 IBM 向客户提供长期付款吗？或者可能是公司没有足够的能力来管理应收账款的回收？</p><p id="616b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一个极端，我们有比率非常低的亚马逊。这可能是因为亚马逊业务的一部分是直接销售给即时付款的客户。</p><p id="921a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae lr" href="https://twitter.com/CodingandF" rel="noopener ugc nofollow" target="_blank">在 Twitter 上关注我，了解更多关于 Python for Finance 的信息</a>。</p></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><p id="6420" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mq">原载于 2020 年 4 月 16 日</em><a class="ae lr" href="https://codingandfun.com/account-receivables-analysis/" rel="noopener ugc nofollow" target="_blank"><em class="mq">【https://codingandfun.com】</em></a><em class="mq">。</em></p></div></div>    
</body>
</html>