<html>
<head>
<title>Everything you need to know about date formatting in 3 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在3分钟内你需要知道的关于日期格式的一切</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/everything-you-need-to-know-about-date-formatting-in-3-minutes-d7f3d53beea?source=collection_archive---------22-----------------------#2020-01-31">https://towardsdatascience.com/everything-you-need-to-know-about-date-formatting-in-3-minutes-d7f3d53beea?source=collection_archive---------22-----------------------#2020-01-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="66f8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">每个分析师都知道。你必须合并十个文件，每个文件都有不同的日期格式。我将向您展示如何转换日期以便进一步处理。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5b78f67a96105a27ee8ca78609c213d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c84aERQ87-IIZ1Fta1rNvw.png"/></div></div></figure><p id="9c98" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">假设您收到了十个不同的文件，您的工作是匹配这些数据以获得新的见解。不管您是通过csv还是api获得数据，<strong class="kw iu">您至少会收到五种不同的日期格式</strong>。这可能具有挑战性。Python的<em class="lq"> datetime </em>提供了一些非常有趣的函数来处理这类问题。</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="c7c0" class="lw lx it ls b gy ly lz l ma mb">[In]<br/>import datetime<br/>now = datetime.datetime.now()<br/>now<br/>[Out]<br/>datetime.datetime(2020, 1, 30, 21, 4, 11, 887948)</span></pre><p id="5eec" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">变量<strong class="kw iu">现在</strong>包含年、月、日和当前时间。在许多情况下，获得年、月和日就足够了。<em class="lq">日期时间</em>对象的每一部分都可以单独访问。</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="52d2" class="lw lx it ls b gy ly lz l ma mb">[In]<br/>print(now.year)<br/>print(now.month)<br/>print(now.day)<br/>[Out]<br/>2020<br/>1<br/>30</span></pre><p id="0a06" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是它如何帮助转换数据呢？<em class="lq"> Datetime </em>对象提供了函数<em class="lq"> strftime </em>，使得在Python中处理日期变得如此简单。</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="7b8c" class="lw lx it ls b gy ly lz l ma mb">[In]<br/>now.strftime('%Y-%m-%d')<br/>[Out]<br/>'2020-01-30'</span></pre><p id="fdba" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">表达式<strong class="kw iu"> %Y </strong>是一个已定义的指令，它从<em class="lq">日期时间</em>对象中提取年份。这同样适用于其他对象。有趣的是，您可以以任何想要的方式格式化结果字符串。在本例中，我们在年、月和日之间添加了“<strong class="kw iu"> - </strong>”。我们还可以添加任何其他字符:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="6dc0" class="lw lx it ls b gy ly lz l ma mb">[In]<br/>now.strftime('%Y/%m/%d')<br/>[Out]<br/>'2020/01/30'</span></pre><p id="dad7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通常，您会收到一个需要首先转换的字符串:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="f72f" class="lw lx it ls b gy ly lz l ma mb">delivered_date = 'Sep, 26 2019'</span></pre><p id="1954" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可以使用<em class="lq"> strptime </em>将我们的变量<strong class="kw iu"> delivered_date </strong>转换为<em class="lq"> datetime </em>对象:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="1885" class="lw lx it ls b gy ly lz l ma mb">[In]<br/>datetime.datetime.strptime(delivered_date, '%b, %d %Y')<br/>[Out]<br/>datetime.datetime(2019, 9, 26, 0, 0)</span></pre><p id="3434" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">strptime 需要两个参数。第一个是字符串，第二个是给定表达式的结构。在这种情况下，我们有一个月的短版本，带有一个逗号<strong class="kw iu"> %b，</strong>，后面是日期<strong class="kw iu"> %x </strong>和年份<strong class="kw iu"> %Y </strong>。</p><p id="84a3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们看一下标题图片中的例子。我们总是希望格式<strong class="kw iu"> YYYY-MM-DD </strong>最后:</p><p id="082d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们从2020年1月1日<strong class="kw iu">开始</strong></p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="f9c2" class="lw lx it ls b gy ly lz l ma mb">[In]<br/>date_1 = 'Jan, 01 2020'<br/>datetime.datetime.strptime(date_1, '%b, %d %Y').strftime('%Y-%m-%d')[Out]<br/>'2020-01-01'</span></pre><p id="3e22" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> 2020年1月1日</strong></p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="315b" class="lw lx it ls b gy ly lz l ma mb">[In]<br/>date_2 = '2020 Jan 01'<br/>datetime.datetime.strptime(date_3, '%Y %b %d').strftime('%Y-%m-%d)[Out]<br/>'2020-01-20'</span></pre><p id="51c0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> 20/01/20 </strong></p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="9e54" class="lw lx it ls b gy ly lz l ma mb">[In]<br/>date_3 = '20/01/20'<br/>datetime.datetime.strptime(date_4, '%y/%m/%d').strftime('%Y-%m-%d')[Out]<br/>'2020-01-20'</span></pre><p id="5586" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">2020年1月20日</strong></p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="58c9" class="lw lx it ls b gy ly lz l ma mb">[In]<br/>date_4 = '20.01.2020'<br/>datetime.datetime.strptime(date_4, '%d.%m.%Y').strftime('%Y-%m-%d')<br/>[Out]<br/>'2020-01-20'</span></pre><ol class=""><li id="eba1" class="mc md it kw b kx ky la lb ld me lh mf ll mg lp mh mi mj mk bi translated"><strong class="kw iu">2020年1月</strong></li></ol><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="b94b" class="lw lx it ls b gy ly lz l ma mb">[In]<br/>date_5 = '1. January 2020'<br/>datetime.datetime.strptime(date_6, '%d. %B %Y').strftime('%Y-%m-%d')<br/>[Out]<br/>'2020-01-20'</span></pre><h2 id="fd46" class="lw lx it bd ml mm mn dn mo mp mq dp mr ld ms mt mu lh mv mw mx ll my mz na nb bi translated">结论</h2><p id="9255" class="pw-post-body-paragraph ku kv it kw b kx nc ju kz la nd jx lc ld ne lf lg lh nf lj lk ll ng ln lo lp im bi translated">Python的<em class="lq"> datetime </em>提供了一个非常简单的框架来处理日期格式。格式化数据以便进一步处理也非常有用。例如，无论是Excel还是CSV文件都没关系。所有格式都可以转换。我希望你喜欢阅读，并且可以带走一些有用的东西。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="3582" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae no" href="https://medium.com/@droste.benedikt/membership" rel="noopener">如果您喜欢中级数据科学，并且还没有注册，请随时使用我的推荐链接加入社区。</a></p></div></div>    
</body>
</html>