<html>
<head>
<title>Deploy Python + Tesseract + OpenCV Fast API using AWS EC2 Instance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 AWS EC2 实例部署 Python + Tesseract + OpenCV 快速 API</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/deploy-python-tesseract-opencv-fast-api-using-aws-ec2-instance-ed3c0e3f2888?source=collection_archive---------24-----------------------#2020-05-02">https://towardsdatascience.com/deploy-python-tesseract-opencv-fast-api-using-aws-ec2-instance-ed3c0e3f2888?source=collection_archive---------24-----------------------#2020-05-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d3b0" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于如何创建 AWS EC2 实例并为生产目的部署代码的分步方法(包括截图和代码)</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/dfc7681fe728ddffd9115cd1f46cca49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vJGuWB9S8cKiblKLBQE-4g.jpeg"/></div></div></figure><p id="edde" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi ln translated"><span class="l lo lp lq bm lr ls lt lu lv di">作为数据科学家，我们</span>可能有足够的能力构建非常复杂和错综复杂的数据科学算法，但如果说我们大多数人缺乏一项技能，那就是<strong class="kt ir">部署</strong>。除非部署，否则我们的模型和简单的演示一样好。为了扩展甚至投入生产，它需要作为 API 部署或嵌入到现有系统中。在本文中，我们将学习如何创建一个简单的 OCR 算法，并在 AWS EC2 实例上实时部署它。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="516f" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated"><strong class="ak">首先是基础——什么是宇宙魔方？</strong></h1><p id="d692" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">除了明显的复仇者联盟的参考，宇宙魔方是各种操作系统的光学字符识别引擎。它是一个自由软件，在 Apache 许可下发布，版本 2.0，自 2006 年以来一直由 Google 赞助开发。2006 年，Tesseract 被认为是当时最精确的开源 OCR 引擎之一。</p><h1 id="da13" class="md me iq bd mf mg na mi mj mk nb mm mn jw nc jx mp jz nd ka mr kc ne kd mt mu bi translated">什么是 EC2 实例？</h1><p id="81e1" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">亚马逊弹性计算云(Amazon <strong class="kt ir"> EC2 </strong>)是一个在云中提供安全、可调整计算能力的 web 服务。它旨在使开发人员更容易进行网络规模的云计算。Amazon EC2 的简单 web 服务接口允许您以最小的摩擦获得和配置容量。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="5199" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">索引</h1><p id="9ab6" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">在这篇博客中，我们将更多地关注如何在 AWS EC2 实例上部署 python + tesseract + openCV 模型，而不是实际的准确性。不同的步骤。<br/> <strong class="kt ir"> 1。如何配置一个 AWS 账户<br/> 2？安全组<br/> 3。SSH 到 EC2 实例<br/> 4。安装不同的依赖关系<br/> 5。将 Python 代码复制到 EC2 </strong> <br/> <strong class="kt ir"> 6。在服务器</strong>上运行应用程序</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="8c07" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">配置 AWS 帐户</h1><p id="8c10" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">在 AWS 上创建一个新账户非常容易。<br/> →进入“<a class="ae nf" href="https://signin.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank">https://signin.aws.amazon.com/</a>”<br/>→“创建一个新的 AWS 帐户”<br/> →输入必要的信息，如名字、电子邮件地址、密码，就完成了。</p><div class="kg kh ki kj gt ab cb"><figure class="ng kk nh ni nj nk nl paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/1f46bb561e7e84c43e2af944a6a9e497.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*syKw8YTbO66-_FOITuNMGA.png"/></div></figure><figure class="ng kk nm ni nj nk nl paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/693e98495ff0b4ae1ed43af9e550c19a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*2WiRP-y4p2gkohs55S7J5A.png"/></div></figure></div><blockquote class="nn"><p id="a930" class="no np iq bd nq nr ns nt nu nv nw lm dk translated"><em class="nx">您可以免费访问 AWS 账户 12 个月，包括 EC2 instance、Lambda、S3 buckets 和 Sagemaker。有关限额的更多信息，您可以查看:</em><strong class="ak"><em class="nx">aws.amazon.com/free</em></strong></p></blockquote><h1 id="52b4" class="md me iq bd mf mg na mi mj mk nb mm mn jw ny jx mp jz nz ka mr kc oa kd mt mu bi translated">创建 EC2 实例</h1><p id="8c3f" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">登录后，通过找到控制台部分进入控制台，或在 URL <br/>中输入<a class="ae nf" href="https://console.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank">https://console.aws.amazon.com/</a>→在“查找服务”下输入“EC2”</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/539f43e55461fc01df8d5ec934b0cbef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KbYd-t1cGplnz9hXo2391A.png"/></div></div></figure><p id="1357" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">→“启动新实例”</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/ae888a20d0dc699ce4175b1ef17c9fa6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GFdbjAFHxXZs6sC7kEDfMw.png"/></div></div></figure><p id="75b5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">→在“仅自由层”下选择“<strong class="kt ir"> Ubuntu Server 18.04 LTS (HVM)，SSD 卷类型”</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/a985a6077ab9e809c32c9d845da979d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yd_fz1N5MXBN9WHbxyA-Bw.png"/></div></div></figure><p id="4eaf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">→实例类型为“t2.micro”。提供 1 个 vCPU 支持和 1gb RAM，足以支持中小型算法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/5a02caf07258a8601ec9666faa3775fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PP-8A9L7cw1vbKnS07650A.png"/></div></div></figure><p id="7e15" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">→您可以将其余功能保留为默认，并启动 EC2 实例。它将要求您创建一个“私有”和“公共”密钥对。这对可以帮助您从笔记本电脑连接到 EC2 实例。因此，创建一个新的一对，并将其安全地保存在某个地方。(我们很快就会需要它)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/40fa6a6a4f529e03e1b35905af6c8fec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V8de044ZLm8e6Uh1NLGr5w.png"/></div></div></figure><blockquote class="og oh oi"><p id="990c" class="kr ks oj kt b ku kv jr kw kx ky ju kz ok lb lc ld ol lf lg lh om lj lk ll lm ij bi translated">V <!-- --> oila！您已经创建了您的第一个 EC2 实例。恭喜你！</p></blockquote></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="dc2c" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">安全组</h1><blockquote class="nn"><p id="db6a" class="no np iq bd nq nr on oo op oq or lm dk translated">只有端口 22 对入站和出站流量开放。这就是我们能够 SSH 到 EC2 实例的原因。(稍后会有更多相关内容)。但是我们希望我们的代码通过 HTTP 类型的端口 80 运行。</p></blockquote><p id="0a67" class="pw-post-body-paragraph kr ks iq kt b ku os jr kw kx ot ju kz la ou lc ld le ov lg lh li ow lk ll lm ij bi translated">要进行此更改，请导航到控制台部分的安全组，并在两个入站规则中添加以下内容<br/> → Port = 80 <br/> → Type = HTTP</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/a4788bfa5a6cfcf1383a17c8714afeb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CeUlK2iXTvrB1aP0D3mwAQ.png"/></div></div><p class="oy oz gj gh gi pa pb bd b be z dk translated">现在可以通过端口 80 访问代码</p></figure><p id="b467" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们已经创建了 EC2 实例，您可以转到 EC2 控制台并检查它是否正在运行。这个屏幕需要几样东西。<br/> <strong class="kt ir"> 1。实例状态</strong> —告诉我们实例是否正在运行。(当你不在做任何事情的时候，记得停止它，否则它会一直消耗空闲层的时间)<br/> <strong class="kt ir"> 2。公共 DNS IPv4 <br/> 3。IPv4 公共 IP </strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pc"><img src="../Images/4f8f3b86c0530661f5483bb260fcb4d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q9dDXM1trwMqO_2k58wXxw.png"/></div></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="8cb3" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">SSH 到 EC2 实例</h1><p id="9501" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated"><em class="oj">接下来是 SSH 进入 EC2 实例。但是首先——什么是 SSH？</em></p><blockquote class="nn"><p id="9637" class="no np iq bd nq nr on oo op oq or lm dk translated">SSH 协议(也称为安全 Shell)是一种从一台计算机安全远程登录到另一台计算机的方法。它为强认证提供了几个备选选项，并通过强加密保护了通信的安全性和完整性。这里，SSH 将用于将我们的本地 pc 或笔记本电脑连接到基于 linux 的 EC2 实例</p></blockquote><p id="09ba" class="pw-post-body-paragraph kr ks iq kt b ku os jr kw kx ot ju kz la ou lc ld le ov lg lh li ow lk ll lm ij bi translated">步骤:<br/> →复制<em class="oj"> IPv4 公共 IP <br/> →在 MAC 或 Windows 上打开终端<br/> →前往您拥有“密钥对”的目录<br/> →更改 pem 文件的权限，使其可以“读取”<br/>→ssh-I&lt;keypairfile . PEM&gt;Ubuntu @&lt;IP v4 公共 IP &gt; </em></p><p id="6c3e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">示例:如果密钥对名称为“Pair.pem”</p><pre class="kg kh ki kj gt pd pe pf pg aw ph bi"><span id="2fdd" class="pi me iq pe b gy pj pk l pl pm">chmod 400 Pair.pem<br/>ssh -i Pair.pem ubuntu@35.172.128.64</span></pre><p id="e594" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您现在位于 AWS 的 Linux 终端中</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/9ddc3be2f12c8acc81954ab2faf472fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*D-fijWcJtgWDa1UO9cyPOg.png"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="d32e" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">安装不同的依赖项</h1><p id="652a" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">一旦进入 Linux 终端——我们需要下载与我们的 Python 代码相关的所有不同的库。</p><pre class="kg kh ki kj gt pd pe pf pg aw ph bi"><span id="b825" class="pi me iq pe b gy pj pk l pl pm">sudo apt-get update<br/>sudo apt install python3-pip<br/>sudo apt-get install libsm6 libxrender1 libfontconfig1 libice6 nginx gunicorn<br/>pip3 install numpy==1.17.2 fastapi==0.54.1 starlette==0.13.2 opencv-python-headless==4.1.2.30 pytesseract==0.3.3 matplotlib==3.1.1 pydantic==1.4 uvicorn==0.11.3 gunicorn==20.0.4 python-multipart==0.0.5</span></pre><blockquote class="og oh oi"><p id="684f" class="kr ks oj kt b ku kv jr kw kx ky ju kz ok lb lc ld ol lf lg lh om lj lk ll lm ij bi translated"><em class="iq">非常重要</em> —将宇宙魔方下载到系统中</p></blockquote><pre class="kg kh ki kj gt pd pe pf pg aw ph bi"><span id="b115" class="pi me iq pe b gy pj pk l pl pm">sudo apt update<br/>sudo apt install tesseract-ocr<br/>sudo apt install libtesseract-dev</span></pre><div class="kg kh ki kj gt ab cb"><figure class="ng kk po ni nj nk nl paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/34e068a5adf9ea237492efa7bce55bdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*iDP0qD-RzZlen97bS_yaLA.png"/></div></figure><figure class="ng kk po ni nj nk nl paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/5a645b81eed21a9d36acd8cf507202c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*C9NQn_VMl5A4D9XyjN-crA.png"/></div><p class="oy oz gj gh gi pa pb bd b be z dk pp di pq pr translated">以类似的方式下载其他库</p></figure></div></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="1fd1" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">将 Python 代码复制到 EC2</h1><p id="d189" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">首先在实例中创建新目录。这是我们复制 Python 脚本的地方。</p><pre class="kg kh ki kj gt pd pe pf pg aw ph bi"><span id="02e2" class="pi me iq pe b gy pj pk l pl pm">mkdir PythonDir<br/>cd PythonDir</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/cd0800fb136998583bf6ae4d2d5dde67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*ox_zLDzltgXIjgl1-kPQ7A.png"/></div></figure><p id="091c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在打开一个新的终端，输入以下内容:</p><pre class="kg kh ki kj gt pd pe pf pg aw ph bi"><span id="520e" class="pi me iq pe b gy pj pk l pl pm">scp -i ~/Pair.pem ~/Desktop/pythoncode.py  ubuntu@ec2-35-172-128-64.compute-1.amazonaws.com:~/PythonDir/</span></pre><p id="05f9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上述代码将使用公共 DNS 访问 EC2 实例，并将代码从您的系统复制到 EC2 实例中的目录</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/60d9f52074736784420a4ed2e43071ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*J5nVGPvVv0PKyV9rj8hY1w.png"/></div></figure><blockquote class="og oh oi"><p id="890a" class="kr ks oj kt b ku kv jr kw kx ky ju kz ok lb lc ld ol lf lg lh om lj lk ll lm ij bi translated">不要担心——找到下面的<em class="iq"> pythoncode.py </em></p></blockquote><pre class="kg kh ki kj gt pd pe pf pg aw ph bi"><span id="09a8" class="pi me iq pe b gy pj pk l pl pm">#####pythoncode.py#####</span><span id="82b4" class="pi me iq pe b gy pt pk l pl pm">import numpy as np<br/>import sys, os<br/>from fastapi import FastAPI, UploadFile, File<br/>from starlette.requests import Request<br/>import io<br/>import cv2<br/>import pytesseract<br/>from pydantic import BaseModel</span><span id="cf6f" class="pi me iq pe b gy pt pk l pl pm">def read_img(img):<br/> text = pytesseract.image_to_string(img)<br/> return(text)<br/> <br/>app = FastAPI()</span><span id="9173" class="pi me iq pe b gy pt pk l pl pm">class ImageType(BaseModel):<br/> url: str</span><span id="2eba" class="pi me iq pe b gy pt pk l pl pm"><a class="ae nf" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.post(“/predict/”) <br/>def prediction(request: Request, <br/> file: bytes = File(…)):</span><span id="b41b" class="pi me iq pe b gy pt pk l pl pm">if request.method == “POST”:<br/> image_stream = io.BytesIO(file)<br/> image_stream.seek(0)<br/> file_bytes = np.asarray(bytearray(image_stream.read()), dtype=np.uint8)<br/> frame = cv2.imdecode(file_bytes, cv2.IMREAD_COLOR)<br/> label = read_img(frame)<br/> return label<br/> return “No post request found”</span></pre><p id="7da6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来——我们需要配置 nginx 服务器。为此，首先从目录中出来，(这里:<em class="oj"> PythonDir </em>)并创建一个新的配置文件。</p><pre class="kg kh ki kj gt pd pe pf pg aw ph bi"><span id="6a58" class="pi me iq pe b gy pj pk l pl pm">cd /etc/nginx/sites-enabled/<br/>sudo vim myApp</span></pre><p id="6f31" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">配置“myApp”文件。80 是网络服务器应该连接的端口。</p><pre class="kg kh ki kj gt pd pe pf pg aw ph bi"><span id="ebce" class="pi me iq pe b gy pj pk l pl pm">server{<br/>       listen 80;<br/>       server_name 35.172.128.64;<br/>       location / {<br/>                   proxy_pass <a class="ae nf" href="http://127.0.0.1:8000/" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:8000</a><br/>                  }<br/>       }</span></pre><p id="3bc8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">重新启动 ngnix 终端以反映更改。</p><pre class="kg kh ki kj gt pd pe pf pg aw ph bi"><span id="548a" class="pi me iq pe b gy pj pk l pl pm">sudo service nginx restart</span></pre><h1 id="f931" class="md me iq bd mf mg na mi mj mk nb mm mn jw nc jx mp jz nd ka mr kc ne kd mt mu bi translated"><strong class="ak"> <em class="nx">加成:Vim 编辑提示</em> </strong></h1><p id="7320" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">对于第一次使用 Vim editor 的人来说，它可能会非常令人沮丧。这里有一些快捷方式:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/6fdbf676bd9fb26739b31c83ca2ff4ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*fR_TcEBpeYwpjaeJXlKxIQ.png"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="1346" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">最后—在服务器上运行应用程序</h1><p id="4960" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">转到应用程序目录并输入以下内容来启动应用程序服务器。</p><pre class="kg kh ki kj gt pd pe pf pg aw ph bi"><span id="bb49" class="pi me iq pe b gy pj pk l pl pm">cd PythonDir<br/>gunicorn -w 1 -k uvicorn.workers.UvicornWorker pythoncode:app</span></pre><p id="5d1a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">瞧，服务器已经启动，我们可以测试应用程序了。在 35.172.128.64/docs 身上测试一下</p><p id="d419" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="oj">样本图像</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pv"><img src="../Images/09e461b883cd5528567732e4f2fc3829.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dUuVpRKtjqxW0zo8A7lX1A.jpeg"/></div></div></figure><p id="45b7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">输出</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pw"><img src="../Images/32a463230a057b3f3900b885b55b3a46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9wYaWOyo00cZQFjUv97QlQ.png"/></div></div></figure><p id="3960" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">暂时结束了。有什么想法来改善这一点或希望我尝试任何新的想法？请在评论中给出你的建议。<br/> <strong class="kt ir"> <em class="oj">附:如何在 Heroku 上部署 Python+tessera CT+OpenCV API</em></strong></p><div class="px py gp gr pz qa"><a rel="noopener follow" target="_blank" href="/deploy-python-tesseract-ocr-on-heroku-bbcc39391a8d"><div class="qb ab fo"><div class="qc ab qd cl cj qe"><h2 class="bd ir gy z fp qf fr fs qg fu fw ip bi translated">在 Heroku 上部署 Python Tesseract OCR</h2><div class="qh l"><h3 class="bd b gy z fp qf fr fs qg fu fw dk translated">如何在 Heroku 上创建 OpenCV + Tesseract OCR 的一步一步的方法(包括截图和代码)</h3></div><div class="qi l"><p class="bd b dl z fp qf fr fs qg fu fw dk translated">towardsdatascience.com</p></div></div><div class="qj l"><div class="qk l ql qm qn qj qo kp qa"/></div></div></a></div></div></div>    
</body>
</html>