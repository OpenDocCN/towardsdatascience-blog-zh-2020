<html>
<head>
<title>COVID-19 data processing with Pandas DataFrame</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç†ŠçŒ«æ•°æ®æ¡†æ¶çš„æ–°å† è‚ºç‚æ•°æ®å¤„ç†</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/covid-19-data-processing-58aaa3663f6?source=collection_archive---------2-----------------------#2020-04-21">https://towardsdatascience.com/covid-19-data-processing-58aaa3663f6?source=collection_archive---------2-----------------------#2020-04-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a2a4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">ä¸‹è½½ã€åŠ è½½ã€åˆå¹¶ã€æ¸…ç†å’Œèšåˆæ–°å† è‚ºç‚æ—¶é—´åºåˆ—æ•°æ®çš„åˆ†æ­¥æŒ‡å—</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8de2f5bfabe9d49c6fa877d4c3f1ceba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gdQFf793fWKDhDQ0kxa-Ew.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@uniqueton?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">å®‰ä¸œ</a>åœ¨<a class="ae ky" href="https://unsplash.com/s/photos/covid-19?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹ç…§</p></figure><p id="e05d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å‡ å¤©å‰æˆ‘å‘è¡¨äº†ä¸€ç¯‡æ–‡ç« ï¼Œå±•ç¤ºäº†ä¸€æ­¥ä¸€æ­¥æ„å»ºç”¨äºæ¢ç´¢å† çŠ¶ç—…æ¯’ä¼ æ’­çš„<a class="ae ky" rel="noopener" target="_blank" href="/interactive-data-visualization-for-exploring-coronavirus-spreads-f33cabc64043">äº¤äº’å¼æ•°æ®å¯è§†åŒ–çš„æ•™ç¨‹ã€‚ä¸€äº›äººåœ¨ä¸Šé¢ç•™ä¸‹äº†ç§äººç¬”è®°ï¼Œä¸“é—¨è¯¢é—®æ•°æ®å¤„ç†æ­¥éª¤ã€‚</a></p><p id="8a69" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä»Šå¤©ï¼Œæˆ‘å¼ è´´ä¸€æ­¥ä¸€æ­¥çš„æ•™ç¨‹æ¥ä¸‹è½½ï¼ŒåŠ è½½ï¼Œåˆå¹¶ï¼Œæ¸…ç†å’Œæ±‡æ€»æ–°å† è‚ºç‚æ—¶é—´åºåˆ—æ•°æ®ã€‚æ•°æ®ç”±çº¦ç¿°Â·éœæ™®é‡‘æ–¯å¤§å­¦ç³»ç»Ÿç§‘å­¦ä¸å·¥ç¨‹ä¸­å¿ƒ(JHUÂ·CSSE)æä¾›ï¼Œä»–ä»¬åœ¨Githubçš„å…¬å…±é¡µé¢ä¸Šåˆ†äº«äº†ä»–ä»¬çš„æ•°æ®ã€‚çº¦ç¿°éœæ™®é‡‘æ–¯CSSEæ±‡æ€»äº†ä¸»è¦æ¥æºçš„æ•°æ®ï¼Œå¦‚ä¸–ç•Œå«ç”Ÿç»„ç»‡ã€å›½å®¶å’Œåœ°åŒºå…¬å…±å«ç”Ÿæœºæ„ã€‚è¿™äº›æ•°æ®å…è´¹æä¾›ï¼Œå¹¶ä¸”æ¯å¤©æ›´æ–°ã€‚</p><p id="746f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åœ¨æˆ‘ä»¬è¿›å…¥ç»†èŠ‚ä¹‹å‰ï¼Œæˆ‘æƒ³ç»™ä½ çœ‹ä¸€ä¸‹æ–°å† è‚ºç‚æ•°æ®å¤„ç†çš„æœ€ç»ˆç»“æœã€‚<strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong>å‡ä¸ºç´¯è®¡æ•°æ®ã€‚<strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv">æ–°å¢ç—…ä¾‹</em> </strong>å‡ä¸ºæ—¥æ˜æ™ºæ•°æ®ã€‚æœ¬æ•°æ®å¸§æŒ‰<strong class="lb iu"> <em class="lv">æ—¥æœŸ</em> </strong>å’Œ<strong class="lb iu"> <em class="lv">å›½å®¶/åœ°åŒº</em> </strong>æ’åºã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lw"><img src="../Images/430325aea649055b79fa4a32ff02ad67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i4mVLCfgzmtclxMINIZDHA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">æ–°å† è‚ºç‚æ•°æ®å¤„ç†çš„æœ€ç»ˆè¾“å‡º</p></figure><p id="41ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ­¤å¤–ï¼Œæˆ‘è¿˜è¦æ„Ÿè°¢ä»¥ä¸‹é¡¹ç›®æä¾›çš„æ–°å† è‚ºç‚æ•°æ®å¤„ç†æ€è·¯:</p><ul class=""><li id="efa9" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu mc md me mf bi translated"><a class="ae ky" href="https://github.com/imdevskp/covid_19_jhu_data_web_scrap_and_cleaning" rel="noopener ugc nofollow" target="_blank">https://github . com/imdevskp/covid _ 19 _ jhu _ data _ web _ scrap _ and _ cleaning</a></li><li id="4985" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated"><a class="ae ky" href="https://www.kaggle.com/imdevskp/covid-19-analysis-visualization-comparisons/notebook" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/imdevskp/æ–°å† è‚ºç‚-åˆ†æ-å¯è§†åŒ–-æ¯”è¾ƒ/ç¬”è®°æœ¬</a></li><li id="b6cf" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated"><a class="ae ky" href="https://www.kaggle.com/neelkudu28/covid-19-visualizations-predictions-forecasting" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/neelkudu 28/æ–°å† è‚ºç‚-å¯è§†åŒ–-é¢„æµ‹-é¢„æµ‹</a></li></ul><h1 id="2ae5" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">ä¸ºä»€ä¹ˆæ˜¯æ•°æ®å¤„ç†ï¼Ÿ</h1><p id="93a9" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">æ•°æ®å¤„ç†èƒŒåçš„ä¸»è¦åŸå› æ˜¯<strong class="lb iu">æ•°æ®å‡ ä¹ä»æ¥ä¸ä¼šä»¥ä¸€ç§å¯¹æˆ‘ä»¬æ¥è¯´å·²ç»å‡†å¤‡å¥½çš„å½¢å¼å‡ºç°</strong>ã€‚ä»¥æˆ‘ä¸ªäººçš„ç»éªŒï¼ŒèŠ±åœ¨æ•°æ®ç§‘å­¦é¡¹ç›®ä¸Šçš„å¤§é‡æ—¶é—´æ˜¯åœ¨æ“çºµæ•°æ®ä¸Šã€‚</p><p id="3570" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è®©æˆ‘ä»¬æ¥çœ‹çœ‹æ–°å† è‚ºç‚çš„æ—¶é—´åºåˆ—æ•°æ®ï¼Œ</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/bd474a26c769fd64071d7b1277ee4463.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*J399vqDW8wumBH3JaB9uLw.gif"/></div></div></figure><p id="1939" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä»¥ä¸‹æ˜¯æˆ‘çš„ä¸€äº›é—®é¢˜:</p><ul class=""><li id="9abc" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu mc md me mf bi translated"><strong class="lb iu"> <em class="lv">ç¡®è¯Š</em> </strong>ï¼Œ<strong class="lb iu"> <em class="lv">æ­»äº¡</em> </strong>å’Œ<strong class="lb iu"><em class="lv"/></strong>ä¿å­˜åœ¨ä¸åŒçš„CSVæ–‡ä»¶ä¸­ã€‚è¿™ä½¿å¾—æˆ‘å¾ˆéš¾åœ¨ç›¸åŒçš„æ•°æ®å¯è§†åŒ–ä¸­ç»˜åˆ¶å®ƒä»¬ã€‚</li><li id="85da" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated">çœ‹ä¸€ä¸‹ä¸Šé¢çš„æˆªå›¾ã€‚æ—¥æœŸå®é™…ä¸Šæ˜¾ç¤ºä¸ºåˆ—åï¼Œè¿™æ˜¯éå¸¸å¥‡æ€ªçš„æ•°æ®å½¢çŠ¶ã€‚</li><li id="b274" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated"><strong class="lb iu"> <em class="lv">ç¡®è¯Š</em> </strong>ã€<strong class="lb iu"> <em class="lv">æ­»äº¡</em> </strong>å’Œ<strong class="lb iu"> <em class="lv">ç—Šæ„ˆ</em> </strong>å› æ•°æ®ç¼ºå¤±ä¸å®Œå…¨åŒ¹é…ï¼Œéƒ¨åˆ†å›½å®¶ä¸ä¸ŠæŠ¥<strong class="lb iu"> <em class="lv">ç—Šæ„ˆ</em> </strong>çš„çœ/å·çº§statã€‚</li><li id="6394" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated">å…¶ä»–ç¼ºå¤±å€¼ã€é”™è¯¯æ•°æ®ç±»å‹å’Œä¸‰è‰˜æ¸¸è½®æŠ¥å‘Šçš„æ¡ˆä¾‹ã€‚</li></ul><p id="063c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æœ¬æ–°å† è‚ºç‚æ•°æ®å¤„ç†æ•™ç¨‹è¿è¡Œä»¥ä¸‹æ­¥éª¤:</p><ol class=""><li id="ca46" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu nj md me mf bi translated">ä»JHU CSSEå…¬å…±ç½‘ç«™<a class="ae ky" href="https://github.com/CSSEGISandData/COVID-19" rel="noopener ugc nofollow" target="_blank"> Githubé¡µé¢</a>ä¸‹è½½åŸå§‹CSVæ•°æ®é›†</li><li id="4011" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu nj md me mf bi translated">åŠ è½½åŸå§‹CSVæ•°æ®é›†å¹¶æå–å¸¸ç”¨æ—¥æœŸåˆ—è¡¨</li><li id="ccb9" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu nj md me mf bi translated">å°†åŸå§‹ç¡®è®¤ã€æ­»äº¡å’Œæ¢å¤çš„CSVæ•°æ®åˆå¹¶åˆ°ä¸€ä¸ªæ•°æ®æ¡†æ¶ä¸­ã€‚</li><li id="41d6" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu nj md me mf bi translated">ç”±äºç¼ºå°‘å€¼ã€é”™è¯¯çš„æ•°æ®ç±»å‹å’Œæ¥è‡ªæ¸¸è½®çš„æ¡ˆä¾‹ï¼Œæ‰§è¡Œæ•°æ®æ¸…ç†ã€‚</li><li id="7d57" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu nj md me mf bi translated">æ•°æ®æ±‡æ€»:å¢åŠ ä¸€ä¸ªæ´»åŠ¨æ¡ˆä¾‹åˆ—<strong class="lb iu"> <em class="lv">æ´»åŠ¨</em> </strong>ï¼Œç”±<code class="fe nk nl nm nn b">active_case = confirmed â€” deaths â€” recovered</code>è®¡ç®—ã€‚å°†æ•°æ®èšé›†åˆ°<code class="fe nk nl nm nn b">Country/Region</code> wiseä¸­ï¼Œå¹¶æŒ‰ç…§<code class="fe nk nl nm nn b">Date</code>å’Œ<code class="fe nk nl nm nn b">Country/Region</code>å¯¹å®ƒä»¬è¿›è¡Œåˆ†ç»„ã€‚ä¹‹åï¼ŒåŠ ä¸Šå½“æ—¥æ–°å¢<strong class="lb iu"> <em class="lv">ç—…ä¾‹</em> </strong>ï¼Œ<strong class="lb iu"> <em class="lv">æ–°å¢æ­»äº¡</em> </strong>å’Œ<strong class="lb iu"> <em class="lv">æ–°å¢ç—Šæ„ˆ</em> </strong>å‡å»å‰ä¸€æ—¥ç›¸åº”çš„ç´¯è®¡æ•°æ®ã€‚</li></ol><p id="6b9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åœ¨æ•°æ®å¤„ç†çš„æœ€åï¼Œæˆ‘å°†ç”¨Altairå±•ç¤º2ä¸ªç®€å•çš„æ•°æ®å¯è§†åŒ–ä»¥ä¾›æ¼”ç¤ºã€‚</p><h1 id="4161" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">é€æ­¥ä¸‹è½½ï¼ŒåŠ è½½ï¼Œåˆå¹¶ï¼Œæ¸…ç†å’Œæ±‡æ€»æ–°å† è‚ºç‚æ•°æ®</h1><p id="e05f" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">è®©æˆ‘ä»¬å¯¼å…¥æˆ‘ä»¬éœ€è¦çš„åº“</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="0314" class="ns mm it nn b gy nt nu l nv nw">import pandas as pd<br/>import wget</span></pre><h2 id="7d3f" class="ns mm it bd mn nx ny dn mr nz oa dp mv li ob oc mx lm od oe mz lq of og nb oh bi translated">1.ä¸‹è½½åŸå§‹æ•°æ®é›†</h2><p id="a8b5" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">è¿›å…¥çº¦ç¿°éœæ™®é‡‘æ–¯CSSEå…¬å…±<a class="ae ky" href="https://github.com/CSSEGISandData/COVID-19" rel="noopener ugc nofollow" target="_blank"> Githubé¡µé¢</a>å¹¶å¯¼èˆªè‡³<strong class="lb iu">csse _ covid _ 19 _ data/CSS _ covid _ 19 _ time _ series/</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/1e3f5e19fd1ce2366c01418de439cc39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ejgL4LA9oKoBBcdmY2B7Mg.png"/></div></div></figure><p id="f3a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å•å‡»å…¨å±€CSVæ•°æ®é›†ï¼Œç„¶åå•å‡»â€œåŸå§‹â€æŒ‰é’®è·å–æ•°æ®urlã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/c222ce7f6f831ce34572ad27af91a344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TSLYuZzE8MXVE-mgxFJUCQ.png"/></div></div></figure><p id="50eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç„¶åï¼Œå°†è¿™äº›URLä¿å­˜åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œå¹¶ä½¿ç”¨<code class="fe nk nl nm nn b">wget.download()</code>ä¸‹è½½</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="bd59" class="ns mm it nn b gy nt nu l nv nw"># url of the raw csv dataset<br/>urls = [<br/>    '<a class="ae ky" href="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv'" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv'</a>,<br/>    '<a class="ae ky" href="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv'" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv'</a>,<br/>    '<a class="ae ky" href="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv'" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv'</a><br/>]</span><span id="a63f" class="ns mm it nn b gy ok nu l nv nw">[wget.download(url) for url in urls]</span></pre><p id="ee7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸€æ—¦ä¸‹è½½å®Œæˆï¼Œå®ƒåº”è¯¥è¾“å‡ºå¦‚ä¸‹ï¼Œè¿™3ä¸ªæ–‡ä»¶åº”è¯¥å‡ºç°åœ¨æ‚¨çš„å·¥ä½œç›®å½•ã€‚</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="9922" class="ns mm it nn b gy nt nu l nv nw">['time_series_covid19_confirmed_global.csv',<br/> 'time_series_covid19_deaths_global.csv',<br/> 'time_series_covid19_recovered_global.csv']</span></pre><h2 id="e78a" class="ns mm it bd mn nx ny dn mr nz oa dp mv li ob oc mx lm od oe mz lq of og nb oh bi translated">2.åŠ è½½æ•°æ®é›†å¹¶æå–æ—¥æœŸåˆ—è¡¨</h2><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="8367" class="ns mm it nn b gy nt nu l nv nw">confirmed_df = pd<br/>    .read_csv('time_series_covid19_confirmed_global.csv')</span><span id="f591" class="ns mm it nn b gy ok nu l nv nw">deaths_df = pd<br/>    .read_csv('time_series_covid19_deaths_global.csv')</span><span id="5f23" class="ns mm it nn b gy ok nu l nv nw">recovered_df = pd<br/>    .read_csv('time_series_covid19_recovered_global.csv')</span></pre><p id="e0a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è®©æˆ‘ä»¬å¿«é€Ÿçœ‹ä¸€ä¸‹æ•°æ®ï¼Œä¾‹å¦‚ï¼Œ<code class="fe nk nl nm nn b">confirmed_df.head()</code>æ˜¾ç¤º93åˆ—ã€‚åœ¨<code class="fe nk nl nm nn b">deaths_df</code>å’Œ<code class="fe nk nl nm nn b">recovered_df</code>ä¸Šåº”è¯¥æ˜¯ä¸€æ ·çš„</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/2a5bad9e889ccbe3acab01f55c1d74b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*tHvY-OQMehWOqR_JoRGoIA.gif"/></div></div></figure><p id="e69c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">é€šè¿‡è¿è¡Œ<code class="fe nk nl nm nn b">confirmed_df.columns</code>ã€<code class="fe nk nl nm nn b">deaths_df.columns</code>å’Œ<code class="fe nk nl nm nn b">recovered_df.columns</code>ï¼Œå®ƒä»¬éƒ½åº”è¯¥è¾“å‡ºå¦‚ä¸‹ç›¸åŒçš„ç»“æœ:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/8e375da0111f660ec1614acd19a15a4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q-XWCCELRRWQpaGqrAr6xQ.png"/></div></div></figure><p id="2db7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¯·æ³¨æ„ï¼Œä»ç¬¬4åˆ—å¼€å§‹ï¼Œæ‰€æœ‰åˆ—éƒ½æ˜¯æ—¥æœŸï¼Œä»¥è·å–æ—¥æœŸåˆ—è¡¨<code class="fe nk nl nm nn b">confirmed_df.columns[4:]</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/76e1574229cb41a77c81c6e94b0699e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qOD5xNkDtz-HIoU8DhRvrA.png"/></div></div></figure><h2 id="8c4d" class="ns mm it bd mn nx ny dn mr nz oa dp mv li ob oc mx lm od oe mz lq of og nb oh bi translated">3.åˆå¹¶ç¡®è®¤ï¼Œæ­»äº¡å’Œæ¢å¤</h2><p id="89ea" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">åœ¨åˆå¹¶ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<code class="fe nk nl nm nn b">melt()</code>å°†æ•°æ®å¸§ä»å½“å‰çš„å®½æ ¼å¼è½¬æ¢ä¸ºé•¿æ ¼å¼ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰çš„æ—¥æœŸåˆ—éƒ½è½¬æ¢æˆäº†å€¼ã€‚ä»¥ä¸‹æ˜¯ç›¸å…³çš„ä¸»è¦è®¾ç½®:</p><ul class=""><li id="8242" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu mc md me mf bi translated">ä½¿ç”¨<code class="fe nk nl nm nn b">â€˜Province/Stateâ€™</code>ã€<code class="fe nk nl nm nn b">â€˜Country/Regionâ€™</code>ã€<code class="fe nk nl nm nn b"> â€˜Latâ€™</code>ã€<code class="fe nk nl nm nn b">â€˜Longâ€™</code>ä½œä¸ºæ ‡è¯†ç¬¦å˜é‡ã€‚æˆ‘ä»¬ç¨åå°†ä½¿ç”¨å®ƒä»¬è¿›è¡Œåˆå¹¶ã€‚</li><li id="4746" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated">ç”¨å˜é‡åˆ—<code class="fe nk nl nm nn b">â€˜Dateâ€™</code>å’Œå€¼åˆ—<code class="fe nk nl nm nn b"> â€˜Confirmedâ€™</code>å–æ¶ˆé€è§†æ—¥æœŸåˆ—(å¦‚æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„<code class="fe nk nl nm nn b">columns[4:]</code></li></ul><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="78df" class="ns mm it nn b gy nt nu l nv nw">dates = confirmed_df<strong class="nn iu">.columns[4:]</strong></span><span id="abe6" class="ns mm it nn b gy ok nu l nv nw">confirmed_df_long = confirmed_df.melt(<br/>    <strong class="nn iu">id_vars=['Province/State', 'Country/Region', 'Lat', 'Long'],</strong> <br/>    <strong class="nn iu">value_vars=dates, </strong><br/>    <strong class="nn iu">var_name='Date', </strong><br/>    <strong class="nn iu">value_name='Confirmed'</strong><br/>)</span><span id="4e38" class="ns mm it nn b gy ok nu l nv nw">deaths_df_long = deaths_df.melt(<br/>    <strong class="nn iu">id_vars=['Province/State', 'Country/Region', 'Lat', 'Long'], </strong><br/>    <strong class="nn iu">value_vars=dates, <br/>    var_name='Date', <br/>    value_name='Deaths'</strong><br/>)</span><span id="2166" class="ns mm it nn b gy ok nu l nv nw">recovered_df_long = recovered_df.melt(<br/>    <strong class="nn iu">id_vars=['Province/State', 'Country/Region', 'Lat', 'Long'], <br/>    value_vars=dates, <br/>    var_name='Date', <br/>    value_name='Recovered'</strong><br/>)</span></pre><p id="f8b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä»¥ä¸Šåº”è¯¥è¿”å›æ–°çš„é•¿æ•°æ®å¸§ã€‚å®ƒä»¬éƒ½æ˜¯æŒ‰<strong class="lb iu"> <em class="lv">æ—¥æœŸ</em> </strong>å’Œ<strong class="lb iu"> <em class="lv">å›½å®¶/åœ°åŒº</em> </strong>æ’åºçš„ï¼Œå› ä¸ºåŸå§‹æ•°æ®å·²ç»æŒ‰<strong class="lb iu"> <em class="lv">å›½å®¶/åœ°åŒº</em> </strong>æ’åºï¼Œæ—¥æœŸåˆ—å·²ç»æŒ‰ASCæ’åºã€‚</p><p id="9435" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™é‡Œæ˜¯<code class="fe nk nl nm nn b">confirmed_df_long</code>çš„ä¾‹å­</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/897005e06704035e3f3723a7df7b5edb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LpD1J0WL24Sm2ruqZqhc-Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><code class="fe nk nl nm nn b">confirmed_df_long</code>çš„ä¾‹å­</p></figure><p id="d23c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ­¤å¤–ï¼Œç”±äºä¸åŒ¹é…é—®é¢˜ï¼Œæˆ‘ä»¬å¿…é¡»åˆ é™¤åŠ æ‹¿å¤§çš„æ¢å¤æ•°æ®(ğŸ¤·åŠ æ‹¿å¤§â€â™‚æ¢å¤çš„æ•°æ®æŒ‰å›½å®¶ç»Ÿè®¡ï¼Œè€Œä¸æ˜¯æŒ‰çœ/å·ç»Ÿè®¡)ã€‚</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="fd79" class="ns mm it nn b gy nt nu l nv nw">recovered_df_long = recovered_df_long[<strong class="nn iu">recovered_df_long['Country/Region']!='Canada'</strong>]</span></pre><p id="7bc3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨<code class="fe nk nl nm nn b">merge()</code>ä¾æ¬¡åˆå¹¶3ä¸ªæ•°æ®å¸§</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="336b" class="ns mm it nn b gy nt nu l nv nw"># Merging <strong class="nn iu">confirmed_df_long</strong> and <strong class="nn iu">deaths_df_long</strong><br/>full_table = <strong class="nn iu">confirmed_df_long</strong>.merge(<br/>  right=<strong class="nn iu">deaths_df_long</strong>, <br/>  how='left',<br/><strong class="nn iu">  on=['Province/State', 'Country/Region', 'Date', 'Lat', 'Long']<br/></strong>)</span><span id="2d0c" class="ns mm it nn b gy ok nu l nv nw"># Merging <strong class="nn iu">full_table</strong> and <strong class="nn iu">recovered_df_long</strong><br/>full_table = <strong class="nn iu">full_table</strong>.merge(<br/>  right=<strong class="nn iu">recovered_df_long</strong>, <br/>  how='left',<br/><strong class="nn iu">  on=['Province/State', 'Country/Region', 'Date', 'Lat', 'Long']<br/></strong>)</span></pre><p id="ce4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬åº”è¯¥å¾—åˆ°ä¸€ä¸ªåŒ…å«<code class="fe nk nl nm nn b">Confirmed</code>ã€<code class="fe nk nl nm nn b">Deaths</code>å’Œ<code class="fe nk nl nm nn b">Recovered</code>åˆ—çš„å®Œæ•´è¡¨æ ¼</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/fc7fb4055d955293a07c4efdc11d0ff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XUF7mx9OfZaJWtUwbmFMSA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">åŒ…å«å·²ç¡®è®¤ã€æ­»äº¡å’Œå·²æ¢å¤çš„full_tableç¤ºä¾‹</p></figure><h2 id="6672" class="ns mm it bd mn nx ny dn mr nz oa dp mv li ob oc mx lm od oe mz lq of og nb oh bi translated">4.æ‰§è¡Œæ•°æ®æ¸…ç†</h2><p id="26ca" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">æˆ‘ä»¬å¸Œæœ›å®Œæˆ3é¡¹ä»»åŠ¡</p><ol class=""><li id="24bb" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu nj md me mf bi translated">å°†æ—¥æœŸä»å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´</li><li id="1183" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu nj md me mf bi translated">æ›¿æ¢ä¸¢å¤±çš„å€¼<code class="fe nk nl nm nn b">NaN</code></li><li id="c261" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu nj md me mf bi translated">3è‰˜é‚®è½®æŠ¥å‘Šçš„å† çŠ¶ç—…æ¯’ç—…ä¾‹åº”åŒºåˆ«å¯¹å¾…</li></ol><p id="433c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œæ–°çš„<strong class="lb iu"> <em class="lv">æ—¥æœŸ</em> </strong>åˆ—ä¸­çš„å€¼éƒ½æ˜¯å…·æœ‰<strong class="lb iu"> m/dd/yy </strong>æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚è¦å°†<strong class="lb iu"> <em class="lv">æ—¥æœŸ</em> </strong>å€¼ä»å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨<code class="fe nk nl nm nn b">DataFrame.to_datetime()</code></p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="44ec" class="ns mm it nn b gy nt nu l nv nw">full_table['Date'] = <strong class="nn iu">pd.to_datetime(full_table['Date'])</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/a1fede77015f8832d8cb864c816723f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZESvqkxszPPy8Ywg-wOUoA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">to_datetime()ä¹‹åçš„è¾“å‡º</p></figure><p id="3270" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿è¡Œ<code class="fe nk nl nm nn b">full_table.isna().sum()</code>å¯ä»¥æ£€æµ‹ç¼ºå¤±å€¼<code class="fe nk nl nm nn b">NaN</code></p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="a712" class="ns mm it nn b gy nt nu l nv nw">full_table.isna().sum()</span><span id="e917" class="ns mm it nn b gy ok nu l nv nw">Province/State    16198<br/>Country/Region        0<br/>Lat                   0<br/>Long                  0<br/>Date                  0<br/>Confirmed             0<br/>Deaths                0<br/>Recovered          1602<br/>dtype: int64</span></pre><p id="e7c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘ä»¬åœ¨<strong class="lb iu"> <em class="lv">çœ/å·</em> </strong>ä¸­å‘ç°äº†å¾ˆå¤š<code class="fe nk nl nm nn b">NaN</code>ï¼Œè¿™æ˜¯æœ‰é“ç†çš„ï¼Œå› ä¸ºè®¸å¤šå›½å®¶åªæŠ¥å‘Šå›½å®¶çº§æ•°æ®ã€‚ä½†æ˜¯<strong class="lb iu"> <em class="lv">ä¸­æœ‰1602ä¸ªnanè¢«æ¢å¤</em> </strong>è®©æˆ‘ä»¬ç”¨<code class="fe nk nl nm nn b">0</code>æ¥ä»£æ›¿ã€‚</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="1d9e" class="ns mm it nn b gy nt nu l nv nw">full_table['Recovered'] = <strong class="nn iu">full_table['Recovered'].fillna(0)</strong></span></pre><p id="aad7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">é™¤äº†ç¼ºå¤±å€¼ï¼Œè¿˜æœ‰3è‰˜é‚®è½®æŠ¥å‘Šçš„å† çŠ¶ç—…æ¯’ç—…ä¾‹:<strong class="lb iu">å¤§å…¬ä¸»</strong>ã€<strong class="lb iu">é’»çŸ³å…¬ä¸»</strong>å’Œ<strong class="lb iu"> MS Zaandam </strong>ã€‚ç”±äº<strong class="lb iu"> <em class="lv">çœ/å·</em> </strong>å’Œ<strong class="lb iu"> <em class="lv">å›½å®¶/åœ°åŒº</em> </strong>éšç€æ—¶é—´çš„æ¨ç§»ä¸åŒ¹é…ï¼Œéœ€è¦æå–è¿™äº›æ•°æ®å¹¶åŒºåˆ«å¯¹å¾…ã€‚è¿™å°±æ˜¯æˆ‘æ‰€è¯´çš„:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/8c6bc032d31d52b2037374159db3e7ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PyUG8vcn7Md3on3hcopkjA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><code class="fe nk nl nm nn b">full_ship</code>çš„é”™é…é—®é¢˜</p></figure><p id="f2ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™æ˜¯æˆ‘ä»¬å¦‚ä½•æå–èˆ¹åªæ•°æ®ã€‚</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="1d34" class="ns mm it nn b gy nt nu l nv nw"><strong class="nn iu">ship_rows</strong> = full_table['Province/State'].str.contains('Grand Princess') | full_table['Province/State'].str.contains('Diamond Princess') | full_table['Country/Region'].str.contains('Diamond Princess') | full_table['Country/Region'].str.contains('MS Zaandam')</span><span id="78e6" class="ns mm it nn b gy ok nu l nv nw">full_ship = <strong class="nn iu">full_table[ship_rows]</strong></span></pre><p id="2030" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¹¶ä»<code class="fe nk nl nm nn b">full_table</code>ä¸­å»æ‰é£èˆ¹æ•°æ®:</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="cdf4" class="ns mm it nn b gy nt nu l nv nw">full_table = full_table[~(ship_rows)]</span></pre><p id="7a47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 5ã€‚æ•°æ®æ±‡æ€»</strong></p><p id="20d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‰€æœ‰çš„<strong class="lb iu"> <em class="lv">ç¡®è®¤</em></strong><strong class="lb iu"><em class="lv">æ­»äº¡</em></strong><strong class="lb iu"><em class="lv">æ¢å¤</em> </strong>éƒ½æ˜¯æ¥è‡ªåŸå§‹CSVæ•°æ®é›†çš„ç°æœ‰æ•°æ®ã€‚æˆ‘ä»¬æ¥æ·»åŠ ä¸€ä¸ªæ´»åŠ¨æ¡ˆä¾‹åˆ—<strong class="lb iu"> <em class="lv">æ´»åŠ¨</em> </strong>ï¼Œç”±<code class="fe nk nl nm nn b">active = confirmed â€” deaths â€” recovered</code>è®¡ç®—ã€‚</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="3963" class="ns mm it nn b gy nt nu l nv nw"># Active Case = confirmed - deaths - recovered<br/>full_table[<strong class="nn iu">'Active'</strong>] = <strong class="nn iu">full_table['Confirmed'] - full_table['Deaths'] - full_table['Recovered']</strong></span></pre><p id="d6d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™é‡Œæ˜¯<code class="fe nk nl nm nn b">full_table</code>ç°åœ¨çš„æ ·å­ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/26f7409a066cff062153094025231821.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DKhmM-NIp5rvuyUeLd2GTA.png"/></div></div></figure><p id="6a98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬å°†æ•°æ®èšé›†åˆ°<code class="fe nk nl nm nn b">Country/Region</code> wiseä¸­ï¼Œå¹¶æŒ‰ç…§<code class="fe nk nl nm nn b">Date</code>å’Œ<code class="fe nk nl nm nn b">Country/Region</code>å¯¹å®ƒä»¬è¿›è¡Œåˆ†ç»„ã€‚</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="9fad" class="ns mm it nn b gy nt nu l nv nw">full_grouped = full_table.<strong class="nn iu">groupby</strong>(['Date', 'Country/Region'])['Confirmed', 'Deaths', 'Recovered', 'Active']<strong class="nn iu">.sum().reset_index()</strong></span></pre><ul class=""><li id="9c75" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu mc md me mf bi translated"><code class="fe nk nl nm nn b">sum()</code>æ˜¯è·å–ç»™å®š<strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv">å›½å®¶/åœ°åŒºçš„â€œç¡®è¯Šâ€ã€â€œæ­»äº¡â€ã€â€œåº·å¤â€ã€â€œæ´»è·ƒâ€æ€»æ•°ã€‚</em>T71ã€‘</strong></li><li id="1db7" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated"><code class="fe nk nl nm nn b">reset_index()</code>é‡ç½®æŒ‡æ ‡ï¼Œä½¿ç”¨é»˜è®¤æŒ‡æ ‡ï¼Œå³<strong class="lb iu"> <em class="lv">æ—¥æœŸ</em> </strong>å’Œ<strong class="lb iu"> <em class="lv">å›½å®¶/åœ°åŒºã€‚</em>T12ã€‘</strong></li></ul><p id="18e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™æ˜¯<code class="fe nk nl nm nn b">full_grouped</code>ç°åœ¨çš„æ ·å­</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/ab66fbe77851e4f442a1cb81194cf695.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E4FHvALJlWJaaXJB8kyFmQ.png"/></div></div></figure><p id="1a17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç°åœ¨è®©æˆ‘ä»¬é€šè¿‡æ‰£é™¤å‰ä¸€å¤©ç›¸åº”çš„ç´¯è®¡æ•°æ®æ¥æ·»åŠ å½“æ—¥æ˜æ™º<strong class="lb iu"> <em class="lv">æ–°å¢ç—…ä¾‹</em></strong><strong class="lb iu"><em class="lv">æ–°å¢æ­»äº¡ç—…ä¾‹</em> </strong>å’Œ<strong class="lb iu"> <em class="lv">æ–°å¢ç—Šæ„ˆç—…ä¾‹</em> </strong>ã€‚</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="ecb7" class="ns mm it nn b gy nt nu l nv nw"># new cases <br/>temp = full_grouped.groupby(['Country/Region', 'Date', ])['Confirmed', 'Deaths', 'Recovered']<br/>temp = temp.sum().diff().reset_index()</span><span id="74dd" class="ns mm it nn b gy ok nu l nv nw">mask = temp['Country/Region'] != temp['Country/Region'].shift(1)</span><span id="510b" class="ns mm it nn b gy ok nu l nv nw">temp.loc[mask, 'Confirmed'] = np.nan<br/>temp.loc[mask, 'Deaths'] = np.nan<br/>temp.loc[mask, 'Recovered'] = np.nan</span><span id="b91c" class="ns mm it nn b gy ok nu l nv nw"># renaming columns<br/>temp.columns = ['Country/Region', 'Date', 'New cases', 'New deaths', 'New recovered']</span><span id="ede2" class="ns mm it nn b gy ok nu l nv nw"># merging new values<br/>full_grouped = pd.merge(full_grouped, temp, on=['Country/Region', 'Date'])</span><span id="1a9f" class="ns mm it nn b gy ok nu l nv nw"># filling na with 0<br/>full_grouped = full_grouped.fillna(0)</span><span id="d102" class="ns mm it nn b gy ok nu l nv nw"># fixing data types<br/>cols = ['New cases', 'New deaths', 'New recovered']<br/>full_grouped[cols] = full_grouped[cols].astype('int')</span><span id="e239" class="ns mm it nn b gy ok nu l nv nw"># <br/>full_grouped['New cases'] = full_grouped['New cases'].apply(lambda x: 0 if x&lt;0 else x)</span></pre><p id="e3a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æœ€åè¿™é‡Œæ˜¯<code class="fe nk nl nm nn b">full_grouped</code>ã€‚è¯·æ³¨æ„ï¼Œè¿™ä¸ªæœ€ç»ˆè¾“å‡ºæ˜¯å›½å®¶çº§æ•°æ®</p><ul class=""><li id="8c6b" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu mc md me mf bi translated"><strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong>ä¸ºç´¯è®¡æ•°æ®ã€‚</li><li id="f6db" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated"><strong class="lb iu"> <em class="lv">æ–°å¢ç—…ä¾‹</em> </strong>ï¼Œ<strong class="lb iu"> <em class="lv">æ–°å¢æ­»äº¡ç—…ä¾‹</em> </strong>å’Œ<strong class="lb iu"> <em class="lv">æ–°å¢ç—Šæ„ˆç—…ä¾‹</em> </strong>å‡ä¸ºæ—¥æ˜æ™ºæ•°æ®ã€‚</li><li id="36b6" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated">æœ¬æ•°æ®å¸§æŒ‰<strong class="lb iu"> <em class="lv">æ—¥æœŸ</em> </strong>å’Œ<strong class="lb iu"> <em class="lv">å›½å®¶/åœ°åŒº</em> </strong>æ’åºã€‚</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lw"><img src="../Images/430325aea649055b79fa4a32ff02ad67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i4mVLCfgzmtclxMINIZDHA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">æœ€åï¼Œè¿™é‡Œæ˜¯<code class="fe nk nl nm nn b">full_grouped</code>çš„æ•°æ®</p></figure><p id="fc42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æœ€åï¼Œæ‚¨å¯ä»¥å°†è¿™äº›æœ€ç»ˆæ•°æ®ä¿å­˜åˆ°CSVæ–‡ä»¶ä¸­:</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="b5c1" class="ns mm it nn b gy nt nu l nv nw">full_grouped.<strong class="nn iu">to_csv</strong>('COVID-19-time-series-clean-complete.csv')</span></pre><h1 id="f3c3" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">æ•°æ®æ¢ç´¢</h1><p id="43d8" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">ä¸ºäº†ç®€å•èµ·è§ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨Pythonæ•°æ®å¯è§†åŒ–åº“Altairæ¥åˆ›å»ºä¸€äº›ç®€å•çš„å¯è§†åŒ–ã€‚Altairæ˜¯Pythonçš„å£°æ˜å¼ç»Ÿè®¡å¯è§†åŒ–åº“ï¼ŒåŸºäº<a class="ae ky" href="http://vega.github.io/vega" rel="noopener ugc nofollow" target="_blank"> Vega </a>å’Œ<a class="ae ky" href="http://vega.github.io/vega-lite" rel="noopener ugc nofollow" target="_blank"> Vega-Lite </a>ã€‚Altairæä¾›äº†å¼ºå¤§è€Œç®€æ´çš„å¯è§†åŒ–è¯­æ³•ï¼Œä½¿æ‚¨èƒ½å¤Ÿå¿«é€Ÿæ„å»ºå„ç§å„æ ·çš„ç»Ÿè®¡å¯è§†åŒ–ã€‚</p><p id="574e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¯¹äºAltairå®‰è£…ï¼Œæˆ‘å¼ºçƒˆå»ºè®®åˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿç¯å¢ƒï¼Œå› ä¸ºAltairæœ‰å¾ˆå¤šä¾èµ–é¡¹ã€‚ç„¶åï¼Œæ¿€æ´»ä½ çš„è™šæ‹Ÿç¯å¢ƒï¼Œè¿è¡Œ<code class="fe nk nl nm nn b">pip install altair vega_datasets</code>æ¥å®‰è£…Altairä»¥åŠ<a class="ae ky" href="https://github.com/altair-viz/vega_datasets" rel="noopener ugc nofollow" target="_blank"> vega_datasets </a>ä¸­çš„ç¤ºä¾‹æ•°æ®é›†ã€‚</p><p id="c2ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å…³äºè™šæ‹Ÿç¯å¢ƒçš„æ•™ç¨‹ï¼Œå¯ä»¥çœ‹çœ‹:</p><div class="ou ov gp gr ow ox"><a rel="noopener follow" target="_blank" href="/create-virtual-environment-using-virtualenv-and-add-it-to-jupyter-notebook-6e1bf4e03415"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd iu gy z fp pc fr fs pd fu fw is bi translated">ä½¿ç”¨â€œvirtualenvâ€åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°Jupyterç¬”è®°æœ¬ä¸­</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">ä½ æ˜¯æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆï¼Œæ­£åœ¨ä½¿ç”¨Pythonå’ŒJupyter Notebookå—ï¼Ÿåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä½ ä¼šçœ‹åˆ°ä¸ºä»€ä¹ˆâ€¦</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl ks ox"/></div></div></a></div><div class="ou ov gp gr ow ox"><a href="https://medium.com/analytics-vidhya/create-virtual-environment-using-conda-and-add-it-to-jupyter-notebook-d319a81dfd1" rel="noopener follow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd iu gy z fp pc fr fs pd fu fw is bi translated">ä½¿ç”¨â€œcondaâ€åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°Jupyterç¬”è®°æœ¬ä¸­</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">ä½ æ­£åœ¨ä½¿ç”¨anacondaå’Œä½¿ç”¨Jupyter Notebookå’ŒPythonå—ï¼Ÿåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä½ å°†çœ‹åˆ°å¦‚ä½•åˆ›å»ºè™šæ‹Ÿçš„â€¦</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">medium.com</p></div></div><div class="pg l"><div class="pm l pi pj pk pg pl ks ox"/></div></div></a></div><h2 id="b208" class="ns mm it bd mn nx ny dn mr nz oa dp mv li ob oc mx lm od oe mz lq of og nb oh bi translated">æ˜¾ç¤ºæ€»ç—…ä¾‹å’Œæ¯æ—¥ç—…ä¾‹</h2><p id="0d91" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬å¯¼å…¥åº“ï¼ŒåŠ è½½æ•°æ®å¹¶é€‰æ‹©ä¸€ä¸ªå›½å®¶ï¼Œä¾‹å¦‚è‹±å›½:</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="4e98" class="ns mm it nn b gy nt nu l nv nw">import pandas as pd<br/>import altair as alt</span><span id="8ca6" class="ns mm it nn b gy ok nu l nv nw">full_grouped = pd.read_csv('COVID-19-time-series-clean-complete.csv', <strong class="nn iu">parse_dates=['Date']</strong>)</span><span id="e72d" class="ns mm it nn b gy ok nu l nv nw">uk = full_grouped[<strong class="nn iu">full_grouped['Country/Region'] == 'United Kingdom'</strong>]</span></pre><p id="e9fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç„¶åï¼Œè®©æˆ‘ä»¬ç”¨å…¬å…±å…ƒç´ åˆ›å»ºä¸€ä¸ªåŸºç¡€å›¾è¡¨</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="5f39" class="ns mm it nn b gy nt nu l nv nw">base = alt.Chart(uk).mark_bar().encode(<br/>    <strong class="nn iu">x='monthdate(Date):O',</strong><br/>).properties(<br/>    width=500<br/>)</span></pre><p id="c21d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe nk nl nm nn b">|</code>æ“ä½œç¬¦æ°´å¹³è¿æ¥</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/feb5d20d8c6edae8de50c44c91e05544.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JTzvcbEkpX_xBhCJTkSK0g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ä¸€æ®µæ—¶é—´å†…çš„æ€»ç¡®è¯Šäººæ•°å’Œæ€»æ­»äº¡äººæ•°</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/c7843265394ffa3bde4b0855ffb0560a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hba1k6NDc0YQIVDVmv75Hw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ä¸€æ®µæ—¶é—´å†…æ¯æ—¥æ–°å¢ç—…ä¾‹å’Œæ¯æ—¥æ–°å¢æ­»äº¡äººæ•°</p></figure><h2 id="ca9f" class="ns mm it bd mn nx ny dn mr nz oa dp mv li ob oc mx lm od oe mz lq of og nb oh bi translated">æ˜¾ç¤ºå† çŠ¶ç—…æ¯’çš„ä¼ æ’­</h2><p id="6f97" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬å¯¼å…¥åº“ï¼ŒåŠ è½½æ•°æ®å¹¶é€‰æ‹©ä¸€ä¸ªå›½å®¶åˆ—è¡¨</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="631b" class="ns mm it nn b gy nt nu l nv nw">import pandas as pd<br/>import altair as alt</span><span id="1e0c" class="ns mm it nn b gy ok nu l nv nw">full_grouped = pd.read_csv('COVID-19-time-series-clean-complete.csv', <strong class="nn iu">parse_dates=['Date']</strong>)</span><span id="5a92" class="ns mm it nn b gy ok nu l nv nw">countries = ['US', 'Italy', 'China', 'Spain', 'Germany', 'France', 'Iran', 'United Kingdom', 'Switzerland']</span><span id="207e" class="ns mm it nn b gy ok nu l nv nw">selected_countries = full_grouped[full_grouped['Country/Region']<strong class="nn iu">.isin(countries)</strong>]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/21e1d28e4743b019eacae173f292972e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8zgXQHUQNW9xU6ukwr1wIQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">é€‰å®š_å›½å®¶</p></figure><p id="a4a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåœ†å½¢å›¾è¡¨æ¥æ˜¾ç¤ºå½“å¤©æ˜æ™ºçš„<strong class="lb iu"> <em class="lv">æ–°å¢ç—…ä¾‹</em> </strong>ï¼Œ</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="d7f3" class="ns mm it nn b gy nt nu l nv nw">alt.Chart(selected_countries).<strong class="nn iu">mark_circle()</strong>.encode(<br/>    <strong class="nn iu">x='monthdate(Date):O',</strong><br/>    <strong class="nn iu">y='Country/Region',</strong><br/>    <strong class="nn iu">color='Country/Region',</strong><br/>    size=alt.Size(<strong class="nn iu">'New cases:Q'</strong>,<br/>        scale=alt.Scale(range=[0, 1000]),<br/>        legend=alt.Legend(title='Daily new cases')<br/>    ) <br/>).properties(<br/>    width=800,<br/>    height=300<br/>)</span></pre><p id="4637" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™æ˜¯è¾“å‡º</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/4b170807037e2c4cd121341216d09caf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sda5hN48Q76bjW8L46gmgQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">æ¯æ—¥æ–°ç—…ä¾‹åœ†å½¢å›¾</p></figure><h1 id="9b3b" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">å°½æƒ…äº«å—å§ï¼</h1><p id="60f7" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯å‘å¤§å®¶å±•ç¤ºå¦‚ä½•ä½¿ç”¨Pandasé€æ­¥å¤„ç†æ–°å† è‚ºç‚æ•°æ®ã€‚åœ¨æ•°æ®æ¢ç´¢éƒ¨åˆ†åªæœ‰ä¸¤ä¸ªç®€å•çš„ä¾‹å­æ¥æ¼”ç¤ºã€‚</p><p id="32e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¦‚æœä½ æœ‰å…´è¶£å­¦ä¹ ç‰›éƒæ˜Ÿï¼Œå¯ä»¥çœ‹çœ‹ä¸‹é¢ä¸¤ç¯‡æ–‡ç« ã€‚</p><div class="ou ov gp gr ow ox"><a rel="noopener follow" target="_blank" href="/python-interactive-data-visualization-with-altair-b4c4664308f8"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd iu gy z fp pc fr fs pd fu fw is bi translated">ç”¨Altairå®ç°Pythonäº¤äº’å¼æ•°æ®å¯è§†åŒ–</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">ç”¨ä¸åˆ°20è¡Œä»£ç åˆ›å»ºäº¤äº’å¼å›¾è¡¨ã€‚</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="pr l pi pj pk pg pl ks ox"/></div></div></a></div><div class="ou ov gp gr ow ox"><a rel="noopener follow" target="_blank" href="/interactive-data-visualization-for-exploring-coronavirus-spreads-f33cabc64043"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd iu gy z fp pc fr fs pd fu fw is bi translated">æ¢ç´¢å† çŠ¶ç—…æ¯’ä¼ æ’­çš„äº¤äº’å¼æ•°æ®å¯è§†åŒ–</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">ä½¿ç”¨Altairåˆ›å»ºä¸åˆ°30è¡Œä»£ç çš„äº¤äº’å¼å¤åˆå›¾è¡¨</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="ps l pi pj pk pg pl ks ox"/></div></div></a></div><p id="b6c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¤§æ¦‚å°±æ˜¯è¿™æ ·ã€‚æ„Ÿè°¢é˜…è¯»</p></div></div>    
</body>
</html>