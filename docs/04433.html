<html>
<head>
<title>COVID-19 data processing with Pandas DataFrame</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫数据框架的新冠肺炎数据处理</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/covid-19-data-processing-58aaa3663f6?source=collection_archive---------2-----------------------#2020-04-21">https://towardsdatascience.com/covid-19-data-processing-58aaa3663f6?source=collection_archive---------2-----------------------#2020-04-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a2a4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">下载、加载、合并、清理和聚合新冠肺炎时间序列数据的分步指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8de2f5bfabe9d49c6fa877d4c3f1ceba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gdQFf793fWKDhDQ0kxa-Ew.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@uniqueton?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">安东</a>在<a class="ae ky" href="https://unsplash.com/s/photos/covid-19?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="e05d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几天前我发表了一篇文章，展示了一步一步构建用于探索冠状病毒传播的<a class="ae ky" rel="noopener" target="_blank" href="/interactive-data-visualization-for-exploring-coronavirus-spreads-f33cabc64043">交互式数据可视化的教程。一些人在上面留下了私人笔记，专门询问数据处理步骤。</a></p><p id="8a69" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，我张贴一步一步的教程来下载，加载，合并，清理和汇总新冠肺炎时间序列数据。数据由约翰·霍普金斯大学系统科学与工程中心(JHU·CSSE)提供，他们在Github的公共页面上分享了他们的数据。约翰霍普金斯CSSE汇总了主要来源的数据，如世界卫生组织、国家和地区公共卫生机构。这些数据免费提供，并且每天更新。</p><p id="746f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们进入细节之前，我想给你看一下新冠肺炎数据处理的最终结果。<strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong>均为累计数据。<strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv">新增病例</em> </strong>均为日明智数据。本数据帧按<strong class="lb iu"> <em class="lv">日期</em> </strong>和<strong class="lb iu"> <em class="lv">国家/地区</em> </strong>排序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lw"><img src="../Images/430325aea649055b79fa4a32ff02ad67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i4mVLCfgzmtclxMINIZDHA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">新冠肺炎数据处理的最终输出</p></figure><p id="41ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，我还要感谢以下项目提供的新冠肺炎数据处理思路:</p><ul class=""><li id="efa9" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu mc md me mf bi translated"><a class="ae ky" href="https://github.com/imdevskp/covid_19_jhu_data_web_scrap_and_cleaning" rel="noopener ugc nofollow" target="_blank">https://github . com/imdevskp/covid _ 19 _ jhu _ data _ web _ scrap _ and _ cleaning</a></li><li id="4985" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated"><a class="ae ky" href="https://www.kaggle.com/imdevskp/covid-19-analysis-visualization-comparisons/notebook" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/imdevskp/新冠肺炎-分析-可视化-比较/笔记本</a></li><li id="b6cf" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated"><a class="ae ky" href="https://www.kaggle.com/neelkudu28/covid-19-visualizations-predictions-forecasting" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/neelkudu 28/新冠肺炎-可视化-预测-预测</a></li></ul><h1 id="2ae5" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">为什么是数据处理？</h1><p id="93a9" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">数据处理背后的主要原因是<strong class="lb iu">数据几乎从来不会以一种对我们来说已经准备好的形式出现</strong>。以我个人的经验，花在数据科学项目上的大量时间是在操纵数据上。</p><p id="3570" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看看新冠肺炎的时间序列数据，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/bd474a26c769fd64071d7b1277ee4463.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*J399vqDW8wumBH3JaB9uLw.gif"/></div></div></figure><p id="1939" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是我的一些问题:</p><ul class=""><li id="9abc" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu mc md me mf bi translated"><strong class="lb iu"> <em class="lv">确诊</em> </strong>，<strong class="lb iu"> <em class="lv">死亡</em> </strong>和<strong class="lb iu"><em class="lv"/></strong>保存在不同的CSV文件中。这使得我很难在相同的数据可视化中绘制它们。</li><li id="85da" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated">看一下上面的截图。日期实际上显示为列名，这是非常奇怪的数据形状。</li><li id="b274" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated"><strong class="lb iu"> <em class="lv">确诊</em> </strong>、<strong class="lb iu"> <em class="lv">死亡</em> </strong>和<strong class="lb iu"> <em class="lv">痊愈</em> </strong>因数据缺失不完全匹配，部分国家不上报<strong class="lb iu"> <em class="lv">痊愈</em> </strong>的省/州级stat。</li><li id="6394" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated">其他缺失值、错误数据类型和三艘游轮报告的案例。</li></ul><p id="063c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本新冠肺炎数据处理教程运行以下步骤:</p><ol class=""><li id="ca46" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu nj md me mf bi translated">从JHU CSSE公共网站<a class="ae ky" href="https://github.com/CSSEGISandData/COVID-19" rel="noopener ugc nofollow" target="_blank"> Github页面</a>下载原始CSV数据集</li><li id="4011" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu nj md me mf bi translated">加载原始CSV数据集并提取常用日期列表</li><li id="ccb9" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu nj md me mf bi translated">将原始确认、死亡和恢复的CSV数据合并到一个数据框架中。</li><li id="41d6" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu nj md me mf bi translated">由于缺少值、错误的数据类型和来自游轮的案例，执行数据清理。</li><li id="7d57" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu nj md me mf bi translated">数据汇总:增加一个活动案例列<strong class="lb iu"> <em class="lv">活动</em> </strong>，由<code class="fe nk nl nm nn b">active_case = confirmed — deaths — recovered</code>计算。将数据聚集到<code class="fe nk nl nm nn b">Country/Region</code> wise中，并按照<code class="fe nk nl nm nn b">Date</code>和<code class="fe nk nl nm nn b">Country/Region</code>对它们进行分组。之后，加上当日新增<strong class="lb iu"> <em class="lv">病例</em> </strong>，<strong class="lb iu"> <em class="lv">新增死亡</em> </strong>和<strong class="lb iu"> <em class="lv">新增痊愈</em> </strong>减去前一日相应的累计数据。</li></ol><p id="6b9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在数据处理的最后，我将用Altair展示2个简单的数据可视化以供演示。</p><h1 id="4161" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">逐步下载，加载，合并，清理和汇总新冠肺炎数据</h1><p id="e05f" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">让我们导入我们需要的库</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="0314" class="ns mm it nn b gy nt nu l nv nw">import pandas as pd<br/>import wget</span></pre><h2 id="7d3f" class="ns mm it bd mn nx ny dn mr nz oa dp mv li ob oc mx lm od oe mz lq of og nb oh bi translated">1.下载原始数据集</h2><p id="a8b5" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">进入约翰霍普金斯CSSE公共<a class="ae ky" href="https://github.com/CSSEGISandData/COVID-19" rel="noopener ugc nofollow" target="_blank"> Github页面</a>并导航至<strong class="lb iu">csse _ covid _ 19 _ data/CSS _ covid _ 19 _ time _ series/</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/1e3f5e19fd1ce2366c01418de439cc39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ejgL4LA9oKoBBcdmY2B7Mg.png"/></div></div></figure><p id="f3a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单击全局CSV数据集，然后单击“原始”按钮获取数据url。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/c222ce7f6f831ce34572ad27af91a344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TSLYuZzE8MXVE-mgxFJUCQ.png"/></div></div></figure><p id="50eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，将这些URL保存在一个集合中，并使用<code class="fe nk nl nm nn b">wget.download()</code>下载</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="bd59" class="ns mm it nn b gy nt nu l nv nw"># url of the raw csv dataset<br/>urls = [<br/>    '<a class="ae ky" href="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv'" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv'</a>,<br/>    '<a class="ae ky" href="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv'" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv'</a>,<br/>    '<a class="ae ky" href="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv'" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv'</a><br/>]</span><span id="a63f" class="ns mm it nn b gy ok nu l nv nw">[wget.download(url) for url in urls]</span></pre><p id="ee7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦下载完成，它应该输出如下，这3个文件应该出现在您的工作目录。</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="9922" class="ns mm it nn b gy nt nu l nv nw">['time_series_covid19_confirmed_global.csv',<br/> 'time_series_covid19_deaths_global.csv',<br/> 'time_series_covid19_recovered_global.csv']</span></pre><h2 id="e78a" class="ns mm it bd mn nx ny dn mr nz oa dp mv li ob oc mx lm od oe mz lq of og nb oh bi translated">2.加载数据集并提取日期列表</h2><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="8367" class="ns mm it nn b gy nt nu l nv nw">confirmed_df = pd<br/>    .read_csv('time_series_covid19_confirmed_global.csv')</span><span id="f591" class="ns mm it nn b gy ok nu l nv nw">deaths_df = pd<br/>    .read_csv('time_series_covid19_deaths_global.csv')</span><span id="5f23" class="ns mm it nn b gy ok nu l nv nw">recovered_df = pd<br/>    .read_csv('time_series_covid19_recovered_global.csv')</span></pre><p id="e0a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们快速看一下数据，例如，<code class="fe nk nl nm nn b">confirmed_df.head()</code>显示93列。在<code class="fe nk nl nm nn b">deaths_df</code>和<code class="fe nk nl nm nn b">recovered_df</code>上应该是一样的</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/2a5bad9e889ccbe3acab01f55c1d74b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*tHvY-OQMehWOqR_JoRGoIA.gif"/></div></div></figure><p id="e69c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过运行<code class="fe nk nl nm nn b">confirmed_df.columns</code>、<code class="fe nk nl nm nn b">deaths_df.columns</code>和<code class="fe nk nl nm nn b">recovered_df.columns</code>，它们都应该输出如下相同的结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/8e375da0111f660ec1614acd19a15a4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q-XWCCELRRWQpaGqrAr6xQ.png"/></div></div></figure><p id="2db7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，从第4列开始，所有列都是日期，以获取日期列表<code class="fe nk nl nm nn b">confirmed_df.columns[4:]</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/76e1574229cb41a77c81c6e94b0699e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qOD5xNkDtz-HIoU8DhRvrA.png"/></div></div></figure><h2 id="8c4d" class="ns mm it bd mn nx ny dn mr nz oa dp mv li ob oc mx lm od oe mz lq of og nb oh bi translated">3.合并确认，死亡和恢复</h2><p id="89ea" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">在合并之前，我们需要使用<code class="fe nk nl nm nn b">melt()</code>将数据帧从当前的宽格式转换为长格式。换句话说，我们把所有的日期列都转换成了值。以下是相关的主要设置:</p><ul class=""><li id="8242" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu mc md me mf bi translated">使用<code class="fe nk nl nm nn b">‘Province/State’</code>、<code class="fe nk nl nm nn b">‘Country/Region’</code>、<code class="fe nk nl nm nn b"> ‘Lat’</code>、<code class="fe nk nl nm nn b">‘Long’</code>作为标识符变量。我们稍后将使用它们进行合并。</li><li id="4746" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated">用变量列<code class="fe nk nl nm nn b">‘Date’</code>和值列<code class="fe nk nl nm nn b"> ‘Confirmed’</code>取消透视日期列(如我们之前看到的<code class="fe nk nl nm nn b">columns[4:]</code></li></ul><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="78df" class="ns mm it nn b gy nt nu l nv nw">dates = confirmed_df<strong class="nn iu">.columns[4:]</strong></span><span id="abe6" class="ns mm it nn b gy ok nu l nv nw">confirmed_df_long = confirmed_df.melt(<br/>    <strong class="nn iu">id_vars=['Province/State', 'Country/Region', 'Lat', 'Long'],</strong> <br/>    <strong class="nn iu">value_vars=dates, </strong><br/>    <strong class="nn iu">var_name='Date', </strong><br/>    <strong class="nn iu">value_name='Confirmed'</strong><br/>)</span><span id="4e38" class="ns mm it nn b gy ok nu l nv nw">deaths_df_long = deaths_df.melt(<br/>    <strong class="nn iu">id_vars=['Province/State', 'Country/Region', 'Lat', 'Long'], </strong><br/>    <strong class="nn iu">value_vars=dates, <br/>    var_name='Date', <br/>    value_name='Deaths'</strong><br/>)</span><span id="2166" class="ns mm it nn b gy ok nu l nv nw">recovered_df_long = recovered_df.melt(<br/>    <strong class="nn iu">id_vars=['Province/State', 'Country/Region', 'Lat', 'Long'], <br/>    value_vars=dates, <br/>    var_name='Date', <br/>    value_name='Recovered'</strong><br/>)</span></pre><p id="f8b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以上应该返回新的长数据帧。它们都是按<strong class="lb iu"> <em class="lv">日期</em> </strong>和<strong class="lb iu"> <em class="lv">国家/地区</em> </strong>排序的，因为原始数据已经按<strong class="lb iu"> <em class="lv">国家/地区</em> </strong>排序，日期列已经按ASC排序。</p><p id="9435" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里是<code class="fe nk nl nm nn b">confirmed_df_long</code>的例子</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/897005e06704035e3f3723a7df7b5edb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LpD1J0WL24Sm2ruqZqhc-Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><code class="fe nk nl nm nn b">confirmed_df_long</code>的例子</p></figure><p id="d23c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，由于不匹配问题，我们必须删除加拿大的恢复数据(🤷加拿大‍♂恢复的数据按国家统计，而不是按省/州统计)。</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="fd79" class="ns mm it nn b gy nt nu l nv nw">recovered_df_long = recovered_df_long[<strong class="nn iu">recovered_df_long['Country/Region']!='Canada'</strong>]</span></pre><p id="7bc3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之后，我们使用<code class="fe nk nl nm nn b">merge()</code>依次合并3个数据帧</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="336b" class="ns mm it nn b gy nt nu l nv nw"># Merging <strong class="nn iu">confirmed_df_long</strong> and <strong class="nn iu">deaths_df_long</strong><br/>full_table = <strong class="nn iu">confirmed_df_long</strong>.merge(<br/>  right=<strong class="nn iu">deaths_df_long</strong>, <br/>  how='left',<br/><strong class="nn iu">  on=['Province/State', 'Country/Region', 'Date', 'Lat', 'Long']<br/></strong>)</span><span id="2d0c" class="ns mm it nn b gy ok nu l nv nw"># Merging <strong class="nn iu">full_table</strong> and <strong class="nn iu">recovered_df_long</strong><br/>full_table = <strong class="nn iu">full_table</strong>.merge(<br/>  right=<strong class="nn iu">recovered_df_long</strong>, <br/>  how='left',<br/><strong class="nn iu">  on=['Province/State', 'Country/Region', 'Date', 'Lat', 'Long']<br/></strong>)</span></pre><p id="ce4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们应该得到一个包含<code class="fe nk nl nm nn b">Confirmed</code>、<code class="fe nk nl nm nn b">Deaths</code>和<code class="fe nk nl nm nn b">Recovered</code>列的完整表格</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/fc7fb4055d955293a07c4efdc11d0ff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XUF7mx9OfZaJWtUwbmFMSA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">包含已确认、死亡和已恢复的full_table示例</p></figure><h2 id="6672" class="ns mm it bd mn nx ny dn mr nz oa dp mv li ob oc mx lm od oe mz lq of og nb oh bi translated">4.执行数据清理</h2><p id="26ca" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">我们希望完成3项任务</p><ol class=""><li id="24bb" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu nj md me mf bi translated">将日期从字符串转换为日期时间</li><li id="1183" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu nj md me mf bi translated">替换丢失的值<code class="fe nk nl nm nn b">NaN</code></li><li id="c261" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu nj md me mf bi translated">3艘邮轮报告的冠状病毒病例应区别对待</li></ol><p id="433c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可能已经注意到，新的<strong class="lb iu"> <em class="lv">日期</em> </strong>列中的值都是具有<strong class="lb iu"> m/dd/yy </strong>格式的字符串。要将<strong class="lb iu"> <em class="lv">日期</em> </strong>值从字符串转换为日期时间，让我们使用<code class="fe nk nl nm nn b">DataFrame.to_datetime()</code></p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="44ec" class="ns mm it nn b gy nt nu l nv nw">full_table['Date'] = <strong class="nn iu">pd.to_datetime(full_table['Date'])</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/a1fede77015f8832d8cb864c816723f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZESvqkxszPPy8Ywg-wOUoA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">to_datetime()之后的输出</p></figure><p id="3270" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行<code class="fe nk nl nm nn b">full_table.isna().sum()</code>可以检测缺失值<code class="fe nk nl nm nn b">NaN</code></p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="a712" class="ns mm it nn b gy nt nu l nv nw">full_table.isna().sum()</span><span id="e917" class="ns mm it nn b gy ok nu l nv nw">Province/State    16198<br/>Country/Region        0<br/>Lat                   0<br/>Long                  0<br/>Date                  0<br/>Confirmed             0<br/>Deaths                0<br/>Recovered          1602<br/>dtype: int64</span></pre><p id="e7c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在<strong class="lb iu"> <em class="lv">省/州</em> </strong>中发现了很多<code class="fe nk nl nm nn b">NaN</code>，这是有道理的，因为许多国家只报告国家级数据。但是<strong class="lb iu"> <em class="lv">中有1602个nan被恢复</em> </strong>让我们用<code class="fe nk nl nm nn b">0</code>来代替。</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="1d9e" class="ns mm it nn b gy nt nu l nv nw">full_table['Recovered'] = <strong class="nn iu">full_table['Recovered'].fillna(0)</strong></span></pre><p id="aad7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了缺失值，还有3艘邮轮报告的冠状病毒病例:<strong class="lb iu">大公主</strong>、<strong class="lb iu">钻石公主</strong>和<strong class="lb iu"> MS Zaandam </strong>。由于<strong class="lb iu"> <em class="lv">省/州</em> </strong>和<strong class="lb iu"> <em class="lv">国家/地区</em> </strong>随着时间的推移不匹配，需要提取这些数据并区别对待。这就是我所说的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/8c6bc032d31d52b2037374159db3e7ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PyUG8vcn7Md3on3hcopkjA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><code class="fe nk nl nm nn b">full_ship</code>的错配问题</p></figure><p id="f2ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我们如何提取船只数据。</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="1d34" class="ns mm it nn b gy nt nu l nv nw"><strong class="nn iu">ship_rows</strong> = full_table['Province/State'].str.contains('Grand Princess') | full_table['Province/State'].str.contains('Diamond Princess') | full_table['Country/Region'].str.contains('Diamond Princess') | full_table['Country/Region'].str.contains('MS Zaandam')</span><span id="78e6" class="ns mm it nn b gy ok nu l nv nw">full_ship = <strong class="nn iu">full_table[ship_rows]</strong></span></pre><p id="2030" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并从<code class="fe nk nl nm nn b">full_table</code>中去掉飞船数据:</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="cdf4" class="ns mm it nn b gy nt nu l nv nw">full_table = full_table[~(ship_rows)]</span></pre><p id="7a47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 5。数据汇总</strong></p><p id="20d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，所有的<strong class="lb iu"> <em class="lv">确认</em></strong><strong class="lb iu"><em class="lv">死亡</em></strong><strong class="lb iu"><em class="lv">恢复</em> </strong>都是来自原始CSV数据集的现有数据。我们来添加一个活动案例列<strong class="lb iu"> <em class="lv">活动</em> </strong>，由<code class="fe nk nl nm nn b">active = confirmed — deaths — recovered</code>计算。</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="3963" class="ns mm it nn b gy nt nu l nv nw"># Active Case = confirmed - deaths - recovered<br/>full_table[<strong class="nn iu">'Active'</strong>] = <strong class="nn iu">full_table['Confirmed'] - full_table['Deaths'] - full_table['Recovered']</strong></span></pre><p id="d6d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里是<code class="fe nk nl nm nn b">full_table</code>现在的样子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/26f7409a066cff062153094025231821.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DKhmM-NIp5rvuyUeLd2GTA.png"/></div></div></figure><p id="6a98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，让我们将数据聚集到<code class="fe nk nl nm nn b">Country/Region</code> wise中，并按照<code class="fe nk nl nm nn b">Date</code>和<code class="fe nk nl nm nn b">Country/Region</code>对它们进行分组。</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="9fad" class="ns mm it nn b gy nt nu l nv nw">full_grouped = full_table.<strong class="nn iu">groupby</strong>(['Date', 'Country/Region'])['Confirmed', 'Deaths', 'Recovered', 'Active']<strong class="nn iu">.sum().reset_index()</strong></span></pre><ul class=""><li id="9c75" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu mc md me mf bi translated"><code class="fe nk nl nm nn b">sum()</code>是获取给定<strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv">国家/地区的“确诊”、“死亡”、“康复”、“活跃”总数。</em>T71】</strong></li><li id="1db7" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated"><code class="fe nk nl nm nn b">reset_index()</code>重置指标，使用默认指标，即<strong class="lb iu"> <em class="lv">日期</em> </strong>和<strong class="lb iu"> <em class="lv">国家/地区。</em>T12】</strong></li></ul><p id="18e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是<code class="fe nk nl nm nn b">full_grouped</code>现在的样子</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/ab66fbe77851e4f442a1cb81194cf695.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E4FHvALJlWJaaXJB8kyFmQ.png"/></div></div></figure><p id="1a17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们通过扣除前一天相应的累计数据来添加当日明智<strong class="lb iu"> <em class="lv">新增病例</em></strong><strong class="lb iu"><em class="lv">新增死亡病例</em> </strong>和<strong class="lb iu"> <em class="lv">新增痊愈病例</em> </strong>。</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="ecb7" class="ns mm it nn b gy nt nu l nv nw"># new cases <br/>temp = full_grouped.groupby(['Country/Region', 'Date', ])['Confirmed', 'Deaths', 'Recovered']<br/>temp = temp.sum().diff().reset_index()</span><span id="74dd" class="ns mm it nn b gy ok nu l nv nw">mask = temp['Country/Region'] != temp['Country/Region'].shift(1)</span><span id="510b" class="ns mm it nn b gy ok nu l nv nw">temp.loc[mask, 'Confirmed'] = np.nan<br/>temp.loc[mask, 'Deaths'] = np.nan<br/>temp.loc[mask, 'Recovered'] = np.nan</span><span id="b91c" class="ns mm it nn b gy ok nu l nv nw"># renaming columns<br/>temp.columns = ['Country/Region', 'Date', 'New cases', 'New deaths', 'New recovered']</span><span id="ede2" class="ns mm it nn b gy ok nu l nv nw"># merging new values<br/>full_grouped = pd.merge(full_grouped, temp, on=['Country/Region', 'Date'])</span><span id="1a9f" class="ns mm it nn b gy ok nu l nv nw"># filling na with 0<br/>full_grouped = full_grouped.fillna(0)</span><span id="d102" class="ns mm it nn b gy ok nu l nv nw"># fixing data types<br/>cols = ['New cases', 'New deaths', 'New recovered']<br/>full_grouped[cols] = full_grouped[cols].astype('int')</span><span id="e239" class="ns mm it nn b gy ok nu l nv nw"># <br/>full_grouped['New cases'] = full_grouped['New cases'].apply(lambda x: 0 if x&lt;0 else x)</span></pre><p id="e3a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后这里是<code class="fe nk nl nm nn b">full_grouped</code>。请注意，这个最终输出是国家级数据</p><ul class=""><li id="8c6b" class="lx ly it lb b lc ld lf lg li lz lm ma lq mb lu mc md me mf bi translated"><strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong><strong class="lb iu"><em class="lv"/></strong>为累计数据。</li><li id="f6db" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated"><strong class="lb iu"> <em class="lv">新增病例</em> </strong>，<strong class="lb iu"> <em class="lv">新增死亡病例</em> </strong>和<strong class="lb iu"> <em class="lv">新增痊愈病例</em> </strong>均为日明智数据。</li><li id="36b6" class="lx ly it lb b lc mg lf mh li mi lm mj lq mk lu mc md me mf bi translated">本数据帧按<strong class="lb iu"> <em class="lv">日期</em> </strong>和<strong class="lb iu"> <em class="lv">国家/地区</em> </strong>排序。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lw"><img src="../Images/430325aea649055b79fa4a32ff02ad67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i4mVLCfgzmtclxMINIZDHA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">最后，这里是<code class="fe nk nl nm nn b">full_grouped</code>的数据</p></figure><p id="fc42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，您可以将这些最终数据保存到CSV文件中:</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="b5c1" class="ns mm it nn b gy nt nu l nv nw">full_grouped.<strong class="nn iu">to_csv</strong>('COVID-19-time-series-clean-complete.csv')</span></pre><h1 id="f3c3" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">数据探索</h1><p id="43d8" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">为了简单起见，让我们使用Python数据可视化库Altair来创建一些简单的可视化。Altair是Python的声明式统计可视化库，基于<a class="ae ky" href="http://vega.github.io/vega" rel="noopener ugc nofollow" target="_blank"> Vega </a>和<a class="ae ky" href="http://vega.github.io/vega-lite" rel="noopener ugc nofollow" target="_blank"> Vega-Lite </a>。Altair提供了强大而简洁的可视化语法，使您能够快速构建各种各样的统计可视化。</p><p id="574e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于Altair安装，我强烈建议创建一个新的虚拟环境，因为Altair有很多依赖项。然后，激活你的虚拟环境，运行<code class="fe nk nl nm nn b">pip install altair vega_datasets</code>来安装Altair以及<a class="ae ky" href="https://github.com/altair-viz/vega_datasets" rel="noopener ugc nofollow" target="_blank"> vega_datasets </a>中的示例数据集。</p><p id="c2ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于虚拟环境的教程，可以看看:</p><div class="ou ov gp gr ow ox"><a rel="noopener follow" target="_blank" href="/create-virtual-environment-using-virtualenv-and-add-it-to-jupyter-notebook-6e1bf4e03415"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd iu gy z fp pc fr fs pd fu fw is bi translated">使用“virtualenv”创建虚拟环境，并将其添加到Jupyter笔记本中</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">你是机器学习工程师，正在使用Python和Jupyter Notebook吗？在这篇文章中，你会看到为什么…</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl ks ox"/></div></div></a></div><div class="ou ov gp gr ow ox"><a href="https://medium.com/analytics-vidhya/create-virtual-environment-using-conda-and-add-it-to-jupyter-notebook-d319a81dfd1" rel="noopener follow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd iu gy z fp pc fr fs pd fu fw is bi translated">使用“conda”创建虚拟环境，并将其添加到Jupyter笔记本中</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">你正在使用anaconda和使用Jupyter Notebook和Python吗？在这篇文章中，你将看到如何创建虚拟的…</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">medium.com</p></div></div><div class="pg l"><div class="pm l pi pj pk pg pl ks ox"/></div></div></a></div><h2 id="b208" class="ns mm it bd mn nx ny dn mr nz oa dp mv li ob oc mx lm od oe mz lq of og nb oh bi translated">显示总病例和每日病例</h2><p id="0d91" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">首先，让我们导入库，加载数据并选择一个国家，例如英国:</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="4e98" class="ns mm it nn b gy nt nu l nv nw">import pandas as pd<br/>import altair as alt</span><span id="8ca6" class="ns mm it nn b gy ok nu l nv nw">full_grouped = pd.read_csv('COVID-19-time-series-clean-complete.csv', <strong class="nn iu">parse_dates=['Date']</strong>)</span><span id="e72d" class="ns mm it nn b gy ok nu l nv nw">uk = full_grouped[<strong class="nn iu">full_grouped['Country/Region'] == 'United Kingdom'</strong>]</span></pre><p id="e9fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，让我们用公共元素创建一个基础图表</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="5f39" class="ns mm it nn b gy nt nu l nv nw">base = alt.Chart(uk).mark_bar().encode(<br/>    <strong class="nn iu">x='monthdate(Date):O',</strong><br/>).properties(<br/>    width=500<br/>)</span></pre><p id="c21d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之后，我们可以使用<code class="fe nk nl nm nn b">|</code>操作符水平连接</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/feb5d20d8c6edae8de50c44c91e05544.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JTzvcbEkpX_xBhCJTkSK0g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一段时间内的总确诊人数和总死亡人数</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/c7843265394ffa3bde4b0855ffb0560a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hba1k6NDc0YQIVDVmv75Hw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一段时间内每日新增病例和每日新增死亡人数</p></figure><h2 id="ca9f" class="ns mm it bd mn nx ny dn mr nz oa dp mv li ob oc mx lm od oe mz lq of og nb oh bi translated">显示冠状病毒的传播</h2><p id="6f97" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">首先，让我们导入库，加载数据并选择一个国家列表</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="631b" class="ns mm it nn b gy nt nu l nv nw">import pandas as pd<br/>import altair as alt</span><span id="1e0c" class="ns mm it nn b gy ok nu l nv nw">full_grouped = pd.read_csv('COVID-19-time-series-clean-complete.csv', <strong class="nn iu">parse_dates=['Date']</strong>)</span><span id="5a92" class="ns mm it nn b gy ok nu l nv nw">countries = ['US', 'Italy', 'China', 'Spain', 'Germany', 'France', 'Iran', 'United Kingdom', 'Switzerland']</span><span id="207e" class="ns mm it nn b gy ok nu l nv nw">selected_countries = full_grouped[full_grouped['Country/Region']<strong class="nn iu">.isin(countries)</strong>]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/21e1d28e4743b019eacae173f292972e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8zgXQHUQNW9xU6ukwr1wIQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">选定_国家</p></figure><p id="a4a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们创建一个圆形图表来显示当天明智的<strong class="lb iu"> <em class="lv">新增病例</em> </strong>，</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="d7f3" class="ns mm it nn b gy nt nu l nv nw">alt.Chart(selected_countries).<strong class="nn iu">mark_circle()</strong>.encode(<br/>    <strong class="nn iu">x='monthdate(Date):O',</strong><br/>    <strong class="nn iu">y='Country/Region',</strong><br/>    <strong class="nn iu">color='Country/Region',</strong><br/>    size=alt.Size(<strong class="nn iu">'New cases:Q'</strong>,<br/>        scale=alt.Scale(range=[0, 1000]),<br/>        legend=alt.Legend(title='Daily new cases')<br/>    ) <br/>).properties(<br/>    width=800,<br/>    height=300<br/>)</span></pre><p id="4637" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是输出</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/4b170807037e2c4cd121341216d09caf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sda5hN48Q76bjW8L46gmgQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">每日新病例圆形图</p></figure><h1 id="9b3b" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">尽情享受吧！</h1><p id="60f7" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">这篇文章主要是向大家展示如何使用Pandas逐步处理新冠肺炎数据。在数据探索部分只有两个简单的例子来演示。</p><p id="32e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有兴趣学习牛郎星，可以看看下面两篇文章。</p><div class="ou ov gp gr ow ox"><a rel="noopener follow" target="_blank" href="/python-interactive-data-visualization-with-altair-b4c4664308f8"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd iu gy z fp pc fr fs pd fu fw is bi translated">用Altair实现Python交互式数据可视化</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">用不到20行代码创建交互式图表。</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="pr l pi pj pk pg pl ks ox"/></div></div></a></div><div class="ou ov gp gr ow ox"><a rel="noopener follow" target="_blank" href="/interactive-data-visualization-for-exploring-coronavirus-spreads-f33cabc64043"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd iu gy z fp pc fr fs pd fu fw is bi translated">探索冠状病毒传播的交互式数据可视化</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">使用Altair创建不到30行代码的交互式复合图表</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="ps l pi pj pk pg pl ks ox"/></div></div></a></div><p id="b6c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大概就是这样。感谢阅读</p></div></div>    
</body>
</html>