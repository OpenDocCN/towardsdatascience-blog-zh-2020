<html>
<head>
<title>Barcodes and QR Codes Decoder in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中的条形码和 QR 码解码器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/barcodes-and-qr-codes-decoder-in-python-59615c5f2b23?source=collection_archive---------5-----------------------#2020-09-15">https://towardsdatascience.com/barcodes-and-qr-codes-decoder-in-python-59615c5f2b23?source=collection_archive---------5-----------------------#2020-09-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1099" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">利用 pyzbar 解码一维条形码和 QR 码</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/940486a2fcc4ba3537ca3a854b7180b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SH_K5-yR6NjLhdwS1TuczQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@proxyclick?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">procylink 访客管理系统</a>在<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="6620" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过阅读本文，您将了解生成不同格式的一维条形码以及快速响应码(QR 码)生成的技巧和诀窍。此外，本教程将概述使用相同的 Python 库解码条形码和 QR 码的方法。之前，我已经介绍过一个关于如何用 Python 生成和解码二维码的教程，Python 使用 OpenCV 解码二维码。在本教程中，我将使用另一个名为<code class="fe lv lw lx ly b">pyzbar</code>的模块进行解码。基于<a class="ae ky" href="https://github.com/NaturalHistoryMuseum/pyzbar" rel="noopener ugc nofollow" target="_blank">官方文件</a>，<code class="fe lv lw lx ly b">pyzbar</code>是</p><blockquote class="lz ma mb"><p id="f005" class="kz la mc lb b lc ld ju le lf lg jx lh md lj lk ll me ln lo lp mf lr ls lt lu im bi translated">“…一个使用<a class="ae ky" href="http://zbar.sourceforge.net/" rel="noopener ugc nofollow" target="_blank"> zbar </a>库读取一维条形码和 QR 码的纯 Python 库，zbar 库是一个开源软件套件，用于从各种来源读取条形码，如视频流、图像文件和原始强度传感器。它支持许多流行的<em class="it">符号</em>(条形码类型)，包括 EAN-13/UPC-A、UPC-E、EAN-8、Code 128、Code 39、Interleaved 2 of 5 和 QR 码。”</p></blockquote><p id="bda9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据我所做的实验，在解码二维码的准确性方面，<code class="fe lv lw lx ly b">pyzbar</code>比<code class="fe lv lw lx ly b">python-opencv</code>表现更好。最重要的是，<code class="fe lv lw lx ly b">pyzbar</code>还能够解码条形码。</p><p id="395b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们继续下一部分，开始安装必要的模块。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="15ba" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">1.设置</h1><p id="db2c" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">强烈建议您在继续安装之前设置一个虚拟环境。您可以通过<code class="fe lv lw lx ly b">pip install</code>轻松安装所有模块。</p><h2 id="32f7" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">python-条形码</h2><p id="6d3b" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">我们的第一个模块是 python-barcode 包，它有助于根据我们指定的格式生成一维条形码。运行以下命令来安装它</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="0c48" class="nk mo it ly b gy oa ob l oc od">pip install python-barcode</span></pre><p id="0a4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，结果将被导出为 SVG。您需要安装额外的依赖项，如<code class="fe lv lw lx ly b">Pillow</code>。您可以选择独立安装依赖项，或者与<code class="fe lv lw lx ly b">python-barcode</code>一起安装，如下所示:</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="c01a" class="nk mo it ly b gy oa ob l oc od">pip install python-barcode[images]</span></pre><h2 id="1f22" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">二维码</h2><p id="3c3c" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">您可以通过以下命令单独安装<code class="fe lv lw lx ly b">qrcode</code>包</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="1727" class="nk mo it ly b gy oa ob l oc od">pip install qrcode</span></pre><p id="5dad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可选地，您也可以在标准安装中包含<code class="fe lv lw lx ly b">Pillow</code>依赖项</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="1b2f" class="nk mo it ly b gy oa ob l oc od">pip install qrcode[pil]</span></pre><h2 id="a06c" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">皮兹巴尔</h2><p id="9452" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated"><code class="fe lv lw lx ly b">pyzbar</code>的安装有点复杂，取决于您机器的操作系统。对于 Windows 用户，<code class="fe lv lw lx ly b">zbar</code> DLL 与 Windows Python 轮子一起提供。</p><p id="cd39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于 Mac OS X，您可以通过以下命令安装<code class="fe lv lw lx ly b">zbar</code>共享库</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="2537" class="nk mo it ly b gy oa ob l oc od">brew install zbar</span></pre><p id="5ac1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您使用的是 Linux，应该使用下面的命令。</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="e240" class="nk mo it ly b gy oa ob l oc od">sudo apt-get install libzbar0</span></pre><p id="25f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，运行下面的命令来安装<code class="fe lv lw lx ly b">pyzbar</code> Python 包。</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="18c7" class="nk mo it ly b gy oa ob l oc od">pip install pyzbar</span></pre><p id="f160" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事实上，它还支持命令行功能，允许您直接在命令行中运行它。为此，您应该按如下方式安装它:</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="0fd3" class="nk mo it ly b gy oa ob l oc od">pip install pyzbar[scripts]</span></pre></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="c8ba" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">2.条形码生成</h1><p id="b789" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在本节中，我们将使用<code class="fe lv lw lx ly b">python-barcode</code>包生成条形码。</p><h2 id="7438" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">支持的格式</h2><p id="8839" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在撰写本文时，这个包支持以下格式:</p><ul class=""><li id="fe63" class="oe of it lb b lc ld lf lg li og lm oh lq oi lu oj ok ol om bi translated">EAN-8</li><li id="5cce" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">EAN-13</li><li id="8727" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">EAN-14</li><li id="a75d" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">刚果爱国者联盟</li><li id="7fe7" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">一月</li><li id="4189" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">ISBN-10</li><li id="0bce" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">ISBN-13</li><li id="f086" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">国际标准系列出版物编号</li><li id="da72" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">代码 39</li><li id="3c72" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">代码 128</li><li id="f5f7" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">PZN</li></ul><p id="4a65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将使用 EAN13 格式生成一个新的条形码。结果将是 PNG 格式。</p><h2 id="b71f" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">导入</h2><p id="95e8" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">让我们添加下面的导入语句。如果将结果保存为图像，则需要<code class="fe lv lw lx ly b">ImageWriter</code>。否则，它将被默认为 SVG。</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="2b95" class="nk mo it ly b gy oa ob l oc od">from barcode import EAN13<br/>from barcode.writer import ImageWriter</span></pre><h2 id="0b62" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">创建条形码并保存为图像</h2><p id="d6ec" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">继续在它下面追加下面的代码。因为我们正在编写一个图像，所以您需要将 filemode 指定为<code class="fe lv lw lx ly b">wb</code>。供您参考，EAN13 接受包含 12 位而不是 13 位的字符串。最后一位是校验和，将自动生成。如果您输入的是一个 13 位的字符串，最后一位将被忽略。</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="06c8" class="nk mo it ly b gy oa ob l oc od">with open('barcode.png', 'wb') as f:<br/>    EAN13('123456789102', writer=ImageWriter()).write(f)</span></pre><p id="d633" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完整的代码片段如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="ca03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您运行 Python 文件时，它应该会生成以下图像。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/4edba16b7e719ca47d052be6114ab18d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*SAm5zseVIFq_dxABjj-dBg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="08de" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">3.二维码生成</h1><p id="61e4" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">与条形码相比，QR 码的生成稍微复杂一些，因为 QR 码是二维的。</p><h2 id="3d0e" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">导入</h2><p id="5dfe" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">添加以下导入语句</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="9063" class="nk mo it ly b gy oa ob l oc od">import qrcode<br/>from PIL import Image</span></pre><p id="ccb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用以下参数创建一个<code class="fe lv lw lx ly b">QRCode</code>对象的实例</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="2a8f" class="nk mo it ly b gy oa ob l oc od">qr = qrcode.QRCode(<br/>    version=1,<br/>    error_correction=qrcode.constants.ERROR_CORRECT_H,<br/>    box_size=10,<br/>    border=4,<br/>)</span></pre><ul class=""><li id="6cee" class="oe of it lb b lc ld lf lg li og lm oh lq oi lu oj ok ol om bi translated"><code class="fe lv lw lx ly b">version</code> —控制二维码的大小。它接受 1 到 40 之间的整数。版本 1 由 21×21 矩阵组成。</li><li id="dab1" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated"><code class="fe lv lw lx ly b">error_correction</code> —控制用于二维码的纠错。</li><li id="aa30" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated"><code class="fe lv lw lx ly b">box_size</code> —控制二维码每个方框的像素数。</li><li id="5351" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated"><code class="fe lv lw lx ly b">border</code> —控制边框的框厚度。缺省值为 4，这也是规范中的最小值。</li></ul><p id="3393" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有 4 个常量可用于<code class="fe lv lw lx ly b">error_correction</code>。可以纠正的错误越多越好。</p><ul class=""><li id="cfa9" class="oe of it lb b lc ld lf lg li og lm oh lq oi lu oj ok ol om bi translated"><code class="fe lv lw lx ly b">ERROR_CORRECT_L</code> —大约 7%或更少的错误可以被纠正。</li><li id="164a" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated"><code class="fe lv lw lx ly b">ERROR_CORRECT_M</code> —大约 15%或更少的错误可以被纠正。这是默认值。</li><li id="079a" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated"><code class="fe lv lw lx ly b">ERROR_CORRECT_Q</code> —大约 25%或更少的错误可以被纠正。</li><li id="1dc2" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated"><code class="fe lv lw lx ly b">ERROR_CORRECT_H</code> —大约 30%或更少的错误可以被纠正。</li></ul><p id="20ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">继续在它下面追加下面的代码片段。根据您自己的使用案例替换<code class="fe lv lw lx ly b">add_data</code>的输入参数。</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="019f" class="nk mo it ly b gy oa ob l oc od">qr.add_data("https://medium.com/@ngwaifoong92")<br/>qr.make(fit=True)</span><span id="44fb" class="nk mo it ly b gy ov ob l oc od">img = qr.make_image(fill_color="black", back_color="white")<br/>img.save("qrcode.png")</span></pre><p id="41f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在下面的<a class="ae ky" href="https://gist.github.com/wfng92/6dcb09608cca87a1f767b5da4b164bce" rel="noopener ugc nofollow" target="_blank">要点</a>中找到完整的代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="1d96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你应该得到一个二维码一旦你运行代码。我的情况是这样的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/d33c00553b3ff9c21af43c7c3bdf95a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*oHrBzh7kLBgQ25VIygo3Dw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="e2fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你完成了，继续下一部分，开始实现我们的解码器。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="50da" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">4.用 pyzbar 解码</h1><p id="d529" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated"><code class="fe lv lw lx ly b">pyzbar</code>的一个主要特点是直接使用同一个函数进行解码。此外，它支持解码单个图像中的多个条形码或 QR 码。从模块导入<code class="fe lv lw lx ly b">decode()</code>函数，如下所示:</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="30f7" class="nk mo it ly b gy oa ob l oc od">from pyzbar.pyzbar import decode</span></pre><p id="22ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以传递一个<code class="fe lv lw lx ly b">PIL.Image</code>的实例或者一个<code class="fe lv lw lx ly b">numpy.ndarray</code>的实例。您可以使用<code class="fe lv lw lx ly b">OpenCV</code>轻松地将图像加载到<code class="fe lv lw lx ly b">numpy.ndarry</code>中。用<code class="fe lv lw lx ly b">PIL</code>加载时，使用以下代码</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="1079" class="nk mo it ly b gy oa ob l oc od">from PIL import Image</span><span id="abdf" class="nk mo it ly b gy ov ob l oc od">img = Image.open('qrcode.png')</span></pre><p id="57af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个如何使用<code class="fe lv lw lx ly b">OpenCV</code>加载图像的例子。</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="ad81" class="nk mo it ly b gy oa ob l oc od">import cv2</span><span id="da71" class="nk mo it ly b gy ov ob l oc od">img = cv2.imread('qrcode.png')</span></pre><p id="8c3e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在它下面附加以下代码。它将以字符串形式打印出结果。</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="fff0" class="nk mo it ly b gy oa ob l oc od">result = decode(img)</span></pre><p id="8116" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">decode()</code>函数返回一个名为<code class="fe lv lw lx ly b">Decoded</code>的<code class="fe lv lw lx ly b">namedtuple</code>列表。其中每个都包含以下字段:</p><ul class=""><li id="a41a" class="oe of it lb b lc ld lf lg li og lm oh lq oi lu oj ok ol om bi translated"><code class="fe lv lw lx ly b">data</code> —以字节为单位的解码后的字符串。你需要用 utf8 解码得到一个字符串。</li><li id="d8fa" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated"><code class="fe lv lw lx ly b">type</code> —仅对条形码有用，因为它概括了条形码格式。</li><li id="78c5" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated"><code class="fe lv lw lx ly b">rect</code>—<code class="fe lv lw lx ly b">Rect</code>对象，表示捕获的定位区域。</li><li id="8b34" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated"><code class="fe lv lw lx ly b">polygon</code> —代表条形码或 QR 码的<code class="fe lv lw lx ly b">Point</code>实例列表。</li></ul><p id="545f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您要打印出整个返回结果，您应该得到以下输出</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="5ea8" class="nk mo it ly b gy oa ob l oc od">[Decoded(data=b'<a class="ae ky" href="https://medium.com/@ngwaifoong92'" rel="noopener">https://medium.com/@ngwaifoong92'</a>, type='QRCODE', rect=Rect(left=40, top=40, width=330, height=330), polygon=[Point(x=40, y=40), Point(x=40, y=369), Point(x=370, y=370), Point(x=369, y=40)])]</span></pre><p id="dac1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用以下代码循环遍历每个元素，并打印出解码后的字符串</p><pre class="kj kk kl km gt nw ly nx ny aw nz bi"><span id="4ef9" class="nk mo it ly b gy oa ob l oc od">for i in result:<br/>    print(i.data.decode("utf-8"))</span></pre><p id="2420" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完整的代码可以在下面的<a class="ae ky" href="https://gist.github.com/wfng92/a5e089d78df23d92c0c5e1201379489e" rel="noopener ugc nofollow" target="_blank">要点</a>中找到。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="7120" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">5.结论</h1><p id="ce4f" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">让我们回顾一下今天所学的内容。</p><p id="5fee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们从解释<code class="fe lv lw lx ly b">python-barcode</code>、<code class="fe lv lw lx ly b">qrcode</code>和<code class="fe lv lw lx ly b">pyzbar</code>背后的基本概念开始。</p><p id="262c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之后，我们继续安装必要的模块。使用<code class="fe lv lw lx ly b">pip install</code>安装非常简单。</p><p id="1c69" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，我们使用我们选择的配置参数实现了条形码和 QR 码的生成。</p><p id="0520" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们利用<code class="fe lv lw lx ly b">pyzbar</code>模块对之前生成的图像进行解码。</p><p id="e0c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢你阅读这篇文章。希望在下一篇文章中再见到你！</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="fae6" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">参考</h1><ol class=""><li id="3279" class="oe of it lb b lc nf lf ng li ox lm oy lq oz lu pa ok ol om bi translated"><a class="ae ky" href="https://github.com/WhyNotHugo/python-barcode" rel="noopener ugc nofollow" target="_blank"> python-barcode Github </a></li><li id="8ea4" class="oe of it lb b lc on lf oo li op lm oq lq or lu pa ok ol om bi translated"><a class="ae ky" href="https://github.com/lincolnloop/python-qrcode" rel="noopener ugc nofollow" target="_blank">二维码 Github </a></li><li id="3151" class="oe of it lb b lc on lf oo li op lm oq lq or lu pa ok ol om bi translated"><a class="ae ky" href="https://github.com/NaturalHistoryMuseum/pyzbar/" rel="noopener ugc nofollow" target="_blank"> pyzbar Github </a></li></ol></div></div>    
</body>
</html>