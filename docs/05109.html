<html>
<head>
<title>Building Serverless Python Data APIs with Dockers on Google Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Google Cloud上用Dockers构建无服务器Python数据API</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-serverless-python-data-apis-with-dockers-on-google-cloud-24d4f15cf81?source=collection_archive---------33-----------------------#2020-05-02">https://towardsdatascience.com/building-serverless-python-data-apis-with-dockers-on-google-cloud-24d4f15cf81?source=collection_archive---------33-----------------------#2020-05-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="0cd6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我将向您展示一种简单的方法，可以在几分钟内构建几个数据API来利用来自BigQuery数据集的数据。这些API将通过dockers部署，dockers使用一个名为<a class="ae ko" href="https://cloud.google.com/run" rel="noopener ugc nofollow" target="_blank"> Cloud Run </a>的GCP无服务器服务。</p><h1 id="035b" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">体系结构</h1><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ln"><img src="../Images/04514fa7d047140664284c9ae52a1cca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fNfu-I8VBm75WaxFUkF6MQ.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">体系结构</p></figure><p id="380a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">背后的想法是使用无服务器组件。首先，让我们了解这些服务及其在架构中的用途。</p><ul class=""><li id="7f94" class="md me it js b jt ju jx jy kb mf kf mg kj mh kn mi mj mk ml bi translated"><strong class="js iu">云运行:</strong>云运行是一个完全托管的计算平台，可以自动扩展你的无状态容器[ <a class="ae ko" href="https://cloud.google.com/run" rel="noopener ugc nofollow" target="_blank">云运行文档</a> ]。它将处理所有的API请求，因为它是完全托管的，我们不需要担心伸缩性。为了实现第一个目标，必须部署docker。</li><li id="3b1d" class="md me it js b jt mm jx mn kb mo kf mp kj mq kn mi mj mk ml bi translated"><strong class="js iu">云壳:</strong>云壳为您提供直接从浏览器【云壳Doc】命令行访问您的云资源。总是需要一个开发环境，在这种情况下，是云壳。python代码将在这里开发。</li><li id="9e62" class="md me it js b jt mm jx mn kb mo kf mp kj mq kn mi mj mk ml bi translated"><strong class="js iu">云构建:</strong>云构建是一种在谷歌云平台基础设施上执行构建的服务。云构建根据您的规范执行构建，并生成Docker容器[ <a class="ae ko" href="https://cloud.google.com/cloud-build/docs" rel="noopener ugc nofollow" target="_blank"> Doc </a> ]之类的工件。当我们准备好构建docker时，我们将调用Cloud Build来完成这项工作，默认情况下，这个docker将发布在GCP容器注册中心。</li><li id="6b32" class="md me it js b jt mm jx mn kb mo kf mp kj mq kn mi mj mk ml bi translated"><strong class="js iu">容器注册:</strong>在Google云平台上提供安全、私有的Docker图像存储[ <a class="ae ko" href="https://cloud.google.com/container-registry/docs" rel="noopener ugc nofollow" target="_blank"> Doc </a> ]。在这个地方将托管我们的docker，准备由云构建调用。</li><li id="150a" class="md me it js b jt mm jx mn kb mo kf mp kj mq kn mi mj mk ml bi translated"><strong class="js iu"> BigQuery: </strong> BigQuery是Google完全托管的、Pb级、低成本的分析数据仓库。BigQuery是NoOps——不需要管理基础设施，也不需要数据库管理员。BigQuery是我们的数据仓库，所以API需要的所有数据都在这里。</li></ul></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="b95f" class="kp kq it bd kr ks my ku kv kw mz ky kz la na lc ld le nb lg lh li nc lk ll lm bi translated"><strong class="ak">获取数据</strong></h1><p id="10dd" class="pw-post-body-paragraph jq jr it js b jt nd jv jw jx ne jz ka kb nf kd ke kf ng kh ki kj nh kl km kn im bi translated">对于这个项目，我们将使用一个名为<em class="ni"> covid19_ecdc </em>的<a class="ae ko" href="https://console.cloud.google.com/marketplace/browse?filter=solution-type:dataset&amp;hl=ru&amp;angularJsUrl=%2Fmarketplace%2Fbrowse%3Ffilter%3Dsolution-type%253Adataset%26hl%3Dru&amp;authuser=5" rel="noopener ugc nofollow" target="_blank"> BigQuery公共数据集</a>，其中包含按国家和日期分列的确诊病例和死亡数据。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/ab22c44e14d547a128678d0ae48e1115.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*SDyYAfZ-J8GlHdpSN3eohA.png"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">资料组</p></figure><p id="4ba0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">创建数据集并查看</strong></p><p id="c90b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们创建一个BigQuery数据集和一个视图或一个<a class="ae ko" href="https://cloud.google.com/bigquery/docs/materialized-views-intro" rel="noopener ugc nofollow" target="_blank">物化视图</a>来获取项目中的数据。</p><figure class="lo lp lq lr gt ls"><div class="bz fp l di"><div class="nk nl l"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">创建视图和数据集</p></figure><p id="24d3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">数据</strong></p><p id="fe58" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">做一个简单的探索，我们可以确定模式和数据。对于这个项目，我们的API将提取</p><ul class=""><li id="5c7a" class="md me it js b jt ju jx jy kb mf kf mg kj mh kn mi mj mk ml bi translated">所有的数据</li><li id="4311" class="md me it js b jt mm jx mn kb mo kf mp kj mq kn mi mj mk ml bi translated">特定日期来自所有国家的案例</li><li id="db7f" class="md me it js b jt mm jx mn kb mo kf mp kj mq kn mi mj mk ml bi translated">特定国家报告的所有病例</li></ul><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi nm"><img src="../Images/d016aa3ae95fcb756db104e9d468b5c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l5vYqqcgi9_KIWVrPs0JJw.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">使用的表格</p></figure></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="b1de" class="kp kq it bd kr ks my ku kv kw mz ky kz la na lc ld le nb lg lh li nc lk ll lm bi translated"><strong class="ak">样板工程</strong></h1><p id="0e40" class="pw-post-body-paragraph jq jr it js b jt nd jv jw jx ne jz ka kb nf kd ke kf ng kh ki kj nh kl km kn im bi translated">用python构建REST API并不难。为了简单起见，我发布了一个包含所有文件的GitHub项目。</p><div class="nn no gp gr np nq"><a href="https://github.com/antoniocachuan/dataapi-bigquery" rel="noopener  ugc nofollow" target="_blank"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd iu gy z fp nv fr fs nw fu fw is bi translated">antoniocachuan/data API-big query</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">用python构建一个无服务器数据API，从big query-antoniocachuan/data API-big query获取数据</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">github.com</p></div></div><div class="nz l"><div class="oa l ob oc od nz oe lx nq"/></div></div></a></div><p id="0a2a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们了解一下文件</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi of"><img src="../Images/ebf0101c2f4cb4392379c1b3f74b2fc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*p9VJsuc3Ux3Lnnr5la47aw.png"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">项目文件</p></figure><p id="c2cc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> App.py </strong></p><p id="8efb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">主文件。Flask base项目，这包括其他库，用<a class="ae ko" href="https://flask-sqlalchemy.palletsprojects.com/en/2.x/api/" rel="noopener ugc nofollow" target="_blank"> flask_sqlalchemy </a>和<a class="ae ko" href="https://flask-marshmallow.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> flask_marshmallow制作一个更简单的API。</a></p><figure class="lo lp lq lr gt ls"><div class="bz fp l di"><div class="nk nl l"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">app.py</p></figure><p id="78ab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">需要修改的代码行包括您的GCP ID项目、数据集和您的GCP凭据。了解更多关于如何获得GCP证书的信息。</p><figure class="lo lp lq lr gt ls"><div class="bz fp l di"><div class="nk nl l"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">在项目中更新此变量</p></figure><p id="c93f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> Dockerfile </strong></p><p id="6b20" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一个<code class="fe og oh oi oj b">Dockerfile</code>是一个文本文档，它包含用户可以在命令行上调用的所有命令，以组合一个图像。</p><p id="89fb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个项目使用一个瘦python映像，安装所有需要的库，最后用<a class="ae ko" href="https://gunicorn.org/" rel="noopener ugc nofollow" target="_blank"> gunicorn </a>启动一个HTTP服务器来处理API请求。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ok"><img src="../Images/27486ccb6e3edba128dfdd3a30c9ad81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d5K1rQ9DpEO82QMDUyS6wQ.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">Dockerfile文件</p></figure><p id="a5e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> Requirements.txt </strong></p><p id="53fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">项目所需的所有python库的列表。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ol"><img src="../Images/6015fa0731a65791697794d89a28daf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qdP2WYgsOZC1SoulX2aZAw.png"/></div></div></figure></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="642b" class="kp kq it bd kr ks my ku kv kw mz ky kz la na lc ld le nb lg lh li nc lk ll lm bi translated"><strong class="ak">设计API请求</strong></h1><p id="87de" class="pw-post-body-paragraph jq jr it js b jt nd jv jw jx ne jz ka kb nf kd ke kf ng kh ki kj nh kl km kn im bi translated"><strong class="js iu">对象关系映射</strong></p><p id="dde8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们使用SQLAlchemy作为ORM，将Python类转换成BigQuery表。Marshmallow用于使对象序列化和反序列化更容易。</p><p id="ba4d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要使这段代码工作，定义类名等于BigQuery表是很重要的(默认情况下，内部的<em class="ni"> Covid </em>将更改为<em class="ni"> covid </em>以在BigQuery上搜索该表)。如果您有其他表名，请在第23行使用<code class="fe og oh oi oj b">__table__='YOUR_TABLE_NAME' </code>。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi om"><img src="../Images/997a6c098fbd7d6be71d6c44de4a04ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ncHvxAA5nJS4ITNAr14E4w.png"/></div></div></figure><p id="da61" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们为你定义所有你想被调用的列。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi on"><img src="../Images/fa611786ea2725eb64789bc6b44dbc21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aXOcZrV_vxm-SGT7Oqk87g.png"/></div></div></figure><p id="b739" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">请求</strong></p><p id="feb0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了实现定义的三个数据需求，我们编写了3个函数。</p><p id="133a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，我们的数据API返回BigQuery表中的所有数据。</p><figure class="lo lp lq lr gt ls"><div class="bz fp l di"><div class="nk nl l"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">获取所有国家数据</p></figure><p id="0579" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">函数<code class="fe og oh oi oj b">get_day()</code>接收像<code class="fe og oh oi oj b">2020-04-04</code>这样的参数，并返回该特定日期来自所有国家的数据。</p><figure class="lo lp lq lr gt ls"><div class="bz fp l di"><div class="nk nl l"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">特定一天所有国家的数据</p></figure><p id="d47d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">函数<code class="fe og oh oi oj b">country_detail()</code>像<code class="fe og oh oi oj b">PE</code>一样接收国家地理编码，并从特定国家返回数据。</p><figure class="lo lp lq lr gt ls"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h1 id="6f33" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak">使用云构建构建docker映像</strong></h1><p id="0fb5" class="pw-post-body-paragraph jq jr it js b jt nd jv jw jx ne jz ka kb nf kd ke kf ng kh ki kj nh kl km kn im bi translated">每次我们需要更新我们的项目，你需要建立一个新版本的docker图像。存在许多替代方案，这里我们使用Cloud Build工具来构建docker映像并将其发布到容器注册表。别忘了定义你的<em class="ni"> DOCKER_IMAGE_NAME </em>。</p><pre class="lo lp lq lr gt oo oj op oq aw or bi"><span id="0328" class="os kq it oj b gy ot ou l ov ow">gcloud builds submit — tag gcr.io/YOUR_PROJECT_ID/DOCKER_IMAGE_NAME</span></pre><p id="2380" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我在Cloud Shell上运行它，并记住与您的Dockerfile位于同一层，并且您的project_id必须被解决(您需要看到黄色的字母)</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ox"><img src="../Images/fb0946c15e1ffc6b7b653e0fa67d39ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ivK3k06cHSVF-wPCfNK31Q.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">构建Docker映像</p></figure><p id="d2f0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果一切顺利，你可以看到你的Docker图片发布。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi oy"><img src="../Images/5bdfa6ecde0c69224fc28d39cdedd216.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2p73rYUjeEJ2wf4kD5Vn5g.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">集装箱登记处</p></figure><h1 id="9715" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">使用云运行部署docker</h1><p id="3d8f" class="pw-post-body-paragraph jq jr it js b jt nd jv jw jx ne jz ka kb nf kd ke kf ng kh ki kj nh kl km kn im bi translated">最后一步是在Web上部署Docker映像！Cloud Run会负责一切，决定一个<em class="ni"> SERVICENAME </em>，更新对你Docker镜像的引用。</p><pre class="lo lp lq lr gt oo oj op oq aw or bi"><span id="7ce0" class="os kq it oj b gy ot ou l ov ow">gcloud run deploy SERVICENAME --image gcr.io/YOUR_PROJECT_ID/DOCKER_IMAGE_NAME --platform managed --region us-central1 --allow-unauthenticated</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi oz"><img src="../Images/58df2b59b88133c6c61a626a185e4e9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TMAhuDHY1y7gqniChVUdpA.png"/></div></div></figure><p id="8e74" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，您获得一个公共URL来开始获取数据！</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi pa"><img src="../Images/fb35bfd45823445371a93600031cc704.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*USlz5mSIgWvP2tlH76ihjQ.png"/></div></div></figure></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="f8a8" class="kp kq it bd kr ks my ku kv kw mz ky kz la na lc ld le nb lg lh li nc lk ll lm bi translated"><strong class="ak">数据API工作</strong></h1><p id="4ced" class="pw-post-body-paragraph jq jr it js b jt nd jv jw jx ne jz ka kb nf kd ke kf ng kh ki kj nh kl km kn im bi translated">是时候通过浏览器获取发出请求的数据了。</p><p id="8621" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">所有国家的数据</strong></p><pre class="lo lp lq lr gt oo oj op oq aw or bi"><span id="489e" class="os kq it oj b gy ot ou l ov ow">https://datahackservice-xx-uc.a.run.app/countries</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi pb"><img src="../Images/0ebcb5e28c6ff89767fde2014cf2aebe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Thc1eupIX0OZ3DIIJ-fsPA.png"/></div></div></figure><p id="c13b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">特定日期的数据</strong></p><pre class="lo lp lq lr gt oo oj op oq aw or bi"><span id="71f4" class="os kq it oj b gy ot ou l ov ow">https://datahackservice-xx-uc.a.run.app/day/2020-05-01</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi pc"><img src="../Images/f30f23f5a3c3d72218d23faf7086bfc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SicMzTuHTRD7-PdxcL-zXg.png"/></div></div></figure><p id="fbed" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">特定国家的数据</strong></p><pre class="lo lp lq lr gt oo oj op oq aw or bi"><span id="1bfa" class="os kq it oj b gy ot ou l ov ow">https://datahackservice-xx-uc.a.run.app/country/PE</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi oz"><img src="../Images/35c471b57d4bc655d2df1c18194e0022.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pu8C2UYVhpzN9u5UWiSa4A.png"/></div></div></figure><h1 id="cd57" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak">结论和未来工作</strong></h1><p id="4793" class="pw-post-body-paragraph jq jr it js b jt nd jv jw jx ne jz ka kb nf kd ke kf ng kh ki kj nh kl km kn im bi translated">本文向您展示了使用Python和无服务器产品(如Cloud Run和BigQuery)开发数据API是多么容易。</p><p id="00cd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有了这个API，我们就能构建出色的数据可视化，数据API强大的一个很好的例子来自《世界银行评论》Sébastien Pierre的文章<a class="ae ko" href="https://www.oreilly.com/content/data-apis-design-and-visual-storytelling/" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="b7dc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">特别感谢<a class="ae ko" href="https://github.com/momander/serverlesstoolbox/tree/master/cloud-run-python" rel="noopener ugc nofollow" target="_blank"> Martin Omander </a>和<a class="ae ko" href="https://www.codementor.io/@sagaragarwal94/building-a-basic-restful-api-in-python-58k02xsiq" rel="noopener ugc nofollow" target="_blank"> Sagar Chand </a>提供的优秀知识库和文章帮助我开发了这篇文章。</p><p id="69ad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">PS如果你有什么问题，或者有什么有趣的数据想法，可以在<a class="ae ko" href="https://twitter.com/thony_ac77" rel="noopener ugc nofollow" target="_blank"> Twitter </a>和<a class="ae ko" href="https://www.linkedin.com/in/antoniocachuan/" rel="noopener ugc nofollow" target="_blank"> LinkedIn上找我。</a>另外，如果你正在考虑参加谷歌云认证，我写了一篇技术文章描述我的经验和建议。</p><div class="nn no gp gr np nq"><a rel="noopener follow" target="_blank" href="/how-i-could-achieve-the-google-cloud-certification-challenge-6f07a2993197"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd iu gy z fp nv fr fs nw fu fw is bi translated">我如何完成谷歌云认证挑战？</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">在按照谷歌推荐的12周准备后，我通过了云工程师助理考试，在这里…</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">towardsdatascience.com</p></div></div><div class="nz l"><div class="pd l ob oc od nz oe lx nq"/></div></div></a></div></div></div>    
</body>
</html>