# æŒ–æ˜ç”µä¿¡äº§å“æ¨è

> åŸæ–‡ï¼š<https://towardsdatascience.com/mining-telecom-product-recommendations-cfe455f3e563?source=collection_archive---------30----------------------->

## ä¼ ç»Ÿæ¨èç³»ç»Ÿåœ¨ç”µä¿¡è¡Œä¸šçš„åº”ç”¨åŸåˆ™

# æ‘˜è¦

åœ¨å½“å‰ä¿¡æ¯è¿‡è½½çš„æ—¶ä»£ï¼Œäººä»¬è¶Šæ¥è¶Šéš¾æ‰¾åˆ°ç›¸å…³å†…å®¹ã€‚æ¨èç³»ç»Ÿå·²ç»è¢«å¼•å…¥æ¥å¸®åŠ©äººä»¬ä»å¤§é‡çš„é€‰æ‹©ä¸­æ£€ç´¢æ½œåœ¨æœ‰ç”¨çš„ä¿¡æ¯ã€‚å®ƒæ˜¯ä¸€ä¸ªåŸºäºæ•°æ®åˆ†æå‘ç”¨æˆ·æ¨èäº§å“ã€æœåŠ¡å’Œä¿¡æ¯çš„ç³»ç»Ÿï¼Œåœ¨è§£å†³ä¿¡æ¯çˆ†ç‚¸é—®é¢˜æ–¹é¢å˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚

è¿‘å¹´æ¥ï¼Œåœ¨ä¸ºç”µå­å•†åŠ¡ã€ç”µå­å­¦ä¹ å’Œç”µå­æ²»ç†ä¸­çš„å„ç§åŸºäºç½‘ç»œçš„åº”ç”¨æä¾›ä¸ªæ€§åŒ–æ¨èæœåŠ¡çš„æ–¹å‘ä¸Šï¼Œå·²ç»é‡‡å–äº†é‡è¦çš„æ­¥éª¤ã€‚ç„¶è€Œï¼Œä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œå°½ç®¡è¿™ä¸€ç³»ç»Ÿæ˜¯å¿…éœ€çš„ï¼Œä½†è‡³ä»Šä»æœªå‡ºç°åœ¨ç”µä¿¡éƒ¨é—¨ã€‚å› æ­¤ï¼Œæœ¬åšå®¢æ¢è®¨äº†ç”µä¿¡å…¬å¸å¯¹æ¨èç³»ç»Ÿçš„éœ€æ±‚ï¼Œä»¥å¸®åŠ©å…¶å®¢æˆ·åœ¨çº¿é€‰æ‹©æœ€åˆé€‚çš„ç”µä¿¡è®¡åˆ’/äº§å“ã€‚åšå®¢ä»¥å¼€å‘å’Œå®ç°ç”µä¿¡äº§å“/æœåŠ¡çš„ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿä½œä¸ºç»“å°¾ï¼Œä»æ•°æ®ä¸­æŒ–æ˜å…³è”è§„åˆ™ï¼Œä¸ºæ–°å®¢æˆ·æ‰¾åˆ°åˆé€‚çš„ç”µä¿¡äº§å“åŒ…/è®¡åˆ’/äº§å“ã€‚

# ä»‹ç»

å°½ç®¡äººå·¥æ™ºèƒ½(AI)æ— ç–‘æœ‰èƒ½åŠ›æ”¹å˜ç”µä¿¡è¡Œä¸šï¼Œä½†å®ƒåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä»æ˜¯ä¸€ä¸ªæ–°å…´é¢†åŸŸã€‚ç„¶è€Œï¼Œæˆ‘è®¤ä¸ºç”µä¿¡å…¬å¸åœ¨åˆ©ç”¨äººå·¥æ™ºèƒ½æŠ€æœ¯æ–¹é¢å¤„äºç‹¬ç‰¹çš„æœ‰åˆ©åœ°ä½ï¼Œè¿™ä¸»è¦æ˜¯å› ä¸ºä»–ä»¬å·²ç»ä¹ æƒ¯äºå¤„ç†äººå·¥æ™ºèƒ½å’Œæœºå™¨å­¦ä¹ (ML)æ‰€ä¾èµ–çš„æµ·é‡æ•°æ®ã€‚ç”±äºè¿™ä¸æ˜¯ä¸€æ—¶çš„æ—¶å°šï¼Œæ‰€ä»¥ç”µä¿¡å…¬å¸å¿…é¡»ä¸äººå·¥æ™ºèƒ½è¿›è¡Œé•¿æœŸåšå¼ˆï¼Œå¹¶è€ƒè™‘æ¢ç´¢è¾ƒå°‘çš„é¢†åŸŸï¼Œä»¥é‡Šæ”¾æ–°çš„æ”¶å…¥æµã€‚

äººå·¥æ™ºèƒ½å’Œäººå·¥æ™ºèƒ½éœ€è¦å¤§é‡çš„æ•°æ®æ‰èƒ½æ­£å¸¸å·¥ä½œï¼Œä½†æ•°æ®ä¹Ÿå¿…é¡»æœ‰è¶³å¤Ÿçš„è´¨é‡ã€‚å¦‚æœæ²¡æœ‰é€‚å½“æ•°é‡çš„é«˜è´¨é‡æ•°æ®ï¼Œäººå·¥æ™ºèƒ½æˆ– ML æ¨¡å‹æ¨èçš„å†³ç­–å°±ä¸å¤ªå¯èƒ½å‡†ç¡®æˆ–æˆåŠŸã€‚

> ä»ç§¯æçš„ä¸€é¢æ¥çœ‹ï¼Œç”µä¿¡å…¬å¸ç¡®å®å¯ä»¥è®¿é—®å¤§é‡æ•°æ®ï¼Œå¯èƒ½æ¯”å¤§å¤šæ•°å…¶ä»–è¡Œä¸šçš„å…¬å¸éƒ½è¦å¤šã€‚ç„¶è€Œï¼Œå›°éš¾åœ¨äºæ•è·æ­£ç¡®çš„æ•°æ®é›†ï¼Œå¹¶ä»¥ ML æ‰€éœ€çš„ç²’åº¦å­˜å‚¨å®ƒä»¬ã€‚

ä»¥ä¼ ç»Ÿçš„æ–¹å¼æ”¶é›†é«˜è´¨é‡çš„æ•°æ®æ˜¯ä¸€å›äº‹ï¼Œä½†æ˜¯ä»¥ç‰¹å®šçš„æ–¹å¼è·å–è¿™äº›æ•°æ®æ˜¯å¦ä¸€å›äº‹ï¼Œæ‚¨å¯èƒ½éœ€è¦ä»¥ç‰¹å®šçš„æ–¹å¼æ¥è§£å†³ä¸€ä¸ªç”¨ä¾‹ã€‚å¦‚ä»Šï¼Œå¤§å¤šæ•°ç”µä¿¡è¿è¥å•†çš„ç½‘é¡µéƒ½æœ‰å¤§é‡çš„é€‰æ‹©ï¼Œè¿™ä½¿å¾—å®¢æˆ·è¶Šæ¥è¶Šéš¾æ‰¾åˆ°è‡ªå·±æƒ³è¦çš„äº§å“ã€‚

*å¦‚æœåŒä¸€ä¸ªç½‘é¡µå¯ä»¥æ ¹æ®ç°æœ‰å®¢æˆ·è¿‡å»çš„é€‰æ‹©ï¼Œè‡ªåŠ¨å‘æ‚¨æ¨èå„ç§é™„åŠ äº§å“/æ†ç»‘åŒ…ï¼Œæ‚¨ä¸è®¤ä¸ºè¿™å°†éå¸¸é‡è¦å—ï¼Ÿ*

# éœ€è¦ç”µä¿¡æ¨èç³»ç»Ÿ

![](img/cf2bc980dc07cd88e4266b736b3bda4f.png)

å°†ä¼ ç»Ÿæ¨èç³»ç»Ÿçš„æ¦‚å¿µåº”ç”¨äºç”µä¿¡è¡Œä¸š(æ¥æº-[https://bit.ly/3f4XhA3](https://bit.ly/3f4XhA3)

å¯ä»¥æ ¹æ®å…¶ä»–ç”¨æˆ·çš„é€‰æ‹©å¯¹æ¨èç³»ç»Ÿè¿›è¡Œå¾®è°ƒï¼Œä»¥è¿åˆç”¨æˆ·ç®€æ¡£/åå¥½ã€‚è¯¥ç³»ç»Ÿçš„ä¼˜ç‚¹æ˜¯é€šè¿‡åº”ç”¨ä¿¡æ¯è¿‡æ»¤ç®—æ³•ï¼ŒåŸºäºç‰¹å®šç”¨æˆ·çš„æ˜¾æ€§å’Œéšæ€§åå¥½ï¼Œå‘ä»–ä»¬å»ºè®®æ­£ç¡®çš„é¡¹ç›®(åŸºç¡€è®¡åˆ’æˆ–é™„åŠ äº§å“)ã€‚æˆ‘ç”¨æ¥å®ç°çš„ç®—æ³•å«åš Aprioriã€‚

## ç®—æ³•æè¿°

> Apriori ç®—æ³•â€”â€”å®ƒåªæ˜¯å¯¹å®¢æˆ·äº¤æ˜“æ•°æ®åº“çš„ç ”ç©¶ï¼Œä»¥ç¡®å®šä¸åŒè®¡åˆ’/äº§å“çš„è´­ä¹°ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚
> 
> æ¢å¥è¯è¯´ï¼Œå°±æ˜¯â€œä»€ä¹ˆé…ä»€ä¹ˆâ€çš„å­¦é—®ã€‚

å®¢æˆ·äº¤æ˜“çš„è¯¦ç»†ä¿¡æ¯çš„å¯ç”¨æ€§å¯¼è‡´äº†è‡ªåŠ¨å¯»æ‰¾å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„é¡¹ç›®ä¹‹é—´çš„å…³è”çš„æŠ€æœ¯çš„å‘å±•ã€‚ç¤ºä¾‹â€”ç½‘ç»œè¿è¥å•†åœ¨å…¶æ•°æ®åº“ä¸­æ”¶é›†å…³äºæ¯ä¸ªè®¡åˆ’/åŸºç¡€åŒ…ä»¥åŠé™„åŠ äº§å“çš„å®¢æˆ·äº¤æ˜“çš„æ•°æ®ã€‚è¿™ç§æ•°æ®åº“ç”±å¤§é‡äº¤æ˜“è®°å½•ç»„æˆï¼Œå…¶ä¸­æ¯ä¸ªè®°å½•åˆ—å‡ºäº†å®¢æˆ·è´­ä¹°çš„åŸºç¡€è®¡åˆ’æˆ–é™„åŠ äº§å“ã€‚

# å®æ–½æ­¥éª¤

## ç¬¬ä¸€æ­¥

é€šè¿‡ä½¿ç”¨ Python å¯¹å®¢æˆ·äº¤æ˜“æ•°æ®æ‰§è¡ŒåŸºæœ¬ EDAï¼Œå¾ˆå¯èƒ½ä¼šè§‚å¯Ÿåˆ°æŸäº›åŸºç¡€åŒ…/è®¡åˆ’æ¯”å…¶ä»–åŒ…/è®¡åˆ’å‡ºç°å¾—æ›´é¢‘ç¹ã€‚å› æ­¤ï¼Œä½œä¸ºç¬¬ä¸€æ­¥ï¼Œæ˜¾ç¤ºä¸€ä¸ªæµè¡Œçš„åŸºç¡€åŒ…åˆ—è¡¨æ˜¯ä¸ªå¥½ä¸»æ„ã€‚å‡è®¾æ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨ pandas dataframe 'df 'ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç è·å¾—æµè¡Œçš„åŸºç¡€åŒ…/è®¡åˆ’åˆ—è¡¨ã€‚

```
df["BASE_PACKAGE_NAME"].value_counts()
```

## ç¬¬äºŒæ­¥

ä½¿ç”¨ Python å°†è¿™äº›æ•°æ®è½¬æ¢æˆæ¯ä¸ªè®°å½•éƒ½åˆ—å‡ºç”¨æˆ·è´­ä¹°çš„æ‰€æœ‰å•†å“çš„è¡¨å•ä¸ä¼šæœ‰å¤ªå¤§çš„å›°éš¾ã€‚

![](img/642b61a3e26c16d0442dd8a4af75c5b0.png)

å®¢æˆ·äº¤æ˜“æ•°æ®åº“å¿«ç…§

> *åœ¨è¿™ä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬æƒ³çŸ¥é“*æŸäº›ç»„çš„å•†å“æ˜¯å¦æ€»æ˜¯ä¸€èµ·è´­ä¹°*ï¼Œè¿™å¯ä»¥åœ¨ Apriori ç®—æ³•çš„å¸®åŠ©ä¸‹æ‰¾åˆ°ã€‚*

```
#Convert the dataframe to a list
records = df.values.tolist()#Generate association rules with required 
#minimum support, confidence and lift
from apyori import apriori
association_rules = apriori(records, min_support=0.3346, min_confidence=0.20, min_lift=3, min_length=3)
association_results = list(association_rules)
```

Apriori ç®—æ³•ä¸­æœ‰å››ä¸ªæ€§èƒ½æŒ‡æ ‡ã€‚è¿™äº›å‚æ•°ç”¨äºæ’é™¤ç»“æœä¸­æ”¯æŒåº¦å’Œç½®ä¿¡åº¦åˆ†åˆ«ä½äºæœ€å°æ”¯æŒåº¦ã€ç½®ä¿¡åº¦ã€æå‡æˆ–é•¿åº¦çš„å…³è”è§„åˆ™ã€‚

1.  **min_support** â€”ä»‹äº 0 å’Œ 1 ä¹‹é—´çš„æµ®ç‚¹å€¼ï¼›ç”¨äºé€‰æ‹©æ”¯æŒå€¼å¤§äºå‚æ•°ä¸­æŒ‡å®šå€¼çš„é¡¹ç›®ã€‚

![](img/df69b433e833ac8e7d355fef14281de4.png)

**2ã€‚min_confidence** â€”ä»‹äº 0 å’Œ 1 ä¹‹é—´çš„æµ®ç‚¹å€¼ï¼›ç”¨äºç­›é€‰å¯ä¿¡åº¦å¤§äºå‚æ•°ä¸­æŒ‡å®šçš„å¯ä¿¡åº¦é˜ˆå€¼çš„è§„åˆ™ã€‚

![](img/a5567df8d0f0c7e900b9f3c3aca909f4.png)

**3ã€‚min_lift** â€”æŒ‡å®šå…¥å›´è§„åˆ™çš„æœ€å°æå‡å€¼ã€‚

![](img/0347924388407fbc78868dee3b46f6d2.png)

**4ã€‚min_length** â€”æŒ‡å®šå¸Œæœ›åœ¨å…³è”è§„åˆ™é¡¹ç›®é›†ä¸­çœ‹åˆ°çš„æœ€å°é¡¹ç›®æ•°ã€‚

min_supportã€min_confidence å’Œ min_lift å‚æ•°çš„æœ€ä½³å€¼å¯ä»¥é€šè¿‡å°è¯•ä¸åŒçš„å€¼å¹¶æ£€æŸ¥å®ƒä»¬æ˜¯å¦åœ¨é¡¹é›†ä¹‹é—´äº§ç”Ÿæœ‰æ•ˆçš„å…³è”æ¥è®¾ç½®ã€‚

## ç¬¬ä¸‰æ­¥

ä»¥å¯ç†è§£çš„æ ¼å¼è·å–å…³è”è§„åˆ™å¯èƒ½æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ï¼›ä»¥ä¸‹æ˜¯æˆ‘å¦‚ä½•å…‹æœçš„ã€‚è¯·æ³¨æ„ï¼Œ**â€˜å‰ä»»â€™**æ˜¯åœ¨æ•°æ®ä¸­æ‰¾åˆ°çš„é¡¹ç›®ï¼Œè€Œ**â€˜ç»§ä»»è€…â€™**æ˜¯ç»“åˆå‰ä»»æ‰¾åˆ°çš„é¡¹ç›®ã€‚

```
#Create a dataframe with all the necessary information
df = pd.DataFrame(columns=('Items','Predecessor','Successor','Support','Confidence','Lift'))Support =[]
Confidence = []
Lift = []
Items = []
Predecessor= []
Successor=[]for RelationRecord in association_results:
    for ordered_stat in RelationRecord.ordered_statistics:
        Support.append(RelationRecord.support)
        Items.append(RelationRecord.items)
        Predecessor.append(ordered_stat.items_base)
        Successor.append(ordered_stat.items_add)
        Confidence.append(ordered_stat.confidence)
        Lift.append(ordered_stat.lift)df['Items'] = list(map(set, Items))                                   
df['Predecessor'] = list(map(set, Predecessor))
df['Successor'] = list(map(set, Successor))
df['Support'] = Support
df['Confidence'] = Confidence
df['Lift']= Lift#Sort the dataframe based on confidence 
df.sort_values(by ='Confidence', ascending = False, inplace = True)
```

## ç¬¬å››æ­¥

å¦‚æœâ€œå‰ä»»â€åˆ—å€¼ç­‰äºå®¢æˆ·ä»æµè¡Œå¥—é¤åˆ—è¡¨ä¸­é€‰æ‹©çš„åŸºç¡€å¥—é¤åç§°ï¼Œåˆ™é€šè¿‡æŒ‘é€‰â€œç»§ä»»è€…â€åˆ—ä¸­çš„é¡¹ç›®æ¥æä¾›æ­£ç¡®çš„æ¨èã€‚

```
#Picking the records for a particular plan/base_package that has been selected by the customer on the GUI
package_name = "1GB/Day(24 day Validity)"index=[]
for key, value in df["Predecessor"].iteritems(): 
    if len(value) == 1 and package_name in value:
        print(key,value)
        index.append(key)

recommendations = df[df.index.isin(index)]
```

ç§å•Šã€‚

![](img/19528452169b96badee5e23758150194.png)

äº§å“æ¨èåˆ—è¡¨

è¯·æ³¨æ„ï¼Œé¢‘ç¹è´­ä¹°ç™¾åˆ†æ¯”æ˜¯ç½®ä¿¡åº¦å‚æ•°çš„åº¦é‡ï¼Œå®ƒæ˜¯ç”±å‰é¢æåˆ°çš„ Apriori ç®—æ³•è®¡ç®—çš„ã€‚

![](img/c8e565ab18a1ad1549170fd8c63d16b7.png)

# ç»“è®ºå’Œæœªæ¥å·¥ä½œ

ä½œä¸ºç”µä¿¡è¡Œä¸šçš„ä¸€å‘˜ï¼Œæˆ‘å·²ç»æœ‰å°†è¿‘ 5 å¹´çš„æ—¶é—´äº†ï¼Œæˆ‘çœ‹åˆ°ä»»ä½•äººå·¥æ™ºèƒ½é¡¹ç›®éƒ½æœ‰å„ç§å„æ ·çš„æŠ€æœ¯å’Œç»„ç»‡é—®é¢˜ï¼›è¿™å¹¶ä¸å¥‡æ€ªï¼Œå› ä¸ºäººå·¥æ™ºèƒ½æ˜¯ä¸€ä¸ªä¸åˆ‡å®é™…çš„ä¸œè¥¿ï¼Œä½ éœ€è¦ç»™ç»„ç»‡ä¸€äº›æœ‰å½¢çš„ä¸œè¥¿ã€‚å› æ­¤ï¼Œä»æ¦‚å¿µåˆ°å®é™…é¡¹ç›®çš„é£è·ƒï¼Œæˆ–è€…ä»è¯•ç‚¹äººå·¥æ™ºèƒ½æ¦‚å¿µéªŒè¯é¡¹ç›®åˆ°å®é™…éƒ¨ç½²æ˜¯ä¸€ä¸ªè¿›ä¸€æ­¥çš„æŒ‘æˆ˜ã€‚è¿™ç¯‡åšå®¢ä¸­æè¿°çš„å…³è”è§„åˆ™æŒ–æ˜æ–¹æ³•è¯æ˜äº†è‡ªåŠ¨åŒ–ç›¸ä¼¼æ€§åˆ†æçš„å¥½å¤„ï¼Œå¹¶ä¸”åœ¨æˆ‘çœ‹æ¥æ˜¯ç”µä¿¡å…¬å¸çš„åŸºæœ¬ä¸šåŠ¡ç”¨ä¾‹ã€‚éå¸¸é‡è¦çš„æ˜¯ï¼Œè¦æ¸…æ¥šåœ°äº†è§£è¿™ç§æŠ•èµ„çš„æˆåŠŸè¦ç´ ã€‚

æ›´è¿›ä¸€æ­¥ï¼Œä¸Šè¿°å®ç°ä»…é™äºä¸ºé€šè¿‡ web-GUI/kiosk è®¢é˜…ç½‘ç»œçš„æ–°å®¢æˆ·æä¾›æ¨èã€‚è¯¥æ¨¡å‹å¯ä»¥é€šè¿‡åœ¨åˆå§‹é˜¶æ®µæ·»åŠ èšç±»ç®—æ³•å‘ç°æœ‰/æ–°å®¢æˆ·æä¾›æ¨èæ¥æ”¹è¿›ï¼›è¿™å°†æ ¹æ®å¹´é¾„ã€å·¥èµ„ã€åœ°ç†æ•°æ®ç­‰å¯¹å®¢æˆ·è¿›è¡Œç»†åˆ†ã€‚æ­¤å¤–ï¼ŒApriori ç®—æ³•çš„ä¸€äº›ç¼ºç‚¹æ˜¯ç”Ÿæˆçš„è§„åˆ™å¤ªå¤šï¼Œå¹¶ä¸”é¡¹ç›®é›†çš„ç½•è§ç»„åˆå¾€å¾€ä¼šè¢«å¿½ç•¥ï¼Œå› ä¸ºå®ƒä»¬ä¸æ»¡è¶³æœ€ä½æ”¯æŒè¦æ±‚ã€‚ä½¿ç”¨æ›´å¥å£®çš„ç®—æ³•å°†æœ‰åŠ©äºè§£å†³è¿™ä¸ªé—®é¢˜ã€‚

*æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼*

# å‚è€ƒ

[1][https://www.appliedaicourse.com/](https://www.appliedaicourse.com/)

[2]ç”µä¿¡å’Œäººå·¥æ™ºèƒ½:åˆ›é€ äººå·¥æ™ºèƒ½é©±åŠ¨çš„ç”µä¿¡è¡Œä¸šéœ€è¦ä»€ä¹ˆâ€”â€”2019 å¹´ 5 æœˆï¼Œç”± STL Partners ä¸»åŠï¼Œè¯ºåŸºäºšæä¾›æ”¯æŒã€‚

[3]åŒ—äº¬å†œä¸šä¿¡æ¯æŠ€æœ¯ç ”ç©¶ä¸­å¿ƒå’ŒåŒ—äº¬è®¡ç®—æœºç§‘å­¦æŠ€æœ¯å­¦é™¢çš„ç ”ç©¶æ–‡ç« â€”â€”åˆ©ç”¨ç¼ºå¤±æ•°æ®æé«˜ Top-ğ‘Recommendation æ€§èƒ½ã€‚

[4]ç ”ç©¶æ–‡ç«  IEEE Communications Magazine çš„é¢„æµ‹æ€§ç”µä¿¡ç½‘ç»œç®¡ç†çš„æ¨èç³»ç»Ÿæ¶æ„ã€‚