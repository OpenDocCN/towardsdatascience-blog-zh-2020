# 处理日期和时间时你必须知道的 6 种方法

> 原文：<https://towardsdatascience.com/6-methods-you-must-know-when-dealing-with-datetime-fa0160fe579a?source=collection_archive---------41----------------------->

## 迄今为止最混乱的数据类型

![](img/00763c97cceb4d7190b180f71c92c890.png)

[图像 1](https://unsplash.com/photos/tT2DSShVDTI) ，[图像 2](https://unsplash.com/photos/faixctm2YRQ) 。免费分享图片。

日期和时间对于任何编程应用都是不可或缺的——它是运动的驱动力，也是我们在宇宙巨大时间线上所处位置的稳定指示器。计算机科学中的每个子领域——从数据科学和人工智能到设计网页——都需要理解处理日期。

因为它们太混乱了(简单的任务:尝试编写一个程序，在没有任何外部库的情况下找到 date *n* 之后 64 天的日期)，并且非常复杂——日期的长度、闰年、嵌套在父对象中的子对象——当处理 datetime 对象时，您必须知道这 6 个函数和方法。

> 注意:本文讨论 Python 中的 datetime。

# dateutil.parser.parse

将字符串转换成日期很常见——要访问一个`datetime`对象的属性，代表日期的字符串必须转换成日期。不幸的是，数据集或其他数据源几乎从来没有能够方便访问的`datetime`对象。将字符串转换为日期最好的库是`dateutil`，它可以自动推断日、月、年的位置，这需要用其他库来指定。

`dateutil`可以适应各种各样的日期，其中每一行的每一个命令自动推断物体的位置并产生相同的结果(`datetime.datetime(2040, 7, 3, 0, 0)`):

如果一个人能从字符串中分辨出日期，那么`dateutil`也能。使用这个库，您可以避免通过传统的日期时间转换方法执行的烦人的日期对象映射。当并非所有日期都以相同的格式出现时，这一点尤其有用，现实世界的数据通常就是这种情况。

# datetime.datetime.now()

要访问当前时间，使用`datetime.datetime.now()`。这将返回一个 datetime 对象，返回您所在地区的时间，精确到微秒。

另一种方法是`datetime.datetime.today()`，它返回相同的信息，但是精度较低。这可能更适合于高流量的情况，在这种情况下，计算时间的微小改进可能证明是有价值的。

# 日期时间.时间增量

当您找到两个 datetime 对象之间的差异时，将返回 timedelta 对象。例如，要返回 1938 年 7 月 3 日到 2020 年 5 月 30 日之间的差值，将运行以下代码:

简单地在两个 datetime 对象之间使用减号操作符交互将创建一个 timedelta 对象，在本例中，该对象被保存到变量`delta`。

timedelta 对象有几个属性:

您甚至可以将 timedelta 对象添加到常规 datetime 对象中:

# 日历。Calendar.itermonthdates()

Calendar 是一个建立在 datetime 之上的库，它提供了方便的日历相关函数，有助于避免手动跟踪闰年和一个月中的天数。为了访问迭代函数，必须首先创建一个`Calendar`对象。

参数`firstweekday`设置为 0，表示星期一，但也可以设置为 6(星期日)或两者之间的任何一天。

考虑`.itermonthdates()`，它接受一个月和一年，并返回一个迭代器，该迭代器包含该月中的所有日期，包括完成一周所需的任何前后日期。

输出如下所示:

Calendar 还有许多其他函数来返回各种各样的迭代器，以及其他功能，如打印 HTML 或文本日历，这些可以在文档页面访问:

 [## 日历-通用日历相关函数- Python 3.8.3 文档

### 源代码:Lib/calendar.py 这个模块允许你像 Unix cal 程序一样输出日历，并提供…

docs.python.org](https://docs.python.org/3/library/calendar.html) 

# 箭头。Arrow.humanize()

Arrow 是一个 Python 库，它的`humanize()`属性非常突出。这种方法允许人们更无缝地与日期对象交互和解释日期对象。首先必须创建一个 Arrow 对象(可以容纳 datetime 对象并转换成`Arrow`对象)。

调用`time.humanize()`将产生一个字符串，其中包含一条人类可读的消息，描述`time`是从多久以前到现在。

可以想象，这个特性对 UI 设计开发人员特别有帮助，他们可以用它来显示像“Josh 两分钟前发送了这条消息”或“你一年前编辑了这个文档”这样的消息。Arrow 也可以处理未来的日期。

# 德罗林

为了纪念*回到未来*而命名，Delorean 主要是因为其方便的自然语言理解而被使用，这意味着通过日期操作人类导航的简易性。首先，创建一个 Delorean 对象，它可以容纳`datetime`对象:

如果您想获得下周、下周五、上周二的日期，或者任何数量的可理解的命令，只需调用适当的函数:

这可以为您和阅读您代码的人提供更容易、更直观的日期操作。

## 感谢阅读！

希望这些库和方法可以帮助您处理日期和时间！