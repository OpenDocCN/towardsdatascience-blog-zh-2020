<html>
<head>
<title>Text Generation from Knowledge Graphs with Graph Transformers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于图转换器的知识图文本生成</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/text-generation-from-knowledge-graphs-with-graph-transformers-c84156ddd446?source=collection_archive---------27-----------------------#2020-08-25">https://towardsdatascience.com/text-generation-from-knowledge-graphs-with-graph-transformers-c84156ddd446?source=collection_archive---------27-----------------------#2020-08-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="fe21" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">结构概要</p><p id="d7f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">鉴于变压器模型开发的速度和 GPT-3 改变世界的影响，这篇 2019 年的论文有点不合时宜。然而，作为一个有认知科学背景的人，我喜欢模型，因为它们的结构而不是原始的计算能力，可以帮助揭开认知过程的帷幕。该模型试图解决表示长期依赖关系的问题。</p><p id="4752" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">语言生成大致包括两个部分，规划和实现。实现纯粹是生成语法文本的任务，不管它的意义、与其他文本的关系或整体意义。规划是确保文本中实体之间的长期依赖关系得到解决，以及项目以正确的方式在语义上相互关联的过程。在下一个短语中，关键实体是约翰，伦敦，英国，酒保。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/4c9f22637e85b1e27e75d63cd74f5067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DRkgnIlnMu9ZikanM1YvkQ.png"/></div></div><p class="ky kz gj gh gi la lb bd b be z dk translated">Moryossef，2019 |【https://arxiv.org/abs/1904.03396 T4】</p></figure><p id="1c39" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">规划是管理那些实体和它们之间的关系，实现是产生短语“约翰，他是一名酒保，住在英国的首都伦敦”(Moryossef，2019)。</p><p id="49bd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">GraphWriter 根据标题中的单词和构建的知识图生成摘要。本文的贡献包括:</p><ul class=""><li id="a0d1" class="ld le iq jp b jq jr ju jv jy lf kc lg kg lh kk li lj lk ll bi translated">一种新的图形转换器编码器，将序列转换器应用于图形结构输入</li><li id="6348" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk li lj lk ll bi translated">展示了如何将 IE 输出转换成一个连通的无标签图，以用于基于注意力的编码器</li><li id="661c" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk li lj lk ll bi translated">与科学文本配对的知识图表数据集，用于进一步研究</li></ul><p id="1cb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在输入进入编码器之前(稍后会详细介绍)，必须以正确的方式进行排列。这个模型的输入有两个渠道，标题，以及实体和关系的知识图。</p><h1 id="8b6a" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">资料组</h1><p id="337f" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">为此，引入了议程数据集——基于取自语义学者语料库的前 12 次人工智能会议的 4 万篇论文标题和摘要。(Ammar 等人，2018 年)在下面的图表创建和预处理之后，数据集被输入到模型中。完整的回购，包括数据集，可在<a class="ae lc" href="https://github.com/rikdz/GraphWriter" rel="noopener ugc nofollow" target="_blank">这里</a>获得。</p><h1 id="1ad6" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">图形预处理:</h1><p id="9f6e" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">创建知识图表:</p><ol class=""><li id="45a2" class="ld le iq jp b jq jr ju jv jy lf kc lg kg lh kk mu lj lk ll bi translated">应用了栾等人(2017)的 NER/IE SciIE 系统，该系统提取实体并对它们进行标记，以及创建共指标注</li><li id="c489" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk mu lj lk ll bi translated">然后，这些注释被折叠成单个带标签的边</li></ol><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/b7b2c855459c730c4e6d1861884d3818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*1u0jDv_cC_l1hm05yfzz9A.png"/></div><p class="ky kz gj gh gi la lb bd b be z dk translated">Koncel-Kedziorski(艾伦研究所)| 2019</p></figure><p id="31bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.然后，使用添加的全局节点将每个图转换为连通图，所有其他节点都连接到该全局节点。</p><p id="ba62" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.然后，每个带标签的边被表示每个方向上的关系的两个节点所代替，并且新的边是不带标签的。这允许图形被表示为邻接矩阵，这是容易处理的必要前提。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/a49a7ca3a1337837e4c104cd102d3779.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*Ge9wn1l5F-Dq5FNR4-_2lw.png"/></div><p class="ky kz gj gh gi la lb bd b be z dk translated">Koncel-Kedziorski(艾伦研究所)| 2019</p></figure><p id="a1fb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个图形成的一个关键特征是增加了一个全局节点 G，所有的实体都连接到这个节点上，这个节点把不连通的图变成了连通的图。因此，最终产品是一个连通的、无标号的二分图。</p><h1 id="89ad" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">模型架构:</h1><p id="54e7" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">该模型使用编码器-解码器架构，以未标记的二分图和标题作为输入。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/8261a60c0ada093f28f70cfea7428f30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*psuBmnxol2SDJADj6iLgpA.png"/></div><p class="ky kz gj gh gi la lb bd b be z dk translated">Koncel-Kedziorski(艾伦研究所)| 2019</p></figure><p id="7499" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">标题编码器</strong>:标题用 BiLSTM 编码，使用 512 维嵌入。没有预先训练的单词嵌入被用于此。</p><p id="7f35" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">图形编码器</strong>:</p><p id="948f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一步是，通过关注<strong class="jp ir"> v </strong>的邻域中的所有其他顶点，每个顶点表示<strong class="jp ir"> v </strong> i 被上下文化。</p><p id="649d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，图形编码器通过连接由 N 个注意力头部产生的注意力权重的乘积来创建一组顶点嵌入。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/53c6c50869fbf4eb7f47d4f3f28898b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*sEw8dqpU8Y3UXhfjQeDHtQ.png"/></div></figure><p id="2098" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后用“块”网络增加这些嵌入，所述“块”网络由每个两层的多个堆叠块组成，具有以下形式:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi my"><img src="../Images/0f59fbb47fb75619664f5de2f7218368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*VC4bTgIQpL1mbyNaa-I6lw.png"/></div></figure><p id="f604" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最终结果是一个实体、关系及其与全局节点的上下文的列表，称为<em class="kl">图上下文化顶点编码</em>。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/f7f69aae53328470c2c32df4b4d24095.png" data-original-src="https://miro.medium.com/v2/resize:fit:330/format:webp/1*tUUnrJFMfap443INfs5Jjw.png"/></div></figure><h1 id="4b76" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">解码器(图形和标题)</h1><p id="13ab" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">解码器是基于注意力的，具有复制机制，用于从知识图中的实体和标题中的单词复制输入。它还在每个时间步长<strong class="jp ir"> <em class="kl"> t </em> </strong> <em class="kl">使用隐藏状态<strong class="jp ir"> h </strong> t。</em></p><p id="9890" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">根据用编码器创建的编码，使用多头注意力来计算上下文向量 Cg 和 Cs</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi na"><img src="../Images/e7fbbbf343a10fef59156810dd1b5250.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*uF-0M6WnHk1V28Izzzj79A.png"/></div></figure><p id="5b3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里，Cs(标题上下文向量)的计算方式与 Cg 相同。这两者连接在一起形成 Ct，即总的上下文向量。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/9a5d47b7bf01813ec7ee2d817d39aa86.png" data-original-src="https://miro.medium.com/v2/resize:fit:312/format:webp/1*Df2q0_RyLq0GwpPKQCjfPQ.png"/></div></figure><p id="8985" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">根据该上下文向量，从标题中的单词或实体名称复制标记的概率是通过总上下文向量乘以 Wcopy 来计算的。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/32f0ed76044da52ac0648cec6a691fa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*HftMkECVh44QyfOzne0-qg.png"/></div></figure><p id="c845" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最终的下一个令牌概率分布是:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/df65f481587a3688d6c1e3b1ca32a12d.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*Vmen4uIK5_R5tg2D1x95Jw.png"/></div></figure><h1 id="3ef9" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">实验</h1><p id="19ab" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">GraphWriter 与 GAT(用图形注意力替换了图形转换器)、EntityWriter(类似 GraphWriter，但不使用图形结构)、Rewriter (Wang 等人，2018)(仅使用标题编码)进行比较。</p><p id="f9b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">使用的人工和自动评估指标:</strong></p><ul class=""><li id="79e4" class="ld le iq jp b jq jr ju jv jy lf kc lg kg lh kk li lj lk ll bi translated">领域专家判断摘要是否符合标题。最佳-最差标度(Louviere 和 Woodworth，1991 年)</li><li id="757d" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk li lj lk ll bi translated">蓝色(帕皮尼尼等人，2002 年)</li><li id="012e" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk li lj lk ll bi translated">METEOR (Denkowski 和 Lavie，2014 年)(生成的输出与原始摘要相比，在单字频率上的精确度和召回率)</li></ul><p id="d947" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">自动评估:</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/9ef61c1df2742284a978b56bae3782ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*R2lrtY7c8QCy3b2I44v_rw.png"/></div></figure><p id="eb40" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">人类评价:</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/6e95435fa3e2e1e55aeb68ea5568f1d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*nBKvcrKpq1hyBMRUUCLNRQ.png"/></div></figure><p id="565c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这篇论文有一个特别的地方让我有点失望；“主题专家”是计算机专业的本科生。虽然本科生毕业时可以知道很多东西，但我不知道他们通常对计算机科学的学术论文有多熟悉。</p><p id="f1ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">关于人类对抽象质量的判断，我认为最能说明问题的是，虽然人类的产出并不总是被认为是最好的，但也从来不是最差的。这让我怀疑，这些生成的摘要中有一些相对缺乏经验的本科生不太清楚的东西，但尽管如此，还是提醒他们有些不对劲。</p><p id="70e5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在研究了用于生成的解码机制之后，问题是最终有多少被复制了，有多少被生成了？为此，我给作者 Rik Koncel-Kedziorski 发了电子邮件，要他提供的摘要和原始文档的副本。</p><p id="fbed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">原文摘要</strong>:</p><pre class="kn ko kp kq gt ng nh ni nj aw nk bi"><span id="b1c0" class="nl ls iq nh b gy nm nn l no np">we present a learning architecture for lexical semantic classification problems that supplements task-specific training data with background data encoding general '' world knowledge '' . the learning architecture compiles knowledge contained in a dictionary-ontology into additional training data , and integrates task-specific and background data through a novel hierarchical learning architecture . experiments on a word sense disambiguation task provide empirical evidence that this '' hierarchical learning architecture '' outperforms a state-of-the-art standard '' flat '' one .</span></pre><p id="694a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">graph writer 生成的摘要</strong>:</p><pre class="kn ko kp kq gt ng nh ni nj aw nk bi"><span id="c1a7" class="nl ls iq nh b gy nm nn l no np">in this paper , we present a novel learning architecture for lexical semantic classification problems , in which a learning architecture can be trained on a large amount of training data . in the proposed learning architecture , a hierarchical learning architecture is learned to select the most informative examples from the source domain to the target domain . the learning architecture is trained in a hierarchical learning architecture , where the background data is learned from the training data in the target domain . the learning architecture is trained on data from the source domain and a target domain in the target domain . experimental results show that the proposed learning architecture is effective in improving the performance of lexical semantic classification problems .</span></pre><h1 id="66a6" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">分析:</h1><p id="d44f" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">这里调查的一个关键问题是知识是否有帮助，以某种显式编码的形式，而不是仅仅被一个有许多参数的模型吸收。在这种情况下，它做到了。Rewriter 是一家总部位于 LSTM 的模型，它只使用标题词来生成摘要，在所有选择的评估指标中表现最差。EntityWriter 比 GraphWriter 使用更多的信息，是一个有效的控件，因为它使用提取的相同实体，但没有图形提供的上下文。它比没有使用任何形式的知识表现更好，但仍然优于使用由图创建的上下文的模型。</p><p id="3716" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我认为在这里不要认为 GraphWriter 与 GPT-3 在合理的人类输出方面存在直接竞争是很重要的，它显然不是，我非科学地调查过的那些从来没有过的专家也不难分辨哪个是人类产生的，哪个显然不是。但是，这不是测试，也不是目标。测试是使用结构化领域知识的系统是否会比不使用结构化领域知识的系统做得更好，比如 EntityWriter，在这种情况下，确实如此。</p><h1 id="438a" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">参考资料:</h1><div class="nq nr gp gr ns nt"><a href="https://github.com/rikdz/GraphWriter" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">rikdz/GraphWriter</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">这个库包含了我们的论文《用图形转换器从知识图生成文本》的源代码</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">github.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh kw nt"/></div></div></a></div><p id="607a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Amit Moryossef、Yoav Goldberg 和 Ido Dagan。2019.一步一步:在神经数据到文本的生成中将计划与实现分开。计算语言学协会北美分会 2019 年会议录:人类语言技术，第 1 卷(长论文和短论文)，第 2267-2277 页，明尼苏达州明尼阿波利斯。计算语言学协会</p><p id="0057" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">莫里塞夫，戈德堡，达甘，<a class="ae lc" href="https://arxiv.org/abs/1904.03396" rel="noopener ugc nofollow" target="_blank">https://arxiv.org/abs/1904.03396</a></p><p id="c647" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">孔塞尔-凯济奥尔斯基，<a class="ae lc" href="https://arxiv.org/abs/1904.02342" rel="noopener ugc nofollow" target="_blank">https://arxiv.org/abs/1904.02342</a></p></div></div>    
</body>
</html>