# 为什么 CronTab 是终极数据科学后端工具

> 原文：<https://towardsdatascience.com/why-crontab-is-the-ultimate-data-science-back-end-tool-e3f212f2b13d?source=collection_archive---------64----------------------->

## 为什么 CronJobs 被低估为简单自动化的支柱。

![](img/c45eec349a1e1a04fcee6b9301b6156d.png)

# 介绍

数据科学的最终目标通常是自动化。虽然使用 Python、R 或 C 可以对传入的数据和预测做到这一点，但这些语言在运行系统操作方面做得不太好，而您可能需要运行系统操作来完成某些任务。通常可能会有一个您希望每天运行的脚本，或者一个需要在特定时间执行的简单文件移动。

幸运的是，在 Unix/GNU+Linux 中，我们又有了 Bourne Shell，简称 BASH。学习 Bash 将允许您通过 ssh、管理器或本地终端调用任何应用程序服务器端。这就是为什么今天使用的几乎所有服务器都是类 Unix 的根本原因，因为 Bash 已经成为计算开发前沿的主要工具和必需品。虽然 bash 很棒，但它并不是现成的自动化脚本，为了利用 Bash 命令自动运行脚本，我们需要使用一个名为 CronTab 的工具。

# CronTab 是什么？

CronTab 是一个通常在服务器后端使用的工具，它允许用户指定运行 Bash 命令的时间。这个 Bash 命令的范围可以从移动和获取文件到运行 Python 脚本，这是非常强大的。这在哪里会派上用场？我发现 CronTab 在数据科学中的一个很好的用途是运行一个脚本，该脚本重新训练并输出一个序列化的模型供端点使用。

这可能是最容易也是最被低估的重新训练机器学习模型的方式。使用 CronTab，您可以在大约 30 秒内用一个文件设置再培训。这对于在数据库中存储数据的模型，或者可以向其中添加数据的模型(如 LSTM 模型)尤其有用。

# 使用 CronTab

使用 CronTab 相对简单，而且相当容易。首先，您需要从各自的包管理器安装 CronTab:

```
sudo dnf install crontab
```

为了编辑 cronjobs，您需要运行 crontab -e。

```
crontab -e
```

这应该会在 GNU Nano 或 VIM 中打开一个配置文件。为了安排 CronTab，您需要将适当的时间转换为 cron 时间戳。首先，*当然意味着列表中任何值的全部。这些值按以下顺序排列:分钟、小时、日(一个月中)、月、日(一周中)，当然这些都存储为整数，例如:

```
4 5 * * *
```

翻译过来就是:

> "一周中每一天的每一个月的每一天的第 4 小时的第 5 分钟。"

换句话说，这将运行在

> 4:05

另一个简单的例子:

```
* * * * 2
```

这将在每个星期一运行，因为 2 是一周的第二天，当然是星期一。添加时间戳后，我们还需要给 cronjob 一个命令。这可以是任何 Bash 命令，但是请记住，您需要将完整的目录放入您正在使用的任何文件中。

```
5 * * * * . /var/www/rebuild_endpoints.sh
```

现在，如果您在 Nano 中，只需按 CTRL+O，然后按 CTRL+X，您的 Cronjob 就可以工作了！如果您在 VIM 中，那么只需:wq 来写文件并关闭 VIM。这就是全部了！

# 结论

我想强调一下这个强大的工具，因为以我的经验来看，它真的比任何人想象的都有用。我通常使用它在特定时间将新的更新模型自动放入我的端点，这样我的模型就可以用新数据进行训练，而无需维护工作。我保证，如果您熟悉服务器、Bash 和 CronTab 作为您的数据科学武库中的一个工具，您肯定不会后悔，并且您可能会惊讶于它原来是多么有价值！