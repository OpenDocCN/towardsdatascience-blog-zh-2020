<html>
<head>
<title>How Machine Learning Can Help with Customer Retention</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习如何帮助留住客户</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-machine-learning-can-help-with-customer-retention-6b5bf654e822?source=collection_archive---------9-----------------------#2020-04-30">https://towardsdatascience.com/how-machine-learning-can-help-with-customer-retention-6b5bf654e822?source=collection_archive---------9-----------------------#2020-04-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/998be86de42914a236417ad1c29798ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*usBDM2NTJNgwi1NXd1fNYw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">布莱克·维斯兹在<a class="ae jg" href="https://unsplash.com/s/photos/customers?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h2 id="ff04" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph">基本方法</h2><div class=""/><div class=""><h2 id="caa1" class="pw-subtitle-paragraph kp js jj bd b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dk translated">建立一个客户流失模型来理解客户离开的原因</h2></div></div><div class="ab cl lh li hx lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="im in io ip iq"><p id="e313" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated"><em class="mk">“…您的支付无法完成…”—</em>邮件中写道</p><p id="5031" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我很沮丧</p><p id="fc2e" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated"><em class="mk">“又来了！！！！…”</em>——我喊道</p><p id="c365" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">这是我的订阅连续第三个月出现这种情况。</p><p id="72b4" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我试着给客服打电话，发信息，但是没有人接，也没有解决办法。</p><p id="9eb0" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我想过退订。要是我不那么喜欢这个产品就好了。</p><p id="ef3e" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我开始寻找其他提供同样服务但客户服务更好的公司。</p><p id="aec5" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi ml translated"><span class="l mm mn mo bm mp mq mr ms mt di"> C </span>对于电子商务和在线业务来说，这是一个重要且具有挑战性的问题。</p><p id="0d98" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">对于任何一个企业来说，在一段时间内，客户可以分为三大类:新获得的客户、现有客户和流失的客户。</p><p id="2a56" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">被搅动的顾客是那些决定结束与公司关系的人。</p><p id="abe3" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">因为它们可以转化为收入的直接损失，所以预先预测可能流失的客户可以帮助公司挽回这一损失。</p><p id="05ba" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我们可以通过将案例分为不同类别来对客户流失进行分类:</p><p id="1405" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated"><em class="mk">合同流失</em>:此类流失适用于提供不同服务的企业，如有线电视公司。当客户决定不再继续他们到期的合同时，就会发生这种情况。</p><p id="ce77" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated"><em class="mk">自愿流失</em>:指客户决定取消现有服务的情况，适用于提供非固定期限服务的公司，如预付费手机或流媒体订阅。</p><p id="e3d3" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated"><em class="mk">非契约性流失</em>:这种类型的流失适用于依赖零售场所或在线商店的企业，例如，可能与消费者在未完成交易的情况下离开可能的购买相关。</p><p id="5ad5" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated"><em class="mk">非自愿流失</em>:当客户不再与信用卡公司合作或无法支付信用卡账单时，就会发生这种情况。</p><p id="7aaa" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">每个顾客都是不同的。所以，客户流失有几个完全不同的原因。</p><p id="2c0c" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">其中，我们可以发现产品使用不足、服务差，或者其他类似服务的定价更好。</p><p id="63a4" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">然而，有一点适用于所有行业:</p><blockquote class="mu"><p id="9bb5" class="mv mw jj bd mx my mz na nb nc nd mj dk translated">获得新客户的成本高于留住现有客户的成本</p></blockquote><p id="85db" class="pw-post-body-paragraph lo lp jj lq b lr ne kt lt lu nf kw lw lx ng lz ma mb nh md me mf ni mh mi mj im bi translated">因为获得它们的成本很高，所以努力留住它们是明智的。</p><p id="cf36" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">公司通过了解客户来避免客户流失。实现这一点的最佳方法之一是通过分析历史和新的客户数据。</p><p id="fca8" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">跟踪客户流失的指标之一是保留率，这是产品满足强大市场需求程度的指标，称为产品-市场匹配度。</p><p id="5205" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">如果产品与市场的匹配不令人满意，公司可能会经历客户流失。</p><p id="aa59" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">分析和提高留存率的有力工具是流失预测；一种帮助找出在给定时间段内哪个客户更有可能流失的技术。</p><h2 id="8672" class="nj nk jj bd nl nm nn dn no np nq dp nr lx ns nt nu mb nv nw nx mf ny nz oa jp bi translated">我们如何建立一个预测流失模型？</h2><p id="50fe" class="pw-post-body-paragraph lo lp jj lq b lr ob kt lt lu oc kw lw lx od lz ma mb oe md me mf of mh mi mj im bi translated">预测流失模型是一种分类工具。一种模型，它着眼于不同客户的特征，并了解哪些特征对确定客户是否会流失很重要。</p><p id="7262" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">在用于预测流失的最常见的分类模型中，我们发现支持向量机(SVM)、逻辑回归、随机森林、人工神经网络和朴素贝叶斯算法。</p><p id="b8dc" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">假设我们有一个<a class="ae jg" href="https://www.kaggle.com/adammaus/predicting-churn-for-bank-customers" rel="noopener ugc nofollow" target="_blank">数据集</a>，包含从银行提取账户的 10000 名客户的数据。这些数据描述了这些客户的一些属性，例如他们居住的国家、他们的信用评分、年龄、余额等等。</p><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/0833445ede0b5b8282401e0551820c1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UQgg0rL-e5KAAWHeaDO4wQ.png"/></div></div></figure><p id="b1bf" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我们的模型应该预测客户是否会流失。所以我们的目标变量将是<code class="fe ol om on oo b">exited</code>。</p><p id="7865" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我们应该分析数据，重点关注不同的特征如何与客户流失状态相关联。</p><p id="8048" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">但首先，让我们看看有多少客户流失。</p><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi or"><img src="../Images/3e59f1ac16045d529961683ce70eb24b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k9uWepZu3eqRvqYan0aWOw.png"/></div></div></figure><p id="2375" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我们可以观察到<strong class="lq jt"> 20.37% </strong>的客户发生了流失。</p><p id="ce4b" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">这些信息很有价值，因为对于分类模型，我们需要确认我们的数据集没有遭受数据不平衡，这通常反映了数据集中类的不平等分布。</p><p id="0116" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">即使阶级分布不均，我们也可以说它并没有遭受高阶级的不平衡。</p><p id="94fc" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">之后，我们可以分析分类变量和目标变量之间的关系</p><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/1677c00baa60f718a8b1cd7c69ab00df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QpDQhXuPyHYRMSpN0zK9cw.png"/></div></div></figure><p id="f66f" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">从这些情节中，我们了解到几件事:</p><p id="cda2" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">a.流失的女性客户比例大于男性客户比例。</p><p id="98d3" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">b.大多数顾客来自法国。然而，德国和西班牙的客户流失比例更高。</p><p id="9a47" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">c.流失的非活跃成员的比例高于活跃成员的比例。</p><p id="8e6d" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">现在，我们可以关注连续变量和目标变量之间的关系。</p><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/e7c86845b91b5edd6783371734cca172.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IHOx1l4YJ9ztNgpjvfghFA.png"/></div></div></figure><p id="3961" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">从这些情节中，我们了解到几件事:</p><p id="f112" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">a.流失的顾客比保留的顾客年龄大。</p><p id="08e9" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">b.流失客户和保留客户之间的信用评分或任期中位数没有差异。</p><p id="e83d" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">c.在流失的客户中，大多数人的银行账户似乎仍有可观的余额。</p><p id="5de0" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">d.无论是估计的工资还是产品的数量似乎对客户流失都没有影响</p><p id="494d" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">在我们开始寻找预测客户流失的模型之前，我们需要做一些特性工程。</p><p id="37b4" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">首先，我们将创建新功能。</p><p id="85ee" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我们拥有的一些变量可以结合到新功能中，以便更好地描述客户。</p><p id="3541" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我们之前看到，信用评分对交易量没有影响，因为信用评分通常会随着时间的推移而增加(因此，随着年龄的增长)，我们将创建一个新的特征来说明年龄对信用评分行为的影响。</p><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ot"><img src="../Images/3ee9f78c350b3cfbbe2365623c37c7be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ujdwkhZ09cPRYV47Ii9_w.png"/></div></div></figure><p id="dead" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">从年龄比例来看，频繁交易的客户似乎信用评分较低。</p><p id="d0c0" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我们已经看到，预计工资对客户流失的可能性没有影响。</p><p id="37e5" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">然而，一个有趣的探索特征是余额和工资之间的比率，因为这可以估计客户花费他们工资的百分比，并且可以是客户流失的可能指标。</p><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ou"><img src="../Images/99ad64e04f6cf6d92427cf889abccfff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*juPt31Dq1s5bt5di_XSbHA.png"/></div></div></figure><p id="664c" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我们已经使用<code class="fe ol om on oo b">age</code>、<code class="fe ol om on oo b">credit score</code>和<code class="fe ol om on oo b">balance</code>创建了新的变量。因此，我们将把它们排除在分析之外。它们将与我们的新变量相关联。</p><p id="af5c" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">之后，我们将对分类变量进行编码。</p><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="05ea" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">为了训练和测试我们的模型，我们需要将数据集分成两个子数据集:训练数据集和测试数据集。</p><p id="f43e" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">通常使用 80%-20%的规则来分割原始数据集。</p><p id="7de4" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">使用可靠的方法分割数据集以避免数据泄漏是很重要的；这是存在于测试集中的例子，它们也存在于训练集中，并且可能导致过度拟合。</p><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="8555" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我们准备建立不同的模型，寻找最适合的。预测客户流失是一个<strong class="lq jt">二元分类问题</strong>:在给定的一段时间内，客户要么流失，要么保留。</p><p id="db32" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我们将测试:</p><ol class=""><li id="4b27" class="ov ow jj lq b lr ls lu lv lx ox mb oy mf oz mj pa pb pc pd bi translated"><a class="ae jg" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html" rel="noopener ugc nofollow" target="_blank">逻辑回归分类器</a></li><li id="094a" class="ov ow jj lq b lr pe lu pf lx pg mb ph mf pi mj pa pb pc pd bi translated"><a class="ae jg" href="https://scikit-learn.org/stable/modules/generated/sklearn.svm.SVC.html" rel="noopener ugc nofollow" target="_blank">支持向量机</a>采用径向基函数核</li><li id="3d97" class="ov ow jj lq b lr pe lu pf lx pg mb ph mf pi mj pa pb pc pd bi translated"><a class="ae jg" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html?highlight=random%20forest#sklearn.ensemble.RandomForestClassifier" rel="noopener ugc nofollow" target="_blank">随机森林</a></li></ol><p id="1b28" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">对于每个模型，我们将遵循以下步骤:</p><p id="2c66" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated"><strong class="lq jt"> <em class="mk">参数搜索</em> : </strong>我们将确定我们要在每个模型中搜索的参数和值。然后，我们将执行<code class="fe ol om on oo b">GridSearchCV</code>并设置在我们的模型中获得的最佳参数。</p><p id="94d1" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated"><strong class="lq jt"> <em class="mk">最佳模型拟合:</em> </strong>找到最佳估计量后，我们将使用训练数据集对其进行训练。</p><p id="9ee0" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated"><strong class="lq jt"> <em class="mk">性能评估:</em> </strong>用我们的训练数据集训练出最好的模型后，我们要看看它们用我们的测试集表现如何。</p><p id="f2d2" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi ml translated"><span class="l mm mn mo bm mp mq mr ms mt di"> 1 </span> <strong class="lq jt">逻辑回归</strong> : <strong class="lq jt"> </strong>逻辑回归是最简单的机器学习模型之一，但却是非常有用的一种。</p><p id="0f38" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">它创建了一个模型，解释自变量如何对二元因变量产生影响。</p><p id="5303" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">换句话说，它定义了一个等式，其中包含了被认为会影响客户流失的特征，并试图为已经流失或没有流失的客户估计每个变量的最佳系数。</p><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pj"><img src="../Images/a2bc68f0d3394d26f0d9fc1dc2b01439.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D-tXByGOQIaM_cEarPg7qQ.png"/></div></div></figure><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/4ae21c0772b2b67c494abf63580a0a10.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*1cvjG9Ll1e9cvw-6X2fukQ.png"/></div></figure><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/b36ef2446f05deb61b24a2080f228f8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*6WrFU8v_iOh-wS949h2BQA.png"/></div></figure><p id="4cef" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">当我们计算这个模型的准确性时，结果是 81%。然而，召回率和 f1 分数在 50%左右，并且有很多假阴性，这是我们应该避免的情况。</p><p id="786a" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi ml translated"><span class="l mm mn mo bm mp mq mr ms mt di"> 2 </span></p><p id="dd89" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">为了将这些点分为两组，无论客户是否有交易，它都试图找到一个超平面，尽可能大的间隔将两组分开。</p><p id="f3a7" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">SVM 模型为每个数据点生成一个预测，并预测客户是否在流失群体中。</p><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/3fbc1580fe7efe5e4df322be35b16e47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*Np50rQZrUh_njTTKklhtSw.png"/></div></figure><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/2df43234d8adfe1a2646c28d1392c24b.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*wWOvQg8BhkMulLel0ubpQw.png"/></div></figure><p id="de30" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">当我们计算这个模型的准确性时，结果是 83%。召回率和 f1 值从 50%提高到 64%。还是有很多假阴性。</p><p id="2b5a" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi ml translated"><span class="l mm mn mo bm mp mq mr ms mt di">3</span>T25】随机森林分类器:随机森林是一种基于集成的算法。它包含大量随机化的决策树。</p><p id="4df3" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">这些决策树中的每一个都将对一个点进行分类，最终，所有树所达成的决策的多数票将被采用。这种技术有助于避免过度拟合。</p><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div class="gh gi po"><img src="../Images/d336f171125e620290d4d5de5c7b692b.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*XctwRTB0-SniXuosLAXvQQ.png"/></div></figure><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/a317bab15d5c5c819c4aa3080b30bf08.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/format:webp/1*k8ovSi2zrFiVCm4_TXprVQ.png"/></div></figure><p id="fd17" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">当我们计算模型的精确度时，它是 84%。召回率和 f1 评分提高了一点，达到 66%。还是有很多假阴性。</p><h2 id="cee4" class="nj nk jj bd nl nm nn dn no np nq dp nr lx ns nt nu mb nv nw nx mf ny nz oa jp bi translated">三种模型的 ROC 曲线比较</h2><p id="5b48" class="pw-post-body-paragraph lo lp jj lq b lr ob kt lt lu oc kw lw lx od lz ma mb oe md me mf of mh mi mj im bi translated">我们可以使用 ROC 曲线并计算曲线下的面积来进一步研究假阳性率和真阳性率，曲线下的面积也是我们模型预测能力的度量。</p><p id="dff4" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">如果该值更接近 1，意味着我们的模型在将随机样本分成两类方面做得很好。</p><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pq"><img src="../Images/e068555a3e842c0bd6f481623eb0a8f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vLlZ5EzyaD5B_VHvNmbB2A.png"/></div></div></figure><p id="ad3b" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">比较三种模型的曲线下面积值，我们看到随机森林比逻辑回归模型表现更好。</p><h2 id="7dcf" class="nj nk jj bd nl nm nn dn no np nq dp nr lx ns nt nu mb nv nw nx mf ny nz oa jp bi translated">特征重要性</h2><p id="d47e" class="pw-post-body-paragraph lo lp jj lq b lr ob kt lt lu oc kw lw lx od lz ma mb oe md me mf of mh mi mj im bi translated">我们将分析不同的功能如何影响客户流失。为此，我们将检查变量的重要性。那就是量化每个变量对我们的模型有多有用。</p><p id="453d" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">这是一个重要的分析。我们可以确定哪些特征使客户更有可能流失，并制定有针对性的策略。</p><p id="8760" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">因为 SVM 不可能得到特征重要性。因为算法像黑盒一样工作。</p><p id="9a4c" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">对于逻辑回归，我们可以使用来自<code class="fe ol om on oo b">sklearn.feature_selection</code>的函数<code class="fe ol om on oo b">SelectFromModel</code>。该函数将根据重要性权重选择功能。</p><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/8e7f1c62cc20ab23ca21e3497bc353fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*r88q29PZnHMriRPE-psAzw.png"/></div></figure><p id="b191" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我们可以看到，<code class="fe ol om on oo b">gender</code>、<code class="fe ol om on oo b">number of products</code>、<code class="fe ol om on oo b">member status</code>和<code class="fe ol om on oo b">credit score by age</code>比率是预测客户是否会流失的四个最重要的特征。</p><p id="05a3" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">另一方面，从<code class="fe ol om on oo b">RandomForest</code>中获得特性重要性很容易。scikit-learn 实现有一个方法<code class="fe ol om on oo b">.feature_importances_</code>，它会告诉我们每个特性的重要性。</p><figure class="oh oi oj ok gt iv"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="oh oi oj ok gt iv gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/64743ed73466c1e26f326b7d34bbaaa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*Rt4wWPlwAENX0gt57sLpMw.png"/></div></figure><p id="d74c" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">我们可以看到<code class="fe ol om on oo b">number of products</code>、<code class="fe ol om on oo b">member status</code>和<code class="fe ol om on oo b">credit score by age</code>比率再次成为预测客户是否会流失的最重要特征。此外，<code class="fe ol om on oo b">balance salario ratio</code>在这种情况下也很重要。</p><p id="4636" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">总之，这些模型显示出一些改进的余地。因为我们想发现会流失的客户，所以我们应该避免假阴性。</p><p id="2270" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">从特征重要性中，我们可以观察到产品数量和按年龄比例的信用评分对两个模型都很重要。</p><p id="14b4" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">活跃成员离开的事实令该公司担忧，它应该发出警报。</p><p id="ea91" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">如果你想看到完整的代码，请查看我的<strong class="lq jt"> <em class="mk"> GitHub repo </em> </strong>:</p><div class="is it gp gr iu pt"><a href="https://github.com/ugis22/churn_model" rel="noopener  ugc nofollow" target="_blank"><div class="pu ab fo"><div class="pv ab pw cl cj px"><h2 class="bd jt gy z fp py fr fs pz fu fw js bi translated">UGIS 22/churn _ 模型</h2><div class="qa l"><h3 class="bd b gy z fp py fr fs pz fu fw dk translated">客户流失，也称为客户流失，或客户流动，是客户的损失，它是一个重要的…</h3></div><div class="qb l"><p class="bd b dl z fp py fr fs pz fu fw dk translated">github.com</p></div></div><div class="qc l"><div class="qd l qe qf qg qc qh ja pt"/></div></div></a></div><p id="7b21" class="pw-post-body-paragraph lo lp jj lq b lr ls kt lt lu lv kw lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">如果您想了解更多关于客户流失模型的信息，这里有更多资源:</p><ul class=""><li id="dad1" class="ov ow jj lq b lr ls lu lv lx ox mb oy mf oz mj qi pb pc pd bi translated"><a class="ae jg" rel="noopener" target="_blank" href="/machine-learning-powered-churn-analysis-for-modern-day-business-leaders-ad2177e1cb0d">https://towards data science . com/machine-learning-powered-churn-analysis-for-modern-day-business-leaders-ad 2177 E1 cb0d</a></li><li id="b968" class="ov ow jj lq b lr pe lu pf lx pg mb ph mf pi mj qi pb pc pd bi translated"><a class="ae jg" href="https://medium.com/@rohitlal/customer-churn-prediction-model-using-logistic-regression-490525a78074" rel="noopener">https://medium . com/@ rohit lal/customer-churn-prediction-model-using-logistic-regression-490525 a 78074</a></li><li id="3b42" class="ov ow jj lq b lr pe lu pf lx pg mb ph mf pi mj qi pb pc pd bi translated"><a class="ae jg" rel="noopener" target="_blank" href="/churn-prediction-3a4a36c2129a">https://towards data science . com/churn-prediction-3a 4a 36 c 2129 a</a></li><li id="58d5" class="ov ow jj lq b lr pe lu pf lx pg mb ph mf pi mj qi pb pc pd bi translated"><a class="ae jg" rel="noopener" target="_blank" href="/customer-churn-analysis-4f77cc70b3bd">https://towards data science . com/customer-churn-analysis-4 f 77 cc 70 B3 BD</a></li></ul></div></div>    
</body>
</html>