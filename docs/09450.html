<html>
<head>
<title>How to get free historical and live stock prices and FX rates using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 Python 获得免费的历史和实时股票价格和外汇汇率</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-get-free-historical-and-live-stock-prices-and-fx-rates-using-python-part-i-a7718f0a4e4?source=collection_archive---------25-----------------------#2020-07-06">https://towardsdatascience.com/how-to-get-free-historical-and-live-stock-prices-and-fx-rates-using-python-part-i-a7718f0a4e4?source=collection_archive---------25-----------------------#2020-07-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="607e" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">Python 中的股票价格</h2><div class=""/><div class=""><h2 id="518b" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">这是一个指南，展示了如何使用 Python 从<a class="ae ko" href="https://finance.yahoo.com" rel="noopener ugc nofollow" target="_blank">雅虎财经</a>或<a class="ae ko" href="https://www.alphavantage.co" rel="noopener ugc nofollow" target="_blank"> Alpha Vantage </a>获得历史和实时股票价格和外汇汇率。</h2></div><p id="3409" class="pw-post-body-paragraph kp kq iq kr b ks kt ka ku kv kw kd kx ky kz la lb lc ld le lf lg lh li lj lk ij bi translated">这两个 API 都是免费的，但是 Alpha Vantage 标准 API 限制为<a class="ae ko" href="https://www.alphavantage.co/premium/" rel="noopener ugc nofollow" target="_blank">每分钟 5 个请求，每天 500 个请求</a>。这对于一个简单的投资组合股票监控工具来说应该足够了。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ll"><img src="../Images/c4eef03e17f8b5ee4680816cc4168782.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GmliIWmCgG_D4b85"/></div></div><p class="lx ly gj gh gi lz ma bd b be z dk translated">克里斯·利维拉尼在<a class="ae ko" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="f141" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">有多少 API？</h1><p id="3ba0" class="pw-post-body-paragraph kp kq iq kr b ks mt ka ku kv mu kd kx ky mv la lb lc mw le lf lg mx li lj lk ij bi translated">这个清单很长，而且近年来还在增加。允许免费 API 调用股市数据的提供者列表包括:<a class="ae ko" href="https://finnhub.io" rel="noopener ugc nofollow" target="_blank"> Finnhub.io </a>、<a class="ae ko" href="https://www.tenquant.io" rel="noopener ugc nofollow" target="_blank"> TenQuant.io </a>、<a class="ae ko" href="https://unibit.ai/api/docs/V2.0/introduction" rel="noopener ugc nofollow" target="_blank"> UniBit </a>、<a class="ae ko" href="https://iexcloud.io" rel="noopener ugc nofollow" target="_blank"> IEXCloud </a>、<a class="ae ko" href="https://marketstack.com" rel="noopener ugc nofollow" target="_blank"> marketstack </a>、<a class="ae ko" href="https://www.quandl.com" rel="noopener ugc nofollow" target="_blank"> Quandl </a>、<a class="ae ko" href="https://eodhistoricaldata.com" rel="noopener ugc nofollow" target="_blank"> EOD 历史数据</a>并且是不断变化的。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="51d6" class="mb mc iq bd md me nf mg mh mi ng mk ml kf nh kg mn ki ni kj mp kl nj km mr ms bi translated">我使用哪些市场标识符？</h1><p id="cf14" class="pw-post-body-paragraph kp kq iq kr b ks mt ka ku kv mu kd kx ky mv la lb lc mw le lf lg mx li lj lk ij bi translated">在金融服务行业的实践中，你会遇到 SEDOL、ISIN、CUSIP、RIC、BB Ticker、BB Full Ticker(最后两个是彭博社的标识符)，但对于免费的 API，你可以在这里查看这个 MICs(市场标识符代码)列表<a class="ae ko" href="https://www.iso20022.org/market-identifier-codes" rel="noopener ugc nofollow" target="_blank"/>。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="9591" class="mb mc iq bd md me nf mg mh mi ng mk ml kf nh kg mn ki ni kj mp kl nj km mr ms bi translated">雅虎财经</h1><p id="5b97" class="pw-post-body-paragraph kp kq iq kr b ks mt ka ku kv mu kd kx ky mv la lb lc mw le lf lg mx li lj lk ij bi translated">雅虎财经 API 是免费的，但是报价器的世界是有限的。也很难确定在 API 调用中应该使用什么代码，但是上面的 ISO 列表会有所帮助。下面是一组函数，可以返回一个报价器或一组报价器的收盘价。您可以更改周期，但有些报价机的数据没有那么旧。</p><p id="ef82" class="pw-post-body-paragraph kp kq iq kr b ks kt ka ku kv kw kd kx ky kz la lb lc ld le lf lg lh li lj lk ij bi translated">下面的代码使用了一个为雅虎财经 API 包装的 Python，更多细节你可以点击<a class="ae ko" href="https://github.com/ranaroussi/yfinance" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="2537" class="pw-post-body-paragraph kp kq iq kr b ks kt ka ku kv kw kd kx ky kz la lb lc ld le lf lg lh li lj lk ij bi translated">以下是使用美元英镑货币对的价格函数的示例:</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi nm"><img src="../Images/8c20a306fb202cddb36f960ccca20615.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ncRhVNWht0jnXwdQj9UjZA.png"/></div></div></figure><p id="7464" class="pw-post-body-paragraph kp kq iq kr b ks kt ka ku kv kw kd kx ky kz la lb lc ld le lf lg lh li lj lk ij bi translated">另一个是两种股票价格:</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi nn"><img src="../Images/91e73faf085c92ac5a36a940ee615e23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T4vVrNQL0MU0KtoWdByTQg.png"/></div></div></figure></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="4e06" class="mb mc iq bd md me nf mg mh mi ng mk ml kf nh kg mn ki ni kj mp kl nj km mr ms bi translated">阿尔法优势</h1><p id="aa00" class="pw-post-body-paragraph kp kq iq kr b ks mt ka ku kv mu kd kx ky mv la lb lc mw le lf lg mx li lj lk ij bi translated">Alpha Vantage 正在提供基于云的股票市场 API。用户可以访问历史和实时财务数据、技术指标和其他数据类型。这家创业公司的两位创始人都是哈佛商学院的 MBA 毕业生。</p><p id="4608" class="pw-post-body-paragraph kp kq iq kr b ks kt ka ku kv kw kd kx ky kz la lb lc ld le lf lg lh li lj lk ij bi translated">要使用<a class="ae ko" href="https://www.alphavantage.co/support/#api-key" rel="noopener ugc nofollow" target="_blank"> Alpha Vantage 标准 API，你必须先注册</a>。如果您想获得更多或其他种类的数据，有一个文档页面提供了更多 API 调用的示例。</p><p id="8b99" class="pw-post-body-paragraph kp kq iq kr b ks kt ka ku kv kw kd kx ky kz la lb lc ld le lf lg lh li lj lk ij bi translated">下面的代码使用了 Alpha Vantage API 的 Python 包装器，更多细节请点击<a class="ae ko" href="https://github.com/RomelTorres/alpha_vantage" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="7d96" class="pw-post-body-paragraph kp kq iq kr b ks kt ka ku kv kw kd kx ky kz la lb lc ld le lf lg lh li lj lk ij bi translated">下面是一个为微软公司(MSFT)和 Tesla 公司(TSLA)使用 get_prices 函数的示例:</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi no"><img src="../Images/52f7c07a789352dc0aed2553a7896b20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pH6zmPSqOhoRxTc7BRs2FQ.png"/></div></div></figure><p id="580a" class="pw-post-body-paragraph kp kq iq kr b ks kt ka ku kv kw kd kx ky kz la lb lc ld le lf lg lh li lj lk ij bi translated">另一个是与英镑配对的外汇汇率:</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi np"><img src="../Images/3b1a226101e5fec5ef2c1f9ab0269860.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nHejpB8a5dUaJKsgllv-rg.png"/></div></div></figure><p id="46f4" class="pw-post-body-paragraph kp kq iq kr b ks kt ka ku kv kw kd kx ky kz la lb lc ld le lf lg lh li lj lk ij bi translated">对于一个基本的股票投资组合工具，价格和利率是你计算自己的指标所需要的最低要求。</p></div></div>    
</body>
</html>