<html>
<head>
<title>5+ Simple One-Liners to Level Up Your Python Visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">5 个以上简单的一行程序来提升您的 Python 可视化水平</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-simple-one-liners-youve-been-looking-for-to-level-up-your-python-visualization-42ebc1deafbc?source=collection_archive---------32-----------------------#2020-08-10">https://towardsdatascience.com/5-simple-one-liners-youve-been-looking-for-to-level-up-your-python-visualization-42ebc1deafbc?source=collection_archive---------32-----------------------#2020-08-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/a92e46af4455fcfde0150f926451b9b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*abbsH0GQuSC2F00L"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">来源:<a class="ae jg" href="https://unsplash.com/photos/0jTZTMyGym8" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><div class=""/><div class=""><h2 id="cbd4" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">最小的努力，最大的收获</h2></div><p id="642f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">富有洞察力和美感的视觉化设计不一定是一种痛苦的创造。本文将介绍 5 个以上简单的一行程序，您可以将它们添加到代码中，以增加代码的风格和信息价值。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="340d" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">折线图绘制成面积图</h2><p id="ac92" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">考虑下面的标准线图，用 seaborn 的<code class="fe mz na nb nc b">lineplot</code>创建，使用<code class="fe mz na nb nc b">husl</code>调色板和<code class="fe mz na nb nc b">whitegrid</code>风格。数据生成为正弦波，数据呈正态分布，并高于<em class="nd"> x </em>轴。</p><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ne"><img src="../Images/928f4f724dad3880ffc2a0f7145e0560.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*82i860_UtAWZJMpu5fwFIg.png"/></div></div></figure><p id="f498" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">几个造型的选择，情节看起来像样。然而，有一个问题:默认情况下，Seaborn 不是从零基线开始，并且失去了对 y 轴的数值影响。假设<code class="fe mz na nb nc b">x</code>和<code class="fe mz na nb nc b">y</code>变量如此命名，添加<code class="fe mz na nb nc b">plt.fill_between(x,y,alpha=0.4)</code>将把数据变成一个面积图，更好地从基线开始，并强调<em class="nd"> y </em>轴。</p><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ne"><img src="../Images/bf9f692e77f7159482b0bc1983463115.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EnfJSRUp5iZKFeHYJNRj-g.png"/></div></div></figure><p id="4576" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请注意，该行是与原始线图<code class="fe mz na nb nc b">sns.lineplot(x,y)</code>一起添加的，它在顶部提供了加粗的线条。出现在许多 seaborn 图中的参数<code class="fe mz na nb nc b">alpha</code>控制区域的透明度(越小越亮)。<code class="fe mz na nb nc b">plt</code>代表 matplotlib 库。在某些情况下，使用面积可能不合适。</p><p id="696c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当使用多个面积图时，它可以强调线的重叠和交叉，尽管它可能不适合可视化环境。</p><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ne"><img src="../Images/31262bd0740899e16cd93a2eaa761f7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yo2oB8FWFvgQW5QPejXlIA.png"/></div></div></figure><h2 id="d118" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">折线图到堆积面积图</h2><p id="acdd" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">有时，线之间的关系要求面积图相互堆叠。使用 matplotlib stackplot: <code class="fe mz na nb nc b">plt.stackplot(x,y,alpha=0.4)</code>很容易做到这一点。在这种情况下，颜色是通过<code class="fe mz na nb nc b">colors=[]</code>手动指定的，它接受一个颜色名称或十六进制代码的列表。</p><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nj"><img src="../Images/eccc201bbd0ca6d7b66003fb60395b76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q-EzqFggCUrCtbC5iJ1RGA.png"/></div></div></figure><p id="ce84" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意<code class="fe mz na nb nc b">y</code>是<code class="fe mz na nb nc b">y1</code>和<code class="fe mz na nb nc b">y2</code>的列表，分别代表有噪声的正弦波和余弦波。在面积表达中，它们相互堆叠，可以加深对两个面积地块之间相对距离的理解。</p><h2 id="3c0c" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">删除讨厌的图例</h2><p id="5393" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">当调用<code class="fe mz na nb nc b">hue</code>参数来绘制多个相同的图时，Seaborn 通常默认使用图例，不同之处在于指定为<code class="fe mz na nb nc b">hue</code>的列。这些传说虽然有时很有帮助，但往往掩盖了情节的重要部分，包含了可以在其他地方更好地表达的信息(也许在标题中)。</p><p id="2870" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，考虑下面的医疗数据集，它包含来自不同对象的信号。在这种情况下，我们希望通过将<code class="fe mz na nb nc b">subject</code>列设置为<code class="fe mz na nb nc b">hue </code>，使用多条线图来显示不同患者的总体趋势和范围(是的，放置这么多条线被称为“意大利面条图”，通常不建议这样做)。人们可以看到默认标签是如何 a)不有序，b)太长以至于遮挡了图表的一部分，以及 c)不是可视化的点。</p><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nk"><img src="../Images/f7d9faf5602549364e508ac19e3667d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lwF43CBX8988UyCek3nqxg.png"/></div></div></figure><p id="2445" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这可以通过将情节设置为等于一个变量(通常是<code class="fe mz na nb nc b">g</code>)来实现，比如:<code class="fe mz na nb nc b">g=sns.lineplot(x=…, y=…, hue=…)</code>。然后，通过访问绘图对象的图例属性，我们可以删除它:<code class="fe mz na nb nc b">g.legend_.remove()</code>。如果您正在使用 PairGrid 或 FacetGrid 之类的网格对象，请使用<code class="fe mz na nb nc b">g._legend.remove()</code>。</p><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nk"><img src="../Images/6d4a9a5645205604c6a9608a7d7ae2d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gWogbxqA4gXKWosAKR9Egw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">好多了。</p></figure><h2 id="9f32" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">手动 x 轴和 y 轴基线</h2><p id="6bbb" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">默认情况下，Seaborn 并不绘制<em class="nd"> x </em>和<em class="nd"> y </em>轴线，但是这些轴线对于理解数据的形状以及它们相对于坐标系的位置非常重要。</p><p id="d3ed" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Matplotlib 提供了一种简单的方法，通过简单地添加<code class="fe mz na nb nc b">g.axhline(0)</code>来添加<em class="nd">x</em>-轴，其中<code class="fe mz na nb nc b">g</code>是网格对象，0 表示水平线所在的<em class="nd">y</em>-轴值。此外，用户可以指定<code class="fe mz na nb nc b">color</code>(在本例中为<code class="fe mz na nb nc b">color=’black’</code>)和<code class="fe mz na nb nc b">alpha</code>(透明度，在本例中为<code class="fe mz na nb nc b">alpha=0.5</code>)。<code class="fe mz na nb nc b">linestyle</code>是通过设置为<code class="fe mz na nb nc b">‘--’</code>来创建虚线的参数。</p><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nk"><img src="../Images/77b0de8e23766cca8b51cf05a6a502b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nYb_R94AyG7GCX-RQD-XfA.png"/></div></div></figure><p id="f5f8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">另外，可以通过<code class="fe mz na nb nc b">g.axvline(0)</code>添加垂直线。</p><p id="8078" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您也可以使用<code class="fe mz na nb nc b">axhline</code>显示平均值或基准，比如条形图。例如，假设我们想要显示基于<code class="fe mz na nb nc b">sepal_width</code>能够满足 0.98 <code class="fe mz na nb nc b">petal_width</code>基准的工厂。</p><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nl"><img src="../Images/e8bf8512c86d00cc71de6964dcf3137c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eOGKth6wvGXrS5Lp0kC81g.png"/></div></div></figure><h2 id="704c" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">对数标度</h2><p id="b5a6" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">使用对数标度是因为它们可以显示百分比变化。在许多情况下，这正是必要的——毕竟，一个通常收入 300 美元的企业增加 1000 美元与一个收入数十亿美元的大型企业增加 1000 美元是不同的。matplotlib 不需要计算数据中的百分比，而是可以将比例转换为对数。</p><p id="c7d3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">与许多 matplotlib 特性一样，对数标度在使用<code class="fe mz na nb nc b">fig, ax = plt.subplots(figsize=(x,y))</code>创建的标准图形的轴上运行。然后，一个对数<em class="nd"> x </em>刻度就像<code class="fe mz na nb nc b">ax.set_xscale(‘log’)</code>一样简单:</p><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nl"><img src="../Images/31fe5091a59248f2dc8b6cd736e9fafb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tbsXUQfWHv6bxrjGn7COOA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">正弦波。请注意，matplotlib 为您创建了指数符号 x 标签！</p></figure><p id="c058" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">更常用的对数<em class="nd"> y </em>标度可以用<code class="fe mz na nb nc b">ax.setyscale(‘log’)</code>来完成:</p><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nm"><img src="../Images/01f2561249efe1af03bf44189cd95208.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ew12U70ayfoH19IS-Jjphg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">带有噪声的正弦波的 y 对数刻度，显示相对于前一时间步长的百分比变化。</p></figure><h2 id="5854" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">荣誉奖</h2><ul class=""><li id="2ebc" class="nn no jj la b lb mu le mv lh np ll nq lp nr lt ns nt nu nv bi translated">投资一个好的默认调色板。颜色是视觉效果最重要的方面之一:它将视觉效果联系在一起，表达了一个主题。你可以用<code class="fe mz na nb nc b">sns.set_palette(name)</code>选择和设置 Seaborn 众多伟大调色板中的一个。点击查看选择调色板的演示和提示<a class="ae jg" href="https://medium.com/analytics-vidhya/drastically-beautifying-visualizations-with-one-line-styling-plots-35a5712c4f54" rel="noopener">。</a></li><li id="790e" class="nn no jj la b lb nw le nx lh ny ll nz lp oa lt ns nt nu nv bi translated">您可以使用<code class="fe mz na nb nc b">sns.set_style(name)</code>添加网格和更改背景颜色，其中名称可以是<code class="fe mz na nb nc b">white</code>(默认)、<code class="fe mz na nb nc b">whitegrid</code>、<code class="fe mz na nb nc b">dark</code>或<code class="fe mz na nb nc b">darkgrid</code>。</li><li id="ff3a" class="nn no jj la b lb nw le nx lh ny ll nz lp oa lt ns nt nu nv bi translated">您知道 matplotlib 和 seaborn 可以处理<a class="ae jg" rel="noopener" target="_blank" href="/latex-for-data-scientists-in-under-6-minutes-3815d973c05c?source=your_stories_page---------------------------"> LaTeX，这种漂亮的数学格式化语言</a>吗？您可以在您的<code class="fe mz na nb nc b">x</code> / <code class="fe mz na nb nc b">y</code>轴标签、标题、图例等中使用它，方法是将 LaTeX 表达式包含在美元符号<code class="fe mz na nb nc b">$expression$</code>中。</li><li id="0512" class="nn no jj la b lb nw le nx lh ny ll nz lp oa lt ns nt nu nv bi translated">探索不同的线型、注释大小和字体。Matplotlib 中有很多这样的例子，只要您愿意探索它的文档页面。</li><li id="980c" class="nn no jj la b lb nw le nx lh ny ll nz lp oa lt ns nt nu nv bi translated">大多数图都有附加参数，例如条形图的误差线、厚度、虚线和线形图的透明度。花些时间访问文档页面并浏览所有可用的参数可能只需要一分钟，但有可能使您的可视化具有顶级的美学和信息价值。<br/>例如，在 violinplot 中添加参数<code class="fe mz na nb nc b">inner=’quartile’</code>以虚线绘制分布的第一、第二和第三个四分位数。两个词代表巨大的信息收获——我要说这是一笔好交易！</li></ul><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ob"><img src="../Images/412d818a56ac7c6ac662618cc7f1e6d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q9KOjQ62UBxEScMCP4jZMw.png"/></div></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="b8d4" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">附加阅读</h2><div class="is it gp gr iu oc"><a href="https://medium.com/analytics-vidhya/5-lesser-known-seaborn-plots-most-people-dont-know-82e5a54baea8" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd jk gy z fp oh fr fs oi fu fw ji bi translated">大多数人都不知道的 5 个鲜为人知的海边小镇</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">但是真的应该知道</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq ja oc"/></div></div></a></div><div class="is it gp gr iu oc"><a rel="noopener follow" target="_blank" href="/the-simplest-way-to-create-complex-visualizations-in-python-isnt-with-matplotlib-a5802f2dba92"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd jk gy z fp oh fr fs oi fu fw ji bi translated">在 Python 中创建复杂可视化的最简单方法不是使用 matplotlib。</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">直接从熊猫身上创造流畅简单的情节</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">towardsdatascience.com</p></div></div><div class="ol l"><div class="or l on oo op ol oq ja oc"/></div></div></a></div><p id="cdb1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="nd">作者创作的所有图表。</em></p></div></div>    
</body>
</html>