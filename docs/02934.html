<html>
<head>
<title>Anomaly Detection in Dynamic Graphs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">动态图中的异常检测</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/anomaly-detection-in-dynamic-graphs-be3ec7ff7a5c?source=collection_archive---------38-----------------------#2020-03-20">https://towardsdatascience.com/anomaly-detection-in-dynamic-graphs-be3ec7ff7a5c?source=collection_archive---------38-----------------------#2020-03-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="aee6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">MIDAS:基于微簇的边缘流异常检测器</h2></div><p id="2c34" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">动机:</strong></p><p id="a6d3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">拒绝服务攻击(DoS 攻击)是一种网络攻击，旨在关闭网络，使其目标用户无法访问。2018 年 2 月 Github 上最近的一个重大(<a class="ae le" href="https://www.wired.com/story/github-ddos-memcached/" rel="noopener ugc nofollow" target="_blank">来源</a>)。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/c56ac4e7a494f890728e6c6e6f5b4935.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*mjzsThrzDDg7rytiqSdslQ.png"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">简单的可视化展示一个 DoS 攻击- <a class="ae le" href="https://github.com/bhatiasiddharth/MIDAS" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="9fc1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里，我们可以看到一个异常行为，在很短的时间内在动态图中创建了突然的可疑边。</p><p id="c552" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">什么是动态图？</strong></p><p id="24b8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">节点是实体的视觉表示，而边是节点之间关系的视觉表示，表示为连接它们的线。图是由节点和边组成的非线性数据结构。经过一系列更新的图称为动态图。大多数现实世界的问题都属于这一类，包括交易网络，所有的即时通讯网络，包括 twitter，脸书等等。</p><p id="74c5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">问题:</strong></p><p id="0f23" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在所有这些情况下都可以发现异常行为，在本文中，我们专注于检测微集群异常，如在 DoS 攻击的情况下突然到达可疑相似边缘的组，甚至是重大事件期间的推文等。</p><p id="ab86" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">迈达斯:</strong></p><p id="df46" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">基于微聚类的边缘流异常检测器是一种方法</p><p id="1169" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">(I)检测微团簇异常，同时提供关于其假阳性概率的理论保证。</p><p id="af4d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">(ii)由于它是在线的，因此在恒定时间和恒定存储器中处理每个边沿，并且处理数据的速度比最先进的方法快 162-644 倍。</p><p id="2b96" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">(iii)它提供了比最先进的方法高 42%-48%的准确性(就 AUC 而言)。</p><p id="757a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">方法:</strong></p><p id="e659" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将输入一个时间演化图，证明异常分数输出到边缘。</p><p id="6db4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">假设:</strong></p><p id="cbf8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">假设与时间戳小于 10 相比，时间戳为 10 时有大量的边(~1000)。如下图所示。t=10 时的平均水平等于 t 的平均水平&lt;10.</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/f5102fb60126d9a95cd824e906ef14aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*F8mlrcEi3ohyiM3lCt26tQ.png"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated"><a class="ae le" href="https://github.com/bhatiasiddharth/MIDAS" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="29c8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">考虑到这一假设，我们使用 Count-Min-Sketch 数据结构，该数据结构使用哈希函数将事件映射到频率，与哈希表不同，它使用可能发生冲突的子线性空间，这被认为是由于使用子线性空间而产生的成本，更多详细信息可在本文<a class="ae le" href="https://www.comp.nus.edu.sg/~sbhatia/assets/pdf/midas.pdf" rel="noopener ugc nofollow" target="_blank">中找到</a>。</p><ul class=""><li id="0093" class="ls lt it kk b kl km ko kp kr lu kv lv kz lw ld lx ly lz ma bi translated"><em class="mb"> sᵤᵥ </em> : <em class="mb"> u-v </em>边沿直到时间<em class="mb"> t </em></li><li id="1f68" class="ls lt it kk b kl mc ko md kr me kv mf kz mg ld lx ly lz ma bi translated"><em class="mb"> aᵤᵥ </em>:当前时间<em class="mb"> t </em>时<em class="mb"> u-v </em>边沿</li><li id="cc8c" class="ls lt it kk b kl mc ko md kr me kv mf kz mg ld lx ly lz ma bi translated"><em class="mb"> ŝᵤᵥ </em>:大致总计数</li><li id="6318" class="ls lt it kk b kl mc ko md kr me kv mf kz mg ld lx ly lz ma bi translated"><em class="mb"> âᵤᵥ </em>:近似电流计数</li></ul><p id="a055" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">异常分数由下式给出</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mh"><img src="../Images/16b060d87983cffb1427136cc7d5451e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8GPUlZu3vDPdiwEU_hZTLQ.png"/></div></div></figure><p id="e259" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">快速准确:</strong></p><p id="1d60" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">与最近在动态图(如 SEDANSPOT)中发现边缘流异常的方法相比，由于需要几个子过程(随机游走、采样等)，需要花费大量计算时间。对于<a class="ae le" href="https://www.ll.mit.edu/r-d/datasets/1998-darpa-intrusion-detection-evaluation-dataset" rel="noopener ugc nofollow" target="_blank"> DARPA 数据集</a>，SEDANSPOT 的运行时间为~1.2 min，其中作为 MIDAS &lt;的计算时间为 0.4 sec。</p><p id="27b5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">与 DARPA 数据集上的 SEDANSPOT 相比，MIDAS 具有更好的准确度和精密度。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/b9370e0515fe27e147bde86097979c35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*ezzevD3IaFuRawKiu4eG-w.png"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">DARPA 数据集的 ROC-<a class="ae le" href="https://github.com/bhatiasiddharth/MIDAS" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="4847" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以通过此<a class="ae le" href="https://github.com/bhatiasiddharth/MIDAS" rel="noopener ugc nofollow" target="_blank">链接</a>、<a class="ae le" href="https://www.comp.nus.edu.sg/~sbhatia/assets/pdf/midas.pdf" rel="noopener ugc nofollow" target="_blank">论文</a>找到 MIDAS 的源代码。</p><p id="1aa0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">实施:</strong></p><p id="48ce" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> C++编译器:</strong></p><p id="6bdb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">按照<a class="ae le" href="https://nuwen.net/mingw.html" rel="noopener ugc nofollow" target="_blank">链接</a>使用 MinGW 发行版安装最新的 C++17 编译器。将默认路径 C:\MinGW\bin 添加到系统环境变量%path%中。</p><p id="74ae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> Git Bash: </strong></p><p id="63c0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">添加系统环境变量路径后检查 g++版本，确保其≥ 9.2.0</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mn"><img src="../Images/185e6ac69a0f36395de0962463af43b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x7hl09E2Wk58BOT__L3MaQ.png"/></div></div></figure><p id="f006" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用以下命令克隆 MIDAS 存储库。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mo"><img src="../Images/508b03f1e453cf276218247b3d1ef1ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j40xRR7ak_QB42YFCLM23w.png"/></div></div></figure><p id="665b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">运行<em class="mb">使</em>编译并创建可执行文件。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mo"><img src="../Images/dfc2c91069864389992ab86079f7650b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2bpK_LqljA2nkXXBe8p6Sw.png"/></div></div></figure><p id="72f7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们在 DARPA 数据集上运行 midas，您可以下载原始格式和使用原始格式转换的 MIDAS 格式(‘源’、‘目的地’和‘时间戳’),这些格式可以通过<a class="ae le" href="https://github.com/bhatiasiddharth/MIDAS" rel="noopener ugc nofollow" target="_blank">链接</a>从数据集下载。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mo"><img src="../Images/d57bb9778b7703f378b2c0db95ea9430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*znRFHDm13xZGXUagJENnOQ.png"/></div></div></figure><p id="6704" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">scores.txt 文件提供了每条边的异常得分，对于约 450 万个 IP 到 IP 通信，该文件在不到 1.3 秒的时间内生成。使用原始数据集中的“攻击”变量，我们可以在存储库中 auc.py 文件的帮助下找到 AUC 得分。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/f61c114b00d0656b7f2f3ed66b0e7514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*6Cr3TBZK7qJTPAAV4O5DQQ.png"/></div></figure><p id="ad74" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">AUC 为~0.95！</p><p id="ac85" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">结论:</strong></p><p id="a701" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Dos 攻击、检测银行交易中的异常、推特寻找一些特定事件等。现实世界中有许多问题都是时间演变图。应用这些技术来更好地了解和发现可疑活动，实时可能是一个很好的解决方案。</p><p id="515b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">参考文献:</strong></p><ul class=""><li id="b862" class="ls lt it kk b kl km ko kp kr lu kv lv kz lw ld lx ly lz ma bi translated"><a class="ae le" href="https://www.cs.cmu.edu/~deswaran/papers/icdm18-sedanspot.pdf" rel="noopener ugc nofollow" target="_blank"> SEDANSPOT </a></li><li id="beb0" class="ls lt it kk b kl mc ko md kr me kv mf kz mg ld lx ly lz ma bi translated">西达尔特·巴蒂亚，布莱恩·胡伊，姬敏·尹，吉荣·申和克里斯特斯·法鲁索斯。" MIDAS:基于微团簇的边缘流异常检测器."2020 年 AAAI 人工智能大会(AAAI)。https://arxiv.org/abs/1911.04464<a class="ae le" href="https://arxiv.org/abs/1911.04464" rel="noopener ugc nofollow" target="_blank"/></li><li id="f5c0" class="ls lt it kk b kl mc ko md kr me kv mf kz mg ld lx ly lz ma bi translated"><a class="ae le" href="https://en.wikipedia.org/wiki/Count%E2%80%93min_sketch" rel="noopener ugc nofollow" target="_blank"> CMS </a></li></ul></div></div>    
</body>
</html>