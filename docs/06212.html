<html>
<head>
<title>Create Reproducible Data Science and Machine Learning Environments using Conda</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Conda 创建可再现的数据科学和机器学习环境</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/manage-data-science-and-machine-learning-environments-using-conda-42b9b2f0689a?source=collection_archive---------19-----------------------#2020-05-19">https://towardsdatascience.com/manage-data-science-and-machine-learning-environments-using-conda-42b9b2f0689a?source=collection_archive---------19-----------------------#2020-05-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e7ca" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><em class="ki">使用 Conda、JupyterLab 和 Git 开发包含环境管理的工作流指南</em></h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/b0716244e43f247950ca816d432b4641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uDJpF1y61qug81VyCF5obA.jpeg"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated"><a class="ae kz" href="https://unsplash.com/photos/EvKBHBGgaUo" rel="noopener ugc nofollow" target="_blank">冰岛托尔斯莫尔克</a></p></figure><h1 id="922f" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">介绍</h1><p id="da31" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">数据科学和机器学习项目有依赖关系，我们依赖这些依赖关系来运行我们的代码，就像 pandas 或 numpy。这些依赖关系会随着时间的推移而更新，并且有不同的版本，如果使用了错误的版本，可能会导致代码中断。如果您与其他团队成员一起工作，您还需要在不同的计算机上维护相同的本地开发环境，以便代码能够成功运行。要为项目创建可复制的环境，使用环境管理器是一个很好的实践，它可以跟踪所有的依赖项——比如 Conda。</p><h2 id="6c46" class="mo lb it bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq mz bi translated">康达是什么？</h2><blockquote class="na nb nc"><p id="e532" class="ls lt nd lu b lv ne ju lx ly nf jx ma ng nh md me ni nj mh mi nk nl ml mm mn im bi translated">Conda 是一个开源的包管理系统和环境管理系统，运行在 Windows、macOS 和 Linux 上。Conda 快速安装、运行和更新软件包及其依赖项。Conda 可以在本地计算机上轻松创建、保存、加载和切换环境。它是为 Python 程序创建的，但是它可以为任何语言打包和分发软件。</p><p id="f975" class="ls lt nd lu b lv ne ju lx ly nf jx ma ng nh md me ni nj mh mi nk nl ml mm mn im bi translated">-蟒蛇文件</p></blockquote><p id="0eef" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">这篇文章将帮助您开发一个更好的工作流程来使用 Conda 管理您的环境。请随意跳过任何部分，直接跳到您需要的代码！</p><h2 id="8663" class="mo lb it bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq mz bi translated"><strong class="ak">概述</strong></h2><ul class=""><li id="13db" class="nm nn it lu b lv lw ly lz mb no mf np mj nq mn nr ns nt nu bi translated">安装 Anaconda</li><li id="b02a" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn nr ns nt nu bi translated">创建和激活 Conda 环境</li><li id="7ee6" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn nr ns nt nu bi translated">安装和卸载依赖项</li><li id="a73f" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn nr ns nt nu bi translated">导出 Conda 环境</li><li id="bf21" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn nr ns nt nu bi translated">使用 Conda 和 JupyterLab</li><li id="5d6a" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn nr ns nt nu bi translated">停用或删除 Conda 环境</li><li id="a708" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn nr ns nt nu bi translated">命令摘要</li><li id="fabf" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn nr ns nt nu bi translated">可再生环境的工作流程示例</li></ul><h1 id="268d" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">安装 Anaconda</h1><p id="416d" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">如果您还没有安装 Anaconda，请按照这里的说明<a class="ae kz" href="https://docs.anaconda.com/anaconda/install/" rel="noopener ugc nofollow" target="_blank">为您的操作系统安装它。安装之后，您应该会在应用程序中看到 Anaconda-Navigator。</a></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/d5d5de0c5273a605f0a57038674aa15b.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*l4ExQowXp6Ze83VcqZwkJw.png"/></div></figure><h1 id="6450" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">创建和激活 Conda 环境</h1><p id="cd1d" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">当您开始一个新项目时，您可以创建一个全新的 Conda 环境，或者从一个<code class="fe ob oc od oe b">yaml</code>文件重新创建一个现有的环境。</p><h2 id="87e4" class="mo lb it bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq mz bi translated"><strong class="ak">创建新的 Conda 环境</strong></h2><p id="aa5f" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">要创建新的 Conda 环境，请打开您的终端并键入以下命令:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="d013" class="mo lb it oe b gy oj ok l ol om">conda create -n datasci-env</span></pre><p id="df3c" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">您将看到以下提示，询问您是否继续。键入<code class="fe ob oc od oe b">y</code>继续创建环境。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi on"><img src="../Images/5d0901b1becb3c0ea58b7fd5908db163.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tgAyJHRC1hVRo-QAsn8QTQ.png"/></div></div></figure><h2 id="2aa8" class="mo lb it bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq mz bi translated">从 environment.yml 文件创建环境</h2><p id="55aa" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">如果您有一个包含项目依赖项的现有文件，您可以通过运行以下命令来重新创建环境:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="c270" class="mo lb it oe b gy oj ok l ol om">conda env create -f environment.yaml</span></pre><p id="f149" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">在这种情况下，<code class="fe ob oc od oe b">yaml</code>文件的第一行将设置环境的名称。用下面的<code class="fe ob oc od oe b">yaml</code>文件创建的环境名将被称为<code class="fe ob oc od oe b">datasci-env</code>。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi oo"><img src="../Images/bd260c66b72c7582cba60f06980dabad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gdeUxpBB3s1IzvPsptu6Ow.png"/></div></div></figure><h2 id="d758" class="mo lb it bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq mz bi translated">使活动</h2><p id="3f5f" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">创建环境后，您可以使用以下方式激活它:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="ab9f" class="mo lb it oe b gy oj ok l ol om">conda activate datasci-env</span></pre><p id="a6d5" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">您可以通过查看终端的左侧来区分环境是否已激活。您应该会看到它从<code class="fe ob oc od oe b">base</code>变为<code class="fe ob oc od oe b">datasci-env</code>，如下所示:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi op"><img src="../Images/221b48fe63da9de269252dd37dfe1a03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7vg0_mXAEtemly_Uxt3WDA.png"/></div></div></figure><h2 id="ea80" class="mo lb it bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq mz bi translated">确认 Python 版本</h2><p id="79ff" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">我们可以使用以下命令在我们新创建的 Conda 环境中检查 python 的版本:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="a9fa" class="mo lb it oe b gy oj ok l ol om">python --version</span><span id="699d" class="mo lb it oe b gy oq ok l ol om">OR </span><span id="21a8" class="mo lb it oe b gy oq ok l ol om">python3 --version</span></pre><p id="4536" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated"><strong class="lu iu"> <em class="nd">注意:</em> </strong> <em class="nd">默认情况下，macOS Catalina 将 python 作为 Python 2，因此为了在 Python 3 中运行任何东西，您必须使用</em> <code class="fe ob oc od oe b"><em class="nd">python3</em></code></p><p id="84f2" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">在您的终端中运行这些命令时，您将看到以下内容:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi or"><img src="../Images/a99ace6450ddfb7739e8200a49a9180b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ZV6hwe56HYPDcOiGwAEtw.png"/></div></div></figure><p id="3555" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">这意味着我们刚刚创建的 conda 环境正在运行版本<code class="fe ob oc od oe b">Python 3.7.3</code>。如果这是您想要的 python 版本，您可以跳过下一节，继续安装依赖项。</p><h2 id="8d91" class="mo lb it bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq mz bi translated">使用不同版本 Python 的 Conda 环境(可选)</h2><p id="592a" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">如果您的环境需要不同版本的 python，您需要在安装时指定版本。首先，让我们停用刚刚创建的环境:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="ba9c" class="mo lb it oe b gy oj ok l ol om">conda deactivate</span></pre><p id="8954" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">例如，如果我们想要创建一个 Python 3.5 环境，我们可以运行以下命令:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="000d" class="mo lb it oe b gy oj ok l ol om">conda create -n datasci-env-py35 python=3.5</span></pre><p id="87ec" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">下面我确认 conda 通过激活环境和运行<code class="fe ob oc od oe b">python3 --version</code>安装了正确版本的 python。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi os"><img src="../Images/7ad7480dfeae6a593e1e2ec8ae18db96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L1Mp8D93_RDxP19z3_LAbA.png"/></div></div></figure><p id="ae80" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">您可以使用以下命令列出所有可用的环境:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="94b6" class="mo lb it oe b gy oj ok l ol om">conda env list</span></pre><h1 id="2b8d" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated"><strong class="ak">安装和卸载依赖关系</strong></h1><p id="d9be" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">首先，确保激活了正确的环境(它应该出现在终端左侧的括号中)。如果您正在处理多个项目，在错误的位置安装依赖项会导致问题，因此确保您在正确的环境中是很重要的。</p><h2 id="e753" class="mo lb it bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq mz bi translated">安装</h2><p id="74c1" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">现在，您应该能够使用<code class="fe ob oc od oe b">conda install</code>安装您的依赖项了。让我们用一些流行的数据科学库来尝试一下:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="d650" class="mo lb it oe b gy oj ok l ol om">conda install pandas matplotlib numpy scikit-learn</span></pre><p id="f065" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">您将收到另一个提示，要求您继续，在键入<code class="fe ob oc od oe b">y</code>之后，您应该会看到所有的包都成功安装了。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ot"><img src="../Images/b93f96038787ed1859a59f2a32dce951.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gxb8x7bFaaDwMN4OsxiZeA.png"/></div></div></figure><p id="0c37" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">如果您需要安装软件包的特定版本，您可以在安装时命名该版本:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="ad90" class="mo lb it oe b gy oj ok l ol om">conda install pandas=0.25.1</span></pre><p id="458a" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">上面的这个命令也可以在你安装了库和包之后降级它们。</p><h2 id="746b" class="mo lb it bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq mz bi translated">从计算机上卸载</h2><p id="8db4" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">如果要卸载软件包，可以使用以下方法:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="e23d" class="mo lb it oe b gy oj ok l ol om">conda uninstall PACKAGE_NAME</span></pre><p id="fc83" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">您可以使用<code class="fe ob oc od oe b">conda list</code>检查当前环境中的所有包和版本，它将显示以下内容:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ou"><img src="../Images/2dcd91c7d335d3886a8994080917cb6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dxotdUEEJZUS1IssAvtFuQ.png"/></div></div></figure><p id="236d" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated"><strong class="lu iu"> <em class="nd">注意:</em></strong><em class="nd"><br/>——如果</em> <code class="fe ob oc od oe b"><em class="nd">conda install</em></code> <em class="nd">命令对你要安装的库不起作用，你可以试着谷歌一下如何安装那个特定的库。<br/> -安装依赖项时，请小心升级您的 python 版本。上面可以看到安装把我的 python 版本升级到了 3.8.2。</em></p><h1 id="3ef2" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">导出 Conda 环境</h1><p id="1654" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">现在我们已经有了一个安装了一些依赖项的环境，我们可以为了版本控制和可再现性而导出它们。理想情况下，您会将这些文件导出到您的项目目录中，并将它们推送到 github，以获得版本历史的正确记录。您可以根据需要导出一个<code class="fe ob oc od oe b">txt</code>或<code class="fe ob oc od oe b">yaml</code>文件。</p><p id="281b" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">首先确保您激活了 conda 环境，并且您位于终端中正确的项目目录中。要将依赖项导出到一个<code class="fe ob oc od oe b">txt</code>文件，请运行以下命令:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="4109" class="mo lb it oe b gy oj ok l ol om"><strong class="oe iu"># with conda</strong><br/>conda list --export &gt; requirements.txt</span><span id="3a8e" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># with pip</strong><br/>pip freeze &gt; requirements.txt</span></pre><p id="6f03" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">要将依赖项导出到一个<code class="fe ob oc od oe b">yaml</code>文件，请运行以下命令:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="b191" class="mo lb it oe b gy oj ok l ol om">conda env export &gt; environment.yaml</span><span id="9e65" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># OR if you run into issues, try --no-builds<br/></strong>conda env export --no-builds &gt; environment.yaml</span></pre><p id="9da0" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">运行这些命令之后，您应该会看到一个新文件出现在您的项目目录中，其中包含所有的依赖项。您应该将该文件推送到 github，以便您的团队成员或您自己以后可以访问并重新创建准确的项目环境。</p><p id="8fb5" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">如果您正在与一个团队一起工作，如果其他人通过安装新的依赖项进行了更改，您可能希望在某个时候更新您这一端的环境。您可以使用以下命令从<code class="fe ob oc od oe b">yaml</code>文件更新现有的 conda 环境:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="8009" class="mo lb it oe b gy oj ok l ol om">conda env update --file environment.yaml</span></pre><h1 id="2ccd" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">使用 Conda 和 JupyterLab</h1><p id="93e7" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">如果您想在 JupyterLab 中使用 conda 环境，您需要为该环境创建一个特定的内核。</p><p id="d0d1" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">首先在您的环境中安装<code class="fe ob oc od oe b">jupyterlab</code>和<code class="fe ob oc od oe b">ipykernel</code>，然后创建一个新的内核:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="8b00" class="mo lb it oe b gy oj ok l ol om">conda install -c conda-forge jupyterlab ipykernel</span><span id="fb84" class="mo lb it oe b gy oq ok l ol om">ipython kernel install --user --name=datasci-env</span></pre><p id="3410" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated"><strong class="lu iu"/></p><p id="1c70" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">现在，您应该能够使用以下命令从终端启动 JupyterLab 了:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="c0af" class="mo lb it oe b gy oj ok l ol om">jupyter lab</span></pre><p id="acc9" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">一旦 JupyterLab 启动，你可以打开一个新的或现有的笔记本，点击右上角的内核，并从下拉列表中选择你的新内核。如果看不到内核，尝试重启 Jupyter。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ov"><img src="../Images/0130948d7992a8ea3a1ae94bc1edc0db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*umRRgs7qV-8WMIyTWWyYOg.png"/></div></div></figure><p id="8f5c" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">如果您想要列出“终端”中可用的内核:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="9ad1" class="mo lb it oe b gy oj ok l ol om">jupyter kernelspec list</span></pre><h1 id="d283" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">停用环境</h1><p id="77f0" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">当您使用完 conda 环境后，您可以在终端中使用以下命令停用它:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="db3e" class="mo lb it oe b gy oj ok l ol om">conda deactivate</span></pre><p id="1d44" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">您的终端现在应该将<code class="fe ob oc od oe b">(base)</code>显示为左侧的环境:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ow"><img src="../Images/c8b4f19a6e440c1fdb2d59ac43ac7d9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4dZOQOyJePMWJ9NLLV0D1A.png"/></div></div></figure><h1 id="d955" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">删除环境</h1><p id="311a" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">如果您完成了一个项目，不再需要一个环境，您可以使用以下命令删除它:</p><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="1230" class="mo lb it oe b gy oj ok l ol om">conda env remove -n datasci-env</span></pre><h1 id="2d82" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">命令摘要</h1><pre class="kk kl km kn gt of oe og oh aw oi bi"><span id="5562" class="mo lb it oe b gy oj ok l ol om"><strong class="oe iu"># create new environment</strong><br/>conda create -n ENV_NAME</span><span id="d203" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># create new environment with different version of python</strong><br/>conda create -n ENV_NAME python=VERSION</span><span id="03b9" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># create environment from existing environment.yaml<br/></strong>conda env create -f environment.yaml</span><span id="36d9" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># update existing environment from environment.yaml<br/></strong>conda env update --file environment.yaml</span><span id="5e55" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># activate environment<br/></strong>conda activate ENV_NAME</span><span id="5b02" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># deactivate environment<br/></strong>conda deactivate</span><span id="43cf" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># delete/remove environment<br/></strong>conda env remove -n ENV_NAME</span><span id="6f8d" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># list all environments<br/></strong>conda env list</span><span id="dfe5" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># export requirements.txt with conda</strong><br/>conda list --export &gt; requirements.txt</span><span id="1395" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># export requirements.txt with pip</strong><br/>pip freeze &gt; requirements.txt</span><span id="90bf" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># export environment.yaml<br/></strong>conda env export &gt; environment.yaml</span><span id="a007" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># export environment.yaml with no builds<br/></strong>conda env export --no-builds &gt; environment.yaml</span><span id="37a4" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># install dependencies</strong><br/>conda install PACKAGE_NAME<br/>OR<br/>conda install -c conda-forge PACKAGE_NAME</span><span id="2435" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># install dependencies with a specific version<br/></strong>conda install PACKAGE_NAME=VERSION</span><span id="d1d7" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># uninstall dependencies<br/></strong>conda uninstall PACKAGE_NAME</span><span id="66d4" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># list all dependencies<br/></strong>conda list</span><span id="e695" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># create ipython kernel (for jupyter and jupyterlab)<br/></strong>conda install -c conda-forge jupyterlab ipykernel<br/>ipython kernel install --user --name=KERNEL_NAME</span><span id="ade5" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># list all ipython kernels</strong><br/>jupyter kernelspec list</span><span id="1473" class="mo lb it oe b gy oq ok l ol om"><strong class="oe iu"># uninstall/remove existing ipython kernel</strong><br/>jupyter kernelspec uninstall <!-- -->KERNEL_NAME</span></pre><h1 id="9dff" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">可再生环境的工作流程示例</h1><ol class=""><li id="5325" class="nm nn it lu b lv lw ly lz mb no mf np mj nq mn ox ns nt nu bi translated">为项目创建新的 Github repo</li><li id="c305" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated">使用<code class="fe ob oc od oe b">git clone</code>在本地克隆回购</li><li id="f961" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated"><code class="fe ob oc od oe b">cd</code>进入项目目录</li><li id="7d7a" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated">创建新的 Conda 环境</li><li id="fcf4" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated">激活环境</li><li id="072d" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated">安装依赖项</li><li id="d73f" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated">在 Jupyter 或其他 IDE 中处理项目</li><li id="6e60" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated">(可选)如果在 Jupyter 中工作，从 env 创建内核</li><li id="e3ba" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated">将 conda env 导出到<code class="fe ob oc od oe b">yaml</code>或<code class="fe ob oc od oe b">txt</code>文件</li><li id="8eef" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated">保存代码</li><li id="a105" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated">创建<code class="fe ob oc od oe b">.gitignore</code>来避免不想添加到 git 的文件</li><li id="9428" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated">使用<code class="fe ob oc od oe b">git add .</code>将文件添加到 git</li><li id="4925" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated">将环境文件和代码推送到 Github</li></ol><p id="095d" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">要再现环境:</p><ol class=""><li id="9c04" class="nm nn it lu b lv ne ly nf mb oy mf oz mj pa mn ox ns nt nu bi translated">在不同的计算机上克隆 repo</li><li id="7aad" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated">从<code class="fe ob oc od oe b">yaml</code>或<code class="fe ob oc od oe b">txt</code>文件创建环境(不必使用 Conda)</li><li id="cf9d" class="nm nn it lu b lv nv ly nw mb nx mf ny mj nz mn ox ns nt nu bi translated">运行代码</li></ol><p id="c222" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated"><strong class="lu iu"> <em class="nd">注意:</em> </strong> <em class="nd">如果您计划部署您的项目，您可能想要维护一个单独的部署环境，该环境只包含已部署方面所需的依赖项。</em></p></div><div class="ab cl pb pc hx pd" role="separator"><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg"/></div><div class="im in io ip iq"><p id="4971" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">现在，您应该能够在 conda 环境中创建、激活和安装依赖项，以创建可再现的数据科学和机器学习环境。</p><p id="fe00" class="pw-post-body-paragraph ls lt it lu b lv ne ju lx ly nf jx ma mb nh md me mf nj mh mi mj nl ml mm mn im bi translated">请随时在 twitter <a class="ae kz" href="http://www.twitter.com/elizabethets" rel="noopener ugc nofollow" target="_blank"> @elizabethets </a>或<a class="ae kz" href="https://www.linkedin.com/in/elizabethts/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上与我联系！</p><h1 id="dc02" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">来源</h1><div class="pi pj gp gr pk pl"><a href="https://docs.conda.io/projects/conda/en/latest/user-guide/getting-started.html#managing-python" rel="noopener  ugc nofollow" target="_blank"><div class="pm ab fo"><div class="pn ab po cl cj pp"><h2 class="bd iu gy z fp pq fr fs pr fu fw is bi translated">conda-conda 4 . 8 . 3 . post 51+2 CD D7 ab 0 文档入门</h2><div class="ps l"><h3 class="bd b gy z fp pq fr fs pr fu fw dk translated">这个 20 分钟的 conda 入门指南让你尝试 conda 的主要功能。你应该明白…</h3></div><div class="pt l"><p class="bd b dl z fp pq fr fs pr fu fw dk translated">docs.conda.io</p></div></div><div class="pu l"><div class="pv l pw px py pu pz kt pl"/></div></div></a></div><div class="pi pj gp gr pk pl"><a href="https://docs.anaconda.com/anaconda/install/" rel="noopener  ugc nofollow" target="_blank"><div class="pm ab fo"><div class="pn ab po cl cj pp"><h2 class="bd iu gy z fp pq fr fs pr fu fw is bi translated">安装- Anaconda 文档</h2><div class="ps l"><h3 class="bd b gy z fp pq fr fs pr fu fw dk translated">在安装 Anaconda 个人版之前，请阅读下面列出的系统要求。如果你不想要…</h3></div><div class="pt l"><p class="bd b dl z fp pq fr fs pr fu fw dk translated">docs.anaconda.com</p></div></div></div></a></div></div></div>    
</body>
</html>