<html>
<head>
<title>How to Make Sankey Diagram in Tableau</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Tableau中制作桑基图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-make-sankey-diagram-in-tableau-f5f8730e5962?source=collection_archive---------0-----------------------#2020-05-07">https://towardsdatascience.com/how-to-make-sankey-diagram-in-tableau-f5f8730e5962?source=collection_archive---------0-----------------------#2020-05-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/5c94853eb1be03a240887825e94093b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PSOgscmSHWWbOBDuTzgviQ.png"/></div></div></figure><p id="bcda" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">桑基图是一种图表，我们可以用它来可视化一个度量在多个维度上的流动。桑基图是由爱尔兰船长桑基发明的，用来描述蒸汽机中的能量流动。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi kz"><img src="../Images/3d9918f2440cde9e484d77da14583128.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SWRrOQd7-6bqk86O.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">M. H. Sankey在<a class="ae li" href="https://upload.wikimedia.org/wikipedia/commons/1/10/JIE_Sankey_V5_Fig1.png" rel="noopener ugc nofollow" target="_blank">维基百科</a>上的第一张Sankey图(CC-PD)</p></figure><p id="37fc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">有几个用例适合用Sankey图来可视化。一些例子是:</p><ul class=""><li id="52f8" class="lj lk it kd b ke kf ki kj km ll kq lm ku ln ky lo lp lq lr bi translated">网站访问者行为</li><li id="a7d7" class="lj lk it kd b ke ls ki lt km lu kq lv ku lw ky lo lp lq lr bi translated">用户转化</li><li id="0d11" class="lj lk it kd b ke ls ki lt km lu kq lv ku lw ky lo lp lq lr bi translated">交通模式</li><li id="9c91" class="lj lk it kd b ke ls ki lt km lu kq lv ku lw ky lo lp lq lr bi translated">产品分配</li></ul><p id="ec6c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这篇文章中，我将一步一步地介绍如何使用Tableau Pubilc创建一个Sankey图。对于没有Tableau的你，你可以使用这个<a class="ae li" href="https://public.tableau.com/en-us/s/download" rel="noopener ugc nofollow" target="_blank">链接</a>免费下载Tableau Public。</p><h2 id="c72c" class="lx ly it bd lz ma mb dn mc md me dp mf km mg mh mi kq mj mk ml ku mm mn mo mp bi translated">步骤1导入数据集</h2><p id="566b" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">我们使用的数据源是Superstore Dataset和tableau。我们可以通过连接Microsoft Excel并选择一个超级商店文件来导入它。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mv"><img src="../Images/183c2450f8de4b2df2a880694f005fd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TvU4cT3dJwUzOWMdiF05Tg.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">导入数据集</p></figure><h2 id="9435" class="lx ly it bd lz ma mb dn mc md me dp mf km mg mh mi kq mj mk ml ku mm mn mo mp bi translated">步骤2创建参数、尺寸和测量</h2><p id="448b" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">在这一步中，我们将创建两个参数和三个计算字段。这些参数和计算字段将用于为用户提供选择Sankey两侧尺寸的能力。</p><p id="7b6c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，为“选择尺寸1”和“选择尺寸2”创建参数，设置如下。为此，我们可以创建选择维度1，然后复制并粘贴它，并更改选择维度2的名称。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mw"><img src="../Images/51c5f1dabad8518111ddfdb173466d15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0EbxD1BDxPIw0uRJoejsZA.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">选择维度1的配置</p></figure><p id="9cd1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">其次，我们需要创建计算字段作为所选维度的占位符。我们需要为选择维度1和选择维度2创建它。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mx"><img src="../Images/0437708e522400e8bb92b16ab2734c47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6omWfajBG_b1ttbJ"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">维度1计算字段</p></figure><p id="b621" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后，我们将为我们选择的度量创建一个计算字段，并为此选择Sales。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi my"><img src="../Images/1562a3e357f0c694734f59125536105a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Dw3jdHRlVitNMKtv"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">选择的度量计算字段</p></figure><h2 id="98cb" class="lx ly it bd lz ma mb dn mc md me dp mf km mg mh mi kq mj mk ml ku mm mn mo mp bi translated">步骤3:创建数据加密框架</h2><p id="efbf" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">在这一步中，我们将我们的测量值与测量值的固定最小值进行比较。通过这样做，我们可以确保我们帧之间的两个数据点。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/3c71d4fd45e0389ada63713f7b4d399c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aRwcexxwBLgW0FRS"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">路径框架计算字段</p></figure><p id="06ef" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来，我们将划分bin大小等于1的路径帧，并为该路径创建索引。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi na"><img src="../Images/d5d585ddb448e75c68cf77f0b18c1404.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VtQ4pTpFc2Nf-ryn"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">为路径框架创建箱</p></figure><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nb"><img src="../Images/0224643358915c792af0f195b83323f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*n4Ni5W_dbHvZj3Cd"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">路径框架箱设置</p></figure><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ca"><img src="../Images/2a5f0d24bba24761b227028c756fb164.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*v94DWLgqvW2ClSvI"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">路径索引计算字段</p></figure><h2 id="1b1a" class="lx ly it bd lz ma mb dn mc md me dp mf km mg mh mi kq mj mk ml ku mm mn mo mp bi translated">步骤4设置图表曲线</h2><p id="7f9c" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">我们需要制作两个计算字段，以便在我们的Sankey中制作一条曲线。我们将采用sigmoid公式来完成这项任务。执行此任务的计算字段如下所示。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nc"><img src="../Images/91921777491d86900aefdff1a36ae5e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*131vkwmNa8qQ4BuF"/></div></div></figure><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nd"><img src="../Images/058e5b34546a51ac53f36167e1995a1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z6TXhH1hk7vLhKpxJRrv3A.png"/></div></div></figure><h2 id="23b7" class="lx ly it bd lz ma mb dn mc md me dp mf km mg mh mi kq mj mk ml ku mm mn mo mp bi translated">步骤5桑基臂尺寸</h2><p id="57aa" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">此计算字段将每个Sankey arm作为完整数据集的百分比。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ne"><img src="../Images/7f0a905a4083034fc5761ab2982cf0a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8rWxk03rOVY1JVVA"/></div></div></figure><h2 id="5d76" class="lx ly it bd lz ma mb dn mc md me dp mf km mg mh mi kq mj mk ml ku mm mn mo mp bi translated">第6步顶线和底线计算</h2><p id="357d" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">此时，我们需要创建八个计算字段。这些字段用于创建每个Sankey的顶部和底部。在这些计算中，位置1是指左侧的尺寸1，位置2是指右侧的尺寸2。</p><p id="0f79" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">以下是顶部和底部的计算字段:</p><p id="7881" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">最大位置1: </strong></p><p id="9e4c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">RUNNING_SUM([Sankey臂长])</p><p id="a6c4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">最大位置1包</strong>:</p><p id="e8ad" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">WINDOW _ SUM([最大位置1])</p><p id="0af7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">最大位置2: </strong></p><p id="558e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">RUNNING_SUM([Sankey臂长])</p><p id="950a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">最大位置2缠绕:</strong></p><p id="0e1b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">WINDOW _ SUM([最大位置2])</p><p id="3118" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="nf">最小位置1的最大值:</em> </strong></p><p id="6f0d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">RUNNING_SUM([Sankey臂长])</p><p id="27a0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="nf">最小位置1: </em> </strong></p><p id="64e8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">RUNNING _ SUM([最小位置1的最大值]-[Sankey臂尺寸]</p><p id="b6f9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="nf">最小位置1换行:</em> </strong></p><p id="483d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">WINDOW _ SUM([最小位置1])</p><p id="fdc1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="nf">最大为最小位置2: </em> </strong></p><p id="97e3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">RUNNING_SUM([Sankey臂长])</p><p id="0b19" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="nf">最小位置2: </em> </strong></p><p id="0013" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">RUNNING _ SUM([最小位置2的最大值]-[Sankey臂尺寸]</p><p id="9407" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="nf">最小位置2换行:</em> </strong></p><p id="fa0e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">WINDOW _ SUM([最小位置2])</p><p id="c07d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">WINDOW _ SUM([最大位置2])</p><h2 id="2c7b" class="lx ly it bd lz ma mb dn mc md me dp mf km mg mh mi kq mj mk ml ku mm mn mo mp bi translated">步骤7三键多边形计算</h2><p id="a6f4" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">该计算结合了上述所有计算，并为Sankey生成多边形。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ng"><img src="../Images/a6156042d8a4bcdcc724441f72e8eef5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1ZoTkcK0bIfGFSdE"/></div></div></figure><h2 id="846e" class="lx ly it bd lz ma mb dn mc md me dp mf km mg mh mi kq mj mk ml ku mm mn mo mp bi translated">步骤8创建桑基表。</h2><p id="e66f" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">此时，我们已经创建了三个新的维度、16个度量和两个参数。在这里，我们将使用所有这些来制作桑基。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/207ef7f956cc4e4371d81709a88b2ffd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AaZVKUYIionavUdB7qnbEw.png"/></div></div></figure><p id="c17d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，拖动路径框架(bin)，尺寸1，尺寸2，作为标记中的细节。接下来，将T放入列中，并使用路径框架(bin)计算它，同时将Sankey多边形拖动到行中。然后将标记更改为多边形，并将路径索引添加到路径中，并与路径框架(bin)一起计算。最后，单击右下角的96 nulls显示所有null值。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ni"><img src="../Images/4b63cc038f78364e4330c40053714f24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*urwkSVY7XYVvAOb9W_51ew.png"/></div></div></figure><p id="17c8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在我们需要编辑桑基多边形的表格计算。我们需要一个一个仔细考虑。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nj"><img src="../Images/d84d0f3b5c51eb6caf0a76f5717dcfe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hjqu4LucYifbYUBO9sxROA.png"/></div></div></figure><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nk"><img src="../Images/9ed592760650ecfd3c57dd66581b3855.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MKaj-KTkuFBgyRDRSiEf1w.png"/></div></div></figure><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/4ec11bcd2af8ad8ee540de40e5b666a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gowZHG9PmHXaLgO6vXKY-A.png"/></div></div></figure><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nm"><img src="../Images/741c400ab6c50f3722077b9c3eebd032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F0_64TVI3HsXyKBst7TB9w.png"/></div></div></figure><p id="afd3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">总共有12个嵌套计算。编辑完计算表后，我们将把这张表准备好。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/9358ade0c5551bfe189aea89adae295a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cbflfJ0tDgunxAX1"/></div></div></figure><h2 id="50ba" class="lx ly it bd lz ma mb dn mc md me dp mf km mg mh mi kq mj mk ml ku mm mn mo mp bi translated">制作桑基手臂</h2><p id="7f5f" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">我们继续通过创建两个新的表并如下设置，在Sankey的左侧和右侧创建Sankey手臂。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/ac23593110462b56eaec1fe31d23b372.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QF0FR73fq0J8GgGRyX61vA.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">左侧桑基臂</p></figure><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi np"><img src="../Images/fdbeb59917053fa80bc1ee987806c905.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TUpbbT_aVfEo_NrBCCE--w.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">右侧桑基臂</p></figure><p id="6caf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通过将选择的度量拖到行中，并将表计算改为占总数的百分比。然后添加颜色和文本的维度。另外，为Sankey右侧的颜色标记添加INDEX()。</p><h2 id="8305" class="lx ly it bd lz ma mb dn mc md me dp mf km mg mh mi kq mj mk ml ku mm mn mo mp bi translated">步骤10创建仪表板</h2><p id="a0e5" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">最后一步，我们需要将所有的表和过滤器排列在一起，以得到我们的Sankey图。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/27899130cc483af4425e483e4e4ae039.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xNcmgnBulHDSf5Z2"/></div></div></figure><h2 id="591e" class="lx ly it bd lz ma mb dn mc md me dp mf km mg mh mi kq mj mk ml ku mm mn mo mp bi translated">结论</h2><p id="9424" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">最后，我们得到了第一个Sankey图，可以用来显示超市数据集中的流量。您可以查看此Sankey，并通过此<a class="ae li" href="https://public.tableau.com/views/SankeyDiagram_15885756725040/Dashboard1?:display_count=y&amp;:origin=viz_share_link" rel="noopener ugc nofollow" target="_blank">链接</a>下载工作簿。</p><p id="8539" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">此外，您可以更改数据源并按照步骤构建自己的Sankey图并共享您的作品。</p><h2 id="8049" class="lx ly it bd lz ma mb dn mc md me dp mf km mg mh mi kq mj mk ml ku mm mn mo mp bi translated">参考</h2><ul class=""><li id="344a" class="lj lk it kd b ke mq ki mr km nq kq nr ku ns ky lo lp lq lr bi translated"><a class="ae li" href="https://www.theinformationlab.co.uk/2018/03/09/build-sankey-diagram-tableau-without-data-prep-beforehand/" rel="noopener ugc nofollow" target="_blank">https://www . theinformationlab . co . uk/2018/03/09/build-sankey-diagram-tableau-without-data-prep-previous/</a></li></ul></div></div>    
</body>
</html>