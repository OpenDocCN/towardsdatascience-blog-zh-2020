<html>
<head>
<title>A (Really) Gentle Introduction to Named Entity Recognition and how to use it for Data Analysis.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">(真正)温和地介绍命名实体识别以及如何使用它进行数据分析。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-really-gentle-introduction-to-named-entity-recognition-and-how-to-use-it-for-data-analysis-ab25a1f39020?source=collection_archive---------29-----------------------#2020-02-03">https://towardsdatascience.com/a-really-gentle-introduction-to-named-entity-recognition-and-how-to-use-it-for-data-analysis-ab25a1f39020?source=collection_archive---------29-----------------------#2020-02-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="62bb" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">自然语言处理变得简单</h2><div class=""/><div class=""><h2 id="5f28" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">用Spacy发现《权力的游戏》书中最受欢迎的名字！</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/ca10843e913cb57686efddeaa041c97c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kDXpR5_6JdDQTx9p"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">话来了！托马斯·博诺梅蒂在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="0961" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">NLP是热门的东西，任何有抱负的数据科学家都应该学习它，对吗？当然，但是NLP除了在机器学习项目中的应用之外，还可以发挥更大的作用，因为它可以为数据分析带来强大的工具。</p><p id="8918" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在本文中，我将使用<a class="ae lh" href="https://spacy.io/" rel="noopener ugc nofollow" target="_blank"> spacy </a>，它是最流行的NLP任务库之一。它有很好的文档，提供了10种语言的模型，还有一个多语言库。我们的数据集将是流行的《权力的游戏》系列的第一本书，可以在这里下载<a class="ae lh" href="https://www.kaggle.com/muhammedfathi/game-of-thrones-book-files" rel="noopener ugc nofollow" target="_blank"/>。所有的代码和图表都来自我专门为你制作的笔记本，所以<a class="ae lh" href="https://github.com/lucasmoratof/nlp_basic_projects" rel="noopener ugc nofollow" target="_blank">请自便</a>。</p><h2 id="d744" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">为什么使用NLP进行分析？</h2><p id="dde3" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">作为数据分析师，我注意到当我们开始学习时，我们学习的很多内容都集中在ML建模、预测和人工智能上，有很多很酷的东西要学。然而，当遇到第一份工作机会时，通常会与数据分析、数据清理和数据可视化相关，所以我们应该投入更多的注意力来提高我们在这些领域的技能，NLP可以在这个过程中提供很多帮助。</p><p id="5108" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">文本数据是杂乱的，很难组织。帮助我们理解它的方法之一是将单词转换成记号，记号是单词的数字表示。Spacy 出色地做到了这一点，它还使用一个通常非常有效的复杂统计模型来预测一个词在给定上下文中的功能。</p><h2 id="310a" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">什么是命名实体识别(NER)？</h2><p id="5c93" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">根据<a class="ae lh" href="https://spacy.io/usage/linguistic-features#named-entities" rel="noopener ugc nofollow" target="_blank">文档</a>:“命名实体是一个“现实世界的物体”，它被赋予了一个名字——例如，一个人、一个国家、一个产品或一本书的书名”。下面你可以找到一个例子:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/46335076d588f1304b85f5415aa614bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*gh-8Z_S6W9iFAAw4lgbhMw.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">完整的列表可以在<a class="ae lh" href="https://spacy.io/api/annotation#named-entities" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p></figure><h2 id="7183" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">如何使用NER进行数据分析？</h2><p id="c0bb" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">在今天的例子中，我们使用的是《权力的游戏》第一本书，名为《国王的冲突》。假设你正在做你的分析，在这么多的角色中，你问自己,<strong class="lk jd">哪一个名字在那本书里出现得最多？好了，不要再害怕了，因为NER在这里帮助你！</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/5a6a7f105a08697e278e151cda9129a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*OCleO2CFIDUWZ5rt"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">想把它们都记住是不可能的！<a class="ae lh" href="https://mtv.mtvnimages.com/uri/mgid:file:http:shared:mtv.com/news/wp-content/uploads/2015/04/joffrey-1430316003.gif?quality=.8&amp;height=281&amp;width=500" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="de20" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，让我们看看数据是什么样子的:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nd"><img src="../Images/5f4b41b5ae100b8d4c244d49d6999f7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TsJvKCRrCkPUTatxZ473Qw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">来源:作者</p></figure><p id="c5cd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">好的，这是一个文本文件，每行都是一行。我们需要遍历这些行，并要求spacy选择一个名称，并将其保存到一个列表中。很简单，对吧？让我们把它翻译成代码！</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ne"><img src="../Images/a4893a3a0774bc4d3d72d886b0f2a13b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rjmx5GN6nnEUPi-QZZRn6g.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">首先，创建NLP对象。来源:作者</p></figure><p id="d782" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们首先需要创建一个NLP对象。它加载模型，在这种情况下是英文模型，并使用这个对象，我们将转换和预测文本中的单词，如下例所示:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nf"><img src="../Images/45d3efdc9c7261b9aa4e18ca861eadaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H8Ug7ZWAuS_OJqpfIcVF8w.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">2:迭代每一行。</p></figure><p id="ab75" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">上面的代码的作用是:</p><ul class=""><li id="9ced" class="ng nh it lk b ll lm lo lp lr ni lv nj lz nk md nl nm nn no bi translated">创建一个空列表来存储我们的名字；</li><li id="89fa" class="ng nh it lk b ll np lo nq lr nr lv ns lz nt md nl nm nn no bi translated">要求nlp对象处理每一行；</li><li id="4067" class="ng nh it lk b ll np lo nq lr nr lv ns lz nt md nl nm nn no bi translated">然后，当它预测单词是一个人时，它得到每个标记的文本；</li><li id="c8f0" class="ng nh it lk b ll np lo nq lr nr lv ns lz nt md nl nm nn no bi translated">最后，它应该将该名称存储在空列表中。</li></ul><p id="a37b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，我们可以看到为我们的书选择十大名字的结果:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nu"><img src="../Images/a2e26a330b3655d5015800c13cb688be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OCCybv5EyepmYsWbmF4IVw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">来源:作者</p></figure><p id="c091" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">哇！看那个！请记住，我们没有给算法任何信息，它自己预测了名字，至少对于前10名，它们都是正确的。另外，我们只用了很少几行代码就完成了所有这些工作。现在，为了让这些信息看起来更好，为什么不创建一个条形图呢？</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/e8d71235d4da85fa524ec5a34f1febf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*C2lOWhe6tpVcJ5eiZD51rQ.png"/></div></figure><h2 id="3f7d" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">结论</h2><p id="6e9f" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">今天就到这里。在本文中，我向您展示了自然语言处理不仅仅是关于机器学习，还可以用于分析。我们探索了什么是NER以及如何使用它，并给出了一个实际的例子，欢迎您不仅仅是<a class="ae lh" href="https://github.com/lucasmoratof/nlp_basic_projects" rel="noopener ugc nofollow" target="_blank">自己去尝试</a>。</p><p id="969d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我希望你喜欢阅读，请在评论中告诉我你的想法，并在下一篇文章中看到你！</p></div></div>    
</body>
</html>