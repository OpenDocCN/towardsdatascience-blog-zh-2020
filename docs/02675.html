<html>
<head>
<title>Statistical Learning (I): Hypothesis Testing on House Price Dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">统计学习(一):房价数据的假设检验</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/practical-practice-of-hypothesis-testing-on-house-price-dataset-1fb169bc04ee?source=collection_archive---------13-----------------------#2020-03-15">https://towardsdatascience.com/practical-practice-of-hypothesis-testing-on-house-price-dataset-1fb169bc04ee?source=collection_archive---------13-----------------------#2020-03-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/a8cf19afc7a4e8ef7c3df0af502c703c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wLERWv6U_zSXZZg6aee_hQ.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">布鲁克·卡吉尔在<a class="ae kf" href="https://unsplash.com/collections/9506121/computer-science%2C-math-%26-statistics-?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="7cd9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi le translated"><span class="l lf lg lh bm li lj lk ll lm di"> H </span>你有没有想过什么因素会对房价产生重大影响？</p><p id="67a6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将深入研究爱荷华州埃姆斯市的住宅区价格数据集。<br/>(数据集<a class="ae kf" href="https://www.kaggle.com/c/house-prices-advanced-regression-techniques/overview" rel="noopener ugc nofollow" target="_blank">从kaggle下载)在美国的埃姆斯市，有1460所房子，来自不同的25个社区。作为一个拥有65，000多人口的小镇，只有地块面积是影响房价的主要原因吗？是否有其他因素会将相对影响置于与地块面积相同的位置？基于以上的假设，我们就知道什么对房价有如此大的影响。</a></p><p id="317c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">也许你正在埃姆斯寻找一个新的住处。你一直在房产网站上搜索房源，但基于你的住房偏好，你不知道什么价格更合理。1460套房子的数据集对显示最大因子是否显著？</p><p id="7a0e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是假设检验的用武之地。</p><h1 id="794c" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">一些专业术语的定义:</h1><h2 id="1da1" class="ml lo it bd lp mm mn dn lt mo mp dp lx kr mq mr mb kv ms mt mf kz mu mv mj mw bi translated"><strong class="ak">——零假设(H0) </strong></h2><p id="f4f2" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">零假设是被认为是真实的初始假设。</p><h2 id="99be" class="ml lo it bd lp mm mn dn lt mo mp dp lx kr mq mr mb kv ms mt mf kz mu mv mj mw bi translated">-替代假设(H1)</h2><p id="7204" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">另一个假设与零假设正好相反。如果计算结果推断无效假设应被拒绝，则支持替代假设。</p><h2 id="8798" class="ml lo it bd lp mm mn dn lt mo mp dp lx kr mq mr mb kv ms mt mf kz mu mv mj mw bi translated">- P值</h2><p id="6aa6" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">p值是作为检查点的给定统计模型接受或拒绝零假设的概率。如果p值小于或等于显著性水平，则应推翻零假设。</p><h2 id="42a5" class="ml lo it bd lp mm mn dn lt mo mp dp lx kr mq mr mb kv ms mt mf kz mu mv mj mw bi translated">-显著性水平:</h2><p id="5bff" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">这是观察证据有多强的可能性。当p值高于阈值时，零假设不会被拒绝。否则，当p值低于阈值时，替代假设将被拒绝。</p><div class="nc nd ne nf gt ab cb"><figure class="ng ju nh ni nj nk nl paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><img src="../Images/1fbd91bbc40a6c27ad022968b83cfc89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*ScO7ORNCUAAMJkB9gSszFg.jpeg"/></div></figure><figure class="ng ju nh ni nj nk nl paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><img src="../Images/aeeb9c2334eef87dfaa3bd10a6ddcbaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*GeZmTlPickeph9CULmGhuQ.jpeg"/></div></figure></div><h2 id="04e1" class="ml lo it bd lp mm mn dn lt mo mp dp lx kr mq mr mb kv ms mt mf kz mu mv mj mw bi translated">单边假设检验:</h2><p id="c295" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">当<strong class="ki iu"> α </strong>设为0.05时，置信度为90%。这意味着分布图左侧和右侧的p值都可以是0.05。</p><h2 id="7f02" class="ml lo it bd lp mm mn dn lt mo mp dp lx kr mq mr mb kv ms mt mf kz mu mv mj mw bi translated">双边假设检验:</h2><p id="9cfb" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">当<strong class="ki iu"> α </strong>设为0.05时，置信度为95%。这意味着p值将在右侧或左侧被分成两半。</p><h1 id="7850" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">方法:</h1><h2 id="29bb" class="ml lo it bd lp mm mn dn lt mo mp dp lx kr mq mr mb kv ms mt mf kz mu mv mj mw bi translated">指定无效假设和替代假设</h2><p id="1507" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated"><strong class="ki iu"> H0: </strong>房屋建成日期早导致房价低<br/> <strong class="ki iu"> H1: </strong>房屋建成日期早并不导致房价低</p><h2 id="f760" class="ml lo it bd lp mm mn dn lt mo mp dp lx kr mq mr mb kv ms mt mf kz mu mv mj mw bi translated">选择重要性级别</h2><p id="133a" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">将α设为0.05，相当于95%的置信水平。</p><h2 id="3da1" class="ml lo it bd lp mm mn dn lt mo mp dp lx kr mq mr mb kv ms mt mf kz mu mv mj mw bi translated">确定概率</h2><blockquote class="nm nn no"><p id="daaa" class="kg kh np ki b kj kk kl km kn ko kp kq nq ks kt ku nr kw kx ky ns la lb lc ld im bi translated">我们选择计算一个<strong class="ki iu"> Pearson相关系数</strong>和来自scipy包的用于测试相关性的p值。<br/>Pearson相关系数衡量两个数据集之间的线性关系，其取值范围从-1到1。<br/>-1表示负线性关系，+1表示正线性关系，0表示无相关性。</p></blockquote><p id="8768" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面粘贴的是<strong class="ki iu">皮尔逊相关系数</strong>测量的代码！首先，我把数据集转移到熊猫的数据框架中。将Pandas Dataframe列转换为数组，并将其传递给Pearson scipy包以获取p_value。</p><figure class="nc nd ne nf gt ju"><div class="bz fp l di"><div class="nt nu l"/></div></figure><h2 id="63e5" class="ml lo it bd lp mm mn dn lt mo mp dp lx kr mq mr mb kv ms mt mf kz mu mv mj mw bi translated">决定是拒绝还是不拒绝零假设，并做出决定</h2><p id="c619" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">如皮尔逊相关检验所示，p值远低于0.05的显著性水平。因此，我们将<strong class="ki iu">基于皮尔逊检验的p值输出拒绝零假设</strong>。</p><blockquote class="nm nn no"><p id="047e" class="kg kh np ki b kj kk kl km kn ko kp kq nq ks kt ku nr kw kx ky ns la lb lc ld im bi translated">根据皮尔逊双尾值，当p值落在绿区、<strong class="ki iu">外的区域<strong class="ki iu">时，应拒绝</strong>零假设。另一方面，当p值<strong class="ki iu">落入绿色区域</strong>，<strong class="ki iu">时，零假设将被接受</strong>。</strong></p></blockquote><figure class="nc nd ne nf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/58381d5f5bb94a0b20930d964d826e34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uxmx-HaP1nkfNGdQIDnksA.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">95%置信水平的概率分布图</p></figure><h2 id="cc07" class="ml lo it bd lp mm mn dn lt mo mp dp lx kr mq mr mb kv ms mt mf kz mu mv mj mw bi translated">结论</h2><p id="a083" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">在进行皮尔逊相关假设检验后，我们知道房价和年建成量之间不存在强相关关系。稍后，我将通过生成两个特征的散点图来运行分析，并查看结果是否与相关性的假设测试相匹配。</p><h2 id="0b14" class="ml lo it bd lp mm mn dn lt mo mp dp lx kr mq mr mb kv ms mt mf kz mu mv mj mw bi translated">建议:</h2><p id="2f68" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">在对2个特征进行假设检验之前，建议对数据集做一些简单的分析。例如，我查看了这栋房子最早的建造日期，从1872年到2010年。并且，房价从3.49万到75.5万不等。然后，我绘制了一个散点图来查看这两个特征的相关性。散点图显示，在这两个特征上没有<strong class="ki iu">强相关线</strong>，<strong class="ki iu">我们可以得出结论，在艾姆斯越早建房子并不会导致房价越高</strong>。</p><figure class="nc nd ne nf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/d571f458559f004641b20687593a7fb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IlgYPKEbyGfFT_1GlOmWMg.png"/></div></div></figure><h2 id="6348" class="ml lo it bd lp mm mn dn lt mo mp dp lx kr mq mr mb kv ms mt mf kz mu mv mj mw bi translated">额外分析:</h2><p id="9709" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated"><strong class="ki iu">平均</strong>房价为<strong class="ki iu">180921</strong>，<strong class="ki iu">中位数</strong>为<strong class="ki iu">163000</strong>。<br/>我们想看看从1882年到2009年建造的<strong class="ki iu">房屋的价格在这个范围内。</strong></p><figure class="nc nd ne nf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nx"><img src="../Images/aced7e8885b63a5fef9cadaedc1ebaea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T4EXAb1d05WN0uC0R-TTEA.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">房价在平均值和中值范围内的年建成房屋箱线图</p></figure><p id="6291" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从箱线图中，我们可以看到房子的平均建造年份是1982年，房价从163，000到180，921不等。此外，根据以上分析，我们知道该房屋的平均房价属于<strong class="ki iu"> 22年</strong>的范围。</p><p id="0112" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读！<br/>请在下面的评论区分享您的反馈。</p></div></div>    
</body>
</html>