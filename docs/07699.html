<html>
<head>
<title>How to Build a Data Science Web App in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 Python 构建数据科学 Web 应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-build-a-data-science-web-app-in-python-61d1bed65020?source=collection_archive---------7-----------------------#2020-06-09">https://towardsdatascience.com/how-to-build-a-data-science-web-app-in-python-61d1bed65020?source=collection_archive---------7-----------------------#2020-06-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/50bc8c9d987cad78f1bc2f3413d33190.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CAapPVqkujcYzKdE_O2Kgg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://elements.envato.com/user/YummyDs" rel="noopener ugc nofollow" target="_blank"> YummyDs </a>从<a class="ae jg" href="https://elements.envato.com/" rel="noopener ugc nofollow" target="_blank"> Envato 元素</a>使用许可图像创建</p></figure><h2 id="4159" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/data-science/" rel="noopener" target="_blank">数据科学</a></h2><div class=""/><div class=""><h2 id="af2f" class="pw-subtitle-paragraph kp js jj bd b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dk translated">第 1 部分:您的第一个 Web 应用程序，只有几行代码</h2></div><p id="a3fb" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi md translated">在本文中，我将向您展示如何使用 streamlit Python 库，只用几行代码，快速构建一个简单的数据驱动的 web 应用程序。</p><p id="bbfa" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">作为一名数据科学家或机器学习工程师，能够部署我们的数据科学项目非常重要。使用 Django 或 Flask 等已建立框架的机器学习模型的传统部署可能是一项艰巨和/或耗时的任务。</p><p id="791e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这篇文章基于我在 YouTube 上制作的同一主题的视频(T21，如何用 Python 构建你的第一个数据科学 Web 应用，你可以边看边读这篇文章)。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="mr ms l"/></div></figure><h1 id="8304" class="mt mu jj bd mv mw mx my mz na nb nc nd ky ne kz nf lb ng lc nh le ni lf nj nk bi translated">我们正在构建的股票 web 应用程序概述</h1><p id="7649" class="pw-post-body-paragraph lh li jj lj b lk nl kt lm ln nm kw lp lq nn ls lt lu no lw lx ly np ma mb mc im bi translated">今天，我们将构建一个简单的 web 应用程序来显示股票价格和交易量。这将需要使用两个 Python 库，即<code class="fe nq nr ns nt b">streamlit</code>和<code class="fe nq nr ns nt b">yfinance</code>。从概念上讲，该应用程序将从雅虎检索历史市场数据。来自<code class="fe nq nr ns nt b">yfinance</code>图书馆的资金。该数据被保存到一个数据帧中，并且<code class="fe nq nr ns nt b">streamlit</code>将使用该数据作为输入参数，将其显示为一个折线图。</p><h1 id="032d" class="mt mu jj bd mv mw mx my mz na nb nc nd ky ne kz nf lb ng lc nh le ni lf nj nk bi translated">安装必备库</h1><p id="9d00" class="pw-post-body-paragraph lh li jj lj b lk nl kt lm ln nm kw lp lq nn ls lt lu no lw lx ly np ma mb mc im bi translated">在本教程中，我们将使用两个需要安装的 Python 库。其中包括<code class="fe nq nr ns nt b">streamlit</code>和<code class="fe nq nr ns nt b">yfinance</code>。您可以通过如下的<code class="fe nq nr ns nt b">pip install</code>命令轻松安装<code class="fe nq nr ns nt b">streamlit</code>:</p><pre class="mn mo mp mq gt nu nt nv nw aw nx bi"><span id="5424" class="ny mu jj nt b gy nz oa l ob oc">pip install streamlit</span></pre><p id="4214" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">对<code class="fe nq nr ns nt b">yfinance</code>也进行如下操作:</p><pre class="mn mo mp mq gt nu nt nv nw aw nx bi"><span id="ed8a" class="ny mu jj nt b gy nz oa l ob oc">pip install yfinance</span></pre><h1 id="6be1" class="mt mu jj bd mv mw mx my mz na nb nc nd ky ne kz nf lb ng lc nh le ni lf nj nk bi translated">web 应用程序的代码</h1><p id="6ae4" class="pw-post-body-paragraph lh li jj lj b lk nl kt lm ln nm kw lp lq nn ls lt lu no lw lx ly np ma mb mc im bi translated">让我们来看看我们今天正在构建的 web 应用程序的代码。您将会看到少于 20 行的代码(<em class="mm">即</em>如果不计算注释，那么它将减少到 14 行代码，其中 3 行是出于美观目的的空行)。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="od ms l"/></div></figure><h1 id="10d5" class="mt mu jj bd mv mw mx my mz na nb nc nd ky ne kz nf lb ng lc nh le ni lf nj nk bi translated">对代码的逐行解释</h1><p id="9d78" class="pw-post-body-paragraph lh li jj lj b lk nl kt lm ln nm kw lp lq nn ls lt lu no lw lx ly np ma mb mc im bi translated">让我们花点时间对上面的代码做一些了解。</p><ul class=""><li id="14ad" class="oe of jj lj b lk ll ln lo lq og lu oh ly oi mc oj ok ol om bi translated"><strong class="lj jt"> <em class="mm">第 1 行和第 2 行<br/> </em> </strong>导入<code class="fe nq nr ns nt b">yfinance</code>并赋予其别名<code class="fe nq nr ns nt b">yf</code>以及导入<code class="fe nq nr ns nt b">streamlit</code>并赋予其别名<code class="fe nq nr ns nt b">st</code>。</li><li id="433b" class="oe of jj lj b lk on ln oo lq op lu oq ly or mc oj ok ol om bi translated"><strong class="lj jt"> <em class="mm">第 4–7 行</em> </strong> <em class="mm"> </em> <br/>使用<code class="fe nq nr ns nt b">st.write()</code>功能打印出文本。这些打印出来的文本是以减价的形式写的。</li><li id="5a27" class="oe of jj lj b lk on ln oo lq op lu oq ly or mc oj ok ol om bi translated"><strong class="lj jt"> <em class="mm">第 9–16 行</em> </strong> <em class="mm"> </em> <br/>使用<code class="fe nq nr ns nt b">yfinance</code>库从 Yahoo！金融。<br/> * <em class="mm">第 11 行— </em>将股票代码定义为<code class="fe nq nr ns nt b">GOOGL</code>。<br/> * <em class="mm">第 13 行</em> —使用<code class="fe nq nr ns nt b">yf.Ticker()</code>函数创建<code class="fe nq nr ns nt b">tickerData</code>变量，顾名思义，该函数允许访问股票行情自动收录器数据。应该注意，tickerData 是一个<em class="mm"> Ticker 对象</em>，如果我们将 tickerData 作为一个命令运行，我们会得到下面的输出<code class="fe nq nr ns nt b">yfinance.Ticker object &lt;GOOGL&gt;</code>。<br/> * <em class="mm">第 15 行</em> —创建<code class="fe nq nr ns nt b">tickerDf</code>数据帧并定义日期范围(从 2010 年 5 月 31 日至 2020 年 5 月 31 日)和时间段(1 天)。</li></ul><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/1ca11ae167dd2017643faa4365e364e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FxgsBG4TnNznazig_jgLig.png"/></div></div></figure><ul class=""><li id="459f" class="oe of jj lj b lk ll ln lo lq og lu oh ly oi mc oj ok ol om bi translated"><strong class="lj jt"> <em class="mm">第 18 行和第 19 行</em> </strong> <br/>使用<code class="fe nq nr ns nt b">st.line_chart()</code>函数绘制折线图(使用第 15 行定义的<code class="fe nq nr ns nt b">tickerDf</code>数据框中的<em class="mm">收盘价</em>和<em class="mm">成交量</em>列)。</li></ul><h1 id="3709" class="mt mu jj bd mv mw mx my mz na nb nc nd ky ne kz nf lb ng lc nh le ni lf nj nk bi translated">运行 web 应用程序</h1><p id="2804" class="pw-post-body-paragraph lh li jj lj b lk nl kt lm ln nm kw lp lq nn ls lt lu no lw lx ly np ma mb mc im bi translated">将代码保存到名为 myapp.py 的文件中后，启动命令提示符(或 Microsoft Windows 中的 Power Shell)并运行以下命令:</p><pre class="mn mo mp mq gt nu nt nv nw aw nx bi"><span id="bc6f" class="ny mu jj nt b gy nz oa l ob oc">streamlit run myapp.py</span></pre><p id="b721" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">接下来，我们应该会看到以下消息:</p><pre class="mn mo mp mq gt nu nt nv nw aw nx bi"><span id="7264" class="ny mu jj nt b gy nz oa l ob oc">&gt; streamlit run myapp.py</span><span id="6d13" class="ny mu jj nt b gy ot oa l ob oc">You can now view your Streamlit app in your browser.</span><span id="7f0d" class="ny mu jj nt b gy ot oa l ob oc">Local URL: <a class="ae jg" href="http://localhost:8501" rel="noopener ugc nofollow" target="_blank">http://localhost:8501</a><br/>Network URL: http://10.0.0.11:8501</span></pre><p id="baa2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">很快，一个互联网浏览器窗口将弹出，引导您进入创建的 web 应用程序，如下图所示的<code class="fe nq nr ns nt b"><a class="ae jg" href="http://localhost:8501." rel="noopener ugc nofollow" target="_blank">http://localhost:8501</a></code>。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ou"><img src="../Images/72be1cbe6658e9db97dc63b7f2eeee0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9MEybR8iR0TuruerSzcj5w.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">股票价格 web 应用程序的屏幕截图。</p></figure><h1 id="dc73" class="mt mu jj bd mv mw mx my mz na nb nc nd ky ne kz nf lb ng lc nh le ni lf nj nk bi translated">恭喜你！您已经用 Python 创建了您的第一个 web 应用程序！</h1></div><div class="ab cl ov ow hx ox" role="separator"><span class="oy bw bk oz pa pb"/><span class="oy bw bk oz pa pb"/><span class="oy bw bk oz pa"/></div><div class="im in io ip iq"><h1 id="7c57" class="mt mu jj bd mv mw pc my mz na pd nc nd ky pe kz nf lb pf lc nh le pg lf nj nk bi translated">自定义 web 应用程序</h1><p id="b46f" class="pw-post-body-paragraph lh li jj lj b lk nl kt lm ln nm kw lp lq nn ls lt lu no lw lx ly np ma mb mc im bi translated">好吧，所以你可能想加点料，定制 web 应用程序。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="od ms l"/></div></figure><p id="2afb" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">让我们花点时间对上面的代码做一些了解。</p><ul class=""><li id="2da2" class="oe of jj lj b lk ll ln lo lq og lu oh ly oi mc oj ok ol om bi translated"><strong class="lj jt"> <em class="mm">第 6 行<br/> </em> </strong>注意，我们加粗了<em class="mm">【收盘价】</em>，在短语前后使用了两个星号，如下:<code class="fe nq nr ns nt b">**closing price**</code>。还要注意的是，我们通过在单词前后使用三个星号，使单词“volume”变成了粗体和斜体形式，如下所示:<code class="fe nq nr ns nt b">***volume***</code>。</li><li id="691c" class="oe of jj lj b lk on ln oo lq op lu oq ly or mc oj ok ol om bi translated"><strong class="lj jt"> <em class="mm">第 18–20 行和第 22–25 行<br/> </em> </strong>这里我们在<em class="mm">收盘价</em>和<em class="mm">成交量</em>图之前添加了一个降价格式的标题。</li></ul><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ph"><img src="../Images/ab8682bd4969595cd8de1b0678be787b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C6TgiMLoNrny1m_XQH-BlQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">更新后的 web 应用程序的屏幕截图。</p></figure><h1 id="6514" class="mt mu jj bd mv mw mx my mz na nb nc nd ky ne kz nf lb ng lc nh le ni lf nj nk bi translated">瞧吧！</h1><p id="f2a5" class="pw-post-body-paragraph lh li jj lj b lk nl kt lm ln nm kw lp lq nn ls lt lu no lw lx ly np ma mb mc im bi translated">现在，我们有了一个更新的 web 应用程序，它会在你眼前自动更新。</p></div><div class="ab cl ov ow hx ox" role="separator"><span class="oy bw bk oz pa pb"/><span class="oy bw bk oz pa pb"/><span class="oy bw bk oz pa"/></div><div class="im in io ip iq"><h2 id="51c2" class="ny mu jj bd mv pi pj dn mz pk pl dp nd lq pm pn nf lu po pp nh ly pq pr nj jp bi translated">订阅我的邮件列表，获取我在数据科学方面的最佳更新(偶尔还有免费赠品)!</h2></div><div class="ab cl ov ow hx ox" role="separator"><span class="oy bw bk oz pa pb"/><span class="oy bw bk oz pa pb"/><span class="oy bw bk oz pa"/></div><div class="im in io ip iq"><h1 id="296e" class="mt mu jj bd mv mw pc my mz na pd nc nd ky pe kz nf lb pf lc nh le pg lf nj nk bi translated">关于我</h1><p id="ca30" class="pw-post-body-paragraph lh li jj lj b lk nl kt lm ln nm kw lp lq nn ls lt lu no lw lx ly np ma mb mc im bi translated">我是泰国一所研究型大学的生物信息学副教授和数据挖掘和生物医学信息学负责人。在我下班后的时间里，我是一名 YouTuber(又名<a class="ae jg" href="http://bit.ly/dataprofessor/" rel="noopener ugc nofollow" target="_blank">数据教授</a>)制作关于数据科学的在线视频。在我做的所有教程视频中，我也在 GitHub 上分享 Jupyter 笔记本(<a class="ae jg" href="https://github.com/dataprofessor/" rel="noopener ugc nofollow" target="_blank">数据教授 GitHub page </a>)。</p><div class="is it gp gr iu ps"><a href="https://www.youtube.com/dataprofessor?sub_confirmation=1" rel="noopener  ugc nofollow" target="_blank"><div class="pt ab fo"><div class="pu ab pv cl cj pw"><h2 class="bd jt gy z fp px fr fs py fu fw js bi translated">数据教授</h2><div class="pz l"><h3 class="bd b gy z fp px fr fs py fu fw dk translated">数据科学、机器学习、生物信息学、研究和教学是我的激情所在。数据教授 YouTube…</h3></div><div class="qa l"><p class="bd b dl z fp px fr fs py fu fw dk translated">www.youtube.com</p></div></div><div class="qb l"><div class="qc l qd qe qf qb qg ja ps"/></div></div></a></div><h2 id="099c" class="ny mu jj bd mv pi pj dn mz pk pl dp nd lq pm pn nf lu po pp nh ly pq pr nj jp bi translated">在社交网络上与我联系</h2><p id="2675" class="pw-post-body-paragraph lh li jj lj b lk nl kt lm ln nm kw lp lq nn ls lt lu no lw lx ly np ma mb mc im bi translated">YouTube: <a class="ae jg" href="http://youtube.com/dataprofessor/" rel="noopener ugc nofollow" target="_blank"/><a class="ae jg" href="http://youtube.com/dataprofessor/" rel="noopener ugc nofollow" target="_blank">http://youtube.com/dataprofessor/ </a><br/><br/><a class="ae jg" href="https://www.linkedin.com/company/dataprofessor/" rel="noopener ugc nofollow" target="_blank">LinkedIn:</a><a class="ae jg" href="https://www.linkedin.com/company/dataprofessor/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/company/dataprofessor/ </a><br/><br/><br/><a class="ae jg" href="https://twitter.com/thedataprof" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/company/dataprofessor/ </a><br/><br/><a class="ae jg" href="https://www.youtube.com/redirect?redir_token=w4MajL6v6Oi_kOAZNbMprRRJrvJ8MTU5MjI5NjQzN0AxNTkyMjEwMDM3&amp;q=http%3A%2F%2Ffacebook.com%2Fdataprofessor%2F&amp;event=video_description&amp;v=ZZ4B0QUHuNc" rel="noopener ugc nofollow" target="_blank"/><a class="ae jg" href="https://www.youtube.com/redirect?redir_token=w4MajL6v6Oi_kOAZNbMprRRJrvJ8MTU5MjI5NjQzN0AxNTkyMjEwMDM3&amp;q=http%3A%2F%2Ffacebook.com%2Fdataprofessor%2F&amp;event=video_description&amp;v=ZZ4B0QUHuNc" rel="noopener ugc nofollow" target="_blank">【HTTP://facebook.com/dataprofessor/】</a><br/>【GitHub:<a class="ae jg" href="https://github.com/dataprofessor/" rel="noopener ugc nofollow" target="_blank">【HTTPS://github.com/dataprofessor/】</a><br/><a class="ae jg" href="https://www.instagram.com/data.professor/" rel="noopener ugc nofollow" target="_blank">Instagram:【HTTPS://www.instagram.com/data</a></p></div></div>    
</body>
</html>