# 利用卫星图像自动搜索土耳其的非法垃圾场

> 原文：<https://towardsdatascience.com/automating-the-hunt-for-illegal-dumpsites-in-turkey-with-satellite-imagery-55288a687add?source=collection_archive---------28----------------------->

## 使用谷歌地球引擎为联合国进行图像分类

![](img/96826455f2090a35a45ff017fdff9f60.png)

多年来，我作为地理信息系统和遥感专家的经历在**人道主义领域的项目中留下了印记:**联合国、世界银行、红十字会、WRI、无国界翻译组织；你说吧，我可能为他们做过一些工作。早在 2018 年，当我为 [**城市恢复平台**](http://urplatform.eu)——一家致力于为**人道主义危机**中的**固体废物管理**开发软件的法国初创公司——工作时，我们被赋予了一项非常简单但难以完成的任务:帮助 [**UNDP**](https://www.tr.undp.org/content/turkey/en/home/presscenter/articles/2017/04/effective-urban-waste-management-for-host-communities/) 和**土耳其政府**识别土耳其的每一个 非法垃圾场。

# 但是为什么呢？

土耳其独特的地理位置，与叙利亚和 T21 之间长达 911 公里的边境线，以及土耳其作为通往欧洲的陆路移民通道，导致土耳其接收了大量涌入的叙利亚难民。自 2016 年叙利亚危机开始以来，数百万人越境逃往土耳其东南部的安纳托利亚地区。2018 年 7 月**安纳托利亚东南部**登记在册的叙利亚人数量**超过 350 万**。

![](img/1344109ca81d121f89a489d7fc9b42e1.png)

到 2016 年，移民将流入土耳其境内叙利亚人数最多的省份。东南部省份是难民营最多的省份，如桑尼乌尔法、加济安泰普和奥斯马尼耶。

这导致几个土耳其边境城市的人口结构发生了快速变化。例如，在基利斯，叙利亚难民的数量大于当地人口。

随着人口的流动，他们产生的垃圾也在增加。随着国内固体废物数量翻了一番，Analotia 东南部的省份开始面临越来越多的问题，如**处理不足**和**收集和处理新人口产生的所有废物的能力不足**。这导致了固体废物价值链的不平衡，导致了许多新的非法垃圾场的出现，以接收市政当局无法处理的废物。

![](img/96826455f2090a35a45ff017fdff9f60.png)

Gaziantep 郊区的一个非法垃圾场，主要用于处理生活垃圾。

联合国开发计划署以其支持城市废物管理的明确任务为回应，推出了 [*东道社区有效城市废物管理*方案](https://open.undp.org/projects/00105448)，其中包括**关键基础设施投资、**如废物转运站和回收设施。

但是将垃圾从不受控制的垃圾场转移出去仅仅是升级整个垃圾收集系统的第一步。联合国开发计划署还想确保这些垃圾场正在进行重建。因此，需要一种**方法来识别垃圾场。**

# 你如何处理整个国家的图像？

因为我们没有办法走遍全国，希望能撞上隐藏得很好的垃圾场，所以我们求助于使用(滚筒…)卫星图像！

遥感领域的人们在机器学习技术成为现在的热点之前就已经在研究它了。主要的区别是他们一直在用一种几乎类似的方式做这件事，包括大量的点击按钮。该过程通常如下所示:

*   决定你将使用哪家卫星图像提供商，通常是在像 Maxar 的 Discover 这样的系统的帮助下；
*   通过从服务器上一张一张地下载或者购买(这通常需要两三次电子邮件交流)来获得你需要的每张图片；
*   训练像 ERDAS Imagine、eCognition 和 ArcMap 这样的桌面软件来识别您感兴趣的任何土地特征。

![](img/a79524ef3f2fde5cbf86b4700343ec00.png)

这就是 Maxar 的 Discover 的样子。这对于挑选一两张图像来说很好，但是如果你需要评估整个国家就不太好了。

嗯，在你不得不下载和分析像 T21 这么大的国家的图像之前，这都是有趣的游戏。

这需要你下载大量的图片，用它们建立一个马赛克，设置正确的参数，并指望你的机器能够在合理的时间内处理它。

幸运的是，我们现在可以用相当简单的脚本运行所有这些过程，而且更好的是，在云上运行。这就是谷歌提供的免费使用的 [**地球引擎**](https://earthengine.google.com/) 工具。

![](img/27d9a901311a3088a104453301d39579.png)

GEE 用户界面，文档、代码、控制台和地图都在同一个页面中。

# 正确物体的正确光谱带

如果你以前从事过图像分类工作，你会知道你应该**总是**对你正在看的任何东西的组成、形式和纹理有很好的理解。然而，废物的成分具有不同的密度、总体尺寸、化学成分，因此 [**光谱特征**](https://en.wikipedia.org/wiki/Spectral_signature#:~:text=Spectral%20signature%20is%20the%20variation,composition%20of%20the%20stellar%20atmosphere.) 。简而言之，也就是说，我们的目标以不同的强度反射不同的颜色(或光波波长)，这使得很难将垃圾场检测为一种*单一*类型的物体。

![](img/70d6183e81a04b76c2eb956b50e5dca8.png)

*Osmaniye 实地考察期间拍摄的建筑垃圾堆放场。*

所以我们决定利用一个**辅助分类模型。**这个非常经典的模型包括用一组卫星图像中的训练样本“教”我们的代码垃圾场是什么样子，并告诉它搜索更多。这意味着为了开始，我们必须首先决定我们将使用哪个图像集合。由于我们没有任何获取图像的预算，我们将使用我们可以获得的最好的免费图像:**哥白尼计划的 Sentinel-2** ，它提供了一个不错的**空间分辨率**(20 米像素，如果使用全景锐化，则为 10 米)和一个更好的**光谱分辨率** (13 个波段，范围从 443 到 2190 纳米)。

![](img/5ef75eee215a2c1a09fbe72dd11ad5dc.png)

哨兵 2 的光谱分辨率相当高。

为了用 GEE 实现这一点，我们声明一个我们称之为`SENTINEL`的变量，然后使用`ee.ImageCollection`方法声明我们正在寻找 ***哥白尼/S2*** 集合。然后，我们可以**过滤**这个集合，通过为云的百分比(< 10%)和采集日期(2018 年 1 月至 2018 年 8 月)设置阈值，找到实际上有用的图像。我们还使用 GEE 的 **Assets** 选项卡上传了一个压缩的 shapefile，其中包含我们感兴趣的区域，我们称之为`southeasternturkey`，然后将它应用为边界过滤器。

这就是有趣的地方。即使我们刚刚过滤了集合，我们的`SENTINEL`变量仍然保存了**大量的**图像，这些图像都是叠加的，有时是重叠的。我们要花很长时间来挑选最好的图像，并用它们构建一个马赛克。但是 GEE 提供了非常有用的`median`方法，考虑到我们已经提供的过滤器，它提供了空间中任何给定点的中值像素值。所以我们把新的`SENTINELMED`镶嵌图添加到地图上，看看它的自然色 RGB (B4，B3，B2)合成是什么样子。

![](img/1c29130f8d8b98eacd43055d6c21c444.png)

我们的中间像素值马赛克的自然颜色 RGB 组成。

# 那是废物还是到处都是石头？

好的，太好了！那将是我们用来寻找弃尸点的拼图。我们接下来需要做的是建立一些训练样本，这样我们的代码就知道哪些像素是垃圾场，哪些**不是**:水、森林、庄稼、城市、裸露的土壤等等。对于垃圾场，我们将只导入由联合国提供的一些以前已知的垃圾场的 shapefile，对于其余的土地使用特征，我们将在 GEE 的地图上直接绘制这些**。一旦在**地图窗格**中创建了一个新图层，它就会在**导入窗格**中显示为一个变量。重要的是，我们导入的数据和绘制的特征都有一个**属性**，我们称之为`class`，以及一个唯一的值。例如，垃圾场将会是`'class:1'`，水将会是`'class:2'`，等等。**

**![](img/f22b6318781f4f4c50b3e5c0c1daabae.png)**

**在 GEE 的导入窗格中设置训练样本。**

**一旦我们收集了足够多的样本，包括类别和范围，我们就可以将它们全部放入一个变量中。我们还需要确定哪些光谱带将用于执行分类。在我们的例子中，我们使用了所有这些。接下来，我们需要告诉 GEE 使用我们的几何图形并从选择的集合中提取像素，以便建立 ***样本区域*** 。这是我们的`class`属性被使用的时刻。**

**现在我们可以使用`Classifier`方法来训练一个算法。GEE 有许多不同的分类器，比如*决策树*和*随机森林，*举两个最流行的。这里我们将使用经典的**推车** **分类器**。我们将我们的样本区域和选择的波段输入它，它将返回我们自己的**自定义分类器**，我们可以使用*我们想要的任何图像集合*。**

**最后，我们可以创建一个`classification`变量，在这个变量中，我们将告诉我们的分类器用我们的`SENTINELMED`马赛克施展魔法。然后我们可以将这个分类的结果添加到地图中，为我们创建的每个类指定颜色。**

**![](img/1a73681e486aff7f8d7bebe222a1b20c.png)**

**我们的分类镶嵌图是在云上计算的，并被添加到地图窗格中。**

**为了做更多的处理，我们需要将生成的光栅文件导出到本地机器上。GEE 提供了导出到 Google Drive 的功能，让这一切变得简单。**

# **现在怎么办？**

**像素的分类是不防错的，尤其是考虑到不同的弃尸点可能彼此不同。为此，该模型需要最后一步，即通过视觉观察分析重新分类的像素群，如下所示。在进行分类之前，我们*本可以*使用一个**分割程序**——也就是说，将我们的镶嵌图转换成单色几何图形——但是我们觉得既然**没有那么多**垃圾倾倒点，人眼就能更准确地识别它们。**

**![](img/b4f6946dfb7720dc9d6ceebff1030ebe.png)**

***先前未知垃圾场的例子(1)；重新分类的像素群集的形成(2)；以及垃圾场的矢量化描述(3)***

**![](img/6088e237c25fa5724af806846fd48490.png)**

***呈现暗色的潜在垃圾场***

**![](img/d578f19d18c7ad5612545199a68c051b.png)**

***呈现浅色的潜在垃圾场***

**该模型在识别接收生活垃圾的垃圾场时最为有效，因为有机物呈现的深色是非常典型的。相反，当垃圾场接收来自建筑工地或拆除工地的碎石或废物时，识别集群的任务变得更加困难，因为这些很容易被误认为是采矿场。对于这些情况，视觉分析是最重要的，因为人眼比像素分类更容易识别这种垃圾场中观察到的模式。**

**通过这一过程总共描绘了 70 个多边形。这些多边形中的每一个都被怀疑是垃圾场。尽管如此，一些地点仍存在一些不确定性，仍需进一步核实。为此，我们使用 ArcGIS Online **应用程序模板** 创建了一个 [**WebApp 用于数据编辑。该应用程序与联合国和土耳其政府官员共享，允许每个用户通过将每个划定的多边形分类为(1)建筑垃圾，(2)生活垃圾或(3)非垃圾场来提供输入。**](https://www.arcgis.com/apps/View/index.html?appid=2c98a00d070e47c2a803c65a9e9b25af)**

**![](img/11badc25bd076cfcdae707bff41077fb.png)**

**开发地图注记工具是为了从了解具体环境的关键信息提供者那里收集见解。**

**根据关键线人的反馈，我们现在终于可以说我们成功识别了土耳其东南部的每一个垃圾场。该项目于 2018 年 8 月开展，是开发署为恢复该地区非法垃圾场而采取的第一步。接下来是一系列密集的实地行动，以确保废物价值链中的所有利益攸关方，从非正式收集者到回收者，都了解新的可用废物处理结构。土耳其政府采取的控制行动可以为垃圾场的有效恢复扫清道路。**

**![](img/9bbf4d6a53f774d55826bd00efbab0c8.png)**

***由模型*识别的所有七十个垃圾场**

**您可以通过下面的链接找到谷歌地球引擎图像分类模型。如果你愿意，不要犹豫，在这里或 Linkedin 上给我写信吧！**

**[](https://code.earthengine.google.com/2df85ba615c3223daaf2c72b85b31494) [## 垃圾场分类器——开发署土耳其办事处

### 谷歌地球引擎上的古伊列梅·伊布洛诺夫斯基

code.earthengine.google.com](https://code.earthengine.google.com/2df85ba615c3223daaf2c72b85b31494) [](https://www.linkedin.com/in/guilherme-m-iablonovski-08013143/) [## 古伊列梅·m·亚布洛诺夫斯基-产品经理| LinkedIn

### 我对如何重新利用专注于领域的学科的技术和论述充满热情…

www.linkedin.com](https://www.linkedin.com/in/guilherme-m-iablonovski-08013143/)**