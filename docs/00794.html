<html>
<head>
<title>Interpreting the 2020 Puerto Rico Earthquake Swarm with data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用数据解读2020年波多黎各地震群</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/interpreting-the-2020-puerto-rico-earthquakes-with-data-e241cdb2a14e?source=collection_archive---------19-----------------------#2020-01-22">https://towardsdatascience.com/interpreting-the-2020-puerto-rico-earthquakes-with-data-e241cdb2a14e?source=collection_archive---------19-----------------------#2020-01-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="90f7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用可视化，地图，时间序列和谷歌趋势数据来描述这一事件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2c911028efdae4611704ad5df3aeb83f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q9tWbrXTXNTcNlZT9sygIw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">波多黎各的圣胡安。照片由<a class="ae ky" href="https://www.instagram.com/juandesr/" rel="noopener ugc nofollow" target="_blank"> me </a>拍摄。</p></figure><p id="a0e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自2019年12月下旬至2020年1月初，波多黎各岛的西南部地区经历了一系列地震，在波多黎各人中留下了一系列破坏和不确定性。根据美国地质调查局(USGS)的说法，导致这些地震的原因是北美和加勒比板块的汇聚。位于波多黎各北部的北美板块正在与加勒比板块汇合，而在南部，加勒比板块在Muertos海槽处隐没在波多黎各之下(<a class="ae ky" href="https://earthquake.usgs.gov/earthquakes/eventpage/us70006vll/executive" rel="noopener ugc nofollow" target="_blank">来源</a>)。</p><p id="73bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将使用统计、可视化、时间序列分析来探索这些地震的几个属性，此外，查看谷歌搜索“波多黎各”和地震震级之间的相关性。</p><h1 id="93db" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">数据</h1><p id="6554" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">这份报告的数据集由USGS报告的2019年12月20日至2020年1月19日半径50公里范围内的地震组成。从纬度19.949和经度-66.851。它有2041条记录，每条记录代表一次单独的地震，有22列记录了事件的属性。然而，根据这些特征，我们将只使用坐标、时间和事件的大小。</p><p id="774a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是用于获取数据的查询。<br/>T5】https://earthquake.usgs.gov/fdsnws/event/1/query?format=csv&amp;start time = 2019-12-20&amp;end time = 2020-01-19&amp;纬度=17.949 &amp;经度=-66.851 &amp; maxradiuskm=50 </p><p id="16e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在数据集中，我过滤掉那些报告的震级低于0的条目(根据USGS文档，较低值可以是-1.0)。您可以在本文的代码库中找到数据集的副本。</p><p id="a705" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了这个主数据集之外，在这个项目中，我还使用了第二个数据集，由Google Trends从2019年12月19日到2020年1月17日的查询词“波多黎各”的数据组成。</p><h1 id="fce3" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">工具</h1><p id="8d78" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">数据分析和大多数可视化都是在r中完成的。库<a class="ae ky" href="https://cran.r-project.org/web/packages/ggmap/ggmap.pdf" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> ggmap </strong> </a>用于生成地震位置的图形，时间序列分析是使用Python中的库<a class="ae ky" href="https://facebook.github.io/prophet/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Prophet </strong> </a>完成的。趋势数据来自谷歌趋势。</p><h1 id="9fd4" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">了解地震</h1><p id="3b76" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在2019年12月20日至2020年1月19日期间，总共报告了<strong class="lb iu"> 2041 </strong>起事件，平均每天<strong class="lb iu"> 66 </strong>。其中，2019年12月31日是最活跃的一天，发生了220次<strong class="lb iu">地震，平均震级为<strong class="lb iu"> 1.966 </strong>。总体而言，最强烈的地震发生在当地时间2020年1月7日04:24:26，震级为<strong class="lb iu"> 6.40 </strong>，而平均震级为<strong class="lb iu"> 2.467 </strong>，标准差为<strong class="lb iu"> 0.687 </strong>，中位数为<strong class="lb iu"> 2.390 </strong>。下面的直方图显示了震级得分的分布。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/942ae84bbc208bbcbaa0748be94ec206.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iDZoTDYDdDFjjyaYrf7CDw.png"/></div></div></figure><p id="0853" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果不是直方图最右侧的异常值点，这个分布将是一个正常分布，其中大多数值都接近平均值(黑线)。在下面的箱线图中，我们可以更好地看到异常值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/d3ef83a6f26714f817bd74424d8ed2b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z_ZTOI30MFUzPKVIxe2tbA.png"/></div></div></figure><p id="fdd1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个箱线图是一个偏右箱线图的例子，在这个例子中，盒子和变量值都在刻度的低端。在这里，我们可以看到第一个四分位数(方框底部)、第三个四分位数(方框顶部)和中间值(粗体线)之间的对称性，中间值代表直方图中的峰值。然后，方框上方是异常点，包括最强的6.4级地震。</p><p id="d11d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想展示的下一个图像是一个散点图，显示了地震发生当天的震级。该图还包括一条平滑线，指出属性的演变。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/2514b64ebc2f522575e99761211ac478.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DYNppNrjFJWaK6mvk20TGA.png"/></div></div></figure><p id="d505" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在图表中，我们可以看到虫群是如何在2019年的最后几天开始的。然后，在1月2日左右，活动稍微停止，直到1月6日和7日，当强大的一个到达时，在前一个是5.80小时后。在接下来的日子里，几次强烈的余震袭击了这个岛屿，包括1月11日的5.90级余震。回到图表的开头，你会发现一些震级值在2左右的地震。这些对应于波多黎各经常发生的“正常”但微弱的地震(大多数地震一般感觉不到)。</p><h1 id="f477" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">地点</h1><p id="b020" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">正如引言中所述，蜂群出现在波多黎各的西南部地区，靠近Muertos海槽。更准确地说，受影响的地区位于纬度(17.8，18.0)和经度(-67.2，-66.6)，该地区包括或靠近瓜尼卡、瓜亚尼亚、庞塞和亚乌科等城镇，这些地方遭受了严重的损失。在接下来的可视化中，我们将看到该地区的地图，其中显示了发生地震的震中位置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/9c42ea479427c0b3a0533b8f4aae8e21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*54lESuOxhZk5M70m1wTxkQ.png"/></div></div></figure><p id="0b88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">平均地震发生在纬度17.92564，经度-66.83728。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/9481d75e33ef783e65d742a3fee7a5a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LbLQdKZvgGQrxSAi.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Muertos槽，来源:<a class="ae ky" href="https://oceanexplorer.noaa.gov/okeanos/explorations/ex1502/background/geology/welcome.html" rel="noopener ugc nofollow" target="_blank">https://ocean explorer . NOAA . gov/oke anos/explorations/ex 1502/background/geology/welcome . html</a></p></figure><h1 id="52f6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">趋势和每日季节性</h1><p id="0c61" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">从上面呈现的散点图的平滑线，你可以了解自震群开始以来地震的强度是如何变化的。这条线虽然有用，但并不代表这个变量的最终趋势。</p><p id="786d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了阐明这个问题，并更好地了解地震的震级是如何发展的，我使用时间序列工具Prophet计算了总体趋势和每日季节性。下面你会发现趋势。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/ed6236116d351f1e4346530d5e3c83d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uTlZFsIVMnGbtS0qsBy5PQ.jpeg"/></div></div></figure><p id="46e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这条线描述了自2019年12月19日以来震级的演变。在那一周，趋势线处于低位，与上面解释的“正常”行为相对应。然后，一旦地震开始，因为有很多低震级的地震，平均值就会下降。然而，紧接着，我们有大地震及其余震，随后又是一次下降。在写这篇文章的时候，地震活动仍然活跃，这解释了为什么这条线一直在增长。</p><p id="9985" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了澄清任何可能的混淆，我想快速解释一下你在图的y轴上看到的数字背后的含义。这些值不是实际的大小。相反，我们可以将它们解释为趋势部分当天的增量效应。例如，在图表的第一天，y值为2.0，这意味着这一天对y的影响为+2.0。</p><p id="16a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这一部分的第二张图是每小时的季节性。根据我的知识(如果我错了，请有人纠正我)，地震是不遵循任何模式的<strong class="lb iu">随机</strong>事件。尽管如此，即使知道这一点，我还是想计算一下每小时的季节性，因为我得到的印象是(请注意，我不在波多黎各，所以我的“印象”是指我在新闻和社交媒体上看到的)，大多数地震都发生在夜间。下图显示了数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/9a78a136e1bcbb30669b583c7beaacf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DnCMP3dMkLsXIA_TQ1feVQ.jpeg"/></div></div></figure><p id="ded2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先映入眼帘的是凌晨4点后的全球最大值，也就是大地震发生的时间。然后，就在它之后，曲线下降，直到下午4点，然后再次上升(也许这就是为什么我认为它们发生在晚上)，最后一次下降，直到凌晨1点左右达到最低位置。</p><h1 id="6f3f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">谷歌趋势</h1><p id="40ea" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">通常，当像这样的自然事件发生时，相关国家会受到世界的关注。你会在新闻、当地报纸、社交媒体等等中看到提及。为了验证这个想法，我使用Google Trends的每日趋势分数作为搜索查询“波多黎各”，并将其与当天的最大震级值相关联。我认为地震越剧烈，关于波多黎各的谷歌搜索就越多。这个假设成立吗？下面你会找到数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/312b57404cef7d884ad0312e513e1fa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UUGxPoJJ8zBlFaDkxpATMA.png"/></div></div></figure><p id="bbe5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个可视化用红色(顶线)表示Google Trends的“趋势”值，用蓝色(底线)表示最大值。在x轴上，您将找到日期，在y轴上，您将找到值。请注意，y轴使用对数刻度。关于相关性，两条线似乎遵循类似的模式，包括28日和29日左右的一个小高峰，随后在1月7日下降和再次上升。为了将这种关联转换并总结为一个数字，我计算了两个变量之间的<em class="mv">皮尔逊相关</em>，得到了<strong class="lb iu"> 0.7186471 </strong>的值，这意味着中高正相关(1是完全正相关)。所以，从某种意义上说，我的假设是正确的。</p><p id="970d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，尽管联系似乎很好，但我们不能盲目地确认或说这纯粹是由“人们因为地震而谷歌波多黎各”引起的。虽然这看起来确实是正确的，但我们必须记住，这种联系背后可能有其他原因。尽管如此，我个人的观点是这是。</p><h1 id="79c2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">概述</h1><p id="97d1" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">目前，波多黎各岛正在经历几十年来最严重的地震群。在本文中，我们使用美国地质调查局获得的数据分析了这些地震的几个属性，以更好地了解这一事件的行为和模式。通过数据，我们发现了事件的几个统计特性，如平均值和异常值，并发现我们的平均震级为2.467，最活跃的一天是2019年12月31日。然后，我们进行了时间序列分析，以找出总体趋势和每小时的季节性，并发现一些最强烈的地震发生在夜间。最后，我们用谷歌趋势数据计算了最大震级之间的相关性，并确定了这两者之间可能的联系。</p><p id="6209" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">想了解更多关于地震的信息，我推荐美国地质勘探局的这份报告。此外，对于显示震级的互动图，请查看波多黎各大学Humberto Ortiz-Zuazaga教授创建的这个<a class="ae ky" href="https://ccom.uprrp.edu/~humberto/temblores/?fbclid=IwAR3xKaIA5IZ6yEUwuUBU9JctgxHbExT7OgDU0bIk5r5_YZRw1HgxELdqVD8" rel="noopener ugc nofollow" target="_blank">网络应用</a>。</p><p id="8271" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。</p><p id="c7f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在下面的资源库中找到这个分析中使用的代码:【https://github.com/juandes/pr-earthquakes-analysis<a class="ae ky" href="https://github.com/juandes/pr-earthquakes-analysis" rel="noopener ugc nofollow" target="_blank"/></p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><div class="kj kk kl km gt nd"><a href="https://twitter.com/jdiossantos" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd iu gy z fp ni fr fs nj fu fw is bi translated">胡安·德迪奥斯·桑托斯</h2><div class="nk l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">胡安·德迪奥斯·桑托斯的最新推文(@ jdiossantos)。我喜欢数据，也喜欢写数据。口袋妖怪大师，还有…</h3></div><div class="nl l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">twitter.com</p></div></div><div class="nm l"><div class="nn l no np nq nm nr ks nd"/></div></div></a></div></div></div>    
</body>
</html>