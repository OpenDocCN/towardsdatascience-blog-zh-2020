# é€šè¿‡ API å¯¹æ¥ã€éƒ¨ç½²å’Œè°ƒç”¨æˆ‘çš„ SDR ç”µå­é‚®ä»¶æ£€æµ‹å™¨æ¨¡å‹

> åŸæ–‡ï¼š<https://towardsdatascience.com/dockerize-deploy-and-call-my-sdr-email-detector-model-via-api-68e238b7ecff?source=collection_archive---------66----------------------->

è¿™æ˜¯æˆ‘[ä¹‹æ—…çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œå»ºç«‹ä¸€ä¸ªç³»ç»Ÿï¼Œæœ€å¤§é™åº¦åœ°å‡å°‘æˆ‘æ¯å¤©å¤„ç†çš„é”€å”®é‚®ä»¶æ•°é‡ã€‚æ¦‚æ‹¬åœ°è¯´ï¼Œè¯¥ç³»ç»Ÿé€šè¿‡ OAuth è¿æ¥åˆ°ç”¨æˆ·çš„ Gmailï¼Œç¡®å®šæ”¶åˆ°çš„ç”µå­é‚®ä»¶æ˜¯å¦æ¥è‡ªé”€å”®å¼€å‘ä»£è¡¨(`from_SDR=1`)ï¼Œå¹¶å°†è¿™äº›ç”µå­é‚®ä»¶ç§»åŠ¨åˆ°ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶å¤¹ä¸­â€œç¨åé˜…è¯»â€å¦‚æœç”µå­é‚®ä»¶ä¸æ˜¯`from_SDR`ï¼Œé‚£ä¹ˆå®ƒä¼šå°†åˆ†ç±»é‚®ä»¶ç•™åœ¨ä¸»æ”¶ä»¶ç®±ä¸­ã€‚](/minimizing-sales-emails-in-my-inbox-with-natural-language-processing-38296b562da7)

![](img/87b6e3609cd06177a04c550ed7b4c6fd.png)

ä½¿ç”¨è‡ªç„¶è¯­è¨€å¤„ç†çš„ SDR ç”µå­é‚®ä»¶æ£€æµ‹å™¨

åœ¨[æˆ‘çš„æœ€åä¸€ç¯‡å¸–å­](/minimizing-sales-emails-in-my-inbox-with-natural-language-processing-38296b562da7)ä¸­ï¼Œæˆ‘ä»æ”¶ä»¶ç®±ä¸­å–å‡ºå¸¦æ ‡ç­¾çš„ç”µå­é‚®ä»¶ï¼Œè®­ç»ƒä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹æ¥åˆ†ç±»ç”µå­é‚®ä»¶æ˜¯å¦æ¥è‡ª SDRï¼Œå¹¶è¯„ä¼°è¯¥æ¨¡å‹çš„æ€§èƒ½ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘æè¿°äº†å¦‚ä½•å°†æˆ‘çš„æ¨¡å‹éƒ¨ç½²åˆ° API ç«¯ç‚¹ï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥ä» Gmail å°ç¨‹åºä¸­è°ƒç”¨å®ƒã€‚

æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥è®©ä½ çš„æ¨¡å‹è¿›å…¥äº‘ç«¯ã€‚æˆ‘ä» AWS æ‰¾åˆ°äº†è¿™ä¸ªä¾‹å­ï¼Œ[è‡ªå¸¦ Sci-kit æ¨¡å‹](https://github.com/awslabs/amazon-sagemaker-examples/blob/master/advanced_functionality/scikit_bring_your_own/scikit_bring_your_own.ipynb)ï¼Œå®ƒæ˜¯æœ€ç®€å•çš„ï¼Œè§£é‡Šå¾—æœ€å¥½çš„ï¼Œä¹Ÿæœ€é€‚ç”¨äºæˆ‘çš„é¡¹ç›®ã€‚ä¸‹é¢çš„æ­¥éª¤å±•ç¤ºäº†æˆ‘å¦‚ä½•å°†æˆ‘çš„æ¨¡å‹å®¹å™¨åŒ–ï¼Œå°†å®¹å™¨æ¨å…¥ Sagemaker æœåŠ¡å™¨ï¼Œç„¶åä½¿ç”¨ Chalice ç®¡ç†è¯¥æœåŠ¡å™¨çš„ API ç«¯ç‚¹ã€‚

## è®¾ç½®æˆ‘çš„ Docker å®¹å™¨

Docker æä¾›äº†ä¸€ç§å°†ä»£ç æ‰“åŒ…æˆæ˜ åƒçš„æ–¹æ³•ï¼Œè¯¥æ˜ åƒå¯ä»¥ä½œä¸ºä¸€ä¸ªè‡ªåŒ…å«çš„ç¯å¢ƒåœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œã€‚ *Dockerfile* æŒ‡å®šåº”è¯¥å¦‚ä½•åˆ›å»ºå›¾åƒã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘åˆ¶ä½œäº†ä¸€ä¸ª Docker æ˜ åƒï¼Œå®ƒå¯ä»¥è¿è¡Œ Python 3.7.7 æ¥åŒ¹é…æˆ‘çš„æœ¬åœ°ç¯å¢ƒï¼Œå¹¶å¯¼å…¥å¿…è¦çš„åŒ…æ¥æ‰§è¡Œæˆ‘åœ¨[ç¬¬ä¸€éƒ¨åˆ†](/minimizing-sales-emails-in-my-inbox-with-natural-language-processing-38296b562da7)ä¸­æè¿°çš„åŸ¹è®­è„šæœ¬ã€‚

å¦‚æœæ‚¨æ­£åœ¨å…³æ³¨è¿™ä¸ª [AWS ç¤ºä¾‹](https://github.com/awslabs/amazon-sagemaker-examples/blob/master/advanced_functionality/scikit_bring_your_own/scikit_bring_your_own.ipynb)ï¼Œè¯·æ³¨æ„è¿™äº›ä½¿å…¶ä¸ Python 3 ä¸€èµ·å·¥ä½œæ‰€éœ€çš„é‡è¦æ›´æ–°:(I)æˆ‘åœ¨ç¬¬ 3 è¡Œå‡çº§åˆ°äº† Python 3.7.7ï¼Œè¿™(ii)æ”¹å˜äº†ç¬¬ 17 è¡Œä¸­çš„åŒ…çš„ä½ç½®ã€‚

æˆ‘ä» AWS ç¤ºä¾‹ä¸­å¤åˆ¶äº†[å®¹å™¨ç›®å½•](https://github.com/awslabs/amazon-sagemaker-examples/tree/master/advanced_functionality/scikit_bring_your_own)ï¼Œå®ƒæä¾›äº†æ‰“åŒ… Amazon SageMager ç®—æ³•æ‰€å¿…éœ€çš„æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œè¯¥ç›®å½•åŒ…å«ç”¨äº*æ„å»ºå’Œä½¿ç”¨`docker push`å°†å®¹å™¨æ˜ åƒæ¨*åˆ° AWS ECR çš„ shell ä»£ç ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä¿®æ”¹äº†ç¤ºä¾‹ä»£ç ä»¥ä¸ AWS CLI v2 é…åˆä½¿ç”¨(å‚è§ç¬¬ 45â€“50 è¡Œ):

ä½†æ˜¯åœ¨æˆ‘æ„å»ºå’Œæ¨é€ AWS ECR ä¹‹å‰ï¼Œæˆ‘å¿…é¡»åœ¨å®¹å™¨ç›®å½•ä¸­å‡†å¤‡æ‰§è¡Œè®­ç»ƒå’Œé¢„æµ‹æ­¥éª¤çš„æ–‡ä»¶ã€‚

## å°†æˆ‘çš„è®­ç»ƒè„šæœ¬æ·»åŠ åˆ°å®¹å™¨ä¸­

æˆ‘ç”¨æˆ‘è‡ªå·±çš„è®­ç»ƒè„šæœ¬æ›¿æ¢äº†ç¤ºä¾‹å®¹å™¨ä¸­çš„`train`æ–‡ä»¶(å‚è§æœ¬ç³»åˆ—çš„[ç¬¬ä¸€éƒ¨åˆ†](/minimizing-sales-emails-in-my-inbox-with-natural-language-processing-38296b562da7)äº†è§£è¯¦ç»†ä¿¡æ¯):

è¯·æ³¨æ„ä»`preprocess.py`å¼•å…¥çš„ä¸¤ä¸ªæ¨¡å—ï¼Œå®ƒä»¬å°†æ•°æ®è½¬æ¢æˆæˆ‘çš„æœºå™¨å­¦ä¹ æ¨¡å‹å¯ä»¥æ¥å—çš„æ ¼å¼ã€‚è¿™äº›ç±»å’Œå‡½æ•°åŒ…å«åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­:

æœ€åï¼Œæˆ‘ä¿®æ”¹äº†ç¤ºä¾‹å®¹å™¨ä¸­çš„`predictor.py`æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤º:

æˆ‘çš„æ›´æ”¹ä¸»è¦åæ˜ åœ¨ç¬¬ 64â€“78 è¡Œï¼Œåœ¨é‚£é‡Œæˆ‘æ›´æ–°äº† AWS ç¤ºä¾‹[ä»¥ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ StringIOï¼Œå¹¶åœ¨`data`æ•°æ®å¸§ä¸ŠåŒ…å«æ ‡é¢˜ä»¥åŒ¹é…æˆ‘çš„æ¨¡å‹çš„é¢„æœŸè¾“å…¥ã€‚](https://github.com/awslabs/amazon-sagemaker-examples/blob/master/advanced_functionality/scikit_bring_your_own/container/decision_trees/predictor.py)

ç¼–è¾‘å®Œè¿™äº›æ–‡ä»¶åï¼Œæˆ‘è¿è¡Œäº†æ„å»ºå’Œæ¨é€è„šæœ¬:

```
$ sh build_and_push.sh sg_linearsvm
```

å®ƒåˆ›å»ºäº† Docker å®¹å™¨å¹¶å°†å…¶æ¨é€åˆ° AWS ECRã€‚

## éƒ¨ç½²ç®—æ³•ä¹‹å‰åœ¨æœ¬åœ°ä¸»æœºä¸Šæµ‹è¯•å®ƒ

åœ¨éƒ¨ç½²æ¨¡å‹ä¹‹å‰ï¼Œç¡®å®šå®¹å™¨åŒ–çš„ä»£ç æ˜¯å¦æ­£å¸¸å·¥ä½œæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚ [AWS ç¤ºä¾‹](https://github.com/awslabs/amazon-sagemaker-examples/tree/master/advanced_functionality/scikit_bring_your_own/container/local_test)ä¸ºæ­¤æä¾›äº†ä¸€ä¸ªå­ç›®å½•`local_test`ã€‚æˆ‘å…‹éš†äº†é‚£ä¸ª repoï¼Œå¹¶å°†æˆ‘çš„æ ·æœ¬è®­ç»ƒæ•°æ®æ·»åŠ åˆ°é€‚å½“çš„æ–‡ä»¶å¤¹`/local_test/test_dir/input/data/training`ä¸­ï¼Œç„¶åè¿è¡Œ:

```
$ ./train_local.sh sg_linearsvm
```

è¯¥ shell è„šæœ¬ä»¥`train`æ¨¡å¼è¿è¡Œ docker æ˜ åƒ:

```
image=$1
mkdir -p test_dir/model
mkdir -p test_dir/output
rm test_dir/model/*
rm test_dir/output/*
docker run -v $(pwd)/test_dir:/opt/ml --rm ${image} train
```

ä½¿ç”¨æˆ‘çš„å®¹å™¨çš„`local_test`ç‰ˆæœ¬ï¼Œæˆ‘èƒ½å¤Ÿè¯Šæ–­å’Œè§£å†³ä¸å°†æˆ‘çš„è„šæœ¬ä» Google Colab ç§»æ¤åˆ° Docker å®¹å™¨ç›¸å…³çš„å„ç§é—®é¢˜ã€‚ä¸€æ—¦è¿™äº›é—®é¢˜å¾—åˆ°è§£å†³ï¼Œæˆ‘è¿˜å¿…é¡»æµ‹è¯•`serve`çš„åŠŸèƒ½ã€‚æ‰€ä»¥æˆ‘è·‘äº†:

```
./serve_local.sh sg_linearsvm
```

è¿™æ˜¯ä¸€ä¸ªæ‰§è¡Œä»¥ä¸‹ä»£ç çš„ shell è„šæœ¬:

```
image=$1
docker run -v $(pwd)/test_dir:/opt/ml -p 8080:8080 --rm ${image} serve
```

ä¸€æ—¦ Docker æœåŠ¡å™¨è¿è¡Œæœ¬åœ°æ˜ åƒï¼Œæˆ‘å°±èƒ½å¤Ÿä»æˆ‘çš„ç»ˆç«¯å‘½ä»¤è¡Œå¾—åˆ°ä¸€ä¸ªé¢„æµ‹:

```
./predict.sh payload.csv text/csv
```

å…¶ä¸­`payload.csv`æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿæ¨¡å‹é¢„æœŸè¾“å…¥çš„ CSV æ–‡ä»¶:

![](img/d6dbe133a92d849c069331eb08cb8cf0.png)

ä»¥ä¸‹æ˜¯å“åº”ï¼Œæ˜¾ç¤ºè¯¥å®¹å™¨çš„è¡Œä¸ºç¬¦åˆé¢„æœŸ:

![](img/1b7faa6889e0370a9ba0e6a6ead66968.png)

æ¥ä¸‹æ¥ï¼Œæˆ‘éœ€è¦å°†æˆ‘çš„å®¹å™¨æ”¾å…¥ SageMaker æœåŠ¡å™¨ï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥åœ¨ web ä¸Šè®­ç»ƒå’Œæ‰˜ç®¡æˆ‘çš„æ¨¡å‹ã€‚

## å°†æˆ‘çš„å®¹å™¨éƒ¨ç½²åˆ° Amazon SageMaker

é¦–å…ˆï¼Œæˆ‘è®¾ç½®äº†ç¯å¢ƒï¼ŒæŒ‡å®šäº† S3 bucket å’Œ SageMaker è§’è‰²ã€‚æˆ‘è¿˜åˆ›å»ºäº†`sess`æ¥è®°ä½è¿æ¥å‚æ•°ï¼Œæˆ‘ç”¨å®ƒæ¥æ‰§è¡Œå„ç§ SageMaker æ“ä½œã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘æŒ‡å®šäº†æ¨¡å‹åº”è¯¥åœ¨ S3 çš„å“ªé‡Œæ‰¾åˆ°æˆ‘çš„è®­ç»ƒæ•°æ®(ç¬¬ 1-3 è¡Œ)ï¼Œå¹¶ä½¿ç”¨é€‚å½“çš„å¸æˆ·ã€åœ°åŒºå’Œå®¹å™¨åç§°(ç¬¬ 5-11 è¡Œ)æ ‡è¯†äº†`image`ã€‚

ä¸ºäº†é€‚åº”æˆ‘çš„ç®—æ³•ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ª SageMaker ä¼°è®¡å™¨ï¼Œå®ƒå®šä¹‰äº†å¦‚ä½•ä½¿ç”¨å®¹å™¨è¿›è¡Œè®­ç»ƒ(ä¸‹é¢çš„ç¬¬ 1â€“4 è¡Œ)ã€‚ç„¶åæˆ‘ä½¿ç”¨`estimator`ä¸Šçš„`.fit`æ¥è®­ç»ƒæˆ‘ä¸Šä¼ åˆ°`data_location`çš„æ•°æ®(ä¸‹é¢ç¬¬ 6 è¡Œ)ã€‚

å°†æ¨¡å‹éƒ¨ç½²åˆ° SageMaker ä¸»æœºéœ€è¦å¯¹ fitted æ¨¡å‹è¿›è¡Œéƒ¨ç½²è°ƒç”¨(ä¸Šé¢çš„ç¬¬ 9 è¡Œ)ã€‚è¯¥è°ƒç”¨æ¥å—å®ä¾‹è®¡æ•°ã€å®ä¾‹ç±»å‹ä»¥åŠå¯é€‰çš„åºåˆ—åŒ–ç¨‹åºå’Œååºåˆ—åŒ–ç¨‹åºå‡½æ•°ã€‚

æœ‰äº†è¿™ä¸ªï¼Œæˆ‘å°±æœ‰äº†ä¸€ä¸ªè®­ç»ƒæœ‰ç´ çš„æ¨¡å‹æ¥è·å¾—å®æ—¶é¢„æµ‹ã€‚åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘å°†æè¿°å¦‚ä½•å…¬å¼€ä¸€ä¸ª web å¯è®¿é—®çš„ API ç«¯ç‚¹ã€‚

## é€šè¿‡ API è®¿é—®æ¨¡å‹

å¯¹äºè¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘é€‰æ‹©äº† [AWS Chalice](https://chalice.readthedocs.io/en/latest/quickstart.html#creating-your-project) æ¥ä½¿ç”¨ Amazon API Gateway å’Œ AWS Lambda åˆ›å»ºå’Œéƒ¨ç½²åº”ç”¨ç¨‹åºã€‚å¼€ç®±å³ç”¨ï¼Œå®ƒæä¾›:

> ç”¨äºåˆ›å»ºã€éƒ¨ç½²å’Œç®¡ç†åº”ç”¨ç¨‹åºçš„å‘½ä»¤è¡Œå·¥å…·
> ç†Ÿæ‚‰ä¸”æ˜“äºä½¿ç”¨çš„ APIï¼Œç”¨äºåœ¨ python ä»£ç ä¸­å£°æ˜è§†å›¾
> è‡ªåŠ¨ç”Ÿæˆ IAM ç­–ç•¥

ä»å‘½ä»¤è¡Œï¼Œæˆ‘è¿è¡Œ:

```
$ chalice new-project sg_to_api
```

ç„¶åï¼Œæˆ‘å¯¼èˆªåˆ°é‚£ä¸ªæ–‡ä»¶å¤¹å¹¶ç¼–è¾‘äº†`app.py`æ–‡ä»¶ï¼Œå®ƒå®šä¹‰äº†è§†å›¾å’Œç»“æœé€»è¾‘ã€‚æˆ‘æ˜¯è¿™æ ·é…ç½®æˆ‘çš„ API çš„:

æˆ‘è·å–ä¸€ä¸ªä¼ å…¥çš„è¯·æ±‚å¹¶è§£ç å®ƒ(ç¬¬ 24â€“25 è¡Œ)ã€‚ç„¶åï¼Œæˆ‘éå†æ•°æ®æ¥æ„å»ºä¸€ä¸ªå­—å…¸(ç¬¬ 27â€“36 è¡Œ),å°†å®ƒè¾“å…¥åˆ° Pandas æ•°æ®å¸§(ç¬¬ 38â€“39 è¡Œ),è¿™æ ·æˆ‘å°±å¯ä»¥å°†æ–‡æœ¬é‡æ–°æ ¼å¼åŒ–ä¸ºä¸€ä¸ªæ¼‚äº®çš„ CSV æœ‰æ•ˆè´Ÿè½½(ç¬¬ 40 è¡Œ)ã€‚æ¥ä¸‹æ¥ï¼Œåœ¨ç¬¬ 46â€“51 è¡Œï¼Œæˆ‘è°ƒç”¨äº†`sagemaker.invoke_endpoint()`ï¼Œå¼•ç”¨äº†æœ¬æ–‡å‰é¢éƒ¨åˆ†ä¸­çš„ç«¯ç‚¹åç§°ã€‚æœ€åï¼Œç»“æœè¢«å­˜å‚¨å¹¶ä½œä¸º HTML å“åº”ä¼ é€’(ç¬¬ 53â€“92 è¡Œ),è¿™æ ·æˆ‘å°±å¯ä»¥åœ¨ web æµè§ˆå™¨ä¸Šæ¼”ç¤ºäº†ã€‚

ä¸ºäº†éƒ¨ç½²è¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œæˆ‘å¯¼èˆªåˆ°`sg_to_api`ç›®å½•å¹¶è¿è¡Œ`chalice deploy`:

```
$ chalice deploy
...
Initiating first time deployment...
https://xyz123.execute-api.us-east-1.amazonaws.com/api/
```

å°±æ˜¯è¿™æ ·ã€‚æˆ‘ä½¿ç”¨ API Gateway å’Œ Lambda å¯åŠ¨å¹¶è¿è¡Œäº†ä¸€ä¸ª APIã€‚

(æˆ‘å–œæ¬¢æ›´æ–°`app.py`æ–‡ä»¶ï¼Œç„¶åé€šè¿‡å†æ¬¡è¿è¡Œ`chalice deploy`å¿«é€Ÿé‡æ–°éƒ¨ç½² API å˜æ›´ã€‚)

## åœ¨é‡å¤–æµ‹è¯•æˆ‘çš„ API ç«¯ç‚¹

è™½ç„¶æˆ‘å¯ä»¥ä½¿ç”¨`curl`æ¥è¿è¡Œæˆ‘çš„ APIï¼Œä½†æˆ‘æ¸´æœ›å‘ä¸€äº›ä¸ä¹ æƒ¯ä½¿ç”¨å‘½ä»¤è¡Œçš„éæŠ€æœ¯æœ‹å‹å±•ç¤ºè¿™ä¸€ç‚¹ã€‚å¯¹äºä»–ä»¬ï¼Œæˆ‘ä½¿ç”¨ S3 æ‰˜ç®¡äº†ä¸€ä¸ªé™æ€ç½‘é¡µï¼Œå®ƒæ¥å—æ–‡æœ¬è¾“å…¥å¹¶å‘æˆ‘çš„ç«¯ç‚¹å‘å‡º POST è¯·æ±‚ï¼Œå¹¶ä»`app.py`è¾“å‡º HTML å“åº”ã€‚

é¦–å…ˆï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ª S3 æ¡¶:

```
$ aws s3api create-bucket --bucket sg-learner-test-1 --region us-east-1
```

ç„¶åæˆ‘[é…ç½®æˆ‘çš„æ¡¶](https://docs.aws.amazon.com/AmazonS3/latest/dev/WebsiteHosting.html)æ”¯æŒé™æ€ç½‘ç«™æ‰˜ç®¡:

```
$ aws s3 website s3://sg-learner-test-1/ --index-document index.html --error-document error.html
```

æœ€åï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ª`index.html`æ–‡ä»¶ï¼Œå¹¶å°†å…¶å¤åˆ¶åˆ°æˆ‘çš„å…·æœ‰å…¨å±€è®¿é—®æƒé™çš„ S3 å­˜å‚¨æ¡¶ä¸­:

```
$ aws s3 cp index.html s3://sg-learner-test-1/index.html --grants read=uri=http://acs.amazonaws.com/groups/global/AllUsers
```

ä¸ºäº†è¿™ä¸ªä¾‹å­ï¼Œæˆ‘æ²¡æœ‰èŠ±ä»»ä½•æ—¶é—´ç¾åŒ–ç½‘é¡µâ€”â€”è¯·å¿å—å®ƒçš„ä¸‘é™‹:

è¾“å…¥ä»£ç åï¼Œæˆ‘ç¿»éæ”¶ä»¶ç®±ï¼Œå°†é‚®ä»¶ç²˜è´´åˆ°ç½‘é¡µçš„â€œé‚®ä»¶æ­£æ–‡â€éƒ¨åˆ†ã€‚å¦‚æœæˆ‘ä»æ¥æ²¡æœ‰ç»™å‘ä»¶äººå‘è¿‡é‚®ä»¶ï¼Œé‚£ä¹ˆæˆ‘æŠŠâ€œå†·è”ç³»â€å­—æ®µè®¾ä¸º 1ï¼Œå¦åˆ™ï¼Œæˆ‘è¾“å…¥ 0ã€‚

çœ‹åˆ°ç»“æœæ„Ÿè§‰åƒé­”æœ¯ä¸€æ ·ï¼è™½ç„¶æˆ‘å¾ˆä¹æ„åœ¨è¿™é‡Œæä¾›ç«¯ç‚¹ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥è‡ªå·±æµ‹è¯•æ¨¡å‹ï¼Œä½†æ˜¯æ‰˜ç®¡ SageMaker ç«¯ç‚¹æ¯å°æ—¶çš„è´¹ç”¨æ˜¯ 0.28 ç¾å…ƒ(æ¯æœˆå¤§çº¦ 201 ç¾å…ƒ)ï¼Œè¿™å¯¹äºæ‚¨æƒ³ä½¿ç”¨å®ƒçš„å¯èƒ½æ€§æ¥è¯´æœ‰ç‚¹é«˜ğŸ˜‰

ç›¸åï¼Œæˆ‘ä¸ºä½ è®°å½•äº†å‡ ä¸ªä¾‹å­:

![](img/82159c871011f88ae049653904b5b120.png)

3 é€šè¿‡ç½‘ç»œå¯è®¿é—®çš„ SDR ç”µå­é‚®ä»¶æ£€æµ‹å™¨è¿›è¡Œæ¼”ç¤ºæ£€æµ‹

(ä½ åœ¨æƒ³ä¸ºä»€ä¹ˆä¸Šé¢çš„åŠ¨ç”»é‡Œä¼šæœ‰ä¸€ä¸ª*ç«è…¿*ï¼Ÿç®€å•: [ham æ˜¯ä¸€ç§æ ‡è®°â€œéåƒåœ¾é‚®ä»¶â€çš„æ›´å¿«æ·çš„æ–¹å¼](https://cwiki.apache.org/confluence/display/SPAMASSASSIN/Ham)

## æœªæ¥æ–¹å‘

æˆ‘å†’é™©çš„ä¸‹ä¸€æ­¥æ˜¯è·³è¿‡ç½‘é¡µç•Œé¢ï¼Œä»å¦ä¸€ä¸ªåº”ç”¨ç¨‹åºè°ƒç”¨æˆ‘çš„ API ç«¯ç‚¹ã€‚å¾ˆå¿«ä¼šæœ‰æ›´å¤šçš„æŠ¥é“ï¼

è®©è¿™ä¸ªå¸–å­æˆä¸ºå¯èƒ½ï¼Œè¦æ„Ÿè°¢çš„äººå¤ªå¤šäº†ã€‚è¿™é‡Œæœ‰å‡ ä¸ªäººæå¤§åœ°æŒ‡å¯¼äº†æˆ‘çš„æ—…ç¨‹: [Quinn Lanners](https://medium.com/u/8a2f7df48b90?source=post_page-----68e238b7ecff--------------------------------) (å…³äº[åœ¨ AWS](/deploying-a-scikit-learn-model-on-aws-using-sklearn-estimators-local-jupyter-notebooks-and-the-d94396589498) ä¸Šéƒ¨ç½² Scikit-Learn æ¨¡å‹)ï¼›[Leon Gerritsen](https://medium.com/u/65a12f624874?source=post_page-----68e238b7ecff--------------------------------)(å…³äº[ç”¨ Chalice](https://machine-learning-company.nl/deploy-machine-learning-model-rest-api-using-aws/) åˆ›å»º REST API)ï¼›[Patrick Michel Berger](https://medium.com/u/d9b3a7de1139?source=post_page-----68e238b7ecff--------------------------------)(å…³äºéƒ¨ç½²æ— æœåŠ¡å™¨ ML å¾®æœåŠ¡)ï¼›[David Arpin](https://github.com/djarpin)ã€ [Tom Faulhaber](https://github.com/tomfaulhaber) ç­‰(å…³äº[æ„å»ºæ‚¨çš„](https://github.com/awslabs/amazon-sagemaker-examples/blob/master/advanced_functionality/scikit_bring_your_own/scikit_bring_your_own.ipynb)