<html>
<head>
<title>Finding Soul Partners Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python寻找灵魂伴侣</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/finding-soul-partners-using-python-883d6017442c?source=collection_archive---------41-----------------------#2020-04-18">https://towardsdatascience.com/finding-soul-partners-using-python-883d6017442c?source=collection_archive---------41-----------------------#2020-04-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4c7f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Jaccard相似性来查找最相似的可能匹配</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/60f59b49546de81e52b82f81071db124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*Qu8poUNjGmOLjzZL2IpHNQ.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated"><a class="ae kr" href="https://www.pexels.com/photo/audio-e-guitars-guitars-music-6966/" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><h1 id="9ead" class="ks kt iq bd ku kv kw kx ky kz la lb lc jw ld jx le jz lf ka lg kc lh kd li lj bi translated">目标是什么？</h1><p id="f115" class="pw-post-body-paragraph lk ll iq lm b ln lo jr lp lq lr ju ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">目标是使用OkCupid的个人资料数据创建一个匹配算法，找到你的灵魂伴侣，他有最相似的特征和异性。Jaccard算法将用于计算相似性得分。</p><h1 id="1eae" class="ks kt iq bd ku kv kw kx ky kz la lb lc jw ld jx le jz lf ka lg kc lh kd li lj bi translated">数据是什么？</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/a1e386d7e3788927e9dba91d951b53c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*cvAxjng9vstQ8mahXowMRA.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">图1:查看数据</p></figure><p id="ee51" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated">这些数据包括来自最大的在线约会网站之一OKcupid.com的近6万份个人资料。它由年龄、体型、教育、宗教和一些习惯等特征组成。这些功能是人们在注册交友平台时被问到的问题。第一眼看到的数据表明，它有许多非空值，需要特性工程。</p><p id="1c75" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated">首先，我想根据一个人对10个不同的作文问题的回答，了解他的积极/消极和极性/非极性程度。问题的范围从“我这辈子在做什么”到“我永远离不开的六件事”。为了对一个人有一个整体的了解，我把所有的论文答案都放在了一个专栏里，并使用TextBlob的情感分析工具运行了一个情感分析器。</p><p id="731b" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated">找到极性和主观性分数后，需要将语言口语列改为整数。这是通过计算逗号的数量并添加1作为默认值(英语)来完成的。</p><p id="1a8b" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated"><em class="ml">profiles[' speaks ']= profiles . speaks . str . count("，")+ 1 </em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/8e53e53b67b1a53a869e6e9f28818717.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*g3XkSx0Vk9sC75iG6qkp5A.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">来源:https://www . pexels . com/photo/黑白-game-match-chess-2902/</p></figure><p id="f5eb" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated">由于数据的复杂性，我使用了众数或中位数估算法，而不是更复杂的估算方法，如随机森林估算法。然后我删除了收入和星座列，因为它们缺少太多的值。</p><p id="5260" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated">整数列和浮点列被转换成bin的字符串表示。例如，年龄被转换成带有代码的箱:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mn mo l"/></div></figure><h1 id="8fb9" class="ks kt iq bd ku kv kw kx ky kz la lb lc jw ld jx le jz lf ka lg kc lh kd li lj bi translated">用户积极性得分——随着年龄的增长，人们会变得更加痛苦吗？</h1><p id="11fc" class="pw-post-body-paragraph lk ll iq lm b ln lo jr lp lq lr ju ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">为了继续下去，我想看看我的情感分数是否显示出显著的结果，并且与其他特征有关系。为了展示这一点，我绘制了用户积极情绪得分与年龄的关系图。在这样做的时候，我回答了一个流行的问题。人，尤其是交友网站上的人，会不会随着年龄的增长而失去希望，变得更加苦涩？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/64e955b942b70e85100a963b27f0b5af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*Exgp0K-HB-kitcPKKZKKKw.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">图2:年龄和积极性图</p></figure><p id="d4df" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated">该图显示，年轻人可能写了非常积极的回答，但却是离群值。平均而言，随着年龄的增长，乐观情绪会略有增加。没有很强的增量，但绝对可以观察到一个关系。</p><h1 id="7330" class="ks kt iq bd ku kv kw kx ky kz la lb lc jw ld jx le jz lf ka lg kc lh kd li lj bi translated">雅克卡相似性</h1><p id="4b6f" class="pw-post-body-paragraph lk ll iq lm b ln lo jr lp lq lr ju ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">集合S和T的Jaccard相似度为|S ∩ T |/|S ∪ T |，即S和T的交的大小与它们的并的大小之比。我们将用SIM(S，T)来表示S和T的Jaccard相似性。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/5bad3b55ec0dd8761878726cffd39b9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*j5Uwldwh6tvYaIIUuFIIFw.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">图Jaccard相似性的维恩图</p></figure><p id="39c3" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated">该图显示了3/8的Jaccard相似性。</p><p id="0780" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated">Jaccard相似性编码为:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="a87b" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated">匹配查找函数被写成:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="766b" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated">当我们运行随机用户id 4002的函数时；我们得到用户和匹配:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mq"><img src="../Images/a20c3630a3271e22a8154b849c0c1be9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*LpqL9nJbEOfy1_AVnqzP2A.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">图4:用户和他/她的匹配</p></figure><p id="6bc7" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated">我们可以看到特征大多相似。Jaccard相似性得分为0.811。特征基本相同，两个没有孩子也不吸毒的年轻人。这些通常对普通人来说更重要，但是我们的准则不考虑问题值。</p><h1 id="e13b" class="ks kt iq bd ku kv kw kx ky kz la lb lc jw ld jx le jz lf ka lg kc lh kd li lj bi translated">结论</h1><p id="7ca6" class="pw-post-body-paragraph lk ll iq lm b ln lo jr lp lq lr ju ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">这里，我们只讨论了一个基本的匹配算法。像OKCupid这样的顶级约会网站使用更复杂的代码和各种其他指标，例如用户之间的距离，以及不同指标的不同权重，这取决于用户最不重视/最重视什么。</p><p id="f3ff" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated">在本文中，我演示了一个函数，它可以查找与所选用户相似的用户。一般来说，Jaccard相似性可用于查找相似产品或基于文本的问题。由于这里的数据来自一个交友网站，我称之为“the match”。结果表明，它确实找到了具有最相似特征的最佳匹配。当我在做的时候，我发现随着年龄的增长，积极的情绪会增加，这否定了约会网站上的人随着年龄的增长会变得更加痛苦的观点。</p><p id="2109" class="pw-post-body-paragraph lk ll iq lm b ln mg jr lp lq mh ju ls lt mi lv lw lx mj lz ma mb mk md me mf ij bi translated">有问题吗？在<a class="ae kr" href="https://www.linkedin.com/in/nurullah-sirca-2125ba62/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>上联系我，在这里找到<a class="ae kr" href="https://gist.github.com/nuru1234" rel="noopener ugc nofollow" target="_blank">代码</a>。</p></div></div>    
</body>
</html>