<html>
<head>
<title>Using NLTK and Fuzzy Wuzzy in Python to build failure stories and improve reliability</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python中的NLTK和Fuzzy Wuzzy构建故障故事并提高可靠性</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/chronic-failure-stories-for-better-component-reliability-using-python-64e142e112e1?source=collection_archive---------77-----------------------#2020-05-18">https://towardsdatascience.com/chronic-failure-stories-for-better-component-reliability-using-python-64e142e112e1?source=collection_archive---------77-----------------------#2020-05-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a8d4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">NLP如何应用于航空或其他机器的部件可靠性分析</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f7a53a831ad26720f9d47d8502313ba1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*f6xOScBNjd2yE41R"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://unsplash.com/@flyingraffi" rel="noopener ugc nofollow" target="_blank"> @flyingraffi </a>上<a class="ae ky" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank">未刷</a></p></figure><p id="96b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di"> O </span>操作员或机械师一般在看到机器(大型卡车、飞机或轮船)出现问题时，会在存储这类信息的历史故障手册或系统中描述并报告(<a class="ae ky" href="https://www.thomasnet.com/articles/procurement/what-is-mro/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="me">mro</em></strong></a>)。</p><p id="f02e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在航空领域，每个故障都必须报告(由飞行员或机械师)。通常，这些故障是手工编写的，并存储在计算机系统中。但是作为人类，错误或描述失败的方式并不总是一致的，或者可能有打字错误，这使得很难联系或创建一个<strong class="lb iu">慢性失败史</strong>。</p><p id="6f71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在离开之前，我们将定义什么是<strong class="lb iu">故障历史</strong>:</p><p id="b264" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">想象一条时间线(图1 ),其中每个向下的箭头代表机器上的一个故障或问题，向上的箭头代表故障的解决方案，颜色代表相同的故障，但在词汇上它们是不同的。</p><p id="485a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着时间的推移，会出现许多故障和解决方案，因此系统之间一定存在某种关系或模式，这可能是我们在通常的分类形式中所看不到的(故障通常按机器系统进行分组，但并不总是正确分类)。在这种情况下，对于红色故障，解决方案X比y更有效。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mf"><img src="../Images/a95895f61b313cbc1f35046c1728f945.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6EZPEXuY9Pva-tHRwiXUuQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1:机器A的故障历史</p></figure><p id="60c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以我们有可以改善的情况:</p><ul class=""><li id="fbaa" class="mg mh it lb b lc ld lf lg li mi lm mj lq mk lu ml mm mn mo bi translated">能够对同一<strong class="lb iu">故障模式</strong>下的故障进行分组。</li><li id="50ce" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ml mm mn mo bi translated">能够确定这种故障模式的最佳可能解决方案，从而保证更好的可靠性。</li></ul><p id="187d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们可以定义一个问题，其中我们有3台机器，我们将只关注其中的3个系统，每个系统都有独立的故障(MF)，有不同的纠正措施。我们可以在图2中看到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/8b0c37530bc6ebcffa9ee02b3fd5986b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7EE4SJTmlSI8caXS9X7asA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2:明确的问题</p></figure><p id="9eba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">故障模式(MF)是部件的确切故障。我们不会深入MF的分类，但它可以通过专业工程师或部件手册进行组装。这是一个重要的输入，我们必须集中调查。无论如何，如果我们没有它，我们可以通过观察系统之间的单词可重复性来建立它，然后在专家工程师的支持下，定义故障模式。</p><h1 id="e0d2" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">噪声消除</h1><p id="d771" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">让我们继续图2中提出的问题:我们有一个数据库，其中包含图2中3台机器的MF信息，它们的3个系统是:</p><ol class=""><li id="256d" class="mg mh it lb b lc ld lf lg li mi lm mj lq mk lu ns mm mn mo bi translated">我们将寻找与我们的任何失败都不相关的词，以及机械师已经写下的词，例如，“<em class="me">今天我发现了问题X </em>”，在本文中，只有“<em class="me"> X </em>”是重要的，其他所有我们必须消除的词，在文献中这种词被称为“停用词”。为此，我们将使用<a class="ae ky" href="https://www.nltk.org" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Python NLTK库</strong> </a>。</li><li id="d194" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ns mm mn mo bi translated">在清理完我们所有的文本后，最好对我们归类为错误的单词进行第二次检查，但这第二步最好依靠专家工程师，我们将使用一种称为<strong class="lb iu"> <em class="me">标记化</em> </strong>的技术来进行单词处理。</li></ol><p id="fde2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个过程可以在图3中清楚地看到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/e553a8eafc45b7bcdf535765fb6533f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vmh_XksDcnlRhkID2m8m8g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3:文本数据处理</p></figure><p id="d0f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，用于标记化和文字处理的python代码如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/f4cab3a1e22af34a941f6ffd1fce14e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*BYq9oG12sDakJhVNbHrLZA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4:实际情况</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="a18c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在前面的代码中，我们将机械师编写的所有内容进行了分组，并使用NLTK来消除<em class="me">单词stop </em>，即使如此，在图5的图表中，我们可以看到我们可以继续移除与MF无关的单词，例如，<em class="me"> found </em>、、<em class="me"> form </em>等。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/01a61d95a4d55f820e9816b7a15fbb1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*bEohuhn0b5fABJV55IH56Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图Python之后的词频</p></figure><p id="d5a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将继续清理我们的代码，我们将消除所有我们知道不是失败的单词(我们可以咨询专家)，我们还将消除所有的数字。</p><h1 id="7152" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated"><strong class="ak">开始开发吧！</strong></h1><p id="183a" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">现在，看上面的图，我们可以使用pandas来编写我们真正的代码(上一个是解释<em class="me">标记化</em>的前一个)。我们将使用图5中的图表，我们将清理我们的代码，我们将删除停用词，然后我们将使用<a class="ae ky" href="https://github.com/seatgeek/fuzzywuzzy" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="me">fuzzywuzzy</em></strong></a>匹配库，然后我们将对结果进行注释。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="0ea1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/seatgeek/fuzzywuzzy" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="me">fuzzywuzzy</em></strong></a>匹配是每个人与每个人，按系统名称和每个人与每个人进行匹配会很有趣，在此之后，留下最佳结果(我们可以将此作为后续步骤)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/fedbdc7160194e038274c2357e3fbdb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*so6-AwEZAjs-u7DwK-QArQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图6:结果</p></figure><p id="b03b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在图6中，我们得到了问题的结果。<br/>‘故障名称_清除’列是我们去除了所有噪声的故障。<br/>‘故障名称_原始’列是由机械师编写的列。<br/>‘模式_故障’是每个系统MF词汇表的最佳匹配故障模式。<br/>最后，列‘匹配’匹配‘故障_名称_清除’和‘模式_故障’的百分比。</p><p id="cc8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在绿色中，我们可以看到我们拥有的巧合，例如，我们成功地将62%归类为“问题v break”(“id _ failure”= 11)，这非常好！另一方面，红色表示仍有大量噪声可以消除</p><h1 id="7449" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">下一步！</h1><p id="3337" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">大型机器上的系统可能非常多样，MF甚至更多，因此进行交错匹配、系统之间的测试或同一系统的测试并最终留下所有匹配中的最佳匹配将非常有用(因为一个系统有其自己的MF，但有时系统的选择可能是错误的)。了解更多关于<a class="ae ky" href="https://www.nltk.org" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">【NLTK】</strong></a>以及查看同义词或反义词选项也是不错的。另一方面，与专家坐下来消除所有可能的噪音是很好的，噪音总是存在的。</p><p id="59d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们仍然必须分析纠正措施，选择最佳解决方案，这样我们就可以得到MF排名及其最佳纠正措施。这可以通过查看对于相同的故障和机器，哪个动作花费最长时间而不再次失败来确定。我们已经迈出了创建失败案例的第一步，现在还缺少拥有完整工具的下一步。</p></div></div>    
</body>
</html>