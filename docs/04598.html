<html>
<head>
<title>JupyterLab 2.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JupyterLab 2.0</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/jupyterlab-2-0-edd4155ab897?source=collection_archive---------6-----------------------#2020-04-24">https://towardsdatascience.com/jupyterlab-2-0-edd4155ab897?source=collection_archive---------6-----------------------#2020-04-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="12b3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们来一窥 Jupyter 笔记本编辑的未来。像编码辅助和更多☀️这样的特性让未来看起来很光明</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2e7eb14da37b50e8e3c0d701e2c2880c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DmBQ5PjkBg7PSYnW"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@drew_beamer?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">德鲁·比默</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="d732" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">前几天，我写了一个故事<a class="ae ky" rel="noopener" target="_blank" href="/are-you-still-using-jupyterlab-ce1a4339c0a9">你还在用 JupyterLab 吗？我得到了惊人的回应。读者向我推荐了各种为数据科学开发的新 ide，但其中有一个非常突出。</a></p><p id="1841" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Michal Krassowski 给我留了一张纸条，上面写着他和其他贡献者正在做的一个项目。JupyterLab-LSP 是 JupyterLab 的一个语言服务器协议集成。简而言之，它为 JupyterLab 增加了新的超能力，比如代码导航、悬停建议、linters、自动完成和重命名。我真的很兴奋，因为它解决了大多数问题，PyCharm 优于 JupyterLab。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/3c6046a1b6a4217025577fbc19aa363b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lkLXjgZkYfufi-94Zr73IQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">米哈尔·克拉索夫斯基的笔记</p></figure><blockquote class="lw"><p id="99d4" class="lx ly it bd lz ma mb mc md me mf lu dk translated">让我们试驾一下吧</p></blockquote><p id="6a8c" class="pw-post-body-paragraph kz la it lb b lc mg ju le lf mh jx lh li mi lk ll lm mj lo lp lq mk ls lt lu im bi translated"><strong class="lb iu">这里有几个你可能会感兴趣的链接:</strong></p><pre class="kj kk kl km gt ml mm mn mo aw mp bi"><span id="36b0" class="mq mr it mm b gy ms mt l mu mv">- <a class="ae ky" href="https://www.humanfirst.ai/" rel="noopener ugc nofollow" target="_blank">Labeling and Data Engineering for Conversational AI and Analytics</a></span><span id="4cac" class="mq mr it mm b gy mw mt l mu mv">- <a class="ae ky" href="https://imp.i115008.net/c/2402645/880006/11298" rel="noopener ugc nofollow" target="_blank">Data Science for Business Leaders</a> [Course]</span><span id="dff9" class="mq mr it mm b gy mw mt l mu mv">- <a class="ae ky" href="https://imp.i115008.net/c/2402645/788201/11298" rel="noopener ugc nofollow" target="_blank">Intro to Machine Learning with PyTorch</a> [Course]</span><span id="2a1c" class="mq mr it mm b gy mw mt l mu mv">- <a class="ae ky" href="https://imp.i115008.net/c/2402645/803127/11298" rel="noopener ugc nofollow" target="_blank">Become a Growth Product Manager</a> [Course]</span><span id="cf8c" class="mq mr it mm b gy mw mt l mu mv">- <a class="ae ky" href="https://amzn.to/3ncTG7D" rel="noopener ugc nofollow" target="_blank">Deep Learning (Adaptive Computation and ML series)</a> [Ebook]</span><span id="c588" class="mq mr it mm b gy mw mt l mu mv">- <a class="ae ky" href="https://aigents.co/skills" rel="noopener ugc nofollow" target="_blank">Free skill tests for Data Scientists &amp; Machine Learning Engineers</a></span></pre><p id="3897" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mx">上面的一些链接是附属链接，如果你通过它们购买，我会赚取佣金。请记住，我链接课程是因为它们的质量，而不是因为我从你的购买中获得的佣金。</em></p><h1 id="8b3d" class="my mr it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">编码林挺和吸尘建议</h1><p id="ad0d" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">安装 JupyterLab-LSP 后，您会在状态栏中看到“完全初始化”图标。这意味着 JupyterLab-LSP 正在工作。</p><p id="65f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码林挺工作很好。在下面的示例中，它显示“由未使用的导入”警告。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/329e612c33c8a3400a6e6fd16259da20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*6Lroy-x_1Nu6r50E.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用 JupyterLab-LSP 在 JupyterLab 中编码林挺</p></figure><h1 id="cd64" class="my mr it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">代码完成</h1><p id="bea8" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">这是我最期待的功能之一。我们来测试一下。</p><p id="49eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从下面的视频中可以看出，代码完成(CC)对 pandas 或 numpy 不起作用。我还用 pandas DataFrame 中的列尝试了 CC，但没有任何不同。CC 在系统库和我定义的类上工作得很好。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/991a0c8c0e5b4e6b5b7345c860057daa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*IE8xV2qvQDqUIqtu.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用 JupyterLab-LSP 在 JupyterLab 中完成代码</p></figure><h1 id="a6e5" class="my mr it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">功能签名建议</h1><p id="d73a" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">一些熊猫函数有很多参数，其中一些我很少使用。每次我使用这样的功能时，我都必须去谷歌搜索文档来更新我的记忆。</p><p id="db25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JupyterLab-LSP 增加了函数签名建议(FSS)，效果很好。你得到一个漂亮的弹出窗口——不太打扰，刚刚好。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/4f46624cf954bc9c482e0222365a6332.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*c_sLgHQgtSVxlII-.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">JupyterLab 中的函数签名建议</p></figure><p id="922b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">FSS 可以通过突出你正在编辑的当前论点来进一步改进，就像 NeoVim 中的<a class="ae ky" href="https://github.com/deoplete-plugins/deoplete-jedi" rel="noopener ugc nofollow" target="_blank">deo complete-Jedi</a>插件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/086e84eb5e267a746e876c096e220696.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*xZfr9uHHJ5FRpfgU.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在 NeoVim 与 deo complete-Jedi 的功能签名建议</p></figure><blockquote class="lw"><p id="c0f9" class="lx ly it bd lz ma mb mc md me mf lu dk translated">函数签名建议非常有效，但仍有改进的空间</p></blockquote><h1 id="66e5" class="my mr it bd mz na nb nc nd ne nf ng nh jz nv ka nj kc nw kd nl kf nx kg nn no bi translated">诊断面板</h1><p id="6084" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">JupyterLab-LSP 还有一个漂亮的诊断面板，列出了所有的警告和错误。这非常有用，因为红色下划线可能会被忽略。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/79f553580173cfcbf27592385eb50f07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N5bYvPbcv5E1AtxkN4916w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有 JupyterLab-LSP 的 JupyterLab 中的诊断面板</p></figure><h1 id="a29c" class="my mr it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">重命名变量</h1><p id="47aa" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">我对这个有点失望，因为我以为它会进行重构，但它是一个关键字替换。我试图重构一个变量名，但它也重命名了一个字符串，如下面的视频所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/4c47e1fec8425ce9dbcf330b5f5271a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*g2n2fAq19YvWbSV9.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用 JupyterLab-LSP 重命名 JupyterLab 中的变量</p></figure><h1 id="a247" class="my mr it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated"><strong class="ak">其他特色</strong></h1><p id="48b0" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">JupyterLab-LSP 包含了许多有用的功能，比如“转到定义”——你想看看熊猫数据帧在幕后是如何工作的吗——只需使用“转到定义”。</p><p id="781f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码格式化在某些时候也会成为 LSP 扩展的一部分！</p><blockquote class="lw"><p id="a4a8" class="lx ly it bd lz ma nz oa ob oc od lu dk translated">W <!-- -->你想看看熊猫数据框架是如何在幕后工作的吗——只要使用 Go to Definition</p></blockquote><h1 id="7da5" class="my mr it bd mz na nb nc nd ne nf ng nh jz nv ka nj kc nw kd nl kf nx kg nn no bi translated">你自己试试</h1><p id="6908" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">确保您安装了最新的 JupyterLab 在撰写本文时是 2.1.0。您还需要在 JupyterLab 中启用扩展管理器。</p><pre class="kj kk kl km gt ml mm mn mo aw mp bi"><span id="aad5" class="mq mr it mm b gy ms mt l mu mv">pip install -U jupyterlab</span></pre><p id="6b03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装 LSP 服务器扩展:</p><pre class="kj kk kl km gt ml mm mn mo aw mp bi"><span id="5d30" class="mq mr it mm b gy ms mt l mu mv">pip install jupyter-lsp</span></pre><p id="accb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装节点(该命令适用于 macOS):</p><pre class="kj kk kl km gt ml mm mn mo aw mp bi"><span id="035a" class="mq mr it mm b gy ms mt l mu mv">brew install nodejs</span></pre><p id="14c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装前端扩展:</p><pre class="kj kk kl km gt ml mm mn mo aw mp bi"><span id="b7bd" class="mq mr it mm b gy ms mt l mu mv">jupyter labextension install @krassowski/jupyterlab-lsp</span></pre><p id="98a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为编程语言安装 LSP 服务器:</p><pre class="kj kk kl km gt ml mm mn mo aw mp bi"><span id="716b" class="mq mr it mm b gy ms mt l mu mv">pip install 'python-language-server[all]'</span></pre><p id="3c24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">启动 jupyterlab，您应该会在状态栏中看到“完全初始化”图标。</p><h1 id="0246" class="my mr it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">判决</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/3bc052ef00ab3e0c7c2c3ab72abeeed7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e6bzKXmchUNlY7cQQlaNJg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">比尔·牛津在<a class="ae ky" href="https://unsplash.com/s/photos/verdict?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="efa1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据我所做的正面评论，你可能会认为我会每天使用 JuypterLab 2.0 和 LSP。你会惊讶地发现，在我写完这篇文章后，我已经安装了旧版本。这是为什么呢？</p><p id="fcc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然新功能运行良好，但我使用的其他扩展还不支持 JupyterLab 2.0。这些是用于 Vi 键绑定的<a class="ae ky" href="https://github.com/jwkvam/jupyterlab-vim" rel="noopener ugc nofollow" target="_blank"> jupyterlab-vim </a>和用于代码格式化的<a class="ae ky" href="https://github.com/ryantam626/jupyterlab_code_formatter" rel="noopener ugc nofollow" target="_blank">jupyterlab _ code _ formatter</a>。这两个扩展目前对我来说比 LSP 支持更重要。也许我们可以两全其美，因为 JupyterLab-LSP 似乎也支持 JupyterLab 1.x，但我还没有试过。</p><pre class="kj kk kl km gt ml mm mn mo aw mp bi"><span id="0ab8" class="mq mr it mm b gy ms mt l mu mv"># for JupyterLab 1.x<br/>jupyter labextension install @krassowski/jupyterlab-lsp@0.8.0</span></pre><blockquote class="lw"><p id="2999" class="lx ly it bd lz ma mb mc md me mf lu dk translated">简而言之，JupyterLab-LSP 是一个巨大的改进，我可以说我将来肯定会使用它</p></blockquote><h1 id="2456" class="my mr it bd mz na nb nc nd ne nf ng nh jz nv ka nj kc nw kd nl kf nx kg nn no bi translated">在你走之前</h1><p id="dea3" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">在<a class="ae ky" href="https://twitter.com/romanorac" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我，在那里我定期<a class="ae ky" href="https://twitter.com/romanorac/status/1328952374447267843" rel="noopener ugc nofollow" target="_blank">发布关于数据科学和机器学习的</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/b5d426b68cc5a21b1a35d0a157ebc4f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*69rP1pwjJi9mLSFE"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@cmhedger?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">考特尼·海杰</a>在<a class="ae ky" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure></div></div>    
</body>
</html>