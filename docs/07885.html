<html>
<head>
<title>E-Mail Sentiment Analysis Using Python and Microsoft Azure — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python和Microsoft Azure进行电子邮件情感分析—第2部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/e-mail-sentiment-analysis-using-python-and-microsoft-azure-part-2-796e7db76bee?source=collection_archive---------46-----------------------#2020-06-11">https://towardsdatascience.com/e-mail-sentiment-analysis-using-python-and-microsoft-azure-part-2-796e7db76bee?source=collection_archive---------46-----------------------#2020-06-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cab2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用新的电子邮件数据更深入地进行情感分析，并开始探索关系应用程序使用数据。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/02ae97190438a49a937f51d379554075.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iwYpGTjotb_R1TmJ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">斯蒂芬·菲利普斯-Hostreviews.co.uk在Unsplash上拍摄的照片</p></figure><blockquote class="ky"><p id="96d3" class="kz la it bd lb lc ld le lf lg lh li dk translated">这是由多个部分组成的文章的第2部分。</p></blockquote><h1 id="9ec1" class="lj lk it bd ll lm ln lo lp lq lr ls lt jz lu ka lv kc lw kd lx kf ly kg lz ma bi translated"><strong class="ak">第一部分回顾</strong></h1><p id="23ea" class="pw-post-body-paragraph mb mc it md b me mf ju mg mh mi jx mj mk ml mm mn mo mp mq mr ms mt mu mv li im bi translated">简单回顾一下，本系列的第1部分着重于获取您的电子邮件发送项目的CSV导出，并使用Microsoft Azure的文本分析API返回每行的情感结果。</p><p id="95db" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">我们从用于增加频率表的API中获取的结果基本上向我们显示了正面、负面、中性或未知结果的总数。</p><p id="7863" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">我们还发现，完全理解时间线很困难，因为Outlook的任何导出功能都不包括日期时间数据，所以我们的分析只是针对“已发送邮件”文件夹中的大部分邮件。</p><h1 id="b5b0" class="lj lk it bd ll lm ln lo lp lq lr ls lt jz nb ka lv kc nc kd lx kf nd kg lz ma bi translated">第二部分导言</h1><p id="1788" class="pw-post-body-paragraph mb mc it md b me mf ju mg mh mi jx mj mk ml mm mn mo mp mq mr ms mt mu mv li im bi translated">自从第1部分发表以来，我偶然发现了文本分析API的一个新版本(3.1版)，它可以返回一个“混合”的情感结果。我们将探讨这一点，以及以下值得注意的变化:</p><ul class=""><li id="9402" class="ne nf it md b me mw mh mx mk ng mo nh ms ni li nj nk nl nm bi translated">从名为<a class="ae nn" href="http://rescuetime.com/" rel="noopener ugc nofollow" target="_blank"> RescueTime </a>的工具中探索应用程序使用细节</li><li id="9935" class="ne nf it md b me no mh np mk nq mo nr ms ns li nj nk nl nm bi translated">查看情感分析结果的详细分数和输出</li><li id="a5aa" class="ne nf it md b me no mh np mk nq mo nr ms ns li nj nk nl nm bi translated">准备连接数据集并查找相关性</li><li id="46cb" class="ne nf it md b me no mh np mk nq mo nr ms ns li nj nk nl nm bi translated">可视化数据</li></ul><p id="7b05" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">在第1部分中，我还提到了Outlook本身不允许您导出包含发送或接收日期/时间的电子邮件副本(CSV或PST格式)。</p><p id="40b6" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">打开Outlook应用程序并下载CSV的另一种方法是利用PowerShell来查询和保存信息。通过使用PowerShell，我们能够操作Outlook应用程序中不可用的字段。</p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><h1 id="d8a3" class="lj lk it bd ll lm oa lo lp lq ob ls lt jz oc ka lv kc od kd lx kf oe kg lz ma bi translated">使用PowerShell检索带日期时间的电子邮件</h1><p id="258c" class="pw-post-body-paragraph mb mc it md b me mf ju mg mh mi jx mj mk ml mm mn mo mp mq mr ms mt mu mv li im bi translated">下面的代码将提取您的已发送邮件文件夹的邮件正文和发送日期/时间，然后存储到一个CSV文件中。<strong class="md iu">确保将-path开关更新为您想要的值。</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="9078" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">在Excel中查看文件时(假设您应用了默认设置)，您会注意到一些格式问题，如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/718f45b46234298ad4c9880e63b8e2db.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/format:webp/1*yC-WEJJrUs7OO78vTolc6Q.png"/></div></figure><p id="7869" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">为了解决这个问题并提供一种更容易在Python中使用的格式，我们将打开一个新的空白Excel文件，单击“<strong class="md iu">数据</strong>选项卡，并在<em class="oi">获取&amp;转换数据</em>部分中单击<strong class="md iu"> From Test/CSV </strong>。选择您的CSV文件并使用以下设置:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/05b6d4b2dd3fb4205a48e87c595832b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L8Bbx_kAOlnqpf4ha2YMbg.png"/></div></div></figure><p id="aa34" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">你会注意到我们把分隔符改成了|字符，因为我们在大多数邮件文本中很少使用，尤其是在我发送的邮件中。</p><p id="e7d8" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">我们还可以看到一个预览，显示它是如何格式化我们想要的。我们将点击底部的<strong class="md iu"> Load </strong>，将其保存为我们的工作CSV，现在您就可以将它加载到数据帧中了！</p><blockquote class="ok ol om"><p id="e7a5" class="mb mc oi md b me mw ju mg mh mx jx mj on my mm mn oo mz mq mr op na mu mv li im bi translated">大声向<a class="ae nn" href="https://www.linkedin.com/in/jason-b-60194b35/" rel="noopener ugc nofollow" target="_blank"> <strong class="md iu">杰森·布鲁诺</strong> </a>求助PowerShell脚本和修改Excel格式！</p></blockquote></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><h1 id="7022" class="lj lk it bd ll lm oa lo lp lq ob ls lt jz oc ka lv kc od kd lx kf oe kg lz ma bi translated">下载更新时间数据</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/edc4121a975f2de5f2d531dffadff916.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zaoEsIROCm8bh1Dc"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">斯蒂芬·菲利普斯-Hostreviews.co.uk在<a class="ae nn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片<a class="ae nn" href="https://unsplash.com/@hostreviews?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"/></p></figure><p id="919e" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated"><a class="ae nn" href="http://rescuetime.com/" rel="noopener ugc nofollow" target="_blank">改期</a>从何而来？嗯，大约一年半以前，我下载了一个应用程序，它可以帮助跟踪应用程序中的活动时间，帮助你找到可以削减的地方，还可以大致了解你在哪里花了大部分时间。</p><p id="b911" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">我使用这个应用程序大约一个月左右，然后诚实地忘记我已经安装了它。哎呀！</p><p id="d223" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">对我有利的是，这个应用程序仍然在收集数据。RescueTime提供了以CSV格式下载你所有数据的能力(在他们网站上你的个人资料中可以找到)，所以我知道我要努力把它纳入我确定快乐/悲伤趋势的目标中。</p><blockquote class="ok ol om"><p id="cfef" class="mb mc oi md b me mw ju mg mh mx jx mj on my mm mn oo mz mq mr op na mu mv li im bi translated">此外，我与RescueTime没有任何关联，它只是一个我不久前决定尝试的免费应用程序，它非常有趣，足以融入这个故事。:)</p></blockquote></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><h1 id="e716" class="lj lk it bd ll lm oa lo lp lq ob ls lt jz oc ka lv kc od kd lx kf oe kg lz ma bi translated">加载和检查数据集</h1><p id="0333" class="pw-post-body-paragraph mb mc it md b me mf ju mg mh mi jx mj mk ml mm mn mo mp mq mr ms mt mu mv li im bi translated">在本节中，我们将跳过许多逐行代码，因为我们使用了第1部分中的许多现有代码。我还提供了一个<a class="ae nn" href="https://github.com/bcprescott/datascience/tree/master/sentiment/Part2" rel="noopener ugc nofollow" target="_blank"> GitHub链接</a>到Jupyter笔记本，如果你想查看、复制或修改它的话。</p><p id="92a9" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">当我们导入新的电子邮件发送项目导出时，我们会在需要清理的数据中看到许多相似之处；但是，还要注意我们现在可以使用日期时间数据。呜！这在第3部分中可视化和连接数据集时非常有用。</p><blockquote class="ok ol om"><p id="b6bf" class="mb mc oi md b me mw ju mg mh mx jx mj on my mm mn oo mz mq mr op na mu mv li im bi translated">您将看到的代码片段按照第1部分中的许多步骤完成了一些常规的数据清理，并添加了一些内容，例如将列转换为datetime并稍微更改了一些格式。我也在不断地学习，所以一些代码会不断地变得更有效率。</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/4ba0c180d55c700635d5d6fea799fd24.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*_EgAYQDMWM6v5ij8iI6eaQ.png"/></div></figure><p id="98fe" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">在导入RescueTime数据集并对其进行一些初步清理之后，我们可以获得以下一些信息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/9866fdf49877aad5b098528e25858042.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X98438y3x_4HCfXM5lwKHA.png"/></div></div></figure><p id="99d1" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">非常有趣的是，它有我们可以探索的特定级别的细节，但它也提供数据，如:</p><ul class=""><li id="3514" class="ne nf it md b me mw mh mx mk ng mo nh ms ni li nj nk nl nm bi translated">记录日期</li><li id="3a33" class="ne nf it md b me no mh np mk nq mo nr ms ns li nj nk nl nm bi translated">应用程序名称</li><li id="eb09" class="ne nf it md b me no mh np mk nq mo nr ms ns li nj nk nl nm bi translated">应用类别</li><li id="9184" class="ne nf it md b me no mh np mk nq mo nr ms ns li nj nk nl nm bi translated">录制时的使用情况(秒)</li></ul><p id="99ec" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">只是为了好玩，这里有一个我记录的活动Slack实例的可视化，我们将在第3部分中触及。趋势下降可能是我工作的公司推出微软团队并开始摆脱Slack的一个标志。此外，很高兴我的星期六用法并不可怕！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/7bd47716033bbfa9b6af380df35b22c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wvhHHyGdXV7FA_eZQhVmEQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">记录的松弛窗口在我的屏幕上处于活动状态的实例…</p></figure><p id="6c33" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">我们将在第3部分进一步探索和加入RescueTime数据集，但现在我们将把重点转移到根据新的电子邮件数据集来改变我们的情感分析结果。</p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><h1 id="a2d8" class="lj lk it bd ll lm oa lo lp lq ob ls lt jz oc ka lv kc od kd lx kf oe kg lz ma bi translated">情感分析调优</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/050bf55addd644c4a91c94ada2057241.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pcltYffF_XmDaD6X"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马特·阿特兹在<a class="ae nn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="c3e6" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">回到我们的电子邮件数据集，我已经使用第1部分中的大部分内容清理了数据，考虑到我们现在有一个日期时间列，还添加了一些内容。</p><p id="010b" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">为了便于查看，我对主要情感分析功能进行了更改，以从API返回我们需要的详细信息，并对清理后的电子邮件数据集进行了一些修改，以利用这些附加功能:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="2e2a" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">…以及对电子邮件数据集的小改动，以从情感分析输出中获取更多细节。我们使用DataFrame中的“message”系列进行发送分析(相比之下，我们将它转换为一个列表)并添加额外的列。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="818f" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">在将我们的消息发送到文本分析API之后，我们可以看到我们的结果提供了与第1部分中类似的输出(包括更新的“混合”结果)，以及我们的数据帧，该数据帧具有包含详细情感分数和总体情感结果的新列。</p><p id="3f5b" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">将这个结果输出到csv也是一个明智的选择，因为每次将结果发送到API时，都需要一段时间才能获得所有结果。:)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/c6eb73fdcfa9975126cd526e52bcaba0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2IH0Pf6Ou2tQesUg5JRXdA.png"/></div></div></figure></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><h1 id="4d22" class="lj lk it bd ll lm oa lo lp lq ob ls lt jz oc ka lv kc od kd lx kf oe kg lz ma bi translated">演示数据准备</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/b66623dc8c9089f51bb3a60407ad1a81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0dfVa2_yjyl9opKa"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae nn" href="https://unsplash.com/@andrewtneel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">安德鲁·尼尔</a>在<a class="ae nn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="539e" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">简单回顾一下，我们最新数据集的一些优势包括:</p><ul class=""><li id="262a" class="ne nf it md b me mw mh mx mk ng mo nh ms ni li nj nk nl nm bi translated">电子邮件发送日期</li><li id="e329" class="ne nf it md b me no mh np mk nq mo nr ms ns li nj nk nl nm bi translated">清理的邮件详细信息</li><li id="d4f5" class="ne nf it md b me no mh np mk nq mo nr ms ns li nj nk nl nm bi translated">详细的情感分析得分结果</li><li id="f68b" class="ne nf it md b me no mh np mk nq mo nr ms ns li nj nk nl nm bi translated">总体情绪标签</li></ul><p id="e416" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">也就是说，我们可以使用当前状态下的电子邮件数据来绘图，但也可以看看一周中哪一天更积极/消极等，这可能会很有趣..获取每一行的最高报告分数也可能有所帮助。</p><p id="0657" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">为了简洁起见，我们首先将email_clean数据帧复制到一个名为email_plot的数据帧中，我们将(很明显)使用它来绘图。我们还将为一周中的某一天添加一个新列，并从我们的<code class="fe ox oy oz pa b">date </code>列进行翻译。</p><pre class="kj kk kl km gt pb pa pc pd aw pe bi"><span id="382e" class="pf lk it pa b gy pg ph l pi pj">email_plot['day_of_week'] = email_plot['date'].dt.day_name()</span></pre><p id="54ef" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">我们也将做同样的事情来获得我们的最高分，但是我们将只让它检查与我们的分数输出相关的列。</p><pre class="kj kk kl km gt pb pa pc pd aw pe bi"><span id="7638" class="pf lk it pa b gy pg ph l pi pj">email_plot['top_score'] = email_plot[['positive','neutral','negative']].max(axis=1)</span></pre><p id="f802" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">现在我们有了一些额外的有趣数据，可以在绘图时使用！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/8e16d005291229a94f6edb13f29af1fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fC7O1-YCUNXMygV_id-jZQ.png"/></div></div></figure></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><h1 id="7d3b" class="lj lk it bd ll lm oa lo lp lq ob ls lt jz oc ka lv kc od kd lx kf oe kg lz ma bi translated">可视化新数据</h1><p id="e933" class="pw-post-body-paragraph mb mc it md b me mf ju mg mh mi jx mj mk ml mm mn mo mp mq mr ms mt mu mv li im bi translated">现在，我们已经对消息列进行了适当的清理，添加了情绪得分、总体情绪结果、星期几和最高得分的列，我们准备好绘图了！</p><p id="223d" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">最近，我更关注Plotly，因为我觉得修改布局、颜色地图等更容易。与MatPlotLib相比。MatPlotLib无疑仍然是一个很棒的库，但是我也计划在我的个人网站上发布一些，所以一个交互式的库更有意义。</p><p id="e8be" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">也就是说，Plotly能够在生成图时使用<code class="fe ox oy oz pa b">facet_col</code>轻松地将图分割成面板。在对情节细节做了一些调整后，我有一个有趣的散点图要看:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pl og l"/></div></figure><blockquote class="ok ol om"><p id="7bf4" class="mb mc oi md b me mw ju mg mh mx jx mj on my mm mn oo mz mq mr op na mu mv li im bi translated">如果你是Plotly的新手，你可以点击右侧图例中的情绪结果来过滤上面的散点图。</p></blockquote><p id="2d16" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">如果我们先过滤，只显示积极的结果，我们实际上可以看到，随着我们从2019年7月转移到2020年7月，周四和周五有更多的电子邮件被自信地标记。</p><p id="1e79" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">如果我们切换到负面结果，我们可以看到周一发送的带有负面标签的电子邮件数量大幅减少，上个季度的周一没有负面邮件！</p><p id="e577" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">然而，周二(温和增长)和周三的情况正好相反，因为随着我们进入2020年中期，我们可以看到更紧密的点群。</p><div class="kj kk kl km gt ab cb"><figure class="pm kn pn po pp pq pr paragraph-image"><img src="../Images/f26afeda688ca5e872869aeac773c832.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*_KBE0AEA4lMuGii8laqIKg.png"/></figure><figure class="pm kn ps po pp pq pr paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/cbf1d9017707428783b85443204fd81b.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*1p02HCUCYWQcGZVT0wQhiw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk pt di pu pv translated">负面邮件(左)和正面邮件(右)</p></figure></div><p id="25f6" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">有趣的是，周末发送的电子邮件似乎大多是积极的，这可能有助于普遍的周末快乐在我的回复中发挥作用。</p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><h1 id="85a9" class="lj lk it bd ll lm oa lo lp lq ob ls lt jz oc ka lv kc od kd lx kf oe kg lz ma bi translated">结论</h1><p id="b614" class="pw-post-body-paragraph mb mc it md b me mf ju mg mh mi jx mj mk ml mm mn mo mp mq mr ms mt mu mv li im bi translated">虽然这并不意味着在情感结果和整体数据清洁度方面100%准确，但它绝对是朝着更好的方向迈出的一步，并且能够开始查看我的电子邮件情感趋势。我认为同样值得一提的是，负面情绪并不意味着你是一个彻头彻尾的混蛋或骂人(我并不是一个那么糟糕的人……)，而是指在系列中使用的某些词可能会触发API，导致负面反应得分增加。:)</p><p id="239f" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated">像往常一样，请在下面的评论区留下任何评论/想法/反馈。我总是在寻找更有效的方法来做某事，寻找我在做某事的过程中可能出现的错误，或者寻找一般的反馈！</p><p id="e909" class="pw-post-body-paragraph mb mc it md b me mw ju mg mh mx jx mj mk my mm mn mo mz mq mr ms na mu mv li im bi translated"><em class="oi">请继续关注第3部分，我们将本故事中使用的数据与我们的RescueTime数据中的datetime数据相结合，以发现情感结果与大量应用程序使用之间的相关性！</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pw"><img src="../Images/59a6b1775108c3ac1fe1b9a1cb4642ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*67vvG-r3ZGlhr4Vb"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">刘汉宁·奈巴霍在<a class="ae nn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure></div></div>    
</body>
</html>