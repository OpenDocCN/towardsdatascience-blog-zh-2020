<html>
<head>
<title>How to Set up Account Linking in Amazon Alexa with Amazon Cognito OAuth2 Authorization Grant</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Amazon Alexa 中使用 Amazon Cognito OAuth2 授权许可设置帐户链接</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-set-up-account-linking-in-amazon-alexa-with-amazon-cognito-oauth2-authorization-grant-122cb1b2caca?source=collection_archive---------26-----------------------#2020-03-30">https://towardsdatascience.com/how-to-set-up-account-linking-in-amazon-alexa-with-amazon-cognito-oauth2-authorization-grant-122cb1b2caca?source=collection_archive---------26-----------------------#2020-03-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="7648" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">亚马逊 ALEXA</h2><div class=""/><div class=""><h2 id="241f" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用 Alexa 实现安全的个性化访问</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/2fa69d60eda5abfc85fef67516fa7418.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QNck3CcpZdf6Z1Mu"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">简·安东宁·科拉尔在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="22a1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi me translated"><span class="l mf mg mh bm mi mj mk ml mm di"> A </span> <strong class="lk jd"> mazon Alexa </strong>，是亚马逊开发的虚拟助理 AI 技术，最初于 2014 年发布。这是亚马逊迄今为止最有创意的设计之一。</p><p id="95ec" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Alexa 的表现令人惊叹，如语音交互，音乐播放，制定待办事项，设置闹钟，流媒体播客，提供天气，交通，体育和其他实时信息，如新闻，它还可以控制几个智能设备。</p><p id="5553" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">据<a class="ae lh" href="https://developer.amazon.com/en-US/alexa/alexa-voice-service/what-is-avs" rel="noopener ugc nofollow" target="_blank">亚马逊的开发者网站</a>称，<strong class="lk jd"> Alexa 语音服务(AVS) </strong>生活在云端。亚马逊的 AVS 是一项<strong class="lk jd">智能语音识别</strong>和<strong class="lk jd">自然语言理解(NLU) </strong>服务。Alexa 语音服务(AVS)试图模仿真实的人与人之间的对话。该服务可用于为任何具有麦克风和扬声器的连接设备启用语音功能。Alexa 通过名为“技能”的组件向公众提供服务。</p><blockquote class="mn"><p id="6687" class="mo mp it bd mq mr ms mt mu mv mw md dk translated">“Alexa 总是通过机器学习的新功能变得越来越聪明，”</p><p id="6051" class="mo mp it bd mq mr ms mt mu mv mw md dk translated">-亚马逊的开发者网站上说。</p></blockquote><p id="4fe3" class="pw-post-body-paragraph li lj it lk b ll mx kd ln lo my kg lq lr mz lt lu lv na lx ly lz nb mb mc md im bi translated">在这篇博文中，我将解释一下 Alexa 账户链接。</p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><p id="6c12" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> <em class="nj">来自《走向数据科学》编辑的提示:</em> </strong> <em class="nj">虽然我们允许独立作者根据我们的</em> <a class="ae lh" rel="noopener" target="_blank" href="/questions-96667b06af5"> <em class="nj">规则和指导方针</em> </a> <em class="nj">发表文章，但我们并不认可每个作者的贡献。你不应该在没有寻求专业建议的情况下依赖一个作者的作品。详见我们的</em> <a class="ae lh" rel="noopener" target="_blank" href="/readers-terms-b5d780a700a4"> <em class="nj">读者术语</em> </a> <em class="nj">。</em></p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><h1 id="635a" class="nk nl it bd nm nn no np nq nr ns nt nu ki nv kj nw kl nx km ny ko nz kp oa ob bi translated">什么是 Alexa 账户链接</h1><p id="560f" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated"><em class="nj">帐户链接</em>支持自定义技能将技能用户的 Amazon 身份与不同系统中的身份连接起来。它还允许您使用服务安全地验证用户的技能。一旦技能和外部用户帐户之间的连接建立，技能就可以代表用户使用该帐户执行操作。</p><p id="7a9c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">账户链接使用<a class="ae lh" href="https://tools.ietf.org/html/rfc6749" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd"> OAuth 2.0 </strong> </a>。OAuth 2.0 服务器支持两种发起安全访问令牌交换的协议:<strong class="lk jd">授权码授予</strong>和<strong class="lk jd">隐式授予</strong>。</p><h2 id="804a" class="oh nl it bd nm oi oj dn nq ok ol dp nu lr om on nw lv oo op ny lz oq or oa iz bi translated">Amazon Cognito 用户池是如何工作的</h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi os"><img src="../Images/d7465069d49bc442bc9400f4b29a4635.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sg7RT3_VFtDK_ZYFmwc_LQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">来源:<a class="ae lh" href="https://developer.amazon.com/blogs/alexa/post/ab0901f8-5b18-483c-91ea-5d2347e117ca/how-to-set-up-alexa-account-linking-with-amazon-cognito-user-pools-to-create-a-personalized-customer-experience" rel="noopener ugc nofollow" target="_blank">链接</a></p></figure><p id="b879" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Amazon Cognito 用户池包括以下任务流。</p><ol class=""><li id="bebf" class="ot ou it lk b ll lm lo lp lr ov lv ow lz ox md oy oz pa pb bi translated">首先，Alexa 服务在运行时向 Alexa skill 提供当前有效的访问令牌。请注意，Alexa service 负责管理刷新令牌，并在令牌到期时获取新的访问令牌。</li><li id="19d0" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">然后，Alexa 技能代码使用该令牌访问用户池中的用户配置文件。当使用 Alexa 应用程序链接技能时，客户将直接通过 Cognito 用户门户进行身份验证。</li></ol><h2 id="0165" class="oh nl it bd nm oi oj dn nq ok ol dp nu lr om on nw lv oo op ny lz oq or oa iz bi translated">Amazon Cognito 账户链接的工作原理</h2><p id="9e7c" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">Amazon Cognito 帐户链接过程如下。</p><ol class=""><li id="7774" class="ot ou it lk b ll lm lo lp lr ov lv ow lz ox md oy oz pa pb bi translated">当客户想要登录系统时，会通过帐户链接发起请求。这里，首先由 app 打开开发者指定的授权链接。这是一个到 Cognito 用户门户的链接。</li><li id="b601" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">重定向时，客户会与 Cognito 登录页面进行交互。然后，用户可以提供必要的登录信息(用户名和密码)以进行身份验证。</li><li id="ecf5" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">当 Cognito 验证客户的凭证时，授权码被提供给应用程序，并被传递给 Alexa 服务。</li><li id="f126" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">然后，Alexa 服务将代码提供给 Cognito。作为回报，它向 Alexa 服务提供初始访问令牌和刷新令牌。然后用户可以使用 Alexa 技能访问。</li></ol><h1 id="9895" class="nk nl it bd nm nn ph np nq nr pi nt nu ki pj kj nw kl pk km ny ko pl kp oa ob bi translated">使用 Amazon Cognito 逐步链接帐户</h1><p id="b159" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">为了完整地设置这个示例，您需要一个 AWS 帐户和一个 Amazon 开发人员帐户。可选地，需要一个域，在亚马逊 Route53 托管。</p><p id="18d3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">按照以下步骤继续。</p><h2 id="0541" class="oh nl it bd nm oi oj dn nq ok ol dp nu lr om on nw lv oo op ny lz oq or oa iz bi translated">步骤 1-创建用户池</h2><p id="a509" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">I)登录<a class="ae lh" href="https://console.aws.amazon.com/console/home" rel="noopener ugc nofollow" target="_blank"> AWS 管理控制台</a>并导航至<a class="ae lh" href="https://console.aws.amazon.com/cognito/" rel="noopener ugc nofollow" target="_blank"> Amazon Cognito </a>。</p><ul class=""><li id="d20a" class="ot ou it lk b ll lm lo lp lr ov lv ow lz ox md pm oz pa pb bi translated">通过查看 AWS 管理控制台右上角的区域，检查正在使用的 AWS 区域。</li><li id="75ce" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md pm oz pa pb bi translated">尽管可以使用 Cognito 支持的任何地区，但 Alexa 建议使用四个地区之一<strong class="lk jd"> us-east-1(北弗吉尼亚)、us-west-2(俄勒冈州)、eu-west-1(爱尔兰)和 ap-northeast-1(东京)。</strong></li></ul><p id="c9f6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ii)点击<strong class="lk jd">管理用户池</strong>。</p><p id="0b9d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">iii)点击<strong class="lk jd">创建用户池</strong>。</p><p id="3b27" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">iv)输入一个<strong class="lk jd">池名</strong>，点击<strong class="lk jd">查看默认值</strong>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pn"><img src="../Images/4179df98ea101494779ba12111dbd427.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sGl8mEqOK6UbTwqQHDs2mg.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 1:创建用户池</p></figure><p id="a0c1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">v)在左侧菜单中选择<strong class="lk jd">属性</strong>。</p><p id="8c9d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">vi)首先，让我们看看如何设置电子邮件认证。因此，首先选择<strong class="lk jd">电子邮件地址或电话号码</strong>，然后选择<strong class="lk jd">允许电子邮件地址</strong>。</p><p id="0b1e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">vii)在<strong class="lk jd">中，您想要要求哪些标准属性？</strong>部分，检查以下内容:</p><blockquote class="po pp pq"><p id="2228" class="li lj nj lk b ll lm kd ln lo lp kg lq pr ls lt lu ps lw lx ly pt ma mb mc md im bi translated">地址、电子邮件、姓、名、电话号码</p></blockquote><p id="9b55" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果您需要注册页面的更多用户详细信息，您可以相应地添加它们。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pu"><img src="../Images/9a3e66bc094bf608c329a6dda843f0e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PFsT-HkgARzW7aM7FNNIOg.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 2:添加属性 I</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pv"><img src="../Images/2c0d6649b9971f3a4db488378d9b8dba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SBPnODsQgsvP3IhYTbqQ3g.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 3:添加属性 II</p></figure><p id="de5a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">viii)点击<strong class="lk jd">下一步</strong>。</p><p id="6c80" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ix)转到左侧面板中的<strong class="lk jd">策略</strong>并输入以下配置，然后点击<strong class="lk jd">保存</strong>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pw"><img src="../Images/a31961572000760839c52c3634041a5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5YPXhFvqizTA_Vfo5PtJjA.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 4:添加策略</p></figure><p id="12b8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">x)在左侧菜单中选择<strong class="lk jd"> MFA 和验证</strong>，并设置:</p><p id="4f2b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">是否要启用多因素认证(MFA) </strong>至<strong class="lk jd">关闭</strong>和<strong class="lk jd">您要验证哪些属性？</strong>至<strong class="lk jd">电子邮件</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pn"><img src="../Images/a3e383bc1291df72913528ed21cc39f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-5hGIZvPtvfC0IfvPzh4tw.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 4:设置 MFA 和验证</p></figure><p id="1aad" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">xi)点击<strong class="lk jd">保存更改，在左侧菜单</strong>选择<strong class="lk jd"> App 客户端</strong>，然后点击<strong class="lk jd">添加 App 客户端</strong>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi px"><img src="../Images/b193bc726c66b029db27935926670ae5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_rdbEuRKUc6MFK-3P8r9vg.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 5:创建应用程序客户端 I</p></figure><p id="1cc1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">xii)输入一个<strong class="lk jd">应用客户端名称。</strong>在<strong class="lk jd">刷新令牌到期(天数)</strong>字段中输入首选周期。</p><p id="5035" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">xiii)选中保留<strong class="lk jd">生成客户端机密</strong>框，其余框未选中。点击<strong class="lk jd">创建 App 客户端</strong>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pv"><img src="../Images/909c8599aa2e0d860bae07ae1d8579e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4a4iq3f2XB6Glf51TlyfXw.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 6:创建应用程序客户端 II</p></figure><p id="763d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">xiv)在左侧菜单中选择<strong class="lk jd">审查</strong>，并点击页面底部的<strong class="lk jd">创建池</strong>。创建完成后，会提示消息说<strong class="lk jd">您的用户池已成功创建</strong>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi py"><img src="../Images/7b29cc89f81662f630d5e492f8de1af2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DZxX7qJR_D1uuPBDZehDkA.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 7:用户池的回顾</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pz"><img src="../Images/d12309898c5abfdc18e7c6e2aa9d3c46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sy8TI2Y7vKRyznCt9lbRRg.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 8:成功创建的用户池</p></figure><p id="2882" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">xv)现在，请注意左侧菜单发生了变化。在左侧菜单中选择<strong class="lk jd">通用设置</strong> &gt; <strong class="lk jd"> App 客户端</strong>，选择<strong class="lk jd">显示详情</strong>。可以看到为 App 生成的<strong class="lk jd"> App 客户端 id </strong>和<strong class="lk jd"> App 客户端机密</strong>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qa"><img src="../Images/cf59bcb306a4d2d62be6d0fffc183eab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*skBp0WSnMD45HZmKiKNx7A.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 9:查看创建的应用程序客户端细节</p></figure><p id="56f8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">十六)在左侧菜单中选择<strong class="lk jd"> App 集成</strong> &gt; <strong class="lk jd"> App 客户端设置</strong>。在<strong class="lk jd">启用的身份提供者</strong>下，选中<strong class="lk jd">认知用户池</strong>旁边的框。</p><p id="26ae" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">xvii)接下来，构建回调 URL 列表。将以下 URL 中的占位符值<strong class="lk jd"> &lt; VID &gt; </strong>替换为您的开发者帐户的<strong class="lk jd">供应商 ID </strong>。要查找您的供应商 ID，请前往 https://developer.amazon.com/settings/console/mycid<a class="ae lh" href="https://developer.amazon.com/settings/console/mycid" rel="noopener ugc nofollow" target="_blank"/>并根据提示使用您的亚马逊开发者账户登录。</p><pre class="ks kt ku kv gt qb qc qd qe aw qf bi"><span id="104c" class="oh nl it qc b gy qg qh l qi qj">https://alexa.amazon.co.jp/api/skill/link/&lt;VID&gt;<br/>https://layla.amazon.com/api/skill/link/&lt;VID&gt;<br/>https://pitangui.amazon.com/api/skill/link/&lt;VID&gt;</span></pre><p id="8eb9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">注意这三个 URL 对应的是 Alexa 的三个区域:<strong class="lk jd"> FE (co.jp)、EU (layla)、NA (pitangui) </strong>。</p><p id="a49b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">将它们组合成一个逗号分隔的值，并将逗号分隔的回调 URL 列表复制/粘贴到<strong class="lk jd">回调 URL</strong>字段中。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qk"><img src="../Images/47c44debfdea5b8def1a7856786c3cc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qPBqo8q77s9cx0YYdGnrTw.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 10:应用程序客户端设置 I</p></figure><p id="1f7e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">xvii)在<strong class="lk jd"> OAuth 2.0 </strong>和<strong class="lk jd">允许的 OAuth 流程</strong>下，勾选<strong class="lk jd">授权码授予复选框。</strong>在<strong class="lk jd">允许的 OAuth 范围</strong>下，勾选这些框:</p><blockquote class="po pp pq"><p id="aa5b" class="li lj nj lk b ll lm kd ln lo lp kg lq pr ls lt lu ps lw lx ly pt ma mb mc md im bi translated"><em class="it"> openid，aws.cognito.signin.user.admin，个人资料</em></p></blockquote><p id="57a0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">Openid</strong>——返回客户端可读的 id 令牌中的所有用户属性。</p><p id="37b1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">AWS . cogn ITO . sign in . User . admin-</strong>授予对需要访问令牌的 Amazon Cognito 用户池 API 操作的访问权限。</p><p id="11e7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> profile- </strong>授权访问客户端可读的所有用户属性。</p><p id="5270" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">点击<strong class="lk jd">保存更改</strong>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ql"><img src="../Images/e9ec53bc313d6e816b2332485ba2c702.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o6KslPxshmFCVeo--0tT-g.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 11:应用客户端设置二</p></figure><h2 id="acc4" class="oh nl it bd nm oi oj dn nq ok ol dp nu lr om on nw lv oo op ny lz oq or oa iz bi translated">步骤 2-设置认知到 OAuth 域</h2><p id="2921" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">设置 Cognito OAuth 域有两个选项。</p><p id="10db" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> I .使用认知域:</strong>该选项只能用于试验和演示目的。</p><p id="2ed6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">二。使用你自己的领域:</strong>如果开发者打算发布一个使用 Cognito 资源库的技能，那么这个选项是必需的。</p><p id="1a6a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">因为我做这个例子只是为了尝试，所以我将继续使用 Cognito 域。</p><h2 id="8388" class="oh nl it bd nm oi oj dn nq ok ol dp nu lr om on nw lv oo op ny lz oq or oa iz bi translated">使用认知域</h2><p id="10ad" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">I)从左侧菜单中选择<strong class="lk jd"> App 集成</strong> &gt; <strong class="lk jd">域名</strong>。</p><p id="6fdd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ii)选择一个域名前缀，并将其输入到<strong class="lk jd">域名前缀</strong>字段。</p><p id="5594" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">iii)点击<strong class="lk jd">检查可用性</strong>。将提示域前缀是否已经存在。</p><p id="693b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">iv)收到可用的域名前缀后，点击<strong class="lk jd">保存更改</strong>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qm"><img src="../Images/d3e4583c9f6b277b3df7604e6bfe3ea2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v0Hw6DwBwn6cPMF_v9C44Q.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 12:创建认知域</p></figure><p id="daba" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">v)从左侧菜单中选择<strong class="lk jd">应用集成</strong>。可以看到完整的网址为(<strong class="lk jd">https://chathurangis-user portal . auth . us-east-1。亚马逊歌尼图。com) </strong>中的<strong class="lk jd">域</strong>域。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qn"><img src="../Images/b0f322fb9953450fddb81ad62f2e635f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ta9QzjKysy7e1fYqq6ylWg.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 13:在应用集成中查看创建的域</p></figure><h2 id="2dca" class="oh nl it bd nm oi oj dn nq ok ol dp nu lr om on nw lv oo op ny lz oq or oa iz bi translated">使用您自己的域名</h2><p id="d4c6" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">如果 Alexa 开发者有一个由亚马逊路线 53 管理的域名，他们可以选择这个选项。</p><h2 id="d894" class="oh nl it bd nm oi oj dn nq ok ol dp nu lr om on nw lv oo op ny lz oq or oa iz bi translated">步骤 3-设置 AWS <strong class="ak">身份和访问管理(</strong> IAM)</h2><p id="28ab" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">在本节中，我们可以创建一个 AWS IAM 角色(带策略),它将由支持您的技能的 Lambda 函数使用。</p><ol class=""><li id="8278" class="ot ou it lk b ll lm lo lp lr ov lv ow lz ox md oy oz pa pb bi translated">导航到<a class="ae lh" href="https://console.aws.amazon.com/iam" rel="noopener ugc nofollow" target="_blank"> AWS IAM 控制台</a>。</li><li id="41a4" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">点击左侧菜单上的<strong class="lk jd">策略</strong>。</li><li id="292b" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">点击<strong class="lk jd">创建策略</strong>按钮。</li><li id="04ce" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">根据您的要求创建一个策略。</li><li id="3191" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">在左侧菜单中选择<strong class="lk jd">角色</strong>，点击<strong class="lk jd">创建角色</strong>按钮。</li><li id="d308" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">在<strong class="lk jd">选择可信实体类型</strong>下，选择<strong class="lk jd"> AWS 服务</strong>。</li><li id="9146" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">在<strong class="lk jd">选择将使用该角色的服务</strong>下，选择<strong class="lk jd">λ</strong>。</li><li id="15d0" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">点击<strong class="lk jd">下一步:权限</strong>按钮。</li><li id="a88d" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">搜索您之前创建的策略，并选中策略旁边的框。</li><li id="4806" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">点击<strong class="lk jd">下一步:标签</strong>按钮，然后点击<strong class="lk jd">下一步:查看</strong>按钮。</li><li id="ba9f" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">输入合适的名称并点击<strong class="lk jd">创建角色</strong>按钮。</li></ol><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qo"><img src="../Images/c9318e9826efcccdaee73955f8ff9c66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F0BMUo7yI0pXuhVgAthuXg.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 14: AWS IAM 创建策略和规则</p></figure><h2 id="00a3" class="oh nl it bd nm oi oj dn nq ok ol dp nu lr om on nw lv oo op ny lz oq or oa iz bi translated">步骤 4-设置 Alexa 技能</h2><p id="0db0" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">您可以通过您的亚马逊开发者帐户使用<a class="ae lh" href="https://developer.amazon.com/alexa/console/ask" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd"> Alexa 技能工具包开发者控制台</strong> </a>创建自己的 Alexa 技能:</p><h2 id="27ed" class="oh nl it bd nm oi oj dn nq ok ol dp nu lr om on nw lv oo op ny lz oq or oa iz bi translated">创建 AWS Lambda 函数</h2><p id="80a6" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">创建 AWS Lambda 函数。您可以从头开始创建 lambda 函数，或者使用现有的模板，或者从 AWS 无服务器应用程序存储库中部署一个示例 lambda 应用程序。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pw"><img src="../Images/3cf12b435528875fe12c637db074afdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sHgrLH8cNMJrUn12AKnQPw.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 15:创建 AWS Lambda 函数</p></figure><h2 id="f8b6" class="oh nl it bd nm oi oj dn nq ok ol dp nu lr om on nw lv oo op ny lz oq or oa iz bi translated"><strong class="ak">将技能与 Lambda 函数</strong>连接起来</h2><ol class=""><li id="743a" class="ot ou it lk b ll oc lo od lr qp lv qq lz qr md oy oz pa pb bi translated">复制您从 Amazon 控制台创建的 lambda 函数的 ARN。</li></ol><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qs"><img src="../Images/b52d45d6e58e0811cd0547658858c114.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sP28N8mmzWFHOcI8vAufLQ.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 16:创建的 Lambda 函数</p></figure><p id="f90d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">2.现在，导航到 Alexa 开发者控制台中的<strong class="lk jd">端点</strong>部分，点击<strong class="lk jd">AWSλARN</strong>并在<strong class="lk jd">默认区域</strong>下输入复制的 ARN。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pn"><img src="../Images/efd5a421013a02b3ae619aa3501b1ea1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eqk-6jpIeQVSGRVLuD9z0A.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 17:配置端点细节</p></figure><h2 id="ffa4" class="oh nl it bd nm oi oj dn nq ok ol dp nu lr om on nw lv oo op ny lz oq or oa iz bi translated"><strong class="ak">为技能</strong>配置账号链接</h2><ol class=""><li id="dde6" class="ot ou it lk b ll oc lo od lr qp lv qq lz qr md oy oz pa pb bi translated">在 Alexa 开发者控制台中，选择左侧菜单中的<strong class="lk jd">账户链接</strong>。</li><li id="b7c4" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">将以下选项设为“开”。</li></ol><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qt"><img src="../Images/f41db5384b0c6b932111aa90d4b5fabe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ZQNlVggaWLf_gPt9iIBkg.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 17:配置帐户链接 I</p></figure><p id="26f2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">3.接下来，在<strong class="lk jd">安全提供者信息</strong>下，输入以下配置。</p><p id="533a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">I)将<strong class="lk jd">授权码授权</strong>设置为授权授权类型。</p><p id="2af3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ii)通过将&lt; example_domain &gt;替换为您的域，将&lt; VID &gt;替换为您的 in vendor ID，设置<strong class="lk jd">授权 URI、</strong>以下 URL:<strong class="lk jd"><em class="nj">https://&lt;example _ domain&gt;/oauth 2/authorize？redirect _ URL = https://pitangui . Amazon . com/API/skill/link/&lt;VID&gt;</em>T5】</strong></p><p id="1d36" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">iii)设置<strong class="lk jd">访问令牌 URI </strong>，将&lt; your_domain &gt;替换为以下 URL 中的您的域:<strong class="lk jd">https://&lt;example _ domain&gt;/oauth 2/Token</strong></p><p id="0601" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">iv)根据您在 Cognito 上找到的相应值，设置<strong class="lk jd">客户端 ID </strong>和<strong class="lk jd">客户端密码</strong>。</p><p id="669d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">v)保留客户端验证方案为<strong class="lk jd"> HTTP Basic(推荐)</strong>。</p><p id="77f6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">vi)点击<strong class="lk jd"> +添加范围</strong>并输入 openid，<strong class="lk jd"> +添加范围</strong>并输入 profile 和 k <strong class="lk jd"> +添加范围</strong>并输入 aws.cognito.signin.user.admin</p><p id="73b1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">vii)点击<strong class="lk jd"> +添加域名</strong>，输入您的域名。请注意，此处应输入域列表值，不包括<a class="ae lh" href="https://." rel="noopener ugc nofollow" target="_blank"> https://。</a></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qu"><img src="../Images/65c98edde76fc768be8c77e9f83aaf9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F5fdiTRn0HYW8wszmOotlQ.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 18:配置帐户链接 II</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qv"><img src="../Images/2a6eca859208a5980f144b4e03ea68c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lnZ1uKvXPc71-JPN9PPrWQ.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 19:配置帐户链接 III</p></figure><p id="77ae" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">viii)就这些。点击<strong class="lk jd">保存</strong>按钮。</p><h2 id="4f7f" class="oh nl it bd nm oi oj dn nq ok ol dp nu lr om on nw lv oo op ny lz oq or oa iz bi translated">步骤 5 —测试</h2><p id="200a" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">现在，您可以通过 Beta 测试或登录您所在地区的 Alexa 网站来测试该技能。</p><p id="6424" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> I - Alexa Beta 测试</strong></p><ol class=""><li id="60ee" class="ot ou it lk b ll lm lo lp lr ov lv ow lz ox md oy oz pa pb bi translated">要进行 Beta 测试，请前往 Alexa 开发者控制台的<strong class="lk jd">发行版</strong>部分。</li><li id="6b91" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">用您各自的详细信息完成<strong class="lk jd">商店预览、隐私&amp;合规性和可用性</strong>部分。</li><li id="76a6" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">然后，在“可用性”下，您将被告知您的技能是否可以进行 Beta 测试。</li></ol><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qw"><img src="../Images/088d0ecc16226d584584ace3c982d90f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eIHfWgEnDcAaCBaNkOKhpw.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 20: Alexa 技能测试版测试</p></figure><p id="8bae" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">同样，您可以根据 Beta 测试的需要添加管理员和测试人员。</p><p id="4975" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> II-通过亚马逊进行测试</strong></p><ol class=""><li id="d8e7" class="ot ou it lk b ll lm lo lp lr ov lv ow lz ox md oy oz pa pb bi translated">使用你创建技能的同一个亚马逊开发者账号登录 Alexa 网站(<a class="ae lh" href="http://alexa.amazon.com" rel="noopener ugc nofollow" target="_blank"><strong class="lk jd">alexa.amazon.com</strong></a>)。</li><li id="6b72" class="ot ou it lk b ll pc lo pd lr pe lv pf lz pg md oy oz pa pb bi translated">导航到技能的详细信息页面。点击<strong class="lk jd">技能</strong>。点击<strong class="lk jd">你的技能</strong>。点击<strong class="lk jd">开发技能</strong>标签，找到你的 alexa 技能并点击它。</li></ol><p id="78fd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">通过以上两种方式中的任何一种，你都可以在测试模式下使用你的技能。接下来你会被提示<strong class="lk jd">启用</strong>你的技能。如果已经启用，点击<strong class="lk jd">设置</strong>，然后点击<strong class="lk jd">链接账户</strong>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qx"><img src="../Images/7740d2e9b8cea2db8d8607fb7e3330de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xbOajltEGIvfEKlSVhcqxw.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 21:账户链接</p></figure><p id="8559" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">3.接下来，将打开一个新的浏览器选项卡。点击<strong class="lk jd">注册</strong>创建用户。填充细节。回想一下，它们是您在创建用户池时启动的变量。接下来点击<strong class="lk jd">报名。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi qy"><img src="../Images/dde3f73e2356d2f95b2a9ced24337417.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*Ftw8uOV41XaHJIP17eNHdw.jpeg"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 22:用户登录</p></figure><p id="9019" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">4.接下来会出现一个窗口，要求输入验证码。输入您通过电子邮件收到的验证码，然后点击<strong class="lk jd">验证</strong>。现在，您的用户已被添加到用户池中。您可以通过导航到 Cognito Federated Identities 下<strong class="lk jd">常规设置</strong>中的<strong class="lk jd">用户和组</strong>来查看添加的用户。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pn"><img src="../Images/cc0ae02a840c3bf1336d01230935c176.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eGYsm-ff5_aM65GF0oDarQ.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 23:在 Cognito 用户池中创建的用户和组</p></figure><p id="2777" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">5.然后，再次单击登录，输入您刚才输入的帐户的电子邮件和密码。如果认证成功，你的技能和账号现在就关联了。您将获得以下成功标签。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qz"><img src="../Images/094f9106413ff932176b9a1eb5a36795.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0uUBxpTimCHCSF9gYtXYxQ.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 24:成功链接技能和账户</p></figure><p id="4730" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">返回亚马逊开发者控制台，导航到<strong class="lk jd">测试</strong>选项卡。使用你在创造技能时指定的话语来测试你的技能。以下是我的技能通过认证并与我的帐户关联后的快照。您可以在 JSON 编辑器中看到请求和成功的响应。Alexa 模拟器将显示个性化的结果。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi px"><img src="../Images/67760ec499da6918c814b20e8ebce4e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rIJfzeVYdEHh0kyddtPF0A.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图 25:账户链接后在 Alexa 模拟器中的测试技巧</p></figure><p id="6430" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，我们已经成功地将技能与用户帐户关联起来。</p><p id="092d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果您要使用另一种最常用的验证机制，如移动 OTP，也可以遵循相同的过程。您需要做的唯一修改是在 Cognito 用户池中设置<strong class="lk jd">电子邮件地址或电话号码</strong>并选择<strong class="lk jd">允许</strong> <strong class="lk jd">电话号码</strong>。然后在标准属性列表中选择<strong class="lk jd"> phone_number </strong>。</p><p id="79bb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">尽管如此，在使用移动 OTP 时，每个地区都有短信价格限制。但是，对于基于电子邮件的验证，没有此类限制。</p><p id="20c2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">希望你通过这篇博文清楚地了解了 Alexa 账户链接是如何工作的。如果你对这篇博文有任何问题或评论，请在下面留下你的评论。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ra"><img src="../Images/cfa856aff2b18858f21abfa493d9b1ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*suXGZiM4IfT1hAXkiLDz4g.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">来源:<a class="ae lh" href="https://www.pngfind.com/mpng/ihxhwTh_amazon-echo-png-amazon-and-alexa-transparent-png/" rel="noopener ugc nofollow" target="_blank">链接</a></p></figure><p id="a0ee" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">干杯，学习愉快！</p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><h2 id="9d99" class="oh nl it bd nm oi oj dn nq ok ol dp nu lr om on nw lv oo op ny lz oq or oa iz bi translated">参考</h2><p id="cd1b" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">[1]<a class="ae lh" href="https://developer.amazon.com/en-US/alexa/alexa-voice-service/what-is-avs" rel="noopener ugc nofollow" target="_blank">https://developer . Amazon . com/en-US/Alexa/Alexa-voice-service/what-is-AVS</a></p><p id="35aa" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae lh" href="https://www.qed42.com/blog/alexa-account-linking" rel="noopener ugc nofollow" target="_blank">https://www.qed42.com/blog/alexa-account-linking</a></p><p id="d201" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">[3]<a class="ae lh" href="https://developer.amazon.com/blogs/alexa/post/ab0901f8-5b18-483c-91ea-5d2347e117ca/how-to-set-up-alexa-account-linking-with-amazon-cognito-user-pools-to-create-a-personalized-customer-experience" rel="noopener ugc nofollow" target="_blank">https://developer . Amazon . com/blogs/Alexa/post/ab 0901 f 8-5b 18-483 c-91ea-5d 2347 e 117 ca/how-to-set-up-Alexa-account-linking-with-Amazon-cognito-user-pools-to-create-a-personalized-customer-experience</a></p><p id="4f59" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">[4]<a class="ae lh" href="https://www.digitaltrends.com/home/what-is-amazons-alexa-and-what-can-it-do/" rel="noopener ugc nofollow" target="_blank">https://www . digital trends . com/home/what-is-amazons-Alexa-and-what-can-it-do/</a></p><p id="d879" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">[5]<a class="ae lh" href="https://medium.com/@ankit81008/alexa-accountlinking-cognito-74a29243b1ca" rel="noopener">https://medium . com/@ ankit 81008/Alexa-account linking-cogn ITO-74a 29243 B1 ca</a></p></div></div>    
</body>
</html>