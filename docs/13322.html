<html>
<head>
<title>Exploring the gt (Grammar Of Tables) Package in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索 R 中的 gt(表格语法)包</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/exploring-the-gt-grammar-of-tables-package-in-r-7fff9d0b40cd?source=collection_archive---------12-----------------------#2020-09-13">https://towardsdatascience.com/exploring-the-gt-grammar-of-tables-package-in-r-7fff9d0b40cd?source=collection_archive---------12-----------------------#2020-09-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d712" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">轻松创建演示就绪的显示表格</h2></div><p id="27c3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我喜欢<a class="ae le" href="https://cran.r-project.org/web/packages/magrittr/index.html" rel="noopener ugc nofollow" target="_blank">米格里特的</a>前向管道<code class="fe lf lg lh li b">%&gt;%</code>操作员。在我看来，它是所有编程中最合适、最有用、最自然、几乎像反射一样的操作符之一。过去，它曾将<a class="ae le" href="https://www.tidyverse.org/" rel="noopener ugc nofollow" target="_blank"> tidyverse </a>推上了数据争论的超级明星之路，现在，它正冒险进入让表格变得极其简单的任务。</p><p id="fd22" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">gt 包是最新的雄心勃勃的条目，使 R 中的表格更容易访问、修改和复制。它的目标是成为餐桌的焦点(用哈德利的话来说，不是我的),考虑到前者对 R 即的巨大影响，这款套装肩负着巨大的压力。</p><figure class="lj lk ll lm gt ln"><div class="bz fp l di"><div class="lo lp l"/></div></figure><p id="ae09" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是 gt 包架构的示意图—</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi lq"><img src="../Images/52e141f879055cf25ab0536d9561623c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PCc6HC87TY_FSiQY8nMNUA.png"/></div></div><p class="lx ly gj gh gi lz ma bd b be z dk translated">表格布局的语法。来源— GT 文档，R Studio</p></figure><p id="783f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将使用帕尔默企鹅数据，这是现在臭名昭著的虹膜数据集的替代物。你可以在这里下载数据<a class="ae le" href="https://github.com/manasi1096/TidyTuesday/blob/master/31July/Penguins_clean.csv" rel="noopener ugc nofollow" target="_blank"/>！</p><p id="ebe4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在执行基本的 tidyverse 动词后，我们调用<code class="fe lf lg lh li b">gt()</code>命令并指定所需的行，以便按照所需的形状对数据进行过滤和分组。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mb"><img src="../Images/cc2726aaaa5c957b6377cd564bd680ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZxLjRtgLztgPJgoSWpUlwg.png"/></div></div></figure><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mc"><img src="../Images/46e2b643b3f8ac505f352323a3598b52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PyVHtbUmNrn0hFxgEWo1ow.jpeg"/></div></div></figure><p id="7269" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">添加柱扳手</strong></p><p id="624e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">显然，以上数据是创建的最简单、最原始的数据表。我们现在开始格式化它。我们首先添加列扳手，将公列和母列放入各自的罩中，并定制它们的字体和对齐方式。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi md"><img src="../Images/95617f48b8a7cd5671a65a559047a966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x2KNKGl62K3fYqCkuiBqmQ.png"/></div></div></figure><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi me"><img src="../Images/279d05df15e8c3de7177a96e5ad1811a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s6mIQafTOzWXEV3Sdn9cDQ.jpeg"/></div></div></figure><p id="a5bd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">创建行汇总统计&amp;格式数据</strong></p><p id="0efa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以添加一个描述性统计，指定表中每个指标的平均值或总数。这可以实现相对比较，并可以产生丰富的见解。在这里，我计算了每个岛屿的年平均喙长、喙深和鳍状肢，并将数字格式化为不含小数。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mf"><img src="../Images/cb527653c38ecf88004dacdc2fafd7c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zWSszNMZWR5kjHEk14OBsA.png"/></div></div></figure><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi me"><img src="../Images/f08b96b808c60c8b59d336b02f62edec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QznIXe2_ygEfM0Fu2ruDzQ.jpeg"/></div></div></figure><p id="2636" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">添加颜色&amp;脚注</strong></p><p id="e07c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在有趣的部分是，我使用了通过<code class="fe lf lg lh li b">palatteer</code>包提供的众多调色板中的一个，并根据表格所代表的单元格的数值对表格进行了有条件的着色。gt 包还提供了一个为表格添加脚注的功能。我在这里用它来说明测量喙长、喙深、鳍长和身体质量的标准。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mg"><img src="../Images/694cc232653e2315361ff7c2c7aecf42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zhZAlBgJXSOk168AL9xQSA.png"/></div></div></figure><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi me"><img src="../Images/cf2da76ff92590c9ed6f6e27eaa5395a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BnxOerz45DZo71kqtiKZ6w.jpeg"/></div></div></figure><p id="7012" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">添加表格标题，子标题&amp;更改列标签</strong></p><p id="c744" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然颜色给桌子带来了浮力，但标题还是很有必要的。该软件包还支持在标题/副标题中使用降价文本。这里我使用了<code class="fe lf lg lh li b">emo::ji </code>包在我的标题中添加了可爱的小企鹅表情符号。由于列标签仍然混乱，我还将&amp;格式的列表重命名为一个更短、更易读的标题。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mh"><img src="../Images/8db45db36b14894fc13188725bddc5bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ewR5jSCtK5az3h3d-Vn30g.png"/></div></div></figure><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mi"><img src="../Images/7da9e09e11ba0cfdb59e4abd16573945.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lmJ_N_Hy3xGaB4W66L40FQ.jpeg"/></div></div></figure><p id="eb06" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">添加背景颜色&amp;格式边框</strong></p><p id="4ea7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我知道继续添加自定义颜色到剩余的空白，即标题，副标题，行平均和脚注。我已经指定了所需的十六进制代码，参考<a class="ae le" href="https://colorbrewer2.org/#type=sequential&amp;scheme=Purples&amp;n=3" rel="noopener ugc nofollow" target="_blank">这款</a>彩色啤酒，以获得美学建议。我还为年份行添加了虚线边框，并沿岛屿行加厚了边框，以增强区分度和可读性。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mj"><img src="../Images/0459f0028d6935b1d031938d17f3e052.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dpi9NUwZGgiShhxAUXErBQ.png"/></div></div></figure><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi me"><img src="../Images/24f5df2ac2a8b16d5d9e1b123ee86091.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P5NcTX5vFwSEA7gWPeatzg.jpeg"/></div></div></figure><p id="4300" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">调整字体，对齐&amp;添加源注释</strong></p><p id="5cbc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为最后的点睛之笔，为了确保字体的一致性，我在表格上使用了 Oswald 字体，并使每个单元格居中对齐。最后，在脚注下面，我添加了一个 source-note 来说明数据来源。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mk"><img src="../Images/c7671bbb6033a5fe8bbf2e63d2105040.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QdI5Td0kbC8BaXazUKSu3A.png"/></div></div></figure><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ml"><img src="../Images/2e16677b357084d9940c0385cddfad33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0MR0UkAYtzOeIjqzMgrK2w.png"/></div></div></figure><p id="c40c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是最后的杰作！:D</p><p id="5d92" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">希望你喜欢阅读。可以联系我<a class="ae le" href="https://twitter.com/marvelsmanasi" rel="noopener ugc nofollow" target="_blank">这里</a> &amp; <a class="ae le" href="https://www.linkedin.com/in/manasi-mahadik-a66b26146/" rel="noopener ugc nofollow" target="_blank">这里</a>！</p></div></div>    
</body>
</html>