<html>
<head>
<title>What is Transposed Convolutional Layer?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是转置卷积层？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-is-transposed-convolutional-layer-40e5e6e31c11?source=collection_archive---------1-----------------------#2020-03-06">https://towardsdatascience.com/what-is-transposed-convolutional-layer-40e5e6e31c11?source=collection_archive---------1-----------------------#2020-03-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0f4d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过动画 gif 和<a class="ae kf" href="https://github.com/aqeelanwar/conv_layers_animation" rel="noopener ugc nofollow" target="_blank"> python 代码</a>解释</h2></div><p id="2f16" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">转置卷积层也被(错误地)称为解卷积层。解卷积层与标准卷积层的操作相反，即如果通过标准卷积层生成的输出被解卷积，则可以恢复原始输入。转置卷积层类似于去卷积层，因为两者生成的空间维度是相同的。转置卷积不按值反转标准卷积，而是只按维度反转。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/9b949f409706db9760d0833591a7a1f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gjDHvfY6XELWPZ50rqFs1A.png"/></div></div></figure><p id="0f1c" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">转置卷积层的功能与标准卷积层完全相同，只是对输入特征映射进行了修改。在解释相似性之前，我们先来看看标准卷积层是如何工作的。</p><h2 id="3bc4" class="lo lp iq bd lq lr ls dn lt lu lv dp lw kp lx ly lz kt ma mb mc kx md me mf mg bi translated">标准卷积层:</h2><p id="5a27" class="pw-post-body-paragraph kg kh iq ki b kj mh jr kl km mi ju ko kp mj kr ks kt mk kv kw kx ml kz la lb ij bi translated">大小为<strong class="ki ir"> <em class="mm"> ixi </em> </strong>的输入上的标准卷积层由以下两个参数定义。</p><ul class=""><li id="bbcd" class="mn mo iq ki b kj kk km kn kp mp kt mq kx mr lb ms mt mu mv bi translated"><strong class="ki ir">填充</strong><strong class="ki ir"><em class="mm">【p】:</em></strong>原输入周围填充的零的个数增加到<strong class="ki ir"><em class="mm">(I+2 * p)x(I+2 * p)</em></strong></li><li id="817b" class="mn mo iq ki b kj mw km mx kp my kt mz kx na lb ms mt mu mv bi translated"><strong class="ki ir">步幅</strong> <strong class="ki ir"> <em class="mm"> (s): </em> </strong>在输入图像上滑动时内核移动的量。</li></ul><p id="5677" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">下图显示了卷积层如何分两步工作。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nb"><img src="../Images/b071cfe17e6b5b32fb0218d1c1990713.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gYAQUBj741P5-gbuboXfMA.png"/></div></div></figure><p id="538d" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">在第一步中，用零填充输入图像，而在第二步中，将内核放置在填充的输入上并滑动，生成作为内核和重叠输入区域的点积的输出像素。通过进行由步幅定义的大小的跳跃，内核滑过填充的输入。卷积层通常进行下采样，即输出的空间维度小于输入的空间维度。</p><p id="1387" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">下面的动画解释了卷积层在不同跨距和填充值下的工作原理。</p><div class="ld le lf lg gt ab cb"><figure class="nc lh nd ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><img src="../Images/33473439f79cbd9cdf01171d7ced6f50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*YvlCSNzDEBGEWkZWNffPvw.gif"/></div></figure><figure class="nc lh nd ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><img src="../Images/ce5349debbeb800200d958ad93573ab2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*gXAcHnbTxmPb8KjSryki-g.gif"/></div></figure></div><div class="ab cb"><figure class="nc lh nd ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><img src="../Images/c7c292034d619d40c16d23992a325587.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*34_365CJB5seboQDUrbI5A.gif"/></div></figure><figure class="nc lh nd ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><img src="../Images/3f38268fb9ae04fb574537c18e42b189.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*WpOcRWlofm0Z0EDUTKefzg.gif"/></div></figure></div><p id="59b0" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">对于给定尺寸的输入<strong class="ki ir"> <em class="mm"> (i) </em> </strong>、内核<strong class="ki ir"> <em class="mm"> (k) </em> </strong>、填充<strong class="ki ir"><em class="mm">(p)</em></strong>和步幅<em class="mm"><strong class="ki ir">(s)</strong></em>，输出特征图的尺寸由下式给出</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ni"><img src="../Images/88850f1f93fbeacd779ef550d4bccad2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6OdZgz15qxMQKjp70Z30Kw.png"/></div></div></figure><h2 id="f222" class="lo lp iq bd lq lr ls dn lt lu lv dp lw kp lx ly lz kt ma mb mc kx md me mf mg bi translated">转置卷积层:</h2><p id="6af5" class="pw-post-body-paragraph kg kh iq ki b kj mh jr kl km mi ju ko kp mj kr ks kt mk kv kw kx ml kz la lb ij bi translated">另一方面，转置卷积层通常用于上采样，即生成空间维度大于输入特征图的输出特征图。正如标准卷积层一样，转置卷积层也是由填充和步幅定义的。padding 和 stride 的这些值是假设对输出执行以生成输入的值。也就是说，如果您获取输出，并执行定义了步幅和填充的标准卷积，它将生成与输入相同的空间维度。</p><p id="683b" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">实现转置卷积层可以更好地解释为 4 步过程</p><ul class=""><li id="d537" class="mn mo iq ki b kj kk km kn kp mp kt mq kx mr lb ms mt mu mv bi translated"><strong class="ki ir">步骤 1: </strong>计算新的参数 z 和 p’</li><li id="3921" class="mn mo iq ki b kj mw km mx kp my kt mz kx na lb ms mt mu mv bi translated"><strong class="ki ir">第二步:</strong>在输入的每一行和每一列之间，插入 z 个零。这增加了输入到<strong class="ki ir">的大小<em class="mm">(2 * I-1)</em>×2 * I-1)</strong></li><li id="5a89" class="mn mo iq ki b kj mw km mx kp my kt mz kx na lb ms mt mu mv bi translated"><strong class="ki ir">步骤 3: </strong>用 p’个零填充修改后的输入图像</li><li id="228f" class="mn mo iq ki b kj mw km mx kp my kt mz kx na lb ms mt mu mv bi translated"><strong class="ki ir">步骤 4: </strong>以步长 1 对步骤 3 生成的图像进行标准卷积</li></ul><p id="4b14" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">完整的步骤如下图所示。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nj"><img src="../Images/50d9c49c2ec5f343bd593dd36553a134.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*54-7typHLLXhdvAhlku9SQ.png"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">作者图片</p></figure><p id="bb9d" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">下面的动画解释了卷积层在不同跨距和填充值下的工作原理。</p><div class="ld le lf lg gt ab cb"><figure class="nc lh nd ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><img src="../Images/c5473c7fd7cf70221d72e10ee2205fc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*SpxCUPzNfb9C8TiAcrRr5A.gif"/></div></figure><figure class="nc lh nd ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><img src="../Images/670154873acdb0b506090ad00e917dd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*gff0oa2iPygyCEjj7Fb3yg.gif"/></div></figure></div><div class="ab cb"><figure class="nc lh nd ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><img src="../Images/bb25f8594f7472508c02b40b6bd9ed3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*WaBzh5OkmD-9EBLy5aXiug.gif"/></div></figure><figure class="nc lh nd ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><img src="../Images/724c36f0e93fd680065c3f01f8381023.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*L_hJRnywTpeTFJAaVZTRfQ.gif"/></div></figure></div><p id="81d2" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">对于给定尺寸的输入<strong class="ki ir"> <em class="mm"> (i) </em> </strong>、内核<strong class="ki ir"> <em class="mm"> (k) </em> </strong>、填充<strong class="ki ir"><em class="mm">(p)</em></strong>和步幅<strong class="ki ir"> <em class="mm"> (s) </em> </strong>，输出的尺寸特征图<strong class="ki ir"><em class="mm">【o】</em></strong>由下式给出</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi no"><img src="../Images/ae4b7d6ca2ad9e191247296d2922ba15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Bh5FuM2B6UAM9DC_-j95Q.png"/></div></div></figure><h2 id="51e1" class="lo lp iq bd lq lr ls dn lt lu lv dp lw kp lx ly lz kt ma mb mc kx md me mf mg bi translated">总结:</h2><p id="263a" class="pw-post-body-paragraph kg kh iq ki b kj mh jr kl km mi ju ko kp mj kr ks kt mk kv kw kx ml kz la lb ij bi translated">下表总结了两种卷积，标准卷积和转置卷积。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi np"><img src="../Images/3c3f461997dbc5dd82b607c6236608c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zbVS6lHvo9J4aRZeE-77lA.png"/></div></div></figure><ul class=""><li id="2cfe" class="mn mo iq ki b kj kk km kn kp mp kt mq kx mr lb ms mt mu mv bi translated">转置卷积背后的思想是执行可训练的上采样</li><li id="3d50" class="mn mo iq ki b kj mw km mx kp my kt mz kx na lb ms mt mu mv bi translated">转置卷积是标准卷积，但是具有修改的输入特征映射。</li><li id="eb61" class="mn mo iq ki b kj mw km mx kp my kt mz kx na lb ms mt mu mv bi translated">步幅和填充<strong class="ki ir">与</strong>并不对应于图像周围添加的零的数量以及在输入上滑动图像时内核的移动量，这与标准卷积运算中的情况不同。</li></ul><h2 id="c4cf" class="lo lp iq bd lq lr ls dn lt lu lv dp lw kp lx ly lz kt ma mb mc kx md me mf mg bi translated">Python 代码:</h2><p id="6606" class="pw-post-body-paragraph kg kh iq ki b kj mh jr kl km mi ju ko kp mj kr ks kt mk kv kw kx ml kz la lb ij bi translated">gif 是用 python 生成的。完整的代码可以在<a class="ae kf" href="https://github.com/aqeelanwar/conv_layers_animation" rel="noopener ugc nofollow" target="_blank">https://github.com/aqeelanwar/conv_layers_animation</a>找到</p><h1 id="ab68" class="nq lp iq bd lq nr ns nt lt nu nv nw lw jw nx jx lz jz ny ka mc kc nz kd mf oa bi translated">奖金:</h1><p id="f2a1" class="pw-post-body-paragraph kg kh iq ki b kj mh jr kl km mi ju ko kp mj kr ks kt mk kv kw kx ml kz la lb ij bi translated">可以在下面的链接中找到这个主题和机器学习中许多其他重要主题的紧凑备忘单</p><div class="ob oc gp gr od oe"><a href="https://medium.com/swlh/cheat-sheets-for-machine-learning-interview-topics-51c2bc2bab4f" rel="noopener follow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">机器学习面试主题的备忘单</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">ML 面试的视觉备忘单(www.cheatsheets.aqeel-anwar.com)</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">medium.com</p></div></div><div class="on l"><div class="oo l op oq or on os lm oe"/></div></div></a></div></div><div class="ab cl ot ou hu ov" role="separator"><span class="ow bw bk ox oy oz"/><span class="ow bw bk ox oy oz"/><span class="ow bw bk ox oy"/></div><div class="ij ik il im in"><p id="5f06" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">如果这篇文章对你有帮助，欢迎鼓掌、分享和回复。如果你想了解更多关于机器学习和数据科学的知识，请关注我@<a class="pa pb ep" href="https://medium.com/u/a7cc4f201fb5?source=post_page-----40e5e6e31c11--------------------------------" rel="noopener" target="_blank"><strong class="ki ir">Aqeel an war</strong></a><strong class="ki ir">或者在</strong><a class="ae kf" href="https://www.linkedin.com/in/aqeelanwarmalik/" rel="noopener ugc nofollow" target="_blank"><strong class="ki ir"><em class="mm">LinkedIn</em></strong></a><strong class="ki ir"><em class="mm">上与我联系。</em> </strong></p></div></div>    
</body>
</html>