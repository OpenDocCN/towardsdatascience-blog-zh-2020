# ç”¨ Python NumPy è¿›è¡Œé¢å‘æ•°ç»„çš„ç¼–ç¨‹

> åŸæ–‡ï¼š<https://towardsdatascience.com/array-oriented-programming-with-python-numpy-e0190dd6ab65?source=collection_archive---------11----------------------->

## å†è§å¹³åŸï¼Œè€ For-loopsï¼ä½ å¥½ Numpy æ•°ç»„ï¼

![](img/ce138238b177741f4c7362d2128a9c9b.png)

# NumPy ç®€ä»‹

NumPy æ˜¯æœ€å—æ¬¢è¿çš„ç”¨äºé«˜æ€§èƒ½æ•°ç»„å®ç°çš„ Python åº“:æ•°ç»„ä¸Šçš„æ“ä½œæ¯”åˆ—è¡¨ä¸Šçš„æ“ä½œå¿«å¾—å¤šï¼Œè¿™åœ¨å¤§æ•°æ®ä¸–ç•Œä¸­å¯ä»¥æ”¾å¤§è¿è¡Œæ—¶å·®å¼‚ã€‚æ ¹æ® [libraries.io](https://libraries.io/pypi/numpy/dependents) (æˆªè‡³ 2020 å¹´ 4 æœˆ)4K çš„å›¾ä¹¦é¦†ä¾èµ– NumPyï¼ŒåŒ…æ‹¬æœ€æµè¡Œçš„æ•°æ®ç§‘å­¦åŒ…ï¼ŒPandas å’Œ SciPyã€‚

NumPy çš„ç¾å¦™ä¹‹å¤„åœ¨äºå®ƒæä¾›äº†é¢å‘æ•°ç»„çš„ç¼–ç¨‹é£æ ¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒæä¾›äº†å¸¦æœ‰å†…éƒ¨è¿­ä»£çš„**å‡½æ•°å¼**ã€**çŸ¢é‡åŒ–**æ“ä½œï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ¡ä»¶ for å¾ªç¯(æˆ– n ç»´æ—¶çš„åµŒå¥— for å¾ªç¯)æ¥å¤„ç†æ•°ç»„å…ƒç´ ï¼Œè¿™ä½¿å¾—æ•°ç»„æ“ä½œæ›´ç®€å•ã€æ›´ç®€æ´ã€‚

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œä½ å°†å‘ç°ä»åˆçº§åˆ°é«˜çº§çš„æ‰€æœ‰ä½ éœ€è¦çŸ¥é“çš„ä¸œè¥¿ï¼Œè¶…è¿‡ 10 ä¸ªç»¼åˆä¸»é¢˜ã€‚ä½†æ˜¯å¦‚æœä½ æ˜¯å·²ç»è¿›é˜¶çš„äººï¼Œä¸è¦å®³æ€•ï¼æ‚¨å¯ä»¥ ***ç›´æ¥è·³åˆ°æœ€åä¸¤ä¸ªéƒ¨åˆ†([é«˜çº§](#4ac5) & [ä¸“å®¶](#fa1d))ï¼Œåœ¨é‚£é‡Œå°†è§£å†³æ•°ç»„å®šå‘çš„â€œç—‡ç»“â€ä»¥åŠåŸºæœ¬çš„æ€§èƒ½æŠ€å·§ã€‚æœ€åï¼Œæ‚¨å°†èƒ½å¤Ÿå°†æ‚¨çš„è¿‡ç¨‹åŒ–ç¼–ç¨‹é£æ ¼è½¬å˜ä¸ºä¼˜é›…ã€å¿«é€Ÿã€æ— å¾ªç¯ã€åŸºäºæ•°ç»„çš„é£æ ¼ã€‚***

> æˆ‘ä»¬å¼€å§‹å§ã€‚ã€‚ã€‚

![](img/b331f52f9a2433e1d0027ac2fa04e805.png)

# âŠ â€”é˜µåˆ—åˆ›å»º

å¯¼å…¥ NumPy `import numpy as np`åï¼Œæˆ‘ä»¬å‡†å¤‡æ»šåŠ¨:

## ä¸€ç»´

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ é€’å…ƒç´ åˆ—è¡¨æ¥åˆ›å»ºæ•°ç»„ï¼›æœ¬ä¾‹ä¸­çš„æ•´æ•°:
`array = np.array([1, 2, 3, 5, 8, 13, 21])`

ğŸ“Œæ‚¨èƒ½åœ¨è¾“å‡ºä¸­æ³¨æ„åˆ°ä¸€äº›æœ‰è¶£çš„ä¸œè¥¿å—ï¼Ÿ

![](img/6e306d3be3e1b664e73ca93dd47ef537.png)

æ‰€æœ‰é€—å·åˆ†éš”çš„å€¼å®½åº¦ç›¸åŒï¼Œå¹¶ä¸”å³å¯¹é½ã€‚ç”±äºæœ€å¤§æ•°å­— 21 å æ® 2 ä¸ªä½ç½®ï¼Œæ‰€æœ‰å…¶ä»–å€¼éƒ½è¢«æ ¼å¼åŒ–ä¸ºä¸¤ä¸ªå­—ç¬¦çš„å­—æ®µã€‚ç°åœ¨ä½ çŸ¥é“ä¸ºä»€ä¹ˆåœ¨[å’Œ 1 ä¹‹é—´æœ‰ä¸€ä¸ªå‰å¯¼ç©ºæ ¼äº†ã€‚ğŸ˜

## å¤šç»´åº¦

æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª 2 è¡Œ 3 åˆ—çš„æ•°ç»„ï¼Œä¼ é€’ä¸¤ä¸ªåµŒå¥—çš„åˆ—è¡¨ï¼Œæ¯ä¸ªåˆ—è¡¨åŒ…å«ä¸‰ä¸ªå…ƒç´ :
`array2x3 = np.array([[1, 2, 3], [10, 20, 30]])`

![](img/97d474daefdb82c06743747c35a36e3c.png)

è¾“å‡ºçš„æ ¼å¼åŸºäºç»´åº¦çš„æ•°é‡ï¼Œå¯¹é½æ¯è¡Œä¸­çš„åˆ—:æ­£å¦‚æˆ‘ä»¬çœ‹åˆ°çš„ï¼Œ1 å’Œ 10 å¯¹é½ï¼Œ2 å’Œ 20 å¯¹é½ï¼Œç­‰ç­‰ã€‚

## é˜µåˆ—å½¢çŠ¶

æˆ‘ä»¬å¯ä»¥ç”¨`shape`å±æ€§ç¡®å®šæ•°ç»„çš„å½¢çŠ¶ï¼Œè¯¥å±æ€§è¿”å›ä¸€ä¸ªå…·æœ‰ç»´åº¦çš„å…ƒç»„:

![](img/5b81e6810031d73ede35e3133d43e57e.png)

ä»¥åŠå¸¦æœ‰`ndim`å±æ€§çš„ç»´æ•°(å³æ•°ç»„çš„ç§©)ï¼Œå¦‚ä¸‹æ‰€ç¤º:

![](img/5ce726aeb71f8ebd606a026a81e78a4d.png)

`ndim`ä¸æ•°ç»„å½¢çŠ¶è¾“å‡ºçš„è½´æ•°æˆ–é•¿åº¦(`len`ç›¸åŒ:

![](img/15ed8464f5d8f8f2ef996f5d328ec1f6.png)

## å…ƒç´ æ•°é‡

ä½¿ç”¨å±æ€§`size`æˆ‘ä»¬å¯ä»¥å¾—åˆ°æ•°ç»„çš„å…ƒç´ æ€»æ•°:

![](img/bc4c23142e76c4abacb941bf4e90334e.png)

## å…ƒç´ ç±»å‹å’Œå…ƒç´ å¤§å°

ç”±äº NumPy æ˜¯ç”¨ C ç¼–å†™çš„ï¼Œæ‰€ä»¥å®ƒä½¿ç”¨å®ƒçš„æ•°æ®ç±»å‹ã€‚å› æ­¤ï¼Œæ•´æ•°è¢«å­˜å‚¨ä¸º`int64`å€¼â€”â€”åœ¨ c #ä¸­å¯¹åº”äº 64 ä½(å³ 8 å­—èŠ‚)æ•´æ•°ã€‚

é€šè¿‡è®¿é—®`dtype`å±æ€§ï¼Œç¡®å®šæ•°ç»„çš„å…ƒç´ ç±»å‹å¾ˆå®¹æ˜“:

![](img/1433be9cc486d79d417813ab6c25bae2.png)

ä»¥åŠå­˜å‚¨æ¯ä¸ªå…ƒç´ æ‰€éœ€çš„å­—èŠ‚æ•°ï¼Œé€šè¿‡è®¿é—®`itemsize`:

![](img/1835799e048a6e322faa8511377271c2.png)

## å­˜å‚¨å®¹é‡

å†…å­˜å ç”¨(`nbytes`)æ˜¯å…ƒç´ æ•°ä¹˜ä»¥å­—èŠ‚æ•°ã€‚

![](img/a7cb097c1bcca4d661c2ebf5e43c507f.png)

## å¸¸è§æ•°ç»„

ä¸ºäº†ç”¨ç‰¹å®šçš„å€¼å¡«å……æ•°ç»„ï¼ŒNumPy æä¾›äº†ä¸‰ä¸ªç‰¹æ®Šçš„å‡½æ•°:`zeros`ã€`ones`å’Œ`full`ï¼Œåˆ†åˆ«åˆ›å»ºåŒ…å« 0ã€1 æˆ–ç‰¹å®šå€¼çš„æ•°ç»„ã€‚è¯·æ³¨æ„ï¼Œé›¶å’Œä¸€åŒ…å«`float64`å€¼ï¼Œä½†æ˜¯æˆ‘ä»¬æ˜¾ç„¶å¯ä»¥å®šåˆ¶å…ƒç´ ç±»å‹ã€‚

*   0 çš„ 1D æ•°ç»„:`zeros = np.zeros(5)`

![](img/c43971ef5e042e2b8ef7375dccfbe000.png)

*   æ•´æ•°ç±»å‹çš„ 0 çš„ 1D æ•°ç»„:`zeros_int = np.zeros(5, dtype = int)`

![](img/4d9f9c27d129078f8567b738cfb3bb2b.png)

*   1 çš„ 2D æ•°ç»„(2x 5):`ones = np.ones((2, 5))`

![](img/816ba398a5790c3e319e2cf4229828c6.png)

*   7 çš„ 2D é˜µåˆ—(2x 5):`full = np.full((2, 5), 7)`

![](img/6cc7abcc182df734752e76bb8b92b25a.png)

## å‡åŒ€åˆ†å¸ƒçš„èŒƒå›´

NumPy ä¸ºä»èŒƒå›´åˆ›å»ºæ•°ç»„æä¾›äº†ä¼˜åŒ–çš„å‡½æ•°ã€‚åˆ›å»ºå‡åŒ€é—´éš”èŒƒå›´çš„ä¸¤ä¸ªæœ€é‡è¦çš„å‡½æ•°æ˜¯`arange`å’Œ`linspace`ï¼Œåˆ†åˆ«ç”¨äºæ•´æ•°å’Œæµ®ç‚¹ã€‚

**â—¼ï¸æ•´æ•°:ç»™å®šåŒºé—´** `np.arange(start, stop, step)`:åœ¨åŠå¼€åŒºé—´`[start, stop)`å†…äº§ç”Ÿå€¼ï¼Œå³åŒ…æ‹¬å¯åŠ¨ä½†ä¸åŒ…æ‹¬åœæ­¢çš„åŒºé—´ã€‚é»˜è®¤`start`å€¼ä¸º 0ï¼Œé»˜è®¤`step`å¤§å°ä¸º 1ã€‚

*   èŒƒå›´ä» 0 åˆ° 4ï¼Œå¢é‡ä¸º 1:
    T21
*   èŒƒå›´ä» 5 åˆ° 9ï¼Œå¢é‡ä¸º 1:
    `np.arange(5, 10)`
*   èŒƒå›´ä» 2 åˆ° 8ï¼Œå¢é‡ä¸º 2:
    `np.arange(2, 10, 2)`
*   èŒƒå›´ä» 8 åˆ° 2ï¼Œå¢é‡ä¸º-2:
    `np.arange(8, 0, -2)`

![](img/f2ee3954548a1b8b458780a1f4bebe0e.png)

**â—¼ï¸æµ®ç‚¹æ•°:ç»™å®šå…ƒç´ çš„ä¸ªæ•°** `np.linspace(start, stop, num, endpoint)`:è¿”å›`num`ä¸ªé—´éš”å‡åŒ€çš„æ ·æœ¬ï¼Œåœ¨é—´éš”`[start, stop]`å†…è®¡ç®—ã€‚é—´éš”çš„`endpoint`å¯ä»¥é€‰æ‹©æ’é™¤ã€‚é»˜è®¤`num`å€¼ä¸º 50ï¼Œé»˜è®¤`endpoint`ä¸ºçœŸã€‚

*   5 ä» 1.0 åˆ° 2.0(ä¸åŒ…æ‹¬ 2.0)çš„ç­‰é—´è·å…ƒç´ :
    `np.linspace(1, 2, num = 5, endpoint = False)`
*   5 ä» 1.0 åˆ° 2.0(åŒ…æ‹¬ 2.0)çš„ç­‰é—´è·å…ƒç´ :
    `np.linspace(1, 2, num = 5, endpoint = True)`

![](img/7ca81bd22f12b5353bd5db47a44e4bc8.png)

> *ğŸ’¡è™½ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†èŒƒå›´ä½œä¸ºå‚æ•°ä¼ é€’æ¥åˆ›å»ºæ•°ç»„ï¼Œä½†æˆ‘ä»¬æ€»æ˜¯æ›´å–œæ¬¢å†…ç½®å‡½æ•°ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ä¼˜åŒ–æ€§èƒ½ã€‚*

## éšæœºèŒƒå›´

ä¸ºäº†ç”ŸæˆéšæœºèŒƒå›´ï¼ŒNumPy æä¾›äº†ä¸€äº›é€‰é¡¹ï¼Œä½†ä»¥ä¸‹æ˜¯æœ€å¸¸ç”¨çš„:

**æ¥è‡ª[0ï¼Œ1)** `np.random.rand(d0, d1, ...)`ä¸Šçš„å‡åŒ€åˆ†å¸ƒçš„â—¼ï¸éšæœºæ ·æœ¬ï¼Œå…¶ä¸­`dn`æ˜¯æ•°ç»„ç»´æ•°:

*   å…·æœ‰ 5 ä¸ªéšæœºæ ·æœ¬çš„ 1D é˜µåˆ—:
    `np.random.rand(5)`
*   2 è¡Œ 5 ä¸ªéšæœºæ ·æœ¬çš„ 2D é˜µåˆ—:
    `np.random.rand(2, 5)`

![](img/9578ca9913d0ae828a2fa27ee6c5a251.png)

**â—¼ï¸éšæœºæ•´æ•°** `np.random.randint(low, high, size)`:è¿”å›ä»`low`(å«)åˆ°`high`(ä¸å«)çš„éšæœºæ•´æ•°ã€‚å¦‚æœ`high`ä¸ºæ— (é»˜è®¤)ï¼Œåˆ™ç»“æœæ¥è‡ª`[0, low)`ã€‚

*   ä» 1 åˆ° 99 çš„ 10 ä¸ªéšæœºæ•´æ•°:
    `np.random.randint(low = 1, high = 100, size = 10)`

![](img/a79c99605fa4487f159b2a6ca7d16d0e.png)

# â‹ â€”ç´¢å¼•

## ä¸€ç»´

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·ä¸­çš„ä»**é›¶å¼€å§‹çš„**ç´¢å¼•æ¥å¼•ç”¨æ•°ç»„å…ƒç´ ï¼Œä¾‹å¦‚åœ¨ä¸€ä¸ªäº”å…ƒç´ æ•°ç»„ä¸­ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ ç”±`[0]`è®¿é—®ï¼Œæœ€åä¸€ä¸ªç”±`[4]`è®¿é—®ã€‚

ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨è´Ÿçš„ç´¢å¼•ä»æœ«å°¾è®¿é—®æ•°ç»„ï¼Œä»æœ€åä¸€ä¸ªå…ƒç´ çš„-1 å¼€å§‹ã€‚æ‰€ä»¥åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæœ€åä¸€ä¸ªå…ƒç´ (`[4]`)å¯ä»¥ç”¨`[-1]`è®¿é—®ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå…ƒç´ (`[0]`)å¯ä»¥ç”¨`[-5]`è®¿é—®:

![](img/ff9ba097c673c8bf3935daaf4db810e6.png)

æ‰€ä»¥åœ¨è¿™ä¸ªé˜µä¸­:
`array1D = np.array([0, 1, 2, 3, 4])`

![](img/718aa4df7a7d4ca71bd497b756ab9624.png)

æˆ‘ä»¬å¯ä»¥é€‰æ‹©ç¬¬ä¸‰ä¸ªå…ƒç´ :`array1D[2]`

![](img/950cec9dacd632c952a5b32f3fed9268.png)

æˆ–è€…ä»ç»“å°¾å¼€å§‹:`array1D[-3]`

![](img/33cd1ab1db072a886d00ca4a982e5348.png)

## å¤šç»´åº¦

2D æ•°ç»„å¯ä»¥ç”¨è¿™ä¸ªç¬¦å·æ¥è®¿é—®:`[row_index, column_index]`ã€‚

æ‰€ä»¥åœ¨è¿™ä¸ªå®ä¾‹ä¸­:
`array2D = np.array([[0, 1, 2, 3, 4], [5, 6, 7, 8, 9]])`

![](img/e6693c48125a1b33391c9f8d385894d0.png)

æˆ‘ä»¬å¯ä»¥é€šè¿‡`array2D[1, 2]`é€‰æ‹©ç¬¬ 2 è¡Œç¬¬ 3 åˆ—çš„å…ƒç´ 

![](img/c9d833cea5781d4bd971798dbafe9cfc.png)

# âŒ â€”åˆ‡ç‰‡

ä½¿ç”¨`[first:last]`ç¬¦å·å°†æ•°ç»„åˆ†å‰²æˆåŸå§‹å…ƒç´ çš„å­é›†ï¼Œè¿™å°†è¿”å›ä¸€ä¸ªåŒ…å«ä»ç´¢å¼•`first`åˆ°`last-1`çš„å…ƒç´ çš„å­æ•°ç»„ã€‚

â†’å¦‚æœçœç•¥`first`ï¼Œåˆ™å‡è®¾ä¸º 0ï¼Œå› æ­¤è¿”å›ä»å¼€å§‹åˆ°`last-1`çš„å…ƒç´ ã€‚
â†’å¦‚æœçœç•¥`last`ï¼Œåˆ™å‡å®šæ•°ç»„çš„é•¿åº¦ï¼Œå› æ­¤è¿”å›ä»`first`åˆ°æœ«å°¾çš„å…ƒç´ ã€‚
â†’å¦‚æœ`first`å’Œ`last`éƒ½çœç•¥ï¼Œåˆ™è¿”å›æ•´ä¸ªæ•°ç»„ã€‚

## ä¸€ç»´

å»¶ç»­ä¹‹å‰çš„`array1D`ç¤ºä¾‹:

*   å…·æœ‰ç¬¬ 2 å’Œç¬¬ 3 ä¸ªå…ƒç´ çš„å­æ•°ç»„(ä»ç´¢å¼• 1 åˆ° 2):
    `array1D[1:3]`
*   å…·æœ‰å‰ 3 ä¸ªå…ƒç´ çš„å­æ•°ç»„(ä»å¼€å§‹åˆ°ç´¢å¼• 2):
    `array1D[:3]`
*   å…·æœ‰æœ€å 3 ä¸ªå…ƒç´ çš„å­æ•°ç»„(ä»ç¬¬ 2 ä¸ªç´¢å¼•åˆ°ç»“å°¾):
    `array1D[2:]`
*   åŒ…å«æ‰€æœ‰å…ƒç´ çš„å­æ•°ç»„:
    `array1D[:]`

![](img/6adf30c918569e4c7ed2867faf7c4bcb.png)

## å¤šç»´åº¦

ç±»ä¼¼çš„åŸç†ä¹Ÿé€‚ç”¨äº 2D æ•°ç»„ï¼Œæ‰€ä»¥åˆ‡ç‰‡ä½¿ç”¨è¿™ä¸ªç¬¦å·:
`[row_first:row_last, column_first:column_last]`ã€‚

â†’è¦é€‰æ‹©å¤šè¡Œï¼Œæˆ‘ä»¬ä½¿ç”¨:`[row_first:row_last, :]`ã€‚
â†’è¦é€‰æ‹©å¤šä¸ªåˆ—ï¼Œæˆ‘ä»¬ä½¿ç”¨:`[:, column_first:column_last]`ã€‚

æ‰¿æ¥å‰é¢`array2D`çš„ä¾‹å­:

*   ä»è¡Œç´¢å¼• 0 åˆ° 1 å’Œåˆ—ç´¢å¼• 1 åˆ° 2 çš„å­ 2D æ•°ç»„
    `array2D[0:2, 1:3]`
*   ä»å¼€å§‹åˆ°ç´¢å¼• 2 æœ‰å¤šåˆ—çš„å­ 2D æ•°ç»„:
    `array2D[:, :3]`
*   ä»ç´¢å¼• 1 åˆ°ç»“å°¾æœ‰å¤šè¡Œçš„å­ 2D æ•°ç»„:
    `array2D[1:, :]`
*   åŒ…å«æ‰€æœ‰å…ƒç´ çš„å­æ•°ç»„:
    `array2D[:, :]`

![](img/22f2596cd3ca5238b00f0c0ff7d64016.png)

ä¸‹ä¸€èŠ‚æˆ‘ä»¬å°†è§£é‡Šä¸ºä»€ä¹ˆ Numpy å­æ•°ç»„åªæ˜¯è§†å›¾ï¼

![](img/579c204618b464b30be62cc6f9220a10.png)

# â â€”å¤å°

## æµ…è–„çš„æ–‡æ¡ˆ/è§‚ç‚¹

åˆ‡ç‰‡ä¸ä¼šä¿®æ”¹åŸå§‹æ•°ç»„ã€‚æ–°åˆ›å»ºçš„æ•°ç»„ä½¿åŸå§‹å…ƒç´ çš„ ***æµ…*** å‰¯æœ¬(æˆ– ***è§†å›¾*** )è¿™æ„å‘³ç€å®ƒå¤åˆ¶å…ƒç´ çš„å¼•ç”¨ï¼Œä½†ä¸å¤åˆ¶å®ƒä»¬æ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚

æ¢å¥è¯è¯´ï¼Œå¯¹æ–°åˆ›å»ºçš„æ•°ç»„çš„ä»»ä½•ä¿®æ”¹ä¹Ÿå°†åæ˜ åœ¨åŸå§‹æ•°ç»„ä¸­ã€‚

è¿™é‡Œæ˜¯ä¸€ä¸ªæ–°åˆ›å»ºçš„æœ‰ 10 ä¸ªå…ƒç´ çš„æ•°ç»„:
`originalArray = np.arange(0, 10)`

![](img/5a7a0fe914073bf00f1d222e87f4fc29.png)

æˆ‘ä»¬é€šè¿‡é€‰æ‹©æœ€å 5 ä¸ªå…ƒç´ æ¥åˆ†å‰²å®ƒ:
`subArray = originalArray[5:]`

![](img/45bddf9a3998736a0bece81e7acec0ae.png)

æˆ‘ä»¬é€šè¿‡ä½¿ç”¨å†…ç½®çš„`id`å‡½æ•°:
`display(id(originalArray))`å’Œ`display(id(subArray))`ï¼Œè§‚å¯Ÿåˆ°åŸå§‹æ•°ç»„å’Œåˆ‡ç‰‡æ•°ç»„ç¡®å®æ˜¯ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡ã€‚

![](img/39408cf51f5dc35ef7c9a45f31dcec54.png)

ä¸ºäº†è¯æ˜`subArray`ä¸`originalArray`æŸ¥çœ‹ç›¸åŒçš„æ•°æ®ï¼Œæˆ‘ä»¬å°†ä¿®æ”¹`subArray`çš„ç¬¬ä¸€ä¸ªå…ƒç´ :
`subArray[0] = subArray[0] * 10`

![](img/75cbf88e47ea6d3e2d3ff7b50959fbdb.png)

ç„¶åæ˜¾ç¤ºä¸¤ä¸ªæ•°ç»„â€”åŸå§‹å€¼ä¹Ÿå‘ç”Ÿäº†å˜åŒ–:

![](img/90aefa2f585c0d8f6c44549b5bee30ab.png)

## æ·±å±‚æ‹·è´

å°½ç®¡æµ…å±‚å‰¯æœ¬åœ¨å…±äº«æ•°æ®æ—¶èŠ‚çœäº†å†…å­˜ï¼Œä½†æœ‰æ—¶è¿˜æ˜¯æœ‰å¿…è¦åˆ›å»ºåŸå§‹æ•°æ®çš„ç‹¬ç«‹å‰¯æœ¬ã€‚è¿™ä¸ªæ“ä½œè¢«ç§°ä¸º ***æ·±åº¦*** å¤åˆ¶ï¼Œåœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­éå¸¸æœ‰ç”¨ï¼Œåœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œç¨‹åºçš„ä¸åŒéƒ¨åˆ†å¯èƒ½ä¼šè¯•å›¾åŒæ—¶ä¿®æ”¹æ•°æ®ï¼Œè¿™å¯èƒ½ä¼šç ´åæ•°æ®ã€‚

NumPy æä¾›äº†æ–¹æ³•`copy`ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«åŸå§‹æ•°ç»„å¯¹è±¡æ•°æ®çš„æ·±å±‚å‰¯æœ¬ã€‚

é‡å¤å‰é¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¿®æ”¹å­æ•°ç»„æ—¶ï¼ŒåŸå§‹æ•°ç»„æ²¡æœ‰å—åˆ°å½±å“ã€‚

æˆ‘ä»¬å…ˆæŠŠ`originalArray`å¤åˆ¶åˆ°`newArray` :
`newArray = originalArray.copy()`

![](img/2a39a9f5f6ab2c6f4f2bad931db3f78b.png)

ç„¶åæˆ‘ä»¬ä¿®æ”¹ç¬¬ 6 ä¸ªå…ƒç´ :
`newArray[5] = newArray[5] * 10`

![](img/83054caa0b2aba0e6a1cdc7f5f94a35a.png)

æœ€åï¼Œæˆ‘ä»¬æ˜¾ç¤ºä¸¤ä¸ªæ•°ç»„â€”â€”çœ‹çœ‹åŸå§‹æ•°ç»„çš„å€¼æ˜¯å¦‚ä½•ä¿æŒä¸å˜çš„ï¼Ÿ

![](img/3cec9a573d48421e57b0c98302981b7c.png)

# â â€”å…ƒç´ å¼æ“ä½œ

NumPy æä¾›äº†è®¸å¤šæ“ä½œç¬¦ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿç¼–å†™ç®€å•çš„è¡¨è¾¾å¼æ¥å¯¹æ•´ä¸ªæ•°ç»„æ‰§è¡Œæ“ä½œã€‚è¿™æ˜¯æˆ‘ä»¬ä»¥åå˜å¾—æ›´é«˜çº§å’Œæ¶ˆé™¤ç¨‹åºä¸­ for å¾ªç¯çš„å«è„šçŸ³ï¼

## å¸¦æ ‡é‡

æˆ‘ä»¬å¯ä»¥ç”¨æ•°ç»„å’Œæ ‡é‡æ‰§è¡ŒåŸºäºå…ƒç´ çš„ç®—æœ¯è¿ç®—ã€‚åœ¨è¿™äº›æ“ä½œä¸­ï¼Œæ ‡é‡è¢«åº”ç”¨äºæ¯ä¸ªæ•°ç»„å…ƒç´ ï¼Œæ‰€ä»¥è¿™ä¸ªä»£ç ç‰‡æ®µç»™æ¯ä¸ªå…ƒç´ åŠ  5:`array + 5`ã€‚

æ¯ä¸ªæ“ä½œè¿”å›ä¸€ä¸ªåŒ…å«ç»“æœçš„æ–°æ•°ç»„(å³ä¸ä¿®æ”¹åŸå§‹æ•°ç»„)ã€‚

![](img/191fa4364cfc4abe421aa1ea3de802fd.png)

å¢å¼ºèµ‹å€¼ä¿®æ”¹å·¦æ“ä½œæ•°ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­:`array += 1`ï¼ŒåŸå§‹æ•°ç»„çš„å…ƒç´ ç°åœ¨å¢åŠ  1ã€‚ä¸å‰é¢çš„æƒ…å†µç›¸åï¼Œè¿™é‡Œæ²¡æœ‰å‘ç”Ÿå†…å­˜åˆ†é…ï¼Œå› ä¸ºè¿™ç§å°±åœ°æ“ä½œæ˜¯é¦–é€‰çš„ã€‚

![](img/259759652726a09b23fbddceab183bd1.png)

ä¹˜ã€å‡ã€é™¤ã€å–å¹‚å’Œå‰é¢çš„åŠ æ³•ä¸€æ ·ç®€å•ã€‚

ğŸ“Œæ ‡é‡æ“ä½œæ˜¯æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚è®¨è®ºçš„æœ€ç®€å•çš„å¹¿æ’­å½¢å¼ã€‚

## æ•°ç»„ä¹‹é—´

æˆ‘ä»¬å¯ä»¥åœ¨**ç›¸åŒå½¢çŠ¶**çš„æ•°ç»„ä¹‹é—´æ‰§è¡Œé€å…ƒç´ çš„ç®—æœ¯è¿ç®—ã€‚ç»“æœæ˜¯ä¸¤ä¸ªæ•°ç»„çš„å…ƒç´ ç»„åˆæˆä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚

åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæ•°ç»„æœ‰ 5 ä¸ªå…ƒç´ :

```
arrayA = np.arange(2, 12, 2)
arrayB = np.arange(0, 5) + 1
```

å½“æˆ‘ä»¬æ·»åŠ å®ƒä»¬:`arrayA + arrayB`æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ–°çš„ç»„åˆæ•°ç»„:

![](img/4b61b2e8fd8537c6285b07d04742b1d0.png)

ğŸ“Œè¯·æ³¨æ„ï¼Œæ•°ç»„ä¹˜æ³•ä¸æ˜¯çŸ©é˜µä¹˜æ³•ã€‚è¿™äº›å…ƒç´ åªæ˜¯æŒ‰åˆ†é‡ç›¸ä¹˜ã€‚åˆ©ç”¨å‰é¢çš„æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨`dot`å‡½æ•°
`np.dot(arrayA, arrayB)`æ¥è®¡ç®—**çŸ©é˜µä¹˜æ³•**

![](img/2d895ed03a34f897c230d17150dd3dd8.png)

## æ¯”è¾ƒ

å½“æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªå¸ƒå°”æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ ä¸ºçœŸæˆ–å‡ï¼Œè¡¨ç¤ºå„è‡ªçš„æ¯”è¾ƒç»“æœã€‚

ç»™å®šä¸¤ä¸ªéšæœºæ•´æ•°æ•°ç»„:

```
compA = np.random.randint(low = 1, high = 10, size = 5)
compB = np.random.randint(low = 1, high = 10, size = 5)
```

æˆ‘ä»¬å¯ä»¥æ£€æŸ¥ç¬¬ä¸€ä¸ªæ•°ç»„çš„å…ƒç´ æ˜¯å¦å¤§äºç¬¬äºŒä¸ªæ•°ç»„çš„å…ƒç´ :`compA > compB`ã€‚

![](img/154d7c698e38897750a62224ba092116.png)

ğŸ“Œä¸ºäº†æ¯”è¾ƒå®Œæ•´çš„æ•°ç»„æ˜¯å¦ç›¸ç­‰ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†`array_equal`å‡½æ•°ï¼Œå¦‚æœä¸¤ä¸ªæ•°ç»„å…·æœ‰ç›¸åŒçš„*å½¢çŠ¶*å’Œç›¸åŒçš„*å…ƒç´ * :
`np.array_equal(compA, compB)`ï¼Œåˆ™è¯¥å‡½æ•°è¿”å› True

![](img/d60740e25795ebc3d547a9d4daf50192.png)

## é€»è¾‘è¿ç®—

æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ†åˆ«ä½¿ç”¨`logical_or` å’Œ`logical_and`å‡½æ•°ï¼Œå¯¹æ•°ç»„å…ƒç´ åº”ç”¨é€»è¾‘ OR å’Œ andã€‚

ç»™å®šä¸¤ä¸ªå¸ƒå°”æ•°ç»„:

```
logA = np.array([True, True, False, False])
logB = np.array([True, False, True, False])
```

æˆ‘ä»¬å¾—åˆ°:
`np.logical_or(logA, logB)`å’Œ`np.logical_and(logA, logB)`ã€‚

![](img/055b8f613fdae9b35f7381c3b21ec8bf.png)

## é€šç”¨å‡½æ•°

æ­¤å¤–ï¼ŒNumPy æä¾›äº†è®¸å¤šç‹¬ç«‹çš„é€šç”¨å‡½æ•°(æˆ–`ufuncs`)æ¥æ‰§è¡Œå„ç§å…ƒç´ æ“ä½œã€‚æ¯ä¸ªéƒ½è¿”å›ä¸€ä¸ªåŒ…å«ç»“æœçš„æ–°æ•°ç»„ã€‚

å®˜æ–¹æ–‡æ¡£åˆ—å‡ºäº†äº”ä¸ªç±»åˆ«â€”â€”æ•°å­¦ã€ä¸‰è§’å­¦ã€ä½æ“ä½œã€æ¯”è¾ƒå’Œæµ®ç‚¹ã€‚å»ºè®®å¿«é€Ÿæµè§ˆï¼Œè¿™æ ·ä½ å°±çŸ¥é“ä»€ä¹ˆæ˜¯å¯ç”¨çš„ã€‚

> å¹²å¾—å¥½ï¼ä½ æ™‹çº§äº†ï¼

![](img/bec4063770d138e4d7413c4f676e74c7.png)

# â â€”å¹¿æ’­

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œè¿™äº›æ“ä½œéœ€è¦ä¸¤ä¸ªå¤§å°å’Œå½¢çŠ¶ç›¸åŒçš„æ•°ç»„ä½œä¸ºæ“ä½œæ•°ã€‚å½“é˜µåˆ—çš„å½¢çŠ¶ä¸**å…¼å®¹**æ—¶ï¼Œå¹¿æ’­å°±æ”¾æ¾äº†è¿™äº›é™åˆ¶ï¼Œå®ç°äº†ä¸€äº›ç®€æ´è€Œå¼ºå¤§çš„æ“ä½œã€‚

è¾ƒå°çš„é˜µåˆ—åœ¨è¾ƒå¤§çš„é˜µåˆ—ä¸­â€œå¹¿æ’­â€ã€‚å®ƒå¯ä»¥è®©æˆ‘ä»¬é¿å…å¾ªç¯ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºä¸å¿…è¦çš„æ•°æ®å‰¯æœ¬ã€‚

åŸºäº[å®˜æ–¹æ–‡ä»¶](https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html):

> *åœ¨ä¸¤ä¸ªæ•°ç»„ä¸Šæ“ä½œæ—¶ï¼ŒNumPy æŒ‰å…ƒç´ æ¯”è¾ƒå®ƒä»¬çš„å½¢çŠ¶ã€‚å®ƒä»* ***å°¾éšå°ºå¯¸*** *å¼€å§‹ï¼Œä¸€ç›´å‘å‰ã€‚
> ä¸¤ä¸ªç»´åº¦å…¼å®¹å½“:* *å®ƒä»¬ç›¸ç­‰ï¼Œæˆ–è€…* *å…¶ä¸­ä¸€ä¸ªä¸º 1
> å¦‚æœä¸æ»¡è¶³è¿™äº›æ¡ä»¶ï¼ŒæŠ›å‡º* `*ValueError: operands could not be broadcast together*` *å¼‚å¸¸ã€‚*

æˆ‘ä»¬å°†é€šè¿‡å‡ ä¸ªå¾ªåºæ¸è¿›çš„ä¹˜æ³•ç¤ºä¾‹æ¥æ¼”ç¤ºå¹¿æ’­çš„æ“ä½œåŸç†ã€‚å¾ˆå¤§ç¨‹åº¦ä¸Šï¼Œè¾ƒå°çš„æ•°ç»„ä¼šâ€œä¼¸å±•â€,ä»¥ä¾¿ä¸è¾ƒå¤§æ•°ç»„çš„æ¯ä¸€è¡Œç›¸ä¹˜ã€‚

> å®ƒåœ¨å†…å­˜ä¸­ä¸æ˜¯å­—é¢æ„ä¹‰ä¸Šçš„æ‹‰ä¼¸ï¼›é‡å¤çš„æ˜¯è®¡ç®—ã€‚

## è¯´æ˜ 1

![](img/4299c4ace42b581b60bff1879674487d.png)

åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª 3x3 çš„è¡¨æ ¼å’Œä¸€ä¸ª 1x3 çš„è¡¨æ ¼ã€‚

```
ex1A = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
ex1B = np.array([2, 5, 10])
```

æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°å¹¿æ’­æ¡ä»¶å¾—åˆ°æ»¡è¶³ï¼Œå¹¶ä¸”ä¸¤ä¸ªç»´åº¦æ˜¯å…¼å®¹çš„:

è¡Œç»´åº¦:è™½ç„¶å®ƒä»¬ä¸åŒ(å³ 3 å¯¹ 1)ï¼Œä½†å…¶ä¸­ä¸€ä¸ªæ˜¯ 1ã€‚
åˆ—å°ºå¯¸:ä¸¤è€…ç›¸åŒ(å³ 3)

![](img/df325d50483b32633b74e1d60a0d4a97.png)

æ‰€ä»¥ç›¸ä¹˜çš„ç»“æœ(`ex1A * ex1B`)æ˜¯:

![](img/90176194e083659ec4309ca7e32638d8.png)

## è¯´æ˜ 2

![](img/d6e12dbbac951c9529ce8e80ff173344.png)

åœ¨ç¬¬äºŒä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª 3x3 çš„è¡¨å’Œä¸€ä¸ª 3x1 çš„è¡¨ã€‚

```
ex2A = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
ex2B = np.array([[2], [5], [10]])
```

åŒæ ·ï¼Œé˜µåˆ—æ˜¯å…¼å®¹çš„:

![](img/0cceb704dccfb15d7c2cf3a08e59bee1.png)

æ‰€ä»¥ç›¸ä¹˜çš„ç»“æœ(`ex2A * ex2B`)æ˜¯:

![](img/30de4308d81e09660ef40c584fe3112d.png)

## è¯´æ˜ 3

![](img/eeea69bad9f808f27f2c2410ec9d42a8.png)

åœ¨ç¬¬ä¸‰ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª 1x3 çš„è¡¨å’Œä¸€ä¸ª 3x1 çš„è¡¨ã€‚

```
ex3A = np.array([1, 2, 3])
ex3B = np.array([[2], [5], [10]])
```

åŒæ ·ï¼Œé˜µåˆ—æ˜¯å…¼å®¹çš„:

![](img/dd9bc5696695a3b4d8e5e10b894ef2bb.png)

æ‰€ä»¥ç›¸ä¹˜çš„ç»“æœ(`ex3A * ex3B`)æ˜¯:

![](img/7ae9b61627ef77be15289af7d32db43c.png)

## ä¸ç›¸å®¹å°ºå¯¸

åœ¨æœ¬ä¾‹ä¸­ï¼Œè¡Œæ•°ä¸åŒ(å³ 3 å¯¹ 2)ï¼Œå¹¶ä¸”éƒ½ä¸æ˜¯ 1ã€‚

![](img/348449fbca87bbfe66fd624edffae10d.png)

åŒæ ·ï¼Œå€’æ•°ç¬¬äºŒä¸ªå°ºå¯¸ä¸åŒ¹é…:

![](img/6e609208ee17c188f90b17093ff10b2e.png)

# ââ€”â€”å¡‘é€ æ“çºµ

äº†è§£æ’­éŸ³ä¹‹åï¼Œå¦ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µå°±æ˜¯æ“æ§é€ å‹ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€äº›æŠ€å·§:

## ä½¿å†æˆå½¢

é€šå¸¸çš„åšæ³•æ˜¯åˆ›å»ºä¸€ä¸ª NumPy æ•°ç»„ä½œä¸º 1Dï¼Œç„¶åå†å°†å…¶æ•´å½¢ä¸º multiDï¼Œåä¹‹äº¦ç„¶ï¼Œä¿æŒå…ƒç´ æ€»æ•°ä¸å˜ã€‚

ğŸ“Œ`reshape`è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå®ƒæ˜¯åŸæ•°ç»„çš„**æµ…**å‰¯æœ¬ã€‚

è¿™æ˜¯ä¸€ä¸ªæœ‰ 9 ä¸ªå…ƒç´ çš„ 1D æ•°ç»„:`array09 = np.arange(1, 10)`ã€‚

![](img/77e88aaed30a1ef1dc805c01e4b6f1ac.png)

æˆ‘ä»¬å¯ä»¥å°†å…¶é‡å¡‘ä¸ºä¸€ä¸ª 3x3 çš„æ•°ç»„:`array09.reshape(3, 3)`ã€‚

![](img/87ef8b8ab078f891cd8a5b54587bd178.png)

æˆ–è€…ä½œä¸º 9x1 æ•°ç»„:`array09.reshape(9, 1)`ã€‚

![](img/49655977e2a837da6eb5d0d7ac1ad9eb.png)

## è°ƒæ•´å¤§å°

å¦‚æœæˆ‘ä»¬éœ€è¦æ”¹å˜å…ƒç´ çš„æ€»æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è°ƒæ•´æ•°ç»„çš„å¤§å°ã€‚å¦‚æœæˆ‘ä»¬æ‰©å¤§å®ƒï¼Œå®ƒå°†æ·»åŠ å°¾éšé›¶ï¼Œç›´åˆ°å®ƒè¾¾åˆ°æ–°çš„å¤§å°ã€‚å¦åˆ™ï¼Œå®ƒå°†è¢«æˆªæ–­ä¸ºæ–°çš„å¤§å°ã€‚

ğŸ“Œ`resize` **ä¿®æ”¹äº†**åŸæ¥çš„é˜µåˆ—ã€‚

ç»§ç»­è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥å°† 9 å…ƒç´ æ•°ç»„æ‰©å¤§åˆ° 15 å…ƒç´ :
`array09.resize(15, refcheck = False)`ã€‚

![](img/de43d157a4fd3ecdda54157b2388f7c9.png)

æˆ–è€…æˆ‘ä»¬å¯ä»¥å°†å…¶æˆªæ–­ä¸º 5 ä¸ªå…ƒç´ :
`array09.resize(5, refcheck = False)`ã€‚

![](img/4c14833bdbfe1955302e2b36521c78c0.png)

ğŸ“Œæ‰©å¤§æ•°ç»„çš„å¦ä¸€ä¸ªæœŸæœ›è¡Œä¸ºæ˜¯è®©å®ƒé‡å¤è‡ªå·±ï¼Œç›´åˆ°å®ƒè¾¾åˆ°æ–°çš„å¤§å°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`resize`çš„â€œé™æ€â€ç‰ˆæœ¬ï¼Œå®ƒå°†åŸå§‹æ•°ç»„ä½œä¸ºè¾“å…¥:
`np.resize(array09, 10)`

![](img/23a2b6f9881c0403fda4722497c38af8.png)

## æ–°ç»´åº¦

åœ¨æ•°ç»„ä¸­æ’å…¥ä¸€ä¸ªæ–°è½´ä¼šå¢åŠ æ•°ç»„çš„ç»´æ•°ã€‚`newaxis`é€šå¸¸ç”¨äºä½¿é˜µåˆ—å…¼å®¹å¹¿æ’­ã€‚

åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£å¦‚ä½•å°†ä¸€ä¸ªå•è¡Œè¡¨æ ¼è½¬ç½®ä¸ºä¸€ä¸ªå•åˆ—è¡¨æ ¼:

```
array1x4 = np.array([1, 2, 3, 4])
print(array1x4)
print(np.shape(array1x4))array4x1 = array1x4[:, np.newaxis]
print(array4x1)
print(np.shape(array4x1))
```

å¾ˆæ•´æ´ï¼Œå¯¹å§ï¼Ÿ

![](img/a460904d9c119e97006ef183eabb3ac5.png)

## å˜å¹³ä¸å˜æ¾

å±•å¹³æ˜¯æ•´å½¢çš„é€†æ“ä½œã€‚æˆ‘ä»¬å¯ä»¥ç”¨æ–¹æ³•`flatten`å’Œ`ravel`å°†å¤šç»´æ•°ç»„å±•å¹³æˆä¸€ç»´ã€‚æ–¹æ³•`flatten` **deep** å¤åˆ¶åŸå§‹æ•°ç»„çš„æ•°æ®ï¼Œè€Œ`ravel` **shallow** å¤åˆ¶å®ƒï¼Œ[è¿™æ ·å±•å¹³æ¯”è¾ƒæ…¢]ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ª 2x2 çš„æ•°ç»„:`array2x2 = np.arange(1, 5).reshape(2, 2)`ã€‚

![](img/68c6e1882411f0cc6baac779b0019c02.png)

æˆ‘ä»¬å°†å®ƒå±•å¹³â€”æ·±åº¦å¤åˆ¶:`array2x2.flatten()`

![](img/8e833bc67f0e16c0d707c804270e974f.png)

ç„¶åè¿…é€Ÿé‡æ–°è®¾ç½®ä¸º 2x2: `array2x2 = array2x2.reshape(2, 2)`

ç„¶åå†è§£å¼€â€”â€”æµ…æŠ„:`array2x2.ravel()`

![](img/a5ce06a3c037c4e9b9b4181eb79e4c05.png)

## ç§»é¡¹

è½¬ç½®ä¸€ä¸ªæ•°ç»„ï¼Œä¹Ÿå°±æ˜¯æ”¹å˜å®ƒçš„ç»´åº¦(æ„å‘³ç€æŠŠå®ƒçš„å½¢çŠ¶ä»`(X,Y)`å˜æˆ`(Y,X)`)ä¹Ÿéå¸¸ç®€å•ã€‚

ğŸ“Œ`transpose`è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå®ƒæ˜¯åŸæ•°ç»„çš„**æµ…**å‰¯æœ¬ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªæ•°ç»„:
`toBeTransposed = np.arange(1, 5).reshape(2, 2)`

![](img/e1334d2ba7e7638b583d996e22f26085.png)

è¿™é‡Œæ˜¯å®ƒçš„è½¬ç½®å‰¯æœ¬:
`toBeTransposed.transpose()`

![](img/d498a6b779c2277f2af3978e4c3eca54.png)

## åŠ å…¥

è¿æ¥æˆ–ä¸²è”æ„å‘³ç€å°†ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„çš„å†…å®¹æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ²¿ç€æŒ‡å®šçš„è½´ï¼Œå°†å®ƒä»¬â€œå †å â€åœ¨(`axis = 1`)ä¸‹é¢æˆ–(`axis = 0`)æ—è¾¹ã€‚æœ‰å‡ ä¸ªé€‰é¡¹å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½†`concatenate`åŠŸèƒ½æ˜¯æœ€å—æ¬¢è¿çš„ã€‚

è¿™é‡Œæœ‰ä¸¤ä¸ª 3x3 æ•°ç»„ï¼Œ`arr1`å’Œ`arr2`:

```
arr1 = np.arange(9).reshape(3, 3)
arr2 = arr1 * 2
```

![](img/06b7d7f3502b915b917d7d69867df5b7.png)

**â—¼ï¸å‚ç›´æ‹¼æ¥ã€è¡Œå¼|è½´= 0ã€‘** `np.concatenate((arr1, arr2))`

![](img/f80a65ee43736da3ad2f9171b01f714a.png)

**â—¼ï¸æ°´å¹³ä¸²è”ã€åˆ—å¼|è½´= 1ã€‘** `np.concatenate((arr1, arr2), axis = 1)`

![](img/d9b1ba683a2e39aa6375165a35e9e1b6.png)

## è£‚å¼€

æ‹†åˆ†æ˜¯è¿æ¥çš„åå‘æ“ä½œï¼Œå³æˆ‘ä»¬å°†ä¸€ä¸ªæ•°ç»„çš„å†…å®¹æ²¿ç€æŒ‡å®šçš„è½´æ‹†åˆ†æˆå¤šä¸ªå­æ•°ç»„ã€‚
æˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬æ‹†åˆ†æˆ**ç›¸åŒå½¢çŠ¶**çš„æ•°ç»„ï¼Œæˆ–è€…æŒ‡ç¤º**ä½ç½®**ï¼Œåœ¨æ­¤ä¹‹ååº”è¯¥è¿›è¡Œæ‹†åˆ†ã€‚

ä½¿ç”¨è¿™ä¸ªä¹å…ƒç´ æ•°ç»„(`arr3`)ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°è¿™ä¸¤ç§å˜åŒ–(åœ¨`axis = 0`ä¸Š):

![](img/76908ca4e05ad9e85292e7628b11c362.png)

**â—¼ï¸å‡åŒ€åˆ†å‰²** `np.split(arr3, 3)` å°†äº§ç”Ÿ 3 ä¸ªå¤§å°ç›¸ç­‰çš„å­é˜µåˆ—:

![](img/29779e883d5ab180260b96c7f686d2c8.png)

**â—¼ï¸ä¸å‡åŒ€åˆ†å‰²ï¼ŒåŸºäºä¸€ç»´æ•°ç»„** `np.split(arr3, [2, 7]))` ä¸­æŒ‡ç¤ºçš„ä½ç½®ï¼Œå°†äº§ç”Ÿ 3 ä¸ªå­æ•°ç»„ï¼Œåœ¨ç¬¬ 2 ä¸ªå’Œç¬¬ 7 ä¸ªå…ƒç´ ä¹‹ååˆ†å‰²:

![](img/d6c0483c2743b3fa1a3cf3cb9954376f.png)![](img/3cc23c836800d8b02a4c8a75e49371a1.png)

```
'Map, Filter and Reduce' are paradigms of functional programming. They allow us to write simpler, shorter code, without needing to bother about for-loops or if-else branching. Even if they are powerful on their own, 'the cherry on top' is that they can be chained together.The next three sections will cover **exactly that**, when it comes to NumPy arrays.
```

![](img/3cc23c836800d8b02a4c8a75e49371a1.png)

# â‘ â€”åˆ¶å›¾

ä¸ºäº†å°†è½¬æ¢åº”ç”¨åˆ° NumPy æ•°ç»„ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨`vectorize`å‡½æ•°ã€‚è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œæ˜ å°„ç”Ÿæ•ˆã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„æ•°ç»„:
`toBeMapped = np.arange(0, 10)`

![](img/c4bc57d34490556f0eeb78bf323ee0ab.png)

æˆ‘ä»¬ç°åœ¨å°†é€šè¿‡ä¼ é€’ä¸€ä¸ª lambda åŒ¿åå‡½æ•°ä½¿æ•°ç»„çš„æ‰€æœ‰å…ƒç´ åŠ å€:
`np.vectorize(lambda x: x * 2)(toBeMapped)`

![](img/f1eda26b9b9ff30e1ee22a9b3bb62af8.png)

å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªæ›´å¤æ‚çš„è®¡ç®—(æœ‰è®¸å¤šè¡Œä»£ç )ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ é€’ä¸€ä¸ªå‡½æ•°æ¥ä»£æ›¿ã€‚

ğŸ“Œæ ¹æ®æ–‡æ¡£ï¼Œâ€œæä¾›`[vectorize](https://docs.scipy.org/doc/numpy/reference/generated/numpy.vectorize.html#numpy.vectorize)`åŠŸèƒ½ä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿ï¼Œè€Œä¸æ˜¯ä¸ºäº†æé«˜æ€§èƒ½ã€‚è¯¥å®ç°æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª for å¾ªç¯ã€‚ç„¶è€Œå¯è¯»æ€§æ˜¯è¿™é‡Œçš„å…³é”®ï¼Œæ‰€ä»¥å°½ç®¡å®ƒä½¿ç”¨äº† for å¾ªç¯ï¼Œä½†æˆ‘ä»¬çš„ä»£ç æ²¡æœ‰ï¼

# â’æ»¤æ³¢

Filterï¼Œç”¨ä¸€å…ƒè°“è¯æµ‹è¯•æ¯ä¸ªå…ƒç´ ã€‚NumPy ä¸ºæ­¤æä¾›äº†`extract`å‡½æ•°ã€‚æ»¡è¶³è°“è¯çš„å…ƒç´ è¢«ä¿ç•™ï¼›ä¸ç¬¦åˆçš„å°†è¢«åˆ é™¤ã€‚è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼›è¿‡æ»¤å™¨ä¸ä¼šä¿®æ”¹åŸå§‹æ•°ç»„ã€‚

ä¸‹é¢æ˜¯æˆ‘ä»¬çš„ç¤ºä¾‹æ•°ç»„:
`toBeFiltered = np.arange(0, 9).reshape(3, 3)`

![](img/54bafb400e9e12004c8c93cf16c9c30e.png)

æˆ‘ä»¬è¦é€‰æ‹©å¥‡æ•°:
`np.extract(toBeFiltered % 2 == 1, toBeFiltered)`

![](img/5f99435adc0c05f25c355a14fcf983fd.png)

å®ç°ç›¸åŒç»“æœçš„ç­‰æ•ˆæ–¹å¼å¦‚ä¸‹:
`toBeFiltered[toBeFiltered % 2 == 1]`

![](img/90ff3689bd0b517f003818b5a085f89e.png)

# â“â€”â€”è¿˜åŸ

å½“é¢å¯¹å¤§é‡æ•°æ®æ—¶ï¼ŒæœŸæœ›çš„æ­¥éª¤æ˜¯é€šè¿‡åœ¨æ•´ä¸ªé˜µåˆ—æˆ–å…¶ä¸€ä¸ªè½´ä¸Šåº”ç”¨è®¡ç®—æ¥å‡å°‘ç»´åº¦ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ª 2x3 çš„æ•°ç»„:
`toBeReduced = np.arange(1, 7).reshape(2, 3)`

![](img/24bc8803e2afa8d6baf4520e9b16f03a.png)

## æ€»å’Œ

**æ•´ä¸ªæ•°ç»„** `toBeReduced.sum()` ä¸Šçš„â—¼ï¸å°†äº§ç”Ÿä¸€ä¸ªä»£è¡¨æ‰€æœ‰å…ƒç´ ä¹‹å’Œçš„æ ‡é‡:

![](img/bc2088167a0e3a9004093b5a8d0bea5c.png)

**â—¼ï¸æŒ‰åˆ—[axis = 0]** `toBeReduced.sum(axis = 0)` å°†äº§ç”Ÿä¸€ä¸ª 1x3 æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ æ˜¯å„è‡ªåˆ—çš„æ€»å’Œ:

![](img/4c21211668be375121b87304bfeec840.png)

**â—¼ï¸æŒ‰è¡Œ[axis = 1]** `toBeReduced.sum(axis = 1)` å°†äº§ç”Ÿä¸€ä¸ª 3x1 çš„æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ æ˜¯å„è‡ªè¡Œçš„æ€»å’Œ:

![](img/ac85247d7fca334d8ccc774327cf1869.png)

## å…¶ä»–å‰Šå‡

ä»–ä»¬éƒ½ä»¥åŒæ ·çš„æ–¹å¼å·¥ä½œã€‚ä¾‹å¦‚:

**â—¼ï¸æœ€å°/æœ€å¤§å€¼** `toBeReduced.min()`å’Œ`toBeReduced.max()`

![](img/efb932f6b8c748e5b03a002ebd2d54d6.png)

**â—¼ï¸å…¶ä»–
t27ã€‘å¦å¤–ä¸¤ä¸ªé‡è¦çš„ç±»åˆ«åŒ…æ‹¬:**

*   [é€»è¾‘å½’çº¦(çœŸå€¼æµ‹è¯•)](https://docs.scipy.org/doc/numpy/reference/routines.logic.html#truth-value-testing)
*   [ç»Ÿè®¡](https://docs.scipy.org/doc/numpy/reference/routines.statistics.html)

æˆ‘å»ºè®®ä½ æµè§ˆä¸€ä¸‹ï¼Œç„¶åè¾¹èµ°è¾¹å­¦ã€‚

> æˆ‘çš„èµç¾ï¼ä½ å·²ç»å‡†å¤‡å¥½ä¸ºä¸€ä¸ª**éª°å­**å«ç‰Œäº†ï¼

![](img/a35353d463873936841b4c000ddd4925.png)

# NumPy æ€§èƒ½æç¤ºå’ŒæŠ€å·§

ä¸ºäº†ä¼˜åŒ–ç¨‹åºçš„æ€§èƒ½ï¼Œæˆ‘ä»¬è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯å°†è®¡ç®—æˆ–å†…å­˜åˆ†é…ç§»åˆ° for å¾ªç¯ä¹‹å¤–ã€‚æˆ‘ä»¬å·²ç»ä»‹ç»äº†å¾ˆå¤šå…³äº NumPy æŠ€æœ¯çš„ææ–™ï¼Œä½†æ˜¯è®©æˆ‘ä»¬æç‚¼è¿™äº›æŠ€å·§å’Œè¯€çªï¼Œå¹¶ä½¿å®ƒä»¬å˜å¾—æ¸…æ™°ï¼Œä»¥å¸®åŠ©æ‚¨ç¼–å†™æ›´é«˜æ€§èƒ½çš„ä»£ç ã€‚

## 1ï¸âƒ£ â€”çŸ¢é‡åŒ–

çŸ¢é‡åŒ–æ˜¯ä»¥å…ƒç´ æ–¹å¼å¤„ç†æ•´ä¸ªæ•°ç»„çš„æ“ä½œã€‚å®ƒä»¬å°† Python çš„æ˜¾å¼ for å¾ªç¯è½¬åŒ–ä¸ºéšå¼ã€ä½çº§ã€ä¼˜åŒ–å’Œç¼–è¯‘çš„ C å®ç°ï¼Œå› æ­¤æ‚¨åº”è¯¥æ›´å–œæ¬¢å®ƒä»¬ã€‚

## 2ï¸âƒ£ â€”å‰¯æœ¬

ä½ åº”è¯¥é¿å…ä¸å¿…è¦çš„æ·±å±‚æ‹·è´ï¼›å°½å¯èƒ½ä½¿ç”¨æµ…å±‚å‰¯æœ¬(æˆ–è§†å›¾)å’Œå°±åœ°æ“ä½œã€‚

## 3ï¸âƒ£ â€”å¹¿æ’­

åœ¨ç»„åˆæ•°ç»„ä¹‹å‰ï¼Œåº”è¯¥ä½¿ç”¨å¹¿æ’­å¯¹å°½å¯èƒ½å°çš„æ•°ç»„è¿›è¡Œæ“ä½œï¼›æœ€å°çš„ç»´åº¦åœ¨å†…éƒ¨è¢«æ‹‰ä¼¸ä»¥åŒ¹é…å¦ä¸€ä¸ªç»´åº¦ï¼Œä½†æ˜¯è¿™ä¸ªæ“ä½œä¸æ¶‰åŠä»»ä½•å†…å­˜å¤åˆ¶ã€‚

## 4ï¸âƒ£â€”â€”è®°å¿†

Numpy æ•°ç»„æŒ‰è¡Œä¼˜å…ˆé¡ºåºå­˜å‚¨ï¼Œå³å±•å¹³çš„å†…å­˜æ˜¯é€è¡Œè¡¨ç¤ºçš„ã€‚å› æ­¤ï¼Œå°†æ•°æ®å­˜å‚¨åœ¨è¿ç»­çš„å†…å­˜å—ä¸­å¯ä»¥ç¡®ä¿ç°ä»£ CPU çš„æ¶æ„åœ¨å†…å­˜è®¿é—®æ¨¡å¼å’Œ CPU ç¼“å­˜æ–¹é¢å¾—åˆ°æœ€ä½³åˆ©ç”¨ã€‚å› æ­¤ï¼Œä»¥è¿ç»­çš„æ–¹å¼è®¿é—®æˆ–éå†ä¸€ä¸ªæ•°ç»„æ¯”éšæœºè®¿é—®è¦å¿«å¾—å¤šï¼Œæ‰€ä»¥ä½ åº”è¯¥æ˜æ™ºåœ°é€‰æ‹©å¦‚ä½•åœ¨ n ç»´ä¸­è¡¨ç¤ºæ•°æ®ã€‚ä½œä¸ºä¸€ä¸ªè¯´æ˜æ€§çš„ä¾‹å­ï¼Œæ²¿è¡Œå¯¹å…ƒç´ æ±‚å’Œæ¯”æ²¿åˆ—å¿«ã€‚

## 5ï¸âƒ£ â€”å‡½æ•°é˜µåˆ—ç¼–ç¨‹

ä½ åº”è¯¥ä½¿ç”¨ Mapã€Filterã€Reduce æ¥é¿å… for å¾ªç¯å’Œæ¡ä»¶ç¼–ç¨‹ã€‚

> ç²¾å½©ï¼ä½ åšæŒåˆ°äº†æœ€åï¼

# æ¨èé˜…è¯»

*   [100 Numpy æ¼”ä¹ ](https://github.com/rougier/numpy-100/blob/master/100_Numpy_exercises_with_solutions.md)
*   [çœŸæ­£çš„ Python:ç”¨ NumPy è¿›è¡Œæ•°ç»„ç¼–ç¨‹](https://realpython.com/numpy-array-programming/)
*   [NumPy æ•°ç»„:é«˜æ•ˆæ•°å€¼è®¡ç®—çš„ç»“æ„](https://hal.inria.fr/inria-00564007/document)
    **** *****å¿…è¯»* ********
*   [ç§‘å­¦è®²åº§:é«˜çº§æ•°å­—](http://scipy-lectures.org/advanced/advanced_numpy/)
*   [ç¾ä¸½çš„ä»£ç ](https://www.amazon.co.uk/Beautiful-Code-Leading-Programmers-Practice/dp/0596510047)ã€è®ºæ–‡ 19:â€˜Numpy ä¸­çš„å¤šç»´è¿­ä»£å™¨â€™ã€‘

# æ”¶åœºç™½

æˆ‘å¸Œæœ› NumPy çš„å¼ºå¤§å’Œå®ƒæ‰€å¸¦æ¥çš„çµæ´»æ€§èƒ½è®©ä½ æœ‰æ‰€å¯å‘ã€‚ç°åœ¨ï¼Œæ‚¨å·²ç»å…·å¤‡äº†å¸®åŠ©æ‚¨ä¼˜åŒ–ä»£ç æ€§èƒ½å¹¶å°½å¯èƒ½æ¶ˆé™¤ for å¾ªç¯æ‰€éœ€çš„çŸ¥è¯†å’ŒæŠ€èƒ½ã€‚ä½ éœ€è¦åšçš„å°±æ˜¯:
ç»ƒä¹ â€”â€”ç»ƒä¹ â€”â€”ç»ƒä¹ ï¼

æ„Ÿè°¢é˜…è¯»ï¼

*æˆ‘ç»å¸¸åœ¨åª’ä½“ä¸Šå†™å…³äºé¢†å¯¼åŠ›ã€æŠ€æœ¯&çš„æ•°æ®â€”â€”å¦‚æœä½ æƒ³é˜…è¯»æˆ‘æœªæ¥çš„å¸–å­ï¼Œè¯·*[*â€˜å…³æ³¨â€™æˆ‘*](https://medium.com/@semika) *ï¼*