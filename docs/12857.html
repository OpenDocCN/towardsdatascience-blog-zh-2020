<html>
<head>
<title>pre-commit hooks you must know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½ å¿…é¡»çŸ¥é“çš„é¢„æäº¤é’©å­</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/pre-commit-hooks-you-must-know-ff247f5feb7e?source=collection_archive---------2-----------------------#2020-09-04">https://towardsdatascience.com/pre-commit-hooks-you-must-know-ff247f5feb7e?source=collection_archive---------2-----------------------#2020-09-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="51c5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">åœ¨ 5 åˆ†é’Ÿå†…æé«˜æ‚¨çš„ç”Ÿäº§åŠ›å’Œä»£ç è´¨é‡</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/417adef1bf8508390dcb1f38c10c40b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E7GkL0hnZgu4h8IFEVP8fw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">å›¾ç‰‡ä½œè€…:é©¬ä¸Â·æ‰˜é©¬æ–¯</p></figure><p id="4143" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">é¢„æäº¤é’©å­æ˜¯ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ git çš„ä¸€ç§æœºåˆ¶ã€‚ä»–ä»¬è®©ä½ åœ¨æäº¤ä¹‹å‰æ‰§è¡Œä»£ç ã€‚ä»¤äººå›°æƒ‘çš„æ˜¯ï¼Œè¿˜æœ‰ä¸€ä¸ªå«åš<code class="fe lu lv lw lx b">pre-commit</code>çš„ Python åŒ…ï¼Œå®ƒå…è®¸ä½ ç”¨ä¸€ç§æ›´ç®€å•çš„æ¥å£åˆ›å»ºå’Œä½¿ç”¨é¢„æäº¤é’©å­ã€‚Python åŒ…æœ‰ä¸€ä¸ªæ’ä»¶ç³»ç»Ÿæ¥è‡ªåŠ¨åˆ›å»º git é¢„æäº¤é’©å­ã€‚å®ƒä¸ä»…é€‚ç”¨äº Python é¡¹ç›®ï¼Œä¹Ÿé€‚ç”¨äºä»»ä½•é¡¹ç›®ã€‚</p><p id="b1fb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">çœ‹å®Œè¿™ç¯‡æ–‡ç« ï¼Œä½ å°±çŸ¥é“æˆ‘æœ€å–œæ¬¢çš„ä¸“ä¸šè½¯ä»¶å¼€å‘æ’ä»¶äº†ã€‚æˆ‘ä»¬å¼€å§‹å§ï¼</p><h1 id="571c" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">æäº¤å‰åŸºç¡€çŸ¥è¯†</h1><p id="cfd8" class="pw-post-body-paragraph ky kz it la b lb mq ju ld le mr jx lg lh ms lj lk ll mt ln lo lp mu lr ls lt im bi translated">é€šè¿‡ä»¥ä¸‹æ–¹å¼å®‰è£…é¢„æäº¤</p><pre class="kj kk kl km gt mv lx mw mx aw my bi"><span id="4870" class="mz lz it lx b gy na nb l nc nd">pip install pre-commit</span></pre><p id="ad38" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åœ¨æ‚¨çš„é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ª<code class="fe lu lv lw lx b">.pre-commit-config.yaml</code>æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶åŒ…å«æ¯æ¬¡æäº¤å‰è¦è¿è¡Œçš„é¢„æäº¤é’©å­ã€‚çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:</p><pre class="kj kk kl km gt mv lx mw mx aw my bi"><span id="ea39" class="mz lz it lx b gy na nb l nc nd">repos:<br/>-   repo: <a class="ae ne" href="https://github.com/pre-commit/pre-commit-hooks" rel="noopener ugc nofollow" target="_blank">https://github.com/pre-commit/pre-commit-hooks</a><br/>    rev: v3.2.0<br/>    hooks:<br/>    -   id: trailing-whitespace<br/>    -   id: mixed-line-ending</span><span id="1ff5" class="mz lz it lx b gy nf nb l nc nd">-   repo: <a class="ae ne" href="https://github.com/psf/black" rel="noopener ugc nofollow" target="_blank">https://github.com/psf/black</a><br/>    rev: 20.8b1<br/>    hooks:<br/>    -   id: black</span></pre><p id="c77e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe lu lv lw lx b">pre-commit</code>å°†åœ¨è¿™ä¸¤ä¸ªå¸¦æœ‰æŒ‡å®š git æ ‡ç­¾çš„å­˜å‚¨åº“ä¸­æŸ¥æ‰¾åä¸º<code class="fe lu lv lw lx b">.pre-commit-hooks.yaml</code>çš„æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å¯ä»¥ä»»æ„å®šä¹‰è®¸å¤šé’©å­ã€‚å®ƒä»¬éƒ½éœ€è¦ä¸€ä¸ª<code class="fe lu lv lw lx b">id</code>ï¼Œè¿™æ ·ä½ å°±å¯ä»¥é€‰æ‹©ä½ æƒ³ç”¨çš„ã€‚ä¸Šé¢çš„ git-commit é…ç½®å°†ä½¿ç”¨ 3 ä¸ªé’©å­ã€‚</p><p id="70f0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æœ€åï¼Œæ‚¨éœ€è¦è¿è¡Œ<code class="fe lu lv lw lx b">pre-commit install</code>æ¥å‘Šè¯‰é¢„æäº¤æ€»æ˜¯ä¸ºè¿™ä¸ªå­˜å‚¨åº“è¿è¡Œã€‚</p><p id="9edf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åœ¨æˆ‘ä½¿ç”¨å®ƒä¹‹å‰ï¼Œæˆ‘æ‹…å¿ƒä¼šå¤±æ§ã€‚æˆ‘æƒ³ç¡®åˆ‡åœ°çŸ¥é“æˆ‘æäº¤äº†å“ªäº›æ›´æ”¹ã€‚å¦‚æœå®ƒæ”¹å˜äº†ä»€ä¹ˆï¼Œå°†ä¸­æ­¢æäº¤ã€‚æ‰€ä»¥ä½ è¿˜æ˜¯å¯ä»¥çœ‹ä¸€ä¸‹ä»£ç ï¼Œæ£€æŸ¥ä¸€ä¸‹æ”¹åŠ¨æ˜¯å¦åˆç†ã€‚æ‚¨ä¹Ÿå¯ä»¥é€‰æ‹©ä¸è¿è¡Œé¢„æäº¤ï¼Œæ–¹æ³•æ˜¯</p><pre class="kj kk kl km gt mv lx mw mx aw my bi"><span id="0b7d" class="mz lz it lx b gy na nb l nc nd">git commit --no-verify</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/e76fa0d086b7227482e8ed9688660428.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZCYzFdbHeOYuBvmIcVLnMA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">å›¾ç‰‡ç”± CC-BY-3.0 ä¸‹çš„<a class="ae ne" href="http://geek-and-poke.com/geekandpoke/2010/11/1/how-to-make-a-good-code-review.html" rel="noopener ugc nofollow" target="_blank"> geek-and-poke </a>æä¾›</p></figure><h1 id="5a93" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">æ–‡ä»¶æ ¼å¼</h1><p id="a00f" class="pw-post-body-paragraph ky kz it la b lb mq ju ld le mr jx lg lh ms lj lk ll mt ln lo lp mu lr ls lt im bi translated">ä»¥ç±»ä¼¼çš„æ–¹å¼æ ¼å¼åŒ–æ–‡ä»¶é€šè¿‡æé«˜ä¸€è‡´æ€§æ¥å¸®åŠ©å¯è¯»æ€§ï¼Œå¹¶ä¿æŒ git æäº¤çš„æ•´æ´ã€‚ä¾‹å¦‚ï¼Œæ‚¨é€šå¸¸ä¸æƒ³è¦å°¾éšç©ºæ ¼ã€‚æ‚¨å¸Œæœ›æ–‡æœ¬æ–‡ä»¶æ°å¥½ä»¥ä¸€ä¸ªæ¢è¡Œç¬¦ç»“å°¾ï¼Œè¿™æ ·ä¸€äº› Linux å‘½ä»¤è¡Œå·¥å…·å°±èƒ½æ­£å¸¸å·¥ä½œã€‚æ‚¨å¸Œæœ› Linux ( <code class="fe lu lv lw lx b">\n</code>)ã€Mac ( <code class="fe lu lv lw lx b">\r</code> â€” <a class="ae ne" href="https://superuser.com/questions/439440/did-mac-os-lion-switch-to-using-line-feeds-lf-n-for-line-breaks-instead-of#:~:text=Nowadays%20Mac%20OS%20uses%20Unix%20style%20(LF)%20line%20breaks.&amp;text=Command%2Dline%20tools%20in%20Mac,Mac%2Dstyle%E2%80%9D%20line%20endings." rel="noopener ugc nofollow" target="_blank"> Mac ä¹‹é—´çš„æ¢è¡Œç¬¦ä¸€è‡´ï¼Œå°†</a>æ”¹ä¸º<code class="fe lu lv lw lx b">\n</code>ğŸ‰)å’Œ windows ( <code class="fe lu lv lw lx b">\r\n</code>)ã€‚æˆ‘çš„é…ç½®æ˜¯</p><pre class="kj kk kl km gt mv lx mw mx aw my bi"><span id="cd03" class="mz lz it lx b gy na nb l nc nd"># pre-commit run --all-files<br/>repos:<br/>-   repo: <a class="ae ne" href="https://github.com/pre-commit/pre-commit-hooks" rel="noopener ugc nofollow" target="_blank">https://github.com/pre-commit/pre-commit-hooks</a><br/>    rev: v3.2.0<br/>    hooks:<br/>    -   id: check-byte-order-marker  # Forbid UTF-8 byte-order markers<br/>    # Check for files with names that would conflict on a case-insensitive<br/>    # filesystem like MacOS HFS+ or Windows FAT.<br/>    -   id: check-case-conflict<br/>    -   id: check-json<br/>    -   id: check-yaml<br/>    -   id: end-of-file-fixer<br/>    -   id: trailing-whitespace<br/>    -   id: mixed-line-ending</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/41b70b477928d1f2e691bc68bd819112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*SE_FC8cspNAz_pFojUEsTg.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ç”±é©¬ä¸Â·æ‰˜é©¬æ–¯é€šè¿‡ imgflip.com<a class="ae ne" href="https://imgflip.com/i/4dqpwf" rel="noopener ugc nofollow" target="_blank">åˆ›å»º</a></p></figure><h1 id="7f66" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">ä»£ç é£æ ¼</h1><p id="4878" class="pw-post-body-paragraph ky kz it la b lb mq ju ld le mr jx lg lh ms lj lk ll mt ln lo lp mu lr ls lt im bi translated">æˆ‘ä»¬å¯ä»¥ç”¨å¾ˆå¤šä¸åŒçš„æ–¹å¼ç¼–å†™ä»£ç ã€‚å®ƒä»¬ä¸­çš„è®¸å¤šåœ¨è¿è¡Œæ—¶å‡ ä¹æ²¡æœ‰åŒºåˆ«ï¼Œä½†åœ¨å¯è¯»æ€§æ–¹é¢æœ‰æ‰€ä¸åŒã€‚</p><h2 id="d206" class="mz lz it bd ma ni nj dn me nk nl dp mi lh nm nn mk ll no np mm lp nq nr mo ns bi translated">ä»£ç è‡ªåŠ¨æ ¼å¼å™¨</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/3d207b5c243a512b9e670c9a1ec2fce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-WosNzXumx9wbyGbgpcIlA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">å½“ä½ çš„ä»£ç çœ‹èµ·æ¥ä¸‘é™‹çš„æ—¶å€™ï¼Œä¸è¦æµªè´¹æ—¶é—´å­¦ä¹ é£æ ¼æŒ‡å—å’Œæ‰‹å·¥åº”ç”¨å®ƒã€‚è¿è¡Œä»£ç æ ¼å¼åŒ–ç¨‹åºã€‚å›¾ç‰‡ç”±å…°é“å°”Â·é—¨ç½—(<a class="ae ne" href="https://xkcd.com/1513/" rel="noopener ugc nofollow" target="_blank"> XKCD </a>)æ‹æ‘„</p></figure><p id="8dc6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è‡ªåŠ¨ä»£ç æ ¼å¼åŒ–ä¸æ–‡ä»¶æ ¼å¼åŒ–å…·æœ‰ç›¸åŒçš„ä¼˜ç‚¹ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜èƒ½é˜²æ­¢æ— æ„ä¹‰çš„è®¨è®ºã€‚å› æ­¤ï¼Œå®ƒè®©ä½ å’Œä½ çš„å›¢é˜Ÿä¸“æ³¨äºé‡è¦å’Œå¤æ‚çš„éƒ¨åˆ†ã€‚</p><p id="61b9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æˆ‘å–œæ¬¢ Pythons è‡ªåŠ¨æ ¼å¼åŒ–ç¨‹åº blackï¼Œåœ¨å…³äºé™æ€ä»£ç åˆ†æçš„æ–‡ç« ä¸­å·²ç»æåˆ°è¿‡:</p><pre class="kj kk kl km gt mv lx mw mx aw my bi"><span id="51d3" class="mz lz it lx b gy na nb l nc nd">-   repo: <a class="ae ne" href="https://github.com/psf/black" rel="noopener ugc nofollow" target="_blank">https://github.com/psf/black</a><br/>    rev: 20.8b1<br/>    hooks:<br/>    -   id: black<br/>-   repo: <a class="ae ne" href="https://github.com/asottile/blacken-docs" rel="noopener ugc nofollow" target="_blank">https://github.com/asottile/blacken-docs</a><br/>    rev: v1.8.0<br/>    hooks:<br/>    -   id: blacken-docs<br/>        additional_dependencies: [black==20.8b1]</span></pre><p id="45ec" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ç¬¬ä¸€ä¸ªæ˜¯ black æœ¬èº«ï¼Œç¬¬äºŒä¸ªæ˜¯ä¸€ä¸ªå°†é»‘è‰²æ ¼å¼åº”ç”¨äº docstrings ä¸­çš„ä»£ç å­—ç¬¦ä¸²çš„é¡¹ç›®ã€‚</p><p id="a8b1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ­¤å¤–ï¼Œæˆ‘å¸Œæœ›æˆ‘çš„å¯¼å…¥è¢«æ’åº:</p><pre class="kj kk kl km gt mv lx mw mx aw my bi"><span id="0361" class="mz lz it lx b gy na nb l nc nd">-   repo: <a class="ae ne" href="https://github.com/asottile/seed-isort-config" rel="noopener ugc nofollow" target="_blank">https://github.com/asottile/seed-isort-config</a><br/>    rev: v2.2.0<br/>    hooks:<br/>    -   id: seed-isort-config<br/>-   repo: <a class="ae ne" href="https://github.com/pre-commit/mirrors-isort" rel="noopener ugc nofollow" target="_blank">https://github.com/pre-commit/mirrors-isort</a><br/>    rev: v5.4.2<br/>    hooks:<br/>    -   id: isort</span></pre><p id="48f1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è®¸å¤šè¯­è¨€éƒ½æœ‰å¸¦é¢„æäº¤æŒ‚é’©çš„è‡ªåŠ¨å¥—ç”¨æ ¼å¼å™¨:</p><ul class=""><li id="ea42" class="nu nv it la b lb lc le lf lh nw ll nx lp ny lt nz oa ob oc bi translated"><a class="ae ne" href="https://prettier.io/docs/en/precommit.html#option-3-pre-commithttpsgithubcompre-commitpre-commit" rel="noopener ugc nofollow" target="_blank">æ›´æ¼‚äº®çš„</a> : HTMLã€CSSã€JavaScriptã€GraphQL ç­‰ç­‰ã€‚</li><li id="e75c" class="nu nv it la b lb od le oe lh of ll og lp oh lt nz oa ob oc bi translated"><a class="ae ne" href="https://github.com/andrewseidl/githook-clang-format" rel="noopener ugc nofollow" target="_blank"> Clang-format </a> : Cï¼ŒC++ï¼ŒJavaï¼ŒJavaScriptï¼ŒObjective-Cï¼ŒProtobufï¼ŒC#</li><li id="dd04" class="nu nv it la b lb od le oe lh of ll og lp oh lt nz oa ob oc bi translated"><a class="ae ne" href="https://github.com/doublify/pre-commit-rust" rel="noopener ugc nofollow" target="_blank">ç”Ÿé”ˆ:ç”Ÿé”ˆ</a></li></ul><h2 id="879a" class="mz lz it bd ma ni nj dn me nk nl dp mi lh nm nn mk ll no np mm lp nq nr mo ns bi translated">ç°ä»£ Python</h2><p id="a5c2" class="pw-post-body-paragraph ky kz it la b lb mq ju ld le mr jx lg lh ms lj lk ll mt ln lo lp mu lr ls lt im bi translated"><a class="ae ne" href="https://github.com/asottile/pyupgrade" rel="noopener ugc nofollow" target="_blank"> pyupgrade </a>è¿è¡Œæ‚¨çš„ Python ä»£ç ï¼Œå¹¶è‡ªåŠ¨å°†æ—§å¼è¯­æ³•æ›´æ”¹ä¸ºæ–°å¼è¯­æ³•ã€‚è¯·çœ‹ä¸€äº›ä¾‹å­:</p><pre class="kj kk kl km gt mv lx mw mx aw my bi"><span id="b8cf" class="mz lz it lx b gy na nb l nc nd">dict([(a, b) for a, b in y])  # -&gt; {a: b for a, b in y}<br/>class C(object): pass         # -&gt; class C: pass<br/>from mock import patch        # -&gt; from unittest.mock import patch</span></pre><p id="9c7a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä½ æƒ³è¦å—ï¼Ÿç»™ä½ :</p><pre class="kj kk kl km gt mv lx mw mx aw my bi"><span id="8392" class="mz lz it lx b gy na nb l nc nd">-   repo: <a class="ae ne" href="https://github.com/asottile/pyupgrade" rel="noopener ugc nofollow" target="_blank">https://github.com/asottile/pyupgrade</a><br/>    rev: v2.7.2<br/>    hooks:<br/>    -   id: pyupgrade<br/>        args: [--py36-plus]</span></pre><h1 id="ee6e" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">æµ‹è¯•æ‚¨çš„ä»£ç </h1><p id="c8ce" class="pw-post-body-paragraph ky kz it la b lb mq ju ld le mr jx lg lh ms lj lk ll mt ln lo lp mu lr ls lt im bi translated">æˆ‘è€ƒè™‘è¿‡é€šè¿‡é¢„æäº¤è‡ªåŠ¨è¿è¡Œå•å…ƒæµ‹è¯•ã€‚æˆ‘å†³å®šä¸è¿™æ ·åšï¼Œå› ä¸ºè¿™å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€äº›å¿«é€Ÿæµ‹è¯•å¯ä»¥æ¯æ¬¡è‡ªåŠ¨è¿è¡Œ:</p><pre class="kj kk kl km gt mv lx mw mx aw my bi"><span id="303f" class="mz lz it lx b gy na nb l nc nd">-   repo: <a class="ae ne" href="https://github.com/pre-commit/pre-commit-hooks" rel="noopener ugc nofollow" target="_blank">https://github.com/pre-commit/pre-commit-hooks</a><br/>    rev: v3.2.0<br/>    hooks:<br/>    -   id: check-ast  # Is it valid Python?<br/>    # Check for debugger imports and py37+ breakpoint() calls<br/>    # in python source.<br/>    -   id: debug-statements</span><span id="50d1" class="mz lz it lx b gy nf nb l nc nd">-   repo: <a class="ae ne" href="https://github.com/pre-commit/mirrors-mypy" rel="noopener ugc nofollow" target="_blank">https://github.com/pre-commit/mirrors-mypy</a><br/>    rev: v0.782<br/>    hooks:<br/>    -   id: mypy<br/>        args: [--ignore-missing-imports]</span><span id="18e5" class="mz lz it lx b gy nf nb l nc nd">-   repo: <a class="ae ne" href="https://gitlab.com/pycqa/flake8" rel="noopener ugc nofollow" target="_blank">https://gitlab.com/pycqa/flake8</a><br/>    rev: '3.8.3'<br/>    hooks:<br/>    -   id: flake8</span></pre><h1 id="9072" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">å®‰å…¨æ€§</h1><p id="a9e4" class="pw-post-body-paragraph ky kz it la b lb mq ju ld le mr jx lg lh ms lj lk ll mt ln lo lp mu lr ls lt im bi translated">ç­¾å…¥å‡­è¯æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„é”™è¯¯ã€‚ä»¥ä¸‹æ˜¯é˜²æ­¢è¿™ç§æƒ…å†µçš„æ–¹æ³•:</p><pre class="kj kk kl km gt mv lx mw mx aw my bi"><span id="14d9" class="mz lz it lx b gy na nb l nc nd">-   repo: <a class="ae ne" href="https://github.com/pre-commit/pre-commit-hooks" rel="noopener ugc nofollow" target="_blank">https://github.com/pre-commit/pre-commit-hooks</a><br/>    rev: v3.2.0<br/>    hooks:<br/>    -   id: detect-aws-credentials<br/>    -   id: detect-private-key</span></pre><h1 id="d2ac" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">æ‚é¡¹æäº¤å‰æŒ‚é’©</h1><p id="a593" class="pw-post-body-paragraph ky kz it la b lb mq ju ld le mr jx lg lh ms lj lk ll mt ln lo lp mu lr ls lt im bi translated">æœ‰äº›æŒ‚é’©ä¸å±äºä¸Šè¿°ç±»åˆ«ï¼Œä½†ä»ç„¶æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œè¿™å¯ä»¥é˜²æ­¢æäº¤å¤§æ–‡ä»¶:</p><pre class="kj kk kl km gt mv lx mw mx aw my bi"><span id="530f" class="mz lz it lx b gy na nb l nc nd">-   repo: <a class="ae ne" href="https://github.com/pre-commit/pre-commit-hooks" rel="noopener ugc nofollow" target="_blank">https://github.com/pre-commit/pre-commit-hooks</a><br/>    rev: v3.2.0<br/>    hooks:<br/>    -   id: check-added-large-files</span></pre><h1 id="8814" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">åœ¨å›¢é˜Ÿä¸­å·¥ä½œ</h1><p id="0d23" class="pw-post-body-paragraph ky kz it la b lb mq ju ld le mr jx lg lh ms lj lk ll mt ln lo lp mu lr ls lt im bi translated">é¢„æäº¤æŒ‚é’©å®‰è£…åœ¨æœ¬åœ°ï¼Œå› æ­¤æ¯ä¸ªå¼€å‘äººå‘˜éƒ½å¯ä»¥è‡ªå·±å†³å®šæ˜¯å¦éœ€è¦é¢„æäº¤æŒ‚é’©ä»¥åŠéœ€è¦å“ªäº›æŒ‚é’©ã€‚ä½†æ˜¯ï¼Œæˆ‘è®¤ä¸ºæä¾›ä¸€ä¸ª<code class="fe lu lv lw lx b">.pre-commit-config.yaml</code>æœ‰ä½ æ¨èæ‰§è¡Œçš„æ’ä»¶æ˜¯æœ‰å¸®åŠ©çš„ã€‚</p><h1 id="e140" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">æ‰€æœ‰çš„é’©å­ï¼</h1><p id="2750" class="pw-post-body-paragraph ky kz it la b lb mq ju ld le mr jx lg lh ms lj lk ll mt ln lo lp mu lr ls lt im bi translated">å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªç°æˆçš„å®Œæ•´çš„<code class="fe lu lv lw lx b">.pre-commit-config.yaml</code>,è¿™é‡Œå°±æ˜¯:</p><pre class="kj kk kl km gt mv lx mw mx aw my bi"><span id="87ac" class="mz lz it lx b gy na nb l nc nd"># Apply to all files without commiting:<br/>#   pre-commit run --all-files<br/># Update this file:<br/>#   pre-commit autoupdate<br/>repos:<br/>-   repo: <a class="ae ne" href="https://github.com/pre-commit/pre-commit-hooks" rel="noopener ugc nofollow" target="_blank">https://github.com/pre-commit/pre-commit-hooks</a><br/>    rev: v3.2.0<br/>    hooks:<br/>    -   id: check-ast<br/>    -   id: check-byte-order-marker<br/>    -   id: check-case-conflict<br/>    -   id: check-docstring-first<br/>    -   id: check-executables-have-shebangs<br/>    -   id: check-json<br/>    -   id: check-yaml<br/>    -   id: debug-statements<br/>    -   id: detect-aws-credentials<br/>    -   id: detect-private-key<br/>    -   id: end-of-file-fixer<br/>    -   id: trailing-whitespace<br/>    -   id: mixed-line-ending<br/>-   repo: <a class="ae ne" href="https://github.com/pre-commit/mirrors-mypy" rel="noopener ugc nofollow" target="_blank">https://github.com/pre-commit/mirrors-mypy</a><br/>    rev: v0.782<br/>    hooks:<br/>    -   id: mypy<br/>        args: [--ignore-missing-imports]<br/>-   repo: <a class="ae ne" href="https://github.com/asottile/seed-isort-config" rel="noopener ugc nofollow" target="_blank">https://github.com/asottile/seed-isort-config</a><br/>    rev: v2.2.0<br/>    hooks:<br/>    -   id: seed-isort-config<br/>-   repo: <a class="ae ne" href="https://github.com/pre-commit/mirrors-isort" rel="noopener ugc nofollow" target="_blank">https://github.com/pre-commit/mirrors-isort</a><br/>    rev: v5.4.2<br/>    hooks:<br/>    -   id: isort<br/>-   repo: <a class="ae ne" href="https://github.com/psf/black" rel="noopener ugc nofollow" target="_blank">https://github.com/psf/black</a><br/>    rev: 20.8b1<br/>    hooks:<br/>    -   id: black<br/>-   repo: <a class="ae ne" href="https://github.com/asottile/pyupgrade" rel="noopener ugc nofollow" target="_blank">https://github.com/asottile/pyupgrade</a><br/>    rev: v2.7.2<br/>    hooks:<br/>    -   id: pyupgrade<br/>        args: [--py36-plus]<br/>-   repo: <a class="ae ne" href="https://github.com/asottile/blacken-docs" rel="noopener ugc nofollow" target="_blank">https://github.com/asottile/blacken-docs</a><br/>    rev: v1.8.0<br/>    hooks:<br/>    -   id: blacken-docs<br/>        additional_dependencies: [black==20.8b1]</span></pre><h1 id="d697" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">æ‘˜è¦</h1><p id="c430" class="pw-post-body-paragraph ky kz it la b lb mq ju ld le mr jx lg lh ms lj lk ll mt ln lo lp mu lr ls lt im bi translated">æˆ‘å–œæ¬¢é¢„æäº¤ï¼Œå› ä¸ºå®ƒéå¸¸é€‚åˆæˆ‘çš„å·¥ä½œæµç¨‹ã€‚æˆ‘åªæ˜¯åƒå¾€å¸¸ä¸€æ ·æäº¤ï¼Œé¢„æäº¤ä¼šåšæˆ‘æœ‰æ—¶ä¼šå¿˜è®°çš„æ‰€æœ‰æ£€æŸ¥ã€‚å®ƒåŠ å¿«äº†å¼€å‘é€Ÿåº¦ï¼Œå› ä¸º CI/CD ç®¡é“æ¯”åœ¨æœ¬åœ°æ‰§è¡ŒåŒæ ·çš„æ­¥éª¤è¦æ…¢å¾—å¤šã€‚ç‰¹åˆ«æ˜¯å¯¹æ—æŒºæ¥è¯´ï¼Œå¿«é€Ÿè¿è¡Œä»£ç è€Œä¸æ˜¯æäº¤ï¼Œç­‰å¾… CI/CD ç®¡é“ï¼Œæ‰¾åˆ°é”™è¯¯ï¼Œåœ¨æœ¬åœ°ä¿®å¤é”™è¯¯ï¼Œæ¨é€ï¼Œç„¶åå†æ¬¡ç­‰å¾… CI/CD ç®¡é“ï¼Œå¯ä»¥èŠ‚çœå¤§é‡æ—¶é—´ã€‚</p><p id="3030" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¦‚æœæœ‰ä½ å–œæ¬¢çš„å…¶ä»–é¢„æäº¤æŒ‚é’©ï¼Œè¯·é€šè¿‡è¯„è®ºæˆ–ç”µå­é‚®ä»¶(info@martin-thoma.de)å‘Šè¯‰æˆ‘ï¼</p></div></div>    
</body>
</html>