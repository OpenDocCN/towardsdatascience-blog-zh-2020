# ç»˜åˆ¶ç†ŠçŒ«å’Œ PPP è´·æ¬¾æ•°æ®

> åŸæ–‡ï¼š<https://towardsdatascience.com/plotting-w-pandas-and-ppp-loan-data-2d8d1995a626?source=collection_archive---------25----------------------->

## æŸ¥çœ‹æˆ‘åœ¨ Python [å­—å…¸](https://medium.com/swlh/how-to-use-python-dictionaries-19c003afa65f)ã€[åˆ—è¡¨](https://medium.com/swlh/how-to-use-python-lists-831f4369a0cb)å’Œ[å­—ç¬¦ä¸²](https://medium.com/swlh/how-to-use-python-dictionaries-19c003afa65f)ä¸Šçš„å…¶ä»–å¸–å­

## æ¢ç´¢æ€§æ•°æ®åˆ†æåˆå­¦è€…æŒ‡å—ã€‚

![](img/3b255bb514f1662366fb72692e07ab07.png)

å›¾ç‰‡ç”± Mikio Harman æä¾›

# æ•°æ®å¸§

åœ¨æ·±å…¥ç ”ç©¶æ•°æ®ä¹‹å‰ï¼Œç†è§£ä»€ä¹ˆæ˜¯æ•°æ®å¸§åŠå…¶ç”¨é€”æ˜¯å¾ˆé‡è¦çš„ã€‚äº†è§£è¿™ä¸€ç‚¹å°†æœ‰åŠ©äºæˆ‘ä»¬ç†è§£ç†ŠçŒ«çš„æ•°æ®æ˜¯å¦‚ä½•è¢«æ“çºµçš„ã€‚

ç†ŠçŒ«æ•°æ®æ¡†æ˜¯è¡¨æ ¼ï¼Œå°±åƒä½ åœ¨ Excel ä¸­çœ‹åˆ°çš„ä¸€æ ·ã€‚å®ƒä»¬ç”±åˆ—å’Œè¡Œç»„æˆï¼Œå¹¶ä»¥è¡¨æ ¼æ ¼å¼æ’åˆ—æˆ‘ä»¬çš„æ•°æ®ï¼Œä»¥ä¾¿æ›´å®¹æ˜“ä½¿ç”¨æ•°æ®è¿›è¡Œæ¨æ–­æˆ–é¢„æµ‹ã€‚

![](img/8717e839e309964d06c0a73b43c5e20a.png)

[æ•°æ®åº”æ•´é½ï¼Œå³æ¯ä¸ªå˜é‡å½¢æˆä¸€åˆ—ï¼Œæ¯ä¸ªè§‚å¯Ÿå€¼å½¢æˆä¸€è¡Œï¼Œæ¯ç§ç±»å‹çš„è§‚å¯Ÿå•ä½å½¢æˆä¸€ä¸ªè¡¨æ ¼ã€‚](https://vita.had.co.nz/papers/tidy-data.pdf)å›¾ç‰‡ç”± Mikio Harman æ‹æ‘„

æ›´å…·ä½“åœ°è¯´ï¼ŒDataFrame å¯ä»¥ä½¿ç”¨ä¸€ä¸ª`[dictionary](https://docs.python.org/3/tutorial/datastructures.html#dictionaries)`ã€`[lists](https://docs.python.org/3/tutorial/datastructures.html#more-on-lists)`ã€`[pd.Series](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas-series)`ã€`n[umpy.ndarrays](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html)`æˆ–å¦ä¸€ä¸ª`DataFrame`æ¥å¡«å…… DataFrame å¯¹è±¡ã€‚è®©æˆ‘ä»¬ä½¿ç”¨å‰å››ç§æ–¹æ³•åˆ›å»ºæ•°æ®æ¡†æ¶ï¼Œå¹¶å±•ç¤ºæŸ¥çœ‹æ•°æ®çš„å››ç§ä¸åŒæ–¹æ³•ã€‚

å¦‚æœä½ è¿˜æ²¡æœ‰ï¼Œä½ éœ€è¦ä¸‹è½½ [Pandas](https://pandas.pydata.org/pandas-docs/stable/getting_started/install.html#installation) å’Œ [NumPy](https://numpy.org/install/) æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨`[pip](https://pypi.org/project/pip/)`ã€‚

```
pip install pandas numpy
```

ç”¨ç†ŠçŒ«åˆ›å»ºæ•°æ®æ¡†å¾ˆå®¹æ˜“ã€‚æ ¹æ®æ‚¨å¤„ç†çš„æ•°æ®å’Œæ•°æ®ç»“æ„ï¼Œèƒ½å¤Ÿä»¥ä¸åŒçš„æ–¹å¼åˆ›å»ºå®ƒä»¬ç»™äº†æ‚¨å¾ˆå¤§çš„çµæ´»æ€§ã€‚æ‚¨è¿˜å¯ä»¥å°†ä¸€ä¸ªåˆ—ååˆ—è¡¨ä¼ å…¥åˆ°`columns`å‚æ•°ä¸­ï¼Œå¹¶ä½¿ç”¨`index`å‚æ•°å°†å“ªä¸ªåˆ—ç”¨äºç´¢å¼•ã€‚

æŸ¥çœ‹æ•°æ®ä¹Ÿå¾ˆç®€å•ï¼ŒPandas æä¾›äº†è®¸å¤šä»æ•°æ®ä¸­æå–è¡Œçš„æ–¹æ³•ã€‚ç¬”è®°æœ¬ä¸­æ¶µç›–çš„äº”ç§æ–¹å¼æ˜¯:

*   `[head()](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.head.html#pandas-dataframe-head)`â€”â€”çœ‹çœ‹å‰ 5 è¡Œ
*   `[tail()](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.tail.html#pandas-dataframe-tail)` â€”æŸ¥çœ‹æœ€å 5 è¡Œ
*   `[sample(x)](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sample.html#pandas-dataframe-sample)` â€”çœ‹ x éšæœºè¡Œ
*   `[shape](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.shape.html#pandas-dataframe-shape)`è¿”å›ä¸€ä¸ªå…ƒç»„:(è¡Œï¼Œåˆ—)
*   `[df[start:stop:step]](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sample.html)` â€”æ•°æ®å¸§åˆ‡ç‰‡

## æˆªæ–­

æ‚¨ç»å¸¸ä¼šé‡åˆ°æ•°æ®é›†å¤ªå¤§è€Œæ— æ³•åœ¨å±å¹•ä¸Šå®Œæ•´æ˜¾ç¤ºçš„æƒ…å†µã€‚å½“æœ‰å¤ªå¤šçš„æ•°æ®ä»¥åˆ—æˆ–è¡Œçš„æ–¹å¼æ˜¾ç¤ºæ—¶ï¼ŒPandas ä¼šè‡ªåŠ¨æˆªæ–­ä½ çš„æ•°æ®ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ ä¼šçœ‹åˆ°ä¸€ä¸ªäº¤å‰çš„`â€¦`ç©¿è¿‡ä½ çš„æ•°æ®ï¼Œå°±åƒä¸Šé¢çš„ä¾‹å­ä¸­çœ‹åˆ°çš„é‚£æ ·ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è®¿é—®`[pd.options](https://pandas.pydata.org/pandas-docs/stable/user_guide/options.html#options-and-settings)`æ–¹æ³•æ¥è§£å†³:

```
**# Changing these settings as seen in the notebook above will let you view your desired amount of rows and columns.**
pd.options.display.max_rows
pd.options.display.max_columns**# View up to 100 rows and columns**
pd.options.display.max_rows = 100
pd.options.display.max_columns = 100
```

è­¦å‘Šæ˜¾ç¤ºæ¯”éœ€è¦æ›´å¤šçš„è¡Œå’Œåˆ—å°†ä¼šå¢åŠ æŸ¥çœ‹ä»£ç è¾“å‡ºçš„æ—¶é—´ã€‚

ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£äº†ä»€ä¹ˆæ˜¯æ•°æ®å¸§ä»¥åŠä¸æ•°æ®å¸§ç›¸å…³çš„ä¸€äº›åŸºæœ¬åŠŸèƒ½ï¼Œè®©æˆ‘ä»¬åŠ è½½ä¸€äº›æ•°æ®å¹¶è¿›è¡Œä¸€äº›åˆæ­¥çš„ EDAã€‚

## EDA æ˜¯ä»€ä¹ˆï¼Ÿ

> "æ¢ç´¢æ€§æ•°æ®åˆ†æ(EDA)æ˜¯ä¸€ç§åˆ©ç”¨å„ç§æŠ€æœ¯(ä¸»è¦æ˜¯å›¾å½¢æŠ€æœ¯)è¿›è¡Œæ•°æ®åˆ†æçš„æ–¹æ³•/ç†å¿µ. "
> 
> [- NIST/SEMATECH ç»Ÿè®¡æ–¹æ³•ç”µå­æ‰‹å†Œ](https://www.itl.nist.gov/div898/handbook/eda/section1/eda11.htm)

å¯¹äºä»€ä¹ˆæ ·çš„æŠ€æœ¯å¯ä»¥ç”¨äº EDA æ²¡æœ‰ç¡¬æ€§è§„å®šï¼Œä½†æ˜¯é€šå¸¸ä½¿ç”¨å¯è§†åŒ–å’Œç®€å•çš„ç»Ÿè®¡æ¥å¸®åŠ©æ¢ç´¢æ•°æ®ã€‚è¿™å¯ä»¥åŒ…æ‹¬ä½¿ç”¨:

1.  æ•£ç‚¹å›¾
2.  ç®±çº¿å›¾
3.  ç›´æ–¹å›¾
4.  çº¿å½¢å›¾
5.  æ¡å½¢å›¾

**å·¥èµ„ä¿éšœè®¡åˆ’è´·æ¬¾æ•°æ®é›†**

å°†é¼ æ ‡æ‚¬åœåœ¨æŸä¸ªçŠ¶æ€ä¸Šå¯æŸ¥çœ‹æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚

å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨[å°ä¼ä¸šç®¡ç†å±€å·¥èµ„ä¿éšœè®¡åˆ’è´·æ¬¾æ°´å¹³æ•°æ®](https://home.treasury.gov/policy-issues/cares-act/assistance-for-small-businesses/sba-paycheck-protection-program-loan-level-data)ã€‚2020 å¹´ 3 æœˆï¼Œç¾å›½ç«‹æ³•è€…åŒæ„äº†ä¸€é¡¹ä»·å€¼ 2 ä¸‡äº¿ç¾å…ƒçš„åˆºæ¿€æ³•æ¡ˆã€‚è¯¥å¥—é¤åŒ…æ‹¬

*   æˆäºº 1ï¼Œ200 åŠ å…ƒï¼Œå®¶åº­æ”¶å…¥ä¸è¶…è¿‡ 75ï¼Œ000 åŠ å…ƒçš„æ¯ä¸ªå„¿ç«¥ 500 åŠ å…ƒ
*   ä¸ºç¾å›½ä¼ä¸šæä¾› 5000 äº¿ç¾å…ƒçš„åŸºé‡‘è´·æ¬¾ï¼Œæ¯ç¬”è´·æ¬¾éƒ½è¦å…¬å¼€
*   å¤±ä¸šæ•‘æµé‡‘è¿ç»­å››ä¸ªæœˆå¢åŠ äº† 600 ç¾å…ƒ
*   èˆªç©ºå…¬å¸ 250 äº¿ç¾å…ƒ
*   èˆªç©ºè´§è¿å…¬å¸ 40 äº¿ç¾å…ƒ
*   30 äº¿ç¾å…ƒç”¨äºèˆªç©ºæ‰¿åŒ…å•†
*   3670 äº¿ç¾å…ƒçš„å°å‹ä¼ä¸šè´·æ¬¾å’Œè¡¥åŠ©è®¡åˆ’
*   å·æ”¿åºœå’Œåœ°æ–¹æ”¿åºœ 1500 äº¿ç¾å…ƒ
*   1300 äº¿ç¾å…ƒç”¨äºåŒ»é™¢ã€åŒ»ç–—ä¿å¥ç³»ç»Ÿå’Œä¾›åº”å•†

æˆ‘ä»¬å°†ä½¿ç”¨åˆ†é…ç»™å°ä¼ä¸šçš„ 3670 äº¿ç¾å…ƒçš„æ•°æ®ï¼Œçœ‹çœ‹ EDA æ˜¯å¦èƒ½å¸®åŠ©æˆ‘ä»¬å¾—å‡ºä»»ä½•å‡è®¾ã€‚

> â€œå·¥èµ„ä¿æŠ¤è®¡åˆ’æ˜¯ä¸€é¡¹è´·æ¬¾ï¼Œæ—¨åœ¨ä¸ºå°ä¼ä¸šæä¾›ç›´æ¥æ¿€åŠ±ï¼Œä»¥ä¿æŒä»–ä»¬çš„å·¥äººåœ¨å·¥èµ„å•ä¸Šã€‚â€
> 
> -[sba.gov](https://www.sba.gov/funding-programs/loans/coronavirus-relief-options/paycheck-protection-program)

## æ±‡æ€»ç»Ÿè®¡æ•°æ®

Pandas æœ‰è®¸å¤šç”¨äºè¿”å›æ±‡æ€»ç»Ÿè®¡æ•°æ®çš„å†…ç½®æ–¹æ³•ã€‚æˆ‘æœ€å–œæ¬¢çš„ä¸€äº›åŒ…æ‹¬`[describe()](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.describe.html#pandas-dataframe-describe)`å’Œ`[info()](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.info.html#pandas-dataframe-info)`ã€‚

`describe()`å°†è¿”å›ä¸¤ç»„ä¸åŒçš„æè¿°æ€§ç»Ÿè®¡æ•°æ®ï¼Œå…·ä½“å–å†³äºæ˜¯å¯¹åˆ†ç±»åˆ—è¿˜æ˜¯æ•°å­—åˆ—æ‰§è¡Œè¯¥æ“ä½œã€‚

**åˆ†ç±»åˆ—(ç¦»æ•£å€¼):**

*   `**count**` â€”åˆ—ä¸­éç¼ºå¤±å€¼çš„æ•°é‡
*   `**unique**` â€”åˆ—ä¸­æœ‰å¤šå°‘ä¸ªå”¯ä¸€å€¼
*   `**top**` â€”åˆ—ä¸­æœ€å¸¸è§çš„å€¼
*   `**freq**` â€”æœ€å¤§`**top**`å€¼åœ¨åˆ—ä¸­å‡ºç°å¤šå°‘æ¬¡

**æ•°å­—åˆ—(è¿ç»­å€¼):**

*   `**count**` â€”åˆ—ä¸­éç¼ºå¤±å€¼çš„æ•°é‡
*   `**mean**` â€”åˆ—ä¸­æ‰¾åˆ°çš„å¹³å‡å€¼
*   `**std**` â€”åˆ—çš„æ ‡å‡†åå·®
*   `**min**` â€”åˆ—ä¸­çš„æœ€å°å€¼
*   `**25%**` â€”åˆ—çš„ç¬¬ 25 ä¸ªç™¾åˆ†ç‚¹å€¼
*   `**50%**` â€”åˆ—çš„ç¬¬ 50 ä¸ªç™¾åˆ†ä½(ä¸­å€¼)çš„å€¼
*   `**75%**` â€”åˆ—çš„ç¬¬ 75 ç™¾åˆ†ä½çš„å€¼
*   `**max**` â€”åˆ—ä¸­çš„æœ€å¤§å€¼

`info()`å‘Šè¯‰æˆ‘ä»¬å…³äºç´¢å¼•æ•°æ®ç±»å‹ã€åˆ—æ•°æ®ç±»å‹ã€å­˜åœ¨å¤šå°‘éç©ºå€¼ä»¥åŠæ•°æ®å¸§ä½¿ç”¨çš„å†…å­˜é‡çš„ä¿¡æ¯ã€‚

è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€äº›è¿è¡Œä¸­çš„ä»£ç ã€‚

## åŠ è½½æ•°æ®

Pandas å¯ä»¥åŠ è½½å¤šç§æ–‡ä»¶ç±»å‹ï¼Œè¿™å–å†³äºä½ ä½¿ç”¨å“ªç§æ–‡ä»¶ç±»å‹ã€‚æˆ‘ä½¿ç”¨çš„æ•°æ®æ˜¯ä¸€ä¸ª CSV æ–‡ä»¶ï¼ŒPandas æ–¹ä¾¿åœ°æä¾›äº†ä¸€ä¸ª`[read_csv()](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.info.html#pandas-dataframe-info)`æ–¹æ³•ï¼Œå½“ç»™å®šæ­£ç¡®çš„æ–‡ä»¶è·¯å¾„æ—¶ï¼Œè¯¥æ–¹æ³•ä¼šè‡ªåŠ¨å°†æ•°æ®è¯»å…¥ DataFrameã€‚Pandas è¿˜æä¾›äº†è®¸å¤šå‚æ•°ï¼Œåœ¨åŠ è½½æ•°æ®æ—¶å¯ä»¥åŒ…å«è¿™äº›å‚æ•°ï¼Œè¿™å¯ä»¥å‡å°‘æ•°æ®æ¸…ç†è¿‡ç¨‹ä¸­çš„å¤§é‡ç¹é‡å·¥ä½œã€‚

æƒ³å­¦ä¹ åŠ è½½ä¸åŒçš„æ–‡ä»¶ç±»å‹å—ï¼Ÿæ£€æŸ¥è¿™é‡Œçš„[å’Œ](https://pandas.pydata.org/pandas-docs/stable/reference/io.html#input-output)ã€‚

## **æ¥ ç­–**

ç¼ºå¤±å€¼åœ¨æ•°æ®ä¸­æ™®éå­˜åœ¨ï¼Œå¤„ç†å®ƒä»¬å°†æ˜¯ä¸€é¡¹å¸¸è§çš„ä»»åŠ¡ã€‚Pandas ä»¥`NaN`çš„å½¢å¼è¡¨ç¤ºç¼ºå¤±å€¼ï¼Œæ„æ€æ˜¯â€œä¸æ˜¯ä¸€ä¸ªæ•°å­—â€ã€‚è¿™äº›ä¸æ˜¯è¡¨ç¤ºç¼ºå¤±å€¼çš„å”¯ä¸€æ–¹å¼ï¼Œæ‚¨çš„å·¥ä½œæ˜¯ç¡®å®šåœ¨ç”Ÿæˆæ•°æ®æ—¶å¦‚ä½•å¤„ç†ç¼ºå¤±å€¼ã€‚å½“æ‚¨ä½¿ç”¨ Pandas è¯»å…¥æ•°æ®æ—¶ï¼Œæ‚¨å¯ä»¥æŒ‡å®šå“ªäº›å€¼ä»£è¡¨ç¼ºå¤±å€¼ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒPandas åœ¨åŠ è½½æ•°æ®æ—¶ä¼šå°†ä»¥ä¸‹å€¼è§£é‡Šä¸ºç¼ºå¤±ï¼Œå¹¶ä¼šè‡ªåŠ¨å°†å®ƒä»¬è½¬æ¢ä¸ºä¸€ä¸ª`NaN`:' 'ã€' #N/A 'ã€' #N/A N/A 'ã€' #NA 'ã€'-1ã€‚#IND 'ï¼Œ'-1ã€‚#QNAN 'ï¼Œ'-nan 'ï¼Œ'-NaN 'ï¼Œ' 1ã€‚#IND 'ï¼Œ' 1ã€‚' #QNAN 'ï¼Œ'< NA >'ï¼Œ'ä¸é€‚ç”¨'ï¼Œ' NA 'ï¼Œ' null 'ï¼Œ' NAN 'ï¼Œ'ä¸é€‚ç”¨'ï¼Œ' NaN 'ï¼Œ' NULL 'ã€‚

æˆ‘é€šè¿‡å°†ä¸¤ä¸ªæ–¹æ³•é“¾æ¥åœ¨ä¸€èµ·æ¥ç¡®å®šæ¯ä¸€åˆ—ä¸­æœ‰å¤šå°‘ç¼ºå¤±å€¼ã€‚

```
df.isna().sum()
```

`[isna()](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.isna.html#pandas-dataframe-isna)`ä¸ºæ•°æ®å¸§ä¸­çš„æ¯ä¸ªå€¼è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœå®ƒä¸¢å¤±æˆ–ä¸ä¸¢å¤±ï¼Œ`[sum()](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sum.html#pandas-dataframe-sum)`å¯¹å¸ƒå°”å€¼è¿›è¡Œåˆè®¡ï¼Œä»¥ç¡®å®šæ¯åˆ—ä¸­æœ‰å¤šå°‘ä¸ªä¸¢å¤±çš„å€¼ã€‚è¿™æ˜¯ä¸€ç§ç®€ä¾¿çš„æ–¹æ³•ï¼Œå¯ä»¥çŸ¥é“å“ªäº›åˆ—å¯ä»¥ç«‹å³åˆ é™¤ï¼Œå“ªäº›åˆ—éœ€è¦è¿›ä¸€æ­¥åˆ†æï¼Œä»¥äº†è§£åº”è¯¥å¦‚ä½•å¤„ç†ç¼ºå¤±çš„å€¼ã€‚

## ç†ŠçŒ«ç­–åˆ’

å¯¹ Pandas ä½¿ç”¨`[plot()](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.plot.html#pandas-dataframe-plot)`æ–¹æ³•å¯ä»¥å¾ˆå®¹æ˜“åœ°å¿«é€Ÿå¯è§†åŒ–æ‚¨çš„æ•°æ®ã€‚è®©æˆ‘ä»¬è¯•ç€ä½¿ç”¨æ–¹æ³•æ¥ç†è§£ä¸€äº›å¯ç”¨çš„ç‰¹æ€§ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç†ŠçŒ«åˆ›å»ºä»¥ä¸‹åœ°å—ã€‚

1.  ç›´æ–¹å›¾â€”éå¸¸é€‚åˆæŸ¥çœ‹æ•°æ®çš„é¢‘ç‡
2.  ç®±çº¿å›¾â€”éå¸¸é€‚åˆæŸ¥çœ‹æ•°æ®çš„åˆ†å¸ƒ
3.  æ°´å¹³æ¡å½¢å›¾â€”éå¸¸é€‚åˆæ£€æŸ¥ç¦»æ•£ç±»å‹
4.  å †ç§¯å›¾â€”â€”éå¸¸é€‚åˆæ¯”è¾ƒå¤šä¸ªæ¨è®ºã€‚

## åˆ—é€‰æ‹©å’Œåˆ†ç»„ä¾æ®

Pandas é€šè¿‡ç®€å•åœ°åœ¨`[]`ä¸­ä¼ é€’åˆ—åå’Œåˆ—åå°±å¯ä»¥å¾ˆå®¹æ˜“åœ°é€‰æ‹©ä¸€ä¸ªåˆ—ã€‚å¦‚æœæ‚¨æƒ³é€‰æ‹©å¤šä¸ªåˆ—ï¼Œåªéœ€ä¼ é€’ä¸€ä¸ªåç§°åˆ—è¡¨å³å¯ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“æ‚¨é€‰æ‹©ä¸€ä¸ªåŒ…å«ç´¢å¼•æ ‡ç­¾å’Œå€¼çš„åˆ—æ—¶ï¼ŒPandas å°†è¿”å›ä¸€ä¸ª`pd.Series`å¯¹è±¡ï¼Œå¦‚æœæ‚¨æƒ³è¿”å›ä¸€ä¸ª`DataFrame`å¯¹è±¡ï¼Œåªéœ€ä¼ é€’åˆ—è¡¨ä¸­çš„å•ä¸ªåˆ—åå³å¯ã€‚ç‚¹å‡»äº†è§£æ›´å¤šä¿¡æ¯ã€‚

```
**# Make the DataFrame**
data = {chr(65+x):[x+1] for x in range(3)}
df = pd.DataFrame(data)**# Getting a single column**
print(df["C"])
print(type(df["C"]))*# Output
0    3
<class 'pandas.core.series.Series'>***# Returning a DataFrame from a single column**
print(df[["C"]])
print(type(df[["C"]]))*# Output
0    3
1    4
Name: C, dtype: int64
<class 'pandas.core.frame.DataFrame'>***# Passing a list of column names**
print(df[["B", "A"]])*#Output
   B   A
0  2  1
1  3  2
<class 'pandas.core.frame.DataFrame'>*
```

æœ‰æ—¶ï¼Œæ‚¨ä¼šå¸Œæœ›æŒ‰æŸä¸ªå˜é‡å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œå¹¶å¯¹å…¶ä½™æ•°æ®æ‰§è¡Œèšåˆ(å¹³å‡å€¼ã€æ€»å’Œã€è®¡æ•°ç­‰)ã€‚).è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨`[groupby()](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.groupby.html#pandas-dataframe-groupby)`æ–¹æ³•æ¥å®ç°ã€‚`groupby()`çš„åŸºæœ¬è¯­æ³•æ˜¯è¿™æ ·çš„:

`df.groupby(<Column Name to group by>).<aggregation function>`

æˆ‘å¼ºçƒˆæ¨èé˜…è¯»ç›¸å…³æ–‡æ¡£ï¼Œ`groupby()`æ˜¯ç†ŠçŒ«ç»å¸¸ä½¿ç”¨çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯æˆ‘æœ€å–œæ¬¢ä½¿ç”¨çš„æ–¹æ³•ä¹‹ä¸€ã€‚ä¸‹é¢çš„ä»£ç ç¤ºä¾‹æ›´è¯¦ç»†åœ°è¯´æ˜äº†å¦‚ä½•ä½¿ç”¨å®ƒã€‚

## æŸ±çŠ¶å›¾

```
df["JobsRetained"].plot(
    kind="hist", 
    title="Frequency of JobsRetained",
    bins=30,
    alpha=0.3 **#adjusts the transperancy**
)
```

![](img/67ff00cebea58d0aa0da70d7679792d0.png)

å›¾ç‰‡ç”± Mikio Harman æä¾›

ç›´æ–¹å›¾æ˜¾ç¤ºäº†è£…ç®±å€¼çš„å‡ºç°é¢‘ç‡ã€‚

å½“æŸ¥çœ‹â€œJobsRetainedâ€åˆ—æ—¶ï¼Œæˆ‘ä»¬çœ‹åˆ°æ•°æ®ä¸­å¯èƒ½å­˜åœ¨å¼‚å¸¸å€¼ã€‚æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°æ­£æ€åˆ†å¸ƒï¼Œä½†æ˜¾ç„¶ï¼Œä» x è½´ä¸Šçœ‹ï¼Œå•ä¸ªä¼ä¸šå¯ä»¥ä¿ç•™çš„å·¥ä½œå²—ä½æ•°é‡åœ¨ 0-500 ä¹‹é—´ã€‚è¿™ä¸ªç›´æ–¹å›¾å‘Šè¯‰æˆ‘ä»¬ï¼Œæˆ‘ä»¬çš„æ•°æ®æ˜¯å³åçš„ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬çš„å¤§éƒ¨åˆ†æ•°æ®å€¼å‡ºç°åœ¨ 0-100 ä¸ªä¿ç•™çš„å·¥ä½œä¹‹é—´ã€‚

## ç®±çº¿å›¾

```
df["JobsRetained"].plot(
    kind="box",
    vert=False, **#makes the box plot horizontal**
    title="Distribution of JobsRetaimed"
);
```

![](img/c4d0667b03fc946ed8394502190601c2.png)

å›¾ç‰‡ç”± Mikio Harman æä¾›

ç®±çº¿å›¾å‘æˆ‘ä»¬æ›´ç²¾ç¡®åœ°å±•ç¤ºäº†è¿ç»­æ•°æ®çš„åˆ†å¸ƒã€‚å›¾è¡¨ä¸Šçš„æ–¹æ¡†ä»£è¡¨ä»ç¬¬ 25 ä¸ªç™¾åˆ†ä½æ•°åˆ°ç¬¬ 75 ä¸ªç™¾åˆ†ä½æ•°çš„å››åˆ†ä½æ•°èŒƒå›´ï¼Œçº¢çº¿ä»£è¡¨ä¸­ä½æ•°ã€‚ç¦»å¼€ç›’å­çš„çº¿è¢«ç§°ä¸ºé¡»ï¼Œä»ä¸€ä¸ªé¡»çš„æœ«ç«¯åˆ°å¦ä¸€ä¸ªé¡»çš„æœ«ç«¯çš„è·ç¦»ä»£è¡¨ 99.3%çš„æ•°æ®ã€‚å¦å¤– 0.7%æ˜¾ç¤ºåœ¨èƒ¡é¡»å¤–ã€‚

åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå¼‚å¸¸å€¼çœ‹èµ·æ¥å°±åƒæ˜¯ç´§å¯†æ’åˆ—åœ¨ä¸€èµ·çš„æ•°æ®ç‚¹çš„é»‘è‰²ç²—çº¿ã€‚ç®±çº¿å›¾çœ‹èµ·æ¥ä¸ç›´æ–¹å›¾ç›¸ä¼¼ï¼Œå› ä¸ºå®ƒä¹Ÿè¢«æ¨åˆ°äº†å›¾è¡¨çš„å·¦ä¾§ã€‚æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°è¿™ä¸€ç‚¹ï¼Œå› ä¸ºæˆ‘ä»¬çš„ç›´æ–¹å›¾å·²ç»æ˜¾ç¤ºï¼Œå¤§å¤šæ•°å€¼éƒ½åœ¨ 0-100 ä¸ªä¿ç•™çš„å·¥ä½œå²—ä½ä¹‹é—´ã€‚

## æ¡å½¢å›¾

```
df["LoanRange"].value_counts(normalize=True).plot(
    kind="barh", 
    title="Normazlized Loan Distribution",
    legend=True,
    alpha=0.3
)
```

![](img/2104d824f15153578a9255dd99e3c8e9.png)

å›¾ç‰‡ç”± Mikio Harman æä¾›

æ¡å½¢å›¾æœ‰åŠ©äºå¯è§†åŒ–ç¦»æ•£å˜é‡çš„åˆ†å¸ƒã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨â€œLoanRangeâ€åˆ—ä¸­ç»˜åˆ¶äº†äº”ä¸ªä¸åŒçš„å€¼ã€‚è¿™äº›å€¼ä»£è¡¨æ¯ä¸ªæ‰¹å‡†å±äºå“ªä¸€ç±»è´·æ¬¾ã€‚

x è½´æ˜¯å½’ä¸€åŒ–çš„ï¼Œè¿™æ„å‘³ç€å®ƒæ˜¾ç¤ºäº†æ¯ä¸ªç¦»æ•£å€¼ä¸æ•´ä¸ªæ•°æ®é›†ç›¸æ¯”æ‰€å çš„æ¯”ä¾‹ã€‚çœ‹èµ·æ¥æœ€å¸¸æ‰¹å‡†çš„è´·æ¬¾åœ¨ 0-350ï¼Œ000 ç¾å…ƒä¹‹é—´ï¼Œå æ€»æ•°æ®çš„ 50-60%ã€‚æ•°æ®éœ€è¦åœ¨ç»˜å›¾å‰æ±‡æ€»ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨ä»£ç ä¸­ä½¿ç”¨äº†`[value_counts()](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.value_counts.html#pandas-series-value-counts)`ã€‚

## å¹³å‡å€¼å’Œä¸­ä½æ•°

```
df.groupby("State")["JobsRetained"].mean().sort_values().plot(
    kind="bar",
    title = "Mean Jobs Retained In Each State",
    alpha = 0.3,
    legend=True,
)df.groupby("State")["JobsRetained"].median().sort_values().plot(
    kind="line",
    title = "Mean Jobs Retained In Each State",
    legend=True,
    color="red",
    rot=90,
    alpha=.8,
    figsize=(12,5) **#determines the size** 
)
plt.ylabel("Jobs Retained") 
plt.legend(["Median", "Mean"])
```

![](img/55ad710c81874a36b81ee4bef4c9e278.png)

å›¾ç‰‡ç”± Mikio Harman æä¾›

åªè¦å…·æœ‰ç›¸åŒçš„ x è½´ï¼Œå°±å¯ä»¥åœ¨å½¼æ­¤çš„é¡¶éƒ¨ç»˜åˆ¶å¤šä¸ªå›¾ã€‚æ‚¨è¿˜å¯ä»¥åœ¨ä»£ç ä¹‹å¤–ä½¿ç”¨ä¸€äº› matplotlib è¯­æ³•æ¥å¾®è°ƒå›¾è¡¨çš„å¤–è§‚ã€‚

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çœ‹åˆ°æ•°æ®ä¸­æ¯ä¸ªå·çš„â€œä¿ç•™çš„å·¥ä½œâ€çš„ä¸­å€¼å’Œå¹³å‡å€¼ç›¸äº’å åŠ ã€‚ç”±äºæ•°æ®çš„åæ–œï¼Œé¢„è®¡ä¼šçœ‹åˆ°ä¸€ä¸ªéå¸¸é«˜çš„å¹³å‡å€¼ã€‚ä¸­ä½æ•°åªæ˜¯æ•´ä¸ªæ•°æ®é›†ä¸­çš„ä¸­é—´æ•°å­—ã€‚ç”±äºä¿ç•™äº† 0-100 ä¸ªå·¥ä½œå²—ä½ä¹‹é—´çš„å¤§é‡æ•°æ®ï¼Œä»¥åŠä¿ç•™äº†çº¦ 0-500 ä¸ªå·¥ä½œå²—ä½çš„æ•°æ®èŒƒå›´ï¼Œå› æ­¤ä¸­å€¼è¿œä½äºå¹³å‡å€¼æ˜¯æœ‰æ„ä¹‰çš„ã€‚

## ç†ŠçŒ«ç®€ä»‹

![](img/bdbe5bc8a593c9d09df12be8ca8cc3c9.png)

ä¸€ä¸ªä¸º Pandas ä¸­çš„ä»»ä½•æ•°æ®é›†è‡ªåŠ¨ç”Ÿæˆ EDA çš„åŒ…ã€‚

æ²¡æœ‰æåˆ°[ç†ŠçŒ«ç®€ä»‹](https://pandas-profiling.github.io/pandas-profiling/docs/master/index.html)ï¼Œå…³äºç†ŠçŒ«çš„ EDA è®¨è®ºå°±ä¸å®Œæ•´ã€‚Pandas Profiling å°†è‡ªåŠ¨æ‰§è¡Œå„ç§ EDA æŠ€æœ¯ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªäº¤äº’å¼æŠ¥å‘Šã€‚å®ƒéå¸¸å®¹æ˜“ä¸Šæ‰‹ï¼Œæˆ‘å·²ç»åŒ…å«äº†ä¸€ä¸ªäº¤äº’å¼æŠ¥å‘Šï¼Œå¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ•°æ®æ¥æŸ¥çœ‹å®ƒçš„è¿è¡Œæƒ…å†µã€‚**å‚è§äº’åŠ¨æŠ¥é“** [**æ­¤å¤„**](https://nbviewer.jupyter.org/github/mpHarm88/projects/blob/master/pandas/dataframes4.ipynb) **ã€‚**

## **æ„Ÿè°¢é˜…è¯»ğŸ‰**

æˆ‘å¸Œæœ›ä½ ç°åœ¨èƒ½å¤Ÿè‡ªå·±å®Œæˆä¸€äº›ç®€å•çš„ EDAï¼

åœ¨è¿™é‡Œæ‰¾åˆ°è¿™ä¸ªåšå®¢çš„ä»£ç ã€‚