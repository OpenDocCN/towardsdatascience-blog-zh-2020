<html>
<head>
<title>How to Develop Optimization Models in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 Python 开发优化模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-develop-optimization-models-in-python-1a03ef72f5b4?source=collection_archive---------7-----------------------#2020-06-27">https://towardsdatascience.com/how-to-develop-optimization-models-in-python-1a03ef72f5b4?source=collection_archive---------7-----------------------#2020-06-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="370b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用 Python 和 PuLP 的线性编程演练</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f1eeeacd7da6fb217e1cd46996120524.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PWmZV8eUjgnD85Uf"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@chuttersnap" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="58a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在给定的情况下，如稀缺资源的分配，确定如何以最佳方式设计和操作系统，通常需要在决策中利用定量方法。<a class="ae ky" href="https://en.wikipedia.org/wiki/Mathematical_optimization" rel="noopener ugc nofollow" target="_blank">数学优化</a>是在特定情况下决定最佳行动的主要方法之一。它包括通过从允许的集合中系统地选择输入值并计算目标函数值来最大化或最小化真实函数。</p><p id="455a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">优化的一些使用案例包括:</p><ul class=""><li id="09a9" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><strong class="lb iu">产品计划和库存控制:</strong>计划订单的发放，同时避免缺货和超出产能限制</li><li id="efc9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">路线决策:</strong>确定最具成本效益的路线的过程</li><li id="9be1" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">包装问题:</strong>在不超出容量的情况下，确定包装方式，同时最小化自由空间</li><li id="3a1d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">资源计划:</strong>确定每个项目和所需资源的数量</li><li id="db28" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">排班:</strong>如排班工人的班次</li><li id="8bab" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">选址问题:</strong>在保证需求的同时，将运输成本降至最低的设施布局。</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="2efb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将演示一些优化问题的解决方案，利用线性编程，并使用 Python 中的 PuLP 库。</p><p id="3b40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">线性规划处理在决策变量上服从线性等式/不等式约束的情况下优化线性目标函数(例如最大利润或最小成本)的问题。</p><p id="1826" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">线性规划有三个组成部分:</p><ol class=""><li id="ee07" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu mq mb mc md bi translated"><strong class="lb iu">决策变量:</strong>决策者可以直接控制的变量。</li><li id="f177" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu mq mb mc md bi translated"><strong class="lb iu">目标函数:</strong>以数学方式表达最大化或最小化数量的线性函数。</li><li id="0c86" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu mq mb mc md bi translated"><strong class="lb iu">约束:</strong>表示对决策变量的限制的等式或不等式的数学表达式。</li></ol><p id="091f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看一些例子。你可以查看我的 GitHub 上的<a class="ae ky" href="https://github.com/Idilismiguzel/Optimization/blob/master/LP-puLP.ipynb" rel="noopener ugc nofollow" target="_blank"> Jupyter 笔记本</a>来获得完整的分析。</p><h1 id="7292" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">1.资源计划示例</h1><blockquote class="nj nk nl"><p id="301f" class="kz la nm lb b lc ld ju le lf lg jx lh nn lj lk ll no ln lo lp np lr ls lt lu im bi translated">面包店每天都做蛋糕和馅饼。它可以在一天内制作总共 30 个项目，至少必须为其计划的客户制作 5 个蛋糕和 10 个馅饼。每个蛋糕的利润是 1.5 美元，每个馅饼的利润是 2 美元。应该生产多少才能使利润最大化？</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/7e13af896247a6a73d21ef9ae054953e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0A_mD-8Dcz8LKx0ldNHvKw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.pexels.com/photo/shelves-of-assorted-cake-in-a-bakeshop-2536967/" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="1a67" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个例子很简单，意味着它不需要我们使用 PuLP 或 Python 的任何功能，但它是理解概念的一个很好的练习。</p><p id="9a30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">问题的目标函数是利润最大化:</p><blockquote class="nr"><p id="0599" class="ns nt it bd nu nv nw nx ny nz oa lu dk translated">最大利润= 1.5*C + 2*P</p></blockquote><p id="7c80" class="pw-post-body-paragraph kz la it lb b lc ob ju le lf oc jx lh li od lk ll lm oe lo lp lq of ls lt lu im bi translated">受以下限制:</p><blockquote class="nr"><p id="3ec0" class="ns nt it bd nu nv nw nx ny nz oa lu dk translated">C &gt;= 5，P &gt;= 10，</p><p id="f970" class="ns nt it bd nu nv nw nx ny nz oa lu dk translated">但是并不是所有的问题都像这个问题一样简单，如果我们想要计算复杂问题的每个决策变量的每个约束，我们可能会遇到严重的时间问题。😅</p></blockquote><p id="73f3" class="pw-post-body-paragraph kz la it lb b lc ob ju le lf oc jx lh li od lk ll lm oe lo lp lq of ls lt lu im bi translated">让我们看另一个例子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/575c17067f01ea92556ba00f04b28a4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*TPYKjhz6pi9Fr-qu9Sn_UA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">面包店在一个月的每一天都制作蛋糕和馅饼。有:1 个烤箱，2 个面包机，1 个包装打包机，一个月只工作 22 天。蛋糕需要用烤箱烤 1 天，馅饼需要 0.5 天。每个面包师需要为蛋糕工作 0.5 天，为馅饼工作 2 天。包装工需要为蛋糕工作 1 天，为馅饼工作 0.5 天。每个蛋糕的利润是 15 美元，每个馅饼的利润是 12 美元。在给定的条件下，利润最大化应该生产多少？</p></figure><p id="efb1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了解决这个问题使用纸浆，我们将遵循共同的建模过程。</p><p id="855c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">1.导入纸浆并初始化模型:</p><blockquote class="nj nk nl"><p id="1ae5" class="kz la nm lb b lc ld ju le lf lg jx lh nn lj lk ll no ln lo lp np lr ls lt lu im bi translated">在<code class="fe oh oi oj ok b">LpProblem()</code>方法中，我们定义了问题名称和目标函数的含义，目标函数可以是“LpMaximize”或“LpMinimize”。</p></blockquote><p id="9f65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.定义决策变量:</p><h2 id="0967" class="ol ms it bd mt om on dn mx oo op dp nb li oq or nd lm os ot nf lq ou ov nh ow bi translated">在<code class="fe oh oi oj ok b">LpVariable()</code>方法中，我们为变量定义了一个名字，下界和上界的值，以及可以是‘整数’、‘二进制’或‘连续’的类别类型。因为我们想要一个整数值来表示蛋糕和馅饼的数量，所以我们选择 integer。</h2><p id="d0da" class="pw-post-body-paragraph kz la it lb b lc ox ju le lf oy jx lh li oz lk ll lm pa lo lp lq pb ls lt lu im bi translated">3.定义目标函数:</p><pre class="kj kk kl km gt pc ok pd pe aw pf bi"><span id="7726" class="ol ms it ok b gy pg ph l pi pj">import pulp<br/>from pulp import *</span><span id="2ce8" class="ol ms it ok b gy pk ph l pi pj">model = LpProblem('Maximize Bakery Profits', sense= LpMaximize)</span></pre><h2 id="a611" class="ol ms it bd mt om on dn mx oo op dp nb li oq or nd lm os ot nf lq ou ov nh ow bi translated">使用<code class="fe oh oi oj ok b">+=</code>将目标函数添加到初始化的模型中</h2><p id="43ae" class="pw-post-body-paragraph kz la it lb b lc ox ju le lf oy jx lh li oz lk ll lm pa lo lp lq pb ls lt lu im bi translated">4.定义约束条件:</p><pre class="kj kk kl km gt pc ok pd pe aw pf bi"><span id="5a75" class="ol ms it ok b gy pg ph l pi pj">C = LpVariable('C', lowBound=0, upBound=None, cat='Integer')<br/>P = LpVariable('P', lowBound=0, upBound=None, cat='Integer')</span></pre><h2 id="a620" class="ol ms it bd mt om on dn mx oo op dp nb li oq or nd lm os ot nf lq ou ov nh ow bi translated">使用<code class="fe oh oi oj ok b">+=</code>将约束添加到初始化的模型中。注意，约束不同于目标函数，因为它们在右边有(不)等式。</h2><p id="bc53" class="pw-post-body-paragraph kz la it lb b lc ox ju le lf oy jx lh li oz lk ll lm pa lo lp lq pb ls lt lu im bi translated">5.求解模型</p><pre class="kj kk kl km gt pc ok pd pe aw pf bi"><span id="4540" class="ol ms it ok b gy pg ph l pi pj">model += 15 * C + 12 * P</span></pre><h2 id="ba4a" class="ol ms it bd mt om on dn mx oo op dp nb li oq or nd lm os ot nf lq ou ov nh ow bi translated">调用求解方法<code class="fe oh oi oj ok b">model.solve()</code></h2><p id="a93a" class="pw-post-body-paragraph kz la it lb b lc ox ju le lf oy jx lh li oz lk ll lm pa lo lp lq pb ls lt lu im bi translated">检查解决方案的状态<code class="fe oh oi oj ok b">LpStatus[model.status]</code></p><pre class="kj kk kl km gt pc ok pd pe aw pf bi"><span id="f124" class="ol ms it ok b gy pg ph l pi pj">model += 1 * C + 0.5 * P &lt;= 30<br/>model += 0.5 * C + 2 * P &lt;= 60<br/>model += 1 * C + 0.5 * P &lt;= 22</span></pre><h2 id="16c1" class="ol ms it bd mt om on dn mx oo op dp nb li oq or nd lm os ot nf lq ou ov nh ow bi translated">打印优化的决策变量<code class="fe oh oi oj ok b">C.varValue</code></h2><ul class=""><li id="9220" class="lv lw it lb b lc ox lf oy li pl lm pm lq pn lu ma mb mc md bi translated">打印优化的目标函数<code class="fe oh oi oj ok b">value(model.objective))</code></li><li id="29c9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">2.调度示例</li><li id="4e97" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">一家邮局正在招聘邮递员，要求连续工作 5 天，然后休息 2 天。目标是雇佣最少数量的工人，每天所需的邮递员数量估计为:星期一:25，星期二:32，星期三:22，星期四:18，星期五:24，星期六:12，星期日:14。雇佣邮递员的最低数量是多少？</li><li id="074f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">为了解决这个问题，我们需要写下每天需要开始工作的工人数量的限制，例如:x_0 是星期一开始工作的工人数，x_1 是星期二开始工作的工人数，以此类推。这样做，我们可以从周一到周五存储 x_0，从周二到周六存储 x_1，因为他们需要连续工作 5 天。</li></ul><pre class="kj kk kl km gt pc ok pd pe aw pf bi"><span id="9175" class="ol ms it ok b gy pg ph l pi pj">#Results</span><span id="dd6f" class="ol ms it ok b gy pk ph l pi pj">1<br/>Optimal<br/>Produce 8.0 Cake <br/>Produce 28.0 Pie <br/>456.0</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="317e" class="mr ms it bd mt mu po mw mx my pp na nb jz pq ka nd kc pr kd nf kf ps kg nh ni bi translated">模型约束的图示</h1><blockquote class="nj nk nl"><p id="51b9" class="kz la nm lb b lc ld ju le lf lg jx lh nn lj lk ll no ln lo lp np lr ls lt lu im bi translated">状态:最优<br/>工人 __0 = 7.0 <br/>工人 __1 = 7.0 <br/>工人 __2 = 0.0 <br/>工人 __3 = 0.0 <br/>工人 __4 = 10.0 <br/>工人 __5 = 0.0 <br/>工人 __6 = 8.0</p></blockquote><p id="13fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如解决方案所建议的，我们总共需要雇用 32 名邮递员，其中 7 名在星期一开始工作，另外 7 名在星期二，10 名在星期五，8 名在星期天。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/e03061b5f45c07456bc7a3c37c9a866d.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*yBhSsTcE-xtdGfSDZ6UJ9A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">3.位置问题示例</p></figure><pre class="kj kk kl km gt pc ok pd pe aw pf bi"><span id="2e3a" class="ol ms it ok b gy pg ph l pi pj">#Initialize model<br/>model = LpProblem("Minimize Number of Workers", LpMinimize)</span><span id="e5d9" class="ol ms it ok b gy pk ph l pi pj">#Define decision variables<br/>days = list(range(7))<br/>x = LpVariable.dicts('workers_', days, lowBound=0, upbound=None, cat='Integer')</span><span id="4838" class="ol ms it ok b gy pk ph l pi pj">#Define model<br/>model += lpSum([x[i] for i in days])</span><span id="9d5d" class="ol ms it ok b gy pk ph l pi pj"># Define constraints<br/>model += x[0] + x[3] + x[4] + x[5] + x[6] &gt;= 25<br/>model += x[0] + x[1] + x[4] + x[5] + x[6] &gt;= 32<br/>model += x[0] + x[1] + x[2] + x[5] + x[6] &gt;= 22<br/>model += x[0] + x[1] + x[2] + x[3] + x[6] &gt;= 18<br/>model += x[0] + x[1] + x[2] + x[3] + x[4] &gt;= 24<br/>model += x[1] + x[2] + x[3] + x[4] + x[5] &gt;= 12<br/>model += x[2] + x[3] + x[4] + x[5] + x[6] &gt;= 14</span><span id="2ae8" class="ol ms it ok b gy pk ph l pi pj"># Solve model<br/>model.solve()</span><span id="09f0" class="ol ms it ok b gy pk ph l pi pj">#Print model status<br/>print('Status:', LpStatus[model.status])</span><span id="439b" class="ol ms it ok b gy pk ph l pi pj">#Print solution variables<br/>for variable in model.variables():<br/>    print ('{} = {}'.format(variable.name, variable.varValue))</span></pre><p id="f1e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您需要<a class="ae ky" href="https://www.amazon.com/Supply-Chain-Management-Strategy-Operation/dp/0133800202" rel="noopener ugc nofollow" target="_blank">优化一家制造公司在 5 个销售地点的供应链网络</a>，以最低的成本满足各个地点的需求。您可以决定每个地点的工厂规模，选项有低容量和高容量。一种可能性是在每个地区建立一个工厂，其优点是运输成本低，缺点是生产计划的规模要满足当地需求，不能利用规模经济。另一种可能性是建立一些具有规模经济优势的制造工厂，但需要较高的运输成本。给定每个位置的估计需求、从一个工厂到另一个工厂的可变运输成本、拥有工厂的固定成本(基于工厂规模)以及基于工厂规模的生产能力(低产能为 500，高产能为 1500)。你会如何用最小的成本解决这个问题？</p><p id="8bb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.pexels.com/photo/dirty-industry-stack-factory-2391/" rel="noopener ugc nofollow" target="_blank">来源</a></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="69b5" class="mr ms it bd mt mu po mw mx my pp na nb jz pq ka nd kc pr kd nf kf ps kg nh ni bi translated">需求栏显示每个地点的估计需求</h1><blockquote class="nj nk nl"><p id="e939" class="kz la nm lb b lc ld ju le lf lg jx lh nn lj lk ll no ln lo lp np lr ls lt lu im bi translated">列 A 到 E 显示了从索引中的位置到列中的每个位置的运输成本(即，从工厂 B 到工厂 D 的运输成本是 14)</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pu"><img src="../Images/9c582d22843497c8295c97b7192c797f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aJKsxhf71ERfZ3HJex7bdw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">“高 C”和“低 C”列显示了在每个位置拥有高容量和低容量工厂的固定成本(即，在位置 E 拥有低容量工厂的固定成本为 6500 美元)</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/ea8545eba0ebf5877538b82aaf34ac35.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*Emq0pk9zKqBA-j1g60Qo0g.png"/></div></figure><ul class=""><li id="6e99" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">为了解决这个问题，我们首先需要初始化我们的模型和决策变量。有两个决策变量；</li><li id="dd3f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在工厂 I 生产并运送到工厂 j 的生产数量(连续变量)</li><li id="2088" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">生产工厂的生产能力(二进制变量:如果生产能力为 s 的位置 I 的工厂开放，则为 1；如果工厂关闭，则为 0)</li></ul><p id="8244" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">约束条件包括:</p><ol class=""><li id="4f6f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu mq mb mc md bi translated">总产量必须等于总需求</li><li id="58d1" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu mq mb mc md bi translated">总产量可以小于或等于总生产能力</li></ol><pre class="kj kk kl km gt pc ok pd pe aw pf bi"><span id="7191" class="ol ms it ok b gy pg ph l pi pj">#Initialize model<br/>model = LpProblem('Facility Location Problem', LpMinimize)</span><span id="03ce" class="ol ms it ok b gy pk ph l pi pj">#Define decision variables<br/>loc = ['A', 'B', 'C', 'D', 'E']<br/>size = ['Low_C','High_C']</span><span id="978c" class="ol ms it ok b gy pk ph l pi pj">x = LpVariable.dicts('production_', [(i,j) for i in loc for j in loc], lowBound=0, upBound=None, cat='Continuous')<br/>y = LpVariable.dicts('plant_', [(i,s) for s in size for i in loc], lowBound=None, upBound=None, cat='Binary')</span><span id="5221" class="ol ms it ok b gy pk ph l pi pj">#Define model<br/>model += (lpSum([fix_cost.loc[i,s] * y[(i,s)] for s in size for i in loc]) + lpSum([var_cost.loc[i,j] * x[(i,j)] for i in loc for j in loc]))</span></pre><p id="d8d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为 solve()方法返回 1，所以解是最优的，我们可以打印结果。</p><ol class=""><li id="ed5e" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu mq mb mc md bi translated">结果:</li><li id="5cc9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu mq mb mc md bi translated">从结果中可以看出，该模型建议在地点 C 开设一个低产能工厂，在地点 A、D 和 e 开设高产能工厂。地点 B 的需求建议由地点 C 提供。这样做，我们可以实现最小成本$58850.9。</li></ol><pre class="kj kk kl km gt pc ok pd pe aw pf bi"><span id="1bde" class="ol ms it ok b gy pg ph l pi pj"># Define constraints<br/>for j in loc:<br/>    model += lpSum([x[(i, j)] for i in loc]) == demand.loc[j,'Demand']</span><span id="5942" class="ol ms it ok b gy pk ph l pi pj">for i in loc:<br/>    model += lpSum([x[i, j] for j in loc]) &lt;= lpSum([capacity.loc[i,s] * y[i,s] for s in size])<br/>    <br/># Solve<br/>model.solve()</span></pre><p id="accd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="ak">对模型和解决方案进行健全性检查</strong></p><pre class="kj kk kl km gt pc ok pd pe aw pf bi"><span id="2c8f" class="ol ms it ok b gy pg ph l pi pj"># Results for production quantities<br/>[{'prod':'{} to {}'.format(i,j), 'quantity':x[(i,j)].varValue} <br/>     for i in loc for j in loc]</span><span id="d18e" class="ol ms it ok b gy pk ph l pi pj"># Results for plant capacities based on location<br/>[{'lowCap':y[(i,size[0])].varValue, 'highCap':y[(i,size[1])].varValue}<br/>     for i in loc]</span><span id="48cb" class="ol ms it ok b gy pk ph l pi pj"># Objective Value<br/>print('Objective = ', value(model.objective))</span></pre><p id="3e4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">工作流程图</p><pre class="kj kk kl km gt pc ok pd pe aw pf bi"><span id="e84e" class="ol ms it ok b gy pg ph l pi pj">prod    quantity<br/>A to A     145.4<br/>A to B       0.0<br/>A to C       0.0<br/>A to D       0.0<br/>A to E    1219.6<br/>B to A       0.0<br/>B to B       0.0<br/>B to C       0.0<br/>B to D       0.0<br/>B to E       0.0<br/>C to A       0.0<br/>C to B      84.1<br/>C to C     156.4<br/>C to D     176.8<br/>C to E       0.0<br/>D to A       0.0<br/>D to B       0.0<br/>D to C       0.0<br/>D to D    1500.0<br/>D to E       0.0<br/>E to A       0.0<br/>E to B       0.0<br/>E to C       0.0<br/>E to D       0.0<br/>E to E    1500.0</span><span id="77bb" class="ol ms it ok b gy pk ph l pi pj">   lowCap  highCap<br/>A     0.0      1.0<br/>B     0.0      0.0<br/>C     1.0      0.0<br/>D     0.0      1.0<br/>E     0.0      1.0</span><span id="833e" class="ol ms it ok b gy pk ph l pi pj">Objective =  58850.9</span></pre><p id="f882" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦您调用了求解方法<code class="fe oh oi oj ok b">model.solve()</code>并打印了解的状态<code class="fe oh oi oj ok b">LpStatus[model.status]</code>，您可以收到以下结果。</p><h1 id="5843" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated"><strong class="lb iu">最优:</strong>模型和约束运行良好，解决方案可行。您可以通过检查变量是否在预期范围内来继续。</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pw"><img src="../Images/61dd853ba18cd0bded57779c623f9ada.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C_YnGmY0imAH-yFkNKOFvA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="lb iu">不可行:</strong>没有可行的解。您可以回过头来查看约束条件。</p></figure><p id="3733" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">无界:</strong>意味着目标函数是无界的，并且趋于无穷大。你可以回头回顾一下目标函数。</p><ol class=""><li id="987d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu mq mb mc md bi translated"><strong class="lb iu">未定义:</strong>最优解可能存在，但可能没有找到。可以考虑复习一下模型。</li><li id="e014" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu mq mb mc md bi translated"><strong class="lb iu">未解决:</strong>解决问题前的状态。可以考虑复习一下模型。</li><li id="47d9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu mq mb mc md bi translated">如果模型状态为最佳，您可以继续并检查结果是否在预期范围内。如果是，那么模型就完成了。</li><li id="0196" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu mq mb mc md bi translated">高级主题:敏感性分析</li><li id="5adc" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu mq mb mc md bi translated">如果您想要回答一些业务问题，例如如果需求增加一个单位，成本会增加多少，换句话说，需要多少利润来弥补这样的成本增加，您可以检查<strong class="lb iu">双值</strong>。如果您想了解约束条件是否有约束力，以及如果没有约束力，哪一个约束条件在未来需求增长的生产能力中有空间，您还可以检查每个约束条件的<strong class="lb iu">松弛度</strong>。</li></ol><p id="fb4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">双值表示约束右侧每个单位变化的目标函数变化量。因此，如果地点 A 的需求增加 1 个单位，总成本将增加 8 美元，如果地点 B 的需求增加 1 个单位，总成本将增加 13 美元，依此类推。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="c563" class="mr ms it bd mt mu po mw mx my pp na nb jz pq ka nd kc pr kd nf kf ps kg nh ni bi translated">每个限制的时差表示每个限制未使用的资源量。如果松弛值等于 0，则约束是绑定的，如果松弛值大于 0，则意味着它不是绑定的。在示例中，我们可以看到约束条件 C6 和 C8 没有约束力，这意味着它们没有充分利用其生产能力。在位置 A 有增加 135 产量的空间，在位置 C 有增加 82.7 产量的空间。</h1><p id="ad5a" class="pw-post-body-paragraph kz la it lb b lc ox ju le lf oy jx lh li oz lk ll lm pa lo lp lq pb ls lt lu im bi translated">我希望您喜欢这些例子，并发现这篇文章对您的线性编程之旅很有用。</p><pre class="kj kk kl km gt pc ok pd pe aw pf bi"><span id="065f" class="ol ms it ok b gy pg ph l pi pj"># Print Dual Value and Slack</span><span id="6abf" class="ol ms it ok b gy pk ph l pi pj">[{'name':name, 'dual value':c.pi, 'slack': c.slack}<br/>for name, c in model.constraints.items()]</span><span id="69da" class="ol ms it ok b gy pk ph l pi pj">name  dual value  slack<br/>C1      8.0       -0.0<br/>C2      13.0      -0.0<br/>C3      8.0       -0.0<br/>C4      10.0      -0.0<br/>C5      12.0      -0.0<br/>C6      0.0       135.0<br/>C7      -7.0      -0.0<br/>C8      0.0       82.7<br/>C9      -7.0      -0.0<br/>C10     -6.0      -0.0</span></pre><p id="9c0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nm">如果你喜欢这篇文章，你可以</em> <strong class="lb iu"> <em class="nm"> </em> </strong> <a class="ae ky" href="https://medium.com/@idilismiguzel" rel="noopener"> <strong class="lb iu"> <em class="nm">在这里阅读我的其他文章</em></strong></a><strong class="lb iu"><em class="nm"/></strong><em class="nm">和</em> <a class="ae ky" href="http://medium.com/@idilismiguzel/follow" rel="noopener"> <strong class="lb iu"> <em class="nm">关注我上媒</em></strong></a><strong class="lb iu"><em class="nm"/></strong>如果有任何问题或建议，请告诉我。✨</p><p id="0228" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">喜欢这篇文章吗？ <a class="ae ky" href="https://idilismiguzel.medium.com/membership" rel="noopener"> <strong class="lb iu">成为会员求更！</strong> </a></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="a73a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi">I hope you enjoyed following the examples and found the article useful in your journey towards linear programming.</p><p id="2307" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi"><em class="nm">If you liked this article, you can</em><strong class="lb iu"><em class="nm"> </em></strong><a class="ae ky" href="https://medium.com/@idilismiguzel" rel="noopener"><strong class="lb iu"><em class="nm">read my other articles here</em></strong></a><strong class="lb iu"><em class="nm"> </em></strong><em class="nm">and </em><a class="ae ky" href="http://medium.com/@idilismiguzel/follow" rel="noopener"><strong class="lb iu"><em class="nm">follow me on Medium.</em></strong></a><strong class="lb iu"><em class="nm"> </em></strong>Let me know if you have any questions or suggestions.✨</p><p id="3e69" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi"><strong class="lb iu">Enjoy this article? </strong><a class="ae ky" href="https://idilismiguzel.medium.com/membership" rel="noopener"><strong class="lb iu">Become a member for more!</strong></a></p></div></div>    
</body>
</html>