<html>
<head>
<title>Central Limit Theorem Simulation with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python模拟中心极限定理</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/central-limit-theorem-simulation-with-python-c80f8d3a6755?source=collection_archive---------16-----------------------#2020-02-26">https://towardsdatascience.com/central-limit-theorem-simulation-with-python-c80f8d3a6755?source=collection_archive---------16-----------------------#2020-02-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b174" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">中心极限定理的Python仿真实验验证</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1de19f3d0fe12f082c0648c0b6106add.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*541suYBoGt_8S07S"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/photos/d5LSyfDoE9M" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="928d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">统计领域最重要的概念之一是什么，但它经常让有抱负的数据科学家感到困惑？没错，就是中心极限定理。</em></p><blockquote class="lw"><p id="8608" class="lx ly it bd lz ma mb mc md me mf lu dk translated">让我们深入研究数据科学中最重要的定理！</p></blockquote><p id="f575" class="pw-post-body-paragraph kz la it lb b lc mg ju le lf mh jx lh li mi lk ll lm mj lo lp lq mk ls lt lu im bi translated">收集全部人口的数据是非常不可能的。相反，我们可以从总体中收集数据的子集，并使用该样本的统计数据来推断总体。</p><h1 id="9b1f" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">什么是大数定律？</h1><p id="8d93" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated"><strong class="lb iu">大数定律</strong> ( <strong class="lb iu"> LLN </strong>)是一种理论，该理论指出，随着样本均值的大小增加，样本分布的均值将接近总体分布的均值。因此，大数定律可以直观地理解为收集更多的数据会产生更具代表性的样本。</p><h1 id="ad8f" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">什么是中心极限定理？</h1><p id="c0b9" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated"><strong class="lb iu">中心极限定理(CLT) </strong>是一种理论，声称从重新抽样计算出的样本均值的分布将趋于正态，随着样本规模的增大，而不考虑总体分布的形状。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/79229be0697263ed1bcd739b4796528a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*V1zCLq5mboTCfq2_.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="nj"> ( </em> <a class="ae ky" href="https://medium.com/@birajparikh/what-is-central-limit-theorem-clt-db3679433dcb" rel="noopener"> <em class="nj">来源</em> </a> <em class="nj"> ) </em></p></figure><p id="dcf9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">这两种理论的区别在于，大数定律描述的是单个样本均值，而中心极限定理描述的是样本均值的分布。</em></p><h1 id="b65d" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">样本分布中的数据必须遵循什么规则？</h1><ol class=""><li id="fbe6" class="nk nl it lb b lc nd lf ne li nm lm nn lq no lu np nq nr ns bi translated">分布中的数据应该是随机选择的。</li><li id="95f3" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">样本应该相互独立。</li><li id="6693" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">样本量应该足够大。如果总体分布很正态，30的样本量就足够了。</li></ol><h1 id="816f" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">为什么样本量至少要有30人？</h1><p id="670e" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">有大量的书籍引用了这个值，例如，霍格和坦尼斯的<a class="ae ky" href="https://www.amazon.com/Probability-Statistical-Inference-Robert-Hogg/dp/0131464132" rel="noopener ugc nofollow" target="_blank">概率和统计推断(7e) </a>说:</p><blockquote class="ny nz oa"><p id="3aca" class="kz la lv lb b lc ld ju le lf lg jx lh ob lj lk ll oc ln lo lp od lr ls lt lu im bi translated">也就是说，当N“足够大”时，X约为N(μ，σ2/n)，Y约为N(nμ，nσ2)，其中μ和σ2分别是样本来源的基础分布的均值和方差。一般来说，如果n大于<strong class="lb iu"> 25或30 </strong>，这些近似值就不错了。</p></blockquote><p id="c501" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自然界中许多变量的分布非常接近正态曲线。查看t表，您会发现具有30个自由度的t的值接近z的值。其中一个原因是t分布(如正态分布)是对称和单峰的。因此，我们可以得出结论，样本量为30的均值样本的分布也将是正态分布。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/59ebe19c05a297d0a0a61e513ebdb299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*oQWZDCS6VspMtaN-nzGefQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">t表(<a class="ae ky" href="https://www.dummies.com/education/math/statistics/how-to-use-the-t-table-to-solve-statistics-problems/" rel="noopener ugc nofollow" target="_blank">来源</a>)</p></figure><p id="ea44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果总体的分布不是正态的，你可能需要尝试比30大得多的样本量。人口数据离对称和单峰越远，你就需要越多的数据进入CLT。</p><p id="ab47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，分布越接近正态分布，调用CLT所需的样本就越少。实际上，我从不依赖于<em class="lv"> n </em> = 30，并建议你尝试不同的抽样规模。</p><h1 id="c8fe" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">从这两个定理得出什么结论？</h1><ol class=""><li id="df0b" class="nk nl it lb b lc nd lf ne li nm lm nn lq no lu np nq nr ns bi translated">均值的抽样分布将是正态或接近正态的。</li><li id="4c54" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">抽样分布的均值将等于总体的均值分布。数学上，</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/5401372f2827abbf886cde88b7a67165.png" data-original-src="https://miro.medium.com/v2/resize:fit:362/format:webp/0*48zDsnT9_Qw2FOl-.png"/></div></figure><p id="4058" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.抽样分布的标准误差与原始总体的标准偏差直接相关。数学上，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/a53e4cc73bc2d113ac8da954109300e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/0*xgkrpWUYALB6-nYR.png"/></div></figure><p id="20d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4.如果我们增加从总体中抽取的样本，样本均值的标准差就会减小。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/6a4439f82e6e92c152e8d3cd9afe4462.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/0*Eh2tmd4xXuXMAnq9.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.whatissixsigma.net/central-limit-theorem/" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><h1 id="79eb" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">CLT的统计意义是什么？</h1><p id="bfe0" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">我们有一些分布，其中的数据不是正态分布，但我们不使用这个分布，而是使用样本均值的分布。这让我们可以作弊，说我们可以在统计推断中无处不在地使用正态分布，尽管潜在的分布不是正态的。</p><ol class=""><li id="5e9b" class="nk nl it lb b lc ld lf lg li oi lm oj lq ok lu np nq nr ns bi translated"><strong class="lb iu">假设检验中使用的中心极限定理。</strong></li><li id="7823" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">样本平均值可用于创建一个称为<strong class="lb iu">的数值范围，即置信区间</strong>。这些方法假设总体是正态分布的。</li><li id="6baa" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">CLT在一个类似<strong class="lb iu">的算法中使用了随机梯度下降。</strong>算法表现如何？我们从我们的训练集中抽取一批样本，并计算各批损失的平均值或总和。感谢CLT，现在我们知道了损失估计的最终分布将是高斯分布。</li></ol><h1 id="82f6" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">让我们通过用Python模拟来提供中心极限定理的经验证据吧！</h1><p id="f873" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">我们将使用一个<a class="ae ky" href="https://www.kaggle.com/devready/coffee-and-code" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Kaggle </strong> </a>数据集和<strong class="lb iu"> Python统计库</strong>，如<strong class="lb iu"> Numpy、</strong>、<strong class="lb iu"> Matplotlib和Pandas </strong>。</p><ol class=""><li id="ef1b" class="nk nl it lb b lc ld lf lg li oi lm oj lq ok lu np nq nr ns bi translated">首先，我们导入所需的库，然后使用<code class="fe ol om on oo b">.read_csv()</code>读取数据集，并将其作为<code class="fe ol om on oo b">DataFrame</code>对象存储在变量<code class="fe ol om on oo b">df</code>中。</li><li id="6e03" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">我们使用了<code class="fe ol om on oo b">.head(10)</code>属性来浏览前10行数据。</li><li id="c1c1" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">我们用<code class="fe ol om on oo b">.info()</code>显示了所有列及其数据类型:</li><li id="aa77" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated"><code class="fe ol om on oo b">.shape</code>属性需要看到它的<strong class="lb iu">维度</strong>。结果是一个包含行数和列数的元组。</li><li id="3a8c" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">Pandas <code class="fe ol om on oo b"><strong class="lb iu">describe()</strong></code>用于查看一些基本的统计细节，如百分位数、平均值、标准差等。一个数据帧。</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="cda1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了说明抽样的中心极限定理，我们将采用“CoffeeCupsPerDay”列。我们来画一个程序员喝咖啡的杯数直方图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/8f7b678b2dcc77c2f1e9ce1cead9b77d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*Q7RaAxwf-C4qIEjV8sIQWw.png"/></div></figure><p id="163a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们看到的，程序员每天喝的咖啡杯数据的分布是正偏态的，数据分布的平均值= 2.89。但是我们想要分析近似正态分布的数据。</p><p id="2699" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">理论上，随着每个样本大小的增加，样本均值越接近高斯分布。让我们抽取足够的不同大小的样本，并计算它们的样本均值。我们将从300个样本中抽取10、40、60和80个样本。计算算术平均值，并绘制300次样本的平均值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/25749310d31d157ee81fb4fcb2a970aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t-yTnaUlBQTINYmbdGD3-A.png"/></div></div></figure><p id="b6e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，我们通过采取不同的样本量并逐步增加来进行试验。然后我们将不同样本量的样本均值分布可视化，比较它们的分布形态和均值。现在，我们知道随着样本量的增加，我们会得到一个非常好的钟形曲线。</p><p id="c2e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从样本大小为80的分布形状可以看出，该分布是高斯分布。抽样分布的均值等于总体的均值分布，等于2.89。</p><p id="7883" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数学上，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/491c5a56cf7b76b9a85a9164165a3796.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/1*z0JpaK6HCh8CJ17qDCOzpA.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/25f24caacb4d977cee121a0b179ee6d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*pASaMeagZdb4HvCspvwGgg.png"/></div></figure><p id="10b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以观察到，随着样本大小N →无穷大，均值的标准差趋于零。这意味着数据集的尺寸<strong class="lb iu">越大</strong>标准误差越小<strong class="lb iu">。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/80ee78019eed645a6dc0284c9087da57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IlQkQA-IRCy-Vrx6sTu4eQ.png"/></div></div></figure><p id="7705" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我们可以认为采样分布是正态的，所以我们可以使用这些分布进行进一步的分析。</p><p id="0011" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">感谢您的阅读！我希望这篇文章让你对中心极限定理有了基本的了解。如果您有任何问题，欢迎在Gmail</em><a class="ae ky" href="http://rastoropova.nataliia@gmail.com" rel="noopener ugc nofollow" target="_blank"><em class="lv">Nataliia Rastoropova</em></a><em class="lv">上评论或给我写信。</em></p><div class="ow ox gp gr oy oz"><a rel="noopener follow" target="_blank" href="/post-for-writers-2-ebd32d1fac21"><div class="pa ab fo"><div class="pb ab pc cl cj pd"><h2 class="bd iu gy z fp pe fr fs pf fu fw is bi translated">提交您的文章—清单</h2><div class="pg l"><h3 class="bd b gy z fp pe fr fs pf fu fw dk translated">准备你的文章发表。(下载我们的PDF版本)</h3></div><div class="ph l"><p class="bd b dl z fp pe fr fs pf fu fw dk translated">towardsdatascience.com</p></div></div><div class="pi l"><div class="pj l pk pl pm pi pn ks oz"/></div></div></a></div><div class="ow ox gp gr oy oz"><a href="https://www.analyticsvidhya.com/blog/2019/05/statistics-101-introduction-central-limit-theorem/" rel="noopener  ugc nofollow" target="_blank"><div class="pa ab fo"><div class="pb ab pc cl cj pd"><h2 class="bd iu gy z fp pe fr fs pf fu fw is bi translated">数据科学统计学:中心极限定理介绍</h2><div class="pg l"><h3 class="bd b gy z fp pe fr fs pf fu fw dk translated">什么是统计学中最重要和最核心的概念之一，使我们能够进行预测建模，但它…</h3></div><div class="ph l"><p class="bd b dl z fp pe fr fs pf fu fw dk translated">www.analyticsvidhya.com</p></div></div><div class="pi l"><div class="po l pk pl pm pi pn ks oz"/></div></div></a></div><div class="ow ox gp gr oy oz"><a href="https://machinelearningmastery.com/statistics_for_machine_learning/" rel="noopener  ugc nofollow" target="_blank"><div class="pa ab fo"><div class="pb ab pc cl cj pd"><h2 class="bd iu gy z fp pe fr fs pf fu fw is bi translated">机器学习的统计方法</h2><div class="pg l"><h3 class="bd b gy z fp pe fr fs pf fu fw dk translated">机器学习的统计方法探索如何用Python将数据转化为知识我们为什么需要…</h3></div><div class="ph l"><p class="bd b dl z fp pe fr fs pf fu fw dk translated">机器学习桅杆</p></div></div><div class="pi l"><div class="pp l pk pl pm pi pn ks oz"/></div></div></a></div></div></div>    
</body>
</html>