<html>
<head>
<title>Joins with Power BI and R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用幂 BI 和 R 连接</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/joins-with-power-bi-bde7de3e2181?source=collection_archive---------34-----------------------#2020-09-02">https://towardsdatascience.com/joins-with-power-bi-bde7de3e2181?source=collection_archive---------34-----------------------#2020-09-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8a4c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">连接将一直存在…让我们使它们变得简单</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/eff2f838507ead0f03b41a2719f1baac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oCjWlXiSsHoeWSQH"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">梅尔·普尔在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b139" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我已经在我的<a class="ae ky" href="https://medium.com/@The_Data_Kitchen/get-to-know-some-data-set-joins-42e2aa6f5785?source=friends_link&amp;sk=d37f7db7a6c1473198ba89fe3acf1608" rel="noopener">第一篇文章</a>中描述了连接的基础。希望对您有所帮助。在本文中，我将向您展示如何使用 Power BI 的 Power Query 以及在 R 中使用 dplyr 来完成这些连接。</p><p id="9e20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Power BI 有一个“点击”类型的 UI(大量使用鼠标),而 R 有一个“输入”界面(大量使用键盘)。</p><p id="3bf0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我两样都喜欢，希望你也喜欢。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="d63e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们回到我们的小简笔画——有用吗？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/c4bb76d1edd2bc52876f3f51dffbd967.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*Jdw335nMig0OTjcrMDurXw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="6d3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始吧！</p><p id="7d2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们加载我们的数据:)两个很小的数据集，但对我们的例子来说很棒。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi md"><img src="../Images/509d92328d79ff04de4929e177673ad2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*flXvrnpiOjTejNh_cCv0dQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="40fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在它们已经加载，让我们进入电源查询</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi me"><img src="../Images/a3a81ec195a05ed415cb265c689ca316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*7ctDev52-CllOLFce8F72A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="7ece" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我进入超级查询端，我就会看到我的两个数据集。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/4bda98f255e6f59a717ad84cd72c25a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*Z4rofYXX20EljiTZYSV-1w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="6909" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始合并查询吧！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mg"><img src="../Images/c1d867dbb6cc3afe2d27b592564523e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gqE0pbc_Sz4Vb2QVJYt1Uw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="f874" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于连接的放置要非常小心，顶部数据集位于连接的左侧，底部数据集位于连接的右侧。如果它们排列不当，你会得到相反的结果。</p><p id="1217" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你感到困惑——看看我的第一篇<a class="ae ky" href="https://medium.com/@The_Data_Kitchen/get-to-know-some-data-set-joins-42e2aa6f5785?source=friends_link&amp;sk=d37f7db7a6c1473198ba89fe3acf1608" rel="noopener">关于左右的文章</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/c14e9cb0002765992d990ea79c64e92d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M7YqcfIg4-uLds8WU0uwbg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="1263" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一件重要的事情——让我们选择想要加入的列或“连接”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/96f50594b5f096c3eb653f1f123a4aa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mm8oBMJdsS3MqTvJkSLPoQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5f5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我选择了左外部连接，但它与左连接相同。有许多术语——左手边、第一数据集、数据集 A 等。<strong class="lb iu">在一天结束时，我们希望看到共同的行，以及在比较时没有发现的行</strong>。此外，在这个图像中，只有一个“连接”列。你不仅限于使用它。您也可以选择一个额外的列来支持连接。</p><p id="645d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我做出这个选择后，我将得到扩展的选项。</p><p id="43b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们点击扩展按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/68373ec5db6b4db614e3eedfd32020fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ODtPpAej_lqJPHkR5pbJ8A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="8787" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">哒哒！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/345dc9ca037af3085dade129cb272b26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oRlPUFmDmQEjWpsOxrb0xg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="6e80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里你可以看到内部连接和左反结果。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="4c3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们简单谈谈 Power Query 上的查询设置窗格。这对我们的例子非常有用。为什么？因为只需一次单击，您就可以返回到合并步骤，并更改您的任何连接选择，如前所述。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ml"><img src="../Images/6b1f4d4ded5331f02d877e09760c0c12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vq3RVPA42gY2tKQgFoekRg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="40cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">带您回到这里进行其他连接选择。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mm"><img src="../Images/174ad253ae4c1eb4620539e57a4b91ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YAvCVSrjrsQCaQy0tl8CHQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="d6a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我明白，这可能看起来过于简单，这里的数据集只有 5 行，没有任何重复，数据类型错误，连接上的打字错误，缺少数据，缺少列..等等，我将在另一篇文章中写更多关于这方面的内容。</p><p id="55de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请这样想，如果您理解这些基础知识，并且能够在小型数据集上构建查询，Power BI 将会完成繁重的工作。稍作调整后，同样的查询可以从 5 行数据集应用到 50K 行数据集。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="56e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯……让我们回到简笔画上。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/11b4138b1ae672a4569f5a08b4e5a678.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*YlikhyLYX3jEjW9l_Yt0DQ.png"/></div></figure><p id="8416" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们看看 r，另一个伟大的工具。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="3872" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们使用“Import data”加载我们的数据和包，并加载 Tidyverse。Tidyverse 是一个 R 包的集合，它使数据争论变得有趣和容易(有时)。</p><p id="d29e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将使用下面的代码回答我在第一篇文章中提出的同样的问题。只有两条主线，但稍加调整就足够了。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="682a" class="mt mu it mp b gy mv mw l mx my">library(tidyverse) # loading Tidyverse package -- for dplyr</span><span id="3467" class="mt mu it mp b gy mz mw l mx my">#who is still with the company?</span><span id="547f" class="mt mu it mp b gy mz mw l mx my">Dataset_2007 %&gt;% <br/>  inner_join(Dataset_2020, c("Name"))</span><span id="e79a" class="mt mu it mp b gy mz mw l mx my">#who is no longer working for the company in 2020?</span><span id="b608" class="mt mu it mp b gy mz mw l mx my">Dataset_2007 %&gt;% <br/>  anti_join(Dataset_2020, c("Name")) </span><span id="9979" class="mt mu it mp b gy mz mw l mx my">#who is new to the company in 2020?</span><span id="f027" class="mt mu it mp b gy mz mw l mx my">Dataset_2020 %&gt;%  anti_join(Dataset_2019,c("Name"))</span></pre><p id="4457" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们来分析一下。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/4ab6d4e807932f2d94770770d9ea0a1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5lil9USQ7t9Ed4aS72tQ-g.png"/></div></div></figure><p id="db11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你有它！</p><p id="7d83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有些人使用 Power BI 和 r 来加入基础知识。用 Power BI 点击几下，用 r 编写几行代码。这两者都是数据争论的乐趣。</p><p id="61e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一篇文章是关于<a class="ae ky" href="https://medium.com/@The_Data_Kitchen/functions-in-power-bi-56e9e11e4669?source=friends_link&amp;sk=32f65f6e5196dbd96ed43a53584ad2fc" rel="noopener">使用 Power BI </a>中的函数，看看吧！</p><p id="90a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意安全，希望你喜欢这篇文章。</p></div></div>    
</body>
</html>