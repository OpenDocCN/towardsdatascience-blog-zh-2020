<html>
<head>
<title>Data Talks: A Practical Tutorial on Data Manipulation with Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据对话:熊猫数据操作实用教程</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-talks-a-practical-tutorial-on-data-manipulation-with-pandas-6a4715382a1?source=collection_archive---------34-----------------------#2020-05-04">https://towardsdatascience.com/data-talks-a-practical-tutorial-on-data-manipulation-with-pandas-6a4715382a1?source=collection_archive---------34-----------------------#2020-05-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3c3c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何使用Kickstarter项目数据集处理和操作数据。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/67171ca20a09771f9497dd65371e2fb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DhpBO0GIAbtD4qJHBDC-bw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://www.kickstarter.com/learn" rel="noopener ugc nofollow" target="_blank"> Kickstarter </a></p></figure><h1 id="acdf" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">数据无处不在</h1><p id="e606" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi mn translated"><span class="l mo mp mq bm mr ms mt mu mv di">直到互联网的诞生，数据才真正对我们的生活产生重大影响，并彻底改变了商业运作的方式。这些天，我们有几乎所有的数据，从我们最喜欢的麦片品牌，你最好的朋友毕业的学校，到你下午2点的心率。现在说数据已经融入到我们的基因里，大概不为过。</span></p><div class="mw mx gp gr my mz"><a href="https://medium.com/scidex/data-is-everything-and-everyone-is-data-1886cfce2d92" rel="noopener follow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd iu gy z fp ne fr fs nf fu fw is bi translated">数据就是一切，每个人都是数据。</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">收集、组织、构建和分析大规模数据的能力可能是最重要的特质…</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">medium.com</p></div></div><div class="ni l"><div class="nj l nk nl nm ni nn ks mz"/></div></div></a></div><p id="4447" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">无论是在日常生活中还是在商业环境中，为了我们自己的利益利用这些数据都不是一件容易的事情。<strong class="lt iu">为什么？</strong>处理数据不仅需要相关领域的知识，还需要对数学或计算机科学(仅举几个例子)的技术理解，这对任何没有技术背景的人来说都是一个挑战。</p><p id="9edd" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">希望能帮助初学者消除这个入门障碍，我正在写这个系列，叫做<strong class="lt iu">数据会谈。</strong>它将介绍处理数据的必要工具，更重要的是，讲述数据语言的“词汇和语法”。</p><p id="120f" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">该系列将包括三个部分:</p><ul class=""><li id="ac41" class="nt nu it lt b lu no lx np ma nv me nw mi nx mm ny nz oa ob bi translated">第1部分:熊猫的数据操作</li><li id="2a16" class="nt nu it lt b lu oc lx od ma oe me of mi og mm ny nz oa ob bi translated"><strong class="lt iu">第2部分:</strong>使用Matplotlib实现数据可视化(即将推出)</li><li id="2550" class="nt nu it lt b lu oc lx od ma oe me of mi og mm ny nz oa ob bi translated"><strong class="lt iu">第3部分:</strong>使用Google Data Studio进行数据报告(即将推出)</li></ul><p id="4226" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">为了演示这些技术，我将使用来自<strong class="lt iu"> Kaggle </strong>的<a class="ae ky" href="https://www.kaggle.com/kemical/kickstarter-projects" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu"> Kickstarter项目数据集</strong> </a> <strong class="lt iu"> </strong>。<a class="ae ky" href="http://kaggle.com" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu">ka ggle</strong></a><strong class="lt iu"/>是一个非常有用的网站，拥有大量数据集、竞赛和其他资源，可以帮助您提高数据科学技能。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a081966aa6d41581a91d0c47980ee17f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qEtN9yxo2iew5BS5S2HSLA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://www.kickstarter.com/" rel="noopener ugc nofollow" target="_blank"> Kickstarter </a></p></figure></div><div class="ab cl oh oi hx oj" role="separator"><span class="ok bw bk ol om on"/><span class="ok bw bk ol om on"/><span class="ok bw bk ol om"/></div><div class="im in io ip iq"><h1 id="2a61" class="kz la it bd lb lc oo le lf lg op li lj jz oq ka ll kc or kd ln kf os kg lp lq bi translated">这是给谁的？</h1><p id="1217" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这个系列适合完全初学者。一些关于Python的先验知识会有所帮助，但并不是必须遵循的。即使您熟悉所介绍的工具，您仍然可以找到一些提示和技巧来升级您的武器库。</p></div><div class="ab cl oh oi hx oj" role="separator"><span class="ok bw bk ol om on"/><span class="ok bw bk ol om on"/><span class="ok bw bk ol om"/></div><div class="im in io ip iq"><h1 id="5ebc" class="kz la it bd lb lc oo le lf lg op li lj jz oq ka ll kc or kd ln kf os kg lp lq bi translated">开始之前</h1><ol class=""><li id="d042" class="nt nu it lt b lu lv lx ly ma ot me ou mi ov mm ow nz oa ob bi translated"><strong class="lt iu">基本Python </strong>:我们将在第1部分和第2部分使用的工具在<strong class="lt iu"> Python </strong>中。Python是一种流行而强大的编程语言，有很多应用，尤其是在数据科学领域。Python很容易上手，所以如果你不熟悉这种编程语言，可以看看下面的文章。</li></ol><div class="mw mx gp gr my mz"><a href="https://medium.com/the-renaissance-developer/learning-python-from-zero-to-hero-8ceed48486d5" rel="noopener follow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd iu gy z fp ne fr fs nf fu fw is bi translated">学习Python:从零到英雄</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">首先，Python是什么？根据它的创造者吉多·范·罗苏姆的说法，Python是一种:</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">medium.com</p></div></div><div class="ni l"><div class="ox l nk nl nm ni nn ks mz"/></div></div></a></div><p id="690b" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">2.<strong class="lt iu"> Google账号:</strong>使用Google<a class="ae ky" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu">Colab</strong></a>—我们的编码环境和Google<a class="ae ky" href="https://datastudio.google.com/" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu">Data Studio</strong></a>。</p><p id="cdba" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">Google Colab 是一个编码环境，你可以在其中运行Python代码，无需任何预先设置。很整洁，不是吗？它也是以互动的形式开发的，允许你轻松地写笔记，使它成为学习者的理想工具。</p><p id="4b3c" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">要创建新笔记本，请进入<a class="ae ky" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu"> Google Colab </strong> </a>然后点击<strong class="lt iu">新笔记本</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/592764acd21dff371a65855aa280d9f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K0GFy-8cy70YmNO-WR8Jcg.png"/></div></div></figure><p id="0d70" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">你会看到如下界面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/36699c6877f05499c80428a1a4bc9da0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*suQxwZUHdMACxbCsvN6qJg.png"/></div></div></figure><ul class=""><li id="8177" class="nt nu it lt b lu no lx np ma nv me nw mi nx mm ny nz oa ob bi translated">代码单元:这些是你编写和执行代码的地方。</li><li id="0867" class="nt nu it lt b lu oc lx od ma oe me of mi og mm ny nz oa ob bi translated">文本单元格:你可以在这些单元格中写笔记/标题。</li></ul></div><div class="ab cl oh oi hx oj" role="separator"><span class="ok bw bk ol om on"/><span class="ok bw bk ol om on"/><span class="ok bw bk ol om"/></div><div class="im in io ip iq"><h1 id="76b3" class="kz la it bd lb lc oo le lf lg op li lj jz oq ka ll kc or kd ln kf os kg lp lq bi translated">熊猫</h1><p id="b7e6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu"> Pandas </strong>是一个强大的<strong class="lt iu"> Python </strong>库，用于处理和分析数据。它能够处理大型数据集(不像Excel)和处理复杂的数据操作任务。在本文的剩余部分，将向您介绍Pandas的基本特性，以及如何在Kickstarter项目数据集中应用它们。</p><p id="b5b7" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">这篇文章中没有提到熊猫的许多特征。我建议你在图书馆工作时参考熊猫文档。</p><h2 id="1ee1" class="pa la it bd lb pb pc dn lf pd pe dp lj ma pf pg ll me ph pi ln mi pj pk lp pl bi translated">导入库</h2><p id="937e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Pandas没有自带Python，所以我们首先需要将这个库导入到我们的笔记本中。幸运的是，Colab的环境中预装了Pandas，所以我们不必担心安装步骤。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><code class="fe po pp pq pr b">pd</code>是<strong class="ak">熊猫的常用别名。</strong></p></figure><p id="9566" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">注意<code class="fe po pp pq pr b">pd</code>是我们为熊猫<strong class="lt iu">设置的别名(即昵称)。从现在开始，无论何时我们想使用这个库，我们都可以简单地调用<code class="fe po pp pq pr b">pd</code>。</strong></p><h2 id="7046" class="pa la it bd lb pb pc dn lf pd pe dp lj ma pf pg ll me ph pi ln mi pj pk lp pl bi translated">读取数据</h2><p id="59f5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Pandas支持各种输入数据源，如csv文件、Excel电子表格、SQL查询等。在本例中，我们将从csv文件导入Kickstarter项目数据集。</p><p id="507e" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">我们首先需要让Colab笔记本访问我们的Google Drive，这是我们存储csv文件的地方。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><p id="5223" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">运行上面的代码将生成一个链接，您可以点击它。用你的Google帐户登录，然后将<strong class="lt iu">授权码</strong>复制到运行代码后你会在Colab笔记本上看到的输入框中。</p><p id="8e16" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">为了从csv文件中读取数据，我们使用Pandas方法pamdas <code class="fe po pp pq pr b">.read_csv()</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><p id="85b6" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">方法<code class="fe po pp pq pr b">.read_csv()</code>将文件的<em class="ps">路径</em>作为参数。您可能需要根据您放置csv文件的位置进行更改。数据将被读取并保存到<strong class="lt iu">数据帧</strong>(我将把它保存到一个名为<code class="fe po pp pq pr b">data</code>的变量中)。数据帧和<strong class="lt iu">系列、</strong>是Pandas中使用的两种主要数据结构。</p><ul class=""><li id="d328" class="nt nu it lt b lu no lx np ma nv me nw mi nx mm ny nz oa ob bi translated"><strong class="lt iu">数据帧</strong>是二维数组。这些就像你的Excel表格，有多列和多行，因此是二维的。</li><li id="5b4c" class="nt nu it lt b lu oc lx od ma oe me of mi og mm ny nz oa ob bi translated"><strong class="lt iu">系列</strong>是<strong class="lt iu">数据框架中的“列”。</strong>这些对象只是一维的，每个对象只能包含一种数据类型(如字符串、浮点、日期时间等)。)</li></ul><h2 id="886e" class="pa la it bd lb pb pc dn lf pd pe dp lj ma pf pg ll me ph pi ln mi pj pk lp pl bi translated">查看数据</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/bc5abe45ad156cd2ef7be7d2159abaa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/0*_W04bplkji2EkgE7"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/dfbd2fc2b4d97a1c63a4e838e98d4e31.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*NwZIvigkz6PKAhRj4DhWaw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">data.info()的输出</p></figure><p id="e2c9" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">方法<code class="fe po pp pq pr b">.info()</code>为我们提供了数据的汇总报告，包括行数、非空值的数量、每个系列的数据类型以及数据帧的内存使用情况。这通常是我们导入数据后做的第一件事。</p><p id="5b1a" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">为了显示数据，我们可以简单地在代码单元中写下<code class="fe po pp pq pr b">data</code>(或者你给变量起的名字)并执行/运行代码单元。您可以使用快捷键shift-enter来完成此操作。</p><p id="d27b" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">或者，我们可以用方法<code class="fe po pp pq pr b">.sample(n)</code>显示一些随机样本。<code class="fe po pp pq pr b">n</code>是我们想要显示的样本数量。例如，下面的代码打印出Kickstarter项目数据集中的10个随机行。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><p id="fc15" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">同样，您可以使用<code class="fe po pp pq pr b">.head(n)</code>和<code class="fe po pp pq pr b">.tail(n)</code>分别显示第一行和最后一行的<em class="ps">和</em>。</p><p id="45c5" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">为了只选择一个或一些<em class="ps">系列</em>(列)，我们可以将系列名称放在<em class="ps">数据帧</em> <code class="fe po pp pq pr b">data</code>后面的方括号<code class="fe po pp pq pr b">[]</code>中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><h2 id="179b" class="pa la it bd lb pb pc dn lf pd pe dp lj ma pf pg ll me ph pi ln mi pj pk lp pl bi translated">清理数据</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/5123e53ff90337baa6cc31afc63fcefb.png" data-original-src="https://miro.medium.com/v2/resize:fit:256/format:webp/0*u5eQo2aKxXgyj77o.png"/></div></figure><p id="b956" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">我们处理的数据几乎从未为直接分析做好充分准备。有时，可能会有丢失或不准确的值，这会打乱我们的计算。在其他情况下，我们将需要执行进一步的处理和工程，以进行更有意义的分析。</p><p id="52f4" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated"><strong class="lt iu">处理缺失数据</strong></p><p id="b31f" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">Pandas有几个内置函数来处理丢失的数据。例如，方法<code class="fe po pp pq pr b">.isnull()</code>过滤掉丢失的值。结合聚合方法<code class="fe po pp pq pr b">.sum()</code>，这将得出每个序列中缺失值的总数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pw"><img src="../Images/a7c74beeb5508b034f74e0cf83de3f44.png" data-original-src="https://miro.medium.com/v2/resize:fit:398/format:webp/1*IoZsRG3vHiDDjIreXtl2yA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">data.isnull()的输出。总和()</p></figure><p id="a8d1" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">在我们的例子中，序列<code class="fe po pp pq pr b">name</code>中有4个缺失值。我们可以通过应用<em class="ps">过滤器</em>来进一步研究这些值是什么。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi px"><img src="../Images/c54607b909a16b15f0c78eb010a158f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rMopXH8Hr4F--SlRjhmicA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据的输出[数据['名称']。isnull()]</p></figure><p id="e051" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated"><code class="fe po pp pq pr b">data['name'].isnull()</code>过滤掉<code class="fe po pp pq pr b">name</code>系列中缺失的值。当放在数据框<code class="fe po pp pq pr b">data</code>后面的方括号<code class="fe po pp pq pr b">[]</code>内时，它被用作步进器。<code class="fe po pp pq pr b">NaN</code>代表非数字，它是一种特殊的数值数据类型，代表未识别或缺失的值。</p><p id="4300" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">既然我们已经确定了丢失的值，下一步就是决定如何处理它们。最简单的方法是<strong class="lt iu">删除</strong>包含丢失数据的行。然而，这种方法通常应该避免，因为它减少了我们拥有的数据总量，并可能导致我们分析中的偏差。如果缺失数据在数据集中占很大比例，这种偏差可能非常显著。查看下面的文章，了解更多处理丢失数据的方法。</p><div class="mw mx gp gr my mz"><a rel="noopener follow" target="_blank" href="/how-to-handle-missing-data-8646b18db0d4"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd iu gy z fp ne fr fs nf fu fw is bi translated">如何处理丢失的数据</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">“归罪的想法既诱人又危险”(R.J.A .利特&amp; D.B .鲁宾)</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">towardsdatascience.com</p></div></div><div class="ni l"><div class="py l nk nl nm ni nn ks mz"/></div></div></a></div><p id="f0ea" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">对于我们的例子，<code class="fe po pp pq pr b">name</code>对于我们的分析来说不是一个非常有用的序列，所以我们可以安全地用某个任意值替换这个序列中缺失的值，或者简单地从数据帧中删除这个序列。先说第一种方法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><p id="822a" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated"><code class="fe po pp pq pr b">data['name']</code>选择系列<code class="fe po pp pq pr b">name</code>。方法<code class="fe po pp pq pr b">.fillna()</code>用指定值替换所选系列中缺失的数据。参数<code class="fe po pp pq pr b">inplace = True</code>告诉Pandas直接修改原始数据帧<code class="fe po pp pq pr b">data</code>。将参数<code class="fe po pp pq pr b">inplace = False</code>保留为默认值将返回一个填充了缺失值的新序列，而不是将更改应用到实际的数据帧<code class="fe po pp pq pr b">data</code>。</p><p id="c5cb" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated"><strong class="lt iu">下降系列</strong></p><p id="1901" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">有时我们可能想排除一些不必要的系列。这样做的一个原因是它可以提高性能，特别是当我们处理大型数据集时。但是，在决定删除哪个系列时应该仔细考虑，因为您可能会删除有用的信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><p id="1bc1" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">我们还包括参数<code class="fe po pp pq pr b">inplace = True</code>来直接修改<code class="fe po pp pq pr b">data</code>。</p><p id="3679" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated"><strong class="lt iu">处理错误</strong></p><p id="cefa" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">在我们的数据中出现错误并不罕见，它可能由于多种原因而发生，从人为错误到系统故障。无论如何，我们都需要适当地处理它们，以便我们的分析更加准确。然而，识别和修复这些错误通常非常具有挑战性，因为它们不仅需要技术技能，还需要对数据集的深刻理解。</p><p id="0dd9" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">数字数据:数字数据中的错误需要各种各样的统计技术，这对于这篇介绍性文章来说可能太难了。</p><p id="ad48" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated"><strong class="lt iu">分类</strong>数据:检测分类数据错误的最快方法是打印出所有唯一值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pz"><img src="../Images/06ab691fcb659ea8708e0f723714f931.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*_YAdhSUNMsoRSSQS_23IDQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据输出['国家']。唯一()</p></figure><p id="e0e9" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">稍微好一点的方法是使用熊猫的方法<code class="fe po pp pq pr b">.value_counts()</code>，它打印出唯一的<strong class="lt iu">值</strong>和它们的<strong class="lt iu">频率</strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qa"><img src="../Images/e1184e64b6dcd132c43e0fdda8274988.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*499LDONLPuONhOeeiVlAlA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据输出['国家']。值计数()</p></figure><p id="b143" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">这个系列讲述了Kickstarter上的一个项目是从哪里来的。有一个奇怪的值<code class="fe po pp pq pr b">N,0"</code>，好像是个错误。让我们看看它们是什么。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qb"><img src="../Images/9f416c518d3fd245585782c28012fd5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mfo2IY-ammKh__oNMA0Llw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据的输出[data[' country ']= ' N，0 ']。样本(10)</p></figure><p id="9801" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">这些值是数据收集期间的错误(未定义状态和0支持者),由于它们只占整个数据集的1%,我们可以删除它们。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><p id="3a73" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated"><strong class="lt iu">处理日期时间数据</strong></p><p id="0ef5" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">日期时间数据通常需要不同类型的处理。例如，我们可能想要计算两个日期之间的持续时间，或者提取时间部分(月、年、小时、分钟等。).Pandas通过内置的日期时间函数使这些任务变得简单。</p><p id="fafe" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">首先，我们需要转换datetime序列，以更正其正确的数据类型。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qc"><img src="../Images/fc532cd9f0cd8083b6c26098cd62e4a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*8XmV1yd_AJ0v0K9rWpoA9w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将<strong class="bd qd">截止日期</strong>和<strong class="bd qd">启动日期</strong>系列转换为日期时间后的输出data.info()</p></figure><p id="7b3d" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">为了提取任何日期时间成分，我们使用子模块<code class="fe po pp pq pr b">dt</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><p id="a9a5" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">上面的代码在我们的数据框架中创建了一个关于项目启动年份的新系列。有了它，我们可以很容易地发现这个系列中的一个错误。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><p id="956a" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">这段代码返回1970年，这没有任何意义，因为Kickstarter是在2008年成立的！这显然是一个错误，因此我们可以从数据框架中排除任何启动年份小于2008年的行。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><p id="1edc" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">为了计算项目的持续时间，我们可以取<code class="fe po pp pq pr b">deadline</code>和<code class="fe po pp pq pr b">launched</code>系列的差值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><p id="b85f" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">这将在两个datetime序列之间执行元素减法，并返回一个timedelta序列，我们可以将它转换为月或日这样的时间组件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure><p id="dbe0" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">我们这里需要<code class="fe po pp pq pr b">numpy</code>的帮助。Numpy是另一个非常强大的Python库，它增加了对数组和矩阵的支持。Pandas构建在Numpy之上(还记得DataFrame是一个二维数组或矩阵吗？)所以这两个库配合得很好。要将时间增量转换为月份，请将<code class="fe po pp pq pr b">'D'</code>转换为<code class="fe po pp pq pr b">'M'</code>，或者如果您想转换为小时，请选择<code class="fe po pp pq pr b">'h'</code>。点击阅读更多<a class="ae ky" href="https://docs.scipy.org/doc/numpy/reference/arrays.datetime.html#datetime-units" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl oh oi hx oj" role="separator"><span class="ok bw bk ol om on"/><span class="ok bw bk ol om on"/><span class="ok bw bk ol om"/></div><div class="im in io ip iq"><h1 id="3278" class="kz la it bd lb lc oo le lf lg op li lj jz oq ka ll kc or kd ln kf os kg lp lq bi translated">完整的笔记本</h1><p id="11c8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">你可以在这里 找到本文<a class="ae ky" href="https://drive.google.com/drive/folders/1RC46pGR6pXAmjMni8jHreYn16wZDyMyM?usp=sharing" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu">中的数据和包含代码的Colab笔记本。</strong></a></p><h1 id="58b5" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">下一步是什么？</h1><p id="2059" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在接下来的几年里，熟练使用数据将成为一项基本技能。Pandas是帮助你处理数据的一个很好的工具，尤其是当数据变得更大更复杂的时候。</p><p id="0cc3" class="pw-post-body-paragraph lr ls it lt b lu no ju lw lx np jx lz ma nq mc md me nr mg mh mi ns mk ml mm im bi translated">在<strong class="lt iu">数据会谈</strong>系列的第二部分，我将讨论数据分析项目的下一步，即探索数据和提取见解。有了它，我将介绍<strong class="lt iu"> Matplotlib </strong>，一个用于数据可视化的Python库。</p><ul class=""><li id="a15b" class="nt nu it lt b lu no lx np ma nv me nw mi nx mm ny nz oa ob bi translated"><strong class="lt iu">第2部分:</strong>使用Matplotlib进行数据可视化(待更新)</li><li id="4981" class="nt nu it lt b lu oc lx od ma oe me of mi og mm ny nz oa ob bi translated"><strong class="lt iu">第3部分:</strong>使用Google Data Studio进行数据报告(待更新)</li></ul></div></div>    
</body>
</html>