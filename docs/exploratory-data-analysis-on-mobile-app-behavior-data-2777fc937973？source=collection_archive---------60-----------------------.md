# ç§»åŠ¨åº”ç”¨è¡Œä¸ºæ•°æ®çš„æ¢ç´¢æ€§æ•°æ®åˆ†æ

> åŸæ–‡ï¼š<https://towardsdatascience.com/exploratory-data-analysis-on-mobile-app-behavior-data-2777fc937973?source=collection_archive---------60----------------------->

## ä½¿ç”¨å¯è§†åŒ–å’Œç›¸å…³æ€§åˆ†æï¼Œæ·±å…¥äº†è§£å…·æœ‰å¤§é‡åŸå§‹æ•°æ®çš„ EDAï¼Œä»¥æé«˜æ‚¨çš„åŠ¨æ‰‹æŠ€èƒ½

![](img/25593f85f5b503d14f39f9e0d593cda5.png)

æ¥è‡ª Unsplash çš„ Img é€šè¿‡[é“¾æ¥](https://unsplash.com/photos/jrh5lAq-mIs)

åœ¨ä¹‹å‰çš„[æ–‡ç« ](/eda-how-to-on-app-behavior-data-77fde7384a70)ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•åœ¨å°å‹ app è¡Œä¸ºæ•°æ®é›†ä¸Šæ‰§è¡Œ EDAã€‚å¸Œæœ›ä½ åœ¨é‚£é‡Œå­¦åˆ°äº†å¾ˆå¤šã€‚**è¿™ç¯‡æ–‡ç« æ—¨åœ¨ç”¨æ›´å¤æ‚çš„æ•°æ®é›†æé«˜ä½ çš„ EDA æŠ€èƒ½ï¼Œå¹¶ä»‹ç»æ–°çš„æŠ€å·§ã€‚**å®ƒè¢«åˆ†æˆ 6 éƒ¨åˆ†ã€‚

1.æ•°æ®å®¡æŸ¥

2.æ•°æ®æ¸…ç†

3.æ•°å€¼å˜é‡åˆ†å¸ƒ

4.äºŒå…ƒå˜é‡åˆ†å¸ƒ

5.ç›¸å…³åˆ†æ

6.æ‘˜è¦

ç°åœ¨ï¼Œè®©æˆ‘ä»¬å¼€å§‹æ—…ç¨‹ğŸƒâ€â™‚ï¸ğŸƒâ€â™€ï¸.

1.  **æ•°æ®å®¡æ ¸**

å¿«é€ŸæŸ¥çœ‹ä¸‹é¢è§†é¢‘ä¸­æ˜¾ç¤ºçš„æ•°æ®ï¼Œæ‚¨ä¼šå‘ç°æœ‰ 31 åˆ— 27ï¼Œ000 è¡Œã€‚æœ‰äº†è¿™ä¹ˆå¤šç‰¹æ€§ï¼Œæœ€å¥½ä¸ºæ¯ä¸€åˆ—çš„è§£é‡Šåˆ›å»ºä¸€ä¸ªè§†å›¾ï¼Œå¦‚å›¾ 1 æ‰€ç¤ºï¼Œä»¥å¢å¼ºæˆ‘ä»¬çš„ç†è§£ã€‚

è§†é¢‘ 1 åŸå§‹æ•°æ®çš„ç®€è¦è§†å›¾

![](img/d4e6150244ddc1a45dad4e4ac98d5886.png)

å›¾ 1 è¡¨æ ¼è§†å›¾ä¸­çš„å˜é‡è¯´æ˜

2.**æ•°æ®æ¸…ç†**

åŸå§‹æ•°æ®é€šå¸¸åŒ…å«ç¼ºå¤±å€¼ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦çŸ¥é“æ¯ä¸€åˆ—ä¸­æ˜¯å¦æœ‰ *NaN* ã€‚å…·ä½“æ¥è¯´ï¼Œ

```
dataset.columns[dataset.isna().any()].tolist()
```

æˆ‘ä»¬å¾—åˆ°äº†åˆ— *['å¹´é¾„'ï¼Œ'ä¿¡ç”¨åˆ†æ•°'ï¼Œ'å¥–åŠ±æ”¶å…¥']ã€‚*ä½†æ˜¯è¿™äº›åˆ—ä¸­æœ‰å¤šå°‘æ¡è®°å½•æ˜¯ *NaN* ï¼Ÿæ‰€ä»¥ï¼Œ

```
dataset.isna().sum()
```

å¦‚å›¾ 2 æ‰€ç¤ºï¼Œåœ¨' *credit_score'* æ ä¸­æœ‰ 8000 å¤šå *NaN* ï¼Œåœ¨' *rewards_earned'* æ ä¸­æœ‰ 3227 å *NaN* ã€‚**æˆ‘ä»¬å°†åˆ é™¤è¿™ä¸¤åˆ—ï¼Œå¹¶åˆ é™¤å¹´é¾„ä¸º*ç”·*çš„ 4 æ¡è®°å½•ã€‚**

![](img/e9f9bcc26674640831c16c434bebedad.png)

å›¾ 2 *åˆ—ä¸­çš„ NaN* è®°å½•

å…·ä½“æ¥è¯´ï¼Œ

```
dataset = dataset[pd.notnull(dataset.age)]
dataset = dataset.drop(columns = [â€˜credit_scoreâ€™, â€˜rewards_earnedâ€™])
```

3.**æ•°å€¼å˜é‡åˆ†å¸ƒ**

ä¸ºäº†æ›´å¥½åœ°ç†è§£æ•°æ®åˆ†å¸ƒï¼Œå¯è§†åŒ–æ˜¯æœ€å¥½çš„æ–¹æ³•ã€‚è®©æˆ‘ä»¬å°è¯•ä¸€ä¸ª**ç›´æ–¹å›¾**ã€‚å…·ä½“æ¥è¯´ï¼Œ

```
dataset2 = dataset.drop(columns = [â€˜userâ€™, â€˜churnâ€™])
for i in range(1, dataset2.shape[1] + 1):
    plt.subplot(6, 5, i)
    f = plt.gca()
    vals = np.size(dataset2.iloc[:, i â€” 1].unique()
    plt.hist(dataset2.iloc[:, i â€” 1], bins=vals, color=â€™#3F5D7Dâ€™)
```

å¦‚å›¾ 3 æ‰€ç¤ºï¼Œè®¸å¤šå˜é‡æ˜¯æ­£åçš„ã€‚ä¸€äº›äºŒå…ƒå˜é‡å‡åŒ€åˆ†å¸ƒï¼Œè€Œå¦ä¸€äº›åˆ™é«˜åº¦é›†ä¸­åœ¨ä¸€è¾¹ã€‚**å¯¹äºé«˜åº¦é›†ä¸­çš„å˜é‡ï¼Œå®¡æŸ¥å› å˜é‡æ˜¯å¦ä¸å¹³è¡¡éå¸¸é‡è¦ã€‚ä¾‹å¦‚ï¼Œå¯¹äºåˆ—' *waiting_4_loan* 'ï¼Œå°äº 10%ä¸º 1ã€‚å¦‚æœå¤§å¤šæ•°ç­‰å¾…è´·æ¬¾çš„äººé€€è®¢äº†è¯¥äº§å“ï¼Œè¯¥æ¨¡å‹å¾ˆå¯èƒ½ä¼šåœ¨è¿™ä¸ªåŠŸèƒ½ä¸Šé€‚å¾—å…¶åã€‚**

![](img/522246d9d5f085aae410bbd8d6cd849a.png)

å›¾ 3 æ•°å€¼å˜é‡ç›´æ–¹å›¾

4.**äºŒå…ƒå˜é‡åˆ†å¸ƒ**

å¦‚ä¸Šæ‰€è¿°ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª**é¥¼çŠ¶å›¾**æ¥å…³æ³¨äºŒå…ƒå˜é‡çš„åˆ†å¸ƒã€‚å…·ä½“æ¥è¯´ï¼Œ

```
dataset2 = dataset[[â€˜housingâ€™, â€˜is_referredâ€™, â€˜app_downloadedâ€™, â€˜web_userâ€™, â€˜app_web_userâ€™, â€˜ios_userâ€™, â€˜android_userâ€™, â€˜registered_phonesâ€™, â€˜payment_typeâ€™, â€˜waiting_4_loanâ€™, â€˜cancelled_loanâ€™, â€˜received_loanâ€™, â€˜rejected_loanâ€™, â€˜left_for_two_month_plusâ€™, â€˜left_for_one_monthâ€™, â€˜is_referredâ€™]]for i in range(1, dataset2.shape[1] + 1):
    f = plt.gca()
    values = dataset2.iloc[:, i â€” 1].value_counts(normalize = True).values
    index = dataset2.iloc[:, i â€” 1].value_counts(normalize = True).index
    plt.pie(values, labels = index, autopct=â€™%1.1f%%â€™)
```

å¦‚å›¾ 4 æ‰€ç¤ºï¼Œæœ‰ 5 åˆ—éœ€è¦è¿›ä¸€æ­¥æ¢ç´¢ï¼Œå› ä¸ºå®ƒä»¬çš„åˆ†å¸ƒé«˜åº¦é›†ä¸­: *'waiting_4_loan 'ã€' cancelled _ loan 'ã€' received_loan 'ã€' rejected_loan 'ã€' left_for_one_month'* ã€‚

![](img/512dfd1827d5568e2a560255619aeab0.png)

å›¾ 4 äºŒå…ƒå˜é‡é¥¼å›¾

å¯¹äºè¿™ 5 åˆ—ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹å°‘æ•°ç±»åˆ«ä¸­çš„å› å˜é‡åˆ†å¸ƒã€‚å…·ä½“æ¥è¯´ï¼Œ

![](img/bdbb08773352e6ebaf27ae32d5bd0332.png)

å›¾ 5 é›†ä¸­å˜é‡çš„å› å˜é‡åˆ†å¸ƒ

å›¾ 5 å‘Šè¯‰æˆ‘ä»¬ï¼Œåœ¨å°‘æ•°æ°‘æ—ç±»åˆ«ä¸­ï¼Œå› å˜é‡å¹¶ä¸ä¸¥é‡å¤±è¡¡ã€‚å¤ªå¥½äº†ã€‚æ²¡ä»€ä¹ˆå¥½æ‹…å¿ƒçš„ã€‚

**æ€»ä¹‹ï¼Œå¯è§†åŒ–çš„å…¨éƒ¨ç›®çš„å°±æ˜¯äº†è§£æ¯ä¸ªå˜é‡çš„åˆ†å¸ƒæ˜¯å¦‚ä½•å‡åŒ€çš„ï¼Œä»¥åŠæ¯ä¸ªäºŒå…ƒå˜é‡ä¸­å› å˜é‡çš„åˆ†å¸ƒæ˜¯å¦‚ä½•å‡åŒ€çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è¯†åˆ«éœ€è¦è¿‡é‡‡æ ·æˆ–ä¸‹é‡‡æ ·çš„å˜é‡ã€‚**

5.**ç›¸å…³æ€§åˆ†æ**

5.1 è‡ªå˜é‡å’Œå› å˜é‡ä¹‹é—´

è¿™ä¸€æ­¥æ˜¯ä¸ºäº†äº†è§£å“ªäº›ç‰¹å¾æˆ–å˜é‡å¯èƒ½å¯¹å› å˜é‡æœ‰å¾ˆå¤§å½±å“ã€‚è¿™é‡Œæˆ‘ä»¬åªåˆ†æ**æ•°å€¼å˜é‡**ã€‚

å…·ä½“æ¥è¯´ï¼Œ

```
dataset.drop(columns = [â€˜userâ€™, â€˜churnâ€™, â€˜housingâ€™, â€˜payment_typeâ€™, â€˜registered_phonesâ€™,â€˜zodiac_signâ€™]).corrwith(dataset.churn).plot.bar(figsize=(20,10), title = â€˜Correlation with Response variableâ€™,fontsize = 15, rot = 45,grid = True)
```

å›¾ 6 æ˜¾ç¤ºäº†ä¸€äº›æœ‰è¶£çš„å‘ç°ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå˜é‡' *cc_taken'* ï¼Œå®¢æˆ·è·å¾—çš„ä¿¡ç”¨è¶Šå¤šï¼Œä»–ä»¬æµå¤±çš„å¯èƒ½æ€§å°±è¶Šå¤§ã€‚è¿™å¯èƒ½è¡¨æ˜é¡¾å®¢å¯¹ä¿¡ç”¨å¡ä¸æ»¡æ„ã€‚

![](img/706f41a92f41c7f0be67f9fd2a010fc8.png)

å›¾ 6 è‡ªå˜é‡å’Œå› å˜é‡ä¹‹é—´çš„ç›¸å…³æ€§

5.2 è‡ªå˜é‡ä¹‹é—´

ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªä½¿ç”¨â€œç‹¬ç«‹â€å˜é‡ä½œä¸ºè¾“å…¥ã€‚ç›¸å…³çŸ©é˜µè¡¨æ˜å˜é‡æ˜¯å¦ç›¸äº’ç‹¬ç«‹ã€‚å…·ä½“æ¥è¯´ï¼Œ

```
corr = dataset.drop(columns = [â€˜userâ€™, â€˜churnâ€™]).corr()
```

å¦‚å›¾ 7 æ‰€ç¤ºï¼Œ' *android_user* 'å’Œ' *ios_user* 'ä¹‹é—´æœ‰å¾ˆå¼ºçš„è´Ÿç›¸å…³å…³ç³»ã€‚å¦ä¸€åˆ—æ˜¯â€œ *app_web_user* â€ï¼Œè¡¨ç¤ºåŒæ—¶ä½¿ç”¨ app å’Œ web çš„ç”¨æˆ·ã€‚å½“' *app_downloaded* 'ä¸º 1 ä¸”' *web_user* 'ä¸º 1 æ—¶ï¼Œåªèƒ½ä¸º 1ã€‚æ‰€ä»¥' *app_web_user* 'ä¸æ˜¯ä¸€ä¸ªéœ€è¦å»æ‰çš„è‡ªå˜é‡ã€‚å…·ä½“æ¥è¯´ï¼Œ

```
dataset = dataset.drop(columns = [â€˜app_web_userâ€™])
dataset.to_csv(â€˜new_churn_data.csvâ€™, index = False)
```

![](img/509d494357bbd6fff26a3bf1eb18a2c2.png)

å›¾ 7 ç‹¬ç«‹å˜é‡é—´çš„ç›¸å…³çŸ©é˜µ

6.**æ€»ç»“**

åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæ‚¨å°†é¢ä¸´æ¯”æˆ‘ä»¬åœ¨è¿™é‡Œå¤„ç†çš„æ›´å¤šçš„è„æ•°æ®ã€‚å› æ­¤ï¼Œæ‚¨éœ€è¦é¦–å…ˆæ¸…ç†æ•°æ®ï¼Œæ£€æŸ¥æ•°æ®åˆ†å¸ƒï¼Œå¹¶äº†è§£æ˜¯å¦å‡ºç°äº†ä¸å¹³è¡¡ã€‚æ­¤å¤–ï¼Œä½¿ç”¨ç›¸å…³æ€§åˆ†ææ¥æ¶ˆé™¤å¯¹è¦ç´ çš„ä»»ä½•ä¾èµ–æ€§ã€‚å¹¸è¿çš„æ˜¯ï¼Œä¸ç®¡ä½ æœ‰å¤šå°‘æ•°æ®ï¼Œæ€ç»´è¿‡ç¨‹æˆ–å¤šæˆ–å°‘éƒ½æ˜¯ä¸€æ ·çš„ã€‚

**å¤ªå¥½äº†ï¼è¿™å°±æ˜¯æ—…ç¨‹çš„å…¨éƒ¨ï¼å¦‚æœéœ€è¦æºä»£ç ï¼Œå¯ä»¥éšæ—¶è®¿é—®æˆ‘çš„** [**Github**](https://github.com/luke4u/Customer_Behaviour_Prediction/tree/main/churn_prediction) **é¡µé¢**ğŸ¤ğŸ¤**ã€‚ä¸‹ä¸€ç¯‡æ–‡ç« å°†ä»‹ç»æ•°æ®å¤„ç†ã€æ¨¡å‹æ„å»ºå’Œä¼˜åŒ–**ã€‚