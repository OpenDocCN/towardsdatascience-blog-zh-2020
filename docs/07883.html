<html>
<head>
<title>Maintaining GitHub stats for more than 14 days</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">维护GitHub统计数据超过14天</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/maintaining-github-stats-for-more-than-14-days-31653bd1d7e1?source=collection_archive---------44-----------------------#2020-06-11">https://towardsdatascience.com/maintaining-github-stats-for-more-than-14-days-31653bd1d7e1?source=collection_archive---------44-----------------------#2020-06-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/ec0701e99fe5af04b07d9f97c1fa9688.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W3t-nGlvuu1u3DX44Ku5DA.png"/></div></div></figure><div class=""/><div class=""><h2 id="c1a1" class="pw-subtitle-paragraph jy ja jb bd b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp dk translated">用于维护Github克隆和视图统计数据超过14天的Python代码。</h2></div><p id="91bc" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">GitHub是一个帮助开发人员存储和管理代码的伟大平台。目前，GitHub仅提供最近14天的统计数据。这些统计数据包括视图、唯一视图、克隆和唯一克隆的数量。作为一名开发人员，我发现看不到我的GitHub库的终生统计数据有点令人不安。这些终身统计将帮助开发人员了解他们的存储库的重要性。基于流量，开发人员可以给予某些存储库更多的关注。此外，有时开发人员可能希望在他们的网站上显示这些统计数据。</p><p id="d919" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">在本文中，我将详细介绍如何维护超过14天的存储库的GitHub统计数据，并显示网站的这些图表。完整的代码可以在<a class="ae lm" href="https://github.com/aqeelanwar/StatTheGit" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><h1 id="4148" class="ln lo jb bd lp lq lr ls lt lu lv lw lx kh ly ki lz kk ma kl mb kn mc ko md me bi translated">StatTheGit</h1><p id="8f1a" class="pw-post-body-paragraph kq kr jb ks b kt mf kc kv kw mg kf ky kz mh lb lc ld mi lf lg lh mj lj lk ll ij bi translated">StatTheGit是一个基于python的工具，用于获取、维护和显示GitHub克隆和视图统计数据。该存储库可用于维护存储库统计信息的本地副本。</p><h2 id="d2e1" class="mk lo jb bd lp ml mm dn lt mn mo dp lx kz mp mq lz ld mr ms mb lh mt mu md mv bi translated">步骤1 —克隆存储库</h2><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="ac29" class="mk lo jb nb b gy nf ng l nh ni">git clone <a class="ae lm" href="https://github.com/aqeelanwar/StatTheGit.git" rel="noopener ugc nofollow" target="_blank">https://github.com/aqeelanwar/StatTheGit.git</a></span></pre><h2 id="d38b" class="mk lo jb bd lp ml mm dn lt mn mo dp lx kz mp mq lz ld mr ms mb lh mt mu md mv bi translated">步骤2 —安装所需的软件包</h2><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="3781" class="mk lo jb nb b gy nf ng l nh ni">cd StatTheGit<br/>pip install -r requirements.txt</span></pre><h2 id="23c7" class="mk lo jb bd lp ml mm dn lt mn mo dp lx kz mp mq lz ld mr ms mb lh mt mu md mv bi translated">步骤3 —获取统计数据</h2><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="0ecf" class="mk lo jb nb b gy nf ng l nh ni">python fetch_stats.py \<br/>--GitToken &lt;GitToken&gt; \<br/>--username &lt;GitHub Username&gt; \<br/>--RepoNames &lt;Repository name&gt;</span></pre><figure class="mw mx my mz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nj"><img src="../Images/8faeda068e5279fbe44efe096120026b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*me-EiUH1fFQa0NkKwk2s3A.png"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">python文件fetch_the_stats.py的参数详细信息</p></figure><p id="f5c6" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc"> gitToken: </strong> GitToken是一个40个字符的十六进制Git访问令牌，用来代替密码来执行Git操作。要从GitHub帐户获取统计数据，您需要创建一个Git访问令牌。关于如何从你的个人资料中创建一个的细节可以在GitHub网站的<a class="ae lm" href="https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="a20d" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc">用户名:</strong>这是您的GitHub用户名。</p><p id="8e1d" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc"> RepoNames: </strong>可用于限制您要获取统计数据的存储库。要获取多个存储库的统计数据，只需用空格将它们分隔开，如下例所示</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="4666" class="mk lo jb nb b gy nf ng l nh ni">python fetch_stats.py \<br/>--username &lt;username&gt; \<br/>--GitToken &lt;GitToken-here&gt; \<br/>--RepoNames reponame1 reponame2 reponame3</span></pre><p id="3218" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">运行fetch_stats.py将在父目录中创建一个文件夹repo_stats/ <username>。上述存储库的视图和克隆统计数据将从GitHub概要文件中获取，并保存为一个. txt文件。如果。存储库的txt文件已经存在。代码将获取的数据附加到现有的统计数据中，处理重复统计数据、缺少日期等问题。至少每两周运行一次fetch_stats将确保从GitHub获取统计数据(在它们被丢弃之前)并附加到当前统计数据中。</username></p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="6d53" class="mk lo jb nb b gy nf ng l nh ni"># Generic<br/>|-- repo_stats<br/>|    |-- &lt;username&gt;<br/>|    |    |-- &lt;repository 1&gt;.txt<br/>|    |    |-- &lt;repository 2&gt;.txt<br/>|    |    |-- &lt;repository 3&gt;.txt</span><span id="2c1a" class="mk lo jb nb b gy no ng l nh ni"># Example<br/>|-- repo_stats<br/>|    |-- aqeelanwar<br/>|    |    |-- PEDRA.txt<br/>|    |    |-- SocialDistancingAI.txt</span></pre><figure class="mw mx my mz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi np"><img src="../Images/f31bffc9a25d8b12922e26c406f802a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pZTGX8EuxiWhX2Rczy56Fw.png"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">存储库统计信息的示例文本文件—socialdinstancingai . txt</p></figure><h2 id="e458" class="mk lo jb bd lp ml mm dn lt mn mo dp lx kz mp mq lz ld mr ms mb lh mt mu md mv bi translated">步骤4 —显示统计数据</h2><p id="5d82" class="pw-post-body-paragraph kq kr jb ks b kt mf kc kv kw mg kf ky kz mh lb lc ld mi lf lg lh mj lj lk ll ij bi translated">StatTheGit可以用来创建和更新GitHub库的离线图和在线图，然后可以显示在你的网站上<a class="ae lm" href="http://www.aqeel-anwar.com/#GitHubStat" rel="noopener ugc nofollow" target="_blank">，就像这个</a>。Plotly被用作图形库，主要是因为它支持在线图形，可以嵌入到您的网站。</p><p id="f064" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc">离线图形:</strong>基于图形的交互式图形，可以在本地机器上查看。</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="15be" class="mk lo jb nb b gy nf ng l nh ni">python display_stats.py \<br/>--stat_folder repo_stats \<br/>--display_type 'offline'</span></pre><p id="d4fd" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">这将为考虑中的每个存储库打开一个浏览器选项卡，并显示存储库克隆和视图统计的交互式图形</p><figure class="mw mx my mz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nq"><img src="../Images/6b12f47ee76b3d19957b940897420eec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uQNPsEtbTXkzYKBKOkU1mQ.gif"/></div></div></figure><p id="8756" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc">在线图表:</strong>要在你的网站上显示这些图表，你需要把它们放在你的Plotly账户上。可以采取以下步骤</p><ol class=""><li id="4ceb" class="nr ns jb ks b kt ku kw kx kz nt ld nu lh nv ll nw nx ny nz bi translated">在这里创建Plotly账户<a class="ae lm" href="https://chart-studio.plotly.com/feed/#/" rel="noopener ugc nofollow" target="_blank">(<em class="oa">Plotly-用户名</em>)</a></li><li id="970a" class="nr ns jb ks b kt ob kw oc kz od ld oe lh of ll nw nx ny nz bi translated">在这里生成API Key<a class="ae lm" href="https://plot.ly/settings/api" rel="noopener ugc nofollow" target="_blank">(<em class="oa">plotly-API _ Key</em>)</a></li></ol><p id="aa30" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">一旦您有了用户名和API密钥，您就可以使用以下命令来创建在线图表，然后可以在网站上共享。</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="2b19" class="mk lo jb nb b gy nf ng l nh ni">python display_stats.py \<br/>--stat_folder repo_stats \<br/>--display_type 'online' \<br/>--username &lt;plotly-username&gt; \<br/>--api_key &lt;plotly-api-key</span></pre><p id="e78e" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">运行此命令将在web浏览器中打开每个考虑的存储库的图形。要在您的网站上显示这些图表，您可以复制iframe或HTML代码(基于您的网站设计)并在您的网站上使用它。</p><figure class="mw mx my mz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nq"><img src="../Images/c93aee2b581e86855201ae3e118c1daf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JU708gFZd6gQFu0odVGTBQ.gif"/></div></div></figure><p id="c9e3" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">重新运行该命令时，链接不会改变，网站上显示的图形会自动更新，因此无需再次复制粘贴链接。</p><h2 id="384e" class="mk lo jb bd lp ml mm dn lt mn mo dp lx kz mp mq lz ld mr ms mb lh mt mu md mv bi translated">第5步—更新统计数据:</h2><p id="41f6" class="pw-post-body-paragraph kq kr jb ks b kt mf kc kv kw mg kf ky kz mh lb lc ld mi lf lg lh mj lj lk ll ij bi translated">从现在开始，每当你需要更新你的网站上显示的GitHub统计数据时，你只需要运行fetch_stats和display_stats</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="ebb7" class="mk lo jb nb b gy nf ng l nh ni"><strong class="nb jc"># Step 1:</strong></span><span id="898a" class="mk lo jb nb b gy no ng l nh ni">python fetch_stats.py \<br/>--GitToken &lt;GitToken&gt; \<br/>--username &lt;GitHub Username&gt; \<br/>--RepoNames &lt;Repository name&gt;</span><span id="6b84" class="mk lo jb nb b gy no ng l nh ni"><strong class="nb jc">#Step 2:</strong></span><span id="0ef7" class="mk lo jb nb b gy no ng l nh ni">python display_stats.py \<br/>--stat_folder repo_stats \<br/>--display_type 'online' \<br/>--username &lt;plotly-username&gt; \<br/>--api_key &lt;plotly-api-key</span></pre><p id="c7e1" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">这将自动更新图表。</p><h1 id="fe9a" class="ln lo jb bd lp lq lr ls lt lu lv lw lx kh ly ki lz kk ma kl mb kn mc ko md me bi translated">总结:</h1><p id="c49c" class="pw-post-body-paragraph kq kr jb ks b kt mf kc kv kw mg kf ky kz mh lb lc ld mi lf lg lh mj lj lk ll ij bi translated"><a class="ae lm" href="https://github.com/aqeelanwar/StatTheGit" rel="noopener ugc nofollow" target="_blank"> StatTheGit </a>可用于维护并自动更新您网站上GitHub存储库的<strong class="ks jc">终生</strong>统计数据。</p></div><div class="ab cl og oh hu oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="ij ik il im in"><p id="d07f" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">如果这篇文章对你有帮助，请随意鼓掌、分享和回复。如果你想了解更多关于机器学习和数据科学的知识，请关注我@<a class="on oo ep" href="https://medium.com/u/a7cc4f201fb5?source=post_page-----31653bd1d7e1--------------------------------" rel="noopener" target="_blank"><strong class="ks jc">Aqeel an war</strong></a><strong class="ks jc">或者在</strong><a class="ae lm" href="https://www.linkedin.com/in/aqeelanwarmalik/" rel="noopener ugc nofollow" target="_blank"><strong class="ks jc"><em class="oa">LinkedIn</em></strong></a><strong class="ks jc"><em class="oa">上与我联系。</em> </strong></p></div></div>    
</body>
</html>