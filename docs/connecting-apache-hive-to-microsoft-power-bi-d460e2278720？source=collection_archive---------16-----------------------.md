# å°† Apache Hive è¿æ¥åˆ° Microsoft Power BI

> åŸæ–‡ï¼š<https://towardsdatascience.com/connecting-apache-hive-to-microsoft-power-bi-d460e2278720?source=collection_archive---------16----------------------->

## é€æ­¥è¿æ¥æ³•ã€‚

![](img/7346af7510b0cb3501997f41c351c2f7.png)

åŸƒå¾·åŠ Â·æ°å¸•ç½—åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

åœ¨è¿™ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘ä»¬æåˆ°äº†æ‰§è¡Œæ‰€éœ€è¿æ¥çš„æ­¥éª¤ã€‚Hive æ•°æ®åº“åŸºäº cloud era & Power BI æ¡Œé¢å®‰è£…åœ¨ Windows ä¸Šã€‚è¿™ç§è¿æ¥ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»– BI å·¥å…·å®ç°ï¼Œå¦‚ Tableau &ç­‰ã€‚å› ä¸º Hive å¯ä»¥ä¸è®¸å¤š BI å·¥å…·é›†æˆï¼Œä½†è¿™ä¸ªè¿‡ç¨‹å¯èƒ½å¾ˆæœ‰æŒ‘æˆ˜æ€§ã€‚**è®©æˆ‘ä»¬æœŸå¾…é‡‡å–è¿æ¥æ‰€éœ€çš„æ­¥éª¤ã€‚**

# 1.ä¸‹è½½å’Œå®‰è£… ODBC é©±åŠ¨ç¨‹åº

æœ€åˆï¼Œæˆ‘ä»¬éœ€è¦ä» Cloudera ç¤¾åŒºä¸‹è½½ ODBC é©±åŠ¨ç¨‹åºã€‚æœ‰ä¸¤ä¸ªç‰ˆæœ¬ä¸€ä¸ªæ˜¯ **64 ä½**å¦ä¸€ä¸ªæ˜¯ **32 ä½**ç‰ˆæœ¬ã€‚è¿™å–å†³äºæ‚¨ä½¿ç”¨çš„ PC/ç¬”è®°æœ¬ç”µè„‘çš„ç‰ˆæœ¬ã€‚æ‚¨å¯ä»¥é€šè¿‡ç‚¹å‡»**çª—å£**æŒ‰é’®å’Œ**æš‚åœ/ä¸­æ–­**æŒ‰é’®æ¥æ£€æŸ¥æ‚¨çš„ PC ç‰ˆæœ¬ã€‚å°†æ‰“å¼€ä¸€ä¸ªé¢æ¿ï¼Œæ˜¾ç¤ºç³»ç»Ÿçš„æŠ€æœ¯ç‰¹å¾ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥æ ¹æ®æ‚¨çš„ç³»ç»Ÿå®‰è£… Hive ODBC é©±åŠ¨ç¨‹åºã€‚å¦å¤–ï¼Œä¸‹é¢ç»™å‡ºäº† Power BI æ¡Œé¢ä¸‹è½½çš„é“¾æ¥ï¼

> [Power BI æ¡Œé¢ä¸‹è½½é“¾æ¥](https://powerbi.microsoft.com/en-us/downloads/)
> 
> [HIVE ODBC é©±åŠ¨ä¸‹è½½é“¾æ¥](https://www.cloudera.com/downloads/connectors/hive/odbc/2-5-12.html)

# 2.åœ¨ Cloudera ä¸Šå¯åŠ¨ Hive Thrift æœåŠ¡å™¨

![](img/f22302a7bb9b394cd47277118fe16c0c.png)

æ‹‰èƒ¡å°”Â·å¸•å¡”å…‹

*   è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨å‘½ä»¤å¯åŠ¨äº† Hive Thrift æœåŠ¡å™¨

```
hive --service hiveserver2
```

*   é”®å…¥ **ifconfig** ä»¥è·å– inet åœ°å€ï¼Œè¯¥åœ°å€å°†æˆä¸ºæ‚¨çš„è¿æ¥çš„ä¸»æœºã€‚

```
ifconfig
```

# 3.ODBC é©±åŠ¨ç¨‹åºçš„é…ç½®

*   é¦–å…ˆåŒæ—¶æŒ‰ä¸‹ **Windows + R** å¹¶é”®å…¥ **odbcad32ã€‚ä¸€ä¸ªçª—å£ä¼šå‡ºç°ã€‚**

![](img/7299a61213b5471dee7afd716f504d93.png)

æ‹‰èƒ¡å°”Â·å¸•å¡”å…‹

*   åœ¨**ç”¨æˆ· DSN** é€‰é¡¹å¡ä¸­ç‚¹å‡»**æ·»åŠ **æŒ‰é’®

![](img/8084abcec44e1086a3c9270419e158d8.png)

æ‹‰èƒ¡å°”Â·å¸•å¡”å…‹

*   ç‚¹å‡»**ç”¨äº Apache Hive çš„ Cloudera ODBC é©±åŠ¨**å¹¶ç‚¹å‡»**å®Œæˆ**
*   ä¸€æ‰‡æ–°çš„çª—æˆ·å°†ä¼šæ‰“å¼€

![](img/081f8c5814995346bfb453aff1e528e3.png)

æ‹‰èƒ¡å°”Â·å¸•å¡”å…‹

1.  é”®å…¥æ‰€éœ€çš„æ•°æ®æºåç§°(DSN)ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹å®ƒçš„**èœ‚å·¢ _ è¿æ¥ã€‚**
2.  æè¿°æ˜¯å¯é€‰çš„
3.  é€‰æ‹© **Hive Server 2** ä½œä¸ºæ‚¨çš„æœåŠ¡å™¨ç±»å‹
4.  ä½¿ç”¨ **ifconfig** è¾“å…¥æ‚¨ä» Cloudera ç»ˆç«¯è·å¾—çš„**ä¸»æœºåœ°å€**
5.  ç«¯å£æ˜¯ **10000**
6.  æ•°æ®åº“éƒ¨åˆ†æ˜¯å¯é€‰çš„
7.  é€‰æ‹©æœºåˆ¶ä¸º**ç”¨æˆ·å**
8.  è¿™ä¸ªè¿æ¥çš„ç”¨æˆ·åæ˜¯ **Cloudera**
9.  é€‰æ‹© **SASL** åœ¨èŠ‚ä¿­è¿
10.  ç‚¹å‡»**æµ‹è¯•**
11.  æ£€æŸ¥**æµ‹è¯•æ˜¯å¦æˆåŠŸ**ã€‚æˆåŠŸå®Œæˆåï¼Œç‚¹å‡»**ç¡®å®š**

# 4.ç”µæº BI çš„é…ç½®

*   ç‚¹å‡»**è·å–æ•°æ®= >æ›´å¤š**
*   åœ¨æœç´¢æ ä¸­é”®å…¥ **ODBC** å¹¶ç‚¹å‡»**è¿æ¥**
*   é€‰æ‹© **Cloudera Hive DSN** å¹¶ç‚¹å‡»**ç¡®å®š**
*   åœ¨ Power BI çš„**å¯¼èˆªå™¨**æ ä¸­ï¼Œå¯ä»¥çœ‹åˆ°æ¥è‡ª Hive æ•°æ®åº“çš„è¡¨æ ¼

# 5.å¯è§†åŒ–æ•°æ®

ä¸€æ—¦è¿æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»é…ç½®å•å…ƒè¡¨å¯¼å…¥çš„æ•°æ®å¯è§†åŒ–åˆ° Power BIã€‚

![](img/9072160eb2964f849c02cdfdec85ba0c.png)

ç”±[å¢å…‹Â·åˆ‡ç‘Ÿ](https://unsplash.com/@lukechesser?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

æ„Ÿè°¢æ‚¨ä»å¤´åˆ°å°¾é˜…è¯»æœ¬æ–‡ã€‚æˆ‘å¸Œæœ›æˆ‘ä»¬èƒ½å¤Ÿå¸®åŠ©æ‚¨è¿æ¥è¿™äº›å·¥å…·ã€‚å¿«ä¹å­¦ä¹ ğŸ¤—ã€‚