<html>
<head>
<title>Quick Uncertainty Estimates for COVID19 Excess Mortality</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">COVID19超额死亡率的快速不确定性估计</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/quick-uncertainty-estimates-for-covid19-excess-mortality-1e39e6c94bd7?source=collection_archive---------55-----------------------#2020-06-10">https://towardsdatascience.com/quick-uncertainty-estimates-for-covid19-excess-mortality-1e39e6c94bd7?source=collection_archive---------55-----------------------#2020-06-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="51c4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="ko">编者按:</em> </strong> <em class="ko"> </em> <a class="ae kp" href="http://towardsdatascience.com/" rel="noopener" target="_blank"> <em class="ko">走向数据科学</em> </a> <em class="ko">是一份以数据科学和机器学习研究为主的中型刊物。我们不是健康专家或流行病学家，本文的观点不应被解释为专业建议。想了解更多关于疫情冠状病毒的信息，可以点击</em> <a class="ae kp" href="https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports" rel="noopener ugc nofollow" target="_blank"> <em class="ko">这里</em> </a> <em class="ko">。</em></p><p id="a918" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi kq translated"><span class="l kr ks kt bm ku kv kw kx ky di"> F </span>还是最近的一个<a class="ae kp" href="https://www.economist.com/graphic-detail/2020/04/16/tracking-covid-19-excess-deaths-across-countries" rel="noopener ugc nofollow" target="_blank">故事</a> <strong class="js iu">经济学家</strong>收集了大量的时间序列数据来进行每个国家的COVID“超额死亡”分析。</p><p id="5939" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用的方法相当简单:</p><ul class=""><li id="fea4" class="kz la it js b jt ju jx jy kb lb kf lc kj ld kn le lf lg lh bi translated">计算数据集中包含的2020年之前所有年份的每个国家的每周平均死亡人数</li><li id="a9f1" class="kz la it js b jt li jx lj kb lk kf ll kj lm kn le lf lg lh bi translated">计算COVID爆发后实际每周死亡人数与“预测”平均每周死亡人数之间的差异</li><li id="09f7" class="kz la it js b jt li jx lj kb lk kf ll kj lm kn le lf lg lh bi translated">从疫情发病开始求和，以获得超额死亡总数。</li><li id="ca07" class="kz la it js b jt li jx lj kb lk kf ll kj lm kn le lf lg lh bi translated">与国家统计局报告的与COVID相关的死亡进行比较</li></ul><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/b2b541da151deb0342d60bae78328e49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*YnX0H7kTNgCPepMOr4meZg.png"/></div><p class="lv lw gj gh gi lx ly bd b be z dk translated">根据《经济学人》的模型<a class="ae kp" href="https://www.economist.com/graphic-detail/2020/04/16/tracking-covid-19-excess-deaths-across-countries" rel="noopener ugc nofollow" target="_blank">https://www . Economist . com/graphic-detail/2020/04/16/tracking-新冠肺炎-超额死亡-跨国家</a></p></figure><p id="e4a7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然这是一个有趣的数据新闻，但从数据科学的角度来看，他们的方法有两个主要的问题:</p><ul class=""><li id="b4a8" class="kz la it js b jt ju jx jy kb lb kf lc kj ld kn le lf lg lh bi translated">任何试图建立基于历史观察的反事实结果的方法都将关键取决于模型的选择。我们怎么知道周均值模型是合理的？</li><li id="a9a3" class="kz la it js b jt li jx lj kb lk kf ll kj lm kn le lf lg lh bi translated">我们如何知道观察到的差异不仅仅是由于<strong class="js iu">采样误差</strong>？(碰巧)。或者更具体地说，我们如何更准确地确定超额死亡的全部后验分布？</li></ul><p id="943f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，在接下来的内容中，我将尝试使用现成的预测工具来快速解决这些问题。幸运的是，《经济学人》已经在<a class="ae kp" href="https://github.com/TheEconomist/covid-19-excess-deaths-tracker" rel="noopener ugc nofollow" target="_blank"> github </a>上发布了本文使用的所有数据，所以我们可以马上开始。</p><h1 id="c628" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">描述性分析</h1><p id="f080" class="pw-post-body-paragraph jq jr it js b jt mx jv jw jx my jz ka kb mz kd ke kf na kh ki kj nb kl km kn im bi translated">对所提供数据的快速分析表明，在构建时间序列方面已经做了大量工作，但在将国家来源提供的数据统一到一个共同的每周汇总水平方面仍然存在明显的挑战:图1表明，我们缺少数据，而且各国的历史视野不同。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi nc"><img src="../Images/58573d05b89a167bba9c43ea9a3ae1dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rIoi9AITJHNrvL7A2q6F_w.png"/></div></div><p class="lv lw gj gh gi lx ly bd b be z dk translated">图1:六个国家每周总死亡人数。start_date表示各周的第一天。</p></figure><p id="0967" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然这可能会在未来提出一些建模挑战(例如，缺少数据，与ARIMA不太相符)，但让我们首先评论一下整个过程的一般模式:首先，我们可以看到一个明显的年度模式，在冬季月份前后有年度高峰(德国在3月份左右)。其次，我们清楚地看到2020年第一季度的峰值，这与疫情的爆发相吻合。第三，更微妙的是，在人口增长和大致不变的死亡率的驱动下，死亡人数存在长期趋势。</p><p id="2357" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了激励我们的超额死亡数估计，让我们引入一个最小程度的形式主义。假设y_{it}⁰表示第t周和国家I的每周死亡人数，如果COVID19没有实现，y_{it}表示实际死亡人数。假设COVID周期的开始时间为t*(注意，这类似于回归<a class="ae kp" href="https://en.wikipedia.org/wiki/Regression_discontinuity_design#:~:text=In%20statistics%2C%20econometrics%2C%20political%20science,which%20an%20intervention%20is%20assigned." rel="noopener ugc nofollow" target="_blank">不连续设计</a>文献中研究的问题)，则国家I的超额死亡率为:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/030c5b9744463d5b33b6610f30141c60.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/0*YbhC02-kpTIgoQTt.png"/></div></figure><p id="c918" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">假设y_{it}可以准确无误地测量(如此盲目地相信国家统计局)，我们仍然无法在不推理反事实数列y_{it}⁰.的情况下计算上面的表达式为了这个练习的目的，我们采用facebook的<a class="ae kp" href="https://facebook.github.io/prophet/" rel="noopener ugc nofollow" target="_blank"> prophet package </a>中的假设:即我们假设y_{it}⁰是由一个(贝叶斯)<a class="ae kp" href="https://en.wikipedia.org/wiki/Generalized_additive_model" rel="noopener ugc nofollow" target="_blank"> GAM </a>生成的:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/5e0161390fd2f7088b0f2bcedf83fad1.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/0*iALlsESx22ctc-zL.png"/></div></figure><p id="6c34" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">而g_i(t)包含国家特定的趋势成分，s_i(t)表示季节性因素，ε是一个特殊的误差项。Prophet使用直接<a class="ae kp" href="https://en.wikipedia.org/wiki/Fourier_series" rel="noopener ugc nofollow" target="_blank">傅立叶分解</a>来处理季节性成分，有关更多详细信息，请查看my code和<a class="ae kp" href="https://peerj.com/preprints/3190/" rel="noopener ugc nofollow" target="_blank"> Prophet Paper </a> (p11)。</p><p id="3df4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了确保我们对y_{it}⁰的预测只反映前COVID dgp，我估计了2020年前数据的g_i(t)和s_i(t)的参数。此外，我选择了一个线性时间趋势，加上季节性成分，分别具有季度和年度周期。使用MCMC和1000次复制完成参数估计。</p><p id="c293" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">随后，我们可以简单地使用估计后验样本来计算所需的增量。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/72c99cddb8e02dc63f5ea056b39fd0a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/0*Q0piA-SD8aC_3Jzi.png"/></div></figure><p id="a816" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">其中s表示蒙特卡罗样本指数，t_i^{end}表示我们数据中国家I的最后一个现有时间指数，t*被设置为2020年2月1日。请注意，当然，为了捕捉长期影响，我们需要y_{it}的更长时间序列，但是，基于当前数据，我们可以在官方COVID统计中可视化潜在的过度/不足归因。</p><p id="55e9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，将所有的成分放在一起，我们得到了每个国家的估计COVID超额死亡率分布，加上一条红色的垂直线表示官方计数。(X轴的刻度从0到100k。)</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/a76bce34071a930d6f5b35f8d4ff89c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*zsxcGpaz-Zev-pqO0BDBDQ.png"/></div><p class="lv lw gj gh gi lx ly bd b be z dk translated">图2:不同国家超额死亡率的分布——注意德国的大部分概率位于零的左边。红色虚线表示特定国家报告的由COVID引起的死亡。</p></figure><p id="a357" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">图2显示超额死亡率报告似乎与我们估计的分布大致一致。美国和德国的数据差异很大，有限的数据使得对意大利的精确估计颇具挑战性。请注意，红色垂直线和我们的分布模式之间的差异不一定表明COVID死亡的过度/不足归因:公共卫生服务压力的增加也可能增加不相关疾病的死亡。</p><h1 id="b06d" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">德国怎么了？</h1><p id="ab20" class="pw-post-body-paragraph jq jr it js b jt mx jv jw jx my jz ka kb mz kd ke kf na kh ki kj nb kl km kn im bi translated">从上面的直方图中可以明显看出，德国2020年春季的死亡人数比我们的模型预测的要低得多(因此出现了负的超额死亡人数)。然而，这似乎不是不合理的模型预测的结果，而是2020年3月和4月德国异常低的死亡率。这一时期是否有其他一些共同因素，或者数据来源是否有误，仍有待确定。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi nl"><img src="../Images/5244c518258350dde0af1a6ff68258cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YT34cvbqqPw_4t9XBH7NwA.png"/></div></div><p class="lv lw gj gh gi lx ly bd b be z dk translated">德国实际与预测的超额死亡</p></figure><h1 id="daf3" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">结论和进一步的工作</h1><p id="cdb4" class="pw-post-body-paragraph jq jr it js b jt mx jv jw jx my jz ka kb mz kd ke kf na kh ki kj nb kl km kn im bi translated">在这个小练习中，我试图将《经济学人》中的简单结果与更复杂的基于ts建模的方法进行对比，这种方法更适合处理季节性计数数据。贝叶斯实现还为我们提供了一种构建预测区间的简单方法。美国和德国报道的死亡人数和估计的死亡人数之间的负差异最大，而英国和意大利似乎略有低估。</p><p id="f54c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">尽管我认为贝叶斯GAM具有线性趋势和季度/年度季节性成分，可以合理地拟合不同国家，但上述结果取决于时间序列模型的质量(因此可以从进一步的敏感性分析中受益)。我敢肯定，许多研究希望弄清楚对COVID的实际影响，我们可以期待大量的论文阐明这个问题。我希望这篇文章和代码能让一些人入门，我期待着你的评论和建议。</p><p id="624d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">代码:</p><p id="d740" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae kp" href="https://github.com/citizenkeynes/CovidExcessDeath" rel="noopener ugc nofollow" target="_blank">https://github.com/citizenkeynes/CovidExcessDeath/</a></p></div></div>    
</body>
</html>