<html>
<head>
<title>Google Colab: How does it compare to a GPU-enabled laptop?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Google Colab:它与支持GPU的笔记本电脑相比如何？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/google-colab-how-does-it-compare-to-a-gpu-enabled-laptop-851c1e0a2ca9?source=collection_archive---------4-----------------------#2020-04-30">https://towardsdatascience.com/google-colab-how-does-it-compare-to-a-gpu-enabled-laptop-851c1e0a2ca9?source=collection_archive---------4-----------------------#2020-04-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3aae" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Colab简介、运行时、性能比较…以及疑难解答</h2></div><p id="3ada" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你没有生活在岩石下，你很有可能使用过或者至少听说过<a class="ae le" href="https://colab.research.google.com" rel="noopener ugc nofollow" target="_blank">Google co laboratory</a>——一个基于云的笔记本环境，让你在Google Drive中编写、执行和共享代码。</p><p id="b991" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是<strong class="kk iu">和我们都熟悉并深入了解的【Jupyter Lab相比如何呢？敬请期待一探究竟。</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/2d6a8a2d32483001c43209bb0e9fc6fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9gjKPb7BhB87KY-7fBxrAg.png"/></div></div></figure><p id="7d78" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你对Colab一无所知，这里有几个要点可以帮助你步入正轨:</p><ul class=""><li id="2f8d" class="lr ls it kk b kl km ko kp kr lt kv lu kz lv ld lw lx ly lz bi translated"><strong class="kk iu">相当于JupyterLab</strong>——做了一些调整</li><li id="1f98" class="lr ls it kk b kl ma ko mb kr mc kv md kz me ld lw lx ly lz bi translated"><strong class="kk iu">由Google托管</strong> —笔记本自动保存到Google Drive</li><li id="fc4c" class="lr ls it kk b kl ma ko mb kr mc kv md kz me ld lw lx ly lz bi translated"><strong class="kk iu">免费访问GPU</strong>(图形处理单元)<strong class="kk iu">和TPU</strong>(张量处理单元)</li><li id="b2ea" class="lr ls it kk b kl ma ko mb kr mc kv md kz me ld lw lx ly lz bi translated"><strong class="kk iu">专为数据科学打造</strong> —绝大多数数据科学库都是预装的</li></ul><p id="943a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，仅仅通过查看这些要点，听起来似乎是一笔不错的交易，但让我们把这种说法留到最后——因为只有到那时，我们才能利用数据做出结论。</p><p id="8641" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这篇文章的结构如下:</p><ol class=""><li id="2682" class="lr ls it kk b kl km ko kp kr lt kv lu kz lv ld mf lx ly lz bi translated">创建笔记本</li><li id="73c2" class="lr ls it kk b kl ma ko mb kr mc kv md kz me ld mf lx ly lz bi translated">运行时环境</li><li id="5989" class="lr ls it kk b kl ma ko mb kr mc kv md kz me ld mf lx ly lz bi translated">性能比较</li><li id="014a" class="lr ls it kk b kl ma ko mb kr mc kv md kz me ld mf lx ly lz bi translated">判决</li></ol><p id="fb43" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以事不宜迟，我们开始吧！</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="7d1f" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">创建笔记本</h1><p id="14ec" class="pw-post-body-paragraph ki kj it kk b kl nf ju kn ko ng jx kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">这个过程再简单不过了——直接去<a class="ae le" href="http://colab.research.google.com" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu">colab.research.google.com</strong></a>。如果你登录到你的谷歌账户，会弹出这样一个窗口:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nk"><img src="../Images/db809f9cd81216e564f5a0022cdcc18e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JE0r7aOxEp6As3TkdTNtiQ.png"/></div></div></figure><p id="be48" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，您可以通过点击模式窗口右下角的<strong class="kk iu">新笔记本</strong>按钮来创建新笔记本。几秒钟后，你会看到一个熟悉的屏幕:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nl"><img src="../Images/54a66dfc2f89a3c46946baddff63a73f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CBkcTNiBnHyq6YEJQgO6jw.png"/></div></div></figure><p id="2961" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你不喜欢默认的灯光主题，你可以很容易地改变它。只需进入<strong class="kk iu">工具—设置</strong>，在那里会弹出这个模式:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nl"><img src="../Images/2d18fd46f13820a8e9a3b5e8e0caaf82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c_U4Kg4oA4eofpMDjo-jLQ.png"/></div></div></figure><p id="fce5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">主题默认设置为<strong class="kk iu">亮</strong>，如果你愿意的话可以改成<strong class="kk iu">暗</strong>，点击<strong class="kk iu">保存</strong>。我真的很喜欢黑色主题，但浅色主题更适合这篇文章，所以我会坚持下去。</p><p id="ec26" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在单元格中，您现在可以简单地导入您需要的任何库并开始工作。大多数库都是预装的，所以少了一件需要担心的事情。为了演示，让我们导入Numpy并做一些快速数组添加:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nn"><img src="../Images/90929900905b24728e6dbe7c8f6b590c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CewEq21U2jYEQ26K2dDutg.png"/></div></div></figure><p id="5002" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">很好，这里没有什么新的东西，但它仍然是一种验证一切正常工作的有效方法。</p><p id="ad0c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我非常怀疑您会使用Colab来处理Numpy(除非您正在处理一个马铃薯)，所以在下一节中，我们将简要地探索您可以使用的各种<strong class="kk iu">运行时</strong>。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="5ac8" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">运行时环境</h1><p id="f441" class="pw-post-body-paragraph ki kj it kk b kl nf ju kn ko ng jx kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">Colab主要用于处理GPU密集型任务——比如训练深度学习模型。这是它背后的基本思想——每个人都可以访问GPU或TPU。</p><p id="ce61" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，让我们快速探索如何切换到GPU/TPU运行时。只需转到<strong class="kk iu">运行时</strong>选项卡，选择<strong class="kk iu">更改运行时类型</strong>:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/b580148b34413c1fdaa9898c069469f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*5k8cId7q66NSGZPUe4yfOQ.jpeg"/></div></figure><p id="852c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">像这样的模态窗口会弹出，在这里你可以从<em class="nm">无</em>切换到更合适的:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/cef7f047e7054803d044f6d8012bc8e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*05H8lOd4zfXpWbelGgMy1w.jpeg"/></div></figure><p id="250b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我已经选择了GPU。几秒钟后，GPU将分配给你，如果可用。我们可以用任何深度学习库来验证这一点，我将使用<strong class="kk iu"> PyTorch </strong>:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nq"><img src="../Images/c89a97f0830afb65c2c9d3d371c5c298.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EROIjL_zY6AXbmX893cqNQ.png"/></div></div></figure><p id="20d8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，不能保证你会得到和我一样的GPU，所以请记住这一点。</p><p id="fc33" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好了，你现在已经熟悉了Google Colab，那么在下一节中，我们将把它的性能与我的一堆笔记本电脑进行比较，同时也与Google Colab的CPU运行时进行比较。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="68e3" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">性能比较</h1><p id="adb6" class="pw-post-body-paragraph ki kj it kk b kl nf ju kn ko ng jx kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">为了进行快速的性能测试，我决定使用PyTorch库在<strong class="kk iu">时尚-MNIST </strong>数据集上进行训练。该模型具有以下架构:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nr"><img src="../Images/4cd9c0ccfbb182188cbcb183cee81ca0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GkESOH4ubj-w0zXgXnOoVg.png"/></div></div></figure><p id="87d1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以这里没有什么特别的，大约15万个可训练参数(权重和偏差)需要优化。除了Google Colab，我还会使用我目前拥有的三台笔记本电脑:</p><ul class=""><li id="8e0b" class="lr ls it kk b kl km ko kp kr lt kv lu kz lv ld lw lx ly lz bi translated"><strong class="kk iu">联想ThinkPad T480s: </strong>英特尔i7–8550 u @ 1.8 GHz，16GB内存</li><li id="5f7a" class="lr ls it kk b kl ma ko mb kr mc kv md kz me ld lw lx ly lz bi translated"><strong class="kk iu">联想军团Y540: </strong>英特尔i5–9300h @ 2.4 GHz，Nvidia GeForce 1650 4GB，16GB RAM</li><li id="3811" class="lr ls it kk b kl ma ko mb kr mc kv md kz me ld lw lx ly lz bi translated"><strong class="kk iu"> MacBook Pro 2019 13": </strong>英特尔i5-QC @ 1.4 GHz，8GB内存</li></ul><p id="7b4c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> <em class="nm">最后一个说明:</em> </strong> model是为ThinkPad和MacBook Pro(显然)在CPU上训练的，而为联想军团在GPU上训练的。在Google Colab上，我在第一个笔记本上使用了CPU运行时，在第二个笔记本上使用了GPU运行时。</p><p id="b67a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来看一个比较培训时间的快速图表:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ns"><img src="../Images/29fbce3d4c78c902708e3850219b0313.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HApE3tr-DquEsn9WijL7ZQ.png"/></div></div><p class="nt nu gj gh gi nv nw bd b be z dk translated">Colab (GPU): 8分43秒；MacBook Pro: 10分29秒；联想军团:11:57分钟；Colab (CPU): 18分10秒，ThinkPad: 18分29秒</p></figure><p id="a23f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是你要的——Google Colab，一个比我的支持GPU的联想军团笔记本电脑还快的免费服务。出于某种原因，MacBook的表现超过了它，尽管它只有四核1.4GHz的CPU。ThinkPad作为这里最贵的设备表现最差。</p><p id="90bd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们能够做出数据驱动的结论—让我们在下一节中这样做。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="ffe5" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">判决</h1><p id="cf57" class="pw-post-body-paragraph ki kj it kk b kl nf ju kn ko ng jx kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">玩具时尚-MNIST数据集绝不具有足够的代表性来做出防弹结论——因为这需要更大的数据集和更多的训练周期——但我们可以得出结论，如果你没有3000美元的游戏电脑，谷歌可乐实验室可能是一个福音。</p><p id="55f4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有一些<strong class="kk iu">T21的问题，比如:</strong></p><ul class=""><li id="06d7" class="lr ls it kk b kl km ko kp kr lt kv lu kz lv ld lw lx ly lz bi translated"><strong class="kk iu">运行时断开</strong> —如果笔记本闲置一段时间，运行时将断开</li><li id="7003" class="lr ls it kk b kl ma ko mb kr mc kv md kz me ld lw lx ly lz bi translated"><strong class="kk iu">内存</strong> —内存不足是有可能的</li><li id="ab20" class="lr ls it kk b kl ma ko mb kr mc kv md kz me ld lw lx ly lz bi translated"><strong class="kk iu">依赖</strong> —不能保证GPU或TPU会在你需要的时候可用，所以请记住这一点</li></ul><p id="10c4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">即使有所有的警告，它仍然很容易推荐——至少通过使用它你的电脑不会变热——这对即将到来的夏季至关重要。</p><p id="2f30" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="a36f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="nm">喜欢这篇文章吗？成为</em> <a class="ae le" href="https://medium.com/@radecicdario/membership" rel="noopener"> <em class="nm">中等会员</em> </a> <em class="nm">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><div class="nx ny gp gr nz oa"><a href="https://medium.com/@radecicdario/membership" rel="noopener follow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">通过我的推荐链接加入Medium-Dario rade ci</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">medium.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo lp oa"/></div></div></a></div></div></div>    
</body>
</html>