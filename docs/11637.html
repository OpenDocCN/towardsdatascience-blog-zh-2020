<html>
<head>
<title>Getting NASA data for your next geo-project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为你的下一个地理项目获取 NASA 数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/getting-nasa-data-for-your-next-geo-project-9d621243b8f3?source=collection_archive---------31-----------------------#2020-08-12">https://towardsdatascience.com/getting-nasa-data-for-your-next-geo-project-9d621243b8f3?source=collection_archive---------31-----------------------#2020-08-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fee3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">访问 GES 光盘数据文件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3b6376da9d297443660cac47895f6fb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*H48bjGSe2t3DU4Mv"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">美国宇航局在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="e208" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">美国宇航局</strong>提供了一个庞大的数据点库，这些数据点是他们多年来从卫星上捕捉到的。这些数据集包括温度、降水等。美国国家航空航天局将这些数据保存在一个网站上，你可以根据需要搜索和获取信息，无论你想要的是整个世界的数据还是特定区域的数据。用户可以选择特定的日期范围，寻找总的时间范围(小时，天，月等)。).可能性是无限的。</p><p id="e7f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，让我们探索这个巨大的资源，我将描述一个从网站收集数据的一步一步的过程。</p><h2 id="9721" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">GES 圆盘</h2><p id="4e84" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">GES 圆盘代表<em class="mt"> NASA 戈达德地球科学(GES)数据和信息服务中心</em>。这是一个数据仓库，存放着关于降水、水文、大气等方面的遥感数据。它旨在使研究人员和应用程序开发人员能够访问 NASA 的数据，然后他们可以使用这些数据进行分析和创建应用程序。</p><div class="mu mv gp gr mw mx"><a href="https://disc.gsfc.nasa.gov/" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd iu gy z fp nc fr fs nd fu fw is bi translated">GES 圆盘</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">美国宇航局统一用户界面，UUI，数据，GES 光盘，数据集</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">disc.gsfc.nasa.gov</p></div></div></div></a></div><h2 id="965e" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">数据收集</h2><p id="f7ba" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">让我们浏览一下从 GES 光盘中检索数据的步骤。在这篇特别的文章中，我将介绍下载<strong class="lb iu">降水</strong>数据的步骤，为此，我将下载<strong class="lb iu"> GPM </strong>月数据。<strong class="lb iu"> GPM 代表全球降水测量</strong>，这是 JAXA 和美国宇航局的一个合资项目，旨在获取全球降水数据。</p><h2 id="adf6" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">1.注册</h2><p id="4585" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">数据仓库位于<a class="ae ky" href="https://disc.gsfc.nasa.gov/" rel="noopener ugc nofollow" target="_blank">这里</a>。在下载数据之前，您需要在 earthdata 网站上创建一个帐户。只需在这个网站上创建一个帐户，验证你自己，你应该可以去。</p><p id="b1df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">选择右上角的<strong class="lb iu">登录</strong>按钮。如果您有帐户，请登录，否则选择<strong class="lb iu">注册</strong>按钮进行注册。</p><h2 id="11db" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">2.搜索</h2><p id="5566" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">一旦我们登录，我们就可以开始了。网站会用一个搜索框来欢迎你，默认情况下会选择<strong class="lb iu">数据收集</strong>。我们正在这个集合本身中寻找数据，所以我们将顺其自然，并开始在搜索框中键入。</p><p id="3d0a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我将在搜索框中输入<strong class="lb iu">降水</strong>，然后按黄色搜索按钮来获取可用的数据集。您会注意到一个加载图标，表明系统正在处理我们的搜索查询，并将返回与搜索查询匹配的数据集列表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/23b79208d1cb91e175776b608022e68a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YzvuJ__Z3qS_TU1nzyzxvA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">GES 光盘主页</p></figure><h2 id="823c" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">3.浏览数据集列表</h2><p id="a69a" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">搜索完成后，您将看到一个包含与查询匹配的各种数据集的表格，并在左侧看到一个过滤器部分。该表包括图像、数据集名称、源、空间半径、数据收集开始日期和数据收集结束日期等信息。根据您的具体要求，您可以使用左侧的过滤器，并选择有助于获得最精确数据的条件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/98abc2884796aa2d813d50aaaafed548.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4CHnxxp9KfUJ9Nq7vyBFDQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd nh">降水</strong>的搜索结果</p></figure><p id="ce8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个例子中，我在寻找 GPM 月度数据。因此，在过滤器中，在<strong class="lb iu">项目</strong>下，我选择了 GPM。这过滤了属于 GPM 的数据集。从<strong class="lb iu">时间分辨率</strong>列，我寻找分辨率为<strong class="lb iu"> 1 个月</strong>的数据集。这意味着数据是按月汇总的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/3191c38149d794aca0132f6c9613a594.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UYmOS4eWSaebeL7py73BSQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用 GPM 过滤器搜索<strong class="bd nh">降水</strong>的结果</p></figure><p id="8609" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从列表上看是第三个数据集叫做<strong class="lb iu"> GPM IMERG 最终降水量 L3 1 月 0.1 度 x 0.1 度 V06 (GPM_3IMERGM 06) </strong>。为了探索关于这个数据集的更多信息，我只需单击它的名称(这是一个超链接)，它就会将我带到数据集页面。</p><h2 id="7e1b" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">4.浏览数据集页面</h2><p id="d2bc" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">该页面包含数据集的详细信息以及一幅图像。接下来是数据集的汇总(称为<strong class="lb iu">产品</strong>)。最重要的部分是我们在屏幕右侧看到的按钮。您可以探索各种服务等等，但我们感兴趣的是链接<strong class="lb iu">子集/获取数据</strong>。这是我们开始下载数据的步骤。点击此链接。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/9e6ac23ddcfa84631d3e466f9d34df26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y3eCscZOTOzfagwvqyUing.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据集页面</p></figure><h2 id="ca93" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">5.选择数据</h2><p id="97da" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">单击该链接时，会出现一个弹出窗口，如下图所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/b331d13952e163efe1cb9454d9cddd53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YajCnE94wStHvYiKdg-igw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有下载选项的弹出窗口</p></figure><p id="2db0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们得到的数据集非常庞大，因为它涵盖了全球数年的信息。一个好主意是选择你正在寻找的某个日期范围和地球的某个区域。</p><p id="cdb5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里的例子中，我将捕获所有的原始文件，这意味着所有的变量。我把范围细化一下，从 2001 年 1 月 1 日到 2020 年 12 月 31 日。最后，根据上面的选择，您可能会看到输出格式的某些选项。当我选择原始文件时，我只看到 HDF5。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/01b49e67e04322b0ff6a7c4fd2dc2907.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EdionbTQI5Gb1qfYbG3TNw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从完整数据集中选择特定数据</p></figure><blockquote class="nj nk nl"><p id="e404" class="kz la mt lb b lc ld ju le lf lg jx lh nm lj lk ll nn ln lo lp no lr ls lt lu im bi translated">我使用过<strong class="lb iu"> HDF5 </strong>文件格式，有一个非常简单的包<a class="ae ky" href="https://www.h5py.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> h5py </strong> </a>可以让你直接将这些文件读入 python。但是为了查看这些文件，经常使用一个流行的软件，HDFView。</p></blockquote><p id="92c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，按下按钮<strong class="lb iu">获取数据</strong>，它将开始运行，以生成一些链接，允许您下载数据。</p><h2 id="e3cf" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">6.下载数据</h2><p id="5580" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">弹出窗口显示链接列表，每个链接对应于基于选择的一个数据文件。从这里下载数据有两种方式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/365115fc5880b3a9343e8c1ef676d618.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gPYOwf976mqjgNxLJKA8Kg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">下载数据集的链接</p></figure><h2 id="8714" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">6.1 一次一个文件</h2><p id="2f60" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">单击您要下载的数据文件的链接。如果您已登录，数据集将开始下载。它快速、简单，不需要额外的步骤来下载数据。</p><h2 id="8583" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">6.2 一次多个文件</h2><p id="c1b9" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">但是，如果您正在下载多个文件(比如 30-40 个文件)，这不是最有效的方法。使用<strong class="lb iu"> curl </strong>，你可以使用一个简单的命令下载所有的文件。</p><blockquote class="nj nk nl"><p id="8bcf" class="kz la mt lb b lc ld ju le lf lg jx lh nm lj lk ll nn ln lo lp no lr ls lt lu im bi translated"><strong class="lb iu"> curl </strong>是一个命令行工具，用于使用各种网络协议传输数据。</p></blockquote><p id="75aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，要使用 curl 下载这些数据文件，我们第一次需要执行一些步骤。完整的说明因操作系统而异，此处<a class="ae ky" href="https://disc.gsfc.nasa.gov/data-access#mac_linux_curl" rel="noopener ugc nofollow" target="_blank">提供</a>。</p><p id="f4bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是以最简单的方式理解术语的步骤概述(在 MacOS 上是这样的):</p><p id="1e78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">获取所有链接</strong></p><p id="b20c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在链接列表上方，您会看到一个名为<strong class="lb iu">下载链接列表</strong>的链接。当你点击它，一个新的标签打开，所有的链接都在一个地方。选择并复制所有文本，并将其保存到机器上名为<strong class="lb iu"> url.txt </strong>的文件中。</p><p id="136f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">创建所需文件</strong></p><p id="7f92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在终端中，执行以下操作:</p><ul class=""><li id="c8a2" class="np nq it lb b lc ld lf lg li nr lm ns lq nt lu nu nv nw nx bi translated">使用<code class="fe ny nz oa ob b">cd ~</code>前往您的家</li><li id="3e8e" class="np nq it lb b lc oc lf od li oe lm of lq og lu nu nv nw nx bi translated">创建一个新文件<strong class="lb iu">。使用<code class="fe ny nz oa ob b">touch .netrc</code>的 netrc </strong>和使用<code class="fe ny nz oa ob b">touch .urs_cookies</code>的另一个文件，用于在多个 curl 调用期间跟踪会话</li><li id="9798" class="np nq it lb b lc oc lf od li oe lm of lq og lu nu nv nw nx bi translated">我们现在将登录凭证保存在该文件中。键入命令<code class="fe ny nz oa ob b">echo “machine urs.earthdata.nasa.gov login &lt;uid&gt; password &lt;password&gt;” &gt;&gt; .netrc</code>，同时用您的用户名替换<strong class="lb iu"> &lt; uid &gt; </strong>，用您的密码替换<strong class="lb iu"> &lt;密码&gt; </strong></li><li id="e604" class="np nq it lb b lc oc lf od li oe lm of lq og lu nu nv nw nx bi translated">使用<code class="fe ny nz oa ob b">chmod 0600 .netrc</code>更改其访问权限</li><li id="a444" class="np nq it lb b lc oc lf od li oe lm of lq og lu nu nv nw nx bi translated">在您的文件<strong class="lb iu"> url.txt </strong>所在的终端中键入命令<code class="fe ny nz oa ob b">cat url.txt | tr -d ‘\r’ | xargs -n 1 curl -LJO -n -c ~/.urs_cookies -b ~/.urs_cookies</code>，所有文件将被一个接一个地下载。</li></ul><blockquote class="nj nk nl"><p id="9052" class="kz la mt lb b lc ld ju le lf lg jx lh nm lj lk ll nn ln lo lp no lr ls lt lu im bi translated">wget 也是另一个选项，但是我没有用过它，因为 curl 表现很好，而且我觉得没有必要尝试 wget。</p></blockquote><h2 id="9af0" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">7.图像数据</h2><p id="8c44" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">一旦下载了 HDF5 文件，您就可以使用<strong class="lb iu"> HDFView </strong>打开这些文件并查看数据集。你需要一个帐户来下载这个软件。</p><div class="mu mv gp gr mw mx"><a href="https://www.hdfgroup.org/downloads/hdfview/" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd iu gy z fp nc fr fs nd fu fw is bi translated">HDF 观点-HDF 集团</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">当前版本:HDFView 3.1.1 HDFView 软件由 HDFView 实用程序和 Java HDF 对象包组成…</h3></div></div><div class="oh l"><div class="oi l oj ok ol oh om ks mx"/></div></div></a></div><blockquote class="nj nk nl"><p id="37b8" class="kz la mt lb b lc ld ju le lf lg jx lh nm lj lk ll nn ln lo lp no lr ls lt lu im bi translated">数据可以以其他格式下载，如 netCDF、ASCII 等。也有处理这些文件的方法，但是我没有亲自处理过。</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/398f2418c0edc0b35973f8a80777f59e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q-8Stcgo5IeUsyZPiHYlZQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">高清视图</p></figure><p id="b9cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们都准备好了！！</p><h2 id="6dcf" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">结论</h2><p id="294b" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">您现在有一组数据文件，其中包含 NASA 多年来收集的丰富数据，您可以将这些数据用于自己的工作。在下一篇文章中，我将描述用 Python 读取 HDF5 文件并理解其组件以使用数据的步骤。</p></div><div class="ab cl oo op hx oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="im in io ip iq"><p id="f38f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望这是有见地的。如果你有任何问题、想法或建议，请在评论中提出。</p></div></div>    
</body>
</html>