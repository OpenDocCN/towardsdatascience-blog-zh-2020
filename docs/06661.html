<html>
<head>
<title>Beware of Using the Casefold() Method when Dealing with Strings in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Python 中处理字符串时，要小心使用 Casefold()方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/beware-of-using-the-str-casefold-method-when-dealing-with-strings-in-python-bd7b7ccd59ea?source=collection_archive---------60-----------------------#2020-05-25">https://towardsdatascience.com/beware-of-using-the-str-casefold-method-when-dealing-with-strings-in-python-bd7b7ccd59ea?source=collection_archive---------60-----------------------#2020-05-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ba13" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">虽然 Python 中的字符串处理看起来相当简单有趣，但还是要注意某些方法的正确使用；str.casefold()就是其中之一，也是本文主要讲述的内容。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dd563ea3b18247f694338b52a2e56d93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bcNwvRsqxldvQG1n"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Justus Menke 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="a1ce" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">这篇文章的主要原因是我在 Instagram 应用程序上发现的一个错误。具体来说，当我键入几个想通过 Instagram Stories 与朋友分享的单词时，我意识到字符串处理并不是最佳的，至少在我的母语希腊语中是这样。</p><p id="56aa" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">当您更改字体类型(如 Neon、Typewriter、Strong、Classic、Modern)时，就会出现错误。所以，当你选择<strong class="li iu">现代</strong>字体时，你会得到大写字母，然后当你换到下一种字体<strong class="li iu">霓虹</strong>时，你会得到小写字母。这就是漏洞存在的地方。在特定情况下，转换为小写字母会导致单词拼写错误。</p><p id="7f60" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">在希腊语中，与英文字母'<strong class="li iu"> <em class="mc"> S </em> </strong>'相对应的是字母'<strong class="li iu"> <em class="mc">【适马</em> </strong>'，你们很多人可能在数学中遇到过。大写字母拼写为'<strong class="li iu"><em class="mc">σ</em></strong>'，而小写字母有两种不同的形式:'<strong class="li iu"> <em class="mc"> σ </em> </strong>'在所有情况下，除非它位于单词的末尾，在这种情况下，它采用'<strong class="li iu"> <em class="mc"> ς </em> </strong>'的形式。例如，单词“<strong class="li iu"> <em class="mc">稳定</em> </strong>”翻译成“<strong class="li iu"><em class="mc">”σταθερός</em></strong>”。你可以看到两个 sigmas 都出现在这个单词中。</p><p id="a552" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">现在，如果你在 Instagram Stories 文本编辑器上键入'<em class="mc">σταθερό</em><strong class="li iu"><em class="mc">ς</em></strong>'，然后尝试不同的字体类型，你会看到这个单词已经变成了'<em class="mc">σταθερό</em><strong class="li iu">σ</strong>'，这是不正确的。最终的'ς'变成了正常的σ。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi md"><img src="../Images/fdbfbf1f8aadfab8110ac87a717aa4d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*JooU3RjifEoHbS9y-oXhDA.gif"/></div></figure><p id="c56b" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">假设编辑器是用 python 编写的，这个问题背后一个可能的解释是错误地使用了字符串方法:</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="b12a" class="mj mk it mf b gy ml mm l mn mo">str.casefold()<br/>str.lower()<br/>str.upper()<br/>str.capitalize()</span></pre><p id="dae4" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">下面你可以看到导致这个错误结果的命令行的确切顺序。您还可以看到这些方法的作用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/d149d415f234db21a7fdcaec259f1a1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*6CCghWzsly81pJJYXvhoIg.jpeg"/></div></figure><p id="f7dc" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">相反，命令行的正确顺序应该如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/f27025e33730856f2d59d502ba6e800f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*LXEiCCYIzorhdRDVsvGBVw.jpeg"/></div></figure><p id="8ed6" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">要揭开每种方法的神秘面纱，你只需要看看官方文档。</p><ul class=""><li id="049d" class="mr ms it li b lj lk lm ln lp mt lt mu lx mv mb mw mx my mz bi translated">str.upper():返回转换为大写的字符串的副本。</li><li id="4982" class="mr ms it li b lj na lm nb lp nc lt nd lx ne mb mw mx my mz bi translated">str.casefold():返回一个适合无大小写比较的字符串版本。</li><li id="5a91" class="mr ms it li b lj na lm nb lp nc lt nd lx ne mb mw mx my mz bi translated">str.capitalize():返回字符串的大写版本。更具体地说，让第一个字符大写，其余的小写<br/>。</li><li id="bd69" class="mr ms it li b lj na lm nb lp nc lt nd lx ne mb mw mx my mz bi translated">str.lower():返回转换为小写的字符串的副本。</li></ul><p id="f480" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我建议只在无案例的比较中使用<code class="fe nf ng nh mf b">str.casefold()</code>,不要在其他地方使用，因为你可能会在不知不觉中得到错误的结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/618be7f92f83ff0e623012cc4b370eb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*7D0KvtgUqvjX_MIgmSGd3A.jpeg"/></div></figure><p id="3772" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">今天到此为止。希望你觉得有用。下次见！</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="b74c" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">你可以通过点击<a class="ae ky" href="https://www.linkedin.com/in/christoszeglis/" rel="noopener ugc nofollow" target="_blank">这里</a>在 LinkedIn 上找到我。</p></div></div>    
</body>
</html>