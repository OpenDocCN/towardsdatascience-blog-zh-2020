<html>
<head>
<title>9 Secure Code Review Best Practices For Your Web Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Web 应用程序的安全代码评审最佳实践</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/9-secure-code-review-best-practices-for-your-web-application-28a519b079e9?source=collection_archive---------42-----------------------#2020-05-19">https://towardsdatascience.com/9-secure-code-review-best-practices-for-your-web-application-28a519b079e9?source=collection_archive---------42-----------------------#2020-05-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/fd47cc7505dfd37f79c9c4dc5f8f2f09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WYeD3XNqnTn3Y-N8"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kf" href="https://unsplash.com/@emilep?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">émile Perron</a>拍摄的照片</p></figure><p id="9745" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于不断增长的客户需求和快速的、特性驱动的开发，安全性经常被置于次要位置，漏洞被引入并且经常未被发现。</p><p id="bf76" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">安全的代码审查有助于识别这些安全漏洞和弱点，否则这些漏洞和弱点可能不会被发现。它将一组安全标准应用于代码，以确保遵循安全的编码最佳实践和开发。</p><p id="3a7e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">安全代码审查使用自动化工具、清单、线程建模、软件开发经验和安全经验来<a class="ae kf" href="https://cypressdatadefense.com/blog/web-application-vulnerabilities/" rel="noopener ugc nofollow" target="_blank">识别可以减轻的安全漏洞</a>。</p><h1 id="1ca3" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">9 安全代码评审最佳实践</h1><p id="b3be" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">安全代码审查应该成为软件开发生命周期(SDLC)的一部分。</p><p id="32c7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是您应该遵循的一些最有效的安全代码审查最佳实践:</p><h1 id="9ef5" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">1.创建全面的安全代码审查清单</h1><p id="cb7a" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">每个软件解决方案都有自己的安全需求和特性，因此代码审查可能因软件应用程序的不同而不同。</p><p id="3d08" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">拥有一个全面的安全代码审查清单有助于确保您不会遗漏关键项目，并执行彻底的代码审查。</p><p id="5d2c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是在进行安全代码审查时应该考虑的一些问题:</p><ul class=""><li id="f2b7" class="mh mi it ki b kj kk kn ko kr mj kv mk kz ml ld mm mn mo mp bi translated">您是否实施了适当的授权控制？</li><li id="bce8" class="mh mi it ki b kj mq kn mr kr ms kv mt kz mu ld mm mn mo mp bi translated">您是否实施了适当的身份验证控制？您有双因素或多因素身份认证吗？</li><li id="1ed5" class="mh mi it ki b kj mq kn mr kr ms kv mt kz mu ld mm mn mo mp bi translated">敏感数据加密了吗？你如何处理加密密钥？</li><li id="b51f" class="mh mi it ki b kj mq kn mr kr ms kv mt kz mu ld mm mn mo mp bi translated">错误消息是否向用户显示敏感信息？</li><li id="47cf" class="mh mi it ki b kj mq kn mr kr ms kv mt kz mu ld mm mn mo mp bi translated">您是否有其他安全控制措施来防止 SQL 注入、XSS 攻击、恶意软件等？</li></ul><p id="c641" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些只是您可能希望包含在安全代码审查清单中的几个问题。请记住，清单在许多情况下可能不是详尽的，但是它可以为代码评审者提供方向，并帮助他们执行有效的安全代码评审，并交付高质量和安全的代码。</p><h1 id="45a4" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">2.不断回顾</h1><p id="baa5" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">对于公司来说，定期执行安全的代码审查是非常重要的，以确保每当对代码进行重大更改时，它都得到有效的审查。</p><p id="734f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">安全的代码审查不需要您等待开发过程完成。相反，您可以在开发过程中执行代码审查。</p><p id="1eb0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过定期检查您的代码，您可以识别可能被攻击者利用的漏洞或漏洞，并及时修复它们。它还增强了代码的整体安全性，并产生了更高质量的代码，使未来的实现变得快速、简单且负担得起。</p><h1 id="1df2" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">3.使用威胁建模</h1><p id="42a1" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">威胁建模使组织能够识别威胁并制定有效的响应措施。拥有结构化的威胁建模流程有助于检测、理解和交流威胁和缓解措施，从而保护应用程序资产。</p><p id="7366" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">威胁建模可以在规划、设计、开发和/或后期部署阶段进行。它不仅有助于识别风险，而且有助于团队更好地理解应用程序各种组件之间的关系。</p><p id="d396" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">随着应用程序的环境和设计在整个项目生命周期中不断变化，了解组件如何与产品互连是很有价值的。这可以帮助您更好地理解安全威胁和风险。</p><h1 id="404e" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">4.使用自动化工具来节省时间(但是不要让自动化做所有的事情)</h1><p id="8158" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">自动化工具可以发挥至关重要的作用，尤其是在保护软件时，因为您拥有的代码，您的代码审查在逐行检测代码缺陷时可能效率较低。</p><p id="4527" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于由成千上万行代码组成的应用程序来说，在合理的时间内手工一行一行地执行全面的代码审查是不可能的。</p><p id="7136" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">自动化工具实现了简化的流程，最大限度地减少了人工干预，使他们能够专注于需要逻辑或业务分析的更复杂的任务。自动化静态代码分析工具提供了几乎完整的代码覆盖，以及揭示漏洞的能力，如果手动检查，这些漏洞可能不会被发现。</p><p id="9e8e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果静态代码分析工具发现了一个 SQL 或 XSS 注入漏洞，它可能会导致在代码库中搜索类似的漏洞模式，这是一项耗时的任务，如果手动完成，几乎不可能完成。</p><p id="8c73" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然您可以在许多事情上依赖自动化，但您不能在所有事情上都依赖它。尽管自动化提供了许多好处，但它也带来了一定的挑战，例如，在自动化不能可靠检测的许多其他缺陷中，自动化不能发现设计和架构缺陷。</p><p id="6f48" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于自动化工具没有对业务流程的正确理解，它们无法发现逻辑区域中的缺陷。除此之外，自动化还会产生许多误报，这会破坏整个测试过程，因为审查人员必须手动检查这些已识别的漏洞。</p><h1 id="3a9d" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">5.利用应用安全专家的专业知识</h1><p id="3f56" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">虽然自动化工具在执行时间密集型任务(如在大规模代码库中搜索易受攻击的代码模式)时比人类工具更有效，但它们在许多其他方面都有不足。</p><p id="2465" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是为什么应用程序安全专家需要将安全代码审查过程结合在一起，并为其提供清晰性和上下文。在 web 应用程序的安全代码审查中，安全分析师或代码审查者的经验和知识是不可或缺的。例如，在代码审查需要他们识别应用程序逻辑问题的任务中。</p><p id="4a25" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是，您可以利用安全专业人员和自动化工具的优势来推进您的安全代码审查过程，允许安全团队确定一系列全面的风险和漏洞。</p><h1 id="4f97" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">6.验证您的输入和输出</h1><p id="0094" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">安全代码审查的主要部分是分析软件的攻击面。攻击者通常使用输入和输出来<a class="ae kf" href="https://cypressdatadefense.com/blog/application-security-best-practices/" rel="noopener ugc nofollow" target="_blank">利用应用程序</a>的漏洞，获取信息或进行其他恶意活动。</p><p id="05f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">主要目标是识别和检查来自所有不可信数据源的各种输入，并验证输出。通过验证输入，可以确保应用程序正确处理不可信的输入，这样潜在的恶意输入就不会被用来攻击应用程序..</p><p id="5d0b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过验证输出，您可以确保您的应用程序不会损害从您的应用程序接收数据的最终用户或其他系统。</p><p id="7a6f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输入可能来自 cookies、数据馈送、服务响应、命令行、平面文件、属性文件、环境变量、外部进程和浏览器。检查信息系统输入的有效语义和语法(如字符长度、集合、可接受值和数值范围)，以确保输入符合指定的内容和格式标准。</p><p id="62a5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输入验证有助于确保准确的输入，并防止攻击，如 SQL 注入、跨站点脚本和各种其他注入攻击。因此，应用程序在处理输入数据之前对其进行验证至关重要。</p><p id="adfa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，当您将输出数据发送到用户的 web 浏览器、网络、文件或其他地方时，您需要确保发送的数据是安全的。</p><h1 id="a17f" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">7.强制最低特权</h1><p id="7260" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">另一个安全代码最佳实践包括最低权限模型的实现，该模型允许授权用户专门访问他们执行工作职能或任务所需的信息。例如，负责维护客户记录的用户帐户不需要访问其他员工的财务记录。</p><p id="70cf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">令人惊讶的是，<a class="ae kf" href="https://www.varonis.com/2019-data-risk-report/" rel="noopener ugc nofollow" target="_blank"> 2019 年全球数据风险报告</a>显示，超过 22%的文件夹对每个员工开放。这些文件夹可能包含敏感数据，恶意的内部参与者可能会使用这些文件夹在其组织中实施<a class="ae kf" href="https://cypressdatadefense.com/blog/business-data-breach/" rel="noopener ugc nofollow" target="_blank">数据泄露</a>。因此，实现最低特权访问模型非常重要。</p><p id="c146" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在某些情况下，如果用户需要管理员权限或更高权限来访问特定数据，则必须仅在完成任务所需的最短时间内提供该权限。最低特权模式显著降低了未授权或不必要的网络特权使用所造成的危害范围。</p><h1 id="32ae" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">8.开展安全应用程序开发培训</h1><p id="2e06" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">随着越来越多的数据泄露事件发生，网络安全专家试图跟上最新的技术和<a class="ae kf" href="https://cypressdatadefense.com/blog/cyber-security-risk-assessment/" rel="noopener ugc nofollow" target="_blank">工具，以确保安全的应用程序或系统</a>。但是不仅仅是安全团队应该负责维护软件的安全性。</p><p id="2a58" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">定期举办关于安全应用程序开发的培训会议，向您的开发人员介绍安全编码，以及他们如何使用安全编码来改进软件开发过程，同时减少代码漏洞。</p><p id="6794" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">安全的应用程序开发将有助于在开发过程的早期识别和降低风险，从而进一步降低数据泄露和网络攻击的可能性。</p><h1 id="672c" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">9.管理您的漏洞</h1><p id="35a2" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">安全的代码审查可能会揭示一系列安全风险和漏洞。识别、评估、缓解和报告系统和运行于其上的软件中的这些<a class="ae kf" href="https://www.cypressdatadefense.com/security-assessments/why-security-testing-is-important/" rel="noopener ugc nofollow" target="_blank">安全漏洞非常重要。</a></p><p id="aa23" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">管理您的漏洞对于组织确定潜在威胁的优先级并最大限度地减少其攻击面至关重要。</p><p id="2018" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一些扫描工具还包括漏洞修复，它根据漏洞的风险和严重性对漏洞进行分类和分级。这通常通过将漏洞与安全策略进行比较来完成。</p><p id="125b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">随着应用程序的每一次变化，都有可能在您的软件中打开一个潜在的漏洞，被攻击者利用。这可能会影响贵公司的市场声誉和可信度。</p><h1 id="9283" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">最后的想法</h1><p id="73d2" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">安全代码审查是一个耗时的过程，可以利用自动化工具的优势和安全专业人员的专业知识来有效地执行。</p><p id="5c2b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">安全的代码审查通常会揭示代码的许多细节。除了发现新的安全风险或学习新技术，您还可以检查您的<a class="ae kf" href="https://cypressdatadefense.com/resources/top-reasons-to-turn-your-team-of-developers-into-security-champions/" rel="noopener ugc nofollow" target="_blank">开发团队如何处理编码</a>。可以采用更好的实践来进行更精确和有效的代码审查。</p><p id="041e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您对这些安全代码审查最佳实践有任何疑问，或者在安全代码审查方面需要任何帮助，请联系我们。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><p id="0d0d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">关于作者:</strong></p><p id="79c7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Steve Kosten 是<a class="ae kf" href="https://www.cypressdatadefense.com/" rel="noopener ugc nofollow" target="_blank"> Cypress Data Defense </a>的首席安全顾问，也是“Java/JEE 中的 SANS DEV541 安全编码:开发可防御应用程序”课程的讲师。</p></div></div>    
</body>
</html>