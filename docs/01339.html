<html>
<head>
<title>Demystifying Customer behavior with Market Basket analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用购物篮分析揭开客户行为的神秘面纱</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/demystifying-customer-behavior-with-market-basket-analysis-87b5841def3a?source=collection_archive---------12-----------------------#2020-02-06">https://towardsdatascience.com/demystifying-customer-behavior-with-market-basket-analysis-87b5841def3a?source=collection_archive---------12-----------------------#2020-02-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="b678" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这篇博客中，我们将看到如何通过使用关联规则进行市场购物篮分析来预测客户行为。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ko"><img src="../Images/5a5ca859bedd2bc9cdeb0144061a90e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*4sqs9CUyTjmz4Jtk"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">来源:oracle.com</p></figure><h1 id="918d" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">购物篮分析简介</h1><p id="1237" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">购物篮分析是大型零售商用来发现商品之间关联的关键技术之一。它通过寻找在交易中频繁出现的项目组合来工作。换句话说，它允许零售商识别人们购买的商品之间的关系。</p><p id="0263" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该方法基于这样的理论，即购买某一商品的顾客更有可能购买另一特定商品)。</p><p id="20b5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如，买面包的人通常也会买黄油。零售店的营销团队应该瞄准购买面包和黄油的顾客，并向他们提供优惠，让他们购买第三样东西，如鸡蛋。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/a78d8a349a83bdcde0b62a585f90d712.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/0*-xxkbIlov_6nv8hb"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">来源:<a class="ae la" href="https://www.edureka.co/blog/apriori-algorithm/" rel="noopener ugc nofollow" target="_blank">爱德华卡</a></p></figure><p id="bf19" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，如果顾客购买面包和黄油，看到鸡蛋打折或打折，他们就会被鼓励花更多的钱去买鸡蛋。这就是市场篮子分析的全部内容。</p><p id="c88d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这只是一个小例子。因此，如果你把你的超级市场的10000或20000项数据带给一个数据科学家，想象一下你能得到多少洞见。这就是为什么关联规则挖掘如此重要。</p><h1 id="da12" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">现实生活应用</h1><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/1ce44ba89a73899d3c8284cc0798ba78.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/0*i-0bMcnB_G8DtDg9"/></div></figure><p id="6afa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">购物篮分析</strong>也可用于交叉销售产品。众所周知，亚马逊使用一种算法，根据你的浏览历史或其他人购买的东西，推荐你可能感兴趣的商品。</p><p id="a764" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一个众所周知的城市传说是，一家超市，在运行商业部门蒲式耳检查后，发现男子可能会一起购买啤酒和尿布。Deals通过将贮藏啤酒放在尿布旁边来扩大交易。</p><p id="81c9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这听起来很简单(大多数时候确实如此)。尽管如此，纠结要知道:</p><ul class=""><li id="3db4" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated">对于巨大的库存(例如超过10，000)，这些东西的组合可能会爆炸成数十亿，这使得数学几乎是古怪的。</li><li id="6705" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated">信息是定期从大量的交易记录中挖掘出来的。许多信息通常由特定的可测量程序处理</li></ul><h1 id="5226" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">关联规则挖掘</h1><p id="f877" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated"><strong class="js iu">关联规则挖掘</strong>主要用于当我们必须在给定的集合中找到对象之间的关联，或者在任何一条信息中找到一些隐藏的模式。</p><p id="2d7b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">购物篮分析</strong>或<strong class="js iu">购物篮数据分析</strong>在零售或聚类中是关联规则挖掘的一些应用。</p><p id="3426" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">处理这些例子最广泛使用的方法是市场篮子分析。这是零售领域许多大公司使用的一个关键系统，如亚马逊、Flipkart等，通过识别用户放入其“购物容器”中的各种东西之间的关系来细分用户的购买行为。这些从属关系的揭示可以帮助零售商通过获取知识来创建广告程序，这些知识是客户尽可能经常一起获取的。这些方法可以包括:</p><ul class=""><li id="247a" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated">根据趋势改变商店布局</li><li id="9c7f" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated">网上商店的交叉营销</li><li id="4046" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated">顾客购买的流行商品是什么</li><li id="3485" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated">带附加销售的定制电子邮件</li><li id="86e3" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated">客户行为分析</li><li id="33ce" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated">目录设计</li></ul><p id="0010" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">注</strong>:关于<strong class="js iu">购物篮分析</strong>和<strong class="js iu">推荐系统</strong>的相似性，大家心里都有很多困惑</p><h1 id="332a" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">联想和推荐的区别</h1><p id="bbff" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">正如已经讨论过的，关联规则对个人的偏好不起作用。它总是发现每笔交易的一些元素集之间的关系。这使得它们与被称为协作过滤的推荐系统方法完全不同。</p><p id="dc6b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你想了解一下推荐系统，可以去看看我之前的博客<a class="ae la" href="https://blog.knoldus.com/machinex-the-power-of-recommendation-engines/" rel="noopener ugc nofollow" target="_blank">推荐引擎</a>。</p><h2 id="22b1" class="my lc it bd ld mz na dn lh nb nc dp ll kb nd ne lp kf nf ng lt kj nh ni lx nj bi translated">示例:</h2><p id="cd19" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">为了更好地理解它，请看下面来自Amazon.com的快照。你会注意到在每个产品的信息页面上有两个标题“经常一起购买”和“购买该商品的顾客也购买了”。</p><p id="4fe4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">经常一起买→买了这件物品的协会客户也买了→推荐</strong></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/65ef8f74ba2fd77b24d6a6ec91679d29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/0*Vv3ThPvhOTRYFYLQ"/></div></figure><p id="5350" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这就是关联规则和推荐之间的区别。</p><p id="2820" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们来谈谈主要的联想机器学习算法之一。即。<strong class="js iu"> Apriori算法</strong></p><h1 id="649e" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Apriori算法</h1><p id="f3a3" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">假设我们有一个包含集合{Banana，菠萝，芒果}的事务，也包含另一个集合{Banana，芒果}。所以，根据先验原理，如果{香蕉，菠萝，芒果}是频繁的，那么{香蕉，芒果}也一定是频繁的。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi nl"><img src="../Images/622e84df10636f60a526eb1719ac8a03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OFGP5ccbOjB_espb"/></div></div></figure><p id="8286" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们有一个由一些交易组成的数据集。</p><p id="2a70" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">0 -&gt;缺少项目</p><p id="60b7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">1-&gt;项目的存在</p><p id="cca6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了从这个小型企业场景的多个可能规则中找出有趣的规则，我们将使用以下矩阵:</p><p id="c685" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">支持度:</strong>支持度是一个物品的受欢迎程度(出现的频率)。它可以通过包含该项目的交易数量占交易总数的比例来计算。所以，如果我们想计算香蕉的支持度，这里是:</p><p id="21a8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">支持(香蕉)=(涉及葡萄的交易)/(总交易)</p><p id="897b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">支持度(香蕉)= 0.666</p><p id="c47b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">置信度:</strong>如果A项发生，B项发生的可能性(条件概率)。</p><p id="39aa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">置信度(A =&gt; B) =(涉及A和B的事务)/(仅涉及A的事务)</p><p id="fa76" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">信心({香蕉，菠萝} = &gt; {芒果}) =支持(香蕉，菠萝，芒果)/支持(香蕉，菠萝)</p><p id="cdd5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi">= 2/6 / 3/6</p><p id="897a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi">= 0.667</p><p id="7d16" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">提升:</strong>如果A项出现，B项出现的几率增加。</p><p id="709d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">升力(A =&gt; B) =信心(A，B) /支持(B)</p><p id="7f12" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">lift({香蕉，菠萝} = &gt; {芒果}) = 1</p><p id="130a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，客户同时购买<strong class="js iu"> A </strong>和<strong class="js iu"> B </strong>的可能性是单独购买的机会的“提升价值”倍。</p><ul class=""><li id="8226" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated"><strong class="js iu"> Lift (A= &gt; B) </strong> = 1表示项目集合内没有相关性。</li><li id="b8d0" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated"><strong class="js iu"> Lift (A = &gt; B) </strong></li><li id="2d82" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated"><strong class="js iu"> Lift (A = &gt; B) </strong> &lt; 1表示项目集内部存在负相关，即项目集中的产品，<strong class="js iu"> A </strong> <em class="nm">，</em>和<strong class="js iu"> B </strong>不太可能一起购买。</li></ul><h1 id="3dba" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">履行</h1><p id="b7a9" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">你可以从<a class="ae la" href="https://drive.google.com/file/d/1X9ykK3RsyfPxFTCJnCM4Drt2MZKXfIK1/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">这里</a>得到数据。</p><p id="6305" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该数据集包含一家商店的各种产品的交易数据。</p><p id="e107" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在导入库之前安装apyori包</p><pre class="kp kq kr ks gt nn no np nq aw nr bi"><span id="3113" class="my lc it no b gy ns nt l nu nv">conda install --yes apyori<br/>OR<br/>pip3 install --yes apyori</span></pre><h2 id="354b" class="my lc it bd ld mz na dn lh nb nc dp ll kb nd ne lp kf nf ng lt kj nh ni lx nj bi translated">导入包</h2><pre class="kp kq kr ks gt nn no np nq aw nr bi"><span id="8613" class="my lc it no b gy ns nt l nu nv">import numpy as np<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/>from apyori import apriori</span></pre><p id="2c5c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们已经导入了所有必需的库:</p><ul class=""><li id="ee65" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated">NumPy和熊猫用于基本操作</li><li id="3b19" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated">用于数据可视化的Matplotlib</li><li id="5d97" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated">apyori用于我们的数据建模</li></ul><h2 id="0404" class="my lc it bd ld mz na dn lh nb nc dp ll kb nd ne lp kf nf ng lt kj nh ni lx nj bi translated">导入数据</h2><pre class="kp kq kr ks gt nn no np nq aw nr bi"><span id="1791" class="my lc it no b gy ns nt l nu nv">store_data = pd.read_csv("store_data.csv",header = None)</span></pre><p id="1e5e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们已经使用pandas将数据集读入名为“store_data”的数据框中。现在让我们看看数据</p><pre class="kp kq kr ks gt nn no np nq aw nr bi"><span id="826e" class="my lc it no b gy ns nt l nu nv">store_data.head()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi nl"><img src="../Images/cdec00e4fc666a5b5ed208759d915229.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r0Ju22OlTRBggHqy"/></div></div></figure><p id="07af" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以，这是我们数据的样子，它包含了各种产品的所有交易历史。</p><pre class="kp kq kr ks gt nn no np nq aw nr bi"><span id="a45f" class="my lc it no b gy ns nt l nu nv">store_data.shape</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/7cde470c4f2b828e7a6c32233cdd1f80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/0*VdEzX5nfCyEyskBG"/></div></figure><p id="013f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">7501表示不同物品一起购买的交易总数。20表示显示项目的列数</p><h2 id="697d" class="my lc it bd ld mz na dn lh nb nc dp ll kb nd ne lp kf nf ng lt kj nh ni lx nj bi translated">数据预处理</h2><p id="5c99" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">因为Apriori库要求我们的数据集是列表的列表形式。因此，整个数据集是一个大列表，数据集中的每个事务都是外部大列表中的内部列表。[[交易1]，[交易2]，。。[交易7501] ]</p><p id="6d3f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们将熊猫的数据框转换成如下的列表列表:</p><pre class="kp kq kr ks gt nn no np nq aw nr bi"><span id="bf99" class="my lc it no b gy ns nt l nu nv">records = []<br/>for i in range(0,7501):<br/>    records.append([str(store_data.values[i,j]) for j in range(0,20)])</span></pre><p id="3e5b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们看看这些事务集:</p><pre class="kp kq kr ks gt nn no np nq aw nr bi"><span id="33f0" class="my lc it no b gy ns nt l nu nv">for sets in records:<br/>    print(sets)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ko"><img src="../Images/09ae1055c77621fa843cdddf214ad644.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*XuJ6NQMjcyioWsi1"/></div></figure><h2 id="eb3a" class="my lc it bd ld mz na dn lh nb nc dp ll kb nd ne lp kf nf ng lt kj nh ni lx nj bi translated">Apriori算法</h2><p id="1442" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">先验的参数:</p><ul class=""><li id="3ca6" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated"><strong class="js iu">记录</strong>:列表列表</li><li id="1377" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated"><strong class="js iu"> min_support </strong>:选择支持值大于参数指定值的项目的概率值</li><li id="a4a1" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated"><strong class="js iu"> min_confidence </strong>:过滤置信度大于指定阈值的规则的概率值</li><li id="0fa4" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated"><strong class="js iu"> min_lift </strong>:入围规则列表的最小提升值</li><li id="2246" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated"><strong class="js iu"> min_length </strong>:您希望在规则中包含的最小项目数</li></ul><pre class="kp kq kr ks gt nn no np nq aw nr bi"><span id="bbcd" class="my lc it no b gy ns nt l nu nv">association_rules = apriori(records, min_support = 0.0055, min_confidence = .3, min_lift = 3, min_length = 2)</span></pre><p id="319a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将上述规则转换为规则列表:</p><pre class="kp kq kr ks gt nn no np nq aw nr bi"><span id="e856" class="my lc it no b gy ns nt l nu nv">association_results = list(association_rules)</span></pre><p id="5e17" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们看看我们的算法生成了多少规则:</p><pre class="kp kq kr ks gt nn no np nq aw nr bi"><span id="3607" class="my lc it no b gy ns nt l nu nv">print(len(association_results))</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/dc1752508c3e44b56fe25ae52c155b25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/0*k9prLI3qThczLLoN"/></div></figure><p id="bd27" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，我们总共有18条规则，这些规则比我们预期的有更高的支持、信心和提升。让我们看看一些规则</p><pre class="kp kq kr ks gt nn no np nq aw nr bi"><span id="c751" class="my lc it no b gy ns nt l nu nv">print(association_results[5])</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ko"><img src="../Images/07ab22cc7e4210eda18f7511b6a4a1b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*WSwjsS7HAN_bTKyX"/></div></figure><p id="cb53" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以看到，规则5包含(意大利面条、碎牛肉、冷冻蔬菜)之间有很好的关联。</p><h2 id="4e31" class="my lc it bd ld mz na dn lh nb nc dp ll kb nd ne lp kf nf ng lt kj nh ni lx nj bi translated">显示规则列表</h2><pre class="kp kq kr ks gt nn no np nq aw nr bi"><span id="8694" class="my lc it no b gy ns nt l nu nv">for item in association_results:<br/>    pair = item[0]<br/>    items = [x for x in pair]<br/>    print("Rule :"+ str(items[0]) + "-&gt;" + str(items[1]))<br/>    print("Support : {}".format(item[1]))<br/>    print("Confidence : {}".format(item[2][0][2]))<br/>    print("List : {}".format(item[2][0][3]))<br/>    print("\n-------------------------------------------------\n")</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/cf394782eccb47e5961bb9492ed691d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/0*lrSf2QB9IdDLfU-a"/></div></figure><p id="b03f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以，这是关于如何实现apriori算法，在我们的事务集中找到关联性。</p><p id="d111" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">保持曲调，快乐学习🙂</p><p id="c3d8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最初发布在Knoldus博客上:<a class="ae la" href="https://blog.knoldus.com/machinex-demystifying-market-basket-analysis/" rel="noopener ugc nofollow" target="_blank">https://blog . knold us . com/machinex-demystifying-market-basket-analysis/</a></p><p id="3fb2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">关注MachineX Intelligence了解更多信息:</p><ul class=""><li id="a991" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated"><a class="ae la" href="https://www.linkedin.com/company/machinex-intelligence/?viewAsMember=true" rel="noopener ugc nofollow" target="_blank">领英</a></li><li id="60a1" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated"><a class="ae la" href="https://twitter.com/Shubham99142929" rel="noopener ugc nofollow" target="_blank">推特</a></li></ul><h1 id="5942" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">参考</h1><ul class=""><li id="a268" class="mk ml it js b jt lz jx ma kb nz kf oa kj ob kn mp mq mr ms bi translated"><a class="ae la" href="https://blogs.oracle.com/datascience/overview-of-traditional-machine-learning-techniques" rel="noopener ugc nofollow" target="_blank">传统机器学习技术概述</a></li><li id="4a5a" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated"><a class="ae la" href="https://www.edureka.co/blog/apriori-algorithm/" rel="noopener ugc nofollow" target="_blank"> edureka apriori算法</a></li></ul></div></div>    
</body>
</html>