<html>
<head>
<title>Using Python and Robinhood to Build An Iron Condor Options Trading Bot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python和Robinhood构建一个钢铁秃鹰期权交易机器人</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-python-and-robinhood-to-build-an-iron-condor-options-trading-bot-4a16e29649b0?source=collection_archive---------1-----------------------#2020-02-21">https://towardsdatascience.com/using-python-and-robinhood-to-build-an-iron-condor-options-trading-bot-4a16e29649b0?source=collection_archive---------1-----------------------#2020-02-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/529af8ee509c53be007441d806334ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xWLuv2wEiRhOm19T"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">让·维拉在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ef3c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以我最近发现了期权交易的潜在收益。我的思维非常技术性，注意到交易策略只不过是条件语句。所以我决定创建一个简单的铁鹰交易策略。</p><p id="ba37" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">根据<a class="ae kf" href="https://optionalpha.com/members/video-tutorials/neutral-strategies/iron-condors" rel="noopener ugc nofollow" target="_blank"> OptionAlpha </a>的说法，铁鹰期权交易策略是与期权一起使用的利润最高、风险最低的交易策略。我将使用Python和Jupyter Notebook在Robinhood下这些期权订单。</p><p id="3417" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们首先试着理解什么是铁鹰战略。对于那些熟悉期权的人来说，它们基本上是四种期权合约。有铁秃鹰，可以要求所有的呼吁，所有的put或基本的铁秃鹰。在这个例子中，我们将使用基础。要求同时做多卖出、做空卖出、做空买入和做多买入。执行这一策略的最佳时机是，当我们知道我们订购的股票在特定的时间框架内上下波动最小时。</p><figure class="lf lg lh li gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi le"><img src="../Images/58175ae3b867e2a6d3e8a691791e4488.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*L8Emb_pJFjUlzxMP.jpg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图片来自Options Bro—<a class="ae kf" href="https://www.optionsbro.com/iron-condor-option-strategy-example/" rel="noopener ugc nofollow" target="_blank">https://www . Options Bro . com/iron-condor-option-strategy-example/</a></p></figure><p id="73c7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我认识的大多数投资者都喜欢在到期后的30到45天内操作这个游戏。这就是时间衰减的好处。他们还在指数期权而不是个股上玩这种游戏，因为指数没有那么不稳定。但是我们可以在其他时间更深入地研究逻辑，让我们专注于创建可以工作的代码。</p><h2 id="ca21" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">我们需要什么</h2><p id="146c" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">对于那些不了解我的人，我已经写了两篇文章，这两篇文章已经在第一步帮助了我们。所以我们需要<a class="ae kf" rel="noopener" target="_blank" href="/using-python-to-get-robinhood-data-2c95c6e4edc8">使用Python </a>连接到Robinhood。创建将<a class="ae kf" rel="noopener" target="_blank" href="/how-to-use-python-to-buy-options-from-robinhood-8022bbcf3ddf">为我们</a>订购选项的代码。在所有的初始设置之后，实际的铁秃鹰战略非常简单。</p><h2 id="3319" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">铁鹰的设定</h2><ul class=""><li id="9a03" class="mh mi it ki b kj mc kn md kr mj kv mk kz ml ld mm mn mo mp bi translated">我们希望股票处于执行价A(低于股价)和B(高于股价)之间</li><li id="c38b" class="mh mi it ki b kj mq kn mr kr ms kv mt kz mu ld mm mn mo mp bi translated">买入低于执行价的看跌期权</li><li id="648e" class="mh mi it ki b kj mq kn mr kr ms kv mt kz mu ld mm mn mo mp bi translated">以执行价格卖出看跌期权</li><li id="d065" class="mh mi it ki b kj mq kn mr kr ms kv mt kz mu ld mm mn mo mp bi translated">卖出看涨期权执行价格B</li><li id="ab9d" class="mh mi it ki b kj mq kn mr kr ms kv mt kz mu ld mm mn mo mp bi translated">买入高于执行价B的看涨期权</li><li id="af5e" class="mh mi it ki b kj mq kn mr kr ms kv mt kz mu ld mm mn mo mp bi translated">所有这些合同都将有相同的到期日</li></ul><h2 id="86a8" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">编写代码</h2><p id="96f5" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">首先，让我们找一只股票来玩。我继续做了一些研究，并将在我们的代码中使用Fitbit。Fitbit在11月份左右有所上涨，但我相信它未来将横向移动。使我们可以很容易地看到我们可以订购哪些选项。我们只需要输入股票代码。</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="209b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它现在将输出如下所示的数据帧:</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="4017" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我们希望从这里开始关注的主要栏目是<code class="fe mv mw mx my b">expiration_date</code>,让我们从创建代码开始，它将找到从现在起30到45天的到期日期。然后，我们将使用这些日期来消除现有的期权订单。我们现在将有一个列表，将是我们的铁秃鹰完美的可用选项。</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="6e0f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来的部分，我获取当前的股票价格，并把它附加到一个列表中，这个列表是我从执行价格列中得到的。然后，我对这些值进行排序，以便使用指数值来选择每个订单所需的执行价格。然后，在到期日期中，我将选择从今天起30–45天内最晚的一天。</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="bd29" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我只需下4个不同的期权订单，并填入所有必要的信息。在所有这些之后，我们已经成功地创建了执行iron condor订单的Python代码！</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><p id="a464" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我其他一些涉及Python和Robinhood的文章:</p><div class="ni nj gp gr nk nl"><a rel="noopener follow" target="_blank" href="/using-python-and-robinhood-to-create-a-simple-buy-low-sell-high-trading-bot-13f94fe93960"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">使用Python和Robinhood创建一个简单的低买高卖交易机器人</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">所以我最近一直在折腾Robinhood，一直在努力理解股票。我不是财务顾问或…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">towardsdatascience.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz jz nl"/></div></div></a></div><p id="7034" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以上代码可以在<a class="ae kf" href="https://www.patreon.com/posts/34200909" rel="noopener ugc nofollow" target="_blank">这里</a>找到，请随时关注我的交易之旅<a class="ae kf" href="https://www.patreon.com/melvfnz" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="44bb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我在这里也有家教和职业指导。</p><p id="fa66" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你们有任何问题、评论或顾虑，请不要忘记通过LinkedIn<a class="ae kf" href="https://www.linkedin.com/in/melvfernandez/" rel="noopener ugc nofollow" target="_blank">与我联系！</a></p><p id="9c76" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> <em class="oa">来自《走向数据科学》编辑的提示:</em> </strong> <em class="oa">虽然我们允许独立作者根据我们的</em> <a class="ae kf" rel="noopener" target="_blank" href="/questions-96667b06af5"> <em class="oa">规则和指导方针</em> </a> <em class="oa">发表文章，但我们并不认可每个作者的贡献。你不应该在没有寻求专业建议的情况下依赖一个作者的作品。详见我们的</em> <a class="ae kf" rel="noopener" target="_blank" href="/readers-terms-b5d780a700a4"> <em class="oa">读者术语</em> </a> <em class="oa">。</em></p></div></div>    
</body>
</html>