<html>
<head>
<title>30 Days of Pandas in an article</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一篇文章中的熊猫 30 天</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/30-days-of-pandas-in-an-article-b328cfb83d50?source=collection_archive---------53-----------------------#2020-08-19">https://towardsdatascience.com/30-days-of-pandas-in-an-article-b328cfb83d50?source=collection_archive---------53-----------------------#2020-08-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6201" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">总结了 30 种有用的熊猫功能和方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e15c9ef7fc51679f18d33c0ffc9e5530.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mAtbHrrqN_TeN_mD"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@fabioha?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">法比奥</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="f522" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas 是一个专门用于数据操作的 Python 包。这个包是数据科学家生活中不可分割的一部分，了解它不会给你带来任何伤害。</p><p id="fc91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之前，在我的 LinkedIn <a class="ae ky" href="https://www.linkedin.com/feed/hashtag/?keywords=30daysofpandas" rel="noopener ugc nofollow" target="_blank">帖子</a>中，我在<strong class="lb iu">三十天</strong>中每天<strong class="lb iu">发布我认为有用的熊猫包</strong>中的新函数和方法。有些人要求我做一个总结，正因为如此，我会在这里写一篇关于它的文章。</p><p id="8e98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">继续读！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="76c8" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">第一天:style.bar</h1><p id="7505" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我想展示一个名为<code class="fe mz na nb nc b">style.bar</code>的 Pandas 数据框对象的方法，它允许你在数据框中创建一个数值列的柱状图。您只需在数据框对象后使用. style.bar 来调用此方法。</p><p id="2497" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想让你的数据展示更有冲击力，更清楚地说明你的观点，这种方法很有用</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="8965" class="nh md it nc b gy ni nj l nk nl">#Day 1 style.bar</span><span id="ce63" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="73fb" class="nh md it nc b gy nm nj l nk nl">planets = sns.load_dataset('planets')</span><span id="40be" class="nh md it nc b gy nm nj l nk nl">planets.head(10)[['method','year', 'distance']].sort_values(by = 'distance').style.bar(color = 'lightblue',                                                                                  subset = 'distance').hide_index()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/c67b9047f1e95d0b024b987a0eabc29d.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*o1LwFUXm1nk3M0o7pHSEzg.png"/></div></figure><h1 id="9fd4" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第二天:qcut</h1><p id="c9b9" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">今天我要给大家展示一个从熊猫到划分你的数据的有用函数叫做<code class="fe mz na nb nc b">qcut</code>。</p><p id="330b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">熊猫的功能<code class="fe mz na nb nc b">qcut</code>是什么？<code class="fe mz na nb nc b">qcut</code>函数将对连续变量进行分箱，其中基于等级或基于样本分位数，分箱大小相等。</p><p id="2633" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么什么是分位数呢？分位数基本上是一种以相等方式划分连续值的除法技术。例如，如果我们将连续值分为 4 部分；它被称为四分位，如图所示。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="8e1e" class="nh md it nc b gy ni nj l nk nl">#Day 2 qcut</span><span id="3944" class="nh md it nc b gy nm nj l nk nl">import seaborn as sns<br/>import pandas as pd<br/>mpg = sns.load_dataset('mpg')</span><span id="2415" class="nh md it nc b gy nm nj l nk nl">pd.qcut(x = mpg['mpg'], q = 4, labels = [1,2,3,4])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/52c8f75bb90cbbf21f1cc6cdb9f9ec1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*f2oaMbW3QnekO_691qOEzw.png"/></div></figure><h1 id="fcc8" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第三天:数据透视表</h1><p id="68ce" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在这篇文章中，我想向你介绍一种最强大的方法，叫做 pivot_table。</p><p id="b7c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过调用方法，可以在数据框对象中访问此方法。数据框对象后的 pivot_table。</p><p id="da3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么这个方法是干什么的呢？它根据我们传递给 columns 参数的 categorical 对象创建一个数据透视表，values 参数接受数值。</p><p id="f232" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">pivot_table 的特殊之处在于，结果不仅仅是值，还有传递给参数的聚合函数。</p><p id="0693" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以查看示例图片了解更多信息。希望有帮助！</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="d632" class="nh md it nc b gy ni nj l nk nl">#Day 3 pivot_table</span><span id="cfc4" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns<br/>tips = sns.load_dataset('tips')</span><span id="ab04" class="nh md it nc b gy nm nj l nk nl">tips.pivot_table(columns = 'sex', values = 'total_bill', aggfunc = 'mean', index = 'size', margins = True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/c312a3232bb1e7bf94bac01ecd6390ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*y77jxR7q1cyYhm21kdbPHA.png"/></div></figure><h1 id="707b" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第四天:agg</h1><p id="2de9" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">今天先说一个比较简单的方法。在这里，我要介绍一个来自数据框对象的方法，叫做 agg。</p><p id="6d5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像名字一样，这个方法创建一个聚合表。也就是说，我们将预期的聚合放在。agg 方法和所有数字列都由创建表的聚合函数处理。</p><p id="9228" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个函数的伟大之处在于，我们可以通过创建自己的函数来放置我们想要的聚合，并且结果表会像示例图片中一样显示出来。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="a9cd" class="nh md it nc b gy ni nj l nk nl">#Day 4 agg</span><span id="ad53" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="1526" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')</span><span id="5fc3" class="nh md it nc b gy nm nj l nk nl">def mean_divided_by_2(col):<br/>    return (col.mean())/2</span><span id="eca7" class="nh md it nc b gy nm nj l nk nl">mpg.agg(['mean', 'std',mean_divided_by_2])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/4decef56553abf379422fe886e076826.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*liawmxqxhzpitVK47lLIlg.png"/></div></div></figure><h1 id="8f67" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第五天:融化</h1><p id="e12c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我想给你介绍一种来自熊猫数据帧的奇特方法，叫做融化。</p><p id="8b93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们将每个值和变量分解到另一个表中时，这种方法与 pivot 方法相反。</p><p id="1d72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请看下面的例子，这次我将 id_vars 指定为 tip 列，值为 sex 列。我们得到的是 tip 列中的每个值和 sex 列中的每个值都是成对的。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="0d37" class="nh md it nc b gy ni nj l nk nl">#Day 5 melt</span><span id="f930" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns<br/>tips = sns.load_dataset('tips')</span><span id="9dd2" class="nh md it nc b gy nm nj l nk nl">tips.melt(id_vars = 'tip', value_vars = 'sex')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/0706a539fe97d02048a98bf1eba9d5ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/format:webp/1*rIABupQvmZy-qdhDDIesZg.png"/></div></figure><h1 id="7b0f" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第六天:style.applymap</h1><p id="431c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">今天我要给大家介绍一个来自熊猫 Dataframe 的令人兴奋的方法，叫做<code class="fe mz na nb nc b">style.applymap</code>。</p><p id="94de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么这个方法是干什么的呢？看一下这个例子，你可以看到一些数字是红色的，而另一些是黑色的。这是因为我们使用了 style.applymap 方法。</p><p id="36a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个方法所做的是接受一个函数来修改我们 Jupyter 笔记本中的 CSS，并应用于我们数据框中的每一个值。</p><p id="bbb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，在我的示例中，该函数将对小于等于 20 的数值进行着色。该函数需要为每个改变颜色的值返回的是一个带有颜色规范的字符串；例如'【T1 ')。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="839b" class="nh md it nc b gy ni nj l nk nl">#Day 6 style.applymap</span><span id="4a00" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="15c7" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')</span><span id="a638" class="nh md it nc b gy nm nj l nk nl">def mean_divided_by_2(col):<br/>    return (col.mean())/2</span><span id="77fb" class="nh md it nc b gy nm nj l nk nl">mpg.agg(['mean', 'std',mean_divided_by_2])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/11112e9f70646a6e2f8d2c7d71c4af6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w4h83kid-jsPXdWtCj0YsA.png"/></div></div></figure><h1 id="0dc3" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 7 天:选择类型</h1><p id="dcc3" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我想分享一个来自熊猫数据框架的简单而强大的方法，叫做<code class="fe mz na nb nc b">.select_dtypes</code>。</p><p id="0291" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在数据清理和工程过程中，我经常使用这种方法，如果没有<code class="fe mz na nb nc b">.select_dtypes</code>方法，我会很难受。</p><p id="9eab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，这是什么方法呢？很简单，这个方法用于根据特定的数据类型选择数据框中的列。例如“数字”或“对象”。</p><p id="b929" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在示例中，我向您展示了我将“数字”数据类型传递给该方法；这意味着我只选择数字列(浮点数或整数)。我使用的另一个例子是“object ”,这意味着我只选择对象列。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="1764" class="nh md it nc b gy ni nj l nk nl">#Day 7 select_dtypes</span><span id="b2ab" class="nh md it nc b gy nm nj l nk nl">import seaborn as sns<br/>import pandas as pd<br/>mpg = sns.load_dataset('mpg')</span><span id="c1ba" class="nh md it nc b gy nm nj l nk nl">#Selecting the number data type<br/>mpg.select_dtypes('number')</span><span id="e372" class="nh md it nc b gy nm nj l nk nl">#Selecting the object data type<br/>mpg.select_dtypes('object')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/aed4e6d1fdbfada51254206c41f7a72f.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*uf5r-L2uIK263k8B4DpclA.png"/></div></div></figure><h1 id="7ab1" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第八天:style.hide_</h1><p id="1982" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">今天我想向你介绍一个简单而有用的方法，尤其是在演讲中。这些方法是 style.hide_index 和 style.hide_columns。</p><p id="48ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，仅仅通过方法名，我想你可以猜到这个函数是用来隐藏索引和/或列的。</p><p id="f5b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从示例中，您可以看到我隐藏了数据框索引和数据框列(通过传递列名)。</p><p id="6a13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望有帮助！</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="5ef5" class="nh md it nc b gy ni nj l nk nl">#Day 8 style.hide_</span><span id="be33" class="nh md it nc b gy nm nj l nk nl">import seaborn as sns<br/>import pandas as pd<br/>mpg = sns.load_dataset('mpg')</span><span id="17c8" class="nh md it nc b gy nm nj l nk nl">mpg.head(10).style.hide_index().hide_columns(['mpg', 'name', 'model_year'])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/9d7f9b810f892a034f6f1dc2d19214d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*FhhGKCm0AZsi0NUn9uvXeQ.png"/></div></figure><h1 id="276e" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第九天:更正</h1><p id="8820" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">好吧，我很肯定很多人都知道。来自数据框对象的 corr 方法。</p><p id="743d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好吧，如果你不知道它是什么；。corr 是一种自动计算两个数值变量之间的相关性并将结果显示为矩阵图的方法。</p><p id="c403" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下。corr 法有三种相关法计算；皮尔森，斯皮尔曼和肯德尔。但是，您知道您可以使用自己的相关函数计算吗？</p><p id="3b1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个例子中，我从<a class="ae ky" href="http://scipy.stats/" rel="noopener ugc nofollow" target="_blank"> scipy.stats </a> weightedtau 创建了自己的函数来创建一个 weighted_tau 相关计算。我们需要的是。工作的 corr 方法是一个接受双参数并返回一个浮点对象的函数。</p><p id="64de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望有帮助！</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="bf07" class="nh md it nc b gy ni nj l nk nl">#Day 9 corr</span><span id="1f3a" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns<br/>from scipy.stats import weightedtau</span><span id="2586" class="nh md it nc b gy nm nj l nk nl">def weight_tau(x, y):<br/>    return weightedtau(x, y)[0]</span><span id="9599" class="nh md it nc b gy nm nj l nk nl">tips= sns.load_dataset('tips')<br/>tips.corr(weight_tau)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/97e98e35a418d93e7daa9991cf2d29a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*W3EFGKwiLsf_DD8jtkeRRA.png"/></div></figure><h1 id="6f0f" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 10 天:更换</h1><p id="32cc" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">今天我要给大家介绍的数据框对象方法叫做. replace。</p><p id="b9ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，这个方法顾名思义；它曾经取代了一些东西，但是什么呢？</p><p id="59fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个方法做的主要事情是替换值；是的，列中的值。</p><p id="fba0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从这个例子中，您可以看到我通过在方法中传递一个 dictionary 对象来替换这个值。所以我例子中的逻辑是:<code class="fe mz na nb nc b"> {columns name: {values you want to replace: values to replace}}</code>。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="5078" class="nh md it nc b gy ni nj l nk nl">#Day 10 replace</span><span id="e851" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="b8d2" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>mpg.replace({'cylinders' : {3: 'Three', 4: 'Four', 5: 'Five', 6: 'Six', 8 : 'Eight'}}, inplace = True)<br/>mpg.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/1ad593448aaf687e3d022a046e74fe98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YC92U2KfDxoaMhDKnPlLJg.png"/></div></div></figure><h1 id="3139" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 11 天:历史</h1><p id="4a8e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">嗯，我想给你介绍一个来自熊猫系列对象的很酷的方法，叫做. hist。</p><p id="f1ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，这种方法工作简单；它从您的数字系列对象创建一个直方图。简单吧？</p><p id="8d1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你只需要调用它，它会自动创建你的直方图，就像例子一样。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="62b6" class="nh md it nc b gy ni nj l nk nl">#Day 11 hist</span><span id="db8f" class="nh md it nc b gy nm nj l nk nl">import seaborn as sns<br/>import pandas as pd<br/>mpg = sns.load_dataset('mpg')</span><span id="dbcf" class="nh md it nc b gy nm nj l nk nl">mpg['mpg'].hist()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/491710fdcacd40fe99c83c0dacca6fb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*5VCIEm_h9DbFWcSU3eAM9Q.png"/></div></figure><h1 id="d86e" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 12 天:拿假人</h1><p id="0110" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我想给你介绍一个熊猫的特殊功能，叫做 get_dummies。</p><p id="9aeb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从这个例子中，你可能得到它所做的，但对你来说没有；这种方法被称为一个热编码或 OHE。</p><p id="eb6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">get_dummies 函数用于基于一个变量中的分类类创建新要素，新要素的值为 0 或 1；0 表示不存在，1 表示存在。</p><p id="2f75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您需要将分类数据转换为数字数据时，最常用的一种编码方式。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="0ec8" class="nh md it nc b gy ni nj l nk nl">#Day 12 get_dummies</span><span id="39fe" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="87b3" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>pd.get_dummies(mpg['origin'])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/f2661cd31959569aa8a6084d9cb08c33.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*Y_jAN3O2OcOPoZ5WqjUzzA.png"/></div></figure><h1 id="f79b" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 13 天:查询</h1><p id="7192" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我想给大家介绍一种很酷的数据帧方法，叫做<code class="fe mz na nb nc b">.query</code>。</p><p id="1749" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，这个方法是干什么的呢？这个方法允许使用字符串表达式进行选择。这是什么意思？</p><p id="dee2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看例子图片，它就像一些有条件的选择，对不对？这是一种基于布尔的选择方法。毕竟。</p><p id="382c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在示例表中，我们经常需要像<code class="fe mz na nb nc b">mpg[(mpg['mpg'] &lt;=11) &amp; (mpg['origin] == 'usa')]</code>那样为选择指定条件，但是使用 query 这一切都被简化了。只要向方法传递一个字符串条件，我们就会得到相同的选择结果。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="d0c0" class="nh md it nc b gy ni nj l nk nl">#Day 13 query</span><span id="876f" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="51c0" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>mpg.query("mpg &lt;= 11 &amp; origin == 'usa'")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/39fa5e6685b5e6106ae92b4df8a58f50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YpFiTqcijPp23uCkdFI-lA.png"/></div></div></figure><h1 id="a5c0" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 14 天:面膜</h1><p id="28ca" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我想给大家介绍一个 if-then 方法，叫做. mask。</p><p id="e6b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么这个方法是干什么的呢？它用于将特定值替换为满足给定条件的另一个值。</p><p id="4b6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的例子中，我传递了一个 mpg 值小于 20 的条件，然后用“大于 20”替换它。多酷啊！</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="6002" class="nh md it nc b gy ni nj l nk nl">#Day 14 mask</span><span id="55c9" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="02be" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>mpg['mpg'].mask(mpg['mpg'] &lt; 20, 'More than Twenty' )</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/cec168321455f07e7cf927157dcf540f.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/format:webp/1*BmoLtHTxz3vuEd_N8FMHzg.png"/></div></figure><h1 id="dab0" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 15 天:交叉表</h1><p id="f93c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">已经完成一半了，所以今天我想向大家介绍一个叫做 crosstab 的表格格式化函数。</p><p id="2eee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，这个函数是做什么的呢？这个函数将帮助我们创建一个分类类的数据透视表，使用一个数值列的聚合函数作为值，尽管您也可以创建分类类之间的计数。</p><p id="9181" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看看这个例子，你可以看到我指定了 origin 和 model_year(两者都是分类的)分别作为索引和列。此外，我将 mpg 列作为数值，并使用平均值作为聚合函数。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="1ebf" class="nh md it nc b gy ni nj l nk nl">#Day 15 crosstab</span><span id="45dc" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="1945" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>pd.crosstab(index = mpg['origin'], columns = mpg['model_year'], values = mpg['mpg'], aggfunc = 'mean' )</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/966f93b52f237c7a266f1ca13cc82bc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2OhGOYtLJRr9eY7biOy7Ig.png"/></div></div></figure><h1 id="c912" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 16 天:申请</h1><p id="efe8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">熊猫法是我在分析时经常使用的一种方法，我已经习惯了它的简洁。熊猫数据框方法是适用的。</p><p id="843c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种方法接受一个函数，并将其应用于整个数据(以行的方式或列的方式)。函数返回的是结果。</p><p id="f239" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看看这个例子，我应用了一个 lambda 函数，它返回每个数据值的长度。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="58da" class="nh md it nc b gy ni nj l nk nl">#Day 16 apply</span><span id="f7c4" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="f2a7" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>mpg['name'].apply(lambda x: len(str(x)))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/a208c207e820b7eb59922890d19dd712.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*WZC2T47RGbWMt-Vy3ossmQ.png"/></div></figure><h1 id="7338" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 17 天:设置选项</h1><p id="e60c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">今天我想给你介绍熊猫的一个特殊功能。这个函数被称为。设置选项。</p><p id="c1cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个功能是什么？所以，这个函数不是直接应用到你的数据上，而是影响到对象本身。</p><p id="c876" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看下面的例子，我传递字符串来设置笔记本中显示的最大列数和最大行数。你可以在这里阅读所有选项<a class="ae ky" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.set_option.html#pandas.set_option" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="fcf8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望有帮助！</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="efff" class="nh md it nc b gy ni nj l nk nl">#Day 17 set_option</span><span id="6b2d" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns<br/>pd.set_option('display.max_columns', None)<br/>pd.set_option('display.max_rows', 50)</span><span id="8c21" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>mpg</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/abca89f4e6aee9a9ab30b33aed580122.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6tHq9D9RQt5BozPpS-FftQ.png"/></div></div></figure><h1 id="e077" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 18 天:描述</h1><p id="219c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我只想向你展示一个来自 Pandas 数据帧对象的最广为人知的方法，叫做<code class="fe mz na nb nc b">.describe</code>。</p><p id="71a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我敢打赌，大多数用 Python 开始数据科学之旅的人都知道这种方法。对于不了解的人来说，这种方法可以生成包含所有基本统计数据的数据框。</p><p id="8318" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然，这个 API 里有个小技巧。默认情况下，describe 只计算所有数字列，这些数字列依次为您提供平均值、标准差、百分位数等信息。</p><p id="f3d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，如果像示例中那样排除数字列，最终会得到不同的数据框。这一次，将计算非数字列。在这里，我们得到的是频率和顶级类。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="76a3" class="nh md it nc b gy ni nj l nk nl">#Day 18 describe</span><span id="3b48" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="38f7" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')</span><span id="5f95" class="nh md it nc b gy nm nj l nk nl">#Describe numerical columns<br/>mpg.describe()</span><span id="67fd" class="nh md it nc b gy nm nj l nk nl">#Describe non-numerical columns<br/>mpg.describe(exclude = 'number')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/e70179621a672e723ea36c655c10439d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HeS5w80fvqRudsUg7wHXNA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数字描述</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/557046e29886bd81892116a47224a4d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/format:webp/1*mC0X1aaIrpn_OEMzlo2cdQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">分类描述</p></figure><h1 id="6286" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 19 天:因子分解</h1><p id="7395" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我想给你介绍一个有用的熊猫函数和称为因式分解的级数方法。</p><p id="b517" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先看一下这个例子，这里我取了分类变量 origin，并对它使用了因式分解方法。结果如何呢？有两件事，数字数组和独特的类。</p><p id="daea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么这种方法有什么特别之处呢？您刚才看到的数字数组是编码为数值的分类变量中的类。如何知道哪个数字代表哪个阶级？这就是为什么我们也有独特的类。</p><p id="3a10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的示例中，0 代表美国，1 代表日本，2 代表欧洲。就像独一无二的位置。</p><p id="f759" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您需要将分类编码成数值时，这个函数是最有用的，但是其中有一个序数假设。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="36bb" class="nh md it nc b gy ni nj l nk nl">#Day 19 factorize</span><span id="f76b" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="4769" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>mpg['origin'].factorize()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/c475a7eb54cc6bc7803309532267ae34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UI-aPI1cBimwLcPAHO1RsQ.png"/></div></div></figure><h1 id="40b5" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 20 天:绘图</h1><p id="6ba6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">第 20 天，我要介绍一个来自熊猫的绘图功能，叫做 pd.plotting.radviz。</p><p id="a627" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，这个函数是做什么的呢？据 Pandas 称，radviz 允许我们将一个 N 维数据集投影到一个 2D 空间，其中每个维度的影响都可以被解释为所有维度影响之间的平衡。</p><p id="2fa7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简单来说，这意味着我们可以用原始的方式将多维数据投影到 2D 空间。</p><p id="3955" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据帧中的每个系列都表示为一个圆形上均匀分布的切片。只看例子，有一个带系列名称的圆圈。</p><p id="5d62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个数据点都根据每个系列的值呈现在圆圈中。数据框中高度相关的系列更靠近单位圆。</p><p id="e845" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要使用<code class="fe mz na nb nc b">pd.plotting.radviz</code>，您需要一个多维数据集，其中除了 class 列(应该是 categorical)之外，其他都是数字列。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="3f42" class="nh md it nc b gy ni nj l nk nl">#Day 20 plotting.radviz</span><span id="0ce0" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="4a7a" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>pd.plotting.radviz(mpg.drop(['name'], axis =1), 'origin')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/8563e382af06a2f39445c2b231fdd592.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*YWEnFbmqFblTAYSCLfRAxA.png"/></div></figure><h1 id="104b" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 21 天:散点矩阵</h1><p id="a244" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">今天我要介绍的是熊猫的另一个绘图功能。这一次，该函数被称为 plotting.scatter_matrix。</p><p id="fb40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个简单的函数，但在我们的数据分析生活中非常有用。主要的事情很简单，它在数据框中的所有数值变量之间创建了一个散点图。</p><p id="3a2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于对角线位置的图(变量本身)将是一个分布图(直方图或 KDE)。</p><p id="8d28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如何使用该函数很简单，你只需要将数据框变量传递给该函数，它就会自动检测数值列。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="1516" class="nh md it nc b gy ni nj l nk nl">#Day 21 scatter_matrix<br/>import pandas as pd<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt</span><span id="8eab" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>pd.plotting.scatter_matrix(mpg, figsize = (8,8))<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/343c1e9422d47afce89733467ab65671.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*yFSXVDs7f6eoYV8UP7hd8A.png"/></div></figure><h1 id="88e6" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 22 天:绘图</h1><p id="7eda" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我想介绍一个简单的方法，从名为 plotting.boxplot 的 series 对象创建一个 boxplot。</p><p id="db02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不知道箱线图是什么，引用熊猫指南箱线图是“一种通过四分位数图形化描述数字数据组的方法”。该方框从数据的 Q1 值延伸到第三季度的四分位值，中间有一条线(Q2)。触须从框的边缘延伸出来，以显示数据的范围。默认情况下，它们从盒子的边缘延伸不超过 1.5 * IQR(IQR = Q3-Q1)，在该间隔内最远的数据点结束。离群值标为单独的点”。</p><p id="21ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您只需要传递系列或数据框，数字列就会自动绘制出来。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="c014" class="nh md it nc b gy ni nj l nk nl">#Day 22 plotting.boxplot</span><span id="be58" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt</span><span id="71fc" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>pd.plotting.boxplot(mpg['mpg'])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/e40be1994ada95b082a83bd7e92f02af.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*lGtWv29bxv3LdaZUH3h9RQ.png"/></div></figure><h1 id="9738" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 23 天:任何</h1><p id="6dee" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我将向您介绍一个简单而有用的 Series 和 DataFrame 方法。</p><p id="dc32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是什么方法呢？所以，。any 将返回布尔值，如果任何元素为 True，则返回 True；如果系列或列中没有 True 布尔值，则返回 False。</p><p id="662d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们想检查数据集中是否有缺失值时，这是最有用的。看看这个例子，我们被锁住了。isna with .any。只有马力返回 True，因为此列中缺少数据。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="75f0" class="nh md it nc b gy ni nj l nk nl">#Day 23 any</span><span id="d689" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt</span><span id="19fb" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>mpg.isna().any()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi op"><img src="../Images/b3ec442cc6fe33d59bb4d42040c92d57.png" data-original-src="https://miro.medium.com/v2/resize:fit:426/format:webp/1*ZvhyOrgGmF1z_O5DHZFgLQ.png"/></div></figure><h1 id="be04" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 24 天:哪里</h1><p id="dde2" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我想向您介绍一个 DataFrame 方法，类似于我之前发布的方法。</p><p id="d57d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，与。我之前贴的蒙版方法。基本上，这是一种接受条件的方法，不满足条件的值将被替换。</p><p id="a16e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看看这个例子，我给出了寻找低于 20 的值的标准，任何低于 20 的值都将保持它们的值，否则，它将被替换为“大于 20”。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="1301" class="nh md it nc b gy ni nj l nk nl">#Day 24 where</span><span id="0a3d" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="d6d0" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>mpg['mpg'].where(mpg['mpg'] &lt; 20, 'More than Twenty' )</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/de4e61cb29ecf903eaec12540193c8c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*SNkBK0Ss3k0V2X3nscH--g.png"/></div></figure><h1 id="c32c" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 25 天:换位</h1><p id="43ad" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">今天我将向你展示一个简单而有用的方法。转置或. t。</p><p id="e801" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个方法很简单，通过执行。转置方法我们将切换数据帧列成为索引，而索引将成为数据帧列。</p><p id="f16f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看看这个例子，我们有一个数据框，所有的位置都被调换了。当我们希望我们的行变成列时，这个函数很有用，反之亦然。</p><p id="18f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望有帮助！</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="e072" class="nh md it nc b gy ni nj l nk nl">#Day 25 transpose</span><span id="e8fc" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="5ef8" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>mpg.transpose() <br/>#or mpg.T</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/28be9e4e56e0377a5bb09be91a5bef78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*naFiaqs2TQm7VIc0-rPEEw.png"/></div></div></figure><h1 id="c079" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 26 天:阴谋.散布</h1><p id="ea09" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">今天我想介绍一个熊猫数据帧对象的快速绘图方法，名为 plot.scatter。</p><p id="415e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我相信很多人都知道散点图是什么，虽然对你来说谁也不知道；它基本上是一个图，我们在 2 个不同的数字列中绘制每个数据，其中的值在图中是可视化的。</p><p id="baa9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以通过在数据框对象中使用. plot.scatter 创建一个快速散点图，并传递您想要的 2 列名称。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="2fcc" class="nh md it nc b gy ni nj l nk nl">#Day 26 plot.scatter</span><span id="28fc" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="c747" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>mpg.plot.scatter('mpg', 'weight')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/e0eec6a4c1e058aef71d512a7ba6ae04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*HSEXBIU2t0PvvMoWstwRzQ.png"/></div></figure><h1 id="1d1e" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 27 天:转变</h1><p id="f459" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">今天要介绍一个来自 Series 和 Data Frame 对象的方法，叫做<code class="fe mz na nb nc b">.transform</code>。</p><p id="a9fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个简单的功能，但功能强大。此函数的主要前提是我们传递一个函数或聚合字符串名称，并且该函数应用于所有的值。</p><p id="93f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果在 DataFrame 对象中使用它，该函数将应用于每列中的每个值。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="2efa" class="nh md it nc b gy ni nj l nk nl">#Day 27 transform</span><span id="a5c4" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="ca12" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>mpg['mpg'].transform(lambda x: x/2)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/1e23550f3c38e734e86690e390fca793.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*4-JhD6EuYGE209FuhSONGg.png"/></div></figure><h1 id="f33b" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 28 天:自举 _ 情节</h1><p id="a7f5" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">今天我要介绍一个熊猫独有的绘图功能，叫做<code class="fe mz na nb nc b">.bootstrap_plot</code>。</p><p id="7781" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据 Pandas 的说法，bootstrap 图用于通过依赖带有替换的随机抽样来估计统计的不确定性。</p><p id="d466" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简而言之，它用于通过替换重新采样数据(您可以多次采样相同的数据)来尝试确定基本统计数据(如平均值和中值)中的不确定性。</p><p id="ddfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">boostrap_plot</code>函数将为给定数量和给定大小的样本生成均值、中值和中间值统计的自举图。就像下面的例子一样。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="dc20" class="nh md it nc b gy ni nj l nk nl">#Day 28 bootstrap_plot<br/>import pandas as pd<br/>import seaborn as sns</span><span id="8449" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')<br/>pd.plotting.bootstrap_plot(mpg['mpg'], size = 50, samples = 500)<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/c7bcc6047ba91ebf9ce5ef59072e9821.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*fe-TZF2u_RE-OjR2WJwJqQ.png"/></div></figure><h1 id="8502" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 29 天:烟斗</h1><p id="a607" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在今天的熊猫贴子里，我想介绍一个我鼓励大家多使用的方法。方法是. pipe。</p><p id="7c6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，熊猫鼓励我们使用方法链来操作我们的数据。通常我们会通过在函数或方法后面传递函数来链接方法。</p><p id="82a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与。管道函数，Pandas DataFrame 中的链接方法可以减少我们编写的行数并更快地执行函数。</p><p id="c5f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">的示例。管道方法如下图。我创建了两个不同的函数，并通过执行。管两次。这是为了创建一个链方法和更快的执行。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="fb3f" class="nh md it nc b gy ni nj l nk nl">#Day 29 pipe</span><span id="a7d9" class="nh md it nc b gy nm nj l nk nl">import pandas as pd<br/>import seaborn as sns</span><span id="14bc" class="nh md it nc b gy nm nj l nk nl">mpg = sns.load_dataset('mpg')</span><span id="5af1" class="nh md it nc b gy nm nj l nk nl">#Function to extract the car first name and create a new column called car_first_name<br/>def extract_car_first_name(df):<br/>    df['car_first_name'] = df['name'].str.split(' ').str.get(0)<br/>    return df</span><span id="bed9" class="nh md it nc b gy nm nj l nk nl">#Function to add my_name after the car_first_name and create a new column called car_and_name<br/>def add_car_my_name(df, my_name = None):<br/>    df['car_and_name'] = df['car_first_name'] + my_name<br/>    <br/>mpg.pipe(extract_car_first_name).pipe(add_car_my_name, my_name = 'Cornellius')</span><span id="dacb" class="nh md it nc b gy nm nj l nk nl">mpg.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/0338ba2708ff1193582b2653ba66a5f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1JHQihuLlxKV3FLWn7qG_g.png"/></div></div></figure><h1 id="e94c" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">第 30 天:显示版本</h1><p id="f672" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在最后一天，我想向你们展示熊猫的一个特殊功能，叫做。显示版本。这个函数是做什么的？</p><p id="d597" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个函数给我们提供关于主机操作系统，熊猫版本，以及其他相关软件包版本的信息。它提供了有用的信息，尤其是当您处理相关的包时，并且对于 bug 报告也很重要。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="7f76" class="nh md it nc b gy ni nj l nk nl">#Day 30 show_versions</span><span id="767d" class="nh md it nc b gy nm nj l nk nl">import pandas as pd</span><span id="8f94" class="nh md it nc b gy nm nj l nk nl">pd.show_versions(True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/7e7902004880f53b187c6a3c1fa126da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LYZ5hWQ3yuTE9BXj2r3oVw.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="456a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="2ece" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">所以。这就是我的熊猫 30 天帖子。对我来说，这是一个非常有趣和有见地的活动。我喜欢为人们创造这样的内容，我希望它对我接触到的任何人都有用。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="abeb" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">如果您喜欢我的内容，并希望获得更多关于数据或数据科学家日常生活的深入知识，请考虑在此订阅我的<a class="ae ky" href="https://cornellius.substack.com/welcome" rel="noopener ugc nofollow" target="_blank">简讯。</a></h1><blockquote class="ow"><p id="bbfd" class="ox oy it bd oz pa pb pc pd pe pf lu dk translated">如果您没有订阅为中等会员，请考虑通过<a class="ae ky" href="https://cornelliusyudhawijaya.medium.com/membership" rel="noopener">我的介绍</a>订阅。</p></blockquote></div></div>    
</body>
</html>