<html>
<head>
<title>Searching or Sorting a list of Objects Based on an Attribute in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于 Python 中的属性对对象列表进行搜索或排序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/searching-or-sorting-a-list-of-objects-based-on-an-attribute-in-python-6cffb26a57c3?source=collection_archive---------8-----------------------#2020-04-29">https://towardsdatascience.com/searching-or-sorting-a-list-of-objects-based-on-an-attribute-in-python-6cffb26a57c3?source=collection_archive---------8-----------------------#2020-04-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b719" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">当你想找出哪个(狗)学生和其他(狗)学生的数量最多时</h2></div><p id="ffd5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通常，当您有一组对象时，您可能不希望根据它们在内存中的位置，而是根据感兴趣的属性对它们进行排序。今天，我们将看看 Python 的内置工具:<code class="fe le lf lg lh b">operator.attrgetter</code>，以及这个工具包中的相关工具和实现类似目标的替代方法(使用 lambdas 和迭代器/理解)。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi li"><img src="../Images/90d159d93042bb2388137b9d98ac32f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7WWw_CoWSXbfdQVE"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">查尔斯·德鲁维奥在<a class="ae ly" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="33db" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于我们今天的数据集，我们将使用一个由 100 只狗组成的虚拟数据集。狗学生类有属性:<code class="fe le lf lg lh b">name</code>、<code class="fe le lf lg lh b">yr</code>、<code class="fe le lf lg lh b">strengths</code>、<code class="fe le lf lg lh b">areas_for_growth</code>、<code class="fe le lf lg lh b">works_well_with</code>、<code class="fe le lf lg lh b">not_works_well_with</code>、<code class="fe le lf lg lh b">has_sat_by</code>、<code class="fe le lf lg lh b">has_not_sat_by</code>、<code class="fe le lf lg lh b">notes</code>。它有添加、获取、移除和这些属性的方法，加上返回各自列表中朋友/敌人数量的<code class="fe le lf lg lh b">get_n_not_works_well</code>和<code class="fe le lf lg lh b">get_n_works_well</code>。</p><h1 id="6081" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">如何使用 attrgetter</h1><p id="0673" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">Attrgetter 是一个属性 getter。您可以通过几种方式使用它:</p><ol class=""><li id="78d0" class="mw mx it kk b kl km ko kp kr my kv mz kz na ld nb nc nd ne bi translated">您可以创建一个 attrgetter“可调用对象，该对象从其操作数中获取<em class="nf"> attr </em>”(从<a class="ae ly" href="https://docs.python.org/3/library/operator.html" rel="noopener ugc nofollow" target="_blank">文档</a>)属性。</li></ol><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="c923" class="nk ma it lh b gy nl nm l nn no">from operator import attrgetter</span><span id="4c8d" class="nk ma it lh b gy np nm l nn no">friend_getter = attrgetter('works_well_with')<br/>print(friend_getter(dog_pack[1]))</span></pre><p id="ddc0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里，friend_getter 返回 dog_pack[1]的<code class="fe le lf lg lh b">works_well_with</code>列表:</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="14ac" class="nk ma it lh b gy nl nm l nn no">[Student('Qeb', 12), Student('Putty', 6), Student('Douglas', 3), Student('Denali', 5), Student('Asher', 12), Student('Portia', 3), Student('Suki', 2), Student('Olive', 14), Student('Peri', 8), Student('Mari', 5), Student('Snowflake', 2), Student('Guayaba', 12)]</span></pre><p id="2635" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我仍在寻找你会在<code class="fe le lf lg lh b">dog_pack[1].works_well_with</code>上这样做的背景。我们将在下面看到我遇到的一个例子，但我不确定我是否被说服了。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi nq"><img src="../Images/38751d4ffca85319ab47ec4e3d137076.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M231XCeo3cCpFKxm"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">马特·尼尔森在<a class="ae ly" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="aba4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.可以将 attrgetter 用于需要函数参数的函数。比如作为 sorted()、max()、min()的键；或者用 map()、itertools.groupby()等。</p><p id="4472" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要得到最老的狗:</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="da10" class="nk ma it lh b gy nl nm l nn no"># to get the object with the characteristic (max yr)<br/>oldest = max(dog_pack, key=attrgetter("yr"))<br/>print(f"Oldest Dog\nname: {oldest.name}\nage: {oldest.yr}", <br/>      f"Strengths: {oldest.strengths}")</span></pre><p id="d0cd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">打印:</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="4f0f" class="nk ma it lh b gy nl nm l nn no">Oldest Dog<br/>name: Abbey<br/>age: 15<br/>Strengths: ['snuggly', 'snuggly', 'plays well', 'fetch']</span></pre><p id="2cdf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里我们实际上有多个最老的狗，所以我们想使用过滤/条件列表理解来获得最老的狗的列表:</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="22e0" class="nk ma it lh b gy nl nm l nn no">[d for d in dog_pack if d.yr == max(d.yr for d in dog_pack)]</span></pre><p id="3492" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">返回</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="242c" class="nk ma it lh b gy nl nm l nn no">[Student(Abbey, 15),<br/> Student(Radar, 15),<br/> Student(Pinot, 15),<br/> Student(Lucci, 15),<br/> Student(Leona Mae Alcott Helmsley Cole, 15),<br/> Student(Stella, 15),<br/> Student(Whiskers, 15)]</span></pre><p id="f96c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不要忘记，如果我们想要值本身，而不是带有值的对象，就没有必要使用<code class="fe le lf lg lh b">attrgetter</code>。</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="cacc" class="nk ma it lh b gy nl nm l nn no">max(d.yr for d in dog_pack)</span></pre><p id="a07a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它返回<code class="fe le lf lg lh b">15</code>。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi nr"><img src="../Images/164cb38efa0de61fab88336a045ef7e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*btkNdYF730g73kf_"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">由<a class="ae ly" href="https://unsplash.com/@bk010397?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Bharathi Kannan </a>在<a class="ae ly" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="1f63" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">方法的 Attrgetter:方法调用方</h1><p id="b0aa" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">Methodcaller 的工作方式与 attrgetter 非常相似，但是当您希望使用类的“方法”而不是“类”属性的返回时。</p><p id="9b37" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我想让狗学生与最少的其他学生一起工作:</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="b0df" class="nk ma it lh b gy nl nm l nn no">min_works_well = min(dog_pack, key=methodcaller('get_n_works_well'))</span><span id="c2ac" class="nk ma it lh b gy np nm l nn no">print(f"""Works Well With The Fewest Dogs<br/>          name: {min_works_well.name}<br/>          works well with: {min_works_well.get_n_works_well()} dogs<br/>          strengths: {min_works_well.strengths}<br/>          areas for growth: {min_works_well.areas_for_growth}""")</span></pre><p id="7523" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">返回:</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="adc7" class="nk ma it lh b gy nl nm l nn no">Works Well With The Fewest Dogs<br/>name: Pringles<br/>works well with: 4 dogs<br/>strengths: ['leave it', 'snuggly', 'comes when called']<br/>areas for growth: ['playing with others']</span></pre><p id="dfbc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">attrgetter</code>和<code class="fe le lf lg lh b">methodcaller</code>的另一个区别是，对于<code class="fe le lf lg lh b">attrgetter</code>，附加参数是要获取的附加属性，而对于<code class="fe le lf lg lh b">methodcaller</code>，它们是作为参数传递给方法的。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi ns"><img src="../Images/21d2ab7cb002200375838640840f4384.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Qkops0HGsT1QPnTC"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">照片由<a class="ae ly" href="https://unsplash.com/@gettagottaflow?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> gotdaflow </a>在<a class="ae ly" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="f624" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">其他数据结构的 attr getter:item getter</h1><p id="457e" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated"><code class="fe le lf lg lh b">attrgetter</code>作用于类，而<code class="fe le lf lg lh b">itemgetter</code>作用于其他数据结构(列表、元组、字典等)。</p><p id="45e7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们的 dog_pack 被构造成一个字典列表:</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="750a" class="nk ma it lh b gy nl nm l nn no">oldest = max(dogs_dict_list, key=itemgetter('yr'))</span><span id="c20f" class="nk ma it lh b gy np nm l nn no">print(f"Oldest dog\nname: {oldest['name']}",<br/>      f"strengths: {oldest['strengths']}")</span></pre><p id="7a46" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">itemgetter</code>使用“yr”作为关键字并返回:</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="375d" class="nk ma it lh b gy nl nm l nn no">Oldest dog<br/>name: Dollie<br/>strengths: ['plays well', 'ignores food on the sidewalk']</span></pre><p id="a87d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果它被构造成这样的元组列表:</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="0d13" class="nk ma it lh b gy nl nm l nn no">dogs_tups = [('Bella', 5, 'labrador', 'yellow'), <br/>             ('Dollie', 12, 'austrailian sheppard', 'cream, brown')]</span><span id="eff5" class="nk ma it lh b gy np nm l nn no">youngest = min(dogs_tups, key=itemgetter(1))</span><span id="4440" class="nk ma it lh b gy np nm l nn no">print(f"Youngest Dog:\nname: {youngest[0]}\nbreed: {youngest[2]}")</span></pre><p id="b5aa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">itemgetter</code>将使用参数 1 作为索引并返回</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="cfb6" class="nk ma it lh b gy nl nm l nn no">Youngest Dog:<br/>name: Bella<br/>breed: labrador</span></pre><p id="5422" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">像<code class="fe le lf lg lh b">attrgetter</code>一样，<code class="fe le lf lg lh b">itemgetter</code>在提供多个参数时返回一组查找值。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi nt"><img src="../Images/8ec2de49249351e0fb8d2e56481e30ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Qg86256Z6rq_Trbj"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">卡米洛·菲耶罗在<a class="ae ly" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>的照片</p></figure><h1 id="c871" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">获取子属性</h1><p id="762a" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">如果你想对我们的狗进行分类，不是根据这些一级属性中的一个，而是根据属性的一个组成部分，我看到了四个选项:</p><ol class=""><li id="4740" class="mw mx it kk b kl km ko kp kr my kv mz kz na ld nb nc nd ne bi translated">如果属性是一个类，你可以通过将第二个属性名和第一个属性名一起传递给<code class="fe le lf lg lh b">attrgetter</code>来访问你的属性的一个属性。例如，如果我们改变 name 属性来创建类名的一个实例，我们可以像在<a class="ae ly" href="https://docs.python.org/3/library/operator.html" rel="noopener ugc nofollow" target="_blank"> docs </a>示例中一样，用<code class="fe le lf lg lh b">sorted(dog_pack, key=attrgetter("name.first")</code>按名字排序。</li><li id="343d" class="mw mx it kk b kl nu ko nv kr nw kv nx kz ny ld nb nc nd ne bi translated">如果你可以访问这个类，或者这个类有一个方法返回你感兴趣的子属性，你可以使用<code class="fe le lf lg lh b">methodcaller</code>来访问/排序这个子属性。</li></ol><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="a5ac" class="nk ma it lh b gy nl nm l nn no">from operator import methodcaller</span><span id="99fd" class="nk ma it lh b gy np nm l nn no">sorted(dog_pack, key=methodcaller("get_area_for_growth", 0))</span></pre><p id="3a64" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里的<code class="fe le lf lg lh b">growth_sorted</code>是一个列表，按照它们的第一个成长领域排序(按字母顺序)。</p><p id="1750" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">再次注意，methodcaller 向该方法传递附加参数。这与 attrgetter 不同，在 attr getter 中，额外的参数被作为额外的属性来读取，支持多属性键。对于带有 methodcaller 的多属性键，您需要一个 lambda 函数。</p><p id="d5cf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.使用 lambda 或定义的函数。</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="f022" class="nk ma it lh b gy nl nm l nn no">sorted(dog_pack, key=lambda x: (x.get_area_for_growth(0),<br/>                                x.name.first)</span></pre><p id="bb22" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者相当于:</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="7b10" class="nk ma it lh b gy nl nm l nn no">def first_growth_first_name(x):<br/>    "Returns the first area for growth and first name of Dog x"</span><span id="1388" class="nk ma it lh b gy np nm l nn no">    first_growth = x.get_area_for_growth(0)<br/>    first_name = x.name.first<br/>    return (first_growth, first_name)<br/></span><span id="680f" class="nk ma it lh b gy np nm l nn no">sorted(dog_pack, key=first_growth_first_name)</span></pre><p id="a4c2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.组合 lambda 和 attrgetter/methodcaller。</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="35c2" class="nk ma it lh b gy nl nm l nn no">sorted(dog_pack[0:5], key = lambda x: attrgetter("strengths")(x)[0])</span></pre><p id="beb2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个例子对我来说很复杂，它依赖于群体中的每只狗在那个位置的力量。但在某些情况下这可能是正确的做法。与<code class="fe le lf lg lh b">lambda</code>和直接属性访问相比，我不确定<code class="fe le lf lg lh b">attrgetter</code>和<code class="fe le lf lg lh b">lambda</code>组合的相对计算时间。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi nz"><img src="../Images/9ce511c83d64f102dad8f2b72f3bd8ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*c4VbDWorylT4VkwG"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">由<a class="ae ly" href="https://unsplash.com/@anoirchafik?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Anoir Chafik </a>在<a class="ae ly" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="4eda" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">attr getter/item getter/method caller 与 lambda</h1><p id="52d9" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">内置函数似乎运行得更快，这对您的场景来说可能重要，也可能不重要。互联网上的人们似乎不同意哪个更优雅/更漂亮/更漂亮。字符串的使用阻碍了许多代码编辑器的自动完成功能，这需要键入/拼写/知道他们想要什么属性。不理想。对我来说不是交易破坏者。</p><p id="6a70" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些都可以很容易地用 lambda 函数(或定义的函数)来代替:</p><h2 id="a89e" class="nk ma it bd mb oa ob dn mf oc od dp mj kr oe of ml kv og oh mn kz oi oj mp ok bi translated">attrgetter</h2><p id="55b1" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">按年份和名称对我们的狗群进行分类:</p><p id="8d12" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">sorted(dog_pack, key=attrgetter(“yr”, "name.first"))</code>成为</p><p id="13e9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">sorted(dog_pack, key=lambda x: (x.yr, x.name.first))</code></p><h2 id="b241" class="nk ma it bd mb oa ob dn mf oc od dp mj kr oe of ml kv og oh mn kz oi oj mp ok bi translated">itemgetter</h2><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="9844" class="nk ma it lh b gy nl nm l nn no">dogs_tups = [('Bella', 5, 'labrador', 'yellow'), <br/>             ('Dollie', 12, 'austrailian sheppard', 'cream, brown')]</span></pre><p id="d90d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将这些狗元组按品种分类:</p><p id="4b66" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">sorted(dogs_tups, key=itemgetter(2)</code>成为</p><p id="bb70" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">sorted(dog_pack, key=lambda x: x[2])</code></p><h2 id="b807" class="nk ma it bd mb oa ob dn mf oc od dp mj kr oe of ml kv og oh mn kz oi oj mp ok bi translated">方法调用程序</h2><p id="bce2" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">根据狗狗们玩耍的数量对狗群进行分类:</p><p id="6a49" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">sorted(dog_pack, key=methodcaller(“get_n_works_well”))</code>变成了</p><p id="cd74" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">sorted(dog_pack, key=lambda x: x.get_n_works_well())</code></p><h2 id="b51e" class="nk ma it bd mb oa ob dn mf oc od dp mj kr oe of ml kv og oh mn kz oi oj mp ok bi translated">何时使用 lambda、自定义函数或理解</h2><p id="2e10" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">如果您需要在排序/获取最大值/最小值/无论什么之前处理属性数据，那么您可能需要使用<code class="fe le lf lg lh b">attrgetter</code>的替代方法。</p><p id="00ca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，最初，我的狗的名字有不规范的大写。如果您没有访问该类的权限，可以使用以下方法进行更正:</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="2a5c" class="nk ma it lh b gy nl nm l nn no">sorted(dog_pack, key=lambda x: x.name.first.lower())</span></pre><p id="71ee" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者如果你正在寻找名字以 A 开头的狗:</p><pre class="lj lk ll lm gt ng lh nh ni aw nj bi"><span id="f076" class="nk ma it lh b gy nl nm l nn no">[d for d in dog_pack if d.name.first.lower() &lt; 'b']</span></pre></div><div class="ab cl ol om hx on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="im in io ip iq"><p id="3706" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">点击查看 GitHub 库<a class="ae ly" href="https://github.com/allisonhonold/attrgetter_blog" rel="noopener ugc nofollow" target="_blank">。编码快乐！</a></p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi os"><img src="../Images/b4c10eee082b2ab777f59badfb6e9d3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Xuj0bq_Pke4bUo_n"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">照片由<a class="ae ly" href="https://unsplash.com/@happpyal?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> allison christine </a>在<a class="ae ly" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure></div></div>    
</body>
</html>