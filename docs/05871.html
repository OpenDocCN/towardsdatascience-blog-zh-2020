<html>
<head>
<title>Coloring India Red, Orange and Green: Covid19 Chloropleth Map</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将印度染成红色、橙色和绿色:Covid19 Chloropleth地图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/coloring-india-red-orange-and-green-covid19-choropleth-map-fc21a00f005f?source=collection_archive---------33-----------------------#2020-05-14">https://towardsdatascience.com/coloring-india-red-orange-and-green-covid19-choropleth-map-fc21a00f005f?source=collection_archive---------33-----------------------#2020-05-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9252" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">基于Bokeh的绘图/地图，显示印度不同地区的新型冠状病毒的实时数据和爆发严重程度</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d1dec7f125b60f3d59a39ff0ea96c0ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mUDjPo56_UZ5y2YldOVl3A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从Freepik创建的图像，请参见最后的致谢</p></figure><p id="cb3c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> <em class="lu">注</em> </strong> <em class="lu"> : </em> <a class="ae lv" href="http://towardsdatascience.com/" rel="noopener" target="_blank"> <em class="lu">走向数据科学</em> </a> <em class="lu">是以数据科学和机器学习研究为主的中型刊物。我们不是健康专家或流行病学家，本文的观点不应被解释为专业建议。想了解更多关于疫情冠状病毒的信息，可以点击</em> <a class="ae lv" href="https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports" rel="noopener ugc nofollow" target="_blank"> <em class="lu">这里</em> </a> <em class="lu">。</em></p><p id="e20d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">新冠肺炎或新型冠状病毒已使世界各国政府强制全国封锁，以对抗这种致命的病毒。这种病毒现在已经感染了全球400多万人，并导致30万人死亡。</p><p id="acb8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">印度在5月4日实施了为期两周的第三次封锁，可能正在计划第四次封锁。一些人认为这是世界上最大的封锁，有近13亿人被困在家中。印度开始根据疾病传播的严重程度，将733个地区用颜色划分为红色、橙色和绿色区域。</p><p id="8a28" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lu">红色</em>:案件量最高的区，占各州案件量的80%以上，或者加倍率少于4天的区。</p><p id="3a2e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">绿色:一个超过28天没有报告任何病例的地区。</p><p id="f88d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">橙色:既不属于红色也不属于绿色的地区</p><p id="748a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">政府试图利用国家的联邦结构来绘制和隔离疫情，建立限制级别，有效地分配资源，并追究责任。</p><p id="254f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在<a class="ae lv" href="https://economictimes.indiatimes.com/news/politics-and-nation/colour-coding-of-districts-in-battle-against-covid-19/articleshow/75416339.cms" rel="noopener ugc nofollow" target="_blank">经济时报</a>和<a class="ae lv" href="https://www.indiatoday.in/india/story/red-orange-green-zones-full-current-update-list-districts-states-india-coronavirus-1673358-2020-05-01" rel="noopener ugc nofollow" target="_blank">今日印度</a>阅读更多内容</p><p id="4227" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">作为一个呆在禁闭室内的极客，我试图用Python来绘制这些区域，这篇博客就是关于这个的。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="7aea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">目标:这个博客展示了为印度各区创建一个choropleth地图的步骤，并用它们的颜色标记出来。该地图是一种交互式绘图，它还显示每个地区受Covid19影响的人数。</p><p id="a759" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">代码已经内置在Jupyter笔记本中，可以在我的Github repo上找到:[<a class="ae lv" href="https://github.com/yatharthaggarwal/CovidIndia" rel="noopener ugc nofollow" target="_blank">https://github.com/yatharthaggarwal/CovidIndia</a>]。我一直在为基于Python的项目使用<a class="ae lv" href="https://www.anaconda.com/products/individual" rel="noopener ugc nofollow" target="_blank"> Anaconda </a>工具包，并向其他人推荐同样的工具包。</p><p id="35eb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">套餐</strong>:</p><ol class=""><li id="3e73" class="md me it la b lb lc le lf lh mf ll mg lp mh lt mi mj mk ml bi translated"><a class="ae lv" href="https://geopandas.org/" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">geo pandas</strong></a><strong class="la iu">:</strong>是一个帮助用户处理地理空间数据的开源包。我们将关注的一个依赖项是<em class="lu"> shapely </em>，GeoPandas依赖于它来执行几何运算。在我们的例子中，印度每个地区的形状将通过shapely包编码为多边形或多多边形。然后通过GeoPandas来理解地理空间数据。</li><li id="9b85" class="md me it la b lb mm le mn lh mo ll mp lp mq lt mi mj mk ml bi translated"><a class="ae lv" href="https://docs.bokeh.org/en/latest/" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">散景</strong> </a> <strong class="la iu"> : </strong>它可以让我们创作出更复杂的剧情。Bokeh是一个多功能的开源软件包，旨在帮助用户创建漂亮的交互式可视化效果。</li></ol><p id="ee26" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">导入数据集</strong></p><p id="9948" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> 1。新冠肺炎患者数据</strong></p><p id="99a1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我们需要在地区级别加载COVID 19数据。印度政府/邦政府没有按地区提供数据。因此，我们需要依靠基于众包的门户网站，比如https://www.covid19india.org/。</p><p id="6e5b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">甚至他们提供的数据也有很大一部分是不正确的。他们在“未知”部分推送了大量数据。但是，我们将选择提到地区的行。下图是加载数据集的代码片段，我们感兴趣的是已确认、活动、已恢复和已死亡的列。确诊病例是另外三个的总和。</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="b6bf" class="mw mx it ms b gy my mz l na nb">districtdata = pd.read_csv ('<a class="ae lv" href="https://api.covid19india.org/csv/latest/district_wise.csv'" rel="noopener ugc nofollow" target="_blank">https://api.covid19india.org/csv/latest/district_wise.csv'</a>)<br/>districtdata.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/7e32426f44bb6daf8549bfe603cbe5d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bEIM2Q7TMjJaDbMEwKauKw.png"/></div></div></figure><p id="67c4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> 2。印度地区形状文件</strong></p><p id="e0aa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了创建一个地图，你需要一个形状文件。shp)。该文件告诉Geopandas我们正在绘制什么形状。在我们的例子中，我们需要一个概述每个地区的文件。我们使用一个geometry列，以便Geopandas包知道在哪里寻找每个州的形状信息。</p><p id="8a79" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个优秀的更新shapefile可以在这里找到:<a class="ae lv" href="https://hub.arcgis.com/datasets/esriindia1::india-districts-boundary" rel="noopener ugc nofollow" target="_blank">https://hub . ArcGIS . com/datasets/esriindia 1::India-districts-boundary</a>。人们可以从这里下载并使用它。虽然有很多拼写错误，我已经在数据清理部分纠正了。请参见下面的代码片段:</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="897f" class="mw mx it ms b gy my mz l na nb">df1 = gpd.read_file('India_Districts/c44c9b96-f570-4ee3-97f1-ebad64efa4c2202044-1-1rb4x6s.8xx6.shp')<br/>df1.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/b340ca29f00851e0a7a967efd123a34d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sy-BxYX6r0mlcMOeK8mPFw.png"/></div></div></figure><p id="43b3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以利用绘图功能来查看shapefile中的内容。如果有人能找到任何官方文件，请做评论。这张地图不包含2020年的行政区，但出来的地图很漂亮。</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="e73e" class="mw mx it ms b gy my mz l na nb"># showing the India map based on the shapefile... See the districts boundary<br/>df1.plot(figsize = (8,8))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/f08eeb8251f0c1f83cc0df445b8cde66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/1*m6rUuGifnuJKDeZe67Mg1w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">shapefile中的印度地区地图</p></figure><p id="e1ce" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> 3。逐区分区数据</strong></p><p id="5206" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该数据已由卫生和家庭福利部公布。我已经直接从https://www.kaggle.com/xordux/india-corona-severity-zones<a class="ae lv" href="https://www.kaggle.com/xordux/india-corona-severity-zones" rel="noopener ugc nofollow" target="_blank">下载到工作目录下了。请参见下面的代码片段:</a></p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="4d2a" class="mw mx it ms b gy my mz l na nb">zones = pd.read_csv('Zones in india.csv')<br/>zones.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/e2deb7db9ce9dbf4ad7283799d6ac542.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*09mooi5AdfsbLI6YRyFoew.png"/></div></figure><p id="8d7f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">数据清理</strong></p><p id="26db" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">数据清理部分是任何基于数据的项目非常必要的一部分，因为它提供了纠正/删除数据值、处理NaN值和格式化整个数据集的方法。我没有把代码片段放在这里，因为它只是纠正了大量的拼写错误。直接检查存储库中的代码部分，这里再次链接了<a class="ae lv" href="https://github.com/yatharthaggarwal/CovidIndia/blob/master/Choropleth_Map_of_ROG_Districts_in_India.ipynb" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="4253" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">数据预处理</strong></p><p id="bc36" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用上面显示的所有数据创建一个公共数据框架。<br/>在df1 (shapefile)中，我们根据地区和州合并了Covid19患者的数据，然后类似地合并了Zones数据帧。一些不必要的栏目也被删除。在印度，不同的邦经常保留一个相似的区名，因此在'<em class="lu"> merge' </em>函数中我们需要同时检查[ <em class="lu"> District '，' States']。</em>参见代码片段，其中包括几何图形、区域和患者数据以及区名和州名:</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="5f8f" class="mw mx it ms b gy my mz l na nb">newdf = df1.merge(districtdata[['State', 'District', 'Confirmed', 'Active', 'Recovered', 'Deceased']], on = ['District', 'State'])</span><span id="9e12" class="mw mx it ms b gy ng mz l na nb">newdf = newdf.merge(zones[['State', 'District', 'Zone']], on = ['District', 'State'])</span><span id="b3ad" class="mw mx it ms b gy ng mz l na nb">newdf = newdf.drop(columns = ['statecode', 'state_ut', 'distcode', 'countrynam'])<br/>newdf.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/47f95a44fe68cd122ea7031c9eec2392.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iJkOsMlar_2h9ipZ9o3gEg.png"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="84dc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，数据已经转换为适当的格式，我们可以按照以下步骤绘制地区的choropleth地图:</p><ol class=""><li id="8daf" class="md me it la b lb lc le lf lh mf ll mg lp mh lt mi mj mk ml bi translated">创建体形对象</li><li id="d4bc" class="md me it la b lb mm le mn lh mo ll mp lp mq lt mi mj mk ml bi translated">将面片渲染器添加到图形中</li><li id="4e24" class="md me it la b lb mm le mn lh mo ll mp lp mq lt mi mj mk ml bi translated">创建显示患者数据的悬停工具</li><li id="92fb" class="md me it la b lb mm le mn lh mo ll mp lp mq lt mi mj mk ml bi translated">展示图</li></ol><p id="d507" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">导入散景库并创建数据类型格式</strong></p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="5ccc" class="mw mx it ms b gy my mz l na nb">import json<br/>from bokeh.io import show<br/>from bokeh.io import output_file, save<br/>from bokeh.models import (CDSView, ColorBar, ColumnDataSource,<br/>                          CustomJS, CustomJSFilter, <br/>                          GeoJSONDataSource, HoverTool,<br/>                          CategoricalColorMapper, Slider)<br/>from bokeh.layouts import column, row, widgetbox<br/>from bokeh.io import output_notebook<br/>from bokeh.plotting import figure</span></pre><p id="b12c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">散景使用GeoJSON格式，用JSON表示地理要素。GeoJSON将点、线和多边形(在散景中称为面片)描述为要素的集合。因此，我们将合并后的文件转换为GeoJSON格式。</p><p id="52fe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，还创建了一个分类颜色映射器，用于将红色区域映射为红色，绿色和橙色区域也是如此。</p><p id="c3d6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">a)用我们的初始数据创建GeoJSONDataSource对象</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="fede" class="mw mx it ms b gy my mz l na nb">geosource = GeoJSONDataSource(geojson = newdf.to_json())</span></pre><p id="b234" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">b)定义要使用的调色板并映射到区域的分类值</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="22f3" class="mw mx it ms b gy my mz l na nb">palette = ['red', 'orange', 'green']<br/>color_mapper = CategoricalColorMapper(palette = palette, factors = ['Red', 'Orange', 'Green'])</span></pre><p id="1d84" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> Choropleth地图</strong></p><p id="fa6a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下代码创建figure对象(包括缩放和平移工具)，添加渲染的修补程序(包括带列区域的geosource和mapping颜色映射器)，并创建悬停工具以显示特定地区的已确认、活动、已恢复和已死亡病例。</p><p id="b92d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，以“HTML”格式保存绘图。现在经过上述步骤:</p><ol class=""><li id="e4ed" class="md me it la b lb lc le lf lh mf ll mg lp mh lt mi mj mk ml bi translated">在创建一个<em class="lu">人物</em>对象时，我们可以为情节设置标题、高度、宽度和交互工具。</li></ol><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="75c8" class="mw mx it ms b gy my mz l na nb">p = figure(title = 'Red, Green and Orange Distric of Covid19: 19 May 2019',<br/>           plot_height = 700 ,<br/>           plot_width = 650, <br/>           toolbar_location = 'right',<br/>           tools = "pan, wheel_zoom, box_zoom, reset")</span></pre><p id="7d0e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.补丁渲染器是我们输入数据源和颜色映射器的主要地方。</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="53b6" class="mw mx it ms b gy my mz l na nb">states = p.patches('xs','ys', source = geosource,<br/>                   fill_color = {'field' :'Zone',<br/>                                 'transform' : color_mapper},<br/>                   line_color = 'black',<br/>                   line_width = 0.25, <br/>                   fill_alpha = 1)</span></pre><p id="a31e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.悬停工具允许我们将想要显示的数据放入绘图中。</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="e39d" class="mw mx it ms b gy my mz l na nb">p.add_tools(HoverTool(renderers = [states],<br/>                      tooltips = [('District','<a class="ae lv" href="http://twitter.com/District" rel="noopener ugc nofollow" target="_blank">@District</a>'),<br/>                                  ('State','<a class="ae lv" href="http://twitter.com/State" rel="noopener ugc nofollow" target="_blank">@State</a>'),<br/>                                  ('Zone','<a class="ae lv" href="http://twitter.com/Zone" rel="noopener ugc nofollow" target="_blank">@Zone</a>'),<br/>                                  ('Confirmed cases','<a class="ae lv" href="http://twitter.com/Confirmed" rel="noopener ugc nofollow" target="_blank">@Confirmed</a>'),<br/>                                  ('Active cases','<a class="ae lv" href="http://twitter.com/Active" rel="noopener ugc nofollow" target="_blank">@Active</a>'),<br/>                                  ('Recovered cases','<a class="ae lv" href="http://twitter.com/Recovered" rel="noopener ugc nofollow" target="_blank">@Recovered</a>'),<br/>                                  ('Deaths','<a class="ae lv" href="http://twitter.com/Deceased" rel="noopener ugc nofollow" target="_blank">@Deceased</a>')<br/>                                 ]))</span></pre><p id="86b4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.最后是HTML格式的情节。这是一个巨大的150兆字节。我需要看看我如何能减少尺寸。保存功能将它保存在当前目录中。</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="0de6" class="mw mx it ms b gy my mz l na nb">output_file('plot.html', mode='inline')<br/>save(p)<br/>show(p, notebook_handle = True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/09bf63e3766897e2006528b6f1128292.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ncaYM0pxvoHZd-Kz3go4WA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">显示印度所有地区的Choropleth地图，工具位于右侧</p></figure><p id="2d0b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">恭喜你。！我们已经成功地创建了我们的Choropleth地图。人们可以在任何浏览器中简单地打开plot.html文件来查看其内容。或者只执行下面的命令，在新的选项卡中查看图形。</p><p id="9911" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我制作了一个展示互动地图的小视频。</p><p id="1606" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">https://www.youtube.com/watch?v=JuF4cNeWKzc<a class="ae lv" href="https://www.youtube.com/watch?v=JuF4cNeWKzc" rel="noopener ugc nofollow" target="_blank"/></p><p id="c466" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Choropleth地图工作</p><p id="a604" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里可以直接看到代码<a class="ae lv" href="https://github.com/yatharthaggarwal/CovidIndia/blob/master/Choropleth%20Map%20of%20ROG%20Districts%20in%20India%20.ipynb" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="0eeb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你对我们如何进一步增强情节或代码有任何意见或建议，我很乐意听到！</p><p id="8d37" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">跟我连线:<a class="ae lv" href="http://noobdatascientist@gmail.com" rel="noopener ugc nofollow" target="_blank">noobdatascientist@gmail.com</a></p><p id="2529" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！</p><p id="20dc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lu">第一张图片(也充当缩略图)是使用Freepik的:</em> <a class="ae lv" href="https://www.freepik.com/free-vector/india-state-map-outline_558652.htm#page=1&amp;query=india%20map&amp;position=31" rel="noopener ugc nofollow" target="_blank"> <em class="lu">印度地图</em> </a> <em class="lu">，</em> <a class="ae lv" href="https://www.freepik.com/free-photo/coronavirus-infection-with-copy-space_7248142.htm#page=1&amp;query=corona&amp;position=25" rel="noopener ugc nofollow" target="_blank"> <em class="lu">日冕感染</em> </a></p></div></div>    
</body>
</html>