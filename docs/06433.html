<html>
<head>
<title>Build, Evaluate, and Interpret Your Own Linear Regression Model in Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在几分钟内构建、评估和解释您自己的线性回归模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/build-evaluate-and-interpret-your-own-linear-regression-model-in-minutes-e6a3e8253501?source=collection_archive---------42-----------------------#2020-05-22">https://towardsdatascience.com/build-evaluate-and-interpret-your-own-linear-regression-model-in-minutes-e6a3e8253501?source=collection_archive---------42-----------------------#2020-05-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/c0c6ef01ba1f7705acad1da63e7d9b97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*6k16aqtlxBhKRUcdq7ay-g.jpeg"/></div><p class="jx jy gj gh gi jz ka bd b be z dk translated">图片来自<a class="ae kb" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1555348" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>的<a class="ae kb" href="https://pixabay.com/users/Fotoworkshop4You-2995268/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1555348" rel="noopener ugc nofollow" target="_blank">马丁·温克勒</a></p></figure><h1 id="8b60" class="kc kd it bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">线性回归简介</h1><p id="db72" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">回归是我们作为数据科学家利用的这么多统计分析和机器学习工具的核心。</p><p id="555e" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">简而言之，我们利用回归技术通过X的某些函数来模拟Y。导出X的函数通常严重依赖于线性回归，并且是用户解释或预测的基础。</p><p id="fad5" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">让我们深入研究一下，用一些数值解释变量，x，来模拟一些数值变量Y。</p><h1 id="3085" class="kc kd it bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">带有数字解释变量的回归</h1><p id="068b" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我从kaggle下载了一份房价数据。你可以在这里找到:【https://www.kaggle.com/shree1992/housedata/data】T4</p><p id="0e40" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">下面你会看到一个房子的居住面积和价格之间的散点图。</p><p id="8ff2" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">除了散点图之外，我还画了一条回归线。稍后会有更多的介绍。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="19e8" class="mm kd it mi b gy mn mo l mp mq">housing %&gt;%<br/>    ggplot(aes(x = sqft_living, y = price)) +<br/>    geom_point() +<br/>    geom_smooth(method = "lm", se = FALSE)</span></pre><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi mr"><img src="../Images/e2bb1305b9fd66bf134e7b222ab915d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fDbtZxVJmdoafY4k"/></div></div></figure><p id="aad0" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">上面你可以看到这两个数据点确实是相关的，但是你也会注意到趋势线正好穿过这些数据点的中间。</p><p id="0833" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">让我们谈谈回归是如何工作的，在这种情况下，普通最小二乘回归(OLS)是如何工作的。</p><p id="82e2" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">我们现在看到的是一条线，一条有y轴截距和斜率的线。说到斜坡，你也可以想到上升超过运行！</p><p id="f125" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">现在我想强调的是，有一个目标函数决定了这条线的位置。</p><p id="0ed0" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">线将被放置在离线和周围数据点的绝对距离最小的地方。换句话说，如果你把y轴截距提高一点，或者增加直线的斜率，那么实际值和预测值之间的绝对距离就会增加。因此，有理由将线放在组的正中间，那里误差最小。</p><h1 id="391b" class="kc kd it bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">相关性与因果性</h1><p id="53a9" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">现在，我们已经观察到了两个正相关的变量之间的关系。</p><p id="088f" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">说了这么多，我们能得出x导致y的结论吗？肯定不是！如果你从大学的统计数据中记住了这一点，给自己一个鼓励。显然，可能有许多其他因素在起作用。</p><p id="9b74" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">为了调用通用建模框架的概念，当我们构建一个线性模型时，我们正在创建一个线性函数或一条<em class="mw">线</em>。</p><p id="2690" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">这条线的目的是让我们解释或预测。</p><p id="6bc1" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">无论是哪种情况，建模一条线都需要一个y截距和一个斜率。</p><p id="9924" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">在另一篇文章中，我谈到一般的建模框架是Y作为X+ε或误差的函数。(这里可以找到通用建模框架<a class="ae kb" rel="noopener" target="_blank" href="/do-you-know-the-general-modeling-framework-c422f866a2dc">更详细的解释)。在直线方程的情况下，你可能会问自己ε在哪里……情况是，我们不在直线方程或线性函数中表示ε，因为模型的唯一目的是捕捉<em class="mw">信号</em>，而不是噪声。</a></p><h1 id="141b" class="kc kd it bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">解释您的回归模型输出</h1><p id="450b" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我们将首先运行r中的<code class="fe mx my mz mi b">lm</code>函数。该函数构建一个简单的线性模型，由您传递给它的公式决定。</p><p id="74d6" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">y ~ x，或者在这种情况下，价格是生活平方英尺的函数。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="5b9a" class="mm kd it mi b gy mn mo l mp mq">fit &lt;- lm(price ~ sqft_living, data = housing)</span></pre><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi na"><img src="../Images/3c7f31d6865bd82c9eb125e7335be4f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XxXwLx3LAlf_3BoT"/></div></div></figure><p id="c470" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">你可以在上面的输出中看到我们的调用，还有这个系数部分。</p><p id="6ed3" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">这一节突出了我们直线方程。y截距是12954，我们的解释变量的系数是252。解释该系数的方式是，<code class="fe mx my mz mi b">sqft_living</code>每增加1个单位，我们应该看到<code class="fe mx my mz mi b">price</code>增加252个单位。</p><p id="7405" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">我的房子大约3000平方英尺，所以根据这条线的等式，如果你把我在西雅图的房子拆了，我们预测它的价值是12，954美元+252美元*3000美元= 768，000美元…不用说，所有这些数据都是基于房地产市场的…我的房子远没有那么值钱。</p><p id="dfbc" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">有了这个例子，我们需要记住的一点是，我们可以依靠斜率或系数来量化x和y之间的关系。</p><h1 id="eb84" class="kc kd it bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">深入你的回归输出</h1><p id="b39f" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我们将更深入地探究你的线性模型的本质。我们将通过几种不同的方式来实现，但第一种方式是使用r中的经典<code class="fe mx my mz mi b">summary</code>函数</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="b24f" class="mm kd it mi b gy mn mo l mp mq">summary(fit)</span></pre><p id="f600" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">通过如此简单的调用，我们得到了下面的回归输出。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi mr"><img src="../Images/a598198fc21b730087193b57abdf717b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zUeQyUwSf5vh3MpE"/></div></div></figure><p id="ee32" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">我们从头开始吧！</p><p id="2ce8" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">首先，这个电话是有意义的。我们在残差中得到了一些统计数据，换句话说就是误差，但我们现在想深入研究一下。</p><p id="a700" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">接下来，我们看到的系数与之前看到的略有不同。</p><p id="7dca" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">我想向你们指出的几件事是R平方和p值的概念……这是最常被误用的两个统计学术语。</p><p id="8b82" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">r平方定义为可以用x的变化来解释的Y的变化量。</p><p id="698c" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">p值是统计显著性的传统度量。这里的关键要点是，p值告诉我们给定输出可能只是随机噪声的可能性。换句话说，给定事件随机发生的可能性为5%或更小，因此具有统计学意义。</p><p id="cc40" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">另一个类似的输出是将我们的模型传递给<code class="fe mx my mz mi b">moderndive</code>包中的<code class="fe mx my mz mi b">get_regression_table</code>。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="09e1" class="mm kd it mi b gy mn mo l mp mq">get_regression_table(fit)</span></pre><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi mr"><img src="../Images/128fabbe8b895112e69c2048c00e7f95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*O1tbJYxMtoR0I4NU"/></div></div></figure><p id="f56e" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated"><code class="fe mx my mz mi b">get_regression_table</code>作为模型的快速包装器，能够方便地显示关于我们模型的一些更重要的统计数据。</p><h1 id="bcb3" class="kc kd it bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">结论</h1><p id="b431" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">希望这被证明是对线性回归的有用介绍。如何构建以及如何解读它们。</p><h1 id="e7d0" class="kc kd it bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">概述</h1><p id="9b92" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">今天我们有一个速成班，内容如下:</p><ul class=""><li id="e710" class="nb nc it lc b ld ly lh lz ll nd lp ne lt nf lx ng nh ni nj bi translated">可视化Y和X之间的关系</li><li id="523b" class="nb nc it lc b ld nk lh nl ll nm lp nn lt no lx ng nh ni nj bi translated">向我们的Y &amp; X可视化添加回归线</li><li id="c977" class="nb nc it lc b ld nk lh nl ll nm lp nn lt no lx ng nh ni nj bi translated">构建线性回归模型</li><li id="8628" class="nb nc it lc b ld nk lh nl ll nm lp nn lt no lx ng nh ni nj bi translated">通过p值或Y中的变化量来理解其统计显著性，从而评估所述模型，我们可以通过x中的变化来解释。</li></ul><p id="daac" class="pw-post-body-paragraph la lb it lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx im bi translated">如果这是有用的来看看我在datasciencelessons.com的其余职位！一如既往，祝数据科学快乐！</p></div></div>    
</body>
</html>