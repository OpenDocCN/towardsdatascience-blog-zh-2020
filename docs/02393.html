<html>
<head>
<title>Comprehensive Guide on Item Based Collaborative Filtering</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于项目的协同过滤综合指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/comprehensive-guide-on-item-based-recommendation-systems-d67e40e2b75d?source=collection_archive---------1-----------------------#2020-03-07">https://towardsdatascience.com/comprehensive-guide-on-item-based-recommendation-systems-d67e40e2b75d?source=collection_archive---------1-----------------------#2020-03-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="159c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于基于项目的推荐系统如何工作以及如何在实际工作环境中实现它的详细指南。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2199a39adb008ed66d938dc9d3100739.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0j9-cRDqRjfN4EJCa-gT9Q.jpeg"/></div></div></figure><p id="4c06" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">推荐系统已经存在很长时间了。Youtube、脸书、亚马逊和许多其他网站向他们的用户提供某种推荐。这不仅有助于他们向用户展示相关产品，还能让他们在竞争对手面前脱颖而出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lq"><img src="../Images/b9573ad8807e6701fed93d09c4fc93e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2VtP-TIbW6LxKHpLzaU-QA.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">个性化体验对业务KPI的影响(来源<a class="ae lv" href="https://www.bluevenn.com/blog/personalized-marketing-works" rel="noopener ugc nofollow" target="_blank"> bluevenn </a></p></figure><p id="a645" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一种向用户推荐项目的技术是基于项目的推荐系统，也称为项目-项目协同过滤或IBCF。在本指南中，我们将介绍该算法的所有细节，其背后的实际数学将在R中实现，首先不使用任何库，这将有助于理解该算法如何适应数据集，然后使用recommenderlab(一个R包)实现该算法，以展示在真实环境中如何工作。</p><p id="74af" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lw">如果你也对评估推荐系统的性能感兴趣，看看</em> <a class="ae lv" rel="noopener" target="_blank" href="/an-exhaustive-list-of-methods-to-evaluate-recommender-systems-a70c05e121de"> <em class="lw">这篇文章解释了如何评估推荐系统的性能</em> </a> <em class="lw">。</em></p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="5337" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">项目—项目协同过滤</h1><p id="af9d" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">项目-项目协同过滤是一种基于用户已经喜欢或积极互动的项目寻找相似项目的推荐方法。它是亚马逊在1998年开发的，对亚马逊的成功起了很大的作用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/a15572a7af0cec6ae9e657fb91ff5397.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/format:webp/1*9IYmsEsJJz-j4taOySkBYQ.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">Sidharth在<a class="ae lv" href="https://spatnaik77.wordpress.com/2013/07/17/recommendation-engine/" rel="noopener ugc nofollow" target="_blank"> spatnaik77 </a>上拍摄的照片</p></figure><p id="8f2b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">IBCF的工作原理是，它根据用户以前消费过的商品来推荐商品。它查找用户已经消费过的商品，然后找到与消费过的商品相似的其他商品并相应地推荐。</p><p id="80c7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们用一个例子来理解这个。假设我们的用户Jhone想要购买一部电影DVD。我们的工作是根据他过去的喜好给他推荐一部电影。我们会先搜索Jhone看过或者喜欢过的电影，我们姑且把那些电影称为‘A’、‘B’、‘C’。接下来，我们将搜索与三部电影相似的其他电影。假设我们发现电影“D”与“C”高度相似，因此，约翰很有可能也会喜欢电影“D ”,因为它与约翰已经喜欢过的电影相似。因此，我们将向约翰推荐电影《D》。</p><p id="7e89" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因此，IBCF的核心就是寻找与用户已经喜欢的商品相似的商品。但是如何找到相似的物品呢？如果有多个相似的项目，那么应该先推荐哪个项目呢？为了理解这一点，让我们首先理解过程背后的直觉，这将帮助我们理解IBCF推荐过滤背后的数学原理。</p><p id="dbe2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lw">如果你想更深入地了解基于项目的过滤，我建议从</em> <a class="ae lv" href="https://bit.ly/35YPdOj" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> <em class="lw">这个课程开始</em> </strong> </a> <em class="lw">。导师不仅解释了算法的所有细节，还用真实世界的例子解释了它的应用，这对任何想在推荐系统领域进步的人都是有价值的。</em></p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h2 id="3fa6" class="nc mf it bd mg nd ne dn mk nf ng dp mo ld nh ni mq lh nj nk ms ll nl nm mu nn bi translated">查找项目之间的相似性</h2><p id="ae2b" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">假设我们有一个用户和他们对电影的评分表(<a class="ae lv" href="https://docs.google.com/spreadsheets/d/1ylQyvq7slR0Vjj9hX4VkpFAnidaPRhnv/edit#gid=1064688900" rel="noopener ugc nofollow" target="_blank">链接</a>):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/fee61ee5232dcdb210367333e16433e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m-eKRRg6qBoHTPILPM-i4w.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">评级数据集(由Muffaddal提供)</p></figure><p id="db0f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们挑选两部电影(Id 1:玩具总动员和Id 2:星球大战),我们必须计算它们的相似度，即这两部电影在用户相似度方面有多少可比性。为了计算这一点，我们将:</p><p id="ab03" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先将两部电影的多个评分互相比较，然后将结果相加。让我们称这个值为'<strong class="kw iu"> A' </strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/a1a5ccda92d37d8968e56fa889a73eff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*jcyWYRKPw5w2deADllfokQ.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">两个用户评级的乘积(由Muffaddal)</p></figure><p id="a2f7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">其次，我们将对电影评分的平方求和，然后求它们的平方根。因此，平方所有电影1的评级，将它们相加，然后取平方根得到最终值(对电影2做同样的操作)。这样做将得到两个值，即电影1和电影2的平方根值。将两个值相乘。我们称这个最终值为'<strong class="kw iu"> B' </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/c57240909ad5eaeefc1662b71cd08dca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fg0uqa765DF1z7LDU1hOPg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">等级平方和的平方根(由Muffaddal)</p></figure><p id="4caa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第三，将A和B分开，这将得到一个分数，表明电影1和电影2彼此有多接近(<a class="ae lv" href="https://docs.google.com/spreadsheets/d/1ylQyvq7slR0Vjj9hX4VkpFAnidaPRhnv/edit#gid=602195593" rel="noopener ugc nofollow" target="_blank">链接</a>)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/414d60832a081743cb5701c755eda135.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HrozfqvBI-NU_AiaNyE6xQ.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">电影1和2的相似之处(穆法达尔)</p></figure><p id="e518" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对所有电影重复上述过程将产生一个表格，其中包含每部电影之间的相似之处(通常我们称之为项目)。</p><p id="70f4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是如何用数学形式描述上述过程的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/66c05f0f9aa9c37982aecf6a5b6be43f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V8ZXwnclxmxfS8xL0Re6Tw.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">相似性方程(Muffaddal)</p></figure><p id="53ff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">不要被这个公式看起来有多疯狂所压倒。这真的很简单，也正是我们在上面的excel练习中所做的。让我们一点一点的分解，来理解这些怪异的符号是什么意思。</p><p id="10c7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在字母上加一些标签将有助于理解等式的每一部分。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/c7ad0ca325a2dcecc8cceec2127b4733.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V17uLo2kldSpMIxDh4QYzw.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">余弦相似方程(Muffaddal)</p></figure><p id="f90b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从标签1(左边的蓝色)开始，上面说明了为了计算项目“I”和项目“j”之间的相似性(将“I”和“j”视为电影id 1和2)，将用户“u”给出的项目“I”和“j”的所有评级相乘并求和。将结果除以用户“u”给出的各个项目的评分平方和的平方根乘积。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/0155327dafd7150d7e347c2da473d6d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oZQvYw-K5sGtRR5848XQnw.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">余弦相似方程(Muffaddal)</p></figure><p id="ce5c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这正是我们在上面的excel练习中所做的。对以上所有项目进行迭代将产生一个值列表，该列表将指示其他项目与我们的主项目“I”的接近程度。这种方法也被称为余弦相似度。它有助于计算两个向量之间的距离。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="49b6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">余弦相似性是可行的，但是它没有考虑用户的乐观行为。不同的用户可以根据他们的乐观程度对相同的项目做出不同的评价。在5的尺度上，一个人可以给一个项目评分5，而另一个人可以给3，即使他们都非常喜欢这个项目。为了说明这一点，我们必须对我们的相似性公式做一个小小的改变。它看起来是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/a3e70409474c8de0ff627601a8e3acb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FbcRzvIBAHP1IrwGsfiJWg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">调整后的余弦相似性方程(Muffaddal)</p></figure><p id="fd78" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">用用户的平均评分减去给定项目的用户评分，将评分标准化到相同的等级，并有助于克服乐观主义问题。我们称之为调整余弦相似度。</p><p id="3424" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">还有一种类似的方法，不是减去用户的平均评分，而是减去项目的平均评分。这有助于了解给定用户评分与平均项目评分的偏差。这种技术被称为皮尔逊相似度。余弦和皮尔逊都是广泛使用的计算相似性的方法。</p><p id="2e7b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">将调整后的余弦相似性方程应用于项目评级将生成一个表格或矩阵，显示一个项目与另一个项目的相似程度。它应该是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/5ca50f9de70e956a0a33593890b55827.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wYxYAvedyOBjDMEh"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">调整后的相似性矩阵(由Muffaddal)</p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h2 id="ab8d" class="nc mf it bd mg nd ne dn mk nf ng dp mo ld nh ni mq lh nj nk ms ll nl nm mu nn bi translated">计算推荐得分</h2><p id="529e" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">一张相似物品的桌子已经完成了一半的工作。我们知道哪些项目是可比较的，但我们还没有解决从相似项目列表中向用户推荐哪些项目的问题。为此，必须将我们的相似度矩阵与用户过去的评分项目历史结合起来，以生成一个推荐。这很容易通过应用IBCF方程来实现。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/02c08af5ac56d5ed1bbb96322c827049.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KgjK4weByito-VShQKnSmA.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">基于项目的推荐系统方程(Muffaddal)</p></figure><blockquote class="ny nz oa"><p id="0cff" class="ku kv lw kw b kx ky ju kz la lb jx lc ob le lf lg oc li lj lk od lm ln lo lp im bi translated">u =我们正在为其生成推荐的用户<br/> i =考虑中的项目，即该项目是否应该被推荐<br/> score(u，i) =生成一个分数，该分数将指示项目‘I’对我们的用户‘u’的推荐有多强。<br/> j =与主要项目I相似的项目</p></blockquote><p id="070a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">上面的等式得出，为了计算用户“u”的项目“I”的推荐分数，将项目“I”和“j”的相似性与用户“u”对项目“j”给出的评级和项目“j”的平均评级之差的乘积求和。将结果除以项目“I”和“j”的相似度之和，将输出与用户“u”的平均评分相加。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/a646ef85ebbe058939d68bc79530ce75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zMKWM0qTWK3wtepol7fIiQ.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">基于项目的推荐系统方程(Muffaddal)</p></figure><p id="83cf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这样做将为用户和可用项目生成一个得分矩阵。可以向用户推荐得分最高的项目。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/c8e106a6dbd0382dcc03487ef12159b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W32U2jHb0JIuFfbPvjjP4A.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">用户方程的推荐分数矩阵(Muffaddal)</p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="be90" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">使用R实现IBCF</h1><p id="d597" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">让我们看看上面使用R ( <a class="ae lv" href="https://github.com/muffaddal52/Item-Based-Collaborative-Recommendation-System/blob/master/Item-Item%20Collaborative%20Filters.R" rel="noopener ugc nofollow" target="_blank">代码链接</a>)的操作。这将使我们进一步了解IBCF。</p><p id="e48d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意:我们将使用循环和数据帧来实现IBCF，因为我们知道R在循环中相当慢，而矩阵的行/列乘法比数据帧快。原因是这个练习的主要目的是帮助理解IBCF是如何使用编程实现的，我们对编写健壮的代码不感兴趣。将在本文的第三部分展示一种更快的替代方法。</p><p id="2990" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">说到这里，让我们开始加载所需的库和<a class="ae lv" href="https://docs.google.com/spreadsheets/d/1ylQyvq7slR0Vjj9hX4VkpFAnidaPRhnv/edit#gid=1064688900" rel="noopener ugc nofollow" target="_blank">电影分级数据集</a>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/2d1eec778557fefd175876603cf03889.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MUNR7aszkEeXXcCo1YEe-w.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">R中的评级数据集(由Muffaddal)</p></figure><p id="2093" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了根据电影评分计算IBCF，首先，我们将通过用用户的平均评分减去项目评分来计算标准化评分。这将使评级标准化到相同的等级。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/1d457b765c5c775ba595fbee6fa74625.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bFnOqqDXKsUzVcq12q2ncg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">R中的归一化评级矩阵(由Muffaddal)</p></figure><p id="1f0d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，我们将通过将实际评分和标准化评分传递给我们的“calCosine”函数来计算每个项目的相似度。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/13552c85da613298f5f0673d65d96ee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*odp7sWdJGyqkZ5hodV2FPg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">R中调整的相似矩阵(由Muffaddal)</p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="4379" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在是时候通过迭代每个用户和项目来计算每个用户的推荐分数了。在每次迭代中，首先，我们将计算用户的平均评分，这将用于计算分数，其次，我们检查项目是否由用户评级，如果评级，那么我们存储-1，因为我们只对推荐用户没有评级或不喜欢的项目感兴趣。</p><p id="63f9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果该项目没有评级，然后我们抓住前10个项目类似于我们的给定项目使用相似性矩阵，我们计算以上。然后，我们获取用户对这些相似项目的评分。我们还将计算类似项目的平均评级，以便将其与项目的评级相减。</p><p id="dc48" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，我们将传递一个类似的项目列表，类似项目的用户评级历史列表，以及类似项目的平均评级到我们的' calScore '分数函数。结果将添加到用户的平均评分中。这样做将产生分数，该分数将指示向哪个用户推荐哪个项目。分数越高，用户购买该商品的可能性越大。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/5fa4a7a2a280f01218ad91e782490657.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TT_LtO0zVC6MhgxHZGi17w.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">R中的推荐分数(由Muffaddal提供)</p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="4ba5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">预测推荐分数有助于理解和建议项目，但我们可以通过用项目名称替换分数来进一步改善结果的显示方式。下面是怎么做的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/f3c18a26b4b08dbef684cb0d09b5a239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tQZ-rGCl0a03RdL-ddvR6w.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">R中的推荐项目(Muffaddal)</p></figure><p id="ae8d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">实现以上内容将增强我们对推荐系统如何工作的理解。但是上面的代码效率不高，而且相当慢。有许多R包，使用它们我们可以毫无困难地实现推荐过滤。一个这样的包是<a class="ae lv" href="https://cran.r-project.org/web/packages/recommenderlab/recommenderlab.pdf" rel="noopener ugc nofollow" target="_blank">推荐者实验室</a>。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="f5f1" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">利用推荐实验室实现IBCF</h1><p id="534e" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">现在，让我们使用推荐者实验室来实现IBCF。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="5ef0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">recommenderLab在“真实评级矩阵”数据集上工作，因此我们必须首先将我们的数据框架转换成它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="9c1b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，我们将数据集分为训练集和测试集。我们将使用训练集来为IBCF建立模型，并在测试集上评估其结果。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="4453" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">是时候使用recommenderLab实现项目-项目推荐系统了</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="af2a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就是这样。这一行代码计算了我们用自己的R代码实现的所有内容。</p><p id="60c6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当我们提供训练数据时，这是我们的模型所预测的</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/202d573ac493de507fb0142be75da9a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gf8SCSY3iGree1E0h-TL-g.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">使用recommenderLab推荐的项目(Muffaddal)</p></figure><h1 id="7067" class="me mf it bd mg mh oo mj mk ml op mn mo jz oq ka mq kc or kd ms kf os kg mu mv bi translated">结论</h1><p id="a364" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">项目-项目协同过滤是一种推荐系统，它基于使用用户给项目的评级计算的项目之间的相似性。它有助于解决基于用户的协作过滤器所遇到的问题，例如当系统有许多项目而评价的项目较少时。IBCF的计算强度也不如UBCF。实现IBCF有助于构建一个强大的推荐系统，可以用来向用户推荐商品。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h2 id="894f" class="nc mf it bd mg nd ne dn mk nf ng dp mo ld nh ni mq lh nj nk ms ll nl nm mu nn bi translated">相似读取</h2><div class="ot ou gp gr ov ow"><a rel="noopener follow" target="_blank" href="/an-exhaustive-list-of-methods-to-evaluate-recommender-systems-a70c05e121de"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd iu gy z fp pb fr fs pc fu fw is bi translated">评估推荐系统的详尽方法列表</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">本文解释了一些评估推荐系统性能的技术。</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">towardsdatascience.com</p></div></div><div class="pf l"><div class="pg l ph pi pj pf pk ks ow"/></div></div></a></div><div class="ot ou gp gr ov ow"><a rel="noopener follow" target="_blank" href="/rfm-analysis-using-bigquery-ml-bfaa51b83086"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd iu gy z fp pb fr fs pc fu fw is bi translated">使用BigQuery ML进行RFM分析</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">使用BigQuery ML中的RFM分析和Data Studio中的可视化进行用户细分。</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">towardsdatascience.com</p></div></div><div class="pf l"><div class="pl l ph pi pj pf pk ks ow"/></div></div></a></div><h2 id="c1b6" class="nc mf it bd mg nd ne dn mk nf ng dp mo ld nh ni mq lh nj nk ms ll nl nm mu nn bi translated">参考</h2><p id="b119" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">[1]评级数据:</p><div class="ot ou gp gr ov ow"><a href="https://docs.google.com/spreadsheets/d/1ylQyvq7slR0Vjj9hX4VkpFAnidaPRhnv/edit#gid=602195593" rel="noopener  ugc nofollow" target="_blank"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd iu gy z fp pb fr fs pc fu fw is bi translated">IBCF -电影评分. xlsx</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">收视率用户，1:玩具总动员(1995)，2:星球大战:第六集-绝地归来(1983)，356:阿甘正传(1994)，318…</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">docs.google.com</p></div></div><div class="pf l"><div class="pm l ph pi pj pf pk ks ow"/></div></div></a></div><p id="83c3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">[2]代码链接:</p><div class="ot ou gp gr ov ow"><a href="https://github.com/muffaddal52/Item-Based-Collaborative-Recommendation-System/blob/master/Item-Item%20Collaborative%20Filters.R" rel="noopener  ugc nofollow" target="_blank"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd iu gy z fp pb fr fs pc fu fw is bi translated">muffaddal 52/基于项目的协同推荐系统</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">R. Contribute中基于项目的协作系统代码muffaddal 52/基于项目的协作推荐系统…</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">github.com</p></div></div><div class="pf l"><div class="pn l ph pi pj pf pk ks ow"/></div></div></a></div></div></div>    
</body>
</html>