<html>
<head>
<title>Exploratory Data Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索性数据分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/be-friends-with-your-data-f03f2ecc8dc3?source=collection_archive---------25-----------------------#2020-01-26">https://towardsdatascience.com/be-friends-with-your-data-f03f2ecc8dc3?source=collection_archive---------25-----------------------#2020-01-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="12e2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">与您的数据成为朋友</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/57211b49b903e5dd1cbbb64ee7e0be8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kqKpvAkbHl-Efq84dzKk6w.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@miinyuii?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">杜凡</a>在<a class="ae kv" href="https://unsplash.com/s/photos/friends?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="189e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我们将使用<a class="ae kv" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> Pandas 库</a>浏览许多不同的<strong class="ky ir"> <em class="ls"> `Python` </em> </strong> <strong class="ky ir">函数、方法和属性</strong>，它们在上传数据后对于<strong class="ky ir">探索性数据分析(EDA) </strong>非常重要。然而，本文的目的是通过运行最少的命令来获取最多的信息。读完这篇文章后，你可以花更少的时间了解数据集，花更多的时间探索和建模。</p><h2 id="12c0" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated"><strong class="ak"> <em class="mm">数据集</em> </strong></h2><p id="3691" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">分享一下我对概念的理解，我举一个<a class="ae kv" href="https://www.kaggle.com/camnugent/california-housing-prices#housing.csv" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">加州房价数据集</strong> </a>的例子。</p><p id="0225" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大多数情况下，我们通过运行以下方法(以黑色书写)来启动 EDA，但是，如果我们仔细观察，我们可以只运行两个方法(以蓝色书写),并在运行所有这些方法后获得所有信息。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/b7b6c5d2778bcbc99b5c6fe273fddb91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*20QUBNbAAqbKwirb5veyEQ.jpeg"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mt"><img src="../Images/11494b20c8c195f1496d3acc145e587f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fVPxQOc2Bz93CaB_48oIYw.png"/></div></div></figure><h1 id="864d" class="mu lu iq bd lv mv mw mx ly my mz na mb jw nb jx me jz nc ka mh kc nd kd mk ne bi translated"><strong class="ak"> df.info() </strong></h1><p id="9980" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">这个函数返回关于数据帧的信息，包括每一列的数据类型和整个数据的内存使用情况。</p><p id="8876" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是输出—</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/9e5779b27e347e7ca21e5e2bf2cc6da3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bY76etmqE2161sP6rkSeLw.png"/></div></div></figure><p id="0361" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="ls">我们可以从 df.info()中收集到什么信息:</em> </strong></p><p id="d90c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">(I)它将打印出对象的数据类型，这是一个熊猫数据帧。<class/></p><p id="fb1c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">(ii)数据帧中的条目或行数，以及行索引值的范围。<br/> <strong class="ky ir"> <em class="ls">记住— </em> </strong>这里第一个索引是 0，最后一个索引是(n-1) <br/> <em class="ls"> RangeIndex: 20640 个条目，0 到 20639 </em></p><p id="3e1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">(iii)关于每个数据列的信息，包括列名、条目数、它们是否具有非空值以及数据类型。</p><p id="0a7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">(iv)数据帧中每个数据类型的列数。<br/> <em class="ls"> dtypes: float64(9)，object(1) </em></p><p id="6eb8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">(v)最后，它显示了数据帧的内存使用情况。<br/> <em class="ls">内存使用:1.6+ MB </em></p><blockquote class="ng nh ni"><p id="c2d0" class="kw kx ls ky b kz la jr lb lc ld ju le nj lg lh li nk lk ll lm nl lo lp lq lr ij bi translated"><strong class="ky ir"> 4 合 1 </strong>:除了上面提到的信息之外<strong class="ky ir"> df.info() </strong>提供了我们运行这四个——<strong class="ky ir">len(df)、df.shape、df.isnull、df.dtypes()后可以得到的所有信息。</strong></p></blockquote><h1 id="450d" class="mu lu iq bd lv mv mw mx ly my mz na mb jw nb jx me jz nc ka mh kc nd kd mk ne bi translated"><strong class="ak"> df.describe() </strong></h1><p id="e684" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">该方法提供了数据框的汇总统计数据，如平均值、标准差和分位数值，这对于了解每列的数据分布非常重要。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/d49df71986612b6604da1989a95ca01f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J_Q1hd7-4DOmoDZhdmtClg.png"/></div></div></figure><p id="2730" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Pandas 提供了一个选项，我们可以使用<strong class="ky ir">转置</strong>功能转置上表。</p><p id="fc9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="ls"> df.describe()。T </em> </strong>或<strong class="ky ir"> <em class="ls"> df.describe()。</em>转置()</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/f24d60ddd8512e5b975683c87cf6c4d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DLuDWzIl_5P4tNgI3v820A.png"/></div></div></figure><p id="52d3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，还有某些汇总列，如“唯一值的计数”，可以通过传递选项<strong class="ky ir"><em class="ls">include = ' all '</em></strong>来打印，描述方法如下。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/64ad88c7549da70a35f81adde6f95ec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pWXA4NkDUfmtQB3Tu0Gb_g.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/06dd2b6124f0804a1afab7f9c006f9f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OpahXYG_n5PmJr-o1CCpsg.png"/></div></div></figure><p id="d0a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们知道如何使用<strong class="ky ir"> describe() </strong>方法得到数值变量的简要统计汇总。但是，如果我们有分类数据呢？在这种情况下，<strong class="ky ir"> value_counts() </strong>方法会很有帮助。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/ea5eb48347e41ae1688f90996ed0bdd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*GAgcC69iH-IcxNbqG8Z4Pg.png"/></div></figure><p id="c446" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="ls">记住— </em> </strong> df.describe()只会给出数值变量的汇总[或者如果我们将<strong class="ky ir"> <em class="ls"> exclude='O' </em> </strong>作为参数传递，即 df.describe(exclude='O')]。而且，如果我们只对分类列感兴趣，可以通过<strong class="ky ir"> <em class="ls"> include='O' </em> </strong>。</p><p id="5e4b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">统计数据让我们了解了包含缺失值的属性、特定属性的平均值和最大值，这在我们预处理和构建模型时非常有用。</p><blockquote class="ng nh ni"><p id="c5ae" class="kw kx ls ky b kz la jr lb lc ld ju le nj lg lh li nk lk ll lm nl lo lp lq lr ij bi translated"><strong class="ky ir"> 4 合 1 </strong>:除了上面提到的信息<strong class="ky ir"> df.describe() </strong>提供了我们运行这四个- <strong class="ky ir"> len(df)、df.shape、df.isnull、df.dtypes()后可以得到的所有信息。</strong></p></blockquote><p id="0491" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">__________________________________________________________________</p><p id="f8b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">这并不意味着这里讨论的这些方法/函数/属性</em><strong class="ky ir"><em class="ls"/></strong><em class="ls">(</em><strong class="ky ir"><em class="ls">len(df)，df.shape，df.isnull，df.dtypes()] </em> </strong> <em class="ls">没有用。人们应该记住，它们有自己的重要性，尤其是当你有兴趣了解你的变量的细节时。例如，如果您有 30 列，并且您想知道比如“abc”列的数据类型，您可以运行 info，但是运行 df[“ABC”]将是明智的。dtpyes()只知道特定变量的数据类型。</em></p><p id="54f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">___________________________________________________________________</p><p id="f148" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面，我介绍了上面讨论的函数/属性的使用。</p><h2 id="43c0" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated"><strong class="ak">T61】df . shapeT63】</strong></h2><p id="97b2" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">该属性给出了 dataframe 的维度(<strong class="ky ir"> <em class="ls"> df.shape </em> </strong>)给出了一个元组(<em class="ls"> n_rows，n_columns </em>)。Shape 还覆盖了数据帧的长度，这意味着运行<strong class="ky ir"> <em class="ls"> df.shape </em> </strong>还会给出在 EDA 期间可以从<strong class="ky ir"> <em class="ls"> len(df) </em> </strong>中得到的信息。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/e1c182b62e8606813c965413062a1afe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d0K00o3d89HODLp0aRxWTQ.png"/></div></div></figure><h2 id="422d" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated"><strong class="ak"> <em class="mm"> len(df) </em> </strong></h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/6591b135c36c5be0e16fd05b391068c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FBzGY1OwtO9DP3xwVhdKNA.png"/></div></div></figure><p id="a95a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> df.shape[0] </strong>或<strong class="ky ir"> len(df.index) </strong>也给出了总行数。要知道数据框中的列数，我们可以使用<strong class="ky ir"> len(df.columns)或 df.shape[1]。</strong></p><h2 id="3160" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated"><strong class="ak"> <em class="mm"> df.dtypes </em> </strong></h2><p id="86d5" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">所有数据类型都在一个数据帧中，可以使用<strong class="ky ir"> df <em class="ls"> .dtypes. </em> </strong>打印</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/5ad252e631d45ae60e6dc050a5886015.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V5cbwf1BOiVqbd7jJBD-Qg.png"/></div></div></figure><p id="9884" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">EDA 期间其他常用的方法有<em class="ls"/><strong class="ky ir"><em class="ls">df . head()</em></strong>或<strong class="ky ir"> <em class="ls"> df.tail() </em> </strong>分别返回前 5 行和后 5 行数据。pandas 中的默认数字是五(5)，但是可以根据需要更改，只需在括号中输入数字即可。例如，df.head(3)将给出数据集的顶部三行，df.tail(10)将给出底部 10 行。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/e36bd79ecd736af4c585920c3f49e5fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LXDCw9Ltw-YzZyESA_bAQA.png"/></div></div></figure><p id="d26a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望，读完这篇文章后，人们能够花<strong class="ky ir">更少的时间</strong>去了解数据集，花<strong class="ky ir">更多的时间</strong>去探索和建模。</p><p id="baae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">享受 EDA，感谢阅读😄。</em></p></div></div>    
</body>
</html>