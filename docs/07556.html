<html>
<head>
<title>A Practical Guide for Exploratory Data Analysis: Flight Delays</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索性数据分析的实用指南:航班延误</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-practical-guide-for-exploratory-data-analysis-flight-delays-f8a713ef7121?source=collection_archive---------25-----------------------#2020-06-07">https://towardsdatascience.com/a-practical-guide-for-exploratory-data-analysis-flight-delays-f8a713ef7121?source=collection_archive---------25-----------------------#2020-06-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4ff5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">对航班延误的详细分析。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2e40c8402acfb70bdcaa2309be7afa99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fDcqgYPuFnRnPZs3FLDDuQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">尼尔斯·内德尔在<a class="ae ky" href="https://unsplash.com/s/photos/flight?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="96ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们生活在大数据时代。我们收集了大量数据，这些数据可以推断出有意义的结果，并做出明智的商业决策。然而，原始数据并不能提供太多信息，除非对其进行处理和探索。为了充分利用原始数据，我们需要一个彻底的探索性数据分析过程。即使我们建立了复杂的、结构良好的机器学习模型，我们也不能只是将原始数据转储给它们。模型和我们提供给它们的数据一样好。随着数据量的增加，分析和探索数据变得更加困难。这里有数据分析和可视化工具的力量。</p><p id="038b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将探索一个关于航班延误的数据集，这个数据集可以在 Kaggle 上<a class="ae ky" href="https://www.kaggle.com/divyansh22/flight-delay-prediction" rel="noopener ugc nofollow" target="_blank">这里</a>找到。有两个数据集，一个包括 2019 年 1 月的航班细节，另一个包括 2020 年 1 月的航班细节。在本帖中，我们将使用 2019 年 1 月的那个。我们从将数据集导入熊猫数据框架开始。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="80c8" class="ma mb it lw b gy mc md l me mf">import numpy as np<br/>import pandas as pd</span><span id="9958" class="ma mb it lw b gy mg md l me mf">df = pd.read_csv("/content/Jan_2019_ontime.csv")</span><span id="6bfe" class="ma mb it lw b gy mg md l me mf">print(df.shape)</span><span id="976f" class="ma mb it lw b gy mg md l me mf">df.columns</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/90a5ed1b1dde79550b05428364796ea7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*dphFbyDPZsxpbcpNdmkT5Q.png"/></div></figure><p id="de7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该数据集包含超过 50 万个航班(行)的信息和每个航班的 22 个特征(列)。有些列似乎是多余的或者是重复出现的，所以我们将在分析中包括一些列。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9c6a" class="ma mb it lw b gy mc md l me mf">df = df[['DAY_OF_MONTH', 'DAY_OF_WEEK', 'OP_CARRIER_AIRLINE_ID', 'ORIGIN', 'DEST','DEP_TIME', 'DEP_DEL15', 'ARR_TIME', 'ARR_DEL15', 'CANCELLED', 'DIVERTED', 'DISTANCE']]</span><span id="c76d" class="ma mb it lw b gy mg md l me mf">df.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/e429ce2b54fd847b0202f08c7492c6d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m215bNwSo6_XOIgfFNArHw.png"/></div></div></figure><p id="6381" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于每个航班，以下功能可用:</p><ul class=""><li id="27b1" class="mj mk it lb b lc ld lf lg li ml lm mm lq mn lu mo mp mq mr bi translated">一月中的某一天</li><li id="d282" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated">星期几</li><li id="e44a" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated">承运航空公司(</li><li id="0772" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated">出发城市和出发时间(出发地，DEP 时间)</li><li id="06ed" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated">抵达城市和抵达时间(DEST，ARR_TIME)</li><li id="b259" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated">出发和到达时延迟(DEP_DEL15，ARR_DEL15)</li><li id="9689" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated">取消，转移</li><li id="29e4" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated">距离</li></ul></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="f5c0" class="ne mb it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated"><strong class="ak">缺失值</strong></h1><p id="2a9e" class="pw-post-body-paragraph kz la it lb b lc nv ju le lf nw jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">我们首先处理缺失值。首先，让我们检查每一列中缺失值的数量。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="bf08" class="ma mb it lw b gy mc md l me mf">df.isna().sum()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/0e7d45d8017c933a5a648048362a5a4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gKYazZTa6ThQgKNN9KWkMA.png"/></div></div></figure><p id="0df7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在 4 列中缺少值。缺失值的数量接近，因此它们可能在同一行中。为了确认，我们可以使用<strong class="lb iu"> missingno </strong>模块可视化缺失值。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="5acb" class="ma mb it lw b gy mc md l me mf">%matplotlib inline</span><span id="bf5e" class="ma mb it lw b gy mg md l me mf">import missingno as msno<br/>msno.matrix(df)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/f770d65db5a4ee352985c6273a6bc7ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*StAD85Y8dprnYC1FVPPh2g.png"/></div></div></figure><p id="b76d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">白线表示缺少值。这 4 列中的大多数缺失值都在同一行中。缺少值的行可能属于取消或改道的航班。在处理缺失值之前，让我们检查一下“取消”和“转移”列。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/1afa72f2938b5f558bdcee980421476a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*7pJ8wqe7H8T2wxrxMXavBQ.png"/></div></figure><p id="6ff1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">取消航班的数量与航班信息列中缺失值的数量大致相同。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/606d3a3318d7c9d68a29d86e193874ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fwLmfjWSKU8ZlIj6ydOX1A.png"/></div></div></figure><p id="547b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">改道的航班也会导致价值缺失。缺失的值是由于航班取消或改道造成的。因此，我们可以放弃它们。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f54b" class="ma mb it lw b gy mc md l me mf">df.dropna(axis=0, how='any', inplace=True)<br/>df.isna().sum().sum()<br/>0</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/331dec92e4f8bb82d52aa969ca5709d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*pMWZFG-H-b78PPqhLgmsgQ.png"/></div></figure><p id="fb1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">取消和转移列现在充满了零，所以我们也可以删除它们。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f0ac" class="ma mb it lw b gy mc md l me mf">df.drop(['CANCELLED','DIVERTED'], axis=1, inplace=True)</span></pre></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="00e1" class="ne mb it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated"><strong class="ak">延期概述</strong></h1><p id="60ee" class="pw-post-body-paragraph kz la it lb b lc nv ju le lf nw jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">表示延迟的列是二进制的，因此航班要么延迟(1)，要么不延迟(0)。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d86a" class="ma mb it lw b gy mc md l me mf">df['ARR_DEL15'].value_counts()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/3c450c4f3fb9930d1d270ac95e15b51a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*ATP-YPjQkEFIoK_VYPn11A.png"/></div></figure><p id="0bf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">抵达时的延误不仅仅是离开时的延误，这是有道理的，因为离开时的延误很可能导致抵达时的延误。我们可以使用 pandas 的分组功能来比较出发和到达的延误。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="df52" class="ma mb it lw b gy mc md l me mf">df[['ARR_DEL15','DEP_DEL15','DEST']].groupby(['DEP_DEL15',<br/>'ARR_DEL15']).count()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/f4c17ea622160378e0d1b392de67d161.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M_GN1xGYsz-bOVThUIJCKQ.png"/></div></div></figure><p id="8eaf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不出所料，如果出发时间延迟，到达时间更有可能延迟。请注意，我们可以使用任何列作为上述语句中的第三列(我选择了“DEST”)。该列的目的只是为了查看计数。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="eb72" class="ne mb it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated"><strong class="ak">出发地和目的地</strong></h1><p id="eaaa" class="pw-post-body-paragraph kz la it lb b lc nv ju le lf nw jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">始发地列包含出发地点，DEST 列包含目的地地点。让我们看看数据集中有多少个起点和终点。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="3bbc" class="ma mb it lw b gy mc md l me mf">print("There are {} unique origin city".format(df['ORIGIN'].nunique()))</span><span id="d85c" class="ma mb it lw b gy mg md l me mf">print("There are {} unique destination city".format(df['DEST'].nunique()))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/9526051deceb9339614cf855d670d689.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*cVnSSP0J5dFKduXCj1nt1A.png"/></div></figure><p id="3592" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以根据延误率对始发地和目的地进行分类。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="4de2" class="ma mb it lw b gy mc md l me mf">df[['ORIGIN','DEP_DEL15']].groupby('ORIGIN').agg(['mean','count']).sort_values(by=('DEP_DEL15','mean'), ascending=False)[:10]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/efc75a8c11cc9d964f102b50287545a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hfsdN939SR0OrzQTQnd5Og.png"/></div></div></figure><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d414" class="ma mb it lw b gy mc md l me mf">df[['DEST','ARR_DEL15']].groupby('DEST').agg(['mean','count']).sort_values(by=('ARR_DEL15','mean'), ascending=False)[:10]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/c1fa5c986ad8a831d40d897ce87d8994.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wg8LSI1ncYEKRy-8igs5fg.png"/></div></div></figure><p id="514d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们根据出发延误率对出发地进行了分类，根据到达延误率对目的地进行了分类。延误率高的地点航班很少。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/9e3b5f256eb06e0634cb915f7e56e59e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*REBRbgbVoD55llt-vCigZw.png"/></div></div></figure><p id="07ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个地点的平均航班数为 1635 次。那些少于 100 次飞行的可能是异常值，不能给我们一个准确的估计。让我们对超过 500 个航班的始发地进行排序。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="8c5f" class="ma mb it lw b gy mc md l me mf">origin_delays = df[['ORIGIN','DEP_DEL15']].groupby('ORIGIN').agg(['mean','count'])</span><span id="0ade" class="ma mb it lw b gy mg md l me mf">origin_delays[origin_delays[('DEP_DEL15','count')] &gt; 500].sort_values(by=('DEP_DEL15','mean'), ascending=False)[:10]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi gj"><img src="../Images/35a48c14cd181da80af37b51efda0d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xB-mpHIa_ib_RVP1xpTb9w.png"/></div></div></figure><p id="200e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了迄今为止延迟率最高的“ASE”之外，整个列表都发生了变化。请注意，当我们使用多级索引过滤数据帧时，我们需要使用所有级别。例如，为了根据“计数”过滤上述数据帧，我们使用<code class="fe ol om on lw b">origin_delays[(‘DEP_DEL15’,’count’)], </code>而不是<code class="fe ol om on lw b">origin_delays[‘count’]</code>。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="398a" class="ne mb it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated"><strong class="ak">星期几和月份</strong></h1><p id="faa6" class="pw-post-body-paragraph kz la it lb b lc nv ju le lf nw jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">该数据集涵盖 2019 年 1 月。我们可以根据一周中的某一天和一月中的某一天来检查延迟率。因为我们不是基于位置检查延误，所以我们可以通过合计出发和到达时的延误来创建一个新列。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="11d0" class="ma mb it lw b gy mc md l me mf">df['DEL15'] = df['ARR_DEL15'] + df['DEP_DEL15']</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/0fffc9d5e7bd89bf9e73fd9272d8efac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t4MBchB3eUzXu_49fAAwUw.png"/></div></div></figure><p id="3d81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果出发和到达都有延误,“DEL15”列的值为 2。</p><p id="c32d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从平均延迟的角度来比较一下一周中的每一天。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="e466" class="ma mb it lw b gy mc md l me mf">df[['DAY_OF_WEEK','DEL15']].groupby('DAY_OF_WEEK').agg(['mean','count'])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi op"><img src="../Images/345dfd9f824501bb97864edaf19e24cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*10XiALvMCN8-WWrM0ZoQsA.png"/></div></figure><p id="3fef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大多数航班在周三和周四，这两天的平均延误率也比其他几天略高。这表明，随着航班频率的增加，延误也会增加。</p><p id="0e45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们也检查基于一个月中的某一天列的平均延迟。这次我们将使用 plotly 库的<strong class="lb iu"> plotly express </strong> API 创建一个信息可视化，但是我们首先需要计算每天的平均延迟。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f9d9" class="ma mb it lw b gy mc md l me mf">day_of_month = df[['DAY_OF_MONTH','DEL15']].groupby('DAY_OF_MONTH').agg(['mean','count'])</span><span id="134d" class="ma mb it lw b gy mg md l me mf">day_of_month.columns = ['mean','count']</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/5594b820a6f6392a909226533a56aff6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xpd0WeTFsVk9z9ty9owv5A.png"/></div></div></figure><p id="ac35" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以绘制它。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="02a4" class="ma mb it lw b gy mc md l me mf">import plotly.express as px</span><span id="8c2e" class="ma mb it lw b gy mg md l me mf">fig = px.bar(day_of_month, x=day_of_month.index, y='mean',   color='count', height=400, title="Delays in Jan 2019")</span><span id="9954" class="ma mb it lw b gy mg md l me mf">fig.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/e0f1c99c31bb18a111d3474f171746bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4LrTvsopI_8-k8QH7zv4PQ.png"/></div></div></figure><p id="17a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">条形的颜色根据右侧的计数刻度指示每天的航班数量。条形的高度显示了延迟比。就天数而言，没有很强的模式，但航班较多的日子往往有较高的延误率。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="57a0" class="ne mb it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated"><strong class="ak">承运航空公司</strong></h1><p id="1459" class="pw-post-body-paragraph kz la it lb b lc nv ju le lf nw jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">航空公司的运营问题也可能导致航班延误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/53da75724376507e5014369905a5c5e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*7HxFH9krR4RskcQULb21tg.png"/></div></figure><p id="52b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据集中有 17 种不同的载体。我们首先根据平均延迟对载波进行排序。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="647d" class="ma mb it lw b gy mc md l me mf">carrier = df[['OP_CARRIER_AIRLINE_ID','DEL15']].groupby('OP_CARRIER_AIRLINE_ID').agg(['mean','count']).sort_values(by=('DEL15','mean'), ascending=False).reset_index()</span><span id="77b5" class="ma mb it lw b gy mg md l me mf">carrier.columns = ['carrier_ID','mean','count']</span><span id="7e9f" class="ma mb it lw b gy mg md l me mf">carrier['carrier_ID'] = carrier['carrier_ID'].astype('object')</span><span id="67b8" class="ma mb it lw b gy mg md l me mf">carrier.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/1b26dea5f810d63fd7ce5d798f8cfbae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*b0GjJ8lxIQxcUd2QqNrWlQ.png"/></div></figure><p id="10e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们创建一个类似于我们几天前创建的柱状图。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="c8b8" class="ma mb it lw b gy mc md l me mf">fig = px.bar(carrier, x=carrier.index, y='mean', color='count', height=500, title="Delays of Different Airlines")</span><span id="9c13" class="ma mb it lw b gy mg md l me mf">fig.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/3b9d2a8e06a5721ebf8bbb03cc84c19d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p1omsNYVCbGgyFZmRcq76g.png"/></div></div></figure><p id="52a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">颜色越浅表示航班越多。我们看不到更多航班导致更多延误的趋势。例如，用第二、第三和第四条表示的航空公司在航班数量方面处于最低区域。然而，它们比大多数其他载波具有更高的延迟比。因此，就像航班数量一样，承运人也是延误的决定因素。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><p id="4b7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们分析了基于位置、日期和承运人的航班延误。我们的发现是:</p><ul class=""><li id="a85a" class="mj mk it lb b lc ld lf lg li ml lm mm lq mn lu mo mp mq mr bi translated">随着航班频率的增加，我们更有可能看到更多的延误。</li><li id="53ab" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated">一些航空公司有更高的延误率，尽管没有比其他航空公司更多的航班。</li><li id="9266" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated">虽然不是非常确定，但是位置也可能对延迟有影响。</li></ul><p id="cc1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该数据集还包括航班的时间和距离信息，这也可能对延误产生影响。可以用类似的方法分析这些柱。探索性数据分析没有限制。根据我们的任务或目标，我们可以从不同的角度处理数据，并深入挖掘。然而，过程中使用的工具通常是相似的。为了更好地掌握这个过程，大量练习是非常重要的。</p><p id="009d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>