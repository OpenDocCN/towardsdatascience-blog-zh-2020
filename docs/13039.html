<html>
<head>
<title>Draw A Radar/Spider Plot with R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 R 画一个雷达/蜘蛛图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/draw-a-radar-spider-plot-with-r-4af9693c3237?source=collection_archive---------50-----------------------#2020-09-07">https://towardsdatascience.com/draw-a-radar-spider-plot-with-r-4af9693c3237?source=collection_archive---------50-----------------------#2020-09-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="1cca" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">工具</h2><div class=""/><div class=""><h2 id="ff55" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">奥兰多泡沫中的 NBA 季后赛联盟老大是谁？</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/e296b813501c730469f5d52e00bc0fee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nFYJdbrITNJnMM5c"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">斯蒂芬·瓦伦丁在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="258f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi me translated">我在我的读者群中尝试了几种不同类型的 NBA 分析文章，他们是一群真正的篮球迷。我发现最受欢迎的文章是<strong class="lk jd">而不是</strong>那些具有最先进的机器学习技术的文章，而是那些带有直观而有意义的图表的文章。</p><p id="9788" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在我作为数据科学家的职业生涯的某个阶段，我意识到传递信息比展示花哨的模型更重要。也许这就是为什么线性回归仍然是金融界最流行的模型之一。</p><p id="7b68" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这篇文章中，我将谈论一个简单的话题。如何绘制蜘蛛图，或雷达图是比较分析中最重要的图形之一。我正在用 r 实现代码。</p><h2 id="211b" class="mo mp it bd mq mr ms dn mt mu mv dp mw lr mx my mz lv na nb nc lz nd ne nf iz bi translated">数据</h2><p id="4b77" class="pw-post-body-paragraph li lj it lk b ll ng kd ln lo nh kg lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">2019–2020 NBA 季后赛 NBA 球员场均基本统计和高级统计。(来自<a class="ae lh" href="https://www.basketball-reference.com/" rel="noopener ugc nofollow" target="_blank">篮球参考</a>)</p><h2 id="9232" class="mo mp it bd mq mr ms dn mt mu mv dp mw lr mx my mz lv na nb nc lz nd ne nf iz bi translated">密码</h2><p id="7727" class="pw-post-body-paragraph li lj it lk b ll ng kd ln lo nh kg lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">让我们首先在蜘蛛图中可视化詹姆斯·哈登的统计数据。我们只关注五个数据:得分，TRB，助攻，抢断和 BLK。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="8827" class="mo mp it nm b gy nq nr l ns nt">df = read.csv("playoff_stats.csv")<br/>maxxx = apply(df[,c("PTS.","TRB","AST","STL","BLK")],2,max)<br/>minnn = apply(df[,c("PTS.","TRB","AST","STL","BLK")],2,min)</span></pre><p id="e57a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这个块的代码中，数据被读取到数据帧“df”中。并且计算每列的最大值和最小值，因为这些值对于定义蜘蛛图中数据的边界是有用的。</p><p id="8c1c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">例如，我提取了詹姆斯·哈登和勒布朗的数据进行分析。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="2198" class="mo mp it nm b gy nq nr l ns nt">df_sel = df[c(3,10),c("PTS.","TRB","AST","STL","BLK")]<br/>rownames(df_sel) = c("Harden","Lebron")</span></pre><p id="3fbd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">要定义蜘蛛图的功能，我们需要加载<a class="ae lh" href="https://cran.r-project.org/web/packages/fmsb/fmsb.pdf" rel="noopener ugc nofollow" target="_blank"><strong class="lk jd"><em class="mn">fmsb</em></strong></a>包。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="9e47" class="mo mp it nm b gy nq nr l ns nt">comp_plot = function(data,maxxx,minnn){<br/>    library(fmsb)<br/>    data = rbind(maxxx, minnn, data)<br/>    colors_border=c( rgb(0.2,0.5,0.5,0.9), rgb(0.8,0.2,0.5,0.9) , rgb(0.7,0.5,0.1,0.9) )<br/>    colors_in=c( rgb(0.2,0.5,0.5,0.4), rgb(0.8,0.2,0.5,0.4) , rgb(0.7,0.5,0.1,0.4) )<br/>    radarchart( data, axistype=1 , pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1, cglcol="grey", cglty=1, axislabcol="grey", caxislabels=rep("",5), cglwd=0.8, vlcex=0.8)<br/>    legend(x=0.5, y=1.2, legend = rownames(data[-c(1,2),]), bty = "n", pch=20 , col=colors_in , text.col = "black", cex=1, pt.cex=3)<br/>}</span></pre><p id="9cac" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在函数中，“radarchart”将绘制蜘蛛图，下面将解释其中的一些参数。</p><p id="9875" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="mn"> pcol </em>和<em class="mn"> pfcol </em>分别定义线条颜色和填充颜色。<em class="mn"> plwd </em>和<em class="mn"> plty </em>分别给出了蜘蛛图的线宽和类型。网格线(或网)具有由<em class="mn"> cglcol </em>和<em class="mn"> cglty </em>定义的颜色和类型。我不想在蜘蛛图的中心放置任何标签，所以将<em class="mn"> caxislabels </em>赋予空字符串(rep("，5))。</p><p id="f3cc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们来看看哈登的统计怎么样。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="e643" class="mo mp it nm b gy nq nr l ns nt">comp_plot(df_sel[1,],maxxx,minnn)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/c0463c736bc79d7d25c4927380124507.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*8xpW5vSXAF41idt0YKRWgg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">詹姆斯·哈登季后赛数据的蜘蛛图</p></figure><p id="37fb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">从上面的剧情可以看出，哈登不仅是一个优秀的得分手(高分)，还是一个组织者(高助攻)。这些解释与我们所知的詹姆斯·哈登完全一致。</p><p id="64ca" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了比较詹姆斯·哈登和勒布朗的数据，让我们将两个球员的数据输入到函数中。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="87b5" class="mo mp it nm b gy nq nr l ns nt">comp_plot(df_sel,maxxx,minnn)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/66eaef3ab470f44fc97b4d37c2e2da41.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*gzhKwiBn1RSaiga-cHTNkg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">詹姆斯·哈登和勒布朗·詹姆斯的蜘蛛图比较</p></figure><p id="f736" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们可以看到，与哈登相比，勒布朗在数据上有更好的篮板和助攻数据，尽管他的得分不如哈登。</p><p id="6a69" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">很直接，对吧？</p><p id="9bef" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们在扬尼斯·阿德托昆博和科怀·伦纳德的高级统计数据中做一个类似的比较，包括进攻框加减(OBPM)，防守框加减(DBPM)，进攻获胜份额(OWS)，防守获胜份额(DWS)，和真实投篮命中率(TS)。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="ffb6" class="mo mp it nm b gy nq nr l ns nt">df = read.csv("playoff_stats_adv.csv")<br/>maxxx = apply(df[,c("OBPM","DBPM","OWS","DWS","TS.")],2,max)<br/>minnn = apply(df[,c("OBPM","DBPM","OWS","DWS","TS.")],2,min)<br/>df_sel = df[c(1,3),c("OBPM","DBPM","OWS","DWS","TS.")]<br/>rownames(df_sel) = c("Giannis","Kawhi")</span></pre><p id="ed0a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">先来看看詹尼斯的统计。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="981d" class="mo mp it nm b gy nq nr l ns nt">comp_plot(df_sel[1,],maxxx,minnn)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/2665003b8c20efcfe6f6fd335f3bac06.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*PJwljzX8aQ6n_EgPgea2QQ.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">扬尼斯·阿德托昆博季后赛先进数据的蜘蛛图</p></figure><p id="4b75" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们可以发现詹尼斯是一名全能球星，因为他几乎在各个方面都有不错的统计。难怪他赢得了 2019-2020 常规赛的第二个 MVP。</p><p id="67e8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">接下来，让我们比较一下詹尼斯和科怀·伦纳德的高级统计数据。</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="2357" class="mo mp it nm b gy nq nr l ns nt">comp_plot(df_sel,maxxx,minnn)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/b90a5355d857d6e0cfbc56fdbe14792e.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*makWp14Rz6Seip1ZNwgK6Q.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">扬尼斯·阿德托昆博与科怀·伦纳德的蜘蛛图比较</p></figure><p id="3c04" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们可以看到詹尼斯在高级统计的各个方面都超过了科怀。</p><p id="e4a6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你可以用这个简单的函数来比较任意数量的玩家，然而，我不建议使用蜘蛛图来比较超过<strong class="lk jd"> 3 </strong>个人。</p><p id="b3a9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你确实需要比较一大群对象，那么<em class="mn">热图</em>可能是可视化的更好选择。这里是我以前在 r 中最好的热图函数的一个帖子。</p><div class="nv nw gp gr nx ny"><a rel="noopener follow" target="_blank" href="/pheatmap-draws-pretty-heatmaps-483dab9a3cc"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd jd gy z fp od fr fs oe fu fw jc bi translated">Pheatmap 绘制了漂亮的热图</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">一个关于如何在 r 中用 pheatmap 生成漂亮的热图的教程。</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">towardsdatascience.com</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om lb ny"/></div></div></a></div><p id="936a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">作为一名数据科学家，我希望这篇短文能对您的工具箱有所帮助！</p><h2 id="80e0" class="mo mp it bd mq mr ms dn mt mu mv dp mw lr mx my mz lv na nb nc lz nd ne nf iz bi translated">参考资料:</h2><ol class=""><li id="cf81" class="on oo it lk b ll ng lo nh lr op lv oq lz or md os ot ou ov bi translated"><a class="ae lh" href="https://www.basketball-reference.com/" rel="noopener ugc nofollow" target="_blank">https://www.basketball-reference.com/</a></li><li id="fe64" class="on oo it lk b ll ow lo ox lr oy lv oz lz pa md os ot ou ov bi translated"><a class="ae lh" href="https://www.r-graph-gallery.com/spider-or-radar-chart.html" rel="noopener ugc nofollow" target="_blank">https://www.r-graph-gallery.com/spider-or-radar-chart.html</a></li></ol></div><div class="ab cl pb pc hx pd" role="separator"><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg"/></div><div class="im in io ip iq"><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pi"><img src="../Images/20bf225cf211830f49c391f29d2a2788.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*E1x8_dliP95QvHRg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@zanilic?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Zan </a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure></div></div>    
</body>
</html>