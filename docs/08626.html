<html>
<head>
<title>Machine Learning application in Petrophysics Industry: A Sonic Log Synthesis prediction story</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习在岩石物理行业的应用:声波测井综合预测故事</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/machine-learning-application-in-petrophysics-industry-a-sonic-log-synthesis-prediction-story-cf0ea54ffdad?source=collection_archive---------46-----------------------#2020-06-22">https://towardsdatascience.com/machine-learning-application-in-petrophysics-industry-a-sonic-log-synthesis-prediction-story-cf0ea54ffdad?source=collection_archive---------46-----------------------#2020-06-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/a25e6566bdfc933698a11505e69e3815.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QeqefPNbvF-M_Ut4"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">扎卡里·西奥多在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="3a09" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">岩石物理学是什么意思？</h1><p id="e6af" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi mc translated">岩石物理学是对岩石性质的研究，也是对液体相互作用的简要描述。它主要用于石油和天然气行业，以研究不同类型的油藏的动态。它还解释了地下孔隙的化学性质以及它们之间的联系。它有助于控制油气的运移和聚集，同时解释化学和物理性质，岩石物理学还解释许多其他相关术语，如岩性、含水饱和度、密度、渗透率和孔隙度。</p><h1 id="cbf3" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">岩石物理学家的职责是什么？</h1><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ml"><img src="../Images/a4014682af89e5a7ec7fcac45d68195a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PYP3-d9K4gygZ79n"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">上</a>的<a class="ae kf" href="https://unsplash.com/@headwayio?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">间隔</a>拍摄</p></figure><p id="1e39" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">岩石物理学强调与孔隙系统及其流体分布和流动特征相关的性质。这些属性及其关系用于识别和评估:</p><ul class=""><li id="fba7" class="mv mw it lg b lh mq ll mr lp mx lt my lx mz mb na nb nc nd bi translated">油气藏</li><li id="daca" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">碳氢化合物来源</li><li id="2015" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">密封</li><li id="8710" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">含水层</li></ul><p id="542a" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">岩石物理学家或岩石物理工程师作为油藏管理团队的一员实践岩石物理学。这位岩石物理学家提供了团队成员需要和使用的产品的答案，以及其他队友需要的物理和化学见解。要确定的储层和流体特性有:</p><ul class=""><li id="773e" class="mv mw it lg b lh mq ll mr lp mx lt my lx mz mb na nb nc nd bi translated">厚度(地层边界)</li><li id="012c" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">岩性(岩石类型)</li><li id="a70a" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">多孔性</li><li id="3a67" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">流体饱和度和压力</li><li id="e9c6" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">流体识别和表征</li><li id="81ea" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">渗透率(绝对)</li><li id="d471" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">分流(油、气、水)</li></ul><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nj"><img src="../Images/6a38f9a1c17d223f661ece47901e7713.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1mk0JrEXfVgMaX8pSBEzPw.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">来自<a class="ae kf" href="https://media.corporate-ir.net/media_files/IROL/97/97513/2016AR/interactive/pore-to-pipeline.html" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nk"> <em class="nl">斯伦贝谢</em> </strong>媒体公司</a></p></figure><p id="da0b" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">很容易定义这些特征并理解它们在储量评估中的作用。困难的部分在于确定它们的实际价值，这种确定性是作出导致开发和生产的经济决策所必需的。列出的七个特征是相互依赖的(即，为了正确确定电缆测井的孔隙度，必须知道岩性、流体饱和度和流体类型)。然后，岩石物理学被用来解读从地表以下到超过四英里深的储层中岩石和流体性质的隐藏世界。然后，这位岩石物理学家利用虚构侦探夏洛克·福尔摩斯的许多特征，从最贫乏的线索中推断出地下储油层的真实情况，用顽强的决心从现有数据中获取所有可能的信息，同时享受狩猎的刺激。</p><h1 id="c3b5" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">岩石物理学家是如何解决这个难题的？</h1><p id="12cc" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">阿奇的一般方法是将问题细分成更小的片段，使用所有数据迭代，直到所有数据一致。一个起点是确定岩石类型(岩相),其中我们确定:</p><ul class=""><li id="7018" class="mv mw it lg b lh mq ll mr lp mx lt my lx mz mb na nb nc nd bi translated">孔隙类型</li><li id="e770" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">气孔分布</li><li id="ed95" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">孔喉型</li><li id="2b31" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">孔喉分布</li></ul><p id="2013" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">当与流体类型相结合时，可以建立一个毛细管压力模型，这将导致对原位流体饱和度和流体流动的理解。然而，可供岩石物理学家使用的工具有:</p><ul class=""><li id="0759" class="mv mw it lg b lh mq ll mr lp mx lt my lx mz mb na nb nc nd bi translated"><a class="ae kf" href="https://petrowiki.org/Mud_logging" rel="noopener ugc nofollow" target="_blank">泥浆录井</a>(固体、液体、气体、体积、速率、浓度和温度)</li><li id="5bb4" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated"><a class="ae kf" href="https://petrowiki.org/Measurement_while_drilling_(MWD)" rel="noopener ugc nofollow" target="_blank">随钻测量(MWD) </a>和<a class="ae kf" href="https://petrowiki.org/Logging_while_drilling_(LWD)" rel="noopener ugc nofollow" target="_blank">随钻测井(LWD) </a></li><li id="bfc1" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated"><a class="ae kf" href="https://www.glossary.oilfield.slb.com/en/Terms/w/wireline_log.aspx" rel="noopener ugc nofollow" target="_blank">电缆测井</a>(裸眼井和套管井)</li><li id="4f14" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated"><a class="ae kf" href="https://en.wikipedia.org/wiki/Core_sample" rel="noopener ugc nofollow" target="_blank">岩心取样</a>和<a class="ae kf" href="https://wiki.aapg.org/Overview_of_routine_core_analysis" rel="noopener ugc nofollow" target="_blank">岩心分析</a></li><li id="8b10" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated"><a class="ae kf" href="https://petrowiki.org/Fluid_sampling" rel="noopener ugc nofollow" target="_blank">流体取样</a>(电缆和/或钻杆测试)</li></ul><h1 id="1549" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">案例研究:声波测井综合预测</h1><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nm"><img src="../Images/018169c982b882a36379b682677ff2a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xy_08XUxSyAmNRCX"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@thisisengineering?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">本工程</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="bda3" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">由于财政或操作的限制，并不是在一个油田中钻探的所有井都获得压缩旅行时(DTC)和剪切旅行时(DTS)测井。在这种情况下，可以使用机器学习技术来预测 DTC 和 DTS 测井，以改善地下表征。本岩石物理数据驱动分析项目的目标是通过处理 casr 研究“1 井”中“易于获取”的常规测井数据开发数据驱动模型，并使用数据驱动模型生成案例研究“2 井”中的合成 DTC 和 DTS 测井数据。用于期望的声波测井合成的稳健的数据驱动模型将导致低的预测误差，这可以通过比较合成的和原始的 DTC 和 DTS 测井，以均方根误差(RME)来量化。</p><p id="3247" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">提供了井数据集(由井 1 和井 2 组成),目标是使用井 1 数据集建立可概括的数据驱动模型。接下来，您将在 Well 2 数据集上部署新开发的数据驱动模型，以合成 DTS 和 DTC 日志。数据驱动模型使用从以下七种测井中导出的特征集:井径、中子、伽马射线、深层电阻率、介质电阻率、光电系数和密度。数据驱动模型应该合成两个目标日志:DTC 和 DTS 日志。</p><h2 id="f730" class="nn kh it bd ki no np dn km nq nr dp kq lp ns nt ku lt nu nv ky lx nw nx lc ny bi translated">数据源</h2><p id="0fe7" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">数据的位置是一个 Github 存储库，该存储库来源于由位于<a class="ae kf" href="https://www.spwla.org/SPWLA/Chapters_SIGs/SIGs/PDDA/PDDA.aspx" rel="noopener ugc nofollow" target="_blank"> Petrophysical 数据驱动分析</a>的 amazing 团队维护的 GitHub 存储库</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/24a23c31d10c54f9a2fa2c99c4a686c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*iVUhcunfjmzh9ilx3vd4yg.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">来自<a class="ae kf" href="https://www.spwla.org/SPWLA/Chapters_SIGs/SIGs/PDDA/PDDA.aspx" rel="noopener ugc nofollow" target="_blank"> SPWLA </a></p></figure><h1 id="eb7e" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">用哪种机器学习算法？</h1><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ml"><img src="../Images/a029ccfcf3ee18045595743e65e005de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CB_ZkSQEXPn5I_jl"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@charlesdeluvio?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Charles Deluvio </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><blockquote class="oa"><p id="06cd" class="ob oc it bd od oe of og oh oi oj mb dk translated">对于给定的问题，找到最佳算法的唯一方法是尝试和测试所有算法</p></blockquote><p id="6a79" class="pw-post-body-paragraph le lf it lg b lh ok lj lk ll ol ln lo lp om lr ls lt on lv lw lx oo lz ma mb im bi translated">为这个项目尝试所有可能的机器学习算法非常耗时，因此在本文的上下文中，我们将使用 e<strong class="lg iu">X</strong>treme<strong class="lg iu">G</strong>radient<strong class="lg iu">B</strong>oosting(XGBoost)算法。从问题陈述中，我们预测两个特征，使其成为一个多目标回归问题。将应用 XGBoost 回归器和 SKlearn 的<a class="ae kf" href="https://scikit-learn.org/stable/modules/generated/sklearn.multioutput.MultiOutputRegressor.html" rel="noopener ugc nofollow" target="_blank"> MultiOutputRegressor </a>。</p><h2 id="d7ec" class="nn kh it bd ki no np dn km nq nr dp kq lp ns nt ku lt nu nv ky lx nw nx lc ny bi translated">XGBoost 是什么？</h2><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nj"><img src="../Images/765e4fc34a08baf758603b998954dffb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-nwkQjz0QmfQyxNFT_yrDg.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">来自<a class="ae kf" href="https://github.com/dmlc/xgboost" rel="noopener ugc nofollow" target="_blank"> Github 库</a>的 XGBoost 徽标</p></figure><blockquote class="op oq or"><p id="c8c6" class="le lf os lg b lh mq lj lk ll mr ln lo ot ms lr ls ou mt lv lw ov mu lz ma mb im bi translated">名称<a class="ae kf" href="https://github.com/dmlc/xgboost" rel="noopener ugc nofollow" target="_blank"> XGBoost </a>实际上指的是提升树算法的计算资源极限的工程目标。这也是很多人用<a class="ae kf" href="https://github.com/dmlc/xgboost" rel="noopener ugc nofollow" target="_blank"> XGBoost </a>的原因。</p></blockquote><p id="e3b2" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">这是一个由陈天琦创建的梯度推进机器的实现，现在有许多开发者参与其中。它属于分布式机器学习社区或<a class="ae kf" href="http://dmlc.ml/" rel="noopener ugc nofollow" target="_blank"> DMLC </a>旗下更广泛的工具集合，他们也是流行的<a class="ae kf" href="https://github.com/dmlc/mxnet" rel="noopener ugc nofollow" target="_blank"> mxnet 深度学习库</a>的创造者。这是一个免费的开源软件，可以在 Apache-2 许可下使用，它支持以下主要接口:</p><ul class=""><li id="a161" class="mv mw it lg b lh mq ll mr lp mx lt my lx mz mb na nb nc nd bi translated">命令行界面(CLI)。</li><li id="d139" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">Python 接口以及 scikit-learn 中的一个模型。</li><li id="cb31" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">C++(编写库的语言)。</li><li id="8fd4" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">r 接口以及 caret 包中的一个模型。</li><li id="6001" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">朱莉娅。</li><li id="0935" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">像 Scala 这样的 Java 和 JVM 语言以及 Hadoop 这样的平台。</li></ul><h2 id="c1d1" class="nn kh it bd ki no np dn km nq nr dp kq lp ns nt ku lt nu nv ky lx nw nx lc ny bi translated">为什么选择 XGBoost？</h2><p id="fc70" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">图书馆被激光聚焦</p><ol class=""><li id="5c2f" class="mv mw it lg b lh mq ll mr lp mx lt my lx mz mb ow nb nc nd bi translated"><strong class="lg iu">计算速度:</strong>一般情况下，<a class="ae kf" href="https://github.com/dmlc/xgboost" rel="noopener ugc nofollow" target="_blank"> XGBoost </a>快。与梯度增强的其他实现相比，速度非常快。</li><li id="8492" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb ow nb nc nd bi translated"><strong class="lg iu">模型性能:</strong> <a class="ae kf" href="https://github.com/dmlc/xgboost" rel="noopener ugc nofollow" target="_blank"> XGBoost </a>在分类和回归预测建模问题上主导结构化或表格化数据集。证据是，它是竞争数据科学平台<a class="ae kf" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>上竞争获胜者的首选算法。</li></ol><h2 id="3d8c" class="nn kh it bd ki no np dn km nq nr dp kq lp ns nt ku lt nu nv ky lx nw nx lc ny bi translated">XGBoost 安装</h2><p id="e87b" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">对于稳定版本，可以使用 python 包索引(PyPI)将 XGBoost 包安装到 Python 环境中。</p><pre class="mm mn mo mp gt ox oy oz pa aw pb bi"><span id="68bb" class="nn kh it oy b gy pc pd l pe pf">pip install xgboost</span></pre><h2 id="6484" class="nn kh it bd ki no np dn km nq nr dp kq lp ns nt ku lt nu nv ky lx nw nx lc ny bi translated">导入包</h2><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pg"><img src="../Images/ebf58db82340ede299ef4dbccc1c3f9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*baato_3bHO-Fry1SyLU-oQ.png"/></div></div></figure><p id="e7cc" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">这里，我们从导入这个项目需要的所有 python 库开始。</p><ul class=""><li id="8fc6" class="mv mw it lg b lh mq ll mr lp mx lt my lx mz mb na nb nc nd bi translated"><code class="fe ph pi pj oy b">warning</code>:用于抑制 python 包中不推荐使用的函数的警告控件。</li><li id="966d" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated"><code class="fe ph pi pj oy b">numpy</code>:用于科学计算。</li><li id="0b61" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated"><code class="fe ph pi pj oy b">pandas</code>:为了数据争论和分析</li><li id="c67b" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated"><code class="fe ph pi pj oy b">matplotlib</code>:用于图形和图表的可视化。</li><li id="2ba9" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated"><code class="fe ph pi pj oy b">xgboost</code>:用于预测的机器学习算法。</li><li id="8d5e" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated"><code class="fe ph pi pj oy b">MultiOutputRegressor</code>:提供多目标回归环境。</li><li id="3e7c" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated"><code class="fe ph pi pj oy b">StandardScaler</code>:缩放数据</li><li id="ecd5" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated"><code class="fe ph pi pj oy b">train_test_split</code>:拆分数据</li><li id="6edc" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated"><code class="fe ph pi pj oy b">RandomizedSearchCV</code>:随机参数调谐</li><li id="b076" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated"><code class="fe ph pi pj oy b">mean_square_error</code>:用于评估预测的性能指标。</li></ul><h2 id="0f8a" class="nn kh it bd ki no np dn km nq nr dp kq lp ns nt ku lt nu nv ky lx nw nx lc ny bi translated">读取数据</h2><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pk"><img src="../Images/a1672a6164a32ec49bdaaba10cc693e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UT3r8Va0M7BCj07Pn1-fZw.png"/></div></div></figure><p id="e2d6" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">首先，在数据输入过程中，大多数情况下缺失值被替换为<code class="fe ph pi pj oy b">-999</code>，因此将其识别为系统的缺失值指示器是理想的。这里，空白以及<code class="fe ph pi pj oy b">Nan</code>和<code class="fe ph pi pj oy b">NaN</code>也被识别为数据集中的缺失值指示符。</p><h2 id="00e0" class="nn kh it bd ki no np dn km nq nr dp kq lp ns nt ku lt nu nv ky lx nw nx lc ny bi translated">获取数据概览</h2><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pk"><img src="../Images/1591dcb6e748c7ade41314622e130883.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1gK671gPi2wZsmYwZJjb6w.png"/></div></div></figure><p id="3500" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">各个特征的数据描述如下:</p><ul class=""><li id="545c" class="mv mw it lg b lh mq ll mr lp mx lt my lx mz mb na nb nc nd bi translated">CAL:井径测井(单位为英寸)</li><li id="0139" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">CNC:神经元日志(单位为十二月)</li><li id="1bd8" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">GR:伽马射线测井(单位为 API)</li><li id="a7db" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">HRD:深电阻率测井(单位为欧姆每米)</li><li id="078d" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">HRM:中电阻率测井(单位为欧姆每米)</li><li id="9694" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">PE:光电系数(单位为谷仓)</li><li id="b8dc" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">ZDEN:密度测井(单位为克每立方公尺)</li><li id="4292" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">DTC:压缩传播时间 lo(单位为纳秒每英尺)</li><li id="f8c4" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb na nb nc nd bi translated">DTS:剪切传播时间测井(单位为纳秒每英尺)</li></ul><p id="ebd8" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">DTC 和 DTS 称为<strong class="lg iu">声波测井，</strong>可以从接收器记录的波形中计算出来。还计算了描述性统计。</p><p id="9c0b" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated"><strong class="lg iu">检查缺失值</strong></p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pg"><img src="../Images/1c29496faa3c4a802a246663d2c7d73d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SM9G2Wg5uQPdgz9juu0Ckg.png"/></div></div></figure><p id="9e84" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">可以观察到，在训练数据中存在大量的缺失值。让我们来看看数据的分布情况。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/85dc7417803bb1590ddef72ae523c07e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*SPJvPG2joUYYaZlBs953OA.png"/></div></figure><h2 id="4a68" class="nn kh it bd ki no np dn km nq nr dp kq lp ns nt ku lt nu nv ky lx nw nx lc ny bi translated">填充缺失的值</h2><p id="b0eb" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">大多数要素的直方图是单摩尔直方图，而其他直方图是倾斜的，用数据框中的前一个值填充前者，用中值填充后者将非常合理。pandas fillna <code class="fe ph pi pj oy b">backfill</code>方法和 median<code class="fe ph pi pj oy b">median.()</code>方法将支持使用先前值方法进行填充。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pk"><img src="../Images/8c79d95cfbf44c665d9ac947751a94c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uBZXLcCXdHIWVLnd81DlKg.png"/></div></div></figure><h2 id="b31b" class="nn kh it bd ki no np dn km nq nr dp kq lp ns nt ku lt nu nv ky lx nw nx lc ny bi translated">特征工程</h2><p id="5623" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">本出版物中的特征工程主要关注伽马射线测井(GR)特征。从直方图中可以观察到异常值，因为 GR 值通常在 0-200 之间。我们将从 GR 中创建两个新特性，同时将其限制在上限和下限。要创建的两个新功能是:</p><ol class=""><li id="a5d1" class="mv mw it lg b lh mq ll mr lp mx lt my lx mz mb ow nb nc nd bi translated">伽马射线指数(IGR)</li><li id="b7fe" class="mv mw it lg b lh ne ll nf lp ng lt nh lx ni mb ow nb nc nd bi translated">自然伽马辐射(NGR)</li></ol><p id="ed8d" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">在使用伽马射线测井(GR)功能创建其他功能以减少数据冗余后，应将其删除。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pm"><img src="../Images/7f7345ff99ff721e36f1d7ca1304b132.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rV6U46S8Ei0133a8LslB4g.png"/></div></div></figure><h2 id="3a28" class="nn kh it bd ki no np dn km nq nr dp kq lp ns nt ku lt nu nv ky lx nw nx lc ny bi translated">拆分数据</h2><p id="dcd0" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">训练数据以 70:30 的比例分割</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pn"><img src="../Images/55bd57cac84191fe3d2a2b5b52e7448d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LBRga-f_IEcjAsQjc_JFRQ.png"/></div></div></figure><h2 id="e64e" class="nn kh it bd ki no np dn km nq nr dp kq lp ns nt ku lt nu nv ky lx nw nx lc ny bi translated">数据的标准化</h2><p id="5681" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">当各种<strong class="lg iu">变量</strong>放在相同的刻度上时，大多数机器模型工作得最好。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pg"><img src="../Images/a77207c8142c4fa3514b0897d0f42a37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*20Y6b4Gju2aSrFVKLTFG6g.png"/></div></div></figure><h2 id="b0b7" class="nn kh it bd ki no np dn km nq nr dp kq lp ns nt ku lt nu nv ky lx nw nx lc ny bi translated">模型建立和拟合</h2><p id="eb18" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">XGBoost 回归是用已经调优的超参数实例化的。超参数调整是一个非常耗时的过程，本文中跳过了这一步，但是可以在 github 上的<a class="ae kf" href="https://github.com/codebrain001/PDDA-Sonic-Log-Prediction/blob/master/notebook/Article.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>中查阅。该模型适合于训练数据，以帮助学习过程。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pg"><img src="../Images/44da8975648b7d311ffbc3e57db67ac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GHq6M6GqWGL8rJD734yhpw.png"/></div></div></figure><h2 id="6fee" class="nn kh it bd ki no np dn km nq nr dp kq lp ns nt ku lt nu nv ky lx nw nx lc ny bi translated">模型预测和评估</h2><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi po"><img src="../Images/5389cb43e490d66ddb24663962cb6806.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wJhFJ-jc7XjNIX5iu-lSIA.png"/></div></div></figure><p id="8839" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">模型的最终输出—预测。<strong class="lg iu"><strong class="lg iu"/>的</strong>值越低，表明拟合度越好，模型看起来越好！最后，模型被应用于它没有见过的数据——“测试”数据。</p><p id="b8f4" class="pw-post-body-paragraph le lf it lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">我希望本文能拓宽机器学习在岩石物理行业的应用领域。感谢阅读和保持安全。</p></div></div>    
</body>
</html>