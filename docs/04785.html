<html>
<head>
<title>Creating A Beautiful Web API In Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python创建漂亮的Web API</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-a-beautiful-web-api-in-python-6415a40789af?source=collection_archive---------2-----------------------#2020-04-27">https://towardsdatascience.com/creating-a-beautiful-web-api-in-python-6415a40789af?source=collection_archive---------2-----------------------#2020-04-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="90ba" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用可持续的编码实践，用Python、Flask和MongoDB创建一个完整的web API。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/8b77879e949a9c5f5677d0a8d7254407.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*NmIfWgXiyProsZ44Z_Mnlg.png"/></div></figure></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ku"><img src="../Images/f2235147d52801ae315f6a9d42e2dc77.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*xyL3Wr90zqGOkER2gtQpWA.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kv"><img src="../Images/ba38171b69b88947162e02457a8067d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:288/format:webp/1*blP5wWXp_Z4rvF8_huV_LQ.png"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">Flask和MongoDB</p></figure><p id="925a" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">创建一个带有数据库后台的网站或API是一个很棒的编程项目，但是它可能很难开始，因为有太多的概念要处理。本指南旨在帮助您从头到尾使用Python Flask和MongoDB构建您的第一个(或第五个)API。</p></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><p id="b02f" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">开始之前:本指南是针对初学者/中级水平的。我希望了解一点python知识和面向对象编程的基础知识。至于我自己，我的背景是物理、数学和机器学习——但是网络方面的东西总是让人望而生畏。很容易找到每一部分的单独教程，但本教程更多的是将所有部分放在一起，以制作可持续的代码。希望这份指南能帮你减轻压力。</p><blockquote class="lw lx ly"><p id="1f87" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">一旦你理解了这些步骤以及每个部分是如何组合在一起的，我<em class="iq">强烈</em>建议你更详细地了解每个组件。另一个建议是:试着事后自己从头开始重建整个系统。</p></blockquote></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><p id="dcdd" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">这里是我们将要研究的所有技术和工具的分类(不要担心这个列表的大小，大多数都不太有威胁性！):</p><h1 id="2472" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">什么是Web API？</h1><ul class=""><li id="9ed8" class="mv mw iq lc b ld mx lg my lj mz ln na lr nb lv nc nd ne nf bi translated">带示例的Web APIs介绍</li></ul><h1 id="e58e" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">MongoDB:</h1><ul class=""><li id="512e" class="mv mw iq lc b ld mx lg my lj mz ln na lr nb lv nc nd ne nf bi translated">MongoDB简介</li><li id="0caa" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">安装和启动服务器</li><li id="8e95" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">添加一些数据并运行测试查询</li></ul><h1 id="a5e8" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">烧瓶:</h1><ul class=""><li id="6cfa" class="mv mw iq lc b ld mx lg my lj mz ln na lr nb lv nc nd ne nf bi translated">烧瓶介绍</li><li id="a8a4" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">Flask-MongoEngine { <em class="lz">用于以面向对象的方式处理MongoDB</em></li><li id="8a5c" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">用于加密密码 }的Flask-Bcrypt { <em class="lz"/></li><li id="b6f1" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">Flask-RESTful { <em class="lz">用于构建REST API</em>}</li><li id="86ba" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">flask-JWT-扩展{ <em class="lz">用于认证和授权</em></li></ul><h1 id="2db5" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">邮递员:</h1><ul class=""><li id="6d6a" class="mv mw iq lc b ld mx lg my lj mz ln na lr nb lv nc nd ne nf bi translated">邮递员介绍</li><li id="d943" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">采样数据并使用GET、PUT、POST、DELETE请求</li></ul><h1 id="09b4" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">托管您的API:</h1><ul class=""><li id="0702" class="mv mw iq lc b ld mx lg my lj mz ln na lr nb lv nc nd ne nf bi translated">在本地计算机上运行和测试</li><li id="8130" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">使用gunicorn在Heroku上公开托管API</li><li id="ebf5" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">(将来可能会添加在Google云平台上托管的可选指南)</li></ul></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><p id="7ee9" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">好了，我们开始吧！</p><p id="5537" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">抓取GitHub模板代码:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="e976" class="nq me iq nm b gy nr ns l nt nu">git clone -b template <a class="ae nv" href="https://github.com/jrbarhydt/FlaskWebAPI.git" rel="noopener ugc nofollow" target="_blank">https://github.com/jrbarhydt/FlaskWebAPI.git</a></span></pre><p id="1d5a" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">或者自己动手建造:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="40ab" class="nq me iq nm b gy nr ns l nt nu">│<br/>│   app.py<br/>│   Procfile<br/>│   requirements.txt<br/>│   runtime.txt<br/>│<br/>├───api<br/>│       authentication.py<br/>│       meal.py<br/>│       routes.py<br/>│       user.py<br/>│       __init__.py<br/>│<br/>├───models<br/>│       meals.py<br/>│       users.py<br/>│       __init__.py<br/>│<br/>├───resources<br/>│       meal_data.csv<br/>│       user_data.csv<br/>│<br/>└───tools<br/>        load_data.py<br/>        __init__.py</span></pre><h1 id="08ba" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">什么是Web API？</h1><p id="20c3" class="pw-post-body-paragraph la lb iq lc b ld mx jr lf lg my ju li lj nw ll lm ln nx lp lq lr ny lt lu lv ij bi translated">Web API(应用程序编程接口)允许您通过Web提供数据，通常是JSON或XML格式。通常，这是通过公开端点来发出请求来实现的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/29dc0af61f275890ab650540f61f645f.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*q_KMfPXZpmyAdx7L5IDrQA.png"/></div></figure><p id="6c66" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">一个例子是口袋妖怪API(<a class="ae nv" href="https://pokeapi.co/" rel="noopener ugc nofollow" target="_blank"><em class="lz">https://pokeapi.co/</em></a>)，它可以让你访问口袋妖怪数据库。试试下面的链接，获取你想知道的关于杰尼龟的所有数据！</p><p id="2ece" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><a class="ae nv" href="https://pokeapi.co/api/v2/pokemon/squirtle" rel="noopener ugc nofollow" target="_blank"><em class="lz">https://pokeapi.co/api/v2/pokemon/squirtle</em></a></p><p id="25be" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">你可能会注意到有一个巨大的文本墙返回！这就是为什么我喜欢使用Chrome的<a class="ae nv" href="https://chrome.google.com/webstore/detail/json-viewer/gbmdgpbipfallnflgajpaliibnhdgobh?hl=en-US" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ir"> JSON Viewer </strong> </a>扩展，以更可读的格式查看数据，如图所示。</p><p id="0bfd" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">让我们分解杰尼龟链接，了解一点关于端点(或者我们在Flask中称之为“路由”)的知识</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/7844512eee6766a1bbf61e28de20ebf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*sauiWFwcEJPxiLlQZj_FYw.png"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">入口点(左框)和端点(右框)</p></figure><p id="1ea6" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">按照惯例，一个API将有一个入口点。这就像文件资源管理器中的根文件夹。可以有任意数量的端点(从现在开始我将称之为‘路由’)。)</p><p id="fd2c" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">根据给定的路由，数据可以以不同的形式传递。尝试导航到/pokemon路径，您将获得所有pokemon的数据，而不仅仅是杰尼龟的数据。</p><p id="7dea" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">对于我们的API，我们将创建一个餐馆数据库，用户可以在其中注册、登录、保存他们的详细信息，并保存他们最喜欢的饭菜的列表。一些用户将被允许执行管理任务，如删除用户或访问任何用户的膳食列表。</p></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h1 id="e566" class="md me iq bd mf mg ob mi mj mk oc mm mn jw od jx mp jz oe ka mr kc of kd mt mu bi translated">MongoDB { () }</h1><p id="5ff7" class="pw-post-body-paragraph la lb iq lc b ld mx jr lf lg my ju li lj nw ll lm ln nx lp lq lr ny lt lu lv ij bi translated"><strong class="lc ir">T5】MongoDB简介:T7】</strong></p><p id="2170" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">为您的项目选择正确的数据库类型非常重要。传统的SQL数据库将信息存储在表中。这与noSQL数据库形成对比。</p><p id="9a41" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">MongoDB是一个noSQL数据库，以JSON格式存储数据。与表相反，JSON形成了一个树形数据结构。单个记录被称为“文档”</p><p id="b0ba" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">(我会推荐盯着上面的口袋妖怪JSON数据，直到你确信那是一棵树而不是一张桌子。)</p><p id="4dc8" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><strong class="lc ir"> <em class="lz">安装并启动服务器:</em> </strong></p><p id="83a4" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">你可以在https://www.mongodb.com/download-center/community<a class="ae nv" href="https://www.mongodb.com/download-center/community" rel="noopener ugc nofollow" target="_blank"><em class="lz"/></a>获得MongoDB的免费版本</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/9be350a114017a4ba5abb0d8ea0311ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*_mfd6ShpED9z1_5Nn9oh9g.png"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">默认安装选项</p></figure><p id="e40d" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">目前默认设置是好的。Compass是可选的，我们不会在本教程中使用它。无论您在哪里安装MongoDB和您的数据库，一定要记住位置。</p><p id="7992" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><strong class="lc ir">启动服务器:</strong><em class="lz">C:\ Program Files \ MongoDB \ Server \ 4.2 \ bin \ mongod . exe</em></p><p id="09f9" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">让您的服务器在后台运行，您现在可以从mongo shell访问您的数据库，或者我们将在后面看到，也可以从python访问。这是一个不安全的服务器，稍后我们将添加授权。</p><p id="9e20" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><strong class="lc ir">启动Mongo Shell:</strong><em class="lz">C:\ Program Files \ MongoDB \ Server \ 4.2 \ bin \ Mongo . exe</em></p><blockquote class="lw lx ly"><p id="f12c" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">我建议你在玩<a class="ae nv" href="https://docs.mongodb.com/manual/reference/mongo-shell/" rel="noopener ugc nofollow" target="_blank">https://docs.mongodb.com/manual/reference/mongo-shell/</a>的时候看看MongoDB文档</p></blockquote><p id="0d2e" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">让我们在数据库中插入一些记录(文件)。(您可以复制这些内容，然后使用右键将它们粘贴到mongo命令shell中。)</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="97fe" class="nq me iq nm b gy nr ns l nt nu">use test_db</span><span id="5843" class="nq me iq nm b gy oh ns l nt nu">db.meals.insert({"name": "Mystery Pie", "description": "Not even the baker knows what's inside..."})</span><span id="025a" class="nq me iq nm b gy oh ns l nt nu">db.meals.insert({"name": "Apple Pie", "description": "A delicious, home-made apple pie. Best served on a window sill in the summer."})</span></pre><p id="696b" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">“use”将选择一个db(或创建一个)，您可能会注意到我们插入的记录是JSON格式的。此外，如果集合不存在，mongo会自动创建它。以上，我们的集合叫做‘饭’。</p><p id="6042" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">通过将以下内容粘贴到mongo来验证一切正常。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="029d" class="nq me iq nm b gy nr ns l nt nu">show databases</span><span id="c456" class="nq me iq nm b gy oh ns l nt nu">show collections</span><span id="4c12" class="nq me iq nm b gy oh ns l nt nu">db.meals.find()</span><span id="3682" class="nq me iq nm b gy oh ns l nt nu">db.meals.find({"name": "Apple Pie"})</span></pre><p id="1fc4" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">使用数据库。<collection>。find()将返回所有数据，我们可以通过将JSON作为参数传递给find()方法来进行过滤。</collection></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi oi"><img src="../Images/9757647e7f3637aa4792d0d4b5f0602c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZRDK0MRdTpSoFb-N6gyQWA.png"/></div></div></figure><p id="b52a" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">您添加的每个项目都有一个唯一的ObjectId。这在以后引用其他集合(比如用户)中的项目时会很方便。</p><blockquote class="lw lx ly"><p id="c6df" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">尝试制作数据库、集合和文档。你现在已经有了运行数据库的<strong class="lc ir">非常</strong> <em class="iq"> </em> <strong class="lc ir">基础知识</strong>。</p></blockquote><p id="f2d9" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">为了安全起见，请为您的数据库设置管理员凭据。(也许不要让你的密码成为“密码”)</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="32be" class="nq me iq nm b gy nr ns l nt nu">use admin<br/>db.createUser(<br/>  {<br/>    user: "admin",<br/>    pwd: "password",<br/>    roles: [ { role: "userAdminAnyDatabase", db: "admin" }, "readWriteAnyDatabase" ]<br/>  }<br/>)<br/>db.adminCommand( { shutdown: 1 } )</span></pre><p id="c718" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">最后一个命令将关闭我们的服务器。要在启用身份验证的情况下启动服务器，请改为从终端运行。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="31c3" class="nq me iq nm b gy nr ns l nt nu">mongod --auth</span></pre><p id="018b" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">运行此服务器时，如果不先进行身份验证，您将无法执行任何操作。您可以通过重新启动mongo.exe并尝试访问一些数据来测试这一点。在mongo shell中输入以下内容以登录并获得访问权限。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="7a0a" class="nq me iq nm b gy nr ns l nt nu">use admin<br/>db.auth("admin", "password")</span></pre><p id="493b" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我们现在有了安全的数据库服务器，所以是时候开始构建API了。</p></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h1 id="2b13" class="md me iq bd mf mg ob mi mj mk oc mm mn jw od jx mp jz oe ka mr kc of kd mt mu bi translated">烧瓶\\_</h1><p id="8e7c" class="pw-post-body-paragraph la lb iq lc b ld mx jr lf lg my ju li lj nw ll lm ln nx lp lq lr ny lt lu lv ij bi translated">Flask是一个轻量级的web框架。使用Flask，您可以挑选您的站点需要的组件和扩展。我喜欢这个方面，因为模块化的本质允许你构建一切，没有太多的混乱。</p><p id="f963" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我们将使用的主要Flask扩展是Flask MongoEngine和Flask RESTful。第一个将让我们为我们的数据构建类作为模板，而后者是为构建API而设计的，并使过程更简单。</p><p id="2618" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">此外，我们将使用JWT扩展和BCrypt，但我将在后面介绍它们。</p><p id="7c79" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">现在，是编码时间了…</p><p id="e60f" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">创建一个干净的虚拟环境，并获得烧瓶。</p><blockquote class="lw lx ly"><p id="74d2" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">如果你不熟悉虚拟环境，这不会伤害我的感情，但你绝对应该看看<a class="ae nv" href="https://docs.python.org/3/tutorial/venv.html" rel="noopener ugc nofollow" target="_blank">https://docs.python.org/3/tutorial/venv.html</a></p></blockquote><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="1d6e" class="nq me iq nm b gy nr ns l nt nu">pip install Flask</span></pre><p id="b75b" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">现在，在深入研究之前，我想在这里对我的编码方法做一些评论。以下是我收录的一些东西:</p><ul class=""><li id="8f2f" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">我已经记录了每个部分。如果我不得不在几个月后回到这段代码来添加新特性、修复某些东西，或者甚至是重温一些我不得不解决的问题，这可能会非常有帮助。</li><li id="248e" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">我有一个默认配置，这对测试很有用。在生产环境中，您可以轻松地将非测试信息传递到函数中。(如果不使用配置调用函数，将使用默认值)</li><li id="e144" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">我使用Python的类型提示来跟踪参数和返回值类型。</li><li id="e8e6" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">我在一个函数中创建并返回了应用程序。这对测试和可伸缩性也有好处。例如，您可以使用不同的配置运行get_flask_app两次。</li><li id="0493" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">我添加了__main__入口点，所以如果我照原样执行这个脚本，它将在调试模式下启动。稍后我将介绍gunicorn的发布。</li></ul><p id="5e16" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">粘贴以下代码。</p><ul class=""><li id="b1b7" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">app.py</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="c4cd" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">您现在可以运行app.py，并且您将托管一个Flask服务器。不过，它还不能做任何事情。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi os"><img src="../Images/5fe6ca0dc10eee6766613ae3559d714c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4MsqipLlYCq1PFINPcylfA.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">在调试模式下运行Flask服务器:使用PyCharm Community Edition</p></figure><p id="c70f" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">烧瓶-MongoEngine: </p><p id="01ad" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">获取Flask-MongoEngine，以及用于密码加密的BCrypt。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="6033" class="nq me iq nm b gy nr ns l nt nu">pip install flask-mongoengine<br/>pip install flask-bcrypt</span></pre><blockquote class="lw lx ly"><p id="15bc" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">查看文档了解更多细节和实现示例。<a class="ae nv" href="http://docs.mongoengine.org/projects/flask-mongoengine/en/latest/" rel="noopener ugc nofollow" target="_blank">http://docs . mongoengine . org/projects/flask-mongoengine/en/latest/</a></p><p id="228c" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">Flask-MongoEngine还附带了MongoEngine和PyMongo。您可能会发现这些库本身很有趣。也看看他们的文件！http://docs.mongoengine.org/<br/><a class="ae nv" href="https://pymongo.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank">https://pymongo.readthedocs.io/en/stable/</a><br/>我们不会使用PyMongo，但是如果你非常习惯使用mongo shell，你可能会喜欢这个包。它使用的python命令与您在mongo shell中输入的命令几乎相同！</p></blockquote><p id="b17a" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我们将为用户创建一个类模型，为用餐创建另一个类模型。这些将存在于模型文件夹中。将下面的膳食类与我们通过shell放入mongo的条目进行比较。如您所见，MongoEngine更加面向对象。</p><ul class=""><li id="6ac6" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">models/meals.py(无文档)</li></ul><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="5420" class="nq me iq nm b gy nr ns l nt nu">from mongoengine import Document, StringField, FloatField<br/><br/><br/>class Meals(Document):<br/>    name = StringField(required=True)<br/>    description = StringField()<br/>    price = FloatField()<br/>    image_url = StringField()</span></pre><p id="7299" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">在做用户之前，我会补充一些文档。我想展示原始代码和文档完整的版本之间的区别。在示例部分中，包含了可以直接运行或使用doctest运行的代码。我喜欢添加doctest风格的注释，因为它们既是一个测试，也是一个使用示例。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="4635" class="nq me iq nm b gy nr ns l nt nu">:: Execute a doctest in the terminal<br/>python -m doctest api/meals.py</span></pre><blockquote class="lw lx ly"><p id="bee0" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">文档中所有以<strong class="lc ir"> &gt; &gt; &gt; </strong>开头的代码都将由doctest运行。</p></blockquote><ul class=""><li id="41c4" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">models/meals.py(带文档)</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="6d0d" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">Users类稍微复杂一些。有一个用于确定访问级别的字段，一个用于验证电话号码的字段，Users类覆盖了Document.save()方法，因此我们可以在保存到数据库之前生成一个密码散列。这样，如果我们的数据库遭到破坏，攻击者将无法获得实际的密码。</p><blockquote class="lw lx ly"><p id="6d8e" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">这是关于Flask-BCrypt的文件。<br/><a class="ae nv" href="https://flask-bcrypt.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"/><br/>了解更多慢哈希和盐，在这里！【https://crackstation.net/hashing-security.htm】T5<br/>T6】</p></blockquote><ul class=""><li id="ba82" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">模型/用户. py</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="faa6" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">恭喜，现在MongoEngine模型完成了！接下来，我们将为API构建接口。</p><p id="a78a" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><strong class="lc ir">烧瓶-RESTful </strong></p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="36f2" class="nq me iq nm b gy nr ns l nt nu">pip install flask-restful</span></pre><p id="38d1" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">Flask-RESTful库需要一个非常类似MongoEngine的设置，我们将为每个API交互创建一个类。这些类被称为资源。在Flask中，将资源连接到端点被称为<strong class="lc ir">路由</strong>。这就是我们所说的路线。</p><p id="be05" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我们的API将有几条路线。一个用于身份验证(注册和登录)，另一个用于用户(获取、上传或删除用户数据)，另一个用于用餐(获取、上传或发布)。</p><p id="08e5" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我们最终将需要使用web令牌来访问所有数据，但是首先我们将添加进行第一次API调用所必需的基础知识。</p><blockquote class="lw lx ly"><p id="47c3" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">点击这里了解更多关于JSON Web令牌的信息<br/><a class="ae nv" href="https://jwt.io/" rel="noopener ugc nofollow" target="_blank">https://jwt.io/</a></p></blockquote><p id="8381" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">现在，要获得我们的第一个API调用:</p><ul class=""><li id="6390" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">api/meal.py</li></ul><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="fed3" class="nq me iq nm b gy nr ns l nt nu"># flask packages<br/>from flask import jsonify<br/>from flask_restful import Resource<br/><br/># mongo-engine models<br/>from models.meals import Meals<br/><br/><br/>class MealsApi(Resource):<br/>    def get(self):<br/>        output = Meals.objects()<br/>        return jsonify({'result': output})</span></pre><p id="0dbb" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">当我们向正确的路由发出get请求时，这个类的GET()方法将被调用。这个方法返回Meals中的所有对象(我们目前有2个),并将它们转换成JSON响应。</p><p id="4e5f" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">所以，现在我们需要指定正确的路径来访问它。将以下内容添加到路线中。</p><ul class=""><li id="4841" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">api/routes.py</li></ul><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="5bca" class="nq me iq nm b gy nr ns l nt nu">from api.meal import MealsApi<br/><br/><br/>def create_routes(api):<br/>    api.add_resource(MealsApi, '/meal/')</span></pre><p id="4951" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">在这里，我们添加了刚刚创建的MealsApi资源，并将其命名为“/meal/”端点。因此，现在我们有了一个完整的路线，就像使用PokeAPI一样，我们可以开始提供数据！在设置app.py之后。</p><p id="09de" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">更新导入部分以获取app.py中的必要模块</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="047d" class="nq me iq nm b gy nr ns l nt nu"># flask packages<br/>from flask import Flask, app<br/>from flask_restful import Api<br/>from flask_mongoengine import MongoEngine</span><span id="cd1f" class="nq me iq nm b gy oh ns l nt nu"># local packages<br/>from api.routes import create_routes</span></pre><p id="971a" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">在app.py中的get_flask_app()的末尾添加以下行，以便设置RESTful API和MongoEngine。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="bacd" class="nq me iq nm b gy nr ns l nt nu"># init api and routes<br/>api = Api(app=flask_app)<br/>create_routes(api=api)</span><span id="f015" class="nq me iq nm b gy oh ns l nt nu"># init mongoengine<br/>db = MongoEngine(app=flask_app)</span><span id="789d" class="nq me iq nm b gy oh ns l nt nu">return flask_app</span></pre><p id="a8ac" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">试试看。运行app.py，您将看到显示的默认URL。你可以导航到<a class="ae nv" href="http://127.0.0.1:5000/meal/" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:5000/meal/</a>获得MongoDB数据库中所有餐食的打印输出。(你还需要让mongod.exe来运行这个功能)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi ot"><img src="../Images/d6d581dd298f05c77525e7decb253110.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3kQqZCPzbV65zHHa2tzlUA.png"/></div></div></figure><p id="2efa" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">太好了。现在，我们将通过执行相同的步骤来继续其余的资源和路线。我还会添加文档。</p><p id="c1b9" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">身份验证允许用户在访问数据之前登录。我们有两条路线，一条是唱歌的路线，另一条是登录的路线。SignUpApi类与对用户模型的POST请求相同，只是它不需要预先认证(因为用户还没有注册)。</p><p id="371f" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">关于这些类的编码有几点注意事项:</p><ul class=""><li id="ebce" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">post()方法是静态的，因为该类没有特殊的上下文，比如需要JSON Web令牌。</li><li id="9b4a" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">get、post、put和delete返回类型是Response，这是Flask从Werkzeug继承的一个类，但是不需要理解底层机制。它只是处理HTTP通信的东西。当您将字典对象传递到Flask.jsonify时，flask会负责这一点。</li><li id="76c8" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated">如果用户(* *数据)中的星号对您来说很陌生，不要担心，这只是使用字典将参数传递到类或方法的一种简洁方式。</li></ul><blockquote class="lw lx ly"><p id="1d8a" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">看看<a class="ae nv" href="https://python-reference.readthedocs.io/en/latest/docs/operators/dict_unpack.html" rel="noopener ugc nofollow" target="_blank">字典拆包</a>了解更多。</p></blockquote><ul class=""><li id="7eef" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">LoginApi检查给定的密码是否匹配，如果匹配，则创建web令牌。这些令牌允许用户继续使用API，而不需要为每个请求登录。生成了刷新令牌，但在本教程中没有使用。这将允许用户在令牌过期后继续他们的会话。</li></ul><blockquote class="lw lx ly"><p id="d1f3" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">点击此处了解有关使用令牌保护数据安全的更多信息【https://auth0.com/docs/tokens/concepts/access-tokens T2</p></blockquote><p id="55c0" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">这是完整的验证码。</p><ul class=""><li id="57e6" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">API/认证. py</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="23e6" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">错误消息应该是不言自明的。</p><ul class=""><li id="af2b" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">api/errors.py</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="24ed" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">关于两餐api资源有两件事要提一下。首先，你会注意到一些方法现在有了参数。这是由routes.py处理的，它将阻止来自端点的参数。更多信息请见下面的路线部分。其次，您会注意到在一些方法之前有@jwt_required装饰符。这一行允许您强制使用web令牌来访问数据。</p><blockquote class="lw lx ly"><p id="57f3" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">如果你过去没有用过装饰师，我建议你多学一点。它们可以非常方便地为一个方法快速添加功能。【https://realpython.com/primer-on-python-decorators/】T5<br/>T6】</p></blockquote><p id="ea1d" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">下面是代码。</p><ul class=""><li id="2243" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">api/meal.py</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="174c" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">routes.py的一个新增功能超级重要。您会注意到一个参数在端点内部传递。参数通过将名称放在尖括号内来表示。Flask RESTful将识别这些括号，并将值传递给get()、post()、put()或delete()方法。</p><ul class=""><li id="c9b6" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">api/routes.py</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="5688" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">user.py中的代码与上面的meal.py中使用的代码非常相似。</p><ul class=""><li id="8c7e" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">api/user.py</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="b716" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">最后，不要忘记更新app.py。除了添加新的导入和初始化JWT，我们还必须在默认配置中添加一个jwt秘钥。显然，您不希望您的产品代码使用这个键，但是就像默认的用户名和密码一样，这些只是为了测试而指定的。在生产设置中，您可以将配置文件保存在其他地方，并将其传递给get_flask_app()方法。app.py的最终版本如下。</p><ul class=""><li id="5270" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">app.py</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="819c" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">不要忘记添加flask-jwt-extended</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="a0bc" class="nq me iq nm b gy nr ns l nt nu">pip install flask-jwt-extended</span></pre><p id="957c" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">就是这样。现在API已经完成了。嗯，算是吧。我们没有一个好的方法来测试它的每一个方面(比如创建一个新用户，等等。)虽然这可以使用请求库在python中直接完成，但我将使用Postman。我发现这是测试API的一个很好的方法。</p></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h1 id="cb78" class="md me iq bd mf mg ob mi mj mk oc mm mn jw od jx mp jz oe ka mr kc of kd mt mu bi translated">邮递员(/)</h1><p id="03a2" class="pw-post-body-paragraph la lb iq lc b ld mx jr lf lg my ju li lj nw ll lm ln nx lp lq lr ny lt lu lv ij bi translated">我不会解释Postman带给你的所有乐趣，我会带你一步一步地注册、登录和添加数据。这将让你开始，但里面有很多伟大的功能。</p><blockquote class="lw lx ly"><p id="ba0e" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">下载邮递员在<a class="ae nv" href="http://postman.com/downloads" rel="noopener ugc nofollow" target="_blank">postman.com/downloads</a></p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi ou"><img src="../Images/6241b2e4e5ab52581750dc9fd0b163b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vhWk1ibad11uW0CsDADBqQ.png"/></div></div></figure><p id="7216" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">您可以在上面看到get请求的结果。这与我们之前在mongod.exe和app.py都运行的情况下，在网络浏览器中输入“http://127.0.0.1:5000/meal”得到的结果相同。</p><ul class=""><li id="dbda" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">如果你再试一次，就会失败！你能猜到原因吗？向下滚动寻找答案，但如果你能自己想出答案就加分了。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi ov"><img src="../Images/7cc015e4608683236495dd4e1401d524.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NjD-1-hXq9jiNWe0yDKtbw.png"/></div></div></figure><p id="ee8d" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">给你个提示…</p><p id="b808" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我们没有网络令牌！</p><p id="3f6e" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">要获得一个，我们需要登录。为了登录，我们需要注册。</p><p id="8001" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">好，那我们报名吧。设置一个<strong class="lc ir"> POST </strong>请求，并将url设置为<a class="ae nv" href="http://127.0.0.1:5000/authentication/signup/" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:5000/authentic ation/sign up/</a>并添加一个<strong class="lc ir">主体</strong>，类型为<strong class="lc ir"> raw JSON </strong>。在正文中输入以下内容，然后单击Send。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="4565" class="nq me iq nm b gy nr ns l nt nu">{<br/> "email": "<a class="ae nv" href="mailto:test@not-a-fake-email.com" rel="noopener ugc nofollow" target="_blank">test@not-a-fake-email.com</a>",<br/> "password": "hunter2",<br/> "access": {<br/>  "admin": "True"<br/> },<br/> "name": "testy buddy",<br/> "phone": "555-555-5432"<br/>}</span></pre><p id="4ca7" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">该响应包括唯一的user_id。这对需要它的路线也有帮助。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi ow"><img src="../Images/cd4826199c09b00746ddebbe8ced3fd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VO9Xmu-VqcfkSsCilrsdrg.png"/></div></div></figure><p id="3d58" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">现在，我们将登录以获取我们的web令牌。有趣的事实是，您唯一的user_id也将被编码在web令牌中，因此没有必要记住它。您可以在MealApi类的meal.py中看到get_jwt_identity()方法。</p><blockquote class="lw lx ly"><p id="ee68" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">如果您喜欢冒险，您甚至可以更改我们路线中的“/user/ <user_id>”端点。因为我们可以使用get_jwt_identity()从web令牌中获取这些信息，所以我们可以使用单个端点来获取单个用户。也许可以尝试“user/get_user/”并在MealApi中放弃user_id参数。</user_id></p></blockquote><p id="ba5a" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">为了登录，我们将通过<a class="ae nv" href="http://127.0.0.1:5000/authentication/login/" rel="noopener ugc nofollow" target="_blank">登录路径</a>发布电子邮件和密码。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="c3cb" class="nq me iq nm b gy nr ns l nt nu">{<br/> "email": "<a class="ae nv" href="mailto:test@not-a-fake-email.com" rel="noopener ugc nofollow" target="_blank">test@not-a-fake-email.com</a>",<br/> "password": "hunter2"<br/>}</span></pre><p id="4a31" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">您可以看到API令牌被成功返回。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi ox"><img src="../Images/64e9e8e9e07974e336e9a79e2fc0d3a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xeXQyjEgtvtVnrouskJNeQ.png"/></div></div></figure><p id="59a9" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我们可以复制访问令牌并将其粘贴到授权头中。</p><p id="88ca" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">再次尝试从<a class="ae nv" href="http://127.0.0.1:5000/meal/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ir">餐端点</strong> </a>访问一个<strong class="lc ir"> GET </strong>请求，但这次将<strong class="lc ir"> access_token </strong>放入<strong class="lc ir">授权</strong>标签的<strong class="lc ir"> Token </strong>字段，选择<strong class="lc ir">无记名令牌</strong>作为<strong class="lc ir">类型</strong>。看看你，跟随着一堆网络术语！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi ow"><img src="../Images/1de482215ef4901eac0a2052ce7f47b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2PhhXlEgEMTOa0HgnSQHKg.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">通过内部Web API访问MongoDB数据</p></figure><p id="c3bb" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">现在，您可以添加自己的数据来填充数据库。或者您可以使用resources/meal_data.tsv和resources/user_data.tsv，它们包含许多条目。我建议您编写自己的脚本来完成这项工作，但是如果您只想输入一些测试数据，我将包括tools/load_data.load_all()。</p><p id="5a95" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">下面是数据:</p><ul class=""><li id="25bf" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">resources/meal_data.csv</li></ul><p id="488e" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><a class="ae nv" href="https://gist.githubusercontent.com/jrbarhydt/c9bf0b2a2a1b1905fe0c9b6a669fecc4/raw/4658802dc2f1fea91d625646fc737a6d9b7b5e70/meal_data.csv" rel="noopener ugc nofollow" target="_blank">右击该链接并保存</a></p><ul class=""><li id="9369" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">资源/用户数据. csv</li></ul><p id="5066" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><a class="ae nv" href="https://gist.githubusercontent.com/jrbarhydt/c9bf0b2a2a1b1905fe0c9b6a669fecc4/raw/51d7a3d814ddf0fbbc6942d2033f3503788e2e39/user_data.csv" rel="noopener ugc nofollow" target="_blank">右击该链接并保存</a></p><p id="51bb" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">以下是我制作的用于将数据加载到MongoDB的工具:</p><ul class=""><li id="b18c" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">工具/get_random_document.py</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><ul class=""><li id="0205" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">工具/load_data.py</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><ul class=""><li id="2d6d" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">tools/mongo_loader.py</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><h1 id="96f3" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">托管您的API</h1><p id="f1e2" class="pw-post-body-paragraph la lb iq lc b ld mx jr lf lg my ju li lj nw ll lm ln nx lp lq lr ny lt lu lv ij bi translated">到目前为止，一切都在本地运行。为了让任何人通过互联网访问您的API，您必须在某个公共可访问的地方托管一个web服务器和数据库服务器。有许多方法可以做到这一点，但是我将介绍使用Heroku进行部署。</p><h1 id="800b" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">Heroku [K]</h1><p id="f9f2" class="pw-post-body-paragraph la lb iq lc b ld mx jr lf lg my ju li lj nw ll lm ln nx lp lq lr ny lt lu lv ij bi translated">一个简单的方法是用Heroku实现主机和API。Heroku非常简单，因为它允许您拥有一个专门针对web服务器的git存储库。</p><p id="2628" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">首先，在<a class="ae nv" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank">https://www.heroku.com/</a>上建立一个免费账户，登录后，从主菜单中选择“创建新应用”。您将在<em class="lz">&lt;your-app-name&gt;. heroku app . com</em>创建一个独特的应用名称</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/7fdffcf8792eede14c373b27cae9c843.png" data-original-src="https://miro.medium.com/v2/resize:fit:406/format:webp/1*bt4Q4HDD28MTz9eJqaBEpg.png"/></div></figure><p id="600e" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">首先，为了让Heroku知道如何运行您的应用程序，它将在您的主项目目录中查找三个文件。</p><ul class=""><li id="26b7" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">Procfile:这是一个shell脚本命令，Heroku将首先运行它。在我们的例子中，它启动gunicorn的方式与我们之前在本地启动它的方式相同。</li></ul><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="89f1" class="nq me iq nm b gy nr ns l nt nu">web: gunicorn 'app:get_flask_app()'</span></pre><ul class=""><li id="bdc0" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">requirements.txt:这包含了我们使用的所有python包。你可以通过运行<em class="lz"> pip freeze来获得这个列表。我会把我的列表粘贴在下面，你的可能会略有不同。</em></li></ul><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="2ad0" class="nq me iq nm b gy nr ns l nt nu">aniso8601==8.0.0<br/>bcrypt==3.1.7<br/>cffi==1.14.0<br/>click==7.1.1<br/>Flask==1.1.2<br/>Flask-Bcrypt==0.7.1<br/>Flask-JWT-Extended==3.24.1<br/>flask-mongoengine==0.9.5<br/>Flask-RESTful==0.3.8<br/>Flask-WTF==0.14.3<br/>gunicorn==20.0.4<br/>itsdangerous==1.1.0<br/>Jinja2==2.11.2<br/>MarkupSafe==1.1.1<br/>mongoengine==0.19.1<br/>pycparser==2.20<br/>PyJWT==1.7.1<br/>pymongo==3.10.1<br/>pytz==2019.3<br/>six==1.14.0<br/>Werkzeug==1.0.1<br/>WTForms==2.2.1</span></pre><ul class=""><li id="44f7" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">这告诉Heroku我们使用的是哪个版本的python</li></ul><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="c98d" class="nq me iq nm b gy nr ns l nt nu">python-3.7.6</span></pre><p id="5b01" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">最后，这里是Heroku网页上的选项卡列表，您将配置这些选项卡来启动和运行您的API。</p><ul class=""><li id="65a1" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated"><strong class="lc ir">资源</strong>:在附加组件中，搜索<em class="lz"> mLab MongoDB </em>并将其添加到你的应用中。你可以选择免费版本。你将不得不为此输入你的支付细节，但只要你坚持使用免费版本，你就不会被收费。</li><li id="b594" class="mv mw iq lc b ld ng lg nh lj ni ln nj lr nk lv nc nd ne nf bi translated"><strong class="lc ir">部署</strong>:连接你的GitHub账号，选择包含你所有API项目文件的GitHub项目。您可以让Heroku从主分支自动部署。</li></ul><blockquote class="lw lx ly"><p id="81a5" class="la lb lz lc b ld le jr lf lg lh ju li ma lk ll lm mb lo lp lq mc ls lt lu lv ij bi translated">如果不想使用GitHub账号，也可以选择用Heroku CLI部署。如果你选择这种方法，Heroku网站上有安装应用程序的说明。</p></blockquote><ul class=""><li id="d428" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated"><strong class="lc ir">设置</strong>:在配置变量下，点击显示配置变量，得到重要变量列表。这里需要两个变量:URI和JWT密钥。秘密密钥是私有的，由您决定，因为它允许对web令牌进行加密/解密。</li></ul><p id="fc7b" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">好了，应该就这些了。您可以在Activity选项卡中查看构建是否成功，或者读取构建日志等。</p><p id="2596" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">现在，使用Postman和以前一样尝试，除了这次使用新的公共API URL和端点。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi oz"><img src="../Images/6a737f354d3e3c62b6098d0f481b8ea0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q3tXHsJ9RAGKObcNZBSc-A.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">向Postman注册公共Web API</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi ox"><img src="../Images/e55561773e168a0c981421cbd7a47fcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qbZ1TrYWp474oQkB5KIpVw.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">使用Postman登录公共Web API</p></figure><p id="6f4b" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">对于另一个挑战，看看你能否将你的数据加载到公共网站上。你可以使用load_data.py，但是你必须使用Heroku给你的MONGODB_URI和新的JWT_SECRET_KEY。下面是一个示例脚本。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="23bd" class="nq me iq nm b gy nr ns l nt nu">from tools.load_data import load_all<br/><br/>MONGODB_URI = 'YOUR-URI-HERE'<br/>JWT_SECRET_KEY = 'YOUR-KEY-HERE'<br/>new_config = {'MONGODB_SETTINGS': {'host': MONGODB_URI, 'retryWrites': False}, <br/>              'JWT_SECRET_KEY': JWT_SECRET_KEY}<br/><br/>load_all(new_config)</span></pre><h1 id="dcb1" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">延伸阅读:</h1><ul class=""><li id="20ea" class="mv mw iq lc b ld mx lg my lj mz ln na lr nb lv nc nd ne nf bi translated">DataCamp有大量与数据相关的教程。你也可以在MongoDB上进行更多的练习。</li></ul><div class="pa pb gp gr pc pd"><a href="https://www.datacamp.com/courses/introduction-to-using-mongodb-for-data-science-with-python" rel="noopener  ugc nofollow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd ir gy z fp pi fr fs pj fu fw ip bi translated">Python中使用MongoDB进行数据科学的介绍</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">这一章是关于获得诺贝尔奖数据结构的鸟瞰图。您将关联MongoDB文档…</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">www.datacamp.com</p></div></div><div class="pm l"><div class="pn l po pp pq pm pr kl pd"/></div></div></a></div><ul class=""><li id="b8ec" class="mv mw iq lc b ld le lg lh lj on ln oo lr op lv nc nd ne nf bi translated">RealPython有很多学习Python的好材料。我特别喜欢他们的烧瓶教程。</li></ul><div class="pa pb gp gr pc pd"><a href="https://realpython.com/tutorials/flask/" rel="noopener  ugc nofollow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd ir gy z fp pi fr fs pj fu fw ip bi translated">烧瓶教程-真正的Python</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">Flask是一个流行的Python web框架，这意味着它是一个第三方Python库，用于开发web…</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">realpython.com</p></div></div><div class="pm l"><div class="ps l po pp pq pm pr kl pd"/></div></div></a></div><h1 id="2c5a" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">参考资料:</h1><p id="0e96" class="pw-post-body-paragraph la lb iq lc b ld mx jr lf lg my ju li lj nw ll lm ln nx lp lq lr ny lt lu lv ij bi translated">为了生成合成数据，我使用了这些:</p><div class="pa pb gp gr pc pd"><a href="https://pypi.org/project/loremipsum/" rel="noopener  ugc nofollow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd ir gy z fp pi fr fs pj fu fw ip bi translated">氯丙嗪</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">Lorem Ipsum文本生成器</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">pypi.org</p></div></div><div class="pm l"><div class="pt l po pp pq pm pr kl pd"/></div></div></a></div><div class="pa pb gp gr pc pd"><a href="https://www.fakenamegenerator.com/" rel="noopener  ugc nofollow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd ir gy z fp pi fr fs pj fu fw ip bi translated">在假名生成器中获得一个全新的身份</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">4808 Parker DriveBeachwood，OH 44122邮箱BryanDAdams @ teleworm.us网站partprocure.com浏览器用户代理…</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">www.fakenamegenerator.com</p></div></div><div class="pm l"><div class="pu l po pp pq pm pr kl pd"/></div></div></a></div><p id="d97e" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">以下是我在文章中提到的一些好东西。</p><div class="pa pb gp gr pc pd"><a href="https://pokeapi.co/" rel="noopener  ugc nofollow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd ir gy z fp pi fr fs pj fu fw ip bi translated">波凯API</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">一个开放的用于神奇宝贝数据的RESTful API</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">pokeapi.co</p></div></div><div class="pm l"><div class="pv l po pp pq pm pr kl pd"/></div></div></a></div><div class="pa pb gp gr pc pd"><a href="https://chrome.google.com/webstore/detail/json-viewer/gbmdgpbipfallnflgajpaliibnhdgobh?hl=en-US" rel="noopener  ugc nofollow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd ir gy z fp pi fr fs pj fu fw ip bi translated">JSON查看器</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">你的眼睛所见过的最漂亮的可定制的JSON/JSONP荧光笔。开源于…</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">chrome.google.com</p></div></div><div class="pm l"><div class="pw l po pp pq pm pr kl pd"/></div></div></a></div><div class="pa pb gp gr pc pd"><a href="https://docs.python.org/3/tutorial/venv.html" rel="noopener  ugc nofollow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd ir gy z fp pi fr fs pj fu fw ip bi translated">12.虚拟环境和包- Python 3.8.2文档</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">Python应用程序通常会使用不属于标准库的包和模块。应用程序…</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">docs.python.org</p></div></div></div></a></div><div class="pa pb gp gr pc pd"><a href="https://docs.mongodb.com/manual/reference/mongo-shell/" rel="noopener  ugc nofollow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd ir gy z fp pi fr fs pj fu fw ip bi translated">mongo Shell快速参考- MongoDB手册</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">编辑描述</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">docs.mongodb.com</p></div></div><div class="pm l"><div class="px l po pp pq pm pr kl pd"/></div></div></a></div><div class="pa pb gp gr pc pd"><a href="http://docs.mongoengine.org/projects/flask-mongoengine/en/latest/" rel="noopener  ugc nofollow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd ir gy z fp pi fr fs pj fu fw ip bi translated">Flask-MongoEngine-Flask-MongoEngine 0 . 9 . 5文档</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">提供与MongoEngine集成的Flask扩展。有关MongoEngine的更多信息，请查看…</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">docs.mongoengine.org</p></div></div></div></a></div><div class="pa pb gp gr pc pd"><a href="https://crackstation.net/hashing-security.htm" rel="noopener  ugc nofollow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd ir gy z fp pi fr fs pj fu fw ip bi translated">安全加盐密码散列法——如何正确使用</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">在用户的哈希列表中搜索哈希(apple)...:匹配[alice3，0bob0，charles8]在…中搜索哈希(蓝莓)</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">crackstation.net</p></div></div></div></a></div></div></div>    
</body>
</html>