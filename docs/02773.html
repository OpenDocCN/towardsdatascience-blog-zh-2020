<html>
<head>
<title>The transshipment problem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">转运问题</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-transshipment-problem-4ce934e4561f?source=collection_archive---------17-----------------------#2020-03-17">https://towardsdatascience.com/the-transshipment-problem-4ce934e4561f?source=collection_archive---------17-----------------------#2020-03-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fa53" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">有中间转运点的货物运输优化</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d0535614d832d022cb2c05e886b7d2b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pch4vGcI_zykNqur.png"/></div></div></figure><h1 id="827a" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">起点</h1><p id="e66e" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">你是Acomp公司供应链的新负责人，该公司生产并向海外交付产品。供应政策是凭经验制定的(随机？所以你认为它还可以改进。</p><p id="52b5" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">该公司的结构如下。有一些工厂分布在全球各地，需要供应您的产品。除此之外，还有一些为生产做出贡献的中间场所，它们也有需要满足的需求。</p><p id="38b5" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">考虑到生产数量不是无限的，工厂只能发送产品，需求点只能接收产品，而中间点可以接收或发送产品，目标是找到最小化操作成本并满足每个生产和需求约束的策略。</p><h1 id="f9dd" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">数学公式</h1><p id="1ca3" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">现在，我们可以在数学上把问题表述为所谓的<em class="mn">转运问题</em>。问题的节点分为三组。</p><ul class=""><li id="e1b8" class="mo mp it lo b lp mi ls mj lv mq lz mr md ms mh mt mu mv mw bi translated">原产地:原产地<em class="mn"> i </em>将在那里生产的货物发送到转运地或目的地。换句话说，边从起点到转运点或目的地。一个产地<em class="mn"> i </em>有一个关联的生产<em class="mn"> aᵢ </em>。</li><li id="9f75" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated">目的地:目的地<em class="mn"> j </em> ∈ <em class="mn"> D </em>可以接收来自原产地和转运地的货物。也就是说，对于目的地，只有来自始发地和转运地的输入边。目的地<em class="mn"> j </em>具有相关的需求<em class="mn"> bⱼ </em>。</li><li id="5760" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated">转运:转运站可以接收和发送货物，包括他们之间。因此，它们具有来自始发地和其他转运地的输入边和到达目的地和其他转运地的输出边。一个转运<em class="mn"> k </em> ∈ <em class="mn"> T </em>有一个关联的生产<em class="mn"> p </em> ' <em class="mn"> ₖ </em>和需求<em class="mn"> q </em> ' <em class="mn"> ₖ </em>。此外，最终产量和需求由<em class="mn">pₖ</em>=<em class="mn">p</em>'<em class="mn">ₖ—</em>min {<em class="mn">p</em>'<em class="mn">ₖ，q </em> ' <em class="mn"> ₖ </em>和<em class="mn">qₖ</em>=<em class="mn">q</em>'<em class="mn">ₖ</em>—min {<em class="mn">p</em>'<em class="mn">ₖ</em>给出请注意，这使得其中一个为零，因为转运将使用自己的生产，最终，它会有盈余(无需求)或短缺(无生产)。</li></ul><p id="818d" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">货物运输有相关的成本，这取决于节点</p><ul class=""><li id="4cee" class="mo mp it lo b lp mi ls mj lv mq lz mr md ms mh mt mu mv mw bi translated"><em class="mn"> cᵢⱼ </em>:从出发地<em class="mn"> i </em>到目的地<em class="mn"> j </em>的单一运输成本。</li><li id="b02d" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated"><em class="mn"> dᵢₖ </em>:从原产地<em class="mn"> i </em>到转运地<em class="mn"> k </em>的单位运输成本。</li><li id="dcc3" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated"><em class="mn"> eₖₗ </em>:从转运<em class="mn"> k </em>到转运<em class="mn"> l </em>的单位运输成本。</li><li id="f5c7" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated"><em class="mn"> fₖⱼ </em>:转运<em class="mn"> k </em>到目的地<em class="mn"> j </em>的单位运输成本。</li></ul><p id="59e2" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">现在让我们考虑产量和需求量:</p><ul class=""><li id="965c" class="mo mp it lo b lp mi ls mj lv mq lz mr md ms mh mt mu mv mw bi translated"><em class="mn"> aᵢ </em>:原产地生产<em class="mn">一</em>。</li><li id="4f13" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated"><em class="mn"> pₖ </em>:转运生产<em class="mn"> k </em>。</li><li id="ffc1" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated">qₖ:转运需求。</li><li id="9410" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated"><em class="mn"> bⱼ </em>:目的地需求<em class="mn"> j </em>。</li></ul><p id="4174" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">最后，必须优化模型的决策变量是</p><ul class=""><li id="cb21" class="mo mp it lo b lp mi ls mj lv mq lz mr md ms mh mt mu mv mw bi translated"><em class="mn"> xᵢⱼ </em>，<em class="mn">I</em>≦<em class="mn">j</em>:表示从点<em class="mn"> i </em>发送到点<em class="mn"> j </em>的货物的决策变量。</li><li id="066b" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated"><em class="mn"> xₖ </em>，<em class="mn"> k </em> ∈ <em class="mn"> T </em>:决策变量，代表<em class="mn"> k </em>接收发送到另一个点的货物。</li></ul><p id="cbbe" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">现在每个变量都已定义，所以让我们建立线性模型。</p><p id="ebd1" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">目标函数是</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/871173fcaeca053a4c114de5aade91eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A42IUcxwBcGh1Z469Qx4xg@2x.png"/></div></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">\ min \ sum _ { I \ in O } \ sum _ { j \ in D } c _ { ij } x _ { ij }+\ sum _ { I \ in O } \ sum _ { k \ in T } D _ { ik } x _ { ik }+\ sum _ { k \ in T } e _ { KL } x _ { KL }+\ sum _ { k \ in T } \ sum _ { j \ in D } f _ { kj } x _ { kj }</p></figure><p id="6f57" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">该公式表明，成本是每条边发送的货物的总和乘以发送一个单位的成本。目标函数由四个成本组成:从始发地到目的地，从始发地到转运地，从转运地到转运地和从转运地到目的地。</p><p id="1cbf" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">现在是必须满足与每个节点的生产和需求相关的约束的时候了。我们说过<em class="mn"> i </em> ∈ <em class="mn"> O </em>每个产地都有限量生产，从<em class="mn"> i </em>发往每个可能的节点(转运或目的地)的货物不能超过<em class="mn"> aᵢ </em>。因此，第一个制约因素是</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/a688c29d2a7bd887a5cd6df46339dcbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*AOvJzKF-IS1mX2MC90kQQw@2x.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">\ sum _ { k \ in T } x _ { ik }+\ sum _ { j \ in D } x _ { ij } \阿乐_i，\quad \forall i \in O</p></figure><p id="2bef" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">类似地，对于目的地，由必须满足的需求产生的约束是</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/7853c5e3b47c3dfe090a6c056a5bcee8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*v4x_avSg-reiMMzLiKoSew@2x.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">\ sum _ { I \ in O } x _ { ij }+\ sum _ { k \ in T } x _ { kj } \ ge b _ j，\quad \forall j \in D</p></figure><p id="bc27" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">请注意，在这种情况下，不等式可以写成等式，因为在满足约束条件的情况下，超出的运输成本会更高。</p><p id="98ea" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">最棘手的部分是与转运有关的部分。转运的生产或出货数量限制为</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/a03dc33de192f43f1ddef15b4afd7429.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/1*yYjPXzAAV1vEFf8YTMTu5g@2x.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">\ sum _ { l \ in T } x _ { KL }+\ sum _ { j \ in D } x _ { kj }—x _ k \ le p _ k，\quad \forall k \in T</p></figure><p id="705a" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">该约束的含义如下。一次转运<em class="mn"> k </em> ∈ <em class="mn"> T </em>能够生产<em class="mn"> pₖ </em>单位的货物。出库货物为∑{<em class="mn">l</em>∑<em class="mn">t</em>}<em class="mn">xₖₗ</em>+∑{<em class="mn">j</em>∑<em class="mn">d</em>}<em class="mn">xₖⱼ</em>。因为<em class="mn"> k </em>是转运，所以有一个可以接收重新发送的进货数量，定义为<em class="mn"> xₖ </em>。因此，不能超过的发送数量不仅仅是生产的数量<em class="mn"> pₖ </em>，而是生产的数量加上要重新发送的接收数量<em class="mn"> pₖ </em> + <em class="mn"> xₖ </em>，从那里产生了先前的约束。</p><p id="7833" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">同样，转运的需求或进货数量约束可以写成</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/4f0cd18cc895ea7df1ce596d0c3edcd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*CaP20DI0RJPV3Ryxf3zXdg@2x.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">\ sum _ { I \ in O } x _ { ik }+\ sum _ { l \ in T } x _ { lk }-x _ k \ ge q _ k，\quad \forall k \in T</p></figure><p id="e57f" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">因为对于任何一个<em class="mn"> k </em> ∈ <em class="mn"> T </em>来说，进货应该足以满足其需求<em class="mn"> qₖ </em>加上转运收到的进货数量再发送<em class="mn"> xₖ </em>。注意，正如前面所解释的，不等式变成了等式。</p><p id="3a5d" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">很明显，运输的货物数量必须是正数。同样直观的是，单位运输成本<em class="mn"> cᵢⱼ </em>、<em class="mn"> dᵢⱼ </em>、<em class="mn"> eᵢⱼ </em>、<em class="mn"> fᵢⱼ </em>一定是正的，生产应该大于需求，即<em class="mn">∑ᵢaᵢ</em>+<em class="mn">∑ₖpₖ</em>≥<em class="mn">∑ⱼbⱼ</em>+<em class="mn">∑ₖqₖ</em>，所以假设这些都满足。</p><p id="d60a" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">综上所述，作为转运问题的优化问题是</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/d156d2b119dff81ef97fa58aaeb1eca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EBmjk9XmGBZ5iDDDGyHARQ@2x.png"/></div></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">\ min \ sum _ { I \ in O } \ sum _ { j \ in D } c _ { ij } x _ { ij }+\ sum _ { I \ in O } \ sum _ { k \ in T } D _ { ik } x _ { ik }+\ sum _ { k \ in T } \ sum _ { l \ in T } e _ { KL } x _ { KL }+\ sum _ { k \ in T } \ sum _ { j \ in D } f _ { kj } x _ { kj } &amp; \ \ \ n \ quad \ for all k \ in T &amp; \ \ \ sum _ { I \ in O } x _ { ij }+\ sum _ { k \ in T } x _ { kj } = b _ j，\quad \forall j \in D &amp; \\ x_{ij} \ge 0，\quad \forall i \in O \cup T，\ j \in T \cup D &amp;</p></figure><h1 id="8ad6" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">解决转运问题</h1><p id="0b62" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">一旦我们有了模型，就可以用不同的解算器和软件来求解，如COIN-OR solvers、CPLEX、GAMS……它可以用单纯形法这样的线性规划算法来求解。</p><p id="100c" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">但是现在，如果好的数量必须是一个整数呢？例如，当产品是从<em class="mn"> i </em>发送到<em class="mn"> j、</em> <em class="mn"> xᵢⱼ </em> = 350.87件没有意义时，就会发生这种情况。生产和需求值也必须是整数。同样，您也可以将自己喜欢的求解器与像分支定界这样的整数规划算法结合使用。</p><p id="8ac7" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">由于转运问题和运输问题之间存在等价性，我们将从一个问题转移到另一个问题，而不是那样做。运输问题是转运问题的一个特例，这里不存在转运点。换句话说，从起点到终点只有直接的边。从理论上讲，在整数生产和需求假设下，运输问题的最优解是整数解。这句话告诉我们，线性规划算法可以用来达到整数最优解，而不需要更复杂的整数规划的必要性。</p><p id="9479" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">要进行转换，让我们首先定义</p><p id="4f72" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><em class="mn">l</em>=∑<em class="mn">ᵢaᵢ</em>+∑<em class="mn">ₖpₖ</em></p><p id="225a" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">然后，在一个最优解中满足<em class="mn"> xₖ </em> ≤ <em class="mn"> L </em>，∀ <em class="mn"> k </em> ∈ <em class="mn"> T </em>。如果不是这样，一些货物将不止一次地经过一个点，使得该解决方案不是最佳。如果我们现在定义新的变量</p><p id="49db" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><em class="mn"> xₖₖ </em> = <em class="mn"> L — xₖ </em> ≥ 0</p><p id="9c76" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">先前定义的转运问题的等价运输问题是</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/df51f94bc532461d9e162ef993d3805f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SBQ1FHXL-OVVAv5kMKBzJQ@2x.png"/></div></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">\ min \ sum _ { I \ in O } \ sum _ { j \ in D } c _ { ij } x _ { ij }+\ sum _ { I \ in O } \ sum _ { k \ in T } D _ { ik } x _ { ik }+\ sum _ { k \ in T } \ sum _ { L \ in T } e _ { KL } x _ { KL }+\ sum _ { k \ in T } \ sum _ { j \ in D } f _ { kj } x _ { kj } &amp; \ \ \ n \ quad \ for all k \ in T &amp; \ \ \ sum _ { I \ in O } x _ { ij }+\ sum _ { k \ in T } x _ { kj } = b _ j，\quad \forall j \in D &amp; \\ x_{ij} \ge 0，\quad \forall i \in O \cup T，\ j \in T \cup D &amp;</p></figure><p id="3709" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">前两个约束是生产约束，后两个是需求约束。这个性质的关键是所谓的幺模性质，它具有问题的约束矩阵。</p><p id="b518" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">如前所述，要解决整数问题版本，没有必要应用整数规划算法。此外，这些问题的特定算法比单纯形算法具有更好的速度性能，如网络的单纯形法。</p><h1 id="3e90" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">结论</h1><p id="76a6" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">我们已经解决了在有中间转运点的情况下将货物从原产地运输到目的地的问题。</p><p id="87f9" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">我们已经模拟了一个转运问题，然后我们解决了这个问题，得出的结论是，整数版的问题可以解决，就好像它不是。</p></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><p id="140b" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">注:</strong>参考文献可以在<a class="ae ns" href="http://hdl.handle.net/10810/18077" rel="noopener ugc nofollow" target="_blank">http://hdl.handle.net/10810/18077</a>的参考文献部分找到，这部分是可以检查理论的不同来源的总结(西班牙语)。</p></div></div>    
</body>
</html>