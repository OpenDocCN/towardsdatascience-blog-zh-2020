<html>
<head>
<title>Display selected slicers in Power BI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Power BI 中显示选定的切片器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/display-selected-slicers-in-power-bi-a99d81500e76?source=collection_archive---------11-----------------------#2020-09-01">https://towardsdatascience.com/display-selected-slicers-in-power-bi-a99d81500e76?source=collection_archive---------11-----------------------#2020-09-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e58f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在报告中显示切片器选择可能比看起来容易。获得更好用户体验的额外提示！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1d354c220ef4732a7bcbf242e7d8eab3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_t5DwpyWsUDvn1HY8MeoEw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Alex 在 Unsplash 上拍摄的照片</p></figure><p id="54fd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">就在最近，在介绍我的会议时:<a class="ae lu" href="https://www.youtube.com/watch?v=Kqivb73E4o4&amp;t=2216s" rel="noopener ugc nofollow" target="_blank">“宏伟的 7-促进您的 Power BI 开发的简单技巧”</a>在数据之星会议上，我收到的一个问题是:</p><h2 id="d22f" class="lv lw it bd lx ly lz dn ma mb mc dp md lh me mf mg ll mh mi mj lp mk ml mm mn bi translated">有没有办法在页面上显示作为切片器选择结果的实际活动过滤器？</h2><p id="af03" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">我已经在<a class="ae lu" href="https://data-mozart.com/learning/new-stars-of-data-qa/" rel="noopener ugc nofollow" target="_blank">这篇文章</a>中回答了这个问题，但后来我想:也许更多的人在寻找这个问题的解决方案，所以我决定写一个简短的帖子来详细解释你如何才能实现这一点。</p><p id="9c17" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">像往常一样，我将使用一个示例 Contoso 数据库进行演示:</p><h2 id="f424" class="lv lw it bd lx ly lz dn ma mb mc dp md lh me mf mg ll mh mi mj lp mk ml mm mn bi translated">达克斯是你的朋友！</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/e7afe2b68e6879a269b48afa19043384.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mmkm5siqkxqZ68RClaXkEw.png"/></div></div></figure><p id="c454" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是起点。您可以注意到报告画布上有三个切片器，假设我想向用户显示在 Brands slicer 中选择了哪些品牌。</p><p id="388f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第一步是创建一个 DAX 度量，它将捕获切片器中所有选定的值。可以使用两个不同的 DAX 函数来获取值:<a class="ae lu" href="https://docs.microsoft.com/en-us/dax/values-function-dax" rel="noopener ugc nofollow" target="_blank"> <em class="mu"> VALUES() </em> </a>或<a class="ae lu" href="https://docs.microsoft.com/en-us/dax/distinct-function-dax" rel="noopener ugc nofollow" target="_blank"> <em class="mu"> DISTINCT() </em> </a>。<em class="mu"> VALUES() </em>函数更复杂，因为您可以同时使用表名和列名作为参数，但是这里让我们集中讨论列名作为参数。</p><p id="5a2e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">基本上，<em class="mu"> VALUES() </em>将从我们传递的列中返回所有不同的值，包括空格(如果存在)！另一方面，<em class="mu"> DISTINCT() </em>将返回所有不同的值，但忽略空白值。您想使用哪一个，主要取决于业务请求(如果您的用户想看到数字是否为空白)。就我个人而言，我更喜欢使用<em class="mu"> VALUES() </em>，因为它给了我全貌。</p><p id="33fc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，我将创建以下度量:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="dc22" class="lv lw it mw b gy na nb l nc nd">Selected Brands = VALUES('Product'[BrandName])</span></pre><p id="32c0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，当我将这个度量放入卡片视觉效果中时，让我们看看会发生什么:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/02cead88a1480598879a49723524c4b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2prk3trRsjTe9xsfM5TuNw.png"/></div></div></figure><p id="defd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">哎呀，这给了我一个错误！错误消息说明计算需要单个值。<strong class="la iu">问题是，<em class="mu">值()</em>和<em class="mu">截然不同()</em>返回表！然而，它不是一个“普通”的表，它是由 DAX 引擎动态创建的虚拟表，所以我们应该应用一些额外的计算，以便从中提取单个值。</strong></p><h2 id="942e" class="lv lw it bd lx ly lz dn ma mb mc dp md lh me mf mg ll mh mi mj lp mk ml mm mn bi translated">迭代器函数来拯救！</h2><p id="9402" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">迭代器函数顾名思义——它们遍历表并逐行应用计算！迭代器函数最后有 X:SUMX，AVERAGEX，COUNTX…在我们的场景中，我们需要迭代我们的不同值，并将它们连接到我们的字符串中，稍后将在报告中显示。为了实现这一点，我们将使用<a class="ae lu" href="https://docs.microsoft.com/en-us/dax/concatenatex-function-dax" rel="noopener ugc nofollow" target="_blank"><em class="mu">concatenax()</em></a>函数。</p><p id="1963" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个函数接受三个参数:第一个是我们想要迭代的表(在我们的例子中，是使用<em class="mu"> VALUES() </em>函数创建的虚拟表)，然后是我们在这个表上逐行应用的表达式，最后是我们想要用来分隔提取值的分隔符。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="3311" class="lv lw it mw b gy na nb l nc nd">Selected Brands = CONCATENATEX(<br/>                            VALUES('Product'[BrandName]),<br/>                            'Product'[BrandName],<br/>                            ",")</span></pre><p id="81e3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我的例子中，我使用逗号作为分隔符，但你也可以使用其他的，如分号等。现在，当我再次查看我的报告时，我可以看到我得到了想要的结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/51b9fa4b3a38d7b9c2647cfd87e9eade.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0P7mbUujwDJErLBhTU6TOg.png"/></div></div></figure><p id="9003" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">而且，如果我在切片机中只选择了几个品牌，我的卡将进行调整以反映这些变化:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/dcbde97b6231046ceab3451f443206ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_xOTb4e6DpLOYC-erqbq-w.png"/></div></div></figure><h2 id="88e9" class="lv lw it bd lx ly lz dn ma mb mc dp md lh me mf mg ll mh mi mj lp mk ml mm mn bi translated">结合多种措施</h2><p id="b71e" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">您还可以为其他切片器创建相同的度量，然后将所有结果放入可视化表格中。因此，我将为 Year slicer 创建度量值:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="f512" class="lv lw it mw b gy na nb l nc nd">Selected Year = CONCATENATEX(<br/>                            VALUES(Dates[Year])<br/>                            ,Dates[Year]<br/>                            ,",")</span></pre><p id="9ba1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，当我将我的度量拖到表字段中时，我在一个地方看到了我选择的两个切片器的值:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/18fee4a5412c521dddd94cf131516367.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AtfaZ1p2VQ2iG8TOLn7YYw.png"/></div></div></figure><h2 id="e687" class="lv lw it bd lx ly lz dn ma mb mc dp md lh me mf mg ll mh mi mj lp mk ml mm mn bi translated">额外想法！</h2><p id="1b58" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">如果您的报告中有许多切片器，并且您想要显示所有选择，但是您不想浪费报告画布上的空间，您可以创建一个书签，其中包含具有所有选定值的表，然后只在用户请求时显示书签。</p><p id="10c2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">大概是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/78b56edf8d140944c60316e563ee6f2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*MQUbPLbRgCKgaH-3JCgrhA.gif"/></div></figure><p id="d8ab" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">多酷啊！因此，您不需要担心使用这个表会增加您的报告空间。您可以使用书签和操作来显示/隐藏它。</p><p id="4a3b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">成为会员，阅读媒体上的每一个故事！</p><p id="5f4e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">订阅<a class="ae lu" href="http://eepurl.com/gOH8iP" rel="noopener ugc nofollow" target="_blank">这里</a>获取更多有见地的数据文章！</p></div></div>    
</body>
</html>