<html>
<head>
<title>Building a Simple Text Recognizer in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python构建一个简单的文本识别器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-a-simple-text-recognizer-in-python-93e453ddb759?source=collection_archive---------12-----------------------#2020-06-19">https://towardsdatascience.com/building-a-simple-text-recognizer-in-python-93e453ddb759?source=collection_archive---------12-----------------------#2020-06-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7a8c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用文本识别器改进笔记记录过程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7e0a6911e4b0bd73514c9421ca622d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JcDPTmkDR8atVL2gq0GR7g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/photo/abstract-black-and-white-blur-book-261763/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">像素</a>的<a class="ae ky" href="https://www.pexels.com/@pixabay?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>拍摄</p></figure><p id="2c4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将向您展示如何使用Python从图像中提取文本。这个过程简称为“文本识别”或“文本检测”。所以基本上你可以从标题中理解，我们将构建一个简单的python程序来为我们提取文本。提取之后，程序还会将结果导出到一个文本文档中。这样，我们可以记录我们的结果。</p><p id="6510" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你以前没有听说过计算机视觉，这是了解它的最好时机。大多数机器学习和人工智能领域都与计算机视觉密切相关。随着我们的成长和探索，看到外面的世界对我们的发展有很大的影响。这对机器来说也是一样的，它们使用图像来观察外部世界，这些图像基本上被转化为计算机可以理解的数据。计算机视觉是一个非常深的海洋，我只是试图给出一些想法。如果你想了解更多关于计算机视觉的知识，这里有一个谷歌云平台的不错的视频:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="eedc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在接下来的几周里，我想给你们展示许多不错的项目，让你们开始学习计算机视觉。你会惊讶于使用计算机视觉可以做多么强大的事情。文本识别只是大海中的一滴水。如果你准备好了，让我们开始吧！</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="47d8" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">步骤1 —库</h1><p id="1f2c" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">首先，让我们安装我们将在这个程序中使用的模块包。我们将安装PIL，宇宙魔方软件包。PIL代表Python图像库，它为你的程序增加了图像处理能力。该模块支持多种图像格式。PyTesseract是我们将使用的另一个模块，它主要完成文本识别部分。这将有助于我们识别和阅读文本。</p><p id="4dc4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是pip同时安装多个模块的代码:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="61f5" class="ng mf it nc b gy nh ni l nj nk">pip install Pillow pytesseract</span></pre><p id="4fd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想了解关于这些产品包的更多信息:</p><ul class=""><li id="7be6" class="nl nm it lb b lc ld lf lg li nn lm no lq np lu nq nr ns nt bi translated"><a class="ae ky" href="https://pillow.readthedocs.io/en/3.0.x/handbook/tutorial.html" rel="noopener ugc nofollow" target="_blank"> PIL </a></li><li id="47d1" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated"><a class="ae ky" href="https://pypi.org/project/pytesseract/" rel="noopener ugc nofollow" target="_blank">宇宙魔方</a></li></ul><p id="a444" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们将库导入到我们的程序中:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="10e0" class="ng mf it nc b gy nh ni l nj nk"># adds image processing capabilities<br/>from PIL import Image</span><span id="059c" class="ng mf it nc b gy nz ni l nj nk"># will convert the image to text string<br/>import pytesseract</span></pre></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="f043" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">步骤2 —文本识别</h1><p id="c1ac" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">在这一步，我们将选择一个我们想要处理的图像。你可以从谷歌上下载图片，或者用手机拍照。两种方式都应该可以。选择你的图像后，在同一个目录下创建一个新的文件夹，你可以把它命名为“image_test ”,并把图像文件复制到那个文件夹中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/5be438fab1fa5cdc1eb4e04e8d9e180b.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*PASXDI9hKK5ZBjmiY5FALA.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我将使用的图像</p></figure><p id="db44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我下载了一张图片，上面引用了弗吉尼亚·伍尔夫的话。有趣的事实:我真的很喜欢读她的书:)</p><p id="eeef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论如何，在我们的image_test文件夹中粘贴图像之后，让我们回到编码。在下面的代码中，我们创建一个图像变量来存储图像文件，然后使用image_to_string方法识别文本。</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="989d" class="ng mf it nc b gy nh ni l nj nk"># assigning an image from the source path<br/>img = Image.open(‘image_test/virginia-quote.jpg’)</span><span id="b5db" class="ng mf it nc b gy nz ni l nj nk"># converts the image to result and saves it into result variable<br/>result = pytesseract.image_to_string(img)</span></pre></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="4b05" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">第3步—导出</h1><p id="55d2" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">在这一步中，我们将把前面代码的结果导出到一个文本文档中。这样，我们将同时拥有原始图像文件和我们从该图像中识别的文本。</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="d702" class="ng mf it nc b gy nh ni l nj nk">with open(‘text_result.txt’, mode =’w’) as file:<br/> file.write(result)<br/> print(“ready!”)</span></pre><p id="e2f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">干得好！您刚刚使用Python创建了自己的文本识别器。如果你想做得更好，检查下一个额外的步骤。这里还有一个你可能感兴趣的项目。</p><div class="ob oc gp gr od oe"><a rel="noopener follow" target="_blank" href="/building-a-speech-recognizer-in-python-2dad733949b4"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd iu gy z fp oj fr fs ok fu fw is bi translated">用Python构建语音识别器</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">使用谷歌云语音API将您的音频文件转换为文本</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">towardsdatascience.com</p></div></div><div class="on l"><div class="oo l op oq or on os ks oe"/></div></div></a></div></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="a8e6" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">额外—图像增强</h1><p id="c1d9" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">PIL是一个巨大的包裹，有许多功能。在这个额外的步骤中，我们将对图像做一些小的改动，以便我们的文本识别器可以更容易地识别或“读取”文本。在图像上做一些小小的改动在计算机视觉中占据了很大的位置。计算机需要我们的帮助来更好地处理图像。</p><p id="d2d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没有图像处理，就像把菜谱食材放在孩子面前，让他/她吃。有了正确的图像处理，就像把煮好的食物放在孩子面前。差别是巨大的，我强烈推荐通过图像处理文档来了解更多。</p><p id="2ca7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是添加了一些小改动的完整代码，换句话说，这是一段新鲜出炉的代码:)</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="8c79" class="ng mf it nc b gy nh ni l nj nk"># adds more image processing capabilities<br/>from PIL import Image, ImageEnhance</span><span id="3a35" class="ng mf it nc b gy nz ni l nj nk"># assigning an image from the source path<br/>img = Image.open(‘image_test/virginia-quote.jpg’)</span><span id="76b5" class="ng mf it nc b gy nz ni l nj nk"># adding some sharpness and contrast to the image <br/>enhancer1 = ImageEnhance.Sharpness(img)<br/>enhancer2 = ImageEnhance.Contrast(img)</span><span id="0dc7" class="ng mf it nc b gy nz ni l nj nk">img_edit = enhancer1.enhance(20.0)<br/>img_edit = enhancer2.enhance(1.5)</span><span id="df3e" class="ng mf it nc b gy nz ni l nj nk"># save the new image<br/>img_edit.save("edited_image.png")</span><span id="c16f" class="ng mf it nc b gy nz ni l nj nk"># converts the image to result and saves it into result variable<br/>result = pytesseract.image_to_string(img_edit)</span><span id="07de" class="ng mf it nc b gy nz ni l nj nk">with open(‘text_result2.txt’, mode =’w’) as file:<br/> file.write(result)<br/> print(“ready!”)</span></pre></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="fd68" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">视频演示</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="5191" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">结果呢</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/0dd91c375c84133430302d193d48f20a.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*FMYns9Ay6qT10XmB9lq1WA.png"/></div></figure><h2 id="c485" class="ng mf it bd mg ou ov dn mk ow ox dp mo li oy oz mq lm pa pb ms lq pc pd mu pe bi translated">如何在日常生活中使用文本识别器？</h2><p id="43a7" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">就我个人而言，我正在使用我们刚刚创建的工具将我的书页转换成文本文档，它使记笔记的过程变得更加容易和快速。现在，我不再每次都写下我最喜欢的几行，而是给那一页拍张照，然后用文本识别器进行转换。这难道不是编码最酷的地方吗？创造一些能解决你生活中一个问题的东西。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="9653" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="pf">我是贝希克·居文，我喜欢分享关于创造力、编程、动力和生活的故事。跟随我</em> <a class="ae ky" href="https://medium.com/@lifexplorer" rel="noopener"> <em class="pf">中型</em> </a> <em class="pf">留下来受启发。</em></p></div></div>    
</body>
</html>