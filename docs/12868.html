<html>
<head>
<title>How to build an API in AWS — using AWS Lambda and API Gateway</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 AWS 中构建 API—使用 AWS Lambda 和 API Gateway</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-build-an-api-in-aws-using-aws-lambda-and-api-gateway-22a8dee7c8e1?source=collection_archive---------13-----------------------#2020-09-04">https://towardsdatascience.com/how-to-build-an-api-in-aws-using-aws-lambda-and-api-gateway-22a8dee7c8e1?source=collection_archive---------13-----------------------#2020-09-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7021" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">因为 API 就是未来！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e3e4dcdc9f647a0da5b2129c16583a40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6nb7mITiscRJ6AJr"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">如何在 AWS 中构建 API—使用 Lambda 和 API Gateway。Emile Perron 在<a class="ae ky" href="https://unsplash.com/s/photos/api-programming?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="f555" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">API 是应用编程接口的缩写，是允许不同(部分)计算机程序交换数据的连接点。使用 API 来交付软件服务可以使您的代码组织得更好，更容易重用。</p><p id="c06b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将介绍使用 AWS Lambda 和 API Gateway 创建 API 的基本步骤。</p><p id="c3ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该示例是一个非常短的代码示例，它将根据给定的长度、一些大写字母和一些数字字符创建一个随机密码。其他字符将是小写字母。您可以让 API 背后的服务变得尽可能大和先进，从出售数据到使用先进的人工智能模型进行预测。</p><p id="01a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始吧:</p><h1 id="4b32" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.创建 lambda 函数</h1><p id="585a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在 AWS 管理控制台上，转到 Lambda:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/d93627927df3c06d73df19361f9aabc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VL0tSNvhZDYaky3hHAer_Q.png"/></div></div></figure><p id="b89b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建新功能:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/b907c1cc5abd39f55eb2db5b448a752a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MoxonBPiNnHI7z0r73kd1w.png"/></div></div></figure><p id="d61d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">选择<em class="mu">“作者从零开始”</em>，给你的函数起个名字。在这种情况下，api 将生成安全的密码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/10f3f4f50b1b9ae7f6e7ea98024260ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oCRxszZjCqJrYfMLbnCMow.png"/></div></div></figure><h1 id="c0be" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.编写 lambda 函数</h1><p id="af21" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在新创建的 lambda 函数中，转到函数代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/a462687ff55c30fc2189b5575a2dd0ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SzD_YKtPNLGhXEe91KWv3A.png"/></div></div></figure><p id="3e68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并编写您的函数:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/8b577f7c699e3ab0967aba6b0e54a529.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7M8LGRUwkeoofl7kyPtTnA.png"/></div></div></figure><p id="3b66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我使用的代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><h1 id="3f7b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.配置测试</h1><p id="b22f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">进入测试菜单，点击配置测试。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/deb7bf43d1bd9b1d4e37184fecd9953f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YL8BoT6aZDWwCJAMGLCJfA.png"/></div></div></figure><p id="e3af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单击 create new test event，并在单击 create 之前在字典中为您的测试指定输入:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/dc869d0c19d964ba0f5a50618b5c9de1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jCaUOS216y4Ycn99r0V3dw.png"/></div></div></figure><p id="16f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过点击测试来测试你的 Lambda 函数:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/174350f4c5c5e7605013e7480ae1498b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ko9cySsFgeKOERrenJC8ag.png"/></div></div></figure><p id="3c59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您会看到它在字典(或 json)的“主体”中发回了一个密码。</p><h1 id="541b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">4.构建 API 网关</h1><p id="8285" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">通过 AWS 管理控制台转到 API 网关。点击 REST API。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/22f970a55bb51f70da40091d40e19251.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-cxCox-gyxtQQ8oDuUR3rw.png"/></div></div></figure><p id="9893" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单击新建 API 并选择一个名称:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/434bb3f4e0a7c8bb9852b7db70f237ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RYB9MKeUtZtnwCVNaN0yCQ.png"/></div></div></figure><p id="66ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个 POST 方法，并选择集成类型“Lambda Function”。然后选择 Lambda 函数的名称。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/e0b35abce5c9afb68292538b5f742e91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ySvngHchgm3l2VcA1vPjiQ.png"/></div></div></figure><p id="3cd8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您现在应该会看到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/16dfc4bb27f6ccc2459db0bea5567f6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fsLwdOsVfUHu7CHLCxi18w.png"/></div></div></figure><p id="7ac9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后一步，部署您的 API:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/b9930fcbfee1eb831760e3d0da42c237.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MDwCCuCRTfxHs1oNEobmPQ.png"/></div></div></figure><p id="aea8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以命名为“<em class="mu"> prod </em>”例如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/77c18578a89221b4cd2ce143f3c7b2d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*iHPoF6ZL63nkI7squmI-Ow.png"/></div></figure><p id="86de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">API 网关现在应该告诉您找到 API 的 URL:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/d525b7c1800c46d1f9677e84b4bc6fc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vfnMI_4FdagUMztvP-u-rg.png"/></div></div></figure><h1 id="b46f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">5.真正测试你的 API</h1><p id="a056" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">现在，您可以使用 Python 笔记本或任何您喜欢的东西来测试您的 API。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="a29e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你把它复制粘贴到一个笔记本上，API 会给你发送一个新的密码！</p></div></div>    
</body>
</html>