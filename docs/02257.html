<html>
<head>
<title>Lessons learned deploying my first ML project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">部署我的第一个 ML 项目的经验教训</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/lessons-learned-deploying-my-first-ml-project-80e8b44bcd21?source=collection_archive---------23-----------------------#2020-03-03">https://towardsdatascience.com/lessons-learned-deploying-my-first-ml-project-80e8b44bcd21?source=collection_archive---------23-----------------------#2020-03-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/750f78fc70bbd4901f58e178eb37f046.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Y9MHJCahLfbeA7Yr"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">弗兰基·查马基在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class=""/><div class=""><h2 id="83dd" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">启动我的第一个生产就绪 ML 项目后的五点收获</h2></div><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi kv"><img src="../Images/11f26e69226ce872d077531079e39a23.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/1*UKIHA2AHtB9WPG-KrfwSZg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">来源:<a class="ae jd" href="https://xkcd.com/1838/" rel="noopener ugc nofollow" target="_blank"> Xkcd </a></p></figure><h1 id="5155" class="la lb jg bd lc ld le lf lg lh li lj lk km ll kn lm kp ln kq lo ks lp kt lq lr bi translated">背景</h1><p id="fcc1" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">我是一名软件工程师，为<a class="ae jd" href="https://www.ebscohost.com/novelist" rel="noopener ugc nofollow" target="_blank">小说家工作，</a>为公共图书馆制作软件。读者咨询也就是书籍推荐是我们的饭碗。想想网飞，但对于书籍！我们有两级推荐:A 级，我们的内部专业人员，如图书管理员等。为最受欢迎的书籍创建手工推荐，B 级推荐由推荐系统使用我们关于书籍的专有元数据生成。</p><p id="729a" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">我们的专有元数据是一个宝库:数十万本有吸引力的术语、流派和主题标签的书籍。我们的内部编目员已经花了数年时间对书籍进行编目并添加元数据。但这也是一个瓶颈，因为他们必须手动阅读书籍摘要和评论，以便添加适当的元数据。</p><blockquote class="mt mu mv"><p id="39be" class="ls lt mw lu b lv mo kh lx ly mp kk ma mx mq md me my mr mh mi mz ms ml mm mn ij bi translated">元数据的例子:appealpacing.fast .快节奏，appealstory.issue .面向问题，appearl character . lgbtqia _ diversity，appearl tone .发人深省等。</p></blockquote><p id="1dc6" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">我的项目很简单:给定我们的标签书评宝库，训练一个多标签分类器，它将预测上诉条款。这将加快我们的编目过程，消除我们的瓶颈。</p><h1 id="7883" class="la lb jg bd lc ld le lf lg lh li lj lk km ll kn lm kp ln kq lo ks lp kt lq lr bi translated">五个外卖</h1><h2 id="fb4a" class="na lb jg bd lc nb nc dn lg nd ne dp lk mb nf ng lm mf nh ni lo mj nj nk lq nl bi translated">1.理解数据的重要性</h2><p id="1562" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">我的机器学习教育包括三年前在大学期间学习的两门课程，加上通过观看吴恩达和阅读来自媒体/数据科学的文章进行的自学。一言以蔽之，没有正规的 ML 教育。作为一名初学机器学习的实践者(我不敢称自己为机器学习工程师)，我做了初学者做的事情:先编码，后思考。</p><p id="58f7" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">我开始研究(阅读谷歌)各种多标签文本分类解决方案，并逐一实现，比较结果，并对缺乏准确性感到沮丧。在尝试了第六个或第七个分类器后，我踩下刹车，后退了一步。然后我做了我之前应该做的事情:了解我的数据的前景。在做了一些基本的数据探索后，我发现我的数据集严重不平衡。在我可能的 158 个标签中，只有 20 个有相当数量的样本。还有，158 个独特的标签！</p><p id="68ad" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">在将数据集分成单独的组(即 appealtone、appealwritingstyle 等)后，我使用 k-nearest neighborhood(<a class="ae jd" href="http://scikit.ml/api/skmultilearn.adapt.mlknn.html#multilabel-k-nearest-neighbours" rel="noopener ugc nofollow" target="_blank">ml KNN</a>)的改编版本获得了最佳结果(性能+训练速度)。分而治之！下一步是使用 BERT 训练一个。</p><h2 id="319d" class="na lb jg bd lc nb nc dn lg nd ne dp lk mb nf ng lm mf nh ni lo mj nj nk lq nl bi translated">2.创建模型只是工作的一半</h2><p id="7547" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">所以你创造了这个模型，得到了最佳的性能和很高的精确度。现在怎么办？你跟踪的朱庇特笔记本没有提到那之后的生活。以下是我和我的团队为完成这个项目必须做的事情:</p><ul class=""><li id="8eea" class="nm nn jg lu b lv mo ly mp mb no mf np mj nq mn nr ns nt nu bi translated">创建一个 Flask API 端点，这样我们就可以发送一个包含新书评论的 POST 请求，并检索预测标签的列表。</li><li id="039d" class="nm nn jg lu b lv nv ly nw mb nx mf ny mj nz mn nr ns nt nu bi translated">将 API 部署到 AWS，这样我们就可以使用它了。</li><li id="638b" class="nm nn jg lu b lv nv ly nw mb nx mf ny mj nz mn nr ns nt nu bi translated">将模型工件保存到 AWS S3 (AWS4？).创建一个<a class="ae jd" href="https://aws.amazon.com/cloudformation/" rel="noopener ugc nofollow" target="_blank">云形成</a>模板来自动旋转实例。</li><li id="bffe" class="nm nn jg lu b lv nv ly nw mb nx mf ny mj nz mn nr ns nt nu bi translated">为 API 编写自动化测试。</li><li id="e470" class="nm nn jg lu b lv nv ly nw mb nx mf ny mj nz mn nr ns nt nu bi translated">创建一个 React tester 应用程序，以便我们的编目员可以玩分类器，并对有效性进行手动 QA。</li><li id="05d5" class="nm nn jg lu b lv nv ly nw mb nx mf ny mj nz mn nr ns nt nu bi translated">部署 React 应用程序。</li><li id="3b5a" class="nm nn jg lu b lv nv ly nw mb nx mf ny mj nz mn nr ns nt nu bi translated">为一切创建自主部署流程(<a class="ae jd" href="https://www.redhat.com/en/topics/devops/what-is-ci-cd" rel="noopener ugc nofollow" target="_blank"> CI/CD </a>)。</li></ul><blockquote class="mt mu mv"><p id="5368" class="ls lt mw lu b lv mo kh lx ly mp kk ma mx mq md me my mr mh mi mz ms ml mm mn ij bi translated"><strong class="lu jh"> Protip: </strong>使用<a class="ae jd" href="https://www.cortex.dev/" rel="noopener ugc nofollow" target="_blank"> Cortex </a>为您的模型实现 CI/CD 自动化。</p></blockquote><p id="b5bc" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">创建模型/分类器是工作的一半。可能是四分之一。老实说，取决于你的项目。当你做计划时，确保你考虑到所有这些辅助工作。</p><blockquote class="mt mu mv"><p id="2e08" class="ls lt mw lu b lv mo kh lx ly mp kk ma mx mq md me my mr mh mi mz ms ml mm mn ij bi translated"><strong class="lu jh"> Protip: </strong>用 Python 脚本编写你的 ML 代码，而不是直接在 Jupyter 笔记本上写。否则，审查笔记本中的代码变更几乎是不可能的。此外，这使得测试更加容易。</p></blockquote><h2 id="f85a" class="na lb jg bd lc nb nc dn lg nd ne dp lk mb nf ng lm mf nh ni lo mj nj nk lq nl bi translated">3.你不需要成为一个 ML 专家</h2><p id="1283" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">让我以这样一句话开始这一部分:如果你是一名专家，那就更好了。<em class="mw">显然</em>。但是如果你不是，这并不意味着你不能创造一个 ML 驱动的产品！正如我之前所说，我没有受过正规的 ML 教育。诚然，学习曲线非常陡峭，但并非不可逾越。我每天都觉得自己像个冒名顶替者，但当我看到我们的编目员使用我们的上诉预测器时，我感觉好了一点。</p><p id="bb96" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">ML 生态圈太神奇了！像熊猫，scikit-learn，pytorch，huggingface 等图书馆。让机器学习大众化。您可以用不到 20 行代码创建自己的模型！有大量的教程会在整个过程中帮助你。如果你有毅力和决心，你可以很容易地创造自己的 ML 动力产品。它可能不是最尖端的型号，但它是你的型号！你边做边学。没有什么能打败它。</p><p id="71ae" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">记住，只要你在解决一个问题，并且有人从中受益，就有价值。最终用户并不关心你的模型的 F1 值是 88%还是 90%。</p><h2 id="bbdb" class="na lb jg bd lc nb nc dn lg nd ne dp lk mb nf ng lm mf nh ni lo mj nj nk lq nl bi translated">4.敏捷开发的重要性</h2><p id="6676" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">软件工程是解决问题:你有一个需要解决的商业问题。对于我来说，我们希望减少编目瓶颈，加快过程，节省时间和资源。永远让问题引导你找到解决方案。而不是相反。</p><p id="9ff9" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">你想尽快得到你的产品的实际反馈，然后利用反馈对它进行迭代。对我们来说，就是把一些东西交给我们的编目员，这样他们就可以利用他们的领域专业知识来验证预测器的结果。然后，我们使用他们的反馈来调整模型。</p><h2 id="1390" class="na lb jg bd lc nb nc dn lg nd ne dp lk mb nf ng lm mf nh ni lo mj nj nk lq nl bi translated">5.数据为王</h2><p id="823c" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">你的模型和你的数据一样好。这是没有办法的。在我看来，ML 中最困难的事情之一是管理一个全面的数据集。幸运的是，我已经准备好了。这加快了整个过程，让我的生活更轻松。此外，我们的数据由领域专家标记，这意味着它们非常准确，这反过来使我们能够创建一个相当准确的模型。</p><p id="e1a2" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">在开始自己的项目之前，请确保您的数据是干净的。了解您的数据环境。不要重蹈我的覆辙。先做一些数据探索。看看你是否可以使用像<a class="ae jd" href="https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.over_sampling.SMOTE.html" rel="noopener ugc nofollow" target="_blank"> SMOTE </a>这样的工具来增强它。记住，即使你的模型不像你希望的那样精确，你也能在这个过程中学习到一些新的东西。从长远来看，这是有回报的。</p></div></div>    
</body>
</html>