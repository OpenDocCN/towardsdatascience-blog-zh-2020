<html>
<head>
<title>Machine Learning is Stocks. Building Unsupervised Company Classification.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习就是股票。建立无监督的公司分类。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/machine-learning-is-stocks-pre-processing-for-unsupervised-company-classification-8f35ce8343f?source=collection_archive---------65-----------------------#2020-05-29">https://towardsdatascience.com/machine-learning-is-stocks-pre-processing-for-unsupervised-company-classification-8f35ce8343f?source=collection_archive---------65-----------------------#2020-05-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="1b9a" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">亨尼投资</h2><div class=""/><div class=""><h2 id="3e77" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">实现有意义的公司集群所需的数据探索和处理</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/de26fba12848c3249d36cb88a3fcb4ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gYF68DCHg2RMGMO-somS-Q.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://stock.adobe.com/ca/search?filters%5Bcontent_type%3Aphoto%5D=1&amp;filters%5Bcontent_type%3Aillustration%5D=1&amp;filters%5Bcontent_type%3Azip_vector%5D=1&amp;filters%5Bcontent_type%3Avideo%5D=1&amp;filters%5Bcontent_type%3Atemplate%5D=1&amp;filters%5Bcontent_type%3A3d%5D=1&amp;filters%5Bcontent_type%3Aimage%5D=1&amp;filters%5Binclude_stock_enterprise%5D=0&amp;filters%5Bis_editorial%5D=0&amp;k=clusters&amp;order=relevance&amp;safe_search=1&amp;search_page=6&amp;search_type=pagination&amp;limit=100&amp;acp=&amp;aco=clusters&amp;get_facets=0&amp;asset_id=342670068" rel="noopener ugc nofollow" target="_blank">图片</a>作者<a class="ae lh" href="https://stock.adobe.com/ca/contributor/293582/new-africa?load_type=author&amp;prev_url=detail" rel="noopener ugc nofollow" target="_blank">新非洲</a></p></figure><p id="1927" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这篇文章的想法是建立一个新的，<strong class="lk jd">数据驱动的公司分类</strong>基于他们的财务状况，而不是他们做的业务类型。</p><p id="483a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这项研究的前提是基于这样一个想法，即值得购买的优秀股票在同行中会更优秀。在这种情况下，我将同行群体定义为具有<strong class="lk jd">相似财务结构</strong>(例如，小市值、大量债务、盈利)的一组公司。</p><p id="4fb7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你没有读过介绍，我建议你在这里读一下我为这项研究写的前言:</p><ul class=""><li id="1828" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated"><a class="ae lh" rel="noopener" target="_blank" href="/machine-learning-in-stocks-re-defining-company-groups-1b4872459458">机器学习就是股票。重新定义公司集团</a></li></ul><h1 id="cdea" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">加快速度</h1><p id="a5d7" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">在<a class="ae lh" rel="noopener" target="_blank" href="/machine-learning-in-stocks-re-defining-company-groups-1b4872459458">上一篇文章</a>中，我选择了 5 个维度来定义公司的财务结构:</p><ul class=""><li id="4f3d" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">盈利能力——捕捉公司是否赚钱</li><li id="56d3" class="me mf it lk b ll nk lo nl lr nm lv nn lz no md mj mk ml mm bi translated">总资产——捕捉公司规模</li><li id="a531" class="me mf it lk b ll nk lo nl lr nm lv nn lz no md mj mk ml mm bi translated">负债权益比——捕捉融资结构</li><li id="3ec4" class="me mf it lk b ll nk lo nl lr nm lv nn lz no md mj mk ml mm bi translated">营业利润——捕捉盈利的难度</li><li id="8a7b" class="me mf it lk b ll nk lo nl lr nm lv nn lz no md mj mk ml mm bi translated">每股收益增长(EPS) —捕捉逐年增长</li></ul><p id="c0c2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我还确保了这些维度是独立的。这是一个重要的考虑因素，因为我想衡量一家公司在各个独立领域的表现，而不考虑它在其他领域的表现。这是我之前展示过的 Spearman 相关图:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi np"><img src="../Images/32300ed5da318411bf1caabd379fbf05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cLtlwJ8TzOueawB9pT_kqw.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">来自<a class="ae lh" href="https://www.vhinny.com/download" rel="noopener ugc nofollow" target="_blank"> Vhinny </a>的财务数据</p></figure><h1 id="3d1e" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">数据探索</h1><p id="67ab" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">在我进入集群之前，让我们评估一下这 5 个特性的分布。理解分布对于选择合适的聚类算法至关重要。它还会显示出我将在预处理过程中处理的数据中的潜在流。</p><p id="3907" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">以下是所有<strong class="lk jd">五(5) </strong>特征在单一图上的分布:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/e463752737d87a69333abf6f92a6062a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8p_FI2THVUqHqAikh_uEQQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">选择功能的分布</p></figure><p id="2a5e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> X 轴</strong>显示每个特征的值。<strong class="lk jd"> Y 轴</strong>显示落入每个对应箱的公司数量。对于这项分析，每家公司都在 2019 年报告了一次财务状况。本研究中使用的公司总数约为 4，000 家。</p><p id="0ae5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">有几个观察可能会引起人们的注意:</p><ul class=""><li id="8b93" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">负<strong class="lk jd">债转股</strong></li><li id="a92b" class="me mf it lk b ll nk lo nl lr nm lv nn lz no md mj mk ml mm bi translated">高得惊人的比例<strong class="lk jd">债务对股权</strong>低于 0.5</li><li id="1525" class="me mf it lk b ll nk lo nl lr nm lv nn lz no md mj mk ml mm bi translated"><strong class="lk jd">资产</strong>和<strong class="lk jd">债转股</strong>的偏态分布</li></ul><p id="0eff" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">负债转股并不常见，但也是可能的。虽然债务不能为负，但如果总负债超过公司总资产，权益可以为负。</p><p id="93fe" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">偏斜分布</strong>也可以，只是我们在选择聚类算法时必须记住这一点。一些算法依赖于正态分布的假设，这在这里不成立。</p><p id="e6a3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">大多数低于 0.5 的债务权益比率确实令人担忧。许多上市公司严重依赖债务融资，债务融资往往超过股东权益。经过进一步的研究，我在这个特性中发现了许多 0，表明在数据提取过程中存在潜在的流动。纵观我选择的所有特征，除了盈利能力，我认为它们都不为零。</p><p id="9981" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">用空值代替所有的 0 后，我们看到<strong class="lk jd">债务与股本</strong>比率发生了显著变化。其他功能没有受到显著影响:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nr"><img src="../Images/4a21a4aa8959bb9d9c92dbfec5bb48a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8oL7iwjdyfpWAz5e3RQARQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">选择功能的分布</p></figure><p id="76cd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">该图与之前的图相同，除了<strong class="lk jd">深蓝色</strong>图表仅使用<strong class="lk jd">非零值</strong>构建。将蓝色图表放在红色图表之上，唯一明显的区别是债转股的特征。我会相信蓝色前进，依靠我的商业意识。</p><h1 id="cefe" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">选择聚类算法</h1><p id="640f" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">聚类练习一般是一半艺术，一半科学。因为没有一致的度量来评估算法的性能，所以在找到可行的解决方案之前，经常尝试许多算法。虽然一些距离测量可以用于比较，但它仍然是相当抽象的。流行的聚类方法的一个很好的概述可以在<a class="ae lh" rel="noopener" target="_blank" href="/the-5-clustering-algorithms-data-scientists-need-to-know-a36d136ef68">这里</a>找到。</p><p id="114e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我为这项研究选择的方法是<strong class="lk jd"> K-means </strong>聚类，因为它的计算效率、<strong class="lk jd"> O(n) </strong>和相对简单的配置。我要做的唯一决定是关于簇的<strong class="lk jd">数量</strong>，它可以通过实验以一种非常简单的方式确定。</p><h1 id="f2c5" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">集群前的最后步骤</h1><p id="4212" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">在数据探索阶段，我们已经看到了<strong class="lk jd">资产</strong>和<strong class="lk jd">债转股</strong>特征的偏态分布。由于<strong class="lk jd"> K-means </strong>算法是基于寻找数据中的最优均值，因此偏态分布是危险的，因为异常值可能会不可控地将这些均值拉向自己的方向。</p><p id="9091" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">处理这个问题的一个方法是去除异常值。由于 4，000 个示例并不是过多的数据，因此删除数据点是不可取的。相反，我可以在分布中强制执行<strong class="lk jd">最大值</strong>和<strong class="lk jd">最小值</strong>以减小它们与平均值的距离。</p><p id="1ca0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一种方法是使用分位数和四分位间距来限定分布中的最小<strong class="lk jd">和最大</strong>值。在这种情况下，我使用了</p><ul class=""><li id="cfc3" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">Q1-3 * IQR 封顶<strong class="lk jd">分钟</strong></li><li id="84dd" class="me mf it lk b ll nk lo nl lr nm lv nn lz no md mj mk ml mm bi translated">Q3+3*IQR 到上限<strong class="lk jd">最大值</strong></li></ul><p id="6bbd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">其中<strong class="lk jd"> Q1 </strong>和<strong class="lk jd"> Q3 </strong>以及第一个(25%)和第三个(75%)分位数和<strong class="lk jd"> IQR </strong>是四分位间距。我为<strong class="lk jd"> IQR </strong>任意选择了<strong class="lk jd"> 3 </strong>的倍数，以保持上限相对远离中间值，从而不会显著扰乱原始分布。</p><p id="eb55" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下面是此操作的示例代码，以更好地说明这种方法。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="5d57" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">此封顶过程应用于数据集中的所有要素。<strong class="lk jd">资产</strong>和<strong class="lk jd">债务对权益</strong>比率的最终分配如下所示:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nu"><img src="../Images/addf9c22ce9a988d258397e209a980d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8mwkXVPLL0UKETg_HTiz3g.png"/></div></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nv"><img src="../Images/135ff8f32954039ce1c9de887598c4fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LhU3IKnc5b-5Z2TrPqoIOg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">原始分布尾部封顶的效果</p></figure><h1 id="8741" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">后续步骤</h1><p id="09d8" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">本分析的<strong class="lk jd">数据探索</strong>和<strong class="lk jd">预处理</strong>阶段到此结束。在下一篇文章中，我将根据数据确定最佳的集群数量，并确定公司的特征。</p><p id="1fea" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">顺便说一下…🤚</p><h1 id="a857" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">我们连线吧！</h1><p id="7507" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">我很高兴与那些和我分享通往<strong class="lk jd">财务独立之路的人联系。如果你也在寻求经济独立，或者你想与人合作，交流想法，请联系我们！以下是一些可以找到我的地方:</strong></p><ul class=""><li id="c35f" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated"><a class="ae lh" href="http://www.vhinny.com/" rel="noopener ugc nofollow" target="_blank">www.vhinny.com</a>—投资研究平台，为您自己的分析提供金融数据</li><li id="a543" class="me mf it lk b ll nk lo nl lr nm lv nn lz no md mj mk ml mm bi translated"><a class="ae lh" href="https://www.linkedin.com/company/vhinny" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/company/vhinny</a>——加入我们 LinkedIn 上的社区，在那里我和其他贡献者分享与投资相关的内容</li></ul><p id="715a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">干杯！</p></div></div>    
</body>
</html>