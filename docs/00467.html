<html>
<head>
<title>A Minimalist Approach to Python Virtual Environments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python虚拟环境的极简方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-minimalist-approach-to-python-virtual-environments-f5dacf76bfad?source=collection_archive---------13-----------------------#2020-01-14">https://towardsdatascience.com/a-minimalist-approach-to-python-virtual-environments-f5dacf76bfad?source=collection_archive---------13-----------------------#2020-01-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="635a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Python虚拟环境对于数据科学家来说是一个非常有用的工具，但是有时候使用和管理它们会很痛苦。<br/>当然，现在已经有很多管理虚拟环境的解决方案，为什么还要创建一个新的呢？<br/>因为我是一个简单的人，喜欢简单的东西——不需要太多思考并且容易使用的东西，这样我就可以把注意力集中在更复杂的问题上。我发现大多数成熟的工具都是多余的，我需要一些我可以随意使用的东西。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/fec08539c343d578470743b0d62d6228.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EX5QQo3zcsaPOfIf_trzoQ.png"/></div></div></figure><h1 id="92dc" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">虚拟环境快速介绍</h1><p id="cbe5" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">虚拟环境有时会被误解，并且缺乏你为什么想要使用它们的背景。为了清楚起见，这里有一个超级简单的(虚构的)场景来说明为什么您需要使用虚拟环境。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><p id="0dc6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">一个虚构的例子</strong> <br/>假设您正在本地机器上使用awesome _ python _ package版构建一个模型(免责声明:不是一个真正的包)，并且您有以下代码行:</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="55b4" class="mp lb it ml b gy mq mr l ms mt">y = “one” + “two”<br/>print(y)</span></pre><p id="3b64" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">显然，<em class="mu"> awesome_python_package </em>的开发者在<em class="mu">版本2.0 </em>中做了一个更新，将数字串读取为数字。</p><p id="e05a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在想象一下，您已经完成了您的模型，并且需要将它部署到生产环境中，以便您的模型可以在现实世界中生活和玩耍。<br/>但问题是这个生产环境没有使用<em class="mu">awesome _ python _ package 2.0版</em>。它使用的是<em class="mu">1.0版</em>，不幸的是<em class="mu">1.0版</em>不具备将数字串读取为数字的能力。那么会发生什么呢？当您的代码试图在生产环境中运行时，它将返回一个错误，世界将真正结束。</p><p id="2454" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这就是虚拟环境的用武之地。他们允许你在隔离的容器里工作</p><blockquote class="mv mw mx"><p id="634b" class="jq jr mu js b jt ju jv jw jx jy jz ka my kc kd ke mz kg kh ki na kk kl km kn im bi translated">“电脑，这个项目请用awesome _ python _ package版”<br/> -virtualenv</p></blockquote><p id="e6f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这样，当您在这个特定的项目上工作时(在虚拟环境中)，您将使用正确的包版本。</p><p id="4f35" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">总而言之，虚拟环境是一个干净、隔离的石板，你可以在这里安装项目所需的软件包和版本，而不会破坏世界。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="6b24" class="la lb it bd lc ld nb lf lg lh nc lj lk ll nd ln lo lp ne lr ls lt nf lv lw lx bi translated"><strong class="ak">我们得到了“<em class="ng">为什么”</em>，但是“<em class="ng">如何”</em>呢？</strong></h1><p id="e171" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">现在，我们已经了解了为什么要使用虚拟环境，让我们来讨论如何管理它们。<br/> <strong class="js iu">我们要用一个极简的命令行工具，叫做venvtool。</strong></p><h2 id="e742" class="mp lb it bd lc nh ni dn lg nj nk dp lk kb nl nm lo kf nn no ls kj np nq lw nr bi translated"><strong class="ak">设置</strong></h2><ol class=""><li id="a4ff" class="ns nt it js b jt ly jx lz kb nu kf nv kj nw kn nx ny nz oa bi translated">首先，如果你还没有virtualenv，那么你需要安装它。</li></ol><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="7926" class="mp lb it ml b gy mq mr l ms mt">pip install virtualenv</span></pre><p id="b30e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以单独使用virtualenv工具，实现你所有最疯狂的虚拟环境梦想，但管理它们将取决于你自己。</p><blockquote class="mv mw mx"><p id="3fa8" class="jq jr mu js b jt ju jv jw jx jy jz ka my kc kd ke mz kg kh ki na kk kl km kn im bi translated">所以下一步就是“极简主义”的部分了。</p></blockquote><p id="8195" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">2.使用<strong class="js iu"> venvtool </strong>来帮助你管理你的虚拟环境<br/>你可以在这里 下载<a class="ae ob" href="https://github.com/willcasey/venvtool" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">并按照说明进行设置。</strong></a></p><h2 id="1cbd" class="mp lb it bd lc nh ni dn lg nj nk dp lk kb nl nm lo kf nn no ls kj np nq lw nr bi translated">使用venvtool</h2><p id="d4b0" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">一旦您运行venvtool的设置脚本，它将在您的主路径中创建一个目录，所有未来的虚拟环境都将存储在该目录中。现在你已经准备好创建你的第一个虚拟环境了。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="e464" class="mp lb it ml b gy mq mr l ms mt">vnv -c my_virtual_environment</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oc"><img src="../Images/a42c47776862fd6779659c88c2bca136.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dTzMXrqwF8Lzl_Gp7EP6mw.png"/></div></div></figure><p id="8e0e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在您已经创建了您的虚拟环境，您可能会想要使用它。您需要使用以下命令来激活它:</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="f8bd" class="mp lb it ml b gy mq mr l ms mt">vnv -a my_virtual_environment</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oc"><img src="../Images/f77b00c840cfe826421119f245639166.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NOxkhp9Sf6Wo_6MotPNbPw.png"/></div></div></figure><p id="cc6b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您现在正在虚拟环境中工作。这是您可以开始使用pip安装所需软件包的地方。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oc"><img src="../Images/4cf5baf39461b4ab646e723bc913f57b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IJswwDjI1SmrAWoohELVig.png"/></div></div></figure><p id="3d79" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当您完成了所有令人惊叹的建模并需要继续生活时，您可以使用以下方式停用当前的虚拟环境:</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="0bca" class="mp lb it ml b gy mq mr l ms mt">vnv -d</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oc"><img src="../Images/d052ec78a3a6e9765e75cf3824c0dfcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_pKxtw9smpdeIbJFt1SH3A.png"/></div></div></figure><p id="f223" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">大功告成！</strong> <br/>突然间，使用虚拟环境变得超级简单。它们都在一个地方，你只需几个命令就能与它们互动。<br/>创建、激活和取消激活只是使用venvtool可以执行的几个命令。你也可以列出，复制和删除。</p><p id="08a4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">感谢您的阅读，并祝您在未来管理虚拟环境的努力中好运！</strong></p><p id="9cac" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里是<a class="ae ob" href="https://github.com/willcasey/venvtool" rel="noopener ugc nofollow" target="_blank"> venvtool </a>的链接</p></div></div>    
</body>
</html>