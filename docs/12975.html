<html>
<head>
<title>Ensemble Feature Selection in Machine Learning using OptimalFlow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于 OptimalFlow 的机器学习集成特征选择</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/ensemble-feature-selection-in-machine-learning-by-optimalflow-49f6ee0d52eb?source=collection_archive---------41-----------------------#2020-09-06">https://towardsdatascience.com/ensemble-feature-selection-in-machine-learning-by-optimalflow-49f6ee0d52eb?source=collection_archive---------41-----------------------#2020-09-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2264" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用简单的代码选择顶级特性的简单方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/cafff62174c31c223dc157ae10de40b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/0*D_jQ5yBsvCZjEYIW"/></div></figure><p id="f002" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">特征选择是机器学习工作流的关键部分。特征选择的好坏直接关系到模型的性能。数据科学家通常会遇到两个难题:</p><ul class=""><li id="9910" class="lj lk iq kp b kq kr kt ku kw ll la lm le ln li lo lp lq lr bi translated">哪种特征选择算法比较好？</li><li id="5ab9" class="lj lk iq kp b kq ls kt lt kw lu la lv le lw li lo lp lq lr bi translated">需要保留输入数据集中的多少列？</li></ul><p id="4596" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">因此，我编写了一个名为<strong class="kp ir"> <em class="lx"> OptimalFlow </em> </strong>的 Python 库，其中包含一个集合特征选择模块，名为<strong class="kp ir"> <em class="lx"> autoFS </em> </strong>以轻松简化这一过程。</p><p id="d091" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><strong class="kp ir"> <em class="lx"> OptimalFlow </em> </strong>是一个 Omni-ensemble 自动化机器学习工具包，它基于<em class="lx">流水线簇遍历实验(PCTE) </em>方法，帮助数据科学家以简单的方式构建最优模型，并使用简单的代码自动化机器学习工作流。</p><p id="371e" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">为什么我们使用<strong class="kp ir"> <em class="lx"> OptimalFlow </em> </strong>？你可以读另一个关于它的介绍的故事:<a class="ae ly" rel="noopener" target="_blank" href="/an-omni-ensemble-automated-machine-learning-optimalflow-369d6485e453"><em class="lx">一个全方位的自动化机器学习——optimal flow</em></a>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lz"><img src="../Images/aa809420d27a2b0ad1ed871f2f88845b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*65mUoYO2LvpUNE09.png"/></div></div></figure><p id="6fd2" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><em class="lx"> autoFS </em>模块将通过流行的特征选择算法(选择器)，如 kBest、RFE 等。并且选择从它们的输出中选择的多数特征作为最重要的特征。以下是<a class="ae ly" href="https://optimal-flow.readthedocs.io/en/latest/autoFS.html" rel="noopener ugc nofollow" target="_blank"> <em class="lx"> autoFS </em> </a>模块和默认选择器的详细链接:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi me"><img src="../Images/037f853ffa89de65707f035951d718c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*rzH-j5uUUA6-eehbwqJBGw.png"/></div></figure><p id="8f7d" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">您可以阅读<strong class="kp ir"><em class="lx"/></strong>optimal flow<strong class="kp ir"><em class="lx">optimal flow</em></strong><em class="lx">autoFS</em>模块的<a class="ae ly" href="https://optimal-flow.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kp ir">文档。此外，<strong class="kp ir"> <em class="lx"> OptimalFlow </em> </strong>还提供了特征预处理、模型选择、模型评估、<em class="lx">流水线簇遍历实验(PCTE) </em>自动化机器学习模块。</strong></a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi mf"><img src="../Images/02451daed05383060dd73e17c4700889.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6aYUflLqK-66AIjBEp4CDw.png"/></div></div></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="2c75" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这里我们将有一个演示，使用<strong class="kp ir"> <em class="lx"> OptimalFLow </em> </strong>，在几分钟内完成一个回归问题的特征选择。我们使用经典的波士顿住房数据集作为输入。</p><p id="51d8" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><strong class="kp ir">第一步:安装<em class="lx"> OptimalFlow </em> : </strong></p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="4d6f" class="ms mt iq mo b gy mu mv l mw mx">pip install optimalflow</span></pre><p id="afd1" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><strong class="kp ir">第二步:导入<em class="lx"> OptimalFlow </em>模块:</strong></p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="673c" class="ms mt iq mo b gy mu mv l mw mx">import pandas as pd<br/>from optimalflow.autoFS import dynaFS_reg</span></pre><p id="792f" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><strong class="kp ir">第三步:导入输入数据集:</strong></p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="259b" class="ms mt iq mo b gy mu mv l mw mx">tr_features = pd.read_csv('./data/regression/train_features.csv')<br/>tr_labels = pd.read_csv('./data/regression/train_labels.csv')</span></pre><p id="8189" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我们使用波士顿住房数据集作为输入文件，它有 506 行和 14 列。你可以在这里找到关于它的细节<a class="ae ly" href="https://www.kaggle.com/c/boston-housing" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi my"><img src="../Images/eea620a0a8e50ec572c9f3beede387a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CbLEd_itO_3l3BBL.png"/></div></div></figure><p id="e9b1" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">波士顿住房数据集 train _ features.csv</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/d8eb26d9fa4130042e3cba12a67e6769.png" data-original-src="https://miro.medium.com/v2/resize:fit:290/format:webp/0*yKFHFxqNR03KmNsa.png"/></div></figure><p id="3ea7" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">波士顿住房数据集 train _ labels.csv</p><p id="1445" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><strong class="kp ir">第四步:运行<em class="lx"> autoFS </em>模块:</strong></p><p id="1c41" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我们希望为进一步的建模过程提供前 5 个重要特征。我们使用的是<em class="lx"> autoFS 的</em>默认选择器，但是你也可以通过它的<strong class="kp ir"> custom_selectors </strong>属性自定义设置你只想通过的选择器。</p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="04c3" class="ms mt iq mo b gy mu mv l mw mx"><em class="lx"># Set input_form_file = False, when label values are array. Select 'True' from Pandas dataframe.</em><br/><br/>reg_fs_demo <strong class="mo ir">=</strong> dynaFS_reg<strong class="mo ir">(</strong> fs_num <strong class="mo ir">=</strong> <strong class="mo ir">5,</strong>random_state <strong class="mo ir">=</strong> <strong class="mo ir">13,</strong>cv <strong class="mo ir">=</strong> <strong class="mo ir">5,</strong>input_from_file <strong class="mo ir">=</strong> True<strong class="mo ir">)</strong><br/><br/><em class="lx"># You can find details of each selector's choice in autoFS_logxxxxx.log file in the ./test folder</em><br/><br/>reg_fs_demo<strong class="mo ir">.</strong>fit<strong class="mo ir">(</strong>tr_features<strong class="mo ir">,</strong>tr_labels<strong class="mo ir">)</strong></span></pre><p id="8bef" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">一切就绪！以下是输出结果:</p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="65e0" class="ms mt iq mo b gy mu mv l mw mx"><strong class="mo ir">*</strong>optimalflow<strong class="mo ir">*</strong> autoFS Module <strong class="mo ir">===&gt;</strong> Selector kbest_f gets outputs<strong class="mo ir">:</strong> <strong class="mo ir">[</strong>'INDUS'<strong class="mo ir">,</strong> 'NOX'<strong class="mo ir">,</strong> 'RM'<strong class="mo ir">,</strong> 'PTRATIO'<strong class="mo ir">,</strong> 'LSTAT'<strong class="mo ir">]</strong><br/>Progress<strong class="mo ir">:</strong> <strong class="mo ir">[</strong><em class="lx">###-----------------] 14.3%</em><br/><br/><strong class="mo ir">*</strong>optimalflow<strong class="mo ir">*</strong> autoFS Module <strong class="mo ir">===&gt;</strong> Selector rfe_svm gets outputs<strong class="mo ir">:</strong> <strong class="mo ir">[</strong>'CHAS'<strong class="mo ir">,</strong> 'NOX'<strong class="mo ir">,</strong> 'RM'<strong class="mo ir">,</strong> 'PTRATIO'<strong class="mo ir">,</strong> 'LSTAT'<strong class="mo ir">]</strong><br/>Progress<strong class="mo ir">:</strong> <strong class="mo ir">[</strong><em class="lx">######--------------] 28.6%</em><br/><br/><strong class="mo ir">*</strong>optimalflow<strong class="mo ir">*</strong> autoFS Module <strong class="mo ir">===&gt;</strong> Selector rfe_tree gets outputs<strong class="mo ir">:</strong> <strong class="mo ir">[</strong>'CRIM'<strong class="mo ir">,</strong> 'RM'<strong class="mo ir">,</strong> 'DIS'<strong class="mo ir">,</strong> 'TAX'<strong class="mo ir">,</strong> 'LSTAT'<strong class="mo ir">]</strong><br/>Progress<strong class="mo ir">:</strong> <strong class="mo ir">[</strong><em class="lx">#########-----------] 42.9%</em><br/><br/><strong class="mo ir">*</strong>optimalflow<strong class="mo ir">*</strong> autoFS Module <strong class="mo ir">===&gt;</strong> Selector rfe_rf gets outputs<strong class="mo ir">:</strong> <strong class="mo ir">[</strong>'CRIM'<strong class="mo ir">,</strong> 'RM'<strong class="mo ir">,</strong> 'DIS'<strong class="mo ir">,</strong> 'PTRATIO'<strong class="mo ir">,</strong> 'LSTAT'<strong class="mo ir">]</strong><br/>Progress<strong class="mo ir">:</strong> <strong class="mo ir">[</strong><em class="lx">###########---------] 57.1%</em><br/><br/><strong class="mo ir">*</strong>optimalflow<strong class="mo ir">*</strong> autoFS Module <strong class="mo ir">===&gt;</strong> Selector rfecv_svm gets outputs<strong class="mo ir">:</strong> <strong class="mo ir">[</strong>'CRIM'<strong class="mo ir">,</strong> 'ZN'<strong class="mo ir">,</strong> 'INDUS'<strong class="mo ir">,</strong> 'CHAS'<strong class="mo ir">,</strong> 'NOX'<strong class="mo ir">,</strong> 'RM'<strong class="mo ir">,</strong> 'AGE'<strong class="mo ir">,</strong> 'DIS'<strong class="mo ir">,</strong> 'RAD'<strong class="mo ir">,</strong> 'TAX'<strong class="mo ir">,</strong> 'PTRATIO'<strong class="mo ir">,</strong> 'B'<strong class="mo ir">,</strong> 'LSTAT'<strong class="mo ir">]</strong><br/>Progress<strong class="mo ir">:</strong> <strong class="mo ir">[</strong><em class="lx">##############------] 71.4%</em><br/><br/><strong class="mo ir">*</strong>optimalflow<strong class="mo ir">*</strong> autoFS Module <strong class="mo ir">===&gt;</strong> Selector rfecv_tree gets outputs<strong class="mo ir">:</strong> <strong class="mo ir">[</strong>'CRIM'<strong class="mo ir">,</strong> 'CHAS'<strong class="mo ir">,</strong> 'NOX'<strong class="mo ir">,</strong> 'RM'<strong class="mo ir">,</strong> 'AGE'<strong class="mo ir">,</strong> 'DIS'<strong class="mo ir">,</strong> 'TAX'<strong class="mo ir">,</strong> 'PTRATIO'<strong class="mo ir">,</strong> 'B'<strong class="mo ir">,</strong> 'LSTAT'<strong class="mo ir">]</strong><br/>Progress<strong class="mo ir">:</strong> <strong class="mo ir">[</strong><em class="lx">#################---] 85.7%</em><br/><br/><strong class="mo ir">*</strong>optimalflow<strong class="mo ir">*</strong> autoFS Module <strong class="mo ir">===&gt;</strong> Selector rfecv_rf gets outputs<strong class="mo ir">:</strong> <strong class="mo ir">[</strong>'CRIM'<strong class="mo ir">,</strong> 'ZN'<strong class="mo ir">,</strong> 'NOX'<strong class="mo ir">,</strong> 'RM'<strong class="mo ir">,</strong> 'AGE'<strong class="mo ir">,</strong> 'DIS'<strong class="mo ir">,</strong> 'RAD'<strong class="mo ir">,</strong> 'TAX'<strong class="mo ir">,</strong> 'PTRATIO'<strong class="mo ir">,</strong> 'B'<strong class="mo ir">,</strong> 'LSTAT'<strong class="mo ir">]</strong><br/>Progress<strong class="mo ir">:</strong> <strong class="mo ir">[</strong><em class="lx">####################] 100.0%</em><br/><br/>The optimalflow autoFS identify the top <strong class="mo ir">5</strong> important features <strong class="mo ir">for</strong> regression are<strong class="mo ir">:</strong> <strong class="mo ir">[</strong>'RM'<strong class="mo ir">,</strong> 'LSTAT'<strong class="mo ir">,</strong> 'PTRATIO'<strong class="mo ir">,</strong> 'NOX'<strong class="mo ir">,</strong> 'CRIM'<strong class="mo ir">].</strong></span></pre><p id="c5f4" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">您会发现['RM '，' LSTAT '，' PTRATIO '，' NOX '，' CRIM']列是为我们选择的五大功能<em class="lx"> autoFS </em>！简单容易，对吧？</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="9883" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">关于<strong class="kp ir"> <em class="lx"> OptimalFlow </em> </strong>的相关阅读:</p><blockquote class="na nb nc"><p id="6d30" class="kn ko lx kp b kq kr jr ks kt ku ju kv nd kx ky kz ne lb lc ld nf lf lg lh li ij bi translated"><a class="ae ly" rel="noopener" target="_blank" href="/ensemble-model-selection-evaluation-in-machine-learning-by-optimalflow-9e5126308f12">集成模型选择&amp;使用 OptimalFlow 在机器学习中进行评估——使用简单代码选择最佳模型的简单方法</a></p><p id="7101" class="kn ko lx kp b kq kr jr ks kt ku ju kv nd kx ky kz ne lb lc ld nf lf lg lh li ij bi translated"><a class="ae ly" rel="noopener" target="_blank" href="/end-to-end-optimalflow-automated-machine-learning-tutorial-with-real-projects-formula-e-laps-8b57073a7b50">端到端 OptimalFlow 自动化机器学习教程结合真实项目-公式 E 圈数预测第 1 部分</a></p><p id="0f50" class="kn ko lx kp b kq kr jr ks kt ku ju kv nd kx ky kz ne lb lc ld nf lf lg lh li ij bi translated"><a class="ae ly" rel="noopener" target="_blank" href="/end-to-end-optimalflow-automated-machine-learning-tutorial-with-real-projects-formula-e-laps-31d810539102">端到端 OptimalFlow 自动化机器学习教程结合真实项目——公式 E 圈数预测第二部分</a></p><p id="b704" class="kn ko lx kp b kq kr jr ks kt ku ju kv nd kx ky kz ne lb lc ld nf lf lg lh li ij bi translated"><a class="ae ly" rel="noopener" target="_blank" href="/build-no-code-automated-machine-learning-model-with-optimalflow-web-app-8acaad8262b1">用 OptimalFlow Web App 建立无代码自动机器学习模型</a></p></blockquote></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="9e92" class="ng mt iq bd nh ni nj nk nl nm nn no np jw nq jx nr jz ns ka nt kc nu kd nv nw bi translated">关于我:</h1><p id="f260" class="pw-post-body-paragraph kn ko iq kp b kq nx jr ks kt ny ju kv kw nz ky kz la oa lc ld le ob lg lh li ij bi translated">我是一名医疗保健和制药数据科学家以及大数据分析和人工智能爱好者。我开发了<strong class="kp ir"> <em class="lx"> OptimalFlow </em> </strong>库，帮助数据科学家以简单的方式构建最优模型，用简单的代码实现机器学习工作流程的自动化。</p><p id="8b5f" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">作为一名拥有多年分析经验的大数据洞察寻求者、流程优化者和人工智能专家，我使用数据科学中的机器学习和问题解决技能将数据转化为可操作的洞察，同时提供战略和量化产品作为最佳结果的解决方案。</p><p id="d009" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">你可以在我的<a class="ae ly" href="https://www.linkedin.com/in/lei-tony-dong/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或者<a class="ae ly" href="https://github.com/tonyleidong" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上和我联系。</p></div></div>    
</body>
</html>