<html>
<head>
<title>A guide on how to interact between Python and databases using SQLAlchemy and PostgreSQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于如何使用SQLAlchemy和PostgreSQL在Python和数据库之间进行交互的指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-guide-on-how-to-interact-between-python-and-databases-using-sqlalchemy-and-postgresql-a6d770723474?source=collection_archive---------12-----------------------#2020-05-15">https://towardsdatascience.com/a-guide-on-how-to-interact-between-python-and-databases-using-sqlalchemy-and-postgresql-a6d770723474?source=collection_archive---------12-----------------------#2020-05-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/b4de7ae1df32d072b06402936e19b54e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dTATgaV4A50GITK8"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">来源:<a class="ae jg" href="https://unsplash.com/@heftiba" rel="noopener ugc nofollow" target="_blank"> Toa Heftiba </a>，<a class="ae jg" href="https://unsplash.com/photos/_UIVmIBB3JU" rel="noopener ugc nofollow" target="_blank"> unsplash </a></p></figure><h2 id="7ca4" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph">使用SQLAlchemy Python库解释Python和PostgreSQL之间的联系，以及如何使用它的一些提示。</h2><div class=""/><p id="df08" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在进行数据科学项目时，您可能希望将Python脚本与数据库连接起来。一个名为SQLAlchemy的库在SQL和Python之间架起了一座桥梁。</p><p id="e793" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">存储数据库的一种方法是使用关系数据库管理系统，这是一种常见的数据库类型，数据存储在表中。但是，托管这些数据库需要软件。PostgreSQL是允许这样做的开源软件。虽然不是必须的，但是在处理大量不同的复杂数据库时，可视化工具非常有用。可视化工具可以让您清楚地了解正在使用的数据库。在这些工具中，我选择了TablePlus(Mac版)和phpMyAdmin(Windows版)。</p><p id="5cf0" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在本文中，我将向您展示配置您的系统需要遵循的不同步骤，以及在使用Postgres和SQLAlchemy时您需要知道的一些命令。</p><h1 id="74b2" class="ln lo jj bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">1.下载SQLAlchemy和PostgreSQL</h1><p id="94a1" class="pw-post-body-paragraph kp kq jj kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated">要安装SQLAlchemy，您需要在计算机的终端中输入以下命令:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="c09e" class="mz lo jj mv b gy na nb l nc nd">pip install SQLAlchemy</span></pre><p id="d0b5" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">要安装PostgreSQL，你需要进入那个<a class="ae jg" href="https://www.postgresql.org/download/" rel="noopener ugc nofollow" target="_blank">网站</a>。我也给你一个<a class="ae jg" href="https://www.google.com/search?rlz=1C5CHFA_enFR857FR858&amp;biw=1440&amp;bih=821&amp;ei=cdi9Xo61M4Pi-gT1kJSQCg&amp;q=install+postgresql+mac+tutorial&amp;oq=install+postgresql+mac+tuto&amp;gs_lcp=CgZwc3ktYWIQAxgAMggIIRAWEB0QHjoECAAQRzoECAAQQzoCCAA6BggAEBYQHjoFCCEQoAFQqxtYxyBg-SdoAHABeACAAXKIAdcDkgEDNC4xmAEAoAEBqgEHZ3dzLXdpeg&amp;sclient=psy-ab#kpvalbx=_g9i9Xu0Wwcr6BNaGtvAL40" rel="noopener ugc nofollow" target="_blank"> mac </a>和<a class="ae jg" href="https://www.youtube.com/watch?v=e1MwsT5FJRQ" rel="noopener ugc nofollow" target="_blank"> windows </a>的教程。<strong class="kr jt">在配置PostgreSQL时记下您使用的登录名和密码是非常重要的，因为您将在与TablePlus和Python的连接中需要它。</strong></p><h1 id="4e17" class="ln lo jj bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">2.下载可视化工具</h1><p id="7bd4" class="pw-post-body-paragraph kp kq jj kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated">它们是许多不同的可视化工具，但并不是所有的都有免费版本。此外，无论你用的是mac还是window，用来可视化数据库的软件都会有所不同。我选择了TablePlus，因为它非常容易使用，免费版本也非常好。<a class="ae jg" href="https://tableplus.com/" rel="noopener ugc nofollow" target="_blank">这里</a>是下载TablePlus的链接。</p><p id="81a5" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">现在软件已经下载完毕，需要在tablePlus和PostgreSQL之间创建一个连接。<a class="ae jg" href="https://help.scalegrid.io/docs/postgresql-connecting-to-gui-tableplus" rel="noopener ugc nofollow" target="_blank">这里</a>是关于如何在TablePlus上做到的教程。</p><h1 id="3456" class="ln lo jj bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">3.在PostgresSQL中创建数据库</h1><p id="9f03" class="pw-post-body-paragraph kp kq jj kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated"><strong class="kr jt">在通过SQLAlchemy使用Python与数据库交互之前，我们需要在PostgreSQL </strong>中创建数据库。在这一节中，我还将向您展示一些与PostgreSQL交互的命令。</p><p id="c4c6" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">首先，您需要通过在终端中键入以下命令来连接到PostgreSQL服务器:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="9a91" class="mz lo jj mv b gy na nb l nc nd">psql -U postgres</span></pre><p id="d809" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">然后，你可以创建你的数据库，我们称之为“飞行”(避免使用大写字母)。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="d19f" class="mz lo jj mv b gy na nb l nc nd">CREATE DATABASE flight<em class="ne">;</em></span></pre><p id="4401" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">既然已经创建了数据库，那么就可以创建表，使用PostgresSQL或SQLAlchemy插入值。我将向你展示这两种方法。</p><h1 id="d6ee" class="ln lo jj bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">4.使用PostgresSQL创建表和插入值</h1><p id="018b" class="pw-post-body-paragraph kp kq jj kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated">您必须首先连接到要使用的数据库。以下命令必须在最后一节中的命令之后在同一终端中执行。所以这里我们要连接到数据库“航班”:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="c6fc" class="mz lo jj mv b gy na nb l nc nd">\connect flight;</span></pre><p id="c8d6" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">现在我们想创建一个带有一些属性的表。我将把这个表称为“flights ”,其属性是航班的<strong class="kr jt"> id </strong>、出发地、目的地<strong class="kr jt">和持续时间</strong>。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="14b0" class="mz lo jj mv b gy na nb l nc nd">CREATE TABLE flights (<br/>    id SERIAL PRIMARY KEY,<br/>    origin VARCHAR NOT NULL,<br/>    destination VARCHAR NOT NULL,<br/>    duration INTEGER NOT NULL<br/>);</span></pre><p id="2acd" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果要创建没有任何属性的表，需要输入以下命令:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="897e" class="mz lo jj mv b gy na nb l nc nd">CREATE TABLE flights();</span></pre><p id="47a3" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">现在我们已经创建了属性，我们需要插入一些值。但是，要插入值，您需要先创建属性。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="4497" class="mz lo jj mv b gy na nb l nc nd">INSERT INTO flights (origin, destination, duration) VALUES ('New York', 'London', 415);<br/>INSERT INTO flights (origin, destination, duration) VALUES ('Shanghai', 'Paris', 760);<br/>INSERT INTO flights (origin, destination, duration) VALUES ('Istanbul', 'Tokyo', 700);<br/>INSERT INTO flights (origin, destination, duration) VALUES ('New York', 'Paris', 435);</span></pre><p id="8a43" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">然后，您可以在TablePlus中可视化您的表，您应该看到:</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nf"><img src="../Images/13b7cb6b05ec1cb651f3435acaf58814.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QJfabUIqt40NYMO7Edwx_w.png"/></div></div></figure><p id="4190" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">现在我将向您展示Python中的命令以及如何使用SQLAlchemy库。</p><h1 id="3947" class="ln lo jj bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">5.使用SQLAlchemy创建表并插入值</h1><p id="7f0a" class="pw-post-body-paragraph kp kq jj kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated">如前所述，在与Python建立连接之前，您需要在PostgreSQL中创建一个数据库。因此，在本节中，所有代码都必须在Python脚本中实现。<br/>首先要做的是创建一个引擎，它是一个用于管理数据库连接的对象。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="e281" class="mz lo jj mv b gy na nb l nc nd">from sqlalchemy import create_engine<br/>from sqlalchemy.orm import scoped_session, sessionmaker</span><span id="bf1a" class="mz lo jj mv b gy ng nb l nc nd">engine = create_engine("postgresql://login:password@localhost:5432/flight")</span></pre><p id="4cca" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">创建引擎的一般格式是:<br/><strong class="kr jt">create _ engine(" PostgreSQL://log in:passeword @ localhost:5432/name _ database ")</strong></p><p id="2a10" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在这里，由于我们想要在数据库flight上工作，我们将<strong class="kr jt"> flight </strong>替换为<strong class="kr jt"> name_database </strong>。<em class="ne">登录</em>和<em class="ne">密码</em>对应的是你设置PostgreSQL时的那个。并且<em class="ne"> 5432 </em>是端口，但是因为它是本地服务器，所以它是5432。</p><p id="0c16" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">然后，我们需要创建一个表和属性，还要向该表中插入值。首先，我们需要通过点击下面一行来创建一个作用域会话:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="a339" class="mz lo jj mv b gy na nb l nc nd">db = scoped_session(sessionmaker(bind=engine))</span></pre><p id="4b24" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">它与我们的应用程序并不十分相关，但在很多例子中却非常重要。想象一下这样一种情况，当我们将web应用程序放到互联网上，有多人同时尝试使用我们的网站时，我们希望确保A对数据库的操作与B对数据库的操作是分开的。</p><p id="13de" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">接下来，我们需要运行下面一行来创建一个表<strong class="kr jt"> flights </strong>，其属性为<strong class="kr jt"> id、</strong> <strong class="kr jt">出发地</strong>、<strong class="kr jt">目的地</strong>和<strong class="kr jt">持续时间</strong>。小心，语法与PostgreSQL中的有点不同:我们需要在末尾声明密钥。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="ccd7" class="mz lo jj mv b gy na nb l nc nd"># to create the table flights with all the attributes<br/>db.execute("CREATE TABLE test (id INTEGER NOT NULL, origin VARCHAR NOT NULL, destination VARCHAR NOT NULL, duration INTEGER NOT NULL, PRIMARY KEY (id));")</span><span id="f0cb" class="mz lo jj mv b gy ng nb l nc nd"># to insert values into the table flights <br/>db.execute("INSERT INTO flights (origin, destination, duration) VALUES ('New York', 'London', 415);")</span><span id="4262" class="mz lo jj mv b gy ng nb l nc nd">db.execute("INSERT INTO flights (origin, destination, duration) VALUES ('Shanghai', 'Paris', 760);")</span><span id="7ef1" class="mz lo jj mv b gy ng nb l nc nd">db.execute("INSERT INTO flights (origin, destination, duration) VALUES ('Istanbul', 'Tokyo', 700);")</span><span id="eb23" class="mz lo jj mv b gy ng nb l nc nd">db.execute("INSERT INTO flights (origin, destination, duration) VALUES ('New York', 'Paris', 435);")</span></pre><p id="0172" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">然后，为了在PostgreSQL服务器上执行，我们需要提交更改:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="552c" class="mz lo jj mv b gy na nb l nc nd">db.commit()</span></pre><p id="6965" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在最后一步中，我们结束了会话:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="068c" class="mz lo jj mv b gy na nb l nc nd">db.close()</span></pre><p id="dc3a" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">因此，整个代码总结如下:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="246f" class="mz lo jj mv b gy na nb l nc nd">from sqlalchemy import create_engine<br/>from sqlalchemy.orm import scoped_session, sessionmaker</span><span id="ae98" class="mz lo jj mv b gy ng nb l nc nd"># creation of an engine<br/>engine = create_engine("postgresql://login:password@localhost:5432/flight")</span><span id="5d01" class="mz lo jj mv b gy ng nb l nc nd"># creation of a session<br/>db = scoped_session(sessionmaker(bind=engine))</span><span id="ccc0" class="mz lo jj mv b gy ng nb l nc nd"># creation of the table flights with all the attributes<br/>db.execute("CREATE TABLE test (id INTEGER NOT NULL, origin VARCHAR NOT NULL, destination VARCHAR NOT NULL, duration INTEGER NOT NULL, PRIMARY KEY (id));")</span><span id="7f2f" class="mz lo jj mv b gy ng nb l nc nd"># insertion of values into the table flights <br/>db.execute("INSERT INTO flights (origin, destination, duration) VALUES ('New York', 'London', 415);")</span><span id="52b1" class="mz lo jj mv b gy ng nb l nc nd">db.execute("INSERT INTO flights (origin, destination, duration) VALUES ('Shanghai', 'Paris', 760);")</span><span id="dd44" class="mz lo jj mv b gy ng nb l nc nd">db.execute("INSERT INTO flights (origin, destination, duration) VALUES ('Istanbul', 'Tokyo', 700);")</span><span id="6672" class="mz lo jj mv b gy ng nb l nc nd">db.execute("INSERT INTO flights (origin, destination, duration) VALUES ('New York', 'Paris', 435);")</span><span id="b919" class="mz lo jj mv b gy ng nb l nc nd"># commit the changes <br/>db.commit()</span><span id="9bc8" class="mz lo jj mv b gy ng nb l nc nd"># close the session<br/>db.close()</span></pre><h1 id="5428" class="ln lo jj bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">6.SQLAlchemy中的一些实用方法</h1><p id="f5ba" class="pw-post-body-paragraph kp kq jj kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated">可以想象，如果您有一个10000行的csv文件，逐行插入值会非常漫长和痛苦。幸运的是，pandas库能够将pandas数据帧转换成SQL表。此外，pandas理解元素的类型，因此在创建表时不再需要指定类型，但是我建议仍然输入类型。<strong class="kr jt">了解你正在处理的元素的类型极其重要</strong>。</p><p id="9d0a" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">为了展示它是如何工作的，我使用了这个数据集。该数据集是关于2015年美国航班的。你可以在这里找到数据集<a class="ae jg" href="https://corgis-edu.github.io/corgis/csv/airlines/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="2efc" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我们将在相同的数据库上工作，而不是以前的飞行。我们将创建一个名为“airlines_2015”的表。<br/>进口熊猫作为pd</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="55ee" class="mz lo jj mv b gy na nb l nc nd">from sqlalchemy import create_engine<br/>from sqlalchemy.orm import scoped_session, sessionmaker</span><span id="8ca0" class="mz lo jj mv b gy ng nb l nc nd">engine = create_engine("postgresql://login:password@localhost:5432/flight")</span><span id="ce2e" class="mz lo jj mv b gy ng nb l nc nd">db = scoped_session(sessionmaker(bind=engine))</span><span id="7051" class="mz lo jj mv b gy ng nb l nc nd">db.execute("CREATE TABLE airlines_2015();")</span><span id="c08f" class="mz lo jj mv b gy ng nb l nc nd">dataframe.to_sql('airlines_2015', engine, if_exists='replace')</span><span id="bcbb" class="mz lo jj mv b gy ng nb l nc nd">db.commit()<br/>db.close()</span></pre><h1 id="8422" class="ln lo jj bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">7.PostgreSQL中的一些实用技巧</h1><p id="e9a3" class="pw-post-body-paragraph kp kq jj kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated">在这一节中，我将为您提供一些命令，您可以在终端中输入这些命令来与数据库进行交互。但首先，我将简要回顾一下我们到目前为止所看到的内容。</p><p id="b135" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">连接到PostgreSQL服务器:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="9628" class="mz lo jj mv b gy na nb l nc nd">psql -U postgres</span></pre><p id="05e2" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">创建数据库:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="b9c1" class="mz lo jj mv b gy na nb l nc nd">CREATE DATABASE <em class="ne">name_database ;</em></span></pre><p id="158a" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">连接到数据库:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="58c2" class="mz lo jj mv b gy na nb l nc nd">\connect <em class="ne">name_database </em>;</span></pre><p id="37be" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">所有数据库的列表:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="6b3c" class="mz lo jj mv b gy na nb l nc nd">\l</span></pre><p id="50d1" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">创建表格:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="d5b9" class="mz lo jj mv b gy na nb l nc nd">CREATE TABLE name_table();</span></pre><p id="f823" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在下一个命令中，您需要连接到您想要查看的表的数据库:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="9fa8" class="mz lo jj mv b gy na nb l nc nd">\dt</span></pre><p id="0547" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果您想要一个表格的描述:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="99f8" class="mz lo jj mv b gy na nb l nc nd">\d table_name</span></pre><p id="d219" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">最后，如果您想要关闭一些仍然打开的连接，您需要打开一个新的终端并运行以下命令(在每一行之后按enter，因此您总共需要按3次enter):</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="4305" class="mz lo jj mv b gy na nb l nc nd"># first command<br/>psql -U postgres</span><span id="d61d" class="mz lo jj mv b gy ng nb l nc nd"># second command<br/>\connect <em class="ne">nom_database</em>;</span><span id="04de" class="mz lo jj mv b gy ng nb l nc nd"># third command <br/>select pg_terminate_backend (pg_stat_activity.pid) from pg_stat_activity where datname = current_database() and pid &lt;&gt; pg_backend_pid();</span></pre><h1 id="b0ee" class="ln lo jj bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">8.结论和提示</h1><p id="bcb4" class="pw-post-body-paragraph kp kq jj kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated">我希望你在这篇文章中找到了你想要的东西。在从事数据科学项目时，您可能希望处理大量数据，并且需要通过创建数据库来组织数据。创建清晰架构的一种方法是绘制UML图。</p><p id="78bf" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果你喜欢阅读这样的故事，并想支持我成为一名作家，考虑注册成为一名灵媒成员。每月5美元，你可以无限制地阅读媒体上的故事。如果你使用<a class="ae jg" href="https://medium.com/@jonathan_leban/membership" rel="noopener">我的链接</a>注册，我将赚取一小笔佣金，你仍需支付5美元。谢谢大家！！</p><div class="is it gp gr iu nh"><a href="https://medium.com/@jonathan_leban/membership" rel="noopener follow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd jt gy z fp nm fr fs nn fu fw js bi translated">通过我的推荐链接加入媒体-乔纳森·莱班</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">阅读乔纳森·莱班的每一个故事(以及媒体上成千上万的其他作家)。您的会员费直接支持…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">medium.com</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv ja nh"/></div></div></a></div><p id="3c88" class="pw-post-body-paragraph kp kq jj kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ne"> PS:我现在是柏克莱大学的工程硕士，如果你想讨论这个话题，请随时联系我。</em> <a class="ae jg" href="http://jonathan_leban@berkeley.edu/" rel="noopener ugc nofollow" target="_blank"> <em class="ne">这里的</em> </a> <em class="ne">是我的邮箱。</em></p></div></div>    
</body>
</html>