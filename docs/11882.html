<html>
<head>
<title>Estimating Currency Volatility Using GARCH</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 GARCH 估计货币波动</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/estimating-currency-volatility-using-garch-e373cf82179d?source=collection_archive---------26-----------------------#2020-08-17">https://towardsdatascience.com/estimating-currency-volatility-using-garch-e373cf82179d?source=collection_archive---------26-----------------------#2020-08-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="54ea" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">GARCH 如何用于资产价格波动建模</h2></div><p id="5d22" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">免责声明:本文是在“原样”的基础上编写的，没有任何担保。它旨在提供数据科学概念的概述，不应被解释为投资建议或任何其他类型的专业建议。</em></p><p id="758e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">资产价格在时间序列中具有高度的随机趋势。换句话说，价格波动受很大程度的随机性影响，因此很难使用传统的时间序列模型(如 ARIMA 模型)来预测资产价格。</p><p id="aae0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，由于今天的大部分交易都是在算法的基础上进行的——价格会在这种预测的基础上不断调整——因此很难在市场中占据优势。</p><p id="47a5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，假设我构建了一个时间序列模型来预测一个城市未来三个月的降雨量。我的时间序列模型可能有很高的精确度，因为预测不会影响未来的降雨量。然而，如果每个人都使用 ARIMA 模型来预测未来三个月的资产价格波动——那么基于这些预测的后续交易将直接影响之前的预测——从而在许多情况下使它们无效。</p><h1 id="66d8" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">背景</h1><p id="b2e5" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">因此，通常对金融市场中资产价格的<strong class="kk iu">预期波动率</strong>建模——而不是直接预测预期价格。</p><p id="2ef0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看如何使用 Python 来实现这一点。GARCH 模型用于预测欧元/美元和英镑/美元货币对的波动性，使用 2017 年 1 月至 2018 年 1 月的数据。</p><p id="a628" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据来源于 FRED 使用的 Quandl 库:</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="9486" class="ml lg it mh b gy mm mn l mo mp">eurusd = quandl.get("FRED/DEXUSEU", start_date='2017-01-01', end_date='2018-01-01', api_key='enter_api_key')</span><span id="e688" class="ml lg it mh b gy mq mn l mo mp">gbpusd = quandl.get("FRED/DEXUSUK", start_date='2017-01-01', end_date='2018-01-01', api_key='enter_api_key')</span></pre><p id="673f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">序列被转换为对数格式以平滑时间序列:</p><h2 id="bcb1" class="ml lg it bd lh mr ms dn ll mt mu dp lp kr mv mw lr kv mx my lt kz mz na lv nb bi translated">欧元/美元</h2><figure class="mc md me mf gt nd gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/0334b37ea106d6fbc19430a957e56b2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*aGN87AFYMY-dvmy1AZfvpw.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">资料来源:Quandl</p></figure><h2 id="c328" class="ml lg it bd lh mr ms dn ll mt mu dp lp kr mv mw lr kv mx my lt kz mz na lv nb bi translated">英镑/美元</h2><figure class="mc md me mf gt nd gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/88cf60b74ff97c4bb2f4af2eb751ede3.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*nuaQBeh-8CDqT3793r5gJg.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">资料来源:Quandl</p></figure><p id="1509" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后对数据进行一阶差分，以近似高斯分布。</p><p id="3984" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Dickey-Fuller 检验显示两个序列的 p 值均为 0，表明我们拒绝了单位根存在于 5%显著性水平的零假设，即模型中存在平稳性或趋势平稳性。</p><p id="b833" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">欧元/美元:迪基-富勒测试结果</strong></p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="742b" class="ml lg it mh b gy mm mn l mo mp">&gt;&gt;&gt; result = ts.adfuller(data, 1)<br/>&gt;&gt;&gt; result</span><span id="ad2d" class="ml lg it mh b gy mq mn l mo mp">(-16.26123019770431,<br/> 3.564065405943774e-29,<br/> 0,<br/> 247,<br/> {'1%': -3.457105309726321,<br/>  '5%': -2.873313676101283,<br/>  '10%': -2.5730443824681606},<br/> -1959.704886024891)</span></pre><p id="5ceb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">英镑/美元:迪基-富勒测试结果</strong></p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="a385" class="ml lg it mh b gy mm mn l mo mp">&gt;&gt;&gt; result = ts.adfuller(data, 1)<br/>&gt;&gt;&gt; result</span><span id="d5f3" class="ml lg it mh b gy mq mn l mo mp">(-12.380335699861567,<br/> 5.045829408723097e-23,<br/> 1,<br/> 246,<br/> {'1%': -3.457215237265747,<br/>  '5%': -2.873361841566324,<br/>  '10%': -2.5730700760129555},<br/> -1892.8308007824835)</span></pre><p id="fe62" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，对 QQ 图的视觉筛选显示，该系列现在基本上遵循正态分布:</p><p id="7005" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">欧元/美元:QQ 图</strong></p><figure class="mc md me mf gt nd gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/c1c3cdef7bd5e2400bf77fd1d4f6dd44.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*5eIUym1j0ClJQwEFQfpURA.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">来源:Jupyter 笔记本输出</p></figure><p id="7607" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">英镑/美元:QQ 图</strong></p><figure class="mc md me mf gt nd gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/575fc05026e6364e41b090965da9a4c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*qb1fP_uOJqL_LW5emw8NDg.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">来源:Jupyter 笔记本输出</p></figure><h1 id="ed76" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">GARCH 建模</h1><p id="eec3" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">构建 GARCH(1，1)模型来预测两种货币对的过去 30 天交易数据的波动性。以前的数据用作 GARCH 模型的训练集。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="5389" class="ml lg it mh b gy mm mn l mo mp"># split into train/test<br/>n_test = 30<br/>train, test = data[:-n_test], data[-n_test:]<br/># define model<br/>model = arch_model(train, mean='Zero', vol='GARCH', p=1, q=1)</span></pre><p id="c3a8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">预测生成如下:</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="5bf7" class="ml lg it mh b gy mm mn l mo mp"># fit model<br/>model_fit = model.fit()<br/># forecast the test set<br/>yhat = model_fit.forecast(horizon=n_test)</span></pre><p id="8157" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，让我们跨测试集比较预测的方差和实际的 5 天滚动方差。</p><h2 id="8490" class="ml lg it bd lh mr ms dn ll mt mu dp lp kr mv mw lr kv mx my lt kz mz na lv nb bi translated"><strong class="ak">欧元/美元</strong></h2><p id="9583" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated"><em class="le">预测方差</em></p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="e50c" class="ml lg it mh b gy mm mn l mo mp">test.rolling(window=5).var().plot(style='g')<br/>pyplot.title("5-day Rolling Variance")</span></pre><figure class="mc md me mf gt nd gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/70e8047a9620d37abcfe59819d703094.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/format:webp/1*i445Ecjtnu1U_HHjB6Xaug.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">来源:Jupyter 笔记本输出</p></figure><p id="9358" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le"> 5 天滚动差异</em></p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="cc44" class="ml lg it mh b gy mm mn l mo mp">pyplot.plot(yhat.variance.values[-1, :])<br/>pyplot.title("Predicted Variance")<br/>pyplot.show()</span></pre><figure class="mc md me mf gt nd gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/d697e632705ce51ff5b64a3dcfc88909.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*aDGdsNzXE92ROEJlPEXq0g.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">来源:Jupyter 笔记本输出</p></figure><p id="6570" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们看到，GARCH 模型预测了过去 30 天的波动性下降(以方差衡量)——这通过实际 5 天滚动方差的视觉检查得到了证实。</p><p id="43ff" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来看看英镑/美元的对比。</p><h2 id="06e1" class="ml lg it bd lh mr ms dn ll mt mu dp lp kr mv mw lr kv mx my lt kz mz na lv nb bi translated"><strong class="ak">英镑/美元</strong></h2><p id="0193" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated"><em class="le">预测方差</em></p><figure class="mc md me mf gt nd gh gi paragraph-image"><div class="gh gi no"><img src="../Images/f24fec1c42817fd821ee75f08ec062e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*_xs4nKWMYjZFIzLuzrZRSg.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">来源:Jupyter 笔记本输出</p></figure><p id="a63f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le"> 5 天滚动差异</em></p><figure class="mc md me mf gt nd gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/11a6d91b662f63d8ab432af8e7ed6f4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*nLIR_wCWNjwRXpbjzJhGeg.png"/></div><p class="ng nh gj gh gi ni nj bd b be z dk translated">来源:Jupyter 笔记本输出</p></figure><p id="6cc2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以看到，虽然预测的方差比实际的 5 天滚动方差小得多，但两个实例都预测在 30 天的测试期间方差会减少。</p><p id="84d0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这与我们实际观察到的情况相符-相对于交易年度的其他月份，2017 年 12 月欧元/美元和英镑/美元货币对的波动很小。</p><h1 id="d819" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">结论</h1><p id="b71f" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">这是 GARCH 如何用于时间序列波动建模的一个例子。</p><p id="5d5b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">希望你觉得这篇文章有用，任何问题或反馈都非常感谢。</p><h1 id="9d06" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">参考</h1><ul class=""><li id="82df" class="np nq it kk b kl lx ko ly kr nr kv ns kz nt ld nu nv nw nx bi translated"><a class="ae ny" href="https://machinelearningmastery.com/develop-arch-and-garch-models-for-time-series-forecasting-in-python/" rel="noopener ugc nofollow" target="_blank">机器学习掌握:如何在 Python 中使用 ARCH 和 GARCH 对时间序列预测的波动性建模</a></li></ul></div></div>    
</body>
</html>