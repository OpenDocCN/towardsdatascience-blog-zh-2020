<html>
<head>
<title>Download All Free Textbooks from Springer using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python从Springer下载所有免费教材</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/download-all-free-textbooks-from-springer-using-python-bd0b10e0ccc?source=collection_archive---------6-----------------------#2020-04-27">https://towardsdatascience.com/download-all-free-textbooks-from-springer-using-python-bd0b10e0ccc?source=collection_archive---------6-----------------------#2020-04-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="1153" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">一个重要的PYTHON技巧</h2><div class=""/><div class=""><h2 id="1217" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用Python下载多个文件的分步指南</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/27fff17c0e57d5f8d9aef8c0fb50a9fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7tySDYIeQuqLjtRFHrdTsg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">插图作者:金彩云</p></figure><p id="aa04" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi me translated">所有数据科学家和研究人员的好消息🎉🎉<strong class="lk jd">斯普林格</strong>宣布在新冠肺炎封锁期间提供数百本价值数千美元的昂贵科技书籍供免费下载。超过500本教科书可供选择！</p><p id="e726" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你只对其中的一些书感兴趣，你可以一本书一本书地下载。但是这种机会不会经常出现，那把他们都弄到手呢？😊自己手动下载会很无聊。为什么不让Python来做这个工作呢？🤔根据这个帖子，这些春季教材只能买到七月底。根据疫情的情况，黄金时间可能会延长…</p><p id="39e0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这篇文章将通过一步一步的指导向你展示如何使用Python从列表中自动下载所有的<strong class="lk jd"> Springer </strong>教材。所以，如果你是编程或Python的新手，不用担心。</p><p id="a56d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">证明:</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mo"><img src="../Images/e5431e300c3baef95eceb772363f7605.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*z9m7P98gWoG3VDR71w-Nag.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mp">从Springer下载教材的简单Python脚本(使用VSCode运行)</strong></p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mq"><img src="../Images/ad42ec32aff695646cca4eb2a908e03a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kLAakjIFgYjpXnJ4l4Xf-w.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mp">Python脚本的示例输出</strong></p></figure><p id="10c2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如你所见，只有11行Python脚本可以在几分钟内为你下载所有这些教材。在你读完这篇文章之后，你将能够自己完成这个过程，并且将来也能够应用这个技术来下载任何项目或文件的列表。✌</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="d859" class="my mz it bd na nb nc nd ne nf ng nh ni ki nj kj nk kl nl km nm ko nn kp no np bi translated">为什么斯普林格现在给我们免费访问？</h1><blockquote class="nq nr ns"><p id="0cb9" class="li lj mn lk b ll lm kd ln lo lp kg lq nt ls lt lu nu lw lx ly nv ma mb mc md im bi translated">冠状病毒的爆发对教育产生了前所未有的影响，给学者和他们的学生带来了特别的压力。在诸多不确定性和快速变化的信息中，我们知道许多教育工作者正在努力向虚拟课堂环境过渡，寻找与学生在线互动的方法，并确保他们拥有继续学业所需的资源。为了缓解学术界目前面临的巨大压力，<strong class="lk jd"> Springer Nature制作了一套</strong> <a class="ae lh" href="https://www.springernature.com/gp/librarians/news-events/all-news-articles/industry-news-initiatives/free-access-to-textbooks-for-institutions-affected-by-coronaviru/17855960" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd">所有学科的基本教材，免费提供</strong> </a>以帮助支持世界各地的学生和教师。[1]</p><p id="019c" class="li lj mn lk b ll lm kd ln lo lp kg lq nt ls lt lu nu lw lx ly nv ma mb mc md im bi translated">斯普林格自然图书公司董事总经理尼尔斯·彼得·托马斯说:“随着危机的全球影响加剧，远程访问教育资源变得至关重要。在这个充满挑战的时期，我们希望为讲师、教师和学生提供支持，并希望这一举措(将有500多本关键教科书在网上免费提供)能够有所帮助。”[2]</p></blockquote></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="8b2a" class="my mz it bd na nb nc nd ne nf ng nh ni ki nj kj nk kl nl km nm ko nn kp no np bi translated">我们开始吧</h1><p id="1555" class="pw-post-body-paragraph li lj it lk b ll nw kd ln lo nx kg lq lr ny lt lu lv nz lx ly lz oa mb mc md im bi translated">现在，让我们看看如何使用Python来完成这项工作！</p><p id="91a3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，让我们准备好你的python的所有需求。如果你的电脑里还没有Python，你可以在官方网站<a class="ae lh" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank">这里</a>下载。</p><p id="dcba" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">请打开命令行并使用以下命令，使用<code class="fe ob oc od oe b">pip</code>准备Python库:</p><pre class="ks kt ku kv gt of oe og oh aw oi bi"><span id="df01" class="oj mz it oe b gy ok ol l om on"><strong class="oe jd">$ pip install pandas<br/>$ pip install wget<br/>$ pip install requests<br/>$ pip install xlrd</strong></span></pre><p id="4d9f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">安装完成后，创建一个项目文件夹，从Springer(<em class="mn">Free+English+textbooks . xlsx</em>)<a class="ae lh" href="https://resource-cms.springernature.com/springer-cms/rest/v1/content/17858272/data/v6" rel="noopener ugc nofollow" target="_blank">这里</a>下载可用免费教材的excel列表。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oo"><img src="../Images/e97ef7d02e8ce0a4308aff7a865f3131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tBx-rWepvBCrGoowrzKnpg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">从<a class="ae lh" href="https://www.springernature.com/gp/librarians/news-events/all-news-articles/industry-news-initiatives/free-access-to-textbooks-for-institutions-affected-by-coronaviru/17855960" rel="noopener ugc nofollow" target="_blank">这里</a>获取免费英语教材标题表。</p></figure><p id="aeee" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">链接URL可能会随着时间的推移而改变，您可以在此<a class="ae lh" href="https://www.springernature.com/gp/librarians/news-events/all-news-articles/industry-news-initiatives/free-access-to-textbooks-for-institutions-affected-by-coronaviru/17855960" rel="noopener ugc nofollow" target="_blank">页面</a>找到此excel表格的更新版本，并点击链接“免费英语教科书标题”，如下图所示。</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><p id="7c8f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，创建一个Python文件<code class="fe ob oc od oe b">download_textbooks.py</code>，并在项目文件夹中准备名为<code class="fe ob oc od oe b">download</code>的文件夹。在我们的项目文件夹中会是这样的:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi op"><img src="../Images/cc09c96480bdfb1275660b6608adc070.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*iuxtbK1Rqbmey39UvDUatA.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mp">项目文件夹示例</strong></p></figure><p id="2814" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，使用您喜欢的编辑器编辑<code class="fe ob oc od oe b">download_textbook.py</code>,添加以下代码行以导入Python模块并将Springer教科书excel加载到<code class="fe ob oc od oe b">pandas dataframe</code>中。让我们使用<code class="fe ob oc od oe b">df.head(10)</code>命令来检查数据帧的前10行。</p><pre class="ks kt ku kv gt of oe og oh aw oi bi"><span id="1af9" class="oj mz it oe b gy ok ol l om on"><strong class="oe jd">import requests<br/>import wget<br/>import pandas as pd</strong><br/><strong class="oe jd">df = pd.read_excel("Free+English+textbooks.xlsx")<br/>print(df.head(10))</strong></span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oq"><img src="../Images/1fd848471b988c246d6d3c749ac21dba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NmHJ3NcYFF7dMxGOexIjaA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mp">斯普林格公司教科书清单数据框</strong></p></figure><p id="fbe7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这个数据框架中，我们目前需要的主要列是用于形成文件名的“<strong class="lk jd">书名</strong>和“<strong class="lk jd">版本</strong>”，以及用于获得下载链接的“<strong class="lk jd"> OpenURL </strong>”。所以我们现在的计划是使用<code class="fe ob oc od oe b">for loop</code>遍历excel列表的每一行。</p><p id="a40d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">我们应该为每个循环做什么:</strong></p><ul class=""><li id="8f00" class="or os it lk b ll lm lo lp lr ot lv ou lz ov md ow ox oy oz bi translated">通过“书名”和“版本”列为每本书创建一个<code class="fe ob oc od oe b">filename </code>变量。请注意，我们可以使用任意混合的列来生成文件名。</li><li id="889d" class="or os it lk b ll pa lo pb lr pc lv pd lz pe md ow ox oy oz bi translated">使用<code class="fe ob oc od oe b">wget</code>命令下载一本书，并用<code class="fe ob oc od oe b">filename </code>变量命名。</li></ul><p id="7bd9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">所以我们可以将这个计划转换成Python脚本:</strong></p><pre class="ks kt ku kv gt of oe og oh aw oi bi"><span id="9aa9" class="oj mz it oe b gy ok ol l om on"><strong class="oe jd">for index, row in df.iterrows():<br/>    file_name = f"{row.loc['Book Title']}_{row.loc['Edition']}"<br/>    url = f"{row.loc['OpenURL']}"<br/>    wget.download(download_url, f"./download/{file_name}.pdf")</strong></span></pre><p id="eff9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">看起来不错，对吧？然而，这种方法是行不通的，因为“OpenURL”列并不直接代表下载PDF文件的最终URL。因此，我们需要将这个OpenURL更改为正确的端点URL。<br/>例如，如果我们在网络浏览器的“OpenURL”栏中打开一本教科书的链接:</p><pre class="ks kt ku kv gt of oe og oh aw oi bi"><span id="fd3b" class="oj mz it oe b gy ok ol l om on"><strong class="oe jd">1.</strong><a class="ae lh" href="http://link.springer.com/openurl?genre=book&amp;isbn=978-0-306-48048-5" rel="noopener ugc nofollow" target="_blank"><strong class="oe jd">http://link.springer.com/openurl?genre=book&amp;isbn=978-0-306-48048-5</strong></a></span></pre><p id="adfb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">哦，它被重定向了！🤨它会自动重定向到</p><pre class="ks kt ku kv gt of oe og oh aw oi bi"><span id="c80c" class="oj mz it oe b gy ok ol l om on"><strong class="oe jd">2.</strong><a class="ae lh" href="https://link.springer.com/book/10.1007%2Fb100747" rel="noopener ugc nofollow" target="_blank"><strong class="oe jd">https://link.springer.com/book/10.1007%2Fb100747</strong></a></span></pre><p id="6d74" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，如果我们单击网站中的下载PDF按钮，真正的端点PDF文件将是:</p><pre class="ks kt ku kv gt of oe og oh aw oi bi"><span id="e117" class="oj mz it oe b gy ok ol l om on"><strong class="oe jd">3.</strong><a class="ae lh" href="https://link.springer.com/content/pdf/10.1007%2F0-387-36274-6.pdf" rel="noopener ugc nofollow" target="_blank"><strong class="oe jd">https://link.springer.com/content/pdf/10.1007%2F0-387-36274-6.pdf</strong></a></span></pre><p id="72e0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这意味着我们应该从1。敬3。每个循环的第一个！因此，我们在<code class="fe ob oc od oe b">for loop </code>中应该做的额外步骤是</p><ul class=""><li id="6858" class="or os it lk b ll lm lo lp lr ot lv ou lz ov md ow ox oy oz bi translated">从“OpenURL”列打开链接。</li><li id="eea4" class="or os it lk b ll pa lo pb lr pc lv pd lz pe md ow ox oy oz bi translated">获得重定向的URL:我发现最简单的方法是使用<code class="fe ob oc od oe b">request</code>模块。</li><li id="597e" class="or os it lk b ll pa lo pb lr pc lv pd lz pe md ow ox oy oz bi translated">将URL字符串的结构重新格式化为下载PDF文件的端点URL。我们可以用<code class="fe ob oc od oe b">str.replace(old,new)</code>来做。</li><li id="e612" class="or os it lk b ll pa lo pb lr pc lv pd lz pe md ow ox oy oz bi translated">按计划用<code class="fe ob oc od oe b">wget</code>下载一本书。</li></ul><p id="82e2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，整个Python代码将如下所示:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="pf pg l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><code class="fe ob oc od oe b">download_textbooks.py</code></p></figure><p id="9a8b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在用<code class="fe ob oc od oe b">python download_textbooks.py</code>运行Python脚本后，您会在<code class="fe ob oc od oe b">download</code>文件夹中获得所有的教科书。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ph"><img src="../Images/3d1c6087716ca923622243688111feaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wROFb5Fidb6f55BZ_GEO3g.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mp">下载的施普林格教材</strong></p></figure></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><p id="a76d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">所以，大概就是这样。我希望你喜欢这篇文章，并且能够在将来应用这个想法来自动化你的一些工作流程。请注意，使用Python有几种方法可以做到这一点，因为几个模块可以完成这项工作。如果您有任何问题、意见或建议，请随时与我分享。</p><p id="2cd1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">安全<strong class="lk jd">健康</strong>健康<strong class="lk jd">！</strong></p><p id="81dc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">感谢您的阅读。👋😄</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h2 id="cd7c" class="oj mz it bd na pi pj dn ne pk pl dp ni lr pm pn nk lv po pp nm lz pq pr no iz bi translated">参考</h2><p id="8bcf" class="pw-post-body-paragraph li lj it lk b ll nw kd ln lo nx kg lq lr ny lt lu lv nz lx ly lz oa mb mc md im bi translated">[1]露西·弗里希，<a class="ae lh" href="https://www.springernature.com/de/researchers/the-source/blog/blogposts-life-in-research/access-textbooks-for-free-during-the-coronavirus-lockdown/17897628" rel="noopener ugc nofollow" target="_blank">以下是在冠状病毒封锁期间如何免费获取教科书的方法</a>(2020年4月16日)，斯普林格自然杂志</p><p id="657c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">[2] Felicitas Behrendt，施普林格自然集团，<a class="ae lh" href="https://group.springernature.com/fr/group/media/press-releases/freely-accessible-textbook-initiative-for-educators-and-students/17858180" rel="noopener ugc nofollow" target="_blank">施普林格自然向受冠状病毒封锁影响的教育工作者、学生和学者免费提供关键教科书</a> (2020年)，施普林格自然</p></div></div>    
</body>
</html>