<html>
<head>
<title>A Simplified approach using PyCaret for Anomaly Detection</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一种使用 PyCaret 进行异常检测的简化方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-simplified-approach-using-pycaret-for-anomaly-detection-7d33aca3f066?source=collection_archive---------44-----------------------#2020-05-24">https://towardsdatascience.com/a-simplified-approach-using-pycaret-for-anomaly-detection-7d33aca3f066?source=collection_archive---------44-----------------------#2020-05-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="216c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用 python 中的 PyCaret 包解释离群点检测。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8517f25ca45250914c8e8850faa2a1b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SEt-YxTpvWqymh989hpKUA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">鲁珀特·布里顿在 Unsplash 上拍摄的照片</p></figure><p id="abe8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">什么是异常？</p><p id="2c78" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">按照谷歌的定义“<strong class="la iu"> <em class="lu">”偏离标准、正常或预期的</em> </strong>”的东西。同样的引用适用于数据科学领域，我们遇到了这样的异常，需要检测、处理或消除这些异常，以提供更好的业务解决方案或建立最佳的预测机器学习模型。就数据集而言，这些异常也被称为“异常值”，也指新奇、噪声、偏差和异常。</p><p id="fa71" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">异常检测用例</strong></p><p id="9430" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有各种各样的领域实施这种技术，例如故障检测、入侵、欺诈检测、医疗保健监控、检测生态系统干扰等等。</p><p id="45e8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将学习如何使用 python 中的 PyCaret 库，通过几个步骤来检测给定数据集的异常值。</p><p id="9e6d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">👉<strong class="la iu">安装 PyCaret 库</strong></p><p id="623b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">建议在安装 PyCaret 库之前创建一个单独的 Conda 环境。如果您尝试在基本环境中安装它，可能会出现一些与依赖项相关的错误。当我尝试在一个新的单独的 Conda 环境中安装时，它很容易安装。要通过创建新的 Conda env 来了解安装的完整细节，请单击[ <a class="ae lv" href="https://pycaret.org/install/" rel="noopener ugc nofollow" target="_blank">此处</a></p><p id="0d4f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了演示 PyCaret 库的异常值检测，我创建了一个数据集，并有意引入了一些极值。</p><p id="697e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lu">在继续之前，请查看异常检测模块文档及其工作原理，以便更好地理解[ </em> <a class="ae lv" href="https://pycaret.org/anomaly-detection/" rel="noopener ugc nofollow" target="_blank"> <em class="lu">此处为</em> </a> <em class="lu"> ] </em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="2654" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">👉<strong class="la iu">创建数据集</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/f3648a699944d56879fa9231e5cda4ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vvwKT9BwRvsNI4sQYKKiuA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据集中突出显示的异常值</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="47d1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">👉<strong class="la iu">导入模块并初始化设置()</strong></p><p id="1962" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">setup()函数将采用强制数据帧参数，并在执行后开始处理。它自动推断变量的所有数据类型，要求我们确认或退出。从下面可以看出，数据类型被推断为分类的而不是数值的。我们需要包含另一个参数来更改数据类型。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi me"><img src="../Images/91fe3a89d361aa5f62b1c091494275d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tIeSENAGiQxFMY0xcNZryA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">输入退出，因为数据类型不是分类的</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mf"><img src="../Images/4a588191fb07442dcfbce79e815149b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2wfCtCZxYLmG4DY5-QTTiw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">添加 numeric_features 参数后安装完成</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="2df6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">👉<strong class="la iu">创建模型</strong></p><p id="8b1c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">create_model()函数用于创建模型，有许多预定义的算法可用。我选择了“隔离森林”估计量，缩写为“iforest”。它返回训练好的模型对象。它们是“knn”，“PCA”，“SVM”，以及更多可供探索的模型。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mg"><img src="../Images/9b4e88af81f3639c0a6e6155a967420d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xhaP3J8PkePINyMqrL5Tnw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用 iforest 训练模型</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="e70f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">👉<strong class="la iu">可视化离群值</strong></p><p id="4f34" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢 PyCaret 如此精彩的 3d 剧情。从下面的图中，我们可以看到黄点代表异常值，这些标记为 1。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/158dcbd0edd8f9a5be132ee534c36588.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qtkc8bSWe7fHA3u0rsF2UA.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/fe9e2a2f74951a40d6c3991f78be37b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OXN-XZz5KCJJJgRIDBSsRA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表示标签的 3D 可视化绘图</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="62f5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">👉<strong class="la iu">分配标签</strong></p><p id="3372" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">assign_model()函数返回带有异常值标志(1 =异常值，0 =内部值)和决策得分的数据帧。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/6f54cb9fb7c5974f14e53671d4239503.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6w5s8X2rPQLtRPJr3FlK5g.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/119593c7cab343856eb3d37eb5c674b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vPTncWvEImfm-2vzM2A0bA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">离群值用标签值 1 表示</p></figure><p id="c8ed" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们可以看到 PyCaret 如何轻松地检测异常值。还有其他函数也可用于预测，以便在该模块中保存和部署模型。请在此浏览 py caret<a class="ae lv" href="https://pycaret.org/anomaly-detection/" rel="noopener ugc nofollow" target="_blank">中异常检测模块的文档</a></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="686c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">总结</strong></p><p id="9171" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在数据科学领域，有许多统计技术和传统方法可用于检测异常值。人们应该了解这些技术，以获得这一概念背后的基本原理，并在处理异常值时理解业务的细微差别。</p><p id="586e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">本文通过一个示例数据集来展示 PyCaret 库在异常检测方面的强大功能，以便更好地理解。您可以使用真实数据集在项目中实现这种方法，以节省时间并捕捉美丽的图形。</p><p id="d658" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lu">我成为了 PyCaret 库的粉丝，我希望你也能经历同样的事情</em>😊</p><p id="7732" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以从我的 GitHub [ <a class="ae lv" href="https://github.com/SushmithaPulagam/Anomaly-Detection_PyCaret" rel="noopener ugc nofollow" target="_blank">链接</a> ]中找到代码</p><p id="f226" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">参考文献</strong></p><ol class=""><li id="82a7" class="ml mm it la b lb lc le lf lh mn ll mo lp mp lt mq mr ms mt bi translated"><a class="ae lv" href="https://pycaret.org/anomaly-detection/" rel="noopener ugc nofollow" target="_blank">https://pycaret.org/anomaly-detection/</a></li><li id="e1f0" class="ml mm it la b lb mu le mv lh mw ll mx lp my lt mq mr ms mt bi translated"><a class="ae lv" href="https://pycaret.org/" rel="noopener ugc nofollow" target="_blank">https://pycaret.org/</a></li><li id="b8f4" class="ml mm it la b lb mu le mv lh mw ll mx lp my lt mq mr ms mt bi translated"><a class="ae lv" href="https://www.youtube.com/watch?v=q0dxYDq1A40" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=q0dxYDq1A40</a></li></ol><p id="457f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读，快乐学习！🙂</p></div></div>    
</body>
</html>