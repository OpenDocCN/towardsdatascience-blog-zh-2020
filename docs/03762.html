<html>
<head>
<title>3 Simple Reasons Why You Should First Visualize Data Before Doing Anything Else</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么在做其他事情之前应该首先可视化数据的3个简单原因</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/3-simple-reasons-why-you-should-first-visualize-data-before-doing-anything-else-63ec05d86d9?source=collection_archive---------21-----------------------#2020-04-08">https://towardsdatascience.com/3-simple-reasons-why-you-should-first-visualize-data-before-doing-anything-else-63ec05d86d9?source=collection_archive---------21-----------------------#2020-04-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/8b836d3decc4523ed50f974a8cf272e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1YJS5I6KH6FVdIal"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://unsplash.com/@chris7520?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">西部边界摄影chris gill </a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><div class=""/><div class=""><h2 id="aed4" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">我们大脑处理的90%的信息是视觉的，我们大脑处理视觉的速度比文本快几千倍。为什么不利用一下呢？</h2></div><h1 id="9e54" class="ky kz jj bd la lb lc ld le lf lg lh li kp lj kq lk ks ll kt lm kv ln kw lo lp bi translated">介绍</h1><p id="a4bd" class="pw-post-body-paragraph lq lr jj ls b lt lu kk lv lw lx kn ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">当我在中学解决几何问题时，我总是做的第一件事是将可用的数据可视化，尤其是那些只有文字描述的问题。把它放在一个环境中，假设小学生要解决下面的假设问题。</p><blockquote class="mm mn mo"><p id="095b" class="lq lr mp ls b lt mq kk lv lw mr kn ly ms mt mb mc mu mv mf mg mw mx mj mk ml im bi translated">三角形的边长分别是3厘米、4厘米和5厘米。最大的角度是多少度？</p><p id="cb6f" class="lq lr mp ls b lt mq kk lv lw mr kn ly ms mt mb mc mu mv mf mg mw mx mj mk ml im bi translated"><strong class="ls jk"> A. </strong> 85度<br/>T9】b .90度<br/>T12】c .95度</p></blockquote><p id="7007" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">对于开始上四五年级的小学生来说，他们可能还不知道勾股定理。他们解决这个问题的最好办法是画一个精确尺寸为3、4和5厘米的三角形(希望如下)，然后测量最大的角度。他们应该能发现最大的角度是90度。</p><figure class="mz na nb nc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi my"><img src="../Images/042bfa54f432a26109b4b855aaa768ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pxEybBFd75R3zF1XJy3rSQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">边长分别为3、4和5厘米的三角形—作者</p></figure><p id="f9bf" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">做数据科学不仅仅是处理三个数据点。对于更复杂的数据，可视化数据对于理解我们的数据更加重要。在这里，我看到了许多优秀的文章，它们介绍了各种方便的数据可视化工具(例如Tableau和Python模块，如<code class="fe nd ne nf ng b">matplotlib</code>和<code class="fe nd ne nf ng b">seaborn</code>)以及各种用于不同场景的精美图表(例如热图、蜘蛛图)，主要用于结果报告。</p><p id="e127" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">令人惊讶的是，据我所知，在数据科学项目的早期阶段，很少有人讨论数据可视化的重要性。缺乏广泛的讨论可能是因为1)经验丰富的数据科学家认为这是他们懒得谈论的例行步骤，2)新数据科学家可能没有意识到可视化数据作为关键预处理步骤的必要性。</p><p id="960b" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">在这篇文章中，我想与您分享为什么我们应该在开始任何后续数据处理和分析步骤之前可视化我们的数据的三个主要原因。在我们开始之前，有四件事需要注意。</p><ol class=""><li id="8f7b" class="nh ni jj ls b lt mq lw mr lz nj md nk mh nl ml nm nn no np bi translated">为了提供概念证明，我将使用模拟相关数据模式的合成数据，这些数据模式在现实世界中可能会遇到，也可能不会遇到。如果您愿意，请随意使用您的数据。BTW:你可以在<a class="ae jg" href="https://github.com/ycui1/data_visualization_3_reasons.git" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到本文使用的代码。</li><li id="8c69" class="nh ni jj ls b lt nq lw nr lz ns md nt mh nu ml nm nn no np bi translated">只有当分辨率合理时，可视化才有意义。因此，对于一个庞大的数据集，您必须运行一些迭代来逐段查看数据，以生成清晰的图表。</li><li id="2403" class="nh ni jj ls b lt nq lw nr lz ns md nt mh nu ml nm nn no np bi translated">本文面向初级到中级水平的数据科学家。优先考虑使用Python及其相关模块(例如Pandas)的知识，但是这里介绍的原理仍然适用于使用其他数据处理和可视化工具。</li><li id="1e3b" class="nh ni jj ls b lt nq lw nr lz ns md nt mh nu ml nm nn no np bi translated">这篇文章并不详尽。对于下面讨论的每一个原因，都有其他可视化方法来实现相同的目标。此外，在运行任何分析或构建模型之前，我们应该可视化我们的数据还有其他原因。</li></ol></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="7bd9" class="ky kz jj bd la lb oc ld le lf od lh li kp oe kq lk ks of kt lm kv og kw lo lp bi translated">1.理解缺失模式</h1><p id="cf77" class="pw-post-body-paragraph lq lr jj ls b lt lu kk lv lw lx kn ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">由于各种原因，真实世界的数据存在缺失问题。由于种族和收入等隐私问题，受试者拒绝回答具体问题。受试者意外输入了不正确的数据(例如，电话号码中缺少一个数字)。在纵向研究中，一些受试者因退出或死亡而退出研究。</p><p id="f9c9" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">因此，了解我们数据的缺失是很重要的，尤其是那些从现实生活研究中收集的数据。事实上，我们可以用描述性统计来计算缺失的数据，但是可视化数据是生成数据缺失的总体印象的一种强大而直接的方法。</p><figure class="mz na nb nc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/3e8b86551d7e820c4d5cc71bd395924f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wbuWhf0OPT2ePGznP8C43g.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">合成数据的生成</p></figure><p id="fa79" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">在上面的代码片段中，我们生成了随机数的数据帧。然后我们注入一些缺失的数据。了解总体缺失模式的最简单方法是使用热图，如下所示。浅米色的每个单元格代表一个缺失值。</p><figure class="mz na nb nc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oi"><img src="../Images/28a28f9a5b2845f68ad8a9814800d37f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pyURrIwYvUv3Isq3yBN7eA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">热图揭示的缺失模式</p></figure><p id="8295" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">根据这张热图，我们可以得出以下观察结果。1)总体来说，这个模拟数据集的缺失度还不错。为了找出每个变量的确切数量，我们可以使用一些描述性统计。2).如果每行代表一个纵向研究中受试者的数据，似乎有些受试者在不同的时间点退出了研究。我们可以对照他们的数据图表。3).两栏中缺少所有受试者的数据，这非常令人担忧。工作人员可能误解了该方案，因此没有按预期收集这些数据。或者，这些数据可能还没有输入数据库。</p><p id="f5df" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">使用这个简单的热图可视化丢失的数据有助于我们理解这个数据集的丢失模式，<strong class="ls jk">，更重要的是，它可以引导我们回到数据源以恢复一些丢失的数据。</strong>最后，我们可以减少数据中的遗漏，我们都知道完整的数据集对任何数据科学项目来说有多么重要。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="db28" class="ky kz jj bd la lb oc ld le lf od lh li kp oe kq lk ks of kt lm kv og kw lo lp bi translated">2.识别异常值</h1><p id="b312" class="pw-post-body-paragraph lq lr jj ls b lt lu kk lv lw lx kn ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">数据预处理的一个早期步骤是<strong class="ls jk">处理离群值，离群值是与数据集中的其他数据值明显不同的数据值</strong>。它们的发生至少有两个原因。第一，数据输入错误。例如，缺少一个小数会使值增大100倍(10.24对1024)。第二，数据集有真正的离群值。例如，在健康人群的生理学研究中，大多数受试者的静息心率为60-100 BPM，但出于某种原因，受试者的心率为130 bpm，这可能是一个真正的异常值。</p><p id="7b64" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">我们会知道异常值对数据分析的负面影响。这里有一个真实的例子，我不知道它是否被研究过。考虑研究大学辍学对一个人在商业上成功的影响。我们可能会错误地得出这样的结论:与在哈佛读完四年相比，从哈佛退学会大大增加你成为亿万富翁的可能性。为什么会这样？这都是因为比尔·盖茨和马克·扎克伯格这两个真正的异类都从哈佛退学了。</p><p id="f853" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">玩笑归玩笑，数据可视化是识别数据集中可能的异常值的强大方法。根据数据结构的性质，有不同类型的图表可以显示异常值。在这里，我只是给大家展示一些常见的。</p><p id="fad5" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated"><strong class="ls jk"> <em class="mp">要使用单变量方法可视化异常值，箱线图在大多数情况下都适用。</em> </strong>如下图所示，我生成了10000个正态分布的随机数。使用箱线图，我们可以看到这个数据集有异常值，我们必须处理。处理异常值可能是未来一篇文章的另一个主题。</p><figure class="mz na nb nc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oj"><img src="../Images/8158cf5eac1830b6cabdbb6cd76cb36c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AzJTVhWOrTafgaiaFkAsqA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">箱形图</p></figure><p id="4b0b" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">如果我们要研究两个连续变量之间的关系，我们在大多数情况下可以使用散点图。 如下图，我生成了两个一维的随机数数组，它们之间有一个投影的线性关系。我人为地添加了一些可能的异常值。如您所见，这四个异常值明显远离散点图中的其他点。请注意，对于真实世界的数据集，如果可能的话，我们需要回到数据源，以验证这些数据是在没有任何人为错误的情况下收集的有效值。</p><figure class="mz na nb nc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/0219306c2da1a18179d5ba9e559530bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*--24nfTOUoyuue6SIAIY2w.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">散点图</p></figure></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="c5c2" class="ky kz jj bd la lb oc ld le lf od lh li kp oe kq lk ks of kt lm kv og kw lo lp bi translated">3.产生有意义的假设</h1><p id="4697" class="pw-post-body-paragraph lq lr jj ls b lt lu kk lv lw lx kn ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在我正在进行的数据科学或神经科学研究中，利用现有数据开发一些可测试的假设至关重要。类似地，在机器学习设置中，总是需要形成一些假设，并用训练数据集开发一些有意义的模型，我们希望在测试数据集中运行模型时能够保持这些假设。</p><p id="bf14" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">类似于离群值的识别，给定数据集的特定数据结构将决定我们在进行任何测试之前如何可视化数据。例如，如果您试图确定两个连续变量之间可能的线性关系，您可以从散点图开始，如上一节所示。既然您已经看到了，我将向您展示另外两种类型的图，以针对特定的研究需求生成其他潜在的假设。</p><p id="7dc0" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated"><strong class="ls jk">如果你试图在纵向研究中找出一个趋势，最好从折线图开始。</strong>在下面的例子中，我从<a class="ae jg" href="https://www.kaggle.com/cdc/tobacco-use" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>下载了烟草使用数据。为简单起见，我只将全国平均数据归入日常吸烟者和戒烟者类别。因为百分比数据是作为字符串读取的，所以为了绘图的目的，我将它们转换为浮点数。从线图中，我们可以观察到每日吸烟率下降的趋势，而以前吸烟者的流行率保持不变。通过确定这一趋势，我们可能会产生一个假设，即2010年后，每日吸烟率将继续下降。</p><figure class="mz na nb nc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ok"><img src="../Images/91eebc41671c0fd755447c72fa6a214a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IM4XksZhOl-pHMNzoCI23w.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">线形图</p></figure><p id="f1c9" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated"><strong class="ls jk">如果您试图研究两个变量(连续和/或分类)之间的关系，有几个选项可用，例如散点图(我们在上一节中用于线性关系的那个)、热图和条形图。</strong>为了向您展示一些不同的东西，我将向您展示蜂群图，它有助于检查分类变量和连续变量之间的关系，并显示了后者的分布。</p><p id="59c7" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">典型的例子包括比较两组之间特定测量的差异，以及比较同一组手术前后的差异。很大程度上，这就像是独立t检验和从属t检验。</p><figure class="mz na nb nc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ol"><img src="../Images/c829b50000e115f29e5535338060c3e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PB4DBQhg-hdM6FMYjUFDlg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">群体图和箱线图</p></figure><p id="7617" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">假设我们想要研究性别(生物医学研究中使用的一种生物因素，而不是使用性别，这具有一些社会影响)是否影响新冠肺炎的特定严重性度量ABC。上图显示了使用<code class="fe nd ne nf ng b">seaborn</code>模块混合盒状图的群体图的数据模拟和生成。有了这个数字，我们可以假设男性的ABC因子水平可能比女性高，这个假设我们可以在以后用更大的人群进行测试。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="7a38" class="ky kz jj bd la lb oc ld le lf od lh li kp oe kq lk ks of kt lm kv og kw lo lp bi translated">结论</h1><p id="db2e" class="pw-post-body-paragraph lq lr jj ls b lt lu kk lv lw lx kn ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">数据预处理是一门艺术，它将顶尖的数据科学家与平庸的科学家区分开来。数据预处理步骤中的一些关键部分是缺失值和异常值的识别和处理。我们必须仔细观察数据，以确保数据本身的质量。如果条件允许，回到数据源验证数据完整性，从源头上消除人为错误总是一个好主意。</p><p id="0776" class="pw-post-body-paragraph lq lr jj ls b lt mq kk lv lw mr kn ly lz mt mb mc md mv mf mg mh mx mj mk ml im bi translated">除了检查我们数据的文本描述之外，在我们数据处理步骤的早期阶段可视化数据，而不是保存可视化工具以便稍后展示最终产品，这是非常有用的。这种可视化提供了一种基本的方式来告知数据质量并为接下来的分析步骤生成可能的有意义的假设。</p></div></div>    
</body>
</html>