<html>
<head>
<title>Building a Simple UI with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Python 构建简单的用户界面</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-a-simple-ui-for-python-fd0e5f2a2d8b?source=collection_archive---------4-----------------------#2020-06-28">https://towardsdatascience.com/building-a-simple-ui-for-python-fd0e5f2a2d8b?source=collection_archive---------4-----------------------#2020-06-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="3ab4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用用户界面展示 Python 项目从未如此简单。使用<a class="ae ko" href="https://www.streamlit.io/" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>框架，您可以仅使用 Python 代码构建基于浏览器的 UI。在这个演示中，我们将为一个迷宫求解程序构建用户界面，这个程序在之前的文章中有详细描述。</p><div class="kp kq gp gr kr ks"><a rel="noopener follow" target="_blank" href="/solving-mazes-with-python-f7a412f2493f"><div class="kt ab fo"><div class="ku ab kv cl cj kw"><h2 class="bd iu gy z fp kx fr fs ky fu fw is bi translated">用 Python 解迷宫</h2><div class="kz l"><h3 class="bd b gy z fp kx fr fs ky fu fw dk translated">使用 Dijkstra 的算法和 OpenCV</h3></div><div class="la l"><p class="bd b dl z fp kx fr fs ky fu fw dk translated">towardsdatascience.com</p></div></div><div class="lb l"><div class="lc l ld le lf lb lg lh ks"/></div></div></a></div><h2 id="6f43" class="li lj it bd lk ll lm dn ln lo lp dp lq kb lr ls lt kf lu lv lw kj lx ly lz ma bi translated">细流</h2><p id="1290" class="pw-post-body-paragraph jq jr it js b jt mb jv jw jx mc jz ka kb md kd ke kf me kh ki kj mf kl km kn im bi translated">Streamlit 是一个 web 框架，旨在让数据科学家使用 Python 轻松部署模型和可视化。它速度快，简约，但也漂亮和用户友好。有用于用户输入的内置小部件，如图像上传、滑块、文本输入和其他熟悉的 HTML 元素，如复选框和单选按钮。每当用户与 streamlit 应用程序进行交互时，python 脚本都会从头到尾重新运行一次，这是考虑应用程序的不同状态时需要记住的一个重要概念。</p><p id="757c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以使用 pip 安装 Streamlit:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="6691" class="li lj it ml b gy mp mq l mr ms">pip install streamlit</span></pre><p id="4ee1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">并在 python 脚本上运行 streamlit:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="6263" class="li lj it ml b gy mp mq l mr ms">streamlit run app.py</span></pre><h2 id="ecd2" class="li lj it bd lk ll lm dn ln lo lp dp lq kb lr ls lt kf lu lv lw kj lx ly lz ma bi translated">用例</h2><p id="8e9c" class="pw-post-body-paragraph jq jr it js b jt mb jv jw jx mc jz ka kb md kd ke kf me kh ki kj mf kl km kn im bi translated">在前面的演示中，我们构建了一个 Python 程序，它将在给定图像文件和开始/结束位置的情况下解决一个迷宫。我们想把这个程序变成一个单页的 web 应用程序，用户可以上传一个迷宫图像(或使用默认的迷宫图像)，调整迷宫的开始和结束位置，并看到最终解决的迷宫。</p><p id="82db" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，让我们为图像上传程序创建 UI，并创建使用默认图像的选项。我们可以使用像<em class="mt"> st.write() </em>或<em class="mt"> st.title() </em>这样的函数来添加文本输出。我们使用 streamlit 的<em class="mt"> st.file_uploader() </em>函数存储动态上传的文件。最后，<em class="mt"> st.checkbox() </em>将根据用户是否选择了复选框返回一个布尔值。</p><figure class="mg mh mi mj gt mu"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="38f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">结果是:</p><figure class="mg mh mi mj gt mu gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/4950f8adc324223334d0e0e376b6b89a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*DwJ9KGoI6ZePucXR5Hb6wg.png"/></div></figure><p id="73f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，我们可以将默认或上传的图像读取为可用的 OpenCV 图像格式。</p><figure class="mg mh mi mj gt mu"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="6814" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦图像上传，我们希望显示标有起点和终点的图像。我们将使用滑块来允许用户重新定位这些点。<em class="mt"> st.sidebar() </em>函数向页面添加一个侧边栏，而<em class="mt"> st.slider() </em>在定义的最小值和最大值范围内接受数字输入。我们可以根据迷宫图像的大小动态定义滑块的最小值和最大值。</p><figure class="mg mh mi mj gt mu"><div class="bz fp l di"><div class="mv mw l"/></div></figure><figure class="mg mh mi mj gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi mz"><img src="../Images/eccd4331d7b6356a5bb7364d12bc8c01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gJ3LESEA5nqV4rF0aJhsbw.png"/></div></div></figure><p id="d88a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">每当用户调整滑块时，图像会快速重新呈现，并且点会改变位置。</p><p id="442f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦用户确定了开始和结束的位置，我们需要一个按钮来解决迷宫并显示解决方案。<em class="mt"> st.spinner() </em>元素仅在其子流程运行时显示，而<em class="mt"> st.image() </em>调用用于显示图像。</p><figure class="mg mh mi mj gt mu"><div class="bz fp l di"><div class="mv mw l"/></div></figure><figure class="mg mh mi mj gt mu gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/48195f1ecf7e130b5aa39111c8f6ce27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*TUhbfntFQPu8HVVBlHvI2A.png"/></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">流线型按钮和微调按钮</p></figure><figure class="mg mh mi mj gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi nj"><img src="../Images/2e53071db4b8e1ffefa466ffb411b585.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S-cVpt9Lj11uwuUEtaFEQg.png"/></div></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">显示已解决的迷宫</p></figure><figure class="mg mh mi mj gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi nk"><img src="../Images/8992c780b13b6983e8796b812b1a9c23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-etit6MGzGoVNexdXXUhxQ.gif"/></div></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">迷宫求解器在运行</p></figure><h2 id="1ab6" class="li lj it bd lk ll lm dn ln lo lp dp lq kb lr ls lt kf lu lv lw kj lx ly lz ma bi translated">摘要</h2><p id="f422" class="pw-post-body-paragraph jq jr it js b jt mb jv jw jx mc jz ka kb md kd ke kf me kh ki kj mf kl km kn im bi translated">在不到 40 行代码中，我们为 Python 图像处理应用程序创建了一个简单的 UI。我们不需要编写任何传统的前端代码。除了 Streamlit 能够消化简单的 Python 代码之外，每当用户与页面交互或脚本发生变化时，Streamlit 都会智能地从头到尾 <strong class="js iu">重新运行脚本的必要部分<strong class="js iu">。这允许直接的数据流和快速开发。</strong></strong></p></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><p id="e756" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在<a class="ae ko" href="https://github.com/maxwellreynolds/Maze/blob/master/ui.py" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到完整的代码，在这里你可以找到解释迷宫求解器<a class="ae ko" rel="noopener" target="_blank" href="/solving-mazes-with-python-f7a412f2493f">背后的算法的第一部分。包含重要概念和附加小部件的 Streamlit 文档位于</a><a class="ae ko" href="https://docs.streamlit.io/en/stable/" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><div class="kp kq gp gr kr ks"><a rel="noopener follow" target="_blank" href="/deploying-a-simple-ui-for-python-88e8e7cbbf61"><div class="kt ab fo"><div class="ku ab kv cl cj kw"><h2 class="bd iu gy z fp kx fr fs ky fu fw is bi translated">为 Python 部署简单的 UI</h2><div class="kz l"><h3 class="bd b gy z fp kx fr fs ky fu fw dk translated">Streamlit 共享:Python 项目的游戏规则改变者</h3></div><div class="la l"><p class="bd b dl z fp kx fr fs ky fu fw dk translated">towardsdatascience.com</p></div></div><div class="lb l"><div class="ns l ld le lf lb lg lh ks"/></div></div></a></div></div></div>    
</body>
</html>