<html>
<head>
<title>Version Control With Jupyter Notebook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Jupyter笔记本进行版本控制</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/version-control-with-jupyter-notebook-b9630bc5996e?source=collection_archive---------10-----------------------#2020-02-21">https://towardsdatascience.com/version-control-with-jupyter-notebook-b9630bc5996e?source=collection_archive---------10-----------------------#2020-02-21</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><h2 id="d6e4" class="is it iu bd b dl iv iw ix iy iz ja dk jb translated" aria-label="kicker paragraph">编程；编排</h2><div class=""/><div class=""><h2 id="bb8c" class="pw-subtitle-paragraph ka jd iu bd b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dk translated">Jupytext分步指南</h2></div><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj ks"><img src="../Images/9fc92403eeb7ebc4b6bcf7ea0a67adfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*J4GMHXhKcYFU0_pX"/></div></div><p class="le lf gk gi gj lg lh bd b be z dk translated"><a class="ae li" href="https://unsplash.com/@writecodenow?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">博伊图梅洛·菲特拉</a>在<a class="ae li" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="8104" class="lo lp iu lk b gz lq lr l ls lt"><strong class="lk je">Table of Contents</strong></span><span id="aa28" class="lo lp iu lk b gz lu lr l ls lt"><a class="ae li" href="#1cd1" rel="noopener ugc nofollow"><strong class="lk je">Introduction</strong></a></span><span id="1340" class="lo lp iu lk b gz lu lr l ls lt">1. <a class="ae li" href="#a92d" rel="noopener ugc nofollow">Creating a demo repo</a><br/>2. <a class="ae li" href="#9aab" rel="noopener ugc nofollow">Jupytext setup</a><br/>3. <a class="ae li" href="#b1b8" rel="noopener ugc nofollow">Converting to a python file</a><br/>4. <a class="ae li" href="#f3c3" rel="noopener ugc nofollow">Converting multiple files</a><br/>5. <a class="ae li" href="#7ac3" rel="noopener ugc nofollow">Converted file</a><br/>6. <a class="ae li" href="#3d3b" rel="noopener ugc nofollow">Adding ipynb to .gitignore</a><br/>7. <a class="ae li" href="#e9a8" rel="noopener ugc nofollow">Converting to ipynb files</a><br/>8. <a class="ae li" href="#56e5" rel="noopener ugc nofollow">Other commands</a><br/>9. <a class="ae li" href="#6b91" rel="noopener ugc nofollow">Paired notebooks</a></span><span id="6e3d" class="lo lp iu lk b gz lu lr l ls lt"><a class="ae li" href="#a9ad" rel="noopener ugc nofollow"><strong class="lk je">Conclusion</strong></a></span></pre><h1 id="1cd1" class="lv lp iu bd lw lx ly lz ma mb mc md me kj mf kk mg km mh kn mi kp mj kq mk ml bi translated">介绍</h1><p id="fbb8" class="pw-post-body-paragraph mm mn iu mo b mp mq ke mr ms mt kh mu mv mw mx my mz na nb nc nd ne nf ng nh in bi translated">Jupyter notebook生成包含元数据、源代码、格式化文本和富媒体的文件。<code class="fe ni nj nk lk b"><a class="ae li" href="https://gist.github.com/shinokada/fa5c18b1ed26eb11344b5344dc1391ac" rel="noopener ugc nofollow" target="_blank">git diff</a></code>中一个字的改变导致成千上万个字母。</p><p id="d6de" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">Jupytext可以将Jupyter Notebook保存为git友好和人类友好的文件格式，包括Markdown、Python、Julia、Bash、Clojure、Matlab、TypeScript、Javascript等。</p><p id="d97c" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">它还将这些文档转换成Jupyter笔记本。在本文中，我将使用Jupytext一步步地介绍Jupyter Notebook的版本控制指南。</p><blockquote class="nq"><p id="669c" class="nr ns iu bd nt nu nv nw nx ny nz nh dk translated">如果你用的不是<a class="ae li" href="https://help.github.com/en/github/managing-files-in-a-repository/working-with-jupyter-notebook-files-on-github" rel="noopener ugc nofollow" target="_blank"> Github的ipynb渲染</a>、<a class="ae li" href="https://nbviewer.jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Nbviewer </a>或者<a class="ae li" href="https://mybinder.org/" rel="noopener ugc nofollow" target="_blank"> Binder </a>，那么Jupytext应该是你版本控制的选择。</p></blockquote><p id="85c7" class="pw-post-body-paragraph mm mn iu mo b mp oa ke mr ms ob kh mu mv oc mx my mz od nb nc nd oe nf ng nh in bi translated">支持的扩展有:</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj of"><img src="../Images/9cdcafdbf06e1ee672ad7617ff667a46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*5uDrob3FwCAgHh8Jr3mpCQ.png"/></div></figure><div class="og oh gq gs oi oj"><a href="https://levelup.gitconnected.com/a-painless-jupyter-notebook-code-review-and-diff-51d36d8cd20b" rel="noopener  ugc nofollow" target="_blank"><div class="ok ab fp"><div class="ol ab om cl cj on"><h2 class="bd je gz z fq oo fs ft op fv fx jd bi translated">一个无痛Jupyter笔记本代码审查和差异</h2><div class="oq l"><h3 class="bd b gz z fq oo fs ft op fv fx dk translated">Jupyter笔记本Diff入门</h3></div><div class="or l"><p class="bd b dl z fq oo fs ft op fv fx dk translated">levelup.gitconnected.com</p></div></div><div class="os l"><div class="ot l ou ov ow os ox lc oj"/></div></div></a></div><div class="og oh gq gs oi oj"><a rel="noopener follow" target="_blank" href="/how-to-run-jupyter-notebook-on-docker-7c9748ed209f"><div class="ok ab fp"><div class="ol ab om cl cj on"><h2 class="bd je gz z fq oo fs ft op fv fx jd bi translated">如何在Docker上运行Jupyter笔记本</h2><div class="oq l"><h3 class="bd b gz z fq oo fs ft op fv fx dk translated">不再有Python环境和包更新</h3></div><div class="or l"><p class="bd b dl z fq oo fs ft op fv fx dk translated">towardsdatascience.com</p></div></div><div class="os l"><div class="oy l ou ov ow os ox lc oj"/></div></div></a></div><div class="og oh gq gs oi oj"><a rel="noopener follow" target="_blank" href="/stepping-into-intermediate-with-jupyter-f6647aeb1184"><div class="ok ab fp"><div class="ol ab om cl cj on"><h2 class="bd je gz z fq oo fs ft op fv fx jd bi translated">Jupyter用户的生产力提示</h2><div class="oq l"><h3 class="bd b gz z fq oo fs ft op fv fx dk translated">使用Jupyter笔记本和JupyterLab让您的工作流程更加高效</h3></div><div class="or l"><p class="bd b dl z fq oo fs ft op fv fx dk translated">towardsdatascience.com</p></div></div><div class="os l"><div class="oz l ou ov ow os ox lc oj"/></div></div></a></div></div><div class="ab cl pa pb hy pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="in io ip iq ir"><h1 id="a92d" class="lv lp iu bd lw lx ph lz ma mb pi md me kj pj kk mg km pk kn mi kp pl kq mk ml bi translated">创建演示回购</h1><p id="d9ee" class="pw-post-body-paragraph mm mn iu mo b mp mq ke mr ms mt kh mu mv mw mx my mz na nb nc nd ne nf ng nh in bi translated">首先，让我们用下面的代码创建一个新的Jupyter笔记本文件。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="001f" class="lo lp iu lk b gz lq lr l ls lt">x = np.arange(-3, 3, 0.1)<br/>y = np.sin(x)<br/>plt.plot(x, y)<br/>plt.show()</span></pre><p id="a866" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">请创建一个Github repo。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="1748" class="lo lp iu lk b gz lq lr l ls lt">echo "# jupyter_notebook_version_control" &gt;&gt; README.md<br/>git init<br/>git add README.md<br/>git commit -m "first commit"<br/>git remote add origin <a class="ae li" href="mailto:git@github.com" rel="noopener ugc nofollow" target="_blank">git@github.com</a>:username/jupyter_notebook_version_control.git<br/>git push -u origin master</span></pre><p id="972e" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">我在ipynb文件中将“sin”改为“cos”。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="594b" class="lo lp iu lk b gz lq lr l ls lt">y = np.cos(x)</span></pre><p id="c0dc" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated"><a class="ae li" href="https://gist.githubusercontent.com/shinokada/fa5c18b1ed26eb11344b5344dc1391ac/raw/d0a2958cd5ab5dd62ba1f68bdf19ca45cda94ba2/git_diff_1.bash" rel="noopener ugc nofollow" target="_blank">该链接是“git diff”的结果</a>。它为三封信生成了数千封信。</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj pm"><img src="../Images/ce6197402403ca2a901d153dbef131cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ODliDe2zgkBnL_NxaMevlg.png"/></div></div></figure></div><div class="ab cl pa pb hy pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="in io ip iq ir"><h1 id="9aab" class="lv lp iu bd lw lx ph lz ma mb pi md me kj pj kk mg km pk kn mi kp pl kq mk ml bi translated">Jupytext设置</h1><p id="f8d8" class="pw-post-body-paragraph mm mn iu mo b mp mq ke mr ms mt kh mu mv mw mx my mz na nb nc nd ne nf ng nh in bi translated">让我们安装并设置<a class="ae li" href="https://github.com/mwouts/jupytext" rel="noopener ugc nofollow" target="_blank"> Jupytext </a>。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="6e6f" class="lo lp iu lk b gz lq lr l ls lt">pip install jupytext --upgrade</span></pre><p id="ae64" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">或者对于康达用户</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="475d" class="lo lp iu lk b gz lq lr l ls lt">conda install -c conda-forge jupytext</span></pre><p id="b3d3" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">重启Jupyter笔记本。</p></div><div class="ab cl pa pb hy pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="in io ip iq ir"><h1 id="b1b8" class="lv lp iu bd lw lx ph lz ma mb pi md me kj pj kk mg km pk kn mi kp pl kq mk ml bi translated">转换为python文件</h1><p id="9546" class="pw-post-body-paragraph mm mn iu mo b mp mq ke mr ms mt kh mu mv mw mx my mz na nb nc nd ne nf ng nh in bi translated">您可以将ipynb文件转换为受支持的文件之一。我将在本文中使用一个python文件。</p><p id="67fb" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">在你的终端里，你可以这样运行。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="c349" class="lo lp iu lk b gz lq lr l ls lt">jupytext --to py &lt;your-file-name&gt;.ipynb</span></pre><p id="37bc" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">对于我的情况:</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="75e2" class="lo lp iu lk b gz lq lr l ls lt">jupytext --to py Version_control.ipynb</span></pre><p id="5623" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">产出:</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="12f2" class="lo lp iu lk b gz lq lr l ls lt">[jupytext] Reading ./Version_control.ipynb<br/>[jupytext] Writing ./Version_control.py</span></pre></div><div class="ab cl pa pb hy pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="in io ip iq ir"><div class="kt ku kv kw gu oj"><a rel="noopener follow" target="_blank" href="/7-essential-tips-for-writing-with-jupyter-notebook-60972a1a8901"><div class="ok ab fp"><div class="ol ab om cl cj on"><h2 class="bd je gz z fq oo fs ft op fv fx jd bi translated">用Jupyter笔记本写作的7个基本技巧</h2><div class="oq l"><h3 class="bd b gz z fq oo fs ft op fv fx dk translated">第一篇数据科学文章指南</h3></div><div class="or l"><p class="bd b dl z fq oo fs ft op fv fx dk translated">towardsdatascience.com</p></div></div><div class="os l"><div class="pn l ou ov ow os ox lc oj"/></div></div></a></div></div><div class="ab cl pa pb hy pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="in io ip iq ir"><h1 id="f3c3" class="lv lp iu bd lw lx ph lz ma mb pi md me kj pj kk mg km pk kn mi kp pl kq mk ml bi translated">转换多个文件</h1><p id="e2d9" class="pw-post-body-paragraph mm mn iu mo b mp mq ke mr ms mt kh mu mv mw mx my mz na nb nc nd ne nf ng nh in bi translated">让我们一次转换所有的ipynb文件。请在您的目录中创建更多文件。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="3fe9" class="lo lp iu lk b gz lq lr l ls lt">jupytext --to py *.ipynb</span></pre><p id="8bfa" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">输出:</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="2403" class="lo lp iu lk b gz lq lr l ls lt">[jupytext] Reading Version_control.ipynb<br/>[jupytext] Writing Version_control.py<br/>[jupytext] Reading sine.ipynb<br/>[jupytext] Writing sine.py<br/>[jupytext] Reading tangent.ipynb<br/>[jupytext] Writing tangent.py</span></pre><p id="cde7" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">您可以将文件转换成目录。如果不存在，Jupytext将创建一个新目录。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="6fac" class="lo lp iu lk b gz lq lr l ls lt">jupytext --to destination_folder//py *.ipynb</span></pre><h2 id="44ad" class="lo lp iu bd lw po pp dn ma pq pr dp me mv ps pt mg mz pu pv mi nd pw px mk ja bi translated">注意事项:</h2><p id="b8d8" class="pw-post-body-paragraph mm mn iu mo b mp mq ke mr ms mt kh mu mv mw mx my mz na nb nc nd ne nf ng nh in bi translated">如果您愿意，可以在其中一个单元格中运行jupytext。但是这个单元格也会出现在转换后的文件中。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="5060" class="lo lp iu lk b gz lq lr l ls lt">!jupytext --to py &lt;your-file-name&gt;.ipynb</span></pre><h1 id="7ac3" class="lv lp iu bd lw lx ly lz ma mb mc md me kj mf kk mg km mh kn mi kp mj kq mk ml bi translated">转换文件</h1><p id="7ea9" class="pw-post-body-paragraph mm mn iu mo b mp mq ke mr ms mt kh mu mv mw mx my mz na nb nc nd ne nf ng nh in bi translated">让我们在您的终端中查看转换后的文件。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="0831" class="lo lp iu lk b gz lq lr l ls lt">cat Version_control.py</span></pre><p id="976b" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">我的输出:</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="2f03" class="lo lp iu lk b gz lq lr l ls lt"># ---<br/># jupyter:<br/>#   jupytext:<br/>#     text_representation:<br/>#       extension: .py<br/>#       format_name: light<br/>#       format_version: '1.5'<br/>#       jupytext_version: 1.3.3<br/>#   kernelspec:<br/>#     display_name: Python 3<br/>#     language: python<br/>#     name: python3<br/># ---<br/><br/>x = np.arange(-3, 3, 0.1)<br/>y = np.cos(x)<br/>plt.plot(x, y)<br/>plt.show()</span></pre><p id="261d" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">它非常紧凑，文件大小非常小。尼斯（法国城市名）😃 👏👏👏👏。</p></div><div class="ab cl pa pb hy pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="in io ip iq ir"><h1 id="3d3b" class="lv lp iu bd lw lx ph lz ma mb pi md me kj pj kk mg km pk kn mi kp pl kq mk ml bi translated">将ipynb添加到。gitignore</h1><p id="0650" class="pw-post-body-paragraph mm mn iu mo b mp mq ke mr ms mt kh mu mv mw mx my mz na nb nc nd ne nf ng nh in bi translated">因为我们没有跟踪<code class="fe ni nj nk lk b">ipynb</code>文件，所以我们可以将它添加到<code class="fe ni nj nk lk b">.gitignore</code>文件中。请在您的项目根目录下创建一个<code class="fe ni nj nk lk b">.gitignore</code>。git目录。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="38b9" class="lo lp iu lk b gz lq lr l ls lt">touch .gitignore</span></pre><p id="88b6" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">请加上<code class="fe ni nj nk lk b">*.ipynb</code>和`。ipynb_checkpoints `忽略所有Jupyter笔记本文件。或者将这个完整的列表添加到你的gitignore中。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="e112" class="lo lp iu lk b gz lq lr l ls lt"># for Jupytext ignoring ipynb files<br/>*.ipynb</span></pre><p id="b373" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">在这个阶段，git仍然会跟踪<code class="fe ni nj nk lk b">.ipynb</code>文件中的变化。要解决这个问题，您需要删除git缓存并再次添加所有文件。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="2cc4" class="lo lp iu lk b gz lq lr l ls lt">git rm -r --cached .<br/>git add .<br/>git commit -m "fixed untracked files"</span></pre><p id="780a" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">在你的Jupyter笔记本上换了一行后，看看<code class="fe ni nj nk lk b">.gitignore</code>是否工作。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="2ff2" class="lo lp iu lk b gz lq lr l ls lt"># change whatever you want<br/>y = np.arange(-2,2,0.1)</span></pre><p id="0846" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">在您的终端中检查它:</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="20f2" class="lo lp iu lk b gz lq lr l ls lt">git status</span></pre><p id="b944" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">它不应该返回修改过的文件。让我们再次运行Jupytext来思考我们的变化。请在您的终端中运行以下程序。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="c2ec" class="lo lp iu lk b gz lq lr l ls lt">jupytext --to py Version_control.ipynb</span></pre><p id="bd12" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">转换后的文件将被替换。😃</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="f22a" class="lo lp iu lk b gz lq lr l ls lt">[jupytext] Reading ./Version_control.ipynb<br/>[jupytext] Writing ./Version_control.py (destination file replaced)</span></pre><p id="8f76" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">让我们检查一下git状态。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="f4b5" class="lo lp iu lk b gz lq lr l ls lt">git status<br/><br/>On branch master<br/>Your branch is up to date with 'origin/master'.<br/><br/>Changes not staged for commit:<br/>  (use "git add &lt;file&gt;..." to update what will be committed)<br/>  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)<br/><br/>    modified:   Version_control.py<br/><br/>no changes added to commit (use "git add" and/or "git commit -a")</span></pre><p id="44db" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">它只跟踪python文件，不跟踪ipynb。请运行<code class="fe ni nj nk lk b">git diff</code>。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="f4b4" class="lo lp iu lk b gz lq lr l ls lt">git diff<br/>diff --git a/Version_control.py b/Version_control.py<br/>index 02d91ea..6522717 100644<br/>--- a/Version_control.py<br/>+++ b/Version_control.py<br/>@@ -14,6 +14,7 @@<br/> # ---<br/><br/> x = np.arange(-3, 3, 0.1)<br/>+y = np.arange(-2,2,0.1)<br/> y = np.cos(x)<br/> plt.plot(x, y)<br/> plt.show()</span></pre><p id="cc0b" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">请添加、提交并推送更改。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="00fc" class="lo lp iu lk b gz lq lr l ls lt">git add .<br/>git commit -m "Update"<br/>git push</span></pre></div><div class="ab cl pa pb hy pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="in io ip iq ir"><h1 id="e9a8" class="lv lp iu bd lw lx ph lz ma mb pi md me kj pj kk mg km pk kn mi kp pl kq mk ml bi translated">转换为ipynb文件</h1><p id="6a75" class="pw-post-body-paragraph mm mn iu mo b mp mq ke mr ms mt kh mu mv mw mx my mz na nb nc nd ne nf ng nh in bi translated">我们将把这个repo克隆到另一个目录，并将其转换为ipynb文件。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="8157" class="lo lp iu lk b gz lq lr l ls lt">cd ..<br/>git clone git@github.com:shinokada/jupyter_notebook_version_control.git my-new-dir</span></pre><p id="6653" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">我将我的repo克隆到一个名为my-new-dir的目录中。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="c7f0" class="lo lp iu lk b gz lq lr l ls lt">cd my-new-dir<br/>ls<br/>README.md    Version_control.py sine.py    tangent.py</span></pre><p id="bdfd" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">或者如果你有<code class="fe ni nj nk lk b"><a class="ae li" href="https://formulae.brew.sh/formula/tree" rel="noopener ugc nofollow" target="_blank">tree</a></code>。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="7c12" class="lo lp iu lk b gz lq lr l ls lt">tree<br/>.<br/>├── README.md<br/>├── Version_control.py<br/>├── sine.py<br/>└── tangent.py<br/><br/>0 directories, 4 files</span></pre><p id="ab6d" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">我们有我们需要的所有文件。我们把它转换成ipynb文件吧。</p><p id="ad37" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">从您的终端:</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="dd10" class="lo lp iu lk b gz lq lr l ls lt">jupytext --to ipynb *.py</span></pre><p id="6d0a" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">输出:</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="57ce" class="lo lp iu lk b gz lq lr l ls lt">[jupytext] Reading Version_control.py<br/>[jupytext] Writing Version_control.ipynb<br/>[jupytext] Sync timestamp of 'Version_control.py'<br/>[jupytext] Reading sine.py<br/>[jupytext] Writing sine.ipynb<br/>[jupytext] Reading tangent.py<br/>[jupytext] Writing tangent.ipynb</span><span id="25ba" class="lo lp iu lk b gz lu lr l ls lt">ls<br/>README.md      Version_control.py    sine.py    tangent.py.   Version_control.ipynb sine.ipynb   tangent.ipynb</span></pre></div><div class="ab cl pa pb hy pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="in io ip iq ir"><h1 id="56e5" class="lv lp iu bd lw lx ph lz ma mb pi md me kj pj kk mg km pk kn mi kp pl kq mk ml bi translated">其他命令</h1><p id="fae4" class="pw-post-body-paragraph mm mn iu mo b mp mq ke mr ms mt kh mu mv mw mx my mz na nb nc nd ne nf ng nh in bi translated">这些是您可以使用的其他命令。</p><pre class="kt ku kv kw gu lj lk ll lm aw ln bi"><span id="da8d" class="lo lp iu lk b gz lq lr l ls lt"># convert notebook.md to an .ipynb file and run it<br/>jupytext --to notebook --execute notebook.md</span><span id="19c1" class="lo lp iu lk b gz lu lr l ls lt"># update the input cells in the .ipynb file and preserve outputs and metadata <br/>jupytext --update --to notebook notebook.py</span><span id="cb71" class="lo lp iu lk b gz lu lr l ls lt"># Turn notebook.ipynb into a paired ipynb/py notebook<br/>jupytext --set-formats ipynb,py notebook.ipynb </span><span id="1903" class="lo lp iu lk b gz lu lr l ls lt"># Update all paired representations of notebook.ipynb<br/>jupytext --sync notebook.ipynb</span></pre></div><div class="ab cl pa pb hy pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="in io ip iq ir"><h1 id="6b91" class="lv lp iu bd lw lx ph lz ma mb pi md me kj pj kk mg km pk kn mi kp pl kq mk ml bi translated">配对笔记本</h1><p id="1388" class="pw-post-body-paragraph mm mn iu mo b mp mq ke mr ms mt kh mu mv mw mx my mz na nb nc nd ne nf ng nh in bi translated">Jupytext可以将一个给定的笔记本写入多个文件。除了原始的笔记本文件之外，Jupytext还可以将输入单元格保存到文本文件中——脚本或Markdown文档。如有兴趣，请阅读<a class="ae li" href="https://jupytext.readthedocs.io/en/latest/using-server.html#paired-notebooks" rel="noopener ugc nofollow" target="_blank">更多详情</a>。</p></div><div class="ab cl pa pb hy pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="in io ip iq ir"><h1 id="a9ad" class="lv lp iu bd lw lx ph lz ma mb pi md me kj pj kk mg km pk kn mi kp pl kq mk ml bi translated">结论</h1><p id="6016" class="pw-post-body-paragraph mm mn iu mo b mp mq ke mr ms mt kh mu mv mw mx my mz na nb nc nd ne nf ng nh in bi translated">Jupytext易于使用并创建友好的文件，您也可以在另一个编辑器中编辑这些文件。如果你正在使用<code class="fe ni nj nk lk b">git diff</code>，这是一个非常好的工具。我觉得这是目前用Jupyter Notebook做版本控制最完整的开源工具了。</p></div><div class="ab cl pa pb hy pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="in io ip iq ir"><p id="e48d" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated"><strong class="mo je">通过</strong> <a class="ae li" href="https://blog.codewithshin.com/membership" rel="noopener ugc nofollow" target="_blank"> <strong class="mo je">成为</strong> </a> <strong class="mo je">会员，可以完全访问媒体上的每一个故事。</strong></p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj py"><img src="../Images/0be3ee559fee844cb75615290e4a8b29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*DjTM9iFtVc2wlcWcOms7VQ.png"/></div><p class="le lf gk gi gj lg lh bd b be z dk translated"><a class="ae li" href="https://blog.codewithshin.com/subscribe" rel="noopener ugc nofollow" target="_blank">https://blog.codewithshin.com/subscribe</a></p></figure></div><div class="ab cl pa pb hy pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="in io ip iq ir"><h1 id="9ed5" class="lv lp iu bd lw lx ph lz ma mb pi md me kj pj kk mg km pk kn mi kp pl kq mk ml bi translated">参考</h1><div class="og oh gq gs oi oj"><a rel="noopener follow" target="_blank" href="/jupyter-notebooks-in-the-ide-visual-studio-code-versus-pycharm-5e72218eb3e8"><div class="ok ab fp"><div class="ol ab om cl cj on"><h2 class="bd je gz z fq oo fs ft op fv fx jd bi translated">IDE中的Jupyter笔记本:Visual Studio代码与PyCharm</h2><div class="oq l"><h3 class="bd b gz z fq oo fs ft op fv fx dk translated">我每天都用Jupyter笔记本工作。每天我都在使用和编辑Python库。这两者都是我的…</h3></div><div class="or l"><p class="bd b dl z fq oo fs ft op fv fx dk translated">towardsdatascience.com</p></div></div><div class="os l"><div class="pz l ou ov ow os ox lc oj"/></div></div></a></div><ul class=""><li id="6c83" class="qa qb iu mo b mp nl ms nm mv qc mz qd nd qe nh qf qg qh qi bi translated"><a class="ae li" href="https://github.com/mwouts/jupytext" rel="noopener ugc nofollow" target="_blank">https://github.com/mwouts/jupytext</a></li><li id="27c7" class="qa qb iu mo b mp qj ms qk mv ql mz qm nd qn nh qf qg qh qi bi translated"><a class="ae li" href="https://jupytext.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank">https://jupytext.readthedocs.io/en/latest/index.html</a></li><li id="befb" class="qa qb iu mo b mp qj ms qk mv ql mz qm nd qn nh qf qg qh qi bi translated"><a class="ae li" href="https://jupytext.readthedocs.io/en/latest/introduction.html#demo-time" rel="noopener ugc nofollow" target="_blank">https://jupytext . readthedocs . io/en/latest/introduction . html # demo-time</a></li></ul></div><div class="ab cl pa pb hy pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="in io ip iq ir"><p id="6e48" class="pw-post-body-paragraph mm mn iu mo b mp nl ke mr ms nm kh mu mv nn mx my mz no nb nc nd np nf ng nh in bi translated">你好。你坚持到了最后。既然你来了，请帮我传播这篇文章。你也可以关注我，获取更多的Jupyter、统计和技术文章。</p><div class="og oh gq gs oi oj"><a href="https://medium.com/series/jupyter-hacks-and-tips-1b1a3a10bc79" rel="noopener follow" target="_blank"><div class="ok ab fp"><div class="ol ab om cl cj on"><h2 class="bd je gz z fq oo fs ft op fv fx jd bi translated">Jupyter的技巧和窍门</h2><div class="oq l"><h3 class="bd b gz z fq oo fs ft op fv fx dk translated">Jupyter技巧和提示的集合</h3></div><div class="or l"><p class="bd b dl z fq oo fs ft op fv fx dk translated">medium.com</p></div></div><div class="os l"><div class="qo l ou ov ow os ox lc oj"/></div></div></a></div></div></div>    
</body>
</html>