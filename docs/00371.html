<html>
<head>
<title>ggplotly() — the most bang for buck function in the extended tidyverse</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ggplotly() —扩展 tidyverse 中最棒的降压函数</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/ggplotly-the-most-bang-for-buck-function-in-the-extended-tidyverse-62f02a69b70f?source=collection_archive---------24-----------------------#2020-01-11">https://towardsdatascience.com/ggplotly-the-most-bang-for-buck-function-in-the-extended-tidyverse-62f02a69b70f?source=collection_archive---------24-----------------------#2020-01-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e838" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使您的 ggplot 图与单个函数调用交互</h2></div><p id="5647" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我是 tidyverse 和 ggplot 的忠实粉丝。tidyverse 是一个用于探索性数据分析的优秀框架，ggplot 非常棒。这些工具提供的导入数据、重塑数据和可视化数据的能力非常强大。</p><p id="764e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">除了核心 tidyverse，还有许多支持包。在所有的函数中，在所有这些包中，有一个函数为单个函数调用提供了大量的值。</p><h2 id="cfe6" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">ggplotly()</h2><p id="02fb" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">这是一个单一的函数调用，您可以围绕您的 ggplot()函数进行交互式可视化。</p><p id="9ce3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我发现它带来的主要价值是:</p><ul class=""><li id="8e92" class="mc md it kk b kl km ko kp kr me kv mf kz mg ld mh mi mj mk bi translated">您可以缩放和平移绘图</li><li id="2289" class="mc md it kk b kl ml ko mm kr mn kv mo kz mp ld mh mi mj mk bi translated">您可以将鼠标悬停在点上来查看它们的值</li></ul><p id="5737" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">运行起来很简单:</p><ul class=""><li id="a530" class="mc md it kk b kl km ko kp kr me kv mf kz mg ld mh mi mj mk bi translated">您只需要将现有代码包装在 ggplotly()中</li><li id="510f" class="mc md it kk b kl ml ko mm kr mn kv mo kz mp ld mh mi mj mk bi translated">安装就像 install.packages 一样简单</li></ul><h2 id="b198" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">例子</h2><p id="92fc" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">例如，我使用 ggplot 创建了一个标准的散点图。这是我很多数据探索的通常起点。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="5656" class="le lf it mv b gy mz na l nb nc">iris %&gt;% <br/>  ggplot(aes(x=Sepal.Length,y=Sepal.Width,color=Species)) +<br/>  geom_point()</span></pre><figure class="mq mr ms mt gt nd gh gi paragraph-image"><div class="ab gu cl ne"><img src="../Images/3316747b120ca37befd70b9b1bf6bce5.png" data-original-src="https://miro.medium.com/v2/format:webp/1*X5UxP1TE3lVCC0PoPlcr4Q.png"/></div></figure><p id="c096" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从这里开始，我经常想放大并进一步研究数据。为此，我的标准模式是将数据帧通过过滤器传输到 ggplot:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="1b34" class="le lf it mv b gy mz na l nb nc">iris %&gt;% <br/>  filter(Sepal.Length &lt; 7, Sepal.Length &gt; 5) %&gt;% <br/>  ggplot(aes(x=Sepal.Length,y=Sepal.Width,color=Species)) +<br/>  geom_point()</span></pre><figure class="mq mr ms mt gt nd gh gi paragraph-image"><div class="ab gu cl ne"><img src="../Images/4816457b9b44d8ae09baf2ea4866e522.png" data-original-src="https://miro.medium.com/v2/format:webp/1*HlZGLNMs9LK04MRRmk1uOg.png"/></div></figure><p id="c704" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我可以缩小这些过滤器的范围，隔离出我感兴趣的点，如果我想详细查看这些点，我可以将对 ggplot()的调用替换为对 View()的调用，如下所示。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="0cfa" class="le lf it mv b gy mz na l nb nc">iris %&gt;% <br/>  filter(Sepal.Length &lt; 7, Sepal.Length &gt; 5,<br/>         Sepal.Width &lt; 4, Sepal.Width &gt; 3) %&gt;% <br/>  View()</span></pre><p id="f77f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些技术可行，但可能有点复杂。通常，我真正想要的是能够使用 ggplot()创建一个可视化，同时还能够与它进行交互以放大。这就是 ggplotly()的用武之地。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="4ae4" class="le lf it mv b gy mz na l nb nc">ggplotly(iris %&gt;% <br/>  ggplot(aes(x=Sepal.Length,y=Sepal.Width,color=Species)) +<br/>    geom_point())</span></pre><figure class="mq mr ms mt gt nd gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/566024755ea49f165d22116c4a77045a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/1*uXu22fQwBP9LTKq-XQ_23w.gif"/></div></figure><p id="71ed" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里的关键价值是，我可以像往常一样使用 tidyverse 创建我的图，然后简单地将它包装在一个函数调用中，使它具有交互性。这对于探索性的数据分析非常有用。</p><p id="d105" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我还发现 ggplotly()是闪亮仪表板的一个有价值的补充。我认为 ggplotly()提供的缩放和悬停信息功能在 Shiny 中更有价值。我认为这是因为仪表板经常被其他人使用，而不是构建图表的人，所以不太熟悉数据集。我还认为交互式 ggplotly()图比静态图和一个闪亮应用程序上的一组过滤器滑块更令人满意。</p><p id="9bf2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我已经上传了这个情节的现场版本到 RPubs，如果你想自己玩，可以通过下面的链接访问。当然，这很容易开始，你还不如自己动手。</p><div class="ni nj gp gr nk nl"><a href="http://rpubs.com/OwenFlanagan/565119" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">RPubs</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">基本 ggplotly()示例</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">rpubs.com</p></div></div></div></a></div></div></div>    
</body>
</html>