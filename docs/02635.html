<html>
<head>
<title>Top 3 Python Functions You Don’t Know About (Probably)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你不知道的三大Python函数(可能)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/top-3-python-functions-you-dont-know-about-probably-978f4be1e6d?source=collection_archive---------0-----------------------#2020-03-14">https://towardsdatascience.com/top-3-python-functions-you-dont-know-about-probably-978f4be1e6d?source=collection_archive---------0-----------------------#2020-03-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c968" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">更干净的代码和更少的循环？算我一个。</h2></div><p id="a535" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为21世纪最流行的语言之一，Python当然有很多有趣的功能值得深入探索和研究。今天将讨论其中的三个，每个都是从理论上和通过实际的例子。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/d88b2f50b7f7346dbaac38ba8fc9f95c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZSR2HwcRxTMtyDBM"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">由<a class="ae lu" href="https://unsplash.com/@max_duz?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Max Duzij </a>在<a class="ae lu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="2955" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我想介绍这些函数的主要原因是它们可以帮助你避免编写循环。在某些情况下，运行循环的成本可能很高，除此之外，这些函数还有助于提高速度。</p><p id="3343" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是本文将涉及的功能:</p><ol class=""><li id="f2f4" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated"><code class="fe me mf mg mh b">map()</code></li><li id="aec8" class="lv lw it kk b kl mi ko mj kr mk kv ml kz mm ld ma mb mc md bi translated"><code class="fe me mf mg mh b">filter()</code></li><li id="58bc" class="lv lw it kk b kl mi ko mj kr mk kv ml kz mm ld ma mb mc md bi translated"><code class="fe me mf mg mh b">reduce()</code></li></ol><p id="665c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">即使你以前听说过这些功能，用更多的理论和例子来巩固你的知识也没有坏处。</p><p id="2ec5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以事不宜迟，我们开始吧！</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="066a" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">地图()</h1><p id="12ad" class="pw-post-body-paragraph ki kj it kk b kl nm ju kn ko nn jx kq kr no kt ku kv np kx ky kz nq lb lc ld im bi translated"><code class="fe me mf mg mh b">map()</code>函数接受另一个函数作为参数，旁边是某种数组。这个想法是将一个函数(作为参数传入的那个)应用于数组中的每一项。</p><p id="596f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这很方便，有两个原因:</p><ol class=""><li id="a4ff" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated">你不必写一个循环</li><li id="85b9" class="lv lw it kk b kl mi ko mj kr mk kv ml kz mm ld ma mb mc md bi translated">它比循环快</li></ol><p id="4ec3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看它的实际效果。我将声明一个名为<code class="fe me mf mg mh b">num_func()</code>的函数，它接受一个数字作为参数。该数字被平方并除以2，然后返回。注意，操作是任意选择的，您可以在函数中做任何您想做的事情:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/e350d5f98b0ded29f9eaac80834da760.png" data-original-src="https://miro.medium.com/v2/resize:fit:442/format:webp/1*1FcRKYaWskg_bG56WeDTJQ.png"/></div></figure><p id="bfeb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们声明一个要应用<code class="fe me mf mg mh b">num_func()</code>的数字数组。请注意，<code class="fe me mf mg mh b">map()</code>本身将返回一个<strong class="kk iu">地图对象</strong>，因此您需要将其转换为一个列表:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/385a86baf13c4d248c334b5cffb328b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*H1i5ppx0IdEavAOQ8JBXdg.png"/></div></figure><p id="6d3a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">似乎该过程已成功完成。这里没有什么突破性的东西，但是尽可能避免循环是一件好事。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="7b94" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">过滤器()</h1><p id="ca2c" class="pw-post-body-paragraph ki kj it kk b kl nm ju kn ko nn jx kq kr no kt ku kv np kx ky kz nq lb lc ld im bi translated">这里有另一个不错的函数可以节省您的时间——无论是在编写还是执行方面。顾名思义，这个想法是在数组<strong class="kk iu">中只保存满足特定条件</strong>的项目。</p><p id="2383" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就像使用<code class="fe me mf mg mh b">map()</code>一样，我们可以预先声明函数，然后将它和可迭代列表一起传递给<code class="fe me mf mg mh b">filter()</code>。</p><p id="f2c3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来看看实际情况。我已经声明了一个名为<code class="fe me mf mg mh b">more_than_15()</code>的函数，顾名思义，如果作为参数给出的项目大于15:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/d301b3b5265ba8dc1464b75997214e64.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/1*P6-yVkYjxu0zZ6PNutSuYQ.png"/></div></figure><p id="138e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我们声明一个数字数组，并将它们作为第二个参数传递给<code class="fe me mf mg mh b">filter()</code>函数:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/2ec493783628702cf8f43f2bd4320eb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*wAFm33E3KplZibB9m6EmWQ.png"/></div></figure><p id="2241" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如所料，只有三个值满足给定的条件。同样，这里没有什么突破性的东西，但看起来比循环好得多。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="3895" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">减少()</h1><p id="dd6f" class="pw-post-body-paragraph ki kj it kk b kl nm ju kn ko nn jx kq kr no kt ku kv np kx ky kz nq lb lc ld im bi translated">现在的<code class="fe me mf mg mh b">reduce()</code>和前面两个有点不一样。首先，我们必须从<code class="fe me mf mg mh b">functools</code>模块导入它。这背后的主要思想是，它将给定的函数应用于项目数组，并将<strong class="kk iu">返回单个值</strong>作为结果。</p><p id="5226" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后一部分至关重要— <code class="fe me mf mg mh b">reduce()</code>不会返回一个项目数组，它总是返回一个值。让我们来看一张图，让这个概念具体化。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi nv"><img src="../Images/542cdd8d43aa393bb82ce21c3b100b1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fA-ZdPb4g5zYgglfuVh4hw.png"/></div></div></figure><p id="a96c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是在图表不是100%清楚的情况下写出的逻辑:</p><ol class=""><li id="a164" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated">5与10相加，得到<strong class="kk iu"> 15 </strong></li><li id="840d" class="lv lw it kk b kl mi ko mj kr mk kv ml kz mm ld ma mb mc md bi translated">15与12相加，得到<strong class="kk iu"> 27 </strong></li><li id="361e" class="lv lw it kk b kl mi ko mj kr mk kv ml kz mm ld ma mb mc md bi translated">27与18相加，得到<strong class="kk iu"> 45 </strong></li><li id="650a" class="lv lw it kk b kl mi ko mj kr mk kv ml kz mm ld ma mb mc md bi translated">45与25相加，得到<strong class="kk iu"> 70 </strong></li></ol><p id="adb7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">70是返回的值。从代码实现开始，让我们从<code class="fe me mf mg mh b">functools</code>模块导入reduce函数，并声明一个返回两个数之和<strong class="kk iu">的函数:</strong></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/40ff144f43095eb2eb92aa4422deb3db.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*5sFz2iTlEhuDw1ducAjgJg.png"/></div></figure><p id="0338" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们可以用代码重新查看图表，并验证一切都正常工作:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/8629a30eb7faa533478a52999376582c.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/format:webp/1*x_L5cbddgl967aVYN9_AjQ.png"/></div></figure><p id="cc02" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在还不要跳到注释部分——我很清楚还有其他方法来对列表项求和。这只是展示该函数如何工作的最简单的例子。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="16a3" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">在你走之前</h1><p id="c900" class="pw-post-body-paragraph ki kj it kk b kl nm ju kn ko nn jx kq kr no kt ku kv np kx ky kz nq lb lc ld im bi translated">我希望你能在日常生活中利用这三种功能。速度的提高可能不会很大——这取决于您要处理的数据量——但是循环越少，代码看起来就越好。</p><p id="3004" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你有一些其他的例子，不要犹豫，在评论区分享吧。</p><p id="d12f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><p id="fef7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ny">喜欢这篇文章吗？成为</em> <a class="ae lu" href="https://medium.com/@radecicdario/membership" rel="noopener"> <em class="ny">中等会员</em> </a> <em class="ny">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><div class="nz oa gp gr ob oc"><a href="https://medium.com/@radecicdario/membership" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">通过我的推荐链接加入Medium-Dario rade ci</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq lo oc"/></div></div></a></div></div></div>    
</body>
</html>