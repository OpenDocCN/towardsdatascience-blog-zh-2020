# 服务于机器学习算法的系统设计——不同环境下管道的最佳实践

> 原文：<https://towardsdatascience.com/system-design-proposal-for-serving-machine-learning-algorithms-best-practices-for-pipelines-for-8b14d4f6e13c?source=collection_archive---------40----------------------->

## 拥有生产管道和开发管道的重要性

![](img/d1ce398e60233b8be6d5c6e4515a4010.png)

昆腾·德格拉夫在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

找到了。在处理一个长期难以解决的问题时，你发现了一个适销对路且有利可图的解决方案。为了简化您的纳税申报，您决定提交文件来启动您的有限责任公司。你意识到将个人和企业财务分开的重要性。如果你不能把你的财务分开，到时候报税会变得很麻烦。这个概念非常类似于为不同的环境构建管道，特别是开发/非生产和部署/生产环境。拥有这些独立环境的目的是什么？我们将在本节中介绍划分这些环境的好处。

在构建我们的数据科学解决方案的过程中，我们制定了一系列步骤来执行我们取得成功所需的操作。我们从源中提取数据，设计我们的特征，训练我们的各种模型，验证我们的源数据子集，然后上传我们的预测。虽然使用脚本构建我们的解决方案很简单，但是我们可以很快引入管道部署的复杂性。我们为什么以及如何做出这样的声明？我们在生产中使用的数据可能不同于我们在开发中使用的数据。

仅仅因为这个原因，我们需要有不同的考虑或额外的步骤来补偿这些差异。一旦我们开始考虑与数据湖同步数据，我们的数据科学解决方案不得将我们在开发中做出的预测与我们的客户将看到的数据湖同步。除了以上几点，稳定性和验证测试还会受到我们如何构建管道的影响。如果我们的管道已经合并成一个，那么创建检查来确保预期的功能将变得具有挑战性。通过遵循这些概念和思想，我们可以通过限制我们对简化我们的视野隧道和划分的关注来为我们自己节省一些“痛苦和折磨”。

## 为什么有单独的训练管道和预测管道？

在上一小节中，我们讨论了在开发和生产中运行我们的数据科学解决方案之间有两条不同管道的重要性。我们提高了管道的稳定性和可测试性。然而，如前一节所述，开发我们的管道很容易，因为我们已经在同一个脚本中集成了我们的训练和预测过程。通常，在这些情况下常见的是，布尔值被传递到软件中，以表示我们是预测我们的机器学习模型还是训练我们的机器学习模型。将两个根本不同的过程融合在一起会使数据科学代码库变得复杂，并降低软件和管道的可维护性。有软件概念和原则来增加可维护性和减少认知超载。可以应用*单一责任*原则来帮助使训练和预测过程更容易维护和管理。如果坚持并执行这一原则，预测管道实际上可以由五个基本操作和多达十个代码行组成。遵循这一原则减少了部署团队的每个成员需要了解的关于培训管道的内容。

感谢您阅读到目前为止！这是后续系列文章的一部分。

请保持关注！

一如既往，#快乐编码