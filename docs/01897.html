<html>
<head>
<title>Comprehensive Guide to Exploratory Data Analysis of Haberman’s Survival Data Set</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">哈伯曼生存数据集探索性数据分析综合指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/comprehensive-guide-to-exploratory-data-analysis-of-habermans-survival-data-set-b33f0373c83a?source=collection_archive---------18-----------------------#2020-02-22">https://towardsdatascience.com/comprehensive-guide-to-exploratory-data-analysis-of-habermans-survival-data-set-b33f0373c83a?source=collection_archive---------18-----------------------#2020-02-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="9e02" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">探索性数据分析</h2><div class=""/><div class=""><h2 id="a8d5" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">一个详尽和广泛的方法，处理探索性数据分析的每个方面。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/7f5d5d485e27c5df026b19e07170a0ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GczYzgvml9aPQT-xUhMBYw.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:<a class="ae lh" href="https://pixabay.com/users/geralt-9301/" rel="noopener ugc nofollow" target="_blank">https://pixabay.com/users/geralt-9301/</a>(来自Pixabay的Gerd Altmann)</p></figure><h2 id="c7a0" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated"><strong class="ak">探索性数据分析</strong></h2><p id="d272" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated"><strong class="mf jd">探索性数据分析(EDA)</strong>是一个数据分析过程，主要目的是使用统计工具、绘图工具、线性代数和其他技术来挖掘隐藏在数据集中的信息。它有助于更好地理解数据，并突出其主要特征，这可能有助于做出对未来有影响的预测和预报。</p><p id="3952" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">理解数据是数据科学的核心。因此，EDA对于生成精确的机器学习模型是必不可少的。考虑Haberman的生存数据集使用Python对其执行各种EDA过程。该数据集包含1958年至1970年间在芝加哥大学比林斯医院进行的一项关于乳腺癌手术患者存活率的研究。</p><p id="f77a" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">数据集的各种属性是:</p><ol class=""><li id="faee" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">手术时患者的年龄(数字)</li><li id="f4cb" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">患者手术年份(1958年至1970年之间的年份，数字)</li><li id="8708" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">检测到的阳性腋窝淋巴结数(数字)</li><li id="609d" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">生存状态(类属性)表示为:</li></ol><ul class=""><li id="8b76" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv np nh ni nj bi translated">1 —如果患者存活了5年或更长时间</li><li id="31c2" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated">2 —如果患者在5年内死亡</li></ul><p id="9b75" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">正如患者的医疗诊断在患者的治疗生命周期中起着关键作用一样，EDA在数据评估和创建精确模型中也起着至关重要的作用。</p><h1 id="8b2b" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">导入必备的Python库</h1><p id="9552" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">选择Python 是因为它最好的AI包和机器学习库。在这里，我们导入执行数据分析和绘图所需的库:</p><ul class=""><li id="0591" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv np nh ni nj bi translated"><strong class="mf jd">熊猫(Python数据分析库)</strong></li><li id="c560" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><strong class="mf jd"> Numpy(用于科学计算的Python包)</strong></li><li id="419c" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><strong class="mf jd"> Matplotlib(Python绘图库)</strong></li><li id="8c6d" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><strong class="mf jd"> Seaborn(Python统计数据可视化库)</strong></li></ul><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="29ae" class="li lj it oc b gy og oh l oi oj">import pandas as pd<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns</span></pre><h1 id="0ff7" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">加载数据集</h1><p id="1842" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">哈伯曼的生存数据集是一个逗号分隔值(csv)文件。<strong class="mf jd"> Pandas </strong>的<strong class="mf jd"> read_csv() </strong>函数用于将csv文件(haberman.csv)读入名为haberman的<strong class="mf jd">数据帧</strong>中。Dataframe是一个大小可变的二维结构，具有潜在的异构表格数据。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="32fd" class="li lj it oc b gy og oh l oi oj">haberman = pd.read_csv('haberman.csv', header=0, names=['Age of Patient', 'Year of Operation', \                                                                          'Positive Axillary Nodes', 'Survival Status'])</span></pre><h1 id="5cd4" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">一瞥数据集</h1><p id="e3ef" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">让我们通过做一些初步的数据分析来熟悉数据集。首先，我们来看看数据集是什么样子的。在下面的代码片段中，iterrows()用于遍历DataFrame的每一行。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="436a" class="li lj it oc b gy og oh l oi oj">for i,j in haberman.iterrows():<br/>    print(j)<br/>    print()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ok"><img src="../Images/23c3462020e3c3366105bec4a859d5a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tCmoLxaJ6wvytzfotVAaMQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:iambipin</p></figure><p id="06df" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">数据集的所有属性都是不言自明的。患者的年龄意味着患者的年龄。操作年份指执行操作的年份。阳性腋窝淋巴结表示患者中阳性腋窝淋巴结(淋巴结)的数量(存在或不存在)。阳性腋窝淋巴结是受癌细胞影响的淋巴结。最后，生存状态提供了关于患者5年或更长时间生存的信息。</p><p id="29fe" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">观察:</strong></p><ol class=""><li id="bb71" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">csv文件包含<strong class="mf jd"> 306行和4列</strong>，这意味着数据集包含关于<strong class="mf jd"> 306名接受乳腺癌手术的患者</strong>的信息。考虑到数据量，数据集很小。</li><li id="5dc6" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">患者的诊断是基于患者表现出的症状。由于除了<strong class="mf jd">阳性腋窝淋巴结</strong>之外，没有其他数据集属性属于症状类别，我们可以假设阳性腋窝淋巴结的存在是乳腺癌的主要催化剂(原因)。根据BreastCancer.org的说法，为了去除浸润性乳腺癌，医生(在手术前或手术中)切除一个或多个腋下淋巴结，以便在显微镜下检查癌细胞。癌细胞的存在被称为<strong class="mf jd">淋巴结受累</strong>。</li><li id="ad9b" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">在数据集中出现另一个症状会造成混乱，不知道在数据分析中应该优先考虑什么变量。因此在初步分析中，阳性腋窝淋巴结似乎是最重要的变量。</li></ol><p id="ab66" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">head()函数可以看到数据集的前五行。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="59c9" class="li lj it oc b gy og oh l oi oj">haberman.head()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/6f1adb12cb4d9cc887ff107e5b3b232b.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*2U5B26HquA6IHQF7MBFw9A.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:iambipin</p></figure><p id="adf1" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">现在让我们通过使用熊猫形状属性来查找数据点的总数和数据集的特征(属性)。数据点是属性或特征的集合。因此这是一个完整的记录。在给定的数据集中，数据点由涉及四个属性的数据组成(数据帧的行)。shape属性返回表示数据帧维度的元组(数据帧将行数和列数存储为元组)。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="3435" class="li lj it oc b gy og oh l oi oj">print(haberman.shape)</span><span id="6f49" class="li lj it oc b gy om oh l oi oj">Output:<br/>(306, 4)</span></pre><p id="56a2" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">数据集有306个数据点(行)和4个属性(列)。通过熊猫的列属性可以知道数据集的属性。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="7c5a" class="li lj it oc b gy og oh l oi oj">print(haberman.columns)</span><span id="2375" class="li lj it oc b gy om oh l oi oj">Output:<br/>Index(['Age of Patient', 'Year of Operation', 'Positive Axillary Nodes', 'Survival Status'],<br/>      dtype='object')</span></pre><p id="ff55" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">这里的dtype指的是熊猫的数据类型。Pandas中的对象数据类型相当于Python中的字符串数据类型。</p><p id="70d6" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">生存状态属性(因变量)包含非分类类型的<strong class="mf jd">整数数据类型</strong>。因此需要转换成<strong class="mf jd">分类类型</strong>。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="7b52" class="li lj it oc b gy og oh l oi oj">haberman['Survival Status'] = haberman['Survival Status'].apply(<br/>    lambda x: 'Survived' if x == 1 else 'Died')</span></pre><p id="b3ee" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">让我们验证转换是否已经发生。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="910a" class="li lj it oc b gy og oh l oi oj">print(haberman.head(10))</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi on"><img src="../Images/85839392a3ed86489d65eb74c8dba591.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*bD-MnhUMI4QZpjZwxqq1JQ.png"/></div></figure><p id="54c8" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">我们现在可以看到，存活状态有标记为存活或死亡的字段。</p><p id="f8cb" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">info方法可以显示数据集的简明摘要。这个方法打印关于数据帧的信息，包括索引数据类型和列数据类型、非空值和内存使用情况。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="9a4e" class="li lj it oc b gy og oh l oi oj">print(haberman.info())</span><span id="c333" class="li lj it oc b gy om oh l oi oj">Output:<br/>&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 306 entries, 0 to 305<br/>Data columns (total 4 columns):<br/>Age of Patient             306 non-null int64<br/>Year of Operation          306 non-null int64<br/>Positive Axillary Nodes    306 non-null int64<br/>Survival Status            306 non-null object<br/>dtypes: int64(3), object(1)<br/>memory usage: 9.7+ KB<br/>None</span></pre><p id="b399" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">观察:</strong></p><ol class=""><li id="13c1" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">前三列即患者年龄、手术年份和腋窝淋巴结阳性的数据类型是整数。生存状态有一个对象数据类型。数据集有四个数据列。</li><li id="3bdf" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">数据集没有空值。</li><li id="518a" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">数据集使用的内存约为9.7 KB</li></ol><p id="7e70" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">Pandas description</strong>方法生成描述性统计数据，其中包括汇总数据集分布的集中趋势、分散性和形状的信息，但不包括NaN值。它分析数字和对象序列，以及混合数据类型的DataFrame列集。根据所提供的内容，输出会有所不同。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="06a4" class="li lj it oc b gy og oh l oi oj">print(haberman.describe(include='all'))</span><span id="ac5f" class="li lj it oc b gy om oh l oi oj">Output:<br/>Age of Patient  Year of Operation  Positive Axillary Nodes \<br/>count       306.000000         306.000000               306.000000   <br/>unique             NaN                NaN                      NaN   <br/>top                NaN                NaN                      NaN   <br/>freq               NaN                NaN                      NaN   <br/>mean         52.457516          62.852941                 4.026144   <br/>std          10.803452           3.249405                 7.189654   <br/>min          30.000000          58.000000                 0.000000   <br/>25%          44.000000          60.000000                 0.000000   <br/>50%          52.000000          63.000000                 1.000000   <br/>75%          60.750000          65.750000                 4.000000   <br/>max          83.000000          69.000000                52.000000</span><span id="e101" class="li lj it oc b gy om oh l oi oj">Survival Status  <br/>count              306  <br/>unique               2  <br/>top           Survived  <br/>freq               225  <br/>mean               NaN  <br/>std                NaN  <br/>min                NaN  <br/>25%                NaN  <br/>50%                NaN  <br/>75%                NaN  <br/>max                NaN</span></pre><p id="c0ee" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">观察:</strong></p><ol class=""><li id="00be" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">该方法给出每个属性的总计数</li><li id="83de" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">对于数字数据(如患者年龄、手术年份、阳性腋窝淋巴结等变量)，该方法提供了关于<strong class="mf jd">标准差(std)、平均值、百分位数(25%、50%和75%)、最小值和最大值</strong>的有价值信息。第50百分位(50%)是中位数<strong class="mf jd">。因此，获得了集中趋势(平均值和中值)和分散(标准偏差)的汇总。</strong></li><li id="0690" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">使用最小值和最大值，可以得出以下推论:</li></ol><ul class=""><li id="bf0b" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv np nh ni nj bi translated">患者的最大年龄<strong class="mf jd">为83岁，最小年龄<strong class="mf jd">为30岁。</strong></strong></li><li id="8d2b" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated">经营年份从<strong class="mf jd"> 58(1958)到69(1969) </strong>开始。</li><li id="559a" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated">一名或多名患者有<strong class="mf jd"> 52个阳性腋窝淋巴结</strong>，一名或多名患者有<strong class="mf jd">零个阳性腋窝淋巴结</strong>。</li></ul><p id="1c21" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">4.对于对象数据类型(生存状态)，结果将包括<strong class="mf jd"> unique，top和freq(频率)</strong>。数值数据类型的变量将在相应的字段中被赋予NaN。生存状态有两个唯一值(存活和死亡)。顶部是最常见的值。因此<strong class="mf jd">幸存</strong>是最常见的生存状态。freq是最常见的值的频率，这里的值是225。所以<strong class="mf jd">存活下来的患者总数是225 </strong>。</p><p id="a4b5" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">我们可以通过value_counts()方法确定存活的患者总数。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="024b" class="li lj it oc b gy og oh l oi oj">print(haberman['Survival Status'].value_counts())</span><span id="9319" class="li lj it oc b gy om oh l oi oj">Output:<br/>Survived    225<br/>Died         81<br/>Name: Survival Status, dtype: int64</span></pre><p id="b929" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">因此，我们可以得出这样的结论:从乳腺癌中幸存下来的患者<strong class="mf jd">比死于乳腺癌的患者<strong class="mf jd">多</strong>(81)。因此，数据集是不平衡的<strong class="mf jd"/>。</strong></p><h1 id="a847" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">目标</h1><p id="9540" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">EDA的主要目的是根据患者的年龄、手术年份和阳性腋窝淋巴结来确定患者是否能存活5年或更长时间。</p><h1 id="6f88" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">不同层次的分析</h1><p id="5479" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">现在让我们更深入地研究数据集。为此，必须考虑现有的不同层次的分析。它们是:</p><ul class=""><li id="8372" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv np nh ni nj bi translated"><strong class="mf jd">单变量分析</strong></li><li id="5a10" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><strong class="mf jd">双变量分析</strong></li><li id="e096" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><strong class="mf jd">多元分析</strong></li></ul><p id="0d12" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">数据分析技术的选择最终取决于变量的数量、数据类型和统计调查的重点。</p><h1 id="cc7e" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">单变量分析</h1><p id="6d6b" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">单变量分析是只处理一个变量的最简单的数据分析技术。作为一个单一的变量过程，它并没有给出因果关系的见解。单变量分析的主要目的是简单地描述数据，找出数据中的模式。正在考虑的单变量分析方法有:</p><ol class=""><li id="bdd9" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">一维散点图</li><li id="14f7" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">概率密度函数</li><li id="989d" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">累积分布函数</li><li id="afeb" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">箱形图</li><li id="bf91" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">小提琴情节</li></ol><h1 id="49d0" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">双变量分析</h1><p id="fc7a" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">双变量分析是建立两个变量之间相关性的过程。双变量分析比单变量分析更具分析性。如果数据似乎符合一条直线或曲线，那么这两个变量之间存在关系或相关性。正在考虑的双变量分析方法有:</p><ol class=""><li id="c063" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">二维散点图</li><li id="f5bb" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">配对图</li></ol><h1 id="dfda" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">多变量分析</h1><p id="cf82" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">多元分析是一种更复杂的统计分析。它是涉及三个或更多变量的分析，在需要了解它们之间关系的场景中实施。正在考虑的多变量分析方法是:</p><ol class=""><li id="41c6" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">等值线图表</li></ol><h1 id="7a52" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">作案手法</h1><p id="0a52" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">分析将从双变量分析开始。将首先绘制二维散点图，并对其进行观察。然后我们将转到配对图，看看单个变量的分布和两个变量之间的关系。之后，将进行单变量和多变量分析。</p><h1 id="f32d" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">二维散点图</h1><p id="4e12" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">二维散点图有助于使用笛卡尔坐标可视化两个变量之间的相关性。一个变量的值将沿x轴绘制，另一个变量的值将沿y轴绘制。数据将作为有序对(x，y)绘制在结果象限中，其中x与x轴上的值相关，y与y轴上的值相关。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="b22e" class="li lj it oc b gy og oh l oi oj">sns.set_style('whitegrid')<br/>sns.FacetGrid(haberman, hue ='Survival Status', size = 8) \<br/>.map(plt.scatter, 'Age of Patient', 'Positive Axillary Nodes') \<br/>.add_legend()<br/>plt.show()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/d42b165248a9155c4d34fe0e9482e505.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*O0zd0uCmhpX1vVrnxBSajQ.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:iambipin</p></figure><p id="9959" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">FacetGrid 是一个多绘图网格，用于绘制条件关系。FacetGrid对象将一个<strong class="mf jd"> DataFrame </strong>作为输入，并将形成网格的行、列或色调维度的变量的名称作为输入。变量应该是分类的，变量的每个级别的数据将用于沿该轴的一个方面。map()方法负责在网格的每个空间上重复相同的绘图。它对每个方面的数据子集应用绘图功能。add_legend()方法创建绘图的图例。</p><p id="df58" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">观察:</strong></p><ol class=""><li id="0377" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">30-40岁年龄组的大多数患者已经从乳腺癌中存活下来，因为这里很少有橙色点。</li><li id="00b0" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">非常罕见</strong>患者的<strong class="mf jd">阳性腋窝淋巴结超过25个(或者说30个)</strong></li><li id="8cba" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">当<strong class="mf jd">没有阳性腋窝淋巴结</strong>时，几乎<strong class="mf jd">年龄组<strong class="mf jd">50-60的所有患者</strong>都存活了</strong>。我们可以假设在50和60之间没有橙色的点。</li><li id="b63f" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">所有80岁以上的患者都在手术后五年内死亡</strong>，因为这里没有蓝点。</li><li id="56e6" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">少数具有<strong class="mf jd">较高数量的阳性腋窝淋巴结(大于10) </strong>的患者也存活于乳腺癌(沿着阳性腋窝淋巴结出现蓝点&gt; 10)。</li></ol><p id="50d1" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">确定观察值:</strong> <br/>我们可以通过在haberman数据帧上执行以下操作来确定1号<strong class="mf jd">观察值</strong>。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="d5c0" class="li lj it oc b gy og oh l oi oj">df_3040 = haberman.loc[(haberman['Age of Patient']&lt;=40) &amp; (haberman['Age of Patient']&gt;=30)]<br/>#print(df_3040)</span><span id="7148" class="li lj it oc b gy om oh l oi oj">df_3040_survived = df_3040.loc[df_3040['Survival Status']=='Survived']<br/>print('No. of patients in the age group 30-40 survived: {0}' .format(len(df_3040_survived)))</span><span id="9d7a" class="li lj it oc b gy om oh l oi oj">df_3040_died = df_3040.loc[df_3040['Survival Status']=='Died']<br/>print('No. of patients in the age group 30-40 died: {0}' .format(len(df_3040_died)))</span><span id="490e" class="li lj it oc b gy om oh l oi oj">Output:<br/>No. of patients in the age group 30-40 survived: 39<br/>No. of patients in the age group 30-40 died: 4</span></pre><p id="17d2" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">该输出验证了1号观察结果</strong>。</p><p id="f8d7" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">我们可以通过以下方式确定2号观察值<strong class="mf jd">中提到的值25(由20和30中点的蓝点表示):</strong></p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="0a63" class="li lj it oc b gy og oh l oi oj">ax_node = haberman['Positive Axillary Nodes'].unique() #unique values of axillary node<br/>ax_node.sort() #sorted the list<br/>print(ax_node)</span><span id="d2f9" class="li lj it oc b gy om oh l oi oj">Output:<br/>[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 28 30 35 46 52]</span></pre><p id="6817" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">该列表的值为25。所以我们可以安全地假设蓝点的值是25。</p><p id="8bd5" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">我们可以通过以下操作确定<strong class="mf jd">4号观察值</strong>:</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="b525" class="li lj it oc b gy og oh l oi oj">age = haberman['Age of Patient']<br/>count = 0<br/>print(len(age))<br/>for i in age:<br/>    if(i &gt;= 80):<br/>        count += 1<br/>print('No. of patients whose age is greater than or equal to 80: {0}' .format(count))</span><span id="46b6" class="li lj it oc b gy om oh l oi oj">Output:<br/>306<br/>No. of patients whose age is greater than or equal to 80: 1</span></pre><p id="c4f5" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">因此，只有一名患者的年龄大于或等于80岁。80后的橙色圆点一定代表这个病人。</p><h1 id="cbb1" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">配对图</h1><p id="59a0" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">配对图绘制数据集中的成对关系。它将创建一个轴网格，这样数据中的每个数值变量将在y轴的一行中共享，在x轴的一列中共享。对角线轴不同于轴网格的其余部分，它们显示该列中变量数据的单变量分布。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="db27" class="li lj it oc b gy og oh l oi oj">sns.set_style('whitegrid')<br/>sns.pairplot(haberman, hue = 'Survival Status', size = 4)<br/>plt.show()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi op"><img src="../Images/8f347be6bac7fa320ed80cc0cd84c401.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HBBMun1OgMt0f1ChD884Mg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:iambipin</p></figure><p id="7bcb" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">在数据集中，有3个定量变量(患者年龄、手术年份、阳性腋窝淋巴结)和1个分类变量(生存状态)。只有数值(整数或浮点)连续值才会绘制在配对图中。因此，在上面显示的配对图中，我们有<strong class="mf jd"> 3C2图</strong>(即3个独特的图)。对角线两边有相等数量的图，它们是彼此的镜像。<strong class="mf jd">对角线图(图1、图5和图9) </strong>展示了展示单个变量分布的<strong class="mf jd">直方图</strong>。</p><p id="2629" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">观察:</strong></p><ol class=""><li id="7907" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">任何图中都没有线性分离</li><li id="d5dd" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">每个图中的数据有相当多的重叠。</li><li id="330b" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">在<strong class="mf jd">图2 </strong>中，x轴表示手术年份，y轴表示患者年龄。有<strong class="mf jd">大量的重叠</strong>，很难根据剧情进行分类。观察到的一个有趣的事实是，在1961年和1968年期间接受手术的<strong class="mf jd">大多数患者</strong>已经存活了 5年或更长时间(由于与其他年份相比橙色点非常少)。我们甚至可以把它重新表述为1961年和1968年接受乳腺癌手术的患者死亡人数最少</li><li id="8bdf" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">在<strong class="mf jd">图3 </strong>中，x轴为阳性腋窝淋巴结，y轴为患者年龄。即使有重叠的点，也有<strong class="mf jd">可区分的模式</strong>使我们能够做出推论。图3(和图7)似乎比其余的图更好(<strong class="mf jd">我们已经在二维散点图</strong>中深入分析了相同的图)。因此，阳性腋窝淋巴结和患者年龄是识别患者生存状态最有用的特征。</li><li id="f9ca" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">在<strong class="mf jd">图6 </strong>中，x轴为阳性腋窝淋巴结，y轴为手术年份。该图有<strong class="mf jd">个重叠最多的</strong>点。因此，它不会导致任何有意义的结论或分类。</li><li id="ff44" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">地块4 </strong>是<strong class="mf jd">地块2 </strong>的<strong class="mf jd">镜像</strong>。<strong class="mf jd">图7 </strong>是<strong class="mf jd">图3 </strong>的镜像。<strong class="mf jd">图8 </strong>是<strong class="mf jd">图6 </strong>的镜像</li><li id="0eb6" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">最后，<strong class="mf jd">地块7和地块3是数据分析考虑的最佳地块</strong>。</li></ol><p id="c4bb" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">确定观测值:</strong> <br/>我们可以通过对哈伯曼数据帧进行以下操作来确定地块2的<strong class="mf jd">3号观测值</strong>:</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="2a91" class="li lj it oc b gy og oh l oi oj">df_1961 = haberman.loc[haberman['Year of Operation']==61]<br/>df_1968 = haberman.loc[haberman['Year of Operation']==68]<br/>#print(df_1961)</span><span id="85be" class="li lj it oc b gy om oh l oi oj">df_1961_survived = df_1961.loc[df_1961['Survival Status']=='Survived']<br/>print('No. of patients survived during 1961: {0}' .format(len(df_1961_survived)))</span><span id="7869" class="li lj it oc b gy om oh l oi oj">df_1961_died = df_1961.loc[df_1961['Survival Status']=='Died']<br/>print('No. of patients died during 1961: {0}' .format(len(df_1961_died)))</span><span id="1b4e" class="li lj it oc b gy om oh l oi oj">aster = '*'<br/>print(aster*45)</span><span id="e033" class="li lj it oc b gy om oh l oi oj">df_1968_survived = df_1968.loc[df_1968['Survival Status']=='Survived']<br/>print('No. of patients survived during 1968: {0}' .format(len(df_1968_survived)))</span><span id="ae6a" class="li lj it oc b gy om oh l oi oj">df_1968_died = df_1968.loc[df_1968['Survival Status']=='Died']<br/>print('No. of patients died during 1968: {0}' .format(len(df_1968_died)))</span><span id="15ec" class="li lj it oc b gy om oh l oi oj">Output:<br/>No. of patients survived during 1961: 23<br/>No. of patients died during 1961: 3<br/>*********************************************<br/>No. of patients survived during 1968: 10<br/>No. of patients died during 1968: 3</span></pre><h1 id="00f1" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">一维散点图</h1><p id="b6b9" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">使用单个变量进行推断的散点图是一维散点图。此处变量将位于x轴上，y轴上的值为零(因为没有两个轴就无法绘图)。很明显，是单变量分析。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="95f9" class="li lj it oc b gy og oh l oi oj">df_survived = haberman.loc[haberman['Survival Status'] == 'Survived'] <br/>df_died = haberman.loc[haberman['Survival Status'] == 'Died']<br/>plt.plot(df_survived['Positive Axillary Nodes'], np.zeros_like(df_survived['Positive Axillary Nodes']), 'o')<br/>plt.plot(df_died['Positive Axillary Nodes'], np.zeros_like(df_died['Positive Axillary Nodes']), 'o')<br/>plt.show()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oq"><img src="../Images/59bc5d742025e8abdffc2160ca38b630.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*RzMu_KFzaJ4b5QiyvXqEag.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:iambipin</p></figure><p id="ecff" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">在上面的代码中，<strong class="mf jd"> haberman.loc[ ] </strong>用于从haberman数据帧中挑选与特定索引相关联的数据点，这些数据点又存储在另一个数据帧中。<strong class="mf jd"> np.zeros_like() </strong>方法将创建一个零数组。“O”是字母O的小写字母，用于使图中的点更大且可见。</p><p id="9079" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">观察:</strong></p><ol class=""><li id="873e" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">基于一个特征(阳性腋窝淋巴结)的一维散点图</li><li id="5fc7" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">数据有很大的重叠，这妨碍了进行任何有意义的观察。</li></ol><h1 id="5890" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">柱状图</h1><p id="7738" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">直方图是由<strong class="mf jd">卡尔·皮尔逊</strong>首先介绍的<strong class="mf jd">数字数据分布</strong>的精确表示。它给出了连续变量概率分布的估计。直方图是单变量分析，因为它只涉及一个变量。</p><p id="d503" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">构建直方图的第一步是<strong class="mf jd">“bin”(或桶)</strong>值的范围。“入库”意味着将整个值范围分成一系列区间，然后计算属于每个区间的值的数量。箱通常是变量的连续的、不重叠的区间。箱子必须相邻且大小相等(不要求)。除了最后一个箱子(最右边)外，所有箱子都是半开的。</p><p id="c580" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">对于相同大小的箱，在箱上方竖立一个矩形，其高度与每个箱中的病例数(频率或计数)成比例。</p><p id="bde0" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">Matplotlib用于绘制直方图，Numpy用于计算计数和面元边缘。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="afe0" class="li lj it oc b gy og oh l oi oj">import matplotlib.pyplot as plt<br/>import numpy as np</span><span id="2b05" class="li lj it oc b gy om oh l oi oj">df_axnodes = haberman['Positive Axillary Nodes'] #DataFrame of Positive Axillary Nodes<br/>count, bin_edges = np.histogram(df_axnodes, bins=25)</span><span id="43bd" class="li lj it oc b gy om oh l oi oj">print('Bin Edges: ', bin_edges)<br/>print('Counts per Bin: ', count)<br/>plt.hist(df_axnodes, bins=25, color='skyblue', alpha=0.7) <br/>plt.xlabel('Positive Axillary Nodes', fontsize=15)<br/>plt.ylabel('Frequency', fontsize=15)</span><span id="dc59" class="li lj it oc b gy om oh l oi oj">Output:<br/>Bin Edges:  [ 0.    2.08  4.16  6.24  8.32 10.4  12.48 14.56 16.64 18.72 20.8  22.88 24.96 27.04 29.12 31.2  33.28 35.36 37.44 39.52 41.6  43.68 45.76 47.84 49.92 52.  ]<br/>Counts per Bin:  [197  33  13  14   9   6   9   4   2   5   4   4   1   1   1   0   1   0   0   0   0   0   1   0   1]</span><span id="51d0" class="li lj it oc b gy om oh l oi oj">Text(0,0.5,'Frequency')</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi or"><img src="../Images/674f2fd2d972350b60d1e1e496b434d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:774/format:webp/1*b38US3mIZaxAzQZYgFL1XQ.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:iambipin</p></figure><p id="56f1" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">Matplotlib使用plt.hist()绘制直方图，该函数将DataFrame作为输入。bin_edges给出容器边缘(第一个容器的左边缘和最后一个容器的右边缘)。color参数设置条形的颜色，alpha参数设置条形的透明度。plt.xlabel和plt.y-label分别用于设置x轴和y轴的标签。</p><p id="06bd" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">观察结果</strong></p><ul class=""><li id="d16e" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv np nh ni nj bi translated">306名患者中的197名患者具有小于2.08的阳性腋窝淋巴结。因此大多数(64.37%)患者有少量阳性腋窝淋巴结。</li></ul><h1 id="5bf4" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">概率密度函数</h1><p id="a641" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">PDF用于指定随机变量落在特定值范围内的概率。它是用来描述连续概率分布的概率函数。PDF用于处理具有连续结果的随机变量的概率。从人群中任意选择一个人的身高就是一个典型的例子。</p><p id="2d18" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">PDF是直方图的平滑版本。直方图的平滑是使用核密度估计(KDE)来完成的。PDF(曲线)下的面积总和始终为1。PDF是单变量分析。</p><p id="a15d" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">下面显示的代码片段将绘制PDF。</p><p id="f6fe" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">基于患者年龄的PDF</strong></p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="3ccc" class="li lj it oc b gy og oh l oi oj">sns.set_style('whitegrid')<br/>sns.FacetGrid(haberman, hue='Survival Status', size=8) \<br/>    .map(sns.distplot, 'Age of Patient') \<br/>    .add_legend()<br/>plt.show()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/6b455fd5183d518ec2b32ba9c9031d49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*05W8meKUyPspSDUFjLHxtQ.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:iambipin</p></figure><p id="35b9" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">条形(橙色和蓝色)是直方图，曲线代表PDF。</p><p id="3ebd" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">观察:</strong></p><ol class=""><li id="7c7c" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">数据有很大的重叠，相当于模糊不清</li><li id="ce34" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">30-40岁年龄段的患者比其他年龄段的患者有更多的生存机会。</li><li id="5e97" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">40-60岁年龄组的患者存活的可能性更小。</li><li id="a310" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">40-45岁年龄组的死亡人数最多(存活的可能性最小)。</li><li id="5298" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">我们不能根据“患者年龄”这一属性对患者的生存机会做出最终结论。</li></ol><p id="f0a9" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">基于运营年份的PDF</strong></p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="2448" class="li lj it oc b gy og oh l oi oj">sns.set_style('whitegrid')<br/>sns.FacetGrid(haberman, hue='Survival Status', size=8) \<br/>    .map(sns.distplot, 'Year of Operation') \<br/>    .add_legend()<br/>plt.show()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi os"><img src="../Images/feb6eb0bfcd1c7255d20c22204ba2329.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*s_Qmdj4sT3a4RzpaXineUg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:iambipin</p></figure><p id="10a8" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">观察:</strong></p><ol class=""><li id="0f5c" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">可以观察到大量重叠。</li><li id="6163" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">该图提供了关于成功手术(患者存活)和不成功手术的数量的信息。一次行动的成功<strong class="mf jd">不能以一年作为一个因素</strong>。</li><li id="2208" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">大多数不成功的手术都是在1965年进行的，然后是1960年。</li><li id="af70" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">最成功的手术是在1961年进行的。</li></ol><p id="b7b7" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">基于阳性腋窝淋巴结的PDF</strong></p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="9c84" class="li lj it oc b gy og oh l oi oj">sns.set_style('whitegrid')<br/>sns.FacetGrid(haberman, hue='Survival Status', size=8) \<br/>    .map(sns.distplot, 'Positive Axillary Nodes') \<br/>    .add_legend()<br/>plt.show()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/637ec2f0206b696cc561913680996b5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*Vah_rMrSfGA_JshhTkof_Q.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:iambipin</p></figure><p id="b7f6" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">观察:</strong></p><ol class=""><li id="19b8" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">阳性腋窝淋巴结(淋巴结受累)的存在可以是乳腺癌的明显表现。BreastCancer.org在其网站上将它列为一个重要症状。因此，正腋淋巴结比其他属性更重要。</li><li id="9567" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">腋窝淋巴结阴性的患者比腋窝淋巴结阳性的患者有更高的存活几率</strong>。</li><li id="8c06" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">单个腋窝淋巴结阳性的患者也有很好的生存机会</strong>。</li><li id="cced" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">乳腺癌</strong>存活的可能性<strong class="mf jd">随着阳性腋窝淋巴结</strong>数量的增加而降低。</li><li id="31c8" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">只有一小部分患者腋窝淋巴结阳性超过25个。</li><li id="8f1f" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">阳性腋窝淋巴结</strong>是做数据分析的首选属性。</li></ol><p id="51af" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">确定观察值:</strong> <br/>我们可以通过对哈伯曼数据帧执行以下操作来确定观察值:</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="6554" class="li lj it oc b gy og oh l oi oj">df_one = haberman.loc[haberman['Positive Axillary Nodes']&lt;=1]<br/>df_less = haberman.loc[(haberman['Positive Axillary Nodes']&lt;=25) &amp; (haberman['Positive Axillary Nodes']&gt;1)]<br/>df_more = haberman.loc[haberman['Positive Axillary Nodes']&gt;25]</span><span id="0117" class="li lj it oc b gy om oh l oi oj">df_one_survived = df_one.loc[df_one['Survival Status']=='Survived']<br/>print('No. of patients survived(with one or no positive nodes): {0}' .format(len(df_one_survived)))</span><span id="8f3c" class="li lj it oc b gy om oh l oi oj">df_one_died = df_one.loc[df_one['Survival Status']=='Died']<br/>print('No. of patients died(with one or no positive nodes): {0}' .format(len(df_one_died)))</span><span id="4449" class="li lj it oc b gy om oh l oi oj">aster = '*'<br/>print(aster*65)</span><span id="bff7" class="li lj it oc b gy om oh l oi oj">df_less_survived = df_less.loc[df_less['Survival Status']=='Survived']<br/>print('No. of patients survived(1&lt;positive nodes&lt;=25): {0}' .format(len(df_less_survived)))</span><span id="af7e" class="li lj it oc b gy om oh l oi oj">df_less_died = df_less.loc[df_less['Survival Status']=='Died']<br/>print('No. of patients died(1&lt;positive nodes&lt;=25): {0}' .format(len(df_less_died)))</span><span id="1168" class="li lj it oc b gy om oh l oi oj">print(aster*65)</span><span id="94d3" class="li lj it oc b gy om oh l oi oj">df_more_survived = df_more.loc[df_more['Survival Status']=='Survived']<br/>print('No. of patients survived(25&lt;positive nodes&lt;=52): {0}' .format(len(df_more_survived)))</span><span id="6eb9" class="li lj it oc b gy om oh l oi oj">df_more_died = df_more.loc[df_more['Survival Status']=='Died']<br/>print('No. of patients died(25&lt;positive nodes&lt;=52): {0}' .format(len(df_more_died)))</span><span id="8868" class="li lj it oc b gy om oh l oi oj">Output:<br/>No. of patients survived(with one or no positive nodes): 150<br/>No. of patients died(with one or no positive nodes): 27<br/>*****************************************************************<br/>No. of patients survived(1&lt;positive nodes&lt;=25): 72<br/>No. of patients died(1&lt;positive nodes&lt;=25): 52<br/>*****************************************************************<br/>No. of patients survived(25&lt;positive nodes&lt;=52): 3<br/>No. of patients died(25&lt;positive nodes&lt;=52): 2</span></pre><p id="2053" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">输出已经确定了观察值。我们可以得出以下结论:</p><ol class=""><li id="c94e" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated"><strong class="mf jd"/>有<strong class="mf jd">个或零个腋窝淋巴结阳性的患者中，有85%</strong>乳腺癌存活。</li><li id="e0df" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">腋窝淋巴结阳性小于25且大于1的患者中有58%存活了5年或更长时间</li><li id="4a16" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd"/>腋窝淋巴结阳性大于25的患者，有60%的乳腺癌存活。</li><li id="f598" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">这些统计数据证明，如果阳性腋窝淋巴结的数目是1或0，患者的存活机会是相当高的。如果这个数字大于1，那么存活几率在58%到60%之间。</li></ol><h1 id="de90" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">累积分布函数</h1><p id="e4ac" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">实值随机变量X的累积分布函数(CDF)是该变量取值小于或等于X的概率。<br/> <strong class="mf jd"> F(x) = P(X &lt; = x) </strong> <br/>其中右手边代表随机变量X取值小于或等于X的概率。X位于半闭区间(a，b)的概率，其中a &lt; b因此:<br/> <strong class="mf jd"> P(a &lt; X &lt;</strong></p><p id="5678" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">概率密度函数的积分给出了CDF。CDF也是单变量分析。</p><p id="03f6" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">使用选择的变量“阳性腋窝淋巴结”绘制CDF。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="2e39" class="li lj it oc b gy og oh l oi oj">df_axnodes_survived = haberman.loc[haberman['Survival Status']=='Survived']<br/>counts1, bin_edges1 = np.histogram(df_axnodes_survived['Positive Axillary Nodes'], bins=10, density=True)<br/>pdf1 = counts1/(sum(counts1))<br/>print('PDF of patients survived 5 years or longer:', pdf1)<br/>print('Bin Edges: ', bin_edges1)<br/>cdf1 = np.cumsum(pdf1)</span><span id="f41c" class="li lj it oc b gy om oh l oi oj">aster = '*'<br/>print(aster * 60)</span><span id="f42a" class="li lj it oc b gy om oh l oi oj">df_axnodes_died = haberman.loc[haberman['Survival Status']=='Died']<br/>counts2, bin_edges2 = np.histogram(df_axnodes_died['Positive Axillary Nodes'], bins=10, density=True)<br/>pdf2 = counts2/(sum(counts2))<br/>print('PDF of patients died within 5 years:', pdf2)<br/>print('Bin Edges: ', bin_edges2)<br/>cdf2 = np.cumsum(pdf2)</span><span id="d2b5" class="li lj it oc b gy om oh l oi oj">print(aster * 60)</span><span id="1dfb" class="li lj it oc b gy om oh l oi oj">line1, = plt.plot(bin_edges1[1:], pdf1, label='PDF_Survived')<br/>line2, = plt.plot(bin_edges1[1:], cdf1, label='CDF_Survived')<br/>line3, = plt.plot(bin_edges2[1:], pdf2, label='PDF_Died')<br/>line4, = plt.plot(bin_edges2[1:], cdf2, label='CDF_Died')<br/>plt.legend(handles=[line1, line2, line3, line4])</span><span id="e037" class="li lj it oc b gy om oh l oi oj">plt.xlabel('Positive Axillary Nodes', fontsize=15)<br/>plt.show()</span><span id="d296" class="li lj it oc b gy om oh l oi oj">Output:<br/>PDF of patients survived 5 years or longer: [0.83555556 0.08       0.02222222 0.02666667 0.01777778 0.00444444 0.00888889 0.         0.         0.00444444]<br/>Bin Edges:  [ 0.   4.6  9.2 13.8 18.4 23.  27.6 32.2 36.8 41.4 46. ]<br/>************************************************************<br/>PDF of patients died within 5 years: [0.56790123 0.14814815 0.13580247 0.04938272 0.07407407 0. 0.01234568 0.         0.         0.01234568]<br/>Bin Edges:  [ 0.   5.2 10.4 15.6 20.8 26.  31.2 36.4 41.6 46.8 52. ]<br/>************************************************************</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/253ef87ee4f42c699b5d1c0f8c6d0e11.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*22veiOAiTTOio8AmAx_epg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:iambipin</p></figure><p id="aec8" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">Matplotlib用于绘制直方图，Numpy用于计算计数和bin边缘。Matplotlib使用plt.hist()绘制直方图，该函数将DataFrame作为输入。bin_edges给出容器边缘(第一个容器的左边缘和最后一个容器的右边缘)。np.cumsum()是一个计算累积和的numpy方法。plt.legend()是一个Matplotlib方法，用于生成图形的图例。plt.xlabel()是另一个标记x轴的Matplotlib方法</p><p id="a9f7" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">观察:</strong></p><ol class=""><li id="d700" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">甚至有更多阳性腋窝淋巴结的患者也能从乳腺癌中存活下来。与此相反，没有阳性腋窝淋巴结的患者在接受手术后死亡。</li><li id="7f61" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">癌症存活患者腋窝淋巴结阳性的最大数量为46个</strong></li><li id="8600" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd"> 83.55% </strong>癌症存活患者腋窝淋巴结在<strong class="mf jd">0 ~ 4.6</strong>范围内阳性。</li><li id="32e9" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">死亡患者中有56.79% </strong>的腋窝淋巴结在<strong class="mf jd">0 ~ 5.2</strong>范围内。</li></ol><p id="b4e5" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">确定观察值:</strong> <br/>我们可以通过对哈伯曼数据帧执行以下操作来确定1号观察值:</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="fdb5" class="li lj it oc b gy og oh l oi oj">df_axnodes_died = haberman.loc[haberman['Survival Status']=='Died']<br/>df_no_axnodes_died = df_axnodes_died.loc[df_axnodes_died['Positive Axillary Nodes']==0]<br/>print('No. of patients died with zero Positive Axillary Node: ', len(df_no_axnodes_died))</span><span id="446a" class="li lj it oc b gy om oh l oi oj">df_axnodes_survived = haberman.loc[haberman['Survival Status']=='Survived']<br/>df_high_axnodes_survived = df_axnodes_survived.loc[df_axnodes_survived['Positive Axillary Nodes']&gt;=20]<br/>print('No. of patients survived with high Positive Axillary Nodes(&gt;=20): ', len(df_high_axnodes_survived))</span><span id="771c" class="li lj it oc b gy om oh l oi oj">Output:<br/>No. of patients died with zero Positive Axillary Node:  19<br/>No. of patients survived with high Positive Axillary Nodes(&gt;=20):  7<br/>     Age of Patient  Year of Operation  Positive Axillary Nodes  \<br/>7                34                 59                        0   <br/>34               39                 66                        0   <br/>44               41                 64                        0   <br/>45               41                 67                        0   <br/>54               42                 59                        0   <br/>64               43                 64                        0   <br/>65               43                 64                        0   <br/>81               45                 66                        0   <br/>97               47                 62                        0   <br/>98               47                 65                        0   <br/>114              49                 63                        0   <br/>125              50                 64                        0   <br/>224              60                 65                        0   <br/>230              61                 65                        0   <br/>239              62                 58                        0   <br/>258              65                 58                        0   <br/>268              66                 58                        0   <br/>285              70                 58                        0   <br/>293              72                 63                        0</span><span id="8109" class="li lj it oc b gy om oh l oi oj">Survival Status  <br/>7              Died  <br/>34             Died  <br/>44             Died  <br/>45             Died  <br/>54             Died  <br/>64             Died  <br/>65             Died  <br/>81             Died  <br/>97             Died  <br/>98             Died  <br/>114            Died  <br/>125            Died  <br/>224            Died  <br/>230            Died  <br/>239            Died  <br/>258            Died  <br/>268            Died  <br/>285            Died  <br/>293            Died  <br/>     Age of Patient  Year of Operation  Positive Axillary Nodes  \<br/>9                34                 58                       30   <br/>59               42                 62                       20   <br/>174              54                 67                       46   <br/>188              55                 69                       22   <br/>227              60                 61                       25   <br/>252              63                 61                       28   <br/>254              64                 65                       22</span><span id="374d" class="li lj it oc b gy om oh l oi oj">Survival Status  <br/>9          Survived  <br/>59         Survived  <br/>174        Survived  <br/>188        Survived  <br/>227        Survived  <br/>252        Survived  <br/>254        Survived</span></pre><h1 id="1b1a" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">箱形图</h1><p id="bd2d" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">箱线图是基于五个数字汇总的数据分布的直观表示。这五个数字是<strong class="mf jd">最小或最小的数字、第一个四分位数(Q1)或第25个百分位数、中间值(Q2)或第50个百分位数、第三个四分位数(Q3)或第75个百分位数以及最大或最大的数字</strong>。Q1是最小值和中间值之间的中间数。Q3是中间值和最大值之间的中间值。四分位数间距(IQR)是第一个四分位数和第三个四分位数之间的差值。<br/> <strong class="mf jd"> IQR = Q3 — Q2 </strong> <br/>方框图的高度代表IQR。方框的顶线和底线分别代表第一个四分位数和第三个四分位数。盒子顶线和底线之间的线代表中间值。从方框平行延伸的线被称为“胡须”，用于指示上下四分位数之外的可变性。异常值有时被绘制成与须状物成直线的单个点。异常值是与其他观察值显著不同的数据点。它不属于总的分配模式。</p><p id="c71c" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">盒须图是数学家约翰·图基在1969年首次提出的。箱线图可以垂直或水平绘制。虽然与直方图或密度图相比，箱线图可能看起来很原始，但它们具有占用空间少的优点，这在比较许多组或数据集之间的分布时很有用。</p><p id="53f8" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">Python统计数据可视化库<strong class="mf jd"> Seaborn </strong>用于绘制<strong class="mf jd">箱线图</strong>。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="5089" class="li lj it oc b gy og oh l oi oj">sns.boxplot(x='Survival Status', y='Positive Axillary Nodes', data=haberman)<br/>plt.show()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/b3995ef1703c26658b93758456fba504.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*IbJjVktsnOJf_0u7UAbF8Q.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:iambipin</p></figure><h1 id="b180" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">小提琴情节</h1><p id="7709" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">小提琴图用于可视化数据的分布及其概率密度。它是箱形图与两侧的旋转核密度图的组合，用于显示数据的分布形状。中间的<strong class="mf jd">白点</strong>是中间值，中间粗黑条代表四分位数范围。从它延伸出来的黑色细线代表数据中的最大值和最小值。小提琴图类似于箱线图，只是它们也显示不同值的数据的概率密度，通常由核密度估计器平滑。结合两个世界最好的<strong class="mf jd">(直方图和PDF，方框图)</strong>给出了<strong class="mf jd">小提琴图</strong>。小提琴剧情是<strong class="mf jd">单变量分析</strong>。</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="adba" class="li lj it oc b gy og oh l oi oj">sns.violinplot(x='Survival Status', y='Positive Axillary Nodes', data=haberman, size=8)<br/>plt.show()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/c87d8259f18aa8eeab51ca2c47caf7da.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*zzTQWiV31PBPlQ9Ven41Ww.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:iambipin</p></figure><p id="0fc2" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">观察:</strong></p><ol class=""><li id="4cdd" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">IQR是衡量谎言价值的标准。因此，幸存于的<strong class="mf jd">患者的阳性腋窝淋巴结<strong class="mf jd">少于3个</strong>。同样，<strong class="mf jd">死亡</strong>的患者，腋窝<strong class="mf jd">淋巴结阳性大于2个</strong>。</strong></li><li id="d60b" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">晶须外点的存在表明异常值的存在<strong class="mf jd">。存活类别(存活5年或更长时间的患者)中异常值的数量大大高于死亡类别(5年内死亡的患者)。</strong></li><li id="9fd2" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">幸存类别的Q1和中位数几乎相同。死亡类别的中位数和幸存类别的Q3显然在同一条线上。因此存在<strong class="mf jd">重叠</strong>，这可能导致至少<strong class="mf jd"> 15%到20% </strong>的误差。因此，很难设定一个阈值来区分患者的生存机会。</li><li id="a756" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">大多数没有阳性腋窝淋巴结的患者在乳腺癌中存活。类似地，大多数有大量阳性腋窝淋巴结的患者死亡。</li><li id="ecaa" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">每条规则都有例外。它也适用于这里。因为具有大量阳性腋窝淋巴结的患者很少存活，并且没有阳性腋窝淋巴结的患者很少死亡。</li></ol><h1 id="6ad8" class="nq lj it bd lk nr ns nt ln nu nv nw lq ki nx kj lu kl ny km ly ko nz kp mc oa bi translated">等值线图表</h1><p id="183b" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">等值线图是一种多变量分析。等高线图不是一种标准化技术，而是一种通过绘制二维格式的称为等高线的<strong class="mf jd">常量z切片来表示三维表面的图形技术。Seaborn习惯于绘制等高线图。</strong></p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="01a5" class="li lj it oc b gy og oh l oi oj">sns.jointplot(x='Age of Patient', y='Positive Axillary Nodes', data=haberman, kind='kde')<br/>plt.show()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/8b43f65c7c43c8bbeeb943175fdffa49.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*XSqtg2DlISN43tDfV-am6A.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片提供:iambipin</p></figure><p id="3c00" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">观察:</strong></p><ol class=""><li id="a60c" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">在所有腋窝淋巴结阳性少于或等于2个的患者中，大多数患者的年龄在<strong class="mf jd">50–56岁之间。</strong></li></ol><p id="6aa1" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">确定观察值:</strong> <br/>我们可以通过对哈伯曼数据帧执行以下操作来确定观察值:</p><pre class="ks kt ku kv gt ob oc od oe aw of bi"><span id="66c3" class="li lj it oc b gy og oh l oi oj">df_axnodes_zero = haberman.loc[haberman['Positive Axillary Nodes']&lt;=2]<br/>print('No. of patients with positive axillary nodes&lt;=2: ', len(df_axnodes_zero))<br/>df_axnodes_zero_50 = df_axnodes_zero.loc[(df_axnodes_zero['Age of Patient']&gt;=50) &amp; (df_axnodes_zero['Age of Patient']&lt;=56)]<br/>print('No. of patients in the age group 50-56 who have positive axillary nodes&lt;=2: ', len(df_axnodes_zero_50))</span><span id="0b78" class="li lj it oc b gy om oh l oi oj">Output:<br/>No. of patients with positive axillary nodes&lt;=2:  197<br/>No. of patients in the age group 50-56 who have positive axillary nodes&lt;=2:  40</span></pre><p id="cf28" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">因此，在50-56岁年龄组中，20.30%腋窝淋巴结阳性小于或等于两个淋巴结的患者。</p><p id="9c95" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">让我们总结一下我们在探索性数据分析过程中所做的重要观察。</p><p id="be85" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">结论:</strong></p><ol class=""><li id="c411" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">30-40岁年龄段的大多数患者都从乳腺癌中幸存下来。</li><li id="537f" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">在1961年至1968年期间接受手术的大多数患者在手术后存活了5年或更长时间。</strong></li><li id="096a" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">出现<strong class="mf jd">阳性腋窝淋巴结(淋巴结受累)</strong>可以是乳腺癌的明显表现。一般来说，乳腺癌患者的生存机会与阳性腋窝淋巴结的数量成反比。</li><li id="d378" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">腋窝淋巴结无阳性的患者比腋窝淋巴结有阳性的患者有更高的存活几率</strong>。</li><li id="c9af" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">少数<strong class="mf jd">有大量阳性腋窝淋巴结的患者存活</strong>，少数<strong class="mf jd">无阳性腋窝淋巴结的患者死亡</strong>。所以没有阳性腋窝淋巴结并不能预示着绝对的生存保证。</li><li id="7657" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">只有一小部分<strong class="mf jd">患者腋窝淋巴结阳性超过25个</strong>。</li><li id="9f52" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">所以基于探索性数据分析，我们可以提出一个关于乳腺癌患者生存几率的假设。</strong></li></ol><p id="17dd" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">参考文献:</strong></p><ul class=""><li id="9fdb" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv np nh ni nj bi translated"><a class="ae lh" href="https://www.breastcancer.org/symptoms/diagnosis/lymph_nodes" rel="noopener ugc nofollow" target="_blank">https://www.breastcancer.org/symptoms/diagnosis/lymph_nodes</a></li><li id="f88a" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><a class="ae lh" href="https://www.kaggle.com/gilsousa/habermans-survival-data-set" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/gilsousa/habermans-survival-data-set</a></li><li id="6b1a" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><a class="ae lh" href="https://en.wikipedia.org/wiki/Exploratory_data_analysis" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Exploratory_data_analysis</a></li><li id="5c14" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><a class="ae lh" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.hist.html" rel="noopener ugc nofollow" target="_blank">https://matplotlib . org/API/_ as _ gen/matplotlib . py plot . hist . html</a></li><li id="42c4" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><a class="ae lh" href="https://matplotlib.org/tutorials/intermediate/legend_guide.html" rel="noopener ugc nofollow" target="_blank">https://matplotlib . org/tutorials/intermediate/legend _ guide . html</a></li><li id="43eb" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><a class="ae lh" href="https://seaborn.pydata.org/generated/seaborn.FacetGrid.html" rel="noopener ugc nofollow" target="_blank">https://seaborn.pydata.org/generated/seaborn.FacetGrid.html</a></li><li id="c7d7" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><a class="ae lh" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.dtypes.html" rel="noopener ugc nofollow" target="_blank">https://pandas . pydata . org/pandas-docs/stable/reference/API/pandas。DataFrame.dtypes.html</a></li><li id="d3d2" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><a class="ae lh" href="https://www.appliedaicourse.com/" rel="noopener ugc nofollow" target="_blank">https://www.appliedaicourse.com/</a></li><li id="6338" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><a class="ae lh" href="https://en.wikipedia.org/wiki/Cumulative_distribution_function" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Cumulative _ distribution _ function</a></li><li id="5a0f" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><a class="ae lh" href="https://datavizcatalogue.com/methods/box_plot.html" rel="noopener ugc nofollow" target="_blank">https://datavizcatalogue.com/methods/box_plot.html</a></li><li id="c2ff" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><a class="ae lh" href="https://datavizcatalogue.com/methods/violin_plot.html" rel="noopener ugc nofollow" target="_blank">https://datavizcatalogue.com/methods/violin_plot.html</a></li><li id="969d" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated"><a class="ae lh" href="https://pixabay.com/users/geralt-9301/" rel="noopener ugc nofollow" target="_blank">https://pixabay.com/users/geralt-9301/</a>(来自Pixabay的Gerd Altmann的第一张背景图片)</li><li id="7361" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv np nh ni nj bi translated">我创建的所有其他图像(除了第一个背景图像)。</li></ul></div></div>    
</body>
</html>