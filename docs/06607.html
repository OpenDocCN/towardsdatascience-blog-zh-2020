<html>
<head>
<title>Stock News Sentiment Analysis with Python!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Python 进行股票新闻情绪分析！</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/stock-news-sentiment-analysis-with-python-193d4b4378d4?source=collection_archive---------6-----------------------#2020-05-25">https://towardsdatascience.com/stock-news-sentiment-analysis-with-python-193d4b4378d4?source=collection_archive---------6-----------------------#2020-05-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ade6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">对财经新闻进行秒级情感分析！</h2></div><p id="ef8c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">跟上金融和特定股票的新闻对你的交易策略非常有益，因为它通常会决定价格的变化。因此，我创建了这个算法，可以轻松快速地解析 FinViz 股票筛选程序，并计算任何输入股票的新闻标题的情绪。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/b5abcddedd89dbe1b443478320ddd1bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7fIp-SQ5tD3JELspwR4xww.jpeg"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">图片由<a class="ae lr" href="https://pixabay.com/users/StockSnap-894430/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=2616931" rel="noopener ugc nofollow" target="_blank"> StockSnap </a>来自<a class="ae lr" href="https://pixabay.com/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=2616931" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="7235" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae lr" href="https://finviz.com/" rel="noopener ugc nofollow" target="_blank"> FinViz </a>无疑是网络上最强大的股票筛选工具之一。它可以免费获取大量信息，包括交互式图表、70 多个基本比率、大型银行交易数据以及几乎任何股票的最新新闻标题。如果你以前从未使用过 FinViz，我在下面附上了苹果公司的数据截图，以及我们将在本文中收集的数据。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ls"><img src="../Images/16a9c0081d2e4286f5449c917ee63558.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aiePaJl4qH9yZgNLpOLqbA.png"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">AAPL 的基本比率和互动图表。</p></figure><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ls"><img src="../Images/96c3765ed52057613fbe33fc115753b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XvfD2wkl_yi-gh5EXqUsNQ.png"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">FinViz 为 AAPL 提供内幕交易信息和最新新闻标题。</p></figure><p id="0520" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个屏幕截图中的蓝色信息是更新的新闻标题，这正是我们将要抓取和执行情感分析的内容。既然我们已经检查了我们将使用的数据，让我们进入代码！</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="lt lu l"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">导入和参数</p></figure><p id="c405" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要开始，首先导入以下模块，并根据您的喜好设置参数。变量 n 表示将为‘ticker’列表中的每个 ticker 显示的文章数量。代码的其余部分将不必手动更新，这些是您每次运行代码时必须更改的唯一参数。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="lt lu l"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">从 FinViz 获取新闻数据</p></figure><p id="9cdf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们将使用模块 BeautifulSoup 和 requests 从 FinViz 网站获取新闻数据。该代码解析新闻 HTML 表的 URL，并遍历滚动条列表，收集每个滚动条最近的标题。对于每一只输入的股票，都会打印出“n”个最近的头条，以便于查看数据。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="lt lu l"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">反复阅读新闻</p></figure><p id="c0a5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了执行情感分析，数据必须采用正确的格式，因此这段代码遍历收集到的新闻，并将其分类为一个列表，包括报价器、日期、时间和实际标题。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="lt lu l"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">执行情感分析</p></figure><p id="177c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用功能强大的 nltk 模块，可以分析每个标题的极性分值，分值范围为-1 到 1，其中-1 表示高度负面，1 表示高度正面。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="lt lu l"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">查看结果数据</p></figure><p id="be3f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，数据已经准备好以一种吸引人的方式进行操作和查看。对于输入列表中的每个跑马灯，将创建一个新的数据帧，包括其标题和各自的分数。最后，将创建一个最终的数据帧，其中包括每个报价器在所有最近解析的新闻中的平均情绪值。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="lt lu l"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">解析算法的所有代码</p></figure><p id="1c19" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面的 GitHub 要点包含了这篇文章的所有代码。我希望这个算法将来对你有用。非常感谢您的阅读！</p><p id="b2d2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lv">免责声明:本文材料纯属教育性质，不应作为专业投资建议。自行决定投资。</em></p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="c2bd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你喜欢这篇文章，可以看看下面我写的其他一些 Python for Finance 文章！</p><div class="md me gp gr mf mg"><a rel="noopener follow" target="_blank" href="/parse-thousands-of-stock-recommendations-in-minutes-with-python-6e3e562f156d"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd ir gy z fp ml fr fs mm fu fw ip bi translated">使用 Python 在几分钟内解析数千份股票推荐！</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">了解如何在不到 3 分钟的时间内解析顶级分析师的数千条建议！</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">towardsdatascience.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu ll mg"/></div></div></a></div><div class="md me gp gr mf mg"><a rel="noopener follow" target="_blank" href="/making-a-stock-screener-with-python-4f591b198261"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd ir gy z fp ml fr fs mm fu fw ip bi translated">用 Python 制作股票筛选程序！</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">学习如何用 Python 制作一个基于 Mark Minervini 的趋势模板的强大的股票筛选工具。</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">towardsdatascience.com</p></div></div><div class="mp l"><div class="mv l mr ms mt mp mu ll mg"/></div></div></a></div><div class="md me gp gr mf mg"><a rel="noopener follow" target="_blank" href="/creating-a-finance-web-app-in-3-minutes-8273d56a39f8"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd ir gy z fp ml fr fs mm fu fw ip bi translated">在 3 分钟内创建一个财务 Web 应用程序！</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">了解如何使用 Python 中的 Streamlit 创建技术分析应用程序！</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">towardsdatascience.com</p></div></div><div class="mp l"><div class="mw l mr ms mt mp mu ll mg"/></div></div></a></div></div></div>    
</body>
</html>