# è·¯é¢è¯­ä¹‰åˆ†å‰²

> åŸæ–‡ï¼š<https://towardsdatascience.com/road-surface-semantic-segmentation-4d65b045245?source=collection_archive---------12----------------------->

## æ£€æµ‹å‘æ´ï¼Œæ°´å‘ï¼Œä¸åŒç±»å‹çš„åœ°å½¢å’Œæ›´å¤š

ä½ å¥½ã€‚è¿™ç¯‡æ–‡ç« æ˜¯å…³äºè·¯é¢è¯­ä¹‰åˆ†å‰²æ–¹æ³•çš„ã€‚å› æ­¤ï¼Œè¿™é‡Œçš„é‡ç‚¹æ˜¯è·¯é¢æ¨¡å¼ï¼Œå¦‚:è½¦è¾†è¡Œé©¶åœ¨ä½•ç§è·¯é¢ä¸Šï¼Œæˆ–è€…é“è·¯ä¸Šæ˜¯å¦æœ‰ä»»ä½•æŸåï¼Œé“è·¯æ ‡è®°å’Œå‡é€Ÿå¸¦ä»¥åŠå…¶ä»–ä¸è½¦è¾†å¯¼èˆªä»»åŠ¡ç›¸å…³çš„ä¸œè¥¿ã€‚

åœ¨è¿™é‡Œï¼Œæˆ‘å°†å‘ä½ å±•ç¤ºåŸºäºåœ¨[è‡ªä¸»æœºå™¨äºº](https://rdcu.be/cdpxi) (Springer) [1]çš„è®ºæ–‡çš„ä¸€æ­¥ä¸€æ­¥çš„æ–¹æ³•ã€‚åœ°é¢å®å†µå’Œå®éªŒæ˜¯ä½¿ç”¨ [RTK æ•°æ®é›†](http://www.lapix.ufsc.br/pesquisas/projeto-veiculo-autonomo/datasets/?lang=en)ã€2ã€‘è¿›è¡Œçš„ï¼Œå›¾åƒæ˜¯ç”¨ä½æˆæœ¬ç›¸æœºæ‹æ‘„çš„ï¼ŒåŒ…å«ä¸åŒè·¯é¢ç±»å‹å’Œä¸åŒè·¯é¢è´¨é‡æ¡ä»¶çš„é“è·¯å›¾åƒã€‚

åˆ¶ä½œå®ƒå¾ˆæœ‰è¶£ï¼Œæˆ‘å¾ˆé«˜å…´åˆ†äº«å®ƒï¼Œæˆ‘å¸Œæœ›ä½ ä¹Ÿå–œæ¬¢å®ƒã€‚ğŸ¤—

# **ç®€ä»‹**

è¿™ç§æ–¹æ³•çš„ç›®çš„æ˜¯éªŒè¯ä½¿ç”¨è¢«åŠ¨è§†è§‰(æ‘„åƒæœº)æ£€æµ‹é“è·¯ä¸Šä¸åŒæ¨¡å¼çš„æœ‰æ•ˆæ€§ã€‚ä¾‹å¦‚ï¼Œè¯†åˆ«è·¯é¢æ˜¯æŸæ²¹è·¯è¿˜æ˜¯é¹…åµçŸ³è·¯è¿˜æ˜¯æœªé“ºè®¾çš„(æ³¥åœŸ)è·¯ï¼Ÿè¿™å¯èƒ½ä¸æ™ºèƒ½è½¦è¾†æœ‰å…³ï¼Œæ— è®ºå®ƒæ˜¯è‡ªåŠ¨é©¾é©¶è½¦è¾†è¿˜æ˜¯é«˜çº§é©¾é©¶è¾…åŠ©ç³»ç»Ÿ(ADAS)ã€‚æ ¹æ®è·¯é¢çš„ç±»å‹ï¼Œå¯èƒ½éœ€è¦è°ƒæ•´è½¦è¾†çš„è¡Œé©¶æ–¹å¼ï¼Œæ— è®ºæ˜¯ä¸ºäº†ä½¿ç”¨è€…çš„å®‰å…¨è¿˜æ˜¯è½¦è¾†çš„ä¿æŠ¤ï¼Œç”šè‡³æ˜¯ä¸ºäº†è½¦å†…äººå‘˜çš„èˆ’é€‚ã€‚

è¿™ç§æ–¹æ³•çš„å¦ä¸€ä¸ªç›¸å…³å› ç´ ä¸æ£€æµ‹å‘æ´å’Œæ°´å‘æœ‰å…³ï¼Œå‘æ´å’Œæ°´å‘å¯èƒ½ä¼šé€ æˆäº‹æ•…ï¼ŒæŸåè½¦è¾†ï¼Œåœ¨å‘å±•ä¸­å›½å®¶å¯èƒ½ç›¸å½“å¸¸è§ã€‚è¿™ç§æ–¹æ³•å¯¹äºè´Ÿè´£ç»´æŠ¤é«˜é€Ÿå…¬è·¯å’Œé“è·¯çš„éƒ¨é—¨æˆ–ç»„ç»‡ä¹Ÿå¾ˆæœ‰ç”¨ã€‚

ä¸ºäº†å®ç°è¿™äº›ç›®æ ‡ï¼Œå·ç§¯ç¥ç»ç½‘ç»œ(CNN)è¢«ç”¨äºè·¯é¢çš„è¯­ä¹‰åˆ†å‰²ï¼Œæˆ‘å°†åœ¨æ¥ä¸‹æ¥çš„ç« èŠ‚ä¸­è¯¦ç»†è®¨è®ºã€‚

# åœ°é¢å®å†µ; çœŸå€¼ï¼ˆæœºå™¨å­¦ä¹ ï¼‰

ä¸ºäº†è®­ç»ƒç¥ç»ç½‘ç»œå¹¶æµ‹è¯•å’ŒéªŒè¯ç»“æœï¼Œä½¿ç”¨æ¥è‡ª RTK æ•°æ®é›†çš„ 701 å¹…å›¾åƒåˆ›å»ºäº†åœ°é¢å®å†µ(GT)ã€‚[è¯¥ GT åœ¨æ•°æ®é›†é¡µé¢](http://www.lapix.ufsc.br/pesquisas/projeto-veiculo-autonomo/datasets/?lang=en#gtSegmentacao)ä¸Šå¯ç”¨ï¼Œç”±ä»¥ä¸‹ç±»ç»„æˆ:

![](img/96ed61802b9f7b3bab7eb8941f944f1b.png)

ç‡ƒæ°”è½®æœºåˆ†ç±»[1]

![](img/af4d68009b777694bbee483a76f0d673.png)

GT æ ·å“[1]

# æ–¹æ³•å’Œè®¾ç½®

è¿™é‡Œæ‰€åšçš„ä¸€åˆ‡éƒ½æ˜¯ä½¿ç”¨ Google Colab å®Œæˆçš„ã€‚è¿™æ˜¯ä¸€ä¸ªå…è´¹çš„ Jupyter ç¬”è®°æœ¬ç¯å¢ƒï¼Œè®©æˆ‘ä»¬å¯ä»¥å…è´¹è®¿é—® GPUï¼Œéå¸¸å®¹æ˜“ä½¿ç”¨ï¼Œä¹Ÿéå¸¸æœ‰åŠ©äºç»„ç»‡å’Œé…ç½®ã€‚ä¹Ÿæœ‰äººç”¨äº†[*fastai*](https://www.fast.ai/)ã€3ã€‘ï¼Œä»¤äººæƒŠå¹çš„æ·±åº¦å­¦ä¹ åº“ã€‚æ›´å‡†ç¡®åœ°è¯´ï¼Œæˆ‘å°†å±•ç¤ºçš„ä¸€æ­¥ä¸€æ­¥åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯åŸºäºæ°ç‘ç±³Â·éœåå¾·åœ¨ä¸€é—¨å…³äºæ·±åº¦å­¦ä¹ çš„è¯¾ç¨‹ä¸­çš„ä¸€èŠ‚è¯¾ï¼Œåœ¨è¿™é‡Œæ˜¯[ç¬¬ 3 è¯¾â€”â€”cam vid](https://github.com/fastai/course-v3/blob/master/nbs/dl1/lesson3-camvid.ipynb)ã€‚

ä½¿ç”¨çš„ CNN æ¶æ„æ˜¯ U-NET [4]ï¼Œè¿™æ˜¯ä¸€ç§è®¾è®¡ç”¨äºæ‰§è¡ŒåŒ»å­¦å›¾åƒè¯­ä¹‰åˆ†å‰²ä»»åŠ¡çš„æ¶æ„ï¼Œä½†ä¹ŸæˆåŠŸåº”ç”¨äºè®¸å¤šå…¶ä»–æ–¹æ³•ã€‚æ­¤å¤–ï¼Œä½¿ç”¨äº†åŸºäº ResNet [5]çš„ç¼–ç å™¨å’Œè§£ç å™¨ã€‚è¯¥æ–¹æ³•çš„å®éªŒæ˜¯åœ¨ resnet34 å’Œ resnet50 ä¸Šè¿›è¡Œçš„ã€‚

å¯¹äºæ•°æ®æ‰©å……æ­¥éª¤ï¼Œä½¿ç”¨äº†æ¥è‡ª *fastai* åº“çš„æ ‡å‡†é€‰é¡¹ï¼Œåº”ç”¨äº†æ°´å¹³æ—‹è½¬å’Œé€è§†å˜å½¢ã€‚ä½¿ç”¨ *fastai* å¯ä»¥å¯¹åŸå§‹å›¾åƒå’Œæ©æ¨¡(GT)å›¾åƒè¿›è¡Œç›¸åŒçš„æ•°æ®æ‰©å……æ­¥éª¤ã€‚

ä¸æ­¤ç›¸å…³çš„ä¸€ç‚¹æ˜¯ï¼Œå¯¹è¿™ç§æ–¹æ³•çš„å®šä¹‰éå¸¸é‡è¦çš„æ˜¯ï¼ŒGT çš„ç±»åˆ«ç›¸å½“ä¸å¹³è¡¡ï¼Œå…·æœ‰æ¯”å…¶ä»–ç±»åˆ«å¤§å¾—å¤šçš„èƒŒæ™¯æˆ–è¡¨é¢ç±»å‹(ä¾‹å¦‚:æ²¥é’ã€é“ºç Œæˆ–æœªé“ºç Œ)åƒç´ ã€‚ä¸å½±åƒåˆ†ç±»é—®é¢˜ä¸åŒï¼Œåœ¨å½±åƒåˆ†ç±»é—®é¢˜ä¸­ï¼Œä»æ•°æ®é›†ä¸­å¤åˆ¶æŸäº›å½±åƒå¯èƒ½æœ‰åŠ©äºå¹³è¡¡ç±»åˆ«ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¤åˆ¶å½±åƒå°†æ„å‘³ç€è¿›ä¸€æ­¥å¢åŠ æœ€å¤§å’Œæœ€å°ç±»åˆ«ä¹‹é—´çš„åƒç´ æ•°é‡å·®å¼‚ã€‚ç„¶åï¼Œåœ¨å®šä¹‰çš„æ–¹æ³•ä¸­ï¼Œåœ¨ç±»ä¸­ä½¿ç”¨æƒé‡è¿›è¡Œå¹³è¡¡ã€‚ğŸ¤”

åŸºäºä¸åŒçš„å®éªŒï¼Œäººä»¬è®¤è¯†åˆ°ä»…åº”ç”¨æƒé‡æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºå½“æé«˜åŒ…å«å°‘é‡åƒç´ çš„ç±»çš„ç²¾åº¦æ—¶ï¼ŒåŒ…å«å¤§é‡åƒç´ çš„ç±»(ä¾‹å¦‚:æ²¥é’ã€å·²é“ºè·¯é¢å’Œæœªé“ºè·¯é¢)ä¼šé™ä½ç²¾åº¦ç»“æœçš„è´¨é‡ã€‚

è€ƒè™‘åˆ°æ‰€æœ‰ç±»åˆ«ï¼Œåœ¨ä¸æŸå¤±å¤ªå¤šè¡¨é¢ç±»å‹æ£€æµ‹è´¨é‡çš„æƒ…å†µä¸‹ï¼Œæœ€ä½³ç²¾åº¦å€¼ä¸ºä»¥ä¸‹é…ç½®:é¦–å…ˆä¸ä½¿ç”¨æƒé‡æ¥è®­ç»ƒæ¨¡å‹ï¼Œä¸ºè¡¨é¢ç±»å‹ç”Ÿæˆå…·æœ‰è‰¯å¥½ç²¾åº¦çš„æ¨¡å‹ï¼Œç„¶åï¼Œä½¿ç”¨ä¹‹å‰è®­ç»ƒçš„æ¨¡å‹ä½œä¸ºä¸‹ä¸€ä¸ªæ¨¡å‹çš„åŸºç¡€ï¼Œè¯¥æ¨¡å‹ä½¿ç”¨ç±»åˆ«çš„æ¯”ä¾‹æƒé‡ã€‚å°±æ˜¯è¿™æ ·ï¼

ä½ å¯ä»¥åœ¨ GitHub ä¸ŠæŸ¥çœ‹å®Œæ•´çš„ä»£ç ï¼Œæˆ‘å°†åœ¨è¿™ç¯‡æ–‡ç« ä¸­å¯¹æ­¤è¿›è¡Œè¯„è®º:

[](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages) [## thiagortk/è€ƒè™‘è·¯é¢æŸåçš„è·¯é¢æ£€æµ‹å’Œé‰´åˆ«

### ç”¨äºé“è·¯è¡¨é¢çš„è¯­ä¹‰åˆ†å‰² GT åŒ…å«æ¥è‡ª RTK æ•°æ®é›†çš„ 701 å¸§ã€‚

github.com](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages) 

# å¾ªåºæ¸è¿›

ä½ å‡†å¤‡å¥½äº†å—ï¼Ÿ

æ¥è‡ª https://giphy.com/çš„ gif å›¾ç‰‡

é…·ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»åˆå§‹è®¾ç½®å¼€å§‹ï¼Œå¯¼å…¥ *fastai* åº“å’Œ pathlib æ¨¡å—ã€‚å§‘ä¸”ç§°ä¹‹ä¸º**ç¬¬ä¸€æ­¥**ã€‚

## æ­¥éª¤ 1 â€”åˆå§‹è®¾ç½®

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

å› ä¸ºæˆ‘ä»¬å°†ä½¿ç”¨æ¥è‡ª google drive çš„æ•°æ®é›†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŒ‚è½½å®ƒï¼Œæ‰€ä»¥åœ¨ä¸‹ä¸€ä¸ªå•å…ƒæ ¼ç±»å‹ä¸­:

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

æ‚¨å°†çœ‹åˆ°ç±»ä¼¼ä¸‹å›¾çš„å†…å®¹ï¼Œå•å‡»è¯¥é“¾æ¥ï¼Œæ‚¨å°†è·å¾—ä¸€ä¸ªæˆæƒç ï¼Œå› æ­¤åªéœ€å°†æˆæƒç å¤åˆ¶å¹¶ç²˜è´´åˆ°é¢„æœŸå­—æ®µä¸­ã€‚

![](img/4e04b797de376bb8210ed2457a29129b.png)

æ¥è‡ªä½œè€…

ç°åœ¨åªéœ€å°†ä½ çš„ Google Drive ä½œä¸ºä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿæ¥è®¿é—®ã€‚è¿™æ˜¯**æ­¥éª¤ 2** çš„å¼€å§‹ï¼ŒåŠ è½½æˆ‘ä»¬çš„æ•°æ®ã€‚

## **æ­¥éª¤ 2 â€”** å‡†å¤‡æ•°æ®

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

å…¶ä¸­â€œ*å›¾åƒ*â€æ˜¯åŒ…å«åŸå§‹å›¾åƒçš„æ–‡ä»¶å¤¹ã€‚â€œ*æ ‡ç­¾*â€æ˜¯åŒ…å«æˆ‘ä»¬å°†ç”¨äºè®­ç»ƒå’ŒéªŒè¯çš„é®ç½©çš„æ–‡ä»¶å¤¹ï¼Œè¿™äº›å›¾åƒåœ¨è‰²å½©æ˜ å°„è¡¨ç§»é™¤è¿‡ç¨‹åæ˜¯ 8 ä½åƒç´ ã€‚åœ¨â€œ*é¢œè‰²æ ‡ç­¾*â€ä¸­ï¼Œæˆ‘å·²ç»æ”¾ä¸Šäº†åŸå§‹çš„å½©è‰²è’™ç‰ˆï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥è¿›è¡Œè§†è§‰å¯¹æ¯”ã€‚â€œ *valid.txt* â€æ–‡ä»¶åŒ…å«éšæœºé€‰æ‹©ç”¨äºéªŒè¯çš„å›¾åƒåç§°åˆ—è¡¨ã€‚æœ€åï¼Œâ€œ *codes.txt* â€æ–‡ä»¶åŒ…å«ä¸€ä¸ªå¸¦æœ‰ç±»åçš„åˆ—è¡¨ã€‚

![](img/9147d570043ad6ebdc5ee34a9c3b851c.png)

æ¥è‡ªä½œè€…

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

![](img/413f8b5bee647e206e51da1d94a7c9e1.png)

æ¥è‡ªä½œè€…

ç°åœ¨ï¼Œæˆ‘ä»¬ä¸ºåŸå§‹å›¾åƒå’Œ GT é®ç½©å›¾åƒå®šä¹‰è·¯å¾„ï¼Œä»¥ä¾¿ä»¥åèƒ½å¤Ÿè®¿é—®æ¯ä¸ªæ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰å›¾åƒã€‚

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªä¾‹å­ï¼Œæ•°æ®é›†çš„å›¾åƒ 139ã€‚

![](img/a113b97fd2ce214cab47a39f95e05e83.png)

æ¥è‡ªä½œè€…

æ¥ä¸‹æ¥ï¼Œå¦‚ *fastai* è¯¾æ‰€ç¤ºï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ä»åŸå§‹å›¾åƒä¸­æ¨æ–­è’™ç‰ˆæ–‡ä»¶åï¼Œè´Ÿè´£æ¯ä¸ªåƒç´ çš„é¢œè‰²ç¼–ç ã€‚

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

## ç¬¬ 3 æ­¥â€”â€”ç¬¬ä¸€æ­¥â€”â€”æ— é‡é‡

æˆ‘ä»¬åˆ°äº†ç¬¬ä¸‰æ­¥ã€‚è®©æˆ‘ä»¬ä½¿ç”¨æ•°æ®å— API åˆ›å»º DataBunch æ¥è®­ç»ƒæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæ¨¡å‹ã€‚å®šä¹‰æˆ‘ä»¬çš„å›¾åƒæ¥è‡ªå“ªé‡Œï¼Œå“ªäº›å›¾åƒå°†ç”¨äºéªŒè¯ï¼Œä»¥åŠå¯¹åº”äºæ¯ä¸ªåŸå§‹å›¾åƒçš„é®ç½©ã€‚å¯¹äºæ•°æ®æ‰©å……ï¼Œ *fastai* åº“ä¹Ÿç»™å‡ºäº†é€‰é¡¹ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬å°†åªä½¿ç”¨é»˜è®¤é€‰é¡¹å’Œ`get_transforms()`ï¼Œå®ƒç”±éšæœºæ°´å¹³æ—‹è½¬å’Œé€è§†æ‰­æ›²ç»„æˆã€‚è®°ä½åœ¨ transform è°ƒç”¨ä¸­è®¾ç½®`tfm_y=True`,ä»¥ç¡®ä¿æ•°æ®é›†ä¸­æ•°æ®æ‰©å……çš„è½¬æ¢å¯¹äºæ¯ä¸ªé®ç½©åŠå…¶åŸå§‹å›¾åƒéƒ½æ˜¯ç›¸åŒçš„ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æ—‹è½¬äº†åŸå§‹å›¾åƒï¼Œä½†æ˜¯é‚£ä¸ªå›¾åƒå¯¹åº”çš„è’™ç‰ˆå´æ²¡æœ‰æ—‹è½¬ï¼Œé‚£è¯¥æ˜¯å¤šä¹ˆçš„æ··ä¹±å•Šï¼ğŸ˜µ

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

æˆ‘ä»¬ç»§ç»­ä½¿ç”¨æ¥è‡ª *fastai* è¯¾ç¨‹çš„ [lesson3-camvid](https://github.com/fastai/course-v3/blob/master/nbs/dl1/lesson3-camvid.ipynb) ç¤ºä¾‹æ¥å®šä¹‰ç²¾åº¦æŒ‡æ ‡å’Œé‡é‡è¡°å‡ã€‚æˆ‘ä¹‹æ‰€ä»¥ä½¿ç”¨ resnet34 æ¨¡å‹ï¼Œæ˜¯å› ä¸ºåœ¨è¿™ä¸ªæ•°æ®é›†ä¸Šä½¿ç”¨ resnet50 å¹¶æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`lr_find(learn)`æ‰¾åˆ°å­¦ä¹ ç‡ï¼Œåœ¨æˆ‘çš„ä¾‹å­ä¸­ï¼Œæˆ‘å°†å®ƒå®šä¹‰ä¸º`1e-4`ã€‚

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

![](img/00f214ce762f3ed833a255c8b068f3e7.png)

æ¥è‡ªä½œè€…

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿è¡Œ`fit_one_cycle()`10 æ¬¡ï¼Œæ£€æŸ¥æˆ‘ä»¬çš„æ¨¡å‹åšå¾—å¦‚ä½•ã€‚

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

![](img/d78fcad3feff7f8bae1137cfe834c92a.png)

æ¥è‡ªä½œè€…

ä½¿ç”¨æ··æ·†çŸ©é˜µï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åˆ°ç›®å‰ä¸ºæ­¢æ¯ä¸ªç±»çš„æ¨¡å‹æœ‰å¤šå¥½(æˆ–å¤šå·®)

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

![](img/f8f3f5d726190817eb918f7a209fd1fe.png)

æ¥è‡ªä½œè€…

ä¸è¦å¿˜è®°ä¿å­˜æˆ‘ä»¬åˆ°ç›®å‰ä¸ºæ­¢è®­ç»ƒçš„æ¨¡å‹ã€‚

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

ç°åœ¨ï¼Œæˆ‘ä»¬åªæ˜¯åœ¨æ›´å¤šçš„æ—¶æœŸå†…è®­ç»ƒæ¨¡å‹ï¼Œä»¥æ”¹è¿›å­¦ä¹ ï¼Œå¹¶è®°ä½ä¿å­˜æˆ‘ä»¬çš„æœ€ç»ˆæ¨¡å‹ã€‚slice å…³é”®å­—ç”¨äºè·å–èµ·å§‹å€¼å’Œç»ˆæ­¢å€¼ï¼Œå› æ­¤åœ¨ç¬¬ä¸€å±‚ä¸­ï¼Œä»¥èµ·å§‹å€¼å¼€å§‹è®­ç»ƒï¼Œå¹¶ä¸”å½“åˆ°è¾¾è®­ç»ƒè¿‡ç¨‹çš„æœ«å°¾æ—¶ï¼Œè¯¥å€¼å°†æ”¹å˜ï¼Œç›´åˆ°ç»ˆæ­¢å€¼ã€‚

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

![](img/d06f7be8c1d3a7ef73970322ea58da75.png)

æ¥è‡ªä½œè€…

è¿™æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæ¨¡å‹ï¼Œæ²¡æœ‰é‡é‡ï¼Œé€‚ç”¨äºè·¯é¢ï¼Œä½†ä¸é€‚ç”¨äºå°ç­ã€‚

![](img/e142db6cb07e83209c5ebb18d23974df.png)

æ¥è‡ªä½œè€…

## æ­¥éª¤ 4-ç¬¬äºŒéƒ¨åˆ†-é‡é‡

æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€æ­¥ä¸­ä½¿ç”¨ç¬¬ä¸€ä¸ªæ¨¡å‹ã€‚è¿™ä¸€éƒ¨åˆ†å‡ ä¹ä¸ç¬¬ 3 æ­¥å®Œå…¨ç›¸åŒï¼Œå› ä¸ºæ•°æ®é›†ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦è®°ä½åŠ è½½æˆ‘ä»¬ä»¥å‰çš„æ¨¡å‹ã€‚

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

å¹¶ä¸”ï¼Œåœ¨æˆ‘ä»¬å¼€å§‹è®­ç»ƒè¿‡ç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç­çº§é‡Œæ”¾é‡é‡ã€‚æˆ‘å®šä¹‰è¿™äº›æƒé‡æ˜¯ä¸ºäº†ä¸æ¯ä¸ªç±»åœ¨æ•°æ®é›†ä¸­å‡ºç°çš„æ•°é‡(åƒç´ æ•°)æˆæ¯”ä¾‹ã€‚*æˆ‘ç”¨ OpenCV è¿è¡Œäº†ä¸€ä¸ª python ä»£ç ï¼Œåªæ˜¯ä¸ºäº†è®¡ç®— GT çš„ 701 å¹…å›¾åƒä¸­æ¯ä¸ªç±»åˆ«çš„åƒç´ æ•°é‡ï¼Œä»¥äº†è§£æ¯ä¸ªç±»åˆ«çš„æ¯”ä¾‹â€¦ğŸ˜“

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

å‰©ä¸‹çš„éƒ¨åˆ†å’Œå‰é¢çš„ç¬¬ä¸‰æ­¥å®Œå…¨ä¸€æ ·ã€‚å¾—åˆ°çš„ç»“æœæœ‰ä»€ä¹ˆå˜åŒ–ã€‚ğŸ˜¬

![](img/ffd58c52561fc594a531941fbcafd9ab.png)

æ¥è‡ªä½œè€…

ç°åœ¨ï¼Œçœ‹èµ·æ¥æˆ‘ä»¬å¯¹æ‰€æœ‰èŒä¸šéƒ½æœ‰äº†ä¸€ä¸ªæ›´åˆç†çš„ç»“æœã€‚è®°å¾—å­˜èµ·æ¥ï¼

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

# ç»“æœ

æœ€åï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬çš„å›¾åƒï¼Œå¯¹ä¸å¯¹ï¼Ÿåœ¨åšä»»ä½•äº‹æƒ…ä¹‹å‰ï¼Œæœ€å¥½ä¿å­˜æˆ‘ä»¬çš„ç»“æœï¼Œæˆ–è€…æˆ‘ä»¬çš„æµ‹è¯•å›¾åƒã€‚

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

ä½†æ˜¯ï¼Œç­‰ç­‰ï¼å›¾åƒçœ‹èµ·æ¥å…¨é»‘ï¼Œæˆ‘çš„ç»“æœå‘¢ï¼Ÿï¼Ÿï¼ŸğŸ˜±å†·é™ä¸‹æ¥ï¼Œè¿™äº›æ˜¯ç»“æœï¼Œåªæ˜¯æ²¡æœ‰å½©è‰²åœ°å›¾ï¼Œå¦‚æœä½ åœ¨æ•´ä¸ªå±å¹•ä¸Šæ‰“å¼€è¿™äº›å›¾åƒä¸­çš„ä¸€ä¸ªï¼Œåœ¨é«˜äº®åº¦ä¸‹ï¼Œä½ å¯ä»¥çœ‹åˆ°å°çš„å˜åŒ–ï¼Œâ€œ11 ä¸ªç°è‰²é˜´å½±â€ğŸ™ƒã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬çš„ç»“æœé¢œè‰²æ›´åƒæ ·ï¼Ÿç°åœ¨æˆ‘ä»¬å°†ä½¿ç”¨ OpenCV å¹¶åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹æ¥ä¿å­˜æˆ‘ä»¬çš„å½©è‰²ç»“æœã€‚

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

å› æ­¤ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥è¯†åˆ«æ¯ä¸ªå˜åŒ–ï¼Œå¹¶ç»™æ¯ä¸ªåƒç´ ç€è‰²ã€‚

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¯»å–æ¯ä¸ªå›¾åƒï¼Œè°ƒç”¨å‡½æ•°å¹¶ä¿å­˜æœ€ç»ˆç»“æœã€‚

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

ä½†æ˜¯ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¼šèŠ±è´¹ä¸å¿…è¦çš„æ—¶é—´ï¼Œä½¿ç”¨`%timeit`æˆ‘ä»¬å¯ä»¥å®ç°å¦‚ä¸‹æ€§èƒ½:

![](img/dfa3b1f5b8846659892791f79ba9bac0.png)

æ¥è‡ªä½œè€…

æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ç”¨æ›´å¤šçš„å›¾åƒæ¥æµ‹è¯•å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Cython åŠ å¿«è¿™ä¸€æ­¥ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬æŠŠä¸€æ’® Cython æ”¾åœ¨é‚£ä¸Šé¢ï¼

æ¥è‡ª[https://giphy.com/](https://giphy.com/)çš„ gif

å› æ­¤ï¼Œæˆ‘ä»¬ç¼–è¾‘æˆ‘ä»¬çš„å‡½æ•°æ¥è¯†åˆ«æ¯ä¸ªå˜åŒ–å¹¶ç»™æ¯ä¸ªåƒç´ ç€è‰²ï¼Œä½†æ˜¯è¿™ä¸€æ¬¡ï¼Œä½¿ç”¨ Cythonã€‚

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

æˆ‘ä»¬åªæ˜¯è¯»å–æ¯å¼ å›¾ç‰‡ï¼Œè°ƒç”¨å‡½æ•°ï¼Œç„¶ååƒä¹‹å‰ä¸€æ ·ä¿å­˜æœ€ç»ˆç»“æœã€‚

[è·¯é¢è¯­ä¹‰åˆ†å‰². ipynb](https://github.com/thiagortk/Road-surface-detection-and-differentiation-considering-surface-damages/blob/master/RoadSurfaceSegmentation.ipynb)

ç§å•Šã€‚ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªè¡¨ç°ä¸º:

![](img/2004a99bf04f734392fc0c85dab203d5.png)

æ¥è‡ªä½œè€…

å¥½å¤šäº†ï¼Œå¯¹å§ï¼Ÿ

## ä¸€äº›ç»“æœæ ·æœ¬

ä¸‹å›¾æ˜¯ä¸€äº›ç»“æœã€‚å·¦è¾¹ä¸€æ æ˜¯åŸå§‹å›¾åƒï¼Œä¸­é—´ä¸€æ æ˜¯ GTï¼Œå³è¾¹ä¸€æ æ˜¯ç”¨è¿™ç§æ–¹æ³•å¾—åˆ°çš„ç»“æœã€‚

![](img/9967bbfbc15c48382493a9026ed6e883.png)

æ”¹ç¼–è‡ª[1]

## ç»“æœè§†é¢‘

# è®¨è®º(å¤§å®¶æ¥è¯´è¯´å§)

è¯†åˆ«è·¯é¢çŠ¶å†µåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½å¾ˆé‡è¦ï¼ŒåŸºäºæ­¤ï¼Œè½¦è¾†æˆ–é©¾é©¶å‘˜å¯ä»¥é€‚åº”å¹¶åšå‡ºå†³å®šï¼Œä½¿é©¾é©¶æ›´åŠ å®‰å…¨ã€èˆ’é€‚å’Œé«˜æ•ˆã€‚è¿™ä¸€ç‚¹åœ¨å‘å±•ä¸­å›½å®¶å°¤ä¸ºé‡è¦ï¼Œå› ä¸ºè¿™äº›å›½å®¶å¯èƒ½é¢ä¸´æ›´å¤šçš„é“è·¯ç»´æŠ¤é—®é¢˜ï¼Œæˆ–è€…æœ‰ç›¸å½“æ•°é‡çš„æœªé“ºè®¾é“è·¯ã€‚

è¿™ç§æ–¹æ³•çœ‹èµ·æ¥å¾ˆæœ‰å¸Œæœ›å¤„ç†è·¯é¢å˜åŒ–çš„ç¯å¢ƒã€‚è¿™å¯¹äºå…¬è·¯åˆ†æå’Œå…»æŠ¤éƒ¨é—¨æ¥è¯´ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œä»¥ä¾¿ä½¿ä»–ä»¬åœ¨è¯„ä¼°å…¬è·¯è´¨é‡å’Œç¡®å®šå“ªé‡Œéœ€è¦å…»æŠ¤æ–¹é¢çš„éƒ¨åˆ†å·¥ä½œå®ç°è‡ªåŠ¨åŒ–ã€‚

ç„¶è€Œï¼Œä¸€äº›ç‚¹è¢«ç¡®å®šå’Œåˆ†æä¸ºæœ‰å¾…æ”¹è¿›ã€‚

å¯¹äºåˆ†æ®µ GTï¼Œå°†ä¸€äº›ç±»åˆ«åˆ’åˆ†ä¸ºæ›´å…·ä½“çš„ç±»åˆ«å¯èƒ½ä¼šå¾ˆæœ‰æ„æ€ï¼Œä¾‹å¦‚è£‚ç¼ç±»åˆ«ï¼Œç”¨äºä¸åŒçš„æŸåï¼Œè€Œä¸é“è·¯ç±»å‹æ— å…³ã€‚å› æ­¤æ¯ç§ç±»å‹çš„è¡¨é¢å…·æœ‰ä¸åŒçš„è£‚çº¹ï¼Œå› ä¸ºä¸åŒçš„è¡¨é¢å…·æœ‰ä¸åŒç±»å‹çš„æŸä¼¤ã€‚åŒæ ·æŠŠè¿™ä¸ªèŒä¸šåˆ†æˆä¸åŒçš„èŒä¸šï¼Œåœ¨æ¯ä¸ªæ–°çš„èŒä¸šä¸­å¯¹ä¸åŒçš„ä¼¤å®³è¿›è¡Œåˆ†ç±»ã€‚

ç›®å‰å°±è¿™äº›ã€‚è¯·éšæ—¶è”ç³»æˆ‘ã€‚ğŸ¤˜

# æ‰¿è®¤

è¿™ä¸ªå®éªŒæ˜¯æ¥è‡ª [**LAPiX**](http://www.lapix.ufsc.br/?lang=en) (å›¾åƒå¤„ç†å’Œè®¡ç®—æœºå›¾å½¢å®éªŒå®¤)çš„å…³äºè½¦è¾†å¯¼èˆªè§†è§‰æ„ŸçŸ¥çš„ [**é¡¹ç›®**](http://www.lapix.ufsc.br/pesquisas/projeto-veiculo-autonomo/?lang=en) çš„ä¸€éƒ¨åˆ†ã€‚

å¦‚æœä½ è¦è°ˆè¿™ä¸ª [**æ–¹æ³•**](https://www.researchgate.net/publication/337682194_Road_Surface_Classification_with_Images_Captured_From_Low-cost_Camera_-_Road_Traversing_Knowledge_RTK_Dataset) ï¼Œè¯·å¼•ç”¨ä¸º:

***@ article****{ Rateke:2020 _ 3ï¼Œ* ***ä½œè€…****= { Thiago Rateke and Aldo von Wangenheim }ï¼Œ* ***æ ‡é¢˜*** *= {* è·¯é¢æ£€æµ‹ä¸è€ƒè™‘è·¯é¢ç ´æŸçš„åˆ¤åˆ« *}ï¼Œ* ***CV}ï¼Œ
}***

# å‚è€ƒ

[1] T. Ratekeï¼ŒA. von Wangenheimã€‚ [**è€ƒè™‘è·¯é¢ç ´æŸçš„è·¯é¢æ£€æµ‹ä¸åŒºåˆ†**](https://rdcu.be/cdpxi) ï¼Œ(2020)ï¼Œè‡ªä¸»æœºå™¨äºº(Springer)ã€‚

[2] T. Ratekeã€K. A. Justen å’Œ A. von Wangenheimã€‚ [**ã€åˆ©ç”¨ä½æˆæœ¬æ‘„åƒæœºæ‹æ‘„çš„å›¾åƒè¿›è¡Œè·¯é¢åˆ†ç±»â€”â€”é“è·¯ç©¿è¶ŠçŸ¥è¯†(RTK)æ•°æ®é›†**](https://www.researchgate.net/publication/337682194_Road_Surface_Classification_with_Images_Captured_From_Low-cost_Camera_-_Road_Traversing_Knowledge_RTK_Dataset) ï¼Œ(2019)ï¼Œã€Šå“¥æ–¯è¾¾é»åŠ ä¸åº”ç”¨ä¿¡æ¯æ‚å¿—ã€‹(RITA)ã€‚

[3] J .éœåå¾·ç­‰è‘— [**fastai**](https://www.fast.ai/) (2018)ã€‚[https://github.com/fastai/fastai](https://github.com/fastai/fastai)

[4] O .é¾™å†…è´æ ¼ï¼Œp .è²èˆå°”ï¼Œt .å¸ƒç½—å…‹æ–¯ [**U-net:ç”¨äºç”Ÿç‰©åŒ»å­¦å›¾åƒåˆ†å‰²çš„å·ç§¯ç½‘ç»œ**](https://arxiv.org/abs/1505.04597) ï¼Œ(2015)ï¼ŒNAVABï¼Œn .ç­‰(ç¼–ã€‚).åŒ»å­¦å›¾åƒè®¡ç®—å’Œè®¡ç®—æœºè¾…åŠ©ä»‹å…¥â€” [MICCAI 2015ã€‚æŸ¥å§†:æ–½æ™®æ—æ ¼å›½é™…å‡ºç‰ˆå…¬å¸](https://link.springer.com/chapter/10.1007/978-3-319-24574-4_28)ã€‚

[5] K. He ç­‰è‘—[](https://arxiv.org/abs/1512.03385)****(2016)[IEEE è®¡ç®—æœºè§†è§‰ä¸æ¨¡å¼è¯†åˆ«å¤§ä¼š(CVPR)](https://ieeexplore.ieee.org/document/7780459/authors#authors) ã€‚****

# ****è¯·å‚è§****

****[](/road-surface-classification-150f9874faef) [## è·¯é¢åˆ†ç±»

### ä¸€ç§è·¯é¢ç±»å‹å’Œè´¨é‡åˆ†ç±»æ–¹æ³•

towardsdatascience.com](/road-surface-classification-150f9874faef) [](https://medium.com/analytics-vidhya/visual-depth-estimation-by-two-different-sensors-36f756d1575a) [## ä¸¤ç§ä¸åŒä¼ æ„Ÿå™¨çš„è§†è§‰æ·±åº¦ä¼°è®¡

### æ¥è‡ªè¢«åŠ¨å’Œä¸»åŠ¨è§†è§‰ä½æˆæœ¬ä¼ æ„Ÿå™¨çš„ç«‹ä½“è§†å·®å›¾å’Œç‚¹äº‘

medium.com](https://medium.com/analytics-vidhya/visual-depth-estimation-by-two-different-sensors-36f756d1575a)****