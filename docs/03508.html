<html>
<head>
<title>Introductory guide to KNIME and H2O Integration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">KNIME 和 H2O 集成入门指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introductory-guide-to-knime-and-h2o-integration-cb76c993946f?source=collection_archive---------47-----------------------#2020-04-02">https://towardsdatascience.com/introductory-guide-to-knime-and-h2o-integration-cb76c993946f?source=collection_archive---------47-----------------------#2020-04-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4a3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用引导分析解决业务问题。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/f2bc12b25a3cc1ea1ad92ce833e46c77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*t98bcEr19BX-pW1g"/></div></div><p class="kx ky gj gh gi kz la bd b be z dk translated">斯蒂芬·道森在<a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="e936" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> KNIME </strong>分析平台正在被数据分析和工程团队广泛采用。通过使用<strong class="jp ir">节点</strong>的简单拖放功能，工作流被创建，这形成了自动化的基础。由于易于访问并且是开源的，它在那些不属于编码背景的人中间变得越来越流行，并且仍然可以在 KNIME 的帮助下自动完成任务。</p><p id="208e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它支持数据范围的功能，如数据争论、数据可视化和借助<strong class="jp ir">扩展</strong>的跨平台集成，这意味着如果需要，我们可以将其他语言(Java、R、Python)编写的脚本注入工作流。其中一个方面就是集成<strong class="jp ir"> H2O 的功能。</strong></p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h1 id="0e25" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">什么是 H2O？</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/8eee2cc411153732ffd3f0a5b50ce18b.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*FoTCc826B7Vq-OMrGl3Zow.png"/></div></figure><p id="4204" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> H2O </strong>是一个机器学习平台，支持<em class="mi">线性可伸缩性</em>、<em class="mi">内存处理</em>，帮助支持海量数据集构建可伸缩的 ML 模型。凭借预测分析能力和精通的 ML 算法(如<strong class="jp ir"> XGBOOST </strong>、<strong class="jp ir"> DeepLearning </strong>和<strong class="jp ir"> AutoML、</strong>)的支持，它越来越多地被数据科学界采用。凭借对<strong class="jp ir"> R </strong>、<strong class="jp ir"> Python </strong>以及现在<strong class="jp ir"> KNIME、</strong>的支持，它扩大了自己的知名度。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h1 id="38f2" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated"><strong class="ak">入门</strong></h1><p id="4a76" class="pw-post-body-paragraph jn jo iq jp b jq mj js jt ju mk jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated"><strong class="jp ir"> H2O 框架</strong>隶属于 KNIME 实验室<strong class="jp ir">扩展</strong>。它支持广泛的功能，从转换数据到本地环境，操作操作，预测建模，统计和输出结果模型。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/0882fcb8f3231e97ceab5c8d4241cc23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/1*OO9IzD_YCCUu7e08ekqDWg.gif"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">探索 H2o 扩展</p></figure><blockquote class="mp mq mr"><p id="bcf8" class="jn jo mi jp b jq jr js jt ju jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj kk ij bi translated">L <!-- --> ets 借助它在 IRIS 数据集上构建基于 GBM 的分类器模型，从而理解了这种集成。</p></blockquote></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="1883" class="mv lk iq bd ll mw mx dn lp my mz dp lt jy na nb lx kc nc nd mb kg ne nf mf ng bi translated">步骤 1:创建 H2O 上下文</h2><p id="972c" class="pw-post-body-paragraph jn jo iq jp b jq mj js jt ju mk jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi nh translated"><span class="l ni nj nk bm nl nm nn no np di"> T </span>他<strong class="jp ir"> H2O 上下文</strong>的作用就像实例化器<strong class="jp ir"> </strong>允许我们在本地运行的<strong class="jp ir"> H2O 实例</strong>中创建对象。在它的帮助下，数据表可以转换为 H2O 框架<em class="mi">(H2O 环境中的表)</em>旨在实现基于 H2O 的 ML 模型。</p><p id="53ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">注意:</strong>如果在本地运行，H2O 将与 KNIME 分析平台共享计算资源。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="51f1" class="mv lk iq bd ll mw mx dn lp my mz dp lt jy na nb lx kc nc nd mb kg ne nf mf ng bi translated">步骤 2:导入数据</h2><p id="f2b2" class="pw-post-body-paragraph jn jo iq jp b jq mj js jt ju mk jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">为了利用高速算法，第一步总是将数据导入到“<strong class="jp ir"> H2O 帧”</strong>中的<strong class="jp ir"> H2O 实例</strong>。</p><p id="7d28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是由“<strong class="jp ir"> H2O 表到帧</strong>节点完成的。</p><p id="d6cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该节点期望一个数据输入以及一个<strong class="jp ir"> H2O 上下文</strong>，它只不过是“<strong class="jp ir"> H2O 本地上下文</strong>”节点。同样，反过来也可以使用“<strong class="jp ir"> H2O 框架到表</strong>”来完成，这样就可以将数据流连接到常规的 KNIME 节点。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/b47856c969e2f8e74b78de26b7616be7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*Rujx7MHmZlmD0rtaeW3Reg.gif"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">数据准备</p></figure></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="ad69" class="mv lk iq bd ll mw mx dn lp my mz dp lt jy na nb lx kc nc nd mb kg ne nf mf ng bi translated">步骤 3:构建模型</h2><p id="9176" class="pw-post-body-paragraph jn jo iq jp b jq mj js jt ju mk jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">一旦数据准备完成，我们就可以利用基于问题域的最大似然函数。H2O 支持以下算法:</p><ul class=""><li id="c2a4" class="nr ns iq jp b jq jr ju jv jy nt kc nu kg nv kk nw nx ny nz bi translated"><strong class="jp ir">广义线性模型(GLM) </strong></li><li id="e883" class="nr ns iq jp b jq oa ju ob jy oc kc od kg oe kk nw nx ny nz bi translated"><strong class="jp ir">梯度增压机(GBM) </strong></li><li id="1d29" class="nr ns iq jp b jq oa ju ob jy oc kc od kg oe kk nw nx ny nz bi translated"><strong class="jp ir">朴素贝叶斯，</strong></li><li id="33a2" class="nr ns iq jp b jq oa ju ob jy oc kc od kg oe kk nw nx ny nz bi translated"><strong class="jp ir">随机森林，</strong></li><li id="8340" class="nr ns iq jp b jq oa ju ob jy oc kc od kg oe kk nw nx ny nz bi translated"><strong class="jp ir">主成分分析 PCA 和</strong></li><li id="8678" class="nr ns iq jp b jq oa ju ob jy oc kc od kg oe kk nw nx ny nz bi translated"><strong class="jp ir">K-均值聚类</strong></li></ul><p id="dc33" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了简单起见，让我们考虑<strong class="jp ir">分类</strong>问题，其中我们需要根据其萼片和花瓣特征来识别鸢尾花的种类。</p><p id="d71d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了建立模型，我们将数据分成两部分—在<strong class="jp ir"> <em class="mi"> H2O 划分节点</em>的帮助下训练和测试<strong class="jp ir"> (75:25) </strong>。</strong>同样，我们可以在其配置中指定分区比例和采样类型。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/5f2e310d807e389f2fea95150a7bedbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*mUe4yD24zrfyMfiJ_HZBag.gif"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">数据划分</p></figure><p id="46bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">数据的训练部分被馈送到<strong class="jp ir"> GBM 学习器节点。</strong>我们可以对其进行配置，以改变算法参数，如<em class="mi">树深度</em>、<em class="mi">要构建的模型数量</em>、<em class="mi">学习率</em>以及<em class="mi">特征包含和排除</em>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/6de053cefe7f654015acef5fca478771.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*neFKzcTF0XPJp1-bj_-z7Q.gif"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">模型结构</p></figure></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><p id="c684" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">运行 GBM 模型，并将得到的模型参数馈送到<strong class="jp ir"> <em class="mi"> H2O 预测节点</em>。</strong>该节点获取测试数据并产生结果。它也可以被配置成产生单独的类别概率。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/eaaad7d612c06fef9ad198a5c14b0583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*-PT6q2iPjkz_YjuuEUl__A.gif"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">模型预测法</p></figure></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="50e9" class="mv lk iq bd ll mw mx dn lp my mz dp lt jy na nb lx kc nc nd mb kg ne nf mf ng bi translated">步骤 4:解释结果</h2><p id="87e4" class="pw-post-body-paragraph jn jo iq jp b jq mj js jt ju mk jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">仅仅知道得到的类概率是不够的，借助<strong class="jp ir"> <em class="mi">计分器节点</em> </strong> <em class="mi">混淆矩阵</em>和<em class="mi">准确度统计</em>也可以得到</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/4b508180819e6fa26aee1b28918455a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*I3oYR4LRej6rR1g0yAw7pg.gif"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">结果生成</p></figure></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="a7f2" class="mv lk iq bd ll mw mx dn lp my mz dp lt jy na nb lx kc nc nd mb kg ne nf mf ng bi translated"><strong class="ak">第五步:保存模型</strong></h2><p id="8ee9" class="pw-post-body-paragraph jn jo iq jp b jq mj js jt ju mk jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">模型结果可以保存为<a class="ae lb" href="http://docs.h2o.ai/h2o/latest-stable/h2o-docs/productionizing.html#about-pojo-mojo" rel="noopener ugc nofollow" target="_blank"> <em class="mi"> MOJO 对象</em> </a> <strong class="jp ir"> </strong>，然后可以用于部署。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h1 id="0914" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">结束注释</h1><p id="aed9" class="pw-post-body-paragraph jn jo iq jp b jq mj js jt ju mk jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">由此我们看到，在 KNIME 中为分类模型开发工作流是多么容易。我花了不到 3 - 4 分钟就完成了。</p><p id="0baf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看看他们在这里提供的完整教程系列</p><h2 id="9cb6" class="mv lk iq bd ll mw mx dn lp my mz dp lt jy na nb lx kc nc nd mb kg ne nf mf ng bi translated"><a class="ae lb" href="https://hub.knime.com/knime/spaces/Examples/latest/04_Analytics/15_H2O_Machine_Learning/" rel="noopener ugc nofollow" target="_blank">KNIME _ H2O _ 机器 _ 学习</a></h2><p id="c4d5" class="pw-post-body-paragraph jn jo iq jp b jq mj js jt ju mk jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">我创建的虹膜分类工作流程可以在这里找到:</p><p id="9a7b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lb" href="https://github.com/Gaurav9112/KNIME-Workflow-Examples/tree/master/H2o_KINIME_Integration/GBM%20Classification" rel="noopener ugc nofollow" target="_blank">克尼姆 _ H2O _ 分类</a></p></div></div>    
</body>
</html>