# TensorFlow ä¸­çš„æ€¥åˆ‡æ‰§è¡Œä¸å›¾å½¢æ‰§è¡Œ:å“ªä¸ªæ›´å¥½ï¼Ÿ

> åŸæ–‡ï¼š<https://towardsdatascience.com/eager-execution-vs-graph-execution-which-is-better-38162ea4dbf6?source=collection_archive---------3----------------------->

## [â†Part 1](/beginners-guide-to-tensorflow-2-x-for-deep-learning-applications-c7ebd0dcfbee)|[â†Part 2](/mastering-tensorflow-tensors-in-5-easy-steps-35f21998bb86)|[â†Part 3](/mastering-tensorflow-variables-in-5-easy-step-5ba8062a1756)|æ·±åº¦å­¦ä¹ ç”¨ TENSORFLOW 2ã€‚X â€”ç¬¬ 4 éƒ¨åˆ†

## ä½¿ç”¨ä»£ç ç¤ºä¾‹æ¯”è¾ƒæ€¥åˆ‡æ‰§è¡Œå’Œå›¾å½¢æ‰§è¡Œï¼Œäº†è§£ä½•æ—¶ä½¿ç”¨ä¸¤è€…ä»¥åŠ TensorFlow ä¸ºä½•åˆ‡æ¢åˆ°æ€¥åˆ‡æ‰§è¡Œ|ä½¿ç”¨ TensorFlow 2.x è¿›è¡Œæ·±åº¦å­¦ä¹ 

![](img/3c828ae06d7ed91b7f979729b108a0ab.png)

å›¾ä¸€ã€‚æ€¥åˆ‡æ‰§è¡Œä¸å›¾å½¢æ‰§è¡Œ(å›¾ç”±ä½œè€…æä¾›)

T è¿™æ˜¯ TensorFlow 2.x ç³»åˆ—æ·±åº¦å­¦ä¹ çš„ç¬¬ 4 éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†æ¯”è¾ƒ TensorFlow ä¸­å¯ç”¨çš„ä¸¤ä¸ªæ‰§è¡Œé€‰é¡¹:

> æ€¥åˆ‡æ‰§è¡Œä¸å›¾å½¢æ‰§è¡Œ

ä½ å¯èƒ½æ²¡æœ‰æ³¨æ„åˆ°ï¼Œä½ å®é™…ä¸Šå¯ä»¥åœ¨è¿™ä¸¤è€…ä¸­é€‰æ‹©ä¸€ä¸ªã€‚åŸå› æ˜¯ TensorFlow å°†æ€¥åˆ‡æ‰§è¡Œè®¾ç½®ä¸ºé»˜è®¤é€‰é¡¹ï¼Œé™¤éæ‚¨æƒ³æ‰¾éº»çƒ¦ï¼Œå¦åˆ™å®ƒä¸ä¼šæ‰“æ‰°æ‚¨ğŸ˜€ã€‚ä½†æ˜¯ï¼Œåœ¨ TensorFlow 1.x ç‰ˆæœ¬ä¸­å¹¶éå¦‚æ­¤ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä»€ä¹ˆæ˜¯æ€¥åˆ‡æ‰§è¡Œï¼Œä»¥åŠä¸ºä»€ä¹ˆ TensorFlow åœ¨ TensorFlow 2.0 ä¸­ä»å›¾å½¢æ‰§è¡Œè¿›è¡Œäº†é‡å¤§è½¬å˜ã€‚

![](img/0e21baf4e0817404f4e16c7c1204fc12.png)![](img/5b2e03d2531a5f03f88eb700d9288027.png)

å›¾äºŒã€‚å›¾å½¢æ‰§è¡Œä¸æ€¥åˆ‡æ‰§è¡Œçš„ç±»æ¯”(ç”±[è©¹å§†æ–¯Â·åºå¾·](https://unsplash.com/@jamesponddotco)æ‹æ‘„äº [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral) |ç”± [TVBEATS](https://unsplash.com/@tvbeats?utm_source=medium&utm_medium=referral) æ‹æ‘„äº [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

# æ€¥åˆ‡çš„æ‰§è¡Œ

æ¸´æœ›æ‰§è¡Œæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ‰§è¡Œç¯å¢ƒï¼Œå®ƒå¯ä»¥ç«‹å³è¯„ä¼°æ“ä½œã€‚å®ƒä¸æ„å»ºå›¾å½¢ï¼Œå¹¶ä¸”æ“ä½œè¿”å›å®é™…å€¼ï¼Œè€Œä¸æ˜¯ç¨åè¿è¡Œçš„è®¡ç®—å›¾å½¢ã€‚é€šè¿‡å¿«é€Ÿæ‰§è¡Œï¼ŒTensorFlow è®¡ç®—ä»£ç ä¸­å‡ºç°çš„å¼ é‡å€¼ã€‚

æ€¥åˆ‡æ‰§è¡Œç®€åŒ–äº† TensorFlow ä¸­çš„æ¨¡å‹æ„å»ºä½“éªŒï¼Œæ‚¨å¯ä»¥ç«‹å³çœ‹åˆ° TensorFlow æ“ä½œçš„ç»“æœã€‚ç”±äºæ€¥åˆ‡æ‰§è¡Œç›´è§‚ä¸”æ˜“äºæµ‹è¯•ï¼Œå› æ­¤å¯¹äºåˆå­¦è€…æ¥è¯´æ˜¯ä¸€ä¸ªæå¥½çš„é€‰æ‹©ã€‚çƒ­åˆ‡æ‰§è¡Œä¸ä»…ä½¿è°ƒè¯•æ›´å®¹æ˜“ï¼Œè€Œä¸”è¿˜å‡å°‘äº†å¯¹é‡å¤æ ·æ¿ä»£ç çš„éœ€æ±‚ã€‚æ€¥åˆ‡æ‰§è¡Œä¹Ÿæ˜¯ç ”ç©¶å’Œå®éªŒçš„ä¸€ä¸ªçµæ´»é€‰é¡¹ã€‚å®ƒæä¾›:

*   **å…·æœ‰è‡ªç„¶ Python ä»£ç å’Œæ•°æ®ç»“æ„çš„ç›´è§‚ç•Œé¢**ï¼›
*   **è°ƒè¯•æ›´ç®€å•**ï¼Œç›´æ¥è°ƒç”¨æ“ä½œæ£€æŸ¥æµ‹è¯•æ¨¡å‹ï¼›
*   **è‡ªç„¶æ§åˆ¶æµ**ç”¨ Pythonï¼Œä»£æ›¿å›¾å½¢æ§åˆ¶æµï¼›å’Œ
*   æ”¯æŒ **GPU & TPU åŠ é€Ÿã€‚**

åœ¨æ€¥åˆ‡æ‰§è¡Œä¸­ï¼ŒTensorFlow æ“ä½œç”±åŸç”Ÿ Python ç¯å¢ƒä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ‰§è¡Œã€‚è¿™ä½¿å¾—æ€¥åˆ‡æ‰§è¡Œ(I)æ˜“äºè°ƒè¯•ï¼Œ(ii)ç›´è§‚ï¼Œ(iii)æ˜“äºåŸå‹åŒ–ï¼Œä»¥åŠ(iv)å¯¹åˆå­¦è€…å‹å¥½ã€‚ç”±äºè¿™äº›åŸå› ï¼ŒTensorFlow å›¢é˜Ÿå°†æ€¥åˆ‡æ‰§è¡Œä½œä¸º TensorFlow 2.0 çš„é»˜è®¤é€‰é¡¹ã€‚*ä½†æ˜¯ï¼Œåœ¨æ¥ä¸‹æ¥çš„ç« èŠ‚ä¸­ä¼šæœ‰æ›´å¤šç›¸å…³å†…å®¹â€¦â€¦*

> è®©æˆ‘ä»¬æ¥çœ‹çœ‹å›¾å½¢æ‰§è¡Œã€‚

# å›¾å½¢æ‰§è¡Œ

æˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚ä¸­ä»‹ç»äº†æ€¥åˆ‡æ‰§è¡Œæ˜¯å¤šä¹ˆæœ‰ç”¨å’Œæœ‰ç›Šï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜:

> æ€¥åˆ‡æ‰§è¡Œæ¯”å›¾å½¢æ‰§è¡Œæ…¢ï¼

![](img/3fbc92f82a960d9332a711ffc38b8b18.png)

å›¾ 3ã€‚åœ¨ [Tensorboard](https://www.tensorflow.org/tensorboard) ä¸­çš„æ¨¡å‹ç¤ºä¾‹çš„å›¾å½¢å¯è§†åŒ–(å›¾ç‰‡ç”±ä½œè€…æä¾›)

ç”±äºæ€¥åˆ‡æ‰§è¡Œåœ¨ Python ä¸­é€ä¸ªè¿è¡Œæ‰€æœ‰æ“ä½œï¼Œå› æ­¤å®ƒä¸èƒ½åˆ©ç”¨æ½œåœ¨çš„åŠ é€Ÿæœºä¼šã€‚Graph execution ä» Python ä¸­æå–å¼ é‡è®¡ç®—ï¼Œå¹¶åœ¨è¯„ä¼°ä¹‹å‰æ„å»ºä¸€ä¸ªé«˜æ•ˆçš„*å›¾*ã€‚å›¾å½¢ï¼Œæˆ–è€…è¯´`tf.Graph`å¯¹è±¡ï¼Œæ˜¯å¸¦æœ‰`tf.Operation`å’Œ`tf.Tensor`å¯¹è±¡çš„ç‰¹æ®Šæ•°æ®ç»“æ„ã€‚`tf.Operation`å¯¹è±¡ä»£è¡¨è®¡ç®—å•å…ƒï¼Œ`tf.Tensor`å¯¹è±¡ä»£è¡¨æ•°æ®å•å…ƒã€‚æ— éœ€åŸå§‹ Python ä»£ç å°±å¯ä»¥ä¿å­˜ã€è¿è¡Œå’Œæ¢å¤å›¾å½¢ï¼Œè¿™ä¸ºè·¨å¹³å°åº”ç”¨ç¨‹åºæä¾›äº†é¢å¤–çš„çµæ´»æ€§ã€‚æœ‰äº†å›¾ï¼Œæ‚¨å¯ä»¥åœ¨ Python ä¸å¯ç”¨çš„ç§»åŠ¨ã€åµŒå…¥å¼å’Œåç«¯ç¯å¢ƒä¸­åˆ©ç”¨æ‚¨çš„æ¨¡å‹ã€‚åœ¨æœ¬ç³»åˆ—çš„ç¨åé˜¶æ®µï¼Œæˆ‘ä»¬å°†çœ‹åˆ°ï¼Œæ— è®ºæ‚¨é€‰æ‹©å“ªä¸€ä¸ªæ‰§è¡Œé€‰é¡¹ï¼Œç»è¿‡è®­ç»ƒçš„æ¨¡å‹éƒ½è¢«ä¿å­˜ä¸ºå›¾å½¢ã€‚

å›¾è¡¨å¾ˆå®¹æ˜“ä¼˜åŒ–ã€‚å®ƒä»¬å…è®¸ç¼–è¯‘å™¨çº§åˆ«çš„è½¬æ¢ï¼Œä¾‹å¦‚å…·æœ‰å¸¸æ•°æŠ˜å çš„å¼ é‡å€¼çš„ç»Ÿè®¡æ¨æ–­ï¼Œåœ¨çº¿ç¨‹å’Œè®¾å¤‡ä¹‹é—´åˆ†å¸ƒæ“ä½œçš„å­éƒ¨åˆ†(é«˜çº§çº§åˆ«åˆ†å¸ƒ)ï¼Œå¹¶ç®€åŒ–ç®—æœ¯è¿ç®—ã€‚[æŠ“é’©](https://www.tensorflow.org/guide/graph_optimization)æ‰§è¡Œè¿™äº›æ•´ä½“ä¼˜åŒ–æ“ä½œã€‚åœ¨å›¾å½¢æ‰§è¡Œä¸­ï¼Œåªæœ‰åœ¨æˆ‘ä»¬å®Œå…¨è°ƒç”¨äº†ç¨‹åºä¹‹åï¼Œæ‰ä¼šå¯¹æ‰€æœ‰æ“ä½œè¿›è¡Œè¯„ä¼°ã€‚å› æ­¤ï¼Œæ€»è€Œè¨€ä¹‹ï¼Œå›¾å½¢æ‰§è¡Œæ˜¯:

*   **éå¸¸å¿«**ï¼›
*   **éå¸¸çµæ´»**ï¼›
*   **ä¸**å¹¶è¡Œè¿è¡Œï¼Œå³ä½¿åœ¨å­æ“ä½œå±‚é¢ï¼›å’Œ
*   **éå¸¸é«˜æ•ˆ**ï¼Œé€‚ç”¨äºå¤šç§è®¾å¤‡
*   æ‹¥æœ‰ **GPU & TPU åŠ é€Ÿ**èƒ½åŠ›ã€‚

å› æ­¤ï¼Œå°½ç®¡éš¾ä»¥å­¦ä¹ ã€éš¾ä»¥æµ‹è¯•ä¸”ä¸ç›´è§‚ï¼Œå›¾å½¢æ‰§è¡Œå¯¹äºå¤§å‹æ¨¡å‹è®­ç»ƒæ¥è¯´æ˜¯ç†æƒ³çš„ã€‚å¯¹äºå°å‹æ¨¡å‹åŸ¹è®­ã€åˆå­¦è€…å’Œä¸€èˆ¬å¼€å‘äººå‘˜æ¥è¯´ï¼Œæ€¥åˆ‡æ‰§è¡Œæ›´é€‚åˆã€‚

å—¯ï¼Œè€ƒè™‘åˆ°æ€¥åˆ‡æ‰§è¡Œæ˜“äºæ„å»ºå’Œæµ‹è¯•ï¼Œè€Œå›¾å½¢æ‰§è¡Œé«˜æ•ˆè€Œå¿«é€Ÿï¼Œæ‚¨ä¼šå¸Œæœ›ç”¨æ€¥åˆ‡æ‰§è¡Œæ¥æ„å»ºï¼Œç”¨å›¾å½¢æ‰§è¡Œæ¥è¿è¡Œï¼Œå¯¹å—ï¼Ÿå¥½å§ï¼Œæˆ‘ä»¬ä¼šè°ˆåˆ°é‚£ä¸ªâ€¦

> å¯»æ‰¾ä¸¤å…¨å…¶ç¾çš„ä¸–ç•Œï¼Ÿä¸€ä¸ªå¿«é€Ÿä½†æ˜“äºæ„å»ºçš„é€‰é¡¹ï¼Ÿç»§ç»­è¯»:)

åœ¨æ·±å…¥ä»£ç ç¤ºä¾‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥è®¨è®ºä¸€ä¸‹ä¸ºä»€ä¹ˆ TensorFlow åœ¨ TensorFlow 2.0 ä¸­ä»å›¾å½¢æ‰§è¡Œåˆ‡æ¢åˆ°æ€¥åˆ‡æ‰§è¡Œã€‚

# TensorFlow ä¸ºä»€ä¹ˆé‡‡ç”¨æ€¥åˆ‡æ‰§è¡Œï¼Ÿ

åœ¨ 2.0 ç‰ˆæœ¬ä¹‹å‰ï¼ŒTensorFlow ä¼˜å…ˆè€ƒè™‘å›¾å½¢æ‰§è¡Œï¼Œå› ä¸ºå®ƒå¿«é€Ÿã€é«˜æ•ˆä¸”çµæ´»ã€‚å¯¹äºç»éªŒä¸°å¯Œçš„ç¨‹åºå‘˜æ¥è¯´ï¼Œå®ç°çš„éš¾åº¦åªæ˜¯ä¸€ç§æƒè¡¡ã€‚å¦ä¸€æ–¹é¢ï¼Œ [PyTorch](http://pytorch.org) é‡‡ç”¨äº†ä¸€ç§ä¸åŒçš„æ–¹æ³•ï¼Œå¹¶å¯¹åŠ¨æ€è®¡ç®—å›¾è¿›è¡Œäº†ä¼˜å…ˆçº§æ’åºï¼Œè¿™æ˜¯ä¸€ä¸ªç±»ä¼¼äºæ€¥åˆ‡æ‰§è¡Œçš„æ¦‚å¿µã€‚å°½ç®¡åŠ¨æ€è®¡ç®—å›¾ä¸å¦‚ TensorFlow å›¾æ‰§è¡Œæ•ˆç‡é«˜ï¼Œä½†å®ƒä»¬ä¸ºæ–°ä¸€æ³¢ç ”ç©¶äººå‘˜å’Œäººå·¥æ™ºèƒ½ç¨‹åºå‘˜æä¾›äº†ä¸€ä¸ªç®€å•è€Œç›´è§‚çš„ç•Œé¢ã€‚é»˜è®¤æ‰§è¡Œç­–ç•¥çš„è¿™ç§å·®å¼‚ä½¿å¾— PyTorch å¯¹æ–°æ¥è€…æ›´æœ‰å¸å¼•åŠ›ã€‚å¾ˆå¿«ï¼ŒPyTorch è™½ç„¶æ˜¯åæ¥è€…ï¼Œå´å¼€å§‹è¿½èµ¶ TensorFlowã€‚

![](img/df991262517dc4cf1d84bebbd73d6447.png)

å›¾ 4ã€‚TensorFlow vs. PyTorch è°·æ­Œæœç´¢ç»“æœç”±[è°·æ­Œè¶‹åŠ¿](https://trends.google.com/trends/explore?date=today%205-y&q=%2Fg%2F11bwp1s2k3,%2Fg%2F11gd3905v1)(å›¾ç”±ä½œè€…æä¾›)

åœ¨çœ‹åˆ° PyTorch è¶Šæ¥è¶Šå—æ¬¢è¿åï¼ŒTensorFlow å›¢é˜Ÿå¾ˆå¿«æ„è¯†åˆ°ä»–ä»¬å¿…é¡»ä¼˜å…ˆè€ƒè™‘æ€¥åˆ‡æ‰§è¡Œã€‚å› æ­¤ï¼Œä»–ä»¬é‡‡ç”¨äº†æ€¥åˆ‡æ‰§è¡Œä½œä¸ºé»˜è®¤çš„æ‰§è¡Œæ–¹å¼ï¼Œè€Œå›¾å½¢æ‰§è¡Œæ˜¯å¯é€‰çš„ã€‚è¿™å°±å¥½æ¯”ï¼ŒPyTorch å°†åŠ¨æ€è®¡ç®—å›¾è®¾ç½®ä¸ºé»˜è®¤çš„æ‰§è¡Œæ–¹æ³•ï¼Œä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨é™æ€è®¡ç®—å›¾æ¥æé«˜æ•ˆç‡ã€‚

ç”±äºç°åœ¨ TensorFlow å’Œ PyTorch éƒ½é‡‡ç”¨äº†åˆå­¦è€…å‹å¥½çš„æ‰§è¡Œæ–¹æ³•ï¼ŒPyTorch å¤±å»äº†å¯¹åˆå­¦è€…çš„ç«äº‰ä¼˜åŠ¿ã€‚ç›®å‰ï¼Œç”±äºå…¶æˆç†Ÿæ€§ï¼ŒTensorFlow å æ®ä¸Šé£ã€‚ç„¶è€Œï¼Œæ¯«æ— ç–‘é—®ï¼ŒPyTorch ä¹Ÿæ˜¯æ„å»ºå’Œè®­ç»ƒæ·±åº¦å­¦ä¹ æ¨¡å‹çš„ä¸€ä¸ªå¾ˆå¥½çš„æ›¿ä»£æ–¹æ¡ˆã€‚é€‰æ‹©æƒåœ¨ä½ â€¦

# ç”¨æ¸´æœ›ç¼–ç ï¼Œç”¨å›¾å½¢æ‰§è¡Œ

åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨åŸºæœ¬ä»£ç ç¤ºä¾‹æ¯”è¾ƒæ€¥åˆ‡æ‰§è¡Œå’Œå›¾å½¢æ‰§è¡Œã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†æœ‰æ„é¿å…æ„å»ºå¤æ‚çš„æ¨¡å‹ã€‚ä½†æ˜¯ï¼Œåœ¨æœ¬ç³»åˆ—æ¥ä¸‹æ¥çš„éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æ›´å¤æ‚çš„æ¨¡å‹æ¥æ¯”è¾ƒè¿™äº›æ‰§è¡Œæ–¹æ³•ã€‚

æˆ‘ä»¬å·²ç»æåˆ° TensorFlow ä¼˜å…ˆè€ƒè™‘æ€¥åˆ‡æ‰§è¡Œã€‚ä½†è¿™è¿˜ä¸æ˜¯å…¨éƒ¨ã€‚ç°åœ¨ï¼Œæ‚¨å®é™…ä¸Šå¯ä»¥åƒæ€¥åˆ‡æ‰§è¡Œä¸€æ ·æ„å»ºæ¨¡å‹ï¼Œç„¶åç”¨å›¾å½¢æ‰§è¡Œæ¥è¿è¡Œå®ƒã€‚TensorFlow 1.x éœ€è¦ç”¨æˆ·æ‰‹åŠ¨åˆ›å»ºå›¾è¡¨ã€‚ç„¶åé€šè¿‡å°†ä¸€ç»„è¾“å‡ºå¼ é‡å’Œè¾“å…¥å¼ é‡ä¼ é€’ç»™ä¸€ä¸ª`session.run()`è°ƒç”¨æ¥æ‰‹åŠ¨ç¼–è¯‘è¿™äº›å›¾å½¢ã€‚ä½†æ˜¯ï¼Œåœ¨ TensorFlow 2.0 ä¸­ï¼Œå›¾å½¢æ„å»ºå’Œä¼šè¯è°ƒç”¨è¢«ç®€åŒ–ä¸ºå®ç°ç»†èŠ‚ã€‚è¿™ç§ç®€åŒ–æ˜¯é€šè¿‡ç”¨`tf.function()`è£…é¥°è€…ä»£æ›¿`session.run()`æ¥å®ç°çš„ã€‚åœ¨ TensorFlow 2.0 ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`tf.function()`æ¥ä¿®é¥° Python å‡½æ•°ï¼Œä½¿å…¶ä½œä¸ºå•ä¸ª graph å¯¹è±¡è¿è¡Œã€‚ä½¿ç”¨è¿™ç§æ–°æ–¹æ³•ï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°æ„å»ºæ¨¡å‹ï¼Œå¹¶è·å¾—å›¾å½¢æ‰§è¡Œçš„æ‰€æœ‰å¥½å¤„ã€‚

# ä»£ç ç¤ºä¾‹

è¿™ç¯‡æ–‡ç« å°†é€šè¿‡å‡ ä¸ªåŸºæœ¬çš„ä¾‹å­å’Œä¸€ä¸ªå®Œæ•´çš„è™šæ‹Ÿæ¨¡å‹æ¥æµ‹è¯• eager å’Œ graph çš„æ‰§è¡Œã€‚è¯·æ³¨æ„ï¼Œç”±äºè¿™æ˜¯ä¸€ç¯‡ä»‹ç»æ€§çš„å¸–å­ï¼Œæˆ‘ä»¬ç°åœ¨ä¸ä¼šæ·±å…¥åˆ°ä¸€ä¸ªå®Œæ•´çš„åŸºå‡†æµ‹è¯•åˆ†æ*ã€‚*

## *åŸºæœ¬ç¤ºä¾‹*

*æˆ‘ä»¬å°†ä»ä¸¤ä¸ªåˆå§‹å¯¼å…¥å¼€å§‹:*

```
*[**timeit**](https://docs.python.org/2/library/timeit.html) is a Python module which provides a simple way to time small bits of Python and it will be useful to compare the performances of eager execution and graph execution.*
```

*è¦è¿è¡Œä¸€ä¸ªçƒ­åˆ‡æ‰§è¡Œçš„ä»£ç ï¼Œæˆ‘ä»¬ä¸éœ€è¦åšä»€ä¹ˆç‰¹åˆ«çš„äº‹æƒ…ï¼›æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œä¼ é€’ä¸€ä¸ª`tf.Tensor`å¯¹è±¡ï¼Œç„¶åè¿è¡Œä»£ç ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º`eager_function`çš„å‡½æ•°æ¥è®¡ç®—å¼ é‡å€¼çš„å¹³æ–¹ã€‚ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª`tf.Tensor`å¯¹è±¡ï¼Œæœ€åè°ƒç”¨æˆ‘ä»¬åˆ›å»ºçš„å‡½æ•°ã€‚æˆ‘ä»¬çš„ä»£ç ä»¥æ€¥åˆ‡çš„æ‰§è¡Œæ–¹å¼æ‰§è¡Œ:*

```
***Output:** tf.Tensor([ 1\.  4\.  9\. 16\. 25.], shape=(5,), dtype=float32)*
```

*è®©æˆ‘ä»¬é¦–å…ˆçœ‹çœ‹å¦‚ä½•ç”¨å›¾å½¢æ‰§è¡Œæ¥è¿è¡Œç›¸åŒçš„å‡½æ•°ã€‚*

```
***Output:** Tensor("pow:0", shape=(5,), dtype=float32)*
```

*é€šè¿‡ç”¨`tf.function()`å‡½æ•°åŒ…è£…æˆ‘ä»¬çš„`eager_function`ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç”¨å›¾å½¢æ‰§è¡Œæ¥è¿è¡Œæˆ‘ä»¬çš„ä»£ç ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„`timeit`æ¥æ¯”è¾ƒè¿™ä¸¤ç§æ–¹æ³•çš„æ‰§è¡Œæ—¶é—´:*

```
*Output:
Eager time: 0.0008830739998302306
Graph time: 0.0012101310003345134*
```

*å¦‚æ‚¨æ‰€è§ï¼Œå›¾å½¢æ‰§è¡ŒèŠ±è´¹äº†æ›´å¤šçš„æ—¶é—´ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå—¯ï¼Œå¯¹äºç®€å•çš„æ“ä½œï¼Œå›¾å½¢æ‰§è¡Œçš„è¡¨ç°å¹¶ä¸å¥½ï¼Œå› ä¸ºå®ƒå¿…é¡»èŠ±è´¹åˆå§‹è®¡ç®—èƒ½åŠ›æ¥æ„å»ºä¸€ä¸ªå›¾å½¢ã€‚æˆ‘ä»¬çœ‹åˆ°äº†å›¾å½¢æ‰§è¡Œåœ¨å¤æ‚è®¡ç®—ä¸­çš„å¨åŠ›ã€‚å¦‚æœæˆ‘è¿è¡Œä»£ç  100 æ¬¡(é€šè¿‡æ›´æ”¹ number å‚æ•°)ï¼Œç»“æœä¼šå‘ç”Ÿå·¨å¤§çš„å˜åŒ–(*ä¸»è¦æ˜¯ç”±äºæœ¬ä¾‹ä¸­çš„ print è¯­å¥*):*

```
*Output:
Eager time: 0.06957343100020807 
Graph time: 0.02631650599960267*
```

## *å…¨æ¨¡å‹è¯•éªŒ*

*æ—¢ç„¶æ‚¨å·²ç»ä»‹ç»äº†åŸºæœ¬çš„ä»£ç ç¤ºä¾‹ï¼Œé‚£ä¹ˆè®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªè™šæ‹Ÿç¥ç»ç½‘ç»œæ¥æ¯”è¾ƒ eager å’Œ graph æ‰§è¡Œçš„æ€§èƒ½ã€‚æˆ‘ä»¬å°†:*

*1-ä½¿ TensorFlow å¯¼å…¥ä½¿ç”¨æ‰€éœ€çš„æ¨¡å—ï¼›*

*2 â€”å»ºç«‹åŸºæœ¬å‰é¦ˆç¥ç»ç½‘ç»œï¼›*

*3 â€”åˆ›å»ºä¸€ä¸ªéšæœºçš„`Input`å¯¹è±¡ï¼›*

*4 â€”ä»¥çƒ­åˆ‡çš„æ‰§è¡Œæ¥è¿è¡Œæ¨¡å‹ï¼›*

*5-ç”¨`tf.function()`åŒ…è£…æ¨¡å‹ï¼Œç”¨å›¾å½¢æ‰§è¡Œè¿è¡Œå®ƒã€‚*

```
*If you are new to TensorFlow, donâ€™t worry about how we are building the model. We will cover this in detail in the upcoming parts of this Series.*
```

*ä»¥ä¸‹ä»£ç è¡Œæ‰§è¡Œæ‰€æœ‰è¿™äº›æ“ä½œ:*

```
*Output:
Eager time: 27.14511264399971
Graph time: 17.878579870000067*
```

*æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬çš„å›¾å½¢æ‰§è¡Œæ¯”æ€¥åˆ‡æ‰§è¡Œå¤šäº† 40%å·¦å³ã€‚åœ¨æ›´å¤æ‚çš„æ¨¡å‹è®­ç»ƒæ“ä½œä¸­ï¼Œè¿™ä¸ªä½™é‡è¦å¤§å¾—å¤šã€‚*

# *æœ€ç»ˆæ³¨é‡Š*

*åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æ¯”è¾ƒäº†æ€¥åˆ‡æ‰§è¡Œå’Œå›¾å½¢æ‰§è¡Œã€‚è™½ç„¶æ€¥åˆ‡æ‰§è¡Œæ˜“äºä½¿ç”¨ä¸”ç›´è§‚ï¼Œä½†å›¾å½¢æ‰§è¡Œæ›´å¿«ã€æ›´çµæ´»ã€æ›´å¥å£®ã€‚å› æ­¤ï¼Œå¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œä½¿ç”¨ç¼ºçœé€‰é¡¹â€œæ€¥åˆ‡æ‰§è¡Œâ€æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚ç„¶è€Œï¼Œå¦‚æœä½ æƒ³åˆ©ç”¨çµæ´»æ€§å’Œé€Ÿåº¦ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªç»éªŒä¸°å¯Œçš„ç¨‹åºå‘˜ï¼Œé‚£ä¹ˆå›¾å½¢æ‰§è¡Œæ˜¯é€‚åˆä½ çš„ã€‚å¦ä¸€æ–¹é¢ï¼Œç”±äº TensorFlow çš„æœ€æ–°æ”¹è¿›ï¼Œä½¿ç”¨å›¾å½¢æ‰§è¡Œå˜å¾—æ›´åŠ ç®€å•ã€‚å› æ­¤ï¼Œæ‚¨ç”šè‡³å¯ä»¥çªç ´è‡ªå·±çš„æé™æ¥å°è¯•å›¾å½¢æ‰§è¡Œã€‚ä½†æ˜¯ï¼Œè¯·ç¡®ä¿æ‚¨çŸ¥é“åœ¨å›¾å½¢æ‰§è¡Œä¸­è°ƒè¯•ä¹Ÿæ›´åŠ å›°éš¾ã€‚*

*ä¸Šé¢çš„ä»£ç ç¤ºä¾‹å‘æˆ‘ä»¬å±•ç¤ºäº†å¯¹ç®€å•çš„ç¤ºä¾‹åº”ç”¨å›¾å½¢æ‰§è¡Œæ˜¯å¾ˆå®¹æ˜“çš„ã€‚å¯¹äºæ›´å¤æ‚çš„æ¨¡å‹ï¼Œå›¾å½¢æ‰§è¡Œä¼šå¸¦æ¥ä¸€äº›é¢å¤–çš„å·¥ä½œè´Ÿè½½ã€‚*

```
*Note that when you wrap your model with tf.function(), you cannot use several model functions like model.compile() and model.fit() because they already try to build a graph automatically. But we will cover those examples in a different and more advanced level post of this series.*
```

# *æ­å–œ*

*æˆ‘ä»¬å·²ç»æˆåŠŸåœ°æ¯”è¾ƒäº†æ€¥åˆ‡æ‰§è¡Œå’Œå›¾å½¢æ‰§è¡Œã€‚*

> *ç»™è‡ªå·±ä¸€ä¸ªé¼“åŠ±ï¼*

*è¿™åº”è¯¥ä¼šç»™ä½ å¾ˆå¤§çš„ä¿¡å¿ƒï¼Œå› ä¸ºä½ ç°åœ¨å¯¹æ€¥åˆ‡æ‰§è¡Œã€å›¾å½¢æ‰§è¡Œä»¥åŠä½¿ç”¨è¿™äº›æ‰§è¡Œæ–¹æ³•çš„åˆ©å¼Šæœ‰äº†æ›´å¤šçš„äº†è§£ã€‚*

# *è®¢é˜…é‚®ä»¶åˆ—è¡¨è·å–å®Œæ•´ä»£ç *

*å¦‚æœä½ æƒ³è·å¾— Google Colab çš„å…¨éƒ¨ä»£ç å’Œæˆ‘çš„å…¶ä»–æœ€æ–°å†…å®¹ï¼Œå¯ä»¥è€ƒè™‘è®¢é˜…é‚®ä»¶åˆ—è¡¨ã€‚*

> *[ç°åœ¨å°±è®¢é˜…](http://eepurl.com/hd6Xfv)*

**å¦‚æœä½ æ­£åœ¨é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ç¡®ä¿¡æˆ‘ä»¬æœ‰ç€ç›¸ä¼¼çš„å…´è¶£ï¼Œå¹¶ä¸”ç°åœ¨/å°†æ¥ä¼šä»äº‹ç›¸ä¼¼çš„è¡Œä¸šã€‚é‚£ä¹ˆæˆ‘ä»¬å°±é€šè¿‡*[*Linkedin*](https://linkedin.com/in/orhangaziyalcin/)*æ¥è¿çº¿å§ï¼è¯·ä¸è¦çŠ¹è±«å‘é€è”ç³»è¯·æ±‚ï¼*[*Orhan g . Yal nâ€”Linkedin*](https://linkedin.com/in/orhangaziyalcin/)*

*å¦‚æœæ‚¨åˆšåˆšå¼€å§‹ä½¿ç”¨ TensorFlowï¼Œè¯·è€ƒè™‘ä»æœ¬æ•™ç¨‹ç³»åˆ—çš„ç¬¬ 1 éƒ¨åˆ†å¼€å§‹:*

*[](/beginners-guide-to-tensorflow-2-x-for-deep-learning-applications-c7ebd0dcfbee) [## æ·±åº¦å­¦ä¹ åº”ç”¨ TensorFlow 2.x åˆå­¦è€…æŒ‡å—

### äº†è§£ TensorFlow å¹³å°ä»¥åŠå®ƒèƒ½ä¸ºæœºå™¨å­¦ä¹ ä¸“å®¶æä¾›ä»€ä¹ˆ

towardsdatascience.com](/beginners-guide-to-tensorflow-2-x-for-deep-learning-applications-c7ebd0dcfbee) 

æˆ–[æ£€æŸ¥ç¬¬äºŒéƒ¨åˆ†](/mastering-tensorflow-tensors-in-5-easy-steps-35f21998bb86):

[](/mastering-tensorflow-tensors-in-5-easy-steps-35f21998bb86) [## é€šè¿‡ 5 ä¸ªç®€å•çš„æ­¥éª¤æŒæ¡ TensorFlow å¼ é‡

### æ¢ç´¢ TensorFlow çš„æ„å»ºæ¨¡å—å¦‚ä½•åœ¨è¾ƒä½çš„çº§åˆ«å·¥ä½œï¼Œå¹¶å­¦ä¹ å¦‚ä½•å……åˆ†åˆ©ç”¨å¼ é‡â€¦

towardsdatascience.com](/mastering-tensorflow-tensors-in-5-easy-steps-35f21998bb86) 

æˆ–è€…[æ£€æŸ¥ç¬¬ 3 éƒ¨åˆ†](/mastering-tensorflow-variables-in-5-easy-step-5ba8062a1756):

[](/mastering-tensorflow-variables-in-5-easy-step-5ba8062a1756) [## ç”¨ 5 ä¸ªç®€å•çš„æ­¥éª¤æŒæ¡ TensorFlowâ€œå˜é‡â€

### äº†è§£å¦‚ä½•ä½¿ç”¨å¼ é‡æµå˜é‡ï¼Œå®ƒä»¬ä¸æ™®é€šå¼ é‡å¯¹è±¡çš„åŒºåˆ«ï¼Œä»¥åŠå®ƒä»¬ä½•æ—¶ä¼˜äºâ€¦

towardsdatascience.com](/mastering-tensorflow-variables-in-5-easy-step-5ba8062a1756)*