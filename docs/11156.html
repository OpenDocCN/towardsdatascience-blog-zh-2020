<html>
<head>
<title>An easy guide to “The hardest data science tournament on the planet”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">“地球上最难的数据科学锦标赛”的简单指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-guide-to-the-hardest-data-science-tournament-on-the-planet-748f46e83690?source=collection_archive---------21-----------------------#2020-08-03">https://towardsdatascience.com/a-guide-to-the-hardest-data-science-tournament-on-the-planet-748f46e83690?source=collection_archive---------21-----------------------#2020-08-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7e51" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">好玩的数据科学？为了加密？为什么不两者都要？😀</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b754c8e1470af34537a9cedda7396160.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_1Fm8fmIxF8LcPaX6eoHXQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:<a class="ae kv" href="https://medium.com/numerai/numeraire-the-cryptocurrency-powering-the-world-hedge-fund-5674b7dd73fe" rel="noopener">数字博客</a></p></figure><p id="7ca4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="ls">更新</em></strong><em class="ls">—2020 年 12 月 01 日:笔记本已根据新目标“Nomi”更新。目标名称现在是“目标”，而不是“目标一杉”</em></p><p id="8048" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="ls">更新</em></strong><em class="ls">—2021 年 9 月:本笔记本使用的数据集现为旧版。一个新的超级海量数据集现已上线。只要稍加修改，代码仍然可以使用。</em></p><h1 id="d44f" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">告诉我密码:</h1><p id="2af1" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">确保你已经在<a class="ae kv" href="https://numer.ai/" rel="noopener ugc nofollow" target="_blank">number . ai</a>上<a class="ae kv" href="https://numer.ai/signup" rel="noopener ugc nofollow" target="_blank">注册了</a>，因为你需要设置你的 API 密匙来直接从 colab 提交。</p><div class="mq mr gp gr ms mt"><a href="https://colab.research.google.com/drive/1un9sQF5063VQ1UH13elYM269ZeYxHKFw?usp=sharing" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">谷歌联合实验室</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">第一次数字投稿指南</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">colab.research.google.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh kp mt"/></div></div></a></div><p id="3488" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">💡<strong class="ky ir">数字锦标赛问题</strong></p><p id="a253" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://numer.ai" rel="noopener ugc nofollow" target="_blank">数字</a>数据科学问题就像一个典型的<strong class="ky ir">监督</strong>机器学习问题，其中数据有几个输入<strong class="ky ir">特征</strong>和相应的<strong class="ky ir">标签</strong>(或<strong class="ky ir">目标</strong>)。我们的目标是使用各种技术学习从输入到目标的映射。我们通常将数据分成<strong class="ky ir">训练</strong>和<strong class="ky ir">验证</strong>两部分。而且大部分时间都花在清理数据上。</p><div class="kg kh ki kj gt ab cb"><figure class="ni kk nj nk nl nm nn paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/b50fd24dac44515775ea296fbffed3e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1460/format:webp/1*awWfUTBSisw_FRjukcaY4w.png"/></div></figure><figure class="ni kk no nk nl nm nn paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/f7d36288a163ed4137b05a831abd1ba1.png" data-original-src="https://miro.medium.com/v2/resize:fit:542/format:webp/1*CUmOWVseXrmvzT3aNqgULA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk np di nq nr translated">左图:训练数据样本。右图:样本提交</p></figure></div><p id="923e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，数字数据是不同的。这是一个预测股票市场的问题，但它的独特之处在于数据被<strong class="ky ir">混淆</strong>并且已经被<strong class="ky ir">清洗</strong>！我们不知道哪一行对应哪一只股票。此外，每一行都被分成代表不同时间点的<strong class="ky ir">时代</strong>，但是只要它有结构，我们当然可以尝试从中学习和绘制模式。</p><p id="d3c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Numerai 将这些经过清理的数据交给数据科学家，并要求他们为这些数据提供更好的估计。这些<strong class="ky ir">众包</strong>预测被用来建立一个元模型，并投资于世界各地的真实股票市场。奖励是基于你预测的质量和你的核磁共振赌注的数量。如果你的预测有助于获利，你就可以获得一定比例的股份，否则，你的股份就会被烧掉。这个赚/烧系统不断激励更好和独特的预测。因此，预测越准确和/或独特，回报越高。这就是它有趣和复杂的地方(最难的数据科学问题)。</p><p id="2a42" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们在<a class="ae kv" href="https://colab.research.google.com" rel="noopener ugc nofollow" target="_blank"> Google Colab </a>上解决这个问题。使用简单但非常好的技术— <strong class="ky ir"> CatBoost </strong>的端到端走查。我将在这里解释 colab 片段。如果您在与此平行的新标签中打开<a class="ae kv" href="https://colab.research.google.com/drive/1un9sQF5063VQ1UH13elYM269ZeYxHKFw?usp=sharing" rel="noopener ugc nofollow" target="_blank">笔记本</a>链接，将会非常有帮助。</p><h1 id="e1e9" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">管道➿</h1><ol class=""><li id="e994" class="ns nt iq ky b kz ml lc mm lf nu lj nv ln nw lr nx ny nz oa bi translated">加载数据集(以及您将需要的一些操作)</li><li id="7577" class="ns nt iq ky b kz ob lc oc lf od lj oe ln of lr nx ny nz oa bi translated">定义模型</li><li id="dea1" class="ns nt iq ky b kz ob lc oc lf od lj oe ln of lr nx ny nz oa bi translated">训练模特</li><li id="d3e3" class="ns nt iq ky b kz ob lc oc lf od lj oe ln of lr nx ny nz oa bi translated">验证<br/> 4.1 调整一些东西(回到步骤 1)</li><li id="b9b2" class="ns nt iq ky b kz ob lc oc lf od lj oe ln of lr nx ny nz oa bi translated">预测并提交<br/> 5.1 观察 4 周以上的表现</li></ol><h1 id="b356" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">设置 Colab</h1><p id="e5fc" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们需要切换运行时来使用 GPU，方法是转到</p><p id="b169" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe og oh oi oj b">Runtime -&gt; Change runtime type -&gt; GPU -&gt; Save</code></p><p id="0fcb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://colab.research.google.com/drive/1un9sQF5063VQ1UH13elYM269ZeYxHKFw?usp=sharing" rel="noopener ugc nofollow" target="_blank"> Colab </a>预装了如此多的数据科学库。我们需要安装<code class="fe og oh oi oj b">CatBoost</code>和<code class="fe og oh oi oj b">numerapi</code>。</p><p id="42b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将在 colab 中设置您的管道，并使其足够灵活，以便在那里执行实验并使用 API 键提交预测。因此，一旦设置好按键并完成模型，您只需按下 colab 上的<code class="fe og oh oi oj b">Run all</code>即可。</p><p id="4b0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，确保你已经打开了这篇文章旁边的笔记本。</p><h1 id="53d1" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">加载数据📊</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用 numerapi 下载数据并加载到内存中</p></figure><p id="8395" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">锦标赛数据已经包含验证集(val1 和<a class="ae kv" href="https://forum.numer.ai/t/validation-2-announcement/166" rel="noopener ugc nofollow" target="_blank"> val2 </a>)。我们通常评估我们的模型对这个子集的预测，目标是在看不见的数据上表现良好。</p><h1 id="88a1" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">定义和训练模型🤖⚙️</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">定义和训练模型</p></figure><p id="8df2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这可能是您进行大部分观察和调优的地方。您应该尝试其他类型的建模算法。</p><h1 id="f5ab" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">做出和评估预测📐</h1><p id="0139" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">不要被这里这么多的代码弄得不知所措。这主要是帮助评估预测的样板代码。你可能不需要改变太多。然而，一旦你对锦标赛感到满意，你可能会想要<a class="ae kv" href="https://forum.numer.ai/t/more-metrics-for-ya/636" rel="noopener ugc nofollow" target="_blank">添加更多的指标</a>以获得更好的评估。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">预测和验证</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/1566862e36b2b0ea4adcab45ce0e8239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zLaml68HPMZFNCC2HXb8gQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">训练和验证集的评估结果</p></figure><p id="0d10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦你认为你的预测满足了你的目标，你可以使用你的秘钥在<code class="fe og oh oi oj b">numerapi</code>的帮助下保存并上传它们。</p><h1 id="97cc" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">提交预测📤</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/8573abb10153baa8965662b8994c1a7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:260/format:webp/1*d5zlkQkEsb1F8mHtuopLdg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">右上角的设置菜单</p></figure><p id="e9d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然您可以手动上传<code class="fe og oh oi oj b">predictions.csv </code>，但我们将使用 API 来轻松提交。Numerai 允许你为不同的目的创建密钥，但是我们只为上传预测创建密钥。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/d6aaa07925762b57b0a018f70994a365.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HOhqFqa-4DAFLgq9GioQxA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">用于创建密钥的自动化选项</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/c3b41dab01e61c4d8cc4e178b6eefb5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*fmnwG9pAvV5p24F6FWeXIg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">不同用途的关键选项</p></figure><p id="556c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要创建新的密钥，请转到</p><p id="4917" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe og oh oi oj b">Settings -&gt; Create API key -&gt; select "Upload Predictions" -&gt; Save</code></p><p id="0822" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">系统会提示您将密钥保存到安全的地方。</p><p id="37fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是提交预测的示例关键字。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/d13a4ef5bdd5249c13b45cc71bdfd39e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*d-mTVy6AmlYA2mQ2kbhlpQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">提交预测的示例关键字</p></figure><p id="4ce1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个账号可以有 10 个型号。所以，在保持你的表现良好的模型不变的情况下，请随意试验新的技术。您可以使用<code class="fe og oh oi oj b">numerapi</code>提交不同模型的预测。您可以在“设置”上方的“选项”中看到您的型号列表。你只需要复制<code class="fe og oh oi oj b">model_id</code>并粘贴在这里。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/c45a322e1618fd9c53a7bde04db685a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R2P0M7oEVTjxud-nqhZFDA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">获取模型密钥</p></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">提交预测</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/76538f407db0f4d24f7a333f92f3c0fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/format:webp/1*3pb7M7utM21d3RXnhjx5KA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">我的一个模型的统计，不是这个。</p></figure><p id="916c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上传预测后，您将看到一些关于您提交的指标和信息。</p><p id="be20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从我的经验来看，在锦标赛中启动和运行需要几个提交。一旦你建立了你的工作流程，你需要做的就是在 Google colab 中按下<code class="fe og oh oi oj b">Run all</code>。</p><pre class="kg kh ki kj gt ot oj ou ov aw ow bi"><span id="1117" class="ox lu iq oj b gy oy oz l pa pb">Your predictions will be tested on live data and given scores,</span><span id="3a43" class="ox lu iq oj b gy pc oz l pa pb"><a class="ae kv" href="https://docs.numer.ai/tournament/learn#scoring" rel="noopener ugc nofollow" target="_blank">CORR</a>: Correlation between your predictions and live data<br/><a class="ae kv" href="https://docs.numer.ai/tournament/metamodel-contribution" rel="noopener ugc nofollow" target="_blank">Meta Model Contribution(MMC)</a>: <em class="ls">An advanced staking option which incentivizes models that are unique in addition to high performing</em></span><span id="ca0c" class="ox lu iq oj b gy pc oz l pa pb">You can <a class="ae kv" href="https://docs.numer.ai/tournament/staking-and-payouts" rel="noopener ugc nofollow" target="_blank">stake</a> your NMR on either CORR or CORR+MMC.</span></pre><h1 id="321e" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">下一步是什么？💭</h1><p id="b5d7" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">你可以做几件事来提高你的表现。你也会因为你预测的独特性而得到报酬。</p><ol class=""><li id="10fb" class="ns nt iq ky b kz la lc ld lf pd lj pe ln pf lr nx ny nz oa bi translated">玩弄数据</li><li id="e935" class="ns nt iq ky b kz ob lc oc lf od lj oe ln of lr nx ny nz oa bi translated">调整模型参数</li><li id="04b6" class="ns nt iq ky b kz ob lc oc lf od lj oe ln of lr nx ny nz oa bi translated">变更模型架构</li><li id="9c8e" class="ns nt iq ky b kz ob lc oc lf od lj oe ln of lr nx ny nz oa bi translated">在<a class="ae kv" href="https://community.numer.ai/" rel="noopener ugc nofollow" target="_blank"> RocketChat </a>或<a class="ae kv" href="https://forum.numer.ai/" rel="noopener ugc nofollow" target="_blank">论坛</a>上提问</li><li id="ddb5" class="ns nt iq ky b kz ob lc oc lf od lj oe ln of lr nx ny nz oa bi translated">加入每周办公时间——详情请访问 RocketChat</li></ol></div></div>    
</body>
</html>