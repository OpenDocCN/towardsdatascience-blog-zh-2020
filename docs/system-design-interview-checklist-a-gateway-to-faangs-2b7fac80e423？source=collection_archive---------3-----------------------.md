# 系统设计面试清单——通向 FAANGs 的大门

> 原文：<https://towardsdatascience.com/system-design-interview-checklist-a-gateway-to-faangs-2b7fac80e423?source=collection_archive---------3----------------------->

## 这是我进行系统设计面试的策略，它帮助我解决了一大堆问题。你也可以试试！

通常，系统设计面试是冗长的，并涵盖了许多复杂的组件。这使得我们很容易迷失在小事情中，错过大的画面。因此，以这样一种方式组织你的面试变得非常重要，这样你就可以轻松地传达整个画面，而不会浪费时间在任何没有附加值的事情上。

下面是我遵循的结构，你也可以尝试。

![](img/22b276ae6d75afc6f9f343dd16c9153d.png)

格伦·卡斯滕斯-彼得斯在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

## 推动面试

确保你是主导面试的人，而不是你的面试官。这并不意味着你不让他们说话，而是说，你应该是说话最多的人，在面试官指出你的设计中的问题之前主动提出来，处理面试官可能会戳到你的问题等等。

## FRs 和 NFRs

清楚地说出功能性和非功能性需求。目的是需求应该足够大，使问题具有挑战性，也足够有限，以便您可以在规定的时间内构建满足这些需求的系统。从非功能方面来说，试着做一个大规模工作的系统。设计一个在低规模下工作的系统有什么乐趣？
在最终确定财务报告和非财务报告之前，让你的面试官看一下，确保他们不想添加/删除某些东西。有时候，面试官确实有一些他们想要查看的特定用例。

## 容量估计

问问你的面试官他们是否想了解这一点。许多人更愿意跳过计算，更多地关注设计，假设所需的内核数量或所需的磁盘数量等有足够大的近似值。

## 计划

基于 FRs 和 NFRs，想出这些东西:

1.  用户互动点。
2.  每个用户交互点的延迟/可用性/一致性要求。
3.  快速分析，判断是重读交互还是重写交互。
4.  基于以上三点，想出您需要的所有服务，以及您可以使用哪种数据库来存储这些服务各自拥有的数据。

## 肝豆状核变性

提供一个高级组件图，包括以下内容:

1.  所有服务都有哪些？确保将流程划分为多个功能组件，看看基于微服务的方法是否有意义。通常，在 SD 访谈中使用基于微服务的方法是一个好主意。
2.  服务之间是如何相互作用的，什么样的协议用于服务间的通信，如 Async/Sync-Rest、RPC 等？
3.  用户将如何与整个系统交互，以及所有服务面向用户。您是否需要缓存来减少延迟？
4.  哪个服务使用哪个数据库，为什么？[您可以参考此视频，它可以帮助您根据您的使用案例选择合适的数据库](https://youtu.be/cODCpXtPHbQ)
5.  看看你是否需要在任何地方缓存，如果需要，那么驱逐策略是什么，你是否需要密钥过期，它应该是一个直写缓存等？
6.  在所有这些分析的基础上，画出整个系统的高层次图。

## 必备

您的高级图表应该包括以下关键内容:

1.  负载平衡器
2.  服务
3.  数据库和缓存
4.  用户交互点
5.  任何其他工具，如消息队列、CDN 等。

## 浏览设计

一旦你准备好了整个图表，仔细检查整个设计，一次一个用例，向你的面试官解释你的设计。谈谈你为什么在这里选择了一个特定的数据库，为什么使用了一种特定的通信模式，比如同步/异步等。如果你做了一个特别的设计选择，你也可以进入一个 RPC vs HTTP 类型的对话。你应该检查你的数据库中使用的是哪种数据复制策略，例如，你是使用主-从还是多主设置等。

如果这听起来有点吓人，你可以看看我通常是如何在这个视频中进行设计演练的。

**警告**:除非面试官要求，否则不要马上谈论 API、数据库模式等细节。大多数人在这一点上迷失在为一个系统设计 API 的过程中，并在以后耗尽时间。

**印象分:**大多数面试没有关于分析的 FRs 和 NFRs，但是如果你的设计涵盖了这一点或者为分析留下了足够好的范围，那么你的解决方案会提升很多。试着补充一下。[比如你可以看看这个](https://youtu.be/EpASu_1dUdE)。

## 履行

一旦你向面试官解释了整个流程，问他们想详细讨论哪个部分。通常，人们不想详细检查整个系统。让他们决定哪一个是他们想要深入研究的组件，然后您可以检查该特定系统的实现细节。
这里你应该涵盖的内容有:

1.  **API**—调出该系统公开的 API。确保您使用的是这里的最佳实践。例如，不要使用 URL 为*GET/user/getUserbyUserId*的 GET API，最好使用:*GET**/user/{ id }*
2.  **API 协议** —您可以涵盖您在哪些协议上公开 API。大多数人选择 REST APIs，但是你可以根据你的用例决定使用更有效的东西，比如 Thrift，Protobuf 等等。
3.  **事件** —您可以调用这个特定服务监听哪些事件、谁产生了那个事件、什么有效负载进来、在那个事件上发生了什么处理等等。
4.  **数据库模式:**在这里查看数据库模式。如果您在之前讨论高级设计时没有回顾 SQL 与 NoSQL 的争论，或者您为什么选择特定的数据库。如果是 SQL，一定要谈谈你会有什么索引，以及你如何优化你的查询。在 NoSQL 的情况下，请确保您仔细检查了数据库提供的一致性保证，它是否会导致任何问题以及您将在该数据库上运行的查询类型。清楚地调出键值存储的键或列存储的分区键等。

## 处理墨菲定律

这是大多数人跳过的，但这是你必须涵盖的最重要的事情之一，它涉及到你的系统有多大的弹性。在现实世界中，事情会发生变化，当它们发生时，你需要确保你能完全控制你的系统。

谈谈你是如何监控系统的。您有什么样的警报机制？你的 KPI(关键绩效指标)是什么，你如何跟踪它们？当发生故障时，当您的服务崩溃时，当您的数据库主节点宕机时，甚至当您的一个数据中心宕机时，会发生什么？

同样，如果你以前没有这样做过，看看我是怎么做的，在这个视频的后半部分。

这是我的清单，当我试图设计任何系统时，无论是在面试中还是在现实世界中，我通常都会遵循它。

这是系统设计，如果你想看看我是如何破解谷歌、脸书、亚马逊等公司的，看看我的总体准备策略:

[](https://medium.com/@sandeep.1904/how-did-i-crack-a-bunch-of-faangs-and-how-you-could-do-it-too-d824cfc6b974) [## 我是如何破解谷歌、脸书、亚马逊的采访的，你又是如何做到的！

### 我正在分享我的策略，来破解我申请的几乎所有软件工程面试，包括 FAANG…

medium.com](https://medium.com/@sandeep.1904/how-did-i-crack-a-bunch-of-faangs-and-how-you-could-do-it-too-d824cfc6b974) 

希望这有所帮助！