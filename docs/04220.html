<html>
<head>
<title>Generate Your Sample Dataset — A Must Have Skill For Data Scientists.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">生成样本数据集—数据科学家的必备技能。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/generate-your-sample-dataset-a-must-have-skill-for-data-scientists-36ded8600b79?source=collection_archive---------9-----------------------#2020-04-17">https://towardsdatascience.com/generate-your-sample-dataset-a-must-have-skill-for-data-scientists-36ded8600b79?source=collection_archive---------9-----------------------#2020-04-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="28c9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">制作powerpoint幻灯片和从理论上谈论你将如何处理数据是一回事。但创建一个样本数据集并展示一个已经在工作的仪表板、可视化或数据模型是另一回事。虽然可以在互联网上找到许多样本数据集，但它们通常并不完全符合您的需求。因此，在本文结束时，您将知道如何为您的特定目的创建一个漂亮的样本CSV数据集。一旦在Jupyter笔记本中设置了代码，您就可以反复使用它。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/dc1998f87abdd7305bd7ec547e0ab75f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sVDQ3xMkyoIpZrNB14Ebdw.png"/></div></div></figure><h2 id="d3b7" class="lb lc it bd ld le lf dn lg lh li dp lj kb lk ll lm kf ln lo lp kj lq lr ls lt bi translated">我们将如何生成样本数据集？</h2><p id="db68" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">作为最终结果，一个样本CSV数据集与各种变量，如数字，货币，日期，名称和字符串，是可取的。这些变量有不同的类型，彼此独立或相关。首先，理解我们如何使用基本的“随机”函数来生成样本数据集是至关重要的。之后，我们将在一个数据框中组合变量。出于我们的目的，数据帧将最终导出为CSV格式。CSV是一种非常容易与各种工具连接的格式，足以用于采样目的。</p><h2 id="d306" class="lb lc it bd ld le lf dn lg lh li dp lj kb lk ll lm kf ln lo lp kj lq lr ls lt bi translated">我们使用的工具</h2><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi lz"><img src="../Images/ca2698ede709bf41bb32889d3121127a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3sKLfoqQzQ8KZ5Mu0_ECeA.png"/></div></div><p class="ma mb gj gh gi mc md bd b be z dk translated">创建样本数据集的工具。</p></figure><p id="003a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好的方面是，我们主要需要访问python，使用它的一些库和工具。首先，我们使用Jupyter Notebook，这是一个用于实时编码的开源应用程序，它允许我们用代码讲述一个故事。在我们的例子中，它简化了修改的过程，并且以后只使用很少的代码元素。此外，我们使用NumPy，尤其是NumPy的随机函数来生成我们的变量。虽然这是一种选择，但是一个非常方便的名为pydbgen的库可以帮助我们加速样本数据集的生成。此外，我们导入了<a class="ae me" href="http://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank">熊猫</a>，这将我们的数据放在一个易于使用的结构中，用于数据分析和数据转换。</p><h1 id="75d4" class="mf lc it bd ld mg mh mi lg mj mk ml lj mm mn mo lm mp mq mr lp ms mt mu ls mv bi translated">随机数据的基本函数</h1><ol class=""><li id="69b5" class="mw mx it js b jt lu jx lv kb my kf mz kj na kn nb nc nd ne bi translated"><strong class="js iu">“随机”模块<br/> </strong>用Python创建随机数用的最多的模块大概就是random.random()函数的random模块了。当导入模块并调用函数时，将生成一个介于0.0和1.0之间的浮点数，如下面的代码所示。</li></ol><pre class="kq kr ks kt gt nf ng nh ni aw nj bi"><span id="244e" class="lb lc it ng b gy nk nl l nm nn">&gt;&gt;&gt;import random</span><span id="0a0c" class="lb lc it ng b gy no nl l nm nn">&gt;&gt;&gt;random.random()<br/>0.18215964678315466</span></pre><p id="96fd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">此外，还有设置种子的选项。这使我们能够复制代码中生成的随机数。</p><pre class="kq kr ks kt gt nf ng nh ni aw nj bi"><span id="bebf" class="lb lc it ng b gy nk nl l nm nn">&gt;&gt;&gt; random.seed(123)<br/>&gt;&gt;&gt; random.random()<br/>0.052363598850944326</span><span id="75ed" class="lb lc it ng b gy no nl l nm nn">&gt;&gt;&gt; random.seed(123)<br/>&gt;&gt;&gt; random.random()<br/>0.052363598850944326</span></pre><p id="c4ef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您想为浮点数或整数考虑一个特定的范围，您可以如下定义函数的参数。</p><pre class="kq kr ks kt gt nf ng nh ni aw nj bi"><span id="a7fa" class="lb lc it ng b gy nk nl l nm nn">&gt;&gt;&gt; random.randint(10,100)<br/>21</span><span id="73e0" class="lb lc it ng b gy no nl l nm nn">&gt;&gt;&gt; random.uniform(10,100)<br/>79.20607497283636</span></pre><p id="9b63" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 2。日期<br/> </strong>在熟悉random方法的同时，我们现在可以应用这些知识在我们的样本数据集中创建随机日期。</p><pre class="kq kr ks kt gt nf ng nh ni aw nj bi"><span id="93d5" class="lb lc it ng b gy nk nl l nm nn">&gt;&gt;&gt; import numpy as np</span><span id="96c2" class="lb lc it ng b gy no nl l nm nn">&gt;&gt;&gt; monthly_days = np.arange(0, 30)<br/>&gt;&gt;&gt; base_date = np.datetime64('2020-01-01')<br/>&gt;&gt;&gt; random_date = base_date + np.random.choice(monthly_days)</span><span id="e2fa" class="lb lc it ng b gy no nl l nm nn">&gt;&gt;&gt; print(random_date)<br/>2020-01-07</span></pre><p id="fd26" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有无数的变化来调整这段代码。将月天数范围更改为双月或每年。当然，基准日期应该符合您的要求。</p><p id="712c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 3。字符串<br/> </strong>当我们的样本数据集有了随机数和日期后，是时候看看字符串了。当查看下面的randomString函数时，变量“letters”包含小写的整个字母表。在“随机”方法的帮助下，一个随机数被创建并分配给letter。就这么简单！</p><pre class="kq kr ks kt gt nf ng nh ni aw nj bi"><span id="7e85" class="lb lc it ng b gy nk nl l nm nn">import random<br/>import string</span><span id="6e4b" class="lb lc it ng b gy no nl l nm nn">def randomString(stringLength=15):<br/>    letters = string.ascii_lowercase<br/>    return ''.join(random.choice(letters) for i in range(stringLength))</span><span id="0544" class="lb lc it ng b gy no nl l nm nn">print ("The generated string is", randomString())</span><span id="7234" class="lb lc it ng b gy no nl l nm nn">The generated string is celwcujpdcdppzx</span></pre><p id="e6ca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 4。名字<br/> </strong>虽然我们的样本数据集以前是基于随机方法的，但是仅仅通过随机地把东西放在一起是不可能生成有意义的表达式的。因此，我们使用<a class="ae me" href="https://pypi.org/project/names/" rel="noopener ugc nofollow" target="_blank"> PyPi </a>上可用的<a class="ae me" href="https://github.com/treyhunner/names" rel="noopener ugc nofollow" target="_blank">名称</a>包。这个包非常方便，提供了各种选项，如下面的代码片段所示。</p><pre class="kq kr ks kt gt nf ng nh ni aw nj bi"><span id="850e" class="lb lc it ng b gy nk nl l nm nn">&gt;&gt;&gt; import names<br/>&gt;&gt;&gt; names.get_full_name()<br/>‘Margaret Wigfield’</span><span id="1cb9" class="lb lc it ng b gy no nl l nm nn">&gt;&gt;&gt; names.get_first_name(gender='female')<br/>'Patricia'</span></pre><p id="b490" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 5。地点、电话号码、地址或文本<br/> </strong>在简短介绍了随机化的原则后用“random”作为基本方法，可能值得注意的是，有完整的软件包可以满足您的大部分需求。通过pip安装很简单，你可以在Github库上找到所有需要的信息。有两个非常有用的方法绝对值得一提:</p><ul class=""><li id="6350" class="mw mx it js b jt ju jx jy kb np kf nq kj nr kn ns nc nd ne bi translated"><a class="ae me" href="https://github.com/joke2k/faker" rel="noopener ugc nofollow" target="_blank">骗子</a></li><li id="440a" class="mw mx it js b jt nt jx nu kb nv kf nw kj nx kn ns nc nd ne bi translated"><a class="ae me" href="https://github.com/tirthajyoti/pydbgen" rel="noopener ugc nofollow" target="_blank"> pydbgen </a>(对某些数据类型部分使用Faker)</li></ul><p id="9eb1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 6。机器学习的样本数据怎么样<br/> </strong>当涉及到机器学习问题时，这项工作并不是通过生成任何随机数据来完成的。大多数情况下，您希望样本数据集的变量/特征之间存在某种关联或关系。Scikit让你在几秒钟内创建这样的数据集。看看下面的示例代码:</p><pre class="kq kr ks kt gt nf ng nh ni aw nj bi"><span id="7640" class="lb lc it ng b gy nk nl l nm nn">import pandas as pd<br/>from sklearn.datasets import make_regression</span><span id="74fa" class="lb lc it ng b gy no nl l nm nn"># Generate fetures, outputs, and true coefficient of 100 samples<br/>features, output, coef = make_regression(n_samples = 100,<br/>                                         # three features<br/>                                         n_features = 3,<br/>                                         # two features are useful,<br/>                                         n_informative = 2,<br/>                                         # one target<br/>                                         n_targets = 1,<br/>                                         # 0.0 standard deviation<br/>                                         noise = 0.0,<br/>                                         # show the true coefficient <br/>                                         coef = True)</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ny"><img src="../Images/8678271e9fe96b179f7e8628bb3c822e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eDjjauCuPgGIQtoH.png"/></div></div></figure><pre class="kq kr ks kt gt nf ng nh ni aw nj bi"><span id="fe3f" class="lb lc it ng b gy nk nl l nm nn"># View the features of the first 10 rows<br/>pd.DataFrame(features, columns=['Customer A', 'Customer B', 'Customer C']).head(10)</span><span id="55f3" class="lb lc it ng b gy no nl l nm nn"># View the output of the first 10 rows<br/>pd.DataFrame(output, columns=['Sales']).head(10)</span><span id="ed37" class="lb lc it ng b gy no nl l nm nn"># View the actual, true coefficients used to generate the data<br/>pd.DataFrame(coef, columns=['Coefficient Values'])</span></pre><h1 id="cb77" class="mf lc it bd ld mg mh mi lg mj mk ml lj mm mn mo lm mp mq mr lp ms mt mu ls mv bi translated">生成并导出您的CSV样本数据集</h1><p id="6337" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">在探索、试验和生成我们的样本数据集之后，我们最终想要导出并使用它们。虽然文件格式没有限制，但由于我们没有大量的数据，并且希望将数据集插入到各种工具中，因此简单的CSV文件非常方便。但是首先必须创建一个数据帧。</p><pre class="kq kr ks kt gt nf ng nh ni aw nj bi"><span id="9fc0" class="lb lc it ng b gy nk nl l nm nn">import pandas as pd<br/>import numpy as np<br/>import random</span><span id="4751" class="lb lc it ng b gy no nl l nm nn">#using numpy's randint<br/>df = pd.DataFrame(np.random.randint(0,100,size=(15, 4)), columns=list('ABCD'))</span><span id="c7f0" class="lb lc it ng b gy no nl l nm nn"># create a new column <br/>df['AminusB'] = df['A'] - (0.1 * df['B'])<br/>df['names'] = 'Laura'</span><span id="39ed" class="lb lc it ng b gy no nl l nm nn">df.head(5)</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/86e84cd94480175db442cee1047b83d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*-JfAaNfaWPlNdLV4WkdkvA.png"/></div></figure><p id="d985" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然我们已经生成了一些随机的相关和不相关的数字，但是每行中的名称列是相同的。为了获得随机名称，我们必须对行进行迭代，并使用我们的随机名称生成器。</p><pre class="kq kr ks kt gt nf ng nh ni aw nj bi"><span id="d2bb" class="lb lc it ng b gy nk nl l nm nn">import names</span><span id="7b16" class="lb lc it ng b gy no nl l nm nn">for index, row in df.iterrows():<br/>      df.at[index,'names'] = names.get_first_name(gender='female')<br/>    <br/>df.head(5)</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi oa"><img src="../Images/84846568a2d5f47b165c373c988cf5e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*N9Lr3923aSbrA9iwdgw-9g.png"/></div></div></figure><p id="abf0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请注意，您可以使用任何其他包或方法来创建示例CSV数据集，而不是名称。没有任何限制。现在，让我们将其导出为CSV格式，我们可以开始了。</p><pre class="kq kr ks kt gt nf ng nh ni aw nj bi"><span id="d580" class="lb lc it ng b gy nk nl l nm nn">#Export to csv</span><span id="7cd5" class="lb lc it ng b gy no nl l nm nn">export_csv = df.to_csv (r'/Users/SampleDataset.csv', header=True) </span><span id="d5c6" class="lb lc it ng b gy no nl l nm nn">#Don't forget to add '.csv' at the end of the path</span></pre><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="e0e8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你成功了——祝贺你！现在，更令人兴奋的部分开始了，您可以开始处理您生成的CSV样本数据集。祝你好运。</p><p id="49ca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi">**************************************************************</p><p id="827a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可能也喜欢阅读的文章:</p><p id="59b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae me" rel="noopener" target="_blank" href="/predictive-maintenance-machine-learning-vs-rule-based-algorithms-cb48414df448">预测性维护:机器学习vs基于规则</a></p><p id="4a46" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae me" rel="noopener" target="_blank" href="/hands-on-customer-segmentation-9aeed83f5763">动手:客户细分</a></p><p id="9dcb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae me" rel="noopener" target="_blank" href="/hands-on-setup-your-data-environment-with-docker-dca629607148">设置您的数据环境</a></p><p id="6af6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae me" rel="noopener" target="_blank" href="/misleading-with-data-statistics-c6d506bdb9cf">数据误导&amp;统计</a></p><p id="d918" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae me" rel="noopener" target="_blank" href="/hands-on-predict-customer-churn-5c2a42806266">了解如何预测客户流失</a></p><p id="e184" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi">***************************************************************</p></div></div>    
</body>
</html>