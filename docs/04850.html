<html>
<head>
<title>Much To Learn, You Still Have</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你还有很多要学的</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/much-to-learn-you-still-have-42d1439e6162?source=collection_archive---------67-----------------------#2020-04-27">https://towardsdatascience.com/much-to-learn-you-still-have-42d1439e6162?source=collection_archive---------67-----------------------#2020-04-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/bff8e383ba5884e0347bcb755ad0dd30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n59IJNKdCg3NgJBumoBjYQ.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">来源:维基百科</p></figure><div class=""/><div class=""><h2 id="65b6" class="pw-subtitle-paragraph kf jh ji bd b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dk translated">我从数据科学优秀竞争的前5%参与者身上学到的三个教训。</h2></div><p id="b569" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">本周末是2015年尼泊尔大地震五周年纪念日，那次地震造成约9000人死亡。死亡人数如此之高的部分原因是，该国近2/3的人住在用泥土、石头、砂浆或木材建造的房子里，而不是钢筋混凝土——这在大多数发达国家是常态。</p><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lt"><img src="../Images/466cd71e597e1b01c6083f6f00cae894.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y_5TTLtCPb1BgIvW7SKh2A.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">资料来源:驱动数据，尼泊尔统计局，加德满都生活实验室</p></figure><p id="d663" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">这些数字来自尼泊尔统计局和加德满都生活实验室汇编的近30万个家庭的数据集，显然是有史以来收集的最大的灾后数据集之一。驱动数据公司(<a class="ae ly" href="https://www.drivendata.org/" rel="noopener ugc nofollow" target="_blank">https://www.drivendata.org/</a>)是一家组织类似Kaggle的比赛的公司，致力于利用数据科学产生社会影响，该公司已经将数据集作为比赛的一部分。该任务是一个多类分类问题(评估指标= F1分),根据几个特征(位置、结构、使用等)预测房屋的脆弱性(每栋房屋，1-3级，3级为完全破坏)。)</p><p id="f0c8" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">我决定在比赛中试试我的数据科学知识(到目前为止),因为地震发生时我在国外，远离遭受事故的朋友和家人，所以这样做是为了减少对当时未能提供帮助的愧疚感(如果这还不够清楚的话，我是尼泊尔人)。</p><p id="c4a0" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">这篇文章是我学到的三个关键数据科学相关课程的大杂烩，因为我最终成为了比赛中(到目前为止)前5%的参与者。我只关注了建模部分，并使用了相当多的技术术语，假设如果你正在阅读这篇文章，你对这个行业很熟悉，知道探索性数据分析的重要性，或者例如什么是f1分数。</p><p id="9f5a" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><strong class="kz jj">第一课:建立基线</strong></p><p id="23f0" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">当你开始做模特的时候，你做的第一件事是什么？如果你像我一样，你已经花了很多时间探索数据，创建或选择你认为重要的特征，所以你在你的模型中使用这些特征。这就是我在学校学到的，所以这就是我在比赛中所做的。</p><p id="6bad" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">问题是，当我使用我创建的功能时，我使用LightGBM模型得到了0.6832的F1分数，这比Driven Data的基准0.58(使用随机森林)要好，但远远低于竞争对手0.7558的分数。我知道我甚至不是一个优秀的数据科学家，但我甚至不在排名的前一半！</p><p id="d0a5" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">在尝试了一堆不同的特征选择方法(PCA，Chi2)之后，由于纯粹的挫败感，我干脆扔进了整个数据集(没有任何特征工程或选择)。令我惊讶的是，我的测试分数是0.7452，使我进入了分数的前四分之一。</p><p id="64f0" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">因此，我学到的第一课是无意中意识到，如果我简单地通过使用提供的数据集建立了一个基线模型，我将为自己节省许多无济于事的切片和切块的精神折磨。</p><p id="7b79" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><strong class="kz jj">第二课:承认你的领域知识有限</strong></p><p id="6c33" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">未篡改数据集给出的分数让我思考为什么我的特征创建和选择不起作用。我的特征不仅是不相关的，因为LGBM自己做特征选择，我主动加入了偏见。简单地说，我的特征积极地使分数变得更糟。</p><p id="4882" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">这让我开始思考为什么我投入到这些功能中的所有工作都没有带来任何结果。我了解地震吗？不。我了解建筑吗？不。那是什么让我觉得我可以创造特色呢？我被一个有锤子问题的人折磨着…</p><p id="f0fd" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">…让我解释一下。如果我给你一个包含建筑物高度和面积的数据集(大多数情况下是一个矩形)，你能创建什么特征？如果你像我一样天真，你会计算体积，因为a)你知道它在数学上是合理的，所以你对自己说“我在组合特征，所以它一定有一些相关性”和b)使用你所知道的感觉很好。</p><p id="42d7" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">自然地，仅仅因为你知道某件事在数学上是正确的，它并不像变魔术般地与问题相关。数学是世界背后的基础，但控制形状的数学不一定是控制形状如何随着构造板块的运动而变化的数学(另一种数学现象)。</p><p id="ef64" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">我学到的第二个教训是，在进入任何数据科学项目之前，一个人应该诚实地面对自己对问题领域了解多少。如果时间不是一个因素，那么我们都应该在着手解决问题之前努力去了解这个领域，如果是，在工作中不要试图把我们以前的(可能有偏见的)知识强加给这个问题，要知道结果不会像了解问题领域的人的结果那样准确。</p><p id="4536" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><strong class="kz jj">第三课:考虑挤出最后一滴准确性的后果</strong></p><p id="1652" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">作为数据科学家，或者更一般地说，作为人类，我们受到必须解决某些问题的时间的限制。您可能正在构建一个推荐引擎，就像您还必须准备一个客户流失模型一样。你如何决定什么样的准确度或roc或其他指标对你的客户流失模型来说足够好，这样你就可以转向你的推荐引擎了？</p><p id="2971" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">对于Kaggle或Driven Data这样的竞争，原则上，答案很简单——排名最好的那个。为了便于讨论，让我们认为那是真的。在比赛中给我最高分的过程是这样的:</p><ul class=""><li id="9658" class="lz ma ji kz b la lb ld le lg mb lk mc lo md ls me mf mg mh bi translated">将3类预测问题分成3个二元问题，例如，如果目标标签是3(最高伤害),则为1，如果不是，则为0。</li><li id="aa1f" class="lz ma ji kz b la mi ld mj lg mk lk ml lo mm ls me mf mg mh bi translated">将每个二进制数据集划分为给定的30个地理区域，知道一些区域(靠近震中)在地震中总是遭受更多的破坏。因此，如果我想预测地理位置17中房屋x的潜在损害，我需要一个专门针对该地区的模型。</li><li id="e2d1" class="lz ma ji kz b la mi ld mj lg mk lk ml lo mm ls me mf mg mh bi translated">因为每个地理模型被分成3类，所以我有3 * 30 = 90个不同的模型。对于这90个模型中的每一个，都优化了超参数。</li><li id="a2ce" class="lz ma ji kz b la mi ld mj lg mk lk ml lo mm ls me mf mg mh bi translated">对于最终预测，我根据预测最大概率的模型选择了类。因此，对于房屋x，如果类别1的模型预测相应的概率为0%，而模型2预测为30%，模型3预测为70%，则选择的类别为3。</li></ul><p id="9616" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">做了这么多工作，我最终站在了这里:</p><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/57d58aaa9ae032262b89cf214ef0c185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*2hYZQEnjilMAA7kH9iakrg.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">来源:驱动数据个人主页</p></figure><p id="2090" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">我设法以低于领先者0.0087的分数进入竞争对手的前5%。将0.0087视为我的模型相对于leader模型的预期误差。由于测试集中有86，868个家庭，这意味着我的模型平均不到1%的时间会出现分类错误(与领先模型相比)。</p><p id="638e" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">所以，我问你，这是一个好成绩吗？你可能会说是的，但我不敢苟同，原因如下:根据数据集，由于一个中等家庭至少有一个家庭住在里面，我的模型基本上会使756个家庭的生活面临风险！现在可以接受了吗？一百万年后也不会。</p><p id="1dee" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">我的观点是，在这种情况下，0.0087的分数差异会危及756个家庭的生命，在这种情况下，最后一点准确性非常重要。现在考虑一下，如果问题不是预测房屋，而是预测货币收益。当做出价值86，868美元的预测时，平均损失756美元可以接受吗？我会这么说。</p><p id="df10" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">我学到的最后一课是永远考虑追求最后一点准确性的后果。更好的是，考虑后果而不是绝对分数来定义你的模型是否好。</p><p id="746f" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">如果你有类似的经验想要分享，请在评论中留下。</p><p id="f1a9" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">对于感兴趣的人，这里有关于驱动数据的比赛链接:<br/><a class="ae ly" href="https://www.drivendata.org/competitions/57/nepal-earthquake/page/134/" rel="noopener ugc nofollow" target="_blank">https://www . Driven Data . org/competitions/57/Nepal-seismic/page/134/</a></p></div></div>    
</body>
</html>