<html>
<head>
<title>Exploring the Trump Twitter Archive with NLTK</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 NLTK 探索 Trump Twitter 档案</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/exploring-the-trump-twitter-archive-6242e5100a74?source=collection_archive---------39-----------------------#2020-06-05">https://towardsdatascience.com/exploring-the-trump-twitter-archive-6242e5100a74?source=collection_archive---------39-----------------------#2020-06-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="5412" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/exploring-trump" rel="noopener" target="_blank">探索特朗普</a></h2><div class=""/><div class=""><h2 id="afa3" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">适合喜欢冒险的 NLP 初学者。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/bba65ee74098fc02eda9a81d83a32185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SsYQzBAhOZE-zs1yqmJ3sg.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com/@nicolasthomas?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">尼古拉斯·托马斯</a>在<a class="ae lh" href="https://unsplash.com/s/photos/dark-phone?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="92cb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="me">在本帖中，我们将探索由</em> <a class="ae lh" href="http://www.trumptwitterarchive.com/archive" rel="noopener ugc nofollow" target="_blank"> <em class="me">特朗普推特档案</em> </a> <em class="me">提供的数据集。这是</em> <a class="ae lh" href="https://towardsdatascience.com/tagged/exploring-trump" rel="noopener" target="_blank"> <em class="me">探索王牌</em> </a> <em class="me">系列的一部分。</em></p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="de51" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">对于这个项目，我们将使用 pandas 和 numpy 进行数据操作，使用 matplotlib 进行可视化，使用 datetime 处理时间戳，使用 unicodedata 和 regex 处理字符串，最后使用 nltk 进行自然语言处理。</p><p id="0fa2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们从启动 Jupyter 笔记本开始吧！</p><h1 id="e990" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">环境</h1><p id="2a64" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">我们将导入 pandas 和 matplotlib，并为 Jupyter 设置显示选项，以便行和列不会被截断。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="75e9" class="no mn it nk b gy np nq l nr ns"># for manipulating data<br/>import pandas as pd<br/>import numpy as np</span><span id="3f50" class="no mn it nk b gy nt nq l nr ns"># for visualizations<br/>%matplotlib inline<br/>import matplotlib.pyplot as plt</span><span id="54e1" class="no mn it nk b gy nt nq l nr ns"># to print out all the outputs<br/>from IPython.core.interactiveshell import InteractiveShell<br/>InteractiveShell.ast_node_interactivity = "all"</span><span id="4e2c" class="no mn it nk b gy nt nq l nr ns"># set display options<br/>pd.set_option('display.max_columns', None)<br/>pd.set_option('display.max_rows', None)<br/>pd.set_option('display.max_colwidth', -1)</span></pre><h1 id="95e7" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">获取数据</h1><p id="fcd8" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">让我们把数据读入数据帧。如果你想跟进，你可以在这里下载数据集<a class="ae lh" href="https://github.com/ecdedios/into-heart-of-darkness" rel="noopener ugc nofollow" target="_blank">。这个数据集包含特朗普总统从 2017 年 1 月 20 日上任到 2020 年 5 月 30 日的推文。</a></p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="40b0" class="no mn it nk b gy np nq l nr ns">df = pd.read_csv('trump_20200530.csv')</span></pre><p id="e2b5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们看看前五行，看看记录(行)和字段(列)的数量。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="71f4" class="no mn it nk b gy np nq l nr ns">df.head()<br/>df.shape</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nu"><img src="../Images/83dc01f38ab21420d01627ffb95e3457.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ljBGpZ91rn8XmjIeSqmuRw.png"/></div></div></figure><p id="7ad8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们对这些列进行一个快速的重命名，以便于以后使用。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="e7ff" class="no mn it nk b gy np nq l nr ns">df.columns=['source', 'tweet', 'date_time', 'retweets', 'favorites', 'is_retweet', 'id']</span></pre><p id="e09f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们删除 id 列，因为它现在并不真正相关。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="eba2" class="no mn it nk b gy np nq l nr ns">df = df.drop(columns=['id'])</span></pre><p id="971c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们做一个快速的健全性检查，这次我们还要检查列的 dtypes。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="467b" class="no mn it nk b gy np nq l nr ns">df.head()<br/>df.info()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nv"><img src="../Images/b03fd3ca157cb152c9ec6c520328cfb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8cHLTkwwEA_EknFwoAYgUQ.png"/></div></div></figure><h1 id="c819" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">使用时间戳</h1><p id="9b48" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">我们可以从前面的截图中看到,' date_time '列是一个字符串。让我们把它解析成一个时间戳。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="9c35" class="no mn it nk b gy np nq l nr ns"># for working with timestamps<br/>from datetime import datetime<br/>from dateutil.parser import parse</span><span id="53a1" class="no mn it nk b gy nt nq l nr ns">dt = []<br/>for ts in df.date_time:<br/>  dt.append(parse(ts))<br/>dt[:5]</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nw"><img src="../Images/92e6b81d201fa4852cf3bab749d444a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*piDa4ZYLhCv83B30ezK0jA.png"/></div></div></figure><p id="cbf5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们添加一个包含时间戳信息的“datetime”列。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="c9a5" class="no mn it nk b gy np nq l nr ns">df['datetime'] = df.apply(lambda row: parse(row.date_time), axis=1)</span></pre><p id="f17c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们仔细检查数据集的数据范围。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="210e" class="no mn it nk b gy np nq l nr ns">df.datetime.min()<br/>df.datetime.max()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/2b8b8da4df91399cd1ea66b67264d412.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*IaBNzWfWuzRNp2fw5qoiEA.png"/></div></figure><h1 id="311a" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">修整数据</h1><p id="244b" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">让我们看看这些推文有多少来源。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="1502" class="no mn it nk b gy np nq l nr ns">df.source.value_counts()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/524ca28554dbdb410617c5eecb3a9f57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*j8YLHjNpkJoR_-WxsQLrxw.png"/></div></figure><p id="f801" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们只保留那些使用“iPhone 版 Twitter”应用程序制作的。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="49cb" class="no mn it nk b gy np nq l nr ns">df = df.loc[df.source == 'Twitter for iPhone']</span></pre><p id="036c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们应该删除旧的“date_time”列和“source”列。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="1ed2" class="no mn it nk b gy np nq l nr ns">df = df.drop(columns=['date_time', 'source'])</span></pre><h1 id="34ac" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">分离转发</h1><p id="6d65" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">看看有多少是转发。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="df71" class="no mn it nk b gy np nq l nr ns">df.is_retweet.value_counts()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/fc905eeb558f86202e4f750180142db4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*0pnylMitEZog-W9j67YNCA.png"/></div></figure><p id="2ac3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们创建另一个只包含 retweets 的 dataframe，并删除“is_retweet”列。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="50eb" class="no mn it nk b gy np nq l nr ns">df_retweets = df.loc[df.is_retweet == True]<br/>df_retweets = df_retweets.drop(columns=['is_retweet'])</span></pre><p id="aa95" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">健全性检查:</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="4e43" class="no mn it nk b gy np nq l nr ns">df_retweets.head()<br/>df_retweets.shape</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oa"><img src="../Images/a2bdddc4b907a7eec146b95eee5cc8e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rAuUFmgSJb6cEyufaruJvA.png"/></div></div></figure><p id="7a02" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">回到原始数据帧，让我们从数据集中删除 retweets，并完全删除“is_retweet”列。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="6902" class="no mn it nk b gy np nq l nr ns">df = df.loc[df.is_retweet == False]<br/>df = df.drop(columns=['is_retweet'])</span></pre><p id="8057" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">另一个健全性检查:</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="6972" class="no mn it nk b gy np nq l nr ns">df.head()<br/>df.shape</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ob"><img src="../Images/56a0b05837377bca6ea024a1841ac965.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tf-tbyhp8OJR4WiyZghTMg.png"/></div></div></figure><h1 id="8687" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">探索数据</h1><p id="002e" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">让我们探索这两个数据框架，并回答几个问题。</p><h2 id="0dbd" class="no mn it bd mo oc od dn ms oe of dp mw lr og oh my lv oi oj na lz ok ol nc iz bi translated">总统什么时候发微博最多？他什么时候发微博最少？</h2><p id="f342" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated"><em class="me">下图显示，总统在下午 12 点左右最常发推文。他也最少在早上 8 点左右发微博。</em></p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="d031" class="no mn it nk b gy np nq l nr ns">title = 'Number of Tweets by Hour'<br/>df.tweet.groupby(df.datetime.dt.hour).count().plot(figsize=(12,8), fontsize=14, kind='bar', rot=0, title=title)<br/>plt.xlabel('Hour')<br/>plt.ylabel('Number of Tweets')</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi om"><img src="../Images/c031d5286957a64e5ff07acccece7084.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8RpLRMTUS7yS1uKtKqHSsQ.png"/></div></div></figure><h2 id="8988" class="no mn it bd mo oc od dn ms oe of dp mw lr og oh my lv oi oj na lz ok ol nc iz bi translated">总统哪一天发推特最多？他哪天发的微博最少？</h2><p id="ac79" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated"><em class="me">下图显示了总统在周三最常发推文。他周四发的微博也最少。</em></p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="a8ce" class="no mn it nk b gy np nq l nr ns">title = 'Number of Tweets by Day of the Week'<br/>df.tweet.groupby(df.datetime.dt.dayofweek).count().plot(figsize=(12,8), fontsize=14, kind='bar', rot=0, title=title)<br/>plt.xlabel('Day of the Week')<br/>plt.ylabel('Number of Tweets')<br/>plt.xticks(np.arange(7),['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'])</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ca"><img src="../Images/192476445fbda17426c903ea00f7268a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G3qSy3jFTpj0tUW0l9lBDw.png"/></div></div></figure><h2 id="97e1" class="no mn it bd mo oc od dn ms oe of dp mw lr og oh my lv oi oj na lz ok ol nc iz bi translated">从转发中分离 Twitter 句柄</h2><p id="819f" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">让我们导入正则表达式，这样我们就可以用它来解析文本并分离出原始推文的 Twitter 句柄。在下面的代码中，我们添加了另一个包含 Twitter 句柄的列。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="7327" class="no mn it nk b gy np nq l nr ns">import re</span><span id="97ca" class="no mn it nk b gy nt nq l nr ns">pattern = re.compile('(?&lt;=RT @).*?(?=:)')<br/>df_retweets['original'] = [re.search(pattern, tweet).group(0) for tweet in df_retweets.tweet]</span></pre><p id="4443" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们创建另一个数据帧，它将只包含最初的 Twitter 句柄及其相关的转发次数。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="732a" class="no mn it nk b gy np nq l nr ns">df_originals = df_retweets.groupby(['original']).sum().sort_values('retweets').reset_index().sort_values('retweets', ascending=False)</span></pre><p id="a0c7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们快速检查一下数据:</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="5b30" class="no mn it nk b gy np nq l nr ns">df_originals.head()<br/>df_originals.shape</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi on"><img src="../Images/611a8d7c7f98f652032e674068885635.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*LvfNhCGhyBcws2QcDrzc0Q.png"/></div></figure><p id="4eeb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们快速地将结果可视化，这样我们就可以知道数据是否不成比例。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="7c25" class="no mn it nk b gy np nq l nr ns">df_originals = df_retweets.groupby(['original']).sum().sort_values('retweets').reset_index().sort_values('retweets', ascending=False)[:10].sort_values('retweets')<br/>df_originals.plot.barh(x='original', y='retweets', figsize=(16,10), fontsize=16)<br/>plt.xlabel("Originating Tweet's Username")<br/>plt.xticks([])</span></pre><h2 id="9003" class="no mn it bd mo oc od dn ms oe of dp mw lr og oh my lv oi oj na lz ok ol nc iz bi translated">总统最喜欢转推哪个推特用户？</h2><p id="42a7" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated"><em class="me">下图显示总统喜欢转发来自“@realDonaldTrump”的推文。</em></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oo"><img src="../Images/036e663929cf7c8d21fb057fbc6934ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MvMHIQEVY63LkSGUCC86Kw.png"/></div></div></figure><h2 id="9869" class="no mn it bd mo oc od dn ms oe of dp mw lr og oh my lv oi oj na lz ok ol nc iz bi translated">转发量前 5 名</h2><p id="d4eb" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">让我们来看看根据最初的 Twitter 句柄被其他人转发最多的前 5 条推文。</p><p id="dc63" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">先说带“@realDonaldTrump”的。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="6574" class="no mn it nk b gy np nq l nr ns">df_retweets.loc[df_retweets.original == 'realDonaldTrump'].sort_values('retweets', ascending=False)[:5]</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi op"><img src="../Images/2f9bc35bbb4414b48792c058054359dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7O5mD93V7VgdbpEq5PhDWg.png"/></div></div></figure><p id="c092" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">还有一个是“@charliekirk11”。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="d232" class="no mn it nk b gy np nq l nr ns">df_retweets.loc[df_retweets.original == 'charliekirk11'].sort_values('retweets', ascending=False)[:5]</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oq"><img src="../Images/d821ea692b05ca4539d268522a13a3fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DntYBiodNjDxn4RecyGH9A.png"/></div></div></figure><h1 id="b4b3" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">检查转发的收藏夹数</h1><p id="78b7" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">让我们看看有多少转发被其他人喜欢。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="fea7" class="no mn it nk b gy np nq l nr ns">df_retweets.favorites.value_counts()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi or"><img src="../Images/24fb2d47a3355a6693bc211dc4d30fed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*75gVIYE4DKsVACxbArrb0Q.png"/></div></figure><p id="b43f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">令人惊讶的是，没有一条转发似乎受到了任何人的喜爱。奇怪。</p><p id="3f93" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们应该放弃它。</p><h1 id="d2ee" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">计算 N-Grams</h1><p id="98c0" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">要做一些 n 元排序，我们需要导入 unicodedata 和 nltk。我们还需要指定可能需要从分析中排除的附加停用词。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="aa44" class="no mn it nk b gy np nq l nr ns"># for cleaning and natural language processing<br/>import unicodedata<br/>import nltk</span><span id="2f5b" class="no mn it nk b gy nt nq l nr ns"># add appropriate words that will be ignored in the analysis<br/>ADDITIONAL_STOPWORDS = ['rt']<br/></span></pre><p id="dba8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">以下是我最喜欢的几个自然语言处理函数:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="6985" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们使用“tweet”栏来看看<code class="fe ou ov ow nk b">df</code>数据框架中的前 10 个二元模型。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="ff0c" class="no mn it nk b gy np nq l nr ns">get_bigrams(df, 'tweet')</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/852df63b8540eb68ede918dbdead8872.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*UvSvwghdc2Do4el_rFmbDg.png"/></div></figure><p id="e577" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，对于前 10 个三元模型:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oy"><img src="../Images/1f02d2c1033fe711f7813640f7b64962.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o1n4tORHMQIdbjcFYzsxiA.png"/></div></div></figure><p id="aff5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们使用<code class="fe ou ov ow nk b">viz_bigrams()</code>函数并可视化二元模型。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="f27c" class="no mn it nk b gy np nq l nr ns">viz_bigrams(df, ‘tweet’)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oz"><img src="../Images/71bec271b3a06ebf2c7544f466f82b0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JI2po1GGVwpjgulq6QNoDg.png"/></div></div></figure><p id="3ae4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">类似地，让我们使用<code class="fe ou ov ow nk b">viz_trigrams()</code>函数并可视化三元模型。</p><pre class="ks kt ku kv gt nj nk nl nm aw nn bi"><span id="6a09" class="no mn it nk b gy np nq l nr ns">viz_trigrams(df, 'tweet')</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pa"><img src="../Images/2976b92cc47d43d7ba028e139c36e2b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jCsBVdLAgwdktsIUrFo9zA.png"/></div></div></figure><p id="0bba" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们做到了！</p><h1 id="5dc9" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">结论</h1><p id="5edf" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">使用基本的 Python 和 nltk 库，我们探索了来自<a class="ae lh" href="http://www.trumptwitterarchive.com/archive" rel="noopener ugc nofollow" target="_blank"> Trump Twitter 存档</a>的数据集，并对其进行了一些 n 元排序。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="4c1b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">感谢您的阅读！探索性数据分析使用了很多技术，我们在这篇文章中只探讨了其中的一些。我鼓励你坚持练习，并使用其他技术从数据中获得洞察力。</p><p id="1a34" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="me">在下一篇</em><a class="ae lh" rel="noopener" target="_blank" href="/exploring-the-trump-twitter-archive-with-spacy-fe557810717c"><em class="me"/></a><em class="me">中，我们将继续我们的旅程，进入 Trump Twitter 存档，并</em> <a class="ae lh" rel="noopener" target="_blank" href="/exploring-the-trump-twitter-archive-with-spacy-fe557810717c"> <em class="me">使用 spaCy 从同一数据集中提取命名实体</em> </a> <em class="me">。</em></p><p id="59d2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="me">如果你想了解更多关于我从懒鬼到数据科学家的旅程，请查看下面的文章:</em></p><div class="pb pc gp gr pd pe"><a rel="noopener follow" target="_blank" href="/from-slacker-to-data-scientist-b4f34aa10ea1"><div class="pf ab fo"><div class="pg ab ph cl cj pi"><h2 class="bd jd gy z fp pj fr fs pk fu fw jc bi translated">从懒鬼到数据科学家</h2><div class="pl l"><h3 class="bd b gy z fp pj fr fs pk fu fw dk translated">我的无学位数据科学之旅。</h3></div><div class="pm l"><p class="bd b dl z fp pj fr fs pk fu fw dk translated">towardsdatascience.com</p></div></div><div class="pn l"><div class="po l pp pq pr pn ps lb pe"/></div></div></a></div><p id="7e05" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="me">敬请期待！</em></p><p id="5643" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你可以在推特<a class="ae lh" href="https://twitter.com/ecdedios" rel="noopener ugc nofollow" target="_blank">或 LinkedIn </a>上找到我。</p></div></div>    
</body>
</html>