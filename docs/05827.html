<html>
<head>
<title>Python Unittest Guide — Avoid Bugs During Development And Beyond!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 单元测试指南——避免开发期间和之后的错误！</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-unittest-avoid-bugs-during-development-any-beyond-99b85c176727?source=collection_archive---------74-----------------------#2020-05-13">https://towardsdatascience.com/python-unittest-avoid-bugs-during-development-any-beyond-99b85c176727?source=collection_archive---------74-----------------------#2020-05-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e2aa" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">因为如果你在写代码的时候已经在测试了，那就把它做好</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/17c374f45a83b9d54cdd3ddad0727333.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mjOyl7I1s00G0qlL"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@kmuza?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Carlos Muza </a>拍摄的照片</p></figure><h1 id="bd14" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">为什么要测试？</h1><p id="7f43" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">单元测试是开发的一个重要方面<strong class="lt iu">。没有代码的基本运行，你如何知道它是否工作？此外，由于单元测试通常快速而简短，通过正确地管理单元测试，您还可以知道您是否破坏了旧代码或其他人的代码！</strong></p><p id="4825" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">此外，提供如何使用您的代码的示例会容易得多，因为您已经有一个了！</p><h1 id="12a5" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">错误而常见的方式</h1><p id="04e8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们从展示错误的和常见的方法开始。这里有一个简单的类对象:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="04c1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">正如你所看到的，这个类做的不多，它在给定的输入上需要一个数的幂。<br/>现在，一个标准的开发人员会如何验证这段代码呢？</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">别这样。</p></figure><h1 id="2590" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">这是不对的，为什么？原因很多。</h1><ul class=""><li id="836b" class="mu mv it lt b lu lv lx ly ma mw me mx mi my mm mz na nb nc bi translated">这是<strong class="lt iu">不可持续的</strong>——只是分散在许多文件中的小测试，没有任何方法来跟踪甚至重用这些测试。</li><li id="06db" class="mu mv it lt b lu nd lx ne ma nf me ng mi nh mm mz na nb nc bi translated">这很混乱，并且给我们的程序增加了<strong class="lt iu">未使用的代码块</strong></li><li id="379c" class="mu mv it lt b lu nd lx ne ma nf me ng mi nh mm mz na nb nc bi translated">这确保了单元测试只发生一次，<strong class="lt iu">而不是</strong>在<strong class="lt iu">每个新版本发布时被验证。</strong></li></ul><p id="1b60" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">你可能会说——他可以删除它，但是他所有的单元测试工作都是徒劳的，你不会在每个版本中重用它来改进你未来的代码。</p><h1 id="a394" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">正确的方法</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/272744f2eb4cc09239041b8cd506dc99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0mM81Grh_F1vJh08"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">尼克·莫瑞森在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="4b87" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">有许多 python 测试模块，你可以为它们中的许多给出有力的论据，我喜欢<strong class="lt iu"> python unittest </strong>有许多原因，它的<strong class="lt iu">简单</strong>、<strong class="lt iu">快速</strong>、<strong class="lt iu">有效</strong>，并且在<strong class="lt iu">标准库中。</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><h1 id="e16c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">如何让它工作</h1><ul class=""><li id="c90d" class="mu mv it lt b lu lv lx ly ma mw me mx mi my mm mz na nb nc bi translated">测试类必须<strong class="lt iu">继承自 unittest。测试案例</strong></li><li id="3db8" class="mu mv it lt b lu nd lx ne ma nf me ng mi nh mm mz na nb nc bi translated">每个测试<strong class="lt iu">功能</strong>必须在<strong class="lt iu">测试 _ </strong>中开始</li><li id="6154" class="mu mv it lt b lu nd lx ne ma nf me ng mi nh mm mz na nb nc bi translated"><strong class="lt iu"> unittest.main() </strong>是<strong class="lt iu">运行</strong>来测试结果的函数。</li></ul><blockquote class="nj"><p id="3c92" class="nk nl it bd nm nn no np nq nr ns mm dk translated">3 个小小的规则，你就有了一个合适的单元测试，很简单，不是吗？</p></blockquote><figure class="nu nv nw nx ny kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/9e04a52f35cf95cec680918cffbb89a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jxa5px5-EJiGk9U_"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">安特·汉默斯米特在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="d4bf" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">选项</h1><p id="705a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您不必使用 assert equal，您可以检查任何您喜欢的东西，从数字到类型，到引发正确的异常，任何您可以想象的东西，都在一个简单的标准库模块中，由 python 开发团队维护。</p><h1 id="d882" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">最后的想法</h1><p id="56cb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Python 单元测试模块是每个开发人员的必备工具，它将确保您编写良好和适当的单元测试，使它们可重用，这样您就不会用新的开发来破坏旧的代码，并保持代码的整洁和维护，添加 CI 或任何自动化，并且您会得到一个维护良好的程序，只需付出较少的努力，所以开始使用 python 单元测试模块吧，它太棒了！</p><p id="e8f2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果你喜欢这些文章，请发表评论，关于 Python 标准库的更多内容，请就你关心的主题发表评论，我会写的</p><p id="826b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我希望你喜欢！</p></div></div>    
</body>
</html>