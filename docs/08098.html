<html>
<head>
<title>Azure Data Studio or SSMS — which should I use?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure Data Studio 和 SSMS——我应该使用哪个？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/azure-data-studio-or-ssms-which-should-i-use-1db49824a39?source=collection_archive---------7-----------------------#2020-06-15">https://towardsdatascience.com/azure-data-studio-or-ssms-which-should-i-use-1db49824a39?source=collection_archive---------7-----------------------#2020-06-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="dafb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Azure 数据工作室还是 SSMS？为什么不是 Azure Data Studio <strong class="ak">和</strong> SSMS？看看你如何能从两个世界中取长补短</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7a4ba31b45fd94ca0f8a19a00504daa6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x3qaulT_ZcpPFC7XbuWDHQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/@hbharun?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">哈伦·benli̇</a>从<a class="ae ky" href="https://www.pexels.com/photo/chessboard-game-3701276/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">派克斯</a>拍摄</p></figure><p id="b4fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">题目中的问题已经变得非常流行，而且会变得越来越久而久之化。由于微软在 2018 年 9 月推出了 Azure Data Studio 并在此期间大力投资于该工具的改进，看起来旧的 SQL Server Management Studio 注定要退休了(当之无愧)……</p><p id="d2c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">但是，是那样的吗？</em>T13】</strong></p><p id="47a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一名 SQL 开发人员，他每天都在编写查询，我将尝试根据我迄今为止的发现给出一些观察结果，特别强调<em class="lv"> Azure Data Studio </em>，因为我相信我们大多数人已经非常熟悉<em class="lv"> SSMS </em>。</p><h2 id="44b3" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">Azure 数据工作室</h2><p id="592f" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">在我深入了解“新街区小子”的一些很酷的功能之前，先做个简短的介绍。当我听到新工具的名字时，我并不打算深入测试它，因为“Azure”部分并没有引起我的特别兴趣。然而，在我听到 Ben Weissman 今年 1 月在 SQL Saturday Vienna 上的发言后，他解释说“Azure”word 并不一定意味着你需要将该工具与 Azure palette of products 结合使用，我决定尝试一下。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/edf4ae727bbce04243cc016531912fec.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*mjH5EY1hSbcF2ssJ7ceYNg.jpeg"/></div></figure><p id="bd0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，我的第一印象是:微软给这个 IDE 命名相当误导！为什么称之为“<em class="lv"> Azure Data Studio </em>”，连接 Azure 只是其中一个选项？您还可以连接到本地 SQL Server 数据库，就像之前的<em class="lv"> SSMS、</em>一样，但您也可以连接到大数据集群(SQL Server 的最新功能，在 2019 年版中推出)。</p><p id="c105" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Azure Data Studio 的主要优势在于其可移植性——虽然 SSMS 只能在 Windows 平台上运行，但广告也可以在 Linux 和 macOS 上运行。这是一个巨大的进步，符合微软向非 Windows 世界的全面扩张。</p><p id="97f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与 SSMS 的另一个巨大区别是，你可以使用笔记本，并在其中编写 SQL、Python、Spark 或 Scala 脚本。我不能详细说明，因为我还没有使用这个特性(我是一个传统的 SQL 家伙)，但与 SSMS 相比，它无疑为更复杂的用法提供了更多的灵活性。</p><p id="7d24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好了，关于 ADS 和 SSMS 的特征和区别的一般性描述已经足够了。我将尝试加粗一些 Azure Data Studio 提供的简洁功能:</p><h2 id="9421" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">#1 对象定义</h2><p id="913f" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">当我编写查询时，我经常需要检查数据库对象定义。例如，查看基础数据类型是<a class="ae ky" href="https://data-mozart.com/tsql/datetime2-why-you-should-not-use-it/" rel="noopener ugc nofollow" target="_blank">日期时间还是日期时间 2 </a>。当然，这可以在 SSMS 使用一些第三方插件来实现(顺便说一下，我喜欢<a class="ae ky" href="https://www.ssmsboost.com" rel="noopener ugc nofollow" target="_blank"> SSMS 升压</a>)，但在广告中这很简单:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/c48cc407796b056e20a33a6bc53a64ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G0HlHA2XvwbNoKE69ckZUQ.png"/></div></div></figure><p id="c00c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">只需标记要检查的对象，右键单击，然后在“查看”下选择“查看定义”。您将立即看到所选对象的定义:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/eab23d6130ed920ab97ea231faaf238f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3tJcCVv0SMUJZqcSvsYCZw.png"/></div></div></figure><h2 id="9978" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">#2 黑暗主题</h2><p id="3b7e" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">据我所知，SSMS 仍然缺乏黑暗模式，我知道很多开发者都渴望这一点。在广告中，黑暗模式就在那里！</p><p id="1b4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">进入<strong class="lb iu"> <em class="lv">文件- &gt;首选项- &gt;颜色主题</em> </strong>，选择您想要的布局:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/8b0376fbf81bb63c78d18ee4a83b90d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7kCTKVW0hv5Tm8KNxo9Q6w.png"/></div></div></figure><p id="97d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看起来很酷，哈？</p><h2 id="466f" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">#3 快速可视化查询结果</h2><p id="dd9e" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">这真的很有用，我在使用 Azure Data Studio 时广泛使用了它。它可以让您对查询返回的数据有一个简要的了解，这样您就可以直接执行快速的数据分析，并检查有多少个空值，是否有一些异常值，等等。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/4b11e6df0de38c8e44f5675d15330da7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e7tNRe0ItfUIKf323Gmk7g.png"/></div></div></figure><p id="6dbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行该查询后，我可以选择右侧的图表图标，并立即可视化我的结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/bd25c41e527b63857da0de87c042b53d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zMDXKOfvox7ZA1Rk3zFghA.png"/></div></div></figure><p id="ea01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，正如您在上面的图片中所注意到的，我可以定义整套参数并调整结果的视觉外观。</p><h2 id="76bc" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">#4 源代码控制</h2><p id="2215" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">Azure Data Studio 附带了 Git 源代码管理器(SCM ),因此与 SSMS 相比，源代码管理成为最大的优势之一！关于如何执行代码源代码控制的更多细节可以在官方的 Azure Data Studio 文档中找到。</p><h2 id="b801" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">#5 轻松导出到 Excel/CSV/JSON</h2><p id="9070" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">在许多情况下，您需要为用户提供快速的查询结果。现在，不需要复制/粘贴查询结果或使用一些外部插件来处理这些简单的请求。只需点击一下，你就可以开始了！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/479d5dded74e0e903cdb0e02be7a98c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-uoG-pVP4qhnXKoUD1Ntng.png"/></div></div></figure><p id="d9f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在右侧，您只需选择是将结果导出为 CSV、Excel、JSON、XML，还是将其可视化(如前一篇技巧文章)。</p><h2 id="6f13" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">#6 定制洞察/仪表板</h2><p id="ab26" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">这一个可以很容易地拿第一，但是我故意把它留到最后。想象一下，您可以在一个地方拥有所有相关的度量，比如当前运行的查询、死锁、索引碎片等的数量。！</p><p id="ac42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将演示如何为索引碎片检查创建一个仪表板，但是您可以使用与您的监视相关的查询轻松地扩展您的仪表板。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="ba0d" class="lw lx it nb b gy nf ng l nh ni">SELECT st.index_id<br/>            ,name AS indexName<br/>           ,avg_fragmentation_in_percent AS frgPrct<br/>           ,fragment_count AS frgCnt<br/>          , avg_fragment_size_in_pages AS frgPages<br/>FROM sys.dm_db_index_physical_stats (DB_ID('StackOverflow2013'), NULL, NULL, NULL, NULL) AS st<br/>INNER JOIN sys.indexes AS i ON st.object_id = i.object_id AND st.index_id = i.index_id<br/>ORDER BY avg_fragmentation_in_percent DESC</span></pre><p id="f442" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我执行了这个查询，我选择右边的图表图标:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/a887ee52e63c0d86cbdb17263235fc6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eHKX4nYUjpi6MgpN-Sufog.png"/></div></div></figure><p id="49ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将把这个查询保存在桌面上(你可以把它保存在任何你喜欢的文件夹中)。然后，我选择表格图表类型，并单击结果集上方的 Create Insight:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/efaa3b5b54ff7a503898a88c7525370a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F1xroawz9tBpp3C6vxCXXA.png"/></div></div></figure><p id="f606" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我这样做了，JSON 代码就会生成。然后，转到视图选项卡，选择命令调板，然后选择首选项:打开用户设置。</p><p id="b511" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">搜索<em class="lv">仪表板。Database.Widgets </em>并在 settings.json 中选择编辑。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/f57366fb97a7a730e1147f347a5a6626.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R3Fc60_HaS602xJ29Hj1Kw.png"/></div></div></figure><p id="1222" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在“dashboard.database.widgets”键中，粘贴在前面某个步骤中创建的 JSON 代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/324c24cf961dc16e9422b32d484aeab9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CXeqlsfhVHtOKduLU0OawQ.png"/></div></div></figure><p id="cdab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">保存 settings.json 文件，导航到 StackOverflow2013 数据库，右键单击它并选择“管理”。如您所见，我们新创建的小部件被固定在一个仪表板上，我们可以轻松地监视索引碎片的情况。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/b3f8d8a21592a7ee73ae4b37c203e4d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*COg5T0CnGW93DcFJWVKowg.png"/></div></div></figure><p id="2e2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以创建多个不同的小部件，并将它们固定在一个仪表板上，这样您就可以快速了解数据库的关键指标。</p><h2 id="d89b" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">定论</h2><p id="9233" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">尽管 Azure Data Studio 确实是一个令人敬畏的工具，但它仍然缺乏一些关键功能，因此不能被视为 SSMS 的直接替代品。对于 DBA 任务来说尤其如此，SSMS 作为一个成熟的工具提供了更多的选择。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/a177557986d57d9a938f9a69f7e9246d.png" data-original-src="https://miro.medium.com/v2/resize:fit:444/format:webp/1*LUSRHRW98dPR5ql88BNk9Q.png"/></div></figure><p id="4dff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我看来，<strong class="lb iu"> <em class="lv">这两个工具都将留在</em> </strong>这里，至少在未来一段时间内！</p><p id="035e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">微软不断升级 Azure Data Studio，我将专门撰写单独的文章来介绍一些最近添加的功能，如 SQL 代理作业，或更常见的任务，如使用估计和实际的查询执行计划来优化您的查询。</p><p id="8609" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">老实说，我仍然比 ADS 更频繁地使用 SSMS(可能只是因为我更习惯它)，但我相信每个开发者都应该至少尝试一下 Azure Data Studio。</p><p id="d127" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">成为会员，阅读媒体上的每一个故事！</p><p id="e542" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">订阅<a class="ae ky" href="http://eepurl.com/gOH8iP" rel="noopener ugc nofollow" target="_blank">这里</a>获取更多有见地的数据文章！</p></div></div>    
</body>
</html>