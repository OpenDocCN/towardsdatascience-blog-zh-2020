<html>
<head>
<title>Are you Democrat or Republican? Let your tweets define you …</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你是民主党人还是共和党人？让你的推文定义你…</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/are-you-democrat-or-republican-let-your-tweets-define-you-4aa4cadf4bea?source=collection_archive---------19-----------------------#2020-02-05">https://towardsdatascience.com/are-you-democrat-or-republican-let-your-tweets-define-you-4aa4cadf4bea?source=collection_archive---------19-----------------------#2020-02-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="806e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">当你在短短几秒钟内分析数百条推文，并自动获得话题、观点和情绪等信息时，感觉就像是魔法一样。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/79a6b58db0225c4470651be1addb2ef1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D8vdMh8bUU9YjWUuBnKvIw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">玛利亚·奥斯沃特在<a class="ae ky" href="https://unsplash.com/s/photos/republican-democrat?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="8a4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最近，我有一次关于政治和下一届2020年美国<strong class="lb iu">总统选举的谈话。引起我注意的是，人们对此的态度变得极端对立。他们开始说:<strong class="lb iu"> <em class="lv">“你听起来就像一个民主主义者！”</em> </strong>或<strong class="lb iu"> <em class="lv">“你是反共和党的吗？”</em> </strong>。通过武力，你开始有理由捍卫自己的立场。所以我很快去做了一些在线测试，试图回答这个问题:<strong class="lb iu">“你是民主党人还是共和党人？”</strong></strong></p><p id="5599" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不幸的是，我没有被说服，所以我想找到一种新的方式，谢天谢地，我们有了Twitter的世界作为我们的数据集！</p><p id="1cf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这项研究中，我将尝试寻找以下问题的答案:</p><ul class=""><li id="344b" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">民主党人和共和党人<strong class="lb iu">在他们的推特上使用最多的词是什么？</strong></li><li id="ef1a" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">谁得到的转发和喜欢更多？</li><li id="4652" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">我们可以对提取的推文进行<strong class="lb iu">情感分析</strong>吗？</li><li id="3da4" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">我们能否使用<strong class="lb iu">机器学习</strong>算法来训练一个模型，并确定这条推文是由<strong class="lb iu">民主党</strong>还是<strong class="lb iu">共和党</strong>候选人写的？</li><li id="4aad" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">一个<strong class="lb iu">神经网络(RNN) </strong>会帮我决定我的<strong class="lb iu">推特</strong>账号更<strong class="lb iu">民主党/共和党</strong>吗？</li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="4247" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">数据收集:</h1><p id="e775" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">首先，我们需要弄清楚哪些推特账户是<strong class="lb iu">民主党</strong>或<strong class="lb iu">共和党</strong>。推特上的国会议员目录<a class="ae ky" href="http://www.tweetcongress.org/tweeters" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="lv">TweetCongress.org</em></strong></a>，列出了网站上的<strong class="lb iu"> 101名共和党人</strong>和<strong class="lb iu"> 57名民主党人</strong>。每个政党大多由几个<strong class="lb iu">推特</strong>超级明星支撑着(像<strong class="lb iu">民主党</strong> <a class="ae ky" href="https://twitter.com/clairecmc?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">参议员克莱尔·麦卡斯基尔</strong> </a>和<strong class="lb iu">共和党</strong> <a class="ae ky" href="https://twitter.com/senjohnmccain?lang=en" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">参议员约翰·麦凯恩</strong> </a>)，但是国会<strong class="lb iu">共和党</strong>总体上有更多的追随者和更频繁的推特。</p><p id="6eb5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个选择是直接查看Twitter上的<a class="ae ky" href="https://twitter.com/TheDemocrats/lists/house-democrats/members" rel="noopener ugc nofollow" target="_blank"> @TheDemocrats </a>和<a class="ae ky" href="https://twitter.com/HouseGOP/lists/house-republicans/members" rel="noopener ugc nofollow" target="_blank"> @HouseGOP </a>成员列表。在浏览列表之后，您可以看到我们可以提取所有的<strong class="lb iu">全名</strong>和<strong class="lb iu">用户名</strong>类元素。我们还将保存头像图像的URL，供以后使用。</p><p id="e879" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将使用<a class="ae ky" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">美汤</strong> </a>提取手柄。这是一个用于解析HTML和XML文档的Python库。当HTML或XML文档格式不良时(例如，如果它缺少结束标签)，<strong class="lb iu"> Beautiful Soup </strong>提供了一种基于启发式的方法，以便在不产生错误的情况下重建语法树。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="4531" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">提取句柄后，我将结果导出到<strong class="lb iu">。csv </strong>文件，看起来像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/3835f368ae5ec2c467f9644eb705dbbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gNPbnT46xiL1VJGMuYjyuw.jpeg"/></div></div></figure><p id="9e5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我需要创建一个数据集，其中包含这些成员与2018年美国国会选举相关的推文。我收集了2018年1月22日<strong class="lb iu"><em class="lv"/></strong>和2019年1月3日<em class="lv">J</em><strong class="lb iu"><em class="lv"/></strong>之间的推文从<strong class="lb iu"> Twitter API </strong>使用<a class="ae ky" href="https://gwu-libraries.github.io/sfm-ui/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">社交Feed Manager </strong> </a>。有关收集日期、账户和查询中使用的标签，请参见每个收集的<a class="ae ky" href="https://github.com/chouhbik/Sentiment-Analysis-of-Tweets/blob/master/election-filter-README.txt" rel="noopener ugc nofollow" target="_blank">自述文件</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/a050c23f415b4c178bb74e49af7283e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HeMfMQ9EjxtHeLErZEY36A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据收集法</p></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="0916" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">探索性数据分析(EDA):</h1><p id="e72e" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">该数据集包含与2018年美国国会选举相关的<strong class="lb iu"> 86，460 </strong>条推文(共和党的<strong class="lb iu"> 44392 </strong>，民主党的<strong class="lb iu"> 42068 </strong>)。我们可以说，在训练数据集中，民主党和共和党的比例大致相当。</p><p id="0c99" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将从美国<strong class="lb iu"/>的<strong class="lb iu">民主党</strong>和<strong class="lb iu">共和党</strong>议员的推文开始快速探索。这个初始分析的主要目的是可视化他们两个使用的标签。</p><div class="kj kk kl km gt ab cb"><figure class="ns kn nt nu nv nw nx paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/3e73646d1ca6fcb4cac66b445f1d09d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*SbMn8ooZg272rYUHuhUTjQ.png"/></div></figure><figure class="ns kn ny nu nv nw nx paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/bee1837184859cacd745faab69984a52.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*7et_PwUyf4aHZLvLvxUfvA.png"/></div></figure></div><p id="2c0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这越来越有趣了。我们现在可以看到<strong class="lb iu">共和党</strong>党<em class="lv">(红衣)</em>吹捧他们的政策(例如<strong class="lb iu"> taxcutsandjobsact </strong>)。对于那些不太熟悉美国政治的人来说，共和党控制着总统职位和国会两院，因此能够相对不受限制地实施他们的议程。另一方面，对于<strong class="lb iu">民主党</strong>来说，我们看到了一些明显的痛苦(例如<strong class="lb iu"> goptaxscam </strong>)。</p><p id="92b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，我将探讨不同党派使用的词汇。这将通过清理tweets，将它们解析为单词的<strong class="lb iu">向量，移除常见的<strong class="lb iu">停用词</strong>，通过计数聚合单词，并使用<strong class="lb iu">条形图</strong>绘制最频繁的结果来实现。停用词的选择有时很关键。我认为最好从<strong class="lb iu"><em class="lv">【word cloud】</em></strong>库中选择<strong class="lb iu">停用词</strong>，因为它们包含了所有停用词的平均列表。</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi gj"><img src="../Images/c2b8866275121afaf3c7da2067858a14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iL_ooVyfgmvmRAW67Smc8g.png"/></div></div></figure><p id="696d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">比如民主党人发的推文中使用次数最多的就是<strong class="lb iu">【今天】</strong> (3850次)这个词。然后我们找到<strong class="lb iu">【川普】</strong> (2502次)<strong class="lb iu">【美国】</strong> (2053次)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi gj"><img src="../Images/f53fd1eb76d60b1393637511f863b4e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*emZCQtc9Oy3SHHqwlLSD_Q.png"/></div></div></figure><p id="b9c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们看一下有共和党观点的人的推文，这个词<strong class="lb iu">【今天】</strong> (4883次)再次位于第一位，<strong class="lb iu">【税收】</strong>位于第二位，<strong class="lb iu">【伟大】</strong>位于第三位。</p><p id="8a5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还将词频分为5类:</p><ul class=""><li id="0263" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">如果一个词的使用少于<strong class="lb iu"> 50 </strong>，它就在<strong class="lb iu">极低</strong>组。</li><li id="0968" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">如果在<strong class="lb iu"> 50 </strong>和<strong class="lb iu"> 200 </strong>之间使用，则处于<strong class="lb iu">低</strong>组。</li><li id="b94e" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">如果在<strong class="lb iu"> 200 </strong>和<strong class="lb iu"> 750 </strong>之间使用，则属于<strong class="lb iu">中等</strong>组。</li><li id="1a9c" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">如果在<strong class="lb iu"> 750 </strong>和<strong class="lb iu"> 1500 </strong>之间使用，则在<strong class="lb iu">高</strong>组。</li><li id="55ef" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">如果一个词的使用量大于<strong class="lb iu"> 1500 </strong>，它就在<strong class="lb iu">极高</strong>组。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/d955917555a83d7be90480753bea1500.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nQ0_UGSID3UGmNNLj9nMIg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用<a class="ae ky" href="https://plot.ly/" rel="noopener ugc nofollow" target="_blank">精心制作</a></p></figure><h2 id="0aa1" class="oa ms it bd mt ob oc dn mx od oe dp nb li of og nd lm oh oi nf lq oj ok nh ol bi translated">解释:</h2><p id="42f8" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">我试图绘制一个矩阵，其中<strong class="lb iu">‘X’</strong>轴指的是<strong class="lb iu">共和党推文</strong>的词汇使用频率，而<strong class="lb iu">‘Y’</strong>轴指的是同一事物，但与<strong class="lb iu">民主党</strong>有关。</p><p id="91d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，单词<strong class="lb iu">“tax reform”</strong>被共和党人使用了966次，所以它被放在他们的高类别中。然而，民主党人只用了这个词12次。另一个例子是<strong class="lb iu">【枪】</strong>字。它在民主党推文中被使用了876次，在共和党推文中被使用了117次。</p><p id="6b2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也没有词，当共和党人使用非常高，民主党人使用中等，低或非常低的水平。和民主党人一样。<strong class="lb iu">“今天”、“美国人”、“伟大的”、“房子”、“年”、“家庭”、“日子”和“感谢”</strong>这些词被<strong class="lb iu">民主党人</strong>和<strong class="lb iu">共和党人</strong>高度使用。</p><h2 id="c1b6" class="oa ms it bd mt ob oc dn mx od oe dp nb li of og nd lm oh oi nf lq oj ok nh ol bi translated">离差图:</h2><p id="250f" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">我在数据集中选择了一些单词，以便绘制一个图表，显示单词在文本中的分布。这几个词分别是<strong class="lb iu">【投票】【民主】【自由】【美国】【美国人】【税收】【特朗普】</strong><strong class="lb iu">【克林顿】</strong>。</p><p id="513f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">民主党推文剧情</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/b3113518e89ca475ce6cb7e77cf52465.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*qYdcYtkSx8BazjYK5HDqkA.png"/></div></figure><p id="5574" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">共和党推文剧情</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/8da6bb46b46ea30f58c68baf78b3da4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*SkH77LOs2XtSw-_oH4OyOQ.png"/></div></figure><h1 id="7798" class="mr ms it bd mt mu on mw mx my oo na nb jz op ka nd kc oq kd nf kf or kg nh ni bi translated">情感分析</h1><p id="0421" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">在这里，我将尝试使用不同的文本分类器将推文分类为有组织的团体或团体，此外还有<strong class="lb iu">情感分析</strong>以了解给定推文对给定主题是正面还是负面的谈论。</p><p id="c172" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以我开始将双方的推文集合转换成一个令牌计数矩阵，使用来自<strong class="lb iu"/><a class="ae ky" href="https://scikit-learn.org/stable/index.html" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="lv">sk learn</em></strong></a><strong class="lb iu">的<a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">计数矢量器</strong> </a> <strong class="lb iu"> </strong>函数。</strong>然后我应用ML算法进行分类<strong class="lb iu">:</strong><a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">random forest</strong></a>，<a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">logistic regression</strong></a>，<a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.MultinomialNB.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Multi-NB </strong> </a>，<a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">决策树</strong> </a>，<a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.AdaBoostClassifier.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> AdaBoost </strong> </a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/5ef29ddea2efd135d04b210d379d0874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WUFo6QbmfGuW8Zx17WjH9A.png"/></div></div></figure><p id="8dea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之后，我试图确定每一方的态度或情绪，即它是积极的还是消极的还是中立的。所以我使用了著名的Python库<a class="ae ky" href="https://textblob.readthedocs.io/en/dev/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">text blob</strong></a><strong class="lb iu"/>，它返回2个重要指标:</p><ul class=""><li id="d5af" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated"><strong class="lb iu">极性</strong>分数在<strong class="lb iu"> [-1.0，1.0】</strong>范围内浮动。它代表了一个句子所表达的情感。<strong class="lb iu"> 1 </strong>表示<strong class="lb iu">正</strong>声明，<strong class="lb iu"> -1 </strong>表示<strong class="lb iu">负</strong>声明。</li><li id="8657" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><strong class="lb iu">主观性</strong>在<strong class="lb iu">【0.0，1.0】</strong>范围内浮动，其中<strong class="lb iu"> 0.0 </strong>非常<strong class="lb iu">客观</strong><strong class="lb iu">1.0</strong>非常<strong class="lb iu">主观</strong>。它指的是个人的观点、情感或判断。</li></ul><pre class="kj kk kl km gt ot ou ov ow aw ox bi"><span id="e829" class="oa ms it ou b gy oy oz l pa pb"><strong class="ou iu">Democrat_Tweets :</strong><br/>Sentiment(polarity=0.16538325109722254, subjectivity=0.4649093199451984)</span><span id="82af" class="oa ms it ou b gy pc oz l pa pb"><strong class="ou iu">Republican_Tweets:<br/></strong>Sentiment(polarity=0.19837398561739605, subjectivity=0.4590746992419168)</span></pre><h1 id="d01f" class="mr ms it bd mt mu on mw mx my oo na nb jz op ka nd kc oq kd nf kf or kg nh ni bi translated">简单神经网络分类</h1><p id="bf5c" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">现在让我们尝试用一个简单的神经网络<strong class="lb iu">来回答最后一个问题“如果我的<strong class="lb iu"> Twitter </strong>账号更<strong class="lb iu">民主党/共和党】</strong>。</strong>我将利用<a class="ae ky" href="https://keras.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Keras </strong> </a>深度学习库，为<strong class="lb iu">序列分类</strong>开发一个<strong class="lb iu"> LSTM </strong>和<strong class="lb iu">卷积神经网络</strong>模型。</p><p id="5372" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从导入该模型所需的类和函数开始，并将随机数生成器初始化为一个常量值(例如7)，以确保结果可以重现。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="654e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们分割数据集，根据政党变量分层，以便在整个数据集中分别具有大约相似比例的<strong class="lb iu">民主党</strong> &amp; <strong class="lb iu">共和党</strong><strong class="lb iu"><em class="lv">培训&amp;测试</em> </strong>集合。该设置将基于那些<strong class="lb iu"> <em class="lv">推特手柄</em> </strong>，因为我们不希望任何单独的推特出现在两个<strong class="lb iu"> <em class="lv">训练&amp;</em></strong>设置中。</p><p id="82b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实际上，就单词而言，tweets不具有相同的长度，但是在<strong class="lb iu"> Keras </strong>中执行计算需要相同长度的向量。这就是为什么我们需要截断和填充输入tweets，以便它们在建模时长度相同。该模型将了解到零值不携带任何信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="5463" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以定义、编译和拟合我们的LSTM模型:</p><ul class=""><li id="c90b" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">第一层是<strong class="lb iu">嵌入的</strong>层，它使用32个长度向量来表示每个单词。</li><li id="c8d9" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">我们在<strong class="lb iu">嵌入</strong>层之后添加一个一维<strong class="lb iu"> CNN </strong>和一个<strong class="lb iu">最大池</strong>层，然后将合并后的特征提供给<strong class="lb iu"> LSTM </strong>。</li><li id="b00c" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">下一层是<strong class="lb iu"> LSTM </strong>层，带有<strong class="lb iu"> 100 </strong>记忆单元(智能神经元)。</li><li id="72cb" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">最后，因为这是一个分类问题，我们使用一个具有单个神经元的<strong class="lb iu">密集</strong>输出层和一个<strong class="lb iu"> sigmoid </strong>激活函数来为两个类别<strong class="lb iu">民主党/共和党</strong>做出<strong class="lb iu"> 0 </strong>或<strong class="lb iu"> 1 </strong>预测。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/b6e2065847f16eed321a5ee6853acf92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*idQDUgdVefo0alOce3H9eQ.jpeg"/></div></figure><p id="25a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我使用<strong class="lb iu"> epochs=10 </strong>和<strong class="lb iu"> batch_size=64 </strong>来拟合模型。一旦拟合完成，我们就可以评估模型在看不见的推文上的表现:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="7544" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我得到了一个<strong class="lb iu">74.52%的整体准确率。一条推文被错误分类并不罕见，所以也许我们应该考虑每个人推文的整体分类。</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="a21c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过这种调整，我们得到了<strong class="lb iu"> ~93% </strong>的准确度。</p><h1 id="8f1f" class="mr ms it bd mt mu on mw mx my oo na nb jz op ka nd kc oq kd nf kf or kg nh ni bi translated">结论:</h1><p id="d6ca" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">文本分类不仅有趣，而且是从非结构化数据中提取价值的强大工具。<strong class="lb iu"> Twitter </strong>是一个非常受欢迎的社交媒体平台，有数百万用户使用，发布的推文有时可以用来了解公众对某个问题的看法。当你在短短几秒钟内分析数百条推文，并自动获得话题、观点、情绪等信息时，感觉就像变魔术一样</p><p id="a5ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">经过这次研究，我发现我们可以对人们进行分类，看看他们是<strong class="lb iu">民主党</strong>还是<strong class="lb iu">共和党</strong>，结果在某种程度上是准确的。如果情感分析算法得到改进，我们可以用它们来预测今年的下一次总统选举结果。</p><p id="d5db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管如此，开发出来的模型仍然有<strong class="lb iu"> 2 </strong>的主要障碍:</p><ul class=""><li id="94ff" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated"><strong class="lb iu">讽刺</strong>是所有<strong class="lb iu">情感分析算法</strong>的另一个弱点，我们的模型在这个阶段也无法检测到<strong class="lb iu">讽刺</strong>。</li><li id="d6ad" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">由于<strong class="lb iu">推文</strong>可以由任何人发布，并且可能包含拼写&amp;语法错误，拼写错误的关键词可能会被我们的算法错误地分析。</li></ul><h2 id="70be" class="oa ms it bd mt ob oc dn mx od oe dp nb li of og nd lm oh oi nf lq oj ok nh ol bi translated">笔记本:</h2><div class="pe pf gp gr pg ph"><a href="https://github.com/chouhbik/Sentiment-Analysis-of-Tweets/blob/master/Tweets%20Analysis%20DemvsRep.ipynb" rel="noopener  ugc nofollow" target="_blank"><div class="pi ab fo"><div class="pj ab pk cl cj pl"><h2 class="bd iu gy z fp pm fr fs pn fu fw is bi translated">chouhbik/推特情感分析</h2><div class="po l"><h3 class="bd b gy z fp pm fr fs pn fu fw dk translated">permalink dissolve GitHub是4000多万开发人员的家园，他们一起工作来托管和审查代码，管理…</h3></div><div class="pp l"><p class="bd b dl z fp pm fr fs pn fu fw dk translated">github.com</p></div></div><div class="pq l"><div class="pr l ps pt pu pq pv ks ph"/></div></div></a></div><h1 id="ab5d" class="mr ms it bd mt mu on mw mx my oo na nb jz op ka nd kc oq kd nf kf or kg nh ni bi translated">参考资料:</h1><ul class=""><li id="d472" class="lw lx it lb b lc nj lf nk li pw lm px lq py lu mb mc md me bi translated"><strong class="lb iu">TweetCongress.org:</strong>T20】http://www.tweetcongress.org/tweeters</li><li id="11f9" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><strong class="lb iu">美汤:</strong>T24】https://www.crummy.com/software/BeautifulSoup/bs4/doc</li><li id="0eaf" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><strong class="lb iu">社交供稿经理:</strong><a class="ae ky" href="https://gwu-libraries.github.io/sfm-ui/" rel="noopener ugc nofollow" target="_blank">https://gwu-libraries.github.io/sfm-ui/</a></li><li id="fa0e" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><strong class="lb iu">Scikit-learn:</strong>T32】https://scikit-learn.org/stable/index.html</li></ul><p id="9bb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你设法来到这里，恭喜你。感谢阅读，我希望你喜欢它。关于机器学习的个人接触或讨论，请随时在<a class="ae ky" href="https://www.linkedin.com/in/kamal-chouhbi/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> LinkedIn </strong> </a> <strong class="lb iu"> </strong>上联系我，别忘了在<a class="ae ky" href="https://github.com/chouhbik" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> GitHub </strong> </a>和<a class="ae ky" href="https://medium.com/@chouhbik" rel="noopener"> <strong class="lb iu"> Medium </strong> </a> <strong class="lb iu">上关注我。</strong></p><div class="pe pf gp gr pg ph"><a href="https://github.com/chouhbik" rel="noopener  ugc nofollow" target="_blank"><div class="pi ab fo"><div class="pj ab pk cl cj pl"><h2 class="bd iu gy z fp pm fr fs pn fu fw is bi translated">chouhbik —概述</h2><div class="po l"><h3 class="bd b gy z fp pm fr fs pn fu fw dk translated">在GitHub上注册你自己的个人资料，这是托管代码、管理项目和构建软件的最佳地方…</h3></div><div class="pp l"><p class="bd b dl z fp pm fr fs pn fu fw dk translated">github.com</p></div></div><div class="pq l"><div class="pz l ps pt pu pq pv ks ph"/></div></div></a></div></div></div>    
</body>
</html>