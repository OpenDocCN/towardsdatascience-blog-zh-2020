<html>
<head>
<title>Easy production deployment of keyword extraction algorithm using Algorithmia</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Algorithmia 轻松实现关键字提取算法的生产部署</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/easy-production-deployment-of-keyword-extraction-algorithm-using-algorithmia-f5dfc231832a?source=collection_archive---------42-----------------------#2020-04-19">https://towardsdatascience.com/easy-production-deployment-of-keyword-extraction-algorithm-using-algorithmia-f5dfc231832a?source=collection_archive---------42-----------------------#2020-04-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="638a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">基于 Algorithmia 的关键词抽取 NLP 模型的无服务器生产部署</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2742c49631b90413f0d8417797a54990.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bsR0yynF5DvUogiBEq1iwg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://pixabay.com/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>并由<a class="ae ky" href="https://chrome.google.com/webstore/detail/aiartist/odfcplkplkaoehpnclejafhhodpmjjmk" rel="noopener ugc nofollow" target="_blank">艺术 Chrome 插件</a>风格化</p></figure><p id="94b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最近，我发布了我的副业项目<a class="ae ky" href="https://chrome.google.com/webstore/detail/aiartist/odfcplkplkaoehpnclejafhhodpmjjmk" rel="noopener ugc nofollow" target="_blank"> AiArtist </a>，这是一个 chrome 扩展，可以自动为任何给定的故事或文章建议无版权的图片。构建广告的一个关键部分是从任何文本中提取关键字并将其部署到产品中。</p><p id="2abf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天我们将看到我如何使用<a class="ae ky" href="https://github.com/boudinfl/pke" rel="noopener ugc nofollow" target="_blank"> Python 关键短语提取库</a>，Spacy 来开发一个关键词提取算法，并使用<a class="ae ky" href="https://algorithmia.com/" rel="noopener ugc nofollow" target="_blank"> Algorithmia </a>以无服务器方式将其部署到生产中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/65ac4d2b4494d339d7008f30fcdc635b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vmD3IbD-mGOc6xhy8sYPDA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">自动建议图像</p></figure><p id="9320" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章的主要图片是由 AiArtist 通过给出文章的标题<strong class="lb iu">自动建议的。</strong></p><p id="0931" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始吧:</p><h2 id="8ec3" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">投入</h2><p id="771f" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">算法的输入将是一些我们从中提取关键字的文本。例如:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="85e2" class="lw lx it mv b gy mz na l nb nc">Ahead of its mid-2020 world premiere, the first set of images of the updated Fortuner has surfaced online. While the Fortuner facelift's India launch is still some time away, these images give us a clear idea of what to expect from the mid-cycle update of Toyota's popular SUV.With this update, the Toyota Fortuner gets cosmetic restyling at the front, with a bumper and grille design that's now in line with newer Toyota SUVs like the RAV4 and Raize. The grille is a lot slimmer and has glossy black bits instead of the chrome trim, and the bumper is more pronounced with triangle-shaped faux air intakes on each corner. Also, the headlight shape seems to be mildly altered with new inserts that make the refreshed Fortuner look sharper than the pre-facelift version. The gloss-black finish on the skid plate completes the visual update for the SUV. The Fortuner facelift is also expected to get styling tweaks to the rear, including a mildly restyled bumper and tail-lamp inserts. There is no news on the interior upgrades for the updated Fortuner but it is safe to expect a better infotainment system and some minor changes. As far as engines go, Toyota sells the Fortuner with multiple petrol and diesel options globally, and the list includes 2.7 and 4.0-litre petrol engines, and diesel engines with 2.4, 2.8- and 3.0-litre displacements, depending on the market.</span></pre><h2 id="487b" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">输出</h2><p id="2bfe" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">输出将是文章中的关键字列表:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="daad" class="lw lx it mv b gy mz na l nb nc">[ "fortuner",   "bumper",   "toyota",   "update",   "grille design",   "toyota suvs" ]</span></pre><h2 id="d029" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">在 Algorithmia 上部署</h2><p id="d842" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">登录<a class="ae ky" href="https://algorithmia.com/" rel="noopener ugc nofollow" target="_blank"> Algorithmia </a>并点击仪表板中的<strong class="lb iu">创建新算法&gt;算法</strong>。输入一个算法名，例如:<strong class="lb iu">关键字提取，</strong>保留所有默认设置<strong class="lb iu"> </strong>，点击<strong class="lb iu">创建新算法。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/acf97b2ec2fc9d8283958dee399e40f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n79K5ZZG9amqCtepwlpanA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Algorithmia 仪表板</p></figure><p id="7202" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦创建了算法，点击<strong class="lb iu">源代码</strong>选项卡。您将被带到如下所示的 IDE</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/9340c813fb9f3eec42540bfee392d24e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uDkbA22nfVpknGQmv4KWAg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">源代码集成开发环境</p></figure><p id="ac2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在自动创建的关键字 Extraction.py 中输入下面的代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="2f12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单击依赖项选项卡，输入以下内容，然后单击保存依赖项—</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="fce5" class="lw lx it mv b gy mz na l nb nc">algorithmia&gt;=1.0.0,&lt;2.0<br/>six<br/>git+git://github.com/boudinfl/pke.git<br/>spacy==2.2.4<br/>nltk==3.3<br/>thinc==7.4.0<br/><a class="ae ky" href="https://github.com/explosion/spacy-models/releases/download/en_core_web_sm-2.2.5/en_core_web_sm-2.2.5.tar.gz" rel="noopener ugc nofollow" target="_blank">https://github.com/explosion/spacy-models/releases/download/en_core_web_sm-2.2.5/en_core_web_sm-2.2.5.tar.gz</a></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/747cfec0ac6358fe5fbcb2a61870b3c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O1nHgnGxEG1lOQQ1vt5cHg.png"/></div></div></figure><p id="9b26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在 IDE 的主控制台中点击<strong class="lb iu">保存</strong>，并点击<strong class="lb iu">构建</strong>。你会看到算法版本 XXXXX 现在在线。现在输入任何示例文本，例如:<strong class="lb iu">“老虎杀死了鹿”</strong>，并查看关键字<strong class="lb iu"> [“老虎”、“鹿”] </strong>的输出</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/afea04154231e43b2853c97a1136972e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_ZA_MC-x4A4bmAsJxgF9xg.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/cbf5937bcc3cc8347d23a97d559a0d72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gW7l9wyjkbCePdBbxtxIMA.png"/></div></div></figure><p id="fa97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你的算法可以工作了，可以发布了。点击<strong class="lb iu">发布。</strong></p><p id="bb2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在发布工作流程中输入所有细节，如输入/输出，然后最后点击<strong class="lb iu">发布版本 x.x.x </strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/c9f9cc7268a0169312493850176553f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1DeIrJ7jNy9VNoJj22karw.png"/></div></div></figure><p id="80bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你的算法已经可以使用了。您可以在双引号之间输入任何文本，并点击<strong class="lb iu">运行示例</strong>查看输出。</p><p id="cadc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以使用任何编程语言并通过 API 调用算法，如<strong class="lb iu">安装和使用</strong>部分所示-</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/3f78404722946c78d4f463550812e126.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ez2K4Ujh8ZLenOPYRrED6w.png"/></div></div></figure><p id="5e3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您已经正式将一种高效的关键字提取算法以无服务器的方式部署到生产环境中。恭喜你！</p><h2 id="179a" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">注意事项:</h2><ol class=""><li id="e345" class="nm nn it lb b lc mp lf mq li no lm np lq nq lu nr ns nt nu bi translated">我只从文章中提取名词关键词。您可以相应地更改代码来提取其他词类关键字。</li><li id="e6d8" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated">PKE 图书馆使用 spacy.load('en ')在内部加载 spacy 英语模型。但是 Algorithmia 并不像他们博客中提到的那样支持它。</li></ol><p id="1586" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您使用的库依赖于在<code class="fe oa ob oc mv b">en_core_web_md</code>和<code class="fe oa ob oc mv b">en</code>之间创建符号链接的空间，请找到一个替代库，因为我们不支持手动创建该符号链接</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/ef56e8515086c2985572990e8c8dbbbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DCEHTAbPll_AG3QgjVOS_w.png"/></div></div></figure><p id="7026" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是我们通过在 Spacy 代码中动态链接"<strong class="lb iu"> en_core_web_sm </strong>"到"<strong class="lb iu"> en </strong>"巧妙地解决了这个问题。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="2605" class="lw lx it mv b gy mz na l nb nc"># Link spacy code<br/>import spacy<br/>model_name = "en_core_web_sm"<br/>from spacy.cli import link<br/>from spacy.util import get_package_path<br/>package_path = get_package_path(model_name)<br/># print (package_path)<br/>link(model_name, "en", force=True, model_path=package_path)</span></pre><h1 id="ba44" class="oe lx it bd ly of og oh mb oi oj ok me jz ol ka mh kc om kd mk kf on kg mn oo bi translated">使用自然语言处理的问题生成——教程</h1><p id="a8d7" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">我推出了一个非常有趣的 Udemy 课程，名为“使用 NLP 生成问题”,扩展了这篇博文中讨论的一些技术。如果你想看一看，这里是<a class="ae ky" href="https://www.udemy.com/course/question-generation-using-natural-language-processing/?referralCode=C8EA86A28F5398CBF763" rel="noopener ugc nofollow" target="_blank">链接</a>。</p></div></div>    
</body>
</html>