<html>
<head>
<title>Leveraging the Power of Jupyter Notebooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用Jupyter笔记本电脑的强大功能</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/leveraging-the-power-of-jupyter-notebooks-26b4b8d7c622?source=collection_archive---------14-----------------------#2020-02-09">https://towardsdatascience.com/leveraging-the-power-of-jupyter-notebooks-26b4b8d7c622?source=collection_archive---------14-----------------------#2020-02-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e01a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">数据科学工具</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/00159e361fcb0bd4b0c15ce25883669c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0rByhbRqUPYlOU-vG2GzIg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="13f4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Jupyter notebook是执行数据分析或执行数据科学(密集型数据预处理、EDA和数据可视化)的最佳平台。尽管Jupyter笔记本中出现了很多很酷的东西，但仍有可能是你没有充分利用你的机器的能力。即使有了高端配置的笔记本电脑，无论是MacBook Pro还是基于Windows/Linux的高端GPU，它仍然没有发挥出全部潜力。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lr ls l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:<a class="ae lt" href="https://giphy.com/" rel="noopener ugc nofollow" target="_blank"> giphy </a></p></figure><p id="1a69" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">是的，那是真的。这是我最近在一个项目中的经历，我的数据集和所有文件总共大约有37gb。每当我试图创建spark数据帧并在其上执行数据处理时，我的RAM就会崩溃，而在我的活动监视器中，我的RAM使用并不是问题。事实上，我的内存只有不到四分之一被使用。</p><p id="9b79" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这时我意识到问题可能出在Jupyter笔记本上。事实证明，Jupyter达到了内存上限。现在，这是我觉得非常重要的事情，因为我以前在处理较小的数据集时没有遇到过这样的问题。</p><blockquote class="lu"><p id="68d4" class="lv lw iq bd lx ly lz ma mb mc md lq dk translated">即使在拥有一台高端机器后，我也没有充分利用我的机器</p></blockquote></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ml"><img src="../Images/0122cbf587796c4e5950c868ebbbd24b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bdbdRXZoEsN9UZvrvT9Wtg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:<a class="ae lt" href="https://www.dataquest.io/blog/jupyter-notebook-tutorial/" rel="noopener ugc nofollow" target="_blank"> dataquest </a></p></figure><h1 id="406c" class="mm mn iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">内存不足:</h1><p id="500e" class="pw-post-body-paragraph kv kw iq kx b ky ne jr la lb nf ju ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">我是这样解决这个问题的:</p><p id="a4ac" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我在Mac上做这个，但是这个过程对于Windows或者linux机器来说是非常相似的。</p><ol class=""><li id="3741" class="nj nk iq kx b ky kz lb lc le nl li nm lm nn lq no np nq nr bi translated">打开你的终端，把目录改成<strong class="kx ir">。jupyter </strong>并键入以下命令</li></ol><p id="ee99" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">&gt;光盘。朱皮特</p><p id="3dac" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">&gt; jupyter笔记本-生成-配置</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/dca528cb0a9d0e72c26501796a88a06d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Xo4rIJOpt3eDfNz76vXJA.png"/></div></div></figure><p id="8d4f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这将在<strong class="kx ir">中生成一个<strong class="kx ir">jupyter _ notebook _ config . py</strong>文件。jupyter </strong>文件夹。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/d06b820bcce783e5f4033145dc35ac49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_sn3hQH50_ijx3oHyOfftg.png"/></div></div></figure><p id="7ed1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">2.打开jupyter_notebook_config.py文件并编辑以下属性:</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="34ac" class="ny mn iq nu b gy nz oa l ob oc">NotebookApp.max_buffer_size = your desired value</span></pre><p id="ce47" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您需要取消对该属性的注释，并根据您机器上的RAM数量添加您想要的值。这是我的样子:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/bcbe325b730c5859bca99aa4876caf5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*03s0VOujOnHBe5tt0bsYgg.png"/></div></div></figure><p id="cc11" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在Mac中，属性以c为前缀:</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="43dd" class="ny mn iq nu b gy nz oa l ob oc">c.NotebookApp.max_buffer_size = your desired value</span></pre><p id="fc62" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">请记住，所需的值是在<strong class="kx ir">字节中。</strong>例如，在我的例子中，我希望Jupyter的容量大约为12g，所以我放了<strong class="kx ir"> 12000000000 </strong>字节。</p><p id="078e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">3.另一种更简单的方法是在终端中键入以下命令:</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="9269" class="ny mn iq nu b gy nz oa l ob oc">jupyter notebook --NotebookApp.max_buffer_size=your_value</span></pre><p id="af44" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">瞧啊。你都准备好了。这将提高您的处理任务，并利用您的机器的高端配置。</p><h1 id="558a" class="mm mn iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">IOPub数据速率:</h1><p id="b3b4" class="pw-post-body-paragraph kv kw iq kx b ky ne jr la lb nf ju ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">使用Jupyter环境时可能遇到的另一个常见问题是<strong class="kx ir"> IOPub数据速率。</strong>错误如下所示:</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="641e" class="ny mn iq nu b gy nz oa l ob oc">IOPub data rate exceeded.<br/>The notebook server will temporarily stop sending output<br/>to the client in order to avoid crashing it.<br/>To change this limit, set the config variable<br/>`--NotebookApp.iopub_data_rate_limit`.<br/><br/>Current values:<br/>NotebookApp.iopub_data_rate_limit=1000000.0 (bytes/sec)<br/>NotebookApp.rate_limit_window=3.0 (secs)</span></pre><p id="8ae1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当您想要使用python可视化库(如Plotly、matplotlib、seaborn等)可视化大量数据时，通常会出现这种情况。jupyter的默认配置未设置为处理过量的数据，因此出现此错误消息。我曾经在使用可视化库可视化大型数据集时遇到过这种错误，但是当您使用Jupyter处理大量数据或有大量数据交换时，您可能会遇到这种数据。</p><p id="806b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里有一个简单的方法来解决这个问题:</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="b868" class="ny mn iq nu b gy nz oa l ob oc">jupyter notebook <!-- -->--NotebookApp.iopub_data_rate_limit<!-- -->=your_value</span></pre><p id="e44d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">请记住，所需的值是以<strong class="kx ir">字节表示的。</strong>例如，在我的例子中，我希望Jupyter处理数据的上限达到10g，所以我将<strong class="kx ir">设为10000000000 </strong>字节。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="626b" class="ny mn iq nu b gy nz oa l ob oc">jupyter notebook --NotebookApp.iopub_data_rate_limit=10000000000</span></pre><p id="57b6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你都准备好了！</p><p id="2a82" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">编码快乐！:)</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od ls l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:<a class="ae lt" href="https://giphy.com/" rel="noopener ugc nofollow" target="_blank">吉菲</a></p></figure></div></div>    
</body>
</html>