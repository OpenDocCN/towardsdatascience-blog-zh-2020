<html>
<head>
<title>How to Create Your Own Chatbot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建自己的聊天机器人</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-create-your-own-chatbot-a70120b34b42?source=collection_archive---------48-----------------------#2020-05-01">https://towardsdatascience.com/how-to-create-your-own-chatbot-a70120b34b42?source=collection_archive---------48-----------------------#2020-05-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6576" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Dialogflow构建对话体验</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bea55a07b7b23e9c681bf3160204d021.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*H8Kkz_ZUcBnMDAfY"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">沃洛季米尔·赫里先科在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="752a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="1ec5" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在新冠肺炎一级防范禁闭的情况下，你有没有发现自己时不时地自言自语？别担心，我会向你展示如何创建一个聊天机器人，这样你就可以和机器人版本的你说话了。</p><p id="df02" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">玩笑归玩笑，聊天机器人有相当多的用例:</p><ol class=""><li id="2544" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">改善客户服务体验——使用聊天机器人，用户可以根据需要获得客户服务，而不必排队。</li><li id="c46d" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">简化购买订单流程—使用聊天机器人，用户可以轻松购买他们想要的东西(例如购买比萨饼)，而不必拨打热线电话。</li><li id="1ae7" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">自动回复——对于重复的问题，如退款问题、运输问题或支付问题，聊天机器人可以根据知识库提供回复。</li><li id="c689" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">减少客户服务工作量——我们可以将普通任务外包给聊天机器人，只要求客户服务人员完成更复杂的任务。</li><li id="7ad0" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">或者甚至提高自己的工作效率——你甚至可以创建一个聊天机器人来帮助你点播物品，播放你最喜欢的视频或者在你的日历上写一个任务。</li></ol><p id="465d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">有很多聊天机器人服务，但这篇文章将集中在谷歌的<a class="ae kv" href="https://dialogflow.com/" rel="noopener ugc nofollow" target="_blank">对话流</a>。这篇文章将带你为我的虚构业务——pizza eiou创建一个聊天机器人。正如你可能猜到的，我们卖比萨饼。由于我们有现金流问题，我必须确保我的聊天机器人服务是免费的。当我们不再有现金流问题时，我就可以查看他们的<a class="ae kv" href="https://cloud.google.com/dialogflow/pricing" rel="noopener ugc nofollow" target="_blank">定价方案</a>来升级我的聊天机器人。</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="d7e0" class="kw kx iq bd ky kz nk lb lc ld nl lf lg jw nm jx li jz nn ka lk kc no kd lm ln bi translated">代理人</h1><p id="8a0d" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">聊天机器人从代理开始。我将把我的代理人命名为<em class="np">代理人1 </em>，因为我没有足够的创造力来想出一个名字。代理负责存储意图、实体、内容和履行。简而言之，代理就是你的聊天机器人。</p><p id="8271" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在转到Dialogflow并使用我的个人Gmail帐户登录控制台后，我看到了以下页面:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/8f52db49178fefc33e6407d4af925077.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J3DW6UUjVJMWvuknu3NsDw.png"/></div></div></figure><p id="a050" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">让我们继续创建一个代理:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/0dc493f383a348934fb0d864467e521a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ITxZ_6ZGxm2Usd6q9Dl4lA.png"/></div></div></figure></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="8498" class="kw kx iq bd ky kz nk lb lc ld nl lf lg jw nm jx li jz nn ka lk kc no kd lm ln bi translated">意图</h1><p id="7d8f" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">一旦我创建了我的代理，我将会看到两个默认的意图:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/b171716d8aa127121ec3e5157cee5f58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Q5Dgs1D2wXxrksYbigwZw.png"/></div></div></figure><p id="57f8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">意图就像主题。每当我的客户向代理1询问某个问题时，代理1会尝试将问题归类到一个意图/主题下。</p><p id="3df1" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果问题对agent_1来说太复杂，该问题将属于<strong class="lq ir">回退意图</strong>，其中代理将为她不理解的所有问题提供标准化回答。</p><p id="ae81" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">第二个默认意图是<strong class="lq ir">欢迎意图</strong>。是的，你是对的。欢迎意向为问候agent_1的客户提供默认回复。</p><h2 id="925b" class="nt kx iq bd ky nu nv dn lc nw nx dp lg lx ny nz li mb oa ob lk mf oc od lm oe bi translated">快速注释:</h2><p id="c2a0" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在这篇文章中，我将定期测试我的聊天机器人。每当我们配置代理时，我们首先要保存代理。这将允许Dialogflow培训我们的代理。其次，我们可以在右边的聊天中键入任何我们想要的命令。然后，我们可以观察agent_1的输出。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/4060cc8d02c6fc492de6438535e34103.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DkiMWXfEm-OG7UkzrWCtdQ.png"/></div></div></figure><h2 id="6845" class="nt kx iq bd ky nu nv dn lc nw nx dp lg lx ny nz li mb oa ob lk mf oc od lm oe bi translated">披萨订单</h2><p id="1eea" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">让我们为比萨饼订单创建一个意向。在任何意图中，都有训练短语。这些是客户会键入的短语。记得使用各种各样的短语，以便我们的代理可以更聪明。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/98ff0ddfca0371bc4a597af2c3139cdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O31iSbiyuijg7BEB3xca5Q.png"/></div></div></figure><p id="1714" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">当然，对于问题，必须有回答(暂时忽略$符号，我们稍后会谈到):</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/40ba26f34e72efaca06455b978f682cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ABDRrkVOCxi-F29jTWgvrg.png"/></div></div></figure><p id="5090" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在测试了agent_1之后，我们发现它是有效的！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/a1cecf76708acef7958586859cb04ffd.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*oLKofuB6jxo7Ffw4qT1dew.png"/></div></figure></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="097c" class="kw kx iq bd ky kz nk lb lc ld nl lf lg jw nm jx li jz nn ka lk kc no kd lm ln bi translated">实体</h1><p id="55e4" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">agent_1能回复披萨订单真是太好了。但是，什么是<em class="np">披萨</em>？什么是<em class="np">培根</em>？什么是<em class="np">草莓奶昔</em>？对于agent_1来说，这是一个非常陌生的术语。因此，让我们定义<strong class="lq ir">实体</strong>。实体有助于识别句子中的何人、何事、何地、何时。</p><p id="b998" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">让我们定义一个实体来帮助agent_1理解比萨饼配料:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/b53aa08418cd85fab9afe59fbee4a209.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AcRd8zpuVeE8UZpVjsAaxA.png"/></div></div></figure><p id="52f2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在我的pizza_topping实体中，我指定了Pizzaeiou提供的所有浇头。通过勾选“定义同义词”框，我允许不同的单词到达同一个词根，如第三行bacon示例所示。</p><p id="da00" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">通过勾选第三个框“允许自动扩展”，我们可以允许agent_1学习新单词。例如，如果所有客户都要求将“apple”作为比萨饼配料，agent_1会自动将apple包含到该实体中。当然，没有人会喜欢苹果作为披萨的配料..因此，我不会勾选这个框。</p><h2 id="d909" class="nt kx iq bd ky nu nv dn lc nw nx dp lg lx ny nz li mb oa ob lk mf oc od lm oe bi translated">注释训练短语</h2><p id="cf4c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">定义了我们的实体后，让我们将它投入使用。让我们在披萨上标注我们的训练短语。订购意图:</p><ol class=""><li id="b0cb" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">双击单词“鸡”</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/e669316937e34ad96e3031e0ea998c8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*qntcBE1-nXl0psDPua3ifg.png"/></div></figure><p id="6602" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">2.搜索我们预定义的pizza_topping实体:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/55dad1ca7b24989ea079aa51de60f959.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*p8p4gSbFngGCvOkXIedOiw.png"/></div></figure><p id="4dae" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">3.Agent_1现在将鸡肉视为披萨的配料:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/ea973d8bd6056084b77845a52006791f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wFe6LaYR1uo7LIeu5CUscg.png"/></div></div></figure><h2 id="76e9" class="nt kx iq bd ky nu nv dn lc nw nx dp lg lx ny nz li mb oa ob lk mf oc od lm oe bi translated">让你的实体更有创造力</h2><p id="a2d1" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">几个实体可以定义或随时可用:</p><ol class=""><li id="09b8" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">系统实体—时间、日期、数字都是预定义实体的例子。您不必为它们创建实体。Dialogflow会自动将“现在”、“下午4点”、“十月”标记为日期或时间实体。</li><li id="43f2" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">复合实体——假设披萨店也卖饮料。我们当然可以把“奶昔”定义为我们的饮料。然而，我们如何定义“大杯草莓奶昔”是我们的饮料呢？当然，我们不希望agent_1将“大草莓奶昔”理解为“大草莓”和“奶昔”，那将是灾难性的。因此，我们可以定义一个名为<em class="np"> drinks_composite </em>的实体，并指定不同类型的订单。切记不要勾选“定义同义词”</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/5206e79fb5febbba063e3d5ea178e684.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FkANfVDENf_TDaht3eMHcw.png"/></div></div></figure><p id="cb85" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">当然，我们必须具体说明我们提供的口味类型:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/395f18b02e0e552069f1fce1ed579389.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XL3s-h8pP-UqwgRkpDMGdA.png"/></div></div></figure><h1 id="8043" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">缝隙填充</h1><p id="4c6b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">“我的顾客总是点披萨。我怎么知道他们想要巧克力披萨还是鸡肉披萨？！他们什么时候想要？！他们想要个人披萨还是大披萨？!"—代理_1</p><p id="1be3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">Agent_1现在已经受够了。她很难完成订单。让我们帮助她，确保我们的顾客总是提供尺寸、时间和配料:</p><ol class=""><li id="4eb4" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">用实体注释我们的训练短语</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/ca4de6abba1b344fe6fc369c37aa2f83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wx10yTOmmiBzaz-DhoTTdw.png"/></div></div></figure><p id="3245" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">2.创建动作和参数。勾选所需参数，并定义用户未能提供参数时的提示</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/f0179a6d5c68fb7e7a643d793256cffb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1RwQspDG3zu-P9kE4DfqVw.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/0c533d46f13976d6caa8a9f056e70709.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PNOuxBHgHNsyO4d510W58w.png"/></div></div></figure><p id="0d10" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">3.修改我们的回答。包括带有“$”符号的参数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/923ea58427b20425d4bbe828d8b02d25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PAv1cg7_YwXTO8tG0LBHRQ.png"/></div></div></figure><h2 id="c133" class="nt kx iq bd ky nu nv dn lc nw nx dp lg lx ny nz li mb oa ob lk mf oc od lm oe bi translated">让我们来测试一下！(记得先保存您的代理)</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/c6abfd635bdcbe8afb025680e31c315f.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*4PR3uXEpNFxvkh-jE-Dybg.png"/></div></figure><p id="5a51" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如您所见，通过一个模糊的请求，agent_1开始询问我们的客户以获取更多信息。</p><div class="kg kh ki kj gt ab cb"><figure class="ou kk ov ow ox oy oz paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/f5e309b1409092f666753ef57964eff3.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*k0mPEnhJZywWWVUwNmJAvg.png"/></div></figure><figure class="ou kk pa ow ox oy oz paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/89b9fea13b4f76ccd8a8d81cc3b356e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*rFBTR6nAYyqyR9f4kGi9HA.png"/></div></figure><figure class="ou kk pb ow ox oy oz paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/9d703429073d11a11b104e0795cff8b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*xFxOUpJe0PoK3LEN8-xUzQ.png"/></div></figure></div><h1 id="4b5b" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">上下文</h1><p id="e7d4" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">由于Pizzaeiou正面临现金流问题，我们应该开始向那些想要披萨的人追加销售饮料。目前，对话将会这样进行:</p><blockquote class="pc pd pe"><p id="d76c" class="lo lp np lq b lr mk jr lt lu ml ju lw pf mm lz ma pg mn md me ph mo mh mi mj ij bi translated">顾客:我现在想要一个小蘑菇比萨饼</p><p id="9b8b" class="lo lp np lq b lr mk jr lt lu ml ju lw pf mm lz ma pg mn md me ph mo mh mi mj ij bi translated">代理1:当然，你想喝点什么吗？</p><p id="ceab" class="lo lp np lq b lr mk jr lt lu ml ju lw pf mm lz ma pg mn md me ph mo mh mi mj ij bi translated">顾客:好的</p><p id="ea98" class="lo lp np lq b lr mk jr lt lu ml ju lw pf mm lz ma pg mn md me ph mo mh mi mj ij bi translated">抱歉，那是什么？</p></blockquote><p id="c4c2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在这种情况下，没有<em class="np">上下文。</em> Agent_1无法理解对话的<em class="np">流程</em>。因此，让我们创建一个<em class="np">追加销售_饮料_是</em>意向和一个<em class="np">追加销售_饮料_否</em>意向。在此之前，我们必须修改我们的<em class="np"> pizza.order </em>意图，以产生一个<em class="np">追加销售饮料</em>上下文:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/b7505059af6e3407d516531bfe5e2b1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*FhyNwe_jXpJNsX1-rtyzLA.png"/></div></figure><p id="ec16" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">数字5表示该上下文将持续的交互次数。然后，我们可以将我们的<em class="np"> upsell_drinks_yes </em>和<em class="np"> upsell_drinks_no </em>意图的输入上下文设置为我们的<em class="np"> pizza.order </em>意图的输出，并指定一些示例训练短语:</p><div class="kg kh ki kj gt ab cb"><figure class="ou kk pj ow ox oy oz paragraph-image"><img src="../Images/9cbb36195cbe14baa38349503014e438.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*1FaT--C4f-fTz9Pjbss_dA.png"/></figure><figure class="ou kk pk ow ox oy oz paragraph-image"><img src="../Images/75cb6aa3df51d22dbdd868e8d9dbec20.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*bQNE-83QKZcSN3NJ3qJxKA.png"/></figure></div><h2 id="2bbe" class="nt kx iq bd ky nu nv dn lc nw nx dp lg lx ny nz li mb oa ob lk mf oc od lm oe bi translated">让我们来测试一下！</h2><div class="kg kh ki kj gt ab cb"><figure class="ou kk pl ow ox oy oz paragraph-image"><img src="../Images/076f738c2a7d9ae68e0f1426506c4b26.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*lY4IuJVH7Rg5TNWSzUhAog.png"/></figure><figure class="ou kk pm ow ox oy oz paragraph-image"><img src="../Images/6ee0c262aad2a4cbc8b5f899e0a07c2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*wO7iMnqf535ggWAek7EXNw.png"/></figure></div><h1 id="fe16" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">实现</h1><p id="f6f5" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">现在我们已经收到了一个订单，我们需要将其推送到一个数据存储，以便Pizzaeiou的厨房可以获得订单！这可以通过满足来实现。有两种履行方式:</p><ol class=""><li id="e54d" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated"><a class="ae kv" href="https://cloud.google.com/dialogflow/docs/fulfillment-inline-editor" rel="noopener ugc nofollow" target="_blank">内联编辑器</a>:你可以通过你创建的云函数将你的订单推送到你的数据库中。这通常用于测试目的。您应该切换到Webhook进行部署。</li><li id="623e" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">Webhook  : Webhook允许不同的应用程序通过JSON请求相互交流。订单完成后，厨房会立即收到订单详情通知。</li></ol><h1 id="972d" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">导出代理_1</h1><p id="2f5b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">让我们导出agent_1，这样她就可以永远生活在云中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pn"><img src="../Images/02838a858e6756e067a75f30e6797aa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FVVT4h4gbGFDQSKJSy8jrQ.png"/></div></div></figure><h1 id="fae4" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="f4c9" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">瞧啊。我们已经成功地为Pizzaeiou创建了一个聊天机器人。我们现在可以让我们的客户支持人员处理更复杂的问题，而不是接受订单。</p><p id="5a46" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">为了使它完全发挥作用，考虑创造更多的意图、实体和环境，这样你的聊天机器人听起来会尽可能的人性化。也试着创建一个聊天机器人，用于介绍中提到的不同目的。</p><h1 id="e30a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">参考资料:</h1><p id="8c14" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><a class="ae kv" href="https://www.coursera.org/learn/conversational-experiences-dialogflow/" rel="noopener ugc nofollow" target="_blank">https://www . coursera . org/learn/conversation-experiences-dialog flow/</a></p></div></div>    
</body>
</html>