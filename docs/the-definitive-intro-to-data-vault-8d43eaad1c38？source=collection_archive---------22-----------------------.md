# Data Vault 的权威介绍

> 原文：<https://towardsdatascience.com/the-definitive-intro-to-data-vault-8d43eaad1c38?source=collection_archive---------22----------------------->

![](img/eb850e3df9becbbb603d96550bb27e6f.png)

## 数据工程

## 以及它与其他传统的数据仓库建模技术(如维度建模)相比如何

本文最后一次更新是在 2022 年 6 月 18 日。

W 随着数据数量的指数级增长和数据种类的大幅增加，企业面临着设计和维护数据仓库和数据集市的问题，这些数据仓库和数据集市必须能够跟上敏捷团队进行软件开发的步伐。过去十年中发生的大数据爆炸迫使我们重新思考我们如何存储、检索和分析数据。

导致我们从关系模型转向维度模型的原因也是导致我们转向 Data Vault 的原因，但有一点不同——Data Vault 不一定是 OLAP 维度模型的替代或升级。对于一些用例来说，这是一个更好的方法，而对于其他用例来说则不是。这同样适用于维度建模。

## 维度建模的替代方案

由于软件应用的不断变化的性质和数据团队的需要，出现了对新的建模技术的需求。在传统的数据仓库建模技术中，非常频繁地进行更改代价很高。另一方面，Data Vault 就是为解决这类问题而设计的。

> 敏捷软件团队需要敏捷数据团队来补充。

传统的数据仓库建模技术，如星型模式，仍然非常相关和有用。Data Vault 刚刚尝试从这两者中吸取思想，使用星型模式的维度建模和第三范式(3NF)的关系建模。

和...一样重要。支持快节奏应用程序开发的是无缝的可伸缩性。云计算使得数据仓库的部署和扩展变得容易，但是由于低效的模型和过度的维护，云数据仓库也会遭受很多损失。如果模型不好，那么无论您向仓库分配多少资源，查询的性能都会很差。

[*Diamler 案例研究——从星型模式转移到数据仓库*](https://www.doag.org/formes/pubfiles/9607836/2017-DA-Andreas_Buckenhofer-Refactoring_eines_bestehenden_DWH_mit_Data_Vault-Praesentation.pdf) *。*

# 什么构成了数据仓库

DataVault 的创建者 Dan Linsteadt 对他的建模方法做了如下描述

> 数据仓库是一个面向细节的、历史跟踪的和唯一链接的标准化表集，支持一个或多个业务功能领域。

记住这些原则，让我们来理解 Data Vault 域中存在的两种不同类型的保险库—原始保险库和业务保险库。Raw Vault 是将来自不同来源的数据加载到 Data Vault 的第一层。该数据未经过滤。另一方面，Business Vault 只不过是 raw vault 的扩展(有时是可选的)。business vault 具有应用于表的所有业务逻辑，例如 case-when 语句、多列计算、断开和连接多列等。business vault 的目的是让**业务用户**更容易访问和理解数据。

> 业务用户可以是营销人员、数据分析师、报告工程师、数据工程师、软件开发人员等等。

[](http://danlinstedt.com/solutions-2/data-vault-basics/) [## 加速商业智能

### 在这里，我们为您的企业集成需求提供同类最佳的混合数据建模解决方案。加入成长…

danlinstedt.com](http://danlinstedt.com/solutions-2/data-vault-basics/) 

在 Data Vault 模型中有 5 种不同类型的表。最初的 Data Vault 规范只有 3 个，Data Vault 2.0 引入了另外 2 个

*   **集线器** —仅包含企业使用的业务密钥(自然密钥)。业务键不应该是替代品(像在一些维度模型中)，它们应该对业务有意义。
*   **Link** —包含各种业务键之间的唯一关系。它本质上是一个映射表，除了不同 hub 之间的映射(使用业务键)之外，没有任何实际数据。
*   **卫星** —包含所有非关键的描述性数据——当前的和历史的。理想情况下，集线器和链路表都应该有几个卫星表。
*   **PIT** —这是卫星表的升级，尤其是当查询中使用的中心有多个卫星表要加入时。
*   **网桥** —就像 PIT 表用于扩展卫星一样，网桥表用于扩展链路，以帮助连接具有多个中枢&链路的连接。

总而言之，数据仓库模型是数据仓库建模中更传统方法的替代方案，原因如下

*   跟上来自源系统的数据的种类和数量，即可伸缩性
*   跟上敏捷软件开发实践所要求的频繁变化
*   为业务用户提供数据的上下文视图，使他们能够轻松地浏览和分析从各种来源生成的数据

# [进一步探索](https://linktr.ee/kovid)

复杂数据环境中的数据仓库建模