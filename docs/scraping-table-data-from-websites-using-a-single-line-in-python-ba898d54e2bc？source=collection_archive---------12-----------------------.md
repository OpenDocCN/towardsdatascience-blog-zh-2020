# ä»ç½‘ç«™æŠ“å–è¡¨æ ¼æ•°æ®â€”ä½¿ç”¨ Python ä¸­çš„ä¸€è¡Œä»£ç 

> åŸæ–‡ï¼š<https://towardsdatascience.com/scraping-table-data-from-websites-using-a-single-line-in-python-ba898d54e2bc?source=collection_archive---------12----------------------->

## æœ¬æ–‡å°†æ•™æ‚¨ä½¿ç”¨ python ä¸­çš„ä¸€è¡Œä»£ç ä»ç½‘ç«™ä¸­æŠ“å–è¡¨æ ¼æ•°æ®çš„æœ€ä½³æ–¹å¼ã€‚

![](img/32afc50825d868d313c1a9edfc9a85fd.png)

ç±³å¡Â·é²æ¢…æ–¯ç‰¹åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šçš„ç…§ç‰‡

# ä»‹ç»

D å¦‚ä»Šï¼Œata å·²ç»æˆä¸ºæœ€æœ‰ä»·å€¼çš„è´§å¸å’Œçè´µå•†å“ï¼Œä½ ä½¿ç”¨å®ƒçš„æ–¹å¼å°†ä½¿ä½ ä¸æ™®é€šäººæœ‰æ‰€ä¸åŒã€‚æ‚¨éœ€è¦è¶³å¤Ÿèªæ˜æ¥è·å–è¿™äº›æ•°æ®ï¼Œè¿™äº›æ•°æ®åœ¨æ‚¨èº«è¾¹éšå¤„å¯è§ï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†èƒ½å¤Ÿå­¦ä¹ ä¸€ç§ç®€å•çš„æ–¹æ³•ï¼Œä½¿ç”¨ python ä¸­çš„ä¸€è¡Œä»£ç ä»ä»»ä½•ç½‘ç«™è·å–è¡¨æ ¼æ•°æ®ã€‚

> å¯¹äºæ•°æ®æ”¶é›†ï¼Œâ€œè¶Šå¿«è¶Šå¥½â€æ°¸è¿œæ˜¯æœ€å¥½çš„ç­”æ¡ˆâ€”â€”ç›ä¸½èÂ·æ¢…è€¶å°”(é›…è™å‰é¦–å¸­æ‰§è¡Œå®˜ï¼)

æ¯å¤©éƒ½æœ‰å¤§é‡å…¬å¼€ç”Ÿæˆçš„æ•°æ®ï¼Œæœ€å¸¸è§çš„æ•°æ®ç±»å‹ä¹‹ä¸€æ˜¯ HTML è¡¨æ ¼ï¼Œæœ‰è®¸å¤šæ–¹æ³•å¯ä»¥å°†è¿™äº›æ•°æ®æ”¾å…¥ç¬”è®°æœ¬ï¼Œå¦‚ä½¿ç”¨ **urllib** å’Œ **BeautifulSoup** ä½†è¿™æ˜¯ä¸€ä¸ªæ¼«é•¿è€Œè€—æ—¶çš„è¿‡ç¨‹ï¼Œæ‚¨å¯ä»¥åœ¨ä¸€è¡Œä»£ç ä¸­ä½¿ç”¨ **pandas** åº“æ¥å®Œæˆç›¸åŒçš„ä»»åŠ¡ã€‚

# æˆ‘ä»¬å¼€å§‹å§

Pandas åº“ä¸­çš„ read_html() æ–¹æ³•æ˜¯ä¸€ä¸ª web æŠ“å–å·¥å…·ï¼Œåªéœ€å°†æ‰€éœ€çš„ URL ä½œä¸ºå‚æ•°æä¾›ç»™è¯¥æ–¹æ³•ï¼Œå°±å¯ä»¥æå–ç½‘ç«™ä¸Šçš„æ‰€æœ‰è¡¨æ ¼ã€‚

**å…ˆå†³æ¡ä»¶:å¯¼å…¥ç†ŠçŒ«åº“**

```
import pandas as pd
```

## **1ã€‚è·å–ç½‘ç«™ä¸Šçš„æ‰€æœ‰è¡¨æ ¼**

åªéœ€ç»™å‡ºä¸€ä¸ª URL ä½œä¸ºå‚æ•°ï¼Œå°±å¯ä»¥è·å¾—è¯¥ç‰¹å®šç½‘ç«™ä¸Šçš„æ‰€æœ‰è¡¨æ ¼ã€‚

```
pandas.**read_html**(URL)
```

**ä¾‹å­**:ä»ç»´åŸºç™¾ç§‘ä¸­è¯»å–æ•°æ®

```
#Data about Cricket World cupURL = ["https://en.wikipedia.org/wiki/Cricket_World_Cup](https://en.wikipedia.org/wiki/Cricket_World_Cup)"tables = pd.read_html(URL)print("There are : ",len(tables)," tables")
print("Take look at table 0")
print(tables[0])
```

## 2.ä»ç½‘ç«™ä¸Šè¯»å–ç‰¹å®šçš„è¡¨æ ¼

å¦‚æœä¸€ä¸ªç½‘ç«™ä¸Šæœ‰å¾ˆå¤šè¡¨æ ¼ï¼Œæ‰¾åˆ°ä½ è¦æ‰¾çš„è¡¨æ ¼å°†ä¼šæ˜¯ä¸€é¡¹ç¹ççš„ä»»åŠ¡ï¼Œä½ ä¸èƒ½åªæ‰‹åŠ¨æœç´¢ä¸€ä¸ªè¡¨æ ¼ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ **read_html()** æ–¹æ³•ä¸­æ·»åŠ ä¸€ä¸ªé¢å¤–çš„å‚æ•°( **match)** æ¥è‡ªåŠ¨æœç´¢æ‰€éœ€çš„è¡¨ã€‚

match å±æ€§å¯ä»¥å°†ä¸€ä¸ª**å­—ç¬¦ä¸²**æˆ–ä¸€ä¸ª**ç¼–è¯‘çš„æ­£åˆ™è¡¨è¾¾å¼**ä½œä¸ºå®ƒçš„å€¼

```
pandas.**read_html**(URL,match = ".+")
```

**ç¤ºä¾‹**:ä½¿ç”¨ match ä½œä¸ºå‚æ•°æ¥æŠ“å–ç‰¹å®šçš„è¡¨æ ¼

```
URL = "https://en.wikipedia.org/wiki/Cricket_World_Cup"tables = pd.read_html(URL,match="Performance details")print("There are : ",len(tables)," tables")print("Take look at table 0")tables[0]
```

![](img/96a50b0f2e60dc3ade41ae579a746845.png)

ç”±è¨ç‰¹é›…Â·åŠ å†…ä»€åˆ›ä½œ

**æ³¨æ„:**æœç´¢ç©ºé—´ç¼©å°ï¼Œè¿™å¯èƒ½æœ‰åŠ©äºæ‚¨å¿«é€Ÿæœç´¢æ‰€éœ€çš„è¡¨

## 3.æ ¼å¼åŒ–è¾“å‡º

```
Useful attributes  
1\. header    : The row to use to make as the column header.
2\. index_col : The column to use to create the index
3\. skiprows  : Number of rows to skip after parsing column integer
```

## **4ã€‚æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡å¦ä¸€ç§æ–¹å¼ç„å‡†ç‰¹å®šçš„è¡¨æ ¼**

```
pandas.**read_html**(URL,attrs = {'html_tag' : 'value'})
```

æˆ‘ä»¬å¯ä»¥é€šè¿‡æ£€æŸ¥è¡¨æ ¼æ¥ç›´æ¥å®šä½å¯¹åº”äºæ‰€éœ€è¡¨æ ¼çš„ HTML æ ‡ç­¾ã€‚

**å¦‚ä½•æ£€æŸ¥è¡¨æ ¼ï¼Ÿ**

å·¦é”®ç‚¹å‡»å·¥ä½œå°å¹¶é€‰æ‹©**æ£€æŸ¥**é€‰é¡¹

![](img/c2f9a0f3b9d4acdc539f21f6f5aa9794.png)

å›¾ç‰‡ç”± Satya Ganesh æä¾›

åœ¨æ£€æŸ¥äº†æŸ¥æ‰¾è¯¥è¡¨ä¸“ç”¨çš„ç›¸å…³æ ‡ç­¾åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°`class:'wikitable'`æ˜¯ä¸€ä¸ªæ ‡è¯†è¯¥è¡¨çš„æ ‡ç­¾ã€‚

![](img/83128a5a03f01e0c14dde65bd1576756.png)

å›¾ç‰‡ç”± Satya Ganesh æä¾›

```
#By using this line of code we can hit the target table directly
pandas.**read_html**(URL,attrs = {'class' : 'wikitable'})
```

# ç»“è®º

è¯»å®Œè¿™ç¯‡æ–‡ç« åï¼Œä½ å°†èƒ½å¤Ÿå¾ˆå¿«ä»ä»»ä½•ç½‘ç«™ä¸Šæ”¶é›†è¡¨æ ¼æ•°æ®ã€‚

# **å‚è€ƒ**

[](https://www.wikipedia.org/) [## ç»´åŸºç™¾ç§‘(ä¸€ä¸ªåŸºäº wiki æŠ€æœ¯çš„å¤šè¯­è¨€çš„ç™¾ç§‘å…¨ä¹¦åä½œè®¡åˆ’ËŒä¹Ÿæ˜¯ä¸€éƒ¨ç”¨ä¸åŒè¯­è¨€å†™æˆçš„ç½‘ç»œç™¾ç§‘å…¨ä¹¦ËŒ å…¶ç›®æ ‡åŠå®—æ—¨æ˜¯ä¸ºå…¨äººç±»æä¾›è‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦)ËŒå¼€æ”¾æ€§çš„ç™¾ç§‘å…¨ä¹¦

### ç»´åŸºç™¾ç§‘æ˜¯ä¸€ä¸ªå…è´¹çš„åœ¨çº¿ç™¾ç§‘å…¨ä¹¦ï¼Œç”±ä¸–ç•Œå„åœ°çš„å¿—æ„¿è€…åˆ›å»ºå’Œç¼–è¾‘ï¼Œç”±ç»´åŸºåª’ä½“æ‰˜ç®¡â€¦

www.wikipedia.org](https://www.wikipedia.org/)  [## pandas.read_html - pandas 0.23.4 æ–‡æ¡£

pandas.pydata.org](https://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.read_html.html) 

# ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å®ƒçš„åº”ç”¨â€¦

[](/impact-of-covid-19-data-visualization-using-python-6f8e3bdc860b) [## æ–°å† è‚ºç‚çš„å½±å“-ä½¿ç”¨ Python è¿›è¡Œæ•°æ®å¯è§†åŒ–

### ä½¿ç”¨ python åœ¨å°åº¦åœ°å›¾ä¸Šå¯è§†åŒ–å† çŠ¶ç—…æ¯’çˆ†å‘çš„åˆçº§æ–¹æ³•ã€‚å½“ä½ åˆ°è¾¾â€¦çš„ç»ˆç‚¹æ—¶

towardsdatascience.com](/impact-of-covid-19-data-visualization-using-python-6f8e3bdc860b) 

# æ„Ÿè°¢é˜…è¯»ğŸ˜ƒè¿‡å¾—æ„‰å¿«