<html>
<head>
<title>So that’s what Apache does!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">所以这就是阿帕奇做的！</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/so-thats-what-apache-does-20e2d648179c?source=collection_archive---------71-----------------------#2020-06-01">https://towardsdatascience.com/so-thats-what-apache-does-20e2d648179c?source=collection_archive---------71-----------------------#2020-06-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e546" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">试试Apache2最简单的应用，是我偶然学到的。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9c84072b21d04ba4ed528a1d92ec6466.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*66Piol1gcbLNbMT44yQY6Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Apache服务器项目徽标</p></figure><p id="5810" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2019年11月，我参加了一个关于'<em class="lu">人工智能和机器学习</em>'的研讨会。与其他人不同，这是一个关于构成机器学习的算法背后的数学的高级研讨会。作为一名本科生，我并不惊讶大部分的数学知识都超出了我的理解范围。</p><p id="3868" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我很感谢工作坊让我接触到了我还没学会的高级数学概念，但直到动手练习的时候，我才发现一些我可以理解的东西。</p><p id="abc9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我对Apache的了解纯属偶然。在动手练习期间，我们的RC想与我们分享他的Jupyter笔记本。由于没有人可以访问学院的云，而且所有其他数据传输方式都不够吸引人，无法与所有人分享，他问是否有人在使用Linux。我是。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/6ab29f5177b33a220fd1292841b06af5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D13qNOZMzBRc9ccxDEI-IQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">“阿帕奇。那好像是游戏！”</p></figure><p id="16f6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">是阿帕奇服务器拯救了我们。我们把文件放在我电脑上运行的Apache服务器上，这样每个人都可以访问它们。这是我在那次研讨会中学到的，我将在这里向您展示如何做类似的事情。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="2c02" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">认识Apache2 Web服务器</h1><p id="32fb" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated"><strong class="la iu"> Apache </strong>是Linux系统上最常用的Web服务器。Web服务器用于为客户端计算机请求的网页提供服务。客户端通常使用Web浏览器应用程序(如Firefox、Opera、Chromium或Internet Explorer)来请求和查看网页。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="2ed5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将使用Apache服务器托管一个包含HTML文件的文件夹。我将展示如何在ubuntu机器上实现这一点。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="9cd4" class="nf me it nb b gy ng nh l ni nj">$ tree folder<br/>folder<br/>└── index.html<br/>0 directories, 1 file</span></pre><p id="1094" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们开始吧。</p><h1 id="2937" class="md me it bd mf mg nk mi mj mk nl mm mn jz nm ka mp kc nn kd mr kf no kg mt mu bi translated">步骤1:安装Apache2</h1><p id="3017" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">我们首先在系统上安装Apache2。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="6339" class="nf me it nb b gy ng nh l ni nj">$ sudo apt-get update<br/>$ sudo apt-get install apache2</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/6418c02ee5b3d3e559da48e9ccca2802.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O6G3PWR5nhU9XWKAfGTfeA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按Enter或键入y继续</p></figure><p id="ed5e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">安装<code class="fe nq nr ns nb b">apache2</code>会在<code class="fe nq nr ns nb b">/etc/init.d/apache2</code>中创建一个可执行文件。我可以通过调用这个文件来管理服务器。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="0eef" class="nf me it nb b gy ng nh l ni nj">$ sudo /etc/init.d/apache.d<br/>[sudo] password for raxit: <br/>Usage: apache2 {start|stop|graceful-stop|restart|reload|force-reload}</span></pre><p id="2812" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">调用不带参数的文件也很有用，因为它会产生用法信息，告知我们各种可用的选项。</p><h1 id="5690" class="md me it bd mf mg nk mi mj mk nl mm mn jz nm ka mp kc nn kd mr kf no kg mt mu bi translated">第二步:试驾</h1><p id="67c3" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">运行<code class="fe nq nr ns nb b">apache2</code>服务器默认加载<code class="fe nq nr ns nb b">var/www/html/</code>文件夹中的<code class="fe nq nr ns nb b">index.html</code>页面。为此，只需启动服务器，并在任何浏览器中输入您的IP地址。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/4092dc64ca786449f07464c6fdc14952.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*S8gDm5H6wOGCdOmGdz6vgQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">默认情况下，Apache2加载这个文件。</p></figure><p id="db78" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是方法。</p><h2 id="8558" class="nf me it bd mf nu nv dn mj nw nx dp mn lh ny nz mp ll oa ob mr lp oc od mt oe bi translated">启动您的Apache服务器</h2><p id="916f" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">安装后，Apache2服务器应该默认运行。使用以下方法检查:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="134c" class="nf me it nb b gy ng nh l ni nj">$ /etc/init.d/apache2 status</span></pre><p id="b157" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果服务器正在运行，您将看到如下消息。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="2a7d" class="nf me it nb b gy ng nh l ni nj">● apache2.service - The Apache HTTP Server<br/>   Loaded: loaded (/lib/systemd/system/apache2.service; enabled; vendor preset: enabled)<br/>  Drop-In: /lib/systemd/system/apache2.service.d<br/>           └─apache2-systemd.conf<br/>   <strong class="nb iu">Active: active (running)</strong> since Mon 2020-06-01 18:13:59 IST; 3s ago<br/>  Process: 5144 ExecStop=/usr/sbin/apachectl stop (code=exited, status=0/SUCCESS)<br/>  Process: 17239 ExecStart=/usr/sbin/apachectl start (code=exited, status=0/SUCCESS)<br/> Main PID: 17243 (apache2)<br/>    Tasks: 55 (limit: 4915)<br/>   CGroup: /system.slice/apache2.service<br/>           ├─17243 /usr/sbin/apache2 -k start<br/>           ├─17244 /usr/sbin/apache2 -k start<br/>           └─17245 /usr/sbin/apache2 -k start</span></pre><p id="385c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果服务器关闭，就像我展示的那样，您会在<code class="fe nq nr ns nb b">Active:</code>消息中看到不同。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="296a" class="nf me it nb b gy ng nh l ni nj">Active: <strong class="nb iu">inactive (dead)</strong> since Fri 2020-05-29 20:38:07 IST</span></pre><p id="d9fb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用<code class="fe nq nr ns nb b">start</code>命令启动<code class="fe nq nr ns nb b">apache2</code>服务器。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="c00c" class="nf me it nb b gy ng nh l ni nj">$ sudo /etc/init.d/apache2 start</span></pre><p id="5449" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">除了在<code class="fe nq nr ns nb b">/etc/init.d/apache2</code>使用可执行文件，你也可以使用<code class="fe nq nr ns nb b">systemctl</code>命令。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="30e9" class="nf me it nb b gy ng nh l ni nj">$ systemctl {start|stop|graceful-stop|restart|reload|force-reload} apache2</span></pre><h2 id="dfd3" class="nf me it bd mf nu nv dn mj nw nx dp mn lh ny nz mp ll oa ob mr lp oc od mt oe bi translated">找出你的IP地址</h2><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="3cdb" class="nf me it nb b gy ng nh l ni nj">$ hostname -I</span></pre><p id="0e1d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这将显示您的IP地址。如果您正在运行网络服务，您将看到多个输出值，如下所示。在这种情况下，我更喜欢使用IPv4地址和IP的第一个值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/c92fad5ec00819b8ca78e209ce4aeccd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z7Ut_14gGnyC3skO96WsMw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Apache2 Ubuntu默认页面和在终端上查找IP的截图。</p></figure><p id="e393" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你会看到Apache2 Ubuntu的默认页面。这意味着Apache服务器是活动的并且正在运行。</p><h1 id="f702" class="md me it bd mf mg nk mi mj mk nl mm mn jz nm ka mp kc nn kd mr kf no kg mt mu bi translated">步骤3:要托管的文件</h1><p id="5c72" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">既然我们已经测试了Apache服务器的工作情况，那么让我们将想要托管的文件复制到合适的位置。在我们的例子中，我们想要托管一个名为<code class="fe nq nr ns nb b">folder</code>的文件夹，其中包含一个名为<code class="fe nq nr ns nb b">index.html</code>的文件。我已经把这个文件夹放在了我们的主目录下。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="6040" class="nf me it nb b gy ng nh l ni nj">$ sudo cp -r ~/folder /var/www/html/</span></pre><p id="bbfe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们必须使用sudo，因为<code class="fe nq nr ns nb b">root</code>拥有<code class="fe nq nr ns nb b">/var</code>，而除了<code class="fe nq nr ns nb b">root</code>之外的用户没有对<code class="fe nq nr ns nb b">/</code>目录的写权限。</p><h1 id="cf52" class="md me it bd mf mg nk mi mj mk nl mm mn jz nm ka mp kc nn kd mr kf no kg mt mu bi translated">第四步:改变所有权</h1><p id="9848" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">为了托管位于<code class="fe nq nr ns nb b">/var/www/html/</code>中的文件，我们需要改变它们的所有权。因为我们使用<code class="fe nq nr ns nb b">sudo</code>复制了<code class="fe nq nr ns nb b">folder</code>，所以文件属于组<code class="fe nq nr ns nb b">root.</code>的用户<code class="fe nq nr ns nb b">root</code></p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="db4d" class="nf me it nb b gy ng nh l ni nj">$ ls -l /var/www/html</span><span id="9e4c" class="nf me it nb b gy og nh l ni nj">total 16<br/><strong class="nb iu">drwxr-xr-x 2 root root  4096 May 29 20:29 folder</strong><br/>-rw-r--r-- 1 <strong class="nb iu">root root</strong> 10918 May 29 20:22 index.html</span></pre><p id="5f39" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我将把<code class="fe nq nr ns nb b">/var/www/html/</code>文件夹的所有权和组更改为<code class="fe nq nr ns nb b">www-data</code></p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="2e38" class="nf me it nb b gy ng nh l ni nj">$ sudo chown -hR www-data:www-data /var/www/html</span></pre><p id="ead3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以使用查看更改</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="bd96" class="nf me it nb b gy ng nh l ni nj">$ ls -l /var/www/html</span><span id="662d" class="nf me it nb b gy og nh l ni nj">total 16<br/>drwxr-xr-x 2 <strong class="nb iu">www-data www-data</strong> 4096 May 29 20:29 folder<br/>-rw-r--r-- 1 <strong class="nb iu">www-data www-data</strong> 10918 May 29 20:22 index.html</span></pre><h1 id="9159" class="md me it bd mf mg nk mi mj mk nl mm mn jz nm ka mp kc nn kd mr kf no kg mt mu bi translated">步骤5:重启Apache服务器</h1><p id="a51e" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">每当我更改托管的文件或服务器的属性时，我都需要重启apache服务器(如果它已经在运行的话)。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e17b" class="nf me it nb b gy ng nh l ni nj">$ sudo /etc/init.d/apache2 restart</span></pre><p id="555a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">或者你也可以这样做:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="0f03" class="nf me it nb b gy ng nh l ni nj">$ sudo systemctl restart apache2</span></pre><h1 id="3474" class="md me it bd mf mg nk mi mj mk nl mm mn jz nm ka mp kc nn kd mr kf no kg mt mu bi translated">第六步:让我们看看我们做了什么。</h1><p id="4b18" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">打开浏览器并转到您的托管文件，即名为<code class="fe nq nr ns nb b">folder</code>的文件夹。由于<code class="fe nq nr ns nb b">folder</code>包含一个<code class="fe nq nr ns nb b">index.html</code>，我们将看到一个网页正在被加载。好了，几乎加载完毕，因为我们没有包括任何样式表和资源。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="ae3b" class="nf me it nb b gy ng nh l ni nj">http://&lt;your-ip-address&gt;/folder/</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/4f0b2052c95cf1a138ccf6c82dc97f19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-HBvRA1j3vvAB1V_q46k9g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在那里！</p></figure><p id="3965" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您在<code class="fe nq nr ns nb b">folder</code>中放置了一个<code class="fe nq nr ns nb b">.zip</code>文件，您可以很容易地下载它。我在车间就是这么做的。</p><h1 id="7baa" class="md me it bd mf mg nk mi mj mk nl mm mn jz nm ka mp kc nn kd mr kf no kg mt mu bi translated">当你完成的时候。</h1><p id="52b8" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">现在我已经完成了服务器，是时候关闭它了。我们可以很容易地使用</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="4ec6" class="nf me it nb b gy ng nh l ni nj">$ sudo /etc/init.d/apache2 stop</span></pre><p id="4011" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">或者</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="4f86" class="nf me it nb b gy ng nh l ni nj">$ sudo systemctl stop apache2</span></pre><p id="0a29" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您经常使用apache2，并且希望它在您启动设备时运行，那么您可以使用</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="964a" class="nf me it nb b gy ng nh l ni nj">$ sudo systemctl enable apache2</span></pre><p id="af17" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">禁用相同的用途</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e179" class="nf me it nb b gy ng nh l ni nj">$ sudo systemctl disable apache2</span></pre><h1 id="a249" class="md me it bd mf mg nk mi mj mk nl mm mn jz nm ka mp kc nn kd mr kf no kg mt mu bi translated">进一步阅读</h1><p id="01aa" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">要了解关于apache2的更多信息，您可以阅读系统上的手册页。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="f776" class="nf me it nb b gy ng nh l ni nj">$ man apache2</span></pre><p id="cf82" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我推荐查看一下<a class="ae oi" href="https://httpd.apache.org/" rel="noopener ugc nofollow" target="_blank"> <em class="lu"> Apache HTTPD服务器项目</em> </a>的官方页面。关于Ubuntu服务器的更多帮助，请查看Canonical的<em class="lu"> Ubuntu服务器指南。</em></p><p id="e9a0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我的<a class="ae oi" href="https://github.com/rakshitraj/" rel="noopener ugc nofollow" target="_blank"> <em class="lu"> Github </em> </a> <em class="lu">个人资料上查看更多我的作品。</em></p><p id="f6c9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lu">我建议你自己尝试一下代码。实现本文中提到的Apache服务器所花费的时间比您阅读它所花费的时间要少！</em></p><p id="c01a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！</p></div></div>    
</body>
</html>