# Chipotle 如何重新赢得顾客？

> 原文：<https://towardsdatascience.com/yelp-review-analysis-for-chipotle-with-natural-language-processing-bf4b3e5db140?source=collection_archive---------42----------------------->

## 针对 Chipotle 的 Yelp 评论分析，包含情感分析、词云和主题建模

![](img/643d7ef87b8bbd5531a2a9fe39909544.png)

由 [Pixabay](https://pixabay.com/) 上的 [dolvita108](https://pixabay.com/photos/tacos-mexican-eat-delicious-lunch-1613795/) 拍摄的照片

这是我们团队([黄尧晰](https://www.linkedin.com/in/yijun-huang/)、[杰克叶](https://www.linkedin.com/in/jack-ye/)、[浩浩](https://www.linkedin.com/in/haohao1996/)、[李玉婷](https://www.linkedin.com/in/yutingliucd/))在 UC Davis MSBA 项目机器学习课上的最后一个项目。python 编码的逐步指导已经在 Github 分享:[https://Github . com/cryyystal/Analysis-of-Yelp-Review-for-Chipotle-Mexican-Grill](https://github.com/Cryyyystal/Analysis-of-Yelp-Review-for-Chipotle-Mexican-Grill)

# 概观

近年来，Chipotle 一直在流失顾客，在竞争激烈的快速休闲餐饮行业表现不佳。它尝试了许多方法来改善客户体验和重新赢得客户，如建立新的安全协议和引入数字订购渠道，如在线和移动应用程序订购。随着 Chipotle 采用越来越现代化的战略，我们推荐一种数据驱动的方法来帮助它改善业务。在这个项目中，我们使用几个自然语言处理工具来分析 Yelp 上的评论，以发现需要改进的地方并相应地提出建议。

Chipotle 项目的主要组成部分:

*   应用 Textblob 计算每个评论的情感极性。
*   分别绘制正面和负面评论的词云，看看哪些词在正面或负面评论中频繁出现。
*   使用 LDA Mallet 进行主题建模，从所有评论中提取六个主题，并计算每个主题的平均情感得分。画一个雷达图，说明哪些题目是 Chipotle 的优势，哪些是它的劣势。
*   做词语情绪的时间序列分析，通过它我们看到“line”“burrito”等重要词语在正面或负面评论中出现频率的月度变化。基于此，我们可以检测到 Chipotle 关键业务的痛点。

基于我们的分析，我们在原料质量、等待时间和数字订购方面为 Chipotle 提供了四点建议。第一个是提高原料的新鲜度和质量，以重获战略优势。第二个是调查供应链，看看如何提高其蛋白质的质量和味道，特别是鸡肉。第三个是调查其最重要的产品墨西哥卷饼的质量，该产品的正面评价越来越少。最后，Chipotle 应该改进在线订购系统和手机 app，以便更好地解决等待时间问题，改善客户的购买体验。

# 数据源

Yelp 在 Yelp 挑战数据集中提供了一个全面的数据集，包括所有的商家信息，如地址、提示、评论和评论者。我们合并“业务”表和“评论”表，并提取 Chipotle 的信息。总共有 9590 条关于 Chipotle 的评论。

数据集链接:[https://www.yelp.com/dataset/challenge](https://www.yelp.com/dataset/challenge)

# 自然语言处理分析

## a)探索性数据分析

我们计算了 Chipotle 自 2006 年以来的每月平均评论星级，发现它随着时间的推移逐渐下降:回到 2010 年，平均评论星级约为 4.0，但现在约为 3.0(图 1)

![](img/677762a7a762caa3239e9a2975286f2e.png)

图表 1

图表 2 显示了不同恒星的数量和比例如何随时间变化。随着时间的推移，5 星和 1 星评论在数量和比例上都有所增加，其中 1 星评论增加更为显著。这可能是图 1 中平均星级逐渐下降的主要原因。

![](img/45b45c9717599925e209fe108da29c51.png)

图表 2

## b)文本预处理

在 EDA 之后，我们做了一些文本预处理来提高 NLP 模型的性能，包括:

*   **文本去压缩。**例如，将“不会”替换为“不会”，将“\ ve”替换为“有”，将“\ d”替换为“会”。
*   **把所有东西都变成小写。**
*   **使用 NLTK 库删除停用词。**停用词是非常常见的词，如“如果”、“但是”、“我们”、“他”、“她”和“他们”。我们通常可以在不改变文本语义的情况下删除这些单词。
*   **删除空格和标点符号。**经过上述处理后，可能会有一些空格混在文字中，所以我们需要去除这些空格。此外，我们也删除标点符号，如“，”。？！:“且只留言。
*   **使用 NLTK 词干的单词词条化。**词汇化是将一个单词的不同屈折形式组合在一起的过程，这样它们就可以作为一个项目进行分析。例如，在词汇化之后，“哭”就是“哭”。

文本预处理前后的评论比较如下:

以前

```
"I'm a regular at chipotle in California, this is my first visit to this chipotle on s.las Vegas strip.this is pretty new place I think, I took a veggie bowl in which the rice was undone and the fajitas were all burnt, the quantity offered was less than usual. I'm very unhappy with this place."
```

在...之后

```
'regular chipotle california first visit chipotle s la vega strip this pretty new place think took veggie bowl rice undone fajitas burnt quantity offered le usual unhappy place'
```

## c)情感分析

我们使用 Textblob 为每个评论分配一个情感分数，以衡量评论的积极程度或消极程度。如果情绪得分大于 0，则评论为正，反之，则评论为负。从图表 3 中，我们可以看到正面评价是负面评价的两倍。

![](img/95ed7684fd7ba31a929d6ae8d8ca4509.png)

图表 3

绘制图表 4 以查看评论星级和情感分数之间的关系。显然，随着星级的增加，平均情绪得分也增加。然而，对于 1 星评价，它们可能是正面的或负面的，但对于 4 星和 5 星评价，它们基本上是正面的。

![](img/07247fb3360f6f9aee40fb1c4c6d1d84.png)

图表 4

## d)词云

我们先用词云看看评论的全貌。我们分别为正面评价和负面评价画一个词云，看看区别。我们删除了在正面和负面评论中出现频率非常高的词，包括“chipotle”、“burrito”和“place”，因为它们在两个图中都非常大。我们可以看到，正面评价中最大的词是“肉”、“工作人员”、“服务”，而负面评价中最大的词是“行”和“鸡”。顾客喜欢 Chipotle 的肉，但鸡肉似乎不是这样。尽管 Chipotle 的队伍可能有点长，顾客可能要等一会儿，但他们对 Chipotle 的员工和服务感到满意。

![](img/bbdde30e42cc36cc1706f96867584f75.png)

图表 5

![](img/bf39fe95dda98748273fcc9a2b0f138a.png)

图表 6

## e)主题建模

考虑到评论的大背景，我们使用主题建模，特别是通过 Mallet (LdaMallet)的潜在 Dirichlet 分配，从所有单词中提取关键主题。然后，我们衡量每个主题的情感得分，看看 Chipotle 在哪些方面做得好，哪些方面做得差。

我们画一个六边形，每个分数加 0.1，让对比更清晰。我们可以从图表 7 中看到，与成分相关的主题(新鲜度/成分/质量)得分最高，与 Chipotle 的“新鲜度”和“完整性”的价值观相呼应。与环境相关的主题(位置/干净/漂亮/友好)获得第二高。与排队相关的话题(时间/排队/等待/长时间/在线)、与食物相关的话题(肉/鸡肉/薯条/米饭/鳄梨酱/牛排/生菜)、与服务相关的话题(服务/员工/糟糕)、与支付相关的话题(支付/经理/收银员)得分较低。

![](img/a78f79f98d0297cc0e88d71ea9273baa.png)

图表 7

我们将每个评论分配给占该评论比例最大的主题，并计算一段时间内所有六个主题的平均情绪得分。为了更清楚地看到 4 个得分较低的主题的趋势，我们绘制了图表，将它们与成分相关的主题(新鲜度/成分/质量)进行比较。我们发现，线路相关话题(时间/线路/等待/时长/在线)的平均情绪得分在 2013 年之前在 0.1 左右浮动，2013 年显著下降，之后在 0 左右浮动(图 8)。

![](img/65cfcf02be65887df95fb08587e6c431.png)

图表 8

## f)时间序列情感分析

利用时间序列方法，我们将感兴趣词(WOI)的情感变化与每月的星级变化一起可视化。我们首先定义衡量词语情感的标准:

![](img/1d6d7391bfa096be6ae2eb467986ca08.png)

像词云一样，我们根据 WOI 在正面/负面评论中的出现频率来确定其情绪。我们将这种情况正常化，因为评论的总数每月都在变化。因此，该指标测量在任一情绪类别的评论中 WOI 的归一化频率。如附录 1.1 所示，正面评价和负面评价都是随着时间的推移逐渐增加的。我们还决定只分析 2012 年之后的评论，因为 2012 年之前的评论太少了(附录 1.1)。我们使用三种方法来解释我们的可视化指标。

1.正面评价中 WOI 出现率下降

如果一个词曾经有很高的阳性率，我们可以说它是企业的强项。正比率的下降表明餐厅正在失去这方面的优势。根据图 9，Chipotle 应该调查其菜单项的新鲜度及其墨西哥卷饼产品的质量。

![](img/e8402e1b148ebb2367c4743493fc2815.png)

图表 9

2.负面评论中 WOI 出现率增加

负面评价出现率较高的 WOI 表明 Chipotle 在这方面可能表现不佳。从图表 10 可以看出,“线”的出现率从 2012 年开始增加，从 2015 年开始减少。这一下降反映了 Chipotle 在 2014 年推出了其移动订购应用，旨在减少 line。因此，我们可以推断，Chipotle 通过数字订购缩短顾客等待时间的策略是成功的。展望未来，Chipotle 应该继续推行这一举措。

![](img/568e0ba771754c6dc370eea7a5e78cc4.png)

图表 10

3.两种综述中 WOI 发生率的比较

如果 WOI 在正面评论中的出现率高于负面评论，则它是正面情绪。我们将“伟大”视为基线(附录 1.2)。因此，当一个中立的 WOI 在正面评论中的出现率高于负面评论时，它可以被视为该业务的一个积极方面。反之亦然。图表 11 显示“在线”和“应用程序”都是中性词，但在负面评价中的出现率始终高于正面评价。这表明 Chipotle 在数字商务渠道中表现不佳。它需要改进其移动订购应用程序和在线订购系统，以增强客户的购买体验。

![](img/6dc391e9c34eec0c98332eb0eaf1e5e9.png)

图表 11

# 推荐

根据我们的分析结果，我们在配料质量、等待时间和数字订购方面向 Chipotle 提出了建议。

从主题建模中，我们发现与配料相关的主题(新鲜/配料/质量)具有最高的情感得分，这与 Chipotle 提供完整新鲜食品的战略优势相一致。然而，随着时间的推移，通过可视化关键词“新鲜”的情绪，我们发现“新鲜”正在慢慢消失在积极的评论中。这表明，从消费者的角度来看，Chipotle 正在失去其在采购新鲜食材方面的优势。因此，Chipotle 应该调查其原料的新鲜度和质量，以重新获得战略优势。另一方面，我们建议 Chipotle 调查其供应链，看看如何提高其蛋白质的质量和口味，特别是鸡肉，根据词云，它在负面评论中出现得非常频繁。就其菜单项而言，Chipotle 还需要调查其最重要的产品墨西哥卷饼的当前质量，这种产品在正面评价中越来越少。也可以对墨西哥卷饼做一些市场调查，看看为什么墨西哥卷饼正在失去对顾客的吸引力。

另一方面，等待时间和排队显然是 Chipotle 的一个问题。主题建模和词云都表明，“线”是顾客对 Chipotle 负面情绪的一大贡献因素。为了解决这一问题，Chipotle 寻求在线订购和移动应用程序订购等数字渠道。如情感分析所示，等待时间问题因 2014 年引入移动应用程序订购而得到改善。然而，这还不够。我们发现“在线”和“应用程序”在顾客评论中的负面影响更大，表明顾客对 Chipotle 的数字订购体验不满意。有鉴于此，Chipotle 需要改进其在线订购系统和移动应用程序，以便更好地解决等待时间问题，并改善客户的购买体验。