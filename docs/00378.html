<html>
<head>
<title>An Extensive Step by Step Guide to Exploratory Data Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索性数据分析的广泛逐步指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/an-extensive-guide-to-exploratory-data-analysis-ddd99a03199e?source=collection_archive---------0-----------------------#2020-01-12">https://towardsdatascience.com/an-extensive-guide-to-exploratory-data-analysis-ddd99a03199e?source=collection_archive---------0-----------------------#2020-01-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6a31" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我对任何数据集执行 EDA 的个人指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/93325516dd796d7e5f37ec48f72daf05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rJKZszCKRo7JEKUQdXkG2w.png"/></div></div></figure><blockquote class="ku kv kw"><p id="0667" class="kx ky kz la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> <em class="it">务必</em> </strong> <a class="ae lu" href="https://terenceshin.medium.com/membership" rel="noopener"> <strong class="la iu"> <em class="it">订阅此处</em> </strong> </a> <strong class="la iu"> <em class="it">或至我的</em> </strong> <a class="ae lu" href="https://terenceshin.substack.com/embed" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> <em class="it">独家快讯</em> </strong> </a> <strong class="la iu"> <em class="it">千万不要错过另一篇关于数据科学的指南、窍门和技巧、生活经验等！</em> </strong></p></blockquote><h1 id="84ec" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">什么是探索性数据分析？</h1><p id="f4bb" class="pw-post-body-paragraph kx ky it la b lb mn ju ld le mo jx lg mp mq lj lk mr ms ln lo mt mu lr ls lt im bi translated"><strong class="la iu">探索性数据分析(EDA) </strong>，也称为数据探索，是数据分析过程中的一个步骤，其中使用了多种技术来更好地理解所使用的数据集。</p><p id="19a9" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">“理解数据集”可以指许多事情，包括但不限于…</p><ul class=""><li id="98e9" class="mv mw it la b lb lc le lf mp mx mr my mt mz lt na nb nc nd bi translated">提取重要变量，留下无用变量</li><li id="40c2" class="mv mw it la b lb ne le nf mp ng mr nh mt ni lt na nb nc nd bi translated">识别异常值、缺失值或人为错误</li><li id="5b86" class="mv mw it la b lb ne le nf mp ng mr nh mt ni lt na nb nc nd bi translated">理解变量之间的关系或缺乏关系</li><li id="8bf1" class="mv mw it la b lb ne le nf mp ng mr nh mt ni lt na nb nc nd bi translated">最终，最大限度地提高您对数据集的洞察力，并最大限度地减少流程后期可能出现的潜在错误</li></ul><p id="6e36" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">这就是为什么这很重要。</p><p id="ff55" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">你听说过“垃圾进，垃圾出”这句话吗？</p><p id="d571" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">对于 EDA，更像是“垃圾入，执行 EDA，<strong class="la iu">可能是</strong>垃圾出。”</p><p id="b691" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">通过进行 EDA，你可以将一个<strong class="la iu">几乎</strong>可用的数据集变成一个完全可用的数据集。我并不是说 EDA 可以神奇地使任何数据集变得干净——这不是真的。然而，许多 EDA 技术可以解决每个数据集中存在的一些常见问题。</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><blockquote class="nq"><p id="d649" class="nr ns it bd nt nu nv nw nx ny nz lt dk translated">探索性数据分析主要做两件事:</p><p id="314f" class="nr ns it bd nt nu nv nw nx ny nz lt dk translated">1.它有助于清理数据集。</p><p id="059b" class="nr ns it bd nt nu nv nw nx ny nz lt dk translated">2.它让你更好地理解变量和它们之间的关系。</p></blockquote></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="a088" class="lv lw it bd lx ly oa ma mb mc ob me mf jz oc ka mh kc od kd mj kf oe kg ml mm bi translated">EDA 的组件</h1><p id="226b" class="pw-post-body-paragraph kx ky it la b lb mn ju ld le mo jx lg mp mq lj lk mr ms ln lo mt mu lr ls lt im bi translated">对我来说，探索数据有几个主要部分:</p><ol class=""><li id="5043" class="mv mw it la b lb lc le lf mp mx mr my mt mz lt of nb nc nd bi translated">了解您的变量</li><li id="981a" class="mv mw it la b lb ne le nf mp ng mr nh mt ni lt of nb nc nd bi translated">清理数据集</li><li id="7ad6" class="mv mw it la b lb ne le nf mp ng mr nh mt ni lt of nb nc nd bi translated">分析变量之间的关系</li></ol><p id="4194" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">在本文中，我们将看看前两个组件。</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><blockquote class="ku kv kw"><p id="10b8" class="kx ky kz la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> <em class="it">请务必</em> </strong> <a class="ae lu" href="https://terenceshin.medium.com/membership" rel="noopener"> <strong class="la iu"> <em class="it">订阅此处</em> </strong> </a> <strong class="la iu"> <em class="it">或至我的</em> </strong> <a class="ae lu" href="https://terenceshin.substack.com/embed" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> <em class="it">独家快讯</em> </strong> </a> <strong class="la iu"> <em class="it">千万不要错过另一篇关于数据科学的文章指南、技巧和提示、生活经验等！</em>T55】</strong></p></blockquote></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="aac7" class="lv lw it bd lx ly oa ma mb mc ob me mf jz oc ka mh kc od kd mj kf oe kg ml mm bi translated">1.了解您的变量</h1><p id="d020" class="pw-post-body-paragraph kx ky it la b lb mn ju ld le mo jx lg mp mq lj lk mr ms ln lo mt mu lr ls lt im bi translated">你不知道你不知道什么。如果你不知道自己不知道什么，那么你怎么知道你的见解是否有意义？你不会的。</p><p id="8a3d" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">举个例子，我正在研究 NFL 提供的数据(这里是数据<a class="ae lu" href="https://www.kaggle.com/c/nfl-playing-surface-analytics/overview/evaluation" rel="noopener ugc nofollow" target="_blank">这里是数据</a>)，看看我是否能发现任何关于增加受伤可能性的变量的见解。我得到的一个见解是，中后卫积累的伤病是后卫的八倍多。然而，我不知道后卫和后卫之间的区别是什么，正因为如此，我不知道我的见解是否有意义。当然，我可以谷歌一下这两者之间的区别，但是我不能总是依赖谷歌！现在您可以明白为什么理解您的数据如此重要了。让我们看看如何在实践中做到这一点。</p><p id="50c9" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">作为一个例子，我使用了我用来创建我的第一个随机森林模型的相同数据集，二手车数据集<a class="ae lu" href="https://www.kaggle.com/austinreese/craigslist-carstrucks-data" rel="noopener ugc nofollow" target="_blank">这里</a>。首先，我导入了我知道我的分析需要的所有库，并进行了一些初步的分析。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="37ff" class="ol lw it oh b gy om on l oo op">#Import Libraries<br/>import numpy as np<br/>import pandas as pd<br/>import matplotlib.pylab as plt<br/>import seaborn as sns#Understanding my variables<br/>df.shape<br/>df.head()<br/>df.columns</span></pre><p id="0a7b" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated"><strong class="la iu">。shape </strong>返回我的数据集的行数乘以列数。我的输出是(525839，22)，这意味着数据集有 525839 行和 22 列。</p><p id="e4d9" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated"><strong class="la iu">。head() </strong>返回我的数据集的前 5 行。如果您想查看每个变量的一些示例值，这很有用。</p><p id="5c25" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated"><strong class="la iu">。columns </strong>返回数据集中所有列的名称。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/1cf4e5400af0b7401600dbecb4ab826b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Tn2_whj1n4JCNhYa.png"/></div></div><p class="or os gj gh gi ot ou bd b be z dk translated">df.columns 输出</p></figure><p id="efe4" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">一旦我知道了数据集中的所有变量，我想更好地理解每个变量的不同值。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="2370" class="ol lw it oh b gy om on l oo op">df.nunique(axis=0)<br/>df.describe().apply(lambda s: s.apply(lambda x: format(x, 'f')))</span></pre><p id="6c61" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated"><strong class="la iu">。nunique(axis=0) </strong>返回每个变量的唯一值的数量。</p><p id="f390" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated"><strong class="la iu">。describe() </strong>总结了数字变量的计数、平均值、标准差、最小值和最大值。接下来的代码只是将每一行格式化为常规格式，并取消科学符号(<a class="ae lu" href="https://stackoverflow.com/questions/40347689/dataframe-describe-suppress-scientific-notation/47207283" rel="noopener ugc nofollow" target="_blank">见此处</a>)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/06ea76f84f1c12df5386ce3f4bbeeab2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1awJ-8Bx7j9kgBHD.png"/></div></div><p class="or os gj gh gi ot ou bd b be z dk translated">df.nunique(轴=0)输出</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/be8ee696c7c1f8cab11200cac22a6409.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5RVjX15Q4sEANAyx.png"/></div></div><p class="or os gj gh gi ot ou bd b be z dk translated">df.describe()。apply(lambda s:s . apply(lambda x:format(x，' f '))输出</p></figure><p id="dd1b" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">很快，我注意到了价格、年份和里程表的问题。例如，最低和最高价格分别为 0.00 美元和 3，048，344，231.00 美元。您将在下一节看到我是如何处理这个问题的。我仍然想更好地理解我的离散变量。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="d7db" class="ol lw it oh b gy om on l oo op">df.condition.unique()</span></pre><p id="9d03" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">使用<strong class="la iu">。unique() </strong>，我看了看我的离散变量，包括‘条件’。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/6b8effe492b1cd01d495f1d29926156f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*E17BqJoNF_J4I5nh.png"/></div></div><p class="or os gj gh gi ot ou bd b be z dk translated">df.condition.unique()</p></figure><p id="6673" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">你可以看到彼此有很多同义词，比如‘优秀’和‘如新’。虽然这不是最好的例子，但在某些情况下，将不同的单词组合在一起是最理想的。例如，如果您正在分析天气模式，您可能希望将“多云”、“灰色”、“多云，有可能下雨”和“大部分多云”简单地重新分类为“多云”。</p><p id="f4ef" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">稍后您将看到，由于有太多的空值，我最终省略了这个列，但是如果您想要重新分类条件值，您可以使用下面的代码:</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="a1f7" class="ol lw it oh b gy om on l oo op"># Reclassify condition column<br/>def clean_condition(row):<br/>    <br/>    good = ['good','fair']<br/>    excellent = ['excellent','like new']       <br/>    <br/>    if row.condition in good:<br/>        return 'good'   <br/>    if row.condition in excellent:<br/>        return 'excellent'    <br/>    return row.condition# Clean dataframe<br/>def clean_df(playlist):<br/>    df_cleaned = df.copy()<br/>    df_cleaned['condition'] = df_cleaned.apply(lambda row: clean_condition(row), axis=1)<br/>    return df_cleaned# Get df with reclassfied 'condition' column<br/>df_cleaned = clean_df(df)print(df_cleaned.condition.unique())</span></pre><p id="84ad" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">你可以看到下面的值被重新分类了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/8a80c6853ab13b6f6d617c60fa0dd8a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UIUzEE5aaGOxiVlN.png"/></div></div><p class="or os gj gh gi ot ou bd b be z dk translated">print(df _ cleaned . condition . unique())输出</p></figure><h1 id="17ac" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.清理数据集</h1><p id="4545" class="pw-post-body-paragraph kx ky it la b lb mn ju ld le mo jx lg mp mq lj lk mr ms ln lo mt mu lr ls lt im bi translated">现在，您已经知道了如何根据需要对离散数据进行重分类，但是还有许多事情需要注意。</p><p id="a44e" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated"><strong class="la iu"> a .删除冗余变量</strong></p><p id="2d43" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">首先我去掉了我认为多余的变量。这包括 url、图像 url 和城市 url。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="d657" class="ol lw it oh b gy om on l oo op">df_cleaned = df_cleaned.copy().drop(['url','image_url','city_url'], axis=1)</span></pre><p id="31d3" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated"><strong class="la iu"> b .变量选择</strong></p><p id="aba1" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">接下来，我想去掉任何有太多空值的列。多亏了我的朋友 Richie，我使用下面的代码删除了 40%或更多数据为空值的列。根据具体情况，我可能会提高或降低阈值。剩余的列如下所示。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="504e" class="ol lw it oh b gy om on l oo op">NA_val = df_cleaned.isna().sum()def na_filter(na, threshold = .4): #only select variables that passees the threshold<br/>    col_pass = []<br/>    for i in na.keys():<br/>        if na[i]/df_cleaned.shape[0]&lt;threshold:<br/>            col_pass.append(i)<br/>    return col_passdf_cleaned = df_cleaned[na_filter(NA_val)]<br/>df_cleaned.columns</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/f0f947fa7d40206c3f166ae0f0fd41ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4r2Xsu_D2SBxET6F.png"/></div></div></figure><p id="b9eb" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated"><strong class="la iu"> c .剔除异常值</strong></p><p id="f5ad" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">回到前面提到的问题，我为价格、年份和里程表设置了参数，以删除设置边界之外的任何值。在这种情况下，我用我的直觉来确定参数——我肯定有确定最佳边界的方法，但我还没有深入研究过！</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="853e" class="ol lw it oh b gy om on l oo op">df_cleaned = df_cleaned[df_cleaned['price'].between(999.99, 99999.00)]<br/>df_cleaned = df_cleaned[df_cleaned['year'] &gt; 1990]<br/>df_cleaned = df_cleaned[df_cleaned['odometer'] &lt; 899999.00]df_cleaned.describe().apply(lambda s: s.apply(lambda x: format(x, 'f')))</span></pre><p id="21d6" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">您可以在下面的结果中看到最小值和最大值发生了变化。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/d3a284048c36dfa5e2565e0926e98dd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AWUDp-NtrXyz7xxw.png"/></div></div></figure><p id="7e4c" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">d.<strong class="la iu">删除空值行</strong></p><p id="d6ed" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">最后，我用了<strong class="la iu">。dropna(axis=0) </strong>删除任何包含空值的行。在下面的代码之后，我从 371982 行增加到 208765 行。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="923f" class="ol lw it oh b gy om on l oo op">df_cleaned = df_cleaned.dropna(axis=0)<br/>df_cleaned.shape</span></pre><h1 id="2b7d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.分析变量之间的关系</h1><h2 id="22e3" class="ol lw it bd lx ox oy dn mb oz pa dp mf mp pb pc mh mr pd pe mj mt pf pg ml ph bi translated">相关矩阵</h2><p id="dba7" class="pw-post-body-paragraph kx ky it la b lb mn ju ld le mo jx lg mp mq lj lk mr ms ln lo mt mu lr ls lt im bi translated">当分析我的变量时，我喜欢做的第一件事是通过相关矩阵将其可视化，因为这是对我的所有变量形成总体理解的最快方式。回顾一下，<strong class="la iu">相关性</strong>是描述两个变量之间关系的度量——如果你想了解更多，你可以查看我的统计小抄<a class="ae lu" href="https://medium.com/@terenceshin/week-2-52-stats-cheat-sheet-ae38a2e5cdc6" rel="noopener">这里</a>。)因此，<strong class="la iu">相关矩阵</strong>是显示许多变量之间的相关系数的表格。我使用<strong class="la iu"> sns.heatmap() </strong>来绘制二手车数据集中所有变量的相关矩阵。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="e158" class="ol lw it oh b gy om on l oo op"># calculate correlation matrix<br/>corr = df_cleaned.corr()# plot the heatmap<br/>sns.heatmap(corr, xticklabels=corr.columns, yticklabels=corr.columns, annot=True, cmap=sns.diverging_palette(220, 20, as_cmap=True))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pi"><img src="../Images/5caa8893558ec6a895d9709bcac2c6ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zSbFQ2v2rkwvTbeX.png"/></div></div></figure><p id="e8f6" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">我们可以看到，价格与年份正相关，价格与里程表负相关。这是有道理的，因为新车通常更贵，里程数多的车相对更便宜。我们还可以看到年份和里程表之间存在负相关关系——越新的汽车行驶的里程数越少。</p><h2 id="06be" class="ol lw it bd lx ox oy dn mb oz pa dp mf mp pb pc mh mr pd pe mj mt pf pg ml ph bi translated">散点图</h2><p id="a51e" class="pw-post-body-paragraph kx ky it la b lb mn ju ld le mo jx lg mp mq lj lk mr ms ln lo mt mu lr ls lt im bi translated">就数据可视化而言，很难击败关联热图，但就数据而言，散点图无疑是最有用的可视化之一。</p><p id="96ee" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">散点图是一种沿着两个轴“绘制”两个变量值的图表，如年龄和身高。散点图非常有用，原因有很多:像相关矩阵一样，它允许您快速了解两个变量之间的关系，它对于识别异常值非常有用，并且在多项式多元回归模型中非常有用(我们将在下一篇文章中讨论)。我用了<strong class="la iu">。plot() </strong>并将图形的“种类”设置为<strong class="la iu">散点图。</strong>我还将 x 轴设置为“里程表”, y 轴设置为“价格”,因为我们想看看不同级别的里程如何影响价格。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="736c" class="ol lw it oh b gy om on l oo op">df_cleaned.plot(kind='scatter', x='odometer', y='price')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/1b0ad25548c45956a9fd5eb6c5f369bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/0*ceAsLxPhH2P81PGq.png"/></div></figure><p id="3fc0" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">这和相关矩阵讲述了同样的故事——里程表和价格之间存在负相关。散点图的巧妙之处在于，它传达的信息不仅仅是这些。你可以假设的另一个观点是里程对价格的影响是递减的。换句话说，一辆车在生命早期积累的里程数对价格的影响要比它在生命后期的影响大得多。你可以看到这一点，因为这些图一开始显示了一个陡峭的下降，但随着里程数的增加，下降幅度变小了。这就是为什么人们说买一辆全新的汽车不是一个好的投资！</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="c894" class="ol lw it oh b gy om on l oo op">df_cleaned.plot(kind='scatter', x='year', y='price')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/45153d35a0339d4b7888254d4199de2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/0*u_lJvgiVI35ZAu9F.png"/></div></figure><p id="27f9" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">再举一个例子，上面的散点图显示了年份和价格之间的关系——车越新，可能就越贵。</p><p id="68e0" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">另外，<strong class="la iu"> sns.pairplot() </strong>是在所有变量之间创建散点图的好方法。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="c69f" class="ol lw it oh b gy om on l oo op">sns.pairplot(df_cleaned)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/4955a5b9c70b82d780d95f70c52d2e08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aSHJSJHj_r_ZFpKU.png"/></div></div></figure><h2 id="093a" class="ol lw it bd lx ox oy dn mb oz pa dp mf mp pb pc mh mr pd pe mj mt pf pg ml ph bi translated">柱状图</h2><p id="064e" class="pw-post-body-paragraph kx ky it la b lb mn ju ld le mo jx lg mp mq lj lk mr ms ln lo mt mu lr ls lt im bi translated">相关矩阵和散点图有助于探索两个变量之间的关系。但是如果你只想探索一个单独的变量呢？这就是直方图发挥作用的时候了。直方图看起来像条形图，但它们显示了一组变量的值的分布。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="9d5d" class="ol lw it oh b gy om on l oo op">df_cleaned['odometer'].plot(kind='hist', bins=50, figsize=(12,6), facecolor='grey',edgecolor='black')df_cleaned['year'].plot(kind='hist', bins=20, figsize=(12,6), facecolor='grey',edgecolor='black')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/aa301e53bbaae40a793823a2ed87fd1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*A5YjXfSIecus5gKk.png"/></div></div></figure><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="2ab4" class="ol lw it oh b gy om on l oo op">df_cleaned['year'].plot(kind='hist', bins=20, figsize=(12,6), facecolor='grey',edgecolor='black')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/7d60c169d53abd095db45136c4b232f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Arc3waodFKrVU5lI.png"/></div></div></figure><p id="6b9b" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">我们可以很快注意到，普通汽车的里程表从 0 到刚刚超过 200，000 公里，一年大约从 2000 年到 2020 年。这两个图的区别在于“里程表”的分布是正偏的，而“年份”的分布是负偏的。偏斜度很重要，尤其是在金融等领域，因为许多模型都假设所有变量都是正态分布的，而事实通常并非如此。</p><h2 id="34d8" class="ol lw it bd lx ox oy dn mb oz pa dp mf mp pb pc mh mr pd pe mj mt pf pg ml ph bi translated">箱线图</h2><p id="670c" class="pw-post-body-paragraph kx ky it la b lb mn ju ld le mo jx lg mp mq lj lk mr ms ln lo mt mu lr ls lt im bi translated">另一种可视化变量分布的方法是箱线图。这次我们以“价格”为例。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="29ea" class="ol lw it oh b gy om on l oo op">df_cleaned.boxplot('price')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi po"><img src="../Images/45de2e9db906f224e57afef94cf1ae64.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/0*J1JRnnTlE5qWVP7p.png"/></div></figure><p id="e771" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">箱线图不像上面显示的其他图表那样直观，但它以自己的方式传达了很多信息。下图解释了如何读取箱线图。很快，您可以看到价格上限中有许多异常值，并且大多数价格都在 0 到 40，000 美元之间。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/19665037bed2be3264899f9df28431eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:396/format:webp/0*GWZmD1Z7JuZDHlvC.png"/></div></figure><p id="d617" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">根据数据集的不同，您还可以使用其他几种类型的可视化效果，如堆积条形图、面积图、小提琴图，甚至地理空间图。</p><p id="8e6d" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg mp li lj lk mr lm ln lo mt lq lr ls lt im bi translated">通过探索性数据分析的三个步骤，您将对您的数据有一个更好的理解，这将使您更容易选择您的模型、您的属性并对其进行整体优化。</p><h1 id="165e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">感谢阅读！</h1><blockquote class="ku kv kw"><p id="a180" class="kx ky kz la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> <em class="it">如果您喜欢这篇文章，请务必点击</em> </strong> <a class="ae lu" href="https://terenceshin.medium.com/membership" rel="noopener"> <strong class="la iu"> <em class="it">订阅此处</em> </strong> </a> <strong class="la iu"> <em class="it">或至我的</em> </strong> <a class="ae lu" href="https://terenceshin.substack.com/embed" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> <em class="it">独家快讯</em> </strong> </a> <strong class="la iu"> <em class="it">千万不要错过另一篇关于数据科学指南、技巧和提示、生活经验等的文章！</em> </strong></p></blockquote></div></div>    
</body>
</html>