<html>
<head>
<title>Host a Jupyter Notebook Server From A Linux VPS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从Linux VPS托管Jupyter笔记本服务器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/host-a-jupyter-notebook-server-from-a-linux-vps-dd13c8570163?source=collection_archive---------46-----------------------#2020-05-25">https://towardsdatascience.com/host-a-jupyter-notebook-server-from-a-linux-vps-dd13c8570163?source=collection_archive---------46-----------------------#2020-05-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="841a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何从您的Linux服务器托管Jupyter笔记本服务器。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b114da5facfc08c05daf1c4dfe542873.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q5d8LMbj0OgPXPSu6wdMtQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(jupyter logo src = http://jupyter.org/)</p></figure><p id="81cc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Jupyter笔记本是行业标准工具，使统计计算编程更加容易。这是因为在编写统计数据时，您可能经常想要读取返回，并且能够编辑和重新运行代码。此外，拥有一个虚拟内核来做这件事也非常有用。虽然Jupyter笔记本很适合在本地机器上使用，但很难忽略它们是在HTTP服务器上运行的。鉴于Jupyter Notebooks是通过网络浏览器访问的，这一点尤其正确。</p><p id="5fca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，由于Jupyter Notebooks是在web浏览器中运行的，并且具有成熟的非开发服务器，甚至具有密码和写保护，因此很容易理解为什么您可能希望在虚拟专用服务器(VPS)上运行Jupyter。)近年来，服务器的租金已经便宜了很多。此外，你可以很容易地租到硬件比你的计算机好得多的服务器。最重要的是，这是一种在大型团队中共享文件，甚至是文本文件的好方法，因为您甚至可以将Jupyter用作文件浏览GUI、bash终端和文本编辑器。</p><p id="c2b8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，要在您的VPS上建立并运行一个web服务器，您当然需要通过SSH连接到该服务器。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="cf76" class="lz ma it lv b gy mb mc l md me">ssh emmett@my-ip-is-hidden</span></pre></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="bfbe" class="mm ma it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">负载平衡器/网络服务器</h1><p id="32ff" class="pw-post-body-paragraph ky kz it la b lb nd ju ld le ne jx lg lh nf lj lk ll ng ln lo lp nh lr ls lt im bi translated">为了在Linux上为wsgi建立一个web服务器，我们需要一个web服务器。我喜欢使用NGINX，但是也有几个选择，比如Apache，它也经常被使用。然而，如果你是新手，我强烈建议你使用NGINX。NGINX比Apache快，在本文中，我将向您展示如何设置它来托管本地服务器。</p><p id="379e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要使用NGINX(顺便说一下，发音是engine-ex，)我们首先需要安装它。我很确定NGINX在所有的包管理器中都是可用的，但是如果你使用的是Suse服务器，我当然不能考虑man。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="8070" class="lz ma it lv b gy mb mc l md me">sudo dnf install nginx</span></pre><p id="2171" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦我们安装了NGINX，我们就可以继续配置我们的web服务器了。首先，cd转到/etc/nginx/conf.d，这是存储nginx配置文件的地方。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="23ee" class="lz ma it lv b gy mb mc l md me">cd /etc/nginx/conf.d</span></pre><p id="c3e1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在打开一个新的。conf文件，请确保您以root用户身份运行，因为您可能没有权限在此处保存文件:</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="1e3a" class="lz ma it lv b gy mb mc l md me">sudo nano mysite.conf</span></pre><p id="93e9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们将创建一个配置文件。如果您的VPS上没有运行任何服务器，并且您可以使用端口8000，那么复制我的就没有任何问题:</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="b967" class="lz ma it lv b gy mb mc l md me"><strong class="lv iu">server</strong> {<br/>    <strong class="lv iu">listen</strong> 80;<br/>    <strong class="lv iu">server_name</strong> your.ip.here;<br/><br/>    <strong class="lv iu">location</strong> / {<br/>        <strong class="lv iu">proxy_pass</strong> http://127.0.0.1:8000;<br/>        <strong class="lv iu">proxy_set_header</strong> Host $host;<br/>        <strong class="lv iu">proxy_set_header</strong> X-Forwarded-For $proxy_add_x_forwarded_for;<br/>    }<br/>}</span></pre><p id="175f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在只需ctrl+o然后按y保存文本缓冲区，并使用ctrl+x关闭Nano。接下来，我们必须取消默认NGINX配置文件的链接。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="9026" class="lz ma it lv b gy mb mc l md me">sudo unlink /etc/nginx/sites-enabled/default</span></pre><p id="080a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，您可以使用以下命令重新加载配置:</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="8a86" class="lz ma it lv b gy mb mc l md me">nginx -s reload</span></pre><p id="0cea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要测试您的配置，您可以安装并运行jupyter-notebook，然后转到NGINX配置文件中提供的域或IP。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="3c17" class="lz ma it lv b gy mb mc l md me">sudo dnf install jupyter-notebook &amp;&amp; jupyter-notebook</span></pre><p id="4e83" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，如果你在浏览器中浏览你的域名或IP地址，你应该会到达Jupyter。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="267e" class="mm ma it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">监督者</h1><p id="fdfb" class="pw-post-body-paragraph ky kz it la b lb nd ju ld le ne jx lg lh nf lj lk ll ng ln lo lp nh lr ls lt im bi translated">最后一步是设置一个管理员来运行jupyter-notebook命令。根据您的发行版，您可能需要安装以下任一软件</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="959c" class="lz ma it lv b gy mb mc l md me">sudo apt-get install supervisor<br/>sudo dnf install supervisord</span></pre><p id="e82d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们将cd转到我们主管的配置目录。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="38f2" class="lz ma it lv b gy mb mc l md me">/etc/supervisor/conf.d/</span></pre><p id="d139" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，正如您可能已经预料到的，我们需要更新另一个配置文件。</p><blockquote class="ni"><p id="250e" class="nj nk it bd nl nm nn no np nq nr lt dk translated">欢迎来到开发运营的世界。</p></blockquote><p id="e02b" class="pw-post-body-paragraph ky kz it la b lb ns ju ld le nt jx lg lh nu lj lk ll nv ln lo lp nw lr ls lt im bi translated">这是我的，你可以用它作为你的基础。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="a08b" class="lz ma it lv b gy mb mc l md me">[program:flask_app]<br/>directory=/<br/>command=jupyter-notebook<br/>autostart=true<br/>autorestart=true<br/>stopasgroup=true<br/>killasgroup=true<br/>stderr_logfile=/var/log/appname/lognameerr.log<br/>stdout_logfile=/var/log/appname/lognamestdout.log</span></pre><blockquote class="ni"><p id="c6aa" class="nj nk it bd nl nm nx ny nz oa ob lt dk translated">很简单，对吧？</p></blockquote><p id="24e1" class="pw-post-body-paragraph ky kz it la b lb ns ju ld le nt jx lg lh nu lj lk ll nv ln lo lp nw lr ls lt im bi translated">现在只需重新加载主管，</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="4afd" class="lz ma it lv b gy mb mc l md me">sudo service supervisor reload</span></pre><p id="93a4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，您的笔记本电脑服务器将启动，您可以随时与其他人一起访问和使用它！</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="deac" class="mm ma it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">结论</h1><p id="54e7" class="pw-post-body-paragraph ky kz it la b lb nd ju ld le ne jx lg lh nf lj lk ll ng ln lo lp nh lr ls lt im bi translated">我认为拥有自己的远程Jupyter笔记本服务器非常酷！这是我在团队中使用的最好的方法之一，因为你的整个团队可以同时访问和修改同一目录中的文件。此外，您将可以使用Bash、笔记本和一个图形文本编辑器。虽然我确实喜欢Nano，但我可以理解为什么它可能会让那些不像我这样的终端狂热者感到有些畏惧。您还可以将它用作网络附加存储的本地解决方案，尤其是如果您打算将所有数据科学项目都放在那里的话。这是一个很好的方法，通过把旧电脑变成服务器来利用它。总而言之，很难不发现Jupyter服务器的巨大用途，无论是在本地、VPS、NAS上，还是在2000年代初的2GB RAM笔记本电脑上运行。</p></div></div>    
</body>
</html>