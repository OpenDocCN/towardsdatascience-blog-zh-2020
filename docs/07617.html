<html>
<head>
<title>Building a Speech Translator in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python构建语音翻译器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-a-speech-translator-in-python-8ff190212b49?source=collection_archive---------14-----------------------#2020-06-08">https://towardsdatascience.com/building-a-speech-translator-in-python-8ff190212b49?source=collection_archive---------14-----------------------#2020-06-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fa7e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用谷歌翻译API将你的演讲翻译成多种语言</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0a5f44303b465d962b99a42bd855eadd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jIbO1zFDrDBpniZY"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/@agk42?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">亚历山大·奈特</a>从<a class="ae ky" href="https://www.pexels.com/photo/high-angle-photo-of-robot-2599244/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">派克斯</a>拍摄</p></figure><p id="f0a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将向你展示如何使用Python将你的演讲翻译成不同的语言。语音翻译将记录你的讲话，然后理解你在说什么，并翻译成你喜欢的语言。翻译过程完成后，您可以自定义您的代码，使其显示翻译后的文本。这是一个伟大的项目，你会喜欢工作，甚至可能给你的朋友和家人留下深刻印象。</p><p id="9687" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">想象一下，当你想和一个来自不同国家的人交流时，你必须雇佣一个会说两种语言的人来做所有的翻译工作。以前是这样，但是随着互联网和技术的发展，交流变得越来越容易了。现在，我们可以使用谷歌翻译在几秒钟内翻译我们想要的任何东西，这难道不令人兴奋吗？YouTube也在为一些视频这样做。他们利用人工智能将视频中的演讲实时转换成不同的语言。这个很神奇，值得分享。所以我想展示如何使用Python来实现这一点。这样你就有了会说多种语言的私人翻译。🙂</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4538" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">我们开始吧！</h1><p id="fc64" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我想提一下，在这个项目中，我们将同时练习多个主题。这是一个结合你的技能，创造更好的东西的好方法。首先，我们将使用语音识别器来教我们的程序理解我们的语音，然后我们将它转换成文本。其次，我们将定义一个翻译器，将文本转换成我们喜欢的语言。最后，我们将使用一个文本到语音的模型，这样我们的程序就可以大声说话。</p><h2 id="f664" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated"><strong class="ak">导入库</strong></h2><p id="7430" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">首先，让我们安装我们将在这个程序中使用的模块。我们将安装SpeechRecognition、Pyttsx3和Googletrans模块。SpeechRecognition和Googletrans模块是由我们在Google的朋友创建的。所有这些模块都可以免费安装和使用，这是编程行业发展如此迅速的一个重要原因。下面是pip同时安装多个模块的代码:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="02e3" class="mz md it nm b gy nq nr l ns nt">pip install speechrecognition pyttsx3 googletrans</span></pre><p id="5ef0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，就是它。使用pip安装模块非常容易。如果您想了解这些模块的更多信息，这里有它们的文档页面的链接。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9af1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.语音识别</h1><h2 id="eb73" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated"><strong class="ak">定义识别器</strong></h2><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="a9c1" class="mz md it nm b gy nq nr l ns nt">r = sr.Recognizer()</span></pre><h2 id="5bd4" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated"><strong class="ak">定义您的话筒</strong></h2><p id="1f82" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在定义麦克风实例之前，我们将选择输入设备。可能有多个输入设备插入您的计算机，我们需要选择我们打算使用哪一个。你知道机器是假人，你必须准确地告诉他们该做什么！使用下面的代码，你将能够看到你的输入设备。</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="8568" class="mz md it nm b gy nq nr l ns nt">print(sr.Microphone.list_microphone_names())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/ea0e956eb612dbe28414fcc2b08bf35b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*f8Hwmh7Qg9B--P3k"/></div></div></figure><p id="0a91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里你可以看到我检查输入设备的结果。我建议您在定义麦克风之前运行这个脚本，因为您可能会得到不同的结果。该脚本返回一个带有输入名称的数组列表，对我来说我想使用“内置麦克风”，所以数组列表的第一个元素。定义麦克风代码将如下所示:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="9542" class="mz md it nm b gy nq nr l ns nt">mic = sr.Microphone(device_index=0)</span></pre><h2 id="99da" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated"><strong class="ak">识别语音</strong></h2><p id="bc30" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如前所述，我们将使用<em class="nv">识别_谷歌</em>方法，这是一个由我们在谷歌的朋友创建的语音识别模型。多亏了他们！</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="21ba" class="mz md it nm b gy nq nr l ns nt">with mic as source: <br/>   r.adjust_for_ambient_noise(source) <br/>   audio = r.listen(source) </span><span id="2806" class="mz md it nm b gy nw nr l ns nt">result = r.recognize_google(audio)</span></pre><p id="e54e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果想在翻译之前检查结果，可以在代码中添加下面一行。</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="4ef0" class="mz md it nm b gy nq nr l ns nt">print(result)</span></pre><div class="nx ny gp gr nz oa"><a rel="noopener follow" target="_blank" href="/building-a-speech-recognizer-in-python-2dad733949b4"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">用Python构建语音识别器</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">使用谷歌云语音API将您的音频文件转换为文本</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">towardsdatascience.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo ks oa"/></div></div></a></div></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e628" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.构建翻译器</h1><h2 id="7191" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated"><strong class="ak">定义翻译器</strong></h2><p id="d5b6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这是这个项目有趣的部分。你会有很多选择。如果你愿意，你可以像我一样，闭上眼睛，想象一个你希望能去的国家，看看那里的人说什么语言。是的，这是从一堆不同的语言中选择的一种方法。🙂</p><p id="84cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您可以将该语言放入destination属性中，如下所示。</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="16a7" class="mz md it nm b gy nq nr l ns nt">p = Translator() <br/>k = p.translate(result, dest='french')</span></pre><p id="620c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的代码中，我们将把翻译的结果转换成文本格式，这将有助于我们的文本到语音模块正常工作。因为在以前的代码中，结果是作为对象存储的。</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="96f8" class="mz md it nm b gy nq nr l ns nt">translated = str(k.text)<br/>print(translated)</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="87ed" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.文本到语音引擎</h1><h2 id="d4b4" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated"><strong class="ak">定义文本到语音引擎</strong></h2><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="b9af" class="mz md it nm b gy nq nr l ns nt">engine = pyttsx3.init()</span></pre><p id="2260" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们刚刚将模块定义为一个引擎。现在是告诉我们的程序朗读翻译文本的时候了，但在此之前，我们必须定义语言。下面是查看语言列表及其id的代码，我们在定义翻译器时将需要这些代码。我建议在进入下一步之前，在您的终端中运行这段代码。</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="a24c" class="mz md it nm b gy nq nr l ns nt">engine = pyttsx3.init() <br/>voices = engine.getProperty('voices') <br/>for voice in voices: <br/>  print("Voice:") <br/>  print(" - ID: %s" % voice.id) <br/>  print(" - Name: %s" % voice.name) <br/>  print(" - Languages: %s" % voice.languages) <br/>  print(" - Gender: %s" % voice.gender) <br/>  print(" - Age: %s" % voice.age)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi op"><img src="../Images/88057396bd1641b75e01168ec7b35a7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/0*BVHzWpaOonT3ofNP"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">声音</p></figure><h2 id="70e6" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated"><strong class="ak">定义演讲者语言</strong></h2><p id="714d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">复制您想要使用的语言的ID，并将其粘贴到我们的程序中。我们使用setProperty方法来定义说话者语言。</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="13dc" class="mz md it nm b gy nq nr l ns nt">fr_voice_id = "com.apple.speech.synthesis.voice.thomas" </span><span id="4698" class="mz md it nm b gy nw nr l ns nt">engine.setProperty('voice', fr_voice_id)</span></pre><h2 id="a60c" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated"><strong class="ak">最后一步:让奇迹发生</strong></h2><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="2e2e" class="mz md it nm b gy nq nr l ns nt">engine.say(translated)</span><span id="bacb" class="mz md it nm b gy nw nr l ns nt">engine.runAndWait()</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="5e6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">恭喜你。您已经使用Python创建了自己的语音翻译器。希望你喜欢这篇教程，并在今天学到一些新东西。练习编码技能的最好方法是制作有趣的项目。</p><p id="8dc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文已由专业翻译Chema翻译成西班牙语。你可以在这里找到文章<a class="ae ky" href="https://www.ibidemgroup.com/edu/traductor-automatico-voz-python/" rel="noopener ugc nofollow" target="_blank"/>。知识是普遍的。</p><blockquote class="oq or os"><p id="34fe" class="kz la nv lb b lc ld ju le lf lg jx lh ot lj lk ll ou ln lo lp ov lr ls lt lu im bi translated">关注我的<a class="ae ky" href="https://medium.com/@lifexplorer" rel="noopener">博客</a>和<a class="ae ky" href="https://towardsdatascience.com/" rel="noopener" target="_blank">走向数据科学</a>以获得灵感。</p></blockquote></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="063b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nv">原载于2020年6月8日</em><a class="ae ky" href="https://sonsuzdesign.blog/2020/06/07/building-a-speech-translator-in-python/" rel="noopener ugc nofollow" target="_blank"><em class="nv">https://sonsuzdesign . blog</em></a><em class="nv">。</em></p></div></div>    
</body>
</html>