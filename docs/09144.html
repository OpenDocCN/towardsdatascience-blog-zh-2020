<html>
<head>
<title>Sidetable Gives You the Pandas Methods You Didn’t Know You Needed</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Sidetable 为您提供了您不知道自己需要的熊猫方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/sidetable-gives-you-the-pandas-methods-you-didnt-know-you-needed-92be825ff512?source=collection_archive---------41-----------------------#2020-06-30">https://towardsdatascience.com/sidetable-gives-you-the-pandas-methods-you-didnt-know-you-needed-92be825ff512?source=collection_archive---------41-----------------------#2020-06-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bde2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">快速制作缺失值、频率计数、小计等数据帧🎉</h2></div><p id="3d93" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Sidetable 是一个新的 Python 库，它为 pandas 中的探索性数据分析增加了几个方便的方法。在本指南中，我将向您展示如何使用 sidetable，以及它在您的数据科学工作流中的合适位置。</p><p id="f41c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们探索 sidetable 时，我们将使用最近添加到<a class="ae le" href="https://seaborn.pydata.org/" rel="noopener ugc nofollow" target="_blank"> seaborn </a>可视化库中的企鹅数据集。企鹅数据集旨在取代过度使用的虹膜数据集。如果没有别的，它增加了一些多样性，并允许我们展示一些企鹅图片。😀</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/2dc56180fc46178848940af025c303f7.png" data-original-src="https://miro.medium.com/v2/format:webp/1*yDBe3t_nC6S8AW9S6Ksuhw.jpeg"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">下颚带企鹅。资料来源:pixabay.com</p></figure><p id="3193" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Pandas 是使用 Python 的数据分析师和数据科学家的探索工具。🐼pandas API 很大，面向数据清理和数据争论。新的<a class="ae le" href="https://github.com/chris1610/sidetable" rel="noopener ugc nofollow" target="_blank"> sidetable </a>包为数据帧增加了方便的方法。这些方法使得查看缺失值、每列值的计数、小计和总计变得更加容易。</p><p id="99bb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们去看看吧！🚀</p><h1 id="5e3b" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">设置</h1><p id="82b3" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">要获得必需的软件包及其依赖项的最新版本，请取消注释并运行以下代码一次。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="7d20" class="mt ls it mp b gy mu mv l mw mx"># ! pip install sidetable -U<br/># ! pip install pandas -U</span></pre><p id="2409" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们导入包并检查版本。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="c43d" class="mt ls it mp b gy mu mv l mw mx">import sys<br/>import pandas as pd<br/>import sidetable <br/><br/>print(f"Python version {sys.version}")<br/>print(f"pandas version: {pd.__version__}")<br/>print(f"sidetable version: {sidetable.__version__}")</span><span id="4646" class="mt ls it mp b gy my mv l mw mx">Python version 3.7.3 (default, Jun 11 2019, 01:11:15) <br/>[GCC 6.3.0 20170516]<br/>pandas version: 1.0.5<br/>sidetable version: 0.5.0</span></pre><p id="9c13" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你的 Python 版本低于 3.6，建议你更新一下。如果你的版本低于 1.0，熊猫也一样。要了解更多关于熊猫 1.0 的更新，请点击这里查看我的文章<a class="ae le" rel="noopener" target="_blank" href="/whats-new-in-pandas-1-0-ffa99bd43a58"/>。</p><h1 id="96da" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">企鹅数据🐧</h1><p id="819f" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">我们将直接从托管 seaborn 数据集的 GitHub 存储库中的. csv 文件读取南极企鹅数据集。</p><p id="6e00" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据是由 Kristen Gorman 博士和 LTER 南极洲帕尔默站收集和提供的。点击查看更多信息<a class="ae le" href="https://github.com/allisonhorst/palmerpenguins" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="9b7f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们将数据放入 pandas DataFrame 并检查前几行。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="c7bd" class="mt ls it mp b gy mu mv l mw mx">df_penguins = pd.read_csv('https://raw.githubusercontent.com/mwaskom/seaborn-data/master/penguins.csv')<br/>df_penguins.head(2)</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/746c54e03dede49dde25f3bd0152bba7.png" data-original-src="https://miro.medium.com/v2/format:webp/1*iwi0Ab69cHAjx3Du12FjNQ.png"/></div></figure><p id="06d0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好吧，看起来我们有一些企鹅。👍</p><p id="be78" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者，如果您安装了<a class="ae le" href="http://seaborn.pydata.org/" rel="noopener ugc nofollow" target="_blank"> seaborn </a>、<code class="fe mz na nb mp b">import seaborn as sns</code>并运行<code class="fe mz na nb mp b">df_penguins = sns.load_dataset('penguins')</code>，这个数据集可以通过 seaborn 加载。</p><p id="ca9f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在将一个新数据集读入 DataFrame 后，我的下一步是使用<code class="fe mz na nb mp b">df.info()</code>来获取关于它的一些信息。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="d241" class="mt ls it mp b gy mu mv l mw mx">df_penguins.info()</span><span id="6468" class="mt ls it mp b gy my mv l mw mx">&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 344 entries, 0 to 343<br/>Data columns (total 7 columns):<br/> #   Column             Non-Null Count  Dtype  <br/>---  ------             --------------  -----  <br/> 0   species            344 non-null    object <br/> 1   island             344 non-null    object <br/> 2   culmen_length_mm   342 non-null    float64<br/> 3   culmen_depth_mm    342 non-null    float64<br/> 4   flipper_length_mm  342 non-null    float64<br/> 5   body_mass_g        342 non-null    float64<br/> 6   sex                333 non-null    object <br/>dtypes: float64(4), object(3)<br/>memory usage: 18.9+ KB</span></pre><p id="cf85" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们看到了 6 列 344 行的一些基本信息。</p><p id="3b0b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看 sidetable 如何帮助我们探索数据。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/952f1c2dfa7f9002f2e8a3448195c2a7.png" data-original-src="https://miro.medium.com/v2/format:webp/1*4VNJqEMOAN1ujt1R6q5zxQ.png"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">阿德利企鹅。资料来源:pixabay.com</p></figure><h1 id="f9d2" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">探索侧桌</h1><p id="e326" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">所有侧表方法都使用<code class="fe mz na nb mp b">.stb</code>访问器。关于熊猫访问器 API 的更多信息，请参见 sidetable 的作者 Chris Moffit 的这篇文章。</p><h2 id="9c93" class="mt ls it bd lt nc nd dn lx ne nf dp mb kr ng nh md kv ni nj mf kz nk nl mh nm bi translated">stb.missing()</h2><p id="478a" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">我们要检查的第一个侧置 DataFrame 方法是<code class="fe mz na nb mp b">stb.missing()</code>。下面是它的使用方法:</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="a5c6" class="mt ls it mp b gy mu mv l mw mx">df_penguins.stb.missing()</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/2866644cfb93c59a6121f03cb0e0cc59.png" data-original-src="https://miro.medium.com/v2/format:webp/1*jTOZlxMlI4JKNe1kP178HQ.png"/></div></figure><p id="787f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果是一个数据帧，每列有缺失值的数量，按从多到少排序。它还显示总行数和每列缺失值的百分比。</p><p id="9d41" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有了<code class="fe mz na nb mp b">df.info()</code>，我们将不得不心算。🤔</p><p id="81b2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者，我们可以用<code class="fe mz na nb mp b">df.isna().sum()</code>按列查看所有缺失的值。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="ae82" class="mt ls it mp b gy mu mv l mw mx">df_penguins.isna().sum()</span><span id="c6c7" class="mt ls it mp b gy my mv l mw mx">species               0<br/>island                0<br/>culmen_length_mm      2<br/>culmen_depth_mm       2<br/>flipper_length_mm     2<br/>body_mass_g           2<br/>sex                  11<br/>dtype: int64</span></pre><p id="fdc6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是<code class="fe mz na nb mp b">df.isna().sum()</code>没有包括百分比，格式也不好。说到漂亮的格式，让我们让 sidetable 的输出更漂亮。💐</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="237f" class="mt ls it mp b gy mu mv l mw mx">df_penguins.stb.missing(style=True)</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/b58c69bd28ff2a7918cee57577a1921b.png" data-original-src="https://miro.medium.com/v2/format:webp/1*V2k38G5KKeh4m5CI623EJw.png"/></div></figure><p id="3078" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过<code class="fe mz na nb mp b">style=True</code>会清除<em class="nn">百分比的</em>列格式。</p><p id="e304" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">每当我有一堆缺少数据的列时，我打算使用<code class="fe mz na nb mp b">stb.missing()</code>。</p><h2 id="b41a" class="mt ls it bd lt nc nd dn lx ne nf dp mb kr ng nh md kv ni nj mf kz nk nl mh nm bi translated">stb.freq()</h2><p id="c224" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">现在让我们看看 sidetable DataFrame 方法<code class="fe mz na nb mp b">.stb.freq()</code>，sidetable 包中的主要课程。🍲</p><p id="69d5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看<em class="nn">物种</em>类别。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="2901" class="mt ls it mp b gy mu mv l mw mx">df_penguins.stb.freq(['species'])</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/eeaaa215c6f65416abf86dd369d8d2cd.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Pczz_0oXHj-6S4TtziKHIA.png"/></div></figure><p id="d3cd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mz na nb mp b">stb.freq()</code>的结果就像组合有和没有<code class="fe mz na nb mp b">normalize=True</code>参数的 value_counts、累积计数和累积百分比。与<code class="fe mz na nb mp b">stb.missing()</code>一样，我们可以通过传递<code class="fe mz na nb mp b">style=true</code>使样式更好。🎉</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="fd09" class="mt ls it mp b gy mu mv l mw mx">df_penguins.stb.freq(['species'], style=True)</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/c0c81c91de23f977514f1da48593069f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*kYNQGMFB32Ha5BxmaKqL8w.png"/></div></figure><p id="3d1f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那很方便。😀</p><p id="9089" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，所有 sidetable 方法都在数据帧上操作并返回一个数据帧。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="ce45" class="mt ls it mp b gy mu mv l mw mx">type(df_penguins.stb.freq(['species']))</span><span id="b64e" class="mt ls it mp b gy my mv l mw mx">pandas.core.frame.DataFrame</span></pre><p id="5b9b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你知道，这些数据是名义上的，而不是顺序的，我们可能不需要累积列。我们可以通过像这样传递<code class="fe mz na nb mp b">cum_cols=False</code>来去掉那些列:</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="cea3" class="mt ls it mp b gy mu mv l mw mx">df_penguins.stb.freq(['species'], style=True, cum_cols=False)</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/b45ab9c05012cbd5ee1229ea86cd46e5.png" data-original-src="https://miro.medium.com/v2/format:webp/1*PPKgfDZLMAj9Ist971661g.png"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/ef1b95a09e94a31e8956d7950e046247.png" data-original-src="https://miro.medium.com/v2/format:webp/1*NkoGI_wWugm9KWcvcpi_0w.jpeg"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">巴布亚企鹅。资料来源:pixabay.com</p></figure><p id="e0a6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看如果我们将多个列传递给<code class="fe mz na nb mp b">stb.freq()</code>会是什么样子。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="f11e" class="mt ls it mp b gy mu mv l mw mx">df_penguins.stb.freq(['species', 'island', 'sex'])</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/c9c7b09573f427c73955ce57f0e21410.png" data-original-src="https://miro.medium.com/v2/format:webp/1*4KAmKtQDCRBiqT9I8ypeoA.png"/></div></figure><p id="7e78" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那是相当的崩溃。让我们只看<em class="nn">岛</em>一栏，探索一些更随意的论点。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="dca0" class="mt ls it mp b gy mu mv l mw mx">df_penguins.stb.freq(['island'], style=True)</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/f05dd1c8b836b36953f2bd326b64a7b3.png" data-original-src="https://miro.medium.com/v2/format:webp/1*BHCYec2pYCTf8VqCF3wmOw.png"/></div></figure><p id="3f59" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们只想包括占总数 50%的岛屿，会怎么样呢？这个例子有点做作，但是我们试图展示它的功能，所以请配合我。😉</p><p id="0461" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过<code class="fe mz na nb mp b">thresh=.5</code>仅显示占总数 50%的岛屿。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="734d" class="mt ls it mp b gy mu mv l mw mx">df_penguins.stb.freq(['island'], style=True, thresh=.5)</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/a768d8d9602e06d9f48fd5d34f962721.png" data-original-src="https://miro.medium.com/v2/format:webp/1*o2QhCm1JHmhkpJquQAfDEQ.png"/></div></figure><p id="3166" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意，这可能有点令人困惑。我们没有显示至少占总数 50%的所有岛屿。我们显示了达到累积阈值的所有岛屿。</p><p id="2b35" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是阈值为 0.9 时的情况。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="9cf7" class="mt ls it mp b gy mu mv l mw mx">df_penguins.stb.freq(['island'], style=True, thresh=.9)</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/7c13f6a9482848f92cbc01d3ebf9f395.png" data-original-src="https://miro.medium.com/v2/format:webp/1*I_Md5rm5NwoGua8N8IKtnw.png"/></div></figure><p id="fa40" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想改变提交值的标签，你可以像这样传递<code class="fe mz na nb mp b">other_label='my_label'</code>:</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="5240" class="mt ls it mp b gy mu mv l mw mx">df_penguins.stb.freq(['island'], style=True, thresh=.9, other_label='Other Islands')</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/5393d2997fa9c06d2bdcd90835638362.png" data-original-src="https://miro.medium.com/v2/format:webp/1*3GO5SpRL4bsZHXxOU2OJ4g.png"/></div></figure><p id="b590" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">传递<code class="fe mz na nb mp b">value='my_column'</code>对该列中的值求和并显示，而不是计算出现次数。这对于当前的数据集来说没有什么意义，但这是一个值得了解的好特性。下面是输出的样子:</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="43d7" class="mt ls it mp b gy mu mv l mw mx">df_penguins.stb.freq(['island'], value='flipper_length_mm')</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/98a5ef57753db887127e0f32eda02edc.png" data-original-src="https://miro.medium.com/v2/format:webp/1*6Pv447RoIIZlTXAH2JAOmw.png"/></div></figure><p id="2864" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们的例子中，原始列没有大写，但是 sidetable 创建的新列是大写的。如果希望列的大小写相匹配，可以调整生成的数据帧。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="f234" class="mt ls it mp b gy mu mv l mw mx">freq_table = df_penguins.stb.freq(['island'])<br/>freq_table.columns = freq_table.columns.str.title()<br/>freq_table</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/8c0de820254eb76b99e17a429f0e50c3.png" data-original-src="https://miro.medium.com/v2/format:webp/1*5cN9MmNC0fTLsyAmMNVGeg.png"/></div></figure><h2 id="0471" class="mt ls it bd lt nc nd dn lx ne nf dp mb kr ng nh md kv ni nj mf kz nk nl mh nm bi translated">其他 EDA 选项</h2><p id="8745" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">Sidetable 的<code class="fe mz na nb mp b">stb.freq()</code>很不错，因为它很轻便，内容丰富。在某些情况下，您可能需要不同的工具。</p><p id="cd8f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我在寻找数字数据的描述性统计，我经常使用<code class="fe mz na nb mp b">df.describe()</code>。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="86d5" class="mt ls it mp b gy mu mv l mw mx">df_penguins.describe()</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/100a040ad0f12d2ae90a7ccb60c5d9f4.png" data-original-src="https://miro.medium.com/v2/format:webp/1*dCWJ-fCb_cEEPI6luggQMQ.png"/></div></figure><p id="333f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">传递<code class="fe mz na nb mp b">include='all'</code>显示了一些关于非数字列的信息，但是事情有点混乱。🙁</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="a8df" class="mt ls it mp b gy mu mv l mw mx">df_penguins.describe(include='all')</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/c8d0d3e5489c44b9de3ef27de8dce578.png" data-original-src="https://miro.medium.com/v2/format:webp/1*ZpWEmE5B2JBENmi6gapGAw.png"/></div></figure><p id="7f12" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想要更多关于你的数据的信息，可以查看一下<a class="ae le" href="https://github.com/pandas-profiling/pandas-profiling" rel="noopener ugc nofollow" target="_blank">熊猫简介</a>包。它提供了一个全面的报告，包括描述性的统计数据、直方图、相关性等等。挺牛逼的。然而，它可能需要一段时间来运行，并且对于许多用例来说有点多。</p><p id="b3a5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们看看最后一个 sidetable 方法。</p><h2 id="9ad4" class="mt ls it bd lt nc nd dn lx ne nf dp mb kr ng nh md kv ni nj mf kz nk nl mh nm bi translated">stb .小计()</h2><p id="1598" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">如果您想显示一个带有显示数字列总和的<em class="nn">总计</em>行的数据帧，使用<code class="fe mz na nb mp b">stb.subtotal()</code>。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="4576" class="mt ls it mp b gy mu mv l mw mx">df_penguins.stb.subtotal().tail()</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/295f448376f2f21da2d7dc52ce9af1b6.png" data-original-src="https://miro.medium.com/v2/format:webp/1*H77y7DDySfcbNvG4jEq4HA.png"/></div></figure><p id="4388" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这对于财务文档和其他想要在同一个表中显示数据和总计的情况非常方便。</p><p id="d6e7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过组合<code class="fe mz na nb mp b">df.groupby()</code>和<code class="fe mz na nb mp b">stb.subtotal()</code>，你得到一个总计和格式良好的小计。</p><p id="2959" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是一个由<em class="nn">物种</em>和<em class="nn">性别</em>组成的分组，以及<em class="nn">岛屿</em>的数量。</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="0274" class="mt ls it mp b gy mu mv l mw mx">df_penguins.groupby(['species', 'sex']).agg(dict(island='count'))</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi no"><img src="../Images/d6756b3b5cee8d375c1abe58e8d031bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rFG9B54jg6MDZVbJGsW_ag.png"/></div></div></figure><p id="1040" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们的例子中，这不是什么惊天动地的信息，但是它显示了每个组中的计数。</p><p id="dce6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果有一些小计和总计，这些信息会更容易理解。<code class="fe mz na nb mp b">stb.subtotal()</code>为我们补充那些。🎉</p><pre class="lf lg lh li gt mo mp mq mr aw ms bi"><span id="ae1a" class="mt ls it mp b gy mu mv l mw mx">df_penguins.groupby(['species', 'sex']).agg(dict(island='count')).stb.subtotal()</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nt"><img src="../Images/f83115298a5bf830eed1e6d78ba3eadf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a2L71BTGB6HL1ZllGmYrDg.png"/></div></div></figure><p id="bced" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">分类汇总通常对财务数据或序数数据很有帮助。让我在谷歌工作表或微软 Excel 中做预算和财务报告变得更加愉快。</p><h2 id="c4f1" class="mt ls it bd lt nc nd dn lx ne nf dp mb kr ng nh md kv ni nj mf kz nk nl mh nm bi translated">包装</h2><p id="a22c" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">您已经看到了如何使用 sidetable 快速显示缺失值，制作格式良好的频率表，以及显示总计和小计。这是一个方便的小图书馆。👍</p><h2 id="c040" class="mt ls it bd lt nc nd dn lx ne nf dp mb kr ng nh md kv ni nj mf kz nk nl mh nm bi translated">概述</h2><p id="958a" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">以下是 API 的概述:</p><ul class=""><li id="7bdc" class="nu nv it kk b kl km ko kp kr nw kv nx kz ny ld nz oa ob oc bi translated"><code class="fe mz na nb mp b">stb.missing()</code> -显示关于缺失值的有用信息。</li><li id="6a07" class="nu nv it kk b kl od ko oe kr of kv og kz oh ld nz oa ob oc bi translated"><code class="fe mz na nb mp b">stb.freq()</code> -显示列的计数、百分比和累积信息。</li><li id="d946" class="nu nv it kk b kl od ko oe kr of kv og kz oh ld nz oa ob oc bi translated"><code class="fe mz na nb mp b">stb.subtotal()</code> -向数据帧添加总计行。如果应用于 groupby，则添加每组的小计信息。</li></ul><p id="38a8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将<code class="fe mz na nb mp b">style=True</code>传递给<code class="fe mz na nb mp b">stb.missing()</code>和<code class="fe mz na nb mp b">stb.freq()</code>会使输出得到很好的格式化。还有许多其他参数可以传递给<code class="fe mz na nb mp b">stb.freq()</code>来修改输出。</p><p id="d0ae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我希望这篇 sidetable 的介绍对你有所帮助。如果你有，请在你最喜欢的社交媒体上分享，这样其他人也可以找到它。😀</p><p id="e519" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我最初在这里为 Deepnote <a class="ae le" href="https://beta.deepnote.com/article/sidetable-pandas-methods-you-didnt-know-you-needed" rel="noopener ugc nofollow" target="_blank">发表这篇文章。获得早期访问权后，您可以在那里将文章作为笔记本运行。🚀</a></p><p id="a3da" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于这篇文章，我使用了 Ted Petrou<a class="oi oj ep" href="https://medium.com/u/cf7f60f2eeb3?source=post_page-----92be825ff512--------------------------------" rel="noopener" target="_blank">的新的</a><a class="ae le" href="https://github.com/dexplo/jupyter_to_medium" rel="noopener ugc nofollow" target="_blank"> Jupyter to Medium </a>包来帮助从 Jupyter 笔记本转换到 Medium。谢谢你的大包裹，泰德！👍</p><p id="16e6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我写关于数据科学、<a class="ae le" href="https://memorablepython.com" rel="noopener ugc nofollow" target="_blank"> Python </a>、<a class="ae le" href="https://memorablesql.com" rel="noopener ugc nofollow" target="_blank"> SQL </a>和其他技术主题的文章。如果你对这些感兴趣，请注册我的<a class="ae le" href="https://dataawesome.com" rel="noopener ugc nofollow" target="_blank">邮件列表，那里有很棒的数据科学资源</a>，点击这里阅读更多内容，帮助你提高技能<a class="ae le" href="https://medium.com/@jeffhale" rel="noopener">。😀</a></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><a href="https://dataawesome.com"><div class="ab gu cl lk"><img src="../Images/ba32af1aa267917812a85c401d1f7d29.png" data-original-src="https://miro.medium.com/v2/format:webp/1*oPkqiu1rrt-hC_lDMK-jQg.png"/></div></a></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="ab gu cl lk"><img src="../Images/501d0c4a0b3dff9b4cf8bd327e32dc04.png" data-original-src="https://miro.medium.com/v2/format:webp/1*qr7Pdmwblr-5zmCYk3X2uQ.jpeg"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">巴布亚企鹅。资料来源:pixabay.com</p></figure><p id="4f0d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">快乐的侧桌！🚀</p></div></div>    
</body>
</html>