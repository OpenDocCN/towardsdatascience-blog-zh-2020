# ç³»åˆ—æ˜¯å¦éšç€æ—¶é—´çš„æ¨ç§»è¶Šæ¥è¶Šå·®ï¼Ÿ

> åŸæ–‡ï¼š<https://towardsdatascience.com/are-series-getting-worse-over-time-b81886c376d1?source=collection_archive---------53----------------------->

## ç”¨ BeautifulSoup å’Œ Seaborn å¯è§†åŒ–æ¥æŠ“å– IMDb è¯„åˆ†

![](img/28d7e1c513509a043a41bf9dc059aa39.png)

æ°ç‘ç±³Â·é›…æ™®åœ¨ [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral) ä¸Šçš„ç…§ç‰‡

ä½ æœ‰æ²¡æœ‰è¿‡è¿™æ ·çš„æ„Ÿè§‰ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œä½ æœ€å–œæ¬¢çš„ç”µè§†å‰§è´¨é‡ä¸‹é™äº†ï¼Ÿä½ ä¸å†åƒä»¥å‰é‚£æ ·ç€è¿·äº†ã€‚æ˜¯çš„â€¦æˆ‘æœ‰è¿™ç§æ„Ÿè§‰ã€‚ğŸ˜

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘é€šè¿‡æ£€æŸ¥ **IMDb** çš„åˆ†æ•°æ¥åˆ†æå…¶ä»–è§‚ä¼—æ˜¯å¦æœ‰åŒæ ·çš„å°è±¡ã€‚IMDb æ˜¯ä¸€ä¸ªå…³äºè¿ç»­å‰§ã€ç”µå½±å’Œè§†é¢‘çš„åœ¨çº¿æ•°æ®åº“ã€‚æ•°æ®åº“ä¸­åŒ…å«çš„æ‰€æœ‰å‰§é›†éƒ½æœ‰ä¸€ä¸ªå‰§é›†æŒ‡å—ï¼Œå…¶ä¸­æä¾›äº†æ¯é›†çš„ç›¸å…³ä¿¡æ¯(æ ‡é¢˜ã€æ”¶è§†ç‡ã€ä¸Šæ˜ æ—¥æœŸå’Œæƒ…èŠ‚)ã€‚

ä¸ºäº†æ‰§è¡Œè¿™ä¸€åˆ†æï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ **BeautifulSoup** æå–æ¯é›†çš„æ”¶è§†ç‡ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨ **Pandas** æ•°æ®å¸§ä¸­ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ **Seaborn** åº“ç”¨**çƒ­å›¾**å¯è§†åŒ–ç»“æœã€‚

å¦‚æœæ‚¨å¯¹ç”¨äºä» **IMDb ç½‘é¡µ**ä¸­æå–è´¹ç‡ä»¥åŠç”Ÿæˆ**çƒ­å›¾**çš„ä»£ç æ„Ÿå…´è¶£ï¼Œè¯·é˜…è¯»åˆ°æœ€åï¼Œå› ä¸ºæˆ‘ä»¬é¦–å…ˆæä¾›ç»“æœï¼Œç„¶åè§£é‡Šæˆ‘ä»¬å¦‚ä½•è·å¾—å®ƒä»¬ï¼é‚£ä¹ˆâ€¦è®©æˆ‘ä»¬å¼€å§‹å§ï¼Œâ­ï¸

# æ® IMDb ç”¨æˆ·ç§°ï¼Œè´¨é‡éšç€æ—¶é—´çš„æ¨ç§»è€Œä¸‹é™

åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘æœ‰ä¸€ç§æ„Ÿè§‰ï¼Œä¸€ä¸ªç³»åˆ—èŠ±è´¹äº†å¤ªå¤šçš„æ—¶é—´ã€‚æˆåŠŸçš„å‰§é›†é€šå¸¸ä¼šæœ‰å¾ˆå¤šå­£ï¼Œæœ‰é‡å¤çš„é£é™©ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†æäº† 5 ä¸ªéšæ—¶é—´æ¨ç§»è´¨é‡é€æ¸ä¸‹é™æˆ–åœ¨æœ€åä¸€å­£æ€¥å‰§ä¸‹é™çš„ç³»åˆ—ã€‚

# è¶Šç‹±

ã€Šè¶Šç‹±ã€‹æ˜¯ä¸€éƒ¨ 2005 å¹´ä¸Šæ˜ çš„ç¾å‰§ã€‚è¿™éƒ¨ç”µè§†å‰§è®²è¿°äº†ä¸€ä¸ªæ°å‡ºçš„ç»“æ„å·¥ç¨‹å¸ˆè¿ˆå…‹å°”Â·æ–¯ç§‘è²å°”å¾·åˆ¶å®šè®¡åˆ’å¸®åŠ©ä»–çš„å…„å¼Ÿæ—è‚¯Â·å·´ç½—æ–¯è¶Šç‹±çš„æ•…äº‹ã€‚æ—è‚¯å› è¢«æŒ‡æ§æ€å®³ç¾å›½å‰¯æ€»ç»Ÿçš„å…„å¼Ÿè€Œè¢«ç›‘ç¦å¹¶è¢«åˆ¤å¤„æ­»åˆ‘ã€‚

ä¸‹é¢çš„**çƒ­å›¾**æ˜¾ç¤ºäº†æ¯ä¸€é›†çš„è¯„åˆ†ã€‚æ­£å¦‚ä½ æ‰€è§‚å¯Ÿåˆ°çš„ï¼Œ**å‰ä¸¤å­£**çš„å¹³å‡åˆ†æ•°æ¯”å…¶ä»–çš„éƒ½è¦é«˜ã€‚

![](img/1fce85b783630c933646bbab0c9653c4.png)

ç›‘ç‹±ç ´è£‚

# è¡Œå°¸èµ°è‚‰

ã€Šè¡Œå°¸èµ°è‚‰ã€‹æ˜¯ä¸€éƒ¨äº 2010 å¹´åœ¨ AMC**é¢‘é“**æ’­å‡ºçš„ç¾å‰§ã€‚è¯¥ç³»åˆ—å‘ˆç°äº†ä¸€ä¸ªåä¸–ç•Œæœ«æ—¥çš„ä¸–ç•Œï¼Œä¸€ç¾¤å¹¸å­˜è€…è¯•å›¾åœ¨åƒµå°¸çš„ä¸æ–­æ”»å‡»ä¸‹ç”Ÿå­˜ï¼ŒåŒæ—¶é¢ä¸´ä¸å…¶ä»–äººç±»å¹¸å­˜è€…çš„å†²çªã€‚æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œåˆ†æ•°éšç€æ—¶é—´çš„æ¨ç§»é€æ¸é™ä½ã€‚

![](img/e5b1699945b6ddfcfd2ad12eb73a8968.png)

è¡Œå°¸èµ°è‚‰

# é‡‘é’±æŠ¢åŠ«

**é‡‘é’±å¤§åŠ«æ¡ˆ**æ˜¯ä¸€éƒ¨è¥¿ç­ç‰™ç”µè§†å‰§ï¼Œæœ€åˆäº 2017 å¹´åœ¨ Antena 3 æ’­å‡ºã€‚åœ¨è¢«**ç½‘é£**æ”¶è´­åï¼Œ**é‡‘é’±æŠ¢åŠ«**å·²ç»æˆä¸ºä¸€ä¸ªä¸–ç•Œæ€§çš„ç°è±¡ã€‚è¯¥ç³»åˆ—è®²è¿°äº†ç”±â€œ**El professor**â€ç»„ç»‡çš„**çš‡å®¶é“¸å¸å‚åŠ«æ¡ˆ**çš„æ•…äº‹ã€‚åœ¨è®¡åˆ’äº†å¤šå¹´çš„æŠ¢åŠ«åï¼ŒEl Profesor æ‹›å‹Ÿäº†å…«åä»¥åŸå¸‚å‘½åçš„åŠ«åŒª(ä¸œäº¬ã€å†…ç½—æ¯•ã€é‡Œçº¦ã€æŸæ—ã€è«æ–¯ç§‘ã€ä¸¹ä½›ã€å¥¥å°”ç´¢å’Œèµ«å°”è¾›åŸº)æ¥æ‰§è¡Œä»–çš„æ€»è®¡åˆ’:å°åˆ¶ 24 äº¿æ¬§å…ƒå¹¶æˆåŠŸé€ƒç¦»é“¸å¸å‚ã€‚

![](img/0e3b13fb2b367eae01b5f5f53bedc601.png)

é‡‘é’±æŠ¢åŠ«

å¦‚ä¸Šå›¾ï¼Œä¸Šä¸€å­£å¾ˆå¤šé›†çš„è¯„åˆ†å¤§å¹…ä¸‹é™(1 åˆ†å·¦å³)ï¼›ç„¶è€Œï¼Œå®ƒä»¬åœ¨èµ›å­£ç»“æŸæ—¶å¢åŠ (ç¬¬ 7 å’Œç¬¬ 8 é›†)ã€‚

æˆ‘ä¸å¾—ä¸æ‰¿è®¤**é‡‘é’±å¤§åŠ«æ¡ˆ**æ˜¯æˆ‘æœ€å–œæ¬¢çš„â¤ï¸ç³»åˆ—ä¹‹ä¸€

# ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹

**æƒåŠ›çš„æ¸¸æˆ**æ˜¯ä¸€éƒ¨äº 2017 å¹´åœ¨ **HBO** æ’­å‡ºçš„ç¾å‰§ï¼Œæ”¹ç¼–è‡ª**ä¹”æ²»Â·rÂ·rÂ·é©¬ä¸**å†™çš„ä¸€ç³»åˆ—å¥‡å¹»å°è¯´ã€‚è¯¥ç³»åˆ—è®²è¿°äº†ç‹æœä¹‹é—´ä¸ºäº‰å¤ºé“ç‹åº§è€Œå‘ç”Ÿå†²çªå’Œç»“ç›Ÿçš„æ•…äº‹ã€‚

ä½ å¯ä»¥åœ¨ä¸‹é¢è§‚å¯Ÿåˆ°ï¼Œå‰§é›†çš„è¯„åˆ†åœ¨æ‰€æœ‰å­£èŠ‚éƒ½å¾ˆé«˜ï¼Œåœ¨æœ€åä¸€å­£å‡ºç°äº†å¤§å¹…ä¸‹é™ã€‚

![](img/54ef7f42cfd559179448ed633b396764.png)

# ã€Šé»‘é•œã€‹

**é»‘é•œ**æ˜¯ä¸€éƒ¨**è‹±å›½**åä¹Œæ‰˜é‚¦ç”µè§†å‰§ï¼Œäº 2011 å¹´ä¸Šæ˜ ã€‚è¯¥ç³»åˆ—æ‰¹è¯„äº†ç°ä»£ç¤¾ä¼šï¼Œå°¤å…¶æ˜¯å¯¹æŠ€æœ¯çš„ä¸å½“ä½¿ç”¨ã€‚æ‰€æœ‰çš„æƒ…èŠ‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå¹¶å‘ˆç°äº†ä¸ä¹…çš„å°†æ¥ï¼Œç§‘æŠ€æ‰®æ¼”ç€é‡è¦ä½†ä¹Ÿæœ‰å®³çš„è§’è‰²ã€‚

![](img/f93f1fe2fb3c12f8ab13b4b7553e3fbf.png)

å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è§‚å¯Ÿåˆ°ä¸Šä¸ªèµ›å­£çš„å¾—åˆ†æœ‰æ‰€ä¸‹é™ã€‚

# å…¶ä»–ç³»åˆ—

å¦‚**çº¸ç‰Œå±‹**ã€**ç»´äº¬äºº**ã€**ç»¯é—»å°‘å¥³**ã€**ç½ªäºº**ç­‰ç³»åˆ—ï¼Œæ ¹æ® **IMDb** ç”¨æˆ·çš„è¯´æ³•ï¼Œä¹Ÿæ˜¾ç¤ºå‡ºè´¨é‡éšç€æ—¶é—´çš„æ¨ç§»è€Œä¸‹é™ã€‚ä½†æ˜¯ï¼Œæœ‰æ²¡æœ‰ä¸€ä¸ªç³»åˆ—èƒ½ä¿æŒå®ƒä»¬çš„è´¨é‡ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼

# æ ¹æ® IMDb ç”¨æˆ·çš„æ„è§ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œè´¨é‡ä¿æŒä¸å˜

è™½ç„¶éšç€æ—¶é—´çš„æ¨ç§»ï¼Œè®¸å¤šç³»åˆ—ä¼šå¤±å»è´¨é‡ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›ç³»åˆ—èƒ½å¤Ÿåœ¨æ•´ä¸ªå­£èŠ‚ä¿æŒè´¨é‡ã€‚è®©æˆ‘ä»¬çœ‹ä¸€äº›ä¾‹å­ã€‚

# **ç»å‘½æ¯’å¸ˆ**

**ç»å‘½æ¯’å¸ˆ**åˆšåˆšå¥½ã€‚æ‰€æœ‰çš„éƒ¨åˆ†éƒ½å®Œç¾åœ°ç»„åˆåœ¨ä¸€èµ·çš„æ‹¼å›¾ã€‚ä»€ä¹ˆéƒ½ä¸ç¼ºï¼Œä»€ä¹ˆéƒ½ä¸å¤šä½™ã€‚ä¸ç”¨è¯´ï¼Œ**ç»å‘½æ¯’å¸ˆ**æ˜¯æˆ‘æœ€å–œæ¬¢çš„ç³»åˆ—ï¼ğŸ’š

ã€ŠT4ã€‹ç³»åˆ—äº 2008 å¹´åœ¨ AMC ç”µè§†å°**æ’­å‡ºï¼Œè®²è¿°äº†**æ²ƒå°”ç‰¹Â·æ€€ç‰¹**çš„æ•…äº‹ï¼Œä»–æ˜¯ä¸€åé«˜ä¸­åŒ–å­¦è€å¸ˆï¼Œåœ¨è¢«è¯Šæ–­æ‚£æœ‰æ— æ³•æ‰‹æœ¯çš„è‚ºç™Œåï¼Œå¼€å§‹ç”Ÿäº§å†°æ¯’ä»¥ä¿è¯å®¶åº­çš„ç»æµå‰æ™¯ã€‚**

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¯¥ç³»åˆ—ç”šè‡³**éšç€æ—¶é—´çš„æ¨ç§»è€Œæé«˜è´¨é‡**ã€‚

![](img/e395314e797748029c7b1ce2c83d9bd6.png)

ã€Šç»å‘½æ¯’å¸ˆã€‹

æˆ‘å®Œå…¨åŒæ„ **IMDb** çš„ç”¨æˆ·ã€‚ç¬¬å››å­£çš„æœ€åä¸€ç« ç®€ç›´å®Œç¾ã€‚

# è€å‹è®°

**è€å‹è®°**æ˜¯ 1994 å¹´åœ¨ **NBC** æ’­å‡ºçš„ä¸€éƒ¨**ç¾å›½**è¿ç»­å‰§ã€‚è¿™éƒ¨ç”µè§†å‰§è®²è¿°äº†ä½åœ¨çº½çº¦çš„å…­ä¸ªæœ‹å‹(ç‘ç§‹ã€è«å¦®å¡ã€è²æ¯”ã€ä¹”ä¼Šã€é’±å¾·å’Œç½—æ–¯)çš„æ•…äº‹ã€‚

ç”±äºã€Šè€å‹è®°ã€‹çš„æˆåŠŸï¼Œç»è¿‡å¤šæ¬¡è–ªèµ„è°ˆåˆ¤ï¼Œå‰§ç»„åœ¨ç¬¬ä¹å­£å’Œç¬¬åå­£æ¯é›†è·å¾—äº† 100 ä¸‡ç¾å…ƒçš„æŠ¥é…¬ï¼

![](img/424afc43f0d349a11ef9388bc17d0fda.png)

è€å‹è®°

å¦‚ä¸Šæ‰€ç¤ºï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°å„é›†ä¹‹é—´åˆ†æ•°çš„å·®å¼‚ï¼›ç„¶è€Œï¼Œæ²¡æœ‰æ˜æ˜¾ä¸‹é™çš„è´¨é‡åœ¨æ•´ä¸ªå­£èŠ‚ã€‚

# å¦‚ä½•é€ƒè„±è°‹æ€

**å¦‚ä½•é€é¥æ³•å¤–**æ˜¯ 2017 å¹´åœ¨ *ABC* ä¸Šå‘å¸ƒçš„ä¸€éƒ¨**ç¾å›½**ç³»åˆ—ã€‚è¿™éƒ¨è¿ç»­å‰§è®²è¿°äº†å®‰å¨œè‰ä¸Â·åŸºå»·çš„æ•…äº‹ï¼Œå¥¹æ˜¯ç±³å¾·å°”é¡¿å¤§å­¦çš„æ³•å­¦æ•™æˆï¼Œä¹Ÿæ˜¯ä¸€åæˆåŠŸçš„å¾‹å¸ˆã€‚å¥¹å’Œå¥¹çš„äº”ä¸ªå­¦ç”Ÿå·å…¥äº†å®‰å¨œè‰ä¸ä¸ˆå¤«è¨å§†Â·åŸºå»·çš„è°‹æ€æ¡ˆã€‚

åœ¨è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ— æ³•ç†è§£è´¨é‡éšæ—¶é—´çš„ä¸‹é™ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°ï¼Œè¿™ä¸€å­£çš„æœ€åå‡ ç« æ¯”ç¬¬ä¸€ç« è¯„ä»·æ›´é«˜ã€‚æˆ‘ä»¬å‡ ä¹å¯ä»¥åœ¨æ‰€æœ‰ç³»åˆ—ä¸­è§‚å¯Ÿåˆ°è¿™ç§è¶‹åŠ¿ï¼

![](img/353cd27872a1f23f667cb6eb514d4035.png)

ç°åœ¨ï¼Œæ˜¯æ—¶å€™è®©ä½ è‡ªå·±çš„å½¢è±¡åŒ–äº†ï¼

# å¯†ç 

é¦–å…ˆï¼Œæˆ‘ä»¬ä»‹ç»æœ¬æ–‡ä¸­ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“ã€‚ç”±äºè¿™äº›åº“ä¸æ˜¯ **Python æ ‡å‡†åº“**çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬éœ€è¦å•ç‹¬å®‰è£…å®ƒä»¬ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨ **pip** ç»„ä»¶è½»æ¾å®ç°ã€‚åœ¨è®¡ç®—æœºä¸Šæ‰§è¡Œä»£ç ä¹‹å‰ï¼Œè¯·éªŒè¯æ˜¯å¦å®‰è£…äº†æ‰€æœ‰åº“ã€‚

ç„¶åï¼Œæˆ‘ä»¬æä¾›ç”¨äºä» **IMDb ç½‘é¡µ**æŠ“å–æ•°æ®å¹¶ç”Ÿæˆ**çƒ­å›¾**çš„ä»£ç ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥è½»æ¾åœ°åˆ¶ä½œè‡ªå·±çš„å¯è§†åŒ–æ•ˆæœäº†ï¼

# å›¾ä¹¦é¦†

## è¯·æ±‚

[**è¯·æ±‚**](https://requests.readthedocs.io/en/master/) æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ï¼Œå…è®¸ä½ ä½¿ç”¨ **Python** å‘é€ **HTTP** è¯·æ±‚ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†åªä½¿ç”¨**è¯·æ±‚åº“**æ¥è·å–ä¸€ä¸ªç½‘é¡µçš„ **HTML** ä»£ç ã€‚

## ç¾å‘³çš„æ±¤

å½“æ‰§è¡Œæ•°æ®åˆ†ææ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸æ€»æ˜¯èƒ½å¤Ÿä¸‹è½½ **csv æ ¼å¼**çš„æ•°æ®ï¼Œæˆ–è€…é€šè¿‡**åº”ç”¨ç¼–ç¨‹æ¥å£** (API)è®¿é—®æ•°æ®ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¿…é¡»ç›´æ¥ä»**ç½‘é¡µ**è·å–æ•°æ®ã€‚è¿™æ—¶å€™**ç¾æ±¤**å°±æ´¾ä¸Šç”¨åœºäº†ã€‚

[**ç¾æ±¤**](https://www.crummy.com/software/BeautifulSoup/bs4/doc/) æ˜¯ä¸€ä¸ª **Python** åº“ï¼Œç”¨äºä» **HTML** å’Œ **XML** æ–‡æ¡£ä¸­æå–æ•°æ®ï¼Œæœ‰å¾ˆå¤šæœ‰ç”¨çš„åŠŸèƒ½å¯ä»¥ä»ç½‘é¡µä¸­æŠ“å–ä¿¡æ¯(ä¾‹å¦‚ä»æ ‡ç­¾æˆ–å›¾ç‰‡ä¸­æå–è¶…é“¾æ¥ã€æ–‡æœ¬)ã€‚

## ç†ŠçŒ«

[**Pandas**](https://pandas.pydata.org/?source=post_page---------------------------) æ˜¯ä¸€ä¸ª **Python** å¼€æºåº“ï¼Œç”¨äº**æ•°æ®ç§‘å­¦**ï¼Œå…è®¸æˆ‘ä»¬è½»æ¾å¤„ç†ç»“æ„åŒ–æ•°æ®ï¼Œå¦‚ **csv æ–‡ä»¶**ã€ **SQL è¡¨**æˆ– **Excel ç”µå­è¡¨æ ¼**ã€‚å®ƒæä¾›äº†ä»¥ä¸åŒæ ¼å¼è¯»å†™æ•°æ®ã€æ‰§è¡Œæ¢ç´¢æ€§åˆ†æå’Œæ•°æ®æ¸…ç†çš„å·¥å…·ã€‚

## æµ·ç”Ÿçš„

**Seaborn** æ˜¯åŸºäº **Matplotlib** çš„ **Python** æ•°æ®å¯è§†åŒ–åº“ã€‚ä¸ **Matplotlib** ã€ **Seaborn** ç›¸æ¯”ï¼Œå®ƒå…è®¸æ‚¨ä½¿ç”¨æ›´å°‘çš„ä»£ç è¡Œæ¥ç»˜åˆ¶å›¾è¡¨ï¼Œå¹¶æä¾›æ›´å¤æ‚çš„å¯è§†åŒ–å·¥å…·ï¼Œå¦‚**çƒ­å›¾**ã€**ç›’å›¾**å’Œ**å°æç´å›¾**ã€‚æ­¤å¤–ï¼Œå¯è§†åŒ–æ•ˆæœçœ‹èµ·æ¥æ›´å¥½ï¼â¤ï¸

# ç¾å£°ç½‘åˆ®

ä¸ºäº†ä» IMDb æ”¶é›†æ•°æ®ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°(**å‰§é›† _ æ¯”ç‡)**ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå‰§é›†(å‰§é›†æŒ‡å—)çš„**ç½‘é¡µ**ä½œä¸ºè¾“å…¥ï¼Œè¿”å›ä¸€ä¸ª**æ•°æ®å¸§**ï¼Œå…¶ä¸­**è¡Œ**è¡¨ç¤º**å­£**ï¼Œè€Œ**åˆ—**è¡¨ç¤º**é›†**ï¼Œå¦‚ä¸‹æ‰€ç¤º:

å‰§é›† _ è´¹ç‡åŠŸèƒ½

![](img/e19a81a3b480f27f4220bf246a36bfc0.png)

è®©æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥åœ°ç†è§£ä»£ç ğŸ‘Œ

1.æˆ‘ä»¬ä½¿ç”¨**è¯·æ±‚æ¨¡å—**ä»¥å­—ç¬¦ä¸²å½¢å¼è·å–ç½‘é¡µçš„ **HTML** ä»£ç ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨**å‘æŒ‡å®šçš„ **url** å‘é€ä¸€ä¸ª **GET è¯·æ±‚**ã€‚get(url)** æ–¹æ³•ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨**è·å–é¡µé¢çš„ **HTML** æ–‡æœ¬ã€‚æ–‡æœ¬**å±æ€§**å±æ€§**ã€‚

```
# obtain the html code as a string 
 response = requests.get(url_serie + url_season)
 html = response.text
```

æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œ**ç½‘å€**ç”±ä¸¤éƒ¨åˆ†ç»„æˆ:**ç½‘å€ _ ç³»åˆ—**å’Œ**ç½‘å€ _ å­£èŠ‚**ã€‚ **Url_serie** æ˜¯å‡½æ•°(**å‰§é›† _ æ”¶è§†ç‡)**çš„è¾“å…¥ï¼Œåœ¨ **url_season** æ—¶ä¿æŒä¸å˜(ä¾‹å¦‚ï¼Ÿå­£èŠ‚=1ï¼Œï¼Ÿå­£èŠ‚=2ï¼Œâ€¦)éšç€æˆ‘ä»¬é€‰æ‹©ä¸åŒçš„å­£èŠ‚è€Œå˜åŒ–ã€‚

![](img/d92472d0fec80e746a12963486c83406.png)

2.æˆ‘ä»¬å°†å­—ç¬¦ä¸² **html** ä¼ é€’ç»™ **BeautifulSoup** æ„é€ å‡½æ•°ï¼Œè·å¾—ä¸€ä¸ª **BeautifulSoup** ç±»å‹çš„å¯¹è±¡ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨**ç¾ä¸½çš„æ±¤**ä¸­å¯ç”¨çš„æ–¹æ³•è½»æ¾åœ°ä»è¯¥å¯¹è±¡ä¸­æå–ä¿¡æ¯ã€‚

```
# create a BeautifulSoup object
 soup = bs4.BeautifulSoup(html, â€œhtml.parserâ€)
```

3.æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨ **Chrome å¼€å‘å·¥å…·**æ¢ç´¢ **HTML** ä»£ç ã€‚ **Chrome Dev Tools** æ˜¯ä¸€å¥—ç›´æ¥å†…ç½®äºè°·æ­Œ Chrome çš„ç½‘ç»œå¼€å‘å·¥å…·ï¼Œå…è®¸ä½ è½»æ¾æ£€æŸ¥é¡µé¢çš„ **HTML** ä»£ç ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ç‚¹å‡» **Ctr + Shift + I** æˆ–è€…é€‰æ‹©**æ›´å¤šå·¥å…·>å¼€å‘è€…å·¥å…·**æ¥è½»æ¾è®¿é—® **Chrome å¼€å‘å·¥å…·**ã€‚

åœ¨å…ƒç´ é€‰é¡¹å¡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥å’Œç¼–è¾‘é¡µé¢çš„ **HTML** å’Œ **CSS** ã€‚è¦æ˜¾ç¤ºæŸä¸ªå…ƒç´ çš„ **HTML** ä»£ç (ä¾‹å¦‚ï¼Œäº‹ä»¶ç‡)ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»æ£€æŸ¥å…ƒç´ æŒ‰é’®(å¸¦ç®­å¤´çš„æ–¹å—)å¹¶åœ¨æµè§ˆå™¨ä¸­é€‰æ‹©è¯¥é¡¹ç›®ï¼Œå¦‚ä¸‹æ‰€ç¤º:

![](img/1dd81118834804a8b2192c0c8dd5e98a.png)

æ­£å¦‚æˆ‘ä»¬æ‰€è§‚å¯Ÿåˆ°çš„ï¼Œæ„Ÿå…´è¶£çš„å…ƒç´ (å‰§é›†æ¯”ç‡)ä½äºå…·æœ‰**ç±»å±æ€§**(â€œIPL-rating-star _ _ ratingâ€)çš„ **span æ ‡ç­¾**å†…ã€‚è¿™ä¸ª **span æ ‡ç­¾**åœ¨ä¸€ä¸ª **division æ ‡ç­¾**å†…ï¼Œå¸¦æœ‰ä¸€ä¸ª **class å±æ€§**(â€œIPL-rating-star smallâ€)ã€‚

æˆ‘ä»¬ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚ **find_all()** è·å–æ‰€æœ‰å…·æœ‰**ç±»å±æ€§**(â€œIPL-rating-star smallâ€)çš„æ ‡ç­¾ã€‚è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ª **bs4.element.ResultSet** å¯¹è±¡ã€‚ç„¶åï¼Œæˆ‘ä»¬éå†è¿™ä¸ªå¯¹è±¡(division æ ‡ç­¾)ï¼Œä½¿ç”¨**è®¿é—®åŒ…å«åˆ†æ•°çš„ span æ ‡ç­¾(â€œipl-rating-star__ratingâ€)ã€‚find()** æ–¹æ³•ã€‚ä¸ºäº†è·å¾—æ ‡ç­¾ä¹‹é—´çš„æ–‡æœ¬ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†**ã€‚æ–‡æœ¬å±æ€§**å¦‚ä¸‹ã€‚

```
rates_season = {}
 # we obtain all division tags with the class attribute â€œipl-rating-star smallâ€
 division_tags = soup.find_all(class_=â€ipl-rating-star smallâ€)

 # we loop through the tags and extract the scores
 # we create a dictionary with the scores
 for index, tag in enumerate(division_tags):
     rate = tag.find(class_=â€ipl-rating-star__ratingâ€).text
     episode = â€˜Episode_â€™ + str(index + 1)
     # we insert the score in the dictionary
     rates_season[episode] = float(rate)

 # we append the dictionary to a list
 rates_all.append(rates_season)
```

å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†åˆ†æ•°æ’å…¥åˆ°ä¸€ä¸ª**å­—å…¸**ä¸­ï¼Œä½œä¸º**é”®**çš„å‰§é›†ç¼–å·å’Œ**å€¼**çš„å‰§é›†åˆ†æ•°ã€‚æœ€åï¼Œæˆ‘ä»¬å°†è¿™æœ¬è¯å…¸é™„åŠ åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚

4.ä¸€æ—¦æˆ‘ä»¬æ”¶é›†äº†ä¸€ä¸ªèµ›å­£çš„æ‰€æœ‰åˆ†æ•°ï¼Œæˆ‘ä»¬å¿…é¡»è®¿é—®ä¸‹ä¸€ä¸ªèµ›å­£çš„ **url** æ¥ç»§ç»­æ”¶é›†åˆ†æ•°ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æ£€æŸ¥å¦ä¸€å­£æ˜¯å¦å¯ç”¨(**anchor tag**â€”id = " load _ next _ å‰§é›†")ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨ã€‚ **get()** æ–¹æ³•ã€‚

```
# get next season anchor tag
 next_season = soup.find(â€œaâ€, id=â€load_next_episodesâ€)
 # if next_season equal to None break the loop
 if not next_season:
  break
 # if next_season is not equal to None, we access the url 
 url_season = next_season.get(â€˜hrefâ€™)
```

å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¦‚æœæ²¡æœ‰ id="load_next_episodes "çš„**ä¸»æ’­æ ‡ç­¾**ï¼Œæ„å‘³ç€æ²¡æœ‰å¦ä¸€å­£å¯ç”¨ï¼Œåˆ™ **while å¾ªç¯**ç»ˆæ­¢ã€‚

5.æœ€åï¼Œæˆ‘ä»¬è·å¾—ä¸€ä¸ªå­—å…¸åˆ—è¡¨ï¼Œå…¶ä¸­æ¯ä¸ªå­—å…¸åŒ…å«ä¸€ä¸ªèµ›å­£çš„å¾—åˆ†ã€‚æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ª**å­—å…¸åˆ—è¡¨**åˆ›å»ºä¸€ä¸ª**ç†ŠçŒ«æ•°æ®å¸§**ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
df = pd.DataFrame(rates_all, index=list(map(lambda x: â€˜Season_â€™ + str(x+1), range(num_season))))
```

ç§ï¼æˆ‘ä»¬è·å¾—ä¸€ä¸ª**æ•°æ®å¸§**ï¼Œåªæä¾›ä¸€ä¸ª**ç½‘é¡µ**ğŸ’ªæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿™ä¸ª**æ•°æ®å¸§**ä½¿ç”¨ **Seaborn** åˆ›å»ºä¸€ä¸ª**çƒ­å›¾**ã€‚

# Seaborn å¯è§†åŒ–

**çƒ­å›¾**æ˜¯ä¸€ç§æ•°æ®å¯è§†åŒ–æŠ€æœ¯ï¼Œå…¶ä¸­æ¯ä¸ªæ•°æ®ç‚¹çš„å€¼ç”¨é¢œè‰²(è‰²è°ƒæˆ–å¼ºåº¦çš„å˜åŒ–)è¡¨ç¤ºã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ **seaborn.heatmap()** å‡½æ•°è½»æ¾åˆ›å»ºä¸€ä¸ªå¸¦æœ‰ **Seaborn** çš„çƒ­å›¾ã€‚

å¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°**ç½‘é¡µåˆ°çƒ­å›¾**ï¼Œå®ƒæ¥å—å‰§é›†(å‰§é›†æŒ‡å—)çš„**ç½‘é¡µ**ã€å›¾åƒçš„é¢œè‰²å›¾ä»¥åŠæ ‡é¢˜ä½œä¸ºè¾“å…¥ï¼Œè¿”å›çƒ­å›¾å¯è§†åŒ–ã€‚æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨å‡½æ•° **episodes_rates** è¿”å›çš„æ•°æ®å¸§ä½œä¸º **seaborn.heatmap()** å‡½æ•°çš„è¾“å…¥ã€‚

ç½‘é¡µçƒ­å›¾

ç°åœ¨ï¼Œè®©æˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªç³»åˆ—ï¼Œå¹¶å¯è§†åŒ–å…¶åˆ†æ•°ï¼

é¦–å…ˆï¼Œæˆ‘ä»¬è½¬åˆ°ä¸€ä¸ªç³»åˆ—çš„å‰§é›†æŒ‡å—ï¼Œæˆ‘ä»¬å¤åˆ¶ url ç›´åˆ°å•è¯ episodeï¼Œå¦‚ä¸‹æ‰€ç¤º:

![](img/36ef79082dbf2ae60d90e87ce305b60c.png)

ç„¶åï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ª**è‰²å›¾**å’Œä¸€ä¸ª**æ ‡é¢˜**ç”¨äºå¯è§†åŒ–ã€‚æœ€åï¼Œæˆ‘ä»¬ç”¨**ç½‘é¡µçƒ­å›¾**å‡½æ•°åˆ›å»ºäº†**çƒ­å›¾**ã€‚

![](img/990c6cbd664b7b548b361e7daa0c9053.png)

å¦‚ä½ æ‰€è§ï¼Œã€Šå¹¿å‘Šç‹‚äººã€‹éšç€æ—¶é—´çš„æ¨ç§»è´¨é‡ä¸æ–­æé«˜ï¼æ­¤å¤–ï¼Œè¿™ä¸€å­£çš„æœ€åå‡ ç« æ¯”ç¬¬ä¸€å­£è¯„ä»·æ›´é«˜ã€‚

ç°åœ¨ï¼Œæ˜¯æ—¶å€™è®©ä½ è‡ªå·±çš„å½¢è±¡åŒ–äº†ï¼

é˜¿æ›¼è¾¾ğŸ’œ