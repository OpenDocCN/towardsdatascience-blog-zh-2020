<html>
<head>
<title>How to Calculate π by Tossing Needles on the Floor</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">把针扔在地上怎么算π</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-calculate-%CF%80-by-tossing-needles-on-the-floor-3e26ba027ab2?source=collection_archive---------36-----------------------#2020-04-24">https://towardsdatascience.com/how-to-calculate-%CF%80-by-tossing-needles-on-the-floor-3e26ba027ab2?source=collection_archive---------36-----------------------#2020-04-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="abef" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">著名的布冯针问题</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3c37ce54408ae1a554fb39adb7517a1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s-kbxjhEYWSr3tqkyObdXA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://pixabay.com/fr/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=95721" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>的 Gerd Altmann 提供</p></figure><p id="ae21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">领先的进化生物学家和博学者<a class="ae ky" href="https://en.wikipedia.org/wiki/Ernst_Mayr" rel="noopener ugc nofollow" target="_blank">恩斯特·迈尔</a>描述法国博物学家、数学家和宇宙学家<a class="ae ky" href="https://en.wikipedia.org/wiki/Georges-Louis_Leclerc,_Comte_de_Buffon" rel="noopener ugc nofollow" target="_blank">乔治-路易·莱克勒克，孔德·德·布丰</a>(1707–1788)，如是说:</p><blockquote class="lv"><p id="ca9d" class="lw lx it bd ly lz ma mb mc md me lu dk translated">“的确，[……]18 世纪下半叶自然历史中所有思想之父”</p><p id="ca22" class="lw lx it bd ly lz ma mb mc md me lu dk translated">——恩斯特·迈尔</p></blockquote><p id="1aa5" class="pw-post-body-paragraph kz la it lb b lc mf ju le lf mg jx lh li mh lk ll lm mi lo lp lq mj ls lt lu im bi translated">他的作品，尤其是他的<a class="ae ky" href="https://en.wikipedia.org/wiki/Histoire_Naturelle" rel="noopener ugc nofollow" target="_blank"><em class="mk"/></a><em class="mk"/>一<em class="mk"/>36 卷的合集，受到了<em class="mk"/><em class="mk"/>的高度影响，涵盖了广泛的主题，包括材料科学、物理、化学和动物自然史。</p><h2 id="60ba" class="ml mm it bd mn mo mp dn mq mr ms dp mt li mu mv mw lm mx my mz lq na nb nc nd bi translated">他对数学的贡献</h2><p id="e66b" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">乔治·路易·莱克勒克(后来的布丰伯爵)对数学的第一个重大贡献是他的《T21》一书，在书中他将微积分技术应用于概率理论。本文将要描述的著名问题<a class="ae ky" href="https://en.wikipedia.org/wiki/Buffon%27s_needle" rel="noopener ugc nofollow" target="_blank">布冯针</a>就是以他的名字命名的(见图 2)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/12e382d4763c200397f65848aef3761c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*spTtDvVdU7AckzOeb--SSw@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 1:乔治-路易·莱克勒克，布丰伯爵，由著名肖像画家<a class="ae ky" href="https://en.wikipedia.org/wiki/Fran%C3%A7ois-Hubert_Drouais" rel="noopener ugc nofollow" target="_blank">弗朗索瓦-休伯特·德鲁艾</a>(左)(<a class="ae ky" href="https://en.wikipedia.org/wiki/Georges-Louis_Leclerc,_Comte_de_Buffon" rel="noopener ugc nofollow" target="_blank">来源</a>)。在他的书《自然的问题》(1778 年)中，莱克勒克提出行星是在太阳和彗星碰撞后形成的。</p></figure><h1 id="1ab8" class="nl mm it bd mn nm nn no mq np nq nr mt jz ns ka mw kc nt kd mz kf nu kg nc nv bi translated">问题陈述</h1><p id="0dc5" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">这个问题的简化形式可以表述如下:</p><p id="13ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑一根 2<em class="mk"/>长的针扔在一块 2<em class="mk"/>宽的木板地板上。针落在其中一个平行裂缝上的概率是多少？</p><p id="0563" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">针尺寸和曲柄之间距离的具体选择是不相关的。在解决了这个特殊的情况之后，概括就很简单了(如下所示)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/c1a2a066efec10a3649050f0d041cc88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CEc5PMAWlSfxs1POj1Dcjw@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 2:布冯问题初始提法的声明(<a class="ae ky" href="https://blogs.ethz.ch/kowalski/2008/09/25/buffons-needle/" rel="noopener ugc nofollow" target="_blank">来源</a>)。</p></figure><p id="b268" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们将看到的，这个问题的解决方案允许人们估计π的值，这是一个完全出乎意料的结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/29f50952198f00f19970571c218ff735.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xHjd6vkvWxnf1hgAJnM0bg@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 3:基于布冯针的问题寻找π的一个实验(<a class="ae ky" href="https://en.wikipedia.org/wiki/Buffon%27s_needle_problem" rel="noopener ugc nofollow" target="_blank">来源</a>)。</p></figure><h2 id="fc68" class="ml mm it bd mn mo mp dn mq mr ms dp mt li mu mv mw lm mx my mz lq na nb nc nd bi translated">定义变量</h2><p id="e6d9" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">图 4 和图 5 显示了描述针落在地板上时的位置和角度所需的变量(<em class="mk"> x </em>，<em class="mk"> θ </em>)。变量<em class="mk"> x </em>测量从针的中心到最近的平行线的距离。角度<em class="mk"> θ </em>是针与扇形体<em class="mk"> OP </em>之间的角度。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/ff17d305af2f8fa4ba587c25ef0b287d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*9nO41cd8msURDQltHB5cMw@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 4:针落在其中一个裂缝上的情况。</p></figure><p id="6b9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(<em class="mk"> x </em>，<em class="mk"> θ </em>)应该遵守两个限制，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/e079107767c27e27d0a9b00289764eb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*vNZXg2InlxzYsBYUcEJ3LA@2x.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">等式 1:(<em class="nk">x</em>，<em class="nk"> θ </em>)变量遵守的两个限制。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/a4b45374a582239ff1e4242e1d603e92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/format:webp/1*1kn3F5OOAIL7nP4g9I4qxw@2x.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 5:针没有穿过裂缝的情况。</p></figure><p id="0ff6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如<a class="ae ky" href="https://books.google.com.br/books?id=m1Q8AAAACAAJ&amp;dq=simmons+calculus+with+analytic+geometry&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwivtaH7loDpAhXFH7kGHUdQBpgQ6AEIKDAA" rel="noopener ugc nofollow" target="_blank">席梦思</a>所述，这相当于在矩形中选择<em class="mk"> x </em>和<em class="mk"> θ </em>的问题，例如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/4a1627165f214d42d19773f260ae3bcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KUs1Qa1P2r1EHSeKR1Xfpw@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 6:描述针落在地板上时的位置和角度相当于在这三个(<a class="ae ky" href="https://books.google.com.br/books?id=m1Q8AAAACAAJ&amp;dq=simmons+calculus+with+analytic+geometry&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwivtaH7loDpAhXFH7kGHUdQBpgQ6AEIKDAA" rel="noopener ugc nofollow" target="_blank">源</a>)这样的矩形中选择<em class="nk"> x </em>和<em class="nk"> θ </em>。</p></figure><p id="cb31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在注意，当指针穿过平行线(曲柄)时，遵守以下条件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/22ed177e64f67f6dc6365dfdc502a3c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/format:webp/1*iMCw1aAZN0-Cflxp3QwErQ@2x.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">等式 2:当指针落在曲柄上时，x 和θ所遵循的条件。</p></figure><p id="cbf7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图形上我们有:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/e20cd885217967034721fd3fd8c92e3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*B91JhSWOfFTUcI1asx-eaQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 7:等式。2 用图形表示。纵轴测量 x ( <a class="ae ky" href="https://books.google.com.br/books?id=m1Q8AAAACAAJ&amp;dq=simmons+calculus+with+analytic+geometry&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwivtaH7loDpAhXFH7kGHUdQBpgQ6AEIKDAA" rel="noopener ugc nofollow" target="_blank">源</a>)。</p></figure><p id="7b9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用 Eq。2，或者等效地，图 7，我们可以计算针落在平行裂缝上的概率:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/e041bf9f10a8426c377171b0ffb89ba8.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*F_FsEImhNRKIPJPSUY-WgQ@2x.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">等式 3:指针落在曲柄上的概率。</p></figure><h2 id="8fc8" class="ml mm it bd mn mo mp dn mq mr ms dp mt li mu mv mw lm mx my mz lq na nb nc nd bi translated">一般化</h2><p id="b852" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">等式给出的不等式。2 可以概括为尺寸为<em class="mk"> L </em>的针落在由<em class="mk"> d </em>分开的平行裂缝之一上的问题:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/0e71b6bb33a28b43c059762ceb477446.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*uzp89Sy84XTgLAK-t9JlJg@2x.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">等式 4:等式的推广。2 当平行线的距离为<em class="nk"> d. </em>时，尺寸为<em class="nk"> L </em>的针落在平行裂缝上</p></figure><p id="d19c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">新的概率为:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/056855664a4f9adf25d1c17d363bb58e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*mYJTBEP3sdHl7CE1Q8IExQ@2x.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">等式 5:当两条平行线之间的距离为<em class="nk"> d. </em>时，尺寸为<em class="nk"> L </em>的针落在平行线上的概率</p></figure><p id="deb3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，请注意，此计算仅对小于或等于<em class="mk"> d 的<em class="mk"> L </em>有效。一般问题可分为两种情况:小针和大针。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/d93c5cb8896b00007a737fa4def8cef5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*uKmF_mPhG5hmbdZqzXYQtg@2x.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">等式 6:问题可以分为这两种情况。</p></figure><p id="15ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经解决了第一个案子。让我们解决第二个问题。在这种情况下，我们可以利用<em class="mk"> x </em>和<em class="mk"> θ </em>的联合概率。假设两个分布都是均匀的，那么<em class="mk"> x </em>的概率密度是 2/ <em class="mk"> d </em>(对于<em class="mk">x</em>∈【0，<em class="mk"> d </em> /2】，因为概率必须积分为 1)，并且<em class="mk"> θ </em>的概率密度是 2/<em class="mk">π</em>θ∈【0，π/2】。因此联合概率是它们的乘积 4/(πd)，只有当<em class="mk"> x </em>和<em class="mk"> θ </em>的分布同时不为零时，联合概率才不为零。</p><p id="7af5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">整合联合分布后，我们得到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/76cbe22f9bf672999af629c50b6cec2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rLdzoCmOdBAy0tK4gmKKKQ@2x.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">等式 7:长针情况下的概率 L&gt;d。</p></figure><h1 id="63dd" class="nl mm it bd mn nm nn no mq np nq nr mt jz ns ka mw kc nt kd mz kf nu kg nc nv bi translated">通过实验确定π</h1><p id="a84e" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">假设现在我们把 2 根<em class="mk"> " </em>针扔到地板上，比方说，<em class="mk">n</em>= 10000 次。曲柄之间的距离也是 2<em class="mk"/>。它落在曲柄上的次数百分比由<em class="mk"> n </em> / <em class="mk"> N </em>给出，其中<em class="mk"> N </em>代表投掷的总次数，而<em class="mk"> n </em>是针落在曲柄上的次数。我们的计算表明:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/816714568f524a8ff5e2bc28fc4eac0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*iDWRb0ZH1Y79idcrEE4tuw@2x.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">等式 8:根据我们的计算，随着投掷次数的增加，针落在裂缝上的次数的百分比应该接近 2/π。</p></figure><p id="6b87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我们可以用这个简单的实验来估计常数π的值，即:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/bf2efdbf0079ad7eaf4987e5bd1572c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*gBqSMVTBhypKqEGx5xvtkA@2x.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">等式 9:如果我们把针在地板上扔很多次，我们可以估计常数π的值。</p></figure><p id="f6fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的动画展示了我们刚刚描述的实验的模拟。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/c040557c93f81284c7127de1b24e81a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*XrwR4rl9UEzkxf3g4AAkSA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 8:布丰针实验的模拟(使用 Python 3)。第二个图显示估计确实收敛于π ( <a class="ae ky" href="https://en.wikipedia.org/wiki/Buffon%27s_needle_problem#Estimating_%CF%80" rel="noopener ugc nofollow" target="_blank">源</a>)。</p></figure></div><div class="ab cl ol om hx on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="im in io ip iq"><p id="974d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读，再见！一如既往，我们随时欢迎建设性的批评和反馈！</p><p id="2b42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的<a class="ae ky" href="https://github.com/marcotav" rel="noopener ugc nofollow" target="_blank"> Github </a>和个人网站<a class="ae ky" href="https://marcotavora.me/" rel="noopener ugc nofollow" target="_blank"> www.marcotavora.me </a>有一些关于数学和其他主题的有趣材料，如物理、数据科学和金融。看看他们！</p></div></div>    
</body>
</html>