<html>
<head>
<title>A Snipping Tool for Programmers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个程序员用的剪切工具</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-snipping-tool-for-programmers-32dbccf75c33?source=collection_archive---------25-----------------------#2020-05-30">https://towardsdatascience.com/a-snipping-tool-for-programmers-32dbccf75c33?source=collection_archive---------25-----------------------#2020-05-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f0e8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一个用 Python 编写的截取工具，它可以自动识别截取图像中的文本，并执行 google 搜索。</h2></div><p id="fc17" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像许多程序员一样，我发现自己经常复制和粘贴文本。大部分时间我都是从我的 IDE 或者终端上复制一些错误信息，然后在 Google 上搜索。其余时间，我将一个方法或函数复制到 google 中来阅读文档。随着时间的推移，高亮显示文本、复制、打开浏览器、粘贴然后搜索的过程会变得有点乏味(我知道的第一世界问题)。我决定用 Python 来自动化这个过程。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/ad31e8d6ec98ce1bdb9d82af762c7041.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*az1dBmM5EpxzY4Bi"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">马特·阿特兹在<a class="ae lr" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="699b" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">解决方案是…</h2><p id="6529" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">我想要一个桌面应用程序，将坐在后台，像 windows 剪贴工具的行为。它将有两个功能:剪切和搜索和剪切和复制。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/f798bb6f9afbcc2f03d3f166f01e84a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*80Xx0Zf06qnIoAdGbc20KA.png"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">程序员图形用户界面的剪切工具</p></figure><p id="b3f0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这两个函数都允许我将一个文本区域剪成图像，对图像执行字符识别，然后返回一个字符串。然后，截取和搜索功能将自动打开一个浏览器标签，并在谷歌中搜索截取图像中的字符串。另一方面，剪切和复制函数会将字符串保存到我的剪贴板中。</p><p id="6b1d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是如何使用该程序的演示。当你从不能用通常的方法复制的地方复制文本时，比如终端，图片或者 youtube 教程，它实际上是非常有用的。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/2d723ed485f5aaa23165ca6ccd91ea4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*EuJayxEHNmULd1qK3qqG4w.gif"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">“剪切和搜索”功能的演示</p></figure><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/ccb880d6b1c655d284f578525422a321.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*N4ldOj3hXM0KpjyhS8eoEA.gif"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">“剪切和复制”功能的演示</p></figure><p id="0764" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可以找到完整的代码或下载。exe 文件放在我的<a class="ae lr" href="https://github.com/EngineerSte/SnippingToolForProgrammers" rel="noopener ugc nofollow" target="_blank"> Github </a>上。请注意，目前这款应用只在我运行 Windows 10 的电脑上进行了测试。需要进行修改，以确保该应用程序在其他操作系统上工作。我以后可能会讲到这个。</p><h2 id="f35c" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">所以我是怎么做到的…</h2><p id="5d91" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">正如我之前提到的，该应用程序是用 Python 编写的，使用的主要库是<strong class="kh ir"> PyQT5 </strong>，<strong class="kh ir"> cv2 </strong>，<strong class="kh ir"> Pillow </strong>和<strong class="kh ir">pytesserac</strong>。GUI 允许我设置我希望使用的浏览器，并等待按下功能按钮。一旦按下一个功能按钮，就会创建一个裁剪工具小部件的实例，并等待用户通过单击和拖动来裁剪屏幕上的一个区域。github 上的<a class="ae lr" href="https://github.com/harupy/snipping-tool" rel="noopener ugc nofollow" target="_blank"> harupy </a>创造了一个用 Python 写的很棒的剪切工具应用程序，这必须要归功于他。他的代码构成了该项目的 snipping 工具部分的基础。</p><p id="3461" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦剪切了一个区域，就使用 cv2 库将图像转换为灰度数组，然后使用 P <strong class="kh ir"> yTesseract <em class="ms"> </em> </strong>库将图像传递给 Tesseract 光学字符识别(OCR)引擎。这是 Google 开源 Tesseract-OCR 引擎的包装器。</p><p id="13b4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦被截取的图像被分析并且文本被识别，字符串或者使用<strong class="kh ir"> pyperclip </strong>库被保存到剪贴板，或者在指定的浏览器中执行搜索。然后，GUI 重置并等待下一个 snip。</p><p id="6c60" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">文本识别不是 100%准确，尤其是在较长的部分和文本是特定颜色时。我确信在进入 Tesseract OCR 引擎之前，我可以在 cv2 中用一些更高级的图像处理来改进这一点。如果我有时间，这些改变可能会在将来完成。如果我实现了任何改进，我将在将来更新这篇文章。欢迎任何改进的建议。祝你愉快！</p></div></div>    
</body>
</html>