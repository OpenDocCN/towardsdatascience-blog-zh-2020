<html>
<head>
<title>Natural Language Processing using WhatsApp data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用WhatsApp数据的自然语言处理</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-whatsapp-conversations-tell-us-about-our-friendships-73ce7104d84e?source=collection_archive---------72-----------------------#2020-06-22">https://towardsdatascience.com/what-whatsapp-conversations-tell-us-about-our-friendships-73ce7104d84e?source=collection_archive---------72-----------------------#2020-06-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="da8d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">潜入表情符号、音频、附件和深夜对话的世界。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ebb145142528698b0ec93b123cb0c6ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ujBQkkGHQ0Klo6u9PBCljg.png"/></div></div></figure><p id="494f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">几天前是我最好的朋友的生日，我决定利用我的编程技能给她一份独特的礼物。准备好深入分析<strong class="kw iu">单词、表情符号、数字、单词、链接、图像、视频、音频和附件</strong></p><h1 id="635a" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">在这篇文章中，你会发现</h1><ul class=""><li id="8a54" class="mi mj it kw b kx mk la ml ld mm lh mn ll mo lp mp mq mr ms bi translated">格式化Whatsapp对话指南的分步指南</li><li id="443e" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated"><strong class="kw iu">折线图:</strong>3年内发送消息的频率</li><li id="3689" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated"><strong class="kw iu"> Spyder graph </strong>:每年<strong class="kw iu">、</strong>每周<strong class="kw iu"> </strong>和<strong class="kw iu"> </strong>每小时<strong class="kw iu"> </strong>消息</li><li id="b2db" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated"><strong class="kw iu">条形图:</strong>表情符号分析</li><li id="c446" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated"><strong class="kw iu"> WordCloud: </strong>最常发送的消息</li></ul><h1 id="6875" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">数据，数据和数据</h1><p id="a1e7" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">在我们深入分析WhatsApp对话之前，先做一点概述…</p><ul class=""><li id="4f35" class="mi mj it kw b kx ky la lb ld nb lh nc ll nd lp mp mq mr ms bi translated">从2017年3月3日发送的第一条消息到2020年5月22日的最后一条消息，相隔932天。</li><li id="035c" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated">对话中的参与者:我和我的朋友</li><li id="4d98" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated">总共发送了2150条消息</li><li id="3852" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated"><strong class="kw iu">11821</strong>T26】字被调换</li></ul><h1 id="b2e5" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">导入并重新格式化文本文件</h1><p id="cbb5" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">第一步是从WhatsApp下载对话。这可以通过应用程序本身或web服务器扩展非常容易地完成。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/984860ca7a2e882da13c892aa83cb311.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZTwgXS93rVqi6HF5hJ21_g.png"/></div></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">为了隐私，姓名被部分隐藏</p></figure><p id="ae14" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们开始可视化之前，有几件关于清洁过程的事情需要注意。</p><p id="7472" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">导入的文本文件的格式如下:</p><blockquote class="nj nk nl"><p id="4e76" class="ku kv nm kw b kx ky ju kz la lb jx lc nn le lf lg no li lj lk np lm ln lo lp im bi translated"><strong class="kw iu">【日-月-年时:分:秒】名称:消息\换行符</strong></p></blockquote><p id="1e61" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第一步的主要目标是从最初下载的文本文件创建一个“csv”文件。我用逗号替换了右方括号[]和左方括号[]，也用逗号替换了冒号。</p><p id="ea30" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我还删除了发件人名字中的表情符号，没有什么特别的原因，我更喜欢干净的名字。清理后文件的结果格式如下:</p><blockquote class="nj nk nl"><p id="5c33" class="ku kv nm kw b kx ky ju kz la lb jx lc nn le lf lg no li lj lk np lm ln lo lp im bi translated"><strong class="kw iu">日-月-年时:分:秒，姓名，消息</strong></p></blockquote><p id="b85d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是我想要实现的格式，以便创建csv文件，这将允许我分析消息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/ab17c10ffcfd6a6b241bbe77fbb3eff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pPc4nrEAaj6s-0ygWvb8tA.png"/></div></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">为了隐私，姓名被部分隐藏</p></figure><p id="96cb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们有了一个漂亮的“csv”文件，其中包含所有日期、发件人姓名和信息，我们可以创建一个熊猫数据帧来存储所有信息。</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="aa88" class="nv lr it nr b gy nw nx l ny nz">df=pd.read_csv('conversation.csv')</span></pre><p id="7712" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">数据帧的结构如下:|日期|发件人姓名|消息|</p><h1 id="e10a" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">日期时间格式</h1><p id="347b" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">分析中的一个重要步骤是能够理解消息何时被发送。这需要通过轻松处理日期、时间、分钟等来完成。</p><p id="5d63" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Python有一个非常有用的库，就是为此而创建的。从一个<strong class="kw iu"> <em class="nm">字符串</em> </strong>类型到<strong class="kw iu"> <em class="nm">日期时间</em> </strong>类型的一个非常简单的转换可以通过下面的代码行实现:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="d826" class="nv lr it nr b gy nw nx l ny nz">from datetime import datetime</span><span id="4f7a" class="nv lr it nr b gy oa nx l ny nz">df['date'] = pd.to_datetime(df['Date']<strong class="nr iu">, </strong>format = '%d-%m-%y %H:%M:%S')</span></pre><p id="80af" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，我的“日期”熊猫栏的格式被指定了，这非常有用，因为它允许在使用不同的日期格式时有很大的灵活性。</p><h1 id="28b3" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">年度和月度分析</h1><p id="c2c7" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">一旦我们将“date”列更改为datetime类型，我们就可以非常容易地提取任何想要的指标，例如<em class="nm">小时</em>、<em class="nm">月</em>或<em class="nm">年</em>。我决定创建新的列来包含邮件发送的具体月份和年份。</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="7775" class="nv lr it nr b gy nw nx l ny nz">df['year'] = df['date'].dt.year<br/>df['month'] = df['date'].dt.month</span></pre><p id="1e2c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我用<strong class="kw iu"> Plotly Express </strong>和<strong class="kw iu"> Seaborn </strong>绘制了下面两张图。他们传达的意思是，虽然我和我的朋友很亲密，但我们在Whatsapp上不是特别经常说话。有很多间隔，几个星期都没有一条消息被发送，然后有几天我们交换了80多条消息。似乎我们有一种要么全有要么全无的交流方式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/6f463638ae44f096fd84e8e6b325bcee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b5cJr_sRBJmmtorCH5Griw.png"/></div></div></figure><p id="9547" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">沟通最多的一年是2018年，尤其是最后一个季度。这很有意义，因为我们正在组织一次欧洲旅行。在每年的年末和年初，交流减少了，因为我们都有考试和家庭假期要照顾。</p><p id="bb4a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面的热图和上面的折线图传达的信息是一致的。</p><blockquote class="nj nk nl"><p id="9611" class="ku kv nm kw b kx ky ju kz la lb jx lc nn le lf lg no li lj lk np lm ln lo lp im bi translated"><strong class="kw iu">热图</strong>是一种数据可视化技术，以二维颜色显示现象的大小。</p></blockquote><p id="879e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我选择对相同的时间变量使用两种可视化，以确保我不会错过隐藏在一个图表中但在另一个图表中很明显的东西。我建议在大多数情况下这样做，因为它提供了一个快速的“理智检查”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/e56172c71c199fc1b6eacd1085dc04f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lw30tKvGGAOM6AETkHNK8Q.png"/></div></div></figure><p id="bdd6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这些观想很容易实现，一步一步的教程可以在<a class="ae od" rel="noopener" target="_blank" href="/3-quick-and-easy-data-visualisations-inspired-by-game-of-thrones-37c0e611b9bf">这里</a>找到。</p><h1 id="feac" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">每小时和每周消息</h1><p id="7c1d" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">鉴于之前的图表没有显示我们的消息传递方式的趋势，我决定通过查看每小时<strong class="kw iu">和每周<strong class="kw iu">发送的</strong>和</strong>条消息来进一步细分。</p><p id="27c2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我创建了一个雷达图来可视化信息的频率，因为它们是循环的，我相当有信心会有一个强大的趋势。</p><blockquote class="nj nk nl"><p id="f307" class="ku kv nm kw b kx ky ju kz la lb jx lc nn le lf lg no li lj lk np lm ln lo lp im bi translated"><strong class="kw iu">雷达图</strong>是一种以二维图表的形式显示多元数据的图形方法，该二维图表是从同一点开始在轴上表示三个或更多的定量变量。</p></blockquote><p id="2933" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我为发送的每条消息创建了包含工作日和时间的列。</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="cd9f" class="nv lr it nr b gy nw nx l ny nz">df['weekday'] = df['date'].dt.weekday<br/>df['hour'] = df['date'].dt.hour</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/80e9632d4db3fa3aa4c6156745700b36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*biOEwIIcmHMW8pG0sNF1lg.png"/></div></div></figure><p id="0f14" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这些图表包含了更丰富的信息，显示出我们在一周的某几天和一天的某几个小时更有规律地交谈。</p><p id="ba46" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于小时图，95%的阴影区域在早上5点到下午6点之间，这相当代表了我们的生活方式，因为我们是非常活跃的人。我们通常在周末聊天，因为我们是异地恋，或者是为了叙旧或者组织旅行。</p><h1 id="cce0" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">表情符号，不仅仅是文字？</h1><blockquote class="nj nk nl"><p id="ba85" class="ku kv nm kw b kx ky ju kz la lb jx lc nn le lf lg no li lj lk np lm ln lo lp im bi translated">表情符号是一种非常受欢迎的交流形式，通常用于描绘情感或喜剧效果，而无需键入文字。</p></blockquote><p id="beb9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我惊讶地发现，除了哭笑表情符号，我们使用的表情符号几乎没有重叠。</p><p id="cc7b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在看这个图的时候，我注意到了一些有趣的事情。很明显，我用的表情符号种类更多，而她用的表情符号从不出错。我很惊讶地看到她有更多庆祝表情，比如香槟和T2圣诞树，而我的表情更多地依赖于反应。</p><p id="a9f8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">此外，我使用表情符号的次数比她多得多。事实上，我用了两倍多的量。这很有意义，因为我们说话和交流信息的语言不是我的第一语言。我更依赖表情符号来传达我的想法或情绪，而她更自信地使用文字。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/2e7bea937773398dcc5df8c405149594.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VzL3KlB8HFi83M8wLiYrIg.png"/></div></div></figure><p id="ec00" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可以在这里找到如何创建这些支线剧情<a class="ae od" rel="noopener" target="_blank" href="/step-by-step-bar-charts-using-plotly-express-bb13a1264a8b">的分步说明。</a></p><h1 id="a70b" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">最常见的消息</h1><p id="023a" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">我们俩发送的最常见的信息非常相似。我加了一个法语的翻译(以防万一)。下面一行代码让我可以非常轻松地浏览我的“消息”栏，找到重复次数最多的消息。我总是对一行代码所能实现的东西感到敬畏。</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="94d5" class="nv lr it nr b gy nw nx l ny nz">df.message.value_counts().head(<strong class="nr iu">20</strong>)</span></pre><p id="a2dc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我非常惊讶地发现，重复次数最多的信息表达了我们对某件事的一致意见。</p><ul class=""><li id="5158" class="mi mj it kw b kx ky la lb ld nb lh nc ll nd lp mp mq mr ms bi translated">同意<strong class="kw iu"/></li><li id="3fe1" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated"><strong class="kw iu"> Pas de soucis！</strong> —没问题</li><li id="af83" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated"><strong class="kw iu">是</strong> —是</li><li id="d3bf" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated">没问题</li><li id="4de7" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated">凉爽的</li><li id="555b" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated">行</li><li id="95ce" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated">非常好</li><li id="c92e" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated">好吧好吧</li><li id="a340" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated"><strong class="kw iu"> T'es ou？你在哪里？</strong></li><li id="6c1b" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated">好的，没问题</li><li id="4f4c" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated">️:是的，是的</li><li id="ef2a" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated"><strong class="kw iu"> Ok </strong></li><li id="05c9" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated">超级！</li><li id="d223" class="mi mj it kw b kx mt la mu ld mv lh mw ll mx lp mp mq mr ms bi translated">没问题</li></ul><blockquote class="nj nk nl"><p id="604b" class="ku kv nm kw b kx ky ju kz la lb jx lc nn le lf lg no li lj lk np lm ln lo lp im bi translated">结论:我们在大多数事情上意见一致，很多时候。</p></blockquote><h1 id="d927" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">单词单词单词</h1><p id="0354" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">我决定更进一步，调查一下我们俩重复使用最多的词。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ebb145142528698b0ec93b123cb0c6ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ujBQkkGHQ0Klo6u9PBCljg.png"/></div></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">让我想起了俄罗斯方块</p></figure><p id="af1a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是通过将所有单词设置为小写并使用'<strong class="kw iu"> Counter </strong>'函数实现的(不幸的是有多行代码)。该函数跟踪每一个单词，并且每当特定单词出现在消息中时，增加唯一的+1计数。</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="3e38" class="nv lr it nr b gy nw nx l ny nz">for i in df.message.values:<br/>    words += '{} '.format(i.lower()) # make all words lowercase<br/><br/>wd = pd.DataFrame(Counter(words.split()).most_common(<strong class="nr iu">200</strong>)<strong class="nr iu">, </strong>columns=['word'<strong class="nr iu">, </strong>'frequency'])<br/></span></pre><p id="3d16" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这个计数器函数的结果保存在一个新的pandas dataframe ' <em class="nm"> wd </em>'中，我用它来绘制单词Cloud(在我看来，这是最漂亮的可视化效果:)</p><p id="1ace" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">WordCloud函数使用字典，所以我必须在开始绘图之前进行快速转换。</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="4eed" class="nv lr it nr b gy nw nx l ny nz">data = dict(zip(wd['word'].tolist()<strong class="nr iu">, </strong>wd['frequency'].tolist()))</span><span id="81f0" class="nv lr it nr b gy oa nx l ny nz">wc = WordCloud(background_color='white'<strong class="nr iu">, </strong>width=<strong class="nr iu">800, </strong>height=<strong class="nr iu">400, </strong>max_words=<strong class="nr iu">200</strong>).generate_from_frequencies(data)</span></pre><h1 id="8056" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">结束语</h1><p id="473f" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">通过这个小项目，我学到了很多。这是我第一次处理非数字数据。在编写代码时，有很多错误和事情需要记住，比如法国口音，或者表情库比我想象的更难使用。</p><p id="0ef0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我很高兴地看到，这个探索性的数据分析过程传达了关于我的友谊的非常积极的信息。所有使用的表情符号都描绘了积极或充满活力的情绪。最常用的信息是用来表达同意。</p><blockquote class="nj nk nl"><p id="fa2e" class="ku kv nm kw b kx ky ju kz la lb jx lc nn le lf lg no li lj lk np lm ln lo lp im bi translated"><strong class="kw iu">最常用的一个词是“谢谢”。</strong></p></blockquote><p id="c8dc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">生日快乐，甜心！</p><h1 id="2b76" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">Github知识库</h1><p id="82d7" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">所有代码都可以在Github <a class="ae od" href="https://github.com/alejandra-gutierrez/Chat_Analysis.git" rel="noopener ugc nofollow" target="_blank">这里</a>的<strong class="kw iu"> analysis.py </strong>文件中找到。</p><h1 id="5b24" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">非常感谢你的阅读！</h1><p id="dc87" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">如果你喜欢我的作品，我会非常感谢你跟随我的媒介<a class="ae od" href="https://towardsdatascience.com/medium.com/@alejandra.vlerick" rel="noopener" target="_blank">到这里</a>。</p><p id="4eeb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您有任何关于如何改进的<strong class="kw iu">问题</strong>、<strong class="kw iu">建议</strong>或<strong class="kw iu">想法</strong>，请在下面留下评论或通过LinkedIn <a class="ae od" href="https://www.linkedin.com/in/alejandra-g-283595b8" rel="noopener ugc nofollow" target="_blank">这里</a>取得联系。</p></div></div>    
</body>
</html>