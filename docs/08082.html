<html>
<head>
<title>Identifying Emerging Market Segments with k-means</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用k均值识别新兴市场</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/identifying-emerging-market-segments-with-k-means-bf221147528f?source=collection_archive---------47-----------------------#2020-06-14">https://towardsdatascience.com/identifying-emerging-market-segments-with-k-means-bf221147528f?source=collection_archive---------47-----------------------#2020-06-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3c14" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">数据如何在疫情过后有所帮助</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e9af3823a3cefeb5f13f732d756464fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wVY6v938Tp7qt1COMrNkHQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在<a class="ae kv" href="https://unsplash.com/s/photos/sunrise?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kv" href="https://unsplash.com/@ocvisual?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> OC Gonzalez </a>拍摄的照片</p></figure><p id="3385" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.ey.com/en_gl/consumer-products-retail/how-covid-19-could-change-consumer-behavior" rel="noopener ugc nofollow" target="_blank"> EY的未来消费者指数</a>是一个8分钟的简短读数，汇集了2020年4月6日一周内对美国、加拿大、英国、法国和德国4859名消费者的调查结果。利用一些相当时髦的数据可视化技术，EY提出，在新冠肺炎疫情事件之后，将出现五种不同类型的消费者，每种消费者在购买决策方面都有不同的行为和情绪。其中一些人很悲观——大幅削减支出——而一些人非常乐观，随着社交距离限制的逐渐取消，他们会抓住机会增加支出。</p><p id="68e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了一般的定性描述之外，我们还不清楚EY到底是如何定义这五种类型的(“回归正常”、“谨慎奢侈”、“保持节俭”、“不断削减”和“大力反击”)。然而，它确实让我思考。ey考虑的两个关键变量是乐观度和收入。显然，乐观与消费者的消费意愿有关，而收入与他们的消费能力有关——两者都会影响个人的购买决策。假设我们可以获得消费者相对乐观程度和收入的定量数据。我们如何根据这些数据，以严格且可重复的方式将客户分组？</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h2 id="f6df" class="ma mb iq bd mc md me dn mf mg mh dp mi lf mj mk ml lj mm mn mo ln mp mq mr ms bi translated"><strong class="ak">k均值算法</strong></h2><p id="a5c1" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated"><a class="ae kv" href="https://en.wikipedia.org/wiki/K-means_clustering" rel="noopener ugc nofollow" target="_blank"> k-means聚类</a>是一种将多个点分成k组的方法。简而言之，该算法搜索k个“质心”的空间，并将每个数据点分配给这些质心之一。该算法然后反复迭代，旨在最小化每个点簇内的方差。通过这种方式，我们最终找到了(希望)不同的k个组，它们反映了数据中组的真实性质。</p><p id="1b76" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">举例来说，让我们创建一个数据集，其中有五组，每组100名消费者，并在r中实现k-means算法。假设每组都有一个典型的收入和乐观水平，围绕这些值有一些自然变化。我们可以用图形表示这种情况，如下所示:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="73f5" class="ma mb iq mz b gy nd ne l nf ng">[...] # Set seed and generate data for 100 consumers from each group</span><span id="f198" class="ma mb iq mz b gy nh ne l nf ng">incomes &lt;- cbind(normal_incomes, extravagant_incomes, frugal_incomes, cutting_incomes, bang_incomes)</span><span id="e342" class="ma mb iq mz b gy nh ne l nf ng">optimisms &lt;- cbind(normal_optimisms, extravagant_optimisms, frugal_optimisms, cutting_optimisms, bang_optimisms)</span><span id="2cf0" class="ma mb iq mz b gy nh ne l nf ng">colours &lt;- c("red", "blue", "green", "orange", "purple")</span><span id="1a5e" class="ma mb iq mz b gy nh ne l nf ng"># Set up an empty plotting area<br/>plot(NULL, xlim=c(0,100), ylim=c(0,100), xlab="Income", ylab="Optimism", main="500 surveyed consumers, labelled")</span><span id="2944" class="ma mb iq mz b gy nh ne l nf ng"># Plot data points<br/>for (i in 1:5){<br/>  points(incomes[,i], optimisms[,i], col=colours[i], pch=3)<br/>}</span><span id="dfc1" class="ma mb iq mz b gy nh ne l nf ng">[...] # Add legend</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/0019b1d29a029310cbf51bdb8e64913f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HWytnu4kyGVqIlcGNNFlYw.png"/></div></div></figure><p id="e4fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有两个变量的情况特别容易思考，因为每个点都位于2D收入的某个地方——乐观“空间”。然而，k-means算法可以应用于任意数量的维度，也就是说，我们可以轻松地扩展我们的模型，以包括第三个变量(可能与消费者居住的国家有关，因为不同的政府采取了不同的措施来应对病毒)，第四个变量，甚至更多。</p><p id="da44" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，在现实世界中，我们不会事先知道这些群体的特征——我们甚至不知道有多少个群体！所以暂时忘记我到目前为止告诉你的，看看你是否能把下面的数据分组:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/8b6c4a11e557052f8fd30bf2de61a23a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rwbUpBQ7Ns7j3_-yq7rUww.png"/></div></div></figure><p id="4bfc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">没那么简单，是吗？确定一些集群是完全可能的，但是有多少个集群，一个集群在哪里结束，另一个集群在哪里开始？问十个不同的人，你会得到十个不同的答案。但是有了k-means，我们可以采用一种数学的、数据驱动的方法，每次都会给出相同的答案。让我们应用算法，看看我们得到了什么:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="f99e" class="ma mb iq mz b gy nd ne l nf ng">[...] # Aggregate data into one matrix with incomes in the first column and optimisms in the second</span><span id="319e" class="ma mb iq mz b gy nh ne l nf ng"># Fit model using k-means<br/>model &lt;- kmeans(data[,1:2], centers=5)</span><span id="52e9" class="ma mb iq mz b gy nh ne l nf ng"># Retreive centroids<br/>centroids &lt;- model$centers<br/>centroids</span><span id="fd95" class="ma mb iq mz b gy nh ne l nf ng">#     income optimism<br/># 1 68.76713 58.50722<br/># 2 43.95596 57.64992<br/># 3 65.51750 83.71031<br/># 4 34.73630 34.00436<br/># 5 39.11255 89.01036</span><span id="a805" class="ma mb iq mz b gy nh ne l nf ng"># Retreive clusters<br/>clusters &lt;- model$cluster<br/>clusters</span><span id="bf8c" class="ma mb iq mz b gy nh ne l nf ng"># [1] 2 2 1 2 2 2 2 2 2 3 2 2 2 2 2 2 2 2 2 2 2 1 2 2 2 2 2 2 2 2 2 2 2 2 5 2 2 2 2 2 2 2 2 2 2 5 2 2 2 2 4 2 2 2 2 2 2 4 2 5 2 2 2 2 2 2 2 2 2 2 5 2 2 5 2 5 1 2 2 2 2 2 4 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 1 1 1 1 ...</span></pre><p id="01d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以看到，按照要求，k-means已经找到了五个质心，并根据每个数据点到质心的距离，将每个数据点分类到五个聚类之一。让我们将我们的结果绘制成图表，以便更好地理解:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="e809" class="ma mb iq mz b gy nd ne l nf ng"># Add k-means cluster result to the data<br/>data &lt;- cbind(data, clusters)</span><span id="9734" class="ma mb iq mz b gy nh ne l nf ng"># Define function to map cluster number to a colour<br/>map_colours &lt;- function(num){<br/>  colours[num]<br/>}</span><span id="07a6" class="ma mb iq mz b gy nh ne l nf ng"># Apply function to data<br/>clusters_colours &lt;- lapply(clusters, map_colours)</span><span id="96c9" class="ma mb iq mz b gy nh ne l nf ng"># Set up empty plotting area    <br/>plot(NULL, xlim=c(0,100), ylim=c(0,100), xlab="Income", ylab="Optimism")</span><span id="983b" class="ma mb iq mz b gy nh ne l nf ng"># Plot data points<br/>for (i in 1:500){<br/>  points(data[i,1], data[i,2], col=colours[as.integer(data[i,4])], pch=3)<br/>}</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/0bb39c0762f3ca8ca252ed78dcffc497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qh692qAX7_j9m0GiujQW-w.png"/></div></div></figure><p id="65f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，进行横向比较:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/c225a572f4b12b86cedcc70325a19d8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mxbcxlYDrDISOEra_hqeWQ.png"/></div></div></figure><p id="ac73" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以看到k-means总体上做得相当不错——该算法已经能够从乐观程度和收入方面挑出五个群体的一般特征。在这个例子中，我们手头有基本事实，因此我们可以看到k-means将一些更悲观的“谨慎奢侈”的消费者分组到“保持节俭”集群的大部分中。虽然我们知道k-means在这方面的问题是“错误的”，但这五种类型的消费者之间无疑有重叠的地方。这甚至可能被证明是一种有用的见解——该算法指出了这些消费者之间的相似之处，否则我们可能不会发现。</p><h2 id="f777" class="ma mb iq bd mc md me dn mf mg mh dp mi lf mj mk ml lj mm mn mo ln mp mq mr ms bi translated"><strong class="ak">结论</strong></h2><p id="ad4e" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated">k-means算法<a class="ae kv" href="https://stats.stackexchange.com/questions/133656/how-to-understand-the-drawbacks-of-k-means" rel="noopener ugc nofollow" target="_blank">确实有其局限性</a>，但它可以揭示数据中的模式和趋势，这些模式和趋势可能不会立即被人眼看到。这就是为什么当我们试图理解一个新的和不熟悉的数据集时，聚类算法经常被用在<a class="ae kv" href="https://en.wikipedia.org/wiki/Exploratory_data_analysis" rel="noopener ugc nofollow" target="_blank">探索性数据分析</a>中。每当我们进行购买时，我们都会继续以惊人的速度产生数据——你可以打赌，随着经济在大流行后的世界中逐渐复苏，将会有无数的分析师使用这样的技术，希望能够弄懂这一切。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="58d2" class="nm mb iq bd mc nn no np mf nq nr ns mi jw nt jx ml jz nu ka mo kc nv kd mr nw bi translated">更多信息和积分</h1><p id="3a6f" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated">Andrew Hetherington 是英国伦敦的一名见习精算师和数据爱好者。</p><ul class=""><li id="c2f6" class="nx ny iq ky b kz la lc ld lf nz lj oa ln ob lr oc od oe of bi translated">在<a class="ae kv" href="https://www.linkedin.com/in/andrewmhetherington/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上与我联系。</li><li id="a80c" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">看看我在<a class="ae kv" href="https://github.com/andrewhetherington/python-projects" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上摆弄什么。</li><li id="cbba" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">用于制作本文作品的笔记本可以在<a class="ae kv" href="https://github.com/andrewhetherington/python-projects/blob/master/Blog%E2%80%94Emerging%20market%20segments%20with%20k-means/Blog%E2%80%94Detecting%20emerging%20market%20segments%20with%20k-means.ipynb" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</li></ul><p id="9220" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">图片:由<a class="ae kv" href="https://unsplash.com/@ocvisual?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> OC Gonzalez </a>在<a class="ae kv" href="https://unsplash.com/s/photos/sunrise?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p><p id="7257" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有的情节和代码输出都是作者使用<a class="ae kv" href="https://www.r-project.org/about.html" rel="noopener ugc nofollow" target="_blank"> R </a>和<a class="ae kv" href="https://rstudio.com/" rel="noopener ugc nofollow" target="_blank"> RStudio </a>创建的。</p></div></div>    
</body>
</html>