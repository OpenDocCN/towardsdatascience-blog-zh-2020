<html>
<head>
<title>How to try Docker EE UCP for free?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何免费试用 UCP 码头工人？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-try-docker-ee-ucp-for-free-dd9df7bee797?source=collection_archive---------38-----------------------#2020-07-21">https://towardsdatascience.com/how-to-try-docker-ee-ucp-for-free-dd9df7bee797?source=collection_archive---------38-----------------------#2020-07-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="25d7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用码头游乐场</h2></div><p id="6849" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">每个人都在转向微服务和对接单片应用。想熟悉 docker 的 Docker 新手可以使用<a class="ae le" href="https://labs.play-with-docker.com/" rel="noopener ugc nofollow" target="_blank"> Docker 游乐场</a>。它是免费的！</p><p id="efa8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我总是建议我的学生使用谷歌浏览器。通常，它不会要求输入您的 Docker Hub ID 和密码。它将向您显示 START 按钮，如图 1 所示。点击它。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/42fdb12bba3a8ee77c24e3950eb5075f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mfYPB3geqxTK01x0LyNRdg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图 1:在谷歌浏览器中启动 Docker 游乐场</p></figure><p id="d698" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Docker 企业套件由三个组件组成:<br/> 1。Docker 企业引擎<br/> 2。UCP(通用控制平面)<br/> 3。DTR (Docker 可信注册中心)</p><p id="fe9b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意有两个 Docker 引擎:Docker 社区版(CE)和 Docker 企业版(EE)。</p><ol class=""><li id="ee81" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated">Docker CE 仅用于开发和测试，绝不用于生产。然而，这是免费的。</li><li id="c366" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">Docker EE 是您用于生产的版本，您可以在其中初始化 Swarm 或 Kubernetes。这不是免费的。不过，你可以免费试用一个月。</li></ol><p id="ef49" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Docker Playground 帮助您免费安装和试用 UCP。然而，这个播放实验室被限制在小于 3 GB 的内存中，大约 4 小时后过期。</p><p id="c495" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，按照步骤在 Docker 操场上安装 UCP。</p><h1 id="9d9a" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">第一步:</h1><p id="fe4e" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">通过单击左侧的“Add New Instance”创建一个节点，如图 2 所示。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/65eb171618667b227ec3949331699b58.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/format:webp/1*yDgQT9zv1USaeCDIqyjYEA.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图 2:在 Docker Playground 上创建一台新机器</p></figure><h1 id="0f6f" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">第二步:</h1><p id="c51b" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">使用 docker swarm init 命令初始化 Docker Swarm。从节点名称或页面顶部获取节点的 IP 地址。</p><pre class="lg lh li lj gt nh ni nj nk aw nl bi"><span id="0029" class="nm mk it ni b gy nn no l np nq">docker swarm init —-advertise-addr &lt;Node IP&gt;</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nr"><img src="../Images/406d9fead9323c2a5c32c64f1974b195.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x71rJmZvSaKTW_rSTDgk-Q.png"/></div></div></figure><p id="9221" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您想要将工作节点添加到您的集群，Docker 引擎将生成一个长令牌。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ns"><img src="../Images/ec01d603ae4c7256f3378130210f9d8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bkuk0PBvdIGzXjlrRTfCgg.png"/></div></div></figure><h1 id="d479" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">第三步:</h1><p id="0038" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">从 docker/ucp: <tag number="">镜像创建一个容器来安装 ucp。该命令如下所示:</tag></p><pre class="lg lh li lj gt nh ni nj nk aw nl bi"><span id="fa7f" class="nm mk it ni b gy nn no l np nq">docker container run --rm -it --name ucp -v /var/run/docker.sock:/var/run/docker.sock docker/ucp:2.2.9 install  --host-address &lt;node IP&gt; --swarm-port 2400 --interactive --force-insecure-tcp</span></pre><p id="bd4e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里，我们正在根据<code class="fe nt nu nv ni b">docker/ucp:2.2.9</code>图像制作一个容器。<br/>客房服务的<code class="fe nt nu nv ni b">--rm</code>。我们告诉 docker 当它停止时自动删除这个容器。<br/><code class="fe nt nu nv ni b">-it</code>做一个交互终端。<br/>将这个容器命名为<code class="fe nt nu nv ni b">ucp</code>的<code class="fe nt nu nv ni b">--name</code>，而不是 docker 默认生成的形容词 _ 名词的名称。<br/><code class="fe nt nu nv ni b">-v</code>在主机和该容器之间共享卷。<br/><code class="fe nt nu nv ni b">install</code>是安装 UCP 的命令。<br/><code class="fe nt nu nv ni b">--host-adress</code>设置群首的主机/节点地址。<br/>将<code class="fe nt nu nv ni b">--swarm-port</code>端口设置为 2400。<br/>使容器交互的<code class="fe nt nu nv ni b">--interactive</code>标志。<br/><code class="fe nt nu nv ni b">--force-insecure-tcp</code>的最后一个标志是为了避免以下错误:</p><blockquote class="nw nx ny"><p id="abff" class="ki kj nz kk b kl km ju kn ko kp jx kq oa ks kt ku ob kw kx ky oc la lb lc ld im bi translated">该节点上的 Docker 端口可从外部访问，接受端口 2375 上的连接。该节点不安全。</p></blockquote><p id="6a3f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe nt nu nv ni b">docker/ucp</code>图像的其他一些标签不使用<code class="fe nt nu nv ni b">--force-insecure-tcp</code>。相反，你可以使用<code class="fe nt nu nv ni b">--ucp-insecure-tls</code>。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi od"><img src="../Images/1ec075e8f651b5b505ab493189d80049.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h0R7DK5hy5ksu1NThbXdKg.png"/></div></div></figure><p id="8765" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它将停止等待您输入您的管理员用户名和密码。同样，它将再次暂停以输入额外的别名。只需按 enter 键，docker 就可以继续安装，因为集群中没有任何其他节点。</p><p id="205f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">安装完成后，节点 IP 地址旁边会显示一些链接。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/67025fe8aa5c1bbf765e6081fdcf01fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ipEPpeLe9zwrxZdL3MzgNA.png"/></div></div></figure><h1 id="9c47" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">第四步:</h1><p id="6e70" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">您可以从 443 端口访问 UCP。但是，如果你点击它，它会在本地下载一个文件。要解决这个问题，右键单击 443 端口链接，然后单击复制链接地址。打开一个新的浏览器标签，粘贴链接。将 http://更改为 https://，然后单击 enter。</p><p id="3c41" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">假设你没有链接到 443 端口，没问题。复制 SSH 地址。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/e0455061d43ced7e8533bd1f56c42723.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*5jGIMIrq1KRqqQEip7lvOg.png"/></div></figure><p id="b011" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">打开新的浏览器选项卡。用 https://替换 ssh。将地址中的@替换为。点击回车。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/8d2e4ff740be30a4bee72e7a6d2bfb50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*mJ_ogRnEm2GqalM4K0LqQA.png"/></div></figure><p id="5123" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我会给你一个错误。单击底部的高级，将显示一个链接以继续。点击链接。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/13cefed53d1dade4258ababbf527b542.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_cZNgFOkZFV2AHMUelGq9A.png"/></div></div></figure><h1 id="15a1" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">第五步:</h1><p id="97eb" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">将显示 UCP 登录。输入您的管理员用户名和密码。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/5c9bb5360262b0c0f6dbd1fd164e0180.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RBsaHwc5Kz0Op4NJrotr2A.png"/></div></div></figure><h1 id="dc71" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">第六步:</h1><p id="c0a2" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">它会要求您上传许可证。您可以从 Docker Hub 的帐户获得一个月的试用许可证:</p><p id="1b12" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae le" href="https://hub.docker.com/editions/enterprise/docker-ee-trial" rel="noopener ugc nofollow" target="_blank">https://hub.docker.com/editions/enterprise/docker-ee-trial</a></p><p id="ef75" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，你可以跳过以后。UCP 将如下所示:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/7d31656e48d8d5d81d462075e9461329.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_w6UndWmg3S40ASAAb2Suw.png"/></div></div></figure><p id="fcc3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以稍后从左侧菜单中，单击管理→管理设置→许可证来上传。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/62888202d32447e2d8522941a2274a04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uFcRTb-Q8DZZqF4fXBcBRQ.png"/></div></div></figure><p id="baf2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">享受你的审判！</p></div></div>    
</body>
</html>