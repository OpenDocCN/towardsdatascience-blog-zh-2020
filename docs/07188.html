<html>
<head>
<title>Create beautiful and simple ML web apps that you can deploy at scale in a few steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åˆ›å»ºç¾è§‚ç®€å•çš„ ML web åº”ç”¨ç¨‹åºï¼Œåªéœ€å‡ ä¸ªæ­¥éª¤å°±å¯ä»¥å¤§è§„æ¨¡éƒ¨ç½²</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/create-beautiful-and-simple-ml-web-apps-that-you-can-deploy-at-scale-in-a-few-steps-2d7d62cf8601?source=collection_archive---------51-----------------------#2020-06-01">https://towardsdatascience.com/create-beautiful-and-simple-ml-web-apps-that-you-can-deploy-at-scale-in-a-few-steps-2d7d62cf8601?source=collection_archive---------51-----------------------#2020-06-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="71ab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æœ¬æ–‡å°†æ•™ä½ å¦‚ä½•ä½¿ç”¨<a class="ae ko" href="https://www.streamlit.io/" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>å’Œ<a class="ae ko" href="https://docs.aws.amazon.com/cdk/latest/guide/home.html" rel="noopener ugc nofollow" target="_blank"> AWS CDK </a>ä»å¤´å¼€å§‹æ„å»ºä¸€ä¸ª ML é©±åŠ¨çš„ web åº”ç”¨ï¼Œå¹¶ä»å¤´åˆ°å°¾å¤§è§„æ¨¡éƒ¨ç½²åˆ° AWS Fargateã€‚</p><p id="31ab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä½ å¯ä»¥çœ‹çœ‹<a class="ae ko" href="https://github.com/nicolasmetallo/legendary-streamlit-demo" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ªå›è´­</a>çš„ä»£ç ã€‚</p></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><h1 id="dcf8" class="kw kx it bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">æˆ‘ä»¬è¦å»ºé€ ä»€ä¹ˆï¼Ÿ</h1><p id="0e03" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª web åº”ç”¨ç¨‹åºï¼Œå®ƒå¯ä»¥ä¸ºæˆ‘ä»¬å˜é­”æœ¯ã€‚è¿™ä¸ªæŠ€å·§å°±æ˜¯è®©æŸäº›ä¸œè¥¿ä»å›¾åƒä¸­â€œæ¶ˆå¤±â€ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ç§å«åš<strong class="js iu">å›¾åƒä¿®å¤</strong>çš„ä¸œè¥¿ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ç§å¤„ç†è¿‡ç¨‹ï¼Œåœ¨è¿™ç§è¿‡ç¨‹ä¸­ï¼Œä½ è·å–å›¾åƒä¸­ä¸¢å¤±çš„éƒ¨åˆ†ï¼Œç„¶åæ ¹æ®èƒŒæ™¯ä¿¡æ¯å¯¹å…¶è¿›è¡Œæ¢å¤ã€‚æˆ‘ä»¬å°†ç ”ç©¶å…³äºè¯¥ä¸»é¢˜çš„æœ€æ–°ç ”ç©¶è®ºæ–‡ä¹‹ä¸€ï¼Œè¯¥è®ºæ–‡å°†äº 2020 å¹´ CVPR ä¸Šå‘è¡¨ï¼Œåä¸º<strong class="js iu">â€œè¶…é«˜åˆ†è¾¨ç‡å›¾åƒä¿®å¤çš„ä¸Šä¸‹æ–‡æ®‹å·®èšåˆâ€</strong>ã€‚ä½ å¯ä»¥é˜…è¯»<a class="ae ko" href="https://arxiv.org/abs/2005.09704" rel="noopener ugc nofollow" target="_blank">æ˜“ç­‰äººã€2020ã€‘</a>åœ¨ arXiv ä¸­çš„è®ºæ–‡ï¼Œå¹¶åœ¨<a class="ae ko" href="https://github.com/Atlas200dk/sample-imageinpainting-HiFill" rel="noopener ugc nofollow" target="_blank">æœ¬å›è´­</a>ä¸­çœ‹åˆ°å…¶ä»£ç å®ç°ã€‚</p><p id="aa1f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä½†åœ¨æˆ‘ä»¬å®é™…è¿è¡Œä»»ä½•å›¾åƒå†…ç”»ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆä¸€ä¸ªé®ç½©å›¾åƒï¼Œè¯¥å›¾åƒå°†åªåœ¨ç™½è‰²å‰æ™¯ä¸Šæ˜¾ç¤ºé»‘è‰²åƒç´ ï¼Œè€Œæˆ‘ä»¬å¸Œæœ›ä»ç…§ç‰‡ä¸­æ¶ˆå¤±ä¸€äº›ä¸œè¥¿ã€‚æ‚¨å¯ä»¥æ‰‹åŠ¨å®Œæˆï¼Œä¹Ÿå¯ä»¥è®©è®¡ç®—æœºä¸ºæ‚¨å®Œæˆã€‚å¦‚æœæ‚¨é€‰æ‹©ç¬¬äºŒä¸ªé€‰é¡¹ï¼Œé‚£ä¹ˆæ‚¨çš„æœ€ä½³é€‰æ‹©æ˜¯ä½¿ç”¨â€œè¯­ä¹‰åˆ†å‰²â€ç®—æ³•ï¼Œè¯¥ç®—æ³•å°†è¿›è¡Œæœ€æ¥è¿‘è¯¥å¯¹è±¡å½¢çŠ¶çš„åƒç´ çº§åˆ†ç±»ã€‚ä½†æ˜¯ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³å°½å¯èƒ½ç®€å•ï¼Œæˆ‘ä»¬å°†è¿è¡Œâ€œå¯¹è±¡æ£€æµ‹â€ï¼Œåœ¨è¿™äº›å¯¹è±¡çš„é¡¶éƒ¨ç»˜åˆ¶è¾¹ç•Œæ¡†ã€‚ç»“æœä¸ä¼šé‚£ä¹ˆå¥½ï¼Œä½†ä¹Ÿè¶³å¤Ÿå¥½äº†ã€‚æˆ‘ä»¬å°†ä½¿ç”¨<a class="ae ko" href="https://aws.amazon.com/rekognition/" rel="noopener ugc nofollow" target="_blank"> AWS Rekognition </a>ï¼Œå› ä¸ºå®ƒä½¿ç”¨ç®€å•ï¼Œæ¨ç†æ—¶é—´çŸ­ã€‚ä½ æ€»æ˜¯å¯ä»¥ä»<a class="ae ko" href="https://gluon-cv.mxnet.io/contents.html" rel="noopener ugc nofollow" target="_blank"> GluonCV ç½‘ç«™</a>æˆ–è€…å…¶ä»–ä¸€äº›<a class="ae ko" href="https://github.com/facebookresearch/detectron2" rel="noopener ugc nofollow" target="_blank">éå¸¸å¥½çš„æ¡†æ¶</a>ä¸­äº†è§£åˆ°å…³äºè¿™ä¸¤ä¸ª(ä»¥åŠæ›´å¤š)è®¡ç®—æœºè§†è§‰åº”ç”¨çš„æ›´å¤šä¿¡æ¯ã€‚</p><p id="e52f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä»¥ä¸‹æ˜¯æˆ‘ä»¬æœŸæœ›å¾—åˆ°çš„ç»“æœã€‚æ‚¨å¯ä»¥åœ¨å·¦è¾¹çœ‹åˆ°è¾“å…¥å›¾åƒ(è§ä¸‹é¢çš„ä½œè€…ä¿¡æ¯),åœ¨å³è¾¹çœ‹åˆ°è¾“å‡ºå›¾åƒã€‚æ‚¨å¯ä»¥åœ¨<code class="fe lz ma mb mc b">demo.ipynb</code>ç¬”è®°æœ¬ä¸­æ‰¾åˆ°è·å¾—è¯¥ç»“æœæ‰€éœ€çš„æ‰€æœ‰æ­¥éª¤ã€‚</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi md"><img src="../Images/960793fad1dd6cd1edccdd07ba4786d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZH9T0bYTILVt2uuJcYtsHQ.png"/></div></div></figure><p id="d801" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æ„å»ºä¸€ä¸ªæ›´å…·äº¤äº’æ€§ã€åŠ¨æ€æ€§ã€æ˜“äºè°ƒè¯•ã€éå¸¸é€‚åˆä¸éæŠ€æœ¯äººå‘˜å…±äº«æ¨¡å‹å’Œç»“æœçš„ä¸œè¥¿ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæœ‰ä¸€äº›é€‰é¡¹å¯ä»¥å¸®åŠ©ä½ åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ¯”å¦‚ Jupyter Voila å’Œ Plotly Dashï¼Œä½†å®ƒä»¬éƒ½ä¸èƒ½åŒæ—¶åšåˆ°æ‰€æœ‰è¿™äº›ã€‚å°±åœ¨é‚£æ—¶ï¼Œæˆ‘å¼€å§‹å…³æ³¨<a class="ae ko" href="https://www.streamlit.io/" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼€æºåº”ç”¨ç¨‹åºæ¡†æ¶ï¼Œå®ƒè¿è¡Œåœ¨ Python ä¸­ï¼Œè®©ä½ ç”¨å¾ˆå°‘çš„å¼€å‘å·¥ä½œå°±èƒ½åˆ›å»ºçœ‹èµ·æ¥å¾ˆæ£’çš„ web åº”ç”¨ç¨‹åºã€‚æˆ‘ä¸ä¼šè¯¦ç»†ä»‹ç»ä»€ä¹ˆæ˜¯ Streamlit ä»¥åŠå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä½†æ˜¯æ‚¨å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°è®¸å¤šç¤ºä¾‹å’Œæ¼”ç¤º<a class="ae ko" href="https://awesome-streamlit.org/" rel="noopener ugc nofollow" target="_blank">ï¼Œåœ¨è¿™é‡Œ</a>çœ‹åˆ°ä¸€äº›æœ€ä½³å®è·µ<a class="ae ko" href="https://pmbaumgartner.github.io/streamlitopedia/front/introduction.html" rel="noopener ugc nofollow" target="_blank">ã€‚</a></p><h1 id="3448" class="kw kx it bd ky kz mp lb lc ld mq lf lg lh mr lj lk ll ms ln lo lp mt lr ls lt bi translated">å…¥é—¨æŒ‡å—</h1><p id="4f65" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±å¤„ç†è¿™ç±»é¡¹ç›®çš„æ–¹å¼ï¼Œä½†å¯¹æˆ‘æ¥è¯´æœ€æœ‰æ•ˆçš„æ–¹å¼æ˜¯éµå¾ªä¸€ç§ç²¾ç›Šæ–¹æ³•ï¼Œåœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œæˆ‘å¯ä»¥å¿«é€Ÿè®¾è®¡/æ„å»ºã€åº¦é‡å’Œå­¦ä¹ ã€‚è¿™äº›æ˜¯æˆ‘é€šå¸¸ä¼šåšçš„æ­¥éª¤:</p><ul class=""><li id="d089" class="mu mv it js b jt ju jx jy kb mw kf mx kj my kn mz na nb nc bi translated">åˆ›å»ºä¸€ä¸ªæ¼”ç¤ºç¬”è®°æœ¬ï¼Œè¯æ˜æˆ‘å¯ä»¥åšæˆ‘å¸Œæœ›åšçš„äº‹æƒ…ï¼Œä¾‹å¦‚ï¼Œæ‹æ‘„ä¸€ä¸ªè¾“å…¥å›¾åƒå¹¶ç”Ÿæˆä¸€ä¸ªå†…ç”»å›¾åƒè¾“å‡º</li><li id="b4ea" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">åˆ›å»ºä¸€ä¸ª Streamlit åº”ç”¨ç¨‹åºï¼Œå®ƒå°†åŒ…å«ä¸æ¼”ç¤ºç¬”è®°æœ¬ç›¸åŒçš„æ­¥éª¤ã€‚</li><li id="fc9e" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">å°†æ‰€æœ‰ä¸œè¥¿å®‰è£…åˆ° AWS CDK é¡¹ç›®ä¸­ï¼Œä¸ºéƒ¨ç½²åšå¥½å‡†å¤‡ã€‚</li></ul><p id="52d5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æˆ‘ä¸ä¼šè¯¦ç»†ä»‹ç»ç¬¬ä¸€æ­¥ï¼Œä½†æˆ‘ä¼šæ·±å…¥æ¢è®¨å¦‚ä½•æ„å»ºä¸€ä¸ª Streamlit åº”ç”¨ç¨‹åºï¼Œä»¥åŠä¸€æ—¦æ‚¨çŸ¥é“å®ƒå¯ä»¥å·¥ä½œï¼Œå¦‚ä½•è®©æ‚¨çš„é¡¹ç›®é€‚åˆå¤§è§„æ¨¡éƒ¨ç½²ã€‚</p><h2 id="4e55" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">è¦æ±‚</h2><ul class=""><li id="7a34" class="mu mv it js b jt lu jx lv kb nu kf nv kj nw kn mz na nb nc bi translated">AWS å¸æˆ·</li><li id="844d" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated"><a class="ae ko" href="https://docs.aws.amazon.com/cdk/latest/guide/getting_started.html" rel="noopener ugc nofollow" target="_blank"> AWS CDK </a></li><li id="36cd" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated"><a class="ae ko" href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html" rel="noopener ugc nofollow" target="_blank"> AWS CLI </a></li><li id="ef37" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">ç å¤´å·¥äºº</li></ul></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><h1 id="6347" class="kw kx it bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">1)åˆ›å»ºæ¼”ç¤ºç¬”è®°æœ¬</h1><p id="cd0c" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">è½¬åˆ°æ‚¨çš„ç»ˆç«¯å¹¶å…‹éš†è¿™ä¸ªå­˜å‚¨åº“</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="2d89" class="ni kx it mc b gy ob oc l od oe">$ git clone <a class="ae ko" href="https://github.com/nicolasmetallo/legendary-streamlit-demo" rel="noopener ugc nofollow" target="_blank">https://github.com/nicolasmetallo/legendary-streamlit-demo</a></span></pre><p id="9692" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç°åœ¨ï¼Œ<code class="fe lz ma mb mc b">cd</code>è¿›å…¥<code class="fe lz ma mb mc b">cdk/app</code>ï¼Œä½ ä¼šå‘ç°<code class="fe lz ma mb mc b">demo.ipynb</code>ã€‚å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹å¹¶åœ¨ç¬”è®°æœ¬ä¸­è¿è¡Œä»£ç ã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="2f57" class="ni kx it mc b gy ob oc l od oe">$ cd cdk/app<br/>$ pip install -r requirements.txt</span></pre><h1 id="26a9" class="kw kx it bd ky kz mp lb lc ld mq lf lg lh mr lj lk ll ms ln lo lp mt lr ls lt bi translated">2)åˆ›å»ºæ‚¨çš„ Streamlit åº”ç”¨ç¨‹åº</h1><h2 id="d494" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">é¡¹ç›®ç»“æ„</h2><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="bc8c" class="ni kx it mc b gy ob oc l od oe">.<br/>â”œâ”€â”€ LICENSE<br/>â”œâ”€â”€ README.md<br/>â””â”€â”€ cdk<br/>    â”œâ”€â”€ README.md<br/>    â”œâ”€â”€ app<br/>    â”‚   â”œâ”€â”€ Dockerfile<br/>    â”‚   â”œâ”€â”€ app.py<br/>    â”‚   â”œâ”€â”€ demo.ipynb<br/>    â”‚   â”œâ”€â”€ helpers.py<br/>    â”‚   â”œâ”€â”€ requirements.txt<br/>    â”‚   â”œâ”€â”€ src<br/>    â”‚   â”‚   â”œâ”€â”€ input_img.png<br/>    â”‚   â”‚   â”œâ”€â”€ local_container.png<br/>    â”‚   â”‚   â””â”€â”€ magic_trick.png<br/>    â”‚   â””â”€â”€ test_images<br/>    â”‚       â”œâ”€â”€ image_1.jpg<br/>    â”‚       â”œâ”€â”€ image_2.jpg<br/>    â”‚       â”œâ”€â”€ image_3.jpg<br/>    â”‚       â”œâ”€â”€ image_4.jpg<br/>    â”‚       â”œâ”€â”€ image_5.jpg<br/>    â”‚       â””â”€â”€ image_6.jpg<br/>    â”œâ”€â”€ app.py<br/>    â”œâ”€â”€ cdk<br/>    â”‚   â”œâ”€â”€ __init__.py<br/>    â”‚   â””â”€â”€ cdk_stack.py<br/>    â”œâ”€â”€ cdk.json<br/>    â”œâ”€â”€ requirements.txt<br/>    â””â”€â”€ setup.py</span></pre><h2 id="d03d" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">æ‚¨çš„ Streamlit åº”ç”¨çš„ä¸»è¦éƒ¨åˆ†</h2><p id="1029" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå°†ä»ä¸åŒçš„æ¥æº(URLã€ç¤ºä¾‹åº“ã€ç”¨æˆ·ä¸Šä¼ )è¯»å–ä¸€ä¸ªè¾“å…¥å›¾åƒï¼Œç”Ÿæˆä¸€ä¸ªå†…ç”»å›¾åƒï¼Œæœ€åå°†ä¸¤è€…å¹¶æ’ç»˜åˆ¶åœ¨ä¸€èµ·ã€‚</p><p id="7f35" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æˆ‘ä»¬è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯å¯¼å…¥ä¾èµ–é¡¹å’Œå¸®åŠ©å‡½æ•°ã€‚å½¼å¾—Â·é²å§†åŠ ç‰¹çº³å†™äº†ä¸€ç¯‡å…³äºé‡æ„å’Œç¼–å†™æ¨¡å—åŒ–ä»£ç çš„å¥½æ–‡ç« <a class="ae ko" href="https://pmbaumgartner.github.io/streamlitopedia/refactoring-and-writing-modular-code.html" rel="noopener ugc nofollow" target="_blank"/>,åº”è¯¥å¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°ç»„ç»‡ä½ çš„ä»£ç ã€‚</p><h2 id="b8b7" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">åŠ©æ‰‹å‡½æ•°(ä½œä¸ºå¯¼å…¥)</h2><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="204e" class="ni kx it mc b gy ob oc l od oe">from helpers import InPainting<br/>magic_trick = InPainting()</span></pre><h2 id="4d5d" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">åŠ©æ‰‹åŠŸèƒ½(åœ¨ app.py ä¸­)</h2><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="9d85" class="ni kx it mc b gy ob oc l od oe">def show_images(input_img, output_img):<br/>    f = plt.figure(figsize=(20,20))<br/>    f.add_subplot(1,2,1)<br/>    plt.imshow(input_img)<br/>    f.add_subplot(1,2,2)<br/>    plt.imshow(output_img)<br/>    plt.show(block=True)<br/>    st.pyplot(bbox_inches='tight')</span></pre><h2 id="d446" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">é˜…è¯»æ‚¨çš„è¾“å…¥å›¾åƒ</h2><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="cf4b" class="ni kx it mc b gy ob oc l od oe">st.header('Read image')<br/>    st.image(<br/>        'src/input_img.png',<br/>        caption='Illustration by <a class="ae ko" href="https://blush.design/artists/vijay-verma'" rel="noopener ugc nofollow" target="_blank">https://blush.design/artists/vijay-verma'</a>,<br/>        use_column_width=True,<br/>    )<br/>    options = st.radio('Please choose any of the following options',<br/>        (<br/>            'Choose example from library',<br/>            'Download image from URL',<br/>            'Upload your own image',<br/>        )<br/>    )</span><span id="9787" class="ni kx it mc b gy of oc l od oe">input_image = None<br/>    if options == 'Choose example from library':<br/>        image_files = list(sorted([x for x in Path('test_images').rglob('*.jpg')]))<br/>        selected_file = st.selectbox(<br/>            'Select an image file from the list', image_files<br/>        )<br/>        st.write(f'You have selected `{selected_file}`')<br/>        input_image = Image.open(selected_file)<br/>    elif options == 'Download image from URL':<br/>        image_url = st.text_input('Image URL')<br/>        try:<br/>            r = requests.get(image_url)<br/>            input_image = Image.open(io.BytesIO(r.content))<br/>        except Exception:<br/>            st.error('There was an error downloading the image. Please check the URL again.')<br/>    elif options == 'Upload your own image':<br/>        uploaded_file = st.file_uploader("Choose file to upload")<br/>        if uploaded_file:<br/>            input_image = Image.open(io.BytesIO(uploaded_file.read()))<br/>            st.success('Image was successfully uploaded')</span><span id="3475" class="ni kx it mc b gy of oc l od oe">if input_image:<br/>        st.image(input_image, use_column_width=True)<br/>        st.info('''<br/>        Image will be resized to fit within `(1024,1024)`<br/>        pixels for easier processing.<br/>        ''')<br/>    else:<br/>        st.warning('There is no image loaded.')</span></pre><h2 id="5917" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">åœ¨å›¾åƒä¸Šè¿è¡Œæ‚¨çš„æ¨¡å‹æ¨ç†</h2><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="cbf1" class="ni kx it mc b gy ob oc l od oe">st.header('Run prediction')<br/>    st.write('')<br/>    prediction_checkbox = st.checkbox('Do a magic trick!')<br/>    if input_image and prediction_checkbox:<br/>        try:<br/>            with st.spinner():<br/>                output_image = magic_trick.run_main(input_image)<br/>                show_images(input_image, output_image)<br/>        except Exception as e:<br/>            st.error(e)<br/>            st.error('There was an error processing the input image')</span></pre><h2 id="f550" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">å¸®åŠ©è€…. py</h2><p id="cf68" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">ä¸ºäº†ç”Ÿæˆå†…ç”»å›¾åƒï¼Œæˆ‘ä»¬éœ€è¦è¾“å…¥å›¾åƒå’Œé®ç½©å›¾åƒï¼Œå…¶ä¸­é™¤äº†æˆ‘ä»¬çš„ç›®æ ‡ä»¥å¤–ï¼Œæ¯ä¸ªåƒç´ éƒ½æ˜¯ç™½è‰²çš„ã€‚å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ AWS Rekognition æ¥æ£€æµ‹ä¸€ä¸ªå¯¹è±¡å’Œä¸€ä¸ªè‡ªå®šä¹‰ç±»ï¼Œä»¥æ ¹æ®è¯¥æ£€æµ‹åˆ›å»ºä¸€ä¸ªé®ç½©å›¾åƒã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="8946" class="ni kx it mc b gy ob oc l od oe">class Rekognition:<br/>    def __init__(self):<br/>        self.client = boto3.client(<br/>            'rekognition',<br/>            region_name = 'eu-west-2', # not needed<br/>            )</span><span id="d9aa" class="ni kx it mc b gy of oc l od oe">def predict_labels(self, image_bytes, max_labels=10, min_conf=90):<br/>        response = self.client.detect_labels(<br/>            Image = {'Bytes': image_bytes},<br/>            MaxLabels = max_labels,<br/>            MinConfidence = min_conf,<br/>            )<br/>        return response['Labels']<br/>    <br/>    def return_mask_img(self, image_bytes):<br/>        image = Image.open(io.BytesIO(image_bytes))<br/>        imgWidth, imgHeight = image.size<br/>        blank = Image.new('RGB', image.size, (255, 255, 255))<br/>        draw = ImageDraw.Draw(blank)<br/>        response = self.predict_labels(image_bytes)<br/>        <br/>        for idx, label in enumerate(response):<br/>            name = label['Name']<br/>            instances = label['Instances']</span><span id="689a" class="ni kx it mc b gy of oc l od oe">if len(instances) == 0: continue<br/>            for instance in instances:<br/>                confidence = instance['Confidence']<br/>                box = instance['BoundingBox']<br/>                left = imgWidth * box['Left']<br/>                top = imgHeight * box['Top']<br/>                width = imgWidth * box['Width']<br/>                height = imgHeight * box['Height']</span><span id="7b5a" class="ni kx it mc b gy of oc l od oe">points = (<br/>                    (left, top),<br/>                    (left + width, top),<br/>                    (left + width, top + height),<br/>                    (left , top + height),<br/>                    (left, top),<br/>                )</span><span id="5567" class="ni kx it mc b gy of oc l od oe"># draw bounding box<br/>                draw.rectangle([left, top, left + width, top + height], fill='black')<br/>                <br/>        return blank</span></pre><p id="07f9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¸€æ—¦æˆ‘ä»¬æœ‰äº†è¿™ä¸¤ä¸ªå›¾åƒï¼Œæˆ‘ä»¬åº”è¯¥èƒ½å¤Ÿè¿è¡Œå›¾åƒåœ¨ç»˜ç”»æ¨¡å‹é¢„æµ‹ã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="3a73" class="ni kx it mc b gy ob oc l od oe">class InPainting:<br/>    def __init__(self):<br/>        self.rekognition = Rekognition() <br/>        self.multiple = 6<br/>        self.INPUT_SIZE = 512  # input image size for Generator<br/>        self.ATTENTION_SIZE = 32 # size of contextual attention<br/>        <br/>    def PIL_to_cv2(self, pil_img):<br/>        np_img = np.array(pil_img.convert('RGB'))<br/>        return cv2.cvtColor(np_img, cv2.COLOR_RGB2BGR)<br/>    <br/>    def PIL_to_image_bytes(self, img):<br/>        buffer = io.BytesIO()<br/>        img.save(buffer, format='JPEG')<br/>        return buffer.getvalue()<br/>    <br/>    def cv2_to_PIL(self, cv2_im):<br/>        cv2_im = cv2.cvtColor(cv2_im, cv2.COLOR_BGR2RGB)<br/>        return Image.fromarray(cv2_im)<br/>                <br/>    def run_main(self, input_image, max_size = (1024,1024)):<br/>        with tf.Graph().as_default():<br/>            with open('sample-imageinpainting-HiFill/GPU_CPU/pb/hifill.pb', "rb") as f:<br/>                output_graph_def = tf.GraphDef()<br/>                output_graph_def.ParseFromString(f.read())<br/>                tf.import_graph_def(output_graph_def, name="")</span><span id="dbd9" class="ni kx it mc b gy of oc l od oe">with tf.Session() as sess:<br/>                init = tf.global_variables_initializer()<br/>                sess.run(init)<br/>                image_ph = sess.graph.get_tensor_by_name('img:0')<br/>                mask_ph = sess.graph.get_tensor_by_name('mask:0')<br/>                inpainted_512_node = sess.graph.get_tensor_by_name('inpainted:0')<br/>                attention_node = sess.graph.get_tensor_by_name('attention:0')<br/>                mask_512_node = sess.graph.get_tensor_by_name('mask_processed:0')<br/>        <br/>                input_image.thumbnail(max_size)<br/>                image_bytes = self.PIL_to_image_bytes(input_image)<br/>                raw_mask = self.PIL_to_cv2(self.rekognition.return_mask_img(image_bytes))<br/>                raw_img = self.PIL_to_cv2(input_image)<br/>                inpainted = self.inpaint(<br/>                            raw_img, raw_mask, sess, inpainted_512_node, <br/>                            attention_node, mask_512_node, image_ph, mask_ph, self.multiple)<br/>                return self.cv2_to_PIL(inpainted)</span></pre><h2 id="5fd7" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">åˆ›å»º Dockerfile æ–‡ä»¶</h2><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="f5aa" class="ni kx it mc b gy ob oc l od oe">FROM python:3.7<br/>EXPOSE 8501<br/>WORKDIR /app<br/>COPY requirements.txt ./requirements.txt<br/>RUN pip3 install -r requirements.txt<br/>RUN git clone <a class="ae ko" href="https://github.com/Atlas200dk/sample-imageinpainting-HiFill.git" rel="noopener ugc nofollow" target="_blank">https://github.com/Atlas200dk/sample-imageinpainting-HiFill.git</a> &amp;&amp; \<br/>        cd sample-imageinpainting-HiFill &amp;&amp; \<br/>        git checkout 1f7f769bd1ea225d4d5c8b094dd261ca9172927b<br/>COPY . .<br/>CMD streamlit run app.py \<br/>    --server.headless true \<br/>    --browser.serverAddress="0.0.0.0" \<br/>    --server.enableCORS false \<br/>    --browser.gatherUsageStats false</span></pre><h2 id="0398" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">æ„å»ºæ˜ åƒå¹¶åœ¨æœ¬åœ°è¿è¡Œä»¥è¿›è¡Œè°ƒè¯•</h2><p id="85e5" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">åœ¨æ‚¨çš„ç»ˆç«¯ä¸­è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥æ„å»ºæ‚¨çš„å®¹å™¨æ˜ åƒ</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="7b93" class="ni kx it mc b gy ob oc l od oe">$ docker build -t demo/magic-trick .</span></pre><p id="4f9f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç°åœ¨è¿è¡Œå®¹å™¨</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="3dd5" class="ni kx it mc b gy ob oc l od oe">$ docker run -it â€” rm -p â€˜8501:8501â€™ demo/magic-trick</span></pre><p id="e153" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¦‚æœä½ æ‰“å¼€æµè§ˆå™¨ï¼Œè¿›å…¥<a class="ae ko" href="http://localhost:8501/`" rel="noopener ugc nofollow" target="_blank"> http://localhost:8501 </a>ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°ä¸‹é¢çš„â€¦ <strong class="js iu">æˆåŠŸï¼ğŸ˜ƒ</strong></p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi og"><img src="../Images/8c366041ef737b20b04d0f2097e6a4a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CsHN5uB_Cza9msvQN1H0nw.png"/></div></div></figure><h1 id="50b6" class="kw kx it bd ky kz mp lb lc ld mq lf lg lh mr lj lk ll ms ln lo lp mt lr ls lt bi translated">3)ä½¿ç”¨ AWS CDK å°†æ‚¨çš„ Streamlit åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ° AWS Fargate</h1><h2 id="9d9d" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">å¿«é€Ÿä»‹ç»</h2><p id="6cc8" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated"><strong class="js iu"> AWS CDK </strong>æ˜¯ä¸€ä¸ªè½¯ä»¶å¼€å‘æ¡†æ¶ï¼Œç”¨äºåœ¨ä»£ç ä¸­å®šä¹‰äº‘åŸºç¡€è®¾æ–½ï¼Œå¹¶é€šè¿‡<strong class="js iu"> AWS CloudFormation </strong>è¿›è¡Œé…ç½®ï¼Œä½¿æ‚¨èƒ½å¤Ÿ:</p><ul class=""><li id="710a" class="mu mv it js b jt ju jx jy kb mw kf mx kj my kn mz na nb nc bi translated">å¯é¢„æµ‹åœ°é‡å¤åˆ›å»ºå’Œé…ç½® AWS åŸºç¡€è®¾æ–½éƒ¨ç½²ã€‚</li><li id="0748" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">åˆ©ç”¨ AWS äº§å“ï¼Œå¦‚ Amazon EC2ã€Amazon Elastic Block Storeã€Amazon SNSã€Elastic Load Balancing å’Œ Auto Scalingã€‚</li><li id="befd" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">åœ¨äº‘ä¸­æ„å»ºé«˜åº¦å¯é ã€é«˜åº¦å¯ä¼¸ç¼©ã€ç»æµé«˜æ•ˆçš„åº”ç”¨ç¨‹åºï¼Œè€Œæ— éœ€æ‹…å¿ƒåˆ›å»ºå’Œé…ç½®åº•å±‚ AWS åŸºç¡€æ¶æ„ã€‚</li><li id="7584" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">ä½¿ç”¨æ¨¡æ¿æ–‡ä»¶å°†èµ„æºé›†åˆä½œä¸ºä¸€ä¸ªå•å…ƒ(å †æ ˆ)ä¸€èµ·åˆ›å»ºå’Œåˆ é™¤ã€‚</li></ul><p id="a8f6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> AWS Fargate </strong>æ˜¯äºšé©¬é€Š ECS å’Œ EKS çš„è®¡ç®—å¼•æ“ï¼Œå…è®¸ä½ è¿è¡Œå®¹å™¨ï¼Œè€Œä¸å¿…ç®¡ç†æœåŠ¡å™¨æˆ–é›†ç¾¤ã€‚æˆ‘ä»¬å°†ä½¿ç”¨è¿™ä¸¤ç§æœåŠ¡æ¥è½»æ¾åœ°å¤§è§„æ¨¡éƒ¨ç½²æˆ‘ä»¬çš„å®¹å™¨ã€‚</p><p id="57e6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¦‚æœä½ ä¸ç†è§£æ‰€æœ‰è¿™äº›ï¼Œä¸è¦å¤ªæ‹…å¿ƒï¼Œå› ä¸ºæœ‰ä¸€ä¸ªå¾ˆå¥½çš„<a class="ae ko" href="https://docs.aws.amazon.com/cdk/latest/guide/getting_started.html" rel="noopener ugc nofollow" target="_blank">å…¥é—¨æŒ‡å—</a>ä¾›ä½ å‚è€ƒï¼Œè¿˜æœ‰<a class="ae ko" href="https://docs.aws.amazon.com/cdk/api/latest/python/index.html" rel="noopener ugc nofollow" target="_blank">å®˜æ–¹ Python å‚è€ƒæ–‡æ¡£</a>ä¾›ä½ æŸ¥é˜…ã€‚æˆ‘å°†æŒ‰ç…§å®˜æ–¹çš„<a class="ae ko" href="https://docs.aws.amazon.com/de_de/cdk/latest/guide/ecs_example.html" rel="noopener ugc nofollow" target="_blank"> ECS ç¤ºä¾‹</a>åˆ—å‡ºæ‚¨éœ€è¦å®Œæˆçš„æ¯ä¸ªæ­¥éª¤ï¼Œä½†æ˜¯å› ä¸ºè¿™äº›æ­¥éª¤ä¸­çš„å¤§éƒ¨åˆ†å·²ç»åœ¨æ­¤ repo ä¸­å®Œæˆ(ä¾‹å¦‚ï¼Œåˆ›å»ºé¡¹ç›®ç›®å½•)ï¼Œæ‰€ä»¥åœ¨è·³åˆ°ä¸‹é¢çš„<strong class="js iu">éƒ¨ç½²æ‚¨çš„å †æ ˆ</strong>ä¹‹å‰ï¼Œè¯·éšæ„åˆå§‹åŒ– AWS CDK å¹¶å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹ã€‚</p><h2 id="1277" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">é…ç½®æ‚¨çš„ AWS å‡­æ®</h2><p id="f12a" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">å¦‚æœæ‚¨æ‰“ç®—ä»æœ¬åœ°æœºå™¨éƒ¨ç½²æ‚¨çš„æ ˆï¼Œæ‚¨åº”è¯¥ç¡®ä¿æ‚¨çš„ AWS å‡­è¯åœ¨æ‚¨çš„ç¯å¢ƒä¸­è¢«æ­£ç¡®è®¾ç½®ã€‚ä½ å¯ä»¥åœ¨<a class="ae ko" href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-files.html" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a>ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚</p><p id="49da" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ‰“å¼€æ‚¨çš„ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚å½“è¯¢é—®æ—¶ï¼Œæ·»åŠ æ‚¨çš„è®¿é—®å¯†é’¥å’Œå¯†é’¥ã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="868e" class="ni kx it mc b gy ob oc l od oe">$ aws configure</span></pre><p id="4d52" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæ‚¨æ‰“ç®—ä» AWS å®ä¾‹(ä¾‹å¦‚ EC2ã€SageMaker ç­‰)éƒ¨ç½²æ‚¨çš„å †æ ˆã€‚)ç„¶åï¼Œæ‚¨çš„ç¯å¢ƒå°†é‡‡ç”¨æ‚¨åˆ†é…ç»™è¯¥å®ä¾‹çš„å‡­è¯å’Œè§’è‰²ï¼Œæ‚¨ä¸éœ€è¦è¿›è¡Œä»»ä½•é…ç½®ã€‚ä½ åªéœ€è¦ä»”ç»†æ£€æŸ¥ä½ çš„è§’è‰²èƒ½ä¸èƒ½åšä½ æƒ³åšçš„ä¸€åˆ‡ã€‚</p><h2 id="a81c" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">å®‰è£…è‡ªåŠ¨æ°”è±¡ç«™ CDK</h2><p id="2c03" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">è½¬åˆ°æ‚¨çš„ç»ˆç«¯ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… AWS CDKã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="1a92" class="ni kx it mc b gy ob oc l od oe">$ npm install -g aws-cdk</span></pre><p id="ffcf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">(å¯é€‰)å¦‚æœæ‚¨éœ€è¦æ›´æ–° AWS CDK ç‰ˆæœ¬ï¼Œè¯·è¿è¡Œ</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="6053" class="ni kx it mc b gy ob oc l od oe">$ npm update -g aws-cdk</span></pre><p id="5b98" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯å®‰è£…æ˜¯å¦æ­£ç¡®ï¼Œå¹¶æ‰“å° AWS CDK çš„ç‰ˆæœ¬å·ã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="fa68" class="ni kx it mc b gy ob oc l od oe">$ cdk â€” version</span></pre><h2 id="f7d8" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">æ›´æ–°æ‚¨çš„è¯­è¨€ä¾èµ–</h2><p id="a88a" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">å¦‚æœæ‚¨æ”¶åˆ°ä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼Œæç¤ºæ‚¨çš„è¯­è¨€æ¡†æ¶å·²è¿‡æœŸï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¹‹ä¸€æ¥æ›´æ–° AWS CDK æ”¯æŒè¯¥è¯­è¨€æ‰€éœ€çš„ç»„ä»¶ã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="c3e0" class="ni kx it mc b gy ob oc l od oe">$ pip install â€” upgrade aws-cdk.core</span></pre><h2 id="3b48" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">åˆ›å»ºæ‚¨çš„é¡¹ç›®ç›®å½•å¹¶åˆå§‹åŒ– AWS CDK</h2><p id="e3bf" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">è®©æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªä¿å­˜ AWS CDK ä»£ç çš„ç›®å½•ï¼Œç„¶ååœ¨è¯¥ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª AWS CDK åº”ç”¨ç¨‹åºã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="ebe5" class="ni kx it mc b gy ob oc l od oe">$ mkdir cdk<br/>$ cd cdk<br/>$ cdk init â€” language python<br/>$ source .env/bin/activate<br/>$ pip install -r requirements.txt</span></pre><p id="0f69" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ‚¨ç”Ÿæˆçš„<code class="fe lz ma mb mc b">cdk/cdk_stack.py</code>åº”è¯¥æ˜¯è¿™æ ·çš„ã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="30a7" class="ni kx it mc b gy ob oc l od oe">from aws_cdk import core</span><span id="32b5" class="ni kx it mc b gy of oc l od oe">class CdkStack(core.Stack):</span><span id="3944" class="ni kx it mc b gy of oc l od oe">def __init__(self, scope: core.Construct, id: str, **kwargs) -&gt; None:<br/>        super().__init__(scope, id, **kwargs)</span><span id="21c5" class="ni kx it mc b gy of oc l od oe"># The code that defines your stack goes here</span></pre><p id="3e71" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ„å»ºå¹¶è¿è¡Œåº”ç”¨ç¨‹åºï¼Œå¹¶ç¡®è®¤å®ƒåˆ›å»ºäº†ä¸€ä¸ªç©ºå †æ ˆã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="cabb" class="ni kx it mc b gy ob oc l od oe">$ cdk synth</span></pre><p id="55c8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ‚¨åº”è¯¥çœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„å †æ ˆï¼Œå…¶ä¸­<code class="fe lz ma mb mc b">CDK-VERSION</code>æ˜¯<code class="fe lz ma mb mc b">CDK</code>çš„ç‰ˆæœ¬ï¼Œ<code class="fe lz ma mb mc b">NODE-VERSION</code>æ˜¯ Node.js çš„ç‰ˆæœ¬ã€‚)</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="58a0" class="ni kx it mc b gy ob oc l od oe">Resources:<br/>  CDKMetadata:<br/>    Type: AWS::CDK::Metadata<br/>    Properties:<br/>      Modules: aws-cdk=CDK-VERSION,<a class="ae ko" href="http://twitter.com/aws" rel="noopener ugc nofollow" target="_blank">@aws</a>-cdk/core=CDK-VERSION,<a class="ae ko" href="http://twitter.com/aws" rel="noopener ugc nofollow" target="_blank">@aws</a>-cdk/cx-api=CDK-VERSION,jsii-runtime=node.js/NODE-VERSION</span></pre><h2 id="9043" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">æ·»åŠ  Amazon EC2 å’Œ Amazon ECS åŒ…</h2><p id="6767" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">ä¸º Amazon EC2 å’Œ Amazon ECS å®‰è£… AWS æ„é€ åº“æ¨¡å—ã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="b3b5" class="ni kx it mc b gy ob oc l od oe">$ pip install aws_cdk.aws_ec2 aws_cdk.aws_ecs aws_cdk.aws_ecs_patterns</span></pre><h2 id="6feb" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">åˆ›å»ºä¸€ä¸ª Fargate æœåŠ¡</h2><p id="d37e" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">ä½¿ç”¨ Amazon ECS è¿è¡Œå®¹å™¨ä»»åŠ¡æœ‰ä¸¤ç§ä¸åŒçš„æ–¹å¼:</p><ul class=""><li id="a7bb" class="mu mv it js b jt ju jx jy kb mw kf mx kj my kn mz na nb nc bi translated">ä½¿ç”¨<code class="fe lz ma mb mc b">Fargate</code>å¯åŠ¨ç±»å‹ï¼ŒAmazon ECS ä¸ºæ‚¨ç®¡ç†è¿è¡Œå®¹å™¨çš„ç‰©ç†æœºå™¨ã€‚</li><li id="93fc" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">ä½¿ç”¨<code class="fe lz ma mb mc b">EC2</code>å¯åŠ¨ç±»å‹ï¼Œåœ¨è¿™é‡Œè¿›è¡Œç®¡ç†ï¼Œæ¯”å¦‚æŒ‡å®šè‡ªåŠ¨ç¼©æ”¾ã€‚</li></ul><p id="9503" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¯¹äºæœ¬ä¾‹ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªè¿è¡Œåœ¨ ECS é›†ç¾¤ä¸Šçš„ Fargate æœåŠ¡ï¼Œå®ƒç”±ä¸€ä¸ªé¢å‘äº’è”ç½‘çš„åº”ç”¨ç¨‹åºè´Ÿè½½å¹³è¡¡å™¨æä¾›æ”¯æŒã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å°†å‘è¯¥é›†ç¾¤æ·»åŠ è‡ªåŠ¨ä¼¸ç¼©åŠŸèƒ½ï¼Œå¹¶å°†ç­–ç•¥é™„åŠ åˆ°ä»»åŠ¡è§’è‰²ï¼Œä»¥ä¾¿å®¹å™¨èƒ½å¤Ÿä½¿ç”¨ AWS Rekognitionã€‚</p><p id="d09b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å°†ä»¥ä¸‹ AWS æ„é€ åº“æ¨¡å—å¯¼å…¥æ·»åŠ åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚</p><p id="4706" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ–‡ä»¶:<code class="fe lz ma mb mc b">cdk/cdk_stack.py</code></p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="0776" class="ni kx it mc b gy ob oc l od oe">from aws_cdk import (<br/>    aws_ec2 as ec2,<br/>    aws_ecs as ecs,<br/>    aws_ecr as ecr,<br/>    aws_iam as iam,<br/>    aws_ecs_patterns as ecs_patterns,<br/>    core,<br/>)</span></pre><p id="315f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç”¨ä¸‹é¢çš„ä»£ç æ›¿æ¢æ„é€ å‡½æ•°æœ«å°¾çš„æ³¨é‡Šã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="3fdc" class="ni kx it mc b gy ob oc l od oe"># Create a VPC<br/>        vpc = ec2.Vpc(<br/>            self, "WebDemoVPC", <br/>            max_azs = 2,<br/>            )     # default is all AZs in region, <br/>                  # but you can limit to avoid reaching resource quota</span><span id="e7c6" class="ni kx it mc b gy of oc l od oe"># Create ECS cluster<br/>        cluster = ecs.Cluster(self, "WebDemoCluster", vpc=vpc)</span><span id="6f86" class="ni kx it mc b gy of oc l od oe"># Add an AutoScalingGroup with spot instances to the existing cluster<br/>        cluster.add_capacity("AsgSpot",<br/>            max_capacity=2,<br/>            min_capacity=1,<br/>            desired_capacity=2,<br/>            instance_type=ec2.InstanceType("c5.xlarge"),<br/>            spot_price="0.0735",<br/>            # Enable the Automated Spot Draining support for Amazon ECS<br/>            spot_instance_draining=True<br/>        )</span><span id="a684" class="ni kx it mc b gy of oc l od oe"># Build Dockerfile from local folder and push to ECR<br/>        image = ecs.ContainerImage.from_asset('app')</span><span id="04c9" class="ni kx it mc b gy of oc l od oe"># Create Fargate service<br/>        fargate_service = ecs_patterns.ApplicationLoadBalancedFargateService(<br/>            self, "WebDemoService",<br/>            cluster=cluster,            # Required<br/>            cpu=512,                    # Default is 256 (512 is 0.5 vCPU)<br/>            desired_count=1,            # Default is 1<br/>            task_image_options=ecs_patterns.ApplicationLoadBalancedTaskImageOptions(<br/>                image=image, <br/>                container_port=8501,<br/>                ),<br/>            memory_limit_mib=2048,      # Default is 512<br/>            public_load_balancer=True)  # Default is True</span><span id="f311" class="ni kx it mc b gy of oc l od oe"># Add policies to task role<br/>        fargate_service.task_definition.add_to_task_role_policy(iam.PolicyStatement(<br/>            effect=iam.Effect.ALLOW,<br/>            actions = ["rekognition:*"],<br/>            resources = ["*"],<br/>            )<br/>        )</span><span id="f040" class="ni kx it mc b gy of oc l od oe"># Setup task auto-scaling<br/>        scaling = fargate_service.service.auto_scale_task_count(<br/>            max_capacity=10<br/>        )<br/>        scaling.scale_on_cpu_utilization(<br/>            "CpuScaling",<br/>            target_utilization_percent=50,<br/>            scale_in_cooldown=core.Duration.seconds(60),<br/>            scale_out_cooldown=core.Duration.seconds(60),<br/>        )</span></pre><p id="41ad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è®¾ç½® AWS CDK Python è„šæœ¬æ—¶éœ€è¦è€ƒè™‘çš„ä¸€äº›äº‹é¡¹</p><ul class=""><li id="c105" class="mu mv it js b jt ju jx jy kb mw kf mx kj my kn mz na nb nc bi translated">CloudFormation å°šä¸æ”¯æŒ Fargate Spot å®ä¾‹(æˆªè‡³ 2020 å¹´ 5 æœˆ 31 æ—¥)</li><li id="83e2" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">ä»»åŠ¡æ‰§è¡Œè§’è‰²ä¸åŒäºä»»åŠ¡è§’è‰²ã€‚åŸºæœ¬ä¸Šï¼Œæ‰§è¡Œè§’è‰²æ˜¯æ‰§è¡Œ ECS æ“ä½œ(å¦‚æ¨å’Œæ‹‰æ˜ åƒ)çš„è§’è‰²ï¼Œä»»åŠ¡è§’è‰²æ˜¯ä»»åŠ¡æœ¬èº«è°ƒç”¨å…¶ä»– AWS æœåŠ¡(å¦‚ Rekognitionã€S3 ç­‰)æ‰€ä½¿ç”¨çš„è§’è‰²ã€‚åœ¨<a class="ae ko" href="https://stackoverflow.com/questions/48999472/difference-between-aws-elastic-container-services-ecs-executionrole-and-taskr" rel="noopener ugc nofollow" target="_blank"> StackOverflow é—®é¢˜</a>ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚</li><li id="a84d" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">æˆ‘ä»¬å·²ç»å»ºç«‹äº†ä¸€ä¸ª ECS é›†ç¾¤ï¼Œå®ƒå…·æœ‰ä¸€ä¸ªåŒ…å« spot å®ä¾‹çš„è‡ªåŠ¨æ‰©å±•ç»„ï¼Œå¹¶ä¸”å½“ cpu åˆ©ç”¨ç‡å¢åŠ åˆ° 50%ä»¥ä¸Šæ—¶ï¼Œå¯ä»¥å¯åŠ¨å¤šè¾¾ 10 ä¸ªæ–°ä»»åŠ¡ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šå…³äºä»»åŠ¡è‡ªåŠ¨ç¼©æ”¾<a class="ae ko" href="https://docs.aws.amazon.com/cdk/api/latest/python/aws_cdk.aws_ecs.README.html#task-auto-scaling" rel="noopener ugc nofollow" target="_blank">çš„å†…å®¹ã€‚</a></li><li id="c1cb" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">ä¸è¦åœ¨æ¯æ¬¡æƒ³è¦éƒ¨ç½²é¡¹ç›®æ—¶æ„å»ºå®¹å™¨æ˜ åƒå¹¶å°†å…¶æ¨é€åˆ° ECRï¼Œæ‚¨è¿˜å¯ä»¥ä» ECR å­˜å‚¨åº“ä¸­æå–ä¸€ä¸ªç°æœ‰çš„æ˜ åƒã€‚ä½ å¯ä»¥ç”¨</li></ul><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="9f49" class="ni kx it mc b gy ob oc l od oe">repository = ecr.Repository.from_repository_arn(<br/>        self, "{repository-name}",<br/>        "arn:aws:ecr:{region-name}:{account-id}:repository/{repository-name}")<br/>    image = ecs.ContainerImage.from_ecr_repository(repository=repository, tag="latest")</span></pre><h2 id="4127" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">éƒ¨ç½²æ‚¨çš„å †æ ˆ</h2><p id="5f60" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">å½“æ‚¨çš„åº”ç”¨ç¨‹åºåªæœ‰ä¸€ä¸ªå †æ ˆæ—¶ï¼Œä¸éœ€è¦æŒ‡å®šå †æ ˆåç§°ï¼Œæ‚¨å¯ä»¥è¿è¡Œ</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="7e8a" class="ni kx it mc b gy ob oc l od oe">$ cdk deploy</span></pre><p id="4881" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¦‚æœæ‚¨å¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œå¦‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="d1d6" class="ni kx it mc b gy ob oc l od oe">This stack uses assets, so the toolkit stack must be deployed to the environment (Run â€œcdk bootstrap aws://unknown-account/unknown-regionâ€)</span></pre><p id="a60a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç„¶åï¼Œåœ¨è¿è¡Œ<code class="fe lz ma mb mc b">cdk deploy</code>ä¹‹å‰ï¼Œæ‚¨éœ€è¦å¼•å¯¼æ‚¨çš„é»˜è®¤æ¦‚è¦æ–‡ä»¶æ‰€ä½¿ç”¨çš„å¸æˆ·ã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="a0b7" class="ni kx it mc b gy ob oc l od oe">$ cdk bootstrap<br/>â€¦<br/>âœ… Environment aws://{your-account-id}/{your-region-name} bootstrapped.</span></pre><p id="af9e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ•´ä¸ªè¿‡ç¨‹å¤§çº¦éœ€è¦ 10 åˆ° 20 åˆ†é’Ÿï¼Œå› ä¸ºæˆ‘ä»¬ä¹Ÿåœ¨å°†æˆ‘ä»¬çš„å®¹å™¨æ˜ åƒæ¨é€åˆ° ECRã€‚ä¸€æ—¦è¯¥è¿‡ç¨‹æˆåŠŸç»“æŸï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹:</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="30dd" class="ni kx it mc b gy ob oc l od oe">âœ… cdk</span><span id="c99f" class="ni kx it mc b gy of oc l od oe">Outputs:<br/>cdk.WebDemoServiceLoadBalancerDNS******A5 = cdk-WebDemo-PV******KA7D-******197.eu-west-2.elb.amazonaws.com<br/>cdk.WebDemoServiceServiceURL******7B = <a class="ae ko" href="http://cdk-WebDemo-PV******KA7D-******197.eu-west-2.elb.amazonaws.com" rel="noopener ugc nofollow" target="_blank">http://cdk-WebDemo-PV******KA7D-******197.eu-west-2.elb.amazonaws.com</a></span><span id="b779" class="ni kx it mc b gy of oc l od oe">Stack ARN:<br/>arn:aws:cloudformation:eu-west-2:************:stack/cdk/c7f457f0-a34d-11ea-a167-******e602c</span></pre><p id="8c2b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç°åœ¨ï¼Œå½“ä½ æ‰“å¼€æµè§ˆå™¨ï¼Œè¿›å…¥<code class="fe lz ma mb mc b">cdk.WebDemoServiceServiceURL</code>ï¼Œä½ ä¼šçœ‹åˆ°ä½ çš„åº”ç”¨ç¨‹åºã€‚è¯·æ³¨æ„ï¼Œç”±äºæˆ‘ä»¬åªä¸ºè¯¥ä»»åŠ¡åˆ†é…äº† 0.5 ä¸ª vCPUï¼Œæ‰€ä»¥æ¨æ–­æ—¶é—´ä¼šå¾ˆé•¿ï¼Œåœ¨ 20 åˆ° 30 ç§’ä¹‹é—´ã€‚ä½†æ˜¯æ‚¨å¯ä»¥éšæ—¶è¿”å›ï¼Œæ›´æ”¹è¿™ä¸€ç‚¹ï¼Œå¹¶ä½¿ç”¨<code class="fe lz ma mb mc b">cdk deploy</code>é‡æ–°éƒ¨ç½²ã€‚</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/e01a56726675857aad6fad9e77424e2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/1*b1oKb5proEAs5bmpgpJYzg.gif"/></div></figure><p id="b8f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">æ­å–œä½ ï¼æ‚¨çš„åº”ç”¨ç¨‹åºç°å·²ä¸Šçº¿</strong>ğŸ˜ƒ</p><h2 id="5dd8" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">åˆ é™¤æ‚¨çš„ AWS CDK é¡¹ç›®</h2><p id="30fb" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">å¦‚æœä½ ä¸å†å¸Œæœ›ä½ çš„åº”ç”¨ç¨‹åºå­˜åœ¨ï¼Œä½ å¯èƒ½éœ€è¦æ¸…é™¤ AWS CDK è®¾ç½®çš„æ‰€æœ‰ä¸œè¥¿ï¼Œä»¥é¿å…æ‹›è‡´ä»»ä½•æ„æƒ³ä¸åˆ°çš„æˆæœ¬ã€‚</p><pre class="me mf mg mh gt nx mc ny nz aw oa bi"><span id="8367" class="ni kx it mc b gy ob oc l od oe">$ cdk destroy</span></pre><h2 id="80b5" class="ni kx it bd ky nj nk dn lc nl nm dp lg kb nn no lk kf np nq lo kj nr ns ls nt bi translated">å‚è€ƒ</h2><ul class=""><li id="0f06" class="mu mv it js b jt lu jx lv kb nu kf nv kj nw kn mz na nb nc bi translated">æ˜“ï¼Œå¼ ï¼Œå”ï¼Œå¼ ï¼Œå¾ï¼Œ(2020)ã€‚è¶…é«˜åˆ†è¾¨ç‡å›¾åƒä¿®å¤çš„ä¸Šä¸‹æ–‡æ®‹å·®èšåˆã€‚*arXiv é¢„å°æœ¬ arXiv:2005.09704*</li></ul><p id="dec9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">å›¾ç‰‡åŒ…å«åœ¨</strong> <code class="fe lz ma mb mc b"><strong class="js iu">test_images</strong></code> <strong class="js iu">æ–‡ä»¶å¤¹ä¸­</strong></p><ul class=""><li id="5730" class="mu mv it js b jt ju jx jy kb mw kf mx kj my kn mz na nb nc bi translated"><code class="fe lz ma mb mc b">image_1.jpg</code>ï¼Œè’‚å§†Â·å¤šå¼—å‹’ï¼Œ<a class="ae ko" href="https://unsplash.com/photos/dQT6hKtRWRw" rel="noopener ugc nofollow" target="_blank">é“¾æ¥</a></li><li id="f25d" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated"><code class="fe lz ma mb mc b">image_2.jpg</code>ã€å·´ç‰¹å°”ç±³Â·å¾·Â·é©¬æ³½è¯ºå¾·ã€<a class="ae ko" href="https://unsplash.com/photos/iw0SowaRxeY" rel="noopener ugc nofollow" target="_blank">é“¾æ¥</a></li><li id="e45e" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated"><code class="fe lz ma mb mc b">image_3.jpg</code>ã€å”çº³å¾·Â·è©¹çº³è’‚ã€<a class="ae ko" href="https://unsplash.com/photos/E9AyOAQL2R4" rel="noopener ugc nofollow" target="_blank">é“¾æ¥</a></li><li id="fbc2" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated"><code class="fe lz ma mb mc b">image_4.jpg</code>ã€éŸ©äºšåº“ç±³ã€<a class="ae ko" href="https://unsplash.com/photos/vNVPAKf1GO4" rel="noopener ugc nofollow" target="_blank">é“¾æ¥</a></li><li id="b287" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated"><code class="fe lz ma mb mc b">image_5.jpg</code>ã€çºªå°§å§†Â·å¾·Â·çƒ­å°”æ›¼ã€<a class="ae ko" href="https://unsplash.com/photos/h1itWfWeQM4" rel="noopener ugc nofollow" target="_blank">é“¾æ¥</a></li><li id="3212" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated"><code class="fe lz ma mb mc b">image_6.jpg</code>ã€å¸–æœ¨å„¿ã€ç½—é©¬è¯ºå¤«ã€‘ã€<a class="ae ko" href="https://unsplash.com/photos/YgoLFkdrD8Q" rel="noopener ugc nofollow" target="_blank">é“¾æ¥</a></li></ul></div></div>    
</body>
</html>