<html>
<head>
<title>Part 2 — Create live interactive dashboards with Python and Heroku</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第 2 部分—使用 Python 和 Heroku 创建实时交互式仪表盘</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/part-2-create-live-interactive-dashboards-with-python-and-heroku-b74701a75746?source=collection_archive---------55-----------------------#2020-07-02">https://towardsdatascience.com/part-2-create-live-interactive-dashboards-with-python-and-heroku-b74701a75746?source=collection_archive---------55-----------------------#2020-07-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bd8c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在 Heroku 云平台上部署您的 Streamlit 应用程序的简单说明</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/98f64fd4a02bfe9bcef78c0a8bed127e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5t3gwpjC4ETCjcendzS2SA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">斯蒂芬·道森在<a class="ae ky" href="https://unsplash.com/s/photos/dashboard?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="1b79" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="a60b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果你想在云平台上部署一个交互式仪表盘或你的投资组合作为一个网页，Heroku 是一个部署你的仪表盘的好应用。在我们之前的帖子中，我们讨论了<a class="ae ky" rel="noopener" target="_blank" href="/how-to-build-interactive-dashboards-in-python-using-streamlit-1198d4f7061b">如何使用 Streamlit </a>在 Python 中构建交互式仪表盘。在这里，我们将在云平台中部署我们的 streamlit 应用程序。</p><h1 id="11d4" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">赫罗库</h1><p id="8b3e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Heroku 是一个云平台，在虚拟容器(Dynos)中运行我们的应用程序，这些应用程序在运行时环境中执行。这些容器支持许多不同的语言，如 Ruby、Scala、Python、Java 等。它还提供定制的构建包，我们可以用它来部署任何其他语言的应用程序。</p><h1 id="95ed" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">设置 Heroku</h1><ul class=""><li id="5eca" class="mn mo it lt b lu lv lx ly ma mp me mq mi mr mm ms mt mu mv bi translated">在 Heroku 中创建一个帐户，然后在那里创建一个新应用程序。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/dcd0e976a5389ef762d5e54da7be3e8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KPtO2aXJFX-np9_q.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/4e7a308c47e5b986dfc98eb01fb18bab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9N4V8fo5G90A4KyQ.png"/></div></div></figure><ul class=""><li id="ae8b" class="mn mo it lt b lu mx lx my ma mz me na mi nb mm ms mt mu mv bi translated">我们可以用不同的方式部署我们的应用程序，但在这篇文章中，我们将看到如何通过 Github 部署我们的代码。我们可以把 Github 账户和 Heroku 联系起来。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/ca1c7a2cd873d7c9599d43609c74d1f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5lBN4HFyR643yKcJ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/c3c9c3330a36c84a0d6c21cb45beb839.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*disn9MlYRJCxYBVv.png"/></div></div></figure><h1 id="f93a" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">Heroku 的设置文件</h1><p id="8855" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在我们已经准备好将 Github 代码部署到 Heroku 了。现在我们需要在代码中添加额外的文件来帮助我们自动运行代码。为此，我们需要在 Github 文件夹中添加两个额外的文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/8954caff2288e0f604e4c700a4a285ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cIIati9s4qoyh8fY.png"/></div></div></figure><ul class=""><li id="2e34" class="mn mo it lt b lu mx lx my ma mz me na mi nb mm ms mt mu mv bi translated"><strong class="lt iu">概要文件</strong> —我们需要创建一个名为<strong class="lt iu"> Procfile </strong>的文本文件，没有任何扩展名。它是一个声明如何运行以及运行什么命令的文件。</li></ul><p id="b76f" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma nd mc md me ne mg mh mi nf mk ml mm im bi translated">格式:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="b4d1" class="nl la it nh b gy nm nn l no np">web: sh setup.sh &amp;&amp; streamlit run &lt;filename&gt;.py</span></pre><p id="a69d" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma nd mc md me ne mg mh mi nf mk ml mm im bi translated">示例:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="8a98" class="nl la it nh b gy nm nn l no np">web: sh setup.sh &amp;&amp; streamlit run covid_data.py</span></pre><ul class=""><li id="bf70" class="mn mo it lt b lu mx lx my ma mz me na mi nb mm ms mt mu mv bi translated"><strong class="lt iu"> setup.sh </strong> —我们还需要创建一个名为<strong class="lt iu"> setup.sh </strong>的文件，我们将在其中写入配置，并为 streamlit 创建一个文件夹。我们只需要将下面的命令粘贴到文件中。</li></ul><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="a133" class="nl la it nh b gy nm nn l no np">mkdir -p ~/.streamlit/<br/>echo "\[server]\n\ <br/>headless = true\n\ <br/>port = $PORT\n\ <br/>enableCORS = false\n\ <br/>\n\ <br/>" &gt; ~/.streamlit/config.toml</span></pre><p id="f8e8" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma nd mc md me ne mg mh mi nf mk ml mm im bi translated">如果我们的文件夹中没有<strong class="lt iu"> requirement.txt </strong>文件。我们可以使用 pipreqs 包来创建它。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="b068" class="nl la it nh b gy nm nn l no np">$ cd ~/&lt;folder_path&gt;\ <br/>$ pipreqs<br/>$ git add requirements.txt <br/>$ git commit -m "requirements.txt" <br/>$ git push</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/91dbb1aa6d77f0f3dd31abc7f8468285.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uKN3uSca8J1o-ghn.png"/></div></div></figure><h1 id="6dae" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">通过 Github 部署 Heroku</h1><p id="6fbd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在我们开始部署我们的项目。连接我们要部署的 Github 库，然后部署 branch。如果我们想要自动部署我们所做的每一个变更/提交，我们需要点击按钮"<strong class="lt iu">Enable Automatic deployments</strong>"</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/bb79329119c99b57263fa9adfaeeb665.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kX3I5zfXMX5q1Ymf.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/97fa1cd064d2606034ad7a042b6c5c54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hAsIvcxCIzzjQpnp.png"/></div></div></figure><h1 id="4c96" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">如何经营 Heroku</h1><p id="1418" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在我们的 Streamlit 应用程序已经部署好了，我们需要运行 Heroku。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="5f5e" class="nl la it nh b gy nm nn l no np">$ heroku ps:scale web=1 -a &lt;app_name&gt; $ heroku open -a&lt;app_name&gt;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/84bb904b919615d081b409ae4eb68b43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*g7hmTEVJ4So3yScq.png"/></div></div></figure><p id="aa1b" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma nd mc md me ne mg mh mi nf mk ml mm im bi translated">最后，我们可以在云平台中看到我们的 Streamlit 应用程序</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/1d1335b7b1fe1b8679a935fa6a2c2600.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RfsdNnAhMRaG8i5S.png"/></div></div></figure><p id="519e" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma nd mc md me ne mg mh mi nf mk ml mm im bi translated"><strong class="lt iu">注意</strong>:在阅读下面这篇文章时，该 URL 可能没有激活。</p><h1 id="5011" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">所有的代码</h1><p id="ab07" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这里是 Github repo 的所有代码，包括我们在这个博客中使用的所有代码。</p><p id="ca4f" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma nd mc md me ne mg mh mi nf mk ml mm im bi translated">这个帖子到此为止。希望对你有帮助。敬请关注新的有趣博客。</p></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><p id="c254" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma nd mc md me ne mg mh mi nf mk ml mm im bi translated"><em class="ny">原载于 2020 年 7 月 2 日</em><a class="ae ky" href="https://confusedcoders.com/random/deploying-website-using-heroku" rel="noopener ugc nofollow" target="_blank"><em class="ny">【https://confusedcoders.com】</em></a><em class="ny">。</em></p></div></div>    
</body>
</html>