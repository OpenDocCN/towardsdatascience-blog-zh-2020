<html>
<head>
<title>Start Using Python’s Unittest Module Today</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">立即开始使用 Python 的 Unittest 模块</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/start-using-pythons-unittest-module-today-17ba0537c5a0?source=collection_archive---------62-----------------------#2020-08-03">https://towardsdatascience.com/start-using-pythons-unittest-module-today-17ba0537c5a0?source=collection_archive---------62-----------------------#2020-08-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ec95" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Python 单元测试完整演练</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bcbbc69668969e0a0cba428d102fc570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ip5cWPcgwql2vXVE"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">乔恩·泰森在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="cab3" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">单元测试</h1><p id="6459" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">单元测试是代码的基本运行。这是<strong class="lt iu">不是 QA。这种</strong>方式，你<strong class="lt iu">验证你已经写了质量代码</strong>，而不是在别人试图使用它的时候就会崩溃的东西。</p><h2 id="35e8" class="mn la it bd lb mo mp dn lf mq mr dp lj ma ms mt ll me mu mv ln mi mw mx lp my bi translated">为什么要测试？</h2><p id="fd97" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最近，在一家初创公司，我需要为一位同事编写库代码，我给他库代码和一个单元测试脚本。</p><p id="d109" class="pw-post-body-paragraph lr ls it lt b lu mz ju lw lx na jx lz ma nb mc md me nc mg mh mi nd mk ml mm im bi translated">每次他抱怨的时候，单元测试<strong class="lt iu">为我节省了时间</strong>来检查他代码中的错误。因为我的工作了，这节省了很多时间，时间是你最宝贵的财富。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/c9bcbb99f6719a5a3343d50f63645e43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-_R855hRjC6Dttu0"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@insungyoon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> insung yoon </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="7f43" class="pw-post-body-paragraph lr ls it lt b lu mz ju lw lx na jx lz ma nb mc md me nc mg mh mi nd mk ml mm im bi translated">单元测试是开发的重要方面<strong class="lt iu">。没有你的代码的第一次运行，你怎么知道它是否工作？由于单元测试通常很快很短，通过正确地管理单元测试，您可以看到您是否破坏了旧代码或其他人的代码！</strong></p><p id="4825" class="pw-post-body-paragraph lr ls it lt b lu mz ju lw lx na jx lz ma nb mc md me nc mg mh mi nd mk ml mm im bi translated">提供如何使用你的代码的例子将会很容易，因为你已经有一个了！</p><h2 id="3644" class="mn la it bd lb mo mp dn lf mq mr dp lj ma ms mt ll me mu mv ln mi mw mx lp my bi translated">错误而常见的方式</h2><p id="04e8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们从展示错误的和常规的方法开始。这里有一个简单的类对象:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="7236" class="pw-post-body-paragraph lr ls it lt b lu mz ju lw lx na jx lz ma nb mc md me nc mg mh mi nd mk ml mm im bi translated">如你所见，这个类做的不多。它接受一个数字，并对给定的输入进行幂运算。现在，一个标准的开发人员会如何验证这些代码呢？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/0f3689048cf391637fba309943f5ca48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JvPJaYTuOZbloUKZ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">胡安·鲁米普努在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h2 id="0e0b" class="mn la it bd lb mo mp dn lf mq mr dp lj ma ms mt ll me mu mv ln mi mw mx lp my bi translated">这个方法好像不太对；以下是几个主要原因。</h2><ul class=""><li id="836b" class="ni nj it lt b lu lv lx ly ma nk me nl mi nm mm nn no np nq bi translated">这是<strong class="lt iu">不可持续的</strong>——只是分散在许多文件中的小测试，没有任何方法来跟踪甚至重用这些测试。</li><li id="06db" class="ni nj it lt b lu nr lx ns ma nt me nu mi nv mm nn no np nq bi translated">这很混乱，并且给我们的程序增加了未使用的代码块。</li><li id="379c" class="ni nj it lt b lu nr lx ns ma nt me nu mi nv mm nn no np nq bi translated">它确保单元测试只发生一次，<strong class="lt iu">而不是在<strong class="lt iu">发布的每个新版本中</strong>验证。</strong></li></ul><p id="1b60" class="pw-post-body-paragraph lr ls it lt b lu mz ju lw lx na jx lz ma nb mc md me nc mg mh mi nd mk ml mm im bi translated">你可能会说——他可以删除它，但是他所有的单元测试工作都是徒劳的，你不会在每个版本中重用它，来改进你未来的代码，或者把你的工作片段给其他用户。</p><h2 id="a394" class="mn la it bd lb mo mp dn lf mq mr dp lj ma ms mt ll me mu mv ln mi mw mx lp my bi translated">正确的方法</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/87e44e66d0b89a315ff9d790bb5fc9e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kz_LcYYgYzkgDOhD"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae ky" href="https://unsplash.com/@krisijanis?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Krisjanis Mezulis </a>拍摄的照片</p></figure><p id="d59f" class="pw-post-body-paragraph lr ls it lt b lu mz ju lw lx na jx lz ma nb mc md me nc mg mh mi nd mk ml mm im bi translated">有许多 python 测试模块，你可以为它们中的许多给出有力的论据，我喜欢<strong class="lt iu"> python unittest </strong>有许多原因，它的<strong class="lt iu">简单</strong>、<strong class="lt iu">快速</strong>、<strong class="lt iu">有效</strong>，并且在<strong class="lt iu">标准库中！</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h2 id="f7a0" class="mn la it bd lb mo mp dn lf mq mr dp lj ma ms mt ll me mu mv ln mi mw mx lp my bi translated">让它工作！</h2><ul class=""><li id="c90d" class="ni nj it lt b lu lv lx ly ma nk me nl mi nm mm nn no np nq bi translated">测试类必须<strong class="lt iu">从 unittest 继承。测试案例</strong></li><li id="3db8" class="ni nj it lt b lu nr lx ns ma nt me nu mi nv mm nn no np nq bi translated">每个测试<strong class="lt iu">功能</strong>必须在<strong class="lt iu">测试 _ </strong>中开始</li><li id="6154" class="ni nj it lt b lu nr lx ns ma nt me nu mi nv mm nn no np nq bi translated"><strong class="lt iu"> unittest.main() </strong>是运行<strong class="lt iu">来测试结果的函数。</strong></li></ul><blockquote class="nx"><p id="3c92" class="ny nz it bd oa ob oc od oe of og mm dk translated">三个小小的规则，你就有了一个合适的单元测试，很简单，不是吗？</p></blockquote><h2 id="2dfb" class="mn la it bd lb mo oh dn lf mq oi dp lj ma oj mt ll me ok mv ln mi ol mx lp my bi translated">选项</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/ae37aa49d5e0cf806bcb99938df2c081.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wRFzkOcpK34XWYa9"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">维多利亚诺·伊斯基耶多在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="705a" class="pw-post-body-paragraph lr ls it lt b lu mz ju lw lx na jx lz ma nb mc md me nc mg mh mi nd mk ml mm im bi translated">不仅仅是断言相等。您可以检查任何您喜欢的东西，从数字到类型，提出正确的异常，任何您可以想象的东西，都在一个简单的标准库模块中，由 Python 开发团队维护。</p><h1 id="c775" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">最后的想法</h1><p id="56cb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">对于每个开发人员来说，单元测试是一个必不可少的工具，Python 单元测试是一个很好的模块。</p><p id="04dd" class="pw-post-body-paragraph lr ls it lt b lu mz ju lw lx na jx lz ma nb mc md me nc mg mh mi nd mk ml mm im bi translated">适当的单元测试将在许多方面节省你的时间，包括未来的错误，破坏同事的代码，甚至是向他人展示他们如何使用你的系统的伟大片段，这种方式增加了你编写的程序实用和有益的几率。</p><p id="e8f2" class="pw-post-body-paragraph lr ls it lt b lu mz ju lw lx na jx lz ma nb mc md me nc mg mh mi nd mk ml mm im bi translated">如果你喜欢这些文章，请发表评论，关于 Python 标准库的更多内容，请就你关心的主题发表评论，我会写下来。</p><p id="826b" class="pw-post-body-paragraph lr ls it lt b lu mz ju lw lx na jx lz ma nb mc md me nc mg mh mi nd mk ml mm im bi translated">我希望你喜欢它！</p></div></div>    
</body>
</html>