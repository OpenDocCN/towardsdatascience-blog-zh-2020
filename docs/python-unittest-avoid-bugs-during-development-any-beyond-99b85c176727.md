# Python 单元测试指南——避免开发期间和之后的错误！

> 原文：<https://towardsdatascience.com/python-unittest-avoid-bugs-during-development-any-beyond-99b85c176727?source=collection_archive---------74----------------------->

## 因为如果你在写代码的时候已经在测试了，那就把它做好

![](img/17c374f45a83b9d54cdd3ddad0727333.png)

在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上由 [Carlos Muza](https://unsplash.com/@kmuza?utm_source=medium&utm_medium=referral) 拍摄的照片

# 为什么要测试？

单元测试是开发的一个重要方面**。没有代码的基本运行，你如何知道它是否工作？此外，由于单元测试通常快速而简短，通过正确地管理单元测试，您还可以知道您是否破坏了旧代码或其他人的代码！**

此外，提供如何使用您的代码的示例会容易得多，因为您已经有一个了！

# 错误而常见的方式

让我们从展示错误的和常见的方法开始。这里有一个简单的类对象:

正如你所看到的，这个类做的不多，它在给定的输入上需要一个数的幂。
现在，一个标准的开发人员会如何验证这段代码呢？

别这样。

# 这是不对的，为什么？原因很多。

*   这是**不可持续的**——只是分散在许多文件中的小测试，没有任何方法来跟踪甚至重用这些测试。
*   这很混乱，并且给我们的程序增加了**未使用的代码块**
*   这确保了单元测试只发生一次，**而不是**在**每个新版本发布时被验证。**

你可能会说——他可以删除它，但是他所有的单元测试工作都是徒劳的，你不会在每个版本中重用它来改进你未来的代码。

# 正确的方法

![](img/272744f2eb4cc09239041b8cd506dc99.png)

尼克·莫瑞森在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

有许多 python 测试模块，你可以为它们中的许多给出有力的论据，我喜欢 **python unittest** 有许多原因，它的**简单**、**快速**、**有效**，并且在**标准库中。**

# 如何让它工作

*   测试类必须**继承自 unittest。测试案例**
*   每个测试**功能**必须在**测试 _** 中开始
*   **unittest.main()** 是**运行**来测试结果的函数。

> 3 个小小的规则，你就有了一个合适的单元测试，很简单，不是吗？

![](img/9e04a52f35cf95cec680918cffbb89a8.png)

安特·汉默斯米特在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

# 选项

您不必使用 assert equal，您可以检查任何您喜欢的东西，从数字到类型，到引发正确的异常，任何您可以想象的东西，都在一个简单的标准库模块中，由 python 开发团队维护。

# 最后的想法

Python 单元测试模块是每个开发人员的必备工具，它将确保您编写良好和适当的单元测试，使它们可重用，这样您就不会用新的开发来破坏旧的代码，并保持代码的整洁和维护，添加 CI 或任何自动化，并且您会得到一个维护良好的程序，只需付出较少的努力，所以开始使用 python 单元测试模块吧，它太棒了！

如果你喜欢这些文章，请发表评论，关于 Python 标准库的更多内容，请就你关心的主题发表评论，我会写的

我希望你喜欢！