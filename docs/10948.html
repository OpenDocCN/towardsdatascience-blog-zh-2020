<html>
<head>
<title>How to Verify the Distribution of Data using Q-Q Plots?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 Q-Q 图验证数据的分布？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-verify-the-distribution-of-data-using-q-q-plots-acdb7ca2d576?source=collection_archive---------13-----------------------#2020-07-30">https://towardsdatascience.com/how-to-verify-the-distribution-of-data-using-q-q-plots-acdb7ca2d576?source=collection_archive---------13-----------------------#2020-07-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/7bf16f6eec9b13850668bb1016c1d0cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KJExfB-sEQoZqOGW"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">艾萨克·史密斯在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="286e" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph">统计数字</h2><div class=""/><div class=""><h2 id="6f5e" class="pw-subtitle-paragraph kp js jj bd b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dk translated">理解 Q-Q 图并在 Python 中实现它</h2></div><p id="32b7" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">Q-Q 图，或分位数-分位数图，是一种验证任何随机变量(如正态、指数、对数正态等)分布的图形方法。这是一种观察任何分布性质的统计方法。</p><p id="8190" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">例如，如果给定一个分布，需要验证它是否是正态分布，我们运行统计分析，并将未知分布与已知正态分布进行比较。然后通过观察 Q-Q 图的结果，就可以确认给定的分布是否正态分布。</p><h1 id="9e78" class="md me jj bd mf mg mh mi mj mk ml mm mn ky mo kz mp lb mq lc mr le ms lf mt mu bi translated">绘制 Q-Q 图的步骤:</h1><ol class=""><li id="d90d" class="mv mw jj lj b lk mx ln my lq mz lu na ly nb mc nc nd ne nf bi translated">给定一个未知的随机变量。</li><li id="6106" class="mv mw jj lj b lk ng ln nh lq ni lu nj ly nk mc nc nd ne nf bi translated">找到每个整数百分位值或 100 个 z 值。</li><li id="a065" class="mv mw jj lj b lk ng ln nh lq ni lu nj ly nk mc nc nd ne nf bi translated">生成一个已知的随机分布，并对该分布执行步骤 1–2。</li><li id="4586" class="mv mw jj lj b lk ng ln nh lq ni lu nj ly nk mc nc nd ne nf bi translated">绘制 Q-Q 图</li></ol></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><p id="e70b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">给定一个随机分布，需要验证它是否是正态/高斯分布。为了便于理解，我们将这个未知分布命名为<strong class="lj jt"> X、</strong>，已知的正态分布命名为<strong class="lj jt"> Y. </strong></p><h2 id="353e" class="ns me jj bd mf nt nu dn mj nv nw dp mn lq nx ny mp lu nz oa mr ly ob oc mt jp bi translated">生成未知分布 X:</h2><pre class="od oe of og gt oh oi oj ok aw ol bi"><span id="387c" class="ns me jj oi b gy om on l oo op">X = np.random.normal(loc=50, scale=25, size=1000)</span></pre><p id="82a0" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们正在生成具有 1000 个值的正态分布，平均值=50，标准差=25。</p><figure class="od oe of og gt iv gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/a4acf0d1bda614ce7f2a55b11e95b6e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*aOeecHnKadx4JPpCo-eweA.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">(图片由作者提供)，X 的前 20 个随机值</p></figure><h2 id="90c6" class="ns me jj bd mf nt nu dn mj nv nw dp mn lq nx ny mp lu nz oa mr ly ob oc mt jp bi translated">查找 100%的值:</h2><pre class="od oe of og gt oh oi oj ok aw ol bi"><span id="0e96" class="ns me jj oi b gy om on l oo op">X_100 = []<br/>for i in range(1,101):<br/>    X_100.append(np.percentile(X, i))</span></pre><p id="d936" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">计算每个整数百分位数(1%，2%，3%，。。。，99%，100%)X 随机分布的值并存储在 X_100 中。</p><figure class="od oe of og gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi or"><img src="../Images/7f844548dbfc3145758dfd9eac1e4cff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dWztugN_oUg79trqooNK7Q.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">(图片由作者提供)<strong class="bd os">，左:</strong>X 的分布，<strong class="bd os">右:</strong>X _ 100 的分布</p></figure><h2 id="0519" class="ns me jj bd mf nt nu dn mj nv nw dp mn lq nx ny mp lu nz oa mr ly ob oc mt jp bi translated">生成已知的随机分布 Y 及其百分位值:</h2><pre class="od oe of og gt oh oi oj ok aw ol bi"><span id="22fc" class="ns me jj oi b gy om on l oo op">Y = np.random.normal(loc=0, scale=1, size=1000)</span></pre><p id="e6b2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">生成具有 1000 个值的正态分布，平均值=0，标准偏差=1，这些值需要与未知分布 X 进行比较，以验证 X 分布是否正态分布。</p><pre class="od oe of og gt oh oi oj ok aw ol bi"><span id="86e7" class="ns me jj oi b gy om on l oo op">Y_100 = []<br/>for i in range(101):<br/>    Y_100.append(np.percentile(Y, i))</span></pre><p id="e0fd" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">计算每个整数百分位数(1%，2%，3%，。。。，99%，100%)的值，并将其存储在 Y_100 中。</p><h2 id="19f5" class="ns me jj bd mf nt nu dn mj nv nw dp mn lq nx ny mp lu nz oa mr ly ob oc mt jp bi translated">绘图:</h2><p id="3f88" class="pw-post-body-paragraph lh li jj lj b lk mx kt lm ln my kw lp lq ot ls lt lu ou lw lx ly ov ma mb mc im bi translated">为上面获得的未知分布到正态分布的 100%值绘制散点图。</p><figure class="od oe of og gt iv gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/910c28ba9d0cdcf19ed5c8a08f3b2557.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*f5H9zhULL7yjZk-NvX8yAw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">(图片由作者提供)，<strong class="bd os"> Q-Q 剧情</strong></p></figure><blockquote class="ox oy oz"><p id="197e" class="lh li pa lj b lk ll kt lm ln lo kw lp pb lr ls lt pc lv lw lx pd lz ma mb mc im bi translated">这里 X-是与 Y-正态分布相比较的未知分布。</p></blockquote><blockquote class="pe"><p id="4ab2" class="pf pg jj bd ph pi pj pk pl pm pn mc dk translated">对于 Q-Q 图，如果图中的分散点位于一条直线上，那么两个随机变量具有相同的分布，否则它们具有不同的分布。</p></blockquote><p id="5bc7" class="pw-post-body-paragraph lh li jj lj b lk po kt lm ln pp kw lp lq pq ls lt lu pr lw lx ly ps ma mb mc im bi translated">从上面的 Q-Q 图，可以观察到 X 是正态分布的。</p><figure class="od oe of og gt iv gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/00bebba65e7b56773e7fa578b323a54b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*CpN8Xpqi8QTC199j7JMCww.jpeg"/></div></figure><h2 id="0b0f" class="ns me jj bd mf nt nu dn mj nv nw dp mn lq nx ny mp lu nz oa mr ly ob oc mt jp bi translated">如果两个分布不一样呢？</h2><p id="94de" class="pw-post-body-paragraph lh li jj lj b lk mx kt lm ln my kw lp lq ot ls lt lu ou lw lx ly ov ma mb mc im bi translated">如果 X 不是正态分布，它有一些其他的分布，那么如果 Q-Q 图绘制在 X 和正态分布之间，分散点将不会位于一条直线上。</p><figure class="od oe of og gt iv gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/13b5e9815aee53cbc9609ffd81e2561e.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*G_EIrxwx5YxSE521YURuEg.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">(图片由作者提供)，<strong class="bd os"> Q-Q 剧情</strong></p></figure><p id="9a50" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这里，X 分布是对数正态分布，与正态分布相比，因此 Q-Q 图中的散点不在一条直线上。</p><h2 id="a275" class="ns me jj bd mf nt nu dn mj nv nw dp mn lq nx ny mp lu nz oa mr ly ob oc mt jp bi translated">让我们有更多的观察:</h2><p id="d9c2" class="pw-post-body-paragraph lh li jj lj b lk mx kt lm ln my kw lp lq ot ls lt lu ou lw lx ly ov ma mb mc im bi translated">这是 X 和 Y 分布的 4 种不同条件下的 4 个 Q-Q 图。</p><figure class="od oe of og gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pv"><img src="../Images/a7dcb24a38d2664d61fad0f05a51b187.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aH7KtmXRwtbNROvOStmEaA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">(图片由作者提供)，<strong class="bd os">左上:</strong>对数正态分布与正态分布的 QQ 图，<strong class="bd os">右上:</strong>正态分布与指数分布的 QQ 图，<strong class="bd os">左下:</strong>指数分布与指数分布的 QQ 图，<strong class="bd os">右下:</strong>logistic 分布与 logistic 分布的 QQ 图</p></figure></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><h1 id="a4ae" class="md me jj bd mf mg pw mi mj mk px mm mn ky py kz mp lb pz lc mr le qa lf mt mu bi translated">实施:</h1><figure class="od oe of og gt iv"><div class="bz fp l di"><div class="qb qc l"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">(作者代码)</p></figure></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><h1 id="c2ed" class="md me jj bd mf mg pw mi mj mk px mm mn ky py kz mp lb pz lc mr le qa lf mt mu bi translated">结论:</h1><p id="8c51" class="pw-post-body-paragraph lh li jj lj b lk mx kt lm ln my kw lp lq ot ls lt lu ou lw lx ly ov ma mb mc im bi translated">Q-Q 图可用于比较任何两个分布，也可用于通过与已知分布比较来验证未知分布。这种方法有一个主要的限制，即需要大量的数据点，因为推断较少的数据不是一个明智的决定。通过观察 Q-Q 图，可以预测两个分布是否相同。</p><blockquote class="pe"><p id="389f" class="pf pg jj bd ph pi qd qe qf qg qh mc dk translated">感谢您的阅读</p></blockquote></div></div>    
</body>
</html>