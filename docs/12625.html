<html>
<head>
<title>Central Limit Theorem(CLT): Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">中心极限定理(CLT):数据科学</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/central-limit-theorem-clt-data-science-19c442332a32?source=collection_archive---------21-----------------------#2020-08-31">https://towardsdatascience.com/central-limit-theorem-clt-data-science-19c442332a32?source=collection_archive---------21-----------------------#2020-08-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="92dc" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用推断统计学学习中心极限定理(CLT)及其在数据科学中的应用。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/521ce60471dfb2a76811f47025a9521e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tomFREOObx-slv3aENXb8A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=810025" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>的 Gerd Altmann 提供</p></figure><p id="f083" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们在上一篇文章中看到的，<a class="ae ky" rel="noopener" target="_blank" href="/inferential-statistics-data-analysis-e59adc75c6eb"> <strong class="lb iu">推断统计</strong></a><strong class="lb iu"/>在数据科学中起着举足轻重的作用。中心极限定理(CLT)是现实世界中数据科学家最常用的技术，是推断统计学的一部分。</p><p id="6c75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要了解 CLT，首先，我们需要了解以下话题:</p><ol class=""><li id="d183" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">样品</li><li id="1937" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">抽样分布</li></ol><h2 id="7623" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated"><strong class="ak"> 1。样本</strong></h2><p id="1078" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">从整个员工/人群列表中选择一些员工/人群称为<strong class="lb iu">样本</strong>。</p><p id="d12a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们有一家公司，里面有 30，000 名员工。我们想知道所有员工每天的通勤时间。去找每个员工并记录他们的通勤时间将是非常繁琐和耗时的。</p><p id="01a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看是否有另一种方法来完成任务。在公司说；我们对 100 名随机雇员进行了调查。调查结束后，我们计算出员工的平均通勤时间为 36.6 分钟。仅仅考虑 100 名随机的雇员，这足以说明所有雇员的通勤时间是 36.6 分钟吗？</p><p id="3b01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不，我们不能这么说。总体平均值大约为<strong class="lb iu">36.6+误差</strong>，即如果误差为<strong class="lb iu"> 3 分钟</strong>，那么员工的总体平均值将介于“<strong class="lb iu">36.6–3</strong>”到“<strong class="lb iu"> 36.6+3 </strong>”之间。现在，我们如何找出错误？</p><p id="3c23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要回答这个问题，首先，我们必须了解<strong class="lb iu">采样</strong>T24】术语。</p><ul class=""><li id="c578" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu nh mb mc md bi translated">项目总数/人口<strong class="lb iu">，人口规模</strong> = <strong class="lb iu"> N </strong></li><li id="ffb7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated">总体均值，<strong class="lb iu">总体均值(μ)=(σ* X)/N</strong></li><li id="f682" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated">总体方差，<strong class="lb iu">总体方差(σ)=σ(Xi—μ)/N</strong></li><li id="fb90" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated">项目数/总体，<strong class="lb iu">样本量= n </strong></li><li id="86a2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated">样本员工的均值，<strong class="lb iu">样本均值(x)</strong>=<strong class="lb iu">(σ* x)/n</strong></li><li id="1f28" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated">样本方差，<strong class="lb iu">样本方差(S)=σ(Xi—x)/n-1</strong></li></ul><p id="c7bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看如何从给定的样本量中找到样本均值和样本方差，</p><p id="741c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要从下面的样本数据中找出一个地区的人的平均身高。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/081069a13ffc9842a3380a3daad2922d.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*UsDyEEARoJG1E81ugVBAgw.jpeg"/></div></figure><p id="c943" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">样本量(n) </strong> = 5 <br/> <strong class="lb iu">样本均值(x)</strong>=(121.92+133.21+141.34+126.23+175.74)/5 = 139.69<br/><strong class="lb iu">样本方差(S)</strong>= sqrt[{(121.92–139.69)+(133.21–139.69)+(141</p><p id="7abf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是我们如何在样本数据的帮助下计算样本均值和方差。</p><h2 id="ef0b" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">2.抽样分布</h2><p id="0100" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">抽样分布是从总体列表中抽取的许多样本中获得的分布概率。</p><p id="66d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">意思是，我们公司有 30000 名员工。首先，我们随机选择 50 名员工，计算他们的平均值，假设为 x 1。之后，我们将从整个列表中随机抽取另外 50 名员工，计算平均值，即 x ^ 2。假设我们继续这个过程，并计算平均值直到 x 100。</p><p id="da87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有趣的是，我们得到的是样本均值的分布。</p><p id="6e6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们把所有样本的均值分布绘制成一个图形，它就代表了二项分布。</p><p id="83ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">抽样分布有一些有趣的性质，最终有助于发现总体均值的误差。</p><p id="f4d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">抽样分布的平均值用<strong class="lb iu"> μₓ表示。</strong></p><p id="cb2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> μₓ =(所有样本平均值之和)/(样本总数)</strong></p><p id="63ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">样本分布均值</strong>有两个重要属性:</p><ol class=""><li id="0d35" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">抽样分布均值<strong class="lb iu"> (μₓ ) </strong> =总体均值<strong class="lb iu"> (μ) </strong></li><li id="3ff5" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">抽样分布的标准差(<strong class="lb iu">标准差</strong> ) = <strong class="lb iu"> σ/√n </strong>，其中σ为总体的标准差，n 为样本量</li></ol><h2 id="1524" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">中心极限定理</h2><p id="5d1b" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">中心极限定理(CLT)指出，对于任何数据，只要有大量的样本。以下属性成立:</p><ol class=""><li id="2d1a" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">抽样分布均值<strong class="lb iu"> (μₓ ) </strong> =总体均值<strong class="lb iu"> (μ) </strong></li><li id="b976" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">抽样分布的标准差(<strong class="lb iu">标准差</strong> ) = <strong class="lb iu"> σ/√n ≈S/√n </strong></li><li id="8a41" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">对于 n &gt; 30 </strong>，抽样分布变为<strong class="lb iu">正态分布</strong>。</li></ol><p id="94d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们通过 Jupyter Notebook 验证一下 Python 中 CLT 的性质。</p><p id="d4db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于下面的 Python 代码，我们将使用人口和随机值的数据集，我们可以在这里找到<a class="ae ky" href="https://github.com/Kaushik-Varma/CLT" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="8353" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，将必要的库导入 Jupyter 笔记本。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="9439" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们导入了我们在后续代码中使用的所有必需的包。因为我们将随机对信息进行采样，所以我们设置了一个随机种子<code class="fe nl nm nn no b">np.random.seed(42)</code>，以便分析是可重复的。</p><p id="6eac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们阅读我们正在处理的数据集，</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="a8fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据集看起来像这样，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/071cb23027cc5c1ea8ed7790a3cf3082.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*NK3UOs-KsxDEgSnc5JyCcQ.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">人口数据集</p></figure><p id="8bae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从数据集中提取“Weight”列，并查看该列的分布。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="3699" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个重量柱和它的分布图看起来像这样，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/18faab53a30a7afa54d77a021c096b2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RodrJNq8G6Z_yFK41xBBUg.jpeg"/></div></div></figure><p id="d83c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所看到的，图表接近于一个<strong class="lb iu">正态分布图</strong>。</p><p id="7515" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也通过代码找出权重列的均值和标准差。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="e06c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">均值= 220.67326732673268 <br/> Std。戴夫。= 26.643110470317723</p><p id="109e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些值是重量列的精确平均值和标准偏差值。</p><p id="1308" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们开始采样数据。</p><p id="ab60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们将从数据中抽取 30 个成员的样本。其原因是，在对观测值进行重复抽样后，我们需要确定抽样分布是否符合正态分布。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="e4ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述样本的平均值= 222.1，大于实际平均值 220.67。让我们重新运行代码，</p><pre class="kj kk kl km gt nr no ns nt aw nu bi"><span id="676b" class="mj mk it no b gy nv nw l nx ny">df.Weight.sample(samp_size).mean()</span></pre><p id="6504" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述样本的平均值= 220.5，几乎等于原始平均值。如果我们重新运行代码，我们将得到平均值= 221.6</p><p id="4e59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每次我们取样时，平均值是不同的。样本均值本身存在可变性。让我们向前看，看看样本均值是否服从分布。</p><p id="7cbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们不是一次取一个样本平均值，而是取大约 1000 个这样的样本平均值，并将其赋给一个变量。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="2fff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经将 sample_means 转换为 Series 对象，因为 list 对象没有为我们提供均值和标准差函数。</p><p id="3ff9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">样本总数= 1000</p><p id="4ccb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们有 1000 个样本，这是我们的平均值。让我们使用 seaborn 绘制分布图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="bc09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">分布图看起来像这样，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/5ae3e3b05688ee6acdf2edab00100271.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*yqzDTb8NnIMzpL9zxmxJ3g.jpeg"/></div></figure><p id="6775" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所观察到的，上面的分布看起来近似正态分布。</p><p id="53ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们需要检查的另一件事是样本的平均值和标准差。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="e32b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">样本平均值= 220.6945，这几乎与原始平均值 220.67 相似，样本标准偏差= 4.64426363765</p><p id="0841" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看样本的标准差和实际数据的标准差之间的关系。<br/>当我们用原始数据的标准差除以其大小时，</p><pre class="kj kk kl km gt nr no ns nt aw nu bi"><span id="a5da" class="mj mk it no b gy nv nw l nx ny">df.Weight.std()/np.sqrt(samp_size)</span></pre><p id="3061" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们得到上面代码的值= 4.86 <br/>，该值接近于<code class="fe nl nm nn no b">sample_means.std()</code>。</p><p id="a209" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，从上面的代码中，我们可以推断:</p><ul class=""><li id="7f55" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu nh mb mc md bi translated"><strong class="lb iu">抽样分布的均值</strong> (μₓ ) = <strong class="lb iu">总体均值</strong> (μ)</li><li id="ffa6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated">抽样分布的标准差(<strong class="lb iu">标准差</strong> ) = σ/√n</li></ul><p id="4e78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，我们已经看到“重量”栏的原始数据是正态分布的形式。让我们看看，即使原始数据不是正态分布，样本分布是否也是正态分布。</p><p id="1fc1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将采用另一个包含一些随机值的数据集，并将这些值绘制成分布图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="3f61" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据集和图表看起来像这样，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/9249555b47fa67c75edfb470b6f8edb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FbPm4sCXL6m10GBm1jutXA.jpeg"/></div></div></figure><p id="0bd1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所看到的，值列不像正态分布图。它看起来有点像指数分布。</p><p id="5a25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从这个分布中挑选样本，计算它们的平均值，并绘制出抽样分布图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="e5da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，样本的分布图看起来像这样，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/0f9aa85520d4b73dbcdf7e9ccd132f39.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*aZhVc7OeMGsgI_9oqr5_7g.jpeg"/></div></figure><p id="1853" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">令人惊讶的是，我们从 Values 列获得的 sample_means 的分布，虽然远非正态分布，但在很大程度上仍然是正态分布。</p><p id="2208" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们将<code class="fe nl nm nn no b">sample_means</code>平均值与其父平均值进行比较。</p><pre class="kj kk kl km gt nr no ns nt aw nu bi"><span id="5379" class="mj mk it no b gy nv nw l nx ny">sample_means.mean()<br/># The Output will be<br/>130.39213999999996</span><span id="fc3a" class="mj mk it no b gy oc nw l nx ny">df1.Value.mean()<br/>#The Output is<br/>130.4181654676259</span></pre><p id="29a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所看到的，<code class="fe nl nm nn no b">sample_means</code>的平均值和原始数据集的平均值都是相似的。</p><p id="161b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类似地，样本平均值的标准偏差是<code class="fe nl nm nn no b">sample_means.std()</code>= 13。38860 . 68868888861</p><p id="7ef0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那个值应该非常接近于<code class="fe nl nm nn no b">df1.Value.std()/np.sqrt(samp_size)</code>= 14。36860 . 68686868661</p><p id="fa58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们将每个数据集的分布图与其对应的采样分布进行比较。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/7e87eb975195fcd03c8d86fc0e025c7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JA0k-fmtrUF6Q_gch45rGg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="8722" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所见，无论原始数据集的分布如何，采样分布都类似于正态分布曲线。</p><p id="c41d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在只有一件事需要考虑，那就是样本量。我们将观察到，随着样本量的增加，抽样分布将更加接近正态分布。</p><h2 id="917f" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">样本量对抽样分布的影响</h2><p id="7c94" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">让我们创建不同大小的样本，并绘制相应的分布图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="b399" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，样本量为 3，10，30，50，100，200 的分布图看起来像这样，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/3b395ad8f9426a49b1140b8a0e5ab41e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kOnLkr9Hy_Rcpj-QBzUZiQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">不同样本量的分布</p></figure><p id="df5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所观察到的，样本量为 3 &amp; 10 的分布图不像正态分布。然而，从样本大小 30 来看，随着样本大小的增加，样本分布类似于正态分布。</p><p id="b5ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一个经验法则，我们可以说 30 或更大的样本量对于得出抽样分布接近正态的结论是理想的，并且可以从中得出进一步的推论。</p><p id="4e03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过这段 Python 代码，我们可以得出结论，CLT 的以下三个性质成立。</p><ol class=""><li id="4019" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">抽样分布均值<strong class="lb iu"> (μₓ ) </strong> =总体均值<strong class="lb iu"> (μ) </strong></li><li id="bdc9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">抽样分布的标准差(<strong class="lb iu">标准差</strong> ) = <strong class="lb iu"> σ/√n </strong></li><li id="f74f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">对于 n &gt; 30 </strong>，抽样分布变为<strong class="lb iu">正态分布</strong>。</li></ol><h2 id="4607" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">使用 CLT 估计平均值</h2><p id="c8f2" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">30000 名员工的平均通勤时间<strong class="lb iu"> (μ) </strong> = 36.6 ( <strong class="lb iu">样本均值</strong> ) +一定的<strong class="lb iu">误差幅度。我们可以利用 CLT(中心极限定理)找到这个误差范围。现在我们知道了 CLT 是什么，让我们看看如何找到误差范围。</strong></p><p id="4eda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们有 100 名员工的平均通勤时间是<strong class="lb iu"> X =36.6 分钟</strong>，样本的标准差是<strong class="lb iu"> S=10 分钟</strong>。利用 CLT，我们可以推断，</p><ol class=""><li id="8a64" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">抽样分布 Mean(μₓ ) =总体平均值(μ)</li><li id="09a7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">抽样分布标准偏差= σ/√n ≈S/√n = 10/√100 = 1</li><li id="7cdd" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">由于抽样分布是正态分布<br/>P(μ-2&lt;36.6&lt;μ+2)= 95.4%，我们通过正态分布曲线的 1–2–3 法则得到这个值。<br/>P(μ-2&lt;36.6&lt;μ+2)= P(36.6–2&lt;μ&lt;36.6+2)= 95.4%</li></ol><blockquote class="of"><p id="a3d1" class="og oh it bd oi oj ok ol om on oo lu dk translated">你可以在我的上一篇文章“T2 推断统计”中找到标准分布曲线、Z 表及其属性</p></blockquote><p id="a12b" class="pw-post-body-paragraph kz la it lb b lc op ju le lf oq jx lh li or lk ll lm os lo lp lq ot ls lt lu im bi translated">现在，我们可以说，总体均值(μ)有 95.4%的概率位于(36.6–2，36.6+2)之间。换句话说，我们有 95.4%的把握估计均值的误差≤ 2。</p><p id="9f64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，与索赔相关的概率被称为<strong class="lb iu">置信水平</strong>(这里是 95.4%)。<br/>样本均值的最大误差称为<strong class="lb iu">误差幅度</strong>(此处为 2 分钟)。<br/>值的最终区间称为<strong class="lb iu">置信区间</strong>{这里是:(34.6，38.6)}</p><p id="f7d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以用以下方式概括这个概念。</p><p id="86e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们有一个样本大小为 n、平均值为 X、标准偏差为 s 的样本。现在，μ的<strong class="lb iu"> y%置信区间</strong>(即对应于 y%置信水平的置信区间)将由以下范围给出:</p><p id="22e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">置信区间= (X — (Z* S/√n <strong class="lb iu"> ) </strong>，X + (Z* S/√n))</p><p id="4e07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中<strong class="lb iu"> Z*是与 y%置信水平</strong>相关联的 Z 分数。</p><p id="2bc3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面给出了一些常用的 Z*值:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/3213d5bdbd6f5eea18b4c8c79bfefd8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*ikV0nIa8mI2i9-8qjXHdJA.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd ov"> Z*值</strong></p></figure><p id="9d0a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是我们如何在样本的帮助下计算误差幅度和估计总体均值的方法。</p><h1 id="e747" class="ow mk it bd ml ox oy oz mo pa pb pc mr jz pd ka mu kc pe kd mx kf pf kg na pg bi translated">结论</h1><p id="1be9" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">正如我们所看到的，对于只有少量代表性的<strong class="lb iu">样本</strong>，找到<strong class="lb iu">均值</strong>和<strong class="lb iu">标准差</strong>是有益的。由于时间和资金的限制，我们可能不得不这样做。利用 CLT 性质，我们可以找到总体均值(μ)、标准误差(σ/√n)，以及最重要的置信区间(y%)。CLT 有利在<strong class="lb iu">民调结果与</strong>置信区间、保险、<strong class="lb iu">银行业等新闻上报道。这就是关于 CLT 及其属性以及它如何在数据科学中有用的全部内容。</strong></p><p id="348c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">感谢您阅读</strong>和<strong class="lb iu">快乐编码！！！</strong></p><h1 id="fb50" class="ow mk it bd ml ox oy oz mo pa pb pc mr jz pd ka mu kc pe kd mx kf pf kg na pg bi translated">在这里查看我以前关于 Python 的文章</h1><ul class=""><li id="cdd0" class="lv lw it lb b lc nc lf nd li ph lm pi lq pj lu nh mb mc md bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/inferential-statistics-data-analysis-e59adc75c6eb"> <strong class="lb iu">推断统计:数据分析</strong> </a></li><li id="0781" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/exploratory-data-analysis-eda-python-87178e35b14"> <strong class="lb iu">探索性数据分析(EDA): Python </strong> </a></li><li id="1c95" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/indexing-in-pandas-dataframe-using-python-63dcc6242323"> <strong class="lb iu">使用 Python 对熊猫数据帧进行索引</strong> </a></li><li id="64e6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/seaborn-python-8563c3d0ad41"> <strong class="lb iu"> Seaborn: Python </strong> </a></li><li id="4d4d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated"><a class="ae ky" href="https://levelup.gitconnected.com/pandas-python-e69f4829fee1" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">熊猫:蟒蛇</strong> </a></li><li id="4650" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated"><a class="ae ky" href="https://levelup.gitconnected.com/matplotlib-python-ecc7ba303848" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">Matplotlib:Python</strong></a></li><li id="9d81" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated"><a class="ae ky" href="https://medium.com/coderbyte/numpy-python-f8c8f2bbd13e" rel="noopener"> <strong class="lb iu"> NumPy: Python </strong> </a></li><li id="735c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated"><a class="ae ky" href="https://levelup.gitconnected.com/data-visualization-and-its-importance-python-7599c1092a09" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">数据可视化及其重要性:Python </strong> </a></li><li id="1d48" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated"><a class="ae ky" href="https://medium.com/swlh/time-complexity-and-its-importance-in-python-2b2ba03c786b" rel="noopener"><strong class="lb iu">Python 中的时间复杂度及其重要性</strong> </a></li></ul><h1 id="6f8a" class="ow mk it bd ml ox oy oz mo pa pb pc mr jz pd ka mu kc pe kd mx kf pf kg na pg bi translated">参考</h1><ul class=""><li id="5710" class="lv lw it lb b lc nc lf nd li ph lm pi lq pj lu nh mb mc md bi translated"><strong class="lb iu">中心极限定理讲解:</strong><a class="ae ky" href="https://statisticsbyjim.com/basics/central-limit-theorem/" rel="noopener ugc nofollow" target="_blank">https://statisticsbyjim.com/basics/central-limit-theorem/</a></li><li id="d493" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated"><strong class="lb iu">中心极限定理:</strong><a class="ae ky" href="https://en.wikipedia.org/wiki/Central_limit_theorem" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Central_limit_theorem</a></li><li id="636b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated"><strong class="lb iu">中心极限定理(CLT):</strong><a class="ae ky" href="https://www.investopedia.com/terms/c/central_limit_theorem.asp" rel="noopener ugc nofollow" target="_blank">https://www . investopedia . com/terms/c/Central _ Limit _ theory . ASP</a></li><li id="4e80" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nh mb mc md bi translated"><strong class="lb iu">什么是中心极限定理？:</strong><a class="ae ky" href="https://www.statisticshowto.com/probability-and-statistics/normal-distributions/central-limit-theorem-definition-examples/" rel="noopener ugc nofollow" target="_blank">https://www . statistics show to . com/probability-and-statistics/normal-distributions/central-limit-theory-definition-examples/</a></li></ul></div></div>    
</body>
</html>