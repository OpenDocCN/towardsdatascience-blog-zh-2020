<html>
<head>
<title>Introduction to Machine Translation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器翻译导论</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introduction-to-machine-translation-9cb0e93e7cb?source=collection_archive---------38-----------------------#2020-04-06">https://towardsdatascience.com/introduction-to-machine-translation-9cb0e93e7cb?source=collection_archive---------38-----------------------#2020-04-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="9c67" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从传统的机器学习到先进的深度学习方法</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/f2b488b99ccd581090a3731f2315df72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*auZtvVzbs5qQyaH6.jpg"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">来源:https://pixabay.com/</p></figure><p id="70ab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="lf">来源:</em> </strong> <em class="lf">我是跟随斯坦福大学关于深度学习的自然语言处理的课程后写的这篇文章。本课程在YouTube </em>  <em class="lf">上有</em> <a class="ae le" href="https://www.youtube.com/watch?v=XXtpJxZBa2c&amp;list=PLoROMvodv4rOhcuXMZkNm7j3fVwBBY42z&amp;index=8" rel="noopener ugc nofollow" target="_blank"> <em class="lf">的介绍，本文的大部分内容都来自于此。</em></a></p><p id="2709" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="lf">需求:</em> </strong> <em class="lf">在深入研究本文之前，我会建议你确保自己了解自然语言处理和深度学习的基础知识。如果你从未听说过解析或者单词嵌入，你可以阅读</em> <a class="ae le" href="https://www.analyticsvidhya.com/blog/2018/02/the-different-methods-deal-text-data-predictive-python/" rel="noopener ugc nofollow" target="_blank"> <em class="lf">这篇教程</em> </a> <em class="lf">。如果你从未听说过神经网络(尤其是递归神经网络)或反向传播，我建议你阅读这篇文章作为介绍。</em></p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h1 id="1aeb" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">介绍</h1><p id="789e" class="pw-post-body-paragraph jq jr it js b jt ml jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn im bi translated">我们亲爱的星球被7000多种语言所丰富，感谢科技，我们生活在一个越来越全球化的世界。翻译已经成为沟通的支柱，让人们可以建立各种联系。要真正了解翻译的重要性，这里有一个关键数字:<a class="ae le" href="https://www.blog.google/products/translate/ten-years-of-google-translate/" rel="noopener ugc nofollow" target="_blank">2015年，谷歌翻译每天处理1000亿个单词</a>。我们用机器翻译解决的范例如下:</p><p id="33be" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">给我们一个<strong class="js iu">源语言</strong>(比如法语)和一个<strong class="js iu">目标语言</strong>(姑且说英语)。我们的目标是将一个句子从源语言翻译成目标语言。</p><p id="2356" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从数学上来说，我们希望找到给定法语句子x的最佳英语句子y。这可以用概率来表示:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/4fb27c971af98c506205a90c1c86a3cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:472/format:webp/1*4-cSmi5yT9FDIyIR66t__A.png"/></div></figure><h1 id="2656" class="ln lo it bd lp lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk bi translated">传统机器学习翻译系统</h1><p id="8315" class="pw-post-body-paragraph jq jr it js b jt ml jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn im bi translated"><strong class="js iu">统计机器翻译(SMT) </strong>于90年代推出，试图从数据中学习概率模型。</p><p id="3346" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以使用贝叶斯法则分解我们试图求解的方程(见上文):</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/d32c031edb997c1601351f65d0305956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*PFXVdeWAH6yBQtRBQrwy6Q.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">使用贝叶斯规则的概率公式</p></figure><ul class=""><li id="39c0" class="mx my it js b jt ju jx jy kb mz kf na kj nb kn nc nd ne nf bi translated">P(x|y)被称为<strong class="js iu">翻译模型</strong>，在<strong class="js iu">平行语料库</strong>上训练。这个模型知道法语单词或英语单词如何相互翻译。</li><li id="c803" class="mx my it js b jt ng jx nh kb ni kf nj kj nk kn nc nd ne nf bi translated">P(y)被称为<strong class="js iu">语言模型</strong>，在纯英语语料库上训练。语言模型是一个可以预测下一个单词的系统。</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="ab gu cl nl"><img src="../Images/daccb32d3c613787899fc0f4607693fd.png" data-original-src="https://miro.medium.com/v2/0*UCgCTwlknBernB4a"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated"><em class="nm">法语和英语句子对齐的图示</em></p></figure><p id="cc0d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了训练翻译模型，我们正在寻找法语和英语表达之间的<strong class="js iu">对齐</strong>。这种排列(见图)远非微不足道。一个法语单词可以与一系列英语单词对齐(一对多对齐)，一系列法语单词也可以与一个英语单词对齐(多对一对齐)。经过许多步骤的构建，排列看起来像这样。</p><p id="0b4a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">等式的另一部分是通过语言模型获得的。对于每一个单词，你在目标语言中都有潜在的候选词。我们使用语言模型来选择听起来不错的候选词。</p><p id="b03b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">总结这些SMT模型，它们是好的系统，但极其复杂。它们一直使用到2014年，需要大量人力来维护。例如，你需要为你想翻译的所有语言建立一个对比表。</p><p id="4455" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">2014年，机器翻译界出现了深度学习。</p><h1 id="3ed9" class="ln lo it bd lp lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk bi translated">深度学习拯救世界</h1><p id="a603" class="pw-post-body-paragraph jq jr it js b jt ml jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn im bi translated"><strong class="js iu">神经机器翻译(NMT) </strong>是机器翻译领域的一次革命，主要是因为它使用了单一的神经网络架构。这种架构被称为序列到序列，涉及两个rnn:一个<strong class="js iu">编码器</strong>和一个<strong class="js iu">解码器</strong>。</p><p id="543f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">编码器RNN将产生源句子的编码，而解码器RNN是一个语言模型，根据编码产生目标句子。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nn"><img src="../Images/7b05ec0a2037ec6d251e67df2180eb8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fXLvcKFzSxOJ-pU_"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated"><em class="nm">一个基于RNN的翻译模型的图示</em></p></figure><p id="1bb0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">与SMT相反，这里我们直接计算P(y|x):</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi no"><img src="../Images/aaa1cfa45cfa52ad766f378f61d09bc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*Q9V8NT9e3C8BrhZ49lk90A.png"/></div></figure><p id="9849" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">每一项都是给定到目前为止翻译的单词和源句子x的下一个目标单词的概率。与SMT相比，这是一个很大的优势，因为这个过程很简单。</p><h1 id="214b" class="ln lo it bd lp lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk bi translated">消失/爆炸梯度问题</h1><p id="39fb" class="pw-post-body-paragraph jq jr it js b jt ml jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn im bi translated">在训练阶段，我们通过反向传播得到梯度。但在实践中，梯度下降并不是很有效，除非我们小心谨慎。问题是，我们需要学习长时间窗口内的依赖性，梯度可能会爆炸或消失。这个著名的问题发生在任何使用基于梯度的优化技术的网络中。更多详情，请参见本课程。</p><p id="951d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了解决这个问题，我们可以使用简单的技巧:</p><ul class=""><li id="dd6d" class="mx my it js b jt ju jx jy kb mz kf na kj nb kn nc nd ne nf bi translated"><strong class="js iu">渐变裁剪:</strong>基本上，我们通过重新缩放来防止渐变爆炸。</li><li id="b93e" class="mx my it js b jt ng jx nh kb ni kf nj kj nk kn nc nd ne nf bi translated"><strong class="js iu">输入反转:</strong>训练远距离依存关系非常困难，比如输入句子的第一个单词和输出句子的第一个单词之间。我们可以通过颠倒输入句子中单词的顺序来解决这个问题。这个原理用于双向rnn。</li><li id="3bcf" class="mx my it js b jt ng jx nh kb ni kf nj kj nk kn nc nd ne nf bi translated"><strong class="js iu">身份初始化:</strong>如果你的网络计算身份函数，梯度计算将非常稳定，因为雅可比矩阵就是身份矩阵。这表明，我们可以通过鼓励计算接近恒等函数来保持稳定。有了这个窍门，激活功能都恢复了。</li></ul><p id="92a8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">或者，我们也可以改变编码器/解码器rnn的架构:</p><ul class=""><li id="9402" class="mx my it js b jt ju jx jy kb mz kf na kj nb kn nc nd ne nf bi translated"><strong class="js iu">长-短时记忆(LSTM): </strong> <br/>它使用4个门，旨在使长时间记忆信息变得容易，直到需要为止。<strong class="js iu"> </strong>阅读<a class="ae le" href="http://colah.github.io/posts/2015-08-Understanding-LSTMs/" rel="noopener ugc nofollow" target="_blank">这篇文章</a>了解更多关于LSTM的信息。</li><li id="8c4e" class="mx my it js b jt ng jx nh kb ni kf nj kj nk kn nc nd ne nf bi translated"><strong class="js iu">门控递归单元(GRU): </strong> <br/> GRU是LSTM的一个更简单的变体，用于解决消失梯度问题。它使用两个门。<a class="ae le" rel="noopener" target="_blank" href="/understanding-gru-networks-2ef37df6c9be">详见本文</a>。与LSTM相比，GRU的参数更少，因此计算效率更高，需要的数据更少。</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi np"><img src="../Images/0cc6edb25d8e12be593b9efa4631ea22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*S1rJyaEruh1EmT85"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">GRU插图— <a class="ae le" href="https://www.analyticsvidhya.com/blog/2017/12/introduction-to-recurrent-neural-networks/gru/" rel="noopener ugc nofollow" target="_blank">图像来源</a></p></figure><h1 id="b528" class="ln lo it bd lp lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk bi translated">BLEU:评估翻译的分数</h1><p id="e03f" class="pw-post-body-paragraph jq jr it js b jt ml jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn im bi translated">一般来说，在机器学习中，评估算法的性能非常简单。然而，当涉及到翻译时，问题要复杂得多。BLEU(双语评估替读)是一种用于评估机器翻译文本质量的算法。它将机器翻译与一个或几个人工翻译进行比较，并计算0到1之间的相似性得分。完全匹配的得分为1，而完全不匹配的得分为0。BLEU评分是当今最常用的基准指标。尽管这一指标并不完美，但它具有易于解释和计算的优点。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nq"><img src="../Images/d88bc8157b44d0ff8bf79260e1d38299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*k3Qy4EZmcvA1d7Db"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">布雷特·乔丹在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="9152" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是BLEU score面临一个主要问题:它是不可微的，因此基于梯度的优化方法不能直接应用。在训练阶段的优化损失和测试阶段的评估标准之间存在不匹配。</p><h1 id="e913" class="ln lo it bd lp lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk bi translated">神经机器翻译在统计翻译上的五大胜利:</h1><ol class=""><li id="0db8" class="mx my it js b jt ml jx mm kb nr kf ns kj nt kn nu nd ne nf bi translated">单个神经网络的端到端训练。所有参数都被优化以最小化网络输出的损失函数。</li><li id="bf4e" class="mx my it js b jt ng jx nh kb ni kf nj kj nk kn nu nd ne nf bi translated">分布式表示允许更好地利用单词和短语的相似性。</li><li id="1b92" class="mx my it js b jt ng jx nh kb ni kf nj kj nk kn nu nd ne nf bi translated">更好地利用上下文。</li><li id="2450" class="mx my it js b jt ng jx nh kb ni kf nj kj nk kn nu nd ne nf bi translated">更流畅的文本生成。</li><li id="16b9" class="mx my it js b jt ng jx nh kb ni kf nj kj nk kn nu nd ne nf bi translated">需要更少的人工工程。以前，单词和短语在很大程度上是独立翻译的，现在我们将整个输入句子视为一个翻译单元</li></ol><h1 id="a9c6" class="ln lo it bd lp lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk bi translated">还有两个缺点</h1><ol class=""><li id="82f3" class="mx my it js b jt ml jx mm kb nr kf ns kj nt kn nu nd ne nf bi translated"><strong class="js iu">隐藏表示的固定尺寸</strong>。编码器的最后一个向量必须捕捉句子的全部含义。这在大句子的情况下可能是个问题。此外，输入的一个单词可能需要更多的关注，因为它对翻译有影响。我们将看到注意力机制如何解决这个问题。</li><li id="b499" class="mx my it js b jt ng jx nh kb ni kf nj kj nk kn nu nd ne nf bi translated"><strong class="js iu">没有零炮翻译。</strong>只有系统在训练阶段发现两种语言之间的翻译，才能进行翻译。这个问题被谷歌的多语言神经机器翻译系统解决了。</li></ol><h1 id="ea80" class="ln lo it bd lp lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk bi translated">注意机制:</h1><p id="fb3d" class="pw-post-body-paragraph jq jr it js b jt ml jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn im bi translated">我们让模型学习如何为每个输出时间步长生成一个上下文向量，而不是将输入序列编码成一个固定的上下文向量(即。每个单词)。一个评分功能会对编码器RNN产生的每个位置进行评分，并指出应该注意的地方。这允许解码器网络<strong class="js iu">“聚焦”在编码器输出的特定部分</strong>。</p><p id="0c93" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意力显著提高了NMT的表现。另一个优点是，由于注意力的分布，它提供了可解释性。</p><p id="b9f9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这种架构用于谷歌神经机器翻译系统的核心，或GNMT:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="ab gu cl nl"><img src="../Images/55177f58a05a09a4f2e70df9e90f40a7.png" data-original-src="https://miro.medium.com/v2/0*sIwNNbzCWVv9UPZY.gif"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">注意机制图解—来源:<a class="ae le" href="https://ai.googleblog.com/2016/09/a-neural-network-for-machine.html" rel="noopener ugc nofollow" target="_blank">https://ai . Google blog . com/2016/09/a-neural-network-for-machine . html</a></p></figure><h1 id="8a5e" class="ln lo it bd lp lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk bi translated"><strong class="ak">谷歌的多语言神经机器翻译系统</strong></h1><p id="4497" class="pw-post-body-paragraph jq jr it js b jt ml jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn im bi translated">为了解决零镜头翻译问题，GMNMT引入了一个简单的数据调整，即在原始的神经机器翻译架构中添加一个人工令牌来指示所需的目标语言。</p><p id="5f2d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">假设我们用Japanese⇄English和Korean⇄English的例子训练了一个多语言系统，如动画中的蓝色实线所示。我们能在系统从未见过的语言对之间进行翻译吗？这方面的一个例子是朝鲜语和日语之间的翻译，其中Korean⇄Japanese的例子不向系统显示。令人印象深刻的是，答案是肯定的。它可以生成合理的Korean⇄Japanese译文，尽管从未有人教过它这么做。我们称之为“零镜头”翻译，如动画中黄色虚线所示。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nv nw l"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">插图零投学习—来源:<a class="ae le" href="https://ai.googleblog.com/2016/11/zero-shot-translation-with-googles.html" rel="noopener ugc nofollow" target="_blank">https://ai . Google blog . com/2016/11/Zero-shot-translation-with-Google . html</a></p></figure><h1 id="378d" class="ln lo it bd lp lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk bi translated">结论</h1><p id="f2cf" class="pw-post-body-paragraph jq jr it js b jt ml jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn im bi translated">机器翻译介绍到此结束，希望你喜欢这篇文章！机器翻译是一个很有意思的领域，绝不是解决了。在我们能够翻译的语言的多样性以及翻译的质量方面仍有改进的余地。</p></div></div>    
</body>
</html>