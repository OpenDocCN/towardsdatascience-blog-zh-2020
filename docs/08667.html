<html>
<head>
<title>Introduction to Datapane: A Python Library to Build Interactive Reports</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Datapane 简介:构建交互式报表的 Python 库</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introduction-to-datapane-a-python-library-to-build-interactive-reports-4593fd3cb9c8?source=collection_archive---------6-----------------------#2020-06-23">https://towardsdatascience.com/introduction-to-datapane-a-python-library-to-build-interactive-reports-4593fd3cb9c8?source=collection_archive---------6-----------------------#2020-06-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c9ae" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建精美报告并与您的团队分享分析结果的简单框架</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/711d77765dfb152f12a71b1c79ba9c8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9bf1M8rfRpdQFxT9"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@claybanks?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">克莱班克斯</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><h1 id="d9ee" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">动机</h1><p id="bf35" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">对于许多 Python 数据分析，有时您希望与其他人共享您的发现。展示您的工作将有助于您的团队和经理了解您的最新进展，并在您的网络中树立您作为数据科学家的声誉。我在这篇文章中提到了分享我的工作如何影响了我的职业生涯:</p><div class="mn mo gp gr mp mq"><a rel="noopener follow" target="_blank" href="/how-to-learn-data-science-when-life-does-not-give-you-a-break-a26a6ea328fd"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd iu gy z fp mv fr fs mw fu fw is bi translated">当生活不给你喘息的机会，如何学习数据科学</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">我努力为数据科学贡献时间。但是发现新的策略使我能够提高我的学习速度和…</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">towardsdatascience.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne ks mq"/></div></div></a></div><p id="9edf" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">但是仅仅分享是不够的。比方说，在清理完数据并创建了一些用于分析的图表后，您希望与他人分享您的发现。<strong class="lt iu">您最不想做的事情</strong>是与非技术人员(如您的利益相关者)分享整个代码或笔记本，并要求他们<strong class="lt iu">安装 Jupyter 笔记本和所需的环境，以查看您的发现</strong>，如下所示:</p><p id="6dfd" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">“就是这个。ipynb 文件。要查看这个文件，你需要<code class="fe nk nl nm nn b">pip install</code>这些包。然后在 Jupyter 笔记本的命令行上键入。一旦你看到笔记本，运行所有的细胞，你应该能够看到数据和可视化”。</p><p id="8ac7" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">作为一种替代方法，您可以拍摄可视化效果的图片并将其放在一个面板中，但是查看者将无法对可视化效果进行太多的控制-他们将无法以交互方式使用它、浏览任何数据或更改输入参数。此外，每次他们需要更改时，您都必须手动创建另一个报告。</p><p id="1a69" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">最佳策略是<strong class="lt iu">共享特定的面向用户的部分，而不设置环境</strong>。如果你能给他们发一个类似于<a class="ae ky" href="https://datapane.com/khuyen/reports/financial_report_c5d5ffb4/" rel="noopener ugc nofollow" target="_blank"> this </a>的链接给你的队友或利益相关者，那不是很好吗</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/39f6fd5633af3aa526493a974902c9b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*u_7nLPQ7e7bjaI6lUOmSGA.png"/></div></figure><p id="6b0c" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">在一个地方查看您的所有调查结果？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/eab7463d1e548714a12c068f9fb23024.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dXtSmPlKacbsCPY9hpzAQw.png"/></div></div></figure><p id="fdeb" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">这时你需要一个像 Datapane 这样的 Python 框架。</p><h1 id="c2be" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">什么是 Datapane？</h1><p id="bbe1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><a class="ae ky" href="https://datapane.com/" rel="noopener ugc nofollow" target="_blank"> Datapane </a>是一个 API <strong class="lt iu">，面向用 Python 分析数据并需要一种方式来共享他们的结果的人</strong>。它提供了一种通过组件以编程方式创建报告的方法，这些组件包装了分析中的通用对象，例如:</p><ul class=""><li id="011f" class="nq nr it lt b lu nf lx ng ma ns me nt mi nu mm nv nw nx ny bi translated"><a class="ae ky" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank">熊猫数据帧</a></li><li id="cc4f" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm nv nw nx ny bi translated">来自 Python 可视化库的绘图，如<a class="ae ky" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank"> Plotly </a>、<a class="ae ky" href="https://bokeh.org/" rel="noopener ugc nofollow" target="_blank"> Bokeh </a>、<a class="ae ky" href="https://altair-viz.github.io/" rel="noopener ugc nofollow" target="_blank"> Altai </a> r、<a class="ae ky" href="https://python-visualization.github.io/folium/quickstart.html" rel="noopener ugc nofollow" target="_blank">leave</a></li><li id="2ea6" class="nq nr it lt b lu nz lx oa ma ob me oc mi od mm nv nw nx ny bi translated">降价</li></ul><p id="0677" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">创建后，报告可以发布到 web 上，在云中动态生成，或者嵌入到您自己的应用程序中，在那里可以浏览数据，并可以交互地使用可视化</p><p id="405a" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">Datapane 还允许您部署您的 Python 脚本和笔记本，以便其他人可以从他们的浏览器运行它们来生成报告，而不用担心代码、笔记本或设置 Python 环境。</p><h1 id="6d6f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">我们来试试吧！</h1><p id="641e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">假设你有一个这样的脚本，有熊猫数据帧和牛郎星图</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="23c1" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">要创建报告，只需遵循以下步骤</p><ul class=""><li id="76a7" class="nq nr it lt b lu nf lx ng ma ns me nt mi nu mm nv nw nx ny bi translated">安装数据面板</li></ul><pre class="kj kk kl km gt og nn oh oi aw oj bi"><span id="feac" class="ok la it nn b gy ol om l on oo">pip3 install datapane</span></pre><ul class=""><li id="7d41" class="nq nr it lt b lu nf lx ng ma ns me nt mi nu mm nv nw nx ny bi translated">在<a class="ae ky" href="https://datapane.com/" rel="noopener ugc nofollow" target="_blank"> Datapane </a>上注册以获得您自己的令牌，并使用该令牌在您的终端上登录 Datapane</li></ul><pre class="kj kk kl km gt og nn oh oi aw oj bi"><span id="9a23" class="ok la it nn b gy ol om l on oo">datapane login --server=https://datapane.com/ --token=yourtoken</span></pre><ul class=""><li id="9a24" class="nq nr it lt b lu nf lx ng ma ns me nt mi nu mm nv nw nx ny bi translated">然后只需在您现有的分析中添加几行代码！</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="1e39" class="nq nr it lt b lu nf lx ng ma ns me nt mi nu mm nv nw nx ny bi translated">运行脚本，瞧！一份关于 Datapane.com 的报告将自动为您创建！</li></ul><p id="4bb1" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated"><a class="ae ky" href="https://datapane.com/khuyen/reports/stock_report_9eddadcd/" rel="noopener ugc nofollow" target="_blank">https://datapane.com/khuyen/reports/stock_report_9eddadcd/</a></p><p id="da99" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">就是这样！现在你需要做的就是把这个链接分享给你的队友或经理</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/39f6fd5633af3aa526493a974902c9b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*u_7nLPQ7e7bjaI6lUOmSGA.png"/></div></figure><p id="c5b3" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">或者在社交媒体上分享</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi op"><img src="../Images/4c0aad906b0d2c40e99fa3ddcd623818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*WoDGIThtPw0z1sQOkJRfXQ.png"/></div></figure><h1 id="8123" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">我还可以用 Datapane 做什么？</h1><h2 id="1bb3" class="ok la it bd lb oq or dn lf os ot dp lj ma ou ov ll me ow ox ln mi oy oz lp pa bi translated">允许观众输入新参数</h2><p id="4a4c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">你不仅想让观众看到你的报告，你可能还想让他们能够与图表互动，并插入不同的参数，如<a class="ae ky" href="https://datapane.com/leo/scripts/startup_calculator/" rel="noopener ugc nofollow" target="_blank">和</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pb of l"/></div></figure><p id="fd0e" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">有了 Datapane，其他人可以生成您的报告，而不用担心代码、笔记本或设置 Python 环境。他们可以<strong class="lt iu">输入他们想要指定的参数</strong>作为输入，并且每次将接收到一个<strong class="lt iu">动态报告</strong>。</p><p id="9623" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">要部署名为<code class="fe nk nl nm nn b">stock_report.py</code>的脚本，创建如上所示的脚本，然后使用 Datapane 的 CLI:</p><pre class="kj kk kl km gt og nn oh oi aw oj bi"><span id="7aa8" class="ok la it nn b gy ol om l on oo">datapane script deploy --script=<!-- -->stock_report<!-- -->.py --name=<!-- -->stock_report</span></pre><p id="d5cf" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">关于如何部署脚本<a class="ae ky" href="https://docs.datapane.com/tutorials/tut-deploying-a-script" rel="noopener ugc nofollow" target="_blank">的更多说明，请参见这里的</a>。</p><h2 id="69d7" class="ok la it bd lb oq or dn lf os ot dp lj ma ou ov ll me ow ox ln mi oy oz lp pa bi translated">在社交平台中嵌入报告</h2><p id="5fca" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果你是一个像我一样的中型作家或博客作者，你可能想嵌入一个表格或一个如下的图:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pc of l"/></div></figure><p id="622c" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">有了 Datapane，你可以通过简单地复制和粘贴 Datapane 上发布的 url 来将你的图表嵌入到 Medium 中。你也可以把它们嵌入到 Reddit、Confluence、opinion 或者你自己的网站中。</p><h2 id="f0c2" class="ok la it bd lb oq or dn lf os ot dp lj ma ou ov ll me ow ox ln mi oy oz lp pa bi translated">将文件和对象存储在数据面板上，以便在多个脚本中使用</h2><p id="a0dd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Datapane 提供了一个 Blob API，允许您从任何 Python 或 CLI 环境中上传文件，并在您的脚本中或通过 CLI 访问它们。</p><p id="0f1b" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">假设您可以使用<code class="fe nk nl nm nn b">dp.Blob </code>将数据帧、文件或对象保存在<code class="fe nk nl nm nn b">blob.py</code>中，使用</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="d056" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">然后，如果您想在另一个脚本中加载它们，请使用</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><h2 id="1a08" class="ok la it bd lb oq or dn lf os ot dp lj ma ou ov ll me ow ox ln mi oy oz lp pa bi translated">从报告中下载表格和图表</h2><p id="041d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果您的查看者想要下载您的表格或图表，他们可以通过报表中的 download 按钮轻松完成。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pd of l"/></div></figure><h1 id="eeba" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="5e22" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">恭喜你！您刚刚学习了一个新工具，它将与您喜欢的其他 Python 库一起添加到您的数据科学工作流中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="63a8" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">我希望这篇文章为您试用 Datapane 提供了一个良好的开端。你可以在这里了解更多关于数据面板<a class="ae ky" href="https://datapane.com/" rel="noopener ugc nofollow" target="_blank">的信息。如果您对这个工具有任何疑问，请在下面评论或在</a><a class="ae ky" href="https://www.linkedin.com/in/khuyen-tran-1401/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上给我发消息。</p><p id="47f6" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">我喜欢写一些基本的数据科学概念，并尝试不同的算法和数据科学工具。你可以在 LinkedIn 和 Twitter 上与我联系。</p><p id="f24c" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">如果你想查看我写的所有文章的代码，请点击这里。在 Medium 上关注我，了解我的最新数据科学文章，例如:</p><div class="mn mo gp gr mp mq"><a rel="noopener follow" target="_blank" href="/how-to-create-interactive-and-elegant-plot-with-altair-8dd87a890f2a"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd iu gy z fp mv fr fs mw fu fw is bi translated">如何用 Altair 创建交互式剧情</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">在 5 行简单的 Python 代码中利用您的数据分析</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">towardsdatascience.com</p></div></div><div class="mz l"><div class="pe l nb nc nd mz ne ks mq"/></div></div></a></div><div class="mn mo gp gr mp mq"><a rel="noopener follow" target="_blank" href="/how-to-create-an-interactive-startup-growth-calculator-with-python-d224816f29d5"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd iu gy z fp mv fr fs mw fu fw is bi translated">如何用 Python 创建一个交互式创业成长计算器</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">使用 Python 为您的创业构建实用的度量</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">towardsdatascience.com</p></div></div><div class="mz l"><div class="pf l nb nc nd mz ne ks mq"/></div></div></a></div><div class="mn mo gp gr mp mq"><a rel="noopener follow" target="_blank" href="/how-to-find-the-nearest-hospital-with-voronoi-diagram-63bd6d0b7b75"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd iu gy z fp mv fr fs mw fu fw is bi translated">如何用 Voronoi 图找到最近的医院</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">给定一个美国医院的大数据集，我们如何快速找到最近的医院？</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">towardsdatascience.com</p></div></div><div class="mz l"><div class="pg l nb nc nd mz ne ks mq"/></div></div></a></div><div class="mn mo gp gr mp mq"><a rel="noopener follow" target="_blank" href="/how-to-organize-your-data-science-articles-with-github-b5b9427dad37"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd iu gy z fp mv fr fs mw fu fw is bi translated">如何用 Github 组织你的数据科学文章</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">被新信息淹没？现在，您可以轻松地跟踪文章并为其创建自定义注释</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">towardsdatascience.com</p></div></div><div class="mz l"><div class="ph l nb nc nd mz ne ks mq"/></div></div></a></div></div></div>    
</body>
</html>