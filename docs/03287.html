<html>
<head>
<title>Text Mining Comments of “A Plan to Get America Back to Work”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">“让美国重返工作岗位的计划”的文本挖掘评论</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/text-ming-comments-of-a-plan-to-get-america-back-to-work-ba82a843ebe7?source=collection_archive---------16-----------------------#2020-03-29">https://towardsdatascience.com/text-ming-comments-of-a-plan-to-get-america-back-to-work-ba82a843ebe7?source=collection_archive---------16-----------------------#2020-03-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/c0e24a7d85985941222083026943b375.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J3mz6DGzniSnl-semMK0Yg.jpeg"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">戴夫·米库达在<a class="ae jd" href="https://unsplash.com/s/photos/new-york-busy?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class=""/><div class=""><h2 id="1968" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">经济，公共卫生，冠状病毒，NLP</h2></div><p id="c4ca" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">上周,<a class="ae jd" href="https://www.nytimes.com/by/thomas-l-friedman" rel="noopener ugc nofollow" target="_blank"> <strong class="kx jh">、托马斯·L·弗里德曼</strong></a><strong class="kx jh"/>在《纽约时报》<a class="ae jd" href="https://www.nytimes.com/" rel="noopener ugc nofollow" target="_blank"/>上发表的一篇文章引起了我的兴趣:“让美国重返工作岗位的计划”。它提倡对新冠肺炎疫情采取数据驱动的方法:也就是说，限制冠状病毒的感染和死亡人数，同时根据最佳数据和专家建议，最大限度地加快我们安全地让工人重返工作场所的速度。</p><p id="d1a7" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在另一篇专栏文章中，他提供了如何逐步完成这一任务的详细计划。</p><p id="b551" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我很想知道他的读者是如何看待这件事的，所以我决定对这个专栏的评论做一个文本分析:<a class="ae jd" href="https://www.nytimes.com/2020/03/22/opinion/coronavirus-economy.html" rel="noopener ugc nofollow" target="_blank">一个让美国恢复工作的计划</a>。在我准备这篇文章的时候，我已经得到了 1000 多条评论。<a class="ae jd" href="https://raw.githubusercontent.com/susanli2016/NLP-with-Python/master/data/comment_backToWork.csv" rel="noopener ugc nofollow" target="_blank">数据</a>可以在<a class="ae jd" href="https://raw.githubusercontent.com/susanli2016/NLP-with-Python/master/data/comment_backToWork.csv" rel="noopener ugc nofollow" target="_blank">这里</a>找到，随意摆弄。</p><h2 id="0c96" class="lr ls jg bd lt lu lv dn lw lx ly dp lz le ma mb mc li md me mf lm mg mh mi mj bi translated">数据预处理</h2><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">comment_preprocessing.py</p></figure><figure class="mk ml mm mn gt is gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/aa6531c8e7b6f57ef98d5fe3a7e8c646.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*3AkACW7oLm3PuLCa0DSS6Q.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 1</p></figure><ul class=""><li id="2b3e" class="mr ms jg kx b ky kz lb lc le mt li mu lm mv lq mw mx my mz bi translated">在 state 列中，有些是完整的州名，有些是缩写。我们将把它们转换成缩写。</li><li id="afcc" class="mr ms jg kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">一些用户没有标明他们来自哪个州，只标明美国。来自加拿大任何一个省的用户都会被归类到加拿大。</li><li id="1b1d" class="mr ms jg kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">下面这段代码是从<a class="ae jd" href="https://gist.github.com/rogerallen/1583593" rel="noopener ugc nofollow" target="_blank"> Python 字典里借来的，用来把美国各州翻译成两个字母的代码</a>。</li></ul><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">state_abbrev.py</p></figure><p id="abbd" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">电子设计自动化(Electronic Design Automation)</p><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">state_group.py</p></figure><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nf"><img src="../Images/69ccfcc0bc65c57b6fe4f565cfe92394.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZWnmOSulTZ309T1hq-bxXg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 2</p></figure><p id="7612" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">加州有最多的读者在评论区发表意见，紧随其后的是纽约。马萨诸塞州、宾夕法尼亚州和新泽西州稍微落后一些。</p><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">comment_len.py</p></figure><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ng"><img src="../Images/b64dfa43405b6838ef07eef090bc90ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*stC-fR55LGAW5Siwo9nTkA.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 3</p></figure><ul class=""><li id="732b" class="mr ms jg kx b ky kz lb lc le mt li mu lm mv lq mw mx my mz bi translated">在上面的分布图中，我们可以看到评论长度是一个右螺旋分布，在平均值的两边有很多峰值。</li><li id="f2f3" class="mr ms jg kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">概率密度峰值在 50 个词左右。然而，一些评论可以短到不到 10 个字，而另一些评论可以长到略少于 300 个字。</li></ul><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">注释 _ 状态 _ 长度. py</p></figure><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nh"><img src="../Images/ca0be23adeff4ccfafbd8f9a0387ee24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WCywDj6Ac_nyLpX_XBbyLQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 4</p></figure><p id="9264" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">前五个州的评论长度分布非常相似。</p><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">comment_word.py</p></figure><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ni"><img src="../Images/cfdc845a9f0ffedc98541ff5dc2c8a91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G2gBxSPH8R-xtRdydnnQow.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 5</p></figure><p id="2b70" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">不出意外，评论中最常用的词是“人、病毒、经济”等等。</p><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">comment_bigram.py</p></figure><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nj"><img src="../Images/b19f0d9d45905881fbadc15f83228bed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d9ouWxLOyD0xFtyF3bsXBA.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 5</p></figure><ul class=""><li id="bbf6" class="mr ms jg kx b ky kz lb lc le mt li mu lm mv lq mw mx my mz bi translated">从评论中的热门人物，我们可以看到，人们普遍更关心的是健康而不是经济。</li><li id="ead1" class="mr ms jg kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">他们中的一些人认为这种方法是群体免疫。</li><li id="5f54" class="mr ms jg kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">他们中的一些人羡慕韩国的成功。</li><li id="2eb7" class="mr ms jg kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">他们中的许多人表达了他们对疾病致死率的不确定性。</li></ul><p id="0f73" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们将使用<a class="ae jd" href="https://textblob.readthedocs.io/en/dev/" rel="noopener ugc nofollow" target="_blank"> TextBlob </a>来计算情绪极性，该极性位于[-1，1]的范围内，其中 1 表示积极情绪，-1 表示消极情绪。</p><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">comment_polarity.py</p></figure><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nk"><img src="../Images/e4f05a9d765d63d54f57664e72057d05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*edq1IZTwd3Vd_iAXOZrHqQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 6</p></figure><ul class=""><li id="4e57" class="mr ms jg kx b ky kz lb lc le mt li mu lm mv lq mw mx my mz bi translated">从上面的图中，我们可以看到情绪极性分布看起来接近正态分布。</li><li id="66ff" class="mr ms jg kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">还有一个接近 0 的显著峰值，和另一个接近 0.1 的峰值。这表明评论一般倾向于使用简单的语言。</li><li id="af29" class="mr ms jg kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">平均情绪极性为 0.077，处于低位。</li></ul><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">polarity_state.py</p></figure><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nl"><img src="../Images/836c8c1a26b08dc2e2d47c015fb607cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*STvzxlPzjUlm7m-R1n6fFQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 7</p></figure><p id="9712" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">看起来新泽西州读者的情绪极性分布有点偏左。</p><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">avg_polarity.py</p></figure><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nm"><img src="../Images/30f5418d6767ac047cb07468fa7fc35f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EbwNmA3Cj97GHVJBvBLNAQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 8</p></figure><p id="562b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">果然，新泽西州读者的评论平均情绪极性得分最低。在某种程度上，我们在新泽西没有纽约或加州那么多的读者评论。</p><h2 id="9496" class="lr ls jg bd lt lu lv dn lw lx ly dp lz le ma mb mc li md me mf lm mg mh mi mj bi translated">Word2vec</h2><p id="18cf" class="pw-post-body-paragraph kv kw jg kx b ky nn kh la lb no kk ld le np lg lh li nq lk ll lm nr lo lp lq ij bi translated">我们将使用<a class="ae jd" href="https://radimrehurek.com/gensim/models/word2vec.html" rel="noopener ugc nofollow" target="_blank"> Gensim </a>来训练 word2vec 嵌入评论。关于每行代码如何工作的详细解释可以在<a class="ae jd" rel="noopener" target="_blank" href="/understanding-word2vec-embedding-in-practice-3e9b8985953">另一篇文章</a>中找到。</p><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">comment_w2v.py</p></figure><p id="b271" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，我们可以试着找出与“人”最相似的词:</p><pre class="mk ml mm mn gt ns nt nu nv aw nw bi"><span id="3ff2" class="lr ls jg nt b gy nx ny l nz oa">w2v_model.wv.most_similar(positive=['people'])</span></pre><figure class="mk ml mm mn gt is gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/1c6213604ea8ff4114f184e5b9acedb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*UZvDGgDyNIZMRCDifR4Zlw.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 9</p></figure><p id="7d8d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">找出与“病毒”最相似的单词:</p><pre class="mk ml mm mn gt ns nt nu nv aw nw bi"><span id="88c3" class="lr ls jg nt b gy nx ny l nz oa">w2v_model.wv.most_similar(positive=['virus'])</span></pre><figure class="mk ml mm mn gt is gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/da4c515c268de3de343a4e7c1878a4ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*s0oTz6YKsEGBfBsWzwly3g.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 10</p></figure><p id="d61f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">找出与“经济”最相似的单词:</p><pre class="mk ml mm mn gt ns nt nu nv aw nw bi"><span id="1e65" class="lr ls jg nt b gy nx ny l nz oa">w2v_model.wv.most_similar(positive=['economy'])</span></pre><figure class="mk ml mm mn gt is gh gi paragraph-image"><div class="gh gi od"><img src="../Images/51c0a2addc111da53837cfc7a0d68bf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/format:webp/1*3A8c2hYgK0NJCiDVV7jtVg.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 11</p></figure><p id="ef4d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有趣的是，“健康”和“经济”之间有多么相似:</p><pre class="mk ml mm mn gt ns nt nu nv aw nw bi"><span id="2875" class="lr ls jg nt b gy nx ny l nz oa">w2v_model.wv.similarity('health', 'economy')</span></pre><figure class="mk ml mm mn gt is gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/2e4ae1a6873e51d51aea9017229256a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:312/format:webp/1*Bib2uekKNw8jIEQIeVtAag.png"/></div></figure><h1 id="9885" class="of ls jg bd lt og oh oi lw oj ok ol lz km om kn mc kp on kq mf ks oo kt mi op bi translated">主成分分析</h1><p id="7e03" class="pw-post-body-paragraph kv kw jg kx b ky nn kh la lb no kk ld le np lg lh li nq lk ll lm nr lo lp lq ij bi translated">PCA 是一种降维方法，它采用几个维度的向量并将其压缩成一个更小的向量，同时保留原始向量中的大部分信息。</p><p id="b2a9" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们将使用 PCA 来可视化以下 12 个关键词向量。</p><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">comment_pca.py</p></figure><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oq"><img src="../Images/88fa81330de48d479e774f0183a07d6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CxcCWehz2f5_KogndfjF4w.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 12</p></figure><ol class=""><li id="2e9a" class="mr ms jg kx b ky kz lb lc le mt li mu lm mv lq or mx my mz bi translated">“经济”、“工作”、“风险”、“传染”等词汇在情节底部形成一簇，表示它们经常一起使用。这是有道理的，因为经济与人们承担被感染的风险密切相关。</li><li id="b2c7" class="mr ms jg kx b ky na lb nb le nc li nd lm ne lq or mx my mz bi translated">“健康”和“护理”这两个词都在图的右端，因为它们经常一起使用。</li><li id="d90e" class="mr ms jg kx b ky na lb nb le nc li nd lm ne lq or mx my mz bi translated">“接近”、“测试”、“病毒”和“需要”这几个词在剧情中间形成一簇，表示它们经常一起使用。</li></ol><h2 id="6d5d" class="lr ls jg bd lt lu lv dn lw lx ly dp lz le ma mb mc li md me mf lm mg mh mi mj bi translated">结束了</h2><ul class=""><li id="f767" class="mr ms jg kx b ky nn lb no le os li ot lm ou lq mw mx my mz bi translated">综上所述，许多发表意见的读者认为，为了实施这样一个恢复工作的计划，需要进行积极的大规模测试作为基础。</li><li id="2174" class="mr ms jg kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">许多发表意见的读者认为该计划可能会将人们置于危险之中。</li><li id="bc3e" class="mr ms jg kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">鉴于目前的情况，大多数发表意见的读者听起来并不乐观或积极。</li></ul><p id="5b68" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae jd" href="https://github.com/susanli2016/NLP-with-Python/blob/master/Comment_backToWork.ipynb" rel="noopener ugc nofollow" target="_blank"> Jupyter 笔记本</a>可以在 GitHub 上找到。保持安全和健康。</p></div></div>    
</body>
</html>