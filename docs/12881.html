<html>
<head>
<title>A Practical Guide for Data Visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据可视化实用指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-practical-guide-for-data-visualization-9f1a87c0a4c2?source=collection_archive---------26-----------------------#2020-09-04">https://towardsdatascience.com/a-practical-guide-for-data-visualization-9f1a87c0a4c2?source=collection_archive---------26-----------------------#2020-09-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="95d5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Matplotlib 和 Seaborn 的关系图、分类图和分布图。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bfcaf2dc5496d22ed354dad0f820a4dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T-S7AA8g0awMdYaMaoBLpw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">JOSHUA COLEMAN 在<a class="ae ky" href="https://unsplash.com/s/photos/visual?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="8990" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">探索性数据分析(EDA)是数据科学或机器学习管道的重要组成部分。为了使用数据创建健壮且有价值的产品，您需要探索数据，理解变量之间的关系以及数据的底层结构。EDA 中最有效的工具之一是数据可视化。</p><p id="1c1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据可视化告诉我们的远不止简单的数字。它们也更容易粘在你的头上。在本帖中，我们将尝试利用可视化的力量探索一个<a class="ae ky" href="https://www.kaggle.com/sonalidasgupta95/churn-prediction-of-bank-customers" rel="noopener ugc nofollow" target="_blank">客户流失数据集</a>。</p><p id="6a99" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将创建许多不同的可视化，并在每一个上尝试引入 Matplotlib 或 Seaborn 库的特性。</p><p id="d206" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们从导入相关的库和将数据集读入 pandas 数据框架开始。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="af8f" class="ma mb it lw b gy mc md l me mf">import pandas as pd<br/>import numpy as np</span><span id="935e" class="ma mb it lw b gy mg md l me mf">import matplotlib.pyplot as plt<br/>import seaborn as sns<br/>sns.set(style='darkgrid')<br/>%matplotlib inline</span><span id="1625" class="ma mb it lw b gy mg md l me mf">df = pd.read_csv("/content/Churn_Modelling.csv")</span><span id="660f" class="ma mb it lw b gy mg md l me mf">df.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/3b32ec9ff88ebfdd777dacda7da13aae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Wsh8FEHaN6HUNl4E.png"/></div></div></figure><p id="bad7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据集包含 10000 个客户(即行)和关于银行客户及其产品的 14 个特征。这里的目标是预测客户是否会使用提供的功能流失(即退出= 1)。</p><p id="3b3e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从一个<strong class="lb iu"> catplot </strong>开始，它是 Seaborn 库的分类图。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="0d42" class="ma mb it lw b gy mc md l me mf">sns.catplot(x='Gender', y='Age', data=df, hue='Exited', height=8, aspect=1.2)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/b5ac3fc4becbe3040809f5870e60618f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tg7VdAqiUHVaD_dIXASiZw.png"/></div></div></figure><p id="83c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">发现</strong>:45 岁到 60 岁的人比其他年龄段的人更容易流失(即离开公司)。就搅拌而言，女性和男性之间没有太大的差异。</p><p id="c781" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">色调</strong>参数用于根据分类变量区分数据点。</p><p id="4f58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一个可视化是<strong class="lb iu">散点图</strong>，它显示了两个数值变量之间的关系。我们来看看一个客户的预估工资和余额是否有关联。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="c319" class="ma mb it lw b gy mc md l me mf">plt.figure(figsize=(12,8))</span><span id="cea4" class="ma mb it lw b gy mg md l me mf">plt.title("Estimated Salary vs Balance", fontsize=16)</span><span id="db12" class="ma mb it lw b gy mg md l me mf">sns.scatterplot(x='Balance', y='EstimatedSalary', data=df)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/47bc777c71bc1c53aef8e5a74a147e6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s057z8vvO_S8KYyoxbpR4A.png"/></div></div></figure><p id="47ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们首先使用<strong class="lb iu"> matplotlib.pyplot </strong>接口创建一个 Figure 对象并设置标题。然后，我们用 Seaborn 在这个图形对象上绘制了实际的绘图。</p><p id="35b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">发现</strong>:预计工资和余额之间没有有意义的关系或关联。余额似乎呈正态分布(不包括余额为零的客户)。</p><p id="135e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一个可视化是<strong class="lb iu">箱线图</strong>，它显示了变量在中位数和四分位数方面的分布。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="e390" class="ma mb it lw b gy mc md l me mf">plt.figure(figsize=(12,8))</span><span id="0c63" class="ma mb it lw b gy mg md l me mf">ax = sns.boxplot(x='Geography', y='Age', data=df)</span><span id="45a3" class="ma mb it lw b gy mg md l me mf">ax.set_xlabel("Country", fontsize=16)<br/>ax.set_ylabel("Age", fontsize=16)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/d7667613aa1b8039d58c66f260532b24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0AEs-06FtQkEiJk-GsHbLg.png"/></div></div></figure><p id="af1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还使用<strong class="lb iu"> set_xlabel </strong>和<strong class="lb iu"> set_ylabel 调整了 x 和 y 轴的字体大小。</strong></p><p id="881f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">箱线图的结构如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/b80f12e5eaa217826c8d4debd3582a51.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*p-tglGcljPcZ6FlY0PI3wA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">箱线图的结构(<a class="ae ky" href="https://en.wikipedia.org/wiki/Box_plot" rel="noopener ugc nofollow" target="_blank">图像源</a>)</p></figure><p id="bf19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Median 是对所有点进行排序时位于中间的点。Q1(第一个或下四分位数)是数据集下半部分的中位数。Q3(第三或上四分位数)是数据集上半部分的中位数。</p><p id="8b18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，箱线图给我们一个关于分布和异常值的概念。在我们创建的箱线图中，顶部有许多异常值(用点表示)。</p><p id="5ed0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">发现</strong>:年龄变量的分布是右偏的。由于上侧的异常值，平均值大于中值。国与国之间没有太大的差别。</p><p id="386f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在变量的单变量分布中也可以观察到右偏。让我们创建一个<strong class="lb iu"> distplot </strong>来观察分布。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="6652" class="ma mb it lw b gy mc md l me mf">plt.figure(figsize=(12,8))</span><span id="a03f" class="ma mb it lw b gy mg md l me mf">plt.title("Distribution of Age", fontsize=16)</span><span id="7924" class="ma mb it lw b gy mg md l me mf">sns.distplot(df['Age'], hist=False)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mm"><img src="../Images/ea235ed4d10e56642036a067c6555657.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WuuiALlYoB9Vkh1q9MtwWg.png"/></div></div></figure><p id="9932" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">右边的尾巴比左边的重。原因是异常值，正如我们在箱线图上观察到的那样。</p><p id="9801" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，distplot 也提供直方图，但我们使用<strong class="lb iu"> hist </strong>参数对其进行了更改。</p><p id="57ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Seaborn library 还提供了不同类型的配对图，概述了变量之间的配对关系。让我们首先从我们的数据集中随机抽取一个样本，使这些图更有吸引力。原始数据集有 10000 个观测值，我们将选取一个有 100 个观测值和 4 个特征的样本。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="812d" class="ma mb it lw b gy mc md l me mf">subset=df[['CreditScore','Age','Balance','EstimatedSalary']].sample(n=100)</span><span id="4c82" class="ma mb it lw b gy mg md l me mf">g = sns.pairplot(subset, height=2.5)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/56de7c44640fdf7263308673372b3adf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rKHXoyEYnSBKw_rFolMgvQ.png"/></div></div></figure><p id="f8eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在对角线上，我们可以看到变量的直方图。网格的另一部分代表成对的关系。</p><p id="521d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">观察两两关系的另一个工具是<strong class="lb iu">热图</strong>，它采用矩阵并生成彩色编码图。热图主要用于检查特征和目标变量之间的相关性。</p><p id="5932" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们首先使用 pandas 的<strong class="lb iu"> corr </strong>函数创建一些特征的关联矩阵。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="98b1" class="ma mb it lw b gy mc md l me mf">corr_matrix = df[['CreditScore','Age','Tenure','Balance',<br/>'EstimatedSalary','Exited']].corr()</span></pre><p id="5cb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以画出这个矩阵。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="3c17" class="ma mb it lw b gy mc md l me mf">plt.figure(figsize=(12,8))</span><span id="06b6" class="ma mb it lw b gy mg md l me mf">sns.heatmap(corr_matrix, cmap='Blues_r', annot=True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mo"><img src="../Images/051e59e615622d3bd54f9f9220daf3f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j_RkWPOI1Sy8lkgLriQn_w.png"/></div></div></figure><p id="0160" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">发现</strong>:“年龄”和“余额”栏与客户流失(“退出”)正相关。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><p id="5928" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着数据量的增加，分析和探索数据变得更加困难。当有效和恰当地使用时，可视化是探索性数据分析的伟大工具。可视化也有助于向你的观众传递信息，或者告诉他们你的发现。</p><p id="d8ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没有一种通用的可视化方法，因此某些任务需要不同类型的可视化。根据任务的不同，不同的选项可能更合适。所有可视化的共同点是，它们都是探索性数据分析和数据科学讲述部分的伟大工具。</p><p id="11a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>