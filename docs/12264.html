<html>
<head>
<title>How To Restore Your Jupyter Notebook Session</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何恢复您的 Jupyter 笔记本会话</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-restore-your-jupyter-notebook-session-dfeadbd86d65?source=collection_archive---------19-----------------------#2020-08-24">https://towardsdatascience.com/how-to-restore-your-jupyter-notebook-session-dfeadbd86d65?source=collection_archive---------19-----------------------#2020-08-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f0de" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">重新启动计算机时，不要丢失 Jupyter 笔记本会话中的进度。Dill 包可以保存笔记本会话供以后使用。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ca9d151c4a6d769ede127926ced94030.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XzkRx-TMbVb6eeDE"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">尼克·舒利亚欣在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="d532" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di"> H </span>有没有发生过这样的事情，你重启了电脑，却忘记了你打算以后用的那个重要的 Jupyter 笔记本？“花了这么长时间才完成，现在一切都没了”。</p><p id="c7c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我感觉到你了！在我身上发生过很多次。</p><p id="3e3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好吧，我唯一能给你的建议就是“重启内核，重新运行所有的细胞”。但下次就不一定了。</p><blockquote class="me"><p id="7e35" class="mf mg it bd mh mi mj mk ml mm mn lu dk translated">有一个工具可以让您保存 Jupyter 笔记本会话的状态，并在以后用一个命令恢复它。</p></blockquote><p id="9016" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated"><strong class="lb iu">这里有几个你可能会感兴趣的链接:</strong></p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="36b0" class="my mz it mu b gy na nb l nc nd">- <a class="ae ky" href="https://www.humanfirst.ai/" rel="noopener ugc nofollow" target="_blank">Labeling and Data Engineering for Conversational AI and Analytics</a></span><span id="4cac" class="my mz it mu b gy ne nb l nc nd">- <a class="ae ky" href="https://imp.i115008.net/c/2402645/880006/11298" rel="noopener ugc nofollow" target="_blank">Data Science for Business Leaders</a> [Course]</span><span id="dff9" class="my mz it mu b gy ne nb l nc nd">- <a class="ae ky" href="https://imp.i115008.net/c/2402645/788201/11298" rel="noopener ugc nofollow" target="_blank">Intro to Machine Learning with PyTorch</a> [Course]</span><span id="2a1c" class="my mz it mu b gy ne nb l nc nd">- <a class="ae ky" href="https://imp.i115008.net/c/2402645/803127/11298" rel="noopener ugc nofollow" target="_blank">Become a Growth Product Manager</a> [Course]</span><span id="cf8c" class="my mz it mu b gy ne nb l nc nd">- <a class="ae ky" href="https://amzn.to/3ncTG7D" rel="noopener ugc nofollow" target="_blank">Deep Learning (Adaptive Computation and ML series)</a> [Ebook]</span><span id="c588" class="my mz it mu b gy ne nb l nc nd">- <a class="ae ky" href="https://aigents.co/skills" rel="noopener ugc nofollow" target="_blank">Free skill tests for Data Scientists &amp; Machine Learning Engineers</a></span></pre><p id="3897" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nf">上面的一些链接是附属链接，如果你通过它们进行购买，我会赚取佣金。请记住，我链接课程是因为它们的质量，而不是因为我从你的购买中获得的佣金。</em></p><p id="a3ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">如果你错过了我关于 Jupyter 笔记本的其他帖子:</strong></p><div class="ng nh gp gr ni nj"><a rel="noopener follow" target="_blank" href="/are-you-still-using-jupyterlab-ce1a4339c0a9"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">你还在用 JupyterLab 吗？</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">数据科学城推出了一款新的高端产品。它有优越的编码辅助，调试和更多…是吗…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">towardsdatascience.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a rel="noopener follow" target="_blank" href="/jupyterlab-2-0-edd4155ab897"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">JupyterLab 2.0</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">让我们来一窥 Jupyter 笔记本编辑的未来。有了编码等特性，未来看起来一片光明…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">towardsdatascience.com</p></div></div><div class="ns l"><div class="ny l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a rel="noopener follow" target="_blank" href="/3-must-have-jupyterlab-2-0-extensions-41024fe455cc"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">3 个必备的 JupyterLab 2.0 扩展</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">JupyterLab 刚刚成为一个成熟的 IDE，具有代码辅助、调试和 Git 等功能——欢迎来到未来……</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">towardsdatascience.com</p></div></div><div class="ns l"><div class="nz l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a rel="noopener follow" target="_blank" href="/transform-jupyter-notebook-to-an-ebook-ef3a9d32ac4f"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">将 Jupyter 笔记本转变为电子书</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">将你的 Jupyter 笔记本转换成 PDF、EPUB 和 AWZ3 格式的精美电子书的一些技巧。不要花几个小时…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">towardsdatascience.com</p></div></div><div class="ns l"><div class="oa l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a rel="noopener follow" target="_blank" href="/how-to-run-sql-queries-from-a-jupyter-notebook-aaa18e59e7bc"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">如何从 Jupyter 笔记本运行 SQL 查询</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">SQL IDEs 不能可视化数据。您知道吗，您可以使用…运行并可视化查询结果</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">towardsdatascience.com</p></div></div><div class="ns l"><div class="ob l nu nv nw ns nx ks nj"/></div></div></a></div><h1 id="5e68" class="oc mz it bd od oe of og oh oi oj ok ol jz om ka on kc oo kd op kf oq kg or os bi translated">遇见迪尔</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/cd309975cfd62db1f4fde6e26b88731e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*DIkPK-LJJYVY-sKBLsQNlA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用 Dill 保存和恢复会话</p></figure><p id="c13c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/uqfoundation/dill" rel="noopener ugc nofollow" target="_blank"> Dill </a>使您能够保存 Jupyter 笔记本会话的状态，并通过一个命令恢复它。</p><p id="e5c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装 Dill 就像安装任何其他 Python 包一样简单:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="5e24" class="my mz it mu b gy na nb l nc nd">pip install dill</span></pre><p id="6d23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要保存 Jupyter 笔记本会话，只需执行以下命令:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="564b" class="my mz it mu b gy na nb l nc nd">import dill<br/>dill.dump_session('notebook_env.db')</span></pre><p id="36b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要恢复 Jupyter 笔记本会话:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="0563" class="my mz it mu b gy na nb l nc nd">import dill<br/>dill.load_session('notebook_env.db')</span></pre><p id="5026" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Dill 也使用 python 解释器会话。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/eabc2b36cdd26b7551fdcbceb2580a40.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/0*F5RijMgFiWXIbN5a.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Gif 来自<a class="ae ky" href="https://giphy.com/gifs/dancing-happy-seinfeld-BlVnrxJgTGsUw" rel="noopener ugc nofollow" target="_blank"> giphy </a></p></figure><h2 id="36fd" class="my mz it bd od ov ow dn oh ox oy dp ol li oz pa on lm pb pc op lq pd pe or pf bi translated">缺点</h2><p id="e97f" class="pw-post-body-paragraph kz la it lb b lc pg ju le lf ph jx lh li pi lk ll lm pj lo lp lq pk ls lt lu im bi translated">Dill 有一些你应该知道的缺点:</p><ul class=""><li id="6369" class="pl pm it lb b lc ld lf lg li pn lm po lq pp lu pq pr ps pt bi translated">这种方法不适用于发电机。</li><li id="9974" class="pl pm it lb b lc pu lf pv li pw lm px lq py lu pq pr ps pt bi translated">保存的会话不包括生成的图形。所以你需要重新运行代码。</li><li id="cb1c" class="pl pm it lb b lc pu lf pv li pw lm px lq py lu pq pr ps pt bi translated">一些用户报告说，恢复会话在另一台计算机上不起作用。</li></ul><h2 id="c279" class="my mz it bd od ov ow dn oh ox oy dp ol li oz pa on lm pb pc op lq pd pe or pf bi translated">关于莳萝</h2><p id="61c4" class="pw-post-body-paragraph kz la it lb b lc pg ju le lf ph jx lh li pi lk ll lm pj lo lp lq pk ls lt lu im bi translated"><a class="ae ky" href="https://github.com/uqfoundation/dill" rel="noopener ugc nofollow" target="_blank"> Dill </a>将 python 的 pickle 模块扩展到大多数内置 python 类型，用于序列化和反序列化 Python 对象。序列化是将对象转换为字节流的过程，其逆过程是将字节流转换回 python 对象层次结构。</p><p id="8113" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Dill 为用户提供了与 pickle 模块相同的界面，还包括一些额外的特性。除了 pickling python 对象之外，Dill 还提供了在单个命令中保存解释器会话状态的能力。因此，保存解释器会话、关闭解释器、将标记的文件运送到另一台计算机、打开新的解释器、取消标记会话并因此从原始解释器会话的“保存”状态继续是可行的。</p><p id="7e2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Dill 可用于将 python 对象存储到文件中，但主要用途是通过网络以字节流的形式发送 python 对象。Dill 非常灵活，允许序列化任意用户定义的类和函数。因此，Dill 并不旨在防止错误或恶意构造的数据。由用户决定他们提取的数据是否来自可信的来源。</p><h2 id="8b69" class="my mz it bd od ov ow dn oh ox oy dp ol li oz pa on lm pb pc op lq pd pe or pf bi translated">主要特点</h2><p id="f3dc" class="pw-post-body-paragraph kz la it lb b lc pg ju le lf ph jx lh li pi lk ll lm pj lo lp lq pk ls lt lu im bi translated">莳萝可以腌制以下标准型[1]:</p><ul class=""><li id="a51c" class="pl pm it lb b lc ld lf lg li pn lm po lq pp lu pq pr ps pt bi translated">none，type，bool，int，long，float，complex，str，unicode，</li><li id="d2ee" class="pl pm it lb b lc pu lf pv li pw lm px lq py lu pq pr ps pt bi translated">元组、列表、字典、文件、缓冲区、内置、</li><li id="b87c" class="pl pm it lb b lc pu lf pv li pw lm px lq py lu pq pr ps pt bi translated">新旧风格的课程，</li><li id="dc11" class="pl pm it lb b lc pu lf pv li pw lm px lq py lu pq pr ps pt bi translated">新旧样式类的实例，</li><li id="6986" class="pl pm it lb b lc pu lf pv li pw lm px lq py lu pq pr ps pt bi translated">集合，冷冻集，数组，函数，异常</li></ul><p id="77e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">莳萝也可以腌制更多的“奇异”标准型[1]:</p><ul class=""><li id="fa91" class="pl pm it lb b lc ld lf lg li pn lm po lq pp lu pq pr ps pt bi translated">有收益的函数，嵌套函数，lambdas</li><li id="e854" class="pl pm it lb b lc pu lf pv li pw lm px lq py lu pq pr ps pt bi translated">单元格，方法，unboundmethod，模块，代码，methodwrapper，</li><li id="9330" class="pl pm it lb b lc pu lf pv li pw lm px lq py lu pq pr ps pt bi translated">dictproxy，methoddescriptor，getsetdescriptor，memberdescriptor，</li><li id="303f" class="pl pm it lb b lc pu lf pv li pw lm px lq py lu pq pr ps pt bi translated">wrapperdescriptor，xrange，slice，</li><li id="f084" class="pl pm it lb b lc pu lf pv li pw lm px lq py lu pq pr ps pt bi translated">未实现，省略号，退出</li></ul><p id="d1bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">莳萝还不能腌制这些标准类型[1]:</p><ul class=""><li id="2b39" class="pl pm it lb b lc ld lf lg li pn lm po lq pp lu pq pr ps pt bi translated">框架、生成器、回溯</li></ul><p id="cc76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Dill 还提供了以下功能[1]:</p><ul class=""><li id="3d55" class="pl pm it lb b lc ld lf lg li pn lm po lq pp lu pq pr ps pt bi translated">保存和加载 python 解释器会话</li><li id="7f9b" class="pl pm it lb b lc pu lf pv li pw lm px lq py lu pq pr ps pt bi translated">从函数和类中保存和提取源代码</li><li id="f71c" class="pl pm it lb b lc pu lf pv li pw lm px lq py lu pq pr ps pt bi translated">交互式诊断酸洗错误</li></ul><h2 id="27e5" class="my mz it bd od ov ow dn oh ox oy dp ol li oz pa on lm pb pc op lq pd pe or pf bi translated"><strong class="ak">参考文献</strong></h2><ul class=""><li id="5c99" class="pl pm it lb b lc pg lf ph li pz lm qa lq qb lu pq pr ps pt bi translated">[1]https://github.com/uqfoundation/dill<a class="ae ky" href="https://github.com/uqfoundation/dill" rel="noopener ugc nofollow" target="_blank"/></li></ul><h1 id="6db0" class="oc mz it bd od oe of og oh oi oj ok ol jz om ka on kc oo kd op kf oq kg or os bi translated">我的选择</h1><p id="157d" class="pw-post-body-paragraph kz la it lb b lc pg ju le lf ph jx lh li pi lk ll lm pj lo lp lq pk ls lt lu im bi translated">莳萝无疑是你工具箱中的一个有用的工具。当我需要在另一个操作系统中重启我的计算机时，或者当我预计 Jupyter 内核可能会因为下一个命令而崩溃时，我会使用它。</p><p id="7f14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">IMO Dill 不是你应该在每个 Jupyter 笔记本中自动使用的工具。明智地使用它，只在你需要的时候。此外，如果任何底层代码使用了生成器，也要小心，因为还不能 pickle 它。</p><h1 id="c6a2" class="oc mz it bd od oe of og oh oi oj ok ol jz om ka on kc oo kd op kf oq kg or os bi translated">在你走之前</h1><p id="dea3" class="pw-post-body-paragraph kz la it lb b lc pg ju le lf ph jx lh li pi lk ll lm pj lo lp lq pk ls lt lu im bi translated">在<a class="ae ky" href="https://twitter.com/romanorac" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我，在那里我定期<a class="ae ky" href="https://twitter.com/romanorac/status/1328952374447267843" rel="noopener ugc nofollow" target="_blank">发布关于数据科学和机器学习的</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qc"><img src="../Images/b5d426b68cc5a21b1a35d0a157ebc4f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*69rP1pwjJi9mLSFE"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@cmhedger?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">考特尼·海杰</a>在<a class="ae ky" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure></div></div>    
</body>
</html>