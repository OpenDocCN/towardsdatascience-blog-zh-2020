<html>
<head>
<title>AWS SageMaker Updates 2019</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS SageMaker更新2019</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/aws-sagemaker-updates-2019-307323d2c01c?source=collection_archive---------35-----------------------#2020-01-14">https://towardsdatascience.com/aws-sagemaker-updates-2019-307323d2c01c?source=collection_archive---------35-----------------------#2020-01-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="066f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">2019年12月re:Invent发布的新功能</h2></div><p id="1718" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">AWS SageMaker正迅速成为构建和部署机器学习模型的最受欢迎的工具之一。它以易于使用的AWS预制模型和一个将定制模型放在web端点后面的框架吸引了开发人员和数据科学家。</p><p id="dff6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">去年12月在re:Invent 2019上公布了许多更新。我总结了一些重要的，整理了链接，如果你想了解更多。</p><p id="70cf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">希望你觉得有用！</p><p id="b505" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">注意:如果你是SageMaker的新手，有大量关于Medium的文章向你介绍它。(</em> <a class="ae lc" href="https://medium.com/towards-artificial-intelligence/aws-sagemaker-32af6c18d7f0" rel="noopener"> <em class="lb">从这里开始</em> </a> <em class="lb"> ) </em></p><h1 id="da6d" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">1.多型号集装箱</h1><p id="7af2" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">在发布多型号容器之前，每个SageMaker型号都将放在一个单独的docker容器中。这是低效的，原因有两个:1)有时你的应用程序有不止一个模型，你想把所有的模型组合成一个单元。2)许多ML应用程序将具有相同/相似的依赖关系，这可能没有意义旋转4个不同的docker容器，它们都具有相同的<code class="fe ma mb mc md b">requirements.txt</code>文件。</p><p id="3bb2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我提到成本节约了吗？(<a class="ae lc" href="https://aws.amazon.com/blogs/machine-learning/save-on-inference-costs-by-using-amazon-sagemaker-multi-model-endpoints/" rel="noopener ugc nofollow" target="_blank">了解更多</a>)</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi me"><img src="../Images/30d8077a4437e3ad71ee5338f0b00d6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Os4Ribibrw0z9_f-MgyiA.png"/></div></div><p class="mq mr gj gh gi ms mt bd b be z dk translated">来源:<a class="ae lc" href="https://aws.amazon.com/blogs/machine-learning/save-on-inference-costs-by-using-amazon-sagemaker-multi-model-endpoints/" rel="noopener ugc nofollow" target="_blank">https://AWS . Amazon . com/blogs/machine-learning/save-on-inference-costs-by-use-Amazon-sage maker-multi-model-endpoints/</a></p></figure><h1 id="4ed8" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">2.部署监控</h1><p id="55e0" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">所以你建立了一个机器学习模型。然后你挣扎了几个月，试图找出如何让它在商业用户手中。在你最终想出如何将它整合到现有的软件和业务流程中之后…现在你就完成了，对吗？</p><p id="edcf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不对。世界在不断变化。您不希望您的模型变得过时，或者意外地对错误的数据做出推论或建议。</p><p id="f843" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">队列SageMaker模型监视器。这将查看您的训练数据，并自动生成关于每个变量应该是什么样子的规则和统计数据(您也可以自己输入这些数据)，然后监控进入模型的输入数据。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mu"><img src="../Images/c55be0bca950fc009203bf9a68036cfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MfYtY2SwftPSULQYBcGY-w.png"/></div></div><p class="mq mr gj gh gi ms mt bd b be z dk translated">来源:<a class="ae lc" href="https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/sage maker/latest/DG/model-monitor . html</a></p></figure><p id="00e7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果有异常数据，它会给你发消息。如果变量开始偏离模型的训练目标，您可以让它自动触发一个重新训练任务。(<a class="ae lc" href="https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor.html" rel="noopener ugc nofollow" target="_blank">了解更多</a></p><h1 id="c1e7" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">3.萨格马克实验</h1><p id="27a8" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">已经有一些工具可以帮助跟踪ML实验(见<a class="ae lc" href="https://blog.dominodatalab.com/announcing-domino-3-3-datasets-and-experiment-manager/" rel="noopener ugc nofollow" target="_blank"> Domino </a>和<a class="ae lc" href="https://docs.cloudera.com/documentation/data-science-workbench/1-6-x/topics/cdsw_experiments.html" rel="noopener ugc nofollow" target="_blank"> Cloudera </a>)，但是开源的并不多。许多数据科学家只是在(<em class="lb">在此插入您最喜欢的ML框架</em>)中编写他们自己的实验脚本或模块。</p><p id="886d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">AWS发布了SageMaker实验，以及一个Python SDK来帮助数据科学家建立和跟踪ML实验。下面是该框架中的一些主要概念，可以帮助您入门。(<a class="ae lc" href="https://github.com/aws/sagemaker-experiments" rel="noopener ugc nofollow" target="_blank">了解更多</a>)</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mv"><img src="../Images/e2343692de224bf4386355f6ea5e0d2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RTBGQVNTmnCfwqhU3sXBaQ.png"/></div></div></figure><p id="04e0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">试验</strong>:您希望比较的相关试验的集合</p><p id="2e1c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">试验</strong>:多步骤ML工作流程的描述。每个步骤都由一个TrialComponent描述</p><p id="0097" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> TrailComponent </strong>:对ML工作流中单个步骤的描述</p><p id="3409" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> Tracker </strong>:用于记录单个TrialComponent信息的python上下文管理器</p><h1 id="903e" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">4.SageMaker自动驾驶仪</h1><p id="8a3b" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">一旦你使建立模型、运行实验、部署端点和监控生产ML应用变得容易；你也可以将整个过程自动化。AutoPilot和其他AutoML软件最大的区别就是<em class="lb">透明</em>。曾经有一种二分法，一种是易于使用但难以信任的黑盒AutoML，另一种是由数据科学家从零开始构建的模型，这种模型更容易信任但更难构建。</p><p id="a704" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">AutoPilot对它正在做的算法、实验、参数和其他一切都是完全透明的。这应该有助于启动数据科学家的工作流程，而不是取代它。数据科学家现在将花更多的时间来解释结果，理解潜在的业务问题，并进行特征工程以改善结果；同时花费更少的时间来确定在随机森林中使用哪个分裂标准或者在支持向量机中使用哪个核。</p><h1 id="227d" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">5.SageMaker工作室</h1><p id="cb21" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">最后，数据科学家的IDE。SageMaker Studio与其他IDE的区别在于它专注于可视化数据和跟踪ML实验。它利用了其他流行的工具，如Jupyter笔记本和与git的集成。数据科学家需要了解的一切都可以在单一控制台中获得。它似乎还能与其他SageMaker工具很好地配合，用于实验、部署和监控。(<a class="ae lc" href="https://aws.amazon.com/blogs/aws/amazon-sagemaker-studio-the-first-fully-integrated-development-environment-for-machine-learning/" rel="noopener ugc nofollow" target="_blank">了解更多</a></p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mw"><img src="../Images/0f4ce2fbf0cebc2395e5c21a9aed3571.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UuMFx7r-uIPMD7S7bzIFig.png"/></div></div><p class="mq mr gj gh gi ms mt bd b be z dk translated">图片来自文档:<a class="ae lc" href="https://aws.amazon.com/blogs/aws/amazon-sagemaker-studio-the-first-fully-integrated-development-environment-for-machine-learning/" rel="noopener ugc nofollow" target="_blank">https://AWS . Amazon . com/blogs/AWS/Amazon-sagemaker-studio-the-first-fully-integrated-development-environment-for-machine-learning/</a></p></figure><h1 id="0115" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">6.SageMaker算子</h1><p id="f008" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">在引擎盖下，SageMaker是一个docker容器。当你从头开始构建一个SageMaker模型时，你只是让你的ML应用程序结构符合SageMaker期望的容器结构<a class="ae lc" href="https://sagemaker-workshop.com/custom/containers.html" rel="noopener ugc nofollow" target="_blank">。这使得它非常适合Kubernetes，这是一个非常流行的编排容器化应用程序的工具。</a></p><p id="db53" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">SageMaker运营商为公司和个人提供了一种将SageMaker完成的工作与他们的K8系统集成的方式。现在，您可以通过Kubernetes API或kubectl命令与ML训练、调优和推理容器进行交互。(<a class="ae lc" href="https://aws.amazon.com/about-aws/whats-new/2019/12/introducing-amazon-sagemaker-operators-for-kubernetes/" rel="noopener ugc nofollow" target="_blank">了解更多</a>)</p><h1 id="760e" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">7.从SQL命令调用SageMaker</h1><p id="63ce" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">现在，您可以直接从AWS (Athena或Aurora)中的SQL查询调用SageMaker模型。这意味着整个组织中的分析师、开发人员和商业利益相关者更容易访问ML模型。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mx"><img src="../Images/1e26c217254775b73d07427610ad4114.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ypuhFg1AVPtZ5wUEpdl0wg.png"/></div></div><p class="mq mr gj gh gi ms mt bd b be z dk translated">文档示例:<a class="ae lc" href="https://docs.aws.amazon.com/athena/latest/ug/querying-mlmodel.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/Athena/latest/ug/query-ml model . html</a></p></figure><p id="212c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于某些用例来说，这似乎很好。但是说实话，如果您的数据视图以ML模型可以接受的方式进行了清理，那么运行批处理预测作业更有意义，然后将预测值保存到另一列的表中。这样，每个记录只调用一次模型，而不是每次对每个记录运行查询时调用<em class="lb">。(<a class="ae lc" href="https://docs.aws.amazon.com/athena/latest/ug/querying-mlmodel.html" rel="noopener ugc nofollow" target="_blank">了解更多</a></em></p><h1 id="36ac" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">结论</h1><p id="f205" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">当SageMaker在2017年推出时，它落后于其他一些早期的MLops数据科学家工具。从那以后，它在新特性和新功能方面取得了突飞猛进的进步。随着这些工具变得更加强大，人们只能期待事情以更快的速度变化。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi my"><img src="../Images/1f9db878998f9b9373b2cde48b045a83.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*jbYRQa6__lU3EAzdkA_fJw.png"/></div></figure><p id="31e6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>