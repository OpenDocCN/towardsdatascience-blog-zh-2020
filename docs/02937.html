<html>
<head>
<title>Three Useful Pandas Methods</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">三个有用的熊猫方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/three-useful-pandas-methods-f05addd926c3?source=collection_archive---------41-----------------------#2020-03-20">https://towardsdatascience.com/three-useful-pandas-methods-f05addd926c3?source=collection_archive---------41-----------------------#2020-03-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b7d2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">读取、选择和写入数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/65307bdfd8801e7ff6c2537f634394ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NLr8owRWdJq_cpaVPlpPKw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.pexels.com/photo/coffee-cup-notebook-pen-64775/" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="35e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas 是一个非常有用的 python 库，它支持数据读取、从数据生成统计数据、转换数据等等。在这篇文章中，我将讨论我作为数据科学家经常使用的三种方法。</p><p id="1f02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始吧！</p><h1 id="50c1" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">读取数据</h1><p id="79c7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我们将讨论的第一种方法是熊猫中的 CSV 文件读取方法。如果我们有一个。csv '文件，我们可以使用' read_csv()'将数据读入 Pandas 数据帧。Pandas 数据框是一个包含行和列的表格数据结构。对于我们的示例，让我们将<em class="ms"> Reddit —数据是美丽的</em> CSV 文件(可在<a class="ae ky" href="https://www.kaggle.com/unanimad/dataisbeautiful" rel="noopener ugc nofollow" target="_blank">这里</a>找到)读入熊猫数据框:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="6fef" class="my lw it mu b gy mz na l nb nc">import pandas as pd<br/>df = pd.read_csv("r_dataisbeautiful_posts.csv")</span></pre><p id="82c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了显示我们已经成功地读入了数据，我们可以打印前五行:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="1f1b" class="my lw it mu b gy mz na l nb nc">print(df.head())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/444abd7302770bf55a43e776a04509c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z_I3DFLbDsoa6lK_fs6Axg.png"/></div></div></figure><p id="5630" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于其他文件扩展名，还有其他方法。例如，我们用' read_html()'来表示。' html '文件，' read_excel()' for '。xls '文件，' read_parquet()'，for '。镶木地板的文件和更多。你可以在 pandas <a class="ae ky" href="https://pandas.pydata.org/docs/user_guide/index.html" rel="noopener ugc nofollow" target="_blank">这里</a>找到 IO 工具的完整列表。</p><p id="e2e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们将继续选择熊猫的数据。</p><h1 id="dc9e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">选择数据</h1><p id="47bb" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">假设我们想从我们之前看到的<em class="ms"> Reddit — Data is Beautiful </em>数据集中选择前 500 行数据。我们可以使用。iloc[]'方法按索引选择前 500 行。我们还可以打印选择前后数据框的长度:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="e352" class="my lw it mu b gy mz na l nb nc">print("Length of data frame before row selection: ", len(df))<br/>df = df.iloc[:500]<br/>print("Length of data frame after row selection: ", len(df))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/07918003c471290bd6c4fb610c80d9ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-kSIfQhlq_pozS2Ja27t-A.png"/></div></div></figure><p id="a411" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以使用'基于我们选择的列中的值来选择数据。loc[]'。让我们选择“num_comments”值(注释的数量)大于或等于 50 的数据，并打印结果:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="1221" class="my lw it mu b gy mz na l nb nc">print("Length of data frame before filtering: ", len(df))<br/>df = df.loc[df.num_comments &gt;= 50]<br/>print("Length of data frame after filtering: ", len(df))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/4016a9a1970f1272d135ad1b9a244a5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*KjOUXcDmrmndg21yGqdGMA.png"/></div></figure><p id="88c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以打印“num_comments”的一组值，以验证我们所做的更改:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="4168" class="my lw it mu b gy mz na l nb nc">print(set(df['num_comments']))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/6b3c137d3746156936011447012b6e79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MOeWXN8aa9_qIbLdmfobIw.png"/></div></div></figure><p id="69ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们看到所有的唯一值都大于 50。</p><h1 id="2a6b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">将数据写入文件</h1><p id="abb8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">类似于 Pandas 中用于读取数据的工具套件，有几种方法可以将数据写入文件。假设我们想将之前处理的过滤后的数据帧写入 a’。csv。我们可以使用。to_csv()”方法将结果写入。“csv”文件:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="e1db" class="my lw it mu b gy mz na l nb nc">df.to_csv("new_file_r_dataisbeautiful_posts.csv")</span></pre><p id="e8ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们可以将数据读入数据框:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="bc74" class="my lw it mu b gy mz na l nb nc">new_df = pd.read_csv("new_file_r_dataisbeautiful_posts.csv")</span></pre><p id="e414" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并打印结果:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="7a60" class="my lw it mu b gy mz na l nb nc">print("Length of new data frame: ", len(new_df))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/6c638abbfd1808850fdbbfe44a5fb893.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*btE3Ic4HyIlLYHyuQZ4iCg.png"/></div></div></figure><p id="1aae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这正是我们所期待的。</p><h1 id="663a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="6371" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">总之，在这篇文章中，我们讨论了三种对熊猫有用的方法。我们讨论了如何使用“read_csv()”方法来读取。csv 文件转换成数据帧。接下来，我们讨论了如何通过行和列值选择和过滤数据。最后，我们演练了如何将过滤后的数据帧写入新的。csv 文件。我希望你觉得这篇文章有用/有趣。这篇文章的代码可以在 GitHub 上找到。感谢您的阅读！</p></div></div>    
</body>
</html>