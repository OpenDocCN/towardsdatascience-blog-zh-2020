<html>
<head>
<title>A Guide to Spring Boot ConfigurationProperties for Kotlin Data Class</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kotlin æ•°æ®ç±»çš„ Spring Boot é…ç½®å±æ€§æŒ‡å—</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/a-guide-to-use-spring-boots-configurationproperties-annotation-in-kotlin-s-dataclass-1341c63110f4?source=collection_archive---------0-----------------------#2020-01-16">https://towardsdatascience.com/a-guide-to-use-spring-boots-configurationproperties-annotation-in-kotlin-s-dataclass-1341c63110f4?source=collection_archive---------0-----------------------#2020-01-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/734cf56baa67aebcb07fa02426b11524.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_1mESO_mp2iznN6-"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae kf" href="https://unsplash.com/@mauveine" rel="noopener ugc nofollow" target="_blank">å­™æ¸”Â·é‡‘</a>åœ¨<a class="ae kf" href="https://unsplash.com/photos/3MplHv4cF2w" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„</p></figure><blockquote class="kg kh ki"><p id="3c0e" class="kj kk kl km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">æˆ‘å°† Spring Boot æè¿°ä¸ºè½¯ä»¶å·¥ç¨‹æ¡†æ¶çš„è‹¹æœç­‰ä»·ç‰©ã€‚ğŸåŸå› æ˜¯å®ƒè®¾è®¡å¾—å¾ˆå¥½ï¼Œå…è®¸ä½ å†™æ›´å°‘æ›´å¹²å‡€çš„ä»£ç ã€‚æˆ‘æ˜¯è¯´ï¼Œå®ƒå¾ˆä¼˜é›…ï¼Œå°±åƒè‹¹æœä¸€æ ·ã€‚(ç”±äºæˆ‘æ˜¯è‹¹æœå›¢é˜Ÿï¼Œæ‰€ä»¥æˆ‘åœ¨è¿™é‡Œå¯èƒ½æœ‰ç‚¹åè§)ã€‚</p></blockquote><p id="a619" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">Spring Boot é™„å¸¦äº†å¾ˆå¤šæ³¨é‡Šï¼Œä½¿å¾—æˆ‘ä»¬ç¨‹åºå‘˜çš„ç”Ÿæ´»å˜å¾—æ›´åŠ å®¹æ˜“ã€‚ğŸ™‚å…¶ä¸­ä¸€ä¸ªæˆ‘ç»å¸¸ä½¿ç”¨çš„æ˜¯<code class="fe ll lm ln lo b">@ConfigurationProperties</code>ã€‚æˆ‘å‘ç°å®ƒéå¸¸æœ‰ç”¨ï¼Œå› æ­¤ï¼Œæˆ‘æƒ³å‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒã€‚</p><p id="3434" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">æ›´å…·ä½“åœ°è¯´ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•å°†æ‚¨çš„åº”ç”¨ç¨‹åºé…ç½®å®šä¹‰ä¸ºä¸€ä¸ªç”± Spring ç®¡ç†çš„<code class="fe ll lm ln lo b">dataclass</code>ã€‚æˆ‘ä»¬å°†ä½¿ç”¨<code class="fe ll lm ln lo b">@ConfigurationProperties</code>æ³¨é‡Šå’Œ<code class="fe ll lm ln lo b">application.yml</code>æ–‡ä»¶çš„ç»„åˆæ¥åˆ›å»ºé…ç½®<code class="fe ll lm ln lo b">dataclass</code>ã€‚</p><p id="5cdc" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">å®šä¹‰ä¸€ä¸ªé…ç½®ç±»æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚æˆ‘ä»¬åªéœ€è¦å®šä¹‰å®ƒä¸€æ¬¡ï¼Œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨éœ€è¦å®ƒçš„ä¸åŒç±»ä¸­å¤šæ¬¡ä½¿ç”¨å®ƒã€‚</p><p id="ec3a" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">ä¸ºäº†éµå¾ªè¿™ä¸ªæŒ‡å—ï¼Œæ‚¨å¯ä»¥å…‹éš†è¿™ä¸ª Github <a class="ae kf" href="https://github.com/billydh/dynamodemo" rel="noopener ugc nofollow" target="_blank"> repo </a>ã€‚è¯·æ³¨æ„ï¼Œæœ¬æ•™ç¨‹æ˜¯ä»è¿™ä¸ª<a class="ae kf" href="https://github.com/billydh/dynamodemo/commit/c694fcff0703094c518cebf5c43b2e3b5703e9f1" rel="noopener ugc nofollow" target="_blank">æäº¤</a>å¼€å§‹çš„ï¼Œæ‰€ä»¥å¦‚æœæ‚¨æƒ³åœ¨æœ¬æ•™ç¨‹ä¸­è‡ªå·±æ„å»ºä»£ç ï¼Œè¯·æ£€æŸ¥è¿™ä¸ªæäº¤ã€‚å¦‚æœæ²¡æœ‰ï¼Œä½ å¯ä»¥ç›´æ¥å¤åˆ¶å›è´­åè®®ï¼Œè·Ÿç€è¯»ã€‚ğŸ™‚</p><p id="5c9f" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">å›è´­ä¸­åŒ…å«çš„åº”ç”¨ç¨‹åºæ˜¯ä¸€ä¸ª Kotlin åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨ Spring Boot å’Œ Spring Webflux æ„å»ºï¼Œå¹¶ä¸ DynamoDB ç›¸ç»“åˆã€‚å¦‚æœæ‚¨æ„Ÿå…´è¶£ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹è¿™ç¯‡æ–‡ç« <a class="ae kf" href="https://medium.com/swlh/how-to-build-a-reactive-microservice-api-with-spring-boot-spring-webflux-and-dynamodb-using-kotlin-e1be3e99b15e" rel="noopener">æ¥äº†è§£åº”ç”¨ç¨‹åºæœ€åˆæ˜¯å¦‚ä½•æ„å»ºçš„ã€‚</a></p></div><div class="ab cl lp lq hx lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="im in io ip iq"><h1 id="0fbd" class="lw lx it bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">æ­£åœ¨åˆ›å»º DynamoConfigProperties æ•°æ®ç±»</h1><p id="2d45" class="pw-post-body-paragraph kj kk it km b kn mu kp kq kr mv kt ku li mw kx ky lj mx lb lc lk my lf lg lh im bi translated">æ¥çœ‹çœ‹æˆ‘ä»¬ç°åœ¨çš„<code class="fe ll lm ln lo b">DynamoClientProperties</code>ç­ã€‚æ‚¨å¯ä»¥çœ‹åˆ°ï¼Œå®ƒå°†<code class="fe ll lm ln lo b">region</code>å’Œ<code class="fe ll lm ln lo b">endpoint</code>ä½œä¸ºå…¶ç±»æ„é€ å‡½æ•°çš„ 2 ä¸ªå‚æ•°ã€‚è¿™ä¸¤ä¸ªå€¼éƒ½å°†ç”± Spring é€šè¿‡<code class="fe ll lm ln lo b">@Value</code>æ³¨é‡Šæ³¨å…¥ï¼Œè¯¥æ³¨é‡Šé€šè¿‡ä¼ é€’ç»™å‚æ•°çš„è·¯å¾„æŸ¥çœ‹ä½äº<code class="fe ll lm ln lo b">src/main/kotlin/resources</code>ç›®å½•ä¸­çš„<code class="fe ll lm ln lo b">application.yml</code>æ–‡ä»¶ã€‚</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated"><code class="fe ll lm ln lo b">DynamoClientProperties.kt</code></p></figure><p id="0fad" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">å¦ä¸€æ–¹é¢ï¼Œè®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹æˆ‘ä»¬çš„<code class="fe ll lm ln lo b">application.yml</code>æ–‡ä»¶çš„å†…å®¹ã€‚éå¸¸ç®€å•ç›´æ¥ã€‚å®ƒåªæ˜¯å®šä¹‰äº†ä¸ DynamoDB ç›¸å…³çš„ç±»çš„é…ç½®ã€‚</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">åº”ç”¨ç¨‹åº. yml</p></figure><p id="65a7" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬è®©åº”ç”¨ç¨‹åºä¿æŒåŸæ ·ï¼Œä¸€åˆ‡éƒ½å¾ˆå¥½ã€‚çœŸçš„æ²¡å¿…è¦æ”¹å˜ä»€ä¹ˆã€‚ä½†æ˜¯ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬çš„é…ç½®ç”±å‡ ä¸ªå€¼ç»„æˆï¼Œè€Œä¸ä»…ä»…æ˜¯ 2 ä¸ªå€¼(åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œåªæœ‰<code class="fe ll lm ln lo b">region</code>å’Œ<code class="fe ll lm ln lo b">endpoint</code>)ï¼Œå¹¶ä¸”ç›¸åŒçš„é…ç½®ç”¨äºå¤šä¸ªç±»ï¼Œè€Œä¸ä»…ä»…æ˜¯ 1 ä¸ªç±»(ä¾‹å¦‚åœ¨<code class="fe ll lm ln lo b">DynamoClientProperties.kt</code>)ã€‚</p><p id="96c1" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦åœ¨ä¸åŒçš„åœ°æ–¹ç¼–å†™ç›¸åŒçš„<code class="fe ll lm ln lo b">@Values</code>è¯­å¥ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦æ”¹ç”¨<code class="fe ll lm ln lo b">@ConfigurationProperties</code>çš„åŸå› ã€‚å®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç”¨äºç‰¹å®šç›®çš„çš„é…ç½®å€¼çš„<code class="fe ll lm ln lo b">dataclass</code>(ä¾‹å¦‚ï¼Œä¸ DynamoDB ç›¸å…³çš„é…ç½®),åªéœ€ä¸€æ¬¡ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦åœ¨è®¸å¤šå…¶ä»–åœ°æ–¹/ç±»ä¸­ä½¿ç”¨å®ƒã€‚</p><p id="01e7" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">ç»§ç»­åˆ›å»ºä¸€ä¸ªæ–°çš„ Kotlin æ–‡ä»¶å¹¶å°†å…¶å‘½åä¸º<code class="fe ll lm ln lo b">DynamoConfigProperties.kt</code>ã€‚æ–‡ä»¶çš„å†…å®¹ä¼šæ˜¯è¿™æ ·çš„ã€‚</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">DynamoConfigProperties.kt</p></figure><p id="059f" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">å¾ˆå¿«æ‚¨å°±å¯ä»¥çœ‹åˆ°ï¼Œæ‚¨ç¼–å†™äº†æ›´å°‘çš„ä»£ç æ¥è·å¾—æ‚¨éœ€è¦çš„å€¼ã€‚ç„¶åä½ å¯ä»¥å»<code class="fe ll lm ln lo b">DynamoClientProperties</code>ç­ï¼Œæ³¨å°„<code class="fe ll lm ln lo b">DynamoConfigProperties</code>è€Œä¸æ˜¯<code class="fe ll lm ln lo b">region</code>å’Œ<code class="fe ll lm ln lo b">endpoint</code>ã€‚å°±ä¼šå˜æˆè¿™æ ·ã€‚</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">ä½¿ç”¨ DynamoConfigProperties çš„ DynamoClientProperties.kt</p></figure><p id="3620" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">ç®€å•å¹²å‡€å¤šäº†å§ï¼Ÿå¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå¦‚æœä½ éœ€è¦ä»»ä½•å€¼<code class="fe ll lm ln lo b">customerTableName</code>ã€<code class="fe ll lm ln lo b">region</code>æˆ–<code class="fe ll lm ln lo b">endpoint</code>ï¼Œä½ å¯ä»¥ç®€å•åœ°ä¼ é€’<code class="fe ll lm ln lo b">DynamoConfigProperties</code>ï¼Œé¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå®ƒæ˜¯ä¸€ä¸ª Spring beanï¼Œæ‰€ä»¥å®ƒåªåœ¨ Spring Boot åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶åˆå§‹åŒ–ä¸€æ¬¡ã€‚</p><h2 id="0305" class="nf lx it bd ly ng nh dn mc ni nj dp mg li nk nl mk lj nm nn mo lk no np ms nq bi translated">è¿è¡Œåº”ç”¨ç¨‹åº</h2><p id="b28c" class="pw-post-body-paragraph kj kk it km b kn mu kp kq kr mv kt ku li mw kx ky lj mx lb lc lk my lf lg lh im bi translated">ç°åœ¨ï¼Œå¦‚æœæ‚¨ä» IntelliJ è¿è¡Œåº”ç”¨ç¨‹åºçš„<code class="fe ll lm ln lo b">DynamodemoApplication.kt</code>ä¸­çš„<code class="fe ll lm ln lo b">main</code>å‡½æ•°ï¼Œä¸€åˆ‡éƒ½å°†åƒæ›´æ”¹å‰ä¸€æ ·è¿è¡Œã€‚ä¸€åˆ‡éƒ½å¥½ï¼Œä¼™è®¡ä»¬ã€‚ğŸ˜ƒ</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nr"><img src="../Images/8adb5e903f2ff7e4639af8258696ba80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yhkz3Pv__4bdFHmLmu-Aew.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">DynamodemoApplication.kt</p></figure><p id="e352" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">æ‚¨å¯ä»¥ç»§ç»­æŒ‰ç…§è¿™ä¸ª<a class="ae kf" href="https://medium.com/swlh/how-to-build-a-reactive-microservice-api-with-spring-boot-spring-webflux-and-dynamodb-using-kotlin-e1be3e99b15e" rel="noopener">æ•™ç¨‹</a>æ¥æµ‹è¯•ä¸ DynamoDB çš„äº¤äº’æ˜¯å¦ä»ç„¶å¦‚é¢„æœŸçš„é‚£æ ·å·¥ä½œ(è¿™æ˜¯æ•™ç¨‹çš„æœ€åä¸€éƒ¨åˆ†ï¼ŒæŠ±æ­‰ï¼ŒMedium è¿˜ä¸æ”¯æŒé”šé“¾æ¥ğŸ˜œ).</p></div><div class="ab cl lp lq hx lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="im in io ip iq"><h1 id="c615" class="lw lx it bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">å…³äºç¼–å†™ DynamoConfigProperties æ•°æ®ç±»çš„é™„åŠ è¯´æ˜</h1><p id="48a9" class="pw-post-body-paragraph kj kk it km b kn mu kp kq kr mv kt ku li mw kx ky lj mx lb lc lk my lf lg lh im bi translated">å½“ä½ çœ‹åˆ°<code class="fe ll lm ln lo b">DynamoConfigProperties</code>æ˜¯å¦‚ä½•ç¼–å†™çš„ï¼Œä½ å¯èƒ½ä¼šæœ‰ç‚¹çŠ¹è±«ï¼Œæˆ–è€…è®¤ä¸ºå®ƒæœ‰ç‚¹æ··ä¹±(æˆ–è€…éš¾çœ‹)ï¼Œå› ä¸ºæˆ‘ä»¬å°†å­—æ®µå£°æ˜ä¸º<code class="fe ll lm ln lo b">var</code>è€Œä¸æ˜¯<code class="fe ll lm ln lo b">val</code>ï¼Œå°½ç®¡äº‹å®ä¸Šè¿™äº›å€¼æ°¸è¿œä¸ä¼šæ”¹å˜(æˆ–è€…åº”è¯¥è¯´ä¸åº”è¯¥æ”¹å˜)ã€‚</p><p id="9cec" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">æ­¤å¤–ï¼Œæˆ‘ä»¬éœ€è¦æä¾›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²<code class="fe ll lm ln lo b">""</code>(æˆ–è€…ä»»ä½•ä¸€ä¸ª<code class="fe ll lm ln lo b">String</code>)ï¼Œæˆ–è€…<code class="fe ll lm ln lo b">null</code>(ä¸ºæ­¤ï¼Œéœ€è¦å°†<code class="fe ll lm ln lo b">DynamoConfigProperties</code>ä¸­çš„å­—æ®µç±»å‹æ”¹ä¸º<code class="fe ll lm ln lo b">String?</code>)ã€‚</p><p id="d728" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">å¦‚æœæ‚¨å°†å®ƒä»¬å£°æ˜ä¸º<code class="fe ll lm ln lo b">val</code>æˆ–è€…ä¸æä¾›é»˜è®¤å€¼å¹¶è¿è¡Œåº”ç”¨ç¨‹åºï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹é”™è¯¯ã€‚</p><pre class="mz na nb nc gt ns lo nt nu aw nv bi"><span id="c445" class="nf lx it lo b gy nw nx l ny nz">2020-01-16 07:21:57.883  WARN 97395 --- [           main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerHandler' defined in file [/Users/billyde/demo/dynamodemo/out/production/classes/io/codebrews/dynamodemo/CustomerHandler.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerRepo' defined in file [/Users/billyde/demo/dynamodemo/out/production/classes/io/codebrews/dynamodemo/CustomerRepo.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dynamoClientProperties' defined in file [/Users/billyde/demo/dynamodemo/out/production/classes/io/codebrews/dynamodemo/DynamoClientProperties.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dynamoConfigProperties' defined in file [/Users/billyde/demo/dynamodemo/out/production/classes/io/codebrews/dynamodemo/DynamoConfigProperties.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}<br/>2020-01-16 07:21:57.960  INFO 97395 --- [           main] ConditionEvaluationReportLoggingListener :</span><span id="b566" class="nf lx it lo b gy oa nx l ny nz">Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.<br/>2020-01-16 07:21:58.085 ERROR 97395 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :</span><span id="4ea9" class="nf lx it lo b gy oa nx l ny nz">***************************<br/>APPLICATION FAILED TO START<br/>***************************</span><span id="19fb" class="nf lx it lo b gy oa nx l ny nz">Description:</span><span id="f155" class="nf lx it lo b gy oa nx l ny nz">Parameter 0 of constructor in io.codebrews.dynamodemo.DynamoConfigProperties required a bean of type 'java.lang.String' that could not be found.</span><span id="fdcd" class="nf lx it lo b gy oa nx l ny nz">Action:</span><span id="e974" class="nf lx it lo b gy oa nx l ny nz">Consider defining a bean of type 'java.lang.String' in your configuration.</span><span id="859f" class="nf lx it lo b gy oa nx l ny nz">Process finished with exit code 1</span></pre><p id="451c" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">ä½ å¯ä»¥çœ‹åˆ° Spring æŠ±æ€¨æˆ‘ä»¬çš„<code class="fe ll lm ln lo b">DynamoConfigProperties</code>çš„æ„é€ å‡½æ•°ã€‚ğŸ˜«</p><p id="0ea6" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">æˆ‘æƒ³æˆ‘ä»¬åªéœ€è¦å¤„ç†æˆ‘ä»¬çš„é…ç½®<code class="fe ll lm ln lo b">dataclass</code>å†™å¾—æœ‰å¤šâ€œä¸‘â€å°±è¡Œäº†ï¼Œä¸æ˜¯å—ï¼ŸğŸ¤·â€â™‚</p><p id="79f4" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">ä¸ï¼Œæˆ‘ä»¬æ²¡æœ‰ã€‚Spring Boot æ¥æ•‘æ´äº†ã€‚ğŸ˜Š</p><h2 id="96dd" class="nf lx it bd ly ng nh dn mc ni nj dp mg li nk nl mk lj nm nn mo lk no np ms nq bi translated">ä¸ºé…ç½®æ•°æ®ç±»ä½¿ç”¨ ConstructorBinding æ‰¹æ³¨</h2><p id="cc59" class="pw-post-body-paragraph kj kk it km b kn mu kp kq kr mv kt ku li mw kx ky lj mx lb lc lk my lf lg lh im bi translated">å¦‚æœä½ çš„é¡¹ç›®ä½¿ç”¨ Spring Boot æ¡†æ¶ç‰ˆæœ¬<code class="fe ll lm ln lo b">2.2.0.RELEASE</code>æˆ–è€…æ›´é«˜ç‰ˆæœ¬ï¼Œä½ å¯ä»¥æ”¹å˜ä½ å†™<code class="fe ll lm ln lo b">DynamoConfigProperties</code>çš„æ–¹å¼å¦‚ä¸‹ã€‚</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">å¸¦æœ‰ ConstructorBinding çš„ DynamoConfigProperties.kt</p></figure><p id="1eea" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">ç°åœ¨ï¼Œç»§ç»­è¿è¡Œåº”ç”¨ç¨‹åºçš„<code class="fe ll lm ln lo b">main</code>åŠŸèƒ½ã€‚ä½ åº”è¯¥çœ‹åˆ°ä¸‹é¢çš„å¼‚å¸¸è¢«æŠ›å‡ºã€‚ğŸ˜¦</p><pre class="mz na nb nc gt ns lo nt nu aw nv bi"><span id="8e2d" class="nf lx it lo b gy nw nx l ny nz">2020-01-16 13:29:03.367  WARN 87367 --- [           main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerHandler' defined in file [/Users/billyde/demo/dynamodemo/out/production/classes/io/codebrews/dynamodemo/CustomerHandler.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerRepo' defined in file [/Users/billyde/demo/dynamodemo/out/production/classes/io/codebrews/dynamodemo/CustomerRepo.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dynamoClientProperties' defined in file [/Users/billyde/demo/dynamodemo/out/production/classes/io/codebrews/dynamodemo/DynamoClientProperties.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'io.codebrews.dynamodemo.DynamoConfigProperties' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}<br/>2020-01-16 13:29:03.422  INFO 87367 --- [           main] ConditionEvaluationReportLoggingListener :</span><span id="1309" class="nf lx it lo b gy oa nx l ny nz">Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.<br/>2020-01-16 13:29:03.498 ERROR 87367 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :</span><span id="8ef7" class="nf lx it lo b gy oa nx l ny nz">***************************<br/>APPLICATION FAILED TO START<br/>***************************</span><span id="508a" class="nf lx it lo b gy oa nx l ny nz">Description:</span><span id="00a4" class="nf lx it lo b gy oa nx l ny nz">Parameter 0 of constructor in io.codebrews.dynamodemo.DynamoClientProperties required a bean of type 'io.codebrews.dynamodemo.DynamoConfigProperties' that could not be found.</span><span id="c484" class="nf lx it lo b gy oa nx l ny nz">Action:</span><span id="9fce" class="nf lx it lo b gy oa nx l ny nz">Consider defining a bean of type 'io.codebrews.dynamodemo.DynamoConfigProperties' in your configuration.</span><span id="3e87" class="nf lx it lo b gy oa nx l ny nz">Process finished with exit code 1</span></pre><p id="12ff" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">ä¸å¹¸çš„æ˜¯ï¼ŒSpring ä¼šå‘æ‚¨æŠ±æ€¨å®ƒæ‰¾ä¸åˆ°æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºè¿è¡Œæ‰€éœ€çš„<code class="fe ll lm ln lo b">DynamoConfigProperties</code> beanã€‚è¿™æ˜¯å› ä¸º Spring ä¸ä¼šæ‰«æç”±<code class="fe ll lm ln lo b">@ConfigurationProperties</code>æ³¨é‡Šçš„ç±»ã€‚</p><p id="c972" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">æˆ‘ä»¬æœ€åˆçš„<code class="fe ll lm ln lo b">DynamoConfigProperties</code>å·¥ä½œå¾—å¾ˆå¥½ï¼Œå› ä¸ºæˆ‘ä»¬ç”¨<code class="fe ll lm ln lo b">@Component</code>å¯¹å®ƒè¿›è¡Œäº†æ³¨é‡Šï¼ŒSpring åœ¨æ„å»ºåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡æ—¶ä¼šæ‰«æå®ƒã€‚</p><p id="cdc1" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">æˆ‘çŸ¥é“ä½ åœ¨æƒ³ä»€ä¹ˆâ€¦ä½ ä¼šç»™æ›´æ–°çš„<code class="fe ll lm ln lo b">DynamoConfigProperties</code>æ·»åŠ <code class="fe ll lm ln lo b">@Component</code>æ³¨é‡Šï¼Œæ˜¯å—ï¼Ÿä½†ä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¹Ÿä¸è¡Œï¼Œå½“ä½ å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šæŠ›å‡ºè¿™ä¸ªé”™è¯¯ã€‚</p><pre class="mz na nb nc gt ns lo nt nu aw nv bi"><span id="8611" class="nf lx it lo b gy nw nx l ny nz">2020-01-16 13:45:06.021  WARN 92292 --- [           main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dynamoConfigProperties': <a class="ae kf" href="http://twitter.com/EnableConfigurationP" rel="noopener ugc nofollow" target="_blank">@EnableConfigurationP</a>roperties or <a class="ae kf" href="http://twitter.com/ConfigurationPropert" rel="noopener ugc nofollow" target="_blank">@ConfigurationPropert</a>iesScan must be used to add <a class="ae kf" href="http://twitter.com/ConstructorBinding" rel="noopener ugc nofollow" target="_blank">@ConstructorBinding</a> type io.codebrews.dynamodemo.DynamoConfigProperties<br/>2020-01-16 13:45:06.031  INFO 92292 --- [           main] ConditionEvaluationReportLoggingListener :</span><span id="9dfb" class="nf lx it lo b gy oa nx l ny nz">Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.<br/>2020-01-16 13:45:06.039 ERROR 92292 --- [           main] o.s.boot.SpringApplication               : Application run failed</span><span id="1b76" class="nf lx it lo b gy oa nx l ny nz">org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dynamoConfigProperties': <a class="ae kf" href="http://twitter.com/EnableConfigurationP" rel="noopener ugc nofollow" target="_blank">@EnableConfigurationP</a>roperties or <a class="ae kf" href="http://twitter.com/ConfigurationPropert" rel="noopener ugc nofollow" target="_blank">@ConfigurationPropert</a>iesScan must be used to add <a class="ae kf" href="http://twitter.com/ConstructorBinding" rel="noopener ugc nofollow" target="_blank">@ConstructorBinding</a> type io.codebrews.dynamodemo.DynamoConfigProperties<br/> at org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.validate(ConfigurationPropertiesBeanDefinitionValidator.java:66) ~[spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]<br/> at org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.postProcessBeanFactory(ConfigurationPropertiesBeanDefinitionValidator.java:45) ~[spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]<br/> at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:286) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]<br/> at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:174) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]<br/> at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]<br/> at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]<br/> at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]<br/> at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]<br/> at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]<br/> at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]<br/> at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]<br/> at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]<br/> at io.codebrews.dynamodemo.DynamodemoApplicationKt.main(DynamodemoApplication.kt:15) [classes/:na]</span><span id="6547" class="nf lx it lo b gy oa nx l ny nz">Process finished with exit code 1</span></pre><p id="6489" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">é‚£ä¹ˆï¼Œæˆ‘ä»¬ç°åœ¨åšä»€ä¹ˆï¼Ÿæˆ‘ä»¬æ”¹è¿›äº†ä»£ç çš„ç¼–å†™æ–¹å¼ï¼Œä½†æ˜¯æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå´©æºƒäº†ï¼æˆ‘ä»¬åº”è¯¥å›åˆ°è¿‡å»çš„æ–¹å¼å—ï¼Ÿ</p><p id="7bac" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">ç»å¯¹ä¸è¡Œï¼ğŸ™…â€â™‚</p><p id="d2ec" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">ä»¥ä¸‹æ˜¯ä¿®å¤æ–¹æ³•ã€‚(å…¶å®å¾ˆç®€å•)ã€‚</p><h2 id="c8f5" class="nf lx it bd ly ng nh dn mc ni nj dp mg li nk nl mk lj nm nn mo lk no np ms nq bi translated">å°†é…ç½®å±æ€§æ‰«ææˆ–å¯ç”¨é…ç½®å±æ€§åº”ç”¨åˆ°æˆ‘ä»¬çš„ä¸»åº”ç”¨ç¨‹åºç±»</h2><p id="ead4" class="pw-post-body-paragraph kj kk it km b kn mu kp kq kr mv kt ku li mw kx ky lj mx lb lc lk my lf lg lh im bi translated">å‡­å€Ÿå¦ä¸€ä¸ª Spring Boot çš„æ³¨è§£â€”â€”<code class="fe ll lm ln lo b">@ConfigurationPropertiesScan</code>ã€‚æˆ‘ä»¬è¯•å›¾ç”¨<code class="fe ll lm ln lo b">@Component</code>æ³¨é‡Šæ›´æ–°çš„<code class="fe ll lm ln lo b">DynamoConfigProperties</code>æ—¶ï¼Œé”™è¯¯æ¶ˆæ¯å®é™…ä¸Šå‘Šè¯‰æˆ‘ä»¬ä½¿ç”¨<code class="fe ll lm ln lo b">@ConfigurationPropertiesScan</code>æˆ–<code class="fe ll lm ln lo b">@EnableConfigurationProperties</code>ã€‚</p><p id="ae5a" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ç»§ç»­è¿›è¡Œ<code class="fe ll lm ln lo b">@ConfigurationPropertiesScan</code>ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬åƒè¿™æ ·å°†æ³¨é‡Šæ·»åŠ åˆ°æˆ‘ä»¬çš„<code class="fe ll lm ln lo b">DynamodemoApplication</code>ç±»ä¸­ã€‚</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">å¸¦æœ‰é…ç½®å±æ€§æ‰«æçš„ DynamodemoApplication.kt</p></figure><p id="068c" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">æˆ–è€…ï¼Œå¦‚æœä½ æƒ³ç”¨<code class="fe ll lm ln lo b">@EnableConfigurationProperties</code>ä»£æ›¿ï¼Œè¿™æ˜¯ä½ å¦‚ä½•åšã€‚è¿™éœ€è¦ä¸€ç‚¹é¢å¤–çš„æ­¥éª¤æ¥å®ç°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‚¨éœ€è¦æ˜ç¡®åœ°æŒ‡å®šæ‚¨æƒ³è¦å¯ç”¨å“ªä¸ªé…ç½®ç±»ã€‚åœ¨æˆ‘ä»¬è¿™é‡Œæ˜¯<code class="fe ll lm ln lo b">DynamoConfigProperties</code>ã€‚</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">å¸¦æœ‰ EnableConfigurationProperties çš„ DynamodemoApplication.kt</p></figure><p id="6440" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">å¦‚æœæ‚¨æƒ³è¦å¯ç”¨å…¶ä»–é…ç½®ç±»ï¼Œæ‚¨éœ€è¦æŒ‡å®šæ‰€æœ‰é…ç½®ç±»ï¼Œç”¨é€—å·åˆ†éš”ï¼Œä¾‹å¦‚<code class="fe ll lm ln lo b">@EnableConfigurationProperties(DynamoConfigProperties::class, KafkaConfigProperties::class)</code>ã€‚</p><p id="8ea1" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">åº”ç”¨ä¸Šè¿°ä»»ä¸€é¡¹åï¼Œç»§ç»­è¿è¡Œ<code class="fe ll lm ln lo b">main</code>åŠŸèƒ½ã€‚è¿™æ¬¡æˆ‘ä¸ä¼šå†è€èŠ±æ‹›äº†ã€‚ğŸ˜œ</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ob"><img src="../Images/ace7fc9cd12af211bcbceb59a04be401.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r6vGGe9Xg-5i1foqj5FQAA.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">DynamodemoApplication.kt è¿è¡ŒæˆåŠŸ</p></figure><p id="7faa" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">ç§å•Šã€‚ç°åœ¨ä¸€åˆ‡æ­£å¸¸ã€‚</p><p id="153c" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">å¹²å¾—å¥½ï¼Œä¼™è®¡ä»¬ï¼ğŸ‘ ğŸ‘</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/17c5e8cf5e3ad04cecdb430532ee16bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sqK2Gi_PPtbDZ8-b"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">æ‰˜é‡ŒÂ·è«é‡Œæ£®åœ¨<a class="ae kf" href="https://unsplash.com/photos/E0UKvm8rb8Q" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>æ‹æ‘„çš„ç…§ç‰‡</p></figure><h1 id="8461" class="lw lx it bd ly lz oc mb mc md od mf mg mh oe mj mk ml of mn mo mp og mr ms mt bi translated">å‚è€ƒ</h1><p id="0a97" class="pw-post-body-paragraph kj kk it km b kn mu kp kq kr mv kt ku li mw kx ky lj mx lb lc lk my lf lg lh im bi translated">è¿™é‡Œçš„åº”ç”¨ç¨‹åº Githubâ€”<a class="ae kf" href="https://github.com/billydh/dynamodemo" rel="noopener ugc nofollow" target="_blank"/></p><p id="0a00" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">å…³äºåº”ç”¨ç¨‹åºæœ€åˆæ˜¯å¦‚ä½•æ„å»ºçš„æ•™ç¨‹â€” <a class="ae kf" href="https://medium.com/swlh/how-to-build-a-reactive-microservice-api-with-spring-boot-spring-webflux-and-dynamodb-using-kotlin-e1be3e99b15e" rel="noopener">æ­¤å¤„</a></p><p id="e1c2" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">å…³äº<code class="fe ll lm ln lo b">@ConfigurationProperties</code>â€”â€”<a class="ae kf" href="https://docs.spring.io/spring-boot/docs/2.2.1.RELEASE/reference/html/spring-boot-features.html#boot-features-kotlin-configuration-properties" rel="noopener ugc nofollow" target="_blank">çš„ Spring Boot å®˜æ–¹æ–‡ä»¶åœ¨è¿™é‡Œ</a>ã€‚</p></div></div>    
</body>
</html>