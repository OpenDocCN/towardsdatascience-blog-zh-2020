<html>
<head>
<title>How to Export Pandas DataFrame to CSV</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将熊猫数据帧导出为 CSV 格式</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-export-pandas-dataframe-to-csv-2038e43d9c03?source=collection_archive---------0-----------------------#2020-03-22">https://towardsdatascience.com/how-to-export-pandas-dataframe-to-csv-2038e43d9c03?source=collection_archive---------0-----------------------#2020-03-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8e7a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在这篇文章中，我们将讨论如何将数据帧写入 CSV 文件。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f41187087aff7a8031e751ea7004008f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OgX9d3M38QFMkWhO"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@freegraphictoday?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">绝对视觉</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="f685" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">简短回答</h1><p id="9a3e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最简单的方法是:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="c787" class="ms la it mo b gy mt mu l mv mw">df.to_csv('file_name.csv')</span></pre><p id="0c7c" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated">如果想不带索引导出，只需添加<code class="fe nc nd ne mo b">index=False</code>；</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="4e9b" class="ms la it mo b gy mt mu l mv mw">df.to_csv('file_name.csv', <!-- -->index=False<!-- -->)</span></pre><p id="1895" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated">如果得到<code class="fe nc nd ne mo b">UnicodeEncodeError</code>，简单加<code class="fe nc nd ne mo b">encoding='utf-8'</code>；</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="9a21" class="ms la it mo b gy mt mu l mv mw">df.to_csv('file_name.csv', encoding='utf-8')</span></pre></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="ef05" class="kz la it bd lb lc nm le lf lg nn li lj jz no ka ll kc np kd ln kf nq kg lp lq bi translated">概述熊猫数据框架</h1><p id="8ff6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">熊猫数据框架创建了一个带有标签轴(行和列)的 excel 数据结构。要定义一个数据帧，至少需要数据行和列名(标题)。</p><p id="60bc" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated">这里有一个熊猫数据帧的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="3502" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated">熊猫数据框架是类似 Excel 的数据</p><p id="6c53" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated">生成数据帧的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><h1 id="706b" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">将数据帧导出到 CSV 文件中</h1><p id="bad1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Pandas DataFrame <code class="fe nc nd ne mo b">to_csv()</code>函数将数据帧导出为 CSV 格式。如果提供了文件参数，输出将是 CSV 文件。否则，返回值是类似字符串的 CSV 格式。</p><p id="1c70" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated">以下是一些选项:</p><p id="1254" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated"><strong class="lt iu"> path_or_buf </strong>:文件或字符串的字符串路径</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="ba62" class="ms la it mo b gy mt mu l mv mw">dt.to_csv('file_name.csv’) # relative position<br/>dt.to_csv('C:/Users/abc/Desktop/file_name.csv')</span></pre><p id="d2b9" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated"><strong class="lt iu"> sep </strong>:为 CSV 输出指定一个自定义分隔符，默认为逗号。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="81d3" class="ms la it mo b gy mt mu l mv mw">dt.to_csv('file_name.csv',sep='\t') # Use Tab to seperate data</span></pre><p id="5c3d" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated"><strong class="lt iu"> na_rep </strong>:类似 NaN 的缺失值的字符串表示。默认值为“”。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="2087" class="ms la it mo b gy mt mu l mv mw">dt.to_csv('file_name.csv',na_rep='Unkown') # missing value save as Unknown</span></pre><p id="cc0e" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated"><strong class="lt iu"> float_format: </strong>浮点数的格式字符串。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="6dbf" class="ms la it mo b gy mt mu l mv mw">dt.to_csv('file_name.csv',float_format='%.2f') # rounded to two decimals</span></pre><p id="ca3f" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated"><strong class="lt iu">表头:</strong>是否导出列名。默认值为 True。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="b829" class="ms la it mo b gy mt mu l mv mw">dt.to_csv('file_name.csv',header=False)</span></pre><p id="a901" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated"><strong class="lt iu">列</strong>:要写入的列。默认值为 None，每一列都将导出为 CSV 格式。如果设置，只有<em class="nt">列</em>会被导出。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="9fd4" class="ms la it mo b gy mt mu l mv mw">dt.to_csv('file_name.csv',columns=['name'])</span></pre><p id="a8d9" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated"><strong class="lt iu">索引</strong>:是否写行索引号。默认值为 True。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="58bf" class="ms la it mo b gy mt mu l mv mw">dt.to_csv('file_name.csv',index=False)</span></pre></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="d1f9" class="kz la it bd lb lc nm le lf lg nn li lj jz no ka ll kc np kd ln kf nq kg lp lq bi translated">附录</h1><p id="5bbb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">写入 CSV 文件的常见场景</p><p id="4c55" class="pw-post-body-paragraph lr ls it lt b lu mx ju lw lx my jx lz ma mz mc md me na mg mh mi nb mk ml mm im bi translated">DataFrame to_csv()的语法是:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="34af" class="ms la it mo b gy mt mu l mv mw">DataFrame.to_csv(<br/>  self, <br/>  path_or_buf, <br/>  sep: str = ',', <br/>  na_rep: str = '', <br/>  float_format: Union[str, NoneType] = None, <br/>  columns: Union[Sequence[Union[Hashable, NoneType]], NoneType] =    None, <br/>  header: Union[bool, List[str]] = True, <br/>  index: bool = True, <br/>  index_label: Union[bool, str, <br/>  Sequence[Union[Hashable, NoneType]], NoneType] = None, <br/>  mode: str = 'w', <br/>  encoding: Union[str, NoneType] = None, <br/>  compression: Union[str, Mapping[str, str], NoneType] = 'infer',  <br/>  quoting: Union[int, NoneType] = None, <br/>  quotechar: str = '"', <br/>  line_terminator: Union[str, NoneType] = None, <br/>  chunksize: Union[int, NoneType] = None, <br/>  date_format: Union[str, NoneType] = None, <br/>  doublequote: bool = True, <br/>  escapechar: Union[str, NoneType] = None, <br/>  decimal: Union[str, NoneType] = '.')</span></pre><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用 to_csv 的常见场景</p></figure></div></div>    
</body>
</html>