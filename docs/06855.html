<html>
<head>
<title>Stop Using Semicolons in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Python 中停止使用分号</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/stop-using-semicolons-in-python-fd3ce4ff1086?source=collection_archive---------6-----------------------#2020-05-28">https://towardsdatascience.com/stop-using-semicolons-in-python-fd3ce4ff1086?source=collection_archive---------6-----------------------#2020-05-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f98f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">它们很少有用，看起来也不漂亮</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9dedb3b2acafa245687ccb5ddd95ed83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fd0HEKrLZvCBb015"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@nadineshaabana?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">纳丁·沙巴纳</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="48ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">来自 C/C++背景的我，习惯了在代码中看到很多分号<code class="fe lv lw lx ly b">;</code>。它们用来代表<a class="ae ky" href="https://www.tutorialspoint.com/Semicolons-in-Cplusplus" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">语句终止</strong> </a> <strong class="lb iu">。</strong></p><p id="6682" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，Python <a class="ae ky" href="https://python-reference.readthedocs.io/en/latest/docs/operators/semicolon.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">并不强制</strong> </a>使用分号来分隔语句。然而，我经常遇到充斥着分号的 Python 代码。</p><p id="c031" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最近，我参加了一个关于 Python 的数据科学课程。讲师正在介绍<a class="ae ky" href="https://realpython.com/python-conditional-statements/" rel="noopener ugc nofollow" target="_blank">条件语句</a>并编写了以下代码:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="164d" class="md me it ly b gy mf mg l mh mi">temp = 10;</span><span id="7b2d" class="md me it ly b gy mj mg l mh mi">if temp &lt;12: print('It is cold'); cold = True;</span></pre><p id="61c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的反应:纯恐怖！</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mk ml l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://giphy.com/gifs/yXIeZ0EH2hORG" rel="noopener ugc nofollow" target="_blank"> Giphy </a></p></figure><p id="39bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在 Python 中，分号只在非典型情况下使用。因此，我准备了一个小指南，解释为什么不应该在 Python 中使用分号，并指出少数例外。</p></div><div class="ab cl mm mn hx mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="im in io ip iq"><h1 id="bba5" class="mt me it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">语句终止符</h1><p id="d2c6" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">在许多流行的编程语言中，你需要在每个语句的末尾添加一个分号。例如，在 C++中:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="a947" class="md me it ly b gy mf mg l mh mi">int c = 10;<br/>int a = 5;</span><span id="8e3b" class="md me it ly b gy mj mg l mh mi">printf('In C++, semicolon at the end is must');</span></pre><p id="8716" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是对于 Python 来说，这是不成立的。</p><p id="be0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python 是一种不废话的编程语言。它远离<strong class="lb iu">不必要的字符和语法</strong>。</p><p id="8eb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在 Python 中，语句在行尾结束(左括号、引号或圆括号除外)。例如:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="edb3" class="md me it ly b gy mf mg l mh mi">c = 10<br/>a = 5</span><span id="79cf" class="md me it ly b gy mj mg l mh mi">print('No semicolons in Python')</span></pre></div><div class="ab cl mm mn hx mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="im in io ip iq"><h1 id="26e5" class="mt me it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">报表分隔符</h1><p id="848a" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">Python 中的分号表示<a class="ae ky" href="https://stackoverflow.com/questions/8236380/why-is-semicolon-allowed-in-this-python-snippet" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">分隔</strong> </a>，而不是终止。它允许你在同一行写多条语句。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="3175" class="md me it ly b gy mf mg l mh mi">print('Statement 1'); print('Statement 2'); print('Statement 3')</span></pre><p id="7a77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种语法也使得在单个语句的末尾放置分号是合法的:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="23f3" class="md me it ly b gy mf mg l mh mi">print('Why God? WHY?');</span></pre><p id="0f67" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个语句的意思是打印(“…”)，然后什么都不做。所以，它实际上是两个语句，其中第二个是空的。</p><p id="e069" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管这种语言允许用分号来分隔语句，但大多数 Python 程序员都不会在他们的代码中使用它。</p><p id="2737" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是为什么呢？<strong class="lb iu">它不是</strong> <a class="ae ky" href="https://docs.python-guide.org/writing/style/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">蟒</strong> </a> <strong class="lb iu">。</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np ml l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://giphy.com/gifs/annoyed-eye-roll-judge-judy-Rhhr8D5mKSX7O" rel="noopener ugc nofollow" target="_blank"> Giphy </a></p></figure><blockquote class="nq"><p id="6d50" class="nr ns it bd nt nu nv nw nx ny nz lu dk translated">Python 应该是<strong class="ak">干净</strong>和<strong class="ak">可读</strong>的。像分号这样的语法字符增加了不必要的混乱。</p></blockquote><p id="e0bb" class="pw-post-body-paragraph kz la it lb b lc oa ju le lf ob jx lh li oc lk ll lm od lo lp lq oe ls lt lu im bi translated">如果你把这样的代码发给一个有经验的 Python 程序员，你将永远听不到它的结尾。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of ml l"/></div></figure><p id="9c91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将多条语句放在一行会使琐碎的代码更难阅读。</p></div><div class="ab cl mm mn hx mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="im in io ip iq"><h1 id="84a4" class="mt me it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">什么时候使用分号？</h1><p id="36a7" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">因此，这里的一个逻辑问题是:<strong class="lb iu">为什么 Python 中允许使用分号？</strong></p><p id="a9a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我相信这样做是为了使从其他编程语言的过渡稍微容易一些。有 Java、C++和 PHP 背景的程序员习惯性地在每一行的末尾加上<strong class="lb iu">一个(无用的)终止符</strong>。</p><p id="44f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管如此，在某些情况下分号会派上用场。</p><h2 id="0ee2" class="md me it bd mu og oh dn my oi oj dp nc li ok ol ne lm om on ng lq oo op ni oq bi translated">从 Shell 运行脚本</h2><p id="a0df" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">最常见的一种情况是<strong class="lb iu">使用<code class="fe lv lw lx ly b">python -c '&lt;script&gt;'</code>从 shell </strong>运行一个简短的脚本。</p><p id="9ff0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要键入许多用分号分隔的表达式，因为我们在这里不能使用缩进。看一看:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="5991" class="md me it ly b gy mf mg l mh mi">python -c 'import math; t = math.pi;print(int(t))’</span></pre><p id="888f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个用例是<a class="ae ky" href="https://www.geeksforgeeks.org/exec-in-python/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> exec 语句</strong> </a>:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="a314" class="md me it ly b gy mf mg l mh mi">exec('for i in [100,200,300]: print(i);print(i*2)')</span></pre><h2 id="085b" class="md me it bd mu og oh dn my oi oj dp nc li ok ol ne lm om on ng lq oo op ni oq bi translated">评估表达式的副作用</h2><p id="cfe9" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">在类似<a class="ae ky" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Jupyter 笔记本</strong> </a>的交互环境下工作时，最后一个表达式返回的值以字符串的形式打印出来。</p><p id="fdde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们评估一个函数的<a class="ae ky" href="https://stackoverflow.com/questions/44036657/side-effects-in-python" rel="noopener ugc nofollow" target="_blank">副作用</a>的情况下，这可能很烦人。我们来看<code class="fe lv lw lx ly b"><a class="ae ky" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank">matplotlib</a></code>中副作用是剧情的这一期。</p><p id="98d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我会在我的 Jupyter 笔记本里创建一个<a class="ae ky" href="https://matplotlib.org/3.2.1/api/_as_gen/matplotlib.pyplot.hist.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">简单直方图</strong> </a>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of ml l"/></div></figure><p id="e7a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如下图所示，运行这个脚本在输出:<code class="fe lv lw lx ly b">Text(0.5, 1.0, ‘Histogram’)</code>中添加了<strong class="lb iu">一个多余的行</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/85c5ccf1a3eb1323683f5c9bee4dbdb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*2iSzNMd9wsrnbWBVSTfrkw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:作者</p></figure><p id="8b2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这其实就是对<code class="fe lv lw lx ly b">.set_title(...)</code>调用的<strong class="lb iu">返回值</strong>。</p><p id="f6f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了抑制输出，我们<strong class="lb iu">在最后一条语句</strong>的末尾添加了一个分号:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="3f86" class="md me it ly b gy mf mg l mh mi">axis.set_title('Histogram', size=10);</span></pre></div><div class="ab cl mm mn hx mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="im in io ip iq"><h1 id="dbd1" class="mt me it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">结论</h1><p id="75e5" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">像许多 Python 程序员一样，我认为我们应该在编写代码时避免添加任何多余的字符。</p><p id="d670" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">分号是合法的。但这并不意味着你应该使用它。</strong></p><blockquote class="nq"><p id="0301" class="nr ns it bd nt nu os ot ou ov ow lu dk translated">只有在必要时才使用它。</p></blockquote><p id="5efc" class="pw-post-body-paragraph kz la it lb b lc oa ju le lf ob jx lh li oc lk ll lm od lo lp lq oe ls lt lu im bi translated">我希望你发现这个故事信息丰富和有用！你可以在这里阅读更多关于 Python 哲学的内容:</p><div class="ox oy gp gr oz pa"><a href="https://medium.com/better-programming/contemplating-the-zen-of-python-186722b833e5" rel="noopener follow" target="_blank"><div class="pb ab fo"><div class="pc ab pd cl cj pe"><h2 class="bd iu gy z fp pf fr fs pg fu fw is bi translated">思考 Python 的禅</h2><div class="ph l"><h3 class="bd b gy z fp pf fr fs pg fu fw dk translated">浅析 Python 设计的 19 条指导原则</h3></div><div class="pi l"><p class="bd b dl z fp pf fr fs pg fu fw dk translated">medium.com</p></div></div><div class="pj l"><div class="pk l pl pm pn pj po ks pa"/></div></div></a></div></div></div>    
</body>
</html>