<html>
<head>
<title>How to build a contextual assistant using RASA Forms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用RASA表单构建上下文助手</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-build-a-contextual-assistant-using-rasa-forms-82e014a10dea?source=collection_archive---------30-----------------------#2020-05-28">https://towardsdatascience.com/how-to-build-a-contextual-assistant-using-rasa-forms-82e014a10dea?source=collection_archive---------30-----------------------#2020-05-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d1f6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个超级简单的指南，创建一个带有表单集成的信息检索聊天机器人。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/07ea80a3f7fbd02650dedfd7de99d205.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V6nsBnEzP0sCdia9udGxTA.jpeg"/></div></div></figure><p id="fa45" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们非常清楚聊天机器人是这一代人的未来，我相信每个人都必须知道聊天机器人如何工作的基本知识。这正是我这篇文章的目的，我希望读完这篇文章后，你可以构建自己的机器人。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="b94c" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">介绍</h1><p id="68bb" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">你可以在RASA上找到很多使用RASA APIs构建聊天机器人的教程。但是我最近没有发现任何详细讨论和简化我的研究的东西，比如对我来说最重要的安装问题。</p><p id="6b0b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这篇文章中，我很乐意与你分享我用Rasa框架构建聊天机器人的旅程，在这个过程中，我们将从用户那里收集一些信息。我们将从安装部分开始，直到与机器人交谈。</p><h1 id="dda4" class="lx ly it bd lz ma mu mc md me mv mg mh jz mw ka mj kc mx kd ml kf my kg mn mo bi translated">目录</h1><ol class=""><li id="0440" class="mz na it kw b kx mp la mq ld nb lh nc ll nd lp ne nf ng nh bi translated">信息检索聊天机器人</li><li id="f7c7" class="mz na it kw b kx ni la nj ld nk lh nl ll nm lp ne nf ng nh bi translated">RASA框架概述</li><li id="8065" class="mz na it kw b kx ni la nj ld nk lh nl ll nm lp ne nf ng nh bi translated">安装Rasa及其依赖项</li><li id="dc92" class="mz na it kw b kx ni la nj ld nk lh nl ll nm lp ne nf ng nh bi translated">构建使用表单接收用户信息的聊天机器人</li></ol><h1 id="4b33" class="lx ly it bd lz ma mu mc md me mv mg mh jz mw ka mj kc mx kd ml kf my kg mn mo bi translated">信息检索聊天机器人</h1><p id="6b1a" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">聊天机器人是一种计算机程序或人工智能，它通过听觉或文本方法进行对话。这类程序通常被设计成令人信服地模拟人类作为对话伙伴的行为。聊天机器人通常在对话系统中用于各种实际目的，包括客户服务或信息获取。一些聊天机器人使用复杂的自然语言处理系统，但许多更简单的系统会扫描输入中的关键词，然后从数据库中提取最匹配的关键词或最相似的措辞模式进行回复。关于聊天机器人定义的更多细节和更基本的理解，如<em class="nn">什么是意图？和实体？你可以在这个<a class="ae no" href="https://medium.com/analytics-vidhya/how-i-built-my-first-chatbot-for-slack-using-dialogflow-and-node-js-in-minutes-9ce7e5b81c8c" rel="noopener">链接</a> <em class="nn">查看我之前关于聊天机器人的文章。</em></em></p><p id="861e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如今，大多数聊天机器人都用于一个特定的应用程序，从用户那里收集一些信息，以便提供一些东西(预订餐馆、搜索数据库等)。).这也叫<strong class="kw iu">槽填充。这类机器人旨在提供类似人类的答案，无需人工干预。在这里，系统试图理解你想问什么问题。并给你这样的表格来保存你的具体信息。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/953ea38f4b0f8615c53a5451e9ce3dd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dp8WWfSUJshh7xvByAvM7A.png"/></div></div><p class="nq nr gj gh gi ns nt bd b be z dk translated">网站注册表格示例:图片<a class="ae no" href="https://docs.easydigitaldownloads.com/article/959-frontend-submissions-registration-form-editor" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="48ae" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在本文中，我们将构建一个聊天机器人来填充这样一个简单的表格，以供学习之用。所以你要跟我到最后。</p><h1 id="10ae" class="lx ly it bd lz ma mu mc md me mv mg mh jz mw ka mj kc mx kd ml kf my kg mn mo bi translated">RASA框架概述</h1><p id="0a3a" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">RASA是一个开源的对话式人工智能框架。我最喜欢这个框架的是数据隐私，在这里你不需要担心把你的数据放在别人的云中——像微软Luis或者亚马逊Lex。目前，有3种人工智能助手:</p><ul class=""><li id="6e16" class="mz na it kw b kx ky la lb ld nu lh nv ll nw lp nx nf ng nh bi translated"><strong class="kw iu">通知助手:</strong>能够发送简单的通知，如文本消息，推送通知。</li><li id="7e76" class="mz na it kw b kx ni la nj ld nk lh nl ll nm lp nx nf ng nh bi translated"><strong class="kw iu">常见问题助手:</strong>当今最常见的助手类型。它可以回答简单的问题，比如常见问题。</li><li id="7855" class="mz na it kw b kx ni la nj ld nk lh nl ll nm lp nx nf ng nh bi translated"><strong class="kw iu">上下文助手:</strong>能够优雅地处理任何用户目标，并帮助尽可能好地完成它。这意味着它能够理解和响应不同的和意外的输入。</li></ul><p id="f35b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">RASA 框架有三个主要组件，它们协同工作来创建上下文助手:</p><ul class=""><li id="adc5" class="mz na it kw b kx ky la lb ld nu lh nv ll nw lp nx nf ng nh bi translated"><strong class="kw iu">拉莎·NLU:</strong>是自然语言理解。假设用户说“我想订一本书”。NLU的工作就是接受这些输入，理解用户的意图，并找到输入中的实体。比如上面这句话，意图是<em class="nn">订购</em>，实体是<em class="nn">一本书</em>。Rasa NLU内部使用词袋(BoW)算法来查找意图，使用条件随机场(CRF)来查找实体。尽管您可以使用其他算法通过Rasa来查找意图和实体。</li><li id="cadd" class="mz na it kw b kx ni la nj ld nk lh nl ll nm lp nx nf ng nh bi translated"><strong class="kw iu"> RASA核心:</strong>核心是RASA的对话管理组件。它根据<strong class="kw iu"> <em class="nn">【对话状态】</em> </strong>和<strong class="kw iu"> <em class="nn">【上下文】</em> </strong>决定助理应该如何回应。Rasa Core通过观察用户和助手之间的对话数据模式进行学习。它不是一堆if/else语句，而是使用一个经过示例对话训练的机器学习模型来决定下一步该做什么。</li><li id="d56a" class="mz na it kw b kx ni la nj ld nk lh nl ll nm lp nx nf ng nh bi translated">RASA X: 是一个工具集，开发人员可以用它来构建、改进和部署RASA框架的上下文助手。Rasa X的好处在于，你可以与真实用户分享你的助手，并收集他们与机器人的对话，让你在不中断机器人在生产中运行的情况下改进它。</li></ul><p id="b4e1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">用法:</strong>安装Rasa后，你会发现3个文件，分别是:</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="b970" class="od ly it nz b gy oe of l og oh">domain.yml, stories.md, nlu.md</span></pre><p id="5ac0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">它们分别定义了你的机器人生活的世界，机器人必须遵循的对话主干，以及它被训练来分类意图和实体的数据。</p><p id="3637" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">域:</strong>定义你的机器人运行的宇宙。它准确地指定了:<br/> -你期望对<br/>做出哪些反应-你希望跟踪哪些槽<br/> -你的机器人可以采取哪些行动<br/> <strong class="kw iu"> <em class="nn">什么是槽？</em> </strong> <br/> <strong class="kw iu">时段</strong>是你想在对话中记录的东西。</p><p id="2dc4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">动作:</strong>是你的机器人可以做的事情。例如，操作可以:<br/> -响应用户。<br/> -进行外部API调用。<br/> -查询数据库。</p><p id="34ee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">故事:</strong>对话系统的训练数据样本称为故事。这向机器人展示了如何对用户的输入做出反应。它以一个名字开头，名字前面有两个哈希<code class="fe oi oj ok nz b">##</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/7f5118a2b53f69de240f1fe6419fa83c.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*YMTS6PhH6KZK8xQzMr0RTg.png"/></div><p class="nq nr gj gh gi ns nt bd b be z dk translated">我们的故事为这篇文章提供了入学查询的例子</p></figure><p id="f13d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> NLU数据:</strong>用来训练NLU的数据。这是它看起来的样子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/9f918973c2adaff28b4ca68f109454f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8RqomdduraFyGZwp3zfD1g.png"/></div></div><p class="nq nr gj gh gi ns nt bd b be z dk translated">我们的data/nlu.md文件的屏幕截图</p></figure><p id="10f0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">该模型根据这些示例进行训练。黄金法则是，例子越多(每个意图)，预测就越准确。</p><p id="7c6b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因此，根据上述3个文件的定义和内容，您的机器人将被训练并相应地执行。</p><h1 id="bb7f" class="lx ly it bd lz ma mu mc md me mv mg mh jz mw ka mj kc mx kd ml kf my kg mn mo bi translated">安装Rasa及其依赖项</h1><p id="e9b0" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">我在windows 10和Ubuntu 19.04中都安装了RASA。老实说，我一直认为开始用RASA构建人工智能助手的最快方法是在命令行上，步骤非常简单。<br/>你可以用一个命令同时安装Rasa (NLU和内核)和Rasa X，但是你需要先<strong class="kw iu"> <em class="nn">升级你的pip，</em> </strong>下面是<em class="nn"> Ubuntu 19.04 </em>中的安装步骤。</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="7992" class="od ly it nz b gy oe of l og oh">$python3 -m pip install --user --upgrade pip<br/>$python3 -m pip install --user rasa --default-timeout=100</span></pre><p id="c4ca" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">空间相关性:</strong>有关空间的更多信息，请查看<a class="ae no" href="https://spacy.io/usage/models" rel="noopener ugc nofollow" target="_blank">空间文档</a>。您可以使用以下命令安装它:</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="d5a8" class="od ly it nz b gy oe of l og oh">$python3 -m pip install --user <!-- -->-U spacy<br/>$python3 --user <!-- -->-m spacy download en_core_web_sm</span></pre><p id="aae1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">恭喜你！您已经成功安装了Rasa开源！</strong> 🥳</p><p id="2d92" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您现在可以创建新项目了。为此，您只需运行:</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="14c0" class="od ly it nz b gy oe of l og oh">$mkdir myfirst_Bot<br/>$cd myfirst_Bot<br/>$rasa init --no-prompt</span></pre><p id="7f66" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe oi oj ok nz b">rasa init</code>创建Rasa项目需要的所有文件，并在一些样本数据上训练一个简单的机器人。如果你忽略了<code class="fe oi oj ok nz b">--no-prompt</code>标志，你将会被问到一些关于你希望你的项目如何建立的问题。</p><p id="9091" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，是时候了解一些更高级的RASA特性了。</p><h1 id="a2ba" class="lx ly it bd lz ma mu mc md me mv mg mh jz mw ka mj kc mx kd ml kf my kg mn mo bi translated">构建使用表单接收用户信息的聊天机器人</h1><p id="c066" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">我们现在知道，上下文助手不仅仅是简单的FAQ机器人。它需要收集在正确的上下文中回答用户问题所需的重要细节。在这篇文章中，我将向你展示如何建立一个简单的演示表格机器人，关于录取过程，它会问你的名字，你的SSN号码，以及你想学的科目。</p><p id="aeeb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">那么，如何实现这个聊天机器人呢？🤔很高兴你问了。👇</p><p id="694f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，我们需要创建一个新文件夹，您可以随意命名。然后运行<code class="fe oi oj ok nz b">rasa init</code>来创建一个RASA项目需要的所有文件。</p><p id="8c91" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这些表格最棒的地方在于，助理从一个单独的培训故事中学会了如何处理入学途径。为了简化事情，避免冗长乏味的文章，gif中总结了创建这个聊天机器人的过程，并提供了详细信息。查看下面的gif以获得更多说明:💡 👇👇</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/ab1964b9161147da8ef1c347bb4deea3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*df_UKkVxW76rdWNMi-OrJg.gif"/></div></div></figure><p id="45d7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，我们可以尝试<strong class="kw iu"> Rasa X </strong>进行深入理解，并验证我们的验证函数是否工作正常。👇</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/2748fe61c6c6b80ac2420fe5298c9676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*bjepcNOeP630a4Yl2CoGPA.gif"/></div></div></figure><p id="980b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">而且成功了！！🎉🎉 👏 👏</p><p id="c9a2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，你也可以创建一个简单但很好的像人一样的对话聊天机器人。😉😉</p><h1 id="e686" class="lx ly it bd lz ma mu mc md me mv mg mh jz mw ka mj kc mx kd ml kf my kg mn mo bi translated">结论</h1><blockquote class="oo op oq"><p id="c969" class="ku kv nn kw b kx ky ju kz la lb jx lc or le lf lg os li lj lk ot lm ln lo lp im bi translated">"一次好的谈话可以永远改变改变的方向."<strong class="kw iu"> —琳达·兰伯特。</strong></p></blockquote><p id="4c7c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是一个创建使用表单接收信息的对话聊天机器人的教程。现在，我认为你已经有了基本的东西，你可以添加尽可能多的交互性来创建你自己的聊天机器人，用于餐馆预订、医生预约等。</p><p id="740b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通过这篇文章，我想告诉你创建聊天机器人既不容易也不困难。我们利用Rasa的能力，用最少的训练数据创建了一个机器人。Rasa是一个非常有用的库，你可以试验和修改它来创建一些真正有用的聊天机器人。不要止步于此，继续尝试更多。🤖👩‍💻</p><p id="b4fb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> <em class="nn">快乐阅读，快乐学习，快乐编码。</em>T9】</strong></p><h1 id="7dc8" class="lx ly it bd lz ma mu mc md me mv mg mh jz mw ka mj kc mx kd ml kf my kg mn mo bi translated">在你离开之前:</h1><p id="4385" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">如果您有任何问题或任何不清楚的地方，请告诉我，如果您想要这个项目的源代码，可以通过我的<em class="nn"/><a class="ae no" href="https://www.linkedin.com/in/amal-menzli-3ab655155/" rel="noopener ugc nofollow" target="_blank"><em class="nn">LinkedIn</em></a>联系我或给我发电子邮件。</p><p id="184e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您也可以查看我之前关于构建聊天机器人的文章:</p><div class="ou ov gp gr ow ox"><a href="https://medium.com/analytics-vidhya/how-i-built-my-first-chatbot-for-slack-using-dialogflow-and-node-js-in-minutes-9ce7e5b81c8c" rel="noopener follow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd iu gy z fp pc fr fs pd fu fw is bi translated">我如何在几分钟内使用Dialogflow和Node.js为Slack构建我的第一个聊天机器人</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">构建您的第一个货币转换器聊天机器人，并部署在Slack。</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">medium.com</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl ks ox"/></div></div></a></div><h1 id="ee72" class="lx ly it bd lz ma mu mc md me mv mg mh jz mw ka mj kc mx kd ml kf my kg mn mo bi translated">参考资料:</h1><ol class=""><li id="2e4a" class="mz na it kw b kx mp la mq ld nb lh nc ll nd lp ne nf ng nh bi translated">RASA文件(<a class="ae no" href="https://rasa.com/docs/rasa/user-guide/rasa-tutorial/" rel="noopener ugc nofollow" target="_blank"> Rasa基础知识</a>)。</li><li id="87b8" class="mz na it kw b kx ni la nj ld nk lh nl ll nm lp ne nf ng nh bi translated">来自Justina的关于如何用Rasa构建上下文助手的教程<a class="ae no" href="https://blog.rasa.com/building-contextual-assistants-with-rasa-formaction/" rel="noopener ugc nofollow" target="_blank">。</a></li></ol></div></div>    
</body>
</html>