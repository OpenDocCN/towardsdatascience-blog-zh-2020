<html>
<head>
<title>Is this trawler fishing? Supervised classification with the Global Fishing Watch dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这是拖网渔船在捕鱼吗？全球渔业观察数据集的监督分类</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/is-a-trawler-fishing-modelling-the-global-fishing-watch-dataset-d1ffb3e7624a?source=collection_archive---------55-----------------------#2020-05-24">https://towardsdatascience.com/is-a-trawler-fishing-modelling-the-global-fishing-watch-dataset-d1ffb3e7624a?source=collection_archive---------55-----------------------#2020-05-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f9e667ceb2066d4ed22ec19fc2610f78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gPKeDJwE0UaqtaNvg41aTg.jpeg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/s/photos/commercial-fishing-gear?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kc" href="https://unsplash.com/@egle_sidaraviciute?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Egle sidaravicuite</a>拍摄</p></figure><p id="a8ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Metis数据科学训练营现在已经过了中点，我还有一个项目。这是继我的<a class="ae kc" rel="noopener" target="_blank" href="/mta-turstile-data-my-first-taste-of-a-data-science-project-493b03f1708a">对纽约MTA地铁数据集</a>的探索性数据分析之后的第三个，随后是<a class="ae kc" rel="noopener" target="_blank" href="/myanimelist-user-scores-fun-with-web-scraping-and-linear-regression-9dd97900a82b">使用线性回归根据搜集的数据对MyAnimeList上的动漫用户分数建模</a>。</p><p id="4faf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第三个项目的目的是什么？简单地说，<strong class="kf ir">根据全球渔业观察(GFW)数据集</strong>提供的特征，使用监督分类来确定特定渔船是否在捕鱼。</p><h2 id="816b" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">TL；博士:</h2><ul class=""><li id="8844" class="lu lv iq kf b kg lw kk lx ko ly ks lz kw ma la mb mc md me bi translated"><strong class="kf ir">从GFW数据集中的约160，000个条目中检索并设计了8个特征</strong>，主要针对拖网渔船</li><li id="67e8" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated"><strong class="kf ir">重复的容器ID</strong>意味着我必须为将来的工作留下时间序列数据</li><li id="a1a8" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated"><strong class="kf ir">随机森林</strong>优于逻辑回归、高斯朴素贝叶斯和K近邻，并且在测试数据集和样本外拖网渔船数据上表现非常好</li><li id="29d5" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">接下来的步骤是<strong class="kf ir">解开类似的容器ID</strong>；将模型扩展到<strong class="kf ir">包含不同的齿轮类型</strong>；应用模型到<strong class="kf ir">确定不同的齿轮类型</strong>以及<strong class="kf ir">一艘船是否是渔船</strong>；和<strong class="kf ir">调查更多复杂模型</strong></li></ul></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="dc98" class="mr lc iq bd ld ms mt mu lg mv mw mx lj my mz na lm nb nc nd lp ne nf ng ls nh bi translated">一.背景</h1><p id="2999" class="pw-post-body-paragraph kd ke iq kf b kg lw ki kj kk lx km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">根据联合国粮食及农业组织的数据，截至2015年，大约三分之一的全球渔场被过度捕捞。它继续解释为什么这是一件如此糟糕的事情:</p><blockquote class="nl nm nn"><p id="fac4" class="kd ke no kf b kg kh ki kj kk kl km kn np kp kq kr nq kt ku kv nr kx ky kz la ij bi translated">过度捕捞不仅减少了粮食产量，还损害了生态系统的功能，减少了生物多样性，对经济和社会产生了负面影响。</p></blockquote><p id="6400" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了跟踪过度捕捞，首先需要跟踪任何时候有哪些船只在捕鱼。这就是GFW的数据发挥作用的地方。</p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/ddba38928fd93fe79f857021910c54e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*fyeOOsG2r716t-kxdjcVyg.png"/></div></figure><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/34b531a25285cac340b26bde01012b8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*1zreUKlT1V0Pvu4Q6Trv5Q.png"/></div></figure><h1 id="efcd" class="mr lc iq bd ld ms nx mu lg mv ny mx lj my nz na lm nb oa nd lp ne ob ng ls nh bi translated">二。检索数据</h1><p id="5900" class="pw-post-body-paragraph kd ke iq kf b kg lw ki kj kk lx km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">GFW的目标是“通过增加透明度来促进海洋的可持续性和管理”这种透明度的一部分包括公开相关数据，因此我能够下载带有各种类型渔具的渔船的csv文件。[ <a class="ae kc" href="#ee39" rel="noopener ugc nofollow"> 1 </a></p><blockquote class="nl nm nn"><p id="ee39" class="kd ke no kf b kg kh ki kj kk kl km kn np kp kq kr nq kt ku kv nr kx ky kz la ij bi translated">[1]自2020年5月20日起，GFW网站上不再提供csv文件；相反，他们的<a class="ae kc" href="https://github.com/GlobalFishingWatch/training-data" rel="noopener ugc nofollow" target="_blank"> GitHub </a>有一组csv和numpy文件，以几种不同的方式呈现数据。任何进一步的调查都可能会利用这些数据。</p></blockquote><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oc"><img src="../Images/5e7080147e851cc645b705e28285506e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pb9lphkPGsrFOv676GrveQ.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">从GFW网站下载的csv文件列表，以及记录数量</p></figure><p id="ece8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从上表可以看出，有一个<strong class="kf ir"> lot </strong>的记录！为了这次调查的目的，我选择将重点放在<strong class="kf ir">拖网渔船</strong>上，因为它们是第二大渔具类型，我的系统上仍然可以管理440万行数据。</p><p id="5aa5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">GFW csv文件具有以下功能:</p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oc"><img src="../Images/82dce4a3df171e9124356d563028a81c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uJzXvdp_6tfHM_d3Pi1pmg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">GFW csv文件中的功能列表</p></figure><p id="4e0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我删除了更多行，如下所示:</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h2 id="0746" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated"><strong class="ak">答)是_钓鱼</strong></h2><p id="9249" class="pw-post-body-paragraph kd ke iq kf b kg lw ki kj kk lx km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">我们的目标变量由GFW聘请的分析师生成，以确定船只是否在捕鱼。因此，介于1和0之间的值表示至少有一位分析师不同意其他分析师的结论。此外，三分之二以上的数据没有is_fishing的数据。</p><p id="c49a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">出于训练和测试的目的，我因此删除了捕鱼不是1(意味着船只正在捕鱼)或0(意味着船只没有捕鱼)的所有行。这给我留下了大约160，000行数据，这更易于管理。</p><h2 id="654c" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">b)缺失数据</h2><p id="0897" class="pw-post-body-paragraph kd ke iq kf b kg lw ki kj kk lx km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">只有2行数据缺失(速度和航向)，因此在本次调查中被删除。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="4e90" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">即使有160，000行而不是百万行，将所有内容加载到Pandas也会降低速度，有时还会导致内存错误。我求助于将我的数据加载到PostgreSQL数据库中来缓解这些内存问题，也是为了将来的可扩展性。</p><p id="8ed1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我还根据记录的MMSI将数据分为训练和测试数据集(80/20分割)。我需要避免使用同一艘船的数据来预测其后续行为的情况。</p><h1 id="4fc8" class="mr lc iq bd ld ms nx mu lg mv ny mx lj my nz na lm nb oa nd lp ne ob ng ls nh bi translated">三。准备数据</h1><h2 id="57a5" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">a)时间序列转换-等等，为什么会有重复的MMSI！？</h2><p id="29f9" class="pw-post-body-paragraph kd ke iq kf b kg lw ki kj kk lx km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">每艘船的MMSI(海上移动服务身份)应该是唯一的。因此，每个MMSI和时间戳对都应该是唯一的，这似乎是合理的，因此我可以使用一些历史数据来导出其他特征，例如经度、纬度、速度和路线的先前值或移动平均值，以及花费的时间和行驶的距离。</p><p id="47a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，当我试图用我的数据集验证这一点时，我发现了MMSI和时间戳的重复配对:</p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi od"><img src="../Images/a234aff90a78cf4a9ed51aa04264dfd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e4GbutImnWL3zP-5yXC-RQ.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">等等，什么？？？</p></figure><p id="8136" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在bokeh绘制第一个MMSI的路径产生了以下结果:</p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oe"><img src="../Images/41d7af70ed01ce5da6a47954818b8c88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ePD6Fkg_RjJGsqg9k2VdMw.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">2013年7月9日第一次MMSI采取的假定路线。注意西非中部的无意义坐标。</p></figure><p id="a5f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">事实证明，复制MMSI症实际上是一个常见的问题。GFW是这样说的:</p><blockquote class="nl nm nn"><p id="468c" class="kd ke no kf b kg kh ki kj kk kl km kn np kp kq kr nq kt ku kv nr kx ky kz la ij bi translated">每个操作员都必须手动将他们的AIS信息(包含他们的MMSI)输入到他们的应答器中，这给有意或无意的错误留下了很大的空间。我们已经看到了毫无意义的任意代码，以及太不完整而无法提供关于船只身份的有用信息的代码。…这意味着在整个海洋中，多艘船只同时广播同一个MMSI号码，如果不仔细检查，很难区分它们。</p></blockquote><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div class="gh gi of"><img src="../Images/ccdec9bbc59c484eef255b859020da2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/0*MAlkSA4oiayk3H1D.jpg"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">虚线表示一个特殊的MMSI的明显的来回传送。看看这一团糟！来源:<a class="ae kc" href="https://globalfishingwatch.org/data/spoofing-one-identity-shared-by-multiple-vessels/" rel="noopener ugc nofollow" target="_blank">全球渔业观察船景</a></p></figure><p id="e586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了理清数据并确定哪些记录与哪个独特的血管相关联，我需要采用无监督学习，这超出了我目前研究的范围。因此，我决定不进行时序转换。至于带有无意义坐标的数据，我让它们是为了这次调查的目的。</p><h2 id="d986" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">b)离海岸距离和离港口距离之间的高相关性</h2><p id="6731" class="pw-post-body-paragraph kd ke iq kf b kg lw ki kj kk lx km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated"><a class="ae kc" href="https://globalfishingwatch.org/data-download/datasets/public-distance-from-shore-v1" rel="noopener ugc nofollow" target="_blank">距离海岸</a>和<a class="ae kc" href="https://globalfishingwatch.org/data-download/datasets/public-distance-from-port-v1" rel="noopener ugc nofollow" target="_blank">距离港口</a>都是GFW生成的特征；前者来自从<a class="ae kc" href="http://oos.soest.hawaii.edu/thredds/ncss/dist2coast_1deg_ocean/dataset.html" rel="noopener ugc nofollow" target="_blank">太平洋岛屿海洋观测系统到最近海岸线的距离得出的数据:0.01度网格:海洋数据集</a>，后者来自GFW的<a class="ae kc" href="https://globalfishingwatch.org/datasets-and-code/anchorages/" rel="noopener ugc nofollow" target="_blank">锚泊数据集</a>。</p><p id="bae3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我最初的分析中，我发现这两个特征高度相关:</p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div class="gh gi og"><img src="../Images/9cd5de0902cf54135686621d575bb245.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*PalJ2Ignsnphcwj2zEkgnQ.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">距离港口与距离海岸的散点图</p></figure><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div class="gh gi og"><img src="../Images/94b12b8f2e8bb6c211ee7c17d8e7291e.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*-pCD9_D1l_SMZ-qC61v45g.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">甚至两个特征之间的差异(shore_vs_port)也与距离_from_port高度相关</p></figure><p id="5549" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我从后续分析中删除了距离海岸的距离。</p><h2 id="1bc3" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">c)从时间戳生成特征</h2><p id="2817" class="pw-post-body-paragraph kd ke iq kf b kg lw ki kj kk lx km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">简而言之，我从每个时间戳中导出月、工作日和小时，其想法是可能存在一些可以被后续模型利用的模式。快速分析得出以下结果(y轴是is_fishing目标的平均值):</p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div class="gh gi og"><img src="../Images/d504f0b45c957b1f7a32460448834d37.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*A65yu0TOi3iJJNRC7jOvzQ.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">工作日似乎没有一个明确的模式…</p></figure><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div class="gh gi og"><img src="../Images/5499df4c113f60907b328ad0ab2d9d89.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*A8ZE4EtFb_Bf3l6_aE1ukw.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">…但在4月至7月似乎有明显的峰值，在11月至12月有所下降…</p></figure><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div class="gh gi og"><img src="../Images/088fe30b8a40e80d328d6a80ed6e2e1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*JX_1FNvnPLgiHBUp3TFiDw.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">…上午10点至下午3点之间的时间明显增加。</p></figure><p id="9b93" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了限制特性的数量，我将字段保持为数字；然而，未来的工作可能需要将这些特征转换成分组的类别(例如，几个小时的早晨、白天和晚上)。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="174f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我总结了以下8个特点:</p><ul class=""><li id="d782" class="lu lv iq kf b kg kh kk kl ko oh ks oi kw oj la mb mc md me bi translated">离港口的距离</li><li id="9422" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">拉脱维亚的货币单位</li><li id="203f" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">伦</li><li id="0192" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">速度</li><li id="e2b9" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">课程</li><li id="7fc9" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">工作日</li><li id="0e7e" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">月</li><li id="c207" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">小时</li></ul><p id="5f67" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我通过scikit-learn的默认随机森林分类器和相关矩阵运行这些特征，发现<strong class="kf ir">速度</strong>和<strong class="kf ir">距离港口</strong>似乎是预测拖网渔船是否正在捕鱼的两个最重要的特征，如下所示:</p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ok"><img src="../Images/c9b08c2e97228a92f76ef76e64cc1075.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5kRxrHt73Q9_19Y-k1EPjg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">默认随机森林分类器中的要素重要性</p></figure><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ok"><img src="../Images/8b0286e739741a3b7812c1238cc4837f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4nFXQWx_CLf_2KVw9IjoSg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">相关矩阵</p></figure><h1 id="0945" class="mr lc iq bd ld ms nx mu lg mv ny mx lj my nz na lm nb oa nd lp ne ob ng ls nh bi translated">四:拟合和选择模型</h1><p id="5784" class="pw-post-body-paragraph kd ke iq kf b kg lw ki kj kk lx km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">出于本项目的目的，我考虑了scikit-learn的以下分类模型:</p><ul class=""><li id="f970" class="lu lv iq kf b kg kh kk kl ko oh ks oi kw oj la mb mc md me bi translated">物流回归</li><li id="6306" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">k最近邻</li><li id="c7a0" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">高斯朴素贝叶斯</li><li id="c004" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">随机森林</li></ul><p id="ca6e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这四个模型在训练数据集上用5重交叉验证进行训练；我还使用网格搜索和随机搜索执行了超参数调优(当有太多参数需要调优时使用后者)。</p><p id="f7d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有一些额外的限制如下:</p><ul class=""><li id="64ea" class="lu lv iq kf b kg kh kk kl ko oh ks oi kw oj la mb mc md me bi translated"><strong class="kf ir">物流回归和高斯朴素贝叶斯:</strong>我用了scikit-learn的StandardScaler来<strong class="kf ir">归一化数据</strong>；否则，特征之间的价值差异将是压倒性的(例如，距离港口的距离可能达到数万，而这些速度最多只能达到数百)。</li><li id="c6ab" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">K最近邻:我不得不<strong class="kf ir">抽取20%的训练数据</strong>，否则要花很长时间才能得出估计值。</li><li id="d44c" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated"><strong class="kf ir">随机森林:</strong>我不得不<strong class="kf ir">限制一些调整过的超参数</strong>，即最大深度和最小样本分裂，否则算法容易过拟合。</li></ul><p id="9f7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我用f1评分和AUC评估结果。<strong class="kf ir">随机森林</strong>以0.90 的<strong class="kf ir"> f1分数和0.98 </strong>的<strong class="kf ir"> AUC名列榜首，如下图所示:</strong></p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ol"><img src="../Images/dd136d24f43152440c736790c4114ac3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dPkZPKkTbAzV2UMyTeR1_g.png"/></div></div></figure><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi om"><img src="../Images/36faa889ae2e390bfb7949f0fab65641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pkJE6NK04mO03FFlDEsOiw.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">训练数据的AUC</p></figure><h1 id="bbe5" class="mr lc iq bd ld ms nx mu lg mv ny mx lj my nz na lm nb oa nd lp ne ob ng ls nh bi translated">五:意见</h1><p id="864d" class="pw-post-body-paragraph kd ke iq kf b kg lw ki kj kk lx km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">在测试数据集上应用随机森林，我发现f1分数和AUC完全相同。</p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div class="gh gi og"><img src="../Images/b52e2e5487ff33563a1edfb021e43344.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*iLVGegQfSZtC_L9y36aCTw.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">测试数据的AUC</p></figure><p id="a1bc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">测试数据的混淆矩阵进一步表明，随机森林确实表现得非常好，具有高水平的精确度和召回率:</p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi on"><img src="../Images/35a3c6cffc2f2c10458922b4bd1e444b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GB0nKesUUUhuQVa-i2UUqw.png"/></div></div></figure><p id="34b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我扔在一起的一个快速而肮脏的Flask应用程序也显示了我选择的模型的高性能，即使面对样本外数据(即我在训练和测试数据集外忽略的没有共识的行)。我在下面链接了一个视频，因为该应用程序所依赖的SQL数据库有点太大，无法放到网上；我将在这个项目的未来迭代中寻求补救。</p><figure class="nt nu nv nw gt jr"><div class="bz fp l di"><div class="oo op l"/></div></figure><h1 id="16de" class="mr lc iq bd ld ms nx mu lg mv ny mx lj my nz na lm nb oa nd lp ne ob ng ls nh bi translated">不及物动词进一步的工作和学习要点</h1><p id="fa3a" class="pw-post-body-paragraph kd ke iq kf b kg lw ki kj kk lx km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">尽管我当前的模型性能很高，但仍有几个方面需要改进，如下所示:</p><ul class=""><li id="1f46" class="lu lv iq kf b kg kh kk kl ko oh ks oi kw oj la mb mc md me bi translated"><strong class="kf ir">解开共享相同MMSI的船只</strong>以便于时间序列分析，例如通过使用聚类算法。</li><li id="5eef" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">使用除拖网渔船以外的<strong class="kf ir">渔具类型以及未知渔具类型处理GFW更大的数据集。</strong></li><li id="1b01" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated"><strong class="kf ir">将数值数据转换为分类数据，分组或其他。</strong>这样做很可能会提高物流回归和朴素贝叶斯模型的性能。除了本文前面提到的与时间相关的类别之外，纬度和经度也可以组合成地球上离散的区域单位。事实上，这是GFW用来构建其<a class="ae kc" href="https://globalfishingwatch.org/datasets-and-code/anchorages/" rel="noopener ugc nofollow" target="_blank">锚定数据集</a>的方法。</li><li id="9d90" class="lu lv iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">应用<strong class="kf ir">附加模型</strong>确定船只使用的渔具类型，或船只是否为渔船。</li></ul><p id="d717" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对我来说，这是另一次紧张的学习经历，尤其是当它涉及到可视化和处理地理空间数据以及处理Pandas和SQL中的大规模数据集时。我敢肯定，下一个项目将会同样有趣和紧张。</p></div></div>    
</body>
</html>