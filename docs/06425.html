<html>
<head>
<title>How to Deal with Infinity in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Python 中处理无穷大</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-deal-with-infinity-in-python-ab041fc95546?source=collection_archive---------34-----------------------#2020-05-22">https://towardsdatascience.com/how-to-deal-with-infinity-in-python-ab041fc95546?source=collection_archive---------34-----------------------#2020-05-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6934" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">介绍在 Python 中定义和使用无限值的方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9c68a2ed74dc83bf5b8ae63b5bf155e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iv_fofNJUYbWy8Nv"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@reubenteo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">鲁本·特奥</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><blockquote class="kz"><p id="9199" class="la lb it bd lc ld le lf lg lh li lj dk translated">我们只是追求绝对完美的无限探索者。—g·h·哈代</p></blockquote><p id="2ea8" class="pw-post-body-paragraph lk ll it lm b ln lo ju lp lq lr jx ls lt lu lv lw lx ly lz ma mb mc md me lj im bi translated">很多人认为无穷大只是一个<strong class="lm iu">非常大的数</strong>。但在现实中，无限是无限的概念，没有任何界限。</p><p id="db48" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">从早期开始，数学家们就在用这种永无止境的概念赌博。正如约翰·格林在他的书《我们星星中的错误》中所写的，</p><blockquote class="mk ml mm"><p id="8621" class="lk ll mn lm b ln mf ju lp lq mg jx ls mo mh lv lw mp mi lz ma mq mj md me lj im bi translated">"在一个由其结局定义的宇宙中，无尽是一个非常奇怪的概念."</p></blockquote><p id="1408" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">对于算法设计来说，无穷大有许多可取的特性。最受欢迎的是:</p><blockquote class="kz"><p id="2885" class="la lb it bd lc ld mr ms mt mu mv lj dk translated">∀ x ∈ ℝ，-∞ &lt; x &lt; ∞</p><p id="8e7c" class="la lb it bd lc ld mr ms mt mu mv lj dk translated"><strong class="ak">每个数都小于正无穷大，大于负无穷大。</strong></p></blockquote><p id="8d10" class="pw-post-body-paragraph lk ll it lm b ln lo ju lp lq lr jx ls lt lu lv lw lx ly lz ma mb mc md me lj im bi translated">在 Python 中，我们可以用多种方式<strong class="lm iu">表示无穷大。我们将在下面讨论三个最受欢迎的。</strong></p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="d615" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">设置</h1><p id="588d" class="pw-post-body-paragraph lk ll it lm b ln nv ju lp lq nw jx ls lt nx lv lw lx ny lz ma mb nz md me lj im bi translated">本文编写的代码在<a class="ae ky" href="https://www.python.org/downloads/release/python-360/" rel="noopener ugc nofollow" target="_blank"> <strong class="lm iu"> Python 3.6 </strong> </a>上进行了测试。这里唯一需要的非标准库是<a class="ae ky" href="https://numpy.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="lm iu"> numpy </strong> </a>。您可以使用以下命令非常简单地安装它:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="40f9" class="of ne it ob b gy og oh l oi oj">pip install numpy</span></pre></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="d7af" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">使用 float('inf ')</h1><p id="1aa1" class="pw-post-body-paragraph lk ll it lm b ln nv ju lp lq nw jx ls lt nx lv lw lx ny lz ma mb nz md me lj im bi translated">我们将创建两个变量并用正负无穷大初始化它们。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="8694" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">输出:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="6556" class="of ne it ob b gy og oh l oi oj">Positive Infinity:  inf<br/>Negative Infinity:  -inf</span></pre></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="bda3" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated"><strong class="ak">使用数学模块(math.inf) </strong></h1><p id="11ac" class="pw-post-body-paragraph lk ll it lm b ln nv ju lp lq nw jx ls lt nx lv lw lx ny lz ma mb nz md me lj im bi translated">另一种表示无穷大的流行方法是使用 Python 的数学模块。看一看:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="82e7" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">输出:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="ac8e" class="of ne it ob b gy og oh l oi oj">Positive Infinity:  inf<br/>Negative Infinity:  -inf</span></pre></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="5a30" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">使用 Numpy 模块(numpy.inf)</h1><p id="5db3" class="pw-post-body-paragraph lk ll it lm b ln nv ju lp lq nw jx ls lt nx lv lw lx ny lz ma mb nz md me lj im bi translated"><a class="ae ky" href="https://numpy.org/devdocs/reference/constants.html" rel="noopener ugc nofollow" target="_blank"> Numpy </a>对于无穷大的值也有自己的定义。我们也可以创建用无穷大值填充的数组。代码如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="d1e4" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">输出:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="29c5" class="of ne it ob b gy og oh l oi oj">Positive Infinity:  inf<br/>Negative Infinity:  -inf<br/>Infinity Array:  [inf inf inf inf inf inf inf inf inf inf]</span></pre></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="e351" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">在 Python 中检查一个数是否是无限的</h1><p id="e477" class="pw-post-body-paragraph lk ll it lm b ln nv ju lp lq nw jx ls lt nx lv lw lx ny lz ma mb nz md me lj im bi translated">math 模块提供了一个<code class="fe om on oo ob b">isinf()</code>方法，允许我们轻松地检查 Python 中的无限值。它返回一个布尔值。看一看:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="85f0" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">输出:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="6709" class="of ne it ob b gy og oh l oi oj">For First Infinity: True<br/>For Second Infinity: True<br/>For Third Infinity: True<br/>For Large Number: False</span></pre></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="3267" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">无限算术</h1><p id="5441" class="pw-post-body-paragraph lk ll it lm b ln nv ju lp lq nw jx ls lt nx lv lw lx ny lz ma mb nz md me lj im bi translated">大多数无穷数的算术运算都会产生其他无穷数。无限零悖论成为一个非常有趣的晚餐话题。至少我希望如此。我还没试过。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="f4bc" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">输出:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="a7ad" class="of ne it ob b gy og oh l oi oj">Addition :  inf<br/>Subtraction :  inf<br/>Multiplication :  inf<br/>Division :  inf<br/><br/>Multiplication by Zero:  nan</span></pre></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="1573" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">结束语</h1><p id="2860" class="pw-post-body-paragraph lk ll it lm b ln nv ju lp lq nw jx ls lt nx lv lw lx ny lz ma mb nz md me lj im bi translated">在最优化问题中经常用到无穷大。例如，在<strong class="lm iu">最短路径算法</strong>中，我们需要将当前距离与迄今为止的最佳或最小距离进行比较。</p><p id="ed6d" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我们<strong class="lm iu">用正无穷大</strong>初始化未知距离。无论你在程序中输入什么距离，没有一个数能大于这个无穷大的表示。</p><p id="4443" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我们讨论了在 Python 中表示无限值的多种方式。</p><p id="d578" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我个人使用 <code class="fe om on oo ob b">math.inf</code> <strong class="lm iu">方法</strong>来定义一个无穷数。这是因为这种方法通常是三种方法中最快的。另外，<code class="fe om on oo ob b">math</code>是一个标准库，已经是我大部分代码的一部分。</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="0402" class="of ne it ob b gy og oh l oi oj">%timeit np.inf<br/># 38.3 ns ± 0.208 ns per loop (mean ± std. dev. of 7 runs, 10000000 loops each)</span><span id="f9b5" class="of ne it ob b gy op oh l oi oj">%timeit float('inf')<br/># 198 ns ± 2.56 ns per loop (mean ± std. dev. of 7 runs, 10000000 loops each)</span><span id="8d77" class="of ne it ob b gy op oh l oi oj">%timeit math.inf<br/># 37.5 ns ± 0.0933 ns per loop (mean ± std. dev. of 7 runs, 10000000 loops each)</span></pre><p id="3bd3" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">但是像往常一样，当我们开始处理数组时，Numpy 变得更快:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="863b" class="of ne it ob b gy og oh l oi oj">%timeit [math.inf for _ in range(10000)]<br/># 585 µs ± 8.29 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)</span><span id="44cb" class="of ne it ob b gy op oh l oi oj">%timeit np.full(10000, np.inf)<br/># 10.4 µs ± 49.3 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)</span></pre></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><p id="197b" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">希望你觉得这个教程有用！你可以在这里找到我的其他故事<a class="ae ky" href="https://medium.com/@chaitanyabaweja1" rel="noopener">。</a></p></div></div>    
</body>
</html>