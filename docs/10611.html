<html>
<head>
<title>What is an API, can you SHOW me?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是 API，你能给我演示一下吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/reflection-on-my-first-api-project-67d6cee31ce4?source=collection_archive---------67-----------------------#2020-07-24">https://towardsdatascience.com/reflection-on-my-first-api-project-67d6cee31ce4?source=collection_archive---------67-----------------------#2020-07-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="db4f" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">数字世界的搭便车指南</h2><div class=""/><div class=""><h2 id="13db" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">反思我的第一个 API 项目</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/d830d1342099b7fb418f7df2aa8b1b1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jF5dJCE_D0hDZ9ue"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@michaelwb?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">迈克尔·布朗宁</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="d209" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">作为一个新手，API 对我来说一直很神秘。我看过多个定义，也看过多个 Youtube 视频，但还是很抽象。</p><p id="9097" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">常见的解释总是类似于“允许两个应用程序相互对话的软件中介”或者“我们可以向它发送一个接收信息的请求…”等等…</p><p id="796a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">但是，这是一个物理问题吗？我可以导入并使用的包？或者类似于编程语言的东西？我知道，它允许应用程序互相交谈，但是，那是什么东西？</p><p id="8a70" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你有同样的问题，请继续阅读。我希望这个博客能有所帮助。</p><h2 id="a634" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">应用程序接口</h2><p id="f505" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">API 是一组代码。在这里，你现在正看着一个。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="1d38" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这是我最近项目的一个 API。该项目是一个网络应用程序，允许人们玩一个琐事游戏。这个 API 允许 web 应用程序显示所有问题，问题也可以按类别显示。</p><p id="11a7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">是什么让这段代码成为 API？</strong></p><p id="f429" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在我看来，它通常可以分为两大部分。</p><p id="d28f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">第一部分是第 1 部分:URL 和方法。这部分有两个目的。首先，<strong class="lk jd"><em class="nd">` ` @</em></strong><em class="nd">app . route(…)``</em>是一个明显的信号，告诉你，你正在查看一个 API。其次，在这一部分，API 监听来自客户端的请求，即传入的 URL 地址。</p><p id="4b9f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你想知道为什么``<em class="nd"> @app.route() </em>`` `工作以及为什么每个 API 都以这种方式启动，这里有两个有用的资源。</p><div class="ne nf gp gr ng nh"><a href="https://stackoverflow.com/questions/47467658/flask-why-app-route-decorator-should-always-be-the-outermost" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd jd gy z fp nm fr fs nn fu fw jc bi translated">Flask:为什么 app.route() decorator，应该总是在最外面？</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">比方说，我有一个手工制作的@ log in-required decorator:from func tools import wraps def…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">stackoverflow.com</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv lb nh"/></div></div></a></div><div class="ne nf gp gr ng nh"><a href="https://ains.co/blog/things-which-arent-magic-flask-part-1.html" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd jd gy z fp nm fr fs nn fu fw jc bi translated">非魔法事物- Flask 和@app.route -第 1 部分</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">我已经有一段时间没有发博客了，所以我想是时候在我的博客上开始一个新的系列了。这是第一个…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">ains.co</p></div></div></div></a></div><p id="a235" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">第二部分和第三部分是 API 的本质或工作。这就是我们需要 API 的原因。在第 2 部分中，API 从数据库中检索客户机请求的信息。在第 3 部分中，API 告诉服务器应该如何响应客户机，以便客户机能够理解。</p><p id="0f00" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果以上段落比较抽象。看看下面的代码。这些是我的前端代码。看它们是如何相互对应的。只是一个脚注，我用 React 和 Flask 和这个应用程序。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nb nc l"/></div></figure></div><div class="ab cl nw nx hx ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="im in io ip iq"><p id="a65d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我从另一个角度向你展示 API 是如何允许后端和前端相互对话的。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi od"><img src="../Images/dd7779e31901f61fe6668a3b432ef5d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OpdDIjFZW5yPMuOb"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae lh" href="https://unsplash.com/@dhruvywuvy?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Dhruv </a>拍摄的照片</p></figure><p id="12b4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">对于我的前端，我使用了 React。因此，我去:<em class="nd"> localhost:3000 </em>查看我的网页。如果我做的一切都正确，网页上的所有按钮都应该工作。每当我点击一个按钮，相应的信息，存储在数据库中，应该显示在网页上。</p><p id="8313" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">假设现在我用不同的方式命名了一个变量。在我的后端，我把变量“total_questions”改成了“all_questions”，但是在我的前端，还是“result.total_questions”。会发生什么？</p><p id="f023" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">不出所料，当我单击网页上的一个按钮来检索所有问题时，我会遇到一个错误。</p><p id="a845" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">但是，如果我去 localhost 5000，即<a class="ae lh" href="http://127.0.0.1:5000/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:5000/ </a>。这是允许我访问我的服务器的 URL，只要我键入 write URL:<a class="ae lh" href="http://127.0.0.1:5000/questions" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:5000/questions</a>不会出现任何错误，我仍然可以看到所有的问题完美地显示出来。</p><p id="ae6f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这意味着服务器确切地知道如何从数据库中获取信息。我的功能完全正常。只是由于名称不匹配，它无法将此信息传输到前端。</p><p id="4ac2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你有一个不同的 URL 地址，同样的事情也会发生。您的后端 URL 地址可以在端口 5000 上很好地工作，但是您的前端会有错误。</p><p id="4144" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我希望现在能更清楚什么是 API，以及 API 如何连接前端和后端。</p><p id="6fc0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当我第一次开始学习计算机网络时，我对“服务器”和“客户机”这两个术语与餐馆的比喻如此吻合而着迷。前台/客户是走进餐厅的客户。服务员就像餐馆里的服务员，他们端上菜肴，满足顾客的任何需求。数据库就像厨房。</p><p id="16c9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果我们用这个比喻，API 就是一个菜单。当顾客点“玛格丽塔比萨饼”时，他/她知道会发生什么。服务员也很清楚什么是“玛格丽塔披萨”。没有人需要解释:这是马苏里拉奶酪，罗勒，橄榄油等…这就是 API 的力量。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/d830d1342099b7fb418f7df2aa8b1b1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jF5dJCE_D0hDZ9ue"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://unsplash.com/@michaelwb?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">迈克尔·布朗宁</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure></div><div class="ab cl nw nx hx ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="im in io ip iq"><h2 id="762b" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">其他要点:</h2><p id="1516" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">除了对 API 有非常清晰的理解之外，我还学到了关于 if 语句的惨痛教训。</p><p id="520a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我在看我卡了很久的两个端点。我在思考为什么他们花了我这么长时间来调试。我意识到一件事，在两次中，我都写了一个<em class="nd"> if 语句</em>，试图抓住一个特殊的场合。然而，因为我没有意识到我的<em class="nd"> if 语句</em>有问题，所以我不知道这两个<em class="nd"> if 语句</em>都是无用的。</p><p id="80bc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这个特殊场合只是跳过了 if 语句并像普通场合一样进入了其他代码行。我以为是我逻辑有问题，所以花了那么多时间查也没有结果。</p><p id="acf9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在我知道了:反复检查 if 语句。仅仅因为它们在那里并且没有引起任何错误消息，并不意味着它们正在工作。它们是 if 语句，因此可以轻松跳过。</p><p id="6ec8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">关于我的问题的更多细节，我把:</p><pre class="ks kt ku kv gt oe of og oh aw oi bi"><span id="6694" class="me mf it of b gy oj ok l ol om">&gt;&gt; if x is None:<br/>do y</span></pre><p id="d86d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">但应该是</p><pre class="ks kt ku kv gt oe of og oh aw oi bi"><span id="457b" class="me mf it of b gy oj ok l ol om">&gt;&gt; if x == []:<br/>do y</span></pre><p id="e27b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我试图捕捉从用户那里接收到一个空输入的情况，这个输入碰巧是空字符串格式的。在 Python 中，null 或 none 不同于空字符串。这就是为什么我的两个 if 语句都没用。</p><p id="f6cb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">None 不是空字符串，none 不是 0，none 就是 none…懂了吗？</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nb nc l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">GIF via <a class="ae lh" href="https://giphy.com/gifs/Qa5QRwDKJgZoQBMPnT/html5" rel="noopener ugc nofollow" target="_blank"> GIPHY </a></p></figure><p id="7a58" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我仍然觉得这种差异非常有趣。对于那些想知道的人，下面有一个关于区别的很好的解释。简单来说，在 Python 中把“无”解释为“我不知道”比“什么都没有”更好。</p><div class="ne nf gp gr ng nh"><a href="https://www.quora.com/What-is-the-difference-between-Null-and-empty-string-in-Python#:~:text=All%20objects%20in%20Python%20are,of%20the%20string%20is%20zero." rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd jd gy z fp nm fr fs nn fu fw jc bi translated">Python 中 Null 和空字符串有什么区别？</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">回答(20 个中的 1 个):Python 根本没有空字符串。Python 确实有一个 None 值，但它不是一个字符串，而是一个…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">www.quora.com</p></div></div><div class="nq l"><div class="on l ns nt nu nq nv lb nh"/></div></div></a></div></div><div class="ab cl nw nx hx ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="im in io ip iq"><p id="00c1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这些是我从这个项目中学到的详细而艰难的经验。</p><p id="5462" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你看，这就是为什么你需要项目。</p><p id="792f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">干杯，继续编码。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oo nc l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">GIF via <a class="ae lh" href="https://giphy.com/gifs/E3L5goMMSoAAo/html5" rel="noopener ugc nofollow" target="_blank"> GIPHY </a></p></figure></div><div class="ab cl nw nx hx ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="im in io ip iq"><p id="107f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">其他资源:</p><p id="b612" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">另一篇解释 API 的文章。我喜欢这个图，但是把 API 画成一个盒子会让它有点混乱。</p><div class="ne nf gp gr ng nh"><a href="https://medium.com/@perrysetgo/what-exactly-is-an-api-69f36968a41f" rel="noopener follow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd jd gy z fp nm fr fs nn fu fw jc bi translated">API 到底是什么？</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">你有没有听说过“API”这个词，并想知道这到底是什么？你是否有一个模糊的想法，但是…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">medium.com</p></div></div><div class="nq l"><div class="op l ns nt nu nq nv lb nh"/></div></div></a></div></div></div>    
</body>
</html>