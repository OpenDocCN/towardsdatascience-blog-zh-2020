<html>
<head>
<title>Fantastic Pandas Data Frame Report with Pandas Profiling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有熊猫档案的神奇熊猫数据框报告</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/fantastic-pandas-data-frame-report-with-pandas-profiling-a05cde64a0e2?source=collection_archive---------12-----------------------#2020-06-03">https://towardsdatascience.com/fantastic-pandas-data-frame-report-with-pandas-profiling-a05cde64a0e2?source=collection_archive---------12-----------------------#2020-06-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="23bd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">将您的基本报告提升到下一个级别</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/458c6f7b54fc1eb927377ce1a73dff50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ViFf1BRbSZYF8IMq1sUpDg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:作者创作</p></figure><p id="b813" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">作为一名数据科学家，我们会在日常工作中探索数据。对于Pythonist来说，使用熊猫模块是必须的。虽然令人信服，但有时我们发现报告太过简单。下面我举个例子来说明一下。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="7f3b" class="lz ma it lv b gy mb mc l md me">import pandas as pd<br/>import seaborn as sns</span><span id="3aaa" class="lz ma it lv b gy mf mc l md me">#Loading dataset <br/>mpg = sns.load_dataset('mpg')<br/>mpg.describe()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mg"><img src="../Images/3166bf4d92981e3f4e2b12f8fdc52fcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cL3G3iYO0vaaGrpFdLzcUw.png"/></div></div></figure><p id="de86" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以使用<code class="fe mh mi mj lv b">.describe()</code>属性生成基本的统计数据，但是我们可以让我们的报告看起来更有吸引力，而不是像上面的例子那样的基本报告。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/42f7589d9547340acb1f9d3d2f3e9563.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*zALBAWTeEXCu9cE5FceVjw.gif"/></div></div></figure><p id="a5b5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">只要看看报告变得多么不同。它让我们的日常探索变得更加容易。此外，您可以将报告保存为HTML格式，并与任何人分享。让我们开始吧。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="07e6" class="ms ma it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">熊猫简介</h1><p id="7dd6" class="pw-post-body-paragraph ky kz it la b lb nj ju ld le nk jx lg lh nl lj lk ll nm ln lo lp nn lr ls lt im bi translated">在<a class="ae no" href="https://pandas-profiling.github.io/pandas-profiling/docs/master/rtd/pages/introduction.html" rel="noopener ugc nofollow" target="_blank">熊猫档案模块</a>的帮助下，我们可以创建一个如上的精彩报告。这个模块最适合在Jupyter环境中工作，因此本文将涵盖Jupyter笔记本中生成的报告。现在，要使用这个模块，我们需要安装这个模块。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="b83f" class="lz ma it lv b gy mb mc l md me">#Installing via pip<br/>pip install -U pandas-profiling[notebook]</span><span id="4018" class="lz ma it lv b gy mf mc l md me">#Enable the widget extension in Jupyter<br/>jupyter nbextension enable --py widgetsnbextension</span><span id="e7fe" class="lz ma it lv b gy mf mc l md me">#or if you prefer via Conda<br/>conda env create -n pandas-profiling<br/>conda activate pandas-profiling<br/>conda install -c conda-forge pandas-profiling</span><span id="69ed" class="lz ma it lv b gy mf mc l md me">#or if you prefer installing directly from the source<br/>pip install <a class="ae no" href="https://github.com/pandas-profiling/pandas-profiling/archive/master.zip" rel="noopener ugc nofollow" target="_blank">https://github.com/pandas-profiling/pandas-profiling/archive/master.zip</a></span><span id="77c6" class="lz ma it lv b gy mf mc l md me">#in any case, if the code raise an error, it probably need permission from user. To do that, add --user in the end of the line.</span></pre><p id="b7c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这样，我们就可以生成报告了。我们将使用Pandas Profiling函数，就像下面的代码一样。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="30d7" class="lz ma it lv b gy mb mc l md me">#Importing the function<br/>from pandas_profiling import ProfileReport</span><span id="1704" class="lz ma it lv b gy mf mc l md me">#Generate the report. We would use the mpg dataset as sample, title parameter for naming our report, and explorative parameter set to True for Deeper exploration.</span><span id="feb6" class="lz ma it lv b gy mf mc l md me">profile = ProfileReport(mpg, title='MPG Pandas Profiling Report', explorative = True)</span><span id="c210" class="lz ma it lv b gy mf mc l md me">profile</span></pre><p id="cf52" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">等待一段时间后，我们将得到如下的HTML报告。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/0e43fc39cf354159c0e38267898401ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VMjkuR-RRilE6cf02_aTDg.png"/></div></div></figure><p id="88ea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第一部分中，我们将获得数据框的概述信息。如果我们使用Pandas数据框对象中的<code class="fe mh mi mj lv b">.info()</code>属性，情况类似，但是Pandas分析提供了更多信息。例如，警告部分。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/cf0618311f0f36eca6e86b4f821f072e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JdQXcb2fftHxK6_ow6CUAg.png"/></div></div></figure><p id="449c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">警告部分的优点是给出的信息不仅仅是基本信息，比如缺失数据，而是更复杂的信息，比如高相关性、高基数等。我们可以修改它有多高，以考虑什么是“高基数”或“高相关性”，但我不会在本文中讨论它。</p><p id="57b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们向下滚动，我们会看到Variables部分，其中显示了所有数字和分类列的更多细节。下面是数值变量的例子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/3f77929ccbed393053773a0c9ab1fff2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dvbFZ9axDxSus5ZmXTMidQ.png"/></div></div></figure><p id="e3b4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以看到，对于每个变量，我们都获得了完整的统计信息。此外，还有一些部分，我们可以从中获得最常见值和极值的信息。</p><p id="1f85" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">分类变量怎么样？让我在下图中展示给你看。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/55289b3119643977cb85d29fc3aa188d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Ab-Lb4MLEbDYirHflk5Zg.png"/></div></div></figure><p id="ddd1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">就像数字变量一样，我们获得了关于变量的完整信息。进一步向下滚动；我们会到达互动区。在这个部分，我们可以得到两个数值变量之间的散点图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/16c7c1c3c85f970437e1ce8bd6ee2f6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VJ71w3SToj0IPRwtOrptqA.png"/></div></div></figure><p id="d4ce" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它下面是相关性部分。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/6c4d8755a78e47cc48590e011789bbd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8rY89r4GVS6zZVgvgakLow.png"/></div></div></figure><p id="f54d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">本节以热图的形式显示数值变量之间的相关值。此处仅提供四种相关性计算，如果您需要相关性描述，可以单击“切换相关性描述按钮”。</p><p id="451e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">还有一个部分专门讨论丢失的值，就像下面的例子一样。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/5849a7b727895e51ff6f1de51bbadd66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5HrwPRrgbiL_AvMd29IT8Q.png"/></div></div></figure><p id="a085" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后一部分将只显示数据样本——没什么有趣的。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><p id="9747" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您需要一种更简单的方式来显示报告，我们可以使用下面的代码来转换报告。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="56cd" class="lz ma it lv b gy mb mc l md me">profile.to_widgets()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/8eec2505c41ee8bfd921e753e4006d32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I0YzDIWm5ckJvdpnRMAfUw.png"/></div></div></figure><p id="eed9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">只需一行代码，我们就可以获得与上面我展示的相同的信息。唯一的区别只是用户界面变得更加直观。尽管如此，信息还是一样的。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><p id="28a0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，如果您想将报告导出到外部HTML文件中，我们可以使用下面的代码。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="28d8" class="lz ma it lv b gy mb mc l md me">profile.to_file('your_report_name.html')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/200a62f337332774baa7b338d6c3b206.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*SmWCHoSrEDqvNlk_LOl5Bg.png"/></div></figure><p id="46c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在Jupyter笔记本的同一个文件夹中找到HTML文件。如果您打开该文件，它会自动在您的默认浏览器上打开，其漂亮的用户界面类似于我们Jupyter笔记本中的界面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/ad600f6ad95b29195881a928cdb21b51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*utYSx40__HcIiH907iVczw.png"/></div></div></figure></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="cbf4" class="ms ma it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">结论</h1><p id="e182" class="pw-post-body-paragraph ky kz it la b lb nj ju ld le nk jx lg lh nl lj lk ll nm ln lo lp nn lr ls lt im bi translated">我已经向您展示了如何使用Pandas Profiling模块将Pandas数据框中的基本报告转换为更具交互性的形式。希望有帮助。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="2a42" class="ms ma it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">如果您喜欢我的内容，并希望获得更多关于数据或数据科学家日常生活的深入知识，请考虑在此订阅我的<a class="ae no" href="https://cornellius.substack.com/welcome" rel="noopener ugc nofollow" target="_blank">简讯。</a></h1><blockquote class="nz"><p id="bb9b" class="oa ob it bd oc od oe of og oh oi lt dk translated">如果您没有订阅为中等会员，请考虑通过<a class="ae no" href="https://cornelliusyudhawijaya.medium.com/membership" rel="noopener">我的介绍</a>订阅。</p></blockquote></div></div>    
</body>
</html>