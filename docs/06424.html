<html>
<head>
<title>HR Predictive Analytics : Assessing manager performance (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">人力资源预测分析:评估经理绩效(第1部分)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/hr-predictive-analytics-assessing-manager-performance-part-1-841fc56eff12?source=collection_archive---------33-----------------------#2020-05-22">https://towardsdatascience.com/hr-predictive-analytics-assessing-manager-performance-part-1-841fc56eff12?source=collection_archive---------33-----------------------#2020-05-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="30d4" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">预测分析和人力资源</h2><div class=""/><div class=""><h2 id="5239" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">通过预测模型和R的应用，探索是什么因素驱动着公司经理的绩效</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/055cd37f7511e2f6724d8a3496e9cb46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AKoc29wKUGdYRGTt0_Csow.jpeg"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">在<a class="ae le" href="https://unsplash.com/s/photos/team?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae le" href="https://unsplash.com/@mimithian?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">米米·蒂安</a>拍摄的照片</p></figure><p id="f882" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">本文是一项更具技术性的工作，展示了机器学习技术在人力资源数据集上的逐步实现，以了解经理的绩效。数据集取自<a class="mb mc ep" href="https://medium.com/u/a859aab532a0?source=post_page-----841fc56eff12--------------------------------" rel="noopener" target="_blank">基思·麦纽提</a>的<a class="ae le" href="https://github.com/keithmcnulty/ebp_exercise" rel="noopener ugc nofollow" target="_blank">帖子</a>，他在那里分享了这个用例以及数据集。这是关于评估组织中经理的绩效的2部分系列的第1部分。在本文中，我将介绍数据集的数据准备和探索性数据分析。</p><h2 id="b575" class="md me iq bd mf mg mh dn mi mj mk dp ml lo mm mn mo ls mp mq mr lw ms mt mu iw bi translated">目标:</h2><p id="a6e4" class="pw-post-body-paragraph lf lg iq lh b li mv ka lk ll mw kd ln lo mx lq lr ls my lu lv lw mz ly lz ma ij bi translated">一家公司的首席执行官对其经理的表现感兴趣。使用<strong class="lh ja"> <em class="na">实验</em> </strong>数据集，本工作的主要目标是探索以下内容:</p><ul class=""><li id="3cdd" class="nb nc iq lh b li lj ll lm lo nd ls ne lw nf ma ng nh ni nj bi translated">对数据集进行探索性数据分析，以确定数据集中可能对性能产生影响的变量</li><li id="3329" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">进行机器学习建模方法，以确定哪些变量对经理的绩效有较强或较弱的影响</li><li id="4984" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">提供分析工作的见解和局限性</li></ul><p id="9e1c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">第一步:数据准备</strong></p><p id="d489" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我首先加载数据集并快速浏览数据。数据集包含每个经理的绩效数据。我已经用R中的dataexplorer包进行了一系列的数据探索性分析。</p><pre class="kp kq kr ks gt np nq nr ns aw nt bi"><span id="31b8" class="md me iq nq b gy nu nv l nw nx">perf.data &lt;- read.csv("data.csv",header = TRUE)</span><span id="5fe4" class="md me iq nq b gy ny nv l nw nx"># Quickly visualize the data by using the plot_str function</span><span id="0a91" class="md me iq nq b gy ny nv l nw nx">perf.data %&gt;%<br/>  plot_str(fontSize=80)</span><span id="a16b" class="md me iq nq b gy ny nv l nw nx"># Return first 5 rows of the dataset<br/>perf.data %&gt;%<br/>  head(5)%&gt;%<br/>  kable() %&gt;%<br/>  kable_styling(bootstrap_options = c("hover","striped","condensed"),full_width = F)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nz"><img src="../Images/b675a0e7cb1d2feb6131aceb33d6af5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BAGTd-OcxFtV_QoBtTJt-w.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nz"><img src="../Images/e8b1a91a1a8cbdaad91803a4e8e4c059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c_iSYh7-BCaLq4_Zp4yOtQ.png"/></div></div></figure><p id="ab2e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">数据集混合了字符和数字变量。<strong class="lh ja"> <em class="na">性能组</em> </strong>是我们要研究的与数据集中所有其他变量相关的列。以下是数据集中字段的简要描述:</p><ul class=""><li id="1c3c" class="nb nc iq lh b li lj ll lm lo nd ls ne lw nf ma ng nh ni nj bi translated">每位经理的员工id</li><li id="9798" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">绩效_每位经理的分组:绩效最低、中等或最高</li><li id="9401" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">yrs_employed:以年为单位的总工作时间</li><li id="f855" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">manager_hire:个人是被直接聘用为经理(Y)还是晋升为经理(N)</li><li id="b2d5" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">test_score:给所有经理的测试分数</li><li id="59ce" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">group_size:他们管理的组中的员工数量</li><li id="23a7" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">concern_flag:经理们是否收到了来自其团队成员的投诉</li><li id="521d" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">mobile_flag:个人是移动工作(Y)还是在办公室工作(N)</li><li id="71e6" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">客户:经理负责的客户账户数量</li><li id="f230" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">high_hours_flag:经理是否在他们的时间表中输入了异常高的小时数</li><li id="16f3" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">调动:当他们是经理时，来自经理小组的调动请求的数量</li><li id="9a2b" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">reduced_schedule:经理是兼职工作(Y)还是全职工作(N)</li><li id="16f0" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated">城市:经理的当前办公室</li></ul><p id="caea" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">第二步:探索性数据分析</strong></p><p id="5b4a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">探索性数据分析是了解数据的过程，以便我们可以生成和检验我们的假设。使用R中的data-explorer包，很容易可视化数据集的内容，尤其是在数据集中有缺失值的情况下。</p><ul class=""><li id="9240" class="nb nc iq lh b li lj ll lm lo nd ls ne lw nf ma ng nh ni nj bi translated"><strong class="lh ja">简介</strong></li></ul><p id="50a5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这里是数据集的介绍，我们探索数据集的结构，并确定任何丢失的值。</p><pre class="kp kq kr ks gt np nq nr ns aw nt bi"><span id="9778" class="md me iq nq b gy nu nv l nw nx"># Visualize the data<br/>plot_intro(perf.data)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oa"><img src="../Images/4774328874a58ccfb69ec0d2363d0d3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TC_9ik0h4StkA93m3_7ceQ.png"/></div></div></figure><pre class="kp kq kr ks gt np nq nr ns aw nt bi"><span id="8ca9" class="md me iq nq b gy nu nv l nw nx"># Lets visualize if any missing data exists in the dataset<br/>plot_missing(perf.data)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ob"><img src="../Images/236ac2ed5f6daa8fbfca0aec38bbf7b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MeC_gS_K7TmkyMKQgZPnBg.png"/></div></div></figure><p id="acd4" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja"> <em class="na">我们正在处理一个干净的数据集，它的任何一行都没有丢失数据。在现实世界中，我们经常会遇到杂乱的数据。</em> </strong></p><p id="39a5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">由于我们对驱动性能组的因素的理解感兴趣，下表显示了每个性能组的数据分布。</p><pre class="kp kq kr ks gt np nq nr ns aw nt bi"><span id="bf93" class="md me iq nq b gy nu nv l nw nx"># Return %ages of workers in different classes of performance group</span><span id="0d96" class="md me iq nq b gy ny nv l nw nx">perf.data %&gt;%<br/>  group_by(performance_group) %&gt;%<br/>  summarise(n = n()) %&gt;%<br/>  ungroup() %&gt;%<br/>  mutate(pct = n / sum(n))%&gt;%<br/>  kable() %&gt;%<br/>  kable_styling(bootstrap_options = c("hover","striped","condensed"),full_width = F)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/58071aeb9c434d4100154347013ca82f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*xuaNLW4H4WulHOgVpGgunQ.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">绩效_组分布表</p></figure><p id="a997" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja"> <em class="na">我们可以看到，65.8%的管理者属于中等绩效群体。这是一个重要的观察结果，我们将在第2部分提到。</em>T11】</strong></p><p id="1a6f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">第三步:分配</strong></p><p id="4b2a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">通过条形图、直方图、QQ图，我们更仔细地检查数据，以获得一些高层次的见解。</p><pre class="kp kq kr ks gt np nq nr ns aw nt bi"><span id="374a" class="md me iq nq b gy nu nv l nw nx"># This plot visualisizes frequency distributions for all the discrete features<br/>plot_bar(perf.data)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi od"><img src="../Images/a92ae0a2116ae164176354109060bb21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vmjBb4j4OqTFei_wp5TGXA.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">离散变量的频率分布图</p></figure><p id="c9d0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">仔细观察非数值离散变量的频率分布，我们可以发现:</p><ul class=""><li id="ad7c" class="nb nc iq lh b li lj ll lm lo nd ls ne lw nf ma ng nh ni nj bi translated"><strong class="lh ja">大多数经理已被直接提升至经理职位(图2) </strong></li><li id="014d" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated"><strong class="lh ja">大多数经理位于多伦多和纽约办事处(图7) </strong></li></ul><p id="8c1f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在让我们可视化所有数字/连续变量的分布。</p><pre class="kp kq kr ks gt np nq nr ns aw nt bi"><span id="f672" class="md me iq nq b gy nu nv l nw nx">plot_histogram(perf.data)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oe"><img src="../Images/9f0d4a3190d86ab46db5f8d108d8fc8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y4d46yBcVrIap8geUUu3vA.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">连续变量的qq图</p></figure><p id="5928" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们可以看到，变量customers、group_size和yrs_employed的子图向左或向右倾斜。</p><p id="eaa9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我生成的下一个图是分位数-分位数图，它有助于可视化特定正态概率分布的偏差。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi of"><img src="../Images/075063f6421d5da9018adc5cb797f931.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iSArG5J-0dsVPT3o_WSc-g.png"/></div></div></figure><p id="a191" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在进行任何建模工作之前，通过处理数据使分布正常化是一个很好的做法，这样分布更接近正常模式(图中的对角线)。我们通过将变量转换为它们的对数值来实现这一点。根据qq图，我们可以看到客户、group_size和yrs_employed的数据似乎在两个尾部都是倾斜的。我对变量进行了简单的对数变换，并再次生成了qq图</p><pre class="kp kq kr ks gt np nq nr ns aw nt bi"><span id="eb53" class="md me iq nq b gy nu nv l nw nx"># Lets run the qq plot after converting the variables into the log values.</span><span id="53a2" class="md me iq nq b gy ny nv l nw nx">log_qq_data &lt;- update_columns(qq_data, c("customers", "group_size", "yrs_employed"), function(x) log(x + 1))</span><span id="0810" class="md me iq nq b gy ny nv l nw nx">plot_qq(log_qq_data[, c("customers", "group_size", "yrs_employed")], sampled_rows = 1000L)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi og"><img src="../Images/d5d76f2cfe4df67756544369d375b11e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4lyXm94lnTybeKhHPDmI0A.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">对数转换变量的qq图</p></figure><p id="c7d5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在分布看起来更好了。我们还可以通过另一个特性(如performance_group)来可视化qq图，这是我们研究的目标。</p><pre class="kp kq kr ks gt np nq nr ns aw nt bi"><span id="be11" class="md me iq nq b gy nu nv l nw nx"># Now lets visualize the QQ plot by the feature Performance_group</span><span id="b1c2" class="md me iq nq b gy ny nv l nw nx">qq_data &lt;- perf.data[, c("customers", "group_size", "yrs_employed", "test_score","performance_group")]</span><span id="19da" class="md me iq nq b gy ny nv l nw nx">plot_qq(qq_data, by = "performance_group", sampled_rows = 1000L)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oh"><img src="../Images/d3437206a8250b637cb655b4123b6b1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CBGfsndzOWw2N3TpOJvyZg.png"/></div></div></figure><p id="9d9f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">从上面的情节中，我们可以看出:</p><ul class=""><li id="31b7" class="nb nc iq lh b li lj ll lm lo nd ls ne lw nf ma ng nh ni nj bi translated"><strong class="lh ja">表现优异者拥有更大的客户群和更高的测试分数，这是意料之中的</strong></li><li id="b580" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated"><strong class="lh ja">优秀的员工也管理更大规模的团队</strong></li><li id="b1ee" class="nb nc iq lh b li nk ll nl lo nm ls nn lw no ma ng nh ni nj bi translated"><strong class="lh ja">公司中更有经验的经理也更有可能属于绩效最差的那一组</strong></li></ul><p id="e927" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">第四步:相关性分析</strong></p><p id="389c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">相关性分析旨在揭示特征变量与目标变量之间的任何依赖性/相关性。换句话说，我们试图了解绩效是否受到雇佣年限、工作时间、团队规模、客户数量等因素的影响。</p><pre class="kp kq kr ks gt np nq nr ns aw nt bi"><span id="9df4" class="md me iq nq b gy nu nv l nw nx"># Plot correlation plot to display relationships</span><span id="7a77" class="md me iq nq b gy ny nv l nw nx">plot_correlation(na.omit(perf.data), maxcat = 5L)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oi"><img src="../Images/053d3d7aaaa698464bd33c6d3c499276.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nAhhK73TL0yUHhKiSnZ4NA.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">相关图</p></figure><p id="f15a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">有些相关性是众所周知的，例如high_hours_flag_N对客户有负相关性。这意味着没有标记高工作时间的经理可能会有较少的客户。</p><p id="b9b9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在本文的第2部分，我将分享一种基于机器学习的方法，来探索什么样的特征会影响管理者的表现，这种影响有多强，以及背后的原因是什么。</p><p id="7e91" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja"> <em class="na">参考文献:</em> </strong></p><p id="e633" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">R : <a class="ae le" href="https://cran.r-project.org/web/packages/DataExplorer/vignettes/dataexplorer-intro.html" rel="noopener ugc nofollow" target="_blank">中的数据浏览器包https://cran . R-project . org/web/packages/data Explorer/vignettes/data Explorer-intro . html</a></p><p id="9ce9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">Github帐户以及R:<a class="ae le" href="https://github.com/Sambit78/ebp_exercise" rel="noopener ugc nofollow" target="_blank">https://github.com/Sambit78/ebp_exercise</a>中重构的代码</p><p id="a423" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">链接到原始数据集和问题:<a class="ae le" href="https://github.com/keithmcnulty/ebp_exercise" rel="noopener ugc nofollow" target="_blank">https://github.com/keithmcnulty/ebp_exercise</a></p></div></div>    
</body>
</html>