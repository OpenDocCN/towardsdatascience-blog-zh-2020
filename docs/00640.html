<html>
<head>
<title>Merging Data: The Pandas Missing Output</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">合并数据:熊猫丢失输出</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/merging-data-the-pandas-missing-output-dafca42c9fe?source=collection_archive---------26-----------------------#2020-01-18">https://towardsdatascience.com/merging-data-the-pandas-missing-output-dafca42c9fe?source=collection_archive---------26-----------------------#2020-01-18</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><figure class="it iu gq gs iv iw gi gj paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="gi gj is"><img src="../Images/692741b98ecffbff2bb352e6947e88c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h9Lf3URU93jXnN9fnKYw1w.jpeg"/></div></div><p class="jd je gk gi gj jf jg bd b be z dk translated">详细命令行界面输出的图像。有时需要详细的输出。有时候不会。图片来源:“Via Design Pickle”——<a class="ae jh" href="https://adamrossnelson.medium.com/image-credit-attributions-a24efcc730ad" rel="noopener">更多关于属性</a>。</p></figure><div class=""/><div class=""><h2 id="db1a" class="pw-subtitle-paragraph kh jj jk bd b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dk translated">给新接触合并熊猫数据的人的快速提示</h2></div><p id="a5ba" class="pw-post-body-paragraph kz la jk lb b lc ld kl le lf lg ko lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">TLDR:有时你想要罗嗦。有时候不会。阅读下面的提示来生成额外的输出，这将有助于评估 Pandas 中合并操作的成功。</p><h1 id="e44e" class="lv lw jk bd lx ly lz ma mb mc md me mf kq mg kr mh kt mi ku mj kw mk kx ml mm bi translated">介绍</h1><p id="ab6f" class="pw-post-body-paragraph kz la jk lb b lc mn kl le lf mo ko lh li mp lk ll lm mq lo lp lq mr ls lt lu in bi translated">我的第一个统计编程语言是 Stata，它有点冗长。然后学了 Python，当然也包括熊猫，也没那么啰嗦。像这样的转变可能会很艰难。本文讨论了我学到的一种技术，这种技术对于任何对合并操作之后的数据探索感兴趣的人都很有用。</p><p id="b08a" class="pw-post-body-paragraph kz la jk lb b lc ld kl le lf lg ko lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">在第一部分中，我将展示 Pandas 中的合并操作是如何产生零自动化输出的。在接下来的部分，我将解释为什么这样的输出是有用的。最后，在最后我将解释如何复制输出。</p><h2 id="5121" class="ms lw jk bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">Stata 宠坏你:丢失的输出</h2><p id="a7dc" class="pw-post-body-paragraph kz la jk lb b lc mn kl le lf mo ko lh li mp lk ll lm mq lo lp lq mr ls lt lu in bi translated">Stata 往往比其他编程语言更加冗长。当执行如下图所示的合并时，Stata 会立即提供输出，并创建一个名为 _merge 的指示变量，该变量可以帮助评估合并操作是否成功。</p><figure class="nf ng nh ni gu iw gi gj paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="gi gj ne"><img src="../Images/028ea05dfbc88be2a3100332bb91bb2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pwQSC-ENYv7NuQUhp4fRtA@2x.jpeg"/></div></div><p class="jd je gk gi gj jf jg bd b be z dk translated">Stata 中合并操作的图像及其默认输出。图片来源:“作者截屏”——<a class="ae jh" href="https://adamrossnelson.medium.com/image-credit-attributions-a24efcc730ad" rel="noopener">更多关于属性</a>。</p></figure><p id="f09a" class="pw-post-body-paragraph kz la jk lb b lc ld kl le lf lg ko lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">将上面 Stata 的输出与下面 Python 的输出进行比较。很棘手，对吧？Python 没有输出。此外，没有指示变量。不是默认的。在下一节中，我将解释为什么这个输出和指示器变量是有用的。</p><figure class="nf ng nh ni gu iw gi gj paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="gi gj nj"><img src="../Images/42dce082635244477565a232b73df114.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oXhO5zV4iDAxtkN6Jj8drA@2x.jpeg"/></div></div><p class="jd je gk gi gj jf jg bd b be z dk translated">Pandas 中合并操作的图像，以及它缺少默认输出。图片来源:“作者截屏”——<a class="ae jh" href="https://adamrossnelson.medium.com/image-credit-attributions-a24efcc730ad" rel="noopener">更多关于归属</a>。</p></figure><h2 id="1b9c" class="ms lw jk bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">为什么输出和指标是有用的</h2><p id="263b" class="pw-post-body-paragraph kz la jk lb b lc mn kl le lf mo ko lh li mp lk ll lm mq lo lp lq mr ls lt lu in bi translated">在上面给出的例子中，我合并了两个数据源。这两个数据源并不完全匹配。</p><p id="d6f2" class="pw-post-body-paragraph kz la jk lb b lc ld kl le lf lg ko lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">第一个数据源是高等教育机构的列表(其中包括一些不是机构的“机构”类型，它们是其他的东西，包括一个称为“行政单位”的类别)。</p><p id="87b1" class="pw-post-body-paragraph kz la jk lb b lc ld kl le lf lg ko lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">第二个数据源是注册数据。当然，合并并不是完美的匹配，因为没有行政单位的注册数据。在 Stata 中，下面的代码和输出开始显示合并操作不完美的原因。</p><figure class="nf ng nh ni gu iw gi gj paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="gi gj nk"><img src="../Images/ad498d974714ce159e35535caeac88b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pHxny-KsUrAkOCahi7bChg@2x.jpeg"/></div></div><p class="jd je gk gi gj jf jg bd b be z dk translated">探究合并操作结果的交叉制表图。图片来源:“作者截屏”——更多关于属性的<a class="ae jh" href="https://adamrossnelson.medium.com/image-credit-attributions-a24efcc730ad" rel="noopener"/>。</p></figure><p id="db28" class="pw-post-body-paragraph kz la jk lb b lc ld kl le lf lg ko lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">具体来说，没有一个行政单位有注册信息。然后，出于某种原因，一些其他类型的机构有时也不报告注册信息。这个列表可以帮助划分和计划与评估合并操作成功相关的工作。</p><p id="4f72" class="pw-post-body-paragraph kz la jk lb b lc ld kl le lf lg ko lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">下一节演示如何用 Python 复制这个输出。</p><h2 id="44b4" class="ms lw jk bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">如何复制产出和指标</h2><p id="6391" class="pw-post-body-paragraph kz la jk lb b lc mn kl le lf mo ko lh li mp lk ll lm mq lo lp lq mr ls lt lu in bi translated">下面的代码复制 Stata 的输出和相关的指示器。注意增加了指示器选项。</p><p id="7b48" class="pw-post-body-paragraph kz la jk lb b lc ld kl le lf lg ko lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">此外，还增加了一个 how 选项。各种合并类型超出了本文的范围，因此简而言之，添加 how 选项将包括来自两个数据集的列。</p><p id="9607" class="pw-post-body-paragraph kz la jk lb b lc ld kl le lf lg ko lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">简单的值计数为探索合并结果提供了一个起点，如下所示。以下代码和输出进一步演示了如何将指示器变量与其他变量结合使用，以进一步评估合并结果。</p><figure class="nf ng nh ni gu iw gi gj paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="gi gj nl"><img src="../Images/943b4704cda1741ff7bd4c1201dbf711.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*obLpyculvmwuGsbFTOeLDQ@2x.jpeg"/></div></div><p class="jd je gk gi gj jf jg bd b be z dk translated">探究合并结果的值计数和交叉制表的图像。图片鸣谢:“作者截屏”——<a class="ae jh" href="https://adamrossnelson.medium.com/image-credit-attributions-a24efcc730ad" rel="noopener">更多关于归属</a>。</p></figure><p id="b7bb" class="pw-post-body-paragraph kz la jk lb b lc ld kl le lf lg ko lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">再次看到这里，没有一个行政单位有招生信息。与上面的列表一样，这个列表可以帮助划分和计划与评估合并操作成功相关的工作。</p><h1 id="60b6" class="lv lw jk bd lx ly lz ma mb mc md me mf kq mg kr mh kt mi ku mj kw mk kx ml mm bi translated">结论</h1><p id="4ad1" class="pw-post-body-paragraph kz la jk lb b lc mn kl le lf mo ko lh li mp lk ll lm mq lo lp lq mr ls lt lu in bi translated">在本文的第一部分中，我们展示了在 Python 中，合并操作之后，如何实现零自动化输出。在第二部分，本文解释了为什么这样的输出是有用的。最后，本文还解释了如何复制该输出。</p><div class="it iu gq gs iv nm"><a href="https://adamrossnelson.medium.com/membership" rel="noopener follow" target="_blank"><div class="nn ab fp"><div class="no ab np cl cj nq"><h2 class="bd jl gz z fq nr fs ft ns fv fx jj bi translated">加入我的介绍链接媒体-亚当罗斯纳尔逊</h2><div class="nt l"><h3 class="bd b gz z fq nr fs ft ns fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nu l"><p class="bd b dl z fq nr fs ft ns fv fx dk translated">adamrossnelson.medium.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa jb nm"/></div></div></a></div><h1 id="09cc" class="lv lw jk bd lx ly lz ma mb mc md me mf kq mg kr mh kt mi ku mj kw mk kx ml mm bi translated">感谢阅读</h1><p id="9f5e" class="pw-post-body-paragraph kz la jk lb b lc mn kl le lf mo ko lh li mp lk ll lm mq lo lp lq mr ls lt lu in bi translated">如果你喜欢我要说的，可以在 adamrossnelson.medium.com 的<a class="ae jh" href="https://twitter.com/adamrossnelson" rel="noopener ugc nofollow" target="_blank">找到更多。</a></p><p id="37cd" class="pw-post-body-paragraph kz la jk lb b lc ld kl le lf lg ko lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">感谢阅读。把你的想法和主意发给我。你可以写信只是为了说声嗨。如果你真的需要告诉我是怎么错的，我期待着尽快和你聊天。推特:<a class="ae jh" href="https://twitter.com/adamrossnelson" rel="noopener ugc nofollow" target="_blank">@ adamrossnelson</a>| LinkedIn:<a class="ae jh" href="http://www.linkedin.com/in/arnelson" rel="noopener ugc nofollow" target="_blank">亚当·罗斯·纳尔逊</a> |脸书:<a class="ae jh" href="http://www.facebook.com/adamrossnelson" rel="noopener ugc nofollow" target="_blank">亚当·罗斯·纳尔逊</a>。</p></div></div>    
</body>
</html>