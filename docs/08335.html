<html>
<head>
<title>What is One-Hot Encoding and how to use Pandas get_dummies function</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是一键编码以及如何使用熊猫 get_dummies 函数</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-is-one-hot-encoding-and-how-to-use-pandas-get-dummies-function-922eb9bd4970?source=collection_archive---------2-----------------------#2020-06-18">https://towardsdatascience.com/what-is-one-hot-encoding-and-how-to-use-pandas-get-dummies-function-922eb9bd4970?source=collection_archive---------2-----------------------#2020-06-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="dc7d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个完整的初学者一键式编码教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bd00059f930c2775d44bef1e51dd413e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QEadcTTkuNs1kWBjcnP3Ag.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@hope_house_press_leather_diary_studio?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">希望之家出版社——皮革日记工作室</a>在<a class="ae ky" href="/s/photos/coding?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="0f95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我一直在问机器学习中的一些概念以及它们的真正含义，例如，在我以前的一篇文章<a class="ae ky" rel="noopener" target="_blank" href="/the-googles-7-steps-of-machine-learning-in-practice-a-tensorflow-example-for-structured-data-96ccbb707d77">谷歌实践机器学习的 7 个步骤</a>中，有人问我什么是一键编码，我们应该什么时候使用它？这是一个很好的问题，每个机器学习实践者都需要知道答案，所以让我们来讨论一下这个问题，并使用 Pandas <code class="fe lv lw lx ly b">get_dummies()</code>深入了解一些代码。</p><h1 id="c027" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">1.什么是一键编码？</h1><p id="d71c" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">在机器学习的数据处理步骤中，我们通常需要在输入机器学习模型之前以特定的方式准备我们的数据。其中一个例子是对分类数据执行一次性编码。</p><blockquote class="mw"><p id="f7e3" class="mx my it bd mz na nb nc nd ne nf lu dk translated">一种热编码是应用于分类数据的数据处理过程，将其转换成用于机器学习算法的二进制向量表示</p></blockquote><h2 id="f591" class="ng ma it bd mb nh ni dn mf nj nk dp mj li nl nm ml lm nn no mn lq np nq mp nr bi translated">为什么以及什么时候我们应该使用一次性编码？</h2><p id="192a" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">机器学习的一个主要问题是许多算法不能直接处理分类数据。分类数据[1]是可以取有限数量的可能值之一的变量。一些例子是:</p><ul class=""><li id="f84f" class="ns nt it lb b lc ld lf lg li nu lm nv lq nw lu nx ny nz oa bi translated">人的<strong class="lb iu">性别</strong> : <em class="ob">女</em>或<em class="ob">男</em>。</li><li id="f696" class="ns nt it lb b lc oc lf od li oe lm of lq og lu nx ny nz oa bi translated"><strong class="lb iu">航空旅行舱</strong> : <em class="ob">头等舱</em>，<em class="ob">公务舱</em>，<em class="ob">经济舱</em>。</li><li id="b663" class="ns nt it lb b lc oc lf od li oe lm of lq og lu nx ny nz oa bi translated"><strong class="lb iu">电脑厂商</strong> : <em class="ob">联想</em>，<em class="ob">惠普</em>，<em class="ob">戴尔</em>，<em class="ob">苹果</em>，<em class="ob">宏碁</em>，<em class="ob">华硕</em>，<em class="ob">其他</em>。</li></ul><p id="9fef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我们需要一种方法来将分类数据转换为数字形式，我们的机器学习算法可以将其作为输入。最广泛使用的编码技术是:</p><ol class=""><li id="be98" class="ns nt it lb b lc ld lf lg li nu lm nv lq nw lu oh ny nz oa bi translated"><strong class="lb iu">整数编码</strong>:将数值编码为整数。</li><li id="7918" class="ns nt it lb b lc oc lf od li oe lm of lq og lu oh ny nz oa bi translated"><strong class="lb iu">一键编码</strong>:将数值编码为二进制向量数组。</li><li id="b628" class="ns nt it lb b lc oc lf od li oe lm of lq og lu oh ny nz oa bi translated"><strong class="lb iu">虚拟变量编码</strong>:同 One-Hot 编码，但少一列。</li></ol><p id="8c64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的例子中，分类变量中的每个值代表一个不同的类别。一些类别可能彼此具有自然关系(称为自然排序)。<strong class="lb iu">航空旅行等级</strong>变量确实有自然的值排序。这种类型的分类变量被称为<a class="ae ky" href="https://en.wikipedia.org/wiki/Ordinal_data" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">序数变量</strong> </a>。<strong class="lb iu">序数变量</strong>在机器学习中应该区别对待，因为序数一般都带有某种意义。在<strong class="lb iu">航空旅行等级</strong>的情况下，更高等级的乘客往往更富有，年龄也更大。<strong class="lb iu">整数编码</strong>用于将<strong class="lb iu">序数变量</strong>转换为数值数据，例如</p><blockquote class="mw"><p id="164b" class="mx my it bd mz na nb nc nd ne nf lu dk translated"><em class="oi">头等舱</em>为 1，<em class="oi">公务舱</em>为 2，<em class="oi">经济舱</em>为 3</p></blockquote><figure class="ok ol om on oo kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/54aa16bdd495e3dcd20bca9feada761a.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/1*5-_Pssst35Z07wzURFNcVQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">整数编码表示</p></figure><p id="98ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">整数值之间具有自然的有序关系，机器学习算法可以学习这种关系[2]。</p><p id="f2b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于不存在这种顺序关系的类别变量，<strong class="lb iu">整数编码</strong>可能会导致较差的性能或意外的结果[2]。幸运的是，<strong class="lb iu">一键编码</strong>是对抗这种情况的一种方法。<strong class="lb iu">一键编码</strong>简单地为每个可能的值创建一列，并在适当的列中放置一个<code class="fe lv lw lx ly b">1</code>。下面是等效的独热编码表示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/798781da968156f1e3b4bd8b3128e971.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kFwIr1oOhgZ469jQINqG2w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">独热编码表示</p></figure><p id="c3db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过<strong class="lb iu">一键编码</strong>，二进制向量数组表示允许机器学习算法利用包含在类别值<strong class="lb iu">中的信息，而没有由普通性</strong>引起的混淆。</p><p id="97b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，<strong class="lb iu">一键编码</strong>有一些冗余。例如，在上面的例子中，如果我们知道某个乘客的机票不是<em class="ob">头等舱</em>也不是<em class="ob">经济舱</em>，那么它一定是<em class="ob">公务舱</em>。所以我们只需要使用这三个虚拟编码变量中的两个作为预测器。更一般地，所需的伪编码变量的数量比可能值的数量少一个，即<code class="fe lv lw lx ly b">K-1</code>。在统计学中，这被称为<a class="ae ky" href="https://en.wikiversity.org/wiki/Dummy_variable_(statistics)" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">虚拟编码变量</strong> </a>，或<strong class="lb iu">虚拟变量</strong>。下面是等效的虚拟编码变量表示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/e38477d331ffe06cbee65551523bec3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*8Mvi5BytJU-me9yeInbxEw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">虚拟编码变量表示</p></figure><p id="19bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://en.wikiversity.org/wiki/Dummy_variable_(statistics)" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">哑元编码变量</strong> </a>是统计学中避免<a class="ae ky" href="https://www.geeksforgeeks.org/ml-dummy-variable-trap-in-regression-models/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">哑元陷阱</strong> </a>的标准建议，然而，在机器学习的世界中，更推荐<strong class="lb iu">一键编码</strong>，因为<strong class="lb iu">哑元陷阱</strong>在应用正则化时并不是真正的问题[3]。</p><h1 id="b083" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">2.如何使用熊猫 get_dummies()函数？</h1><p id="2159" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">在我们开始学习教程之前，让我们先来看一个我们可以使用的示例数据集。在本教程中，我们将处理来自 Kaggle 的<a class="ae ky" href="https://www.kaggle.com/c/titanic/overview" rel="noopener ugc nofollow" target="_blank">泰坦尼克号数据集。这是一个非常著名的数据集，通常是学生学习机器的第一步。让我们导入熊猫并加载数据来开始。</a></p><pre class="kj kk kl km gt or ly os ot aw ou bi"><span id="db08" class="ng ma it ly b gy ov ow l ox oy">import pandas as pd</span><span id="61b0" class="ng ma it ly b gy oz ow l ox oy"><strong class="ly iu">def load_data():<br/>    return pd.read_csv('data/train.csv')</strong></span><span id="8fef" class="ng ma it ly b gy oz ow l ox oy">df = load_data()<br/>df.head()</span></pre><p id="dcc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们创建了一个函数<code class="fe lv lw lx ly b">load_data()</code>来将<strong class="lb iu"> train.csv </strong>文件加载到 pandas DataFrame 中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/5c93a2aea631b654755737bd2aee2b7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s25DLDRKHz1ZlTaiFRWZ5Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">泰坦尼克号数据预览</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/2e47b80781ae34a5a32bf6bd1de4a049.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E3a8GqyrscvgA515Vb5auw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据字典来自<a class="ae ky" href="https://www.kaggle.com/c/titanic/data?select=train.csv" rel="noopener ugc nofollow" target="_blank"> Kaggle </a></p></figure><h2 id="8076" class="ng ma it bd mb nh pc dn mf nj pd dp mj li pe nm ml lm pf no mn lq pg nq mp nr bi translated">2.1 创建一次性编码变量</h2><p id="85c2" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">假设我们想要为<strong class="lb iu">性别</strong>列创建一个一次性编码变量。下面是我们如何创建它。</p><pre class="kj kk kl km gt or ly os ot aw ou bi"><span id="45f3" class="ng ma it ly b gy ov ow l ox oy">pd.get_dummies(<strong class="ly iu">df.Sex</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/f170ad2ff65d9e25666013902e18e863.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*N497k_H4_OBxu7akyZOvqg.png"/></div></figure><p id="f0c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它的作用是为每一个可能的值创建一列，这是性别的两个可能值。它通过在适当的栏中放一个<code class="fe lv lw lx ly b">1</code>来告诉你它是雌性还是雄性。</p><p id="5f29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一般来说，如果一个分类变量有<code class="fe lv lw lx ly b">K</code>个可能值，我们将得到<code class="fe lv lw lx ly b">K</code>列来表示它。</p><h2 id="6b88" class="ng ma it bd mb nh pc dn mf nj pd dp mj li pe nm ml lm pf no mn lq pg nq mp nr bi translated">2.2 创建虚拟编码变量</h2><p id="f906" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">在一键编码中有一些冗余。例如，在上面的<strong class="lb iu">性别</strong>一次性编码中，一个人要么是男性，要么是女性。所以我们只需要使用这两个伪编码变量中的一个作为预测器。更一般地说，所需的伪编码变量的数量比可能值的数量少一个，这就是<code class="fe lv lw lx ly b">K-1</code>。在统计学中，这被称为<a class="ae ky" href="https://en.wikiversity.org/wiki/Dummy_variable_(statistics)" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">虚拟编码变量</strong> </a>，或<strong class="lb iu">虚拟变量</strong>。</p><p id="1667" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，<code class="fe lv lw lx ly b">get_dummies()</code>不做<strong class="lb iu">也不做</strong>哑编码，而是一键编码。为了从数据帧中产生一个实际的伪编码，我们需要传递<code class="fe lv lw lx ly b">drop_first=True</code></p><pre class="kj kk kl km gt or ly os ot aw ou bi"><span id="eff3" class="ng ma it ly b gy ov ow l ox oy">pd.get_dummies(df.Sex, <strong class="ly iu">drop_first=True</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/a7fc56ff142b2957ab9b78d197606a91.png" data-original-src="https://miro.medium.com/v2/resize:fit:604/format:webp/1*2VwsSaulgtWj4oyzl-o_Ow.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">虚拟编码</p></figure><h2 id="b319" class="ng ma it bd mb nh pc dn mf nj pd dp mj li pe nm ml lm pf no mn lq pg nq mp nr bi translated">2.3 向列名添加前缀</h2><p id="0db9" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">默认情况下，<code class="fe lv lw lx ly b">get_dummies()</code>使用变量值作为列名。比如上面<strong class="lb iu">性别</strong>一栏中的<strong class="lb iu"> <em class="ob">男</em> </strong>和<strong class="lb iu"> <em class="ob">女</em> </strong>例子。为了识别虚拟变量的来源，我们可以使用<code class="fe lv lw lx ly b">prefix</code>参数。例如:</p><pre class="kj kk kl km gt or ly os ot aw ou bi"><span id="69e8" class="ng ma it ly b gy ov ow l ox oy">pd.get_dummies(df.Sex, <strong class="ly iu">prefix='Sex'</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/1af15bd61a5e9cef15626ec795227b80.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*hf8Lf8-vALZO9Q4S5hLP8Q.png"/></div></figure><h2 id="e350" class="ng ma it bd mb nh pc dn mf nj pd dp mj li pe nm ml lm pf no mn lq pg nq mp nr bi translated">2.4 对于具有两个以上可能值的变量</h2><p id="94c4" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">现在，让我们试着对一个有两个以上可能值的变量进行一次性编码。例如，有一个<strong class="lb iu">开始于</strong>列，我们可以做<code class="fe lv lw lx ly b">value_counts()</code> <strong class="lb iu"> </strong>来检查它的不同值。</p><pre class="kj kk kl km gt or ly os ot aw ou bi"><span id="30b6" class="ng ma it ly b gy ov ow l ox oy">df.Embarked.<strong class="ly iu">value_counts()</strong></span><span id="0e8a" class="ng ma it ly b gy oz ow l ox oy"><strong class="ly iu">S    644<br/>C    168<br/>Q     77</strong><br/>Name: Embarked, dtype: int64</span></pre><p id="a1e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们用<code class="fe lv lw lx ly b">get_dummies()</code>来表示</p><pre class="kj kk kl km gt or ly os ot aw ou bi"><span id="bbf0" class="ng ma it ly b gy ov ow l ox oy">pd.get_dummies(<strong class="ly iu">df.Embarked</strong>, <strong class="ly iu">prefix='Embarked'</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/9c43f36c532d8231851d3351a3d36910.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*a1i8HSLJqkgPiK20E2zz-w.png"/></div></figure><h2 id="b596" class="ng ma it bd mb nh pc dn mf nj pd dp mj li pe nm ml lm pf no mn lq pg nq mp nr bi translated">2.5 连接到数据框</h2><p id="858f" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">您可能会想，我们仍然需要将一次性编码变量附加到数据帧上。为此，我们首先将输出分配给一个名为<code class="fe lv lw lx ly b">embarked_dummies</code>的变量</p><pre class="kj kk kl km gt or ly os ot aw ou bi"><span id="8947" class="ng ma it ly b gy ov ow l ox oy"><strong class="ly iu">embarked_dummies</strong> = pd.get_dummies(df.Embarked, prefix='Embarked')</span></pre><p id="b2c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们使用<code class="fe lv lw lx ly b">pd.concat()</code>将<code class="fe lv lw lx ly b">embarked_dummies</code>连接到数据帧<code class="fe lv lw lx ly b">df</code>。</p><pre class="kj kk kl km gt or ly os ot aw ou bi"><span id="afaf" class="ng ma it ly b gy ov ow l ox oy">df = pd.<strong class="ly iu">concat</strong>(<strong class="ly iu">[df, embarked_dummies]</strong>, axis=1)</span></pre><p id="9b25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">pd.concat()</code>的工作方式是我们可以并排连接列，或者一行接一行。所以在这种情况下，我们沿着列(<code class="fe lv lw lx ly b">axis =1</code>)连接<code class="fe lv lw lx ly b">df</code>和<code class="fe lv lw lx ly b">embarked_dummies</code>。最后，我们改写原来的<code class="fe lv lw lx ly b">df</code>。</p><p id="4dce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过运行<code class="fe lv lw lx ly b">df.head()</code>，我们可以看到现在已经有了<code class="fe lv lw lx ly b">Embarked_C</code>、<code class="fe lv lw lx ly b">Embarked_Q</code>和<code class="fe lv lw lx ly b">Embarked_S</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/5405ea4d4a9747cb22ef15ce05962288.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ROG6t_PFYNbSBdGAOhAaCA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><code class="fe lv lw lx ly b">pd.<strong class="bd pm">concat</strong>(<strong class="bd pm">[df, embarked_dummies]</strong>, axis=1)</code>的输出</p></figure><h2 id="d0df" class="ng ma it bd mb nh pc dn mf nj pd dp mj li pe nm ml lm pf no mn lq pg nq mp nr bi translated">2.6 将数据帧传递给 get_dummies()</h2><p id="c508" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">我们已经向<code class="fe lv lw lx ly b">get_dummies()</code>传递了一个序列，但我们将传递一个数据帧。</p><pre class="kj kk kl km gt or ly os ot aw ou bi"><span id="79b4" class="ng ma it ly b gy ov ow l ox oy">df = load_data() # reset dataframe<br/>df = pd.get_dummies(<strong class="ly iu">df</strong>, <strong class="ly iu">columns=['Sex', 'Embarked']</strong>)</span></pre><p id="2cb5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">df</code>是一个数据帧。我们传递给<code class="fe lv lw lx ly b">columns</code>一个列表，并告诉它<strong class="lb iu">性别</strong>和<strong class="lb iu">已出发</strong>是我们想要虚拟的列。</p><p id="311a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过运行<code class="fe lv lw lx ly b">df.head()</code>，我们可以看到原来的<strong class="lb iu">性</strong>列和<strong class="lb iu">上船</strong>列不见了，取而代之的是虚拟列。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/16ec26608b4eddc606a47aef794d78b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jFe93CoqqYBTcFzPBm6qSQ.png"/></div></div></figure><h1 id="e609" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">好了</h1><p id="4495" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">感谢阅读。</p><p id="ac85" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请在我的 Github 上查看<a class="ae ky" href="https://github.com/BindiChen/machine-learning" rel="noopener ugc nofollow" target="_blank">笔记本的源代码。</a></p><p id="3fcb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你对机器学习的实用方面感兴趣，请继续关注。</p><h1 id="e016" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">参考</h1><ul class=""><li id="68eb" class="ns nt it lb b lc mr lf ms li po lm pp lq pq lu nx ny nz oa bi translated">[1] <a class="ae ky" href="https://en.wikipedia.org/wiki/Categorical_variable" rel="noopener ugc nofollow" target="_blank">维基百科中的分类变量</a></li><li id="13d6" class="ns nt it lb b lc oc lf od li oe lm of lq og lu nx ny nz oa bi translated">[2] <a class="ae ky" href="https://machinelearningmastery.com/why-one-hot-encode-data-in-machine-learning/" rel="noopener ugc nofollow" target="_blank">为什么机器学习中的一键编码</a></li><li id="9327" class="ns nt it lb b lc oc lf od li oe lm of lq og lu nx ny nz oa bi translated">[3] <a class="ae ky" href="https://kiwidamien.github.io/are-you-getting-burned-by-one-hot-encoding.html" rel="noopener ugc nofollow" target="_blank">一键式编码会让你焦头烂额吗</a></li></ul></div></div>    
</body>
</html>