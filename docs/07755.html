<html>
<head>
<title>How to Create an Attractive Bubble Map in Jupyter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Jupyter 中创建一个有吸引力的气泡图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-create-an-attractive-bubble-map-5cf452c244e9?source=collection_archive---------63-----------------------#2020-06-09">https://towardsdatascience.com/how-to-create-an-attractive-bubble-map-5cf452c244e9?source=collection_archive---------63-----------------------#2020-06-09</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="2a48" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">将数据抓取到数据可视化的分步指南</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/e824f5649d61bbcc8c4f51f7c44e0075.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bkiKXwESWIoUgUCZGHJgcA.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">图片来自<a class="ae kz" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=600497" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae kz" href="https://pixabay.com/users/stokpic-692575/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=600497" rel="noopener ugc nofollow" target="_blank"> stokpic </a></p></figure><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="c319" class="lf lg iu lb b gz lh li l lj lk"><strong class="lb iv">Table of Contents</strong></span><span id="6475" class="lf lg iu lb b gz ll li l lj lk"><a class="ae kz" href="#f1e4" rel="noopener ugc nofollow"><strong class="lb iv">Introduction</strong></a></span><span id="142b" class="lf lg iu lb b gz ll li l lj lk">1. <a class="ae kz" href="#ca78" rel="noopener ugc nofollow">Libraries</a><br/>2. <a class="ae kz" href="#c249" rel="noopener ugc nofollow">Data Scraping with BeautifulSoup</a><br/>3. <a class="ae kz" href="#6bfe" rel="noopener ugc nofollow">The Mapbox Token</a><br/>4. <a class="ae kz" href="#fb63" rel="noopener ugc nofollow">Plotly.express</a><br/>5. <a class="ae kz" href="#1c1d" rel="noopener ugc nofollow">Other Datasets</a><br/>6. <a class="ae kz" href="#f972" rel="noopener ugc nofollow">Comparing to Plotly.graph_object</a></span><span id="05e2" class="lf lg iu lb b gz ll li l lj lk"><a class="ae kz" href="#e370" rel="noopener ugc nofollow"><strong class="lb iv">Conclusion</strong></a></span></pre><h1 id="f1e4" class="lm lg iu bd ln lo lp lq lr ls lt lu lv ka lw kb lx kd ly ke lz kg ma kh mb mc bi translated">介绍</h1><p id="6605" class="pw-post-body-paragraph md me iu mf b mg mh jv mi mj mk jy ml mm mn mo mp mq mr ms mt mu mv mw mx my in bi translated">在本文中，我将向您展示如何从<a class="ae kz" href="https://github.com/CSSEGISandData/COVID-19/" rel="noopener ugc nofollow" target="_blank"> CSSEGISandData 的新冠肺炎 Github repo </a>中抓取最新数据，并使用 Plotly 和 Mapbox 创建气泡图。</p><p id="622d" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">我们将使用 JupyterLab(或 Jupyter Notebook，如果你喜欢的话)，Plotly express，BeautifulSoup 和 Mapbox。</p><p id="a99c" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">以前在 JupyterLab 上安装 Plotly 很困难，但是现在安装起来很容易。你可以在这里找到<a class="ae kz" href="https://plotly.com/python/getting-started/?utm_source=mailchimp-jan-2015&amp;utm_medium=email&amp;utm_campaign=generalemail-jan2015&amp;utm_term=bubble-chart" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="ca78" class="lm lg iu bd ln lo lp lq lr ls lt lu lv ka lw kb lx kd ly ke lz kg ma kh mb mc bi translated">图书馆</h1><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="c4d7" class="lf lg iu lb b gz lh li l lj lk">import requests<br/>from bs4 import BeautifulSoup<br/>import plotly.express as px<br/>import pandas as pd</span></pre><p id="757d" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">我们使用 Python 的 HTTP 库，<code class="fe ne nf ng lb b"><a class="ae kz" href="https://requests.readthedocs.io/en/master/" rel="noopener ugc nofollow" target="_blank">requests</a></code>向网页发送<code class="fe ne nf ng lb b">get</code>请求。<a class="ae kz" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="noopener ugc nofollow" target="_blank"> BeautifulSoup </a>是一个 Python 库，用于从 HTML 和 XML 文件中提取数据。</p><p id="080f" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated"><code class="fe ne nf ng lb b"><a class="ae kz" href="https://plotly.com/python/plotly-express/" rel="noopener ugc nofollow" target="_blank">plotly.express</a></code>是 Plotly 的高级包装器。它使用更简单的语法，易于使用。<code class="fe ne nf ng lb b"><a class="ae kz" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank">pandas</a></code>是一个快速、强大、灵活且易于使用的开源数据分析和操作工具。</p><h1 id="c249" class="lm lg iu bd ln lo lp lq lr ls lt lu lv ka lw kb lx kd ly ke lz kg ma kh mb mc bi translated">使用 BeautifulSoup 进行数据抓取</h1><p id="30d7" class="pw-post-body-paragraph md me iu mf b mg mh jv mi mj mk jy ml mm mn mo mp mq mr ms mt mu mv mw mx my in bi translated">让我们开始写刮擦部分的代码。</p><p id="e232" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">我们设置变量<code class="fe ne nf ng lb b">github</code>和<code class="fe ne nf ng lb b">URL</code>。</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="d4b8" class="lf lg iu lb b gz lh li l lj lk">github = 'https://github.com'<br/>URL = 'https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports_us'</span></pre><p id="9f5b" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">我们使用<code class="fe ne nf ng lb b">request.get()</code>获得一个网页，并通过解析页面内容创建一个<code class="fe ne nf ng lb b">Beautifulsoup</code>对象。</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="ecd7" class="lf lg iu lb b gz lh li l lj lk">page = requests.get(URL)<br/>soup = BeautifulSoup(page.content, 'html.parser')</span></pre><p id="94e2" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">检查页面 HTML 后，您可以发现最新的报告总是倒数第四个链接。如果你需要确认，你可以打印最新的。</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="cdf4" class="lf lg iu lb b gz lh li l lj lk">latest = str(soup.table.find_all('a')[-4]['href'])<br/># print(latest)</span></pre><p id="5423" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">输出:</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="cf4e" class="lf lg iu lb b gz lh li l lj lk">/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_daily_reports_us/06-04-2020.csv</span></pre><p id="2268" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">我们创建指向最新数据的链接，并使用<code class="fe ne nf ng lb b">requests.get()</code>再次获取网页内容。我们可以通过打印来确认。</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="e26c" class="lf lg iu lb b gz lh li l lj lk">latestURL = github + latest<br/>latestPage = requests.get(latestURL, 'html.parser')<br/>print(latestURL)</span></pre><p id="9907" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">输出:</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="12bb" class="lf lg iu lb b gz lh li l lj lk"><a class="ae kz" href="https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_daily_reports_us/06-20-2020.csv" rel="noopener ugc nofollow" target="_blank">https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_daily_reports_us/06-04-2020.csv</a></span></pre><p id="b7d6" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">Github 有一个 id 为<code class="fe ne nf ng lb b">raw-url</code>的 raw 页面。我们得到原始页面的 URL。我们可以通过打印<code class="fe ne nf ng lb b">rawURL</code>来确认。</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="957c" class="lf lg iu lb b gz lh li l lj lk">soup = BeautifulSoup(latestPage.content, 'html.parser')<br/>raw = str(soup.find(id='raw-url')['href'])<br/>rawURL = github + raw<br/>print(rawURL)</span></pre><p id="9ea3" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">输出:</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="e171" class="lf lg iu lb b gz lh li l lj lk"><a class="ae kz" href="https://github.com/CSSEGISandData/COVID-19/raw/master/csse_covid_19_data/csse_covid_19_daily_reports_us/06-20-2020.csv" rel="noopener ugc nofollow" target="_blank">https://github.com/CSSEGISandData/COVID-19/raw/master/csse_covid_19_data/csse_covid_19_daily_reports_us/06-04-2020.csv</a></span></pre><p id="1685" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">现在原始页面是一个 CSV 格式，我们可以使用熊猫来阅读它。我们可以通过使用<code class="fe ne nf ng lb b">head()</code>打印数据来确认。</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="c2fc" class="lf lg iu lb b gz lh li l lj lk">df = pd.read_csv(rawURL)<br/>print(df.head())</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nh"><img src="../Images/23d9b0b54c2a51c41999235fa0b5c807.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*tS18SwydRkMq9QrtFijPGg.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">df.head()的输出。图片由作者提供。</p></figure><p id="9c2c" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">我们删除了缺少<code class="fe ne nf ng lb b">Lat</code>值的行(<code class="fe ne nf ng lb b">axis=0</code>)。我们还用 0 填充缺少数据的字段。</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="b2ce" class="lf lg iu lb b gz lh li l lj lk">df = df.dropna(axis=0, subset=['Lat'])<br/>df = df.fillna(0)<br/>print(df.head())</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ni"><img src="../Images/b0f9af0c6d19baf7606a7ba91a435774.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*Ms6YDdeIYw-N0lsRKPe4xA.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">df.fillna(0)之后的 df.head()的 Out put。图片由作者提供。</p></figure><p id="3f7c" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">我们从第三列的第一行获取日期和时间。(第一个索引为 0)</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="fde8" class="lf lg iu lb b gz lh li l lj lk">date, time = df.iloc[0, 2].split()<br/>print(date)<br/>print(time)</span></pre><p id="052f" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">输出:</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="9fc9" class="lf lg iu lb b gz lh li l lj lk">2020-06-04<br/>04:33:37</span></pre></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu nq"><a rel="noopener follow" target="_blank" href="/how-to-run-jupyter-notebook-on-docker-7c9748ed209f"><div class="nr ab fp"><div class="ns ab nt cl cj nu"><h2 class="bd iv gz z fq nv fs ft nw fv fx it bi translated">如何在 Docker 上运行 Jupyter 笔记本</h2><div class="nx l"><h3 class="bd b gz z fq nv fs ft nw fv fx dk translated">不再有 Python 环境和包更新</h3></div><div class="ny l"><p class="bd b dl z fq nv fs ft nw fv fx dk translated">towardsdatascience.com</p></div></div><div class="nz l"><div class="oa l ob oc od nz oe kt nq"/></div></div></a></div></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h1 id="6bfe" class="lm lg iu bd ln lo of lq lr ls og lu lv ka oh kb lx kd oi ke lz kg oj kh mb mc bi translated">地图框标记</h1><p id="b509" class="pw-post-body-paragraph md me iu mf b mg mh jv mi mj mk jy ml mm mn mo mp mq mr ms mt mu mv mw mx my in bi translated">在<a class="ae kz" href="https://account.mapbox.com/" rel="noopener ugc nofollow" target="_blank">地图框</a>创建一个账户。并创建一个令牌。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ok"><img src="../Images/11a7f3512d91f15b68d46a8e04ce5a75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0_R92Cer_QP12zWx"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">地图框标记。作者图片</p></figure><p id="c041" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">在您的 JupyterLab/Jupyter 笔记本中，创建一个文件<code class="fe ne nf ng lb b">.mapbox_token</code>，并将创建的令牌从 Mapbox 复制并粘贴到该文件中。</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="bf55" class="lf lg iu lb b gz lh li l lj lk">px.set_mapbox_access_token(open(".mapbox_token").read())</span></pre><p id="5d37" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">我们使用 Plotly express <code class="fe ne nf ng lb b">set_mapbox_access_token</code>设置 Mapbox 令牌。如果您使用 Git，那么将<code class="fe ne nf ng lb b">.mapbox_token</code>添加到您的<code class="fe ne nf ng lb b"><a class="ae kz" href="https://github.com/shinokada/covid-19-stats/blob/master/.gitignore" rel="noopener ugc nofollow" target="_blank">.gitignore</a></code>文件中。</p><h1 id="fb63" class="lm lg iu bd ln lo lp lq lr ls lt lu lv ka lw kb lx kd ly ke lz kg ma kh mb mc bi translated">Plotly.express</h1><p id="fc08" class="pw-post-body-paragraph md me iu mf b mg mh jv mi mj mk jy ml mm mn mo mp mq mr ms mt mu mv mw mx my in bi translated">代码的最后部分是设置<code class="fe ne nf ng lb b"><a class="ae kz" href="https://plotly.com/python/plotly-express/" rel="noopener ugc nofollow" target="_blank">plotly.express</a></code>参数和布局。</p><p id="583f" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">以下列表包含<code class="fe ne nf ng lb b">plotly.express.scatter_mapbox</code>的一些关键参数。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ol"><img src="../Images/adb1fe923ce8513883fdd1015c56342f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kTtAKmnbh6RKao11I1QZXQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者快速参考。更多详情，请参见本<a class="ae kz" href="https://plotly.com/python-api-reference/generated/plotly.express.scatter_mapbox.html?highlight=scatter_mapbox#plotly.express.scatter_mapbox" rel="noopener ugc nofollow" target="_blank">页</a>。</p></figure><p id="73a3" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">我们用<code class="fe ne nf ng lb b">color</code>、<code class="fe ne nf ng lb b">size</code>、<code class="fe ne nf ng lb b"><a class="ae kz" href="https://plotly.com/python/builtin-colorscales/" rel="noopener ugc nofollow" target="_blank">color_continuous_scale</a></code>、<code class="fe ne nf ng lb b">size_max</code>、<code class="fe ne nf ng lb b">zoom</code>、<code class="fe ne nf ng lb b">center</code>、<code class="fe ne nf ng lb b">hover_data</code>和<code class="fe ne nf ng lb b">hover_name</code>。如果您愿意，可以设置更多参数。</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="95ec" class="lf lg iu lb b gz lh li l lj lk">fig = px.scatter_mapbox(<br/>    df, lat="Lat", lon="Long_",<br/>    color="Deaths",<br/>    size="Deaths",<br/>    color_continuous_scale=px.colors.sequential.Jet,<br/>    size_max=40,<br/>    zoom=3, <br/>    center={"lat": 37.0902, "lon": -95.7129},              <br/>    hover_data=["Confirmed"],<br/>    hover_name='Province_State'<br/>)</span></pre><p id="307b" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">我们可以在<code class="fe ne nf ng lb b">fig.update_layout</code>设置标题。和<code class="fe ne nf ng lb b">fig.show()</code>显示图像。</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="a2e9" class="lf lg iu lb b gz lh li l lj lk">fig.update_layout(<br/>    title=f'COVID-19 Deaths in USA by states.  Date: {date}',<br/>)<br/>fig.show()</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj om"><img src="../Images/afd2404d1d148facedaa2d8810a2f2b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*a0yxZpgocVGd8eiX"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="2f2b" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated">所有代码:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="on oo l"/></div></figure><h1 id="1c1d" class="lm lg iu bd ln lo lp lq lr ls lt lu lv ka lw kb lx kd ly ke lz kg ma kh mb mc bi translated">其他数据集</h1><p id="5816" class="pw-post-body-paragraph md me iu mf b mg mh jv mi mj mk jy ml mm mn mo mp mq mr ms mt mu mv mw mx my in bi translated">我们可以将此用于其他 CSSEGISandData 的新冠肺炎页面。例如，使用全球每日报告链接:</p><pre class="kk kl km kn gu la lb lc ld aw le bi"><span id="55cd" class="lf lg iu lb b gz lh li l lj lk">URL = 'https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports'</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj om"><img src="../Images/4764cab9163fc73ad44c53706697c59e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hIgZemH7BPlkjWad"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://gist.github.com/shinokada/aace1fd4e1ad0b35c1f8e8577a4c481b" rel="noopener ugc nofollow" target="_blank">要诀</a>中的代码。作者图片</p></figure><h1 id="f972" class="lm lg iu bd ln lo lp lq lr ls lt lu lv ka lw kb lx kd ly ke lz kg ma kh mb mc bi translated">与 Plotly.graph_object 比较</h1><p id="9ff3" class="pw-post-body-paragraph md me iu mf b mg mh jv mi mj mk jy ml mm mn mo mp mq mr ms mt mu mv mw mx my in bi translated">以下 gif 图像是使用 Plotly.graph_object 创建的。你能看出区别吗？它不像地图框那样有州名、地形、河流和详细信息。你可以在这里找到代码<a class="ae kz" href="https://gist.github.com/shinokada/3a92351442c5b15c8a30f9a606f153a3" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj op"><img src="../Images/564ae6a16ba7ef1e231fb4ad63ac988d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/1*q0sMVzWHKdZfRU0OjwT3GQ.gif"/></div></figure><h1 id="e370" class="lm lg iu bd ln lo lp lq lr ls lt lu lv ka lw kb lx kd ly ke lz kg ma kh mb mc bi translated">结论</h1><p id="fb7d" class="pw-post-body-paragraph md me iu mf b mg mh jv mi mj mk jy ml mm mn mo mp mq mr ms mt mu mv mw mx my in bi translated">你现在知道如何使用 Plotly.express 制作气泡图。使用 Mapbox 库是因为它给你一个更好的展示，你可以用<a class="ae kz" href="https://plotly.github.io/plotly.py-docs/generated/plotly.express.scatter_mapbox.html" rel="noopener ugc nofollow" target="_blank">各种参数</a>控制地图。在你的数据科学项目中使用气泡图怎么样？</p></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><p id="0f60" class="pw-post-body-paragraph md me iu mf b mg mz jv mi mj na jy ml mm nb mo mp mq nc ms mt mu nd mw mx my in bi translated"><strong class="mf iv">通过</strong> <a class="ae kz" href="https://blog.codewithshin.com/membership" rel="noopener ugc nofollow" target="_blank"> <strong class="mf iv">成为</strong> </a> <strong class="mf iv">会员，获得媒体上所有故事的访问权限。</strong></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oq"><img src="../Images/0be3ee559fee844cb75615290e4a8b29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*DjTM9iFtVc2wlcWcOms7VQ.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://blog.codewithshin.com/subscribe" rel="noopener ugc nofollow" target="_blank">https://blog.codewithshin.com/subscribe</a></p></figure><h1 id="ff6b" class="lm lg iu bd ln lo lp lq lr ls lt lu lv ka lw kb lx kd ly ke lz kg ma kh mb mc bi translated">资源</h1><ul class=""><li id="b857" class="or os iu mf b mg mh mj mk mm ot mq ou mu ov my ow ox oy oz bi translated">你可以在地图上找到来自<a class="ae kz" href="https://www.latlong.net/" rel="noopener ugc nofollow" target="_blank">https://www.latlong.net/</a>的经纬度</li><li id="e045" class="or os iu mf b mg pa mj pb mm pc mq pd mu pe my ow ox oy oz bi translated"><a class="ae kz" href="https://jupyterlab.readthedocs.io/en/stable/getting_started/installation.html" rel="noopener ugc nofollow" target="_blank"> JupyterLab 安装</a></li><li id="03f7" class="or os iu mf b mg pa mj pb mm pc mq pd mu pe my ow ox oy oz bi translated"><a class="ae kz" href="https://plotly.com/python/builtin-colorscales/" rel="noopener ugc nofollow" target="_blank">Python 中 Plotly 内置的连续色标</a></li><li id="8b37" class="or os iu mf b mg pa mj pb mm pc mq pd mu pe my ow ox oy oz bi translated"><code class="fe ne nf ng lb b"><a class="ae kz" href="https://plotly.github.io/plotly.py-docs/generated/plotly.express.scatter_mapbox.html" rel="noopener ugc nofollow" target="_blank">plotly.express</a></code> <a class="ae kz" href="https://plotly.github.io/plotly.py-docs/generated/plotly.express.scatter_mapbox.html" rel="noopener ugc nofollow" target="_blank">。散点 _ 地图框</a></li></ul><h2 id="7777" class="lf lg iu bd ln pf pg dn lr ph pi dp lv mm pj pk lx mq pl pm lz mu pn po mb pp bi translated">相关故事</h2><div class="pq pr gq gs ps nq"><a rel="noopener follow" target="_blank" href="/how-to-create-an-interactive-dropdown-in-jupyter-322277f58a68"><div class="nr ab fp"><div class="ns ab nt cl cj nu"><h2 class="bd iv gz z fq nv fs ft nw fv fx it bi translated">如何在 Jupyter 中创建交互式下拉列表</h2><div class="nx l"><h3 class="bd b gz z fq nv fs ft nw fv fx dk translated">用下拉菜单更新图表</h3></div><div class="ny l"><p class="bd b dl z fq nv fs ft nw fv fx dk translated">towardsdatascience.com</p></div></div><div class="nz l"><div class="pt l ob oc od nz oe kt nq"/></div></div></a></div><div class="pq pr gq gs ps nq"><a rel="noopener follow" target="_blank" href="/how-to-create-a-grouped-bar-chart-with-plotly-express-in-python-e2b64ed4abd7"><div class="nr ab fp"><div class="ns ab nt cl cj nu"><h2 class="bd iv gz z fq nv fs ft nw fv fx it bi translated">如何用 Python 中的 Plotly Express 创建分组条形图</h2><div class="nx l"><h3 class="bd b gz z fq nv fs ft nw fv fx dk translated">Python melt 函数将数据帧从宽到长格式化</h3></div><div class="ny l"><p class="bd b dl z fq nv fs ft nw fv fx dk translated">towardsdatascience.com</p></div></div><div class="nz l"><div class="pu l ob oc od nz oe kt nq"/></div></div></a></div><div class="pq pr gq gs ps nq"><a rel="noopener follow" target="_blank" href="/how-to-create-an-animated-choropleth-map-with-less-than-15-lines-of-code-2ff04921c60b"><div class="nr ab fp"><div class="ns ab nt cl cj nu"><h2 class="bd iv gz z fq nv fs ft nw fv fx it bi translated">如何用不到 15 行代码创建一个动画的 Choropleth 地图</h2><div class="nx l"><h3 class="bd b gz z fq nv fs ft nw fv fx dk translated">在 Jupyter 上使用 Python 中的 Plotly Express</h3></div><div class="ny l"><p class="bd b dl z fq nv fs ft nw fv fx dk translated">towardsdatascience.com</p></div></div><div class="nz l"><div class="pv l ob oc od nz oe kt nq"/></div></div></a></div><div class="pq pr gq gs ps nq"><a rel="noopener follow" target="_blank" href="/line-chart-animation-with-plotly-on-jupyter-e19c738dc882"><div class="nr ab fp"><div class="ns ab nt cl cj nu"><h2 class="bd iv gz z fq nv fs ft nw fv fx it bi translated">Jupyter 上 Plotly 的折线图动画</h2><div class="nx l"><h3 class="bd b gz z fq nv fs ft nw fv fx dk translated">Plotly 统一悬停模式，按钮和更多</h3></div><div class="ny l"><p class="bd b dl z fq nv fs ft nw fv fx dk translated">towardsdatascience.com</p></div></div><div class="nz l"><div class="pw l ob oc od nz oe kt nq"/></div></div></a></div><div class="pq pr gq gs ps nq"><a rel="noopener follow" target="_blank" href="/how-to-create-an-animated-bar-chart-in-jupyter-9ee1de8d0e80"><div class="nr ab fp"><div class="ns ab nt cl cj nu"><h2 class="bd iv gz z fq nv fs ft nw fv fx it bi translated">如何在 Jupyter 中创建动画条形图</h2><div class="nx l"><h3 class="bd b gz z fq nv fs ft nw fv fx dk translated">使用 Plotly Python 显示最新美国失业率的数据可视化</h3></div><div class="ny l"><p class="bd b dl z fq nv fs ft nw fv fx dk translated">towardsdatascience.com</p></div></div><div class="nz l"><div class="px l ob oc od nz oe kt nq"/></div></div></a></div><div class="pq pr gq gs ps nq"><a rel="noopener follow" target="_blank" href="/how-to-create-a-grouped-bar-chart-with-plotly-express-in-python-e2b64ed4abd7"><div class="nr ab fp"><div class="ns ab nt cl cj nu"><h2 class="bd iv gz z fq nv fs ft nw fv fx it bi translated">如何用 Python 中的 Plotly Express 创建分组条形图</h2><div class="nx l"><h3 class="bd b gz z fq nv fs ft nw fv fx dk translated">Python melt 函数将数据帧从宽到长格式化</h3></div><div class="ny l"><p class="bd b dl z fq nv fs ft nw fv fx dk translated">towardsdatascience.com</p></div></div><div class="nz l"><div class="pu l ob oc od nz oe kt nq"/></div></div></a></div><div class="pq pr gq gs ps nq"><a rel="noopener follow" target="_blank" href="/stepping-into-intermediate-with-jupyter-f6647aeb1184"><div class="nr ab fp"><div class="ns ab nt cl cj nu"><h2 class="bd iv gz z fq nv fs ft nw fv fx it bi translated">Jupyter 用户的生产力提示</h2><div class="nx l"><h3 class="bd b gz z fq nv fs ft nw fv fx dk translated">使用 Jupyter 笔记本和 JupyterLab 让您的工作流程更加高效</h3></div><div class="ny l"><p class="bd b dl z fq nv fs ft nw fv fx dk translated">towardsdatascience.com</p></div></div><div class="nz l"><div class="py l ob oc od nz oe kt nq"/></div></div></a></div></div></div>    
</body>
</html>