<html>
<head>
<title>Data Analytics to Web App: Streamlit made easy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据分析到 Web 应用程序:简化 it 变得简单</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-analytics-to-web-app-streamlit-made-easy-ed687266f0e8?source=collection_archive---------12-----------------------#2020-09-03">https://towardsdatascience.com/data-analytics-to-web-app-streamlit-made-easy-ed687266f0e8?source=collection_archive---------12-----------------------#2020-09-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5628" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我们展示了使用 Streamlit Python 包部署数据分析和进行交互式机器学习是多么容易。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/463f5ab523bbced93f15dffcbc5623b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r7imryepkRtswGKzI-xHVw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:<a class="ae ky" href="https://unsplash.com/photos/Oadvsf3xH9E" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><h1 id="9a79" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">数据(分析/毫升)到应用程序—零痛苦</h1><p id="e7e2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们都想展示我们的数据分析技能。我们都想把这个很酷的机器学习模型包装在一个闪亮的包装中，并作为一个应用程序呈现给全世界。</p><p id="8aae" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如何将自己从 Jupyter 笔记本的二维世界中解放出来，向外界提供你的数据科学模型/管道？</p><p id="d1b1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><a class="ae ky" href="https://docs.streamlit.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu">细流</strong> </a>让它发生。无痛。</p><p id="6788" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">它用最少的代码从数据(分析或机器学习)过渡到一个闪亮的应用程序，几乎不需要学习和部署 web 服务框架(如<a class="ae ky" href="https://flask.palletsprojects.com/en/1.1.x/" rel="noopener ugc nofollow" target="_blank"> Flask </a>或<a class="ae ky" href="https://www.djangoproject.com/" rel="noopener ugc nofollow" target="_blank"> Django </a>)。</p><p id="b482" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">数据科学家可以在实时网络服务器上测试和展示他们的模型或统计分析，同时摆弄数据和算法。</p><p id="7edf" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">要了解更多关于这个伟大的 Python 包的历史和起源，请观看他们的 CEO 和创始人的系列视频。我发布的只是第一个视频链接，你应该看这个系列的所有四个视频。</p><blockquote class="ms"><p id="209d" class="mt mu it bd mv mw mx my mz na nb mm dk translated">我们都想把这个很酷的机器学习模型包装在一个闪亮的包装中，并作为一个应用程序呈现给全世界。</p></blockquote><figure class="nc nd ne nf ng kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="6d7f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在本文中，我想介绍该框架的一些重要基础知识，让您立即开始创建数据驱动的应用程序之旅！</p><h1 id="9a98" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">核心工作流程</h1><h2 id="4d2f" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">安装</h2><p id="ab33" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">当然，您安装了 Streamlit。它正在快速更新。因此，建议使用<code class="fe nv nw nx ny b">— U</code>。</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="2333" class="nj la it ny b gy od oe l of og">pip install -U streamlit</span></pre><h2 id="30c7" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">创建第一个应用</h2><p id="a49a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">他们有一个 Hello World 类型的应用程序供你尝试。但是当你可以编码的时候，为什么还要为此烦恼呢？为什么不用自己的数据/数学技能创建自己的第一个应用呢？</p><p id="936f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们将创建一个简单的 web 应用程序来检查给定的数字是否是质数。</p><p id="53c1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">打开你最喜欢的 IDE/文本编辑器，输入…</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/41e571eacc7652d07af43171125a11d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cHLP1GJhAEsF3OByjaC9aQ.png"/></div></div></figure><p id="21c2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们可以将脚本保存为<code class="fe nv nw nx ny b">is_prime.py</code>。然后，进入终端(命令提示符)运行这个应用程序，</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="3bb8" class="nj la it ny b gy od oe l of og">streamlit run is_prime.py</span></pre><p id="e913" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">你会看到一个网络服务器自动开始为你的应用服务！在终端中，您会看到类似这样的内容，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/daccc42f72b180488cb455f50a9de67d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*IHUGONbWcQ_ep6aaoxo-NQ.png"/></div></figure><p id="e410" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">端口号可能会有所不同，这取决于运行的其他本地服务器以及它们如何使用特定端口。</p><blockquote class="ms"><p id="ba4a" class="mt mu it bd mv mw mx my mz na nb mm dk translated">数据科学家可以在实时网络服务器上测试和展示他们的模型或统计分析，同时摆弄数据和算法。</p></blockquote><h2 id="8313" class="nj la it bd lb nk oj dn lf nm ok dp lj ma ol np ll me om nr ln mi on nt lp nu bi translated">查看您的第一个应用并与之互动</h2><p id="c657" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">你可以打开浏览器，进入<code class="fe nv nw nx ny b">localhost:8502</code>。你会看到一些很酷的东西，像这样，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/23e3afcb9206f8dc6f30fe8d0dc75154.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gGNzCuIyVHkTfVzIcCmYig.png"/></div></div></figure><p id="9072" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">一个简单的小数学应用程序，包括标题和 HTML 格式的文本等等——不错！</p><h2 id="4164" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">我们是如何生成这个应用程序的？</h2><p id="fbe8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">那么，它们是从哪里来的呢？当然是从您的 Python 脚本中。让我们一段一段地重温这段代码，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi op"><img src="../Images/e329269b524589be8e4ff712cbf08d67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*8Xh0N3M7C9k5HtVY-fMC8Q.png"/></div></figure><p id="e5fe" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">因此<code class="fe nv nw nx ny b">st.title()</code>函数创建了标题(基本上是一个 H1 HTML 标签)。</p><p id="38bd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">之后，我们在那些<code class="fe nv nw nx ny b">"""..."""</code>标签中写了一段简单的降价。你可以在这些三重引号内放置任何降价，它们会呈现出美丽的效果。当然，它们遵循的降价语法与您在 Jupyter 笔记本降价单元格或 Github repo 的<code class="fe nv nw nx ny b">Readme.md</code>文件中使用的相同。</p><p id="4fde" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下一个功能<code class="fe nv nw nx ny b">st.header()</code>也是另一个降价。我们放了一个<code class="fe nv nw nx ny b">*...*</code>语法来风格化它(斜体)。</p><p id="e62c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下一部分是创建接受用户输入(数字)的文本框。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/4fde1a45e5e697c53e993f18ca6f7e3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*IC4z-jsEJHhM3WEM-3ZcZA.png"/></div></figure><p id="39cb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">函数<code class="fe nv nw nx ny b">st.number_input()</code>本质上创建了一个 HTML 表单/输入框，期望输入数字类型。默认情况下，它接受浮点数，因此，在下一行中，我们将其转换为<code class="fe nv nw nx ny b">int</code>类型(因为我们正在检查输入的素性，它们应该是整数)。</p><p id="ac90" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下一个函数<code class="fe nv nw nx ny b">st.write()</code>是一个非常强大的通用方法，用于呈现各种各样的对象——从简单的文本到 Pandas DataFrame 和 Matplotlib 可视化。这里，我们只是通过传递一个参数来编写一个简单的文本值，类似于我们传递给 Python <code class="fe nv nw nx ny b">print()</code>函数的内容。</p><p id="49a5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">到目前为止，这么多代码将呈现如下(没有任何实际的数学计算)，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/8919799e1a0a15e457734b88f27b61c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6C7HUBViTRTAib9wM24Jxg.png"/></div></div></figure><p id="dcc0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">因此，用户只需输入一个数字，然后按回车键。您的代码将处理该输入。</p><p id="82bf" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">接下来，在您的代码中，有一个简单的 Python 函数，它检查输入数字是否是质数。我们不会谈论这个功能，但让我们看看之后会发生什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/bf01ca208bf83f01579c859b43982c3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L3gCEmapLa6POyEWJVir6Q.png"/></div></div></figure><p id="4a81" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">因此，我们调用该函数并将返回值存储在两个变量中— <code class="fe nv nw nx ny b">decision</code>和<code class="fe nv nw nx ny b">divisor</code>。然后，我们用一个<code class="fe nv nw nx ny b">if-else</code>子句编写两个<code class="fe nv nw nx ny b">st.write()</code>函数——第一个简单地指出这个数是质数，第二个告诉这个数是非质数，同时显示最小的除数。同样，请注意我们如何简单地将一个类似 Python 的字符串传递给第二个<code class="fe nv nw nx ny b">st.write()</code>函数。</p><p id="b593" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">用各种输入测试你的网络应用，看看结果。例如，如果我写 35，它会显示，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/76dd8959da271921fb2799f6adfec70d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hoi1kfC2SiMA18-0Gv-nPA.png"/></div></div></figure><p id="ddd0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果我写 251，它会显示，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/7961cffb77f2e2eafbbc0ff06e27bfd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jmyAA3gq3mMEtgKLaY_brw.png"/></div></div></figure><p id="65bb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我希望您对我们必须编写的代码流有所了解，以便用 Streamlit 构建简单的数学分析应用程序。</p><p id="1e99" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">但是我们是数据科学家，我们不仅仅致力于解决数学问题。让我们开始吧！</p><h1 id="d4f2" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">构建机器学习应用的组件</h1><h2 id="d790" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">成分</h2><p id="c12c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在我们能够构建一个有意义的机器学习应用程序之前，我们需要知道如何使用 Streamlit 将数据对象/组件放到我们的应用程序中。我们展示了在基于 Streamlit 的应用程序上呈现一些大部分数据组件是多么容易。</p><p id="52d9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><a class="ae ky" href="https://github.com/tirthajyoti/ML-apps-with-Streamlit" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu">Python 脚本位于此处</strong> </a>。你可以下载并运行它。我不会通过重复代码来使文章变得单调，而只会在应用程序上显示结果。</p><h2 id="0e1c" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">创建格式良好的描述的基本降价</h2><p id="fc64" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">简单的 markdown 语法产生了这种带有多级标题、超链接和项目符号列表的描述。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/fa12d146e39ff7dba864fab8463c3df6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BgInaBit08megpy91ShI5A.png"/></div></div></figure><p id="3744" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">还有，这个，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/c0f4edc62495e1ca257fd90b6719b7a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UQ0E-ejy97IO0ub3nXFphw.png"/></div></div></figure><h2 id="1e53" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">显示图像</h2><p id="54b0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">默认的 markdown 图像标签不适合控制图像大小。所以，我们应该使用<code class="fe nv nw nx ny b">st.image()</code>方法来显示图像。</p><p id="e727" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这里有一个来自 Streamlit 网站的截图。图片存放在我的<a class="ae ky" href="https://github.com/tirthajyoti/Machine-Learning-with-Python" rel="noopener ugc nofollow" target="_blank"> Github repo </a>上，我们只是传递 URL。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/78c00009eed27b85a376c6ddc51f8a1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cOWNIGoBcWFUuE90TybdLw.png"/></div></div></figure><h2 id="85df" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">乳胶渲染</h2><p id="f115" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">默认的降价已经处理了 LaTeX。我们可以单独使用<code class="fe nv nw nx ny b">st.latex()</code>来渲染乳胶含量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/c0acd308e5575cbcbac62120202cb0e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cCOfcf_VsTpLyqEsVQ3uIg.png"/></div></div></figure><h2 id="5442" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">密码</h2><p id="f15e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以使用<code class="fe nv nw nx ny b">st.code()</code>通过可选的语法高亮来很好地呈现代码块。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/b7039af0babd22c58b24d9a8fb7760a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*w3rHDqmGn5E1BcUQomD1Xg.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/3302c569cb32137c40703199ef194ea7.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*BNx-8ktE4f-vFSc6Ri03-w.png"/></div></figure><h2 id="2ed8" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">原生 Python 对象</h2><p id="467a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">列表和字典之类的 Python 对象以一种漂亮的、视觉上吸引人的方式呈现。我们使用通用的<code class="fe nv nw nx ny b">st.write()</code>方法进行渲染。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/7ab580456adf697fa65dd3619c3c5b9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LMgIPjPmWKJFONFaULJQMg.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/8b18c526c9916d5e30f8d68780b5c930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_C6ZbFF_AX5C6GekJ1r0ag.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/b0e663cd19156e084b49c7916d1ef809.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fWPkTt4TbTvmB0xDeWO7kQ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/87e8057db4d9cca85ce1c6b5d89097dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*crVWLvd4dLxhHi5dJ0hZ2w.png"/></div></div></figure><h2 id="b814" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">Numpy 数组</h2><p id="6294" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Numpy 数组(一维和二维)也可以通过<code class="fe nv nw nx ny b">st.write()</code>方法很好地渲染，尽管对于长数组，垂直渲染会变得难以处理。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/b186456cb8f52e9aad1e091ae0659124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*VLYrpAxq-fsugd-phmEwHg.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/fe6d0c0fd2560faea383201b0a7a2600.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/1*msM35dNjwcr_jIgxB2JWjw.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/e9df3a7e83747d533b1e31b57d7e9297.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*HFg6-yzfjxCRJKE3t6jbzA.png"/></div></figure><h2 id="a0ee" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">熊猫数据框</h2><p id="afdb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以通过使用<code class="fe nv nw nx ny b">st.write()</code>或<code class="fe nv nw nx ny b">st.dataframe()</code>方法来渲染熊猫数据帧。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/dcda7d45be488afd8acbc60ad2c7b542.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*5xPjyFP2dzs7O4LWklUJyQ.png"/></div></figure><p id="b7d7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">每次页面刷新</strong>，代码都会生成新的随机数据，下面的<strong class="lt iu">表格也会重新生成</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pi"><img src="../Images/67c03631f77c596148ae0a28c642a80e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eS6Heyyzf38VzIPy3PIOIQ.png"/></div></div></figure><h2 id="59fd" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">在数据帧上应用过滤器</h2><p id="3c93" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们通过只选择那些<code class="fe nv nw nx ny b">A1</code> &gt; 0 和<code class="fe nv nw nx ny b">A3</code> &gt; 3 的行来过滤数据帧。注意，由于数据帧生成的随机性，<strong class="lt iu">不能保证我们每次重新运行代码</strong>时都会得到非空的数据帧。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/98592d17e9022e5493b99eba8668de5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nw7MxhQkX6inAJDwqLFDKQ.png"/></div></div></figure><h2 id="3128" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">将数据帧写入文件</h2><p id="0096" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以很容易地向用户询问文件名，并将过滤后的数据写入该文件。当然，我们必须编写一些代码(例如，用户输入有效性、文件名检查逻辑等。)幕后，但由此产生的 app 界面干净清爽。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/388e2b3c4b730a38d49f1e2cf8b69b73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vicjJ6ggex1Tdgj10g4f1Q.png"/></div></div></figure><h2 id="014b" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">从 web 上读取数据文件</h2><p id="c2c7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">从远程托管的文件中读取数据、稍微格式化文件并在 DataFrame 中呈现就像下面的简短代码一样简单，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/840c6c421dcb08245b4ecec4edcb5e00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*paA0E5-VlnKhA9hw-F4dzg.png"/></div></div></figure><h2 id="d45a" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">一个简单的条形图使用熊猫内置的'情节'模块</h2><p id="2dc8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以处理刚刚从 web 导入的数据集，并调用内置的绘图方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/d9195304e347b72c21df650d213176f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wnNrlkL-nfoqIItje0n-_A.png"/></div></div></figure><p id="1e02" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这产生了预期的 Matplotlib 驱动的绘图(类似于 Jupyter 笔记本)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/e364807bc035d19165112810b3f6d4db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GJIaPCj1V86fiAxZV4jeGw.png"/></div></div></figure><h2 id="d35c" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">带有 Altair 库的折线图</h2><p id="1dcb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">除了 Matplotlib 之外，Streamlit 还支持许多高级和高度交互式的绘图库。其中之一是 Altair，它构建在 Vega 之上(而 Vega 又构建在无处不在且功能强大的 D3.js 之上)。</p><p id="9d07" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们从数据框中取出一些列，并创建一个折线图。您可以缩放和平移图表，甚至可以看到图表后面的 HTML 代码。请看下面的视频。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><blockquote class="ms"><p id="25c3" class="mt mu it bd mv mw po pp pq pr ps mm dk translated">除了 Matplotlib 之外，Streamlit 还支持许多高级和高度交互式的绘图库。</p></blockquote><h2 id="91c1" class="nj la it bd lb nk oj dn lf nm ok dp lj ma ol np ll me om nr ln mi on nt lp nu bi translated">小工具魔术</h2><p id="9a97" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以很容易地用 Streamlit 创建交互性。这是它的主要吸引力之一！</p><p id="a2a4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">假设我们有一个如下定义的函数，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/242e9921e0863aae07335e8e518bee61.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*rznQ0sJX54OG3Gj5QMC-uQ.png"/></div></figure><p id="0a88" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们可以只用一行代码创建一个滑块，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pu"><img src="../Images/dcb954e56197dc5108889e9b24e49d06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ECElBVPhHkKhbdFFoYPN_Q.png"/></div></div></figure><p id="d6b7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们可以左右移动滑块，函数被动态评估，值可以实时显示。就像网络应用程序的预期行为一样。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="2a4f" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">函数的 Matplotlib 图</h2><p id="8c2a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">下面的代码使用普通的<code class="fe nv nw nx ny b">Matplotlib</code>和一个<strong class="lt iu">单个</strong> <code class="fe nv nw nx ny b"><strong class="lt iu">Streamlit</strong></code> <strong class="lt iu">调用</strong> <code class="fe nv nw nx ny b"><strong class="lt iu">st.pyplot()</strong></code> <strong class="lt iu">来绘制上面的函数。</strong></p><p id="4774" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这个图表与上面的牛郎星图表不同，它不是一个动态图表。然而，注意<code class="fe nv nw nx ny b">Matplotlib</code>代码包含了相当多的复杂性(甚至标题中的 LaTeX 格式的字符串)。所有这些都由<code class="fe nv nw nx ny b">st.pyplot()</code>函数完美地处理。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/bc6b063631fd0a46bd5ea5272fd207b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*SBRxGCx9Nw8papbz_bBXHg.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pw"><img src="../Images/8c4ad8d592cec9caf42d92e270ae2534.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oZZNq0U3A4RKfNLBQRL9zw.png"/></div></div></figure><h1 id="2b6c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">一个交互式线性回归问题</h1><p id="baaf" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最后，我们展示了如何使用来自 Streamlit 的简单小部件生成一个噪声水平<strong class="lt iu">可调的线性回归数据集。</strong></p><h2 id="e1da" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">交互式数据生成</h2><p id="7864" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在前两节中，我们介绍了 slider 小部件和 pyplot。在本节中，我们以动态的方式将它们结合起来。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi px"><img src="../Images/4dbcd7008e756e47a0c21ede03c81194.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1OtkOkJiWn6lM77PlxVDVw.png"/></div></div></figure><p id="7a70" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下面，滑块可以调整，以调整噪音的水平。<strong class="lt iu">每次你移动滑块，你基本上会产生一个新的线性回归问题</strong>(具有相同的特征，但观察数据略有不同)。</p><p id="8e38" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下图显示了动态更新的数据与特性图，以说明这一点。</p><p id="3c59" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">移动“噪音标准。dev”滑块从左端到右端，观察对观察数据的影响。<strong class="lt iu">当你向右移动滑块</strong>时，你是否看到观察到的数据变得<em class="py">更嘈杂</em>？</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="719d" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">以交互方式拟合模型！</h2><p id="0001" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">接下来，我们用我们的数据拟合著名的<code class="fe nv nw nx ny b">scikit-learn</code>包中的<code class="fe nv nw nx ny b">LinearRegression()</code>模型，并显示模型系数和<em class="py"> R </em>度量。</p><p id="0618" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">请注意，随着新问题的产生，它们会有轻微的变化。注意，我们选择 a1 = 2.5，b1 = 5，估计值应该接近这些数字。</p><p id="75a9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">噪声平均值主要影响偏置项，而噪声标准差。dev 主要影响线性系数。您还会注意到，随着噪声 std 的增加，<em class="py"> R </em>得分通常会降低。dev 增加，即<strong class="lt iu">线性模型很难解释观察到的数据中的方差(如果噪声的扩散很大)</strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="7751" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">所有这些线性回归的东西并不新鲜。但是请注意<strong class="lt iu">使用一个实时 web 应用</strong>来适应众多模型(对应于动态生成的数据集)的建模练习看起来是多么容易，只需操作几个滑块！</p><h1 id="61ec" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">摘要</h1><p id="044a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">暂时就这样了。然而，我相信你已经知道这个库有无限的可能性。</p><p id="11e4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这里是他们官方的<a class="ae ky" href="https://docs.streamlit.io/en/stable/api.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu"> API 参考指南</strong> </a>这里是更多的<a class="ae ky" href="https://docs.streamlit.io/en/stable/tutorial/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu">教程</strong> </a>。</p><p id="cdaf" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您可以在后端创建真正复杂的数据分析和机器学习管道(使用 Jupyter Notebook 或复杂的 Python 模块网络，无论您喜欢什么)，并以最小的编码开销在一个简单、实时的 web 应用程序中呈现所有输出结果和可视化效果。</p><p id="b754" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">接下来，我计划构建基于 Streamlit 的应用程序，在后端进行更复杂的数据处理和可视化，并在我的媒体页面上与您分享。</p><p id="d044" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">敬请关注。</p><blockquote class="ms"><p id="ce49" class="mt mu it bd mv mw mx my mz na nb mm dk translated"><strong class="ak">…使用实时网络应用</strong>进行建模练习看起来是多么简单，只需操作几个滑块就能适应众多模型(对应于动态生成的数据集)！</p></blockquote></div><div class="ab cl pz qa hx qb" role="separator"><span class="qc bw bk qd qe qf"/><span class="qc bw bk qd qe qf"/><span class="qc bw bk qd qe"/></div><div class="im in io ip iq"><p id="1128" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi qg translated"><span class="l qh qi qj bm qk ql qm qn qo di"> A </span> lso，你可以查看作者的<a class="ae ky" href="https://github.com/tirthajyoti?tab=repositories" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu"> GitHub </strong> </a> <strong class="lt iu">知识库</strong>获取机器学习和数据科学方面的代码、思想和资源。如果你和我一样，对人工智能/机器学习/数据科学充满热情，请随时<a class="ae ky" href="https://www.linkedin.com/in/tirthajyoti-sarkar-2127aa7/" rel="noopener ugc nofollow" target="_blank">在 LinkedIn 上添加我</a>或<a class="ae ky" href="https://twitter.com/tirthajyotiS" rel="noopener ugc nofollow" target="_blank">在 Twitter 上关注我</a>。</p><div class="qp qq gp gr qr qs"><a href="https://www.linkedin.com/in/tirthajyoti-sarkar-2127aa7/" rel="noopener  ugc nofollow" target="_blank"><div class="qt ab fo"><div class="qu ab qv cl cj qw"><h2 class="bd iu gy z fp qx fr fs qy fu fw is bi translated">Tirthajyoti Sarkar - Sr .首席工程师-半导体、人工智能、机器学习- ON…</h2><div class="qz l"><h3 class="bd b gy z fp qx fr fs qy fu fw dk translated">通过写作使数据科学/ML 概念易于理解:https://medium.com/@tirthajyoti 开源和…</h3></div><div class="ra l"><p class="bd b dl z fp qx fr fs qy fu fw dk translated">www.linkedin.com</p></div></div><div class="rb l"><div class="rc l rd re rf rb rg ks qs"/></div></div></a></div></div></div>    
</body>
</html>