<html>
<head>
<title>How and Why to use f strings in Python3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何以及为什么在 Python3 中使用 f 字符串</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-and-why-to-use-f-strings-in-python3-adbba724b251?source=collection_archive---------16-----------------------#2020-04-08">https://towardsdatascience.com/how-and-why-to-use-f-strings-in-python3-adbba724b251?source=collection_archive---------16-----------------------#2020-04-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/97774bb63ee133f9f51ffbc3a05eaaa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ljsFTAL1w_kW-DIpU20DhA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/pixel2013-2364555/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5009533" rel="noopener ugc nofollow" target="_blank">s·赫尔曼&amp;f·里希特</a>从<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5009533" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>拍摄</p></figure><h2 id="db96" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/python-shorts" rel="noopener" target="_blank">蟒蛇短裤</a></h2><div class=""/><div class=""><h2 id="0821" class="pw-subtitle-paragraph kp js jj bd b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dk translated">使用 Python 3 中新功能的简单指南</h2></div><p id="6fe8" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><a class="ae jg" href="https://amzn.to/2XPSiiG" rel="noopener ugc nofollow" target="_blank"> Python </a>为我们提供了多种风格的编码。</p><p id="15e4" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">随着时间的推移，Python 定期推出新的编码标准和工具，这些标准和工具更加符合 Python 禅宗的编码标准。</p><blockquote class="md"><p id="f568" class="me mf jj bd mg mh mi mj mk ml mm mc dk translated">漂亮总比难看好。</p></blockquote><p id="533d" class="pw-post-body-paragraph lh li jj lj b lk mn kt lm ln mo kw lp lq mp ls lt lu mq lw lx ly mr ma mb mc im bi translated">在这一系列名为<a class="ae jg" href="https://towardsdatascience.com/tagged/python-shorts" rel="noopener" target="_blank"> <strong class="lj jt"> Python Shorts </strong> </a>的帖子中，我将解释 Python 提供的一些简单但非常有用的构造，一些基本的技巧，以及我在数据科学工作中经常遇到的一些用例。</p><p id="dff7" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这个帖子是专门关于在 Python 3.6  <strong class="lj jt"> <em class="ms">中介绍的在 Python </em> </strong> <em class="ms">中使用 f 字符串的<strong class="lj jt"> <em class="ms">。</em>T25】</strong></em></p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="b266" class="na nb jj bd nc nd ne nf ng nh ni nj nk ky nl kz nm lb nn lc no le np lf nq nr bi translated">3 种常见的打印方式:</h1><p id="cccc" class="pw-post-body-paragraph lh li jj lj b lk ns kt lm ln nt kw lp lq nu ls lt lu nv lw lx ly nw ma mb mc im bi translated">让我用一个简单的例子来解释一下。假设你有一些变量，你想在一个语句中打印它们。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="6d5a" class="og nb jj oc b gy oh oi l oj ok">name = 'Andy'<br/>age = 20<br/>print(?)<br/>----------------------------------------------------------------<br/>Output: I am Andy. I am 20 years old</span></pre><p id="dc3c" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以通过多种方式做到这一点:</p><p id="8e02" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">一个非常简单的方法是在打印函数中使用<code class="fe ol om on oc b">+</code>进行连接。但这很笨拙。我们需要将数字变量转换成字符串，并在连接时注意空格。它看起来并不好，因为当我们使用它时，代码的可读性受到了一点影响。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="8daa" class="og nb jj oc b gy oh oi l oj ok">name = 'Andy'<br/>age = 20<br/>print("I am " + name + ". I am " + str(age) + " years old")<br/>----------------------------------------------------------------<br/>I am Andy. I am 20 years old</span></pre><figure class="nx ny nz oa gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oo"><img src="../Images/1c2dae6e943276e23642aef3c378df24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lYX8V7MEBXne6jMA.jpg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">来源:<a class="ae jg" href="https://pixabay.com/photos/art-art-supplies-artist-blue-brush-1478831/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="6a5b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt"> b) %格式:</strong>第二个选项是使用<code class="fe ol om on oc b">%</code>格式。但它也有自己的问题。首先，它不可读。您需要查看第一个<code class="fe ol om on oc b">%s</code>，并尝试在列表末尾找到相应的变量。想象一下，如果你想打印一个很长的变量列表。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="6b27" class="og nb jj oc b gy oh oi l oj ok">print("I am %s. I am %s years old" % (name, age))</span></pre><p id="5ae6" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt"> c) str.format():使用<code class="fe ol om on oc b">str.format()</code></strong></p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="5f4c" class="og nb jj oc b gy oh oi l oj ok">print("I am {}. I am {} years old".format(name, age))</span></pre><p id="a28a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这里我们用{}来表示列表中对象的占位符。它仍然有同样的可读性问题，但是我们也可以使用<code class="fe ol om on oc b">str.format</code>:</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="c913" class="og nb jj oc b gy oh oi l oj ok">print("I am {name}. I am {age} years old".format(name = name, age = age))</span></pre><p id="b6cf" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果这看起来有点重复，我们也可以使用字典:</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="6b73" class="og nb jj oc b gy oh oi l oj ok">data = {'name':'Andy','age':20}<br/>print("I am {name}. I am {age} years old".format(**data))</span></pre></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="0dfc" class="na nb jj bd nc nd ne nf ng nh ni nj nk ky nl kz nm lb nn lc no le np lf nq nr bi translated">第四种方式用 f</h1><figure class="nx ny nz oa gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi op"><img src="../Images/279cd4912ed58e9f028b4e78ece6bc55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*08EQ2_3CbtI0IlFF"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><a class="ae jg" href="https://unsplash.com/@willemjanhuisman?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">威廉-简·豪斯曼</a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="356b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">从 Python 3.6 开始，我们有了一个新的格式化选项，这使得它变得更加简单。我们可以简单地使用:</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="378e" class="og nb jj oc b gy oh oi l oj ok">print(f"I am {name}. I am {age} years old")</span></pre><p id="cac8" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们只需在字符串的开头添加<code class="fe ol om on oc b">f</code>,并使用{}来包含我们的变量名，就可以得到所需的结果。</p><p id="4495" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">f string 提供的一个附加功能是<strong class="lj jt">我们可以将表达式</strong>放在{}括号中。例如:</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="3cb0" class="og nb jj oc b gy oh oi l oj ok">num1 = 4<br/>num2 = 5<br/>print(f"The sum of {num1} and {num2} is {num1+num2}.")<br/>---------------------------------------------------------------<br/>The sum of 4 and 5 is 9.</span></pre><p id="c9e8" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这非常有用，因为您可以在这些括号中使用任何类型的表达式。<strong class="lj jt"> <em class="ms">表达式可以包含字典或函数。</em> </strong>一个简单的例子:</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="5a4e" class="og nb jj oc b gy oh oi l oj ok">def totalFruits(apples,oranges):<br/>    return apples+oranges</span><span id="6beb" class="og nb jj oc b gy oq oi l oj ok">data = {'name':'Andy','age':20}</span><span id="5c7e" class="og nb jj oc b gy oq oi l oj ok">apples = 20<br/>oranges = 30</span><span id="cb57" class="og nb jj oc b gy oq oi l oj ok">print(f"{data['name']} has {totalFruits(apples,oranges)} fruits")<br/>----------------------------------------------------------------<br/>Andy has 50 fruits</span></pre><p id="345a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">同样，你可以使用<code class="fe ol om on oc b">’’’</code>来使用<strong class="lj jt"> <em class="ms">多行字符串</em> </strong>。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="4a16" class="og nb jj oc b gy oh oi l oj ok">num1 = 4<br/>num2 = 5<br/>print(f'''The sum of <br/>{num1} and <br/>{num2} is <br/>{num1+num2}.''')</span><span id="2587" class="og nb jj oc b gy oq oi l oj ok">---------------------------------------------------------------<br/>The sum of <br/>4 and <br/>5 is <br/>9.</span></pre><p id="01d4" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">格式化字符串的一个日常用例是<strong class="lj jt">格式化浮点</strong>。您可以使用 f 字符串来实现，如下所示</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="11a5" class="og nb jj oc b gy oh oi l oj ok">numFloat = 10.23456678<br/>print(f'Printing Float with 2 decimals: {numFloat:.2f}')</span><span id="f3bf" class="og nb jj oc b gy oq oi l oj ok">-----------------------------------------------------------------<br/>Printing Float with 2 decimals: 10.23</span></pre></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="986a" class="na nb jj bd nc nd ne nf ng nh ni nj nk ky nl kz nm lb nn lc no le np lf nq nr bi translated">结论</h1><p id="e69e" class="pw-post-body-paragraph lh li jj lj b lk ns kt lm ln nt kw lp lq nu ls lt lu nv lw lx ly nw ma mb mc im bi translated">直到最近，我一直使用 Python 2 来完成我的所有工作，所以无法了解这个新特性。</p><p id="1511" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">但是现在，随着我转向 Python 3，f strings 已经成为我格式化字符串的首选语法。它很容易编写和阅读，并且能够合并任意表达式。在某种程度上，这个新功能至少符合 3 个 PEP 概念</p><blockquote class="md"><p id="8a6e" class="me mf jj bd mg mh mi mj mk ml mm mc dk translated">漂亮比难看好，简单比复杂好，可读性很重要。</p></blockquote></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><p id="5698" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果你想了解更多关于<a class="ae jg" href="https://amzn.to/2XPSiiG" rel="noopener ugc nofollow" target="_blank"> Python </a> 3 的知识，我想向你推荐一门来自密歇根大学的关于学习<a class="ae jg" href="https://bit.ly/2XshreA" rel="noopener ugc nofollow" target="_blank"> <strong class="lj jt">中级 Python </strong> </a>的优秀课程。一定要去看看。</p><p id="e183" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我以后也会写更多这样的帖子。让我知道你对这个系列的看法。在<a class="ae jg" href="https://medium.com/@rahul_agarwal" rel="noopener"><strong class="lj jt"/></a>关注我或者订阅我的<a class="ae jg" href="http://eepurl.com/dbQnuX" rel="noopener ugc nofollow" target="_blank"> <strong class="lj jt">博客</strong> </a>了解他们。一如既往，我欢迎反馈和建设性的批评，可以通过 Twitter <a class="ae jg" href="https://twitter.com/MLWhiz" rel="noopener ugc nofollow" target="_blank"> @mlwhiz </a>联系。</p><p id="f9e5" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">此外，一个小小的免责声明——这篇文章中可能会有一些相关资源的附属链接，因为分享知识从来都不是一个坏主意。</p></div></div>    
</body>
</html>