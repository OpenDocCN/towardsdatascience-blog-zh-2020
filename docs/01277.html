<html>
<head>
<title>The 1–2–3s of Docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">码头工人的 1–2–3</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-1-2-3s-of-docker-ea123d7c5f91?source=collection_archive---------41-----------------------#2020-02-04">https://towardsdatascience.com/the-1-2-3s-of-docker-ea123d7c5f91?source=collection_archive---------41-----------------------#2020-02-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d78b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><em class="ki">我几乎每天都会用到的 6 个 Docker 命令。</em></h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi kj"><img src="../Images/3eee95759be29b6b0aee19fe6eba9bc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/0*iXuwZtbBvsYPPkrY.png"/></div></figure><p id="ad92" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在很长一段时间里，我都被 Docker 吓坏了(尽管它有可爱的鲸鱼标志)。关于 Docker，我所能记得的是我本科时的一次长篇大论，这让我开始质疑自己当初为什么会选择电脑。</p><p id="f663" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">当我终于有时间使用它时，我意识到它有点酷。也没有我记忆中的那么可怕。</p><h1 id="a147" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">Docker 是什么？</h1><blockquote class="mf"><p id="aeca" class="mg mh it bd mi mj mk ml mm mn mo lm dk translated">Docker 是一组平台即服务产品，使用操作系统级虚拟化来交付称为容器的软件包中的软件。容器是相互隔离的，捆绑了它们自己的软件、库和配置文件；他们可以通过明确定义的渠道相互交流。—维基百科</p></blockquote><p id="fea1" class="pw-post-body-paragraph kr ks it kt b ku mp ju kw kx mq jx kz la mr lc ld le ms lg lh li mt lk ll lm im bi translated">简而言之，Docker 是一种独立于本地设置的打包单个应用程序的方式。每个应用程序都在自己的 Docker 容器中。</p><p id="87ca" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">到 6 个命令上。</p><h1 id="1704" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">码头工人建造</h1><p id="4f4a" class="pw-post-body-paragraph kr ks it kt b ku mu ju kw kx mv jx kz la mw lc ld le mx lg lh li my lk ll lm im bi translated">在任何带有<code class="fe mz na nb nc b">Dockerfile</code>的目录中，我们都可以构建一个 Docker 映像。Docker 图像是容器的配方。我喜欢给图片加上标签(-t)，这样更容易参考。</p><pre class="kk kl km kn gt nd nc ne nf aw ng bi"><span id="c2b5" class="nh lo it nc b gy ni nj l nk nl">docker build . -t my_cool_app</span></pre><h1 id="234f" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">码头运行</h1><p id="34eb" class="pw-post-body-paragraph kr ks it kt b ku mu ju kw kx mv jx kz la mw lc ld le mx lg lh li my lk ll lm im bi translated">有了 Docker 映像，我们可以运行 Docker 容器。如果标签存在，我们可以用它来引用图像。</p><pre class="kk kl km kn gt nd nc ne nf aw ng bi"><span id="260e" class="nh lo it nc b gy ni nj l nk nl">docker run my_cool_app</span></pre><p id="398e" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果我们的 Docker 包含一个 web 应用程序，我们可以将它绑定到本地网络的外部端口。我们也可以给我们的容器命名。</p><pre class="kk kl km kn gt nd nc ne nf aw ng bi"><span id="2644" class="nh lo it nc b gy ni nj l nk nl">docker run --name my_cool_container_name -p external_port:internal_port my_cool_app</span></pre><h1 id="6300" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">Docker ps</h1><p id="158d" class="pw-post-body-paragraph kr ks it kt b ku mu ju kw kx mv jx kz la mw lc ld le mx lg lh li my lk ll lm im bi translated">忘了容器叫什么了？忘记我们有哪些集装箱了吗？运行<code class="fe mz na nb nc b">docker ps</code>获得快速状态。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi nm"><img src="../Images/59f5728ca10e6eb97fb4a7cdf32f6e58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lDDO2CM_74BbOl6oZeXd9Q.png"/></div></div></figure><p id="64e4" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">使用<code class="fe mz na nb nc b">docker ps -a</code>显示以前启动的容器(不包括删除的容器)。</p><h1 id="e670" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">码头日志</h1><p id="8246" class="pw-post-body-paragraph kr ks it kt b ku mu ju kw kx mv jx kz la mw lc ld le mx lg lh li my lk ll lm im bi translated">日志对于调试我们的应用程序非常有用。我们需要容器名或容器 id 来查看日志。</p><p id="2a8e" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">对于运行日志，请使用:</p><pre class="kk kl km kn gt nd nc ne nf aw ng bi"><span id="7924" class="nh lo it nc b gy ni nj l nk nl">docker logs -f [container_id or name]</span></pre><p id="8dd5" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">忘记了容器名称或容器 id？使用<code class="fe mz na nb nc b">docker ps</code></p><h1 id="3fec" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">码头工人杀人</h1><p id="b15b" class="pw-post-body-paragraph kr ks it kt b ku mu ju kw kx mv jx kz la mw lc ld le mx lg lh li my lk ll lm im bi translated">有时我们不得不与我们的容器说再见。有时，它们会占用太多内存。</p><pre class="kk kl km kn gt nd nc ne nf aw ng bi"><span id="e5e7" class="nh lo it nc b gy ni nj l nk nl">docker kill [container_id or name]</span></pre><h1 id="c8a3" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">码头经理</h1><p id="1e19" class="pw-post-body-paragraph kr ks it kt b ku mu ju kw kx mv jx kz la mw lc ld le mx lg lh li my lk ll lm im bi translated">我们用它来运行运行容器中的命令。我通常用它来打开容器中的 bash 会话。</p><pre class="kk kl km kn gt nd nc ne nf aw ng bi"><span id="aef1" class="nh lo it nc b gy ni nj l nk nl">docker exec -it [container_id or name] /bin/bash</span></pre></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><h1 id="b8f9" class="ln lo it bd lp lq ny ls lt lu nz lw lx jz oa ka lz kc ob kd mb kf oc kg md me bi translated">感谢您的阅读！</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><a href="https://ko-fi.com/mandygu#checkoutModal"><div class="gh gi od"><img src="../Images/c2fcf86bbf79d7f57582562b51819c0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IED-LbhRFh_vET8NWDCIew.png"/></div></a></figure><p id="23a3" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果你喜欢这篇文章，可以考虑给我买杯咖啡——每一点小小的贡献都帮助我找到更多的时间在这个博客上工作。请通过 Medium 关注我的最新消息。😃</p><p id="cf11" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">作为一个业余爱好项目，我还在<a class="ae oe" href="http://www.dscrashcourse.com/" rel="noopener ugc nofollow" target="_blank">www.dscrashcourse.com</a>建立了一套全面的<strong class="kt iu">免费</strong>数据科学课程和练习题。</p><p id="ffbc" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">再次感谢您的阅读！📕</p></div></div>    
</body>
</html>