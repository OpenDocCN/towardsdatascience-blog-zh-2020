<html>
<head>
<title>Splitting a dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分割数据集</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/splitting-a-dataset-e328dab2760a?source=collection_archive---------6-----------------------#2020-06-14">https://towardsdatascience.com/splitting-a-dataset-e328dab2760a?source=collection_archive---------6-----------------------#2020-06-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4bb3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">简要说明如何使用 sklearn 对数据集进行训练测试分割</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f706434c862ad7f5847ef7939d4b3b28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xa1_gnLz8Pg6EfKwR3jz1A.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="d6aa" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了训练任何机器学习模型，无论使用哪种类型的数据集，都必须将数据集分为训练数据和测试数据。因此，让我们看看如何做到这一点？</p><p id="ab6b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这里，我将使用 iris 数据集，并使用 sklearn 的“train_test_split”库对其进行分割</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="7a27" class="lw lx iq ls b gy ly lz l ma mb">from sklearn.model_selection import train_test_split</span><span id="2c9b" class="lw lx iq ls b gy mc lz l ma mb">from sklearn.datasets import load_iris</span></pre><p id="8f2e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后我将虹膜数据集加载到一个变量中。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="22ff" class="lw lx iq ls b gy ly lz l ma mb">iris = load_iris()</span></pre><p id="138b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后我用它将数据和目标值存储到两个独立的变量中。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="3434" class="lw lx iq ls b gy ly lz l ma mb">x, y = iris.data, iris.target</span></pre><p id="41a5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这里，我使用“train_test_split”以 80:20 的比例分割数据，即 80%的数据将用于训练模型，而 20%的数据将用于测试由此构建的模型。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="382f" class="lw lx iq ls b gy ly lz l ma mb">x_train,x_test,y_train,y_test=train_test_split(x,y,test_size=0.2,random_state=123)</span></pre><p id="4964" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">正如您在这里看到的，我在“train_test_split”中传递了以下参数:</p><ol class=""><li id="379b" class="md me iq kx b ky kz lb lc le mf li mg lm mh lq mi mj mk ml bi translated">我们之前定义的 x 和 y</li><li id="d699" class="md me iq kx b ky mm lb mn le mo li mp lm mq lq mi mj mk ml bi translated">test_size:设置为 0.2，因此定义测试大小为数据集的 20%</li><li id="cb09" class="md me iq kx b ky mm lb mn le mo li mp lm mq lq mi mj mk ml bi translated">random_state:它控制在应用分割之前应用于数据的混洗。将 random_state 设置为固定值将保证每次运行代码时生成相同的随机数序列。</li></ol><p id="c330" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当分割数据集时，有两个相互竞争的问题:<br/>-如果你有较少的训练数据，你的参数估计有较大的方差。<br/>-如果您的测试数据较少，您的性能统计就会有较大的差异。<br/>数据应该这样划分，两者都不要太高，这更取决于你拥有的数据量。如果你的数据太小，那么没有分割会给你满意的方差，所以你必须做交叉验证，但是如果你的数据很大，那么你是选择 80:20 分割还是 90:10 分割真的没有关系(实际上你可以选择使用较少的训练数据，否则，它可能需要更多的计算)。</p></div></div>    
</body>
</html>