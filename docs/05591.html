<html>
<head>
<title>Step-by-Step AWS EC2 Set-up Tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">逐步AWS EC2设置教程</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/step-by-step-aws-ec2-set-up-tutorial-eae94213fd15?source=collection_archive---------33-----------------------#2020-05-10">https://towardsdatascience.com/step-by-step-aws-ec2-set-up-tutorial-eae94213fd15?source=collection_archive---------33-----------------------#2020-05-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="854d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本文非常简单地介绍了设置AWS EC2实例的过程。我们会经历</p><ol class=""><li id="0fcc" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">实例初始化。</li><li id="4585" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">安装必要的软件和机器学习包。</li><li id="a8d7" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">将文件从本地文件传输到远程实例</li></ol><p id="7b7b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对AWS EC2的快速解释将有助于我们了解我们在做什么。亚马逊弹性计算云(EC2)是亚马逊云计算平台亚马逊网络服务(AWS)的一部分。AWS允许人们租用虚拟计算机来运行他们自己的程序和应用程序。AWS“实例”是一个虚拟机，由用户启动，并配置有任何所需的软件。用户可以根据需要创建、启动和终止他们的服务器实例，按秒为活动服务付费，并指定他们的代码部署和数据存储的地理位置，因此有了术语“弹性”</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi kz"><img src="../Images/3babf7bf335e7184cd0725f12365d624.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HLiITGcE8VQDqNpeRVWWcw.png"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">通过<a class="ae lp" href="https://pixabay.com/vectors/cloud-computing-cloud-device-data-1989339/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>将图像放大200度</p></figure><h1 id="97ab" class="lq lr iq bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">1.设置EC2实例</h1><p id="5d1b" class="pw-post-body-paragraph jn jo iq jp b jq mo js jt ju mp jw jx jy mq ka kb kc mr ke kf kg ms ki kj kk ij bi translated">首先，打开位于https://console.aws.amazon.com/ec2/<a class="ae lp" href="https://console.aws.amazon.com/ec2/" rel="noopener ugc nofollow" target="_blank">的亚马逊EC2控制台，点击“运行实例”。您应该会看到下面的页面出现。单击启动实例。</a></p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi mt"><img src="../Images/688767b448e6ff65f76003a17a1cd4de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LNlLQZlkQJ7_xt5zWvi5mg.png"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">我笔记本电脑的截图</p></figure><p id="a8dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">选择您想要使用的虚拟机类型。Amazon机器映像是预先配置的虚拟机，充当您的实例的模板。</p><p id="611f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你是Mac用户，选择一个64位的Linux AMI是个好主意。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi mt"><img src="../Images/5557572d60c5c1e9b9a0d55423e7e311.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bE4abR_zXytGATqQ5yH3Bg.png"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">我笔记本电脑的截图</p></figure><p id="34df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你知道你将在你的虚拟机上运行深度学习模型，那么就有专门针对这个目的的ami。当然，可以设置基本的Amazon Linux AMI来运行这些相同的模型。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi mt"><img src="../Images/b9abd2126b7a9fb16e2cd8447c730637.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jvAxGtsSUnybzlh_TqKunQ.png"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">我笔记本电脑的截图</p></figure><p id="c00a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您还可以更改您的地理位置，以更改要部署的实例的位置。不同地理位置的价格会略有不同，我用的是us-east-1。</p><p id="d933" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，选择实例类型来设置实例的存储和大小。T2.micro默认设置为类型，符合亚马逊免费层的条件。我发现我总是在t2.micro实例上耗尽内存，所以要考虑需要多少内存。</p><p id="329a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，单击Review and Launch，让AWS向导为您设置默认配置。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi mt"><img src="../Images/0ab25d100095e3afc1412ea8af3018b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3u1gB9ng0XgX9H40RQ30aw.png"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">我笔记本电脑的截图</p></figure><p id="2398" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，检查您的实例，并根据需要修改安全组。点击启动！</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi mt"><img src="../Images/d812d5a014e68a3e2a8c3e7fe3abc0bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8QycIJZkMT4uxewpPYEYlA.png"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">我笔记本电脑的截图</p></figure><p id="ded1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您必须指定一个密钥对。如果您已经有了一个AWS密钥对，您可以选择使用那个密钥对。如果没有，您将选择创建新的密钥对。输入密钥对的任意名称。然后，单击下载密钥对。这将是您能够下载该密钥对的唯一时间。将它移动到某个安全的位置，或者某个你不会删除它的地方。您需要这个密钥对来允许您进入您的实例。就当是密码吧。现在，启动您的实例！</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi mt"><img src="../Images/ae08270ee99955714e8402b70c31c7f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h0srsa-D2CKlm3nWIbqdvQ.png"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">我笔记本电脑的截图</p></figure><p id="1fa1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">既然您的实例已经启动，接下来我们必须通过SSH连接到实例。在EC2实例仪表板上，单击实例名称旁边的按钮，然后单击Actions。Actions下应该会出现一个下拉菜单，然后单击Connect。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi mt"><img src="../Images/6fc6203de69c6239700b984c850f2528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UaB5WWkYppYK7-gfEJMLYw.png"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">我笔记本电脑的截图</p></figure><p id="93cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您将看到此窗口，用于连接到您的实例。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi mt"><img src="../Images/220bf6de635044b15e58aa0e25fe6399.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SSkrLdU0QG3sny06Edf6Nw.png"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">我笔记本电脑的截图</p></figure><p id="9a9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开“终端”并转到储存您的密钥对的文件夹。运行chmod命令来更改您的密钥对的权限。然后，运行ssh命令进入您的实例。每次重新启动计算机以进入实例时，都需要重新运行chmod命令来修改密钥对的权限。</p><h1 id="5b12" class="lq lr iq bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">2.软件安装</h1><p id="f327" class="pw-post-body-paragraph jn jo iq jp b jq mo js jt ju mp jw jx jy mq ka kb kc mr ke kf kg ms ki kj kk ij bi translated">现在，简单的部分！接下来就是安装需要的软件和机器学习包，比如Python3，Conda，Pytorch等。从这里开始，我假设我们从基本的Amazon Linux AMI开始，因为深度学习AMI往往已经安装了这些包。</p><p id="511e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Yum是Amazon Linux AMI上的默认安装程序。</p><pre class="la lb lc ld gt mu mv mw mx aw my bi"><span id="ddfd" class="mz lr iq mv b gy na nb l nc nd">$ sudo yum update <br/>$ sudo yum install emacs</span></pre><p id="48ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要安装pip，请使用:</p><pre class="la lb lc ld gt mu mv mw mx aw my bi"><span id="377d" class="mz lr iq mv b gy na nb l nc nd">$ curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py<br/>$ python3 get-pip.py</span></pre><p id="1682" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">安装Anaconda。</p><pre class="la lb lc ld gt mu mv mw mx aw my bi"><span id="0e89" class="mz lr iq mv b gy na nb l nc nd">$ cd /tmpcurl -O <a class="ae lp" href="https://repo.anaconda.com/archive/Anaconda3-5.3.1-Linux-x86_64.sh" rel="noopener ugc nofollow" target="_blank">https://repo.anaconda.com/archive/Anaconda3-5.3.1-Linux-x86_64.sh</a> </span><span id="4ca2" class="mz lr iq mv b gy ne nb l nc nd">$ sha256sum Anaconda3-5.3.1-Linux-x86_64.sh </span><span id="ca6d" class="mz lr iq mv b gy ne nb l nc nd">$ d4c4256a8f46173b675dd6a62d12f566ed3487f932ba<br/>b6bb7058f06c124bcc27 Anaconda3-5.3.1-Linux-x86_64.sh </span><span id="4625" class="mz lr iq mv b gy ne nb l nc nd">$ bash Anaconda3-5.3.1-Linux-x86_64.sh </span><span id="0ee8" class="mz lr iq mv b gy ne nb l nc nd">$ source ~/.bashrc (or open up a new terminal)</span></pre><p id="4938" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们得到Numpy和Scipy。</p><pre class="la lb lc ld gt mu mv mw mx aw my bi"><span id="b987" class="mz lr iq mv b gy na nb l nc nd">conda update -n base -c defaults conda</span><span id="a014" class="mz lr iq mv b gy ne nb l nc nd">conda install numpy scipy</span></pre><p id="5664" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还有Pytorch。</p><pre class="la lb lc ld gt mu mv mw mx aw my bi"><span id="f7b2" class="mz lr iq mv b gy na nb l nc nd">conda install pytorch torchvision -c pytorch</span></pre><p id="da18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，Git！</p><pre class="la lb lc ld gt mu mv mw mx aw my bi"><span id="29d8" class="mz lr iq mv b gy na nb l nc nd">sudo yum install git-all</span></pre><p id="f7a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们准备运行代码。</p><h1 id="8d0d" class="lq lr iq bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">3.传输文件</h1><p id="1c7d" class="pw-post-body-paragraph jn jo iq jp b jq mo js jt ju mp jw jx jy mq ka kb kc mr ke kf kg ms ki kj kk ij bi translated">要在本地目录和远程实例之间传输文件，可以运行</p><pre class="la lb lc ld gt mu mv mw mx aw my bi"><span id="61dc" class="mz lr iq mv b gy na nb l nc nd">$ scp -i /path/my-key.pem /path/to/file <a class="ae lp" href="mailto:ec2-user@publicDNS.compute-1.amazonaws.com:~/path/to/location" rel="noopener ugc nofollow" target="_blank">ec2-user@publicDNS.compute-1.amazonaws.com:~/path/to/location</a></span></pre><p id="06a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，对于在特定的本地位置传输许多文件，我更喜欢使用FileZilla。从https://filezilla-project.org/下载FileZilla。</p><p id="c6a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在文件下，点击站点管理器。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi mt"><img src="../Images/87f285717733d397b12bd16cc5497fa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q5NO78K82Ifehm9SOmJ7eA.png"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">我笔记本电脑的截图</p></figure><p id="1b29" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在站点管理器窗口中，单击新建站点。将协议设置为SFTP。将主机设置为您的公共DNS。这个公共DNS可以通过进入EC2实例管理控制台，点击您的实例，并在描述框中复制公共DNS (IPv4)下的条目。将端口设置为22。用户将是ec2用户。最后，导航到本地计算机上保存的密钥对文件。单击连接。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi nf"><img src="../Images/d809566e5fb94786bea3f864f27ebcff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vco6QjMYF5Bfkp-5eiZJqA.png"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">我笔记本电脑的截图</p></figure><p id="5a94" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，您可以将文件从本地文件拖到远程EC2实例。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi mt"><img src="../Images/b6832611e7f5d67a754f15b956cd1cc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XzdvJkbLVZ7DgV7uJdOIQQ.png"/></div></div><p class="ll lm gj gh gi ln lo bd b be z dk translated">我笔记本电脑的截图</p></figure><p id="601b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">输出文件同样可以通过FileZilla或scp传输回您的本地机器。</p><p id="4874" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，您可以SSH到您的实例中，虚拟地运行您的所有代码！</p><h2 id="8b56" class="mz lr iq bd ls ng nh dn lw ni nj dp ma jy nk nl me kc nm nn mi kg no np mm nq bi translated">资源:</h2><p id="9f14" class="pw-post-body-paragraph jn jo iq jp b jq mo js jt ju mp jw jx jy mq ka kb kc mr ke kf kg ms ki kj kk ij bi translated">[1]https://docs.aws.amazon.com/transfer/latest/userguide<a class="ae lp" href="https://docs.aws.amazon.com/transfer/latest/userguide/getting-started-use-the-service.html#filezilla" rel="noopener ugc nofollow" target="_blank"/></p></div></div>    
</body>
</html>