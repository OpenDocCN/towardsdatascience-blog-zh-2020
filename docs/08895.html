<html>
<head>
<title>Improve your map visualization by scaling the areas to visually convey underlying data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过缩放区域来直观地传达基础数据，从而提高地图的可视化效果</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introducing-mapscaler-42a57e68aead?source=collection_archive---------36-----------------------#2020-06-26">https://towardsdatascience.com/introducing-mapscaler-42a57e68aead?source=collection_archive---------36-----------------------#2020-06-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/88a980a053b6343e7f8301be4861b5d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dTKymM90qko68qERmyVSFQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">使用 mapscaler 按人口或任何其他值缩放州或县，以实现 choropleth 数据可视化</p></figure><div class=""/><div class=""><h2 id="3e01" class="pw-subtitle-paragraph kc je jf bd b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dk translated">如何根据人口或任何其他值缩放州或县，以实现 choropleth 数据可视化</h2></div><p id="d24a" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">许多使用颜色作为维度的地图可视化具有误导性。</p><p id="b58c" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">社交数据<strong class="kw jg"> </strong>经常被放在地图上(一个 choropleth)，并用颜色来表示一些活动或行为。问题是，数据往往是关于<strong class="kw jg">人</strong>，但在读者眼里，地图本来就是关于<strong class="kw jg">地区</strong>的。地图上最大的区域吸引了读者的注意力，而忽略了数据中有多少人与该区域相关。如果你显示的数据恰好是按区域标准化的，比如人口密度，这没什么，但是这通常不是我们可视化的目标。</p><blockquote class="lr"><p id="81a5" class="ls lt jf bd lu lv lw lx ly lz ma lp dk translated">问题是，数据往往是关于<strong class="ak">人</strong>，但在读者眼里，地图本来就是关于<strong class="ak">地区</strong>的。</p></blockquote><p id="3348" class="pw-post-body-paragraph ku kv jf kw b kx mb kg kz la mc kj lc ld md lf lg lh me lj lk ll mf ln lo lp ij bi translated">有时<a class="ae lq" href="https://en.wikipedia.org/wiki/Cartogram" rel="noopener ugc nofollow" target="_blank">图表</a>是更好的选择，但是大多数图表要么扭曲<a class="ae lq" href="https://en.wikipedia.org/wiki/Cartogram#/media/File:Cartlinearlarge.png" rel="noopener ugc nofollow" target="_blank">难以辨认</a>，要么高度手工创建。因此，<strong class="kw jg">我创建了一个 Python 包，通过任何变量自动缩放任何地图的各个部分，没有任何重叠的形状，失真最小。</strong></p><p id="fc50" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">介绍<a class="ae lq" href="https://mapscaler.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank">贴图缩放器</a>！您所需要的只是一个 GeoPandas 数据框架，包括一个列，其中包含用于缩放每个多边形的值。Mapscaler 将从那里开始做繁重的工作——将每个多边形缩放到适当的大小，然后重新排列它们(最低限度),直到它们不重叠。</p><p id="fa5e" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">这可以让你的地图对读者来说更加直观，而且出奇的漂亮！这里有一些例子来说明:</p><h2 id="87da" class="mg mh jf bd mi mj mk dn ml mm mn dp mo ld mp mq mr lh ms mt mu ll mv mw mx my bi translated">例子</h2><p id="9c2e" class="pw-post-body-paragraph ku kv jf kw b kx mz kg kz la na kj lc ld nb lf lg lh nc lj lk ll nd ln lo lp ij bi translated">1)美国各县</p><p id="0211" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">政治分析家喜欢用政治偏好来渲染地理。下面是一个典型的地图样式，使用的是 2000 年乔治·w·布什和阿尔·戈尔之间的总统选举数据:</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ne"><img src="../Images/3efc435fc1a198b14818e17fe8fc10da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nIuphRw8Xv2FhJYa1bNZnA.png"/></div></div></figure><p id="db0a" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">这是一个<em class="nj">差的</em>形象化！目标是传达关于人们如何投票的信息，但这隐藏了一个完整的维度:并非所有这些县都有相等的投票人口！眼睛很容易被颜色比例所迷惑。2000 年的选举是历史上最接近的选举之一，只有 5 个选举人获胜！从这张地图上你永远也猜不到。一个更好的方法是根据投票的多少来划分各县。通过这种方式，读者可以了解有多少人投票给了哪个政党，也可以了解选民的地理分布情况:</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nk"><img src="../Images/26528129597ef5a9bbd68650ff213168.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A18LjkEmqFhYqB1FlnZAlA.png"/></div></div></figure><p id="2935" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">如果您喜欢“气泡”而不是保留原始形状，mapscaler 也可以做到这一点:</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nl"><img src="../Images/df399f979688679e1f44f47f14de7995.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YnOuXb4eY5R_TyEC_5LJIA.png"/></div></div></figure><p id="4e63" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">2)美国各州</p><p id="ee98" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">如果你有脸书，你(希望)知道他们追踪你带着手机去的任何地方。最近，脸书的“数据为好计划”发布了匿名数据，以证明新冠肺炎导致的流动性下降。在撰写本文时，你可以在<a class="ae lq" href="https://visualization.covid19mobility.org/?date=2020-05-19&amp;dates=2020-03-10_2020-05-19" rel="noopener ugc nofollow" target="_blank">链接</a>找到一张地图，显示每个州有多少人留在原地:</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nm"><img src="../Images/d8dc4a99bce9622f2d6ed61e932fd1ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tqD_Zzh3USZFBLS33cy-HA.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">资料来源:美国人口普查局，脸书良好计划数据</p></figure><p id="7fe4" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">当大多数人看到这一点时，他们的目光会被吸引到美国中部色彩鲜艳的州，或者最多是中西部。毕竟，那是美国大部分地区的所在地！一个更好的地图应该按照人口比例来划分各州，以显示人口的实际分布情况:</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nm"><img src="../Images/2e545087e0066a8ea76553b3f3885a81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DT-8qnwx1Taf4wdb3hQGlw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">资料来源:美国人口普查局，脸书良好计划数据</p></figure><p id="1fa9" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">在后一张图中，你的视线被吸引到了德克萨斯州和沿海地区。这是应该的，因为那是大多数人真正生活的地方！这张地图，用同样的数据，讲述了一个更好的故事。</p><p id="0fb5" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">3)较小的地理区域</p><p id="b119" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">为了展示 mapscaler 的灵活性，这里有一个更局部的例子。北卡罗来纳州公共教育部公布了他们的支出；以下是 2018 年按县分列的用于残疾儿童的所有美元:</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nn"><img src="../Images/9780cf50252b7d55cef50f4c31f3af2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gnw9gMsJ2AtdCvkNenyVFg.png"/></div></div></figure><p id="3742" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">当然，在不知道孩子们实际上学地点的情况下，这张地图用处不大:</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi no"><img src="../Images/7501d1b1c8b4bf33efebf5ded231ed6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jQYE2JXoLOMQwXvGDta7YQ.png"/></div></div></figure></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><p id="c9b0" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">Mapscaler 可以用<code class="fe nw nx ny nz b">pip install mapscaler</code>从 PyPi 下载。它还包括一些内置的地图，让你开始；我已经在<a class="ae lq" href="https://mapscaler.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank">官方文档</a>中发布了一些示例代码。给我反馈或问题！</p><p id="4c7a" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">其他链接:</p><ul class=""><li id="c3a7" class="oa ob jf kw b kx ky la lb ld oc lh od ll oe lp of og oh oi bi translated"><a class="ae lq" href="https://mapscaler.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank"> mapscaler 官方文档</a></li><li id="0ae7" class="oa ob jf kw b kx oj la ok ld ol lh om ll on lp of og oh oi bi translated"><a class="ae lq" href="https://github.com/conditg/mapscaler" rel="noopener ugc nofollow" target="_blank">github 上的地图缩放器</a></li><li id="1793" class="oa ob jf kw b kx oj la ok ld ol lh om ll on lp of og oh oi bi translated"><a class="ae lq" href="https://pypi.org/project/mapscaler/" rel="noopener ugc nofollow" target="_blank">PyPi 上的地图缩放器</a></li></ul></div></div>    
</body>
</html>