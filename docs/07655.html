<html>
<head>
<title>Kubernetes Development: Beyond Configuration Files</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes 开发:超越配置文件</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/kubernetes-development-beyond-configuration-files-f78d7ab9a43?source=collection_archive---------52-----------------------#2020-06-08">https://towardsdatascience.com/kubernetes-development-beyond-configuration-files-f78d7ab9a43?source=collection_archive---------52-----------------------#2020-06-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3123" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关注你的代码，而不是基础设施！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/002dbc5675f060989f7af780e85630d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9ARmrOXUTwF6OkndWEkPdA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1611490" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a></p></figure><p id="c0fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">许多故事称赞<a class="ae ky" href="https://kubernetes.io/" rel="noopener ugc nofollow" target="_blank"> Kubernetes </a>是自动化部署、扩展和管理容器化应用程序的优秀工具。我支持这一点；Kubernetes 正在努力减轻微服务架构的痛苦并应对其挑战。</p><p id="ef93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，Kubernetes 上的当地发展可能是一个痛点。典型的工作流程由几个步骤组成；在本地测试您的应用程序，构建并标记 docker 映像，创建部署配置，最后在 Kubernetes 上运行您的应用程序。如果有一个 bug 或者一个新的特性需要集成，开发者需要从头开始遵循同样的过程。在他们的 Next’19 演示中，谷歌工程师称之为<strong class="lb iu">痛苦和折磨的无限循环。</strong></p><p id="1fe6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在之前的故事中，我们介绍了 Skaffold，这是 Google 的一个轻量级开源项目，它促进了本地 Kubernetes 的开发。你可以在这里了解更多信息:</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/kubernetes-local-development-the-correct-way-1bc4b11570d8"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">Kubernetes 地方发展:正确的道路</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">在 Kubernetes 上开发时，痛苦和苦难的无限循环已经成为过去。</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="4543" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">但是，有没有更自然的方法来解决当地 Kubernetes 发展的挑战呢？我们能不能只关注我们的代码，而把基础设施排除在我们的逻辑之外？</strong>嗯，输入<a class="ae ky" href="https://cloud.google.com/code" rel="noopener ugc nofollow" target="_blank">云码</a>！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/f11ada9c8fac7479d89d9fbcde68a6bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AT2s704ONx3kwJxIRBlKSw.png"/></div></div></figure><p id="af43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">云代码(Cloud Code)是 Google 云平台的一套开发工具，包括<a class="ae ky" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio 代码</a>和几个<a class="ae ky" href="https://www.jetbrains.com/" rel="noopener ugc nofollow" target="_blank"> JetBrains </a>产品的 IDE 扩展。它促进了本地或远程 Kubernetes 集群上的开发、部署和调试。它使用 Skaffold，所以让我们更深入地了解为什么以及如何使用它！</p><blockquote class="mo mp mq"><p id="49de" class="kz la mr lb b lc ld ju le lf lg jx lh ms lj lk ll mt ln lo lp mu lr ls lt lu im bi translated"><a class="ae ky" href="https://www.dimpo.me/newsletter?utm_source=article&amp;utm_medium=medium&amp;utm_campaign=kubernetes_vs_code&amp;utm_term=kubernetes_vs_code" rel="noopener ugc nofollow" target="_blank">学习率</a>是为那些对 AI 和 MLOps 的世界感到好奇的人准备的时事通讯。你会在每周五收到我关于最新人工智能新闻和文章的更新和想法。在这里订阅<a class="ae ky" href="https://www.dimpo.me/newsletter?utm_source=article&amp;utm_medium=medium&amp;utm_campaign=kubernetes_vs_code&amp;utm_term=kubernetes_vs_code" rel="noopener ugc nofollow" target="_blank"/>！</p></blockquote></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="f161" class="nc nd it bd ne nf ng nh ni nj nk nl nm jz nn ka no kc np kd nq kf nr kg ns nt bi translated">你可能需要的一切</h1><p id="4740" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">云代码是一个 IDE 扩展，它支持迭代开发，并使本地和远程集群上的调试变得轻而易举。该工具提供了几个功能，让您专注于工作中有趣的部分。</p><ul class=""><li id="625e" class="nz oa it lb b lc ld lf lg li ob lm oc lq od lu oe of og oh bi translated"><strong class="lb iu">帮助处理 Kubernetes 配置文件；</strong>云代码提供了完成建议、林挺、内联文档和代码片段。编写 Kubernetes 配置文件从来没有那么容易。</li><li id="3533" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated"><strong class="lb iu">自动化部署流程；</strong>云代码自动化了我们在序言中看到的工作流程步骤。只需一个命令，我们就可以构建、推送和部署我们的应用程序，并在发生任何变化时自动重新部署它。此外，在远程集群上调试就像在笔记本电脑上调试代码一样。</li><li id="2edd" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated"><strong class="lb iu">提供一个公用事业的世界；</strong>云代码为调试配置端口转发和入口点，并提供图形用户界面与部署进行交互。</li></ul><h1 id="ade4" class="nc nd it bd ne nf on nh ni nj oo nl nm jz op ka no kc oq kd nq kf or kg ns nt bi translated">装置</h1><p id="4def" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">要安装云代码，只需将其作为扩展添加到您最喜欢的 IDE 中。例如，我更喜欢使用 Visual Studio 代码。因此，要将它添加到 VS 代码中，请在扩展面板中搜索它，然后单击 install。它会在你的工具条上添加一个或多个新图标。</p><h1 id="083f" class="nc nd it bd ne nf on nh ni nj oo nl nm jz op ka no kc oq kd nq kf or kg ns nt bi translated">简单的例子</h1><p id="d2b0" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">在本节中，我们将使用一个简单的 Flask 应用程序，它将"<em class="mr"> Hello World" </em>打印到屏幕上。我们将使用通过云代码提供的模板。选择的 IDE 是 VS 代码，因此，从屏幕底部选择<code class="fe os ot ou ov b">Cloud Code</code>，然后选择<code class="fe os ot ou ov b">New Application</code>。然后，选择<code class="fe os ot ou ov b">Kubernetes Application</code>、<code class="fe os ot ou ov b">Python (Flask): Hello World</code>模板和路径来初始化你的项目。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/8af76d08388c3cef313264398e71a728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ZZkfqr8flgJS83GizvKiPw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用云代码创建新的应用程序</p></figure><p id="6832" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该模板已经有一个包含我们的应用程序逻辑的<code class="fe os ot ou ov b">src</code>文件夹，一个包含部署和服务 YAML 配置文件的<code class="fe os ot ou ov b">kubernetes-manifests</code>文件夹，以及一个设置 Skaffold 配置的<code class="fe os ot ou ov b">skaffold.yaml</code>文件。</p><p id="e243" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们可以从底部的菜单中选择<code class="fe os ot ou ov b">Cloud Code</code>菜单项，选择<code class="fe os ot ou ov b">Run on Kubernetes</code>。接下来，您应该选择要部署到的集群和要推送容器映像的注册表。我正在本地 docker 集群上部署应用程序；因此，不需要选择注册表。云代码将构建您的图像，标记它并将其推送到注册表。然后，它会将它部署在您选择的集群上。如果这是您第一次执行循环，可能需要一段时间！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/f31e34d87059a4930faac8f76a202317.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*oXaiZCkNGExqnWhL4NzHkg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用云代码运行您的应用</p></figure><p id="000b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">只要该过程成功完成，就会为您提供一个链接来查看结果。然后，如果您更改了某些内容，只要您保存了文件，就可以观看它的实时更新！</p><p id="ce5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，您可以轻松地调试代码。从 VS 代码的调试视图中选择<code class="fe os ot ou ov b">Debug on Kubernetes</code>,然后按按钮！接下来，设置一个断点，从浏览器刷新应用程序，观察调试器的神奇之处。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/dbb09ada6679975c81bf549260bbea25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*IAQ27GLVefj_cV3rZDnkVg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用云代码调试应用程序</p></figure><p id="0830" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要更深入地研究云代码，请查看它的<a class="ae ky" href="https://cloud.google.com/code/docs" rel="noopener ugc nofollow" target="_blank">文档</a>，尤其是您选择的 IDE 的快速入门指南。例如，<a class="ae ky" href="https://cloud.google.com/code/docs/vscode/quickstart" rel="noopener ugc nofollow" target="_blank">这里的</a>是 VS 代码的向导。</p><h1 id="b097" class="nc nd it bd ne nf on nh ni nj oo nl nm jz op ka no kc oq kd nq kf or kg ns nt bi translated">结论</h1><p id="4e55" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">在这个故事中，我们看到了如何打破每个试图在 Kubernetes 上进行本地开发的开发人员所面临的痛苦和折磨的无限循环。我们引入了云代码，这是一个强大的 IDE 扩展，可用于 Visual Studio 代码和几个 JetBrains 产品。</p><p id="545c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">云代码通过提供一组丰富的特性来优化开发工作流，这些特性可以自动化映像构建、标记和部署的过程。此外，它支持在本地和远程 Kubernetes 集群上进行调试，并完全支持编写 Kubernetes 配置文件。</p><blockquote class="mo mp mq"><p id="1652" class="kz la mr lb b lc ld ju le lf lg jx lh ms lj lk ll mt ln lo lp mu lr ls lt lu im bi translated"><a class="ae ky" href="https://www.dimpo.me/newsletter?utm_source=article&amp;utm_medium=medium&amp;utm_campaign=kubernetes_vs_code&amp;utm_term=kubernetes_vs_code" rel="noopener ugc nofollow" target="_blank">学习率</a>是为那些对 AI 和 MLOps 的世界感到好奇的人准备的时事通讯。你会在每周五收到我关于最新人工智能新闻和文章的更新和想法。在这里订阅<a class="ae ky" href="https://www.dimpo.me/newsletter?utm_source=article&amp;utm_medium=medium&amp;utm_campaign=kubernetes_vs_code&amp;utm_term=kubernetes_vs_code" rel="noopener ugc nofollow" target="_blank"/>！</p></blockquote><h1 id="218e" class="nc nd it bd ne nf on nh ni nj oo nl nm jz op ka no kc oq kd nq kf or kg ns nt bi translated">关于作者</h1><p id="ed7e" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">我叫<a class="ae ky" href="https://www.dimpo.me/?utm_source=article&amp;utm_medium=medium&amp;utm_campaign=kubernetes_vs_code&amp;utm_term=kubernetes_vs_code" rel="noopener ugc nofollow" target="_blank">迪米特里斯·波罗普洛斯</a>，我是一名为<a class="ae ky" href="https://www.arrikto.com/" rel="noopener ugc nofollow" target="_blank">阿里克托</a>工作的机器学习工程师。我曾为欧洲委员会、欧盟统计局、国际货币基金组织、欧洲央行、经合组织和宜家等主要客户设计和实施过人工智能和软件解决方案。</p><p id="dce9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有兴趣阅读更多关于机器学习、深度学习、数据科学和数据运算的帖子，请关注我的<a class="ae ky" href="https://towardsdatascience.com/medium.com/@dpoulopoulos/follow" rel="noopener" target="_blank"> Medium </a>、<a class="ae ky" href="https://www.linkedin.com/in/dpoulopoulos/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或 Twitter 上的<a class="ae ky" href="https://twitter.com/james2pl" rel="noopener ugc nofollow" target="_blank"> @james2pl </a>。此外，请访问我的网站上的<a class="ae ky" href="https://www.dimpo.me/resources/?utm_source=article&amp;utm_medium=medium&amp;utm_campaign=kubernetes_vs_code&amp;utm_term=kubernetes_vs_code" rel="noopener ugc nofollow" target="_blank">资源</a>页面，这里有很多好书和顶级课程，开始构建您自己的数据科学课程吧！</p></div></div>    
</body>
</html>