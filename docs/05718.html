<html>
<head>
<title>Web Scraping News with 4 lines using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python实现4行新闻的网络抓取</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/scraping-a-website-with-4-lines-using-python-200d5c858bb1?source=collection_archive---------36-----------------------#2020-05-12">https://towardsdatascience.com/scraping-a-website-with-4-lines-using-python-200d5c858bb1?source=collection_archive---------36-----------------------#2020-05-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4832" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">抓取网站的简单方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/523fcfdd1b27f0c494d8d97a70340dee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HnAYQ-GyLaaVq4Pa"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@freegraphictoday?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">absolute vision</a>拍摄</p></figure><p id="ecae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将向您展示如何从各种来源收集和删除新闻。所以，与其花很长时间为每个网站写抓取代码，不如用<a class="ae ky" href="https://newspaper.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> newspaper3k </strong> </a>自动提取结构化信息。如果你不愿意看这篇文章，你可以在github的<a class="ae ky" href="https://github.com/fahmisalman/News-Scraping" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"/></a>上看到我的完整代码。</p><p id="60c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始吧，第一步是安装将要使用的包，即使用pip的newspaper3k。打开终端(Linux / macOS)或命令提示符(windows)并键入:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="00e1" class="ma mb it lw b gy mc md l me mf">$ pip install newspaper3k</span></pre><p id="df6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装完成后，打开代码编辑器，导入包含以下代码的包</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="4b74" class="ma mb it lw b gy mc md l me mf">&gt;&gt;&gt; from newspaper import Article</span></pre><p id="a4c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将从《纽约时报》的标题为'<a class="ae ky" href="https://www.nytimes.com/2020/05/10/us/ahmaud-arbery-georgia.html" rel="noopener ugc nofollow" target="_blank"> <em class="mg">的<a class="ae ky" href="https://www.nytimes.com" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">中摘抄一条新闻，标题为“一生与</strong></a></em> <em class="mg">艾哈迈德·阿贝里一起奔跑”，结尾是一段文字:“我们失去了莫德</em> </a> <em class="mg"> ' </em>”。</p><p id="b491" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，输入要抓取的链接</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="41f6" class="ma mb it lw b gy mc md l me mf">&gt;&gt;&gt; article = Article('https://www.nytimes.com/2020/05/10/us/ahmaud-arbery-georgia.html’)</span></pre><p id="0491" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以选择使用哪种语言。即便如此，报纸也能相当好地检测和提取语言。如果没有给出具体的语言，报纸会自动检测语言。</p><p id="9b0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，如果您想使用一种特定的语言，请将代码更改为。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="935f" class="ma mb it lw b gy mc md l me mf">&gt;&gt;&gt; article = Article(‘<a class="ae ky" href="https://www.nytimes.com/2020/05/10/us/ahmaud-arbery-georgia.html'" rel="noopener ugc nofollow" target="_blank">https://www.nytimes.com/2020/05/10/us/ahmaud-arbery-georgia.html'</a>, ‘en’) # English</span></pre><p id="1db7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后用下面的代码解析文章</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="37d0" class="ma mb it lw b gy mc md l me mf">&gt;&gt;&gt; article.download()</span><span id="a78c" class="ma mb it lw b gy mh md l me mf">&gt;&gt;&gt; article.parse()</span></pre><p id="17a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在一切都准备好了。我们可以开始使用几种方法来提取信息，从文章作者开始。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="c8cd" class="ma mb it lw b gy mc md l me mf">&gt;&gt;&gt; article.authors</span><span id="bf73" class="ma mb it lw b gy mh md l me mf">['Richard Fausset']</span></pre><p id="1025" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将获得文章发表的日期。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="029e" class="ma mb it lw b gy mc md l me mf">&gt;&gt;&gt; article.publish_date</span><span id="3aac" class="ma mb it lw b gy mh md l me mf">datetime.datetime(2020, 5, 10, 0, 0)</span></pre><p id="45a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从文章中获取全文。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f6fd" class="ma mb it lw b gy mc md l me mf">&gt;&gt;&gt; article.text</span><span id="6b50" class="ma mb it lw b gy mh md l me mf">‘Mr. Baker was with Mr. Arbery’s family at his grave site . . .’</span></pre><p id="d034" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你也可以从文章中获取图片链接。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="0bc6" class="ma mb it lw b gy mc md l me mf">&gt;&gt;&gt; article.top_image</span><span id="2507" class="ma mb it lw b gy mh md l me mf">'https://static01.nyt.com/images/2020/05/10/us/10georgia-arbery-1/10georgia-arbery-1-facebookJumbo-v2.jpg'</span></pre><p id="7bd9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，newspaper3k还提供了简单文本处理的方法，例如获取关键字和摘要。首先，使用初始化。nlp()方法。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="0cc8" class="ma mb it lw b gy mc md l me mf">&gt;&gt;&gt; article.nlp()</span></pre><p id="089b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">获取关键字。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="ba6f" class="ma mb it lw b gy mc md l me mf">&gt;&gt;&gt; article.keywords</span><span id="e334" class="ma mb it lw b gy mh md l me mf">['running',<br/> 'world',<br/> 'needed',<br/> 'arbery',<br/> 'lifetime',<br/> 'site',<br/> 'baker',<br/> 'text',<br/> 'wished',<br/> 'maud',<br/> 'arberys',<br/> 'lost',<br/> 'pandemic',<br/> 'upended',<br/> 'ends',<br/> 'ahmaud',<br/> 'unsure',<br/> 'mr']</span></pre><p id="8cda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是新闻摘要，但是该功能仅限于几种语言，如<a class="ae ky" href="https://newspaper.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">文档</a>中所述。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="b5e7" class="ma mb it lw b gy mc md l me mf">&gt;&gt;&gt; article.summary</span><span id="20b1" class="ma mb it lw b gy mh md l me mf">'Mr. Baker was with Mr. Arbery’s family at his grave site.\nIt was Mr. Arbery’s birthday.\nA pandemic had upended the world, and Mr. Baker felt adrift.\nSometimes he wished to be called a musician, and sometimes he did not.\nHe was unsure what he would become or how he would get there.'</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><p id="703d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章的结论是，与我们必须花很长时间为每个网站编写抓取代码相比，使用newspaper3k包，我们可以很容易地在python中抓取各种来源的新闻。通过使用这个包，我们可以从新闻中检索所需的基本信息，如作者、出版日期、文本和图像。还有一些获取新闻关键词和摘要的方法。最重要的是，newspaper3k可以用各种语言搜集新闻。</p></div></div>    
</body>
</html>