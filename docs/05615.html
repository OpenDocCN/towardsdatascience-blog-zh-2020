<html>
<head>
<title>Publishing the model to get predictions on new data from Rest API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">发布模型以从 Rest API 获得对新数据的预测</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/publishing-the-model-to-get-predictions-on-new-data-from-rest-api-3083cf81c45?source=collection_archive---------57-----------------------#2020-05-10">https://towardsdatascience.com/publishing-the-model-to-get-predictions-on-new-data-from-rest-api-3083cf81c45?source=collection_archive---------57-----------------------#2020-05-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="dfd9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过使用 TensorFlow 服务托管的模型从 Rest API 获取数据预测。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/39d7e1e47e67e788335d7ccfb601433d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*34KR0ZK183UELr_DtlYAhA.jpeg"/></div></div></figure><p id="6786" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所以，你有一个漂亮的模型，它在数据上非常有效。现在，您希望将该模型投入生产，并根据新数据进行预测。</p><p id="78f4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我向您介绍 TensorFlow 服务系统，该系统旨在为生产中经过培训的模型提供服务。默认情况下，它与 TensorFlow 模型无缝集成，但功能也可以扩展到其他模型。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/2907ca012fe648a784f042793bc1c92c.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*9VBf-T0JKudxp3SU-ScYcA.png"/></div></figure><h1 id="27c4" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">保存模型</h1><p id="8656" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">所以，让我们说，在遵循了这篇<a class="ae ml" href="https://medium.com/swlh/understanding-the-mnist-and-building-classification-model-with-mnist-and-fashion-mnist-datasets-76b795da84b7" rel="noopener">文章</a>中的步骤之后，你有了一个训练有素的模型，并且你正在使用 Google Colab。</p><p id="55eb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">TensorFlow 服务的模型必须与版本和变量一起保存，这可以通过下面的代码来完成:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h1 id="49e3" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">检查我们刚刚保存的模型</h1><p id="25bd" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">如果在 TF 服务中有几个模型，而我们不知道这些模型的细节，这是很有帮助的。这段代码变得非常有价值，在这种情况下，它将显示已保存模型的内容。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h1 id="399b" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">为模型服务并获得预测</h1><p id="8771" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">服务使我们能够管理模型的版本，并确定使用哪个版本的优先级。这对于重新训练模型或者在不损害平台架构完整性的情况下促进迁移学习特别有用。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="2036" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在让我们使用 TensorFlow Serving 的 REST API 进行预测:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="c226" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">本主题到此结束，它涵盖了前面提到的<a class="ae ml" href="https://medium.com/swlh/understanding-the-mnist-and-building-classification-model-with-mnist-and-fashion-mnist-datasets-76b795da84b7" rel="noopener">文章</a>中所涵盖的构建模型的端到端过程，然后托管模型以使用 Rest API 获得新数据的预测。</p><p id="0a55" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用服务有多种方式，这个主题本身扩展并联系了使用 Google Cloud 服务模型。</p></div></div>    
</body>
</html>