<html>
<head>
<title>Building a Question and Answer Chatbot with Amazon Kendra and AWS Fargate</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Amazon Kendra和AWS Fargate构建一个问答聊天机器人</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/create-a-question-and-answer-bot-with-amazon-kendra-and-aws-fargate-79c537d68e45?source=collection_archive---------41-----------------------#2020-05-31">https://towardsdatascience.com/create-a-question-and-answer-bot-with-amazon-kendra-and-aws-fargate-79c537d68e45?source=collection_archive---------41-----------------------#2020-05-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="711a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">构建快速问答聊天机器人的分步指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/43780c8034ae503cb050e2a1a1c0e543.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0EKBQ4RYxTbHY9EYv1rdzQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://pixabay.com/vectors/pixel-cells-techbot-teach-o-bot-3947912/" rel="noopener ugc nofollow" target="_blank"> pixabay </a>上由<a class="ae ky" href="https://pixabay.com/users/manfredsteger-1848497/" rel="noopener ugc nofollow" target="_blank"> manfredsteger </a>拍摄的照片</p></figure><p id="81da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">亚马逊宣布<strong class="lb iu">亚马逊Kendra </strong>几周前，Kendra是一个高度准确且易于使用的企业搜索服务，由机器学习提供支持。</p><p id="6aff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将使用<strong class="lb iu"> React </strong>和<strong class="lb iu"> Amplify </strong>、<strong class="lb iu">web socket</strong>API in<strong class="lb iu">AWS API Gateway</strong>、<strong class="lb iu"> AWS Fargate </strong>和<strong class="lb iu"> Amazon Kendra构建一个问答聊天机器人解决方案。</strong></p><p id="0ad1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">解决方案<strong class="lb iu"> </strong>提供了问答的对话界面。这个聊天机器人允许用户提出他们的问题，并迅速得到相关的答案。</p><h1 id="85a5" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">我们将在这篇文章中讨论的内容:</h1><ul class=""><li id="793f" class="mn mo it lb b lc mp lf mq li mr lm ms lq mt lu mu mv mw mx bi translated">创建一个亚马逊Kendra索引，从半结构化文档中提取问题和答案到Kendra FAQ。</li><li id="a3ac" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">在API Gateway中部署一个WebSocket API来处理问题和回答消息。</li><li id="65ba" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">创建一个React应用程序，并使用AWS Amplify通过WebSocket与这个聊天机器人进行连接和交互。</li><li id="14f8" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">在AWS Fargate中创建一个服务，让我们的bot调用Kendra的API来提供答案并将其发送回用户。</li></ul><p id="eb6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nd">下图显示了上述步骤的架构:</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/b2fe7b47047a0ebe3e134cdee2607a54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*huLXlQcsHhR6HNmxZg0iBQ.png"/></div></div></figure><h2 id="2491" class="nf lw it bd lx ng nh dn mb ni nj dp mf li nk nl mh lm nm nn mj lq no np ml nq bi translated">为什么AWS Fargate如此重要？</h2><p id="c689" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">构建聊天机器人的一个更简单的方法是使用一个<a class="ae ky" href="https://aws.amazon.com/lambda/features/#:~:text=AWS%20Lambda%20is%20a%20serverless,scale%2C%20performance%2C%20and%20security." rel="noopener ugc nofollow" target="_blank"> lambda函数</a>来查询Amazon Kendra，而不使用Fargate。然而，通过AWS Fargate或EC2，我们可以用定制的人工智能模型来扩展聊天机器人，使我们的机器人更加人性化，例如，我们可以基于<strong class="lb iu">拥抱脸</strong> <strong class="lb iu">最先进的</strong> <strong class="lb iu">对话式人工智能</strong>模型来构建聊天机器人，并仅查询Kendra的特定数据。</p><p id="9c75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你的程序是一个长时间的计算任务，需要更多的内存和更高的性能，<strong class="lb iu"> Fargate </strong>可能是更好的选择。</p><h1 id="335d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">先决条件</h1><ul class=""><li id="ee35" class="mn mo it lb b lc mp lf mq li mr lm ms lq mt lu mu mv mw mx bi translated">设置AWS帐户</li><li id="e4e4" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">安装最新的<a class="ae ky" href="https://docs.aws.amazon.com/cli/latest/userguide/installing.html" rel="noopener ugc nofollow" target="_blank"> aws-cli </a></li><li id="8fba" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">安装<a class="ae ky" href="https://github.com/aws-amplify/amplify-cli" rel="noopener ugc nofollow" target="_blank">放大器cli </a></li><li id="3fe5" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">对React的基本了解</li><li id="4781" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">对Docker的基本了解</li><li id="6bcb" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">对云形成的基本了解</li><li id="3671" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">将<a class="ae ky" href="https://www.serverless.com/" rel="noopener ugc nofollow" target="_blank">无服务器框架</a>安装或更新至最新版本</li><li id="83db" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated"><a class="ae ky" href="https://stedolan.github.io/jq/" rel="noopener ugc nofollow" target="_blank"> jq </a>安装(可选)</li></ul><h1 id="a905" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">现在，让我们开始吧！</h1><h1 id="2c9b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">创建亚马逊肯德拉指数</h1><p id="2ad0" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">让我们创建一个肯德拉指数。亚马逊Kendra是一个高度准确且易于使用的企业搜索服务，由机器学习提供支持。Kendra支持非结构化和半结构化文档，如存储在S3的FAQ，我们将在我们的案例中使用FAQ。</p><p id="8b67" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们下载一个QnA数据集并上传到S3。我们可以为聊天机器人使用<br/> <a class="ae ky" href="https://www.microsoft.com/en-us/download/details.aspx?id=52419" rel="noopener ugc nofollow" target="_blank"> <em class="nd">微软研究WikiQA语料库</em> </a>。</p><p id="4da9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下载数据集后，让我们转换为Kendra支持的csv格式，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/b044390a0bfb1efa6bfa1296f4e43261.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lRCVjNtE9qeuayR0y3xX5A.png"/></div></div></figure><p id="d09c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用以下脚本转换数据集，并将转换后的csv文件上传到现有的S3存储桶<code class="fe nv nw nx ny b">my-kendra-index</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="31de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们准备创建一个肯德拉指数。要创建Kendra索引，请完成以下步骤:</p><ol class=""><li id="57c8" class="mn mo it lb b lc ld lf lg li ob lm oc lq od lu oe mv mw mx bi translated">在Amazon Kendra控制台上，选择启动Amazon Kendra。</li><li id="f093" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu oe mv mw mx bi translated">创建索引并输入索引名，如<code class="fe nv nw nx ny b">my-aq-index</code>。</li><li id="735d" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu oe mv mw mx bi translated">对于IAM角色，选择<code class="fe nv nw nx ny b">Create a new role</code>来创建一个允许Amazon Kendra访问CloudWatch日志的角色。</li><li id="0100" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu oe mv mw mx bi translated">创建索引。</li></ol><p id="a3a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建Kendra索引后，我们可以添加常见问题文档:</p><ol class=""><li id="8b9f" class="mn mo it lb b lc ld lf lg li ob lm oc lq od lu oe mv mw mx bi translated">从亚马逊Kendra控制台添加常见问题。</li><li id="29d8" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu oe mv mw mx bi translated">对于S3，浏览S3找到您的桶，并选择常见问题csv文件。这里我们用<code class="fe nv nw nx ny b">s3://my-kendra-index/faq/faq.csv</code>。</li><li id="f9e2" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu oe mv mw mx bi translated">对于IAM角色，选择<code class="fe nv nw nx ny b">Create a new role</code>以允许Amazon Kendra访问S3存储桶中的FAQ内容对象。</li><li id="c270" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu oe mv mw mx bi translated">添加常见问题。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/99787274306063e4dff482f5e20f8928.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QRhB-_ejT1_8dudoUCTBKA.png"/></div></div></figure><p id="0716" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们有了一个有效的Kendra指数，让我们进入下一步。</p><h1 id="95aa" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">在API网关中部署WebSocket API来处理QnA消息</h1><p id="b64d" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">在本节中，我们将在AWS API Gateway中构建一个<strong class="lb iu"> 1) </strong> WebSockets API，<strong class="lb iu"> 2) </strong>创建lambda函数来管理WebSockets路由(<strong class="lb iu"> $connect，$disconnect，sendMessage </strong>)和<strong class="lb iu"> 3) </strong>创建DynamoDb来存储WebSockets连接id和用户名。</p><p id="6afc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将使用<strong class="lb iu">无服务器框架</strong>来构建和部署所有需要的资源。让我们创建一个新的无服务器项目，并将以下配置添加到<code class="fe nv nw nx ny b">serverless.yml</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="a29c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，<code class="fe nv nw nx ny b">serverless.yml </code>中的Cognito App客户端Id ( <code class="fe nv nw nx ny b">/chatbot/dev/app_client_id</code>)和Cognito用户池Id ( <code class="fe nv nw nx ny b">/chatbot/dev/user_pool_id</code>)尚未创建，我们在此仅引用Cognito详细信息为<code class="fe nv nw nx ny b">SSM Parameters</code>，在下一步中，我们将使用<code class="fe nv nw nx ny b">Amplify Cli</code>创建Cognito用户池，然后我们可以从<code class="fe nv nw nx ny b">System Storage Manager</code>控制台修改相关的SSM参数。</p><p id="2657" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦<code class="fe nv nw nx ny b">serviceless.yml </code>被修改，更新<code class="fe nv nw nx ny b">handler.js</code> <strong class="lb iu"> </strong>为WebSockets路由创建lambda函数:<code class="fe nv nw nx ny b">$connect </code> with <code class="fe nv nw nx ny b">custom authorizer</code>，<code class="fe nv nw nx ny b"> $disconnect</code>，<code class="fe nv nw nx ny b">sendMessage</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="1671" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行以下命令来部署WebSocket API:</p><pre class="kj kk kl km gt og ny oh oi aw oj bi"><span id="1970" class="nf lw it ny b gy ok ol l om on">$sls deploy --stage dev --region YOUR_REGION</span></pre><h1 id="afbd" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用AWS Amplify构建React应用程序</h1><p id="fa8a" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">在本节中，我们将使用React和AWS Amplify构建一个具有身份验证功能的web应用程序。</p><p id="0993" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完整的项目在我的Github <a class="ae ky" href="https://github.com/yai333/QuestionAnswerChatbot/tree/master/frontend" rel="noopener ugc nofollow" target="_blank"> repo </a>中，你可以在项目目录中找到以下文件夹:</p><ol class=""><li id="43fe" class="mn mo it lb b lc ld lf lg li ob lm oc lq od lu oe mv mw mx bi translated"><code class="fe nv nw nx ny b">amplify/.config/</code>和<code class="fe nv nw nx ny b">amplify/backend/</code>。</li><li id="5c86" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu oe mv mw mx bi translated"><code class="fe nv nw nx ny b">project-config.json</code>在<code class="fe nv nw nx ny b">.config/</code>文件夹中。</li><li id="264a" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu oe mv mw mx bi translated"><code class="fe nv nw nx ny b">backend-config.json </code>在<code class="fe nv nw nx ny b">backend/</code>文件夹中。</li><li id="a162" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu oe mv mw mx bi translated"><code class="fe nv nw nx ny b">backend/</code>文件夹中的云信息文件。</li></ol><p id="61f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们下载源代码，并通过运行以下命令重新初始化现有的Amplify项目:</p><pre class="kj kk kl km gt og ny oh oi aw oj bi"><span id="7c38" class="nf lw it ny b gy ok ol l om on">$amplify init</span></pre><p id="be3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后推送更改:</p><pre class="kj kk kl km gt og ny oh oi aw oj bi"><span id="e140" class="nf lw it ny b gy ok ol l om on">$amplify push<!-- --> </span></pre><p id="9ed7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并部署:</p><pre class="kj kk kl km gt og ny oh oi aw oj bi"><span id="22fc" class="nf lw it ny b gy ok ol l om on">$<!-- -->amplify<!-- --> publish</span></pre><p id="84e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将在项目部署后获得web应用程序URL:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/7b882f32dcb1a2922cbbb296b27e3187.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*01nqhlNsXOTcdSxCxTapBQ.jpeg"/></div></figure><p id="c789" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，登录AWS Cognito服务控制台，您可以看到AWS Cognito用户池已经创建。复制用户池Id和应用程序客户端Id，并将它们用作我们在上一步中已经创建的SSM参数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/e2ba5615403e67393e30f4dbc541e125.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bJV0a7RVwaoXp2__wCtzKQ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/a569995ab682724e79171efef2c0eca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tRN1PsVKHyVJbc0bmNO1FA.png"/></div></div></figure><h1 id="c365" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">在AWS Fargate中创建聊天机器人服务</h1><p id="a474" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">在本节中，我们将创建一个bot任务，在AWS Fargate中运行我们的chatbot服务。首先，一个聊天机器人任务连接到一个websocket API，然后，当用户提问时，机器人可以查询Kendra索引，Kendra将显示相关答案，并将其发送回提问的用户。</p><p id="7180" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要部署Fargate服务，请执行以下步骤:</p><ol class=""><li id="d344" class="mn mo it lb b lc ld lf lg li ob lm oc lq od lu oe mv mw mx bi translated">点击 下载聊天机器人脚本和Dockerfile <a class="ae ky" href="https://github.com/yai333/QuestionAnswerChatbot/tree/master/service" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">。</strong></a></li><li id="411d" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu oe mv mw mx bi translated">构建Docker，标记一个Amazon ECR存储库，并将映像推送到ECR。更多详情请参考AWS <a class="ae ky" href="https://docs.aws.amazon.com/AmazonECR/latest/userguide/docker-push-ecr-image.html" rel="noopener ugc nofollow" target="_blank">官方教程</a>。</li><li id="5745" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu oe mv mw mx bi translated">点击 下载CloudFormation模板和bash脚本<a class="ae ky" href="https://github.com/yai333/QuestionAnswerChatbot/tree/master/service/cf-templates" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">。</strong></a></li><li id="2cad" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu oe mv mw mx bi translated">如果使用Fargate发射类型，则需要<code class="fe nv nw nx ny b">awsvpc network</code>模式。我们需要部署<code class="fe nv nw nx ny b">VPC</code>和<code class="fe nv nw nx ny b">Security Groups</code>:</li></ol><pre class="kj kk kl km gt og ny oh oi aw oj bi"><span id="b6ab" class="nf lw it ny b gy ok ol l om on">$bash create-infra.sh -d dev</span></pre><p id="bd51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">5.创建任务定义。</p><pre class="kj kk kl km gt og ny oh oi aw oj bi"><span id="7c26" class="nf lw it ny b gy ok ol l om on">$bash create-task.sh -d dev</span></pre><p id="fead" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">6.在AWS Fargate中部署聊天机器人服务。</p><pre class="kj kk kl km gt og ny oh oi aw oj bi"><span id="f833" class="nf lw it ny b gy ok ol l om on">$bash deploy-service.sh -d dev</span></pre><p id="500a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">主要逻辑可以在这里找到<a class="ae ky" href="https://github.com/yai333/QuestionAnswerChatbot/blob/master/service/robot.py" rel="noopener ugc nofollow" target="_blank">:</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><h2 id="32be" class="nf lw it bd lx ng nh dn mb ni nj dp mf li nk nl mh lm nm nn mj lq no np ml nq bi translated"><strong class="ak">(可选)用ConvAI模型扩展聊天机器人</strong></h2><p id="3e18" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">要使用<strong class="lb iu"> ConvAI </strong>模型扩展聊天机器人，您可以尝试下面的示例脚本，注意，您需要投入更多精力来训练模型，并将其放入docker或<strong class="lb iu">亚马逊</strong> <strong class="lb iu"> EFS </strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="dec3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦服务被部署，我们应该能够问机器人问题。让我们访问React应用程序并进行现场测试吧！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/e933f768e69c5d84e090c755badf3d84.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*JX6vbaX4AtQ813pI_f0f3w.png"/></div></figure><p id="9466" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如上所述，仅使用关键字就足以让系统给出正确的答案。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/88cc390e06d8842f6447be327cafd284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/1*xOqHurlL8aKc8w234_j_Xw.gif"/></div></figure><p id="ebff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想了解更多关于<strong class="lb iu">亚马逊Kendra </strong>的信息，这里 有一个关于如何使用Lex和Kendra <a class="ae ky" href="https://aws.amazon.com/blogs/machine-learning/smarter-faq-bots-with-amazon-kendra/?ref=Welcome.AI" rel="noopener ugc nofollow" target="_blank">构建聊天机器人的官方教程。</a></p><p id="7131" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望你觉得这篇文章有用，这篇文章的源代码可以在我的<a class="ae ky" href="https://github.com/yai333/QuestionAnswerChatbot" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> GitHub repo </strong> </a>中找到。</p></div></div>    
</body>
</html>