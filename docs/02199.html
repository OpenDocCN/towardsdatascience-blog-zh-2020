<html>
<head>
<title>A Cheat Sheet on Generating Random Numbers in NumPy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于在NumPy中生成随机数的备忘单</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-cheat-sheet-on-generating-random-numbers-in-numpy-5fe95ec2286?source=collection_archive---------19-----------------------#2020-03-02">https://towardsdatascience.com/a-cheat-sheet-on-generating-random-numbers-in-numpy-5fe95ec2286?source=collection_archive---------19-----------------------#2020-03-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/bee068e9320044dcfbd638cef36dcea9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hu4VXloZDbBtUQC4rSO04g.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><a class="ae jg" href="https://unsplash.com/@macauphotoagency?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">澳门图片社</a>在<a class="ae jg" href="https://unsplash.com/s/photos/roulette?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class=""/><div class=""><h2 id="effc" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">查看NumPy中最常用的生成随机数的函数。</h2></div><p id="3b6a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">NumPy是我们用于机器学习研究和其他科学计算工作的最基本的Python包之一。作为一个C实现库的包装器，NumPy在其多维数组和矩阵数据结构上提供了大量强大的代数和转换操作。</p><p id="d354" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">除了这些数学运算之外，它还提供了各种功能来生成随机数，这些随机数通常用于科学计算的不同目的。本文回顾了我们可以用来在NumPy中生成随机数的常用函数。</p><p id="9071" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">请注意</strong>如果您想在阅读时跟随本文，可以在<a class="ae jg" href="https://gist.github.com/ycui1/5121649aefd6ed65f914ab06715ceb75" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到所有相关代码。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="dca4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我们将通过运行<code class="fe mb mc md me b">import numpy as np</code>首先导入NumPy模块，允许我们访问模块中所有相关的函数。</p><h2 id="f2ce" class="mf mg jj bd mh mi mj dn mk ml mm dp mn lh mo mp mq ll mr ms mt lp mu mv mw mx bi translated"><code class="fe mb mc md me b">1. rand(d0, d1, ..., dn)</code></h2><p id="5b44" class="pw-post-body-paragraph ky kz jj la b lb my kk ld le mz kn lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">这种方法生成给定形状的随机数。下面是一些常见的例子。注意在<code class="fe mb mc md me b">rand()</code>函数中指定的数字对应于将要生成的数组的维数。一个特例是，当函数中没有指定数字时，会生成一个随机值。</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nd"><img src="../Images/6ff44675784ffe206d1b70f06c2eb8e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QOZaYms2WC6L9jDA2B07dA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">带有rand()的随机数</p></figure><h2 id="b8a5" class="mf mg jj bd mh mi mj dn mk ml mm dp mn lh mo mp mq ll mr ms mt lp mu mv mw mx bi translated">2.randn(d0，d1，…，dn)和standard_normal([size])</h2><p id="3359" class="pw-post-body-paragraph ky kz jj la b lb my kk ld le mz kn lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">这两种方法都用于从标准的<a class="ae jg" href="https://en.wikipedia.org/wiki/Normal_distribution" rel="noopener ugc nofollow" target="_blank">正态分布</a>中产生随机数，其曲线如下图所示。红色曲线显示的是平均值为0、标准差为1的标准正态分布。</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/948879731510355e1701fee7c50a5b25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*PfODI74UmIlRfDj0q-I3Kw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">读取曲线显示的标准正态分布(来源:<a class="ae jg" href="https://en.wikipedia.org/wiki/Normal_distribution" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></figure><p id="295e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这两种方法都是从分布中随机抽取数字来生成定义形状的数组。它们的用法大致相同，只是对于<code class="fe mb mc md me b">standard_normal()</code>方法，我们需要使用一个<code class="fe mb mc md me b">tuple</code>来设置形状大小。下面是一些常见的例子。</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nj"><img src="../Images/2077511f8c5c9aa4c1adadf295ff5a23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kj3wtOuHDD1pju2m48UBXA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">带有randn()和standard_normal()的随机数</p></figure><p id="d239" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">需要注意的一点是，因为我们知道这些方法是从标准正态分布中创建数字样本，因此我们可以验证这是否是下图所示的情况。</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nk"><img src="../Images/5fd40202b07a632d758b3a7ee39b250a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lf2i_mThsohI2KJKIb0H_Q.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">用randn()生成的随机数直方图</p></figure><p id="adce" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">与这两种方法相关的，还有一种方法叫做<code class="fe mb mc md me b">normal([loc, scale, size])</code>，利用这种方法我们可以从<code class="fe mb mc md me b">loc</code>和<code class="fe mb mc md me b">scale</code>参数指定的正态分布中生成随机数。</p><h2 id="9486" class="mf mg jj bd mh mi mj dn mk ml mm dp mn lh mo mp mq ll mr ms mt lp mu mv mw mx bi translated"><code class="fe mb mc md me b">3. randint</code>(低[，高，尺寸，数据类型])</h2><p id="42ef" class="pw-post-body-paragraph ky kz jj la b lb my kk ld le mz kn lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">该方法生成离散均匀分布的从<code class="fe mb mc md me b">low</code>(含)到<code class="fe mb mc md me b">high</code>(不含)<code class="fe mb mc md me b">size</code>定义形状的随机整数。可选地，我们也可以将<code class="fe mb mc md me b">dtype</code>设置为<code class="fe mb mc md me b">int64</code>、<code class="fe mb mc md me b">int</code>或其他，默认值为<code class="fe mb mc md me b">np.int</code>。</p><p id="ac09" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">需要注意的一点是，当我们不设置<code class="fe mb mc md me b">high</code>参数时，数字会在[0，<code class="fe mb mc md me b">low</code>的范围内生成。</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nl"><img src="../Images/fd92cdb3b9f3c6ee1b1aab6312f869f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*se2E_eDzOwl58HobEV79Zw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">带有randint()的随机数</p></figure><h2 id="a490" class="mf mg jj bd mh mi mj dn mk ml mm dp mn lh mo mp mq ll mr ms mt lp mu mv mw mx bi translated">4.<code class="fe mb mc md me b">random_sample</code>([尺寸])、<code class="fe mb mc md me b">random</code>([尺寸])、<code class="fe mb mc md me b">ranf</code>([尺寸])、<code class="fe mb mc md me b">sample</code>([尺寸])</h2><p id="2f57" class="pw-post-body-paragraph ky kz jj la b lb my kk ld le mz kn lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">所有这些函数都是为了在[0.0，1，0]范围内产生由<code class="fe mb mc md me b">size</code>定义的形状的随机浮点数，这是一个连续的均匀分布。以<code class="fe mb mc md me b">random_sample()</code>为例，相关用例如下所示。</p><p id="9a8a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">需要注意的一点是，由于这些随机数是从[0.0，1.0]的连续均匀分布中抽取的，因此这些数的平均值在0.5左右，是0.0和1.0之和的一半。</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nm"><img src="../Images/f341c21d5e2181c1144ec92b584dde05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GXCv8sVWIwfVp8P_hR-e9Q.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">带有random_sample()的随机数</p></figure><p id="1cc2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">与这四种方法相关的，还有一种方法叫做<code class="fe mb mc md me b">uniform([low, high, size])</code>，利用这种方法我们可以从<code class="fe mb mc md me b">low</code>和<code class="fe mb mc md me b">high</code>参数指定的半开均匀分布中产生随机数。</p><h2 id="3a5c" class="mf mg jj bd mh mi mj dn mk ml mm dp mn lh mo mp mq ll mr ms mt lp mu mv mw mx bi translated">5.<code class="fe mb mc md me b">choice</code> (a[，尺寸，替换，p])</h2><p id="25ff" class="pw-post-body-paragraph ky kz jj la b lb my kk ld le mz kn lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">该方法从参数<code class="fe mb mc md me b">a</code>指定的给定一维数组中生成一个随机样本。然而，如果<code class="fe mb mc md me b">a</code>被设置为一个int，这个方法将会像<code class="fe mb mc md me b">a</code>是从<code class="fe mb mc md me b">np.arange(a)</code>生成的<code class="fe mb mc md me b">ndarray</code>一样运行。使用这种方法的一些例子如下所示。</p><p id="93bd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe mb mc md me b">size</code>参数指定返回的<code class="fe mb mc md me b">ndarray</code>的形状，而<code class="fe mb mc md me b">p</code>参数是一个浮点数列表，表示<code class="fe mb mc md me b">a</code>中的元素被绘制的概率。需要注意的是，如果您设置了<code class="fe mb mc md me b">p</code>参数，那么概率值的总和必须是1.0。</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nn"><img src="../Images/baa8976cb5a83e1e605610fa46aeb164.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1g_g_pZTN0n_DlDVetp2_g.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">带选择的随机数()</p></figure><h2 id="424a" class="mf mg jj bd mh mi mj dn mk ml mm dp mn lh mo mp mq ll mr ms mt lp mu mv mw mx bi translated">6.<code class="fe mb mc md me b">shuffle</code> (x)和<code class="fe mb mc md me b">permutation</code> (x)</h2><p id="2269" class="pw-post-body-paragraph ky kz jj la b lb my kk ld le mz kn lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">这两种方法都用于随机排列序列。它们之间的主要区别在于，<code class="fe mb mc md me b">shuffle()</code>方法就地修改序列并返回<code class="fe mb mc md me b">None</code>，而permutation()方法在修改后生成一个相同形状的新<code class="fe mb mc md me b">ndarray</code>。下面我们来看一些例子。</p><p id="c0ed" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">需要注意的一点是，当我们置换一个多维数组时，它只在第一个轴上工作，如最后两个例子所示。换句话说，多维数组中子数组的内容保持不变。</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nj"><img src="../Images/12f7958506a05c35a047744895a48bb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RcOeRfMbzd1GT_1qYk1eJw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">具有洗牌()和排列()的随机数</p></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="3051" class="no mg jj bd mh np nq nr mk ns nt nu mn kp nv kq mq ks nw kt mt kv nx kw mw ny bi translated">外卖食品</h1><p id="3257" class="pw-post-body-paragraph ky kz jj la b lb my kk ld le mz kn lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">本文回顾了在NumPy中生成随机数的常用方法，NumPy是执行数组和矩阵计算的最强大的包之一。还有更多可以在它的<a class="ae jg" href="https://docs.scipy.org/doc/numpy-1.14.0/reference/routines.random.html" rel="noopener ugc nofollow" target="_blank">官网</a>探索。同样，感兴趣的读者可以在<a class="ae jg" href="https://gist.github.com/ycui1/5121649aefd6ed65f914ab06715ceb75" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到本文的相关代码。</p><p id="6185" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在您离开之前，这里有一个关于这些方法的快速备忘单供您快速参考。</p><figure class="ne nf ng nh gt iv"><div class="bz fp l di"><div class="nz oa l"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">关于在NumPy中生成随机数的备忘单</p></figure></div></div>    
</body>
</html>