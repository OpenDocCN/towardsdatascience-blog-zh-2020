<html>
<head>
<title>Kaplan Madness: dichotomising continuous variables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">卡普兰疯狂:二分法连续变量</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/dichotomising-continuous-variables-8cf3fdd5de33?source=collection_archive---------31-----------------------#2020-03-06">https://towardsdatascience.com/dichotomising-continuous-variables-8cf3fdd5de33?source=collection_archive---------31-----------------------#2020-03-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/792afb1f158c24474ce0d54b490170e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2oHQJ8JmDUy9f7yHHAa-dw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">封面照片:<a class="ae jg" href="https://unsplash.com/@vanschneider" rel="noopener ugc nofollow" target="_blank">托拜厄斯·范·施奈德</a></p></figure><div class=""/><p id="57a3" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi le translated"><span class="l lf lg lh bm li lj lk ll lm di"> M </span>任何时候，我都会看到从数据集(如TGCA癌症基因组图谱)中选择基因的海报或演示，作者表明该基因的高(或低)表达与更好或更差的存活率相关。通常，会显示p值，作者没有提到他们是否调整了其他(已知的)预后因素。然后他们利用这种存活率的差异进行进一步的功能验证。</p><p id="2010" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这没有太大的意义。</p><p id="c304" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因为基因表达是一个连续变量(这里基因表达可以用任何其他连续变量代替)，所以需要设定一个阈值来定义“高”与“低”表达，以便绘制Kaplan Meier生存曲线。连续变量的二分法是一个<a class="ae jg" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC1458573/" rel="noopener ugc nofollow" target="_blank">的坏习惯</a>，并且伴随着成本。</p><p id="bb0a" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果没有预先指定临界值，可以改变阈值，直到找到显著的p值:</p><blockquote class="ln lo lp"><p id="360e" class="kg kh lq ki b kj kk kl km kn ko kp kq lr ks kt ku ls kw kx ky lt la lb lc ld im bi translated">使用这种所谓的“最佳”分界点(通常是给出最小P值的分界点)存在产生虚假显著结果的高风险；两组之间的结果变量的差异将被高估，可能相当大；并且置信区间会太窄。永远不要使用这种策略— <a class="ae jg" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC1458573/" rel="noopener ugc nofollow" target="_blank">奥特曼，BMJ </a></p></blockquote><p id="20d2" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过模拟数据，这个概念变得更加清晰。在该动画中，截止值从~27开始变得“统计显著”，并在~ 65左右停止显著，而曲线本身的变化很小:</p><figure class="lv lw lx ly gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lu"><img src="../Images/4f9af4cb0636631b19085a83c59a6cc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*sO0IMwGsrSr1E-Yx9cmhQg.gif"/></div></div></figure><p id="40a7" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这个模拟中，除了定义高和低基因表达的阈值之外，没有任何变化。</p><p id="5079" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您仍然想了解连续变量和生存率之间的关系，您可能想了解Cox比例风险模型，其中包括影响预后的其他协变量。</p><p id="cbd0" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们只包括基因表达，Cox比例风险(请注意，我没有检查比例风险假设，这应该在您对真实数据集进行此操作之前进行)给出的p值为0.0276，HR为3.114，95%置信区间为[1.133，8.559]。由于在将其用作Cox拟合的输入之前，我已经转换了log10尺度的基因表达，3.14的HR将意味着基因表达每增加log10单位的风险增加3.14倍(正如@jvdesomp在Twitter上指出的)。</p><p id="2c22" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，使用Cox回归模型，如果基因表达增加，我们可以评估相对死亡率(而不是隐藏大部分数据的二分法):</p><figure class="lv lw lx ly gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lu"><img src="../Images/e693681627fa237ff230ed5ae1f69706.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R7LOrfFI5Oi6jwSchJ9ZPw.png"/></div></div></figure></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="f4b5" class="mg mh jj bd mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd bi translated">模拟内部</h1><h2 id="5e22" class="ne mh jj bd mi nf ng dn mm nh ni dp mq kr nj nk mu kv nl nm my kz nn no nc np bi translated">生成虚构数据</h2><p id="5088" class="pw-post-body-paragraph kg kh jj ki b kj nq kl km kn nr kp kq kr ns kt ku kv nt kx ky kz nu lb lc ld im bi translated">如果你对模拟是如何制作的感兴趣，请继续阅读。</p><p id="f18a" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">开始了一项虚构的研究，随访时间为96个月，有300名参与者。没有被审查的个体(除了在96个月，模拟结束时)。基因表达从对数正态分布中随机取样，其中rlnorm R函数的均值为4，标准差为1:</p><figure class="lv lw lx ly gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lu"><img src="../Images/764dc0cea7ebc36cc8ea7f0a31deb1f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_OWXnj_RegnH9mSt7GyyBA.png"/></div></div></figure><p id="cb94" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">模拟了其他几个协变量，这在本文中没有提到。我鼓励你自己看一看它们，看看对KM估计和Cox模型有什么影响。</p><figure class="lv lw lx ly gt iv"><div class="bz fp l di"><div class="nv nw l"/></div></figure><h2 id="593f" class="ne mh jj bd mi nf ng dn mm nh ni dp mq kr nj nk mu kv nl nm my kz nn no nc np bi translated">考克斯回归</h2><p id="7aa6" class="pw-post-body-paragraph kg kh jj ki b kj nq kl km kn nr kp kq kr ns kt ku kv nt kx ky kz nu lb lc ld im bi translated">为了研究基因表达对风险比的影响，使用了惩罚样条项(注意，基因表达是从对数正态分布中取样的，因此这里应该转换回log10标度):</p><figure class="lv lw lx ly gt iv"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="f90f" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">相对死亡率如<a class="ae jg" href="https://cran.r-project.org/web/packages/survival/vignettes/splines.pdf" rel="noopener ugc nofollow" target="_blank">生存曲线插图</a>所述绘制(但使用ggplot代替matplot函数)。</p><figure class="lv lw lx ly gt iv"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="348e" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个模拟的完整代码可以在<a class="ae jg" href="https://github.com/rmvpaeme/kaplan_pval_sim" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获得。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><p id="cd3f" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="lq">关于作者:</em></p><p id="fa4c" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="lq">我是Ruben Van Paemel博士，我于2017年从医学院毕业后开始在根特大学(医学遗传学中心)担任博士研究员，由研究基金会Flanders资助。我也是根特大学医院的儿科住院医师。可以在Twitter关注我:</em><a class="ae jg" href="http://www.twitter.com/RubenVanPaemel" rel="noopener ugc nofollow" target="_blank"><em class="lq">@ RubenVanPaemel</em></a></p><p id="eca8" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="lq">我从事神经母细胞瘤的研究，这是一种罕见但极具破坏性的肿瘤，最常见于非常年幼的儿童。我们的团队试图了解潜在的基因改变，以提高神经母细胞瘤儿童的诊断、治疗和最终存活率。</em></p><h1 id="9ca9" class="mg mh jj bd mi mj nx ml mm mn ny mp mq mr nz mt mu mv oa mx my mz ob nb nc nd bi translated">参考</h1><p id="8ae8" class="pw-post-body-paragraph kg kh jj ki b kj nq kl km kn nr kp kq kr ns kt ku kv nt kx ky kz nu lb lc ld im bi translated">封面照片- <a class="ae jg" href="https://unsplash.com/photos/IBRLEgCk5cU" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p><p id="0e85" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Kaplan Meier模拟代码编辑自<a class="ae jg" href="http://dwoll.de/rexrepos/posts/survivalKM.html#simulated-right-censored-event-times-with-weibull-distribution" rel="noopener ugc nofollow" target="_blank">http://dwoll . de/rex repos/posts/survival km . html # simulated-right-删失事件次数服从威布尔分布</a></p></div></div>    
</body>
</html>