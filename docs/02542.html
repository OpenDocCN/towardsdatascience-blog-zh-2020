<html>
<head>
<title>Machine Learning: Handling the missing values in Data: The Easy Way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习:处理数据中的缺失值:简单的方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/handling-the-missing-values-in-data-the-easy-way-9ea5983f8ba4?source=collection_archive---------15-----------------------#2020-03-11">https://towardsdatascience.com/handling-the-missing-values-in-data-the-easy-way-9ea5983f8ba4?source=collection_archive---------15-----------------------#2020-03-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a10e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><strong class="ak"> SciKit 估算器</strong>简介</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9c28ed927b0ff84a9089d45ac55dbd3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xeFZHhRH59Yflqok"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@helloquence?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的</a></p></figure><p id="be5d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大多数机器学习算法不能处理特征中的缺失值。参见下面墨尔本住房数据的例子。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/15f00453c27535aa555c8e0bd925bafd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QDfmEUyOzRT8jQUmabS3DA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">墨尔本 _ 数据.描述()</p></figure><p id="ce55" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，BuildingArea 有<strong class="ky ir"> 7130 </strong>行有值，而大多数特性有 13580 行有值。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="6f3d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，您可以做一些事情来处理缺失值</p><h2 id="1f82" class="ma mb iq bd mc md me dn mf mg mh dp mi lf mj mk ml lj mm mn mo ln mp mq mr ms bi translated">1.去掉相应的数据</h2><pre class="kg kh ki kj gt mt mu mv mw aw mx bi"><span id="5384" class="ma mb iq mu b gy my mz l na nb"><strong class="mu ir">melbourne_data.dropna(subset=["BuildingArea"])</strong></span></pre><p id="2873" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将删除所有缺少值的行。您可以看到现在行数减少了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/ee3dd3f67faa9dff0283bbe853fdab06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aQq1TT9oLPbwUoF_BH-gtg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">墨尔本 _ 数据.描述()</p></figure><h2 id="ea74" class="ma mb iq bd mc md me dn mf mg mh dp mi lf mj mk ml lj mm mn mo ln mp mq mr ms bi translated">2.去掉整个属性。</h2><pre class="kg kh ki kj gt mt mu mv mw aw mx bi"><span id="e24c" class="ma mb iq mu b gy my mz l na nb"><strong class="mu ir">melbourne_data.drop("BuildingArea", axis=1)</strong></span></pre><p id="de0b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将删除整个要素/属性。见下图，<strong class="ky ir">建筑面积</strong>列现已删除。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/e64042e6552f8b2d39708a93c9fe4906.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XNwr6VfUXnkB7G1-6tghgQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">墨尔本 _ 数据.描述()</p></figure><h2 id="3656" class="ma mb iq bd mc md me dn mf mg mh dp mi lf mj mk ml lj mm mn mo ln mp mq mr ms bi translated">3.将缺少的值设置为某个值</h2><blockquote class="ne nf ng"><p id="7a66" class="kw kx nh ky b kz la jr lb lc ld ju le ni lg lh li nj lk ll lm nk lo lp lq lr ij bi translated"><strong class="ky ir">接近 A </strong></p></blockquote><p id="7315" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您认为该属性足够重要，并且必须包含在培训中。您可以填充缺少的值。</p><blockquote class="nl"><p id="4c92" class="nm nn iq bd no np nq nr ns nt nu lr dk translated"><strong class="ak">用什么填充缺失的值？？？</strong></p></blockquote><p id="1890" class="pw-post-body-paragraph kw kx iq ky b kz nv jr lb lc nw ju le lf nx lh li lj ny ll lm ln nz lp lq lr ij bi translated">你可以用中间值、平均值或零来代替缺失值。</p><pre class="kg kh ki kj gt mt mu mv mw aw mx bi"><span id="88ee" class="ma mb iq mu b gy my mz l na nb"><strong class="mu ir">median = melbourne_data["BuildingArea"].median()<br/>melbourne_data["BuildingArea"].fillna(median, inplace=True)</strong></span></pre><p id="d894" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将用计算出的中值替换所有缺失的值。此外，现在您会注意到一件事，即当我们填充了缺少的值时，属性的平均值发生了变化。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/220f4183f255d77231c0c51d05d55e16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eQ1BqYZAPzLTSL-KHmvNBg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">墨尔本 _ 数据.描述()</p></figure><p id="ac27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于<strong class="ky ir">“year build”</strong>属性，您也可以遵循类似的过程。您将不得不保存中间值，因为稍后需要它来填充测试集和新数据中缺失的值(哦，是的，我没有想到)。</p><blockquote class="ne nf ng"><p id="6eb0" class="kw kx nh ky b kz la jr lb lc ld ju le ni lg lh li nj lk ll lm nk lo lp lq lr ij bi translated"><strong class="ky ir">方法 B: </strong>引入<strong class="ky ir">估算器</strong></p></blockquote><p id="0f82" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">SciKit-Learn 提供了 Imputer 类来轻松使用上述任务。您可以按以下方式使用它:</p><p id="924a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，你需要决定策略，它可以是这些策略之一:<strong class="ky ir">均值、中值、最频繁</strong></p><p id="95d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">其次，使用决定的策略创建估算器实例</p><pre class="kg kh ki kj gt mt mu mv mw aw mx bi"><span id="7c95" class="ma mb iq mu b gy my mz l na nb"># 1. Remove categorial <br/>melbourne_data = melbourne_data.select_dtypes(exclude=   <br/>                 [<strong class="mu ir">"object"</strong>]).copy()</span><span id="dad9" class="ma mb iq mu b gy ob mz l na nb"># 2. Fit the numerical data to Imputer<br/><strong class="mu ir">from </strong>sklearn.impute <strong class="mu ir">import </strong>SimpleImputer<br/>imputer = SimpleImputer(strategy=<strong class="mu ir">"median"</strong>)<br/>imputer.fit(melbourne_data)</span><span id="7212" class="ma mb iq mu b gy ob mz l na nb"># 3.<br/>X = imputer.transform(melbourne_data)<br/>melbourne_data_tr = pd.DataFrame(X, columns=melbourne_data.columns, <br/>                    index=melbourne_data.index)</span></pre><p id="40b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，这将计算所有属性的中值，并用各自的平均值填充属性的缺失值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/220f4183f255d77231c0c51d05d55e16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eQ1BqYZAPzLTSL-KHmvNBg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">melbourne_data_tr.describe()</p></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="659a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意:</strong>不关注类别值，因为它们不在本教程的范围内。</p><h2 id="bf21" class="ma mb iq bd mc md me dn mf mg mh dp mi lf mj mk ml lj mm mn mo ln mp mq mr ms bi translated">Github 上的代码</h2><p id="cbd5" class="pw-post-body-paragraph kw kx iq ky b kz oc jr lb lc od ju le lf oe lh li lj of ll lm ln og lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/akashp1712/ml-akash/blob/master/Articles/imputer/imputer.py" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> Python 代码</strong> </a> <strong class="ky ir"> : </strong>全文<strong class="ky ir"> python 代码</strong>用三种方式全部解释。</p><p id="d5c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/akashp1712/ml-akash/blob/master/Articles/imputer/imputer_streamlit.py" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">细流码</strong> </a> <strong class="ky ir"> : </strong>哦..你也喜欢细流。在此找到<strong class="ky ir"> streamlit 代码</strong>。</p><p id="f50c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/akashp1712/ml-akash/blob/master/Articles/imputer/melb_data.csv" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">数据</strong> </a> <strong class="ky ir"> : </strong>二手墨尔本房价数据。</p></div></div>    
</body>
</html>