<html>
<head>
<title>Advanced Time Series Analysis with ARMA and ARIMA</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 ARMA 和 ARIMA 进行高级时间序列分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/advanced-time-series-analysis-with-arma-and-arima-a7d9b589ed6d?source=collection_archive---------1-----------------------#2020-06-24">https://towardsdatascience.com/advanced-time-series-analysis-with-arma-and-arima-a7d9b589ed6d?source=collection_archive---------1-----------------------#2020-06-24</a></blockquote><div><div class="fc ij ik il im in"/><div class="io ip iq ir is"><div class=""/><div class=""><h2 id="59ff" class="pw-subtitle-paragraph js iu iv bd b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj dk translated">理解并在 Python 中实现时间序列预测的 ARMA 和 ARIMA 模型</h2></div><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi kk"><img src="../Images/32b2e8d83c18aa8d3b0a339b325905d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zXQukaMAW2wZACgt"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">由<a class="ae la" href="https://unsplash.com/@loic?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Djim Loic </a>在<a class="ae la" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="85c5" class="lb lc iv bd ld le lf lg lh li lj lk ll kb lm kc ln ke lo kf lp kh lq ki lr ls bi translated">介绍</h1><p id="d96a" class="pw-post-body-paragraph lt lu iv lv b lw lx jw ly lz ma jz mb mc md me mf mg mh mi mj mk ml mm mn mo io bi translated">在之前的文章中，我们介绍了<a class="ae la" rel="noopener" target="_blank" href="/how-to-model-time-series-in-python-9983ebbf82cf">移动平均过程 MA(q) </a>和<a class="ae la" rel="noopener" target="_blank" href="/time-series-forecasting-with-autoregressive-processes-ba629717401">自回归过程 AR(p) </a>作为时间序列建模的两种方法。现在，我们将结合这两种方法，探索 ARMA(p，q)和 ARIMA(p，d，q)模型如何帮助我们对更复杂的时间序列进行建模和预测。</p><p id="b9a9" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">本文将涵盖以下主题:</p><ul class=""><li id="e8f4" class="mu mv iv lv b lw mp lz mq mc mw mg mx mk my mo mz na nb nc bi translated">ARMA 模型</li><li id="d730" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo mz na nb nc bi translated">ARIMA 模型</li><li id="2825" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo mz na nb nc bi translated">永盒试验</li><li id="7beb" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo mz na nb nc bi translated">赤池信息标准(AIC)</li></ul><p id="1a28" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">到本文结束时，您应该能够熟练地用 Python 实现 ARMA 和 ARIMA 模型，并且您将有一个时间序列建模步骤的清单。</p><p id="3e9b" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">笔记本和数据集在这里是<a class="ae la" href="https://github.com/marcopeix/time-series-analysis" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="ba5f" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">我们开始吧！</p><blockquote class="ni"><p id="0e02" class="nj nk iv bd nl nm nn no np nq nr mo dk translated">通过 Python 中的应用时间序列分析<a class="ae la" href="https://www.datasciencewithmarco.com/offers/tdU2mtVK" rel="noopener ugc nofollow" target="_blank">学习最新的时间序列分析技术。课程涵盖统计和深度学习模型，你将使用 Python 和 TensorFlow！</a></p></blockquote><h1 id="69bf" class="lb lc iv bd ld le lf lg lh li lj lk ll kb ns kc ln ke nt kf lp kh nu ki lr ls bi translated">ARMA 模型</h1><p id="b2cf" class="pw-post-body-paragraph lt lu iv lv b lw lx jw ly lz ma jz mb mc md me mf mg mh mi mj mk ml mm mn mo io bi translated">回想一下，阶为<em class="nv"> p </em>的自回归过程定义为:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi nw"><img src="../Images/3ba2c5c1ded0bad4bea94d101ccff970.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*F6AsV_uxS2E7jQgm.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">p 阶自回归过程</p></figure><p id="3d87" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">其中:</p><ul class=""><li id="f233" class="mu mv iv lv b lw mp lz mq mc mw mg mx mk my mo mz na nb nc bi translated"><em class="nv"> p </em>是命令</li><li id="acf2" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo mz na nb nc bi translated"><em class="nv"> c </em>是常数</li><li id="dac6" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo mz na nb nc bi translated"><em class="nv">ε</em>:噪音</li></ul><p id="bd9b" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">还记得移动平均过程<em class="nv"> q </em>被定义为:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi nx"><img src="../Images/40ac2f3f116287feab8daf8c565f7512.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TQYxCvd01GBtbmUkM0pXEg.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">q 阶移动平均过程</p></figure><p id="5b84" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">其中:</p><ul class=""><li id="444c" class="mu mv iv lv b lw mp lz mq mc mw mg mx mk my mo mz na nb nc bi translated"><em class="nv">问</em>是命令</li><li id="6d00" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo mz na nb nc bi translated"><em class="nv"> c </em>是常数</li><li id="0ae9" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo mz na nb nc bi translated"><em class="nv">ε</em>是噪音</li></ul><p id="2bb2" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">那么，ARMA(p，q)就是将两个模型组合成一个方程:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi ny"><img src="../Images/f3302b0c4e6358262a0bc4b0f507fbff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zNYm0M9qNLXte6ZLE171zg.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">(p，q)阶 ARMA 过程</p></figure><p id="a97f" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">因此，该模型可以解释随机噪声(移动平均部分)和前一步(自回归部分)的时间序列之间的关系。</p><p id="a40d" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">让我们通过一些模拟来看看 ARMA(p，q)过程是如何表现的。</p><h2 id="fbd3" class="nz lc iv bd ld oa ob dn lh oc od dp ll mc oe of ln mg og oh lp mk oi oj lr ok bi translated">模拟和 ARMA(1，1)过程</h2><p id="afe1" class="pw-post-body-paragraph lt lu iv lv b lw lx jw ly lz ma jz mb mc md me mf mg mh mi mj mk ml mm mn mo io bi translated">让我们从一个简单的例子开始，一阶 ARMA 过程的移动平均和自回归部分。</p><p id="e6c5" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">首先，让我们导入本教程中需要的所有库:</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="816f" class="nz lc iv om b gy oq or l os ot">from statsmodels.graphics.tsaplots import plot_pacf<br/>from statsmodels.graphics.tsaplots import plot_acf<br/>from statsmodels.tsa.arima_process import ArmaProcess<br/>from statsmodels.stats.diagnostic import acorr_ljungbox<br/>from statsmodels.tsa.statespace.sarimax import SARIMAX<br/>from statsmodels.tsa.stattools import adfuller<br/>from statsmodels.tsa.stattools import pacf<br/>from statsmodels.tsa.stattools import acf<br/>from tqdm import tqdm_notebook<br/>import matplotlib.pyplot as plt<br/>import numpy as np<br/>import pandas as pd</span><span id="c0fa" class="nz lc iv om b gy ou or l os ot">import warnings<br/>warnings.filterwarnings('ignore')</span><span id="3087" class="nz lc iv om b gy ou or l os ot">%matplotlib inline</span></pre><p id="bf37" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">然后，我们将模拟以下 ARMA 过程:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi ov"><img src="../Images/4be0aef5c9a8afb37134305c97a39291.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jc8-MlJ62Ytw_9lOtjdhpw.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">ARMA (1，1)过程</p></figure><p id="762a" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">在代码中:</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="ab05" class="nz lc iv om b gy oq or l os ot">ar1 = np.array([1, 0.33])<br/>ma1 = np.array([1, 0.9])</span><span id="15cf" class="nz lc iv om b gy ou or l os ot">simulated_ARMA_data = ArmaProcess(ar1, ma1).generate_sample(nsample=10000)</span></pre><p id="8043" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">我们现在可以绘制前 200 个点，以可视化我们生成的时间序列:</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="9729" class="nz lc iv om b gy oq or l os ot">plt.figure(figsize=[15, 7.5]); # Set dimensions for figure<br/>plt.plot(simulated_ARMA_data)<br/>plt.title("Simulated ARMA(1,1) Process")<br/>plt.xlim([0, 200])<br/>plt.show()</span></pre><p id="8db0" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">您应该得到类似于以下内容的内容:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi ow"><img src="../Images/8244d18a39712ff1189901acabd7891a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QzGoQPU0Fh7n_GXe8nNHMQ.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">模拟 ARMA(1，1)过程</p></figure><p id="30e7" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">然后，我们可以看看 ACF 和 PACF 的图:</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="5a6c" class="nz lc iv om b gy oq or l os ot">plot_pacf(simulated_ARMA_data);<br/>plot_acf(simulated_ARMA_data);</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/a939a540643697fe3fbf47486a702d92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*NDALDCew5_ugKFRICHKucA.png"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">模拟 ARMA(1，1)过程的 PACF anf ACF 图</p></figure><p id="e472" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">正如你所看到的，我们不能通过查看这些图来推断 ARMA 过程的顺序。事实上，仔细观察，我们可以在 ACF 和 PACF 函数中看到一些正弦曲线形状。这表明这两个过程都在起作用。</p><h2 id="069a" class="nz lc iv bd ld oa ob dn lh oc od dp ll mc oe of ln mg og oh lp mk oi oj lr ok bi translated">模拟 ARMA(2，2)过程</h2><p id="b667" class="pw-post-body-paragraph lt lu iv lv b lw lx jw ly lz ma jz mb mc md me mf mg mh mi mj mk ml mm mn mo io bi translated">同样，我们可以模拟一个 ARMA(2，2)过程。在本例中，我们将模拟以下等式:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi nw"><img src="../Images/8cc3d94abbf7b4cf3a3856d50ae68dfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pzsjnMkjfa3c6ls6ySxsHQ.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">ARMA(2，2)过程</p></figure><p id="081f" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">在代码中:</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="25fd" class="nz lc iv om b gy oq or l os ot">ar2 = np.array([1, 0.33, 0.5])<br/>ma2 = np.array([1, 0.9, 0.3])</span><span id="6496" class="nz lc iv om b gy ou or l os ot">simulated_ARMA2_data = ArmaProcess(ar1, ma1).generate_sample(nsample=10000)</span></pre><p id="d6ec" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">然后，我们可以可视化模拟数据:</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="d375" class="nz lc iv om b gy oq or l os ot">plt.figure(figsize=[15, 7.5]); # Set dimensions for figure<br/>plt.plot(simulated_ARMA2_data)<br/>plt.title("Simulated ARMA(2,2) Process")<br/>plt.xlim([0, 200])<br/>plt.show()</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi oy"><img src="../Images/9c36b29b4ce62d3a095e7c954cb32602.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L4OgLmzji8ZcOdHh5B3QwA.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">模拟 ARMA(2，2)过程</p></figure><p id="120b" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">查看 ACF 和 PACF 图:</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="ba3d" class="nz lc iv om b gy oq or l os ot">plot_pacf(simulated_ARMA2_data);<br/>plot_acf(simulated_ARMA2_data);</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/ac2f6bdc94ec7288a5342566ba571b45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*-aLN1QqdMkXfVSH__8tp-w.png"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">ARMA(2，2)过程的 PACF 和 ACF</p></figure><p id="ea13" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">正如你所看到的，两条曲线显示了相同的正弦趋势，这进一步支持了 AR(p)过程和 MA(q)过程都在起作用的事实。</p><h1 id="af78" class="lb lc iv bd ld le lf lg lh li lj lk ll kb lm kc ln ke lo kf lp kh lq ki lr ls bi translated">ARIMA 模型</h1><p id="f3a0" class="pw-post-body-paragraph lt lu iv lv b lw lx jw ly lz ma jz mb mc md me mf mg mh mi mj mk ml mm mn mo io bi translated">ARIMA 代表一个极端的平均水平。</p><p id="02f2" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">这个模型是自回归、移动平均模型和<strong class="lv iw">差分</strong>的组合。在这种情况下，整合是差异的反义词。</p><p id="1217" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">差分对于去除时间序列中的趋势并使其稳定是有用的。</p><p id="18b3" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">它只是从时间<em class="nv"> t </em>中减去点 a <em class="nv"> t-1 </em>。因此，请意识到，如果应用一次差分，您将丢失时间序列中的第一个数据点。</p><p id="01e1" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">数学上，ARIMA(p，d，q)现在需要三个参数:</p><ul class=""><li id="a332" class="mu mv iv lv b lw mp lz mq mc mw mg mx mk my mo mz na nb nc bi translated">p:自回归过程的阶</li><li id="8c67" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo mz na nb nc bi translated">d:差异的程度(差异的次数)</li><li id="a9ad" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo mz na nb nc bi translated">问:移动平均线过程的顺序</li></ul><p id="2012" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">并且方程表示为:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi pa"><img src="../Images/e5f9e06a1898265a029807206a2e06cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j-ttTMDiaIXIuBzrhP0MaA.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">一般 ARIMA 过程</p></figure><p id="5940" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">就像 ARMA 模型一样，ACF 和 PACF 不能用于确定<em class="nv"> p </em>和<em class="nv"> q </em>的可靠值。</p><p id="e4e5" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">然而，在存在 ARIMA(p，d，0)过程的情况下:</p><ul class=""><li id="9039" class="mu mv iv lv b lw mp lz mq mc mw mg mx mk my mo mz na nb nc bi translated">ACF 呈指数衰减或正弦衰减</li><li id="dc7f" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo mz na nb nc bi translated">PACF 在滞后 T21 时有一个显著的峰值，但之后就没有了</li></ul><p id="4348" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">类似地，在存在 ARIMA(0，d，q)过程的情况下:</p><ul class=""><li id="25f3" class="mu mv iv lv b lw mp lz mq mc mw mg mx mk my mo mz na nb nc bi translated">PACF 呈指数衰减或正弦衰减</li><li id="46ef" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo mz na nb nc bi translated">ACF 在滞后<em class="nv">q</em>时有一个显著的尖峰，但在此之后没有</li></ul><p id="c13f" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">让我们看一个 ARIMA 的建模例子，获得一些实践经验，更好地理解一些建模概念。</p><h1 id="0a9b" class="lb lc iv bd ld le lf lg lh li lj lk ll kb lm kc ln ke lo kf lp kh lq ki lr ls bi translated">项目—为强生公司的季度每股收益建模</h1><p id="bb34" class="pw-post-body-paragraph lt lu iv lv b lw lx jw ly lz ma jz mb mc md me mf mg mh mi mj mk ml mm mn mo io bi translated">让我们重温一下之前分析过的数据集。该数据集用于显示 Yule-Walker 方程可以帮助我们估计 AR(p)过程的系数。</p><p id="5eb8" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">现在，我们将使用相同的数据集，但使用 ARIMA(p，d，q)模型对时间序列进行建模。</p><p id="5755" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">你可以拿起<a class="ae la" href="https://github.com/marcopeix/time-series-analysis/tree/master/Advanced%20modelling" rel="noopener ugc nofollow" target="_blank">笔记本</a>或者下载<a class="ae la" href="https://github.com/marcopeix/time-series-analysis/tree/master/data" rel="noopener ugc nofollow" target="_blank">数据集</a>跟随。</p><p id="441d" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">首先，我们导入数据集并显示前五行:</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="65b2" class="nz lc iv om b gy oq or l os ot">data = pd.read_csv('jj.csv')<br/>data.head()</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/e7122c58a71cf974f0d0fb001062f0d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*V9Ayf-em71Ha7bs4nT6GRA.png"/></div></figure><p id="1e8f" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">然后，让我们绘制整个数据集:</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="98b5" class="nz lc iv om b gy oq or l os ot">plt.figure(figsize=[15, 7.5]); # Set dimensions for figure<br/>plt.scatter(data['date'], data['data'])<br/>plt.title('Quarterly EPS for Johnson &amp; Johnson')<br/>plt.ylabel('EPS per share ($)')<br/>plt.xlabel('Date')<br/>plt.xticks(rotation=90)<br/>plt.grid(True)<br/>plt.show()</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi pc"><img src="../Images/56a2c18cda1934bd0ae40b774758e308.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8YA6NZA-do6__x9PKRn7zQ.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">强生公司季度每股收益</p></figure><p id="2d44" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">正如你所看到的，在这个时间序列中既有趋势也有方差的变化。</p><p id="eba8" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">让我们画出 ACF 和 PACF 函数:</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="f186" class="nz lc iv om b gy oq or l os ot">plot_pacf(data['data']);<br/>plot_acf(data['data']);</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/36d5ee02dd129bdf8498f5da0a1b1efc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*AnD8s_nQAFAkcGUgT-Mj7g.png"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">PACF 和 ACF</p></figure><p id="f555" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">如您所见，没有办法确定 AR(p)流程或 MA(q)流程的正确顺序。</p><p id="1094" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">上面的图也清楚地表明了非平稳性。为了进一步证明这一点，让我们使用扩展的 Dicker-Fuller 测试:</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="cc6a" class="nz lc iv om b gy oq or l os ot"># Augmented Dickey-Fuller test</span><span id="60a4" class="nz lc iv om b gy ou or l os ot">ad_fuller_result = adfuller(data['data'])<br/>print(f'ADF Statistic: {ad_fuller_result[0]}')<br/>print(f'p-value: {ad_fuller_result[1]}')</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/98036a5105eddca7ba3693b484be3008.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*xr0Qq2xRPTTX9MpLoWyLWg.png"/></div></figure><p id="1e72" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">这里，p 值大于 0.05，这意味着我们不能拒绝时间序列是非平稳的零假设。</p><p id="50c6" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">因此，我们必须应用一些变换和一些差分来消除趋势和方差的变化。</p><p id="60a0" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">因此我们将取时间序列的对数差。这相当于取每股收益的对数，然后应用一次差分。请注意，因为我们是差分一次，我们将摆脱第一个数据点。</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="d07f" class="nz lc iv om b gy oq or l os ot"># Take the log difference to make data stationary</span><span id="f12e" class="nz lc iv om b gy ou or l os ot">data['data'] = np.log(data['data'])<br/>data['data'] = data['data'].diff()<br/>data = data.drop(data.index[0])<br/>data.head()</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/544e653df47f6bfcffcedd9a3f87cbdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/format:webp/1*hEulZWO7FdqhVdurPmQ3Yg.png"/></div></figure><p id="47af" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">现在，让我们绘制新转换的数据:</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="60c2" class="nz lc iv om b gy oq or l os ot">plt.figure(figsize=[15, 7.5]); # Set dimensions for figure<br/>plt.plot(data['data'])<br/>plt.title("Log Difference of Quarterly EPS for Johnson &amp; Johnson")<br/>plt.show()</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi pg"><img src="../Images/d65661a03a6e56feb724fd3b987858c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rHOCXjjBhJwufRiOc3IYrg.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">强生公司季度每股收益的对数差异</p></figure><p id="560b" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">趋势和方差的变化似乎被去除了，但是我们想确定情况确实如此。因此，我们再次应用扩展的 Dickey-Fuller 检验来检验平稳性。</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="4bd4" class="nz lc iv om b gy oq or l os ot"># Augmented Dickey-Fuller test</span><span id="da2d" class="nz lc iv om b gy ou or l os ot">ad_fuller_result = adfuller(data['data'])<br/>print(f'ADF Statistic: {ad_fuller_result[0]}')<br/>print(f'p-value: {ad_fuller_result[1]}')</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/8d76c0ea7e2e4775935b84b66e8d9bf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*1Q0wGlg2sASZgte84mhS2w.png"/></div></figure><p id="40f2" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">这一次，p 值小于 0.05，我们拒绝零假设，假设时间序列是平稳的。</p><p id="e2b9" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">现在，让我们看看 PACF 和 ACF，看看我们是否可以估计其中一个过程的顺序。</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="fc40" class="nz lc iv om b gy oq or l os ot">plot_pacf(data['data']);<br/>plot_acf(data['data']);</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/99b69f0303659e1185cb5232ff56c8dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*-gUlIYoFxfizRsxbnk3uGQ.png"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">PACF 和 ACF</p></figure><p id="c6ab" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">检查上面的 PACF，似乎有一个 3 阶或 4 阶的 AR 过程在起作用。然而，ACF 不提供信息，我们看到一些正弦曲线形状。</p><p id="aeed" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">因此，我们如何确保为 AR(p)和 MA(q)过程选择正确的顺序呢？</p><p id="fb98" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">我们需要尝试不同的订单组合，用这些订单拟合 ARIMA 模型，并使用订单选择标准。</p><p id="b95f" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">这就把我们带到了<strong class="lv iw"> A </strong>凯克的<strong class="lv iw">I</strong>information<strong class="lv iw">C</strong>riterion 或者<strong class="lv iw"> AIC </strong>的话题。</p></div><div class="ab cl pj pk hz pl" role="separator"><span class="pm bw bk pn po pp"/><span class="pm bw bk pn po pp"/><span class="pm bw bk pn po"/></div><div class="io ip iq ir is"><h2 id="9dca" class="nz lc iv bd ld oa ob dn lh oc od dp ll mc oe of ln mg og oh lp mk oi oj lr ok bi translated">赤池的信息标准(AIC)</h2><p id="18b6" class="pw-post-body-paragraph lt lu iv lv b lw lx jw ly lz ma jz mb mc md me mf mg mh mi mj mk ml mm mn mo io bi translated">这个标准对于选择 ARIMA 模型的阶(p，d，q)是有用的。AIC 表示为:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/0749a55dea46836b7b0ccd3611c9b562.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*n4MGyp9Mrhw0unW5oplH2w.png"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">AIC 公式</p></figure><p id="9704" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">其中<em class="nv"> L </em>是数据的似然性，<em class="nv"> k </em>是参数的个数。</p><p id="d715" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">在实践中，我们选择与其他模型相比 AIC 最低的模型。</p><p id="04de" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">重要的是要注意，AIC 不能用于选择差分(d)的阶。差异数据将改变数据的可能性(L)。因此，不同阶差分模型的 AIC 是不可比的。</p><p id="2af9" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">此外，请注意，由于我们选择了具有最低 AIC 的模型，更多的参数将增加 AIC 得分，从而惩罚该模型。虽然参数越多的模型性能越好，但 AIC 用于查找参数数量最少但仍能提供良好结果的模型。</p><p id="58f1" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">关于 AIC 的最后一点说明是，它只能相对于其他模型使用。小的 AIC 值并不能保证模型在未加密的数据上有好的表现，也不能保证它的 SSE 很小。</p></div><div class="ab cl pj pk hz pl" role="separator"><span class="pm bw bk pn po pp"/><span class="pm bw bk pn po pp"/><span class="pm bw bk pn po"/></div><div class="io ip iq ir is"><p id="f60e" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">现在我们知道了如何为 ARIMA 模型选择最佳订单，让我们编写一个函数来测试所有订单。</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="9a5c" class="nz lc iv om b gy oq or l os ot">def optimize_ARIMA(order_list, exog):<br/>    """<br/>        Return dataframe with parameters and corresponding AIC<br/>        <br/>        order_list - list with (p, d, q) tuples<br/>        exog - the exogenous variable<br/>    """<br/>    <br/>    results = []<br/>    <br/>    for order in tqdm_notebook(order_list):<br/>        try: <br/>            model = SARIMAX(exog, order=order).fit(disp=-1)<br/>        except:<br/>            continue<br/>            <br/>        aic = model.aic<br/>        results.append([order, model.aic])<br/>        <br/>    result_df = pd.DataFrame(results)<br/>    result_df.columns = ['(p, d, q)', 'AIC']<br/>    #Sort in ascending order, lower AIC is better<br/>    result_df = result_df.sort_values(by='AIC', ascending=True).reset_index(drop=True)<br/>    <br/>    return result_df</span></pre><p id="e82b" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">上面的函数将产生一个数据框架，该框架将列出订单和相应的 AIC，从最上面的最佳型号开始。</p><p id="2954" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">我们将尝试阶数(p，q)范围从 0 到 8 的所有组合，但保持差分阶数等于 1。</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="fecd" class="nz lc iv om b gy oq or l os ot">ps = range(0, 8, 1)<br/>d = 1<br/>qs = range(0, 8, 1)</span><span id="aa52" class="nz lc iv om b gy ou or l os ot"># Create a list with all possible combination of parameters<br/>parameters = product(ps, qs)<br/>parameters_list = list(parameters)</span><span id="35e8" class="nz lc iv om b gy ou or l os ot">order_list = []</span><span id="8abf" class="nz lc iv om b gy ou or l os ot">for each in parameters_list:<br/>    each = list(each)<br/>    each.insert(1, 1)<br/>    each = tuple(each)<br/>    order_list.append(each)<br/>    <br/>result_df = optimize_ARIMA(order_list, exog=data['data'])</span><span id="4356" class="nz lc iv om b gy ou or l os ot">result_df</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/d688c7a75f5c28d2fe92ef5ac95f0ce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*eRD90QgDHnxw05EnCBODEA.png"/></div></figure><p id="a076" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">一旦函数运行完毕，您应该会看到与最低 AIC 相关联的顺序是(3，1，3)。因此，这表明 ARIMA 模型具有 AR(3)过程和 MA(3)过程。</p><p id="aeaa" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">现在，我们可以打印出最佳模型的摘要，即 ARIMA (3，1，3)。</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="f7c0" class="nz lc iv om b gy oq or l os ot">best_model = SARIMAX(data['data'], order=(3,1,3)).fit()<br/>print(best_model.summary())</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi ps"><img src="../Images/c46d3dd4b5234d54e49401b9bce274c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rAWiE17FV870bUW82SfDpw.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">最佳 ARIMA 模式总结</p></figure><p id="6dfc" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">从上面的总结中，我们可以看到所有系数的值及其相关的 p 值。请注意，根据 p 值，滞后 2 时 MA 过程的参数似乎不具有统计显著性。不过，让我们暂时把它保留在模型中。</p><p id="45f6" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">因此，根据上表，时间序列可以建模为:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi pt"><img src="../Images/49eec9f3965777a4519f46c9109c6ceb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MAhXN-DjN72tgRAqgDaYVg.png"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">强生公司四季度每股收益的 ARIMA 模型</p></figure><p id="357d" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">其中<em class="nv">ε</em>是方差为 0.0077 的噪声。</p><p id="9bae" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">时间序列建模的最后一部分是研究残差。</p><p id="9cdb" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">理想情况下，残差将是白噪声，没有自相关。</p><p id="1365" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">测试这一点的一个好方法是使用永盒测试。请注意，该测试只能应用于残差。</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="dd70" class="nz lc iv om b gy oq or l os ot"># Ljung-Box test<br/>ljung_box, p_value = acorr_ljungbox(best_model.resid)</span><span id="a955" class="nz lc iv om b gy ou or l os ot">print(f'Ljung-Box test: {ljung_box[:10]}')<br/>print(f'p-value: {p_value[:10]}')</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi pu"><img src="../Images/3a8c142de8c5a5b8144710083a270021.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ISpScZxfB4ZdXQ3LUGzVxA.png"/></div></div></figure><p id="ebc8" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">这里，永盒检验的零假设是不存在自相关。看上面的 p 值，可以看到都在 0.05 以上。所以不能拒绝零假设，残差确实不相关。</p><p id="88d6" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">我们可以通过绘制残差的 ACF 和 PACF 来进一步证明这一点。</p><pre class="kl km kn ko gt ol om on oo aw op bi"><span id="d4ff" class="nz lc iv om b gy oq or l os ot">plot_pacf(best_model.resid);<br/>plot_acf(best_model.resid);</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/6c5c10c106b05756a54e7dab22a997cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*Zz4aWgh94BgPnop9AW3U9Q.png"/></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">残差的 PACF 和 ACF</p></figure><p id="8bc2" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">正如你所看到的，上面的图类似于白噪声。</p><p id="4f69" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">因此，该模型可用于预测。</p><h1 id="7286" class="lb lc iv bd ld le lf lg lh li lj lk ll kb lm kc ln ke lo kf lp kh lq ki lr ls bi translated">一般建模程序</h1><p id="9d0d" class="pw-post-body-paragraph lt lu iv lv b lw lx jw ly lz ma jz mb mc md me mf mg mh mi mj mk ml mm mn mo io bi translated">无论何时面对时间序列，您都可以遵循以下一般程序:</p><ol class=""><li id="f8a5" class="mu mv iv lv b lw mp lz mq mc mw mg mx mk my mo pw na nb nc bi translated">绘制数据并识别不合理的观察结果。理解数据的模式。</li><li id="adea" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo pw na nb nc bi translated">应用转换或差异来移除趋势并稳定差异</li><li id="ed2a" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo pw na nb nc bi translated">测试平稳性。如果序列不是稳定的，应用另一个变换或差分。</li><li id="ab3a" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo pw na nb nc bi translated">画出 ACF 和 PACF 来估计 MA 或 AR 过程的顺序。</li><li id="918d" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo pw na nb nc bi translated">尝试不同的订单组合，选择 AIC 最低的型号。</li><li id="9f9e" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo pw na nb nc bi translated">检查残差，确保它们看起来像白噪声。应用永盒测试来确定。</li><li id="48d5" class="mu mv iv lv b lw nd lz ne mc nf mg ng mk nh mo pw na nb nc bi translated">计算预测。</li></ol><h1 id="5c78" class="lb lc iv bd ld le lf lg lh li lj lk ll kb lm kc ln ke lo kf lp kh lq ki lr ls bi translated">结论</h1><p id="1b81" class="pw-post-body-paragraph lt lu iv lv b lw lx jw ly lz ma jz mb mc md me mf mg mh mi mj mk ml mm mn mo io bi translated">恭喜你！现在，您已经了解了什么是 ARMA 模型，以及如何使用非季节性 ARIMA 模型进行高级时间序列分析。你也有一个时间序列分析的路线图，你可以应用它来确保获得可能的最佳模型。</p><p id="989e" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">通过以下课程了解有关时间序列分析的更多信息:</p><ul class=""><li id="e3ab" class="mu mv iv lv b lw mp lz mq mc mw mg mx mk my mo mz na nb nc bi translated"><a class="ae la" href="https://www.datasciencewithmarco.com/offers/tdU2mtVK" rel="noopener ugc nofollow" target="_blank">在 Python 中应用时间序列分析</a></li></ul><p id="d549" class="pw-post-body-paragraph lt lu iv lv b lw mp jw ly lz mq jz mb mc mr me mf mg ms mi mj mk mt mm mn mo io bi translated">干杯🍺</p></div></div>    
</body>
</html>