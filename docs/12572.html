<html>
<head>
<title>Pandas!!! What I’ve Learned after my 1st On-site Technical Interview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫！！！第一次现场技术面试后我学到了什么</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pandas-what-ive-learned-after-my-1st-on-site-technical-interview-4fb94dbc1b45?source=collection_archive---------12-----------------------#2020-08-30">https://towardsdatascience.com/pandas-what-ive-learned-after-my-1st-on-site-technical-interview-4fb94dbc1b45?source=collection_archive---------12-----------------------#2020-08-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="bb3c" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">技术面试</h2><div class=""/><div class=""><h2 id="5e1b" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">关于熊猫 str 关键文本清洗技巧的思考</h2></div><h1 id="ae85" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">前言</h1><p id="7951" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">我知道很多人在面试时会紧张。同样，在我的面试中，10 次有 8 次我会坐立不安。这意味着忘记我口袋里的常用技巧，或者错过一些我应该知道的关键知识。最近，我参加了一个商业智能实习职位的现场技术面试，你猜怎么着？全是:熊猫！虽然采访没有我想象的那么顺利，但我想把这次经历转变成对我认为对熊猫至关重要的事情的反思，特别是文本数据处理。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mf"><img src="../Images/a847382672c65e6761391da043e0e63f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RQ5ueEwTPbv1-yaB"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">由<a class="ae mv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae mv" href="https://unsplash.com/@headwayio?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">车头</a>拍摄</p></figure></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="8cb4" class="kr ks it bd kt ku nd kw kx ky ne la lb ki nf kj ld kl ng km lf ko nh kp lh li bi translated">概观</h1><p id="f738" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">本文将介绍<strong class="ll jd">在 Pandas </strong>、<strong class="ll jd">、</strong>中处理文本数据的主要功能。Series.str "。大部分问题设置和我面试时经历的差不多。当你阅读这篇文章时，你将有机会回顾你所学到的东西，如果你期待一次技术面试，你将会收到一个友好的提醒。如果您是熊猫的新手，我希望您可以将本文中展示的技巧添加到您的数据科学工具包中。让我们开始朝着更加结构化的数据前进。</p><div class="ni nj gp gr nk nl"><a href="https://medium.com/subscribe/@yunglinchang" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd jd gy z fp nq fr fs nr fu fw jc bi translated">每当张彝伦出版的时候收到一封电子邮件。</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">每当张彝伦出版的时候收到一封电子邮件。或者督促他多发表！！！通过注册，您将创建一个媒体…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz mp nl"/></div></div></a></div><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi oa"><img src="../Images/1f90316ea5802753780f53939cd05ded.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ODvKq-VSoNJxGsOtGYiRCg.jpeg"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">台北动物园的熊猫，来源:我</p></figure><h2 id="31e7" class="ob ks it bd kt oc od dn kx oe of dp lb ls og oh ld lw oi oj lf ma ok ol lh iz bi translated">仅供参考:</h2><ul class=""><li id="a8bb" class="om on it ll b lm ln lp lq ls oo lw op ma oq me or os ot ou bi translated">这篇文章将被分成小的问题集和这些问题之后可能的解决方案(或者我用来解决每个问题的方法)。</li><li id="7add" class="om on it ll b lm ov lp ow ls ox lw oy ma oz me or os ot ou bi translated">这个数据集是<a class="ae mv" href="https://github.com/yunglinchang/DataScience_playground/blob/master/Pandas/data/TheFruit_sales.csv" rel="noopener ugc nofollow" target="_blank">一个虚构的“水果”公司</a>的销售数据，用来说明你在面试、工作或数据项目中可能遇到的挑战。</li></ul><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi pa"><img src="../Images/2e655fa72ac85dfb97ffc29ec3d0f104.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GV4Vt18x5rWY78_NHFhHpg@2x.jpeg"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">“水果”公司的销售数据，来源:我</p></figure><ul class=""><li id="912e" class="om on it ll b lm pb lp pc ls pd lw pe ma pf me or os ot ou bi translated">数据被预加载并保存在<em class="pg"> df </em>中，并且不要忘记:</li></ul><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="7d0b" class="ob ks it pi b gy pm pn l po pp">import pandas as pd</span></pre><p id="f9f9" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">事不宜迟，我们开始吧！</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><blockquote class="pt pu pv"><p id="056a" class="lj lk pg ll b lm pb kd lo lp pc kg lr pw pq lu lv px pr ly lz py ps mc md me im bi translated">首先，面试官给了你一份水果销售部门的数据集。你被要求用你的 Python 技术能力解决每一个专栏中的问题。你发现了什么？</p></blockquote><h1 id="315e" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">Sales_ID:怪异的感叹号和多余的空格</h1><p id="c574" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">如果我们看一下 Sales_ID 列的第一行，您会发现它包含不必要的空格和一个感叹号。这是一个问题，因为在 Sales_ID 列中我们不需要那些多余的字符。</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="fbbf" class="ob ks it pi b gy pm pn l po pp">df[ 'Sales_ID'][0]</span><span id="8b71" class="ob ks it pi b gy pz pn l po pp"><strong class="pi jd">Out: 'AU_1382578        !'</strong></span></pre><p id="2835" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">我们能做的就是利用<a class="ae mv" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.strip.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ll jd">熊猫。</strong>中的</a>法熊猫！<strong class="ll jd"> <em class="pg"> strip() </em> </strong>修剪掉列的前导和尾随字符。还有类似于右条带的<strong class="ll jd"> <em class="pg"> rstrip() </em> </strong>和左条带的<strong class="ll jd"> <em class="pg"> lstrip() </em> </strong>的小变体。</p><p id="0a16" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">当数据两边有不重要的字符和符号时，使用<strong class="ll jd"> <em class="pg"> strip() </em> </strong>非常有用。这里我们先去掉右边的“！”然后去掉两边的空格。</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="e801" class="ob ks it pi b gy pm pn l po pp">df['Sales_ID'] = df['Sales_ID']<strong class="pi jd">.str.rstrip('!').str.strip()</strong></span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi qa"><img src="../Images/9c03db422377842680f55f9a0647a943.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*YxmgaIBEDZHGTmMcvd5utA@2x.jpeg"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">Sales_ID，来源:我</p></figure><blockquote class="pt pu pv"><p id="aa5e" class="lj lk pg ll b lm pb kd lo lp pc kg lr pw pq lu lv px pr ly lz py ps mc md me im bi translated">祝贺您清理了 Sales_ID 列！</p></blockquote></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="68b4" class="kr ks it bd kt ku nd kw kx ky ne la lb ki nf kj ld kl ng km lf ko nh kp lh li bi translated">Sales_Branch:缺失？一点特色工程</h1><p id="fa1a" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">似乎 Sales_Branch 列完全丢失了！面试官让你用 Sales_ID 一栏的提示来搞定。快速检查后，您发现销售是根据 Sales_ID 的前两个单词分配给水果的各个分支的。</p><p id="aff3" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">我们可以用<a class="ae mv" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.slice.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ll jd">熊猫。series . str . slice</strong></a><strong class="ll jd"/>方法对字符串的关键元素进行切片。例如:'<strong class="ll jd">AU _ 1382578</strong>'<strong class="ll jd">in Sales _ ID→【AU】in Sales _ Branch</strong>。</p><p id="f160" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated"><strong class="ll jd"> <em class="pg"> slice() </em> </strong>包含 3 个参数:</p><ul class=""><li id="628e" class="om on it ll b lm pb lp pc ls pd lw pe ma pf me or os ot ou bi translated"><strong class="ll jd">开始:</strong>从哪里开始，默认值为 0</li><li id="7b09" class="om on it ll b lm ov lp ow ls ox lw oy ma oz me or os ot ou bi translated"><strong class="ll jd">停止:</strong>在哪里停止(不含)</li><li id="e5cf" class="om on it ll b lm ov lp ow ls ox lw oy ma oz me or os ot ou bi translated"><strong class="ll jd">步:</strong>多远的一步，默认值为 1</li></ul><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="ff47" class="ob ks it pi b gy pm pn l po pp">df['Sales_Branch'] = df['Sales_ID']<strong class="pi jd">.str.slice(stop=2)</strong></span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi qb"><img src="../Images/f899645de7595ae1fb2f469fe4d0dd9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*N_Gt2h_mEU0FCJi1zTkHGw@2x.jpeg"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">销售 _ 分公司，来源:我</p></figure><blockquote class="pt pu pv"><p id="52e2" class="lj lk pg ll b lm pb kd lo lp pc kg lr pw pq lu lv px pr ly lz py ps mc md me im bi translated">祝贺 Sales_Branch 专栏的特色工程！</p></blockquote></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="1646" class="kr ks it bd kt ku nd kw kx ky ne la lb ki nf kj ld kl ng km lf ko nh kp lh li bi translated">Product_Description:包含销售产品的详细描述</h1><p id="6e27" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">大概在大多数场合，公司的系统都会产生一个长句子的交易日志。但是这些句子包含了你的面试官想要的有价值的信息。</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="f13e" class="ob ks it pi b gy pm pn l po pp">df['Product_Description'][0]</span><span id="f2a6" class="ob ks it pi b gy pz pn l po pp"><strong class="pi jd">Out: 'The Fruit, a company that sells fruits from all over the world, has branches in Australia, the United Kingdom, the United States, and Taiwan. Product: Apple Mango Banana Watermelon Orange Blueberry Banana Watermelon Kiwifruit'</strong></span></pre><p id="581d" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">我们可以看到，虽然所有的第一句都是相同的，但我们可以将其分为两列:描述和产品。这就是<a class="ae mv" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.split.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ll jd">熊猫。</strong> </a> <strong class="ll jd"> </strong>方法进场。</p><p id="3bce" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated"><strong class="ll jd"> <em class="pg"> split() </em> </strong>包含 3 个参数:</p><ul class=""><li id="9788" class="om on it ll b lm pb lp pc ls pd lw pe ma pf me or os ot ou bi translated"><strong class="ll jd"> pat: </strong>默认情况下，使用空白分割什么</li><li id="83e6" class="om on it ll b lm ov lp ow ls ox lw oy ma oz me or os ot ou bi translated">用户可以指定他们想要多少分割</li><li id="90f9" class="om on it ll b lm ov lp ow ls ox lw oy ma oz me or os ot ou bi translated"><strong class="ll jd">展开:</strong>当 expand=True 时，拆分被放入单独的列中</li></ul><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="53c8" class="ob ks it pi b gy pm pn l po pp">df['Product_Description']<strong class="pi jd">.str.split(' Product: ', expand=True)</strong></span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi qc"><img src="../Images/a55f2b41ec7bf9b4d4ab0d567b545f49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w9Rhl2k9dlWKgh64e1p42g@2x.jpeg"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">来源:我</p></figure><p id="3e34" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">我们可以通过两种方式将 0 和 1 分配给描述和产品:</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="129a" class="ob ks it pi b gy pm pn l po pp">df['Description'] = df['Product_Description'].str.split(' Product: ', expand=True)[0]<br/>df['Product'] = df['Product_Description'].str.split(' Product: ', expand=True)[1]</span></pre><p id="89a1" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">或者</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="38d9" class="ob ks it pi b gy pm pn l po pp">df[['Description', 'Product']] = df['Product_Description'].str.split(': ', expand=True)</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi qd"><img src="../Images/e1bceffd87616a6e5b893a70a7437143.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QSgKxbbEU-S9MWjB"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">由<a class="ae mv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae mv" href="https://unsplash.com/@kstock?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Karoline Stk </a>拍摄的照片</p></figure><p id="4a32" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">现在，面试官变得挑剔了，增加了一个额外的要求:对产品列中的产品列表进行排序。</p><p id="9351" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">没必要感到焦虑！这可以通过首先用 split()拆分 Product 列中的值，然后在 Python 中应用<a class="ae mv" href="https://docs.python.org/3/howto/sorting.html" rel="noopener ugc nofollow" target="_blank">排序的</a>函数来实现。</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="36f7" class="ob ks it pi b gy pm pn l po pp">df['Product'] = df['Product']<strong class="pi jd">.str.split().apply(sorted)</strong></span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi qe"><img src="../Images/e0d373361d696e6191997f20e561d26b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KVWy90gNI9F-JtODPZq-pg@2x.jpeg"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">描述和产品，来源:我</p></figure><blockquote class="pt pu pv"><p id="2132" class="lj lk pg ll b lm pb kd lo lp pc kg lr pw pq lu lv px pr ly lz py ps mc md me im bi translated">祝贺您从 Product_Description 专栏中获得了信息！</p></blockquote></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="a6cc" class="kr ks it bd kt ku nd kw kx ky ne la lb ki nf kj ld kl ng km lf ko nh kp lh li bi translated">Product_Count:每个销售人员的水果数量</h1><p id="a8a8" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">采访者想了解他们的销售人员正在销售的各种水果。很高兴知道还可以用<a class="ae mv" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.len.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ll jd">熊猫。series . str . len</strong></a><strong class="ll jd"/>方法获取产品列中列表的长度。</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="e3b5" class="ob ks it pi b gy pm pn l po pp">df['Product_Count'] = df['Product']<strong class="pi jd">.str.len()</strong></span></pre><p id="f778" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">让我们来看看谁卖的水果品种最多！</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="cc1e" class="ob ks it pi b gy pm pn l po pp">df[df['Product_Count'] == max(df['Product_Count'])]</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi qf"><img src="../Images/72e6423d909e2a2a0ce1e644819f89f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1jzDhoNfTZTzyLTF_KAW3A@2x.jpeg"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">来源:我</p></figure><p id="bb59" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">卖 10 种不同水果的澳大利亚代表似乎是赢家！</p><blockquote class="pt pu pv"><p id="ae38" class="lj lk pg ll b lm pb kd lo lp pc kg lr pw pq lu lv px pr ly lz py ps mc md me im bi translated">恭喜你在产品计数栏中计算出了各种水果！</p></blockquote></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="0a63" class="kr ks it bd kt ku nd kw kx ky ne la lb ki nf kj ld kl ng km lf ko nh kp lh li bi translated">产品:不仅仅是产品列表</h1><p id="d301" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">因此，在从 Product_Description 中获取产品之后，您面临着另一个挑战！面试官问你是否可以用两种方式拆分产品栏:</p><ol class=""><li id="4824" class="om on it ll b lm pb lp pc ls pd lw pe ma pf me qg os ot ou bi translated">将列拆分为产品 1、产品 2、…</li><li id="219c" class="om on it ll b lm ov lp ow ls ox lw oy ma oz me qg os ot ou bi translated">对每个产品进行一次性编码</li></ol><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi qh"><img src="../Images/94a8bec17996cccb547bd8624d4d06c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*evuotE-2o3J_02eT"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">汤姆·格伦鲍尔在<a class="ae mv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h2 id="56f3" class="ob ks it bd kt oc od dn kx oe of dp lb ls og oh ld lw oi oj lf ma ok ol lh iz bi translated">1.将此列拆分为产品 n</h2><p id="cc3b" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">利用<a class="ae mv" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ll jd"> pd，我们可以轻松应对这一挑战。</strong> </a>系列，我们可以把它的产品列表变成<strong class="ll jd">pandas . core . frame . data frame</strong>。</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="a647" class="ob ks it pi b gy pm pn l po pp">Products = df['Product']<strong class="pi jd">.apply(pd.Series)<br/></strong>Products</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi qi"><img src="../Images/4ef3e6747238aa8bf362a5c0152044bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lhuHyGANXP78cmOzSMR_yQ@2x.jpeg"/></div></div></figure><p id="fbac" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">然后，我们通过重命名列名来完成我们的工作！</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="89d3" class="ob ks it pi b gy pm pn l po pp">Products = Products.rename(columns=lambda x: 'Product_'+str(x))<br/>Products</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi qj"><img src="../Images/d0310c8f89332e5ddd83668b2bfcb706.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vedz37A7Up6RguZ_3YXmug@2x.jpeg"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">10 行× 9 列，来源:我</p></figure><h2 id="3822" class="ob ks it bd kt oc od dn kx oe of dp lb ls og oh ld lw oi oj lf ma ok ol lh iz bi translated">2.对每个产品进行一次性编码</h2><p id="b952" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">熊猫中的一键编码称为<a class="ae mv" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.get_dummies.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ll jd">熊猫。Series.str.get_dummies </strong></a></p><p id="5288" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated"><strong class="ll jd"><em class="pg">get _ dummies()</em></strong><em class="pg"/>只有 1 个参数:</p><ul class=""><li id="7006" class="om on it ll b lm pb lp pc ls pd lw pe ma pf me or os ot ou bi translated"><strong class="ll jd"> sep: </strong>要拆分的内容，默认值为' | '</li></ul><p id="73bd" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">我们使用拆分后的原始形式，因为我们可以使用空格来分隔它们。(填充自由以尝试使用带有循环的列表形式！)</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="d354" class="ob ks it pi b gy pm pn l po pp">df['Product_Description'].str.split(': ', expand=True)[1]</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi qk"><img src="../Images/55195915b2e41d1e64ca52e4f1d90a1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VqjwI0UZK7pk0Y925myKIA@2x.jpeg"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">由空格分隔的产品，来源:Me</p></figure><p id="3906" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">通过应用<strong class="ll jd"><em class="pg">get _ dummies()</em></strong>，我们从操作中得到每个水果的 10 行× 27 列(那是巨大的！).</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="e71c" class="ob ks it pi b gy pm pn l po pp">Products2 = df['Product_Description'].str.split(': ', expand=True)[1]<strong class="pi jd">.str.get_dummies(' ')</strong><br/>Products2</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi ql"><img src="../Images/a44e2202d1fa94dfb3828c872260ba53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zEtcI_YX-g8gxA3l30P8Hg@2x.jpeg"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">10 行× 27 列，来源:我</p></figure><p id="1914" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">在满足了这两个要求后，面试官最终决定选择选项 1 作为最终版本。我们可以将产品(选项 1)与原始数据框<em class="pg"> df </em>合并，得到 10 行× 17 列的形状。</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="d485" class="ob ks it pi b gy pm pn l po pp">df = <strong class="pi jd">pd.concat([df, Products], axis=1)</strong></span></pre><h2 id="06df" class="ob ks it bd kt oc od dn kx oe of dp lb ls og oh ld lw oi oj lf ma ok ol lh iz bi translated">仅供参考:</h2><p id="4d1c" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">scikit-learn 库也提供了一个具有相同功能的“<a class="ae mv" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MultiLabelBinarizer.html" rel="noopener ugc nofollow" target="_blank"><strong class="ll jd">multilabel binary izer</strong></a>，不过那是后话了。</p><blockquote class="pt pu pv"><p id="bf51" class="lj lk pg ll b lm pb kd lo lp pc kg lr pw pq lu lv px pr ly lz py ps mc md me im bi translated">恭喜你将每种水果从产品栏中分离出来！</p></blockquote></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="f3fb" class="kr ks it bd kt ku nd kw kx ky ne la lb ki nf kj ld kl ng km lf ko nh kp lh li bi translated">最近销售日期:年-月-日</h1><p id="8ebe" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">我们几乎完成了我们的采访，最后一个任务是数据时间的职责。面试官要求您将“最近销售日期”列转换为“年-月-日”格式。这是为了进一步防止将来选择具有不同输出时间的日期的操作。</p><p id="1813" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">首先，我们裁剪出我们想要的日期，这可以通过两种方式实现:</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="bd10" class="ob ks it pi b gy pm pn l po pp">Dates = df['Recent_Sales_Date']<strong class="pi jd">.str[:10]</strong></span></pre><p id="b5e0" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">或者</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="942a" class="ob ks it pi b gy pm pn l po pp">Dates = df['Recent_Sales_Date']<strong class="pi jd">.str.slice(stop=10)</strong></span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi qm"><img src="../Images/7251a609cabd716e735e7ffbb06ffda1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4CRcFPfwkrE8_0gy"/></div></div><p class="mr ms gj gh gi mt mu bd b be z dk translated"><a class="ae mv" href="https://unsplash.com/@millesanders?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Mille Sanders </a>在<a class="ae mv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="c4c2" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">第二，简单的把它包在<strong class="ll jd"><em class="pg">PD . to _ datetime()</em></strong>里面。</p><pre class="mg mh mi mj gt ph pi pj pk aw pl bi"><span id="9ec3" class="ob ks it pi b gy pm pn l po pp">df['Recent_Sales_Date'] = <strong class="pi jd">pd.to_datetime(Dates)</strong></span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi qn"><img src="../Images/a618c08a2fa0cc73cea23c9dd1c9bd08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*3aLbWyTOK7zb1gl1Se1X_A@2x.jpeg"/></div><p class="mr ms gj gh gi mt mu bd b be z dk translated">最近 _ 销售 _ 日期，来源:我</p></figure><blockquote class="pt pu pv"><p id="685e" class="lj lk pg ll b lm pb kd lo lp pc kg lr pw pq lu lv px pr ly lz py ps mc md me im bi translated">恭喜您重新格式化了最近销售日期列中的日期时间！</p></blockquote></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="b980" class="kr ks it bd kt ku nd kw kx ky ne la lb ki nf kj ld kl ng km lf ko nh kp lh li bi translated">收场白</h1><p id="0f15" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">面试过程正式结束！恭喜你。我希望这篇文章能给你提供我第一次技术面试的经历。虽然这次我做得不好，但这也不会是最后一次！现在，我们对熊猫的文本数据操作更有信心了。感谢大家的参与！</p><p id="32c7" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">简单回顾一下，<strong class="ll jd"> <em class="pg"> strip() </em> </strong>，<strong class="ll jd"> <em class="pg"> slice() </em> </strong>，<strong class="ll jd"> <em class="pg"> split() </em> </strong>方法都是处理文本数据时的有用工具:您可以选择剥离两边不相关的部分，切片可以使用的必要部分，并根据拆分标准划分数据。</p><blockquote class="pt pu pv"><p id="c0e6" class="lj lk pg ll b lm pb kd lo lp pc kg lr pw pq lu lv px pr ly lz py ps mc md me im bi translated">这里是文章中所有代码的 Github repo<a class="ae mv" href="https://github.com/yunglinchang/DataScience_playground" rel="noopener ugc nofollow" target="_blank">！</a></p></blockquote><div class="ni nj gp gr nk nl"><a href="https://medium.com/subscribe/@yunglinchang" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd jd gy z fp nq fr fs nr fu fw jc bi translated">每当张彝伦出版的时候收到一封电子邮件。</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">每当张彝伦出版的时候收到一封电子邮件。或者督促他多发表！！！通过注册，您将创建一个媒体…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz mp nl"/></div></div></a></div><p id="4775" class="pw-post-body-paragraph lj lk it ll b lm pb kd lo lp pc kg lr ls pq lu lv lw pr ly lz ma ps mc md me im bi translated">我喜欢学习数据，并思考(写下)我在实际应用中所学到的东西。如果你有更多需要讨论的，你可以通过 LinkedIn 和 Twitter 联系我。此外，请随时关注我的 Medium，以获取更多数据科学文章！</p><blockquote class="qo"><p id="e771" class="qp qq it bd qr qs qt qu qv qw qx me dk translated">来数据科学游乐场一起玩吧！</p></blockquote></div></div>    
</body>
</html>