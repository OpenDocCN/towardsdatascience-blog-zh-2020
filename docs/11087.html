<html>
<head>
<title>You are telling people that you are a Python beginner if you ask this question.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如果你问这个问题，你是在告诉别人你是一个 Python 初学者。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/you-are-telling-people-that-you-are-a-python-beginner-if-you-ask-this-question-fe35514ca091?source=collection_archive---------1-----------------------#2020-08-02">https://towardsdatascience.com/you-are-telling-people-that-you-are-a-python-beginner-if-you-ask-this-question-fe35514ca091?source=collection_archive---------1-----------------------#2020-08-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="51cb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">几天前我在 Reddit 上浏览“learnpython”的 sub 时，看到一个 Redditor 又问了这个问题。虽然网上有太多关于这个问题的回答和解释，但是很多初学者还是不了解，犯错误。这是一个问题</p><blockquote class="ko kp kq"><p id="644e" class="jq jr kr js b jt ju jv jw jx jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kn im bi translated"><strong class="js iu">“= =”和“是”有什么区别？</strong></p></blockquote><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi kv"><img src="../Images/29ab50dbb846e8007cd2038a1169b891.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r672wDdQBsbPK6h5jCnUeg.jpeg"/></div></div><p class="lh li gj gh gi lj lk bd b be z dk translated">由<a class="ae ll" href="https://unsplash.com/@rohitfarmer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Rohit 农民</a>在<a class="ae ll" href="https://unsplash.com/s/photos/question?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><p id="592b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">“==”和“is”都是 Python 中的操作符(<a class="ae ll" href="https://docs.python.org/3/library/operator.html" rel="noopener ugc nofollow" target="_blank">链接到 Python 中的操作符页面</a>)。对于初学者来说，他们可能会把“a == b”解释为“a 等于 b”，“a 是 b”解释为，嗯，“a 是 b”。大概这就是新手在 Python 中混淆“==”和“是”的原因吧。</p><p id="b9f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我想在深入讨论之前先展示一些使用“==”和“是”的例子。</p><pre class="kw kx ky kz gt lt lu lv lw aw lx bi"><span id="977e" class="ly lz it lu b gy ma mb l mc md">&gt;&gt;&gt; a = 5<br/>&gt;&gt;&gt; b = 5<br/>&gt;&gt;&gt; a == b<br/>True<br/>&gt;&gt;&gt; a is b<br/>True</span></pre><p id="d11b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">简单吧？<code class="fe me mf mg lu b">a == b</code>和<code class="fe me mf mg lu b">a is b</code>都返回<code class="fe me mf mg lu b">True</code>。然后再看下一个例子。</p><pre class="kw kx ky kz gt lt lu lv lw aw lx bi"><span id="2675" class="ly lz it lu b gy ma mb l mc md">&gt;&gt;&gt; a = 1000<br/>&gt;&gt;&gt; b = 1000<br/>&gt;&gt;&gt; a == b<br/>True<br/>&gt;&gt;&gt; a is b<br/>False</span></pre><p id="ebf5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">WTF？！？从第一个例子到第二个例子的唯一变化是 a 和 b 的值从 5 到 1000。但是“==”和“是”之间的结果已经不同了。去下一个。</p><pre class="kw kx ky kz gt lt lu lv lw aw lx bi"><span id="d987" class="ly lz it lu b gy ma mb l mc md">&gt;&gt;&gt; a = []<br/>&gt;&gt;&gt; b = []<br/>&gt;&gt;&gt; a == b<br/>True<br/>&gt;&gt;&gt; a is b<br/>False</span></pre><p id="1915" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里是最后一个例子，如果你仍然没有被击垮的话。</p><pre class="kw kx ky kz gt lt lu lv lw aw lx bi"><span id="987c" class="ly lz it lu b gy ma mb l mc md">&gt;&gt;&gt; a = 1000<br/>&gt;&gt;&gt; b = 1000<br/>&gt;&gt;&gt; a == b<br/>True<br/>&gt;&gt;&gt; a is b<br/>False<br/>&gt;&gt;&gt; a = b <br/>&gt;&gt;&gt; a == b<br/>True<br/>&gt;&gt;&gt; a is b<br/>True</span></pre></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><p id="b5b7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">“==”的官方运算是相等，而“是”的运算是相同。您使用“==”来比较两个对象的值。“a == b”应该解释为“a 的值是否等于 b 的值”。在上面的所有例子中，a 的值总是等于 b 的值(即使对于空列表例子)。因此“a == b”总是正确的。</p><p id="6834" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在解释身份之前，我需要先介绍一下<code class="fe me mf mg lu b">id</code>函数。你可以用<code class="fe me mf mg lu b">id</code>功能得到一个物体的身份。这种身份是唯一的，并且在整个时间内都是不变的。你可以认为这是这个对象的地址。如果两个对象具有相同的标识，它们的值也必须相同。</p><pre class="kw kx ky kz gt lt lu lv lw aw lx bi"><span id="6781" class="ly lz it lu b gy ma mb l mc md">&gt;&gt;&gt; id(a)<br/>2047616</span></pre><p id="31e9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">运算符“是”是比较两个对象的身份是否相同。“a 是 b”是指“a 的身份与 b 的身份相同”。</p></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><p id="53cc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦你知道了“==”和“是”的实际含义，我们就可以开始深入上面的例子了。</p><p id="6e96" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先是第一个和第二个例子的不同结果。显示不同结果的原因是 Python 存储了一个从-5 到 256 的整数数组列表，每个整数都有一个固定的标识。当你在这个范围内给一个整型变量赋值时，Python 会把这个变量的标识赋值为数组列表中整型变量的标识。结果，对于第一个例子，由于 a 和 b 的身份都是从数组列表中获得的，所以它们的身份当然是相同的，因此<code class="fe me mf mg lu b">a is b</code>为真。</p><pre class="kw kx ky kz gt lt lu lv lw aw lx bi"><span id="0543" class="ly lz it lu b gy ma mb l mc md">&gt;&gt;&gt; a = 5<br/>&gt;&gt;&gt; id(a)<br/>1450375152<br/>&gt;&gt;&gt; b = 5<br/>&gt;&gt;&gt; id(b)<br/>1450375152</span></pre><p id="6c57" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是一旦这个变量的值落在这个范围之外，由于 Python 内部没有具有该值的对象，因此 Python 将为这个变量创建一个新的标识，并将该值赋给这个变量。如前所述，每个创造物的身份都是独一无二的，因此即使两个变量的值相同，它们的身份也不会相等。这就是为什么第二个例子中的<code class="fe me mf mg lu b">a is b</code>是假的</p><pre class="kw kx ky kz gt lt lu lv lw aw lx bi"><span id="f6ed" class="ly lz it lu b gy ma mb l mc md">&gt;&gt;&gt; a = 1000<br/>&gt;&gt;&gt; id(a)<br/>12728608<br/>&gt;&gt;&gt; b = 1000<br/>&gt;&gt;&gt; id(b)<br/>13620208</span></pre><p id="24ae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">(额外:如果你打开两个控制台，如果值仍然在范围内，你会得到相同的身份。但是当然，如果该值落在范围之外，情况就不是这样了。)</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/f788163d28c8b4e879b2df7070049667.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*DuTw1lToxlmUwvPj7ZA2Qw.png"/></div></figure></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><p id="c8e9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦你理解了第一个和第二个例子之间的区别，就很容易理解第三个例子的结果。因为 Python 不存储“空列表”对象，所以 Python 创建了一个新对象并赋予值“空列表”。无论两个列表是空的还是有相同的元素，结果都是一样的。</p><pre class="kw kx ky kz gt lt lu lv lw aw lx bi"><span id="b708" class="ly lz it lu b gy ma mb l mc md">&gt;&gt;&gt; a = [1,10,100,1000]<br/>&gt;&gt;&gt; b = [1,10,100,1000]<br/>&gt;&gt;&gt; a == b <br/>True<br/>&gt;&gt;&gt; a is b<br/>False<br/>&gt;&gt;&gt; id(a)<br/>12578024<br/>&gt;&gt;&gt; id(b)<br/>12578056</span></pre></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><p id="0021" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，我们来看最后一个例子。第二个和最后一个例子的唯一区别是多了一行代码<code class="fe me mf mg lu b">a = b</code>。然而这一行代码改变了变量<code class="fe me mf mg lu b">a</code>的命运。下面的结果告诉你为什么。</p><pre class="kw kx ky kz gt lt lu lv lw aw lx bi"><span id="0a10" class="ly lz it lu b gy ma mb l mc md">&gt;&gt;&gt; a = 1000<br/>&gt;&gt;&gt; b = 2000<br/>&gt;&gt;&gt; id(a)<br/>2047616<br/>&gt;&gt;&gt; id(b)<br/>5034992<br/>&gt;&gt;&gt; a = b<br/>&gt;&gt;&gt; id(a)<br/>5034992<br/>&gt;&gt;&gt; id(b)<br/>5034992<br/>&gt;&gt;&gt; a<br/>2000<br/>&gt;&gt;&gt; b<br/>2000</span></pre><p id="7782" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如你所见，<code class="fe me mf mg lu b">a = b</code>之后，<code class="fe me mf mg lu b">a</code>的身份变成了<code class="fe me mf mg lu b">b</code>的身份。<code class="fe me mf mg lu b">a = b</code>将<code class="fe me mf mg lu b">b</code>的身份分配给<code class="fe me mf mg lu b">a</code>。因此<code class="fe me mf mg lu b">a</code>和<code class="fe me mf mg lu b">b</code>具有相同的身份，因此<code class="fe me mf mg lu b">a</code>的值现在与<code class="fe me mf mg lu b">b</code>的值相同，都是 2000。</p><p id="02aa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后一个例子告诉你一个重要的信息，你可能会不经意地改变一个对象的值，特别是当这个对象是一个列表的时候。</p><pre class="kw kx ky kz gt lt lu lv lw aw lx bi"><span id="4e3a" class="ly lz it lu b gy ma mb l mc md">&gt;&gt;&gt; a = [1,2,3]<br/>&gt;&gt;&gt; id(a)<br/>5237992<br/>&gt;&gt;&gt; b = a<br/>&gt;&gt;&gt; id(b)<br/>5237992<br/>&gt;&gt;&gt; a.append(4)<br/>&gt;&gt;&gt; a<br/>[1, 2, 3, 4]<br/>&gt;&gt;&gt; b<br/>[1, 2, 3, 4]</span></pre><p id="e508" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从上面的例子来看，因为<code class="fe me mf mg lu b">a</code>和<code class="fe me mf mg lu b">b</code>都有相同的标识，所以它们的值必须相同。因此在将新元素添加到<code class="fe me mf mg lu b">a</code>之后，<code class="fe me mf mg lu b">b</code>的值也将受到影响。为了防止这种情况，如果您想将值从一个对象复制到另一个对象，而不引用相同的标识，那么一劳永逸的方法是使用模块<code class="fe me mf mg lu b">copy</code> ( <a class="ae ll" href="https://docs.python.org/3/library/copy.html#copy.deepcopy" rel="noopener ugc nofollow" target="_blank">链接到 Python 文档)</a>中的<code class="fe me mf mg lu b">deepcopy</code>。对于列表，也可以通过<code class="fe me mf mg lu b">b = a[:]</code>来执行。</p><pre class="kw kx ky kz gt lt lu lv lw aw lx bi"><span id="af86" class="ly lz it lu b gy ma mb l mc md">&gt;&gt;&gt; import copy<br/>&gt;&gt;&gt; a = [1,2,3]<br/>&gt;&gt;&gt; b= copy.deepcopy(a)<br/>&gt;&gt;&gt; id(a)<br/>39785256<br/>&gt;&gt;&gt; id(b)<br/>5237992</span></pre><p id="e739" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用<code class="fe me mf mg lu b">[:]</code>将元素复制到一个新变量</p><pre class="kw kx ky kz gt lt lu lv lw aw lx bi"><span id="2c9d" class="ly lz it lu b gy ma mb l mc md">&gt;&gt;&gt; a = [1,2,3]<br/>&gt;&gt;&gt; id(a)<br/>39785256<br/>&gt;&gt;&gt; b = a[:]<br/>&gt;&gt;&gt; id(b)<br/>23850216<br/>&gt;&gt;&gt; a.append(4)<br/>&gt;&gt;&gt; a<br/>[1, 2, 3, 4]<br/>&gt;&gt;&gt; b<br/>[1, 2, 3]</span></pre></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><p id="0790" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我希望现在你能明白这两者之间的区别，你不会因为问这个问题而再次成为初学者。</p></div></div>    
</body>
</html>