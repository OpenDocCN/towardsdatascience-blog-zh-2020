<html>
<head>
<title>Setting the Scene for Apache Kafka</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为阿帕奇·卡夫卡设定场景</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/setting-the-scene-for-apache-kafka-f4c051f08ecd?source=collection_archive---------72-----------------------#2020-07-27">https://towardsdatascience.com/setting-the-scene-for-apache-kafka-f4c051f08ecd?source=collection_archive---------72-----------------------#2020-07-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f1fc" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">此高级事件流平台的简介和关键概念解释。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dd96290d42ffbe096c755b1b68a2bf05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W6T0M1161kKmPiXUFjkXXg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="ky">(图片来自</em> Photogenica Sp。授权给 Wojciech Nowak)</p></figure><p id="e82a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">简介</strong></p><p id="c1c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">据说卡夫卡是一个信息系统。许多人认为它是将消息从一个地方移动到另一个地方的消息总线。这当然是真的，但事实上远不止如此。</p><p id="1050" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Kafka 是一个开源的分布式事件流平台，可以处理整个系统中的所有数据和所有事件。这是一个可以构建实时应用程序的平台，它可以通过事件的力量将不同的系统集成在一起。</p><p id="14f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它以容错、持久的方式传输记录，提供背压、集成点，并将源系统与接收系统分离。这些特性与灵活的架构相结合，使 Kafka 成为保证高性能和低延迟的强大工具。</p><p id="44b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Kafka 是基于发布-订阅模式构建的，这种模式使应用程序能够向多个感兴趣的消费者异步发布消息，而无需将发送者与接收者耦合起来。Kafka 是作为一个集群在一个或多个服务器上运行的，这使得满足 Kafka 的创造者给出的保证变得容易。</p><p id="63f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">卡夫卡建筑的这种(某种)正式/普遍的概念可能看起来势不可挡。因此，卡夫卡的核心概念已在下一章介绍。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="b4bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">核心理念</strong></p><p id="f5d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">过去，信息存储在数据库中。这种方法使得开发人员从事物的角度来理解编程(例如，票、卡车、照相机)。每一件事物都有它自己的状态，并存储在数据库中。</p><p id="4d36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最近，一些人提出用事件来理解编程。每个事件都有其状态(就像存储在 DB 中的“事情”)，但也有对发生的事情的描述和“事情”发生的时间指示。</p><p id="54ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将事件存储在数据库中似乎是过去和现在的一个很好的调和，然而这有点不方便。取而代之的是被称为“日志”的结构。一旦事件发生，就写入日志。这意味着日志是事件有序序列。</p><p id="7f63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">日志很容易思考。它们也很容易大规模构建，这在历史上对数据库来说并不完全正确。Apache Kafka 是一个用于管理这些日志的系统(或平台),具有一系列高级功能，其中一部分已经提到过。</p><p id="0021" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在过去，当数据库统治编程世界时，构建一个使用单个数据库的巨大应用程序是非常流行的。出于许多原因，这种方法是合理且常见的。然而，随着时间的推移，这些应用程序的复杂性也在增加。他们变得难以思考，难以理解，最终难以改变。</p><p id="2585" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目前，有一种趋势是编写大量的小程序，每一个程序都小到足以思考、改变和进化。这些程序可以通过面向日志的代理相互通信。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mc"><img src="../Images/4418d3fee1868f273d274c7186a5b296.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QpazsyIfEJdMC1uOI0JS9g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">过去与现在(作者图片)</p></figure><p id="fb0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个服务都可以使用给定日志中的一条消息，执行一些计算或处理一条消息，并将结果生成一个日志(或数据库)。输出可以持久地(甚至永久地)记录在那里，用于系统中的其他应用。</p><p id="0e43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你应该对卡夫卡背后的关键概念有了一个不错的想法。此外，你不仅应该真正理解 kafka 是什么，还应该真正理解 kafka 倾向于提出的构建软件的方法。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="f3a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">消息，话题&amp;分区</strong></p><p id="7e0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您已经知道 kafka 有助于在源系统和接收系统之间移动数据。让我们深入了解阿帕奇卡夫卡的一些要点。</p><p id="eaf2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个单独的数据片段被称为<strong class="lb iu">消息</strong>。当信息被发送时，卡夫卡对其进行索引，并将其放入适当的 T4 主题 T5。</p><p id="4b17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">主题是特定的数据流(你可以把它们想象成 RDBMS 中的一个表，但是没有关系和约束)。每个主题由其名称标识，并被分成<strong class="lb iu">个分区</strong>。每个分区都有标识号。这些数字从 0 开始，一直到 n-1，其中 n 是给定主题内的分区数量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/4c7dda9a23912cd28ad17ded0ff1b42d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MJ1Eax7onUi2UJ0fHrRJTA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">主题剖析(图片由作者提供)</p></figure><p id="65f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">分区是有序且不可变的消息序列。每个分区独立于所有其他分区，这意味着在一个主题内创建的分区之间没有顺序。当需要平衡负载时，它们也可以作为一个并行单元工作。分区中的每条消息都有一个称为<strong class="lb iu"> offset </strong>的顺序 id 号，它唯一地标识分区内的每条消息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi me"><img src="../Images/69bdfe878740317ddfaf0f83feb4d58a.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*oyWn1BjmCGJKsciEMLQ2RA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">深入了解分区(图片由作者提供)</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="4acf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">总结</strong></p><p id="1d7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，当你知道卡夫卡是什么，它是如何工作的，幕后是什么，你能做的最好的事情就是在实践中使用这些知识。此外，了解了一些关键定义，如<strong class="lb iu">消息</strong>、<strong class="lb iu">主题</strong>、<strong class="lb iu">分区</strong>和<strong class="lb iu">偏移</strong>，您可以了解 kafka 更高级的方面，如生产者、消费者、交付语义或 kafka 集群的内部。</p><p id="a102" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文附有一些可能有助于你探索卡夫卡的资料。如果你想了解更多关于卡夫卡的知识，它的文档是最好的地方。当你想获得更详细的信息时,《卡夫卡——权威指南》应该能满足你的需求。最后，如果你的目标是找到更多关于日志概念的第三个位置——“我心日志:事件数据、流处理和数据集成”将是最好的知识来源。</p><p id="ae5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">继续前进，祝你好运！</p><p id="804a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">WN。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="5a17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">来源</strong></p><p id="cbd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[1]阿帕奇卡夫卡 2.3 文档【https://kafka.apache.org/documentation/ T2】</p><p id="16ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[2]卡夫卡:权威指南|尼哈·纳克赫德、格温·沙皮拉、托德·帕利诺|奥莱利媒体公司| 2017 年 11 月 1 日</p><p id="3cef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[3] I Heart Logs:事件数据、流处理和数据集成| Jay Kreps | O'Reilly Media，Inc . | 2014 年 9 月 23 日</p></div></div>    
</body>
</html>