<html>
<head>
<title>Static Code Analysis for Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 的静态代码分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/static-code-analysis-for-python-bdce10b8d287?source=collection_archive---------6-----------------------#2020-08-16">https://towardsdatascience.com/static-code-analysis-for-python-bdce10b8d287?source=collection_archive---------6-----------------------#2020-08-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3ab9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">类型和样式检查、潜在的错误和代码复杂性</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9be72d2861a2773cba5f9c819b46bb0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dtRrn_fNnC0lQ3i2czS1cQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自维基共享资源</p></figure><p id="9217" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">静态代码分析查看代码而不执行它。它通常执行起来非常快，只需要很少的努力就可以添加到您的工作流程中，并且可以发现常见的错误。唯一的缺点是它不是为您的代码量身定制的。</p><p id="322c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，您将学习如何在 Python 中执行各种类型的静态代码分析。虽然本文主要关注 Python，但是任何编程语言都可以进行这种类型的分析。</p><h1 id="38ad" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">代码复杂性</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/352efe7f9bb8db3af39bcbb0ecb91b94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hpBpO29k15vDdmHJ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">约翰·巴克利普在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="267a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">测量代码复杂度的一种方法是<a class="ae ky" href="https://en.wikipedia.org/wiki/Cyclomatic_complexity" rel="noopener ugc nofollow" target="_blank">圈复杂度</a>，也称为 McCabe 复杂度，定义见<a class="ae ky" href="https://books.google.de/books?id=vtNWAAAAMAAJ&amp;pg=PA3&amp;redir_esc=y" rel="noopener ugc nofollow" target="_blank"> A 复杂度测量</a>:</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="a75e" class="mt lw it mp b gy mu mv l mw mx">CC = E - N + 2*P</span></pre><p id="eb46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中 N 是控制流图中的节点数，E 是边数，P 是条件节点数(if 语句，while/for 循环)。</p><p id="f622" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以用<a class="ae ky" href="https://pypi.org/project/radon/" rel="noopener ugc nofollow" target="_blank"> radon </a>在 Python 中计算:</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="4ca8" class="mt lw it mp b gy mu mv l mw mx">$ pip install radon<br/>$ radon cc mpu/aws.py -s    <br/>mpu/aws.py<br/>    F 85:0 s3_download - B (6)<br/>    F 16:0 list_files - A (3)<br/>    F 165:0 _s3_path_split - A (2)<br/>    F 46:0 s3_read - A (1)<br/>    F 141:0 s3_upload - A (1)<br/>    C 77:0 ExistsStrategy - A (1)</span></pre><p id="74f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一个字母表示块的<strong class="lb iu">类型(F 表示函数，C 表示类)。然后 radon 给出了<strong class="lb iu">行号</strong>，类/函数的<strong class="lb iu">名称</strong>，一个<strong class="lb iu">等级</strong> (A、B、C、D、E 或 F)，以及实际的<strong class="lb iu">复杂度作为一个数字</strong>。通常，复杂度低于 10 是可以的。<a class="ae ky" href="https://github.com/scipy/scipy/blob/master/scipy/sparse/linalg/eigen/lobpcg/lobpcg.py#L127" rel="noopener ugc nofollow" target="_blank">scipy 最复杂的部分</a>复杂度为 61。</strong></p><p id="c4da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了 radon，还有各种其他的包和 Flake8 插件:</p><ul class=""><li id="ef74" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated">flake 8-注解-复杂性:轻推你命名复杂类型</li><li id="80fd" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-cognitive-complexity/" rel="noopener ugc nofollow" target="_blank">flake 8-认知复杂性</a>:验证认知功能的复杂性</li><li id="a4c3" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-expression-complexity/" rel="noopener ugc nofollow" target="_blank">flake 8-expression-complexity</a>:确保单个表达式不会太复杂；类似于函数/类的圈复杂度。</li><li id="f4d5" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-functions/" rel="noopener ugc nofollow" target="_blank"> flake8-functions </a>:报告过长的函数和带有过多参数的函数</li><li id="c358" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/mccabe/" rel="noopener ugc nofollow" target="_blank"> mccabe </a>:这被一些其他的工具和项目使用</li><li id="013b" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/wily/" rel="noopener ugc nofollow" target="_blank"> wily </a>:跟踪、报告 Python 测试和应用程序复杂性的命令行应用程序。</li><li id="a6bd" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/xenon/" rel="noopener ugc nofollow" target="_blank">氙</a>:依靠氡</li></ul><h1 id="3f3c" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">风格指南</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/0757fe31f0d7ec7bdfce749074cb95cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gC2HdhBSJwqGfFAF"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">让你的代码看起来更专业。<a class="ae ky" href="https://unsplash.com/@huntersrace?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">猎人在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上比赛</a>的照片</p></figure><p id="7801" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可能听说过“pythonic 代码”这个词。这意味着不仅要编写正确的 Python 代码，而且要按照预期的方式使用语言特性(<a class="ae ky" href="https://stackoverflow.com/a/25011492/562769" rel="noopener ugc nofollow" target="_blank">来源</a>)。这肯定是一个固执己见的术语，但是有很多插件向您展示了社区中的大部分人认为 pythonic 是什么。</p><p id="0cd2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以类似于其他 Python 项目的风格编写代码是有价值的，因为人们会更容易阅读代码。这一点很重要，因为我们阅读软件的次数比编写软件的次数还要多。</p><p id="1a45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，什么是 pythonic 代码呢？</p><p id="7dc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">先从<a class="ae ky" href="https://www.python.org/dev/peps/pep-0008/" rel="noopener ugc nofollow" target="_blank"> PEP-8 </a>说起:它是 Python 社区在 2001 年编写并接受的一个风格指南。所以它已经存在了一段时间，大多数人都想跟随它。我见过大多数人不同意的主要部分是 79 的<a class="ae ky" href="https://www.python.org/dev/peps/pep-0008/#maximum-line-length" rel="noopener ugc nofollow" target="_blank">最大线长。我总是建议在你 95%的代码库中遵循这个建议。对此我给出了</a><a class="ae ky" href="https://martin-thoma.com/python-style-guide/#maximum-line-length" rel="noopener ugc nofollow" target="_blank">理由</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/648ffd495307d350baab25abe4a4de05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YbycVK-2veijOocpbSKLuw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">黑人项目的标志。图片来源:<a class="ae ky" href="https://github.com/psf/black/blob/master/docs/_static/logo2.png" rel="noopener ugc nofollow" target="_blank">黑人投稿人</a></p></figure><p id="9b56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于纯代码格式化，您应该使用自动格式化程序。我开始喜欢黑色的<a class="ae ky" href="https://pypi.org/project/black/" rel="noopener ugc nofollow" target="_blank">因为它不允许定制。黑色格式的代码看起来总是一样的。由于您不能自定义它，所以您不需要讨论它。它只是解决了风格冲突和争论的问题。Black 由 Python 软件基金会维护，可能是 Python 最常采用的自动格式化程序。</a></p><p id="a1e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Google 的 yapf 是另一个自动格式化程序。</p><h1 id="c1d6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">文档字符串</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/66818d0c228d460563fcf687019cc0ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ln2UNS74PuVuhOVM"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">如果写得好，阅读手册会很有趣。<a class="ae ky" href="https://lasagne.readthedocs.io/en/latest/modules/nonlinearities.html#lasagne.nonlinearities.sigmoid" rel="noopener ugc nofollow" target="_blank">千层面</a>和<a class="ae ky" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.ndimage.prewitt.html#scipy.ndimage.prewitt" rel="noopener ugc nofollow" target="_blank">烤肉卷</a>有很好的文档。劳拉·德维尔德在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="52db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于文档字符串，有<a class="ae ky" href="https://www.python.org/dev/peps/pep-0257/" rel="noopener ugc nofollow" target="_blank"> PEP-257 </a>。所有这些规则在社区中都被广泛接受，但是它们仍然允许各种各样的文档字符串。有三种常用的样式:</p><ul class=""><li id="4c5f" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated"><a class="ae ky" href="https://numpydoc.readthedocs.io/en/latest/format.html" rel="noopener ugc nofollow" target="_blank"> NumpyDoc 风格</a>文档字符串:由 Numpy 和 Scipy 使用。它以固定的顺序对某些指定的部分如<code class="fe np nq nr mp b">Parameters</code>和<code class="fe np nq nr mp b">Returns</code>进行降价。</li><li id="1948" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://github.com/google/styleguide/blob/gh-pages/pyguide.md#38-comments-and-docstrings" rel="noopener ugc nofollow" target="_blank"> Google 风格</a> docstrings:一种超薄格式，有<code class="fe np nq nr mp b">Args:</code>和<code class="fe np nq nr mp b">Returns:</code>。</li><li id="8ca5" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">文档字符串:一种非常灵活的格式，使用重构的文本。</li></ul><p id="aee9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我喜欢 NumpyDoc 格式，因为它非常容易阅读，即使你只是在文本编辑器中使用它。Numpydoc 也得到了编辑器的良好支持。</p><p id="4f68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里你可以看到三者的对比:</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="b291" class="mt lw it mp b gy mu mv l mw mx">def <strong class="mp iu">get_meta_numpydoc</strong>(filepath, a_number, a_dict):<br/>    """<br/>    Get meta-information of an image.</span><span id="4e89" class="mt lw it mp b gy ns mv l mw mx">    Lorem ipsum dolor sit amet, consectetuer adipiscing elit.<br/>    Aenean commodo<br/>    ligula eget dolor. Aenean massa. Cum sociis natoque penatibus<br/>    et magnis dis<br/>    parturient montes, nascetur ridiculus mus.</span><span id="7e44" class="mt lw it mp b gy ns mv l mw mx">    Parameters<br/>    ----------<br/>    filepath : str<br/>        Get metadata from this file<br/>    a_number : int<br/>        Some more details<br/>    a_dict : dict<br/>        Configuration</span><span id="38e5" class="mt lw it mp b gy ns mv l mw mx">    Returns<br/>    -------<br/>    meta : dict<br/>        Extracted meta information</span><span id="0318" class="mt lw it mp b gy ns mv l mw mx">    Raises<br/>    ------<br/>    IOError<br/>        File could not be read<br/>    """</span><span id="37f2" class="mt lw it mp b gy ns mv l mw mx">def <strong class="mp iu">get_meta_google_doc</strong>(filepath, a_number, a_dict):<br/>    """Get meta-information of an image.</span><span id="03c6" class="mt lw it mp b gy ns mv l mw mx">    Lorem ipsum dolor sit amet, consectetuer adipiscing elit.<br/>    Aenean commodo<br/>    ligula eget dolor. Aenean massa. Cum sociis natoque penatibus<br/>    et magnis dis<br/>    parturient montes, nascetur ridiculus mus.</span><span id="9fea" class="mt lw it mp b gy ns mv l mw mx">    Args:<br/>        filepath: Get metadata from this file.<br/>        a_number: Some more details.<br/>        a_dict: Configuration.</span><span id="b240" class="mt lw it mp b gy ns mv l mw mx">    Returns:<br/>        Extracted meta information:</span><span id="eda7" class="mt lw it mp b gy ns mv l mw mx">    Raises:<br/>        IOError: File could not be read.<br/>    """<br/>    <br/> <br/>def <strong class="mp iu">get_meta_sphinx_doc</strong>(filepath, a_number, a_dict):<br/>    """<br/>    Get meta-information of an image.</span><span id="dceb" class="mt lw it mp b gy ns mv l mw mx">    Lorem ipsum dolor sit amet, consectetuer adipiscing elit.<br/>    Aenean commodo<br/>    ligula eget dolor. Aenean massa. Cum sociis natoque penatibus<br/>    et magnis dis<br/>    parturient montes, nascetur ridiculus mus.</span><span id="97c6" class="mt lw it mp b gy ns mv l mw mx">    :param filepath: Get metadata from this file<br/>    :type filepath: str<br/>    :param a_number: Some more details<br/>    :type a_number: int<br/>    :param a_dict: Configuration<br/>    :type a_dict: dict</span><span id="4c07" class="mt lw it mp b gy ns mv l mw mx">    :returns: dict -- Extracted meta information</span><span id="aecb" class="mt lw it mp b gy ns mv l mw mx">    :raises: IOError<br/>    """</span></pre><h1 id="9026" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">薄片 8</h1><p id="0e75" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">正如阿尔贝托·吉梅诺指出的那样，你应该一直使用棉绒。他们可以检查你的风格，但更重要的是，指出潜在的错误。</p><p id="d3e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是一个包装 PyFlakes、pycodestyle 和 McCabe 脚本的包装器。这是 Python 中林挺最常用的工具。Flake8 太棒了，因为它有太多的插件。我找到了 223 个名称中带有字符串“flake8”的包，并查看了其中的许多包。我还用 trove 分类器<code class="fe np nq nr mp b">Framework :: Flake8</code>查看了包，发现了 143 个包，其中 122 个以<code class="fe np nq nr mp b">flake8-</code>开头。只有 21 个包有 Flake8 框架的 trove 分类器，但没有以<code class="fe np nq nr mp b">flake8-</code>开头，其中只有两个看起来很有趣。</p><blockquote class="oa ob oc"><p id="58db" class="kz la od lb b lc ld ju le lf lg jx lh oe lj lk ll of ln lo lp og lr ls lt lu im bi translated"><strong class="lb iu">边注</strong>:错别字抢注是每个开放包库都要与之斗争的问题(学士论文:<a class="ae ky" href="https://incolumitas.com/data/thesis.pdf" rel="noopener ugc nofollow" target="_blank">编程语言包管理器中的错别字</a>其中有<a class="ae ky" href="https://incolumitas.com/2016/06/08/typosquatting-package-managers/" rel="noopener ugc nofollow" target="_blank">的博文</a>和一篇<a class="ae ky" href="https://arxiv.org/pdf/2003.03471.pdf" rel="noopener ugc nofollow" target="_blank">有趣的后续</a>，学士论文:<a class="ae ky" href="https://is.muni.cz/th/y41ft/thesis_final_electronic.pdf" rel="noopener ugc nofollow" target="_blank">对包管理器的攻击</a>)。Python 中有它造成伤害的例子(<a class="ae ky" href="https://mail.python.org/pipermail/security-announce/2017-September/000000.html" rel="noopener ugc nofollow" target="_blank"> 2017 </a>、<a class="ae ky" href="https://www.bleepingcomputer.com/news/security/ten-malicious-libraries-found-on-pypi-python-package-index/" rel="noopener ugc nofollow" target="_blank"> 2017 </a>、<a class="ae ky" href="https://nakedsecurity.sophos.com/2017/09/19/pypi-python-repository-hit-by-typosquatting-sneak-attack/" rel="noopener ugc nofollow" target="_blank"> 2017 </a>、<a class="ae ky" href="https://www.trustwave.com/en-us/resources/blogs/spiderlabs-blog/typosquatting-in-python-repositories/" rel="noopener ugc nofollow" target="_blank"> 2019 </a>、<a class="ae ky" href="https://snyk.io/blog/malicious-packages-found-to-be-typo-squatting-in-pypi/" rel="noopener ugc nofollow" target="_blank"> 2019 </a>、<a class="ae ky" href="https://sysdig.com/blog/malicious-python-libraries-jeilyfish-dateutil/" rel="noopener ugc nofollow" target="_blank"> 2019 </a>)。有<a class="ae ky" href="https://github.com/jspeed-meyers/pypi-scan" rel="noopener ugc nofollow" target="_blank"> pypi-scan </a>用于查找示例，还有<a class="ae ky" href="https://pypi.org/project/pypi-parker/" rel="noopener ugc nofollow" target="_blank"> pypi-parker </a>用于防止常见的错别字。William Bengtsson 也做了一些类似的事情来加强 Python 社区对这个线程的防范。有关他的项目的更多信息，请参见下面他的文章。package parking 列出了 PyPI 上的软件包数量，我通过查找摘要“防止漏洞利用的软件包”来过滤它们。</p></blockquote><div class="oh oi gp gr oj ok"><a href="https://medium.com/@williambengtson/python-typosquatting-for-fun-not-profit-99869579c35d" rel="noopener follow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd iu gy z fp op fr fs oq fu fw is bi translated">Python 域名抢注是为了娱乐而非盈利</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">威廉·本特森| @ _ _ 肌肉</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">medium.com</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy ks ok"/></div></div></a></div><p id="3ea8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是一些有趣的 flake8 插件:</p><ul class=""><li id="05c2" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated"><a class="ae ky" href="https://github.com/mschwager/cohesion" rel="noopener ugc nofollow" target="_blank">内聚</a>:检查类内聚是否低于阈值。这表明功能应该从一个类中分离出来。</li><li id="1ec2" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-assert-msg/" rel="noopener ugc nofollow" target="_blank"> flake8-assert-msg </a>:确保 assert 语句有消息</li><li id="b04d" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-blind-except/" rel="noopener ugc nofollow" target="_blank"> flake8-blind-except </a>:防止口袋妖怪异常捕捉</li><li id="bf28" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-builtins/" rel="noopener ugc nofollow" target="_blank"> flake8-builtins </a>:检查 python 内置的变量或参数。</li><li id="b5c5" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-docstrings/" rel="noopener ugc nofollow" target="_blank"> flake8-docstrings </a>:增加 pydocstyle 支持</li><li id="9484" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-isort/" rel="noopener ugc nofollow" target="_blank"> flake8-isort </a>:使用<a class="ae ky" href="https://pypi.python.org/pypi/isort" rel="noopener ugc nofollow" target="_blank"> isort </a>检查 python 文件上的导入是否按照您期望的方式排序</li><li id="4b34" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://github.com/globality-corp/flake8-logging-format" rel="noopener ugc nofollow" target="_blank"> flake8-logging-format </a>:验证(缺少)日志格式字符串</li><li id="6a1e" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-pytest-style/" rel="noopener ugc nofollow" target="_blank"> flake8-pytest-style </a>:检查基于 pytest 的测试的常见风格问题或不一致之处</li><li id="d278" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-requirements/" rel="noopener ugc nofollow" target="_blank">flake 8-需求</a>:检查/验证包导入需求。它报告缺失和/或未使用的项目直接相关性</li><li id="8b94" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-graphql/" rel="noopener ugc nofollow" target="_blank">flake 8-graph QL</a>:Lint graph QL 查询字符串</li><li id="77ae" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">与黑色搭配很好🎉</li><li id="df21" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-mock/" rel="noopener ugc nofollow" target="_blank">模板 8-模拟</a>:使用模拟来检查错误</li><li id="1ee2" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">检查 jupyter 笔记本</li><li id="fe8e" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-pyi/" rel="noopener ugc nofollow" target="_blank"> flake8-pyi </a> : Lint 存根文件</li><li id="4ad4" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-variables-names/" rel="noopener ugc nofollow" target="_blank"> flake8-variables-names </a>:查找常见的“无意义”的变量名</li><li id="ad9e" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/pep8-naming/" rel="noopener ugc nofollow" target="_blank"> pep8 命名</a>:对照 pep8 命名约定检查你的代码</li><li id="d38a" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">熊猫兽医:固执己见的林挺为熊猫编码</li><li id="5490" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">wemake-python-styleguide :一个固执己见的风格指南/检查器，看起来很受欢迎。不过，我以前没见过这个。</li></ul><p id="e9cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">部分 Flake8 <a class="ae ky" href="https://pypi.org/project/prospector/" rel="noopener ugc nofollow" target="_blank">探矿者</a>的替代品。它结合了多种工具，但是它很少被使用，因此不如 Flake8 灵活。</p><h1 id="ea55" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">第八篇:安全性和缺陷</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/5546d2bd40890182b1a10b552c1eb54d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*F1jS0N6EjU66u4nu"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">注意安全，注意警示标志。照片由<a class="ae ky" href="https://unsplash.com/@esptroy?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">特洛伊桥</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><ul class=""><li id="b892" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated">flake8-bandit :安全测试</li><li id="6d99" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">在你的程序中寻找可能的错误和设计问题——通常它是无声的，但是当它不是的时候你应该看一看🐻</li><li id="4294" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-requests/" rel="noopener ugc nofollow" target="_blank"> flake8-requests </a>:检查请求框架的使用</li></ul><h1 id="e21f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">Flake8:删除调试工件</h1><p id="61c8" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">这种情况在我身上发生过好几次:我在开发新功能或调试旧功能时添加了一些代码，但后来忘记删除了。它经常被评论者发现，但是没有必要用这个来分散评论者的注意力。</p><p id="4503" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-breakpoint/" rel="noopener ugc nofollow" target="_blank"> flake8-breakpoint </a>检查忘记的断点，而<a class="ae ky" href="https://pypi.org/project/flake8-print/" rel="noopener ugc nofollow" target="_blank"> flake8-print </a>会抱怨每一条打印语句。<a class="ae ky" href="https://pypi.org/project/flake8-debugger/" rel="noopener ugc nofollow" target="_blank">flake 8-调试器</a>、<a class="ae ky" href="https://pypi.org/project/flake8-fixme/" rel="noopener ugc nofollow" target="_blank"> flake8-fixme </a>、<a class="ae ky" href="https://pypi.org/project/flake8-todo/" rel="noopener ugc nofollow" target="_blank"> flake8-todo </a>走向相同。</p><h1 id="300a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">皮林特</h1><p id="b44b" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated"><code class="fe np nq nr mp b"><a class="ae ky" href="https://pypi.org/project/pylint/" rel="noopener ugc nofollow" target="_blank">pylint</a></code>是 Python 中分布最广的 linters 之一。pylint 的功能肯定与 Flake8 重叠，但有一个功能我很喜欢:检查代码重复❤</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="fdc0" class="mt lw it mp b gy mu mv l mw mx">$ <strong class="mp iu">pylint --disable=all --enable=duplicate-code .</strong><br/>************* Module mpu.datastructures.trie.base<br/>mpu/datastructures/trie/base.py:1:0: R0801: Similar lines in 2 files<br/>==mpu.datastructures.trie.char_trie:85<br/>==mpu.datastructures.trie.string_trie:138<br/>            string += child.print(_indent=_indent + 1)<br/>        return string</span><span id="188c" class="mt lw it mp b gy ns mv l mw mx">def __str__(self):<br/>        return f"TrieNode(value='{self._value}', nb_children='{len(self.children)}')"</span><span id="cae8" class="mt lw it mp b gy ns mv l mw mx">__repr__ = __str__</span><span id="e2e3" class="mt lw it mp b gy ns mv l mw mx">EMPTY_NODE = TrieNode(value="", is_word=False, count=0, freeze=True)</span><span id="169c" class="mt lw it mp b gy ns mv l mw mx">class Trie(AbstractTrie):<br/>    def __init__(self, container=None):<br/>        if container is None:<br/>            container = [] (duplicate-code)</span></pre><h1 id="7858" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">让死代码死去吧</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/1b54c02fd5bfa7e27c54027784b61d74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HolQng-8Fkoy-A63"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">肯尼·奥尔在 Unsplash<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">拍摄的照片</a></p></figure><p id="7b50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谁没有做过:你删除了一个功能，但是代码可能是方便的。所以你把它注释掉。或者你在它周围加一个<code class="fe np nq nr mp b">if False</code>块。有时通过添加您不需要的配置选项会更复杂。</p><p id="05ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最简单解决方案是通过一个简单、明确的提交来删除该特性。也许可以添加一个 git 标签，这样以后想再添加的时候就可以找到了。</p><p id="601c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有一种代码是死的，但是你忘记了。幸运的是，您可以自动检测到它:</p><ul class=""><li id="4ae3" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-eradicate/" rel="noopener ugc nofollow" target="_blank">flake 8-根除</a>:查找注释掉的(或者所谓的“死的”)代码。</li><li id="dfbe" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/vulture/" rel="noopener ugc nofollow" target="_blank"> vulture </a>:查找 Python 程序中未使用的代码</li></ul><h1 id="e361" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">第八篇:鼓励自己使用好的风格</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/072173ac7e81f68def9af1fff4fb99b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lXvALfnWfaU_cFB_"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">让一个有经验的开发人员审查你的代码是很棒的。在最好的情况下，你会学到一些新的东西，你可以在所有进一步的项目中应用。有些插件就是这样。由<a class="ae ky" href="https://unsplash.com/@brookecagle?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">布鲁克·卡吉尔</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="858c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一些插件帮助我学习了一些关于 Python 的知识。例如，以下内容帮助我消除了一些小错误和不一致之处:</p><ul class=""><li id="9bff" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated">帮助你写出更好的理解清单/集合/字典——我喜欢这个😍</li><li id="0c70" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-executable/" rel="noopener ugc nofollow" target="_blank"> flake8-executable </a>:检查可执行权限和<a class="ae ky" href="https://en.wikipedia.org/wiki/Shebang_(Unix)" rel="noopener ugc nofollow" target="_blank"> shebangs </a>。文件应该要么是可执行的，有一个标签，要么是不可执行的，没有标签。</li><li id="29c0" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-raise/" rel="noopener ugc nofollow" target="_blank"> flake8-raise </a>:发现 raise 语句的改进</li><li id="d9b8" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-pytest/" rel="noopener ugc nofollow" target="_blank"> flake8-pytest </a>:使用 assert 代替 assertEqual</li></ul><p id="4301" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下新风格的轻推插件旨在推动您使用现代风格的 Python:</p><ul class=""><li id="00c3" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-pathlib/" rel="noopener ugc nofollow" target="_blank">flake 8-path lib</a>:<a class="ae ky" href="https://docs.python.org/3.4/library/pathlib.html" rel="noopener ugc nofollow" target="_blank">path lib</a>是在 Python 3.4 中加入的，我还是不太习惯。这个插件可能会在适当的时候提醒我使用它。</li><li id="f77d" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-string-format/" rel="noopener ugc nofollow" target="_blank"> flake8-string-format </a>，<a class="ae ky" href="https://pypi.org/project/flake8-printf-formatting/" rel="noopener ugc nofollow" target="_blank"> flake8-printf-formatting </a>，<a class="ae ky" href="https://pypi.org/project/flake8-sfs/" rel="noopener ugc nofollow" target="_blank"> flake8-sts </a>:字符串格式化。</li></ul><p id="9c38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这对我来说是最有价值的类别之一。如果你知道更多有助于使用新风格的插件，请告诉我😃</p><h1 id="3c67" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">Flake8 元插件</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/4b8011c5af20846da95d7a49a6cd37a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E4HyDr73N_j4p3mn5X64pA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马丁·托马斯通过 imgflip.com 创造形象</p></figure><p id="94f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Flake8 有一些插件没有增加更多的林挺功能，但以另一种方式改进了 flake8:</p><ul class=""><li id="2803" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-colors/" rel="noopener ugc nofollow" target="_blank">薄片 8–颜色</a>:薄片 8 的 ANSI 颜色高亮显示</li><li id="539c" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-csv/" rel="noopener ugc nofollow" target="_blank"> flake8-csv </a>:生成 csv 格式的错误报告</li><li id="3223" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-json/" rel="noopener ugc nofollow" target="_blank"> flake8-json </a>:生成 json 格式的错误报告</li><li id="3108" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-dashboard/" rel="noopener ugc nofollow" target="_blank"> flake8-dashboard </a>和<a class="ae ky" href="https://pypi.org/project/flake8-html/" rel="noopener ugc nofollow" target="_blank"> flake8-html </a>:生成 html 报告(<a class="ae ky" href="https://aperezhortal.github.io/flake8-dashboard/example_dashboard/index.html" rel="noopener ugc nofollow" target="_blank"> dashboard demo </a></li><li id="4006" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-immediate/" rel="noopener ugc nofollow" target="_blank"> flake8-immediate </a>:直接打印错误，没有任何延迟</li><li id="a956" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-strftime/" rel="noopener ugc nofollow" target="_blank"> flake8-strftime </a>:检查特定于平台的 strftime 代码的使用</li><li id="7b90" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-SQL/" rel="noopener ugc nofollow" target="_blank"> flake8-SQL </a>和<a class="ae ky" href="http://py-find-injection" rel="noopener ugc nofollow" target="_blank"> py-find-injection </a>:寻找 SQL 查询，并根据自以为是的风格检查它们</li><li id="e2db" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://pypi.org/project/flake8-tuple/" rel="noopener ugc nofollow" target="_blank"> flake8-tuple </a>:检查(可能)非预期的单元素元组</li></ul><p id="5001" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有些插件人们可能出于法律原因需要，比如 flake 8-作者、flake 8-版权和 flake 8-许可证。</p><blockquote class="oa ob oc"><p id="378e" class="kz la od lb b lc ld ju le lf lg jx lh oe lj lk ll of ln lo lp og lr ls lt lu im bi translated">致 Flake8 插件作者:请确保你列出了你的插件引入的错误代码，并且至少给出了一些你的插件认为不好/好的例子。</p></blockquote><h1 id="b355" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">类型注释和类型检查</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/03d802db97aeb94c2f94d303f1c508c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jXmhQQBv0xgpPQPUN08Z_A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">VS 代码的 mypy 插件显示了一个类型问题。马丁·托马斯截图。</p></figure><p id="648c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在 Python 中是可以的，但是需要你去做。它不是自动完成的。我写了一篇更长的文章，介绍了 Python 中的<a class="ae ky" href="https://medium.com/analytics-vidhya/type-annotations-in-python-3-8-3b401384403d" rel="noopener">类型注释是如何工作的。有多种工具可以使用，但我推荐 mypy。您可以使用<code class="fe np nq nr mp b">pytest-mypy</code>通过 pytest 运行它，或者使用<code class="fe np nq nr mp b">flake8-mypy</code>通过 flake8 运行它，但是我更喜欢单独运行它。其主要原因是由</a><a class="ae ky" href="https://levelup.gitconnected.com/ci-pipelines-for-python-projects-9ac2830d2e38" rel="noopener ugc nofollow" target="_blank"> CI 管道</a>给出的输出更干净。</p><p id="1a9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以将类型检查(例如通过 mypy)集成到您的编辑器中，但是类型注释本身已经走了很长的路，因为它们记录了预期的内容。</p><h1 id="9319" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">程序包结构</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/0a158998ecf0ace55d2f672983c1b715.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*y67weckARV-M_yOh"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">托运之前，请检查您的包裹是否完好无损。托比·斯托达特在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="7b0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/regebro/pyroma" rel="noopener ugc nofollow" target="_blank"> pyroma </a>评估 Python 项目符合 Python 打包生态系统最佳实践的程度。</p><p id="c0b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是我项目的一些例子:</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="aedc" class="mt lw it mp b gy mu mv l mw mx">$ pyroma mpu <br/>------------------------------<br/>Checking mpu<br/>Found mpu<br/>------------------------------<br/>Final rating: 10/10<br/>Your cheese is so fresh most pe</span><span id="e70d" class="mt lw it mp b gy ns mv l mw mx">$ pyroma nox<br/>------------------------------<br/>Checking nox<br/>Found nox<br/>------------------------------<br/>Your long_description is not valid ReST: <br/>&lt;string&gt;:2: (WARNING/2) Explicit markup ends without a blank line; unexpected unindent.<br/>&lt;string&gt;:3: (WARNING/2) Field list ends without a blank line; unexpected unindent.<br/>&lt;string&gt;:4: (WARNING/2) Explicit markup ends without a blank line; unexpected unindent.<br/>------------------------------<br/>Final rating: 9/10<br/>Cottage Cheese<br/>------------------------------</span></pre></div><div class="ab cl pe pf hx pg" role="separator"><span class="ph bw bk pi pj pk"/><span class="ph bw bk pi pj pk"/><span class="ph bw bk pi pj"/></div><div class="im in io ip iq"><h1 id="a07f" class="lv lw it bd lx ly pl ma mb mc pm me mf jz pn ka mh kc po kd mj kf pp kg ml mm bi translated">下一步是什么？</h1><p id="83d7" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">在这个系列中，我们已经有了:</p><ul class=""><li id="d9d4" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated">第 1 部分:<a class="ae ky" href="https://medium.com/swlh/unit-testing-in-python-basics-21a9a57418a0" rel="noopener">Python 中单元测试的基础知识</a></li><li id="3d83" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">第 2 部分:<a class="ae ky" href="https://levelup.gitconnected.com/unit-testing-in-python-mocking-patching-and-dependency-injection-301280db2fed" rel="noopener ugc nofollow" target="_blank">补丁、模拟和依赖注入</a></li><li id="2a61" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">第 3 部分:<a class="ae ky" href="https://medium.com/analytics-vidhya/how-to-test-flask-applications-aef12ae5181c" rel="noopener">如何用数据库、模板和受保护的页面测试 Flask 应用程序</a></li><li id="846f" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">第 4 部分:<a class="ae ky" href="https://medium.com/python-in-plain-english/unit-testing-in-python-tox-and-nox-833e4bbce729" rel="noopener"> tox 和 nox </a></li><li id="c009" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">第 5 部分:<a class="ae ky" href="https://medium.com/python-in-plain-english/unit-testing-in-python-structure-57acd51da923" rel="noopener">结构化单元测试</a></li><li id="5816" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">第 6 部分:<a class="ae ky" href="https://levelup.gitconnected.com/ci-pipelines-for-python-projects-9ac2830d2e38" rel="noopener ugc nofollow" target="_blank">CI-管道</a></li><li id="e69d" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">第 7 部分:<a class="ae ky" href="https://levelup.gitconnected.com/unit-testing-in-python-property-based-testing-892a741fc119" rel="noopener ugc nofollow" target="_blank">基于属性的测试</a></li><li id="f1ac" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">第八部分:<a class="ae ky" href="https://medium.com/analytics-vidhya/unit-testing-in-python-mutation-testing-7a70143180d8" rel="noopener">突变检测</a></li><li id="88cd" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">第 9 部分:<a class="ae ky" rel="noopener" target="_blank" href="/static-code-analysis-for-python-bdce10b8d287">静态代码分析</a> — Linters、类型检查和代码复杂性</li><li id="6beb" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">第 10 部分:<a class="ae ky" rel="noopener" target="_blank" href="/pytest-plugins-to-love-️-9c71635fbe22"> Pytest 插件来爱</a></li></ul><p id="4522" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您对使用 Python 测试的其他主题感兴趣，请告诉我。</p></div></div>    
</body>
</html>