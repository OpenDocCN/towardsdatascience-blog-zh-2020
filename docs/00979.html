<html>
<head>
<title>How to use machine learning to make prediction on Reddit: multiple logistic regression</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何利用机器学习在 Reddit 上做预测:多元逻辑回归</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-use-machine-learning-to-make-predictions-on-reddit-part-i-44cd210ec427?source=collection_archive---------22-----------------------#2020-01-28">https://towardsdatascience.com/how-to-use-machine-learning-to-make-predictions-on-reddit-part-i-44cd210ec427?source=collection_archive---------22-----------------------#2020-01-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="841c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这是来自四个不同市场的四个屏幕截图。共同的元素？卖家评分。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9d0b7f8b7f9f73f150dce0807c0c30a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ACeKNMFxbHRj1BFdJAuI3g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">评级来自 Amazon.com，Google.com，Facebook.com 和 Ebay.com</p></figure><p id="97e9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">卖家评级是每个好市场的要求。评级系统是帮助买家做出决策的重要工具，允许他们分享自己的感受，最重要的是，向他们保证交易的合法性。当然，永远不可能保证交易安全，但良好的卖家评级确实能激发信心。</p><p id="3047" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">考虑到评级系统的重要性，每个市场都有一个内置的交易促进系统来对卖家进行评级。但是那些不是用来买卖的平台呢？比如:<a class="ae lu" href="http://reddit.com" rel="noopener ugc nofollow" target="_blank"> Reddit </a>。</p><h1 id="6e4e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">Reddit:论坛变成市场</h1><p id="498b" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">Reddit.com 是美国访问量排名第六的网站，它是一个论坛集合，人们在这里发布和评论链接、图片和讨论话题。Reddit 中的各个论坛或社区被称为子编辑，有超过 100 万个这样的子编辑。Reddit 的成员被称为“Redditors”，他们将内容提交给子编辑，其他成员可以“投赞成票”或“投反对票”。正如你所想象的，Reddit(它的名字是对“阅读”这个词的一个游戏)本来是一个讨论的地方，尽管它在很大程度上仍然是，一些社区已经变成了市场。还有很多这样的例子。</p><p id="324b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里列出了 Reddit 上一些受欢迎的市场，以及在撰写本文时订阅每个市场的会员数量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/213409a10395cd32b3907b0236abfaf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D4Dac_q231Jv4yqOSKWAJQ.png"/></div></div></figure><p id="460f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">仅仅 8 个社区就有将近 65 万人！</p><p id="151b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我相信 Reddit 上的市场很受欢迎，因为 Reddit 的社区意识通常会带来合理的价格和成功的交易。然而，由于 Reddit 最初不是为此目的而设计的，与易贝等传统市场相比，它的界面存在许多问题。</p><p id="5819" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，下面是一个典型的用户帖子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/e5188c168f4d456e60ddced16a0e5783.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/format:webp/1*6N3NgldgmWB9wV3Nep44WQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Reddit.com 的纱帽</p></figure><p id="5c65" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">邮报是提供一个 BNIB 海盗船 SF750 白金 PSU(电源设备)为 150 美元以上的航运。但是，没有度量标准来确定该用户在该子编辑中是否有任何事务历史，也没有任何方法来确定该用户是否合法。此外，在这篇文章中，作者写了原始价格，但在其他情况下，潜在的买家需要自己研究产品，以确定其原始零售价格。</p><h1 id="72fa" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用机器学习解决 Reddit 的“无评级”问题</h1><p id="9dd4" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">看着 Reddit 市场的工作方式，我构建了一个算法来帮助解决缺乏专用评级系统带来的问题。</p><p id="7335" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我认为这将是一个应用机器学习和 Python 自动化的有趣问题。这个项目的目标是看看我是否能收集到足够的数据，以确定与任何给定的 Reddit 用户进行交易的风险有多大。为了收集这些数据，我查看了参与成功交易的 Reddit 用户，然后确定了被发现实施欺诈的用户。本质上，我比较了两组 Redditors:骗子和非骗子。我比较的一些属性是:</p><p id="361f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●账户的年龄</p><p id="c17c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●因果报应(票数上升)</p><p id="3f2c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●经过验证的电子邮件地址</p><p id="3460" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●黄金(如果是付费账户)</p><p id="0730" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●评论(使用自然语言处理进行分析)</p><p id="9b1d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●版主(任何子编辑)</p><p id="867a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●访问的子街道</p><p id="5363" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●奖杯</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/467b4c7d4d20a7b8887c51cafa1584c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BGpOAncneDIMAM7ZSUsyYg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Reddit.com 的纱帽</p></figure><p id="a49f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过观察这两个组的用户活动，我试图确定某个账户是高风险还是低风险。</p><p id="e9a6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了使项目的范围易于管理，我将重点放在了子编辑<a class="ae lu" href="http://old.reddit.com/r/hardwareswap" rel="noopener ugc nofollow" target="_blank">r/硬件交换</a>上。HardwareSwap 是一个由超过 170，000 名成员组成的社区，他们相互交换与计算机相关的硬件。在这个 Subreddit 中，你可以找到从显卡和 CPU 到 PlayStations 和计算机外设的所有东西。</p><h1 id="c10c" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">探索性数据分析</h1><p id="2cb9" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">当处理我正在调查的关于 Reddit 用户和市场的问题时，第一步是做一个<strong class="la iu">探索性数据分析</strong>。在此分析中，我将使用或研究:</p><p id="927d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">● PRAW (Python Reddit API 包装器)</p><p id="48e6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●交易</p><p id="b77f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●参与交易的用户</p><p id="86a1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●交易方向(买与卖)</p><p id="685b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●交易的估计价格</p><p id="3f8c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> PRAW (Python Reddit API 包装器)</strong></p><p id="d004" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了访问 r/hardware WAP 数据，我注册了一个 Reddit API 密匙。你可以在这里找到 PRAW 的快速入门指南和其他文档<a class="ae lu" href="https://praw.readthedocs.io/en/latest/getting_started/quick_start.html" rel="noopener ugc nofollow" target="_blank">。首先，我需要在</a><a class="ae lu" href="https://www.reddit.com/prefs/apps/" rel="noopener ugc nofollow" target="_blank"> Reddit、</a>上注册一个应用程序，然后我收到一个 Reddit 客户端 ID 和客户端密码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/7d4e4c03323b340fd0f8a6893cbb757f.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*lOpILYL-IeNSIkjRouqGMA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Reddit 应用程序注册表单的屏幕截图。Reddit.com 的纱帽</p></figure><h1 id="feee" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">收集用于探索性数据分析(EDA)的硬件应用程序数据</h1><p id="452a" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">现在我有了我的 Reddit API 密钥，我可以开始收集我需要的数据:交易的细节、用户、方向和估计的交易价格。因为我这个项目的主要目标是比较两组 redditor——合法用户和骗子(以及如何识别他们？)—我将从收集这些群体的数据开始。</p><p id="580a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">交易</strong></p><p id="bd4f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">subreddit r/HardwareSwap 有一个确认线程，用户每个月都会在这个线程中确认他们成功的交易。这使得为 Reddit 用户收集交易细节成为可能。</p><p id="eea4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是【2019 年 12 月确认线程的截图，让你对其格式有个概念:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/d466448ea6514581af7c289370dbde0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*D3mfJ-WBbWfToMVL1-bnXw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">示例确认线程。Reddit.com 的纱帽</p></figure><p id="5c05" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我首先收集了我想要调查的时间段(72 个月)的所有每月确认线程 URL。为了做到这一点，我用 PRAW 写了一个函数，在 r/hardware swap subredit 中搜索标题中带有“已确认贸易线索”字样的所有帖子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/f5538838a18fc30c32724e6476e63eb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*uCs78bt3kb5Q01JMI2SSCw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae lu" href="https://github.com/Landstein/Reddit-Transaction-Analysis/blob/master/confirm_scape_eda.py" rel="noopener ugc nofollow" target="_blank"> Github 链接</a>到上述功能。</p></figure><p id="201a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">参与交易的用户</strong></p><p id="4c4e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个搜索产生了过去 72 个已确认交易线索的 URL 列表，代表了大约 6 年的数据。然后，我使用 Reddit API 从 72 个已确认的交易线索中提取相关的特定数据。我的主要目标是收集以下信息:</p><p id="9a14" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●参与交易者的用户名</p><p id="321b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●谁与谁交易的数据(买方和卖方)</p><p id="2274" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●购买/出售的数据</p><p id="9ee3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了收集这些数据，我编写了另一个函数来完成以下任务:</p><p id="fcb3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●从 confirm_urls 函数中获取 URL 列表(在上面的截图中以亮蓝色文字书写)。</p><p id="eb37" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●查看所有父评论并收集</p><p id="1cc7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">1)评论者的用户名</p><p id="e833" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2)父注释的文本</p><p id="da81" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3)文本和天赋(已确认交易的数量)。</p><p id="1bce" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">●添加(使用 Python 字典)注释的作者作为键，添加列表的列表作为值，其中存储了注释的正文和与进行交易的用户的信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/92abd936e401d3d34411b8a92f70e02a.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*i1w7Z2W-2NgRkvvDIfuT8Q.png"/></div></figure><p id="fe7c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每个结果数据点如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/0553ec29a5b1fb6daf6a00db646c2cca.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*lmKoQ34yZskBcsrRThB0KQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">示例字典键、值对</p></figure><p id="40e0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如上所述，Python 字典中的键就是这样创建的:通过附加用户名(child.group()[2:])和 body_text，如上面的代码所示。如果字典中的用户有不止一个事务(这是常见的情况)，那么该函数会向值中存储的列表添加另一个条目。</p><p id="9cf0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">交易方向</strong></p><p id="2f9b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我想检测每个交易的方向:也就是说，它是被描述为买入还是卖出。然而，在我第一次浏览代码的过程中，我发现还有第三个类别:“交易”，这发生在两个用户互相交易物品但没有交换货币的情况下。</p><p id="cb88" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了确定每笔交易的方向，我在评论中寻找常用词——例如，“买”、“买”、“卖”或“交易”——并将它们放入一个列表，然后与一串文本进行比较。如果这些常用词出现在给定的字符串中，那么我就知道交易的方向。最后，我为我的功能无法确定方向的事务添加了一个“模糊”类别。下面的代码记录了每笔交易的方向:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/b8060d9fc4a1488bf636b67a0ff9b541.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*VfTjsz9c4LpkNo8a95lHqw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Github <a class="ae lu" href="https://github.com/Landstein/Reddit-Transaction-Analysis/blob/master/scraping.py" rel="noopener ugc nofollow" target="_blank">链接</a>到上面的函数</p></figure><p id="1ca5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">注意:</strong>使用 PRAW 提取所有这些数据需要大约 18 个小时。所以，如果你想自己尝试一下，我建议你通宵运行这个程序。</p><h1 id="6f80" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">最后，埃达！</h1><p id="4f9e" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">现在，到探索性数据分析组件。r/HardwareSwap 这个子字段的总价值和活动是我的风险分析非常需要的。使用我在上面描述的数据集合，我创建了一个 Pandas 数据框架，其中包括每个交易的用户、交易者、方向和产品的数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi my"><img src="../Images/24f413330330b09e0b79d16c26030c9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*UOnA5yhRFnYd6SjxkOKWZQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">交易数据帧的前 5 行</p></figure><p id="1917" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上面的截图是交易数据帧的前 5 行。方向指示用户是购买还是出售产品。例如，在第 0 行中，用户 orevilo 销售给 veigs。</p><p id="194b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我得到的结果令人印象深刻。使用这个图表，我发现在过去的 6 年中，这个子 reddit 上至少有 134，013 个事务。</p><p id="d19e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是按类型分列的交易明细:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/437d563b27ef2ea11ef12fafe8c92871.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IXxiHKDepoeek_9vnas3oQ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/e74aee0148d1908f90c8455db859031e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qk3mrSzzE7h9ylq3Tgd0Kg.png"/></div></div></figure><p id="8741" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这四个值加起来有 134，013 笔交易。对于一个细分市场来说，这是一个令人印象深刻的大数字。</p><p id="bd06" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">预计成交价格</strong></p><p id="d72f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我看到这些数字时，我想知道一笔交易的平均价格，从而了解有多少价值通过 r/hardware WAP 流动。虽然得到的值是近似值，但这是一个有趣的度量。为了估计平均交易价格，我构建了一个函数，它查看过去 1，000 个交易提交，并选择 link_flair_css_class 关闭的提交，这意味着已经进行了交易。</p><p id="cf5b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在下图中，你可以看到不同的提交标志:(卖出，买入和平仓)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/80086d70a4b73122b1cfeef918bd575b.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*VEOBhn1j_W0_VtzUMzxbOQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">link_flair_css_class 卖出(蓝色)，买入(绿色)，成交(红色)。Reddit.com 的纱帽</p></figure><p id="1de7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，该函数检查提交的主体中卖方列出的价格；我使用正则表达式并寻找$符号后面的数字。此外，该函数返回一个包含价格、日期和 URL 的 Pandas 数据框，以便我可以检查近似值是否正确。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/23ae56fbfdde64aaa509f545ec64e048.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*0ua2qLdftu2CJZEGZ_rYzw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">平均价格 258</p></figure><p id="9179" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这种方法得出 2019 年 12 月 12 日至 2019 年 12 月 15 日期间的平均样本交易价格为 258 美元。如果我们将这个数字乘以 134，000 笔记录的交易，过去 6 年中在 r/HardwareSwap 上交易的产品总价值估计约为 34，500，000 美元。虽然这是一个极端的估计，但即使是这一数额的四分之一，也仍然是一笔巨款。</p><h1 id="35dc" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">多元逻辑回归</h1><p id="8cfd" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">该项目的目标是<strong class="la iu">创建一个指标来确定与一个给定的 Reddit 用户</strong>交易的风险水平。Reddit 上的欺诈活动并不多，但确实存在。这个项目旨在发现与合法 Redditors 的活动相关的模式，与欺诈用户(骗子)的活动形成对比。</p><p id="3f55" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">考虑到 Reddit 不保留交易历史或收集任何有关其用户的真实身份信息，解决与欺诈相关的问题是一个相当困难的问题，因为与传统的信用指标和社交平台相比，Reddit 提供的指标并不典型地用于衡量风险。Reddit 不会收集创建特定于每个成员的信息记录所需的详细个人信息，因此，成员具有高度的匿名性。</p><p id="9ec3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">鉴于这个问题，知道是否可以使用机器学习和 Reddit 允许用户从中提取的信息进行准确的预测将是非常有趣的。在这个项目中，我试图根据用户的 Reddit 活动来衡量他或她的风险水平。我首先想到的是使用<strong class="la iu">多元逻辑回归模型，</strong>一种用于预测因变量结果的统计分析。在这个领域，它可以被称为机器学习模型。我将利用这个模型，因为只有有限数量的功能可供使用。多重<strong class="la iu"> </strong>逻辑回归模型将允许我确定与预测 Reddit 用户风险水平最相关的特征。</p><p id="66bf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我将确定项目中正在研究的两(2)组。这些是:</p><p id="e5dc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">1.Reddit 用户/Redditors: 这些人在 Reddit 上做过真正的交易。他们已经完成了交易。</p><p id="99e9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.<strong class="la iu"> Reddit 骗子:</strong>这些是 Reddit 上的骗子，参与过各种诈骗活动。</p><p id="da53" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Reddit 骗子数据集是从 r/hardwareswap 的<a class="ae lu" href="https://old.reddit.com/r/hardwareswap/wiki/banlist" rel="noopener ugc nofollow" target="_blank">封禁列表</a>和<a class="ae lu" href="https://www.reddit.com/r/UniversalScammerList/wiki/banlist" rel="noopener ugc nofollow" target="_blank">通用封禁列表</a>中收集的。这些都是被版主发现有欺诈行为的用户名单。因为这是任何市场分支提供的唯一系统，我不得不相信所有这些用户都是骗子。</p><p id="1cde" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我将使用 Reddit API 来收集 Reddit 用户和 Reddit 骗子的相关特性的数据。之后，我会查看数据，看看是什么将这两组分开。</p><p id="c2d6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于第一个模型，我将研究的相关特性如下:</p><p id="1751" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">1.已验证的电子邮件地址(用户是否有)</p><p id="b9bc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.用户是否是任何子编辑的版主</p><p id="2f46" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.Reddit Gold</p><p id="e65d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.因果报应的数量</p><p id="b069" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">5.帐龄</p><p id="8706" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">6.最近的评论(最多 100 条)</p><p id="04e8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">利用这 6 个特征，我希望发现 Redditor 和 Scammer 群体之间的不同模式。</p><p id="9c18" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">注意:</strong>您可能想在<a class="ae lu" href="https://praw.readthedocs.io/en/latest/code_overview/models/redditor.html" rel="noopener ugc nofollow" target="_blank">https://praw . readthe docs . io/en/latest/code _ overview/models/redditor . html</a>查看可用的 PRAW 属性(查看 Redditor 对象属性的完整列表)。</p><p id="9e5f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">评估 6 个特性</strong></p><ol class=""><li id="c880" class="nc nd it la b lb lc le lf lh ne ll nf lp ng lt nh ni nj nk bi translated"><strong class="la iu">帐龄</strong></li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/02a8f4c8fc902e5a7b43d2da332d26f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/0*7WHQgVa3nrEigL_H.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Praw 属性。https://praw.readthedocs.io 中的屏幕帽</p></figure><p id="fa52" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">PRAW 属性</p><p id="9d48" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">任何用户帐户的 PRAW 属性之一是“created_utc”，它指的是帐户的创建日期。为了将这变成一个有用的特性，我决定创建一个名为“<strong class="la iu"> age”的变量</strong>age 变量获取 created_utc 属性中指示的日期，并从用户最后一次评论的时间中减去该日期。通常，骗子被抓后，他们的账户会休眠。因此，为了确定他们的账户在诈骗发生时的年龄，我查看了从每个账户创建日期到最近一次评论日期的时间长度。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/5ec60236413bbf2829b19068262b5811.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/0*yEhBo3Qi6xH1P1oc.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/ad3f875673f5ef1b18d77fdf8519e4b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vHG5g1nn_-gvbENw.png"/></div></div></figure><p id="be94" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上图比较了骗子(橙色)和 Redditors(蓝色)。从图表中可以明显看出，骗子有更高比例的帐户年龄为 1 年或更短，而 Redditors 的帐户平均年龄要大得多。这是有道理的，因为我认为打算诈骗的人不会使用他们已经联系了很长一段时间的 Reddit 账户；然而，也有大量超过 4 年的骗子账户。我不得不认为，这是由于一些被标记为骗子的 Redditors 陷入了某种纠纷，而调解人无法解决，最终买方/卖方都被标记为骗子。也有可能是一些骗子被抓了，但就是不在乎，继续用自己的账号。</p><p id="2dd0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> 2。</strong> <strong class="la iu">因缘</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/fddd2a5c87afd4626471a25837dc4f29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/0*Nh5jICWCplsW_IQ2.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Praw 属性。来自<a class="ae lu" href="https://praw.readthedocs.io" rel="noopener ugc nofollow" target="_blank">的屏幕帽 https://praw.readthedocs.io </a></p></figure><p id="6411" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">PRAW 属性</p><p id="2f04" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">“因果报应”指的是用户提交的内容被投票支持时得到的分数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/5f1dfb5dd28c3c5d96f6adab45469432.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*s4uTlJuIAGqbRlhO.png"/></div></div></figure><p id="e5a8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因果报应的分布显示，骗子拥有 30 或更少因果报应点数的帐户比例要高得多。另一方面，Redditors 的分布更为正常。</p><p id="e9ad" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> 3。</strong> <strong class="la iu">电子邮件地址</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/38cdeb125c365dad6854ee226cad5ce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/0*qbs1IUfoPckZ8RZa.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Praw 属性。来自<a class="ae lu" href="https://praw.readthedocs.io" rel="noopener ugc nofollow" target="_blank">https://praw . readthedocs . io</a>的屏幕盖</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/f4c56758e6dc230109f1d86989afe1e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aDrq7Cug2_fNlPOW.png"/></div></div></figure><p id="5b40" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">与骗子相比，Redditors 拥有经过验证的电子邮件地址的比例要高得多。</p><p id="a2bd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> 4。REDDIT GOLD </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/c65d35e79adb749f29cbc2cd0d3b9142.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/0*nV8rs-8Qw_mYG1ZC.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Praw 属性。来自<a class="ae lu" href="https://praw.readthedocs.io" rel="noopener ugc nofollow" target="_blank">https://praw . readthedocs . io</a>的屏幕盖</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/b76541674736817b465bf83a77aaf89a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*suGKYvtTbb7RSIP3.png"/></div></div></figure><p id="3228" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Reddit Gold 表示用户拥有付费的 Reddit 帐户(Premium)。看到有骗子有 Reddit 黄金，我很惊讶；当 Reddit 大部分是免费的时候，一些骗子为他们用来诈骗的账户付费，这似乎很可疑。这一事实可能是真实用户被错误地标记为骗子的结果。</p><p id="5a9f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> 5。</strong> <strong class="la iu">主持人</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/0e680ff44fed14466208cd1f074ae93a.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/0*vFZiBUa5HgbgmRPM.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Praw 属性。来自<a class="ae lu" href="https://praw.readthedocs.io" rel="noopener ugc nofollow" target="_blank">https://praw . readthedocs . io</a>的屏幕盖</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/cb4c4b5d083060958c2347f8cfe9755a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rUXjSR6QB_pkmGUb.png"/></div></div></figure><p id="de14" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">更大比例的 reddits 是 Subreddits 的版主。这是我所期待的，因为骗子可能不会使用他们诈骗某人时使用的相同帐户来努力调节 Subreddits。</p><p id="1bb4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">6。备注</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/ade501c9a4ddb3ea01db746463de7415.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OqPEbJnH-RpIxzmE.png"/></div></div></figure><p id="0081" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以看到评论少于 10 条的骗子数量激增。这是我想在未来重新审视的一个变量。Reddit API 允许每个用户最多 1000 条评论，但我只选取了最后 100 条作为案例研究。</p><p id="b9b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我仔细研究这些个体变量的原因是为了在 Redditors 和 scammers 的活动中找到一个明显的差异。我已经能够使用机器学习来实现这一点。对于每个变量，两组之间活动分布的差异都有明确的定义。我坚信，如果我们认识到所有 6 个特征，那么我们将能够对 Reddit 账户及其风险水平做出准确的预测。</p><p id="6db5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">多元逻辑回归模型</strong></p><p id="6cbd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个项目中，我对使用我上面讨论的变量预测定性结果感兴趣。这可以称为对观察结果进行分类，因为它涉及将观察到的数据分配到特定类别，在这种情况下，该类别可以是 Redditor 或 Scammer。具体来说，对于这个分类项目，我打算使用多元逻辑回归模型来预测一个观察的<strong class="la iu">概率</strong>。几乎不可能肯定地说某个 Reddit 用户是骗子，但他/她的活动与欺诈用户的活动相匹配的概率是一个更现实的指标。</p><p id="e01a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个多重逻辑回归方程，其中 X = (X1，X2，…..，Xp)是 p，预测因子，看起来是这样的:</p><p id="ccc3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">数据分布</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/b063f05d6a18c9407ba38885307ae50d.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/0*nFwQYg_les6og80M.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/7a01102ba5af6dce2f35a8fa37f29ee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*OGKEgcznlTDCk5Z3"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/b0c5c4cfd532bf3772589e75f1ecb998.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/0*gmEMCycWXBahI8w3.png"/></div></figure><p id="6b4d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">包装:</p><ul class=""><li id="acd1" class="nc nd it la b lb lc le lf lh ne ll nf lp ng lt nw ni nj nk bi translated">Numpy —支持大型多维数组和矩阵</li><li id="483c" class="nc nd it la b lb nx le ny lh nz ll oa lp ob lt nw ni nj nk bi translated">熊猫—数据处理和分析</li><li id="5fb9" class="nc nd it la b lb nx le ny lh nz ll oa lp ob lt nw ni nj nk bi translated">Sklearn —机器学习库</li><li id="0b4c" class="nc nd it la b lb nx le ny lh nz ll oa lp ob lt nw ni nj nk bi translated">Statsmodel —探索数据，估计统计模型，并执行统计测试</li></ul><p id="6a49" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">执行回归</strong></p><p id="bd63" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于这个模型，<strong class="la iu">预测变量</strong>将是电子邮件、版主、黄金、因果、年龄和评论，而<strong class="la iu">目标变量</strong>将是用户名。目标变量中的数字“0”代表 Redditor，而数字“1”代表 scammer。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/385dc3c5fb8837d744d3fa346a551238.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HP8R9u8C5ubjXdjL.png"/></div></div></figure><p id="acfd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以黄色突出显示的岭回归参数</p><p id="3744" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> L2 正则化—岭回归</strong></p><p id="a445" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正则化可用于训练模型，通过防止算法过度拟合训练数据集，可以更好地对看不见的数据进行归纳。岭回归通过引入一条带有少量偏差的新的最佳拟合线来做到这一点，作为回报，它得到了方差的显著下降。随着新数据被引入模型，这有助于更好地进行长期预测。</p><h1 id="81b5" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">L2 方程</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/79a7add22503258fdd4c2c9570ce6991.png" data-original-src="https://miro.medium.com/v2/resize:fit:408/format:webp/0*vtPt_QY7M_f0gl05.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">wikipedia.com 的纱帽</p></figure><p id="e74c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">除 y 轴截距之外的每个参数都按脊线缩放。</p><p id="8dc2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我已经做了一些模型调优，是时候使用 Sklearn 运行模型了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/be6628bfa333a50fbab7f66949f6128f.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/0*M4mZuZ1ES5FZa5bk.png"/></div></figure><p id="ecce" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是模型在分析测试变量数据后给出的结果总结。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/d56e77bad07521afd923edfc589509dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5PjhYctfcRpv1V5e.png"/></div></div></figure><p id="16cc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">总的来说，多重逻辑回归模型做得很好，预测远远超过随机的 50/50 猜测。该模型的准确度(显示在黄色矩形中)为 83%。然而，在继续这个模型之前，我想看一下 p 值，以确保所有的变量都是显著的。我将利用 Statsmodel 库来解释我得到的结果，因为这个库给出了比 Sklearn 好得多的 p 值汇总。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/94f1c0af7e111f8fab41ec02456b6ff5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*V8TOz4sm2NDkDVmN.png"/></div></div></figure><p id="d781" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的结果中(显示在红色矩形中)，变量“Karma”具有非常高的 p 值，这意味着它在这个模型中是无关紧要的。这有点令人惊讶，因为 EDA 已经表明因果报应是区分这两个组的相关特征。然而，在这里，我将删除变量“Karma ”,并重新运行模型以查看其响应。</p><p id="8912" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">模型，版本 2 </strong>(去除预测变量 Karma 后)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/5e3494929dd0a6482394d836537a207d.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/0*gYejUe-uPWaBVU1P.png"/></div></figure><p id="2f43" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">具有特征因果报应</p><p id="ee37" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">没有 Karma(更高的精度水平在下面的结果中突出显示，显示了改进):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/e85ecbdc735e981c220e4e5bbc7231f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*34vATMmeuXzVW-39.png"/></div></div></figure><p id="5c96" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">没有特征因果报应</p><p id="25a7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">精密</strong>:</p><p id="c475" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这指的是实际上是正确的肯定识别的比例。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/4953ce14dd6c20e6ba92fa7640ceb7e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:388/format:webp/0*1aNSC8S0Jg5aeT8j.png"/></div></figure><p id="f838" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">其中 TP =真阳性，FP =假阳性。</p><p id="9d47" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在该模型预测的 310 个骗子中，有 253 个是正确的，其准确率为 82%。</p><p id="68a8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">回忆:</strong></p><p id="71f2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是指被正确识别的实际阳性的比例。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/3cf5bc8fc4613ed51ae9ccf25a6ab676.png" data-original-src="https://miro.medium.com/v2/resize:fit:364/format:webp/0*3Jm_fLnZovQ9qlzM.png"/></div></figure><p id="391d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">其中 TP =真阳性，FN =假阴性。</p><p id="6e9b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在测试数据中，有 491 个骗子，253 个被正确识别，这产生了 52%的召回分数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/04f22c3649e1affed8931b7a15769a6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Jb4ufbTDj6j7RHL8.png"/></div></div></figure><p id="95fd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当涉及到这个项目的实际应用时，在这个过程之前确定一个 Reddit 用户是否是骗子是非常困难的。有可能一个 Redditor 显示了一个骗子的活动，但却有着良好的意图。另一方面，用户可能已经成功进行了 5 次交易，然后决定不继续进行第 6 次交易。</p><p id="6ff9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了全面评估模型的效率，我考察了精确度和召回率。通过给预测的概率增加一个阈值，就给模型增加了很多价值。在下图中，您可以看到该模型根据预测的概率来预测 Reddit 用户是真实用户还是骗子，该模型对两组用户都使用了大于 0.5 的基本阈值。例如，如果用户是骗子的概率是&gt; . 5%，那么模型将为该用户预测骗子。</p><p id="6fcd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是一个示例输出，模型做出了 10 个预测:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/0a43541d89183eb607bd183af0668ccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:374/format:webp/0*U0YiG0dpTiBUghkV.png"/></div></figure><p id="f88d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">模型做出的 10 个预测</p><p id="17d5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上图中，你可以看到模型做出的 10 个预测。概率是根据电子邮件、mod、gold、评论和年龄计算的。在行 0 中，模型预测用户与骗子具有 0.697%的相似性，这最终是正确的，因为真实结果列显示用户 0 是骗子。</p><p id="b21d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">不同概率下检查概率阈值的代码:</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/edf56b67e0da2b8ae1dea76388c5365a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/0*mft_j32Yfjx5MWWt.png"/></div></figure><p id="b914" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在对测试数据应用不同的阈值之后。通过在预测骗子时将阈值提高到 60%，假阳性的数量减少了，从而将精确度提高到 92%。</p><h1 id="cb56" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用模型—应用程序使用</h1><p id="4bb5" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">查找没有确认交易的用户的提交</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/0f9ef24e07fced54cbe4ff40c5ae0979.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dcWR4Rj_Kv44sBpd.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Reddit.com 的纱帽</p></figure><p id="8549" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">典型提交，但用户有 0 笔确认交易</p><p id="c289" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将用户名输入一个函数，该函数从 reddit API 中提取必要的数据。然后将数据输入多元逻辑回归模型，并返回一个评级。为了使应用程序更加用户友好，低于 40 的等级显示为危险，高于 60 的等级显示为安全。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="9b22" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如你所看到的，这个用户得到了 38.2 的评分，这是相当低的。暗示找别人买可能更好。</p><h1 id="3b36" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用模型-确认用户</h1><p id="a564" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">找到已确认交易的用户</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/51640e1e9907bf16b60d8f9c85842121.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1_6VhSsOkIQr7XtJ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Reddit.com 的纱帽</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op on l"/></div></figure><p id="aaf2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">拥有 7 笔已确认交易的用户</p><p id="17cb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为用户有 7 笔已确认的交易，所以它们很可能是真实的。为了创建一种类型的用户评级，该函数输出以前的交易。</p><p id="55e9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">结论</strong></p><p id="46c7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">基于这些阈值和结果，可以有把握地说，如果一个 Reddit 用户的预测骗子概率高于 0 . 6 的<strong class="la iu">，那么<strong class="la iu">最好找其他人与</strong>交易。因此，通过寻找 6 个特征/变量年龄、主持人、因果关系、电子邮件、黄金、评论并预测除因果关系之外的所有这些特征/变量的概率，可以预测与 Reddit 用户交易时的风险水平。</strong></p><p id="76d4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你想查看我的<strong class="la iu"/><a class="ae lu" href="https://github.com/Landstein/Reddit-Transaction-Analysis" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">Github</strong></a>库中的所有代码。</p></div></div>    
</body>
</html>