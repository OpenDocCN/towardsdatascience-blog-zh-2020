<html>
<head>
<title>Time Series Analysis: Identifying AR and MA using ACF and PACF Plots</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">时间序列分析:使用 ACF 和 PACF 图识别 AR 和 MA</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/identifying-ar-and-ma-terms-using-acf-and-pacf-plots-in-time-series-forecasting-ccb9fd073db8?source=collection_archive---------1-----------------------#2020-08-13">https://towardsdatascience.com/identifying-ar-and-ma-terms-using-acf-and-pacf-plots-in-time-series-forecasting-ccb9fd073db8?source=collection_archive---------1-----------------------#2020-08-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/aea2899a1f12c5f785dab72ebaecc7bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*d0GimZ6EcUEeVCT6"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">尼克·崇在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="ea12" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">选择候选的<strong class="ki iu">自回归移动平均</strong> (ARMA)模型用于时间序列分析和预测，理解序列的<strong class="ki iu">自相关函数</strong> (ACF)和<strong class="ki iu">偏自相关函数</strong> (PACF)图对于确定 AR 和/或 MA 项的顺序是必要的。虽然 ACF 和 PACF 没有直接规定 ARMA 模型的顺序，但这些图可以帮助理解顺序，并提供一个模型可以很好地适合时间序列数据的想法。在这篇文章中，我主要分享了我在理解 ACF、PACF 图以及它们在选择 ARMA 模型阶数时的重要性方面的经验。</p><p id="6740" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> ACF 图</strong>是时间序列与其滞后值之间相关系数的条形图。简而言之:ACF 解释了给定时间序列的现值如何与过去(1 个单位的过去，2 个单位的过去，…，n 个单位的过去)的值相关联。在 ACF 图中，y 轴表示相关系数，而 x 轴表示滞后次数。假设，y(t-1)，<em class="le"> y(t)，y(t-1)，…。y(t-n) </em>是一个时间序列在<em class="le"> t，t-1，…，t-n，</em>时刻的值，那么 lag-1 值就是<em class="le"> y(t) </em>和<em class="le"> y(t-1) </em>之间的相关系数，lag-2 就是<em class="le"> y(t) </em>和<em class="le"> y(t-2) </em>之间的相关系数，以此类推。</p><p id="48ca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> PACF </strong>是偏自相关函数，解释了序列和滞后本身之间的偏相关性。简单地说，PACF 可以用线性回归来解释，我们从<em class="le"> y(t-1)，y(t-2)，</em>和<em class="le">y(t-3)</em>【2】预测<em class="le"> y(t) </em>。在 PACF，我们将<em class="le"> y(t) </em>和<em class="le"> y(t-3) </em>中未被<em class="le"> y(t-1) </em>和<em class="le"> y(t-2) </em>预测的“部分”关联起来。</p><p id="f024" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">通过 ACF 和 PACF 图识别 AR 和 MA 订单:</strong></p><p id="564e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">假设时间序列是平稳的，如果不是，那么我们可以执行序列的变换和/或差分，以将序列转换为平稳过程。一旦序列稳定下来，我们就可以绘制 ACF 图和 PACF 图来确定 ARMA 模型中 AR 项和 MA 项的阶数。有时，仅 AR 项或 MA 项就足以对流程建模。表 1 解释了如何根据 ACF 和 PACF 选择 AR 和 MA 术语[1]:</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lf"><img src="../Images/d89e4eadc19a2461b27378898a11268f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MJIw0Lh2_PYMKJVTUVWAEw.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">表 1:基于 ACF 和 PACF 的 AR 和 MA 术语</p></figure><p id="649d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ACF 和 PACF 图应一起考虑，以确定该过程。对于 AR 过程，我们预计 ACF 曲线将逐渐下降，同时 PACF 在 p 显著滞后后将急剧下降。为了定义 MA 过程，我们期望从 ACF 和 PACF 图中得到相反的结果，这意味着:ACF 应该在某个 q 数量的滞后之后显示急剧下降，而 PACF 应该显示几何或逐渐下降的趋势。另一方面，如果 ACF 和 PACF 曲线都表现出逐渐下降的模式，那么 ARMA 过程应该被考虑用于建模。</p><p id="516f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">图 1 和 2 示出了给定平稳时间序列数据的 ACF 和 PACF。ACF 显示出逐渐降低的趋势，而 PACF 在一个滞后之后立即降低。因此，图表表明 AR (1)模型将适用于时间序列。</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/e6f6322e34eb2123eecdff3999a7b8cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/1*X1XgzUgbGJ9caA_Ify2RAg.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图 1:时间序列的自相关函数</p></figure><figure class="lg lh li lj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ll"><img src="../Images/fd17e9b5adc4585ec0b962dafb23dd70.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*KEGXwqaOcUkTbdtvAO7fRw.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图 2:时间序列的部分自相关函数</p></figure><p id="3615" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">图 3 和图 4 分别示出了平稳时间序列的 ACF 和 PACF。ACF 和 PACF 图表明，MA (1)模型将适用于时间序列，因为 ACF 在 1 个滞后之后切割，而 PACF 显示出缓慢下降的趋势。</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div class="gh gi lm"><img src="../Images/57383a6100a3e72dbb3448105c9b7987.png" data-original-src="https://miro.medium.com/v2/resize:fit:598/format:webp/1*bmE_9LDHdjhcrAy7O0Zdqg.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图 3:时间序列的自相关函数</p></figure><figure class="lg lh li lj gt ju gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/f7dea3a0a0f00709288a9edc02b9d6f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*e4UZkVnxIWAdw30VhW03NA.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图 4:时间序列的部分自相关函数</p></figure><p id="ab15" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">图 5 和图 6 显示了另一个平稳时间序列数据 ACF 和 PACF。ACF 和 PACF 都显示缓慢衰减(逐渐降低)。因此，ARMA (1，1)模型将适用于该系列。再次观察 ACF 图:它在两个显著滞后之后急剧下降，这表明 MA (2)将是该过程的良好候选模型。因此，我们应该对该过程使用 ARMA (1，1)和 MA (2)进行试验，然后根据 AIC(赤池信息标准)等性能指标选择最佳模型。</p><figure class="lg lh li lj gt ju gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/65693bd3fc355ecb9131b565160037b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*r_Bqy36KEvvkyELa3MtZhA.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图 5:时间序列的自相关函数</p></figure><figure class="lg lh li lj gt ju gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/da93dd435994e17f21ddbf795c711b87.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*aHIRhL9CQYn9KBJQ0-bbAw.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">图 6:时间序列的部分自相关函数</p></figure><p id="1363" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">总之，理解 ACF 和 PACF 图对于确定 AR 和 MA 项的顺序以选择合适的候选模型是必要的。</p><p id="adba" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我还写了一篇文章，讨论如何为真实世界的时间序列数据选择最佳的 ARIMA 模型。你可以点击链接阅读:</p><div class="lq lr gp gr ls lt"><a rel="noopener follow" target="_blank" href="/a-real-world-time-series-data-analysis-and-forecasting-121f4552a87"><div class="lu ab fo"><div class="lv ab lw cl cj lx"><h2 class="bd iu gy z fp ly fr fs lz fu fw is bi translated">现实世界的时间序列数据分析和预测</h2><div class="ma l"><h3 class="bd b gy z fp ly fr fs lz fu fw dk translated">应用 ARIMA 模型预测时间序列数据</h3></div><div class="mb l"><p class="bd b dl z fp ly fr fs lz fu fw dk translated">towardsdatascience.com</p></div></div><div class="mc l"><div class="md l me mf mg mc mh jz lt"/></div></div></a></div><p id="93fe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一个有趣的阅读- <a class="ae kf" href="https://medium.com/mlearning-ai/experimental-setting-in-machine-learning-how-to-deal-with-data-leakage-48169c48c347" rel="noopener"> <strong class="ki iu">如何在预处理步骤中避免数据泄露</strong> </a></p><h1 id="4353" class="mi mj it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">阅读马苏姆的每一个故事(以及媒体上成千上万的其他作家)。</h1><p id="4873" class="pw-post-body-paragraph kg kh it ki b kj ng kl km kn nh kp kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated">你的会员费将直接支持和激励你所阅读的作家。你还可以在媒体上看到所有的故事—【https://masum-math8065.medium.com/membership】<strong class="ki iu"/></p><p id="9c4f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">读书快乐！</strong></p><p id="01aa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">参考</p><p id="9146" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[1]https://rinterested.github.io/statistics/arima.html<a class="ae kf" href="https://rinterested.github.io/statistics/arima.html" rel="noopener ugc nofollow" target="_blank"/></p><p id="979f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[2]<a class="ae kf" href="https://rstudio-pubs-static.s3.amazonaws.com/19198_aba6dbcabd0748159e3f395cc02c0f0c.html" rel="noopener ugc nofollow" target="_blank">https://r studio-pubs-static . S3 . Amazon AWS . com/19198 _ ABA 6 db cabd 0748159 E3 f 395 cc 02 c0f 0 c . html</a></p></div></div>    
</body>
</html>