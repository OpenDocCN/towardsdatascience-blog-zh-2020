<html>
<head>
<title>Generate Easily Reproducible Scientific Figures with Pylustrator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Pylustrator 生成易于复制的科学图形</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/generate-easily-reproducible-scientific-figures-with-pylustrator-9426292e07a4?source=collection_archive---------48-----------------------#2020-07-29">https://towardsdatascience.com/generate-easily-reproducible-scientific-figures-with-pylustrator-9426292e07a4?source=collection_archive---------48-----------------------#2020-07-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="a547" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">Python 科学绘图</h2><div class=""/><div class=""><h2 id="fe52" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用基于 GUI 的程序生成可重复的 Python 绘图脚本</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/de9fc1272e0ff2381d92c0154e5c5c64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aEziODvnwNvgp_Jf"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com/@goumbik?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卢卡斯·布拉塞克</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ea29" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">几个月前，我写了一篇关于用 Python 生成科学出版物图的文章。最近，我发现了这个名为<a class="ae lh" href="https://pylustrator.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> Pylustrator </a>的令人难以置信的新包，它大大简化了制作多面板图形的过程，而无需摆弄轴的大小。该软件包还会为您生成 Python 代码，因此您可以重现并与他人分享您的数据。在这篇文章中，我将做一些你可以用<code class="fe me mf mg mh b">pylustrator</code>做的事情的基本演示——希望它对你的剧情制作有用！</p><h1 id="5580" class="mi mj it bd mk ml mm mn mo mp mq mr ms ki mt kj mu kl mv km mw ko mx kp my mz bi translated"><strong class="ak">安装</strong></h1><p id="da44" class="pw-post-body-paragraph li lj it lk b ll na kd ln lo nb kg lq lr nc lt lu lv nd lx ly lz ne mb mc md im bi translated">您可以使用以下命令使用<code class="fe me mf mg mh b">pip</code>安装<code class="fe me mf mg mh b">pylustrator</code>:</p><pre class="ks kt ku kv gt nf mh ng nh aw ni bi"><span id="96b0" class="nj mj it mh b gy nk nl l nm nn">pip install pylustrator</span></pre><h1 id="1bbd" class="mi mj it bd mk ml mm mn mo mp mq mr ms ki mt kj mu kl mv km mw ko mx kp my mz bi translated"><strong class="ak">生成地块</strong></h1><p id="20ca" class="pw-post-body-paragraph li lj it lk b ll na kd ln lo nb kg lq lr nc lt lu lv nd lx ly lz ne mb mc md im bi translated">首先，我们将把<code class="fe me mf mg mh b">matplotlib</code>、<code class="fe me mf mg mh b">numpy</code>(创建一些虚拟日期)和<code class="fe me mf mg mh b">pylustrator</code>导入到我们的脚本中:</p><pre class="ks kt ku kv gt nf mh ng nh aw ni bi"><span id="f340" class="nj mj it mh b gy nk nl l nm nn"><strong class="mh jd"># Import packages<br/></strong>import matplotlib.pyplot as plt<br/>import numpy as np<br/>import pylustrator</span></pre><p id="9df0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我将使用我们在<a class="ae lh" rel="noopener" target="_blank" href="/a-guide-to-creating-and-using-your-own-matplotlib-style-30de6c60bac0">上一篇文章</a>中开发的科学的<code class="fe me mf mg mh b">matplotlib</code>样式文件作为起点，这样我们就不必重复地改变字体、刻度大小等属性。在<code class="fe me mf mg mh b">pylustrator</code>中:</p><pre class="ks kt ku kv gt nf mh ng nh aw ni bi"><span id="14df" class="nj mj it mh b gy nk nl l nm nn"><strong class="mh jd"># Use scientific plot style<br/></strong>plt.style.use('scientific')</span></pre><p id="3dd8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，我们可以创建我们的图形——因为我们将在<code class="fe me mf mg mh b">pylustrator</code>中完成大部分操作，我们只需要创建最基本的图形，而不考虑格式。首先，让我们创建一些虚拟数据:</p><pre class="ks kt ku kv gt nf mh ng nh aw ni bi"><span id="741d" class="nj mj it mh b gy nk nl l nm nn"><strong class="mh jd"># Create dummy data</strong><br/>x = np.linspace(0, 4*np.pi, 200)<br/>y1 = np.sin(x)<br/>y2 = np.cos(x)</span></pre><p id="fdc1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在我们开始创建图之前，我们将调用<code class="fe me mf mg mh b">pylustrator</code>函数:</p><pre class="ks kt ku kv gt nf mh ng nh aw ni bi"><span id="6159" class="nj mj it mh b gy nk nl l nm nn"><strong class="mh jd"># Start pylustrator</strong><br/>pylustrator.start()</span></pre><p id="8635" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在让我们开始创建我们的基本图形。回想一下，当我们调用<code class="fe me mf mg mh b">add_subplot(rows, cols, index)</code>时，三个参数如下:</p><p id="9086" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe me mf mg mh b">rows</code> —我们的多点图中的行数</p><p id="b138" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe me mf mg mh b">cols</code> —我们的多点图中的列数</p><p id="564e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe me mf mg mh b">index</code> —子情节的索引，从左上角开始，向右下方蜿蜒</p><pre class="ks kt ku kv gt nf mh ng nh aw ni bi"><span id="5cbe" class="nj mj it mh b gy nk nl l nm nn"><strong class="mh jd"># Create panelled figure</strong><br/>fig = plt.figure()<br/>ax1 = fig.add_subplot(311)<br/>ax2 = fig.add_subplot(312)<br/>ax3 = fig.add_subplot(313)</span><span id="7884" class="nj mj it mh b gy no nl l nm nn"><strong class="mh jd"># Plot data<br/># Subplot 1</strong><br/>ax1.plot(x, y1, label='y1')<br/>ax1.plot(x, y2, label='y2')<br/>ax1.legend()</span><span id="8f7f" class="nj mj it mh b gy no nl l nm nn"><strong class="mh jd"># Subplot 2</strong><br/>ax2.plot(x, y1)</span><span id="e965" class="nj mj it mh b gy no nl l nm nn"><strong class="mh jd"># Subplot 3</strong><br/>ax3.plot(x, y2)</span></pre><p id="1716" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，我们最后必须在脚本末尾添加一个<code class="fe me mf mg mh b">plt.show()</code>来显示我们的情节，这样我们就完成了代码的编写！</p><pre class="ks kt ku kv gt nf mh ng nh aw ni bi"><span id="ece3" class="nj mj it mh b gy nk nl l nm nn"><strong class="mh jd"># Show plot<br/></strong>plt.show()</span></pre><h1 id="5e5a" class="mi mj it bd mk ml mm mn mo mp mq mr ms ki mt kj mu kl mv km mw ko mx kp my mz bi translated"><strong class="ak">运行 Pylustrator </strong></h1><p id="904d" class="pw-post-body-paragraph li lj it lk b ll na kd ln lo nb kg lq lr nc lt lu lv nd lx ly lz ne mb mc md im bi translated">因为我们已经添加了一行<code class="fe me mf mg mh b">pylustrator.start()</code>，我们可以继续运行我们的脚本文件:</p><pre class="ks kt ku kv gt nf mh ng nh aw ni bi"><span id="31f2" class="nj mj it mh b gy nk nl l nm nn">python &lt;your_filename&gt;.py</span></pre><p id="d546" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，您应该会看到弹出以下屏幕:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi np"><img src="../Images/1ee8456e532b7154e5d498741c5612fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bqQFD7BgHk6CBu_ebfTQmg.png"/></div></div></figure><h2 id="c502" class="nj mj it bd mk nq nr dn mo ns nt dp ms lr nu nv mu lv nw nx mw lz ny nz my iz bi translated"><strong class="ak">调整大小/重新排列图形</strong></h2><p id="c2d8" class="pw-post-body-paragraph li lj it lk b ll na kd ln lo nb kg lq lr nc lt lu lv nd lx ly lz ne mb mc md im bi translated">我们可以很容易地改变我们的情节安排，通过点击每个支线剧情，调整我们需要的大小，并四处拖动:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oa"><img src="../Images/94e8f3aec52384aa7470a8db5a5971b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*vVRFf39hqc39V_Qft9ioNQ.gif"/></div></div></figure><h2 id="f486" class="nj mj it bd mk nq nr dn mo ns nt dp ms lr nu nv mu lv nw nx mw lz ny nz my iz bi translated"><strong class="ak">编辑刻度间隔</strong></h2><p id="56bd" class="pw-post-body-paragraph li lj it lk b ll na kd ln lo nb kg lq lr nc lt lu lv nd lx ly lz ne mb mc md im bi translated">还有一些菜单可以调整我们的图的刻度间隔:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ob"><img src="../Images/74196e99f35d36dffadc2c4e566957a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*P4ocZ2Cb4Pcf90pY3nGFoA.gif"/></div></div></figure><h2 id="fd11" class="nj mj it bd mk nq nr dn mo ns nt dp ms lr nu nv mu lv nw nx mw lz ny nz my iz bi translated"><strong class="ak">编辑图例</strong></h2><p id="54fe" class="pw-post-body-paragraph li lj it lk b ll na kd ln lo nb kg lq lr nc lt lu lv nd lx ly lz ne mb mc md im bi translated">我们可以单击图例，切换一些选项，并像处理我们的图一样移动它:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ob"><img src="../Images/50c345046f78263e642cc6958efdf68a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*NUF_ieccS9bo6Zx93kDIlQ.gif"/></div></div></figure><h2 id="a3d9" class="nj mj it bd mk nq nr dn mo ns nt dp ms lr nu nv mu lv nw nx mw lz ny nz my iz bi translated"><strong class="ak">添加文本注释</strong></h2><p id="0e06" class="pw-post-body-paragraph li lj it lk b ll na kd ln lo nb kg lq lr nc lt lu lv nd lx ly lz ne mb mc md im bi translated">当创建面板图时，您需要用数字或字母标记每个子图，以便在文本中引用它。这也很简单！</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ob"><img src="../Images/36ed1668d8060d860a5faebdd9db3aa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*f7nt3VLSCPlV_jtZ8LgsJQ.gif"/></div></div></figure><h1 id="10ea" class="mi mj it bd mk ml mm mn mo mp mq mr ms ki mt kj mu kl mv km mw ko mx kp my mz bi translated"><strong class="ak">救国新图</strong></h1><p id="5296" class="pw-post-body-paragraph li lj it lk b ll na kd ln lo nb kg lq lr nc lt lu lv nd lx ly lz ne mb mc md im bi translated">完成编辑后，我们可以通过使用<code class="fe me mf mg mh b">Ctrl/Cmd + S</code>并关闭<code class="fe me mf mg mh b">pylustrator</code> GUI 窗口来保存我们的图形。您会注意到代码将被添加到您原来的<code class="fe me mf mg mh b">.py</code>文件中。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oc"><img src="../Images/d3fa4fdebc3ae0ad013645a9d1ca8cf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*D5H2nGXaon4dCOMOUVHu_w.gif"/></div></div></figure><p id="a29b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，我们可以从脚本中删除<code class="fe me mf mg mh b">pylustrator.start()</code>命令，然后直接运行我们的文件来查看我们编辑过的图形！</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oc"><img src="../Images/30feec9f54e22ca6a2be505ca2fc4a88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Y1PAXZRhrv0jTckpNMPNeA.gif"/></div></div></figure><p id="340d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">酷！你现在可以分发这个<code class="fe me mf mg mh b">.py</code>文件，而不需要<code class="fe me mf mg mh b">pylustrator</code>，任何人都应该能够重现你的形象！</p><h1 id="a9d1" class="mi mj it bd mk ml mm mn mo mp mq mr ms ki mt kj mu kl mv km mw ko mx kp my mz bi translated"><strong class="ak">结论</strong></h1><p id="c74e" class="pw-post-body-paragraph li lj it lk b ll na kd ln lo nb kg lq lr nc lt lu lv nd lx ly lz ne mb mc md im bi translated">我们仅仅触及了<code class="fe me mf mg mh b">pylustrator</code>的一些特性，但是它看起来是一个不可思议的工具，可以为你的出版物/文章编辑你的 Python 图形。本文中的<code class="fe me mf mg mh b">plot.py</code>文件可以在这个<a class="ae lh" href="https://github.com/venkatesannaveen/python-science-tutorial" rel="noopener ugc nofollow" target="_blank"> Github 资源库</a>中获得。</p><p id="30dc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">感谢您的阅读！我感谢任何反馈，你可以在<a class="ae lh" href="https://twitter.com/naveenv_92" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上找到我，并在<a class="ae lh" href="https://www.linkedin.com/in/naveenvenkatesan/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上与我联系，了解更多更新和文章。</p><h1 id="9c93" class="mi mj it bd mk ml mm mn mo mp mq mr ms ki mt kj mu kl mv km mw ko mx kp my mz bi translated"><strong class="ak">参考文献</strong></h1><p id="68a4" class="pw-post-body-paragraph li lj it lk b ll na kd ln lo nb kg lq lr nc lt lu lv nd lx ly lz ne mb mc md im bi translated">格勒姆河(2020 年)。<strong class="lk jd">py literator:用于出版的可复制图形的代码生成</strong>。开放源码软件杂志，5(51)，1989 年。</p></div></div>    
</body>
</html>