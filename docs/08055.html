<html>
<head>
<title>Creating a Financial Dashboard with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python创建财务仪表板</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-a-financial-dashboard-with-python-6d8583e38b57?source=collection_archive---------20-----------------------#2020-06-14">https://towardsdatascience.com/creating-a-financial-dashboard-with-python-6d8583e38b57?source=collection_archive---------20-----------------------#2020-06-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5479" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用Dash、Plotly和Python构建财务仪表盘</h2></div><p id="9a89" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这篇文章将会和我之前的有所不同。我们不会使用Python来分析财务数据或评估公司价值。相反，我们将学习<strong class="kh ir">如何使用<a class="ae lb" href="https://plotly.com/" rel="noopener ugc nofollow" target="_blank"> Plotly和Dash </a>用Python </strong>创建一个财务仪表板。下面是我们将建立什么样的样本！</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/690ef3d4e1125499ae107d959c47a7fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y3wAhsrKoBqjljQSvIm2Hg.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">使用Python的财务仪表板</p></figure><h1 id="4905" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使用Python的交互式仪表盘</h1><p id="c848" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">Plotly是一个伟大的免费Python库，用于创建交互式图形和仪表板。<a class="ae lb" href="https://dash.plotly.com/installation" rel="noopener ugc nofollow" target="_blank"> Plotly文档</a>非常棒，对于开始创建我们自己的交互式图形来说已经足够了，不需要了解HTML、CSS或JavaScript。当然，先前的HTML知识会对你有利，但这不是必需的。</p><p id="9f81" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我将介绍拥有一个可工作的交互式仪表板的基本部分。</p><p id="d597" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将建立一个非常基本的仪表板，在这里<strong class="kh ir">我们将在几秒钟内输入一家公司的股票</strong> <strong class="kh ir">和</strong>，<strong class="kh ir">我们将在屏幕上看到两个财务条形图</strong> <strong class="kh ir">显示一段时间内公司的收入和净收入</strong>。</p><p id="1e59" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦你很好地理解了我们在做什么以及Dash是如何工作的，你就能够自己创建更高级的仪表板了。</p><h2 id="90f7" class="mp lt iq bd lu mq mr dn ly ms mt dp mc ko mu mv me ks mw mx mg kw my mz mi na bi translated">在Python中启动我们的财务仪表板—安装Dash</h2><p id="ed83" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">首先，在开始安装Dash的代码之前。我们可以通过在终端中运行下面的命令很容易地做到这一点。如果您已经安装了Dash，可以跳过这一部分。</p><pre class="ld le lf lg gt nb nc nd ne aw nf bi"><span id="58a3" class="mp lt iq nc b gy ng nh l ni nj">pip install dash==1.12.0</span></pre><p id="f612" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">很好，有了这一行代码，您已经安装了运行Dash所需的所有组件。</p><h2 id="5e1b" class="mp lt iq bd lu mq mr dn ly ms mt dp mc ko mu mv me ks mw mx mg kw my mz mi na bi translated">Dash如何工作</h2><p id="7a86" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">我们用Dash做的是创建一个将在我们本地服务器上运行的应用程序(我稍后将创建一个帖子，展示如何用Heroku在线发布它)。</p><p id="69e9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> Dash应用由两部分组成</strong>。一个<strong class="kh ir">布局组件</strong>，我们将需要输入HTML来创建页面的设计。<strong class="kh ir">和定义应用功能</strong>的第二组件。</p><p id="d088" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了用Python创建我们的财务仪表板，我们将有一个非常基本的布局。让我们开始我们的交互式仪表板，并在下一部分提供基本布局。</p><h1 id="7bd1" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">创建财务仪表板布局</h1><p id="67b4" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">我们将在一个标准的Python文件中编写代码，例如，<em class="nk"> dashboard_fin.py </em>。首先，我们导入所有需要的包。使用核心Dash功能需要以下四行代码。它们取自Dash文档。如果您想了解每个软件包提供的更多信息，请随意查看:</p><pre class="ld le lf lg gt nb nc nd ne aw nf bi"><span id="349e" class="mp lt iq nc b gy ng nh l ni nj">import dash <br/>import dash_core_components as dcc <br/>import dash_html_components as html <br/>from dash.dependencies import Input, Output</span></pre><p id="a5e9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">核心组件</strong>是我们将使用<strong class="kh ir">在我们的财务仪表板中创建交互式仪表盘图</strong>的组件。这个<strong class="kh ir"> <em class="nk"> HTML </em>组件将被用来构建和设计页面</strong>的布局。最后，我们还从dash依赖项中导入输入和输出。</p><p id="39cf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="nk">输入</em>将是用户在仪表板中输入的信息。这些输入将进入Python函数，以便返回某些数据。</p><p id="0b48" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="nk">另一侧的输出</em>将成为我们绘制数据的图形占位符。我们将构建一个Python函数，它将接受输入，转换输入，并以图形的形式返回输出，以包含在HTML布局部分中。</p><p id="2d20" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们将使用<em class="nk">请求</em>从API获取数据，并使用<em class="nk">构建我们的图表。</em></p><pre class="ld le lf lg gt nb nc nd ne aw nf bi"><span id="3b21" class="mp lt iq nc b gy ng nh l ni nj">import requests <br/>import plotly.graph_objects as go</span></pre><p id="5369" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们可以通过传递下面的代码行来创建应用程序。这将创建一个包含我们的应用程序的对象:</p><pre class="ld le lf lg gt nb nc nd ne aw nf bi"><span id="d255" class="mp lt iq nc b gy ng nh l ni nj">app = dash.Dash()</span></pre><p id="4c87" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们准备创建页面布局。我们将有一个<em class="nk"> H1 </em>标题，然后是一个<em class="nk"> Div </em>部分，包含我们的输入文本框和两个图形:</p><pre class="ld le lf lg gt nb nc nd ne aw nf bi"><span id="8dae" class="mp lt iq nc b gy ng nh l ni nj">app.layout = html.Div([<br/>  html.H1('Financial Dashboard'),</span><span id="80f3" class="mp lt iq nc b gy nl nh l ni nj">html.Div([<br/>  dcc.Input(id='company_selection',value='AAPL'),<br/>  html.H3(id='text'),<br/>  dcc.Graph(id ='revenue'),<br/>  dcc.Graph(id ='netincome'),<br/>  ],style= {'padding':10})<br/>])</span></pre><p id="2003" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，在我们的<em class="nk"> Div </em>部分中有三个元素:</p><ul class=""><li id="35d5" class="nm nn iq kh b ki kj kl km ko no ks np kw nq la nr ns nt nu bi translated"><strong class="kh ir">输入</strong>:文本框，用户将在其中输入要求财务数据的公司名称。</li><li id="04b0" class="nm nn iq kh b ki nv kl nw ko nx ks ny kw nz la nr ns nt nu bi translated"><strong class="kh ir">图形</strong>:这是显示图形的占位符。它将是我们财务仪表板的主要组成部分。图形数据和类型将构建在我们的Python函数中。</li><li id="25db" class="nm nn iq kh b ki nv kl nw ko nx ks ny kw nz la nr ns nt nu bi translated"><strong class="kh ir"> H3 </strong>:占位符，显示我们正在显示数据的公司的名称。</li></ul><p id="be5b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，每个组件的id将在稍后的Python函数中用作引用，以便传递数据或输出数据。它是布局和财务仪表板功能之间的链接。</p><h1 id="6f33" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">在我们的Python财务仪表板中构建功能</h1><p id="d153" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">现在我们已经准备好了布局，我们可以简单地创建一个函数来获取数据并创建一个交互式图形。我们将使用<a class="ae lb" href="https://financialmodelingprep.com/" rel="noopener ugc nofollow" target="_blank"> financialmodelingprep </a>来检索公司的财务状况。它每月提供250个免费的API调用。</p><p id="7236" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于我们的Python财务仪表板，我将只检索公司<em class="nk">收入</em>和净收入<em class="nk">收入</em>。由于我在之前的帖子中已经多次提到过这个部分，所以我将不再赘述如何检索财务数据的细节。</p><p id="5934" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们的函数将返回字典形式的数据点，我们将使用Plotly来构建图形。更多关于如何绘制图表的细节可以在这里找到。然后，我们使用一个<em class="nk"> app.callback() decorator </em>来将输入和输出链接到我们的Dash布局组件。<a class="ae lb" href="https://dash.plotly.com/basic-callbacks" rel="noopener ugc nofollow" target="_blank">这是让我们的财务仪表板能够互动并响应用户输入的部分</a>。</p><p id="9816" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将有两个功能。每个功能都将在我们的财务仪表板中显示单个条形图的数据。第一个，它将绘制一段时间内公司的收入。</p><pre class="ld le lf lg gt nb nc nd ne aw nf bi"><span id="6d9e" class="mp lt iq nc b gy ng nh l ni nj"><a class="ae lb" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.callback(Output('revenue','figure'),<br/>              [Input('company_selection','value')])<br/>def retrieve_revenue(company):<br/>  demo = 'your api key'<br/>  stock = company<br/>  print(stock)<br/>  IS = requests.get(f'<a class="ae lb" href="https://financialmodelingprep.com/api/v3/financials/income-statement/{company}?apikey={demo}'" rel="noopener ugc nofollow" target="_blank">https://financialmodelingprep.com/api/v3/financials/income-statement/{company}?apikey={demo}'</a>)<br/>  IS = IS.json()<br/>  IS = IS['financials']<br/>  Revenues = []<br/>  Dates = []<br/>  count = 0<br/>  for item in IS:<br/>    Revenues.append(float(IS[count]['Revenue']))<br/>    Dates.append(IS[count]['date'])<br/>    count += 1<br/>  print(Revenues)</span><span id="471f" class="mp lt iq nc b gy nl nh l ni nj">datapoints = {'data': [go.Bar(x=Dates, y=Revenues)],'layout': dict(xaxis={'title':'Date'},<br/>                                                                      yaxis={'title':'Revenue'},<br/>                                                                            )}</span><span id="0670" class="mp lt iq nc b gy nl nh l ni nj">return datapoints</span></pre><p id="e60b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而第二个函数将绘制公司随时间的净收入。注意，这两个函数几乎是相同的。我们只改变了id 和字典键来从API中提取净收入<em class="nk">。</em></p><pre class="ld le lf lg gt nb nc nd ne aw nf bi"><span id="b7d7" class="mp lt iq nc b gy ng nh l ni nj"><a class="ae lb" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.callback(Output('netincome','figure'),<br/>              [Input('company_selection','value')])<br/>def retrieve_revenue(company):<br/>  demo = 'your api key'<br/>  stock = company<br/>  IS = requests.get(f'<a class="ae lb" href="https://financialmodelingprep.com/api/v3/financials/income-statement/{company}?apikey={demo}'" rel="noopener ugc nofollow" target="_blank">https://financialmodelingprep.com/api/v3/financials/income-statement/{company}?apikey={demo}'</a>)<br/>  IS = IS.json()<br/>  IS = IS['financials']<br/>  Revenues = []<br/>  Dates = []<br/>  count = 0<br/>  for item in IS:<br/>    Revenues.append(float(IS[count]['Net Income']))<br/>    Dates.append(IS[count]['date'])<br/>    count += 1<br/> <br/>  datapoints = {'data': [go.Bar(x=Dates, y=Revenues,marker_color='lightsalmon',name='Net Income')],<br/>  'layout': dict(xaxis={'title':'Date'},<br/>                yaxis={'title':'Net Income'},<br/>                  )}</span><span id="5dbf" class="mp lt iq nc b gy nl nh l ni nj">return datapoints</span></pre><h1 id="7fdd" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">仪表板输入-输出链接</h1><p id="7b58" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">这两个函数都返回用户在财务仪表板输入框中请求的公司财务数据。例如，如果用户传递股票代码<em class="nk"> AAPL </em>，Python函数将把<em class="nk"> AAPL </em>作为输入，并将其传递给url请求，以便检索苹果的财务数据。</p><p id="ac36" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们将每年的<em class="nk">收入</em>(或<em class="nk">净收入</em>)和<em class="nk">日期</em>添加到一个Python列表中，并将它们传递给<em class="nk"> go。条形图</em>图创建一个条形图。</p><p id="2eb6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，该函数返回一个包含图形数据点和布局的字典，然后在具有相同<em class="nk"> id </em>的HTML图形占位符中输出。</p><p id="2cc4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了让用户知道我们正在显示数据的公司的名称，我们可以在HTML布局中添加一个链接到我们的H3部分的附加函数:</p><pre class="ld le lf lg gt nb nc nd ne aw nf bi"><span id="5e00" class="mp lt iq nc b gy ng nh l ni nj"><a class="ae lb" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.callback(<br/>    Output(component_id='text', component_property='children'),<br/>    [Input(component_id='company_selection', component_property='value')]<br/>)<br/>def update_output_div(input_value):<br/>    return 'Displaying Data for "{}"'.format(input_value)</span></pre><h1 id="b8f6" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">启动财务仪表板</h1><p id="afd4" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">要运行财务仪表板，我们只需添加以下代码行，并从终端运行我们的python脚本。</p><pre class="ld le lf lg gt nb nc nd ne aw nf bi"><span id="06bd" class="mp lt iq nc b gy ng nh l ni nj">if __name__ == '__main__':<br/>    app.run_server(debug=True)</span></pre><p id="7c55" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，该应用程序将在您的本地服务器上运行于<em class="nk"/><a class="ae lb" href="http://127.0.0.1:8050/." rel="noopener ugc nofollow" target="_blank"><em class="nk">http://127 . 0 . 0 . 1:8050/</em>。你可以简单地在浏览器中复制并粘贴网址，你应该能看到类似下面的内容。只需在文本框中输入任何一家公司的股票代码，图表就会交互更新！</a></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/690ef3d4e1125499ae107d959c47a7fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y3wAhsrKoBqjljQSvIm2Hg.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">带破折号的财务仪表板</p></figure><p id="8c17" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">如果图形没有显示，请确保您也已经安装了</strong><a class="ae lb" href="https://plotly.com/python/getting-started/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"/></a><strong class="kh ir">。</strong></p><p id="5208" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，您应该准备开始构建自己的更高级的仪表板了。订阅我的社交媒体频道，在我的下一篇文章中了解如何在线发布仪表板。</p><p id="2973" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">查看我一步一步解释代码的视频教程:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="oa ob l"/></div></figure><pre class="ld le lf lg gt nb nc nd ne aw nf bi"><span id="59e3" class="mp lt iq nc b gy ng nh l ni nj">import dash<br/>import dash_core_components as dcc<br/>import dash_html_components as html <br/>from dash.dependencies import Input, Output </span><span id="ed6d" class="mp lt iq nc b gy nl nh l ni nj">import requests <br/>import plotly.graph_objects as go</span><span id="f1d6" class="mp lt iq nc b gy nl nh l ni nj">app = dash.Dash() </span><span id="7861" class="mp lt iq nc b gy nl nh l ni nj">app.layout = html.Div([ <br/>  html.H1('Financial Dashboard'), <br/>  html.Div([ dcc.Input(id='company_selection',value='AAPL'), <br/>  html.H3(id='text'), dcc.Graph(id ='revenue'),<br/>  dcc.Graph(id ='netincome'), ],style= {'padding':10})<br/> ]) </span><span id="e3ce" class="mp lt iq nc b gy nl nh l ni nj"><br/>@app.callback(Output('revenue','figure'),         [Input('company_selection','value')])<br/>def retrieve_revenue(company):<br/>  demo = 'your api key' <br/>  stock = company print(stock)<br/>  IS = requests.get(f'https://financialmodelingprep.com/api/v3/financials/income-statement/{company}?apikey={demo}')</span><span id="6861" class="mp lt iq nc b gy nl nh l ni nj">IS = IS.json()<br/>IS = IS['financials'] <br/>Revenues = []<br/>Dates = []<br/>count = 0</span><span id="d150" class="mp lt iq nc b gy nl nh l ni nj">for item in IS:<br/>   Revenues.append(float(IS[count]['Revenue'])) <br/>   Dates.append(IS[count]['date']) <br/>   count += 1 </span><span id="b590" class="mp lt iq nc b gy nl nh l ni nj">datapoints = {'data': [go.Bar(x=Dates, y=Revenues)],'layout':   dict(xaxis={'title':'Date'}, yaxis={'title':'Revenue'}, )} </span><span id="0df7" class="mp lt iq nc b gy nl nh l ni nj">return datapoints</span><span id="45fa" class="mp lt iq nc b gy nl nh l ni nj"> <br/>@app.callback(Output('netincome','figure'), [Input('company_selection','value')]) <br/>def retrieve_revenue(company): </span><span id="8d75" class="mp lt iq nc b gy nl nh l ni nj">demo = 'your api key' <br/>stock = company <br/>IS = requests.get(f'https://financialmodelingprep.com/api/v3/financials/income-statement/{company}?apikey={demo}') <br/>IS = IS.json() <br/>IS = IS['financials'] <br/>Revenues = [] <br/>Dates = [] <br/>count = 0 </span><span id="21aa" class="mp lt iq nc b gy nl nh l ni nj">for item in IS: <br/>  Revenues.append(float(IS[count]['Net Income']))   <br/>  Dates.append(IS[count]['date'])<br/>  count += 1</span><span id="f54f" class="mp lt iq nc b gy nl nh l ni nj">datapoints = {'data': [go.Bar(x=Dates, y=Revenues,marker_color='lightsalmon',name='Net Income')], 'layout': dict(xaxis={'title':'Date'}, yaxis={'title':'Net Income'}, )}</span><span id="06b9" class="mp lt iq nc b gy nl nh l ni nj">return datapoints </span><span id="cf76" class="mp lt iq nc b gy nl nh l ni nj">@app.callback( Output(component_id='text', component_property='children'), [Input(component_id='company_selection', component_property='value')] ) <br/>def update_output_div(input_value): <br/>  return 'Displaying Data for "{}"'.format(input_value)</span><span id="b472" class="mp lt iq nc b gy nl nh l ni nj">if __name__ == '__main__': app.run_server(debug=True)</span></pre></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="b0c4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="nk">原载于2020年6月14日https://codingandfun.com</em><a class="ae lb" href="https://codingandfun.com/creating-a-dashboard-with-python/" rel="noopener ugc nofollow" target="_blank"><em class="nk"/></a><em class="nk">。</em></p></div></div>    
</body>
</html>