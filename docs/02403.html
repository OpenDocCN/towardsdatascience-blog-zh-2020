<html>
<head>
<title>Quick Code: Exporting Matplotlib Animations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速代码:导出Matplotlib动画</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/quick-code-exporting-matplotlib-animations-49cd0ecf32ba?source=collection_archive---------11-----------------------#2020-03-07">https://towardsdatascience.com/quick-code-exporting-matplotlib-animations-49cd0ecf32ba?source=collection_archive---------11-----------------------#2020-03-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="993c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何将动画Matplotlib图形导出为GIF文件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/bdf254b75dcb045d47a857fba44f7ecf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*F6dn4BUOlUSR82XuPvrdBQ.gif"/></div></figure><p id="09a7" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">Matplotlib的一个经常被忽略的特性。动画在数据可视化方面开辟了一个全新的世界。让我们能够显著提高我们工作的影响力。</p><p id="9a73" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">上图是使用以下代码创建的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lm ln l"/></div></figure><p id="0dd4" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果您尝试在Python中运行它，您可能会得到下面的<code class="fe lo lp lq lr b">ValueError: unknown file extension: .gif</code>。这是因为Matplotlib本身不支持gif。</p><p id="d2aa" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">幸运的是，这个问题的解决方案非常简单。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="3b9d" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">循序渐进</h1><p id="2965" class="pw-post-body-paragraph kq kr it ks b kt mr ju kv kw ms jx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated">我们首先从<a class="ae mw" href="https://imagemagick.org/script/download.php#windows" rel="noopener ugc nofollow" target="_blank">这里</a>为Windows用户下载<strong class="ks iu"> ImageMagick </strong>(其他操作系统可以在同一网站找到)。这将用于把我们的动画人物转换成gif。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi mx"><img src="../Images/ac96ab699487c2a4d4a3d9167db694c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mDhHDxE2_w2eu9aNb4xprA.png"/></div></div></figure><p id="060d" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">像安装其他程序一样运行可执行文件并安装，记下它的安装位置。对我来说，这是<code class="fe lo lp lq lr b">C:\Program Files\ImageMagick-7.0.9-Q16</code>。</p><p id="13ea" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">现在，我们需要更新Matplotlib的配置文件来使用ImageMagick进行GIF导出。要查找该文件位置，请切换到Python并键入:</p><pre class="kj kk kl km gt nc lr nd ne aw nf bi"><span id="8119" class="ng ma it lr b gy nh ni l nj nk">import matplotlib<br/>matplotlib.matplotlib_fname()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/2f9f02e9ec0071a9155d5de6dcdca5ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:522/format:webp/1*NUF-PgKZ8kSJkn8EFIqetw.png"/></div></figure><p id="9cf0" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这将给你配置文件<code class="fe lo lp lq lr b">matplotlibrc</code>的位置。用文本编辑器打开它。现在，要启用<strong class="ks iu"> GIF </strong>支持，找到这一行:</p><pre class="kj kk kl km gt nc lr nd ne aw nf bi"><span id="cdae" class="ng ma it lr b gy nh ni l nj nk">#animation.convert_path:  convert</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/6fe9e9d7afc010f12b70693dad1e70ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/1*dV3_sYURwTnceq5VFgJAMQ.png"/></div></figure><p id="e6a8" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">现在用ImageMagick的<code class="fe lo lp lq lr b">convert.exe</code>文件的路径替换<code class="fe lo lp lq lr b">convert</code>。这存储在ImageMagick目录的顶层。对我来说，这一行变成了:</p><pre class="kj kk kl km gt nc lr nd ne aw nf bi"><span id="55db" class="ng ma it lr b gy nh ni l nj nk">animation.convert_path:  C:\Program Files\ImageMagick-7.0.9-Q16\convert.exe</span></pre><ul class=""><li id="582b" class="nn no it ks b kt ku kw kx kz np ld nq lh nr ll ns nt nu nv bi translated"><em class="nw">注意，您必须取消对该行的注释，否则它将被忽略。</em></li></ul><p id="59db" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">现在，您可以在Python代码中将Matplotlib动画<code class="fe lo lp lq lr b">anim</code>保存为GIF格式，只需:</p><pre class="kj kk kl km gt nc lr nd ne aw nf bi"><span id="6658" class="ng ma it lr b gy nh ni l nj nk">anim.save('animation.gif', writer='imagemagick')</span></pre></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><p id="7a4d" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">现在我们可以分享精彩的动画Matplotlib情节！看看这些例子:</p><h2 id="8e2c" class="ng ma it bd mb nx ny dn mf nz oa dp mj kz ob oc ml ld od oe mn lh of og mp oh bi translated">正弦波</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi oi"><img src="../Images/70432fd7d4c6e96dd36252dd4581a12a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*5b1vvyAKPddgoz-WVBMY8A.gif"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lm ln l"/></div></figure><h2 id="7534" class="ng ma it bd mb nx ny dn mf nz oa dp mj kz ob oc ml ld od oe mn lh of og mp oh bi translated">表面旋转</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/002208964f59f3bf16845c2acaa38aac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*VK5BFiVEB5LVh2GxiMIUrA.gif"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lm ln l"/></div></figure><p id="6ff4" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我希望这个快速教程已经有用，让我知道你是否有任何问题！</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="add8" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated"><strong class="ak">有用链接</strong></h1><p id="dd3a" class="pw-post-body-paragraph kq kr it ks b kt mr ju kv kw ms jx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated">我为那些想了解Matplotlib中可用的动画工具的人提供了一些有用的链接。</p><h2 id="bcf2" class="ng ma it bd mb nx ny dn mf nz oa dp mj kz ob oc ml ld od oe mn lh of og mp oh bi translated"><strong class="ak">动画文档:</strong></h2><p id="5883" class="pw-post-body-paragraph kq kr it ks b kt mr ju kv kw ms jx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated"><a class="ae mw" href="https://matplotlib.org/3.1.1/api/animation_api.html" rel="noopener ugc nofollow" target="_blank">https://matplotlib.org/3.1.1/api/animation_api.html</a></p><h2 id="ec60" class="ng ma it bd mb nx ny dn mf nz oa dp mj kz ob oc ml ld od oe mn lh of og mp oh bi translated">动画教程:</h2><p id="f249" class="pw-post-body-paragraph kq kr it ks b kt mr ju kv kw ms jx ky kz mt lb lc ld mu lf lg lh mv lj lk ll im bi translated"><a class="ae mw" href="https://jakevdp.github.io/blog/2012/08/18/matplotlib-animation-tutorial/" rel="noopener ugc nofollow" target="_blank">https://jakevdp . github . io/blog/2012/08/18/matplotlib-animation-tutorial/</a></p><h2 id="528d" class="ng ma it bd mb nx ny dn mf nz oa dp mj kz ob oc ml ld od oe mn lh of og mp oh bi translated"><strong class="ak">Matplotlib中关于动画的优秀文章:</strong></h2><div class="oj ok gp gr ol om"><a rel="noopener follow" target="_blank" href="/animations-with-matplotlib-d96375c5442c"><div class="on ab fo"><div class="oo ab op cl cj oq"><h2 class="bd iu gy z fp or fr fs os fu fw is bi translated">Matplotlib动画</h2><div class="ot l"><h3 class="bd b gy z fp or fr fs os fu fw dk translated">动画是展示一种现象的有趣方式。我们人类总是被动画和…</h3></div><div class="ou l"><p class="bd b dl z fp or fr fs os fu fw dk translated">towardsdatascience.com</p></div></div><div class="ov l"><div class="ow l ox oy oz ov pa ko om"/></div></div></a></div></div></div>    
</body>
</html>