<html>
<head>
<title>How to use CTEs in SQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SQL中使用cte</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-ctes-to-improve-sql-queries-dfcb04b7edf0?source=collection_archive---------6-----------------------#2020-03-01">https://towardsdatascience.com/using-ctes-to-improve-sql-queries-dfcb04b7edf0?source=collection_archive---------6-----------------------#2020-03-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ce9f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">启动和运行cte的介绍</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3292df00794638443188c60aacda0961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-lip49A_DUn3WwNpHhljRw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片来自<a class="ae ky" href="https://www.pexels.com/photo/man-in-white-shirt-using-macbook-pro-52608/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae ky" href="https://www.pexels.com/@punttim?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Tim Gouw </a></p></figure><p id="8f8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您曾经使用过SQL，您就会知道当您创建一个对以后使用有帮助的编写良好的查询时，它是多么重要。通常，当您查询某个东西时，您只使用它一次，但是有时您需要引用旧的查询——这就是<strong class="lb iu">通用表表达式(cte)</strong>的用武之地！</p><blockquote class="lv lw lx"><p id="b7f7" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">一个<a class="ae ky" href="https://www.sqlservertutorial.net/sql-server-basics/sql-server-cte/" rel="noopener ugc nofollow" target="_blank"> CTE </a>允许你定义一个临时命名的结果集，在一个语句的执行范围内临时可用，比如<code class="fe mc md me mf b"><a class="ae ky" href="https://www.sqlservertutorial.net/sql-server-basics/sql-server-select/" rel="noopener ugc nofollow" target="_blank"><em class="it">SELECT</em></a></code>、<code class="fe mc md me mf b"><a class="ae ky" href="https://www.sqlservertutorial.net/sql-server-basics/sql-server-insert/" rel="noopener ugc nofollow" target="_blank"><em class="it">INSERT</em></a></code>、<code class="fe mc md me mf b"><a class="ae ky" href="https://www.sqlservertutorial.net/sql-server-basics/sql-server-update/" rel="noopener ugc nofollow" target="_blank"><em class="it">UPDATE</em></a></code>、<code class="fe mc md me mf b"><a class="ae ky" href="https://www.sqlservertutorial.net/sql-server-basics/sql-server-delete/" rel="noopener ugc nofollow" target="_blank"><em class="it">DELETE</em></a></code>或者<code class="fe mc md me mf b"><a class="ae ky" href="https://www.sqlservertutorial.net/sql-server-basics/sql-server-merge/" rel="noopener ugc nofollow" target="_blank"><em class="it">MERGE</em></a></code>。</p></blockquote><p id="f779" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于本教程，我将假设您具有初级—中级SQL经验。如果你没有，这里有一些很好的资源可以帮助你开始。</p><ul class=""><li id="7b3c" class="mg mh it lb b lc ld lf lg li mi lm mj lq mk lu ml mm mn mo bi translated"><a class="ae ky" href="https://www.datacamp.com/courses/" rel="noopener ugc nofollow" target="_blank">数据营</a></li><li id="cf54" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ml mm mn mo bi translated">周末速成班</li><li id="032b" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ml mm mn mo bi translated"><a class="ae ky" href="https://www.udemy.com/course/sqldatabases/" rel="noopener ugc nofollow" target="_blank">学习MS SQL Server + PostgreSQL </a></li></ul></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="5949" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">入门指南</h1><p id="aefe" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">我将从<a class="ae ky" href="https://www.datacamp.com/courses" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Datacamp的</strong> </a> SQL课程中使用一个电影数据库。(如果你是一名拥有<strong class="lb iu"><em class="ly">【edu】</em></strong>电子邮件的学生，并且想要获得三个月的免费Datacamp访问— <a class="ae ky" href="https://education.github.com/pack" rel="noopener ugc nofollow" target="_blank"> GitHub学生开发者包</a>)。</p><p id="23d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">电影数据库由以下表格(+列)组成:</p><ul class=""><li id="ba91" class="mg mh it lb b lc ld lf lg li mi lm mj lq mk lu ml mm mn mo bi translated"><strong class="lb iu">电影</strong>——(id、片名、上映年份、国家/地区、时长、语言、认证、总票房、&amp;预算)</li><li id="0764" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ml mm mn mo bi translated"><strong class="lb iu">人</strong>——(身份证，姓名，出生日期，&amp;死亡日期)</li><li id="4757" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ml mm mn mo bi translated"><strong class="lb iu">评论</strong>——(电影id，用户数量，评论数量，imdb评分，投票数量，&amp; facebook点赞)</li><li id="231d" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ml mm mn mo bi translated"><strong class="lb iu">角色</strong>——(id，film_id，person_id，角色)</li></ul><p id="acb5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到表格和列。可以用几把钥匙把桌子连接起来。下面是每个表的快照。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/0018b76806dc7ade0a224b1264d6ccc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q4wd4nHsYfItv22Qhw8pcA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd nz">影片表(</strong> <a class="ae ky" href="https://www.datacamp.com/courses" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nz">【数据营】</strong> </a> <strong class="bd nz"> ) </strong></p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/f0d0d02ecb44b3dea9b88fb8bd83aed5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hwb_DexixfWlv7u0JbtKDg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd nz">人表(</strong><a class="ae ky" href="https://www.datacamp.com/courses" rel="noopener ugc nofollow" target="_blank"><strong class="bd nz">data camp</strong></a><strong class="bd nz">)</strong></p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/2a2680a29a266d60ace4dff2a51e5048.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XDnSRdxsToLD8TLGMdMkZg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd nz">评论表(</strong><a class="ae ky" href="https://www.datacamp.com/courses" rel="noopener ugc nofollow" target="_blank"><strong class="bd nz">data camp</strong></a><strong class="bd nz">)</strong></p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/3928d1c5857b2885c2fc66fba5684230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g1Qt0vR462n1NCQ4Gm_GtA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd nz">角色表(</strong><a class="ae ky" href="https://www.datacamp.com/courses" rel="noopener ugc nofollow" target="_blank"><strong class="bd nz">data camp</strong></a><strong class="bd nz">)</strong></p></figure></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="fcfd" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">CTEs简介</h1><p id="bc6c" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">如前所述，cte在语句的执行范围内暂时可用。</p><p id="09cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是CTE的基本布局。</p><pre class="kj kk kl km gt oc mf od oe aw of bi"><span id="c514" class="og nc it mf b gy oh oi l oj ok"><strong class="mf iu">WITH </strong>CTE_NAME(column_1, column_2, column_3)<br/><strong class="mf iu">AS</strong><br/>    (--<strong class="mf iu"><em class="ly">normal SQl query</em></strong><br/>       SELECT *<br/>       FROM table)</span></pre><p id="5684" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中，CTE必须以带有的<strong class="lb iu">开始。这告诉您的查询这是一个CTE语句。接下来，<strong class="lb iu"> CTE_NAME </strong>是你想给它取的名字。你可以给它起任何名字，但是由于这通常是用于以后的参考，所以它应该是有意义的。column_1、column_2、&amp; column_3是您希望为列设置别名的名称。最后，<strong class="lb iu">作为</strong>，是SQL语句的开始，我将其标记为# <em class="ly">普通SQL查询</em>作为注释参考。</strong></p><p id="35a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看它的实际效果吧！</p><p id="698b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的目标是编写几个可以构建到CTE中的查询。我们试图找到以下内容，</p><blockquote class="lv lw lx"><p id="db20" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">2014年IMDB收视率最高的电影，演员的名字以“Matt”开头</p></blockquote><p id="fb72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以立即看到查询可以分解成几个部分。</p><ol class=""><li id="c2d4" class="mg mh it lb b lc ld lf lg li mi lm mj lq mk lu ol mm mn mo bi translated">Names = 'Matt '</li><li id="49b0" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ol mm mn mo bi translated">电影和IMDB评级</li><li id="b4a9" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ol mm mn mo bi translated">2014年</li><li id="84b6" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ol mm mn mo bi translated">第三高的IMDB</li></ol><p id="d03b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这个例子，我们将创建两个cte。</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="f0dc" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">第一个查询Matt这个名字</h1><p id="1e88" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">我们将首先编写一个没有CTE语法的查询来调用整个数据库中名字中包含“Matt”的所有人。我们还想加入<em class="ly"> roles </em>表，以找出该演员所在的确切的<em class="ly"> film_id </em>。</p><pre class="kj kk kl km gt oc mf od oe aw of bi"><span id="86ef" class="og nc it mf b gy oh oi l oj ok">SELECT p.name, r.film_id<br/>FROM people AS p<br/>JOIN roles AS r<br/>ON p.id = r.person_id<br/>WHERE p.name LIKE 'Matt%'</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/30572fbeeb39731c66be28b645ab6343.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TzJc_c5F5LQDZG-VgiSWMQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">所有“马特”名字的输出和他们出演的电影</p></figure><p id="ce48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们有了一个调用所有Matt的查询，我们可以在以后构建CTE时使用它。</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="0012" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">第二个问题—2014年电影和IMDB评级</h1><p id="ade9" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">我们希望构建下一个查询来查找2014年的每部电影，并加入<em class="ly">评论</em>表来查找它们的IMDB评级。</p><pre class="kj kk kl km gt oc mf od oe aw of bi"><span id="5ea2" class="og nc it mf b gy oh oi l oj ok">SELECT f.id, f.title, f.release_year, r.imdb_score<br/>FROM films AS f<br/>JOIN reviews AS r<br/>ON f.id = r.film_id<br/>WHERE f.release_year = 2014</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/2a04cd1aca72f0c3a2dc427e3fcfdf11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jf-DYKKM2hO-VpXItJFGBg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">查询输出</p></figure><p id="c18b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们已经从两个查询中获得了所有必要的信息，可以找到答案，找出由名为“Matt”的演员主演的电影在IMDB中的评分最高</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="f3b4" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">建造CTE</h1><p id="8ade" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">让我们结合前面的两个查询来创建这个CTE。当我们想在同一个语句中添加第二个CTE时，我们添加一个逗号并添加第二个AS语句，如下所示。</p><pre class="kj kk kl km gt oc mf od oe aw of bi"><span id="d89e" class="og nc it mf b gy oh oi l oj ok"><strong class="mf iu">WITH</strong><br/>    <strong class="mf iu">MATT_cte</strong>(actor, <strong class="mf iu"><em class="ly">film_id</em></strong>)<br/>        <strong class="mf iu">AS</strong>(<br/>            SELECT p.name, r.film_id<br/>            FROM people AS p<br/>            JOIN roles AS r<br/>                ON p.id = r.person_id<br/>            WHERE p.name LIKE 'Matt%')<strong class="mf iu">,</strong></span><span id="fd96" class="og nc it mf b gy oo oi l oj ok"><strong class="mf iu">IMDB_cte</strong>(<strong class="mf iu"><em class="ly">film_id</em></strong>, movie, release_year, IMDB_Score)<br/>        <strong class="mf iu">AS</strong>(<br/>            SELECT f.id, f.title, f.release_year, r.imdb_score<br/>            FROM films AS f<br/>            JOIN reviews AS r<br/>                ON f.id = r.film_id<br/>            WHERE f.release_year = 2014)</span></pre><p id="4942" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的CTE已经构建并保存了别名为<strong class="lb iu"> MATT_cte </strong>和<strong class="lb iu"> IMDB_cte </strong>的两个查询。这些别名将在我们运行最终代码时作为参考。</p><p id="5224" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">需要注意的是，如果您计划连接稍后创建的两个cte，您将需要在两个cte中都有一个<a class="ae ky" href="https://www.w3schools.com/sql/sql_foreignkey.asp" rel="noopener ugc nofollow" target="_blank">外键</a>。在这种情况下，我们的外键在两个表中都是<strong class="lb iu"> <em class="ly"> film_id </em> </strong> <em class="ly">。</em></p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="f233" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">使用cte</h1><p id="4ac2" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">我们都准备使用我们的cte并得到我们的答案！让我们加入我们新的临时结果，并找出它是哪部电影。提醒，我们正试图得到以下。CTE将需要在同一个查询中被引用，所以我们在它下面添加了最后一个查询。</p><blockquote class="lv lw lx"><p id="bb35" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">2014年IMDB收视率最高的电影，演员的名字以“Matt”开头</p></blockquote><pre class="kj kk kl km gt oc mf od oe aw of bi"><span id="3d3d" class="og nc it mf b gy oh oi l oj ok">WITH<br/>    MATT_cte(actor, film_id)<br/>        AS(<br/>            SELECT p.name, r.film_id<br/>            FROM people AS p<br/>            JOIN roles AS r<br/>                ON p.id = r.person_id<br/>            WHERE p.name LIKE 'Matt%'),</span><span id="c4bd" class="og nc it mf b gy oo oi l oj ok">IMDB_cte(film_id, movie, release_year, IMDB_Score)<br/>        AS(<br/>            SELECT f.id, f.title, f.release_year, r.imdb_score<br/>            FROM films AS f<br/>            JOIN reviews AS r<br/>                ON f.id = r.film_id<br/>            WHERE f.release_year = 2014)</span><span id="23d0" class="og nc it mf b gy oo oi l oj ok"><strong class="mf iu">SELECT *<br/>FROM MATT_cte AS m<br/>JOIN IMDB_cte AS i<br/>    ON m.film_id = i.film_id<br/>ORDER BY i.IMDB_Score DESC</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/38aa0fbcef55ae4c637491a7a3dfb8a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uvNtdfpmkrujx3OZL4dWyQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">查询输出</p></figure><p id="6308" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经成功地找到了所有包含“马特”的名字，电影名称，IMDB评分和上映年份。</p><p id="f89e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们最终的答案是,<strong class="lb iu">星际</strong>是2014年IMDB中收视率最高的电影，它有一个名字以“马特”开头的演员。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/73d74c3ee04d14fb54c5276c4bcc3ca8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jzW4npyd6t8mIIRJ6Skm6w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">桌面壁纸由<a class="ae ky" href="https://desktopwalls.net/user/the-master-assassin/" rel="noopener ugc nofollow" target="_blank">刺客大师</a></p></figure></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="d11a" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">最终结果</h1><p id="63c0" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">我希望您看到cte为您的SQL查询带来的价值。如果您计划一次又一次地调用同一个查询，最好使用它。例如，如果我们只想要IMDB评分高于8的电影，我们可以创建一个临时结果来确保CTE始终可用。</p><p id="618e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SQL中使用的另一个有用的方法是子查询。我计划分享一个关于如何使用子查询的教程，所以一定要跟着我学习更多的课程！</p><p id="cf8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" href="https://www.linkedin.com/in/jasonmchlee/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Linkedin </strong> </a>或<a class="ae ky" href="https://github.com/jasonmchlee" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Github </strong> </a>上与我联系</p></div></div>    
</body>
</html>