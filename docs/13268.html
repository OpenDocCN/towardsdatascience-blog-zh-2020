<html>
<head>
<title>Visualization of Maharashtra’s Elections</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">马哈拉施特拉邦选举的可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualization-of-maharashtras-elections-f7e85a79edd1?source=collection_archive---------51-----------------------#2020-09-11">https://towardsdatascience.com/visualization-of-maharashtras-elections-f7e85a79edd1?source=collection_archive---------51-----------------------#2020-09-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="805e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">制作选举地图的指南</h2></div><p id="1a4c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi le translated">阿哈拉什特拉是印度人口第二多、面积第三大的邦。马哈拉施特拉邦对该国国内生产总值的贡献约为 15%，是该国最大的经济贡献者，而邦首府孟买则是该国的金融之都。此外，浦那还被称为“东方牛津”,因为那里有许多教育机构，如 IUCAA、NCRA、IISER 等。从今以后，马哈拉施特拉邦发生的任何事情都会在全国范围内产生经济影响。</p><p id="8352" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本文将介绍如何使用公开数据制作马哈拉施特拉邦 2019 年议会选举的 choropleth 地图。通常，程序集选区的形状文件在 internet 上是极其稀缺的资源。</p><h1 id="eee6" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">数据</h1><ol class=""><li id="ab0a" class="mf mg it kk b kl mh ko mi kr mj kv mk kz ml ld mm mn mo mp bi translated">议会选区的形状文件可以在这里找到【https://github.com/datameet/maps T2】</li><li id="829a" class="mf mg it kk b kl mr ko ms kr mt kv mu kz mv ld mm mn mo mp bi translated">各选区获胜政党的数据可从<a class="ae mq" href="https://eci.gov.in/files/file/11699-maharashtra-legislative-assembly-election-2019/" rel="noopener ugc nofollow" target="_blank">选举委员会网页</a>下载。</li></ol><h1 id="2b19" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">必需的包</h1><ol class=""><li id="94f6" class="mf mg it kk b kl mh ko mi kr mj kv mk kz ml ld mm mn mo mp bi translated">熊猫(安装指南:<a class="ae mq" href="https://pandas.pydata.org/pandas-docs/stable/getting_started/install.html" rel="noopener ugc nofollow" target="_blank">https://pandas . pydata . org/pandas-docs/stable/getting _ started/install . html</a>)</li><li id="6430" class="mf mg it kk b kl mr ko ms kr mt kv mu kz mv ld mm mn mo mp bi translated">Geopandas(安装:<a class="ae mq" href="https://geopandas.org/install.html" rel="noopener ugc nofollow" target="_blank">https://geopandas.org/install.html</a></li><li id="874d" class="mf mg it kk b kl mr ko ms kr mt kv mu kz mv ld mm mn mo mp bi translated">Seaborn(安装:<a class="ae mq" href="https://seaborn.pydata.org/installing.html" rel="noopener ugc nofollow" target="_blank">https://seaborn.pydata.org/installing.html</a></li><li id="6eca" class="mf mg it kk b kl mr ko ms kr mt kv mu kz mv ld mm mn mo mp bi translated">Matplotlib 和 numpy</li></ol><h1 id="9623" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">地图数据</h1><h2 id="62c7" class="mw lo it bd lp mx my dn lt mz na dp lx kr nb nc lz kv nd ne mb kz nf ng md nh bi translated">导入包</h2><p id="70f6" class="pw-post-body-paragraph ki kj it kk b kl mh ju kn ko mi jx kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated">首先，导入所需的包，如下所示:</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="2cd7" class="mw lo it nq b gy nu nv l nw nx">import pandas as pd<br/>import geopandas as gpd<br/>import matplotlib.pyplot as plt<br/>import numpy as np<br/>import seaborn as sns<br/>sns.set_style('whitegrid')</span></pre><p id="0c4a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">“set_style”是一个可选命令，为即将到来的绘图设置一个白色网格。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="c941" class="mw lo it nq b gy nu nv l nw nx"># Importing the shape file of assembly-constituencies<br/>fp = "assembly-constituencies"<br/>map_df = gpd.read_file(fp)<br/>map_df = map_df[map_df['ST_NAME']=='MAHARASHTRA']<br/>map_df = map_df[['AC_NAME', 'geometry']]<br/>map_df.reset_index(drop=True,inplace=True)<br/>map_df.head(3)</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div role="button" tabindex="0" class="oa ob di oc bf od"><div class="gh gi ny"><img src="../Images/d80a472ba6727a70b83af6a6f8986cb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*v2YUfvsH1w1pjqj5vht_ZQ.png"/></div></div></figure><p id="dc91" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">'<em class="og"> read_file </em>'导入印度议会选区的形状文件作为数据帧，'<em class="og">map _ df[' ST _ NAME ']= ' MAHARASHTRA</em>'过滤属于 MAHARASHTRA 的选区。后续行仅保留所需的特征，如选区名称(AC_NAME)和形状文件(geometry)。</p><h2 id="1a03" class="mw lo it bd lp mx my dn lt mz na dp lx kr nb nc lz kv nd ne mb kz nf ng md nh bi translated">基本探索性数据分析</h2><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="e18f" class="mw lo it nq b gy nu nv l nw nx">map_df.info()</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/d5d0ae1757fe7cfd4eacb7f010c53255.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*Rol3PLkNg31Ch7BTTC-DCg.png"/></div></figure><p id="d418" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从上面可以看出，有 288 个装配选区名称(<em class="og"> AC_NAME </em>)和 302 个形状文件(<em class="og"> geometry </em>)。来自印度<a class="ae mq" href="https://eci.gov.in/files/file/11699-maharashtra-legislative-assembly-election-2019/" rel="noopener ugc nofollow" target="_blank">选举委员会</a>的数据显示，印度共有 288 个议会选区。让我们探索更多来解决这种差异。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="d588" class="mw lo it nq b gy nu nv l nw nx"># Plot of the assembly-constituencies<br/>map_df.plot()</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/d68561031fa54c72cf66a9d2ab20f3ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:620/format:webp/1*6s1-JkDRCN6F-sRdjUXZOg.png"/></div></figure><p id="f568" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">形状文件的情节看起来很正常。让我们检查一下是否有空类型值。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="7605" class="mw lo it nq b gy nu nv l nw nx"># checking for null values<br/>Null_Values = map_df.isnull().sum()<br/>print(Null_Values)</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/ca0e604ddcf57ecb50de0282c88970fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:306/format:webp/1*aS3Z9cEHF5Ebfqa_t_O1_A.png"/></div></figure><p id="3934" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">python 中的空<em class="og"> </em>类型对象用<em class="og"> None </em>关键字表示。这里，<em class="og"> isnull() </em>命令将 DataFrame <em class="og"> map_df </em>转换为<em class="og"> True </em>或<em class="og"> False </em>表格，其中<em class="og"> True </em>是<em class="og"> None </em>关键字的占位符，反之亦然。sum()命令将值分别为 1 和 0 的<em class="og">真值</em>或<em class="og">假值</em>相加<em class="og">。</em>因此，选区名称中有 14 个缺失值，形状文件中同样没有缺失值。</p><p id="2fa7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这可以想象为 Seaborn 图书馆的热图:</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="943f" class="mw lo it nq b gy nu nv l nw nx"># It seems some of the names of the assembly-constituencies is missing!<br/>sns.heatmap(Null_Values)</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/1d01e1a1dfbc005fc59de0852d0a29ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*rFmk4JhPfr9goauohsmWZg.png"/></div></figure><p id="cf92" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">AC_NAME 列中的奇数直线表示缺少的值。这些值可以用熊猫的<em class="og"> dropna() </em>删除，如下所示。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="7761" class="mw lo it nq b gy nu nv l nw nx">map_df.dropna(inplace=True) # The 'None' type rows are removed<br/>map_df.reset_index(drop=True,inplace=True) # index is reset<br/>map_df.head()</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/3610c9eea9f7c69e9782006017e9dd62.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*6gGFzGcNppgI_rWtwvwMIg.png"/></div></figure><p id="2793" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">移除空类型值后，索引将被重置以考虑移除的值，并将选区名称设置为新索引—这是通过<em class="og"> drop=True </em>选项实现的。而<em class="og"> inplace=True </em>选项将这些变化保留在 map_df 数据帧中。</p><h2 id="f9e6" class="mw lo it bd lp mx my dn lt mz na dp lx kr nb nc lz kv nd ne mb kz nf ng md nh bi translated">数据清理</h2><p id="0bdb" class="pw-post-body-paragraph ki kj it kk b kl mh ju kn ko mi jx kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated">数据必须被清理以匹配来自<a class="ae mq" href="https://eci.gov.in/files/file/11699-maharashtra-legislative-assembly-election-2019/" rel="noopener ugc nofollow" target="_blank">选举委员会</a>的选区名称。人们可以看到，名称后面有<em class="og"> (ST) </em>和<em class="og"> (SC) </em>，以表示为 ST 和 SC 保留的选区。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="dbec" class="mw lo it nq b gy nu nv l nw nx">#Cleaning the names of assembly constituencies<br/>def text_process(names):<br/>    semi_cleaned_names = [word for word in names.strip().lower().split() if word not in ['(st)','(sc)']] <br/>    joined_cleaned_names = " ".join(semi_cleaned_names)<br/>    removed_st_names = joined_cleaned_names.replace("(st)","")<br/>    fully_cleaned_names = removed_st_names.replace("(sc)","")<br/>    return fully_cleaned_names</span><span id="bae1" class="mw lo it nq b gy om nv l nw nx"># The cleaned names<br/>map_df['cleaned_names']=map_df['AC_NAME'].apply(text_process)<br/>map_df = map_df[['cleaned_names','geometry']]</span></pre><p id="41d3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">apply 命令一次向<em class="og"> text_process() </em>函数发送一个单词。在这里，每个单词都去掉了前导和结尾的空格，转换成小写，并通过<em class="og"> names.strip()以空格分隔成更多的单词。降低()。【split()。一个示例单词<em class="og"> Arjuni Morgaon(SC) </em>在第一行代码后看起来像<em class="og"> ['arjuni '，' morgaon(sc)'] </em>。单词<em class="og"> (sc) </em>仍然保留在这个单词中，因为它没有用空格与<em class="og"> morgaon </em>分开。对这个字的<em class="og"> join() </em>命令将产生<em class="og"> arjuni morgaon(sc)。</em>最后，<em class="og">替换("(sc)"，" ")</em>会给出完全清洗的名字<em class="og"> arjuni morgaon </em>。</em></p><p id="f6c2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据帧现在看起来像这样:</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="b316" class="mw lo it nq b gy nu nv l nw nx">map_df.head()</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi on"><img src="../Images/a8be18b70d5909615d9b4ab4de6ee59b.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/1*NKO_mcjpkW9DU-2l-ShgUA.png"/></div></figure><h1 id="cb8a" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">选举数据</h1><p id="27af" class="pw-post-body-paragraph ki kj it kk b kl mh ju kn ko mi jx kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated">可以从<a class="ae mq" href="https://eci.gov.in/files/file/11699-maharashtra-legislative-assembly-election-2019/" rel="noopener ugc nofollow" target="_blank">选举委员会页面</a>下载 xlsx 格式的各选区获胜政党的数据。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="73bf" class="mw lo it nq b gy nu nv l nw nx"># Importing Election Data<br/>df_election = pd.read_excel('2-List of Successful Candidates.xlsx',names=np.array(['State','Constituency','Winner','Sex','Party','Symbol']))  </span><span id="8dab" class="mw lo it nq b gy om nv l nw nx">df_election.reset_index(drop=True)<br/>df_election.head()</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/26656c584167994acd378a0b555404ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*tR-kaIRHWDG3434LaXYQYQ.png"/></div></figure><p id="e8b9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">来自 pandas 的<em class="og"> read_excel </em>命令直接将 excel 表数据作为 DataFrame 导入，<em class="og"> names </em>选项为列设置新名称。</p><h2 id="48f8" class="mw lo it bd lp mx my dn lt mz na dp lx kr nb nc lz kv nd ne mb kz nf ng md nh bi translated">基本探索性数据分析</h2><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="84fc" class="mw lo it nq b gy nu nv l nw nx">df_election.info()</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi op"><img src="../Images/c8235360c4a9d6eebb4e0e0eca7e461f.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*pqe3y8EnNKpInR9AieUr1w.png"/></div></figure><p id="cf76" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的结果显示六列中没有空值。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="c88a" class="mw lo it nq b gy nu nv l nw nx">plt.figure(figsize=(10,5))<br/>sns.countplot(x='Party',data=df_election,)</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/f0c9d6d942a3b51aca41ddd4c78f6e2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*CsKrq6h9-tNZ9SFRHNbR5w.png"/></div></figure><p id="9310" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="og"> countplot </em>命令绘制了每一方赢得的选区数量，而<em class="og"> value_count() </em>给出了确切的数字:</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="b615" class="mw lo it nq b gy nu nv l nw nx">df_election['Party'].value_counts()</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi or"><img src="../Images/9f1e5de1d54a2ababfa373e541fc30cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:470/format:webp/1*Xxzdc3lXXhanuXiKm_QibA.png"/></div></figure><p id="1098" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">显然，前四大政党赢得的选区比其他政党多得多。现在，让我们只分离在 20 多个选区获胜的政党。这是为了关注表现良好的政党。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="3d07" class="mw lo it nq b gy nu nv l nw nx">df_successful_party = df_election['Party'].value_counts() &gt; 20<br/>df_successful_party=df_successful_party[df_successful_party==True].index<br/>Succ_parties = df_successful_party.values<br/>df = df_election['Party'].apply(lambda x: x in Succ_parties)<br/>sns.countplot(x = 'Party',data = df_election[df],hue='Sex')</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi os"><img src="../Images/b469b43269985aa6e49e12c97c819604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*piOupbWco4haBhc-lZDrJg.png"/></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">按性别对成功候选人进行党派细分。</p></figure><p id="213b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一行给出一个熊猫系列，以当事人名称为索引，列为<em class="og">真</em>或<em class="og">假</em>值，其中<em class="og">真</em>表示大于 20 的值，而<em class="og">假</em>否则为<em class="og">。</em>第二行通过<em class="og">索引</em>命令给出只有<em class="og">真</em>值的各方名称。第三行将各方名称转换成一个 numpy 数组。这个数组在下面的<em class="og"> apply </em>命令中使用，该命令过滤所有胜率大于 20 的团体。最后一行只是标出了每个政党赢得的选区数量，并按照候选人的性别分类。从绝对数字来看，BJP 似乎在获胜的候选人中代表了更多的妇女。让我们更深入地了解一下这个问题。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="9ec6" class="mw lo it nq b gy nu nv l nw nx">df_election['Sex'].value_counts()<br/>Percentage_of_women = 24/288*100<br/>Percentage_of_women</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/0c7c9a010c377118d59ee1d707a927ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:314/format:webp/1*SEsNoEc-cSAxnsSnN0qiiQ.png"/></div></figure><p id="355b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以上各行显示，在包括所有政党在内的所有成功候选人中，妇女仅占 8%。将它分解为一个党派的代表:</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="94c4" class="mw lo it nq b gy nu nv l nw nx">df_election[df_election['Party']=='BJP']['Sex'].value_counts()<br/>Percentage_of_women_BJP = (12/105)*100<br/>Percentage_of_women_BJP</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/f294d7c15224a61ae324c061d39d17bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/format:webp/1*rj90CV7qKpjx7dBRiiTOVQ.png"/></div></figure><p id="bb2b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这表明在 BJP 的成功候选人中，妇女占 11 %。类似地，为所有各方计算它，可以绘制如下:</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="2b1c" class="mw lo it nq b gy nu nv l nw nx">arr = np.array([Percentage_of_women,Percentage_of_women_BJP,Percentage_of_women_NCP,Percentage_of_women_SHS,Percentage_of_women_INC])<br/><br/>Women_representation = pd.DataFrame(data=arr,columns=['Women Representation (%)'],index=None)</span><span id="e158" class="mw lo it nq b gy om nv l nw nx">Women_representation['Party'] = ['Overall','BJP','NCP','SHS','INC']</span><span id="6e23" class="mw lo it nq b gy om nv l nw nx">plt.figure(figsize=(8,5))</span><span id="bebf" class="mw lo it nq b gy om nv l nw nx">sns.barplot(y='Women Representation (%)',x='Party',data=Women_representation)</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/c3bb299e49c5ae51d4fecce833fc4882.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*uNMqDzUzp_BN4xIdxUXKvQ.png"/></div><p class="ot ou gj gh gi ov ow bd b be z dk translated">妇女在政党中的代表性。</p></figure><p id="5b33" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上图显示了妇女在政党中的代表性，即在成功的候选人中所占的百分比。可以看出，BJP 和国会的妇女代表几乎相等。此外，两党都超过了 8 %的平均女性代表比例。排名第三和第四的是全国大会党和自助党，其代表性低于平均水平。</p><h2 id="43d2" class="mw lo it bd lp mx my dn lt mz na dp lx kr nb nc lz kv nd ne mb kz nf ng md nh bi translated">数据清理</h2><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="dc9b" class="mw lo it nq b gy nu nv l nw nx"># Cleaning the names of assembly constituencies<br/>df_election['Constituency']=df_election['Constituency'].str.lower()<br/>df_election['Constituency']=df_election['Constituency'].str.strip()<br/><br/># Joining both DF with 'cleaned_names' column as index<br/>merged = map_df.set_index('cleaned_names').join(df_election.set_index('Constituency'))<br/>merged.head()</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/3fe95b9e3f5cca19bc4ca170f0199af8.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*GISU0cvBB7UPn00DflCylQ.png"/></div></figure><p id="5d31" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">与地图数据相比，这是一种更简单的数据清理形式。这里，所有转换为小写的名称，以及开始和结尾的空格都被删除。<em class="og"> join </em>命令连接地图数据帧和该数据帧，其中选区名称匹配！</p><h1 id="9c9a" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">马哈拉施特拉邦的选举地图</h1><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="46c5" class="mw lo it nq b gy nu nv l nw nx"># Plotting the election results<br/>fig, ax = plt.subplots(1,figsize=(10, 6))<br/>ax.axis('off')<br/>ax.set_title('Maharashtra Election 2019', fontdict={'fontsize': '25', 'fontweight' : '3'})</span><span id="67db" class="mw lo it nq b gy om nv l nw nx">merged.plot(column='Party', cmap='plasma', linewidth=0.7, ax=ax, edgecolor='0.8', legend=True)<br/>leg = ax.get_legend()<br/>leg.set_bbox_to_anchor((1, 0.7, 0.2, 0.2))</span></pre><figure class="nl nm nn no gt nz gh gi paragraph-image"><div role="button" tabindex="0" class="oa ob di oc bf od"><div class="gh gi pb"><img src="../Images/e1ebf20534bc67e575f0a62608ce8327.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k3jzxfUOqtxziQ5oGTdaYA.png"/></div></div></figure><p id="e994" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="og">子图形()</em>创建一个图形和轴实例，可用于设置图形的属性。这是一种面向对象的编程方式，相比之下，<em class="og"> plt.plot() </em>是一种函数式的编程方式。这里的轴实例，<em class="og"> ax </em>，用于设置绘图的标题，并删除绘图轴。m <em class="og"> erged.plot() </em>绘制关于各方的 choropleth 图。这是 Pandas 特有的绘图方式，其中一个更通用的命令类似于<em class="og"> DataFrame_Name.plot() </em>。它使用 m <em class="og"> atplotlib </em>作为后端，因此，与<em class="og"> matplotlib </em>特定命令如<em class="og"> subplot()配合使用效果很好。</em><em class="og">cmap</em>选项设置绘图的颜色方案。此外，g <em class="og"> et_legend() </em>创建一个图例实例，它与<em class="og"> set_bbox_to_anchor() </em>一起使用，以便更准确地放置图例。</p><p id="fc2d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">choropleth 地图上的白色斑块代表缺失的选区。这些是其名称为<em class="og"> none </em>并从<em class="og"> map_df </em>数据框中删除的议会选区。您可以尝试更多的<em class="og"> cmap </em>颜色选项，如图<a class="ae mq" href="https://matplotlib.org/3.1.0/tutorials/colors/colormaps.html" rel="noopener ugc nofollow" target="_blank">所示</a>。然而，人们必须看到，有太多的党，以确定他们所有的颜色。在未来，我们将探索更多关于提高理解和这个情节的美感！</p><p id="4a41" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">完整的笔记本可以参考<a class="ae mq" href="https://github.com/V-git-7003/Maharashtra_election_visualization" rel="noopener ugc nofollow" target="_blank">这里</a>。</p></div></div>    
</body>
</html>