<html>
<head>
<title>Build Your Own Puppy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">打造自己的小狗</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/build-your-own-puppy-dc0a49febe7c?source=collection_archive---------77-----------------------#2020-05-13">https://towardsdatascience.com/build-your-own-puppy-dc0a49febe7c?source=collection_archive---------77-----------------------#2020-05-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b579" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何对小狗使用Java Builder设计模式</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fde59e2fec8fd70f4e16eea8c0749875.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1wZgH47lK5XIJpXu1-9BCA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@joeyc?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">乔·凯恩</a>在<a class="ae ky" href="https://unsplash.com/s/photos/puppy?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="9b0a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">设计模式是一个美丽的东西。他们接受普遍面临的软件开发问题，并为我们提供普遍接受的有效解决方案。</p><p id="5275" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你知道还有什么是美丽的吗？小狗！</p><p id="c79a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们要用一件美好的事物来帮助我们理解另一件美好的事物。</p><p id="b2ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果没有简单的实现，理解这些设计模式可能会有点困难。</p><p id="1efe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在学习构建器模式的工作原理时，我也遇到了同样的问题。在研究了这种模式的来龙去脉之后，我发现通过正确的解释，这个概念可以很快学会。</p><p id="0dc7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以事不宜迟，让我们开始建立小狗！</p><h1 id="ae5a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">目标</h1><p id="c896" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">了解如何以及何时在Java应用程序中使用构建器设计模式。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="a5e5" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">设置</h1><p id="ff30" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">要跟随自己，我建议使用以下工具:</p><ul class=""><li id="14f5" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">您最喜欢的Java IDE</li><li id="fd50" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">JDK 8</li></ul><p id="f928" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你正在寻找一种快速的方法来开始使用VSCode构建Java应用程序，我写了下面的教程<a class="ae ky" href="https://medium.com/p/62844abdb9cb/edit" rel="noopener">。</a></p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="e4bf" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">什么时候应该使用构建器模式？</h1><p id="a57f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">想象你是一个小狗收养中心的主人。您需要存储每只小狗的所有信息，以便在应用程序的其他部分使用。</p><p id="36a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你需要保存品种、年龄、名字，以及它是否符合健康要求。它可能看起来像这样:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Puppy.java</p></figure><p id="0a7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这很简单，对吧？我们用一个构造器创建一个类，这个构造器具有这四个属性中的每一个，并在每次有小狗进来时实例化一个新的实例。</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="f8d8" class="nz lw it nv b gy oa ob l oc od">Puppy pup = new Puppy (“Bichon Frise”, 9, “Andy”, true);</span></pre><p id="0cff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在一个完美的世界里，这将是一个很好的解决方案。但是我们并不是生活在一个完美的世界里，不是吗？</p><p id="4db6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有时当这些小狗进来时，它们没有我们需要的所有信息。我们可能不知道它的年龄或是否接种过疫苗。或者可悲的是，我们可能不知道它的名字。</p><p id="2855" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">试图用稀疏信息构造这些对象可能看起来像这样。</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="8da7" class="nz lw it nv b gy oa ob l oc od">Puppy pup2 = new Puppy ("Golden Retriever", false);<br/>Puppy pup3 = new Puppy (true);<br/>Puppy pup4 = new Puppy ("Yorkie", "Johnny", false);<br/>Puppy pup5 = new Puppy ("Doge", 13);<br/>Puppy pup6 = new Puppy ("Shitzu");</span></pre><p id="cca6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Java中，您必须创建不同的构造函数来支持这些实例化。或者你可以使用<code class="fe oe of og nv b">null</code>值来填充空白点。但那很乱。</p><p id="dafc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，如果顺序与原始构造函数中定义的顺序不同，值可能会映射到错误的变量。这可能会在将来给你带来意想不到的运行时错误。</p><p id="adc7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一定有更好、更灵活的方法来创建这些复杂的对象，对吗？</p><p id="e2da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用构建器模式。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="debd" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">小狗建造者</h1><p id="e4f2" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">让我们建造一些小狗吧！(说起来有点奇怪。)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/a15777ebfd55691a343ae5dc0ca0339b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_tlaKCrRPpvg7QBRzHkWVg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@karsten116?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">卡斯滕·怀恩吉尔特</a>在<a class="ae ky" href="https://unsplash.com/s/photos/puppies?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="a357" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本教程将是实现构建器模式的一个精简的、最基本的例子。</p><p id="c234" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将从创建一个名为<code class="fe oe of og nv b">PuppyMain.java</code>的主类开始。这个类是我们的切入点。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">PuppyMain.java</p></figure><p id="9a03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将创建<code class="fe oe of og nv b">Puppy.java</code>来存放我们的构建器代码并构建我们的小狗对象。</p><p id="e3c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将把它分成两个部分:T2部分和T3部分。然而，这些都属于同一个<code class="fe oe of og nv b">Puppy.java</code>级。如果您想查看整个班级，可以向下滚动到底部。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Puppy.java</p></figure><p id="d485" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里，我们声明这些变量中的每一个都是不可变的。这意味着一旦它们被创建，就不能被改变。私有构造函数和<strong class="lb iu"> final </strong>修饰符帮助我们实现了不变性。</p><p id="3e28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建新小狗的唯一方法是使用PuppyBuilder。</p><p id="671d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将PuppyBuilder作为私有构造函数的一个参数，这样我们就可以将Builder变量映射到Puppy类变量。</p><p id="b44e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们深入了解PuppyBuilder的核心:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Puppy.java</p></figure><p id="d536" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使这个对象尽可能灵活，我们将为每个变量创建一个单独的setter。</p><p id="ae18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们想要任何必需的变量，我们可以这样定义构造函数内部的变量(其中<code class="fe oe of og nv b">breed</code>是<strong class="lb iu">必需的</strong>):</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="83f2" class="nz lw it nv b gy oa ob l oc od">public PuppyBuilder(String breed){<br/>  this.breed = breed;<br/>}</span></pre><p id="a9c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，这只是在我们希望包含必填字段的情况下。在这个例子中，我们所有的字段都是可选的。</p><p id="2a30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个注意:这个类是静态的，所以我们不需要在每次想要构建小狗的时候都创建一个实例。这将允许我们使用我们的建设者作为一个实用的方法；需要时随时可用。</p><p id="a1df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是完整的文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="b0fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个使用我们的<code class="fe oe of og nv b">PuppyMain.java</code>类中的PuppyBuilder创建不同小狗对象的例子。我们在这里利用流畅的界面。</p><p id="032c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据<a class="ae ky" href="https://en.wikipedia.org/wiki/Fluent_interface" rel="noopener ugc nofollow" target="_blank">维基百科</a>的说法，<strong class="lb iu">流畅接口</strong>是“一种面向对象的API，其设计广泛依赖于方法链接。”</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="476e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以看到，无论我们向PuppyBuilder提供什么信息，当我们打印出每个对象的字符串版本时，它都得到了充分的处理。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/197514c09f1002dbc1fe4615820c7465.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*lLZXiZwxnzYBvyh8e_sBNQ.png"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="bb70" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">回顾</h1><p id="d1c6" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">实现Builder模式的代码有点冗长，但是我向您保证，它更容易阅读，并且会改进您的代码库。</p><p id="b0bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尤其是对于下一个查看你的代码的开发者，他们将能够毫无问题地阅读你的代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/dfdeb453d8e6dd889fa3a5e083330c91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZouLZI-Iajwf8G-hdMq9DA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">巴拉蒂·坎南在<a class="ae ky" href="https://unsplash.com/s/photos/puppies?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="9a10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您有任何问题、意见或顾虑，请随时留下您的意见。</p><p id="af0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望您喜欢学习如何使用小狗来实现构建器设计模式！</p></div></div>    
</body>
</html>