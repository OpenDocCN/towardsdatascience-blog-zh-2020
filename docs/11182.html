<html>
<head>
<title>A pictorial guide to understanding Random Forest Algorithm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解随机森林算法的图示指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-pictorial-guide-to-understanding-random-forest-algorithm-fbf570a0ae0d?source=collection_archive---------47-----------------------#2020-08-03">https://towardsdatascience.com/a-pictorial-guide-to-understanding-random-forest-algorithm-fbf570a0ae0d?source=collection_archive---------47-----------------------#2020-08-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="24c5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解随机森林算法的内部工作原理</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a5ffe7e584155a38e3c155976ac61d2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hcQKknzmzC-3AHEVqExakA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">RandomForestClassifier 算法中发生了什么(图片由 pxhere.com 提供)</p></figure><h2 id="d7f4" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">这篇文章是关于什么的</strong></h2><p id="d3a5" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">在本文中，我们将了解随机森林算法的内部工作原理。要真正理解它，了解一点决策树分类器可能会有所帮助。但是这并不是完全必需的。</p><p id="c910" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">👉<strong class="lw iu"> <em class="ms">注意</em> </strong>:我们并不涵盖建模中涉及的预处理或特征创建步骤——而只是看看当我们为 sklearn 的<code class="fe mt mu mv mw b">RandomForestClassifier </code>包调用<code class="fe mt mu mv mw b">.fit()</code>和<code class="fe mt mu mv mw b">.transform()</code>方法时，算法 中的<strong class="lw iu"> <em class="ms">会发生什么。</em></strong></p><h2 id="5456" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">一段中的随机森林</h2><p id="dd09" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">随机森林(RF)是一种基于树的算法。它是不同种类的多个随机树的集合。模型的最终值是由每棵树创建的所有预测/估计的平均值。</p><h2 id="5310" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">包裹</h2><p id="a3a8" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">我们的文章将基于 sklearn 的 RandomForestClassifier 模块</p><p id="48e7" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated"><code class="fe mt mu mv mw b">sklearn.ensemble.RandomForestClassifier</code></p><h2 id="d429" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">数据</h2><p id="e73a" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">为了便于说明，我们将使用类似于下面的训练数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/72e0ae29ba20cbaf616d2e0d9851683c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w0ALHKowS1262f7Ivmscyw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">训练数据快照(<em class="my">图片作者)</em></p></figure><p id="6bf5" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">👉<strong class="lw iu"> <em class="ms">注</em> </strong> : <code class="fe mt mu mv mw b">age ,glucose_level, weight, gender, smoking .. … f98, f99</code>均为自变量或特征量。</p><p id="7fdc" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated"><code class="fe mt mu mv mw b">Diabetic </code>是我们要预测的 y 变量/因变量。</p><h2 id="aa8b" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">问题是</h2><p id="3019" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">预测可能患糖尿病的患者。</p><h2 id="9dbe" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">内部真正发生了什么</h2><p id="3dd5" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">有了这些基本信息，让我们开始并理解当我们将这个训练集传递给算法时会发生什么…</p><h2 id="2e58" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">步骤 1 </strong> —引导</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/071aeb2d2af55a453cd7ea9300c3424a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NQAeCd8F9n3bCNmBo9e3jQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">随机选择记录或自举(<em class="my">图片作者)</em></p></figure><p id="fd22" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">一旦我们向<code class="fe mt mu mv mw b">RandomForestClassifier </code>模型提供了训练数据，它(<em class="ms">算法</em>)就会随机选择一组行。这个过程称为引导(随机替换)。对于我们的例子，假设它选择了 m 个记录。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/161b4de59bdd8266e586c136274e289c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zUFPr3CSIweqxottco5x-g.png"/></div></div></figure><p id="cf0d" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">👉<strong class="lw iu">注 1 : </strong>要选择的行数可以通过使用超参数- <code class="fe mt mu mv mw b">(max_samples)</code>中的<em class="ms"> r 来提供，就像代码中这样</em></p><pre class="kj kk kl km gt nb mw nc nd aw ne bi"><span id="d20b" class="ky kz it mw b gy nf ng l nh ni">import sklearn.ensemble<!-- -->.RandomForestClassifier</span><span id="c0b1" class="ky kz it mw b gy nj ng l nh ni">my_rf = RandomForestClassifier<!-- -->(<!-- -->max_samples<strong class="mw iu"><em class="ms">=</em></strong><em class="ms">100)</em></span></pre><p id="2272" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">👉<strong class="lw iu">注 2 : </strong>这仅适用于在超参数(<code class="fe mt mu mv mw b">bootstrap = True</code>)中打开自举的情况。<code class="fe mt mu mv mw b">bootstrap </code>默认为真。</p><p id="bbe0" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">👉<strong class="lw iu">注 3: </strong>一行可能会被选择多次</p><h2 id="4f61" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">步骤 2 —为子树选择特征</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/3ea61bb0092e79e0fd3996961de97dda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kd5OU7mzbZtrEg-cerZY7g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">选择小型决策树的功能</p></figure><p id="d7ad" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">现在，RF 随机选择特征/列的子集。这里为了简单起见，我们选择了 3 个随机特征。</p><p id="2c09" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated"><strong class="lw iu">注</strong>👉您可以在超级参数— <code class="fe mt mu mv mw b">max_features </code>中控制<strong class="lw iu">这个</strong>数字，类似于下面的代码</p><pre class="kj kk kl km gt nb mw nc nd aw ne bi"><span id="ac98" class="ky kz it mw b gy nf ng l nh ni">import sklearn.ensemble<!-- -->.RandomForestClassifier</span><span id="334f" class="ky kz it mw b gy nj ng l nh ni">my_rf = RandomForestClassifier<!-- -->(<strong class="mw iu"><em class="ms">max_features=</em></strong><em class="ms">3)</em></span></pre><h2 id="4398" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">步骤 3 —选择根节点</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/285ab8a1e62cbbf29b6fdc8c313a7058.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*sIsfE-rJfrk20vjUycst_A.png"/></div></figure><p id="0a95" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">一旦选择了 3 个随机特征(在我们的示例中)，该算法将对<strong class="lw iu"> m </strong>记录(来自步骤 1)进行拆分，并对指标的值之前和之后的<em class="ms">进行快速计算。</em></p><p id="ffa2" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">这个指标可以是基尼系数或者是熵。它基于您在超参数中提供的标准— <code class="fe mt mu mv mw b">gini </code>或<code class="fe mt mu mv mw b">entropy </code>。</p><pre class="kj kk kl km gt nb mw nc nd aw ne bi"><span id="3931" class="ky kz it mw b gy nf ng l nh ni">import sklearn.ensemble<!-- -->.RandomForestClassifier</span><span id="0b50" class="ky kz it mw b gy nj ng l nh ni">my_rf = RandomForestClassifier<!-- -->(max_features=8 , <strong class="mw iu">criteria = 'gini'</strong>)</span></pre><p id="1b8a" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated"><code class="fe mt mu mv mw b">criterion = 'gini' </code>(或“<code class="fe mt mu mv mw b">entropy</code>”)</p><p id="0ec9" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">默认设置为<code class="fe mt mu mv mw b">criteria = 'gini’</code></p><p id="2f3e" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">哪个随机特征分裂给出最小的组合基尼不纯度/熵值，该特征被选为根节点。</p><p id="7470" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">根据最佳分割点，在此节点分割记录。</p><h2 id="a1cf" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">步骤 4 —选择子节点</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/39e85a507ad6c91e269f2162b7eea2d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hQiuyeJ5c1O9OLmsLUdrQg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">随机选择特征</p></figure><p id="8150" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">该算法执行与步骤 2 和步骤 4 相同的过程，并选择另一组 3 个随机特征。(3 是我们指定的数字—您可以选择您喜欢的数字—或者让算法选择最佳数字)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/8da7f7c4abb36b6a2b6369457b422bc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*4TQS3GkHY6V3rvogA0lkOA.png"/></div></figure><p id="0285" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">根据标准(<code class="fe mt mu mv mw b">gini </code> / <code class="fe mt mu mv mw b">entropy </code>)，它选择哪个特性将进入下一个节点/子节点，并且在这里进一步分割记录。</p><h2 id="d438" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">步骤 5—进一步拆分和创建子节点</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/99f0aa88fd5a985614b386c8bb2ea3f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nbZv-l6GhNHd27SkDe9QHw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">继续选择特征(列)以选择更多的子节点</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/ebbe7b518e0a851a8f22ad96de946bcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*bAtdZH6b-iZSM4KXyjJ2cw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">现在我们有了第一级子节点</p></figure><p id="8a79" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">该过程继续(步骤 2、4)选择随机特征，并且发生节点的分裂，直到以下任一条件发生</p><ul class=""><li id="702c" class="nq nr it lw b lx mn ma mo lh ns ll nt lp nu mm nv nw nx ny bi translated">a)您已经用完了要拆分的行数，或者已经达到了阈值(每个子节点中存在的最小行数)，您可以在 hyper 参数中指定这一点— <code class="fe mt mu mv mw b">min_samples_leaf</code></li><li id="6a5a" class="nq nr it lw b lx nz ma oa lh ob ll oc lp od mm nv nw nx ny bi translated">b)分割后的基尼系数/熵值不会降低到超过规定的最低限度</li><li id="8629" class="nq nr it lw b lx nz ma oa lh ob ll oc lp od mm nv nw nx ny bi translated">c)您已达到您指定的分割数(<code class="fe mt mu mv mw b">max_depth</code>)</li></ul><p id="f091" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">你现在有了你的第一个“迷你决策树”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/32d99579b29c4d0a3623caaf9dd9aeeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*bfTmiJLGk70ciIqovnpB0w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用随机选择的行(记录)和列(特征)创建的第一个小型决策树(<em class="my">作者图片)</em></p></figure><h2 id="1bb9" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">步骤 6 — </strong>创建更多小型决策树</h2><p id="1550" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">算法返回到您的数据并执行步骤 1-5，以创建第二棵“迷你树”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/952156bfd03ae5e026e1a2e83c82c211.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*wUINNZH9Nks-lKy-cFPGaw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">这是我们使用另一组随机选择的行&amp;列创建的<strong class="bd og">第二个</strong>迷你树。注意:如果您仔细选择了超参数，这个迷你树的结构将与第一个不同。</p></figure><h2 id="77ac" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">第七步。建造树木的森林</h2><p id="6ecd" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">一旦达到 100 棵树的默认值(您现在有 100 棵迷你决策树)，就可以说模型已经完成了它的<code class="fe mt mu mv mw b">fit()</code>过程。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/37021f2bd196348a832ed2341f814361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*PIIyFWFuv9VZxiPePyWRaA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">100 棵树中的 2 棵树</p></figure><p id="3e62" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">👉<strong class="lw iu">注意:</strong>你可以在你的超级参数<code class="fe mt mu mv mw b">( n_estimators)</code>中指定你想要生成的树的数量</p><pre class="kj kk kl km gt nb mw nc nd aw ne bi"><span id="3d71" class="ky kz it mw b gy nf ng l nh ni">import sklearn.ensemble<!-- -->.RandomForestClassifier</span><span id="827e" class="ky kz it mw b gy nj ng l nh ni">my_rf = RandomForestClassifier<!-- -->(<strong class="mw iu"><em class="ms">n_estimators=300</em></strong><em class="ms">)</em></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/abccbe37ec136c93ceeb3f7783b5dbfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bfC41NKRNqKuza0RyYPajg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们继续构建迷你树，直到我们有 n 棵树(n 是由<strong class="bd og"> n_estimators </strong>超参数指定的数字，如果我们没有指定任何东西，它的默认值是 100)。这里，蓝框代表结束节点。(<em class="my">图片作者)</em></p></figure><p id="f6af" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">现在你有了一个随机创建的迷你树森林(<em class="ms">因此得名随机森林</em>)</p><h2 id="0c2a" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">第七步。推理</h2><p id="ec6f" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">现在让我们预测一个看不见的数据集(测试数据集)中的值</p><p id="89f2" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">为了推断(<em class="ms">通常被称为预测/评分</em>)测试数据，算法通过每个迷你树传递记录。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/b3ad069bf1ad7c5ca5ab81aa12a8f7a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3a2PwoDoeLFXW4G7r4cIZw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从测试数据集预测第一行(<em class="my">作者图片)</em></p></figure><p id="c8bb" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">记录中的值根据每个节点代表的变量遍历迷你树，最终到达一个叶节点。基于该记录结束的叶节点(在训练期间)的预定值，该迷你树被分配一个预测输出。</p><p id="696d" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">以同样的方式，相同的记录通过所有 100 个小型决策树，并且 100 个树中的每一个都有该记录的预测输出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/11d1241be6c69826d2964fb42358dd39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2G31zp8ZVln5oMoe-3B4dQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">所有的迷你树为那个记录做一个预测。(<em class="my">图片作者)</em></p></figure><p id="37f2" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">这个记录的最终预测值是通过对这 100 棵小树进行简单的投票计算出来的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/d0c7627e73937b10546ec8f014245f4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ucBpUvO2hGrHOtUQtFqrg.png"/></div></div></figure><p id="4f3c" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">现在我们有了对单个记录的预测。</p><p id="a1ef" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated">该算法按照相同的过程遍历测试集的所有记录，并计算出<strong class="lw iu">总体准确度</strong>！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/d203015b230cfbab2cce42b8346fb6e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iVloTAq2xAjWKd4ygrUr8g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">重复获取测试集每一行的预测的过程，以达到最终的准确性。</p></figure><h1 id="d04e" class="on kz it bd la oo op oq ld or os ot lg jz ou ka lk kc ov kd lo kf ow kg ls ox bi translated">参考</h1><p id="ec15" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">[1] sklearn 的 RandomForestClassifier 文档(版本:3.2.4.3.1)</p><p id="050c" class="pw-post-body-paragraph lu lv it lw b lx mn ju lz ma mo jx mc lh mp me mf ll mq mh mi lp mr mk ml mm im bi translated"><a class="ae oy" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html" rel="noopener ugc nofollow" target="_blank">https://sci kit-learn . org/stable/modules/generated/sk learn . ensemble . randomforestclassifier . html</a></p></div></div>    
</body>
</html>