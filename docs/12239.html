<html>
<head>
<title>How to program and debug more effectively as a data scientist</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">作为数据科学家，如何更有效地编程和调试</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-program-and-debug-more-effectively-as-a-data-scientist-92e753144d54?source=collection_archive---------41-----------------------#2020-08-23">https://towardsdatascience.com/how-to-program-and-debug-more-effectively-as-a-data-scientist-92e753144d54?source=collection_archive---------41-----------------------#2020-08-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="14be" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><strong class="ak">我的第一个数据科学软件项目的经验教训</strong></h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7b95fb768436466f3e3f0aa44b1a7ccd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q4pwfPs9gHcrjoVv9_5bBA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">奥斯卡·伊尔迪兹在 Unsplash 上拍摄的照片</p></figure><p id="1517" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最近，我交付了我的第一个软件包，旨在自动化一些对我的团队的数据工作流至关重要的时间密集型计算。这个过程包括了比我愿意承认的更多的调试周期，部分是因为代码复杂性的增加和需求的发展，部分是因为我可以更有效地计划和执行。</p><p id="5501" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">经过一番思考，这里有一些从那次经历中得到的重要教训，可以帮助你作为一名数据科学家更有效地编写软件。</p><h1 id="46c0" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated"><strong class="ak"> 1。规划你的软件设计</strong></h1><p id="aaa1" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">当我开始我的项目时，我在有限的前期规划下投入到编码中，认为我的软件设计的确切细节会随着我的编码变得更加清晰。</p><p id="2afa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">随着我的代码变得越来越复杂，我开始忘记所有的函数是如何组合在一起的。当需求发生变化时，我不得不重新投入时间去理解我的代码，以做出想要的修改。</p><p id="8d80" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">相对来说，避免这一陷阱并不费力。对你的软件在高层次上做了什么有一个简单而清晰的描述，不管你是画一个图表还是对你的软件的设计和功能做笔记。用纸笔、盒子和箭头画一张草图就足够了。我亲自在一个工作文档上写下了我可以不断修改的项目符号。</p><p id="d1aa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">保留设计图有几个好处。首先，记录你的软件设计会给你一个更清晰的想法，你的所有代码是如何组合在一起的。用语言表达数据操作的逻辑可以帮助你检查你的逻辑是否会给你想要的结果。当然，当您需要对代码设计进行更大的更改时，有一个清晰的参考会变得非常方便。</p><h1 id="697f" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated"><strong class="ak"> 2。投资文件组织</strong></h1><p id="a26a" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">在多个脚本和 Excel 文件之间，我严重低估了我将在整个项目中导航的文件的数量。当我的专用文件命名系统最终失败时，我发现自己重新编写了几个函数，因为我找不到我编写它们的原始文件。</p><p id="7d91" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">投资于你的组织必然会减轻压力，提高长期效率。在开始一个项目之前，投入一些前期工作来定义一个清晰的、可维护的文件组织和命名系统是有帮助的。</p><p id="2eba" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一些基本准则是:</p><ul class=""><li id="f6c6" class="mr ms it la b lb lc le lf lh mt ll mu lp mv lt mw mx my mz bi translated">您正在处理的每个项目都有一个单独的文件夹</li><li id="5c15" class="mr ms it la b lb na le nb lh nc ll nd lp ne lt mw mx my mz bi translated">每个文件类别(即脚本、数据、输出、QA 等)对应一个文件夹。)</li><li id="af57" class="mr ms it la b lb na le nb lh nc ll nd lp ne lt mw mx my mz bi translated">代码的一致命名约定</li><li id="2d0c" class="mr ms it la b lb na le nb lh nc ll nd lp ne lt mw mx my mz bi translated">数据文件的一致命名约定</li></ul><p id="77ff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">除此之外，我发现在代码和数据文件<code class="fe nf ng nh ni b">(v2-file-2020-08-03)</code>上使用版本标签和日期标签很有帮助，可以更容易地按时间顺序导航。</p><h1 id="6db2" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated"><strong class="ak"> 3。验证每个代码单元</strong></h1><p id="6296" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">到目前为止，调试是我的编程项目中最痛苦的部分。这种痛苦通常源于缩小 bug 的位置。我学到的一个教训是在每个转换步骤定期进行验证，以确保任何数据处理结果都具有我期望的值和维度。</p><p id="eedc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这使我能够在早期捕捉到意外的行为，并让我对每一步的数据充满信心。</p><p id="95c7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我经常使用的几个基本检查:</p><ul class=""><li id="b01e" class="mr ms it la b lb lc le lf lh mt ll mu lp mv lt mw mx my mz bi translated">检查连接两个数据框前后的行数</li><li id="c988" class="mr ms it la b lb na le nb lh nc ll nd lp ne lt mw mx my mz bi translated">检查处理前后变量的和是否匹配</li><li id="3fea" class="mr ms it la b lb na le nb lh nc ll nd lp ne lt mw mx my mz bi translated">检查缺少的值</li></ul><p id="8405" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了提高效率和重复击键，我会考虑自动验证的方法，要么通过创建简单的验证函数，要么通过 Excel 模板。对我来说，在自动化验证上投入的时间很容易获得十倍的回报。</p><h1 id="88e7" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated"><strong class="ak"> 4。有条不紊地调试</strong></h1><p id="2678" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">当出现错误时，根据直觉进行调试有时会有回报。但是如果没有一个计划，这种方法可能是武断和令人沮丧的。从长远来看，遵循有条不紊的调试过程是更有效的策略。</p><p id="53a8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">建立一个系统来缩小错误的来源并记录尝试的解决方案，可以帮助你更有效地找到解决方案。此外，这可以缓解压力，让你以一种有条理和冷静的心态专注于调试。</p><p id="55f1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在高层次上，我认为一个系统应该包括理解错误信息，围绕 bug 开发上下文，以及以一种有组织的方式测试和记录解决方案。在这个系统中，您可以更好地控制您的调试过程，为未来的调试周期提供参考文档，并以少量额外的时间和精力投入来换取压力的显著降低。我一直使用的程序是:</p><p id="1f03" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">1.如果有错误信息，仔细阅读，查找；如果不是，请以书面形式描述意外行为</p><p id="89cc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.通过插入手动测试来缩小违规代码的位置</p><p id="c45e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.一旦您确定了错误发生的位置，检查进入违规代码的数据的结构、格式和值——通常这将导致一个解决方案</p><p id="5b3b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.修复、重新运行、评估、记录</p><p id="2f46" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">5.如果错误仍然存在，请进一步研究错误并再次测试</p><p id="628a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">6.如果错误仍然存在，请寻求调试帮助</p><p id="bdc3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">虽然您的系统可能不同，但我认为核心原则是相同的:理解您的错误，定位错误，调查明显的错误来源，并测试和记录。</p><h1 id="1799" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated"><strong class="ak"> 5。记录错误和解决方案</strong></h1><p id="cac9" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">在我的项目过程中，我发现自己多次调试同一个问题，这是对时间的低效利用。</p><p id="fd5d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了避免两次解决同一个问题，我开始维护一个文档，记录我遇到的错误以及它们的解决方案。这个参考还有一个预防性的好处，允许我跟踪常见的错误，避免一开始就犯那些错误。</p><p id="8022" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我建议保持你的解决方案文档简单；你可以在电子表格中记录你遇到的每一个错误——我的表格只有四栏:错误、背景、解决方案和下次注意事项。</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><p id="e082" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个项目的过程中，我学到了很多教训，希望这篇文章能为你在下一次软件开发中节省一些压力和时间。请在下面的评论中告诉我你的想法，并随时在<a class="ae nq" href="https://twitter.com/collindching" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上与我联系。</p></div></div>    
</body>
</html>