<html>
<head>
<title>4 Must-Know Libraries in Pandas Ecosystem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫生态系统中 4 个必去的图书馆</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/4-must-know-libraries-in-pandas-ecosystem-7c01326c4724?source=collection_archive---------30-----------------------#2020-08-24">https://towardsdatascience.com/4-must-know-libraries-in-pandas-ecosystem-7c01326c4724?source=collection_archive---------30-----------------------#2020-08-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="79d7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用这些附件增强你的熊猫技能。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1dcd5c4c49bcbfe552718668505aa52a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s6F7K0x8UjdPcyRuJqBvbQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@parktroopers?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">公园巡警</a>在<a class="ae ky" href="https://unsplash.com/s/photos/community?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="63ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas 是一个非常强大和通用的 Python 数据分析库，它加速了数据科学项目的预处理步骤。它提供了许多在数据分析中非常有用的函数和方法。</p><p id="d302" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然熊猫的内置功能能够进行有效的数据分析，但定制的工具或库为熊猫增加了价值。在本帖中，我们将探索 4 种工具来增强熊猫的数据分析过程。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9219" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">失踪人口</strong></h1><p id="32c2" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Pandas 提供了检查数据集中缺失值数量的函数。<strong class="lb iu"> Missingno </strong>库更进一步，通过信息可视化提供数据集中缺失值的分布。</p><p id="5945" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<strong class="lb iu">缺失号</strong>的图，我们能够看到缺失值在每一列中的位置，以及不同列的缺失值之间是否存在相关性。在处理缺失值之前，在数据集中探索它们是非常重要的。因此，我认为<strong class="lb iu"> Missingno </strong>是数据清理和预处理步骤中非常有价值的资产。</p><p id="9bef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们首先尝试探索一个关于流媒体平台上电影的数据集。数据集可在 Kaggle 上的<a class="ae ky" href="https://www.kaggle.com/ruchi798/movies-on-netflix-prime-video-hulu-and-disney" rel="noopener ugc nofollow" target="_blank">这里</a>获得。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/fbab29da0e16d7174477137b441b4844.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3tk-KczVDH6xm8HF.png"/></div></div></figure><p id="7e65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该数据集包含 16744 部电影和描述每部电影的 17 个特征。Pandas <strong class="lb iu"> isna </strong>函数结合<strong class="lb iu"> sum() </strong>给出了每一列中缺失值的数量。但是，在某些情况下，我们需要的不仅仅是计数。让我们用<strong class="lb iu"> Missingno </strong>来探究缺失值。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="c74d" class="nf md it nb b gy ng nh l ni nj">import missingno as msno<br/>%matplotlib inline #render plots within jupyter notebook</span></pre><p id="cd06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将使用的第一个工具是缺失值矩阵。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="7853" class="nf md it nb b gy ng nh l ni nj">msno.matrix(df)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/611a35bb0dffd86dd630fb40027d718f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*98BaaZ3pUh2RENdc.png"/></div></div></figure><p id="1ab7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">白线表示缺少值。“年龄”和“烂番茄”栏以白线为主。但是，在其他缺少值的列中有一个有趣的趋势。它们通常在公共行中缺少值。如果某行的“导演”列中缺少值，则很可能“流派”、“国家”、“语言”和“运行时间”列中也缺少值。在处理缺失值时，这是非常有价值的信息。</p><p id="ed42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Missingno 还提供了热图和条形图，可以更深入地了解数据帧中缺失的值。如果你想进一步阅读，这里有一个更详细的帖子和例子:</p><div class="nl nm gp gr nn no"><a rel="noopener follow" target="_blank" href="/visualize-missing-values-with-missingno-ad4d938b00a1"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd iu gy z fp nt fr fs nu fu fw is bi translated">可视化缺失值和缺失号</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">浏览数据集中缺失的值。</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">towardsdatascience.com</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc ks no"/></div></div></a></div></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3e5c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">侧钻</strong></h1><p id="4289" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><a class="ae ky" href="https://github.com/chris1610/sidetable" rel="noopener ugc nofollow" target="_blank"> Sidetable </a>根据选择的列创建频率表。假设我们有一个数据集，其中包含某个分类变量的一些测量值(例如模型)。我们有许多不同的类别，每个类别有许多观察值(行)。通过使用 sidetable，我们可以了解每个模型在数据集中所占的份额。这也可以使用 pandas 的<strong class="lb iu"> value_counts </strong>函数来实现，但是 sidetable 提供的信息更多，我们将在示例中看到。</p><p id="87cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您使用 jupyter 笔记本，我们首先需要用<code class="fe od oe of nb b">pip</code>或<code class="fe od oe of nb b">!pip</code>安装它:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="3ddc" class="nf md it nb b gy ng nh l ni nj">!pip install sidetable</span></pre><p id="682e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后导入它:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e6ab" class="nf md it nb b gy ng nh l ni nj">import pandas as pd<br/>import sidetable</span></pre><p id="0843" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以使用<strong class="lb iu"> stb </strong>作为数据帧的存取器。我将使用 Kaggle 上可用的数据集。它包含了拍卖的二手车的数据。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="9c24" class="nf md it nb b gy ng nh l ni nj">df = pd.read_csv("/content/USA_cars_datasets.csv")</span><span id="a9cd" class="nf md it nb b gy og nh l ni nj">#drop redundant columns<br/>df.drop(['Unnamed: 0','vin','lot'], axis=1, inplace=True)</span><span id="0ae4" class="nf md it nb b gy og nh l ni nj">df.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oh"><img src="../Images/63eaa49bbe7ff33f2a053bf4655855a5.png" data-original-src="https://miro.medium.com/v2/format:webp/1*NEFlVRuLvYAZMxKTr5_NwQ.png"/></div></figure><p id="6307" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Sidetable </strong>返回每个类别的计数和百分比以及累积值。让我们将它应用于“品牌”栏:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="a916" class="nf md it nb b gy ng nh l ni nj">df.stb.freq(['brand'])[:10]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oh"><img src="../Images/7c68073c79c76e55efc2a53b17ccce4c.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Mutf983-zy0oR8mdpVwifg.png"/></div></figure><p id="3be3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它肯定比<strong class="lb iu"> value_counts </strong>更能提供信息。我们对数据集中的分布有了更多的了解。累积值的一个额外特性是<strong class="lb iu">我们可以设置累积百分比的阈值</strong>。然后，达到阈值后的类别被标记为“其他”。</p><p id="4001" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想获得更详细的概述并了解 sidetable 的其他功能，这里有一个关于 sidetable 的更详细的帖子:</p><div class="nl nm gp gr nn no"><a rel="noopener follow" target="_blank" href="/pandas-sidetable-just-announced-708e5f65938f"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd iu gy z fp nt fr fs nu fu fw is bi translated">熊猫侧桌刚刚宣布</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">对数据框架的信息丰富、见解深刻的概述。</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">towardsdatascience.com</p></div></div><div class="nx l"><div class="oi l nz oa ob nx oc ks no"/></div></div></a></div></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f2af" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">熊猫-datareader </strong></h1><p id="f552" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Pandas-datareader 是熊猫的远程数据访问库。它使得用几行代码获取股票价格数据变得非常简单。如果您想从事时间序列预测或算法交易，您可以使用 datareader 轻松获得股票价格的原始数据。</p><p id="1b45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们来做一个简单的例子。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="ae71" class="nf md it nb b gy ng nh l ni nj">import numpy as np<br/>import pandas as pd<br/>from pandas_datareader import data</span><span id="f592" class="nf md it nb b gy og nh l ni nj">aapl = data.DataReader("AAPL", <br/>                        start='2015-1-1',<br/>                        end='2019-12-31',<br/>                        data_source='yahoo')</span></pre><p id="f4db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">仅此而已！我们现在已经将 2015 年至 2020 年的苹果股价数据保存在熊猫数据框架中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oh"><img src="../Images/22a7244e348d8616dfb79decba940fca.png" data-original-src="https://miro.medium.com/v2/format:webp/1*cm1T_edlsNJU1GUCrtIwSQ.png"/></div></figure><p id="213b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您计划使用 LSTMs(一种特殊类型的递归神经网络)做项目，预测股票价格是一个不错的选择。通过 pandas-datareader 可以很容易地访问流程的原始数据。当然，在将数据输入模型之前，您需要对数据进行一些预处理和重新格式化。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e38e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">特征工具</strong></h1><p id="2d88" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><a class="ae ky" href="https://github.com/FeatureLabs/featuretools" rel="noopener ugc nofollow" target="_blank"> Featuretools </a>是构建在 pandas 之上的自动化特征工程工具。这在构建机器学习模型时非常有用，因为特征工程是机器学习管道的关键预处理步骤。</p><p id="b839" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们对这些特征和它们之间的关系了解得越多，我们建立的机器学习模型就越好，越健壮。因此，Featuretools 是您的宝贵财富。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="e945" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">熊猫的功能丰富了第三方包。你可以选择长的方法，只用熊猫自己的函数和方法来做你的分析。但是，最好简化某些任务以节省时间。此外，第三方软件包通过展示不同的方法和视角来改进数据分析过程。</p><p id="e6a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>