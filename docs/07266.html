<html>
<head>
<title>Level Up Your Julia Dictionaries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">提升你的朱莉娅词典</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/level-up-your-julia-dictionaries-76f633ae2975?source=collection_archive---------41-----------------------#2020-06-02">https://towardsdatascience.com/level-up-your-julia-dictionaries-76f633ae2975?source=collection_archive---------41-----------------------#2020-06-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="41ef" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">充分发挥dict数据类型的潜力！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1434dd9e9d0cb0e89f6b05717c1f9df2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wa4jiqjZaL3XbtBhyo0_cg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(茱莉亚标志由<a class="ae ky" href="http://julia-lang.org/)" rel="noopener ugc nofollow" target="_blank">http://julia-lang.org/提供)</a></p></figure><p id="b61f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di"> D </span> ictionaries不仅是Julia中最有用的数据类型之一，也是Python和Nimrod等许多类似语言中最有用的数据类型之一。字典对于数据科学家来说是一个特别有价值的工具，一旦你意识到这一点，这一点就会更加明显</p><blockquote class="me"><p id="0819" class="mf mg it bd mh mi mj mk ml mm mn lu dk translated">数据帧。JL的数据框架只是字典。</p></blockquote><p id="5ce7" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">字典经常被忽视，被视为相对简单的数据类型，只包含数组和键，但我认为这是一个错误。我认为这是一个错误，因为Julia字典非常强大，用途极其广泛，可以毫不费力地用于从数据帧到API返回的许多事情。</p><blockquote class="me"><p id="21a2" class="mf mg it bd mh mi mj mk ml mm mn lu dk translated"><a class="ae ky" href="https://github.com/emmettgb/Emmetts-DS-NoteBooks/blob/master/Julia/Level%20up%20your%20JL%20dictionaries.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a></p></blockquote></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="73cd" class="na nb it bd nc nd ne nf ng nh ni nj nk jz nl ka nm kc nn kd no kf np kg nq nr bi translated">句法表达</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/6423d6a402ad59a89f35ecda95fbb0c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MEeSTRCf6v-UwlgSKCT5-A.png"/></div></div></figure><p id="4812" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Julia最酷的特性之一是能够使用语法表达式。这对于字典来说没有什么不同，因为您可以使用语法表达式用字典做一些非常酷的事情。这对于统计计算来说真是太棒了，因为它可以用一些非常简洁的语法提供一个简单且性能更好的选项。我个人喜欢使用矩阵乘法的语法表达式:</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="8b22" class="ny nb it nu b gy nz oa l ob oc">det2(A) = A[1,1] * A[2,2] * A[3,3] + A[1,2] * A[2,3] * A[3,1] + A[1,3] * A[2,1] * A[3,2] - A[3,1] * A[2,2] * A[1,3] - A[3,2] * A[2,3] * A[1,1] - A[3,3] * A[2,1] * A[1,2]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/db5d2fd3a4eee09320716e872d76dc41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1X0invsssUrda1noWjbkzA.png"/></div></div></figure><p id="3243" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管我热爱矩阵，但我认为在字典上使用它的能力可能比在矩阵上使用它更有价值。我发现这种方法的一个很好的用途是在我目前正在开发的图形库内部，在那里我使用线程和字典索引进行迭代，而不是使用双重迭代。</p><blockquote class="me"><p id="f58d" class="mf mg it bd mh mi mj mk ml mm mn lu dk translated">这使得它快了很多。</p></blockquote><h1 id="c6a9" class="na nb it bd nc nd oe nf ng nh of nj nk jz og ka nm kc oh kd no kf oi kg nq nr bi translated">获取()</h1><p id="0e6c" class="pw-post-body-paragraph kz la it lb b lc oj ju le lf ok jx lh li ol lk ll lm om lo lp lq on ls lt lu im bi translated">为了证明使用这种方法的合理性，我将首先向您展示一个场景。假设我们刚刚使用get请求从API中提取了一堆数据，我们希望在脚本运行时持续提取这些数据，但不会监控这些脚本。在这种情况下，我们会想尽一切办法避免访问数据中不存在的键，因为那样会终止脚本并导致异常。</p><p id="997e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了减轻这种情况，我们可以使用get()方法为我们的脚本创建一个缺省值，以便在我们要搜索的索引不在字典中的情况下使用。该方法采用3个参数；我们的字典，exampdict，我们的键，在这个例子中是:a，以及我们的缺省值，如果在字典中找不到这个键，我们可以使用这个缺省值。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="0385" class="ny nb it nu b gy nz oa l ob oc">exampdict = Dict(:a =&gt; 5,:b =&gt; 7,:c =&gt; 8)<br/>a = get(exampdict, :a, 0)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/c9a9c8c14fd4768f80ef9835d08e5e85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*S6FJj6IANuNPwrp6AhK7rQ.png"/></div></figure><p id="6329" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，即使:d因为数据不在字典中而无法访问，我们仍然相应地得到了所有的值，以及d的默认值。</p><h1 id="232a" class="na nb it bd nc nd oe nf ng nh of nj nk jz op ka nm kc oq kd no kf or kg nq nr bi translated">在()</h1><p id="8274" class="pw-post-body-paragraph kz la it lb b lc oj ju le lf ok jx lh li ol lk ll lm om lo lp lq on ls lt lu im bi translated">使用in()方法，我们可以更快地检查一个键或一对键。这将返回一个布尔值，并带有两个参数，我们想要搜索的键和我们想要搜索的字典。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="aef1" class="ny nb it nu b gy nz oa l ob oc">in((:b =&gt; 8), exampdict)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/4f1fac5307e2d7779400093a990aed19.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*l_4FItbcQYIHJ0w4BpGnxA.png"/></div></figure><h1 id="40b2" class="na nb it bd nc nd oe nf ng nh of nj nk jz op ka nm kc oq kd no kf or kg nq nr bi translated">过滤器()</h1><p id="afd6" class="pw-post-body-paragraph kz la it lb b lc oj ju le lf ok jx lh li ol lk ll lm om lo lp lq on ls lt lu im bi translated">由于Julia的多重调度，filter()方法可以用在字典键上，也可以用在其他任何地方。使用filter()，我们基本上可以从数据框架中过滤掉任何可以表示为条件的东西。在这里，我结合条件来检查以字母K开头并且值小于4的键。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="b124" class="ny nb it nu b gy nz oa l ob oc">strdict = Dict("Orange" =&gt; 3, "Kiwi" =&gt; 2, "Kayak" =&gt; 5)<br/>filter(tuple -&gt; startswith(first(tuple), "K") &amp;&amp; last(tuple) &lt; 4, collect(strdict))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/6b1b78f30ae942b6207e6a8a49fd65d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0hnelbmO0PkRZm27338rQw.png"/></div></div></figure><p id="5a3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不用说，filter()当然是一个非常有用的方法！这种方法可以用于任何事情，从只从字典中获取特定的键到删除丢失的值和低于特定数字的值。</p><h1 id="9456" class="na nb it bd nc nd oe nf ng nh of nj nk jz op ka nm kc oq kd no kf or kg nq nr bi translated">地图键</h1><p id="fde7" class="pw-post-body-paragraph kz la it lb b lc oj ju le lf ok jx lh li ol lk ll lm om lo lp lq on ls lt lu im bi translated">另一个从茱莉亚基地归来的帅魔是map()。当然，map在各种语言中都有使用，并且也证明了它的实用性。但是，在Julia中，我们可以映射字典的键和值，例如，我们可以映射所有的大写键:</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="14f2" class="ny nb it nu b gy nz oa l ob oc">map(uppercase, collect(keys(dict)))</span></pre><p id="5af7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这在许多情况下肯定是有用的，但在我看来肯定比filter()强！</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="5478" class="na nb it bd nc nd ne nf ng nh ni nj nk jz nl ka nm kc nn kd no kf np kg nq nr bi translated">结论</h1><p id="68d2" class="pw-post-body-paragraph kz la it lb b lc oj ju le lf ok jx lh li ol lk ll lm om lo lp lq on ls lt lu im bi translated">在Julia中，你可以用字典做很多很酷的事情。在我看来，他们确实是经过深思熟虑的！Julia的一个优点是，由于多态性，您可以在语言中使用的几乎每种类型上使用Julia的10个标准函数，这使得语言中的学习方法及其操作变得非常简单。希望这些提示有用，并派上用场，也许使用这些提示甚至会提高你的朱莉娅词典！</p></div></div>    
</body>
</html>