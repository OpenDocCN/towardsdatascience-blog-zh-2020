<html>
<head>
<title>Too much data, too little time</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据太多，时间太少</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/too-much-data-too-little-time-1e7441ecdae1?source=collection_archive---------40-----------------------#2020-05-11">https://towardsdatascience.com/too-much-data-too-little-time-1e7441ecdae1?source=collection_archive---------40-----------------------#2020-05-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d397" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你不需要用 1000 个特征来处理这 200 万个数据点就能得到好的结果</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6754d1ff04e4094bc884cac907f84d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KO5iPDk2cwNJHB2s"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@fabioha?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">法比奥</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="fb4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们都知道为什么数据越多越好。你的结果可以更可靠，你可以(有希望)决定性地证明或否定一个给定的假设。然而，有这样一种东西，即拥有太多的数据，或者至少拥有如此多的数据，以至于很难有效地运行某些模型。根据您的具体问题，有几种不同的方法可以解决这个问题。</p><h1 id="458c" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">我有太多的数据点</h1><p id="adf8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">仅仅因为您从数百万个数据点开始，并不意味着您必须通过您选择的任何模型实际运行所有这些点。事实上，不这样做是个好主意！当你处理数据时，你需要做的第一件事是编辑你的数据，这样每个点实际上都是有用的，因为越大并不总是越好。</p><h2 id="7ce4" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">第一步:检查异常值</h2><p id="a644" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">说你的项目和人口身高有关。你想做的一件大事是制作某种直方图，显示人们的身高分布。如果你看到一堆 0 以上的人，很可能你面对的不是微观的一部分人(除非这些数据来自《格列佛游记》中的某个岛屿)。出于同样的原因，如果有很多测量值明显偏高，那么您也会发现更多可以从数据框中剔除的异常值。基本上，除非有可解释的原因(比如从人口异常多或异常少的岛屿收集数据)，否则这些异常值可以而且应该从数据集中剔除。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/51878ed80126fc6af94619c829db7c72.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/0*xhwnzPNjxxZkUGTP.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">为什么领域知识很重要:有时候有一个离群值是有原因的(来源:<a class="ae ky" href="https://commons.wikimedia.org/wiki/File:Gulliver_Coloured_Picture_Book.png" rel="noopener ugc nofollow" target="_blank">维基共享资源</a>)</p></figure><h2 id="e33d" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">第二步:明确你的问题并采取相应的行动</h2><p id="45bc" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">这比第一个问题不太容易理解，但在清理数据时仍然非常重要。假设您有一个数据集，记录了客户的每次购买。如果您想要查看最近的购买趋势，您可能想要只包括客户最近的购买，或者只包括在特定时间范围内记录的数据点。如果你想知道顾客买了什么，把每个顾客的购买量加起来，每个顾客一行可能更有用。</p><p id="35f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相关地，使用你的领域知识。如果你没有大量的领域知识，问问周围的人或者查查资料。有了领域知识，不仅你的假设会更清晰，而且你会更好地知道你需要拒绝或确认你的假设。举一个非常基本的例子，如果你的假设是购买高于平均水平的美容产品的人也购买更健康的食物，你可以使用美容产品或非美容产品的领域知识来过滤你的数据集。当然，这是一个高度简化的例子，但是你明白了。</p><p id="de2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本质上，明确你的实验和你的假设，明确你需要什么信息来证明或反驳你的假设。没有一个明确的解决方案，就像检查异常值一样。这是数据科学的一部分，需要更多的创造力和批判性思维，但在创建高质量的数据集方面非常有价值。</p><h1 id="df23" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">我有太多的特征了</h1><p id="7edd" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果我们正在处理一个数据帧或表，最后一节解决了行太多的问题。本节处理列太多的问题。就像你不需要每一个数据点来运行一个好的模型一样，你也不(一定)需要每一个特性。事实上，如果你有太多的功能，你可以为手头的问题编辑它们。</p><h2 id="b096" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">第一步:检查给定列的信息量</h2><p id="d114" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">并非所有特征都是同等创建的。有些列几乎肯定会包含每个数据点的数据(那些在该行中没有数据的列可能会被丢弃)。但是，一些更专业的功能可能没有每行的信息。它们也可能只有少数数据点的值。例如，回到有一个顾客购物行为的数据框架的例子，如果有一个关于有多少人购买了限量版培根风味酸奶的列，而只有 5 个人购买了它，那么完全删除该列可能会容易得多。也就是说，如果仅仅抛弃一整列的想法让你感到厌恶，你也可以尝试将多个特性合并到一个特性中。回到我们的培根风味酸奶的例子，您可以将所有酸奶风味的购买合并到一个列中，该列只显示消费者购买了多少酸奶。您还可以将列合并成某个品牌的产品被购买的数量。同样，这是一个很好的例子，说明领域知识和批判性思维是数据科学家的重要工具。通过确切地知道你需要什么来证明或否定一个假设，你可以将特征压缩成一个仍然能提供你需要的信息的特征。</p><h2 id="a3c1" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">第二步:检查共线性</h2><p id="cc9a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">什么是共线性？就是共线的性质。共线是什么意思？如果我们看一下<a class="ae ky" href="https://en.wikipedia.org/wiki/Multicollinearity#Definition" rel="noopener ugc nofollow" target="_blank">维基百科页面</a>，共线意味着以下内容:</p><blockquote class="nf"><p id="614b" class="ng nh it bd ni nj nk nl nm nn no lu dk translated">如果两个变量之间存在精确的线性关系，则这两个变量完全共线。</p></blockquote><p id="61d8" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">本质上，当一个自变量增加时，另一个自变量以相同的速度增加或减少。检测和纠正这个问题可能会非常复杂，可能会有自己的博客文章。事实上，有人就此写了一篇博文！因此，这里不再讨论共线性，这里是<a class="ae ky" rel="noopener" target="_blank" href="/multicollinearity-in-data-science-c5f6c0fe6edf"> TDS 的帖子</a>，它更详细地讨论了什么是共线性以及如何解决它。</p><h2 id="b7f8" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">第三步:套索回归</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/7ca8703f773368d182d6a9ccb1da8880.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YtT1EU2RlxMIk76F"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@priscilladupreez?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">普里西拉·杜·普里兹</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="f4d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">人们使用两大正则化技术，套索和岭回归。两者都通过惩罚某些数据特征来降低模型复杂性和防止过度拟合，你可以在这里和<a class="ae ky" href="https://www.analyticsvidhya.com/blog/2016/01/ridge-lasso-regression-python-complete-tutorial/#six" rel="noopener ugc nofollow" target="_blank">这里</a>阅读更多关于它们如何工作的信息。我在这种情况下指定套索回归的原因是，与岭回归不同，套索回归会将一些系数减少到 0(基本上消除了该特征)，而岭回归只会使它们变得非常非常小。因此，如果你的主要目标之一是减少维度(或者数据框架中的列数)，那么 lasso 回归将是一个不错的选择。</p><h2 id="91fb" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">第四步:PCA</h2><p id="dd9d" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在上述所有步骤中，尽管您可能会删除一些功能或将多个功能浓缩为一个，但您仍然知道每个功能是什么以及它表示什么。我特意把主成分分析(PCA)放在最后的原因是，你将不再知道你所有的特征是什么。然而，PCA 的明确目的是减少数据维数，所以它是一个有用的工具，尽管我个人认为它是最后的手段。</p><p id="1b66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有两种方法可以实现 PCA，您可以指定想要保持多少方差(例如，您可以说您想要保持 85%的方差)。你也可以说你希望最终的数据帧有多少个变量(例如，你可以说你只需要两个或三个变量，这样它们就可以被绘制在图上)。在第一个示例中，您不知道将返回多少个变量，在另一个示例中，您不知道保留了多少方差。因此，您采取的方法取决于您想要实现的目标。例如，您想要易于可视化的数据吗？如果是这样，您需要指定两个或三个变量。你想仅仅简化你的数据框架，仅仅减少变量的数量吗？在这种情况下，请指定要保留的差异百分比。</p><h1 id="408f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="30cd" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">虽然除了我在这里介绍的方法之外，可能还有其他编辑和简化数据集的方法，但是当您需要编辑和简化数据时，这是一个很好的起点。虽然有很多技术步骤可以实现(如 PCA 和岭回归)，但数据编辑的一个重要组成部分是利用您的领域知识和批判性思维。虽然数据科学家当然需要了解统计和算法，但这也是数据科学家需要创造力和跳出框框思考的能力的原因。</p></div></div>    
</body>
</html>