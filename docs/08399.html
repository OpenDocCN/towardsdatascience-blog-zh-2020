<html>
<head>
<title>From model fitting to production in seconds</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从模型拟合到生产只需几秒钟</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/from-model-fitting-to-production-in-seconds-8e6823d87f5d?source=collection_archive---------66-----------------------#2020-06-18">https://towardsdatascience.com/from-model-fitting-to-production-in-seconds-8e6823d87f5d?source=collection_archive---------66-----------------------#2020-06-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div class="gh gi ir"><img src="../Images/9f260383f4044e6011c4d5d006097919.png" data-original-src="https://miro.medium.com/v2/resize:fit:714/format:webp/1*wfc6NEjWmD6FZtUVjJyNsg.png"/></div></figure><div class=""/><div class=""><h2 id="cb65" class="pw-subtitle-paragraph jx iz ja bd b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dk translated">我能写的关于有效部署ML &amp; AI模型的最短的教程</h2></div><p id="1bde" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">将ML模型投入生产是一个挑战；超过60%的型号<a class="ae ll" href="https://info.algorithmia.com/hubfs/2019/Whitepapers/The-State-of-Enterprise-ML-2020/Algorithmia_2020_State_of_Enterprise_ML.pdf" rel="noopener ugc nofollow" target="_blank">从未真正投入生产</a>。事实并非如此:只需几行代码就能有效地将模型投入生产。</p><h1 id="f3db" class="lm ln ja bd lo lp lq lr ls lt lu lv lw kg lx kh ly kj lz kk ma km mb kn mc md bi translated">模型拟合</h1><p id="f95f" class="pw-post-body-paragraph kp kq ja kr b ks me kb ku kv mf ke kx ky mg la lb lc mh le lf lg mi li lj lk im bi translated">由于拟合不是本教程的目的，我将只在标准的<a class="ae ll" href="https://scikit-learn.org/stable/datasets/index.html#breast-cancer-dataset" rel="noopener ugc nofollow" target="_blank"> scikit-learn乳腺癌数据</a>上拟合一个XGBoost模型:</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="90ea" class="ms ln ja mo b gy mt mu l mv mw"># Get the data:<br/>from sklearn.datasets import load_breast_cancer</span><span id="22bd" class="ms ln ja mo b gy mx mu l mv mw">cancer = load_breast_cancer()</span><span id="ca9c" class="ms ln ja mo b gy mx mu l mv mw">X = cancer.data<br/>y = cancer.target</span><span id="aee6" class="ms ln ja mo b gy mx mu l mv mw"># And fit the model:<br/>import xgboost as xgb</span><span id="ba67" class="ms ln ja mo b gy mx mu l mv mw">xgb_model = xgb.XGBClassifier(objective="binary:logistic", random_state=42)<br/>xgb_model.fit(X, y)</span></pre><p id="5fbe" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated"><em class="my">(我忽略了模型检查和验证；让我们来关注部署)</em></p><h1 id="f9fb" class="lm ln ja bd lo lp lq lr ls lt lu lv lw kg lx kh ly kj lz kk ma km mb kn mc md bi translated">部署模型</h1><p id="d10c" class="pw-post-body-paragraph kp kq ja kr b ks me kb ku kv mf ke kx ky mg la lb lc mh le lf lg mi li lj lk im bi translated">现在我们有了合适的模型；让我们使用<code class="fe mz na nb mo b"><a class="ae ll" href="https://pypi.org/project/sclblpy/" rel="noopener ugc nofollow" target="_blank">sclblpy</a></code> <a class="ae ll" href="https://pypi.org/project/sclblpy/" rel="noopener ugc nofollow" target="_blank">包</a>来部署它:</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="af4b" class="ms ln ja mo b gy mt mu l mv mw"># Model deployment using the sclblpy package:<br/>import sclblpy as sp</span><span id="d7ba" class="ms ln ja mo b gy mx mu l mv mw"># Example feature vector and docs (optional):<br/>fv = X[0, :]  <br/>docs = {}  <br/>docs['name'] = "XGBoost breast cancer model"</span><span id="bfda" class="ms ln ja mo b gy mx mu l mv mw"># The actual deployment: just one line...<br/>sp.upload(xgb_model, fv, docs)</span></pre><p id="5fb3" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">完成了。</p><h1 id="4e5c" class="lm ln ja bd lo lp lq lr ls lt lu lv lw kg lx kh ly kj lz kk ma km mb kn mc md bi translated">使用部署的模型</h1><p id="629b" class="pw-post-body-paragraph kp kq ja kr b ks me kb ku kv mf ke kx ky mg la lb lc mh le lf lg mi li lj lk im bi translated">运行上面的代码几秒钟后，我收到了以下电子邮件:</p><figure class="mj mk ml mm gt iv gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/b1224d7d3f043c75cc19e01467e62ddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*NePyWIRXCNX1UZuiXn1TtA.png"/></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">模型部署完成。</p></figure><p id="d006" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">点击蓝色的大按钮，进入一个页面，我可以直接运行推论:</p><figure class="mj mk ml mm gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi nh"><img src="../Images/85e1d9f5c798add3e64863714ba06650.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8P4ZOVmwKORmheE2S2D2jg.png"/></div></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">在网络上产生推论</p></figure><p id="238e" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">虽然这很好，但是您可能希望创建一个更好的应用程序来使用部署的模型。只需复制粘贴项目所需的代码:</p><figure class="mj mk ml mm gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi nh"><img src="../Images/09f6ef8daf4678d3bc122913c226dfb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GJSGL47Yh0vnXVAIo9znzg.png"/></div></div><p class="nd ne gj gh gi nf ng bd b be z dk translated">将已部署的模型简单地复制粘贴到软件项目中。</p></figure><p id="787c" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">你走吧！</p><h1 id="06ef" class="lm ln ja bd lo lp lq lr ls lt lu lv lw kg lx kh ly kj lz kk ma km mb kn mc md bi translated">包裹</h1><p id="df02" class="pw-post-body-paragraph kp kq ja kr b ks me kb ku kv mf ke kx ky mg la lb lc mh le lf lg mi li lj lk im bi translated">关于模型部署(以及如何高效地部署:上面的过程实际上将您的模型传输到<a class="ae ll" href="https://webassembly.org" rel="noopener ugc nofollow" target="_blank"> WebAssembly </a>以使其高效和可移植)还有很多要说的，我不会说。</p><p id="007c" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">这是我能想到的最短的教程。</p><h1 id="6b25" class="lm ln ja bd lo lp lq lr ls lt lu lv lw kg lx kh ly kj lz kk ma km mb kn mc md bi translated">放弃</h1><p id="4552" class="pw-post-body-paragraph kp kq ja kr b ks me kb ku kv mf ke kx ky mg la lb lc mh le lf lg mi li lj lk im bi translated"><em class="my">值得注意的是我自己的参与:我是Jheronimus数据科学院</em> <a class="ae ll" href="https://www.jads.nl" rel="noopener ugc nofollow" target="_blank"> <em class="my">的数据科学教授，也是</em></a><a class="ae ll" href="https://www.scailable.net" rel="noopener ugc nofollow" target="_blank"><em class="my">Scailable</em></a><em class="my">的联合创始人之一。因此，毫无疑问，我对Scailable有既得利益；我有兴趣让它成长，这样我们就可以最终将人工智能投入生产并兑现它的承诺。这里表达的观点是我自己的。</em></p></div></div>    
</body>
</html>