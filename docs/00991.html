<html>
<head>
<title>Would You Survive the Titanic? — A Classic Challenge on Kaggle</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你会在泰坦尼克号上幸存吗？——对Kaggle的经典挑战</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/would-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e?source=collection_archive---------34-----------------------#2020-01-28">https://towardsdatascience.com/would-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e?source=collection_archive---------34-----------------------#2020-01-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9621" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于如何开始Kaggle之旅的7步指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/071f7b764a314c6c1ad5810769633bdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*V_BqiFjLgQ5eEJsz"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">安东尼·梅特卡夫在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h2 id="6d94" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">卡格尔</h2><p id="df20" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">Kaggle是数据科学家共享数据、交流思想和<strong class="lx iu">在预测分析问题上竞争的平台</strong>。人们经常认为Kaggle不适合初学者，或者它有一个非常<strong class="lx iu">陡峭的学习曲线</strong>。</p><p id="e400" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated"><strong class="lx iu">他们没有错。但是它们确实给像你我一样刚刚起步的人带来了挑战。作为一名(初级)数据科学家，我无法抗拒搜索有趣的数据集来开始我的Kaggle之旅。<strong class="lx iu"> <em class="mt">和我撞上了泰坦尼克号。</em> </strong></strong></p><blockquote class="mu mv mw"><p id="77b7" class="lv lw mt lx b ly mo ju ma mb mp jx md mx mq mf mg my mr mi mj mz ms ml mm mn im bi translated">Kaggle是数据科学家的Airbnb这是他们度过夜晚和周末的地方。齐尚·哈桑·乌斯马尼</p></blockquote><h2 id="13cf" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">泰坦尼克号</h2><p id="daf6" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">该数据集包含泰坦尼克号上乘客的信息。</p><p id="4f84" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">我使用了<em class="mt"> Python </em>来可视化和理解更多关于数据集的内容。我训练了一个分类器的<strong class="lx iu">集合，使用<em class="mt"> scikit-learn </em>来预测一个人的<strong class="lx iu">生存几率</strong>。然后，我使用<em class="mt"> pickle </em>保存这个模型，并使用<em class="mt"> Flask </em>将它作为<strong class="lx iu"> Web App </strong>部署在本地主机上。最后，我利用AWS来云托管它。</strong></p><p id="cfb9" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">该代码可在<a class="ae ky" href="https://github.com/edenau/Titanic" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获得。</p><p id="602b" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated"><strong class="lx iu"> <em class="mt">坐稳了，我们走！</em> </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/9ca9ee5984a39c51f564e1673e9340ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*C_bFIw-Huvbm8TRv"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@dhika88?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">和hika Soreng </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h1 id="53df" class="ni la it bd lb nj nk nl le nm nn no lh jz np ka ll kc nq kd lp kf nr kg lt ns bi translated">1.数据检查</h1><p id="fa7c" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">首先要做的事。我把数据导入到一个<em class="mt">熊猫</em> <strong class="lx iu"> <em class="mt">数据框</em> </strong>中。它包括乘客ID、幸存者、机票等级、姓名、性别、年龄、船上兄弟姐妹和配偶的数量、船上父母和子女的数量、机票号、乘客票价、客舱号和出发港。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/161a6de2fe4090f013b8531611d9d616.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r9x7xdModolYUKQ4hZ1SSA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">前5行数据</p></figure><p id="fb86" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">我立即想到的是:</p><ul class=""><li id="7a50" class="nu nv it lx b ly mo mb mp li nw lm nx lq ny mn nz oa ob oc bi translated"><code class="fe od oe of og b">PassengerId</code>是每个条目唯一的<strong class="lx iu">键</strong>，</li><li id="5c96" class="nu nv it lx b ly oh mb oi li oj lm ok lq ol mn nz oa ob oc bi translated"><code class="fe od oe of og b">Survived</code>是我们要用<strong class="lx iu">推断</strong>的目标，</li><li id="b69f" class="nu nv it lx b ly oh mb oi li oj lm ok lq ol mn nz oa ob oc bi translated"><code class="fe od oe of og b">Name</code>可能没有帮助，但是他们的<strong class="lx iu">头衔</strong>可能有帮助，</li><li id="7375" class="nu nv it lx b ly oh mb oi li oj lm ok lq ol mn nz oa ob oc bi translated"><code class="fe od oe of og b">Ticket</code>是一团<strong class="lx iu">乱</strong>，而且</li><li id="bf6b" class="nu nv it lx b ly oh mb oi li oj lm ok lq ol mn nz oa ob oc bi translated">有<strong class="lx iu">缺失数据</strong>标注为<code class="fe od oe of og b">NaN</code>。</li></ul><p id="7053" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">为了简单起见，我决定暂时去掉变量<code class="fe od oe of og b">Ticket</code>。它可能包含有用的信息，但提取这些信息需要大量的特征工程。我们应该从最容易的开始，并从那里着手。 </p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/2777f0461ba7dcea0fea7b1edd28a9ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A7miIzQcDs3u8m_RuxjSOQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">缺失数据的比率</p></figure><p id="5038" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">另一方面，让我们仔细看看缺失的数据。变量<code class="fe od oe of og b">Embarked</code>和<code class="fe od oe of og b">Fare</code>中有几项缺失。另一方面，大约20%的乘客年龄没有被记录<strong class="lx iu"/>。这可能会给我们带来一个问题，因为<code class="fe od oe of og b">Age</code>可能是数据集中的关键预测值之一。“妇女和儿童优先”在当时是一种行为准则，报告表明他们确实是首先被拯救的。<code class="fe od oe of og b">Cabin</code>中有<strong class="lx iu"> &gt; 77%的漏项</strong>，不太可能有太大帮助，暂且不提。</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h1 id="4a5d" class="ni la it bd lb nj nk nl le nm nn no lh jz np ka ll kc nq kd lp kf nr kg lt ns bi translated">2.数据可视化</h1><p id="63aa" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated"><strong class="lx iu"> Pair plot </strong>(下面未显示)通常是我在数据可视化任务开始时的首选，因为它通常很有帮助，并且它具有很高的信息与代码行数比率。一条单线<code class="fe od oe of og b">seaborn.pairplot()</code>给你<strong class="lx iu"> n个图</strong>(技术上是n(n+1)/2个不同的图)，其中n代表变量的数量。它让你对每一对变量之间的关系，以及每个变量本身的分布有一个基本的了解。让我们深入研究不同的变量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/6002f39b510cd3d7ba77714a0dded5bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p1mG0K8qpf3K8HTdKFVBuA.png"/></div></div></figure><p id="8868" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">我们首先逐个检查目标变量<code class="fe od oe of og b">Survived</code>与每个预测值的关系。到了<code class="fe od oe of og b">seaborn.countplot()</code>，我们发现大多数人属于第三类，这并不奇怪；总的来说，他们存活的概率较低。即使有这个单一的预测因素，<strong class="lx iu"> <em class="mt">考虑到其他一切未知的</em> </strong>，我们可以推断一个<strong class="lx iu">头等舱乘客</strong>更有可能幸存，而这对于一个三等舱乘客来说不太可能。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/9cf533d9630fb031e7052c71fff82244.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KrKMMa36UVb_RDZnale2Zw.png"/></div></div></figure><p id="c013" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">同时，妇女和儿童更有可能幸存，这与前面提到的<strong class="lx iu"> <em class="mt">【妇女和儿童优先】</em> </strong>理论相一致。如果我们只考察三个变量<code class="fe od oe of og b">Pclass</code>、<code class="fe od oe of og b">Sex</code>和<code class="fe od oe of og b">Age</code>，头等舱的年轻女性乘客现在将是最有可能生还的人。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/350ccd88b79955f0ae8fd2ddbd6aee62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YiQJZhYaooPof736KcRNjw.png"/></div></div></figure><p id="31f7" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">然而，解释<strong class="lx iu">乘客票价</strong>的<strong class="lx iu">密度图</strong>T3】可能会更难。对于“幸存”和“未幸存”两类，它们的跨度很大，其中“未幸存”类的均值和方差较小。请注意，在“幸存”等级的分布中有一个<strong class="lx iu">有趣的尾巴</strong>，它对应于三个人每人获得512美元的头等舱机票。他们都是在瑟堡港上船的，所有人都活了下来。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/cb56071fa6e79be59eabd75acd235b2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ynrtCUVeGKyJ37cvXSO_hg.png"/></div></div></figure><p id="8327" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">另一方面,<strong class="lx iu">出发港</strong>似乎也在决定谁将幸存的问题上扮演了一个角色。大多数人在南安普顿港上船——旅程的第一站，他们的存活率最低。也许他们被分配到离出口更远的船舱，或者在游轮上花更多的时间会让人放松或疲惫。或者，这可能只是由第三个变量间接导致的——比如说，在第一个港口上船的妇女/儿童/头等舱乘客可能更少。需要进一步调查。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/f9d4865914065379dd9b95a109d68be1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u2-znGxikfLe6_8RFqjcfQ.png"/></div></div></figure><p id="c69c" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">如果你喜欢<strong class="lx iu">表格</strong>而不是图表，我们也可以通过<code class="fe od oe of og b">pandas.DataFrame.groupby()</code>将数据可视化，并取每一类的平均值。但是，我觉得下面的<code class="fe od oe of og b">Parch</code>的表格中并没有一个清晰的模式显示出来。</p><div class="kj kk kl km gt ab cb"><figure class="or kn os ot ou ov ow paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/584e7b052f95894fc8c438a8ec044925.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*YX-dk93qcSl-yWp_L-HSdg.png"/></div></figure><figure class="or kn ox ot ou ov ow paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/1eee668d09d344d9357287a33969f0d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*hUgxCXGwykUq_jqLJWzmfA.png"/></div></figure></div><p id="5542" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated"><strong class="lx iu">由<code class="fe od oe of og b">seaborn.heatmap()</code>生成的相关矩阵</strong>说明了任意两个变量之间的相关强度。如您所见，<code class="fe od oe of og b">Sex</code>与<code class="fe od oe of og b">Survived</code>的相关性最高，而<code class="fe od oe of og b">Fare</code>与<code class="fe od oe of og b">Pclass</code>的相关性最高。<code class="fe od oe of og b">SibSp</code>和<code class="fe od oe of og b">Parch</code>似乎在预测一个人的生存机会方面没有太大作用，尽管我们的本能表明情况并非如此。</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h1 id="7300" class="ni la it bd lb nj nk nl le nm nn no lh jz np ka ll kc nq kd lp kf nr kg lt ns bi translated">3.缺失数据插补</h1><p id="10a7" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">我们之前在<em class="mt">数据检查</em>中发现有很多<strong class="lx iu">缺失数据条目</strong>。例如，我们似乎不知道一位60岁的托马斯·斯托里买票花了多少钱。直觉告诉我们，机票价格在很大程度上取决于机票等级和出发港口，我们可以用上面的相关矩阵进行交叉检查。因此，我们将只取南安普敦三等舱票价的平均值。这只是一个有根据的猜测，可能是错误的，但已经足够好了。请记住，不可能有无噪声的数据，机器学习模型应该对噪声具有鲁棒性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/1c5072d14a83fdfba44da1cf4bb5a91a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jdd4ce9Y-SDJ0FuADNen4Q.png"/></div></div></figure><p id="5fa6" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">还有两个女人，我们不知道她们是从哪里上船的。这应该与机票等级和票价密切相关。因为他们都花了80美元买了一张头等舱的票，所以我把我的钱押在瑟堡(图中的C)。</p><p id="13bd" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">如果某个特定变量中只有几个缺失条目，我们可以使用上面的技巧，通过基本上采用<strong class="lx iu"> <em class="mt">最大似然</em> </strong>值来进行有根据的猜测。尽管如此，如果我们有更多丢失的数据，做同样的事情真的很危险，就像在<code class="fe od oe of og b">Age</code>中，大约有20%的数据丢失。</p><p id="686b" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">我们再也不能通过观察做出有根据的猜测了。因为我们丢弃了变量<code class="fe od oe of og b">Cabin</code>，并且所有其他缺失的条目都被填充，所以我们可以利用所有其他变量通过随机森林回归来推断缺失的<code class="fe od oe of og b">Age</code>。有80%的‘训练’数据来推断剩下的20%。</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h1 id="5c2d" class="ni la it bd lb nj nk nl le nm nn no lh jz np ka ll kc nq kd lp kf nr kg lt ns bi translated">4.特征工程</h1><p id="bc8c" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">虽然大多数人都有“先生”、“夫人”和“小姐”的头衔，但也有不少不太常见的头衔——“博士”、“牧师”、“上校”等。有些只出现一次，如“Lady”、“DOA”、“Captain”等..他们罕见的出现对模特训练没什么帮助。为了用数据科学找到<strong class="lx iu">模式</strong>，你需要数据。一个基准点没有任何模式。让我们把所有那些相对罕见的标题归类为“罕见”。</p><p id="69ac" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">分类数据在模型训练之前需要格外小心。分类器无法处理字符串输入，如“Mr”、“Southampton”等..虽然我们可以把它们映射成整数，比如说('先生'，'小姐'，'夫人'，'稀有')→ (1，2，3，4)，但是头衔之间不应该有排序的概念。<strong class="lx iu"> <em class="mt">成为博士并不能让你高人一等</em> </strong>。为了不误导机器，不小心构建了一个性别歧视的人工智能，我们应该<strong class="lx iu">对它们进行一次性编码</strong>。它们变成了:</p><p id="c7ba" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi">( (1, 0, 0, 0), (0, 1, 0, 0), (0, 0, 1, 0), (0, 0, 0, 1) )</p><p id="9232" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">另一方面，我决定再添加两个变量— <code class="fe od oe of og b">FamilySize</code>和<code class="fe od oe of og b">IsAlone</code>。加上<code class="fe od oe of og b">FamilySize = SibSp + Parch + 1</code>更有意义，因为全家人会一起待在游轮上。你不想和你的伴侣在一起，但却抛弃你的父母，是吗？此外，独处可能是关键因素之一。你可能更容易做出鲁莽的决定，或者你可能更灵活，不需要照顾家庭。通过一次添加一个变量，我发现它们在模型中的出现提高了整体的可预测性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/de26323075a4629c94ff6ff0902c4910.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5kfjIcjDkbdMhmlZ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Alex Siale 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h1 id="134a" class="ni la it bd lb nj nk nl le nm nn no lh jz np ka ll kc nq kd lp kf nr kg lt ns bi translated">5.模型评估</h1><p id="2896" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">我尝试了我所知道的最流行的分类器——随机森林、SVM、KNN、AdaBoost等等。XGBoost 最终以87%的测试准确率脱颖而出。为了增加我们的分类器的鲁棒性，训练具有不同性质的分类器的集成，并且通过<strong class="lx iu">多数投票</strong>获得最终结果。</p><p id="c1fb" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">最后，我提交给Kaggle，并取得了<strong class="lx iu"> 80% </strong>的准确率。还不错。总有改进的余地。</p><p id="0c67" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">例如，在<code class="fe od oe of og b">Cabin</code>和<code class="fe od oe of og b">Ticket</code>中肯定有一些有用的信息<strong class="lx iu">隐藏在</strong>中，但是为了简单起见，我们省略了它们。我们还可以创建更多的特征，例如一个二进制类<code class="fe od oe of og b">Underage</code>，如果<code class="fe od oe of og b">Age &lt; 18</code>为1，否则为0。</p><p id="3b48" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">但是我现在要继续前进了。 </p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h1 id="c3da" class="ni la it bd lb nj nk nl le nm nn no lh jz np ka ll kc nq kd lp kf nr kg lt ns bi translated">6.作为Web应用程序部署</h1><p id="4ef7" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated"><em class="mt"> Flask </em>是Python中一个易于使用的web框架。</p><pre class="kj kk kl km gt pa og pb pc aw pd bi"><span id="8062" class="kz la it og b gy pe pf l pg ph">from flask import Flask<br/>app = Flask(__name__)</span><span id="a98b" class="kz la it og b gy pi pf l pg ph"><a class="ae ky" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route("/")<br/>def hello():<br/>    return "&lt;h1&gt;Write something here.&lt;/h1&gt;"</span><span id="1b55" class="kz la it og b gy pi pf l pg ph">app.run(host='0.0.0.0', port=60000)</span></pre><p id="1ba7" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">瞧！您可以在本地主机中浏览它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/2685f2f9494752fecbd48084b992a947.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TVAyfX5MghKmhzBG"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">安德鲁·弗尔兰在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="4ac4" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">我们还需要什么？我们希望人们填写表格来收集所需的数据，并将其传递给机器学习模型。该模型将有一个输出，我们将用户重定向到该页面。</p><p id="514c" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">我们将使用<em class="mt"> WTForms </em>在Python中构建一个表单，单个表单由一个类定义，如下图所示:</p><pre class="kj kk kl km gt pa og pb pc aw pd bi"><span id="3f21" class="kz la it og b gy pe pf l pg ph">from wtforms import Form, TextField, validators, SubmitField,  DecimalField, IntegerField, SelectField</span><span id="25af" class="kz la it og b gy pi pf l pg ph">class ReusableForm(Form):</span><span id="d1f3" class="kz la it og b gy pi pf l pg ph">sex = SelectField('Sex:',choices=[('1', 'Male'), ('0', 'Female') ],<br/>                   validators=[validators.InputRequired()])</span><span id="655f" class="kz la it og b gy pi pf l pg ph">fare = DecimalField('Passenger Fare:',default=33,places=1,<br/>                     validators=[validators.InputRequired(),<br/>                                 validators.NumberRange(min=0,<br/>                                                        max=512,<br/>                                                          <br/>                         message='Fare must be between 0 and 512')])</span><span id="4669" class="kz la it og b gy pi pf l pg ph">submit = SubmitField('Predict')</span></pre><p id="6558" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">我从Will Koehrsen 那里找到了一个HTML模板，并在它的基础上构建。</p><blockquote class="mu mv mw"><p id="6177" class="lv lw mt lx b ly mo ju ma mb mp jx md mx mq mf mg my mr mi mj mz ms ml mm mn im bi translated">你看看那些在你之前的人，那些以前处理过这个问题的人，那些建立了意大利面条代码的人，你非常感谢他们使它开源，<strong class="lx iu">你给他们荣誉</strong>，你把他们做的东西放进你的程序里，你永远不会再看它。—汤姆·斯科特</p></blockquote></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h1 id="be9d" class="ni la it bd lb nj nk nl le nm nn no lh jz np ka ll kc nq kd lp kf nr kg lt ns bi translated">7.云托管</h1><p id="6b56" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">现在可以通过我的本地主机查看网页了，一切正常。最后一步是把它放在网上。现在有3个主要的云托管服务——AWS、GCP和Azure。AWS是目前最受欢迎的，所以我选择了它的12个月免费版。</p><p id="6db6" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">我用我的私钥连接到Linux服务器实例，将我的存储库迁移到服务器，运行我的脚本，它工作了！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/81fe33e0d77bf454cb05f12e43a9e397.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XaWwSjJ2ggCHiBOD6hzK5g.png"/></div></div></figure><p id="d4b0" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">嗯…那对我来说不太好…</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/4802d5f6c24170403aad8e60dc46507f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HcWXe0ArDE4L-uL3euHKUQ.png"/></div></div></figure></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h2 id="f44d" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">相关文章</h2><p id="f4d0" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">感谢您的阅读。你可以<a class="ae ky" href="http://edenau.mailchimpsites.com/" rel="noopener ugc nofollow" target="_blank">注册我的时事通讯</a>来接收我的新文章的更新。如果您对数据科学感兴趣，以下文章可能会有用:</p><div class="pl pm gp gr pn po"><a rel="noopener follow" target="_blank" href="/5-python-features-i-wish-i-had-known-earlier-bc16e4a13bf4"><div class="pp ab fo"><div class="pq ab pr cl cj ps"><h2 class="bd iu gy z fp pt fr fs pu fu fw is bi translated">我希望我能早点知道的5个Python特性</h2><div class="pv l"><h3 class="bd b gy z fp pt fr fs pu fu fw dk translated">超越lambda、map和filter的Python技巧</h3></div><div class="pw l"><p class="bd b dl z fp pt fr fs pu fu fw dk translated">towardsdatascience.com</p></div></div><div class="px l"><div class="py l pz qa qb px qc ks po"/></div></div></a></div><div class="pl pm gp gr pn po"><a rel="noopener follow" target="_blank" href="/6-new-features-in-python-3-8-for-python-newbies-dc2e7b804acc"><div class="pp ab fo"><div class="pq ab pr cl cj ps"><h2 class="bd iu gy z fp pt fr fs pu fu fw is bi translated">Python 3.8中针对Python新手的6项新特性</h2><div class="pv l"><h3 class="bd b gy z fp pt fr fs pu fu fw dk translated">请做好准备，因为Python 2不再受支持</h3></div><div class="pw l"><p class="bd b dl z fp pt fr fs pu fu fw dk translated">towardsdatascience.com</p></div></div><div class="px l"><div class="qd l pz qa qb px qc ks po"/></div></div></a></div><div class="pl pm gp gr pn po"><a rel="noopener follow" target="_blank" href="/4-common-mistakes-python-beginners-should-avoid-89bcebd2c628"><div class="pp ab fo"><div class="pq ab pr cl cj ps"><h2 class="bd iu gy z fp pt fr fs pu fu fw is bi translated">Python初学者应该避免的4个常见错误</h2><div class="pv l"><h3 class="bd b gy z fp pt fr fs pu fu fw dk translated">我很艰难地学会了，但你不需要</h3></div><div class="pw l"><p class="bd b dl z fp pt fr fs pu fu fw dk translated">towardsdatascience.com</p></div></div><div class="px l"><div class="qe l pz qa qb px qc ks po"/></div></div></a></div><p id="b052" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated"><em class="mt">最初发布于</em><a class="ae ky" href="https://edenau.github.io" rel="noopener ugc nofollow" target="_blank"><em class="mt">edenau . github . io</em></a><em class="mt">。</em></p></div></div>    
</body>
</html>