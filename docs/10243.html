<html>
<head>
<title>Discover Your Next Favorite Restaurant — Exploration and Visualization on Yelp Dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">发现你下一个最喜欢的餐馆 Yelp 数据集上的探索和可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/discover-your-next-favorite-restaurant-exploration-and-visualization-on-yelps-dataset-157d9799123c?source=collection_archive---------30-----------------------#2020-07-19">https://towardsdatascience.com/discover-your-next-favorite-restaurant-exploration-and-visualization-on-yelps-dataset-157d9799123c?source=collection_archive---------30-----------------------#2020-07-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/e1e4051355be650b2ad8ed008ca5e7e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BCJJipG1TWewtEDpg8pKIQ.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">我为餐馆 X 生成的单词云(你会在这篇文章的结尾找到 X)</p></figure><p id="721a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">你这辈子第一次来到这个城市。</p><p id="833b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">午餐时间到了。你想找一家好的当地餐馆，但不幸的是，你不知道该地区有谁可以推荐你。你现在做什么？</p><p id="bc70" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果你选择继续<strong class="kh iu"> Yelp </strong>寻找答案，你不是唯一的一个。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ld"><img src="../Images/6804dd9b9b563e4541762f640a69aff3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*umJBZ-gWFxD1165S"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae li" href="https://unsplash.com/@jonasleupe?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">乔纳斯·洛伊普</a>在<a class="ae li" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="2e62" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">作为一个发布关于企业的众包评论的平台，Yelp 可以帮助用餐者进行决策，提供有价值的功能，如餐厅评级、提示和其他用餐者提供的评论。截至 2020 年 3 月，Yelp [1]上有<strong class="kh iu">2.11 亿</strong>条累积评论。</p><p id="5fb8" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">有了这些海量数据，Yelp 还发布了他们的业务、评论和用户数据的子集，用于教育和学术目的[2]。它还举办了“Yelp 数据集挑战”，为学生提供了一个通过挖掘这些数据进行研究和分析的机会(查看过去几轮获奖者及其论文<a class="ae li" href="https://www.yelp.com/dataset/challenge/winners" rel="noopener ugc nofollow" target="_blank">此处</a>)。</p><p id="f101" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">现在我确信你对这个数据集中有什么和我们能发现什么很好奇。事不宜迟，让我们开始探索之旅吧！</p></div><div class="ab cl lj lk hx ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="im in io ip iq"><h1 id="ff02" class="lq lr it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">古玩目录</h1><ol class=""><li id="4c2a" class="mo mp it kh b ki mq km mr kq ms ku mt ky mu lc mv mw mx my bi translated"><a class="ae li" href="#07d5" rel="noopener ugc nofollow">业务数据中有什么？</a></li><li id="1fab" class="mo mp it kh b ki mz km na kq nb ku nc ky nd lc mv mw mx my bi translated"><a class="ae li" href="#2ac6" rel="noopener ugc nofollow">餐厅位于哪里？</a></li><li id="6379" class="mo mp it kh b ki mz km na kq nb ku nc ky nd lc mv mw mx my bi translated"><a class="ae li" href="#fb39" rel="noopener ugc nofollow">哪些餐厅出现率高？他们的评分有可比性吗？</a></li><li id="3789" class="mo mp it kh b ki mz km na kq nb ku nc ky nd lc mv mw mx my bi translated"><a class="ae li" href="#c622" rel="noopener ugc nofollow">我们能在餐厅属性中找到什么？</a></li><li id="9e17" class="mo mp it kh b ki mz km na kq nb ku nc ky nd lc mv mw mx my bi translated">如何根据我们的需求找到顶级餐厅？</li><li id="8409" class="mo mp it kh b ki mz km na kq nb ku nc ky nd lc mv mw mx my bi translated">我们下一步能做什么？</li></ol></div><div class="ab cl lj lk hx ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="im in io ip iq"><h1 id="7a9e" class="lq lr it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated"><strong class="ak">数据集</strong></h1><p id="7951" class="pw-post-body-paragraph kf kg it kh b ki mq kk kl km mr ko kp kq ne ks kt ku nf kw kx ky ng la lb lc im bi translated">在这篇文章中，我将通过<strong class="kh iu"> Kaggle </strong>探索 Yelp 数据集(此处链接到数据集<a class="ae li" href="https://www.kaggle.com/yelp-dataset/yelp-dataset" rel="noopener ugc nofollow" target="_blank">)。请注意，数据集是在 2020 年 3 月用更新的数据更新的，我的分析是在<strong class="kh iu">更新的</strong>数据集(截至 2020 年 7 月)上进行的。</a></p><p id="3a11" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">该数据集包含 6 个 JSON 文件:</p><p id="0bad" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu"> business.json </strong> —位置、评级(星级)和属性等业务数据。<br/> <strong class="kh iu"> review.json </strong> —用户评论包括用户 id、商家 id 等。<br/> <strong class="kh iu"> user.json </strong> —用户数据，比如写的评论数、朋友和一些元数据。<br/> <strong class="kh iu"> checkin.json </strong> —签入数据，包括签入 id 和业务 id。<br/> <strong class="kh iu"> tip.json </strong> —用户写的提示，是比较短的评论(一开始我以为这是客户服务后留下的“提示”。对我们的另一个提醒是确保在分析前充分理解数据。<br/> <strong class="kh iu"> photo.json </strong> —包含标题和标签的照片数据。</p><p id="807b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">有关这些文件和数据格式的完整文档，请查看此<a class="ae li" href="https://www.yelp.com/dataset/documentation/main" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><p id="67c7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">值得注意的是，这个数据集是 Yelp 拥有的所有数据的一个子集，所以我们在做出任何大胆的结论之前需要注意。这篇文章使用了<strong class="kh iu"> business.json </strong>和<strong class="kh iu"> tip.json </strong>文件，我将在以后的文章中使用其他一些文件(<strong class="kh iu"> review.json </strong>等)。).</p><p id="d999" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">要查看我的完整 Python 代码，请查看我的<a class="ae li" href="https://www.kaggle.com/dehaozhang/yelp-eda" rel="noopener ugc nofollow" target="_blank"> Kaggle 内核</a>或我的<a class="ae li" href="https://github.com/terryz1/yelp_dataset" rel="noopener ugc nofollow" target="_blank"> Github 页面</a>。这篇文章旨在展示分析结果和发现，而不是详细检查代码。</p></div><div class="ab cl lj lk hx ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="im in io ip iq"><p id="07d5" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">窥视业务数据</strong></p><p id="24fe" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">因为每个文件都是 JSON 格式的，所以我们需要先把它加载到 DataFrame 中。然后，让我们看看业务数据的维度:</p><pre class="le lf lg lh gt nh ni nj nk aw nl bi"><span id="b8e5" class="nm lr it ni b gy nn no l np nq">(209393, 14)</span></pre><p id="2fff" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">有 209393 个业务，14 个属性。</p><p id="529d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">让我们看看有哪些不同的属性:</p><pre class="le lf lg lh gt nh ni nj nk aw nl bi"><span id="c2d0" class="nm lr it ni b gy nn no l np nq">Index(['business_id', 'name', 'address', 'city', 'state', 'postal_code', 'latitude', 'longitude', 'stars', 'review_count', 'is_open', 'attributes', 'categories', 'hours'], dtype='object')</span></pre><p id="f448" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">由于我们最感兴趣的是餐馆，我们需要使用<em class="nr">类别</em>列对其进行子集划分。让我们检查一下这一栏中是否有任何缺失的数据:</p><pre class="le lf lg lh gt nh ni nj nk aw nl bi"><span id="51a3" class="nm lr it ni b gy nn no l np nq">0.002502471429321897</span></pre><p id="5098" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在该数据集中的所有企业中，只有大约 0.25%的企业缺少<em class="nr">类别</em>数据。我们可以在分析中安全地排除这些。之后，让我们再次检查它的形状:</p><pre class="le lf lg lh gt nh ni nj nk aw nl bi"><span id="881c" class="nm lr it ni b gy nn no l np nq">(208869, 14)</span></pre><p id="0df6" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">Yelp 上有超过 1200 种不同的商业类别。哪个类别的企业数量最多？我们的直觉可能是餐馆。让我们通过条形图快速确认一下:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/516350dda295a5a8949b528b65bffcf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*IXCTuRWdNZPCTO2FdUg0dw.png"/></div></figure><p id="5414" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">事实上，“餐馆”拥有最多的业务。请注意，每个企业最多可以分为三类[3]。</p><p id="3255" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">现在，我们可以将数据集仅划分为餐馆。一个很自然的问题是这些餐馆在哪里？</p><p id="8dda" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">地理可视化</strong></p><p id="2ac6" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">由于我们事先不知道这些选定餐馆的位置，我们先把它们标在世界地图上:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/8451160d033fb7b190172a27dd77323c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*nr3pK4fgDc-TfLHChD_hrw.png"/></div></figure><p id="fdec" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">似乎 Yelp 数据集中的所有餐馆都在北美地区。让我们放大一下:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/5c4bf3f1d1686dbca5fac55b55cac6c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*K3jiOLd0EwDhLTAMWFEv1w.png"/></div></figure><p id="e6a5" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">所有餐厅都位于美国或加拿大。</p><p id="dc7b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">让我们找出在这个数据集中餐馆数量最多的城市:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/f60c7dda4ee2eae8451991d434458331.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*13af5HMkKoOqXNaI_Fz3aQ.png"/></div></figure><p id="6b9e" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">多伦多和拉斯维加斯是餐馆数量最多的两个城市。让我们来看看这两个城市中这些餐厅的位置:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/9857ba3c76b39b483901101e7df7d719.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*Mdf1F-IWx-wkjxBy7yYaWg.png"/></div></div></figure><p id="5ac7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">该地区越明亮，该地区的餐馆就越多。</p><p id="fb39" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">出现率高的餐厅&amp;评级对比</strong></p><p id="8525" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在该数据集中的所有餐馆中，哪些餐馆比其他餐馆出现的频率高？我们的直觉可能是快餐连锁店。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/08ea3dd00a5e2954f978777ae493f9e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*QzuhTw-a60FZ4Ga4DUJEWA.png"/></div></figure><p id="0622" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们的直觉是正确的。注意“地铁餐厅”是“地铁”被命名为两个不同的餐厅，但它们应该是相同的。让我们来解决它:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/a1eb6e8d275e582d1ac7ecd9411fe059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*RRNnmr7XD4yTZzrqZOQTpQ.png"/></div></figure><p id="9744" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">赛百味和麦当劳在前 2 名。注意，总部位于多伦多的 Tim Hortons 也名列前茅。</p><p id="0c57" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">由于每个单独的餐厅分店都有一个“星级”栏(评分在 1.0 到 5.0 之间，增量为 0.5)，我们可以通过并排的方框图来比较这些受欢迎的连锁餐厅分店的评分:</p><blockquote class="ny nz oa"><p id="6ee6" class="kf kg nr kh b ki kj kk kl km kn ko kp ob kr ks kt oc kv kw kx od kz la lb lc im bi translated">麦当劳 vs 汉堡王</p></blockquote><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/8bd7e9dfcf2627538bb27cea0cc8f563.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*wamFmI7vWNtcaYSNXDxQDw.png"/></div></figure><p id="4412" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">有趣的是，他们的评分似乎一点区别都没有。他们的评级中值是 2.0，利差大致相同。中间的 50%(第 25 百分位—第 75 百分位)分支有 1.5 星— 2.5 星。</p><blockquote class="ny nz oa"><p id="4a3f" class="kf kg nr kh b ki kj kk kl km kn ko kp ob kr ks kt oc kv kw kx od kz la lb lc im bi translated">必胜客 vs 达美乐比萨</p></blockquote><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/6b011581343164f0ba2f52cdf2034c2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*GPUUwX_k32q63twk3TJhqw.png"/></div></figure><p id="4eed" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">两相比较，达美乐比萨的评分略高于必胜客。中间 50%的分店的必胜客星级为 1.5-2.5，达美乐比萨星级为 2.0-3.0。</p><blockquote class="ny nz oa"><p id="55ba" class="kf kg nr kh b ki kj kk kl km kn ko kp ob kr ks kt oc kv kw kx od kz la lb lc im bi translated">赛百味 vs 吉米·约翰</p></blockquote><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/df9ca6eb96e2519f1a3391f78cf5832a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*TVYhTlRm62NwENfjkWrhGA.png"/></div></figure><p id="57d7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">与之前的对比相似，吉米约翰的评分比赛百味略高。位于中间 50%的分店，赛百味为 2.0-3.0 星，吉米约翰为 2.5-3.5 星。</p><blockquote class="ny nz oa"><p id="872e" class="kf kg nr kh b ki kj kk kl km kn ko kp ob kr ks kt oc kv kw kx od kz la lb lc im bi translated">塔可钟 vs 墨西哥烤肉店</p></blockquote><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/627228f87ecf2884d00f1fde5327f6bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*cYAD1znXVCmhOGdIf_8DkQ.png"/></div></figure><p id="87d3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">最后一对比较显示了有趣的结果。与 Chipotle 相比，Taco Bell 的价差更大，IQR 更高(Q3-Q1)。这可能部分是因为 Taco Bell 在这个数据集中比 Chipotle 多了 100 多家餐厅。此外，也可能是 Chipotle 的食品质量和服务更加均衡。请注意，我们看不到 Chipotle 的中线，因为它与其 Q1 或 Q3 重叠。让我们检查它的中值来确认:</p><pre class="le lf lg lh gt nh ni nj nk aw nl bi"><span id="a7a4" class="nm lr it ni b gy nn no l np nq">3.0</span></pre><p id="d776" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">好吧，和 Q3 重叠了。这种重叠的原因是因为 Chipotle 有大量的“3 星”。</p><p id="e18e" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">通过这些比较，我们可以看到，对于同一家餐厅，不同分店的评分可能会有很大差异(Chipotle 可能是个例外)，而且在我们观察的每个比较对中，评分都没有明显的优势。</p><blockquote class="ny nz oa"><p id="1a72" class="kf kg nr kh b ki kj kk kl km kn ko kp ob kr ks kt oc kv kw kx od kz la lb lc im bi translated">评论数量和评级之间的关系</p></blockquote><p id="97eb" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">除了“stars”属性，还有一个“review_count”属性，表示 Yelp 用户提交的评论数量。让我们创建一个散点图来直观显示评论数和评分之间的关系:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/c650d4ec40dca4f50f38760c261757de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*UXN9ErqTRIzfouvarouYxQ.png"/></div></figure><p id="b030" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们可以看到，随着评分从 1.0 增加到 4.0，评论的数量也趋于增加。然而，随着评分的进一步增加，尤其是从 4.5 增加到 5.0，评论的数量会减少。</p><p id="c622" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">深入了解餐厅属性</strong></p><p id="ed8a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">该业务数据集中的一列是“属性”，表示商业设施。让我们来看看它们:</p><pre class="le lf lg lh gt nh ni nj nk aw nl bi"><span id="dfba" class="nm lr it ni b gy nn no l np nq">Index(['RestaurantsAttire', 'RestaurantsTakeOut', 'BusinessAcceptsCreditCards', 'NoiseLevel', 'GoodForKids', 'RestaurantsReservations', 'RestaurantsGoodForGroups', 'BusinessParking', 'RestaurantsPriceRange2', 'HasTV', 'Alcohol', 'BikeParking', 'RestaurantsDelivery', 'ByAppointmentOnly', 'OutdoorSeating', 'RestaurantsTableService', 'DogsAllowed', 'WiFi', 'Caters', 'Ambience', 'GoodForMeal', 'HappyHour', 'WheelchairAccessible', 'BYOB', 'Corkage', 'DietaryRestrictions', 'DriveThru', 'BusinessAcceptsBitcoin', 'Music', 'BestNights', 'GoodForDancing', 'Smoking', 'BYOBCorkage', 'CoatCheck', 'AgesAllowed', 'RestaurantsCounterService', 'Open24Hours', 'AcceptsInsurance', 'HairSpecializesIn'], dtype='object')</span></pre><blockquote class="ny nz oa"><p id="c102" class="kf kg nr kh b ki kj kk kl km kn ko kp ob kr ks kt oc kv kw kx od kz la lb lc im bi translated">比特币餐馆</p></blockquote><p id="aff8" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这些属性中的大多数都非常简单。我发现“BusinessAcceptsBitcoin”属性很有趣，所以让我们看看这个数据集中有多少家餐馆接受比特币:</p><pre class="le lf lg lh gt nh ni nj nk aw nl bi"><span id="4d7e" class="nm lr it ni b gy nn no l np nq">False    4245<br/>True       74<br/>Name: BusinessAcceptsBitcoin, dtype: int64</span></pre><p id="8c37" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在包含这一属性的 4319 家餐厅中，有 74 家接受比特币。</p><blockquote class="ny nz oa"><p id="e1bc" class="kf kg nr kh b ki kj kk kl km kn ko kp ob kr ks kt oc kv kw kx od kz la lb lc im bi translated">大衣格子与价格区间的关系</p></blockquote><p id="aa32" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我的直觉是，随着价格区间的扩大，提供衣帽寄存服务的餐厅比例也会增加。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi of"><img src="../Images/8c91691e5c9eb3003fe06abd66181dcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w-IxnAGa6clXVojiJjzOhw.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">价格范围和是否有大衣格子之间的交叉列表(列出的数字是百分比)</p></figure><p id="c182" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">请注意，对于价格范围，“1”表示“$”,“2”表示“$$”等。查看<a class="ae li" href="https://www.yelp.com/topic/san-diego-can-anyone-give-me-the-actual-dollar-range-for-the-dollar-sign-symbols-in-rrgards-to-pricing" rel="noopener ugc nofollow" target="_blank">这里</a>Yelp 美元符号和实际价格范围之间的映射。</p><p id="93ff" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们可以看到，当价格范围在 100 美元到 100 美元之间时，几乎没有一家餐馆提供衣帽寄存服务.然而，当价格范围为$$$-$$$，近一半的餐厅提供 coatcheck。</p><blockquote class="ny nz oa"><p id="690c" class="kf kg nr kh b ki kj kk kl km kn ko kp ob kr ks kt oc kv kw kx od kz la lb lc im bi translated">餐厅外卖与评分的关系</p></blockquote><p id="eb2d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我的直觉是，随着餐馆评分的增加(1.0-3.0)，提供外卖的餐馆的百分比也应该增加，随着餐馆评分从 3.0 增加到 5.0，该百分比可能会略有下降。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi og"><img src="../Images/636d9845a4d4c3bfcd9dddbf82458274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*qmgdD69l8YPTKy5JQG9jvg.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">评分和餐厅是否提供送货服务之间的交叉列表</p></figure><p id="9196" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">提供外卖服务的餐馆的比例实际上保持不变，与其评级无关。</p><p id="93e7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">请注意，在给定的属性和评级/评论数量之间，我们可以研究更多的二元或多元关系！</p><p id="b6ca" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">根据你的需求发现餐馆</strong></p><p id="3409" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">假设您想在多伦多找到一家符合以下条件的餐厅:</p><ol class=""><li id="226b" class="mo mp it kh b ki kj km kn kq oh ku oi ky oj lc mv mw mx my bi translated">评分&gt; 3.5 星</li><li id="0b7b" class="mo mp it kh b ki mz km na kq nb ku nc ky nd lc mv mw mx my bi translated">100 多篇评论</li><li id="8119" class="mo mp it kh b ki mz km na kq nb ku nc ky nd lc mv mw mx my bi translated">打开(重要！)</li><li id="1900" class="mo mp it kh b ki mz km na kq nb ku nc ky nd lc mv mw mx my bi translated">价格范围为 11-30 美元</li><li id="abd4" class="mo mp it kh b ki mz km na kq nb ku nc ky nd lc mv mw mx my bi translated">接受外卖服务(#社交距离)</li><li id="b098" class="mo mp it kh b ki mz km na kq nb ku nc ky nd lc mv mw mx my bi translated">接受信用卡</li></ol><p id="fd31" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">假设我们希望看到按评分(第一)和评论数(第二)排序的前 15 家餐馆:</p><pre class="le lf lg lh gt nh ni nj nk aw nl bi"><span id="b4a4" class="nm lr it ni b gy nn no l np nq">28918                      Ramen Isshin<br/>46423             Fresco's Fish &amp; Chips<br/>49260                           BarChef<br/>37688    Descendant Detroit Style Pizza<br/>4472                         Hodo Kwaja<br/>49245                      Saigon Lotus<br/>27989                           deKEFIR<br/>60497                      Banh Mi Boys<br/>30969           Manpuku Japanese Eatery<br/>16129                       Le Gourmand<br/>2827                White Brick Kitchen<br/>30799                        La Palette<br/>43941           Aoyama Sushi Restaurant<br/>4794                      Mangia &amp; Bevi<br/>4136                          La Cubana</span></pre><p id="7bc3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">现在你可能在想拉面伊申，以及人们对这家餐厅有什么建议。为此，我们需要查看<strong class="kh iu">提示</strong>数据。以下是用户在拉面伊申上给出的五个随机提示:</p><pre class="le lf lg lh gt nh ni nj nk aw nl bi"><span id="8081" class="nm lr it ni b gy nn no l np nq">1. 'Very small place fits about 30 people. They don't quite have a big sign.'<br/>2. 'Try the soft tofu appetizer! It's quite light but I find it really tasty!'<br/>3. 'They have a really cool chart in the front of their menu that breaks down each dish!'<br/>4. 'Order the white sesame ramen! Quite tasty!'<br/>5. 'By far, the most spacious ramenya in Toronto.'</span></pre><p id="d7e8" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">单词云是一种有趣的方式来可视化文本组中的流行单词/短语。要创建一个，我们需要首先处理原始文本(删除非字母字符/标点符号/停用词等。).点击阅读关于 NLP 文本处理<a class="ae li" rel="noopener" target="_blank" href="/introduction-to-natural-language-processing-for-text-df845750fb63">的更多信息。</a></p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ok"><img src="../Images/35d9507dc7c208ab7dbc935d557234fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*keAEBifARMi9l1fZYMBzug.png"/></div></div></figure><p id="1637" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">不太喜欢拉面，你更喜欢“弗雷斯科的鱼和薯条”？当然…这里有一些人们给“弗雷斯科炸鱼薯条”的随机提示:</p><pre class="le lf lg lh gt nh ni nj nk aw nl bi"><span id="e39f" class="nm lr it ni b gy nn no l np nq">1. 'Check in for a free drink!!'<br/>2. 'Add extra fish for only a few dollars, great for sharing!'<br/>3. 'Ask to add extra piece of fish to order if you don't want too many chips but want two orders; more fish less chips less money. ;)'<br/>4. 'Use the free drink checking offer!'<br/>5. 'Sunday! 3 items for just $5! I like the shrimp!'</span></pre><p id="c870" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们可以看到“<strong class="kh iu">入住</strong>免费饮料”和“加<strong class="kh iu">额外</strong>鱼”在这里都被提到了两次。我知道你现在可能在想什么…你是对的。这篇博文的特色图片确实是“Fresco 的鱼&amp;薯条”。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ok"><img src="../Images/d197ede7a569cc067d75c6ea5478cca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3CG3jOrE0zCH-6jFEzAxfQ.png"/></div></div></figure></div><div class="ab cl lj lk hx ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="im in io ip iq"><h1 id="d2ba" class="lq lr it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">接下来</h1><p id="034a" class="pw-post-body-paragraph kf kg it kh b ki mq kk kl km mr ko kp kq ne ks kt ku nf kw kx ky ng la lb lc im bi translated">Yelp 数据集有如此多的文本信息，我们在这篇文章中没有涉及。<strong class="kh iu"> review.json </strong>文件包含的用户评论比一般的提示长<strong class="kh iu"/>。这些数据可用于建立情感分析模型。具体来说，问题如下:有可能预测用户基于他们的文本评论给出的餐馆评级(或总体正面/负面情绪)吗？</p><p id="5aeb" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">点击这里查看我如何使用逻辑回归<a class="ae li" rel="noopener" target="_blank" href="/sentiment-classification-with-logistic-regression-analyzing-yelp-reviews-3981678c3b44?source=friends_link&amp;sk=b9493a3cadf935f4b5c78c1d6c6df25d">创建情感分类模型。</a></p></div><div class="ab cl lj lk hx ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="im in io ip iq"><h1 id="c7cb" class="lq lr it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated"><strong class="ak">总结</strong></h1><p id="9c92" class="pw-post-body-paragraph kf kg it kh b ki mq kk kl km mr ko kp kq ne ks kt ku nf kw kx ky ng la lb lc im bi translated">我们研究了 Yelp 数据集中的业务数据，并检查了一些快餐连锁店的餐厅评级。然后我们看了看不同的餐馆属性和它们之间的关系。最后，我们通过一个例子来说明如何找到符合我们需求的顶级餐厅，并使用小费数据来创建可视化效果，以帮助我们理解餐厅小费。</p><p id="6e39" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我希望你喜欢这篇文章，并请分享你的想法:)</p><p id="5e3c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">DS/ML 初学者？查看我的另一篇关于如何使用 Iris 数据集构建第一个 Python 分类器的帖子:</p><div class="ol om gp gr on oo"><a rel="noopener follow" target="_blank" href="/exploring-classifiers-with-python-scikit-learn-iris-dataset-2bcb490d2e1b"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd iu gy z fp ot fr fs ou fu fw is bi translated">使用 Python Scikit-learn-Iris 数据集探索分类器</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">如何用 Python 构建第一个分类器的分步指南。</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">towardsdatascience.com</p></div></div><div class="ox l"><div class="oy l oz pa pb ox pc jz oo"/></div></div></a></div></div><div class="ab cl lj lk hx ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="im in io ip iq"><h1 id="05e9" class="lq lr it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">参考</h1><p id="d29c" class="pw-post-body-paragraph kf kg it kh b ki mq kk kl km mr ko kp kq ne ks kt ku nf kw kx ky ng la lb lc im bi translated">[1]<a class="ae li" href="https://www.yelp-ir.com/overview/default.aspx" rel="noopener ugc nofollow" target="_blank">https://www.yelp-ir.com/overview/default.aspx</a><br/>【2】<a class="ae li" href="https://www.yelp.com/dataset" rel="noopener ugc nofollow" target="_blank">https://www.yelp.com/dataset</a><br/>【3】<a class="ae li" href="https://blog.yelp.com/2018/01/yelp_category_list" rel="noopener ugc nofollow" target="_blank">https://blog.yelp.com/2018/01/yelp_category_list</a></p></div></div>    
</body>
</html>