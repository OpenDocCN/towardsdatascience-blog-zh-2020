# 使用地理空间数据进行移动分析的产品

> 原文：<https://towardsdatascience.com/a-product-for-movement-analytics-using-geospatial-data-2aa95b18d693?source=collection_archive---------22----------------------->

## 是什么让实时位置数据的分析与众不同？

![](img/3b14ca64b05ddf7fe796eb6b4059f8e9.png)

来源:蚱蜢

# 如今，Geo 几乎无处不在！

随着 GPS 在我们周围的普及和智能手机的兴起，位置数据被大量收集。传说[说](https://medium.com/@localeai/what-is-location-intelligence-and-why-you-should-care-315d34d68179)几乎所有公司存储的数据(~80%)都有位置成分。

我们的生活现在充满了产品和服务，只需轻轻一打电话，就能在几分钟内送货上门！如今，很难找到一款不需要你的位置许可的应用。

在 GIS(地理信息系统)世界里有一句著名的[名言](https://pages.alteryx.com/e-book-everything-happens-somewhere-location-intelligence.html)说 ***“一切都发生在某个地方。”*** 当你从任何一款送餐 app 下单时，从下单开始，到配送主管(DE)被指派，再到 DE 从餐厅取货，再到他送货，每一个事件都发生在某个特定的 lat-long！

这就引出了我的下一个观点:

# 为什么我们会执着于“位置”这个维度？

首先，没有动态定位就没有“移动性”。换句话说，每当地面上有资产(人、车辆、货物、包裹)移动时，位置是一个基本方面。毕竟，在城市中每平方公里都有变化的城镇，加入这些地区的“背景”是很重要的。

对于我们所处的按需经济，实时分析所有维度(用户、商店、合作伙伴)的位置数据变得非常重要。这是因为你必须将你的供应与需求相匹配，进行基于位置的定价、促销或更快更准确的大规模交付！

最后，对消费者来说，最成功的[基于位置的体验](https://hypertrack.com/blog/2017/05/31/location-based-events/)是基于非常精细的连续活动:你在哪里？你需要去哪里？到了那里你想做什么？当你需要通过定向广告获得客户，并通过研究他们的行为来留住和吸引他们时，这就变得很重要。

> *位置不仅仅是地图上的一个点。它是关于一条线的。它是关于运动的。*

![](img/b4bb81323a87b2524d1d5d989f97fb9f.png)

Airbnb 客人对罗马街区的评价。资料来源:Inverse.com

> *地点令人兴奋！如果运用得当，它可以推动收入的显著增长(典型的例子:优步& Airbnb)。它的高使用率和实时性使它真正具有价值和粘性。*

但是一直以来，选址因素在商业决策中一直被 T2 忽视。这是因为传统的分析工具对于企业拥有的统计数据宝库来说非常棒，但在某些地方，它们达不到基于位置的决策**。**

**你可能会奇怪:“但是，为什么？”**

**在我们深入探讨之前，让我们了解地理空间数据与统计数据有何不同。**

# **是什么将地理空间数据与统计数据区分开来？**

> ***就像文本、声音、图像是不同类型的数据一样，经纬度是一种不同类型的数据，可以在时空环境中为统计数据增加巨大的深度、意义和洞察力。***

**统计数据以表格形式出现，通常由两个元素组成:随时间变化的值。[地理空间数据](https://study.com/academy/lesson/geospatial-data-definition-example.html)(也称为地理数据或位置数据)通常被格式化为点(经纬度坐标)、多边形或折线。**

**它在顶部融入了第三个维度:跨越时间和动态位置的价值——这需要一种完全不同的方法和处理方式。计算静态资产的度量包括在地图上绘制点并计算度量。运动分析关注的是我们如何可视化、分析和优化地面上的物体运动！**

> **地理空间数据的两个特殊属性是自相关性和非平稳性，这使得它很难满足传统(非空间)统计方法(如 OLS 回归)的假设和要求。**

**[空间自相关](https://www.researchgate.net/post/Spatial_autocorrelation_and_spatial_non-stationarity_in_spatial_analysis)表示我的测量值在附近的观测值之间有多相似(相关)。也符合地理第一定律——****万事万物都与其他事物相关，但近物比远物更相关*** *”。****

***[空间不稳定性](https://www.researchgate.net/post/Spatial_autocorrelation_and_spatial_non-stationarity_in_spatial_analysis)是一种简单的“全局”模型无法解释变量之间的空间关系的情况。模型的性质会随着空间的变化而变化，并且在研究区域的不同部分表现不同。***

***现在让我们来回答我们悬而未决的问题:***

# ***为什么当前的统计工具不适用于空间分析？***

***![](img/bb559966d72678919039b368d925b6c2.png)***

***来源:Hyper***

***如今，公司内部处理位置数据的现行方式已被打破。由于缺乏任何位置分析产品，大多数企业别无选择，只能依赖传统的商业智能和分析工具。这是一个非常无效的策略，这并不令人费解，因为这些工具并不真正用于地理分析。***

## ***㈠格式:***

***大多数公司以*[*ping*](https://www.linkedin.com/pulse/plot-your-location-using-ping-understanding-rate-preethi-n/)*的形式收集位置日志数据。分析它们所包含的模式的方法是拥有一个可以实时接收这些 pings 的基础设施——这是 Periscope 或 Tableau 等平台无法满足的。*****

*****此外，位置数据以不同的结构存在于不同的数据库中。因此，跨表实时分割变量变得更加复杂。*****

## *****㈡可视化:*****

*****我们都知道，统计仪表板包含条形图和图表，它们是通过对变量进行运算(求和、计数、除法、平均等)而产生的。虽然通过图表上的峰值和谷值获得实时趋势更新可能会有所帮助，但这些图表在汇总的历史数据上工作得更好。*****

*****添加或分割经纬线，并在其上创建棒线和图表是徒劳的。为了搞清楚这些纬度，你需要在身边放一张地图来了解它们的空间分布。*****

*****控制地理空间仪表板所有属性的另一个重要方面是[层](https://www.caliper.com/glossary/what-is-a-map-layer.htm)。没有这种可以用来在地图上显示多种类型的数据点的分层机制，可能会忽略这一点。例如，*层有助于查看我的订单(第一层)和合作伙伴位置(第二层)在我的区域集群(第三层)中的分布情况。******

****如果地面上有相关部件发生移动，地图也比条形图和图表更有助于推断。因此，当一切都是动态的时，实时地理分析变得至关重要。****

****![](img/4083686ad8c09c8bcc7a9a2b04e3eafa.png)****

****可视化纽约出租车旅行。来源:Kepler.gl****

## ****㈢汇总:****

****像 [PowerBI](https://powerbi.microsoft.com/en-us/) 和 [Geckoboard](https://www.geckoboard.com/) 这样的传统 BI 工具提供了在地图上绘制点的能力。然而，仅仅在地图上绘制点是不够的，因为空间中的十亿个点不是很直观。此外，****

> *****位置智能不仅仅是在地图上跟踪和标绘点！*****

****像聚类、热图、聚合、索引等策略。派上用场吸收大量积分。****

****一些工具如 [Tableau](https://www.tableau.com/) 和[潜望镜](https://www.periscopedata.com/)也允许创建热图——一种描绘度量模式的奇妙方式。热图的缺点是，它们只是一种可视化表示，因此限制了您对其进行任何类型的分析。****

****要了解热图不起作用的更多原因，请查看以下内容:****

****[](https://medium.com/locale-ai/making-location-based-experimentation-a-part-of-our-dna-d30280fc25cc) [## 让基于位置的实验成为我们 DNA 的一部分

### 我们能从基于网络的实验中学到什么？

medium.com](https://medium.com/locale-ai/making-location-based-experimentation-a-part-of-our-dna-d30280fc25cc) 

更有效的聚合方式是在[六边形网格](https://math.stackexchange.com/questions/2254655/hexagon-grid-coordinate-system)或[地理散列](https://www.factual.com/blog/how-geohashes-work/)上索引它们。一旦您分析了跨网格的度量模式(如需求和供应)，您也可以在模型中将单元作为一个单元使用。索引也有助于您的分析变得更加精细。

如果你想了解网格，你可以看看这个:

[](/spatial-modelling-tidbits-honeycomb-or-fishnets-7f0b19273aab) [## 空间建模花絮:蜂巢还是渔网？

### 为什么我们在现场喜欢六边形网格！

towardsdatascience.com](/spatial-modelling-tidbits-honeycomb-or-fishnets-7f0b19273aab) 

## ㈣数据准备:

**清理:**使用[潜望镜](https://www.periscopedata.com/)和 [Thoughtspot](https://www.thoughtspot.com/) ，您可以通过处理空白、空格、数据格式、NAs 等来清理您的统计数据，而 GPS 数据的清理包括将其捕捉到最近的道路或修正[空间异常值](https://link.springer.com/article/10.1007/s10707-007-0038-8)。(在使用谷歌地图时，你一定经常观察到，GPS 会随机出现在很远的地方。)可以肯定地说，GPS 作为一项技术还有很长的路要走！

**合并:**像 [Tableau Prep](https://www.tableau.com/en-gb/products) 或 [Metabase](https://metabase.com/) 这样的平台允许你在一个公共标识符的基础上使用一个内连接、左连接或右连接来合并两个表。例如，如果您有跨三个维度的数据:用户、交付合作伙伴和商店(有时它们以不同的格式出现)，那么使用这些平台进行空间合并是非常困难的。

[空间连接](http://desktop.arcgis.com/en/arcmap/10.3/tools/analysis-toolbox/spatial-join.htm)涉及在空间透视图中将一个图层的一个要素表中的列插入到另一个要素表中。*例如。合并 Kormangala 区域多边形及其内的所有乘车点。*

**丰富:**丰富任何数据都意味着添加新的信息层，并将其与第三方或外部数据源合并。在 GIS 领域，我们丰富了空间数据，以便更好地了解点所在区域的环境。这意味着添加道路、交通、天气、兴趣点、人口统计、建筑物等环境图层。

![](img/fd31565e8fdce791a23376e149c0a444.png)

QGIS 桌面。资料来源:NextGIS

# 内部解决方案行不通吗？

当然，一些公司意识到了这一点，并绕开开源工具(如 [Kepler.gl](http://kepler.gl/) 或 [QGIS](https://qgis.org/en/site/) )。但是这些开源工具有它们自己的一系列约束和限制。

然而，这个问题并没有在这里得到解决，因为地理空间数据本身就充满了挑战。

> *对流数据执行地理空间查询变得非常计算密集型，而传统技术(如 ArcGIS)提供的支持非常少。随着可视化大型地理空间数据集以及各种规模的交互，复杂性也随之增加。*

有时开发人员也构建他们自己的内部工具，但是大多数时候他们并不适合公司内部所有不同的受众。因为这些工具不是以可伸缩的方式构建的，所以维护它们经常会耗费大量开发人员的带宽！

很多时候甚至有重复的努力，轮子一遍又一遍地被重新发明。正如 Twilio [的杰夫·劳森(Jeff Lawson)所说](https://www.linkedin.com/pulse/problem-tracking-kashyap-deorah/)——“构建软件比以往任何时候都容易，但操作软件比以往任何时候都难”。

# 我们为什么要建立 Locale.ai？

一切都始于一个个人问题。作为处理地理空间数据的数据科学家，现有的分析产品在我们的日常工作流程中毫无用处。因此，我们必须为我们的日常工作流程构建自己的工具和库。

> *我们随后意识到，在位置数据方面，全球的数据科学家都面临着类似的问题。因此，企业正在努力提高运营效率！*

在[地点](http://locale.ai/)，我们计划一劳永逸地解决这些问题。我们希望减少所有这些过程的痛苦，建立一个在几分钟内就能轻松获得所有地理空间答案的世界！这就是为什么我们要回到绘图板，完全从零开始手工制作这种体验。

所以，下次你想在紧急情况下订购药品时，你不会希望在屏幕上看到，“*送货员不在。请稍后再检查。*“下一次，送货员再也不用在酷热、寒冷或下雨的天气里无所事事地等待订单了。

他们可以被激励去高需求地区，可以赚更多的钱。你收到的推送通知不会是垃圾邮件，它们会在正确的时间和正确的地点发送给你。

***感谢阅读！如果你想进一步钻研，可以查看我们的*** [***网站***](http://locale.ai/) ***出来或者联系我上***[***LinkedIn***](https://www.linkedin.com/in/aditi-sinha-6b774ba9/)***或者***[*Twitter*](https://twitter.com/aditi1002)***。*******