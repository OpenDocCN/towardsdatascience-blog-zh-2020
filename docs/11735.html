<html>
<head>
<title>Step-by-step Guide to Exploratory Data Analysis in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中探索性数据分析的分步指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/an-introduction-to-exploratory-data-analysis-in-python-9a76f04628b8?source=collection_archive---------9-----------------------#2020-08-14">https://towardsdatascience.com/an-introduction-to-exploratory-data-analysis-in-python-9a76f04628b8?source=collection_archive---------9-----------------------#2020-08-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/400bf6882d5a6146059be8375a05d185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mpyrgqwMjfclV2oN1U2VIA.jpeg"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图片由<a class="ae jd" href="https://unsplash.com/@lukechesser?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">卢克·切瑟</a>在<a class="ae jd" href="https://unsplash.com/s/photos/data-visualization?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><div class=""/><p id="1d96" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">很多时候，我看到数据科学的初学者跳过探索性数据分析(EDA ),直接进入构建假设函数或模型。在我看来，不应该是这样的。我们应该首先执行 EDA，因为它会在情感层面将我们与数据集联系起来，当然，这将有助于构建良好的假设函数。</p><p id="595f" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">EDA 是非常关键的一步。它让我们一瞥我们的数据集是什么，它的独特性，它的异常性，最后它为我们总结了数据集的主要特征。在这篇文章中，我将分享一个执行 EDA 的基本指南。</p><p id="7209" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">第一步:导入你的数据集</strong>，好好看看数据。</p><p id="1d52" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了执行 EDA，我们将需要以下 python 包。</p><p id="d8ae" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要导入的包:</p><figure class="lb lc ld le gt is"><div class="bz fp l di"><div class="lf lg l"/></div></figure><p id="54ad" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">成功导入包后，我们将继续导入数据集。你必须知道熊猫的 read_csv()工具，用于读取 csv 文件。</p><p id="0628" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">导入数据集:</p><p id="9809" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">出于本教程的目的，我使用了来自分析 Vidhya 的贷款预测数据集。如果你想继续编码，这里有<a class="ae jd" href="https://datahack.analyticsvidhya.com/contest/practice-problem-loan-prediction-iii/#ProblemStatement" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><p id="6db6" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">数据集已成功导入。让我们来看看训练数据集。</p><pre class="lb lc ld le gt lh li lj lk aw ll bi"><span id="20be" class="lm ln jg li b gy lo lp l lq lr">Train.head()</span></pre><figure class="lb lc ld le gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ls"><img src="../Images/91231b5e906b24f64e204b60dffa829d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1I--_8TNJZcSCVnouevdBw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 1:训练数据集概述</p></figure><p id="6aaa" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">head()让我们对数据集有所了解。可以认为类似于 SQL 中的<em class="lt">select * from database _ table limit 5</em>。让我们继续深入探讨一下训练数据集中的不同字段。info()使用数据集的所有相关信息。如果数据集有更多的数值变量，也可以考虑使用 describe()来汇总平均值、中值、标准方差、方差等数据。</p><pre class="lb lc ld le gt lh li lj lk aw ll bi"><span id="2991" class="lm ln jg li b gy lo lp l lq lr">Train.info()</span></pre><figure class="lb lc ld le gt is gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/254fb9b11eb96ff122d641f5eacd8b3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*Tnf4TXQm__Xx1gwvdtiSNA.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 2:数据集中的列</p></figure><p id="5317" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们观察到数据集中有 614 条记录和 13 列。训练数据集将 Loan_ID、性别、已婚、家属、教育、自雇、财产 _ 面积和 Loan_status 作为<strong class="kf jh">对象类型</strong>。pandas 中的对象类型类似于字符串。应用程序输入字段是整数类型的。其他三个字段即共同申请收入、贷款金额期限和信用历史是<strong class="kf jh">浮点类型</strong>。</p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="18d0" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">步骤 2: </strong>现在让我们试着<strong class="kf jh">将这些列分类为分类、顺序或数字/连续。</strong></p><p id="3c99" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">分类变量:</strong>分类变量是那些可以被划分成确定组的数据字段。在这种情况下，性别(男性或女性)、已婚(是或否)、教育(毕业或未毕业)、自营职业(是或否)、贷款状况(是或否)是分类变量。</p><p id="3ba4" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">序数变量:</strong>序数变量是可以分组的变量，但是这些分组是有某种顺序的。像，高，中，低。从属字段可以被认为是有序的，因为数据可以清楚地分为 4 类:0，1，2，3+并且也有明确的顺序。财产面积(城市、半城市或农村)也是如此。</p><p id="ad7c" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">数值型或连续型变量:</strong>数值型变量是指在给定范围内可以取任意值的变量。例如，申请收入、共同申请收入、贷款期限、贷款金额、信用历史记录。(我假设信用历史可以是 0 到 1 之间的任何值，但对于这一点，它似乎更像是一个分类变量。)</p><p id="ee38" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">干得好！你可能会为此感到自豪，因为你现在知道识别不同类型的变量。接下来，我们将逐一进行单变量、双变量和多变量分析。</strong></p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="fb7f" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">第三步:</strong>现在我们已经准备好执行<strong class="kf jh">单变量分析。</strong></p><p id="aa2d" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">单变量</strong>分析涉及一次分析一个变量。假设是“性别”,那么我们将只分析数据集中的“性别”字段。分析通常以计数的形式进行总结。对于可视化，我们有许多选项，如频率表、条形图、饼状图、直方图等。由于我们是初学者，我们将坚持条形图。</p><p id="d6b8" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是 pandas 中 plot()的基本语法。</p><pre class="lb lc ld le gt lh li lj lk aw ll bi"><span id="8506" class="lm ln jg li b gy lo lp l lq lr">pandas.DataFrame.<strong class="li jh">plot</strong>(kind='{bar,barh,pie,box,line,...}',<br/>figsize=(x,y), use_index={True,False},<br/>title= Name_of_plot, fontsize={integer},<br/>colormap={colors_from_matplotlib})</span></pre><p id="e543" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们先从分类变量开始。</p><pre class="lb lc ld le gt lh li lj lk aw ll bi"><span id="9ce5" class="lm ln jg li b gy lo lp l lq lr">Train.Gender.value_counts(normalize=True)</span></pre><p id="0920" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这段代码将从训练数据集中提取性别字段，并对其执行 groupwise 计数。值已被标准化，因为它将有助于可视化百分比。</p><pre class="lb lc ld le gt lh li lj lk aw ll bi"><span id="c6af" class="lm ln jg li b gy lo lp l lq lr">.plot(kind = 'bar', title = "Gender")</span></pre><p id="1d54" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">pandas 的 plot()工具将有助于绘制特定类型的图表。像 kind = 'bar '这样的参数意味着我们需要一个条形图。随意选派，hist，line 等。根据你的要求。title = 'Gender '，这个很明显，这是剧情的名字。还有其他参数，如 figsize=(x，y)等。</p><figure class="lb lc ld le gt is"><div class="bz fp l di"><div class="lf lg l"/></div></figure><figure class="lb lc ld le gt is gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/4c8d63e5d304db66a78b346327612c72.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*uBM9M5DSfuJqaBR1yE7SAA.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 3:男性和女性申请者人数</p></figure><p id="ae54" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用 plt.subplot()将所有分类变量绘制在一起，并使用 plt.tight_layout()在它们之间留出一些空间。</p><figure class="lb lc ld le gt is"><div class="bz fp l di"><div class="lf lg l"/></div></figure><figure class="lb lc ld le gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi md"><img src="../Images/bc56a3fe36dccc380f63481fc7de46dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rdhg1_9qLgV41QXh0pXd4g.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 4:分类变量的单变量分析</p></figure><p id="028e" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">见解:</strong></p><ul class=""><li id="9ba0" class="me mf jg kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated">在训练数据集中，80%的贷款申请人是男性。</li><li id="ea0d" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">近 70%已婚</li><li id="f543" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">大约 75%的贷款申请者是大学毕业生</li><li id="fc76" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">近 85–90%的贷款申请人是个体经营者</li><li id="68ba" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">超过 65%的申请人获得了贷款批准。</li></ul><p id="211e" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们来看顺序变量。</p><figure class="lb lc ld le gt is"><div class="bz fp l di"><div class="lf lg l"/></div></figure><figure class="lb lc ld le gt is gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/4c36b78dad74f2ed4348b9d85032412a.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*krWvVbdabT1auIa8v22nfA.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 5:序数变量的单变量分析</p></figure><p id="0646" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">见解:</strong></p><ul class=""><li id="ae53" class="me mf jg kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated">几乎 58%的申请人没有家属。</li><li id="933d" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">来自半城市地区的申请者人数最多，其次是城市地区。</li></ul><p id="558c" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">数值变量的可视化与顺序变量和分类变量略有不同。您可以通过首先创建条块来创建条形图，但更好的图是分布图、虚线图或箱线图，因为它有助于我们识别异常值。</p><figure class="lb lc ld le gt is"><div class="bz fp l di"><div class="lf lg l"/></div></figure><figure class="lb lc ld le gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mt"><img src="../Images/db4865c9e511204cc6b03eb088ef5f79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G5eq-sk3duslDCDwo62YdQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 6:连续变量的箱线图</p></figure><figure class="lb lc ld le gt is"><div class="bz fp l di"><div class="lf lg l"/></div></figure><figure class="lb lc ld le gt is gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/b25a919521390ad5026455ac3d86cec6.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*F5w1Td9BmSXFVnDmZbp8QA.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 7:连续变量的单变量分析</p></figure><p id="22a4" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">见解:</strong></p><ul class=""><li id="6e49" class="me mf jg kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated">85%的申请人有 1 英镑的信用记录</li><li id="84e5" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">近 85%的贷款期限为 360 天。</li><li id="31ff" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">应用程序收入大多在 10000–40000 之间，有一些异常值。</li><li id="ac7c" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">联合应用程序收入小于应用程序收入，在 5000–15000 之间，也有一些异常值。</li><li id="e41c" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">贷款金额大多集中在 250–500 之间。</li></ul><p id="4805" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可能必须从应用程序传入和协同应用程序传入中删除异常值。但这是数据准备阶段的一部分。</p><p id="5dd3" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">到目前为止做得很好！！</strong></p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="f954" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">步骤 4: </strong>现在让我们找出两个变量之间的一些关系，特别是目标变量“贷款 _ 状态”和数据集中的一个预测变量之间的关系。形式上，这被称为<strong class="kf jh">双变量分析</strong>。</p><p id="dd9b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">双变量分析:</strong>双变量分析是寻找两个变量之间的某种经验关系。比方说 ApplicantIncome 和 Loan_Status。</p><p id="274a" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在进行任何类型的分析之前，让我们创建一个假设。这个假设将作为一盏指路明灯，指引我们去观察和分析。</p><p id="0310" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在查看了单变量分析的结果后，我提出了以下假设。你可能有自己完全不同的假设。</p><ul class=""><li id="3082" class="me mf jg kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated">高收入的申请人可能有更多的机会获得贷款批准。</li><li id="8b6f" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">受抚养人人数少、共同申请人收入高的申请人可能有更多的机会获得贷款批准。</li><li id="aeab" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">大学毕业生申请人往往收入更高，因此贷款批准率也更高。</li><li id="901b" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">已婚的申请人可能看起来更有责任感，因此贷款批准的几率更高。</li><li id="930a" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">申请人谁不是自雇人士，可能有更高的机会贷款批准，因为他们往往有稳定的收入来源。我想说，不确定性减少了。</li><li id="6a3f" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">在城市地区拥有房产的候选人可能有更高的贷款批准机会，因为抵押品的成本会很高。</li><li id="8bdd" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">良好的信用记录肯定与贷款批准相关。</li><li id="84ea" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">对于性别，我没有什么具体的想法，但可以说女性更有责任感，因此支持率也更高。(P.S .无恨)。</li></ul><p id="606d" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，让我们检查这个假设，对于这个数据集是否正确。</p><p id="1679" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了可视化，我们将使用 seaborn.countplot()。可以认为它类似于分类变量的直方图。</p><p id="b571" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">sns.countplot()的基本语法如下:</p><pre class="lb lc ld le gt lh li lj lk aw ll bi"><span id="4925" class="lm ln jg li b gy lo lp l lq lr">seaborn.countplot<!-- -->(x = 'x_axis_values', y_axis = 'y_axis_values',<br/><em class="lt">hue='data_field_on_which_colour_of_bars_depend'</em>, <em class="lt">data=dataset</em>)</span></pre><p id="f653" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里，我使用了尽可能少的参数，你可以使用颜色，饱和度等。放大你的情节。</p><pre class="lb lc ld le gt lh li lj lk aw ll bi"><span id="7601" class="lm ln jg li b gy lo lp l lq lr">sns.set(rc={'figure.figsize':(11.7,8.27)})</span></pre><p id="e3e0" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">sns.set()用于设置输出图形的大小。</p><pre class="lb lc ld le gt lh li lj lk aw ll bi"><span id="da4e" class="lm ln jg li b gy lo lp l lq lr">sns.countplot(x="Gender", hue='Loan_Status', data=Train)</span></pre><p id="ad11" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">sns.countplot()将绘制性别字段计数，并根据 loan_status 值对条形进行着色。</p><figure class="lb lc ld le gt is"><div class="bz fp l di"><div class="lf lg l"/></div></figure><figure class="lb lc ld le gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mv"><img src="../Images/7161d65687f6328c0066d4246682892f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zm2lYQ7ZiLYU1Bdeik6Dsg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 8:分类和顺序变量的双变量分析</p></figure><p id="e7db" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">见解:</strong></p><ul class=""><li id="794f" class="me mf jg kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated">男性和女性的支持率没有实质性差异。</li><li id="961d" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">已婚申请人获得贷款批准的几率稍高。</li><li id="e521" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">与非毕业生相比，毕业生获得贷款批准的机会更大。</li><li id="83b1" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">自营职业者和非自营职业者的贷款批准率没有实质性差别。</li><li id="ccd8" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">没有受抚养人或有两个受抚养人的申请人获得批准的几率更高。但是这没有很好的关联。</li><li id="b2e4" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">在半城市地区拥有房产的申请人贷款批准率更高。</li></ul><p id="f5c4" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">第五步:</strong>现在让我们继续分析两个以上的变量。耶！！你猜对了，我们称之为“<strong class="kf jh">多元分析</strong>”。你应该首先像第三步那样创建一个假设，并朝这个方向行动。</p><p id="0dba" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是对性别、申请收入和贷款状况的分析。</p><p id="10ad" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于 applicantIncome 是一个连续的字段，我首先使用 np.linspace()函数创建了 12 个区间，区间范围为最小到最大 ApplicantIncome。</p><pre class="lb lc ld le gt lh li lj lk aw ll bi"><span id="a816" class="lm ln jg li b gy lo lp l lq lr">bins = np.linspace(Train.ApplicantIncome.min(), Train.ApplicantIncome.max(),12)</span></pre><figure class="lb lc ld le gt is gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/4df51f658fd48315c382e4759f6bfaa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*vjCydavL71pviWRJrwbhAg.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">应用程序收件箱</p></figure><p id="2737" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">FacetGrid()用于绘制多个变量之间的条件关系。这里，我们在 x 轴上有性别组，在 y 轴上有值计数，在色相上有 Loan_Status。</p><pre class="lb lc ld le gt lh li lj lk aw ll bi"><span id="37f7" class="lm ln jg li b gy lo lp l lq lr">graph = sns.FacetGrid(Train, col="Gender", hue="Loan_Status", palette="Set2", col_wrap=2)</span></pre><p id="db23" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们将 FacetGrid()绘图与应用程序输入的条块进行了映射。</p><pre class="lb lc ld le gt lh li lj lk aw ll bi"><span id="27e4" class="lm ln jg li b gy lo lp l lq lr">graph.map(plt.hist, 'ApplicantIncome', bins=bins, ec="k")</span></pre><p id="c7da" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在一切都在一起了。</p><figure class="lb lc ld le gt is"><div class="bz fp l di"><div class="lf lg l"/></div></figure><figure class="lb lc ld le gt is gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/fe25bfee06e7211c8de65d548dcc3fc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/format:webp/1*WeqpCmOIq-6ctnXmv8hhxw.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 9:描述性别、申请收入和贷款状态之间关系的直方图</p></figure><p id="a5e2" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们继续为所有其他可能的组合这样做。</p><figure class="lb lc ld le gt is"><div class="bz fp l di"><div class="lf lg l"/></div></figure><figure class="lb lc ld le gt is gh gi paragraph-image"><div class="gh gi my"><img src="../Images/b7c20b313ca204484cf0ae0b5701802f.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*EwIX9Bba7AMjo69JVzBJPA.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 10:多元分析的直方图</p></figure><p id="c63a" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">见解:</strong></p><ul class=""><li id="4003" class="me mf jg kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated">收入高于 7000 英镑的女性获得贷款批准的机会更大</li><li id="e22f" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">女性的贷款额似乎比男性少</li><li id="9711" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">女性候选人的共同申请人收入低于男性。但是，它并没有反映出 loan_status 的多少信息。</li></ul><p id="0024" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个挺直观的。你理解这个概念是对的。现在，您可以自由地尝试更多这样的带有其他预测因素的地块，如已婚、自营职业、财产面积等。</p><p id="3848" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">寻找数据集中数值变量之间的相关性。</p><pre class="lb lc ld le gt lh li lj lk aw ll bi"><span id="6449" class="lm ln jg li b gy lo lp l lq lr">correlation_mat = Train.corr()</span></pre><figure class="lb lc ld le gt is gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/a8390a1f32ae6ef2a88d3dbdac4297be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*M5zzJjVsd4WMtnOkS_CLow.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 11:数值变量的相关矩阵</p></figure><p id="ea37" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们使用热图来可视化这个关联矩阵中的数据。</p><figure class="lb lc ld le gt is"><div class="bz fp l di"><div class="lf lg l"/></div></figure><p id="4e05" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们不需要整个热图。为什么不删除上半部分，因为它重复。可以使用掩模来执行该任务。</p><figure class="lb lc ld le gt is"><div class="bz fp l di"><div class="lf lg l"/></div></figure><figure class="lb lc ld le gt is gh gi paragraph-image"><div class="gh gi na"><img src="../Images/a5db29b317d15bd80a37e8b85e78690a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*k8GvLceRgBNox05Kle0IBg.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图 13:热图矩阵的有用部分</p></figure><p id="c58b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">见解:</strong></p><ul class=""><li id="7cb3" class="me mf jg kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated">申请收入与贷款金额、共同申请收入与贷款金额之间存在正相关关系。</li></ul><p id="55b0" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">简而言之……</strong></p><p id="df02" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">探索和了解数据集是非常重要的一步。它不仅有助于发现数据集中的异常、唯一性和模式，而且有助于我们建立更好的假设函数。如果你想看完整的代码，这里有我的 jupyter 笔记本的链接。</p></div></div>    
</body>
</html>