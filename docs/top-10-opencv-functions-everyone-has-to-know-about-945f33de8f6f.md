# æ¯ä¸ªäººéƒ½å¿…é¡»çŸ¥é“çš„ 10 å¤§ OpenCV å‡½æ•°

> åŸæ–‡ï¼š<https://towardsdatascience.com/top-10-opencv-functions-everyone-has-to-know-about-945f33de8f6f?source=collection_archive---------12----------------------->

## æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ OpenCV åº“ï¼Œå®ƒåŒæ—¶ç”¨äºè®¡ç®—æœºå›¾å½¢å’Œè§†è§‰ã€‚

è®¡ç®—æœºè§†è§‰å’Œè®¡ç®—æœºå›¾å½¢å­¦ç°åœ¨çœŸçš„å¾ˆå—æ¬¢è¿ï¼Œå› ä¸ºå®ƒä»¬ä¸äººå·¥æ™ºèƒ½æœ‰å¾ˆå¤§çš„è”ç³»ï¼Œå®ƒä»¬çš„ä¸»è¦å…±åŒç‚¹æ˜¯å®ƒä»¬ä½¿ç”¨åŒä¸€ä¸ªåº“ **OpenCV** ä»¥ä¾¿ä»æ•°å­—å›¾åƒæˆ–è§†é¢‘(CV)æˆ–ç”Ÿæˆå›¾åƒ(CG)ä¸­æ‰§è¡Œé«˜çº§ç†è§£ã€‚

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä»Šå¤©æˆ‘ä»¬è¦æ¥çœ‹çœ‹è¿™ä¸ªä¸ºè®¡ç®—æœºç§‘å­¦çš„è¿™äº›å¤§é¢†åŸŸæä¾›ç‡ƒæ–™çš„åŒä¸€ä¸ªåº“ï¼Œçœ‹çœ‹æœ‰å“ªäº›åŠŸèƒ½å¯ä»¥è®©ä½ å—ç›ŠåŒªæµ…ï¼

![](img/b2194c0e1cc1c0aee6408b3ea5ffc626.png)

åŸåˆ›å›¾ç‰‡ç”±[åˆ›ä½œ](https://www.freepik.com/creativeart)

åœ¨æˆ‘ä»¬è¿›å…¥ OpenCV çš„å¼ºå¤§åŠŸèƒ½ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹è®¡ç®—æœºè§†è§‰ã€å›¾å½¢å’Œ OpenCV çš„å®šä¹‰ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£æˆ‘ä»¬åœ¨è¿™é‡Œåšä»€ä¹ˆã€‚

# è®¡ç®—æœºè§†è§‰

è®¡ç®—æœºè§†è§‰æ˜¯ä¸€ä¸ªè·¨å­¦ç§‘é¢†åŸŸï¼Œç ”ç©¶å¦‚ä½•è®©è®¡ç®—æœºè·å¾—å¯¹æ•°å­—å›¾åƒæˆ–è§†é¢‘çš„é«˜çº§ç†è§£ã€‚ä»å·¥ç¨‹çš„è§’åº¦æ¥çœ‹ï¼Œå®ƒå¯»æ±‚å°†äººç±»è§†è§‰ç³»ç»Ÿå¯ä»¥å®Œæˆçš„ä»»åŠ¡è‡ªåŠ¨åŒ–ã€‚

# ç”µè„‘å›¾å½¢å›¾åƒ

è®¡ç®—æœºå›¾å½¢å­¦æ˜¯è®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œå®ƒç ”ç©¶åœ¨è®¡ç®—æœºçš„å¸®åŠ©ä¸‹ç”Ÿæˆå›¾åƒã€‚ä»Šå¤©ï¼Œè®¡ç®—æœºå›¾å½¢æ˜¯æ•°ç æ‘„å½±ã€ç”µå½±ã€è§†é¢‘æ¸¸æˆã€æ‰‹æœºå’Œè®¡ç®—æœºæ˜¾ç¤ºå™¨ä»¥åŠè®¸å¤šä¸“ä¸šåº”ç”¨çš„æ ¸å¿ƒæŠ€æœ¯ã€‚

# OpenCV

OpenCV(å¼€æºè®¡ç®—æœºè§†è§‰åº“)æ˜¯ä¸€ä¸ªå¼€æºçš„è®¡ç®—æœºè§†è§‰å’Œæœºå™¨å­¦ä¹ è½¯ä»¶åº“ã€‚OpenCV æ—¨åœ¨ä¸ºè®¡ç®—æœºè§†è§‰åº”ç”¨æä¾›ä¸€ä¸ªå…¬å…±åŸºç¡€è®¾æ–½ï¼Œå¹¶åŠ é€Ÿæœºå™¨æ„ŸçŸ¥åœ¨å•†ä¸šäº§å“ä¸­çš„åº”ç”¨ã€‚

è¯¥åº“æä¾›äº†å¤„ç†å’Œåˆ†æå›¾åƒå†…å®¹çš„å·¥å…·ï¼ŒåŒ…æ‹¬è¯†åˆ«æ•°å­—ç…§ç‰‡ä¸­çš„å¯¹è±¡(å¦‚äººè„¸å’Œäººç‰©ã€æ–‡æœ¬ç­‰ã€‚)ï¼Œè·Ÿè¸ªç‰©ä½“çš„è¿åŠ¨ï¼Œè½¬æ¢å›¾åƒï¼Œåº”ç”¨æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œè¯†åˆ«å„ç§å›¾åƒä¸­çš„å…±åŒå…ƒç´ ã€‚

ä¸€æ—¦æˆ‘ä»¬è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä»æˆ‘ä¸ªäººé€‰æ‹©çš„ 10 å¤§åŠŸèƒ½å¼€å§‹ã€‚(ç”¨ Python ç¼–å†™çš„å‡½æ•°ä»£ç )

![](img/fa66403ceebba10f8ea0047b0cbe40c7.png)

# imread/imshow

è¿™ä¸ªåŠŸèƒ½å¿…é¡»æ˜¯ç¬¬ä¸€ä½çš„ï¼Œå› ä¸ºå®ƒæ˜¯ç”¨å›¾åƒå¼€å§‹ä½ çš„é¡¹ç›®çš„å…³é”®ã€‚ä»è¿™ä¸ªå‡½æ•°çš„åå­—å°±å¯ä»¥çŒœåˆ°ï¼Œå®ƒåŠ è½½äº†ä¸€ä¸ª BGR(è“ç»¿è‰²çº¢è‰²)æ ¼å¼çš„å›¾åƒã€‚

```
import cv2
import matplotlib.pyplot as plotimage = cv2.imread('data.png') #load image
plot.imshow(image) #show image
```

![](img/9501777b282c07c83e4499ffc8d66cbf.png)

# CVT é¢œè‰²

åŠ è½½å›¾åƒåï¼Œè¿˜å¯ä»¥ä½¿ç”¨ cvtColor ä¸­çš„ä¸åŒæ ‡å¿—å°†å…¶è½¬æ¢ä¸ºä¸åŒçš„é…è‰²æ–¹æ¡ˆã€‚

```
cv2.cvtColor(image,cv2.COLOR_BGR2RGB)
```

ä¸‹é¢æ˜¯ cvtColor çš„ä¸€äº›å…¶ä»–æ ‡å¿—:COLOR_BGR2GRAYã€COLOR_BGR2HSVã€COLOR_BGR2YUV ç­‰ã€‚
è¿™æ˜¯åŒå‘çš„ï¼Œæ‰€ä»¥æ¯”å¦‚ COLOR_YUV2BGR ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚

![](img/ab9e5829324a117714e1eef96eb754bb.png)

# è°ƒæ•´å¤§å°

æœ‰æ—¶ä½ åªéœ€è¦ä¸€ä¸ªä¸åŒå¤§å°çš„å›¾ç‰‡ï¼Œè¿™å°±æ˜¯ä½ éœ€è¦çš„åŠŸèƒ½ã€‚

```
cv2.resize(image, dimension, interpolation = cv2.INTER_AREA)
```

å®ƒè·å–åŸå§‹å›¾åƒï¼Œå¹¶ä½¿ç”¨ dimension åˆ›å»ºä¸€ä¸ªæ–°å›¾åƒã€‚å°ºå¯¸å®šä¹‰ä¸º:

```
dimension = (width, height)
```

æ’å€¼æ˜¯å®ƒå¯¹å›¾ç‰‡é‡æ–°é‡‡æ ·çš„æ–¹å¼ï¼Œåœ¨æˆ‘çš„å…·ä½“ä¾‹å­ä¸­ï¼Œå®ƒä½¿ç”¨**INTER _ AREA**â€”â€”ä½¿ç”¨åƒç´ åŒºåŸŸå…³ç³»é‡æ–°é‡‡æ ·ï¼Œè¿˜æœ‰æ›´å¤šç±»ä¼¼çš„æ–¹å¼

1.  **INTER_NEAREST:** æœ€è¿‘é‚»æ’å€¼
2.  **INTER_LINEAR:** åŒçº¿æ€§æ’å€¼
3.  **INTER _ CUBIC:**4Ã—4 åƒç´ é‚»åŸŸä¸Šçš„åŒä¸‰æ¬¡æ’å€¼
4.  **INTER _ LANCZOS 4:**[8Ã—8 é‚»åŸŸä¸Šçš„ lanc zos æ’å€¼](https://scc.ustc.edu.cn/zlsc/sugon/intel/ipp/ipp_manual/IPPI/ippi_appendices/ippi_appB_LanczosInterpolation.htm)

![](img/f5dbfe575c7eb82c9f99b11e7911878f.png)

# æ‹†åˆ†/åˆå¹¶

æ¯å¼ å›¾ç‰‡æœ‰ 3 ä¸ªé€šé“ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å°†å®ƒä»¬åˆ†å‰²æˆå•ç‹¬çš„å›¾åƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨**åˆ†å‰²**åŠŸèƒ½ã€‚

```
(channel_b, channel_g, channel_r) = cv2.split(img)
```

å¦‚æœå›¾åƒæ˜¯ BGR æ ¼å¼ï¼Œå®ƒä¼šå°†æ¯ä¸ªé€šé“åˆ†æˆä½ å®šä¹‰çš„ä¸‰ä¸ªå˜é‡ã€‚

åœ¨ä½ å·²ç»åˆ†å‰²äº†é¢‘é“å¹¶ä¸”ä½ æƒ³è¦å°†å®ƒä»¬åˆå¹¶åœ¨ä¸€èµ·ï¼Œä½ ä½¿ç”¨**åˆå¹¶**ã€‚

```
cv2.merge(channel_b, channel_g, channel_r)
```

![](img/72e7a54a6326791b7548b34c1aea3d9e.png)

# vconcat/hconcat

ä½¿ç”¨`vconcat()`ã€`hconcat()`çºµå‘å’Œæ¨ªå‘è¿æ¥(ç»„åˆ)å›¾åƒã€‚`v`è¡¨ç¤ºå‚ç›´ï¼Œ`h`è¡¨ç¤ºæ°´å¹³ã€‚

```
cv2**.**vconcat([image1, image2])
cv2**.h**concat([image1, image2])
```

![](img/84b1083fa37e022c0c33459589572953.png)

# 1/0

å¦‚æœæ‚¨æƒ³è¦åœ¨æ‰€æœ‰ä¸‰ç»´ç©ºé—´ç”¨ 1 æˆ– 0 å¡«å……å›¾åƒ(Mat ),å› ä¸º Mat éœ€è¦å½©è‰²å›¾åƒçš„ 3 ä¸ªå±‚/ç»´åº¦ã€‚

```
size = 200, 200, 3
m = np.zeros(size, dtype=np.uint8)
n = np.ones(size, dtype=np.uint8)
```

ä½œä¸ºä¸€ä¸ªé¢å¤–çš„åŠŸèƒ½ï¼Œæˆ‘æƒ³åœ¨è¿™é‡Œè¡¥å……ä¸€ç‚¹ï¼Œé‚£å°±æ˜¯è½¬ç½®åŠŸèƒ½ã€‚

# ç§»é¡¹

å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªè¦è½¬ç½®çš„å®šä¹‰å¥½çš„çŸ©é˜µ matï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯å¯¹å®ƒä½¿ç”¨è¿™ä¸ªå‡½æ•°:

```
import numpy as np  
mat = np.array([[1, 2, 3], [4, 5, 6]])  
mat_transpose = mat.transpose()
print(mat_tranpose)
```

æˆ‘ä»¬å¾—åˆ°è¾“å‡º:

```
[[1 4]  
 [2 5]  
 [3 6]]
#original input
[[1, 2, 3]
 [4, 5, 6]]
```

> æˆ‘ä»¬å®Œäº†ï¼

# åç»­æ­¥éª¤

è¿™ä¸»è¦æ˜¯é’ˆå¯¹åˆå­¦è€…çš„ï¼Œä½†æ˜¯ä¸‹ä¸€æ¬¡æˆ‘ä»¬å°†çœ‹çœ‹ OpenCV æ›´é«˜çº§çš„ç‰¹æ€§ã€‚

åœ¨æ­¤ä¹‹å‰ï¼Œ [**è·Ÿæˆ‘**](https://medium.com/@lazar.gugleta) æ±‚æ›´ï¼ğŸ˜

**æ„Ÿè°¢é˜…è¯»ï¼**

[![](img/be10e7a3911b6f5a7dc0d973baafc3cb.png)](https://medium.com/@lazar.gugleta)

æŸ¥çœ‹æˆ‘çš„**å…¶ä»–æ–‡ç« **å¹¶å…³æ³¨æˆ‘çš„[åª’ä½“](https://medium.com/@lazar.gugleta)

[![](img/f57531852f6a5e67742319cb55c98fcf.png)](https://twitter.com/intent/user?screen_name=LazarGugleta)

å½“æˆ‘å‘å¸ƒä¸€ç¯‡æ–°æ–‡ç« æ—¶ï¼Œè¯·åœ¨ Twitter ä¸Šå…³æ³¨æˆ‘