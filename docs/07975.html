<html>
<head>
<title>Dual Boot is Dead: Windows and Linux are now One</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">双重引导已死:Windows和Linux现在合二为一了</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/dual-boot-is-dead-windows-and-linux-are-now-one-27555902a128?source=collection_archive---------0-----------------------#2020-06-13">https://towardsdatascience.com/dual-boot-is-dead-windows-and-linux-are-now-one-27555902a128?source=collection_archive---------0-----------------------#2020-06-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2bee" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用WSL 2把你的Windows机器变成一个开发者工作站。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2d8bc6f4af02beda5d1a9bedae180b05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IkCoen_9xnKGvu4ol8TXbw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=159784" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="c339" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我曾经有一台苹果笔记本电脑作为我的日常司机。在那里我几乎可以做任何事情；开发、提案写作、音乐创作等。但是，对供应商锁定的恐惧，对我依赖苹果的奇思妙想和恶习的担忧——可以说这是非常昂贵的——促使我寻求一种新的解决方案。</p><p id="199c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参见第二部分:</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/dual-boot-is-dead-the-post-mortem-cee4db42d059"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">双重引导已死:验尸</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">只需一个命令，就可以将任何机器变成开发人员工作站。</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="3600" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我开始建立一个机器学习工作站；一个伟大的CPU，大量的内存和一个称职的GPU，等等。我选择的几乎所有操作系统都是Ubuntu，除了我需要微软Office来写提案。Office online还没有出现，让我们面对现实吧，LibreOffice是一场灾难。所以，解决方案是双启动Ubuntu和Windows 10。你体验到的从苹果转移到Ubuntu的自由是无与伦比的，你拥有的构建自己的PC的选项几乎是无限的。</p><p id="2c36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很长一段时间里，双靴都是答案。一百万次上下文切换之后，WSL来了。因此，我开始将部分工作流程转移到Windows上。但是，仍然有许多东西不见了。然而，<strong class="lb iu"> WSL 2似乎是一个游戏改变者。</strong> <strong class="lb iu">在这个故事中，我将向您展示如何将您的开发工作流程迁移到Windows 10和WSL 2，它的新功能以及在不久的将来可以期待什么。</strong></p><blockquote class="mn mo mp"><p id="c50c" class="kz la mq lb b lc ld ju le lf lg jx lh mr lj lk ll ms ln lo lp mt lr ls lt lu im bi translated"><a class="ae ky" href="https://www.dimpo.me/newsletter" rel="noopener ugc nofollow" target="_blank">学习率</a>是我每周给那些对AI和MLOps世界好奇的人发的简讯。你会在每周五收到我关于最新人工智能新闻、研究、回购和书籍的更新和想法。在这里订阅<a class="ae ky" href="https://www.dimpo.me/newsletter" rel="noopener ugc nofollow" target="_blank"/>！</p></blockquote></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="2e85" class="nb nc it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">什么是WSL 2</h1><p id="ba88" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">WSL 2是WSL架构的新版本。这个版本有几个变化，决定了Linux发行版如何与Windows交互。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/56524efe4a9951241e4b6b953c26085a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/format:webp/1*FJxoGsG4ZjsPhcfg9qFwjQ.png"/></div></figure><p id="6834" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">在这个版本中，您可以获得更高的文件系统性能和完整的系统调用兼容性。</strong>当然，您可以选择以WSL 1或WSL 2运行您的Linux发行版，而且，您可以随时在这两个版本之间切换。WSL 2是对底层架构的重大改进，使用虚拟化技术和Linux内核来支持其新特性。但是微软处理本质细节，所以你可以专注于重要的事情。</p><h1 id="5d11" class="nb nc it bd nd ne nz ng nh ni oa nk nl jz ob ka nn kc oc kd np kf od kg nr ns bi translated">装置</h1><p id="875d" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">微软承诺在不久的将来WSL 2会有一个流畅的安装体验，并且能够通过Windows updates更新Linux内核。现在，安装过程有点复杂，但没什么可怕的。</p><p id="7c27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个例子中，我们将在Windows 10上安装Ubuntu 20.04。但是这个过程对于微软商店中的任何发行版都是一样的。首先，您应该启用Linux的<em class="mq"> Windows子系统</em>可选特性。以管理员身份打开PowerShell，并运行以下命令:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="dcfb" class="oj nc it of b gy ok ol l om on">dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</span></pre><p id="4483" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一步，我们将把我们的系统更新到WSL 2。为此，Windows 10必须更新到2004版，并且必须在BIOS设置中启用英特尔的虚拟化技术。以管理员身份启动PowerShell，并运行以下命令:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="605e" class="oj nc it of b gy ok ol l om on">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</span></pre><p id="f53a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重新启动您的机器以完成WSL安装并更新到WSL 2。然后，在安装新的发行版时，您需要将WSL 2设置为我们的默认版本。为此，以管理员身份打开PowerShell并运行以下命令:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="754e" class="oj nc it of b gy ok ol l om on">wsl --set-default-version 2</span></pre><p id="ba0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行命令<code class="fe oo op oq of b">WSL 2 requires an update to its kernel component. For information please visit <a class="ae ky" href="https://aka.ms/wsl2kernel." rel="noopener ugc nofollow" target="_blank">https://aka.ms/wsl2kernel</a></code> <a class="ae ky" href="https://aka.ms/wsl2kernel." rel="noopener ugc nofollow" target="_blank">后，您可能会看到这条消息。</a>按照这个链接，从那个页面安装MSI，在您的机器上安装一个Linux内核，供WSL 2使用。安装内核后，再次运行该命令，它应该会成功完成，而不会显示消息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/a73d21c00ba8342fa5f89d8acb0690c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TU-Z6lnMj3g1QuYkHBw6yQ.png"/></div></div></figure><p id="2a47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后但同样重要的是，我们应该安装一个Linux发行版。打开微软商店，搜索<a class="ae ky" href="https://www.microsoft.com/store/apps/9n6svws3rx71" rel="noopener ugc nofollow" target="_blank"> Ubuntu 20.04 LTS </a>。安装后，你应该可以在我们的开始菜单上找到一个新的Ubuntu应用程序。启动它并按照说明(主要是创建一个新的UNIX用户)来完成安装。</p><p id="4c0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要检查您的Linux发行版是否安装在WSL 2上，运行<code class="fe oo op oq of b">wsl --list --verbose</code>。如果结果表明它使用WSL 1，您可以通过运行<code class="fe oo op oq of b">wsl --set-version &lt;distribution name&gt; &lt;versionNumber&gt;</code>来改变它。</p><p id="20c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">仅此而已。你现在有一个完整的Ubuntu发行版在Windows 10中运行了！</p><h1 id="762b" class="nb nc it bd nd ne nz ng nh ni oa nk nl jz ob ka nn kc oc kd np kf od kg nr ns bi translated">开发人员工作站</h1><p id="9b15" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">安装好Ubuntu后，你就可以安装任何你需要的东西了。例如，如果您是数据科学家，您可以安装最新的Anaconda发行版，如果您是前端工程师，您可以安装angular和npm等等。但是有两个工具我想重点介绍一下:Visual Studio代码和Docker + Kubernetes。</p><h2 id="521e" class="oj nc it bd nd os ot dn nh ou ov dp nl li ow ox nn lm oy oz np lq pa pb nr pc bi translated">Visual Studio代码</h2><p id="4f46" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">Visual Studio代码是许多开发人员的首选IDE。现在我们已经启用了WSL 2，VS代码绝对必要的扩展是<a class="ae ky" href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack" rel="noopener ugc nofollow" target="_blank">远程开发</a>。</p><p id="f81c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个插件支持针对WSL 2、容器映像甚至是通过SSH的远程VM上的源代码进行远程开发。因此，我们现在可以在运行于WSL 2上的Linux发行版中创建项目文件夹，并使用安装在Windows 10上的Visual Studio代码编辑器作为我们的ide。</p><p id="f2c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有的特性都在那里:对IntelliSense的全面语言支持，git集成，我们知道并喜欢的Visual Studio代码扩展，调试器和终端。所以，把手弄脏，开始编码吧！</p><h2 id="2a45" class="oj nc it bd nd os ot dn nh ou ov dp nl li ow ox nn lm oy oz np lq pa pb nr pc bi translated">Docker + Kubernetes</h2><p id="2ca7" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">Docker for Windows不错，但并不伟大。这是我最想念的东西，每当我需要为我的代码构建docker映像时，它就让我在Windows和Ubuntu之间切换。但是WSL 2提供了完整的docker支持，在我看来，这甚至比纯Linux体验更好。</p><p id="68f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要启用它，导航到Docker桌面设置并启用<code class="fe oo op oq of b">Use the WSL 2 based engine</code>选项。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/cfe9b1123710f972433cea02fab45674.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zgCmawpfox_sQQ7pPE2Ysw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">为WSL 2启用Docker</p></figure><p id="f703" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，您可以运行本地Kubernetes集群，方法是导航到设置的<code class="fe oo op oq of b">Kubernetes</code>部分并勾选复选框。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/957343229cb46e269d0a324f8392ce2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HFU1tizdRPtrYPI5eq-6tw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在WSL 2上启用Kubernetes</p></figure><p id="1ac7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你现在可以返回到WSL 2上的Ubuntu，运行<code class="fe oo op oq of b">docker version</code>或<code class="fe oo op oq of b">kubectl version</code>并看到这两个已经启动并运行了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/98f5abdf6c3ab7459a972ec5598407fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gSap1Poj2SWOLi1mwrFxIg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">运行在WSL 2上的Docker和Kubernetes</p></figure><h2 id="c846" class="oj nc it bd nd os ot dn nh ou ov dp nl li ow ox nn lm oy oz np lq pa pb nr pc bi translated">额外收获:新的Windows终端</h2><p id="23d5" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">额外的好处是，你可以安装新的<a class="ae ky" href="https://www.microsoft.com/en-us/p/windows-terminal/9n0dx20hk701?activetab=pivot:overviewtab" rel="noopener ugc nofollow" target="_blank"> Windows终端</a>。商店描述将新的Windows终端定义为一个现代的、快速的、高效的、强大的和多产的终端应用程序，供命令行工具和Shell(如命令提示符、PowerShell和WSL)的用户使用。它的主要功能包括多个选项卡，窗格，Unicode和UTF-8字符支持，GPU加速文本渲染引擎，以及自定义主题，样式和配置。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf pg l"/></div></figure><p id="909e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，它非常漂亮，您可以通过它的可访问设置(只是一个JSON文件)来设计它的风格。在这里寻找灵感！有关新Windows终端的更多信息，请点击此处:</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/new-windows-terminal-the-best-you-can-have-9945294707e7"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">新的Windows终端:你不能要求更多</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">新的Windows终端在一个智能和高度可定制的包中结合了一切。</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="ph l mj mk ml mh mm ks ly"/></div></div></a></div><h1 id="d052" class="nb nc it bd nd ne nz ng nh ni oa nk nl jz ob ka nn kc oc kd np kf od kg nr ns bi translated">路标</h1><p id="22d2" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">仍然缺少一些特性，但是WSL 2已经走上了正确的道路。在接下来的几个月里，您将能够用一个命令安装WSL。只需打开一个Windows终端，输入<code class="fe oo op oq of b">wsl.exe --install</code>。此外，首次安装时，WSL 2将是新的默认设置。</p><p id="23b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是有两个特性是开发者最期待的:GPU支持和GUI app支持。</p><p id="b1f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自WSL 1发布以来，向WSL添加CUDA和/或GPU计算支持是最受欢迎的特性。在过去的几年里，WSL、虚拟化、DirectX、Windows驱动程序团队和其他合作伙伴一直在努力开发这一工程特性。敬请关注！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pi"><img src="../Images/ea0dc2b7256e4a14e52a5c8401054f6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*y3YrOmEUzAUQmSkQ7_BaYQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在WSL 2上训练深度学习模型(启用CUDA)</p></figure><p id="9f7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，对Linux GUI应用程序的支持也即将到来。例如，您将能够在已经安装的Linux环境中运行您首选的Linux GUI文本编辑器或IDE。你甚至可以在你的Windows机器上开发Linux GUI应用程序！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8ed15361dab1852e5444b316334894c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZbFetgj1xLPI4fRcQEEcsw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">WSL 2的Linux GUI支持</p></figure><h1 id="7743" class="nb nc it bd nd ne nz ng nh ni oa nk nl jz ob ka nn kc oc kd np kf od kg nr ns bi translated">结论</h1><p id="c8ed" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">在这个故事中，我们看到了WSL 2如何将您的Windows PC变成运行Linux发行版的开发人员工作站。速度已经有了，功能也有了，更多的功能即将出现，因此，我认为双引导已经死了！</p><blockquote class="mn mo mp"><p id="90e4" class="kz la mq lb b lc ld ju le lf lg jx lh mr lj lk ll ms ln lo lp mt lr ls lt lu im bi translated"><a class="ae ky" href="https://www.dimpo.me/newsletter" rel="noopener ugc nofollow" target="_blank">学习率</a>是我每周给那些对AI和MLOps世界好奇的人发的简讯。你会在每周五收到我关于最新人工智能新闻、研究、回购和书籍的更新和想法。在这里订阅<a class="ae ky" href="https://www.dimpo.me/newsletter" rel="noopener ugc nofollow" target="_blank"/>！</p></blockquote><h2 id="8230" class="oj nc it bd nd os ot dn nh ou ov dp nl li ow ox nn lm oy oz np lq pa pb nr pc bi translated">关于作者</h2><p id="ed7e" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">我叫<a class="ae ky" href="https://www.linkedin.com/in/dpoulopoulos/" rel="noopener ugc nofollow" target="_blank"> Dimitris Poulopoulos </a>，我是一名为<a class="ae ky" href="https://bigdatastack.eu/" rel="noopener ugc nofollow" target="_blank"> BigDataStack </a>工作的机器学习研究员。我也是希腊比雷埃夫斯大学的博士生。我曾为欧洲委员会、欧盟统计局、国际货币基金组织、欧洲中央银行、经合组织和宜家等主要客户设计和实施人工智能和软件解决方案。</p><p id="dce9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有兴趣阅读更多关于机器学习、深度学习、数据科学和数据操作的帖子，请在twitter上关注我的<a class="ae ky" href="https://medium.com/@dpoulopoulos" rel="noopener"> Medium </a>、<a class="ae ky" href="https://www.linkedin.com/in/dpoulopoulos/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或<a class="ae ky" href="https://twitter.com/james2pl" rel="noopener ugc nofollow" target="_blank"> @james2pl </a>。</p></div></div>    
</body>
</html>