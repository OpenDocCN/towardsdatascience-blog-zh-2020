<html>
<head>
<title>Subplots in MATLAB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MATLAB 中的支线图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/subplots-in-matlab-34c339082300?source=collection_archive---------25-----------------------#2020-06-29">https://towardsdatascience.com/subplots-in-matlab-34c339082300?source=collection_archive---------25-----------------------#2020-06-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/98e4168f22bffd1157bfff2b4ed016f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xv05xGMev3Zq7oiH6g1Bvg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><div class=""/><div class=""><h2 id="a034" class="pw-subtitle-paragraph kc je jf bd b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dk translated">组织情节的简单方法</h2></div><p id="822b" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">子绘图是 MATLAB 中一个非常强大的功能。它们允许用户非常快速地创建定制的数据可视化和显示。它们还可以用来快速创建交互式图形用户界面(GUI)。在本教程中，我描述了使用 subplot()命令的三种不同方式，并提供了每种方式的示例。提供的示例在 MATLAB 和 Octave 中都可以工作。</p><p id="61ad" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">包含示例的源代码可以在<a class="ae lq" href="https://github.com/ThinkData-science/CodingTips" rel="noopener ugc nofollow" target="_blank"> GitHub 库</a>中找到。</p><h1 id="eac8" class="lr ls jf bd lt lu lv lw lx ly lz ma mb kl mc km md ko me kp mf kr mg ks mh mi bi translated">使用基本支线剧情</h1><p id="58ae" class="pw-post-body-paragraph ku kv jf kw b kx mj kg kz la mk kj lc ld ml lf lg lh mm lj lk ll mn ln lo lp ij bi translated">MATLAB/Octave 中的 subplot()函数允许您在单个图形中的网格上插入多个图。subplot()命令的基本形式接受三个输入:nRows、nCols、linearIndex。前两个参数定义了网格中包含的行数和列数。第三个参数是选择当前活动绘图轴的线性索引。索引从 1 开始，从左到右、从上到下递增。如果这还没有意义，也没关系，在本节的所有例子中，顺序都是可视化的，在网格例子中尤其明显。</p><p id="749a" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">让我们从一个简单的例子开始，这个例子沿着一行包含三个子图。为了方便起见，我还使用了 text()函数来显示每个子情节中的线性索引。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="df2b" class="mx ls jf mt b gy my mz l na nb">a1 = subplot( 1, 3, 1 );<br/>text( 0.5, 0.5, '1', 'fontsize', 48 );<br/>a2 = subplot( 1, 3, 2 );<br/>text( 0.5, 0.5, '2', 'fontsize', 48 );<br/>a3 = subplot( 1, 3, 3 );<br/>text( 0.5, 0.5, '3', 'fontsize', 48 );</span></pre><figure class="mo mp mq mr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/db5d945758b453518c26ef7d03ab3879.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aWaw6N8b_SSiQghUPRSiFQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><p id="81ee" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">注意，在这个例子的代码中，我已经为每个子情节保存了轴句柄(a1，a2，a3)。这一点很重要，因为现在图形上有多个绘图轴，每当我们更改属性时，我们将需要指定我们引用的轴。例如，如果我们想改变字体大小，我们必须指定每个轴上的字体大小。下面的代码片段是一个示例，其中每个轴上的字体被设置为不同的大小。这一概念扩展到所有其他绘图轴属性，并显示了如何完全定制每个子图。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="77f1" class="mx ls jf mt b gy my mz l na nb">set( a1, 'fontsize', 12 )<br/>set( a2, 'fontsize', 14 )<br/>set( a3, 'fontsize', 16 )</span></pre><figure class="mo mp mq mr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/63161645afe0932b0fa0d27d1f19603f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xnqqqnpl962ifuWWxN_96Q.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><p id="0e69" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">这是另一个例子，我交换了 subplot 函数中的前两个参数，现在我们将创建一个有三行的图形。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="1410" class="mx ls jf mt b gy my mz l na nb">a1 = subplot( 3, 1, 1 );<br/>text( 0.5, 0.5, '1', 'fontsize', 48 );<br/>a2 = subplot( 3, 1, 2 );<br/>text( 0.5, 0.5, '2', 'fontsize', 48 );<br/>a3 = subplot( 3, 1, 3 );<br/>text( 0.5, 0.5, '3', 'fontsize', 48 );</span></pre><figure class="mo mp mq mr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/05ad019133af0c7312f5726ced6ae819.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*53zP5KHUYgNkSp8ULyVZHw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><p id="ddf1" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">最后，我们可以创建一个完整的子图网格。在这个例子中，我包含了 3 行 3 列；然而，可以使用任何组合。这个例子很好地说明了线性指数是如何增加的。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="4f4c" class="mx ls jf mt b gy my mz l na nb">for iPlot=1 : 9<br/>  subplot( 3, 3, iPlot );<br/>  text( 0.5, 0.5, num2str( iPlot ), 'fontsize', 48 );<br/>end</span></pre><figure class="mo mp mq mr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/d471da3681bbfe51329366a8a9b2ea07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C8Khmespxy2_SeMsUGSOjg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><h1 id="de7d" class="lr ls jf bd lt lu lv lw lx ly lz ma mb kl mc km md ko me kp mf kr mg ks mh mi bi translated">使用不同大小的地块</h1><p id="ad21" class="pw-post-body-paragraph ku kv jf kw b kx mj kg kz la mk kj lc ld ml lf lg lh mm lj lk ll mn ln lo lp ij bi translated">使用 subplot()的一种稍微灵活的方法是将子图放置在网格中的多个点上。这是通过传入一个线性索引数组作为第三个参数来实现的，而不仅仅是一个值。例如，subplot( 1，3，[1，2])将创建一个包含三列的 subplot 网格和一个占据前两列的 plot。这种方法可以让你做出一些非常漂亮的图，可以很容易地容纳各种类型的数据。</p><p id="84b9" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">让我们看另一个例子。底层网格的形状为 3 x 3。第一个子图位于网格的顶部，跨越所有三列。第二个子图位于左下角，覆盖 2 x 2 子网格。最后，最后一个子图在右下角，横跨最后两行。在所有情况下，线性指数都包括在图中，以说明它们覆盖了网格的哪些部分。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="efd4" class="mx ls jf mt b gy my mz l na nb">% - Create a single plot on the top row<br/>subplot( 3, 3, 1:3 );<br/>text( 0.35, 0.5, '1, 2, 3', 'fontsize', 48 );<br/>% - Create a single plot in the last column<br/>subplot( 3, 3, [6, 9] );<br/>text( 0.30, 0.5, '6, 9', 'fontsize', 48 );<br/>% - Create a matrix in the bottom left corner<br/>subplot( 3, 3, [ 4:5, 7:8 ] );<br/>text( 0.25, 0.5, '4, 5, 7, 8', 'fontsize', 48 );</span></pre><figure class="mo mp mq mr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/01e6a7ef91d71bc78a9eba02f08feb86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VyBoj7Qn9fyRRJALvpKCUA.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><p id="b85b" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">填充大型网格的另一个方便的用途是简单地留出一些空间。这很好，因为它创建了空白，并允许您在图中的不同位置对齐子图。下面是一个示例，它将子图放在顶行的中央，并将底行的子图跨越所有列。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="53dd" class="mx ls jf mt b gy my mz l na nb">subplot( 2, 3, 2 );<br/>text( 0.35, 0.5, '2', 'fontsize', 48 );<br/>subplot( 2, 3, 4:6 );<br/>text( 0.35, 0.5, '4, 5, 6', 'fontsize', 48 );</span></pre><figure class="mo mp mq mr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/8de851a298632063ca16ed12eeb9c8ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*udth4hyk3Ac67uCQL8p_VA.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><h1 id="0522" class="lr ls jf bd lt lu lv lw lx ly lz ma mb kl mc km md ko me kp mf kr mg ks mh mi bi translated">使用位置坐标</h1><p id="7e28" class="pw-post-body-paragraph ku kv jf kw b kx mj kg kz la mk kj lc ld ml lf lg lh mm lj lk ll mn ln lo lp ij bi translated">使用 subplot()函数的最后也是最灵活的方法是直接指定轴的位置。通过使用标准化的图形单位并指定图形内的相对偏移，最容易做到这一点。如果你对相对数字单位不熟悉，你可以看前面的教程来了解这些。</p><p id="2f15" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">要指定一个子图位置，您可以将键盘“position”作为 subplot()中的第一个参数，后跟一个描述该位置的 1 x 4 向量。position 属性分别包含水平原点(h0)、垂直原点(v0)、宽度(w)和高度(h)，组织方式如下:[ h0，v0，h，v ]。以这种方式指定子图允许您完全控制位置，如果您想以编程方式创建 GUI，这是必不可少的。</p><p id="c198" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">我在下面加入了一个例子，在图的左半部分插入了一个子图，在右半部分插入了三个按钮。这些按钮仅用于说明。在 MATLAB 中创建 GUI 的任务留给另一个教程。请注意，对于下面的例子，我已经指定了图形的归一化单位，但是，默认单位是像素。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="2816" class="mx ls jf mt b gy my mz l na nb">set( f, 'units', 'normalized' );<br/>a = subplot( 'position', [ 0.1, 0.1, 0.5, 0.8 ] );<br/>title( a, 'Subplots are awesome!' );<br/>set( a, 'fontsize', 16 );<br/>a = uicontrol( f, 'units', 'normalized', 'position', ...<br/>  [ 0.7, 0.7, 0.2, 0.1 ], 'style', 'pushbutton', 'string', 'Press Me' );<br/>a = uicontrol( f, 'units', 'normalized', 'position', ...<br/>  [ 0.7, 0.5, 0.2, 0.1 ], 'style', 'pushbutton', 'string', 'Click Here' );<br/>a = uicontrol( f, 'units', 'normalized', 'position', ...<br/>  [ 0.7, 0.3, 0.2, 0.1 ], 'style', 'pushbutton', 'string', 'Easy' );</span></pre><figure class="mo mp mq mr gt is gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/96a2064b233cc2c5ed157c35469c3f8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*qV9L4AJBQghdqCR1TIbsKQ.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><h1 id="60bf" class="lr ls jf bd lt lu lv lw lx ly lz ma mb kl mc km md ko me kp mf kr mg ks mh mi bi translated">摘要</h1><p id="986f" class="pw-post-body-paragraph ku kv jf kw b kx mj kg kz la mk kj lc ld ml lf lg lh mm lj lk ll mn ln lo lp ij bi translated">在这篇快速教程中，我回顾了在 MATLAB/Octave 中使用 subplot()的三种(实际上是两种半)不同方式。我发现这个功能对很多不同的事情都非常有用，我每天都在使用它。根据我想要完成的目标，我会使用这三种方法。摆弄一下例子，放入一些真实的数据，感受一下这些类型的子图如何对你有用。</p><p id="0f97" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">需要记住的一些要点:</p><ul class=""><li id="ba1e" class="nd ne jf kw b kx ky la lb ld nf lh ng ll nh lp ni nj nk nl bi translated">每个子图都有自己的轴柄和属性(如字体大小、标签、网格)，需要单独设置</li><li id="bb93" class="nd ne jf kw b kx nm la nn ld no lh np ll nq lp ni nj nk nl bi translated">确保您保存了轴控制柄并正确引用它们</li><li id="d315" class="nd ne jf kw b kx nm la nn ld no lh np ll nq lp ni nj nk nl bi translated">子图索引可以指定为单个值或整数索引数组</li><li id="e644" class="nd ne jf kw b kx nm la nn ld no lh np ll nq lp ni nj nk nl bi translated">如果指定位置向量，请注意图形单位</li></ul><p id="d664" class="pw-post-body-paragraph ku kv jf kw b kx ky kg kz la lb kj lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">编码快乐！</p></div></div>    
</body>
</html>