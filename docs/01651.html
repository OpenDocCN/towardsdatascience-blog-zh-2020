<html>
<head>
<title>Basic Feature Engineering to Reach More Efficient Machine Learning — Next Step</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实现更高效机器学习的基础特征工程—下一步</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/basic-feature-engineering-to-reach-more-efficient-machine-learning-part-2-bc8e70d00343?source=collection_archive---------38-----------------------#2020-02-14">https://towardsdatascience.com/basic-feature-engineering-to-reach-more-efficient-machine-learning-part-2-bc8e70d00343?source=collection_archive---------38-----------------------#2020-02-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/1f1afea427a4018a4b0c0d0b3e1eb23e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DsG-1nsUPaIqZWsHhXCT6Q.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">克里斯多夫·伯恩斯在<a class="ae kf" href="https://unsplash.com/s/photos/engineering?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="2d38" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">关于ML的一个重要的事情是，大多数机器学习算法在只有原始数据的情况下不会有效地执行。你不能仅仅将一组特性输入到模型中，然后期望它表现良好。尤其是当数据集中有非数字数据时，机器学习模型不会像预期的那样工作，并且准确率非常低。</p><p id="c271" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇文章中，我们将看看<strong class="ki iu">如何从一组干净的特性</strong>中获得更有意义的特性。为了更好地理解，我将使用一个基本的分类问题来解释检测网络DDOS攻击的概念。我以前写过一篇文章，介绍了特征工程的基本步骤，包括清理原始数据的不同方法，以及将非数字数据嵌入数字格式的一些基本方法。可以参考更好的理解(<a class="ae kf" rel="noopener" target="_blank" href="/basic-feature-engineering-to-reach-more-efficient-machine-learning-6294022e17a5">基础特征工程达到更高效的机器学习</a>)。</p><figure class="lf lg lh li gt ju gh gi paragraph-image"><div class="gh gi le"><img src="../Images/6de838453732f82144dddec33b1fbcee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*C23Q_NMa__C9sHK6nNEaUA.png"/></div></figure><h1 id="b1ad" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">衍生有意义的特征</h1><p id="a362" class="pw-post-body-paragraph kg kh it ki b kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ml lb lc ld im bi translated">衍生要素应在清理现有原始要素后执行。那些清除的数据可以是数字格式，也可以是非数字格式。衍生特征的格式取决于上下文。如果您打算直接将这些嵌入数据输入到模型中，那么根据您的模型，它们最好是数字格式。<strong class="ki iu">几乎所有机器学习模型的成功都取决于我们如何向模型呈现数据，也取决于训练</strong>。</p><p id="25ee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">衍生特征并不是一项困难的任务，但是<strong class="ki iu">需要对上下文或问题域</strong>有很好的理解。推导建立在上下文之上。比方说，对于您要检测的条件，有某个参数超过了阈值。但是如果没有很好地理解问题领域，您可能不知道这些参数、阈值或关系。此外，我们可能需要根据问题推导出多个这样的条件。我们拥有的功能越多，模型的性能就越好。现在让我们看看一些流行的方法来获得这样的特征。</p><p id="5692" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> 1。通过参数之间的加/减</strong></p><p id="72c0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一种流行的技术是在参数之间加减。这种加减可以在同一列的参数内进行，也可以在不同列之间进行。</p><p id="753c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> 2。统计某个窗口内的发生次数</strong></p><p id="ce2d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一种流行的技术是计算一个窗口内的出现次数。大多数情况下，这用于检测是否超过阈值。如果您的输入涉及时间戳，则可以应用时间窗口(即在特定时间窗口内计算发生的次数)。</p><p id="d90e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> 3。获取参数之间的比率</strong></p><p id="ce87" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在某些情况下，两个或多个参数之间的比率代表该领域的某些特征。但是要识别这样的模式，你必须是该领域的专家，或者必须做大量的实验。</p><p id="6c59" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> 4。通过计算统计参数</strong></p><p id="bc5c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">像平均值、中值、众数和标准差这样的统计参数代表了领域的行为或特征。通过根据领域计算此类参数，您可能能够获得新的特征。然而，需要一些数学背景来容易地识别这种模式。</p><p id="2bb1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> 5。二元决策</strong></p><p id="7316" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">二元决策的答案要么是“0”，要么是“1”。通过回答二元问题可以得出新的特征。例如，我们可以通过检查某个参数是否超过阈值来创建一个特性列。特征值将为代表问题答案的“0”或“1”。</p><p id="0263" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> 6。交叉特征</strong></p><p id="f532" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">特征交叉是最流行的技术之一，尤其是涉及到线性问题时。基本思想是通过将两个或多个现有特征相乘(即交叉)形成一个新特征。</p><p id="91d6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面提到的只是一些流行的获得特征的技术。你<strong class="ki iu">可以根据问题域</strong>随意定义和衍生任何特性。</p><p id="1d69" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在创建了新的特征并为模型选择了最好的特征之后，我们就可以训练模型了。然而，<strong class="ki iu">包括原始特征和新特征在内的所有特征可以采用不同的比例</strong>。特别是当我们应用像特征交叉或后比率这样的技术时，这些新值将比现有值具有更大的范围。所以我们必须把所有的柱子放在同一个尺度上。</p><h1 id="be87" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">正常化</h1><p id="135d" class="pw-post-body-paragraph kg kh it ki b kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ml lb lc ld im bi translated">规范化的最终目标是将所有值放在相同的范围内，从而提高模型的性能。有几种方法可以实现标准化。<strong class="ki iu">其中最著名的是</strong>。</p><p id="7811" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">缩放意味着将列的值转换成标准范围，通常是0到1。但是，只有当列的值近似均匀地分布在整个范围内，并且我们知道数据列的上限和下限时，缩放才有效。Python scikit学习库提供了缩放值的函数。</p><p id="8c7b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果缩放不适用，您可以尝试一种<strong class="ki iu">其他方法，如特征裁剪、对数缩放或z分数</strong>。要素裁剪将超出特定阈值的值限制为固定值。对数标度通过计算数据的对数，将大范围的值压缩到小范围内。Z-score表示偏离值集平均值的标准偏差数。</p><p id="05fc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们通过一个例子来更好地理解特性的派生。</p><h1 id="1693" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">实例研究</h1><p id="cd3f" class="pw-post-body-paragraph kg kh it ki b kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ml lb lc ld im bi translated">让我们考虑一种DDOS攻击情况，攻击者试图使系统的目标用户无法使用资源。在DDOS攻击中，攻击者通常使用多台计算机向单个系统发送大量请求。通过考虑DDOS攻击的基本定义，我们可以确定以下两个特征(<strong class="ki iu">这两个不是仅有的两个特征</strong>)。</p><ol class=""><li id="f124" class="mm mn it ki b kj kk kn ko kr mo kv mp kz mq ld mr ms mt mu bi translated">攻击者从一台计算机上发送同一组请求的频率比平时高得多。</li><li id="423c" class="mm mn it ki b kj mv kn mw kr mx kv my kz mz ld mr ms mt mu bi translated">攻击者使用位于不同位置的多台计算机发送请求。</li></ol><p id="fb6d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，让我们考虑与这两个特征相关的原始特征。通常，一个网络请求包含一个时间戳(如果没有可以用AI引擎记录)，消息体和包括源IP的报头。通过考虑第一个特性，我们可以<strong class="ki iu">创建一个特性来计算某个时间窗口</strong>内的请求数量。通常，特定网络资源有一个定义的阈值。这个阈值可以随时、因资源、因用户等而改变(这是我们必须使用AI来定义这样的阈值的一个原因)。我们可以定义一个特定长度的时间窗口，并计算该窗口内的请求数。输出编号是该模型的一个新功能。</p><p id="a4af" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通常，网络请求的报头包含请求的源IP。<strong class="ki iu">IP地址可用于检测原始系统的位置</strong>(位置、国家、州和许多其他事物的坐标可通过使用合适的数据库或API服务从IP地址获得)。通过考虑第二个特征，我们可以引入一个新的特征来检测在某个时间间隔内相同请求的位置变化。</p><p id="d692" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">考虑到上述两个特征，下面列出了检测DDOS攻击的两个衍生特征。请注意，上述两个特征并不是控制DDOS攻击的唯一两个特征，这两个特征的行为可能会因环境而异。此外，两个特征下面的<strong class="ki iu">并不是控制DDOS攻击特征的唯一两个特征</strong>，因此可能不足以检测攻击情况。</p><ol class=""><li id="31b5" class="mm mn it ki b kj kk kn ko kr mo kv mp kz mq ld mr ms mt mu bi translated">5分钟时间窗口内对资源路径的请求数。</li><li id="acb8" class="mm mn it ki b kj mv kn mw kr mx kv my kz mz ld mr ms mt mu bi translated">同一请求在10秒时间窗口内的位置变化距离。</li></ol><h1 id="7857" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">结论</h1><p id="442c" class="pw-post-body-paragraph kg kh it ki b kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ml lb lc ld im bi translated">大多数机器学习算法在只有原始数据的情况下无法有效执行，因此需要应用特征工程技术。在本文中，我们已经确定了为机器学习模型派生新特征的重要性，以及如何在示例研究的帮助下派生有意义的特征。此外，我们还确定了标准化的重要性，以便将所有特征置于相同的范围内。作为结论，我想建议<strong class="ki iu">特征工程是大多数机器学习模型</strong>的核心。</p></div></div>    
</body>
</html>