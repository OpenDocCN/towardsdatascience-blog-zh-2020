<html>
<head>
<title>How does Python work?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python是如何工作的？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-does-python-work-6f21fd197888?source=collection_archive---------1-----------------------#2020-01-09">https://towardsdatascience.com/how-does-python-work-6f21fd197888?source=collection_archive---------1-----------------------#2020-01-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2f13" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">简单解释Python代码的执行与旧的编程语言有何不同。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c684bb0d3a76417c1ba53f05d790962b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vipDMSvBcpP-mZmC"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片来源—<a class="ae kv" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQAQ5hOZAjAWsKwFbOXNONYWW-Mg4dxL7cWc-1gufkYvviTnvH8SA&amp;s" rel="noopener ugc nofollow" target="_blank">https://encrypted-tbn0.gstatic.com/images?q = tbn:and 9 gcqaq 5 hozajawskwfboxnonyww-mg 4d XL 7 CWC-1 gufkyvvitnvh 8 sa&amp;s</a></p></figure><p id="77d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为一名机器学习工程师，我使用Python已经一年多了。最近也开始学C++，为了好玩。这让我意识到Python是多么的简单和直观。我对Python与其他语言的不同之处及其工作原理更加好奇。在这篇博客中，我试图了解Python的内部工作原理。</p><p id="48eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Python最初是Guido Van Rossum的爱好项目，于1991年首次发布。作为一种通用语言，Python正在为网飞和Instagram等许多公司提供支持。在<a class="ae kv" href="https://youtu.be/7kn7NtlV6g0?t=910" rel="noopener ugc nofollow" target="_blank">的一次采访</a>中，Guido将Python与Java或Swift等语言进行了比较，并表示后两者是软件开发人员的绝佳选择——他们的日常工作是编程，但Python是为那些日常工作与软件开发无关，但他们主要是为了处理数据而编码的人而设计的。</p><p id="0154" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你阅读Python的时候，你经常会遇到这样的词——<em class="ls">编译</em> <em class="ls"> vs </em> <em class="ls">解释，字节码vs机器码，动态类型vs静态类型，垃圾收集器等等。</em>维基百科将Python描述为</p><blockquote class="lt"><p id="f731" class="lu lv iq bd lw lx ly lz ma mb mc lr dk translated"><strong class="ak"> Python </strong>是一种<a class="ae kv" href="https://en.wikipedia.org/wiki/Interpreted_language" rel="noopener ugc nofollow" target="_blank">解释的</a>、<a class="ae kv" href="https://en.wikipedia.org/wiki/High-level_programming_language" rel="noopener ugc nofollow" target="_blank">高级</a>、<a class="ae kv" href="https://en.wikipedia.org/wiki/General-purpose_programming_language" rel="noopener ugc nofollow" target="_blank">通用</a>、<a class="ae kv" href="https://en.wikipedia.org/wiki/Programming_language" rel="noopener ugc nofollow" target="_blank">编程语言</a>。它是<a class="ae kv" href="https://en.wikipedia.org/wiki/Dynamic_programming_language" rel="noopener ugc nofollow" target="_blank">动态类型化的</a>和<a class="ae kv" href="https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)" rel="noopener ugc nofollow" target="_blank">垃圾收集的</a>。</p></blockquote><h2 id="ed14" class="md me iq bd mf mg mh dn mi mj mk dp ml lf mm mn mo lj mp mq mr ln ms mt mu mv bi translated">解释语言</h2><p id="3df1" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">当你用C/C++写程序时，你必须编译它。编译包括将你的人类可理解的代码翻译成机器可理解的代码，或<em class="ls">机器代码。</em>机器码是可由CPU直接执行的指令的基础级形式。成功编译后，您的代码会生成一个可执行文件。执行该文件会逐步运行代码中的操作。</p><p id="49f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在很大程度上，Python是一种解释型语言，而不是编译型语言，尽管编译是一个步骤。Python代码，用<strong class="ky ir">写的。py </strong>文件首先被编译成所谓的<em class="ls">字节码</em>(将进一步详细讨论)，它与<strong class="ky ir">一起存储。pyc </strong>或<strong class="ky ir">。pyo </strong>格式。</p><p id="1733" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它不是像C++那样把源代码翻译成机器码，而是把Python代码翻译成字节码。这个字节码是一组低级指令，可以由一个<strong class="ky ir">解释器</strong>执行。在大多数PC中，Python解释器安装在<em class="ls">/usr/local/bin/Python 3.8 .</em>不是在CPU上执行指令，而是在虚拟机上执行字节码指令。</p><h2 id="b7c9" class="md me iq bd mf mg nb dn mi mj nc dp ml lf nd mn mo lj ne mq mr ln nf mt mu mv bi translated">为什么解释？</h2><p id="b44a" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">解释语言的一个普遍优点是它们是独立于平台的。只要Python字节码和虚拟机的版本相同，Python字节码就可以在任何平台(Windows、MacOS等)上执行。</p><p id="96d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">动态类型是另一个优势。在像C++这样的静态类型语言中，您必须声明变量类型，任何差异，比如添加一个字符串和一个整数，都会在编译时被检查。在像Python这样的强类型语言中，检查变量类型和执行的操作的有效性是解释器的工作。</p><h2 id="a7a3" class="md me iq bd mf mg nb dn mi mj nc dp ml lf nd mn mo lj ne mq mr ln nf mt mu mv bi translated">解释语言的缺点</h2><p id="93f7" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">动态类型提供了很大的自由度，但同时也使代码有风险，有时很难调试。</p><p id="050c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Python经常被指责‘慢’。虽然这个术语是相对的，并且有很多争议，但是速度慢的原因是因为解释器必须做额外的工作，将字节码指令翻译成可以在机器上执行的形式。一篇<a class="ae kv" href="https://stackoverflow.com/questions/1694402/why-are-interpreted-languages-slow" rel="noopener ugc nofollow" target="_blank"> StackOverflow </a>的帖子用一个类比更容易理解—</p><blockquote class="ng nh ni"><p id="19fe" class="kw kx ls ky b kz la jr lb lc ld ju le nj lg lh li nk lk ll lm nl lo lp lq lr ij bi translated">如果你可以用你的母语和别人交谈，这通常比让翻译把你的语言翻译成其他语言让听者理解要快得多。</p></blockquote><h2 id="7983" class="md me iq bd mf mg nb dn mi mj nc dp ml lf nd mn mo lj ne mq mr ln nf mt mu mv bi translated">垃圾回收到底是什么？</h2><p id="0af0" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">在早期的编程语言中，内存分配是相当手工的。很多时候，当你在程序中使用不再使用或不再被引用的变量时，它们需要从内存中清除。垃圾收集器会帮你做这件事。它自动释放空间，无需你做任何事情。内存管理有两种方式——</p><p id="2f09" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">简单地说，它跟踪对一个对象的引用次数。当这个数字下降到零时，它会删除该对象。这被称为<strong class="ky ir">引用计数</strong>。这在Python中是不能禁用的。</p><p id="ae72" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在对象引用自身或者两个对象相互引用的情况下，一个叫做<a class="ae kv" href="https://rushter.com/blog/python-garbage-collector/" rel="noopener ugc nofollow" target="_blank">的代垃圾收集</a>的过程会有所帮助。这是传统的引用计数无法做到的。</p><h2 id="a81c" class="md me iq bd mf mg nb dn mi mj nc dp ml lf nd mn mo lj ne mq mr ln nf mt mu mv bi translated">什么是__pycache__？</h2><p id="cf74" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">在您的个人项目或GitHub上，您可能会多次看到名为__pycache__的文件夹被自动创建。</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="8cc5" class="md me iq nn b gy nr ns l nt nu">/folder</span><span id="1f78" class="md me iq nn b gy nv ns l nt nu">   - __pycache__</span><span id="9b63" class="md me iq nn b gy nv ns l nt nu">       - preprocess.cpython-36.pyc</span><span id="e342" class="md me iq nn b gy nv ns l nt nu">   - preprocess.py</span></pre><p id="2218" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，该文件名与__pycache__文件夹外的文件名相同。的。pyc扩展告诉我们文件包含preprocess.py的字节码。名字<strong class="ky ir"> cpython </strong>表示解释器的类型。CPython意味着解释器是用C语言实现的。类似地，JPython是用Java实现的Python解释器。</p><p id="3300" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是为什么首先要创建文件夹呢？嗯，它稍微提高了Python程序的速度。除非您更改Python代码，否则可以避免重新编译成字节码，从而节省时间。</p></div><div class="ab cl nw nx hu ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ij ik il im in"><p id="95a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我已经开始了我的个人博客，我不打算在媒体上写更多令人惊叹的文章。通过订阅<a class="ae kv" href="https://thenlp.space/" rel="noopener ugc nofollow" target="_blank"> thenlp.space </a>支持我的博客</p></div></div>    
</body>
</html>