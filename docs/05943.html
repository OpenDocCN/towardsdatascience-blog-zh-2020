<html>
<head>
<title>Understanding Hypothesis Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解假设检验</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/understanding-hypothesis-testing-4919a21f4c82?source=collection_archive---------36-----------------------#2020-05-15">https://towardsdatascience.com/understanding-hypothesis-testing-4919a21f4c82?source=collection_archive---------36-----------------------#2020-05-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3cbf" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从抽样分布到中心极限定理再到假设检验</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c093a1bc983e3a2964cc1fe533b498f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PHYF0Sxe5SjaEYmKxayRSA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://pixabay.com/users/julius_silver-4371822/" rel="noopener ugc nofollow" target="_blank"> Julius_silver </a>，via <a class="ae ky" href="https://pixabay.com/photos/polynesia-french-polynesia-tahiti-3021072/" rel="noopener ugc nofollow" target="_blank"> pixabay </a> (cc0)</p></figure><p id="316c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di">在</span>这篇博客中，我试图通过一系列的思考过程来理解假设检验。我先问一个问题:</p><p id="abde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单个样本的平均值如何揭示总体的真实平均值？ ”</p><p id="e3b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些思考过程包括:</p><p id="744d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">1.任意指定一个值作为样本平均值的<strong class="lb iu"> <em class="me"> </em>采样分布的平均值<strong class="lb iu">，</strong></strong></p><p id="afde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.用总体的标准偏差表示抽样分布的标准误差，</p><p id="3788" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.使用从单个样本计算的<strong class="lb iu">标准偏差来近似总体</strong>的<strong class="lb iu">标准偏差。</strong></p><p id="f81b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将向您介绍上面使用的所有术语和概念，并用一个示例来说明它们。最后，我将简单讨论一下我在假设检验的背景下学到了什么。尝试写这篇博客对我帮助很大，我希望它也能帮助你。</p><p id="f025" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated">假设我们的第一个目标是计算出总体中某个参数的平均值。比如韦斯特伍德高中所有学生的平均身高。我们可能不想测量每个学生的身高，而是想随机选择一个样本，例如30个学生(样本大小为30)，然后测量他们的身高并计算平均值。为了彻底起见，如果可能的话，我们可能想要重复随机抽样，比如说，20次以上。请注意，这里允许再次随机选择一名学生。然后，我们可以绘制出我们计算的每个样本平均值的分布图，该图可能有点像图1所示。我们称这个图为“<strong class="lb iu"> <em class="me">抽样，样本的分布是指</em> </strong>”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mf"><img src="../Images/cf44cfd462a65f2c93915625a58b12e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*qGZmSUtNqGzTnQEyEAe84Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1:样本均值的抽样分布</p></figure><p id="1c78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在大多数情况下，我们会很偶然地得到一个样本，它的平均高度接近这个抽样分布在中心(= x)的平均值。在少数情况下，我们可能在这条曲线的尾部得到一个平均值(= x)。</p><p id="1205" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di"> L </span> et提个问题:“<strong class="lb iu">T3】如果我们从只取30个学生的一个样本开始，计算平均身高(假设是x)，这个平均身高位于图1所示尾部位置的概率是多少？ </strong>。此时，由于我们没有进行任何其他抽样，我们不知道图1中抽样分布(= x)的平均值。我们也不知道分布的<strong class="lb iu"> <em class="me">标准差</em> </strong>(说是σx)，它代表分布有多宽(可以定义为从曲线中心到频率下降到某个固定值的位置的距离)。似乎我们知道的很少。但如果我们换一种方式问问题呢:“<strong class="lb iu"> <em class="me">如果我们任意给x赋一个确定的值，那么x位于图1所示尾部位置的概率是多少？</em> </strong>”。</p><p id="470f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看如何解决这个问题。通常我们用一个参数(说是z)来描述x离x有多远，用σx的单位数来表示，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mg"><img src="../Images/ee94a7de723f521deebaaf2e9a0b1967.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eSz2rdq6gX39G1BMrxikPA.png"/></div></div></figure><p id="54a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中x是我们收集的样本(样本大小为30)的平均值(其值我们已经计算过了)，x是我们任意赋值 的抽样分布<strong class="lb iu"> <em class="me">的平均值，σx是我们希望能够以某种方式估计的分布的标准误差。</em></strong></p><p id="4b71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有一个强大的等式(源于所谓的“<strong class="lb iu"> <em class="me">中心极限定理</em> </strong>”)将原始总体 的<strong class="lb iu"> <em class="me">标准差(= σ)与样本均值</em> </strong>的抽样分布的<strong class="lb iu"> <em class="me">标准差(σx)联系起来当我们一次只对原始总体的一小部分进行抽样(例如一次选取30名学生)并多次重复抽样(这样a</em></strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/0ebc705efe46cf998c9fc858343f8eea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bNCtZSZpYH329ASk0F4iEQ.png"/></div></div></figure><p id="0065" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中σ是我们原始总体(例如，Westwood高中的全体学生)的标准差，n是样本量(这里是30)，σx是我们要搞清楚的样本均值的抽样分布的标准差。</p><p id="20c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们更深入地看看这个等式。在一个极端的情况下，假设我们在抽样中只挑选了1名学生(样本量n = 1)，那么平均身高将只是这名学生的身高，抽样分布将只是原始人口的一个试探性复制，因此在这种情况下，σx将等于σ。在另一个极端的情况下，假设我们对学生群体中的所有<strong class="lb iu"><em class="me"/></strong>学生进行抽样，并计算平均值，那么每次我们都会得到相同的平均值，这就是总体的真实平均值。在这种情况下，分布变为单线，表明σx接近零。</p><p id="fd60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好的，但是我们仍然不知道σ的值是多少(而且<strong class="lb iu"> <em class="me">很可能我们永远也不会确切知道</em> </strong>)，那么我们如何使用等式2来估计σx呢？现在我们需要做一个信念的飞跃。我们仅有的数据是我们从人群中“随机”选择的30名学生的身高。现在我们假设我们使用随机过程收集的30个数据点最终会得到一个标准差(姑且称之为S，仅使用这30个数据点计算得到)，即<strong class="lb iu"> <em class="me">近似于</em> </strong>整个总体的标准差(σ)。换句话说，由于这组30名学生的选择过程是随机的，这些学生身高的标准偏差将作为整个群体标准偏差的可接受估计。现在我们可以将上面的等式1改写为:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/43c253d8c9c4aa7286786b72c89ef6f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9W_K8X3WiVyGe5bUy5OrFQ.png"/></div></div></figure><p id="96cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中，我们将等式右侧的所有值(无论是我们从收集的样本中计算的值，如x、S和n，还是x的<strong class="lb iu"> <em class="me">任意分配的</em> </strong>值)用于计算z。</p><p id="9250" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated">现在让我们来看一个真实的例子。我们在样本量n = 30的样本中收集的学生身高(以英尺为单位)列于下表1中，它们也绘制在图2的直方图中(我们稍后将讨论直方图中5.2英尺处的橙色线)。样本平均值(x)和标准偏差(S)可以分别计算为5.56英尺和0.63英尺。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/594ab8889d68e9dc32607516d0d61f36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ROwEtVOPQxvg0rivGeLLfw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表1:样本大小为30的学生身高样本(英尺)</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/a7d8d5759355afc92698f281213066cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DAAwifAEnwEzOOjrYYG7Mg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2:样本大小为30的学生身高样本的直方图</p></figure><p id="9bad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们回到我们提出的最后一个问题，稍微重新措辞一下，“如果我们将某个值指定为图1中采样分布的平均值(= x)，那么我们得到位于尾部位置(或更远离中心的位置，如图1所示)的x的概率是多少？”。让我们再换一种说法，如果x的值为5.2英尺(我们任意指定的值)，那么我们获得的样本看起来像我们收集的平均值为5.56英尺的样本(或者像任何其他具有更大平均值的潜在样本)的概率(机会)是多少？ 。</p><p id="08b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用上面的等式3，我们可以计算出z值为(5.56–5.2)/(0.63/sqrt(30))(= 3.15)，这意味着5.56英尺(= x)的样本平均值位于分布曲线的0.114英尺(= 0.63/sqrt(30))的<strong class="lb iu"><em class="me"/></strong>的3.15倍处远离该采样分布(x = 5.2英尺)的平均值。</p><p id="d88c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated">关于可能性部分呢？图1所示样本均值的抽样分布的本质是什么？<strong class="lb iu"> <em class="me">对于30(或以上)的样本量，分布可以用正态(高斯)分布来表示。神奇的是，不管原始人口分布的形状如何，这都是真的。</em> </strong>正态分布的特征是众所周知的。例如，所有数据位于距中心正负1个标准偏差内的概率约为68%，位于正负2和3个标准偏差内的概率分别约为95%和99.7%。概率的详细值可以在所谓的“Z表”中找到，如表2所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ml"><img src="../Images/fb8c45471446e8acb304269c8d4046ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NtAS3QD_hoEwidHAC27EhA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表2: Z工作台(来自<a class="ae ky" href="http://www.z-table.com/" rel="noopener ugc nofollow" target="_blank">http://www.z-table.com/</a></p></figure><p id="1f6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的例子中，我们知道我们的Z值是3.15，从Z表中我们可以找到相应的概率值0.9992 (99.92%的几率)，这意味着有99.92%的几率Z值小于3.15  。换句话说，z值为3.15或更大的<strong class="lb iu"> <em class="me">几率仅为0.08% </em> </strong>。另一种说法是，假设x值为5.2，那么我们的“p值”为0.0008。</p><p id="aef5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们再看一下图2。上面的陈述表明，<strong class="lb iu"> <em class="me">如果我们确实有一个5.2英尺的抽样分布平均值(我们假设它非常接近总体的真实平均值)，那么我们收集这个平均值为5.56英尺的样本(样本大小为30)的机会加上我们收集任何其他平均值大于5.56英尺的样本的机会只有0.08% </em> </strong>，这是非常小的。也就是说，如果我们执行1万次采样，我们只会看到8次5.56英尺(或更大)的样本均值。所以，我们不太可能以我们收集的样本结束。换句话说，我们有99.92%的信心不会以我们收集的样本结束。那么，我们任意选择的这个5.2英尺(= x)的抽样分布的平均值会不会有点偏差呢？大概如此。</p><p id="affa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们注意到，我们任意选择的这个5.2英尺(= x)的采样分布的平均值可能是偏离的，并且，如果这个选择的5.2英尺的值是真实的，我们有99.92%的信心，我们不会以我们收集的采样结束。是否拒绝这个x值取决于我们想要拥有的<strong class="lb iu"> <em class="me">置信度</em> </strong>，这由我们想要接受的所谓的<strong class="lb iu"> <em class="me">置信度</em> </strong>来定义。一个高标准是，如果数据提供了至少99.87% (z &gt; = 3)的概率，我们可以拒绝我们选择的x。<strong class="lb iu"> <em class="me">如果我们接受z = 3的这个值(即99.87%的置信水平)，我们可以拒绝5.2的x，因为我们99.92%的概率大于99.87%的置信水平</em> </strong>。然而，如果我们决定选择一个更高的置信水平(比如99.99%)，那么x的这个值(= 5.2)是不能被拒绝的，这意味着在x的任何假设被拒绝之前，我们希望非常、非常、非常有信心。现在让我们把这个放到所谓的<strong class="lb iu"> <em class="me">假设检验</em> </strong>的语境中。</p><p id="8239" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di"> S </span> omebody这样声明，“<strong class="lb iu"> <em class="me">西林高中学生群体平均身高不超过5.2英尺</em> </strong>”。我们选择勉强不满足上述语句要求的最小可能值，即= 5.2英尺，并创建一个所谓的“<strong class="lb iu"><em class="me"/></strong>”为“H0: = 5.2英尺”。如果我们的数据支持拒绝H0，这表明任何低于5.2英尺也被拒绝。为了对抗零假设，我们创建另一个所谓的“<strong class="lb iu"> <em class="me">替代假设</em> </strong>”作为“<strong class="lb iu"> <em class="me">西林高中学生群体的平均身高大于5.2英尺。</em></strong>”(《H1:&gt;5.2尺》)。在我们拒绝零假设之前，我们希望有99.87% (z &gt; = 3)的置信度。为了进行调查，我们收集了30名学生的样本并测量了他们的身高，结果如表1和图2所示。从前面几段的讨论中，我们可以得出这样的结论，<strong class="lb iu"> <em class="me">仅基于这个样本</em> </strong>，我们就可以有把握地拒绝零假设，也就是说，我们至少有99.87%的把握，西林高中学生群体(人口)的真实平均身高大于5.2英尺。</p><p id="c247" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们的样本量少于30个呢？我们可以按照与上面相同的步骤来计算z值，但这里我们只是将值称为“T值”，并使用另一个名为T表(表3)的表来找出概率。概率列在表的顶行，其对应的t值从第二列开始列出。第一列表示一个新参数，称为“自由度”(df)，等于样本大小减1。例如，如果样本大小为15，则df为14。在这种情况下，样本均值的采样分布的形状作为自由度的函数而变化。从表3中可以看出，在这个所谓的“t分布”中，自由度越小，尾部越重。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mm"><img src="../Images/236487eaa923428fdce1e7880b7f9c8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2gNTH6fyX6nGE1VWBDi2Tg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表3: T表(来自<a class="ae ky" href="https://www.sjsu.edu/faculty/gerstman/StatPrimer/t-table.pdf" rel="noopener ugc nofollow" target="_blank">https://www . sjsu . edu/faculty/gerst man/stat primer/T-table . pdf</a>)</p></figure><p id="a7f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di"> L </span> et再来重温一下本博客开头的第一个问题，</p><p id="a3ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单个样本的平均值如何揭示总体的真实平均值？ </p><p id="349b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">似乎单个样本的均值和标准差可以为我们提供一定程度的信心，来判断我们是否可以安全地拒绝假设检验中总体真实均值的假设。 </p><p id="a770" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望你已经学到了一些有用的东西，或者找到了一些加强你自己信念的想法。请随意评论。</p></div></div>    
</body>
</html>