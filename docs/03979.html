<html>
<head>
<title>Impact of exchange rates in companies</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">汇率对公司的影响</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/impact-of-exchange-rates-in-companies-93cc151bda4f?source=collection_archive---------40-----------------------#2020-04-12">https://towardsdatascience.com/impact-of-exchange-rates-in-companies-93cc151bda4f?source=collection_archive---------40-----------------------#2020-04-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5b11" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">汇率风险可能是大公司最头疼的问题之一。</h2></div><p id="601e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从投资者的角度来看，理解汇率变化对公司财务的影响非常重要。在本帖中，<strong class="kh ir">我们将首先了解汇率如何影响公司利润</strong>。<strong class="kh ir">然后</strong>，我们将<strong class="kh ir">用Python </strong>分析并绘制多种货币汇率。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/eea0224d93d7edcf6a3d5ff55e554419.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U3QsXCkql7-xONFM"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">照片由<a class="ae lr" href="https://www.pexels.com/@disha-sheta-596631?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ls">迪莎摄塔</strong> </a>来自<a class="ae lr" href="https://www.pexels.com/photo/seven-indian-rupee-banknotes-hanging-from-clothesline-on-clothes-pegs-3521353/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ls">像素</strong> </a></p></figure><h1 id="6c08" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">汇率如何影响公司</h1><p id="f382" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">在分析一家公司时，汇率是一个需要考虑的重要因素。一家公司可能以美元作为记账本位币(即公司准备财务结果时使用的货币)，但也有业务(如销售、贷款、供应商等。)换一种货币。</p><p id="9877" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在提交财务结果时，公司必须区分货币和非货币资产/负债:</p><ul class=""><li id="b601" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated"><strong class="kh ir">货币性资产/负债</strong>是那些随时可以转换为现金的资产。这些资产在报告日从其他货币重新转换为公司的功能货币。重估的任何收益或损失都会影响公司的利润。<strong class="kh ir">例如，应收账款、应付账款、现金余额和贷款被视为货币资产/负债。</strong></li><li id="6bf1" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated"><strong class="kh ir">非货币性资产/负债</strong>是指在报告日没有重新折算的资产/负债。它们在财务报表中使用历史汇率(即购置资产时使用的汇率)列示。例如，存货、PP和无形资产被视为非货币性资产。</li></ul><h1 id="1789" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">汇率对应付账款的影响</h1><p id="3dd5" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated"><a class="ae lr" href="https://www.investopedia.com/terms/a/accountspayable.asp" rel="noopener ugc nofollow" target="_blank">应付账款是公司欠其债权人或供应商的金额</a>。为了理解汇率对公司应付账款的影响，让我们以ABCD公司为例。</p><p id="7f01" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">假设ABCD公司以美元报告他们的数字:</p><ul class=""><li id="0585" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated">从欧洲供应商处购买10，000€的材料。</li><li id="e94d" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">交易日的汇率为欧元兑美元= 1.10。这意味着需要1.10美元来购买1€。</li><li id="92b1" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">这笔货款只能在4个月后支付</li></ul><p id="f61f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在购买时，ABCD公司在资产负债表中将11，000美元(10，000€ *1，10)显示为应付账款。</p><p id="f377" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">假设三个月后，当ABCD公司准备财务报表时，欧元兑美元汇率从1.10下跌到0.90。这意味着我们只需要0.90美元就可以买到1€。由于汇率变化，公司ABCD底线将受到影响。现在，只需要9000美元(10000€* 0.90)就可以偿还最初的10000€。</p><p id="5747" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，ABCD公司将把资产负债表中的应付账款减少2，000美元，并通过未实现收益增加利润2，000美元。</p><h1 id="8429" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">汇率对贷款的影响</h1><p id="10ff" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">同样，如果一家公司有一笔以外币计价的贷款，并且汇率波动，将会对公司的损益产生影响。</p><p id="058c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">假设ABCD公司有10，000€贷款。当欧元兑美元汇率为1.10时，该公司在资产负债表中将11，000美元显示为贷款。然而，当欧元兑美元汇率从1.10升至0.90时，ABCD公司将在资产负债表中报告一笔仅为9，000美元的贷款。与此同时，它将在损益中报告2000美元的未实现收益。</p><p id="0b67" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦贷款偿还给银行，收益就会实现。</p><h1 id="5634" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">对销售汇率的影响</h1><p id="951d" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">很有趣，对吧？根据前两个例子，当美元对其他货币升值时，以美元报告的公司似乎总是会受益。</p><p id="d0f8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这并不总是对的。公司向货币贬值(即贬值)的国家销售会降低它们的竞争力。一个公司失去竞争力的影响可能会转化为销售量的显著下降。</p><p id="cc50" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">想象一下ABCD公司在美元对欧元升值的情况下。现在，一家欧洲公司需要支付更高的欧元价格从ABCD购买1件产品。这可能导致欧洲公司停止从ABCD公司购买，并在欧洲寻找替代供应商。</p><h1 id="32a2" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">使用Python的汇率</h1><p id="7caa" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">现在我们明白了为什么在分析一家公司时汇率如此重要。接下来，我们来学习<strong class="kh ir">如何用Python计算和绘制汇率。</strong></p><p id="3680" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将构建一个Python脚本来检索多种货币的历史外汇数据，并使用matplotlib绘制它们。我将使用一个免费的财务API，<a class="ae lr" href="https://financialmodelingprep.com/" rel="noopener ugc nofollow" target="_blank"> financialmodelingprep </a>，提供各种各样的免费财务数据。</p><p id="8e26" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在下面的<a class="ae lr" href="https://financialmodelingprep.com/api/v3/quotes/forex" rel="noopener ugc nofollow" target="_blank">链接</a>中，可以找到所有有数据的货币。对于我们的示例，我们将提取以下四种货币的汇率:</p><p id="b36d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们导入所有require包，并向<a class="ae lr" href="https://financialmodelingprep.com/api/v3/historical-price-full/forex/EURUSD" rel="noopener ugc nofollow" target="_blank"> API端点发出get请求，返回过去几年的历史汇率</a>。请注意，我们遍历了每种货币。在每个循环中，我们得到单一货币对的历史价格。</p><pre class="lc ld le lf gt ne nf ng nh aw ni bi"><span id="c3d1" class="nj lu iq nf b gy nk nl l nm nn">import requests<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/><br/>exchange_rates_Python = {}<br/>currencies = ['EURUSD','CHFUSD=X','AUDUSD','GBPUSD']<br/><br/>for currency in currencies:<br/>  forex = requests.get(f'https://financialmodelingprep.com/api/v3/historical-price-full/forex/{currency}')<br/><br/>  forex = forex.json()<br/>  print(forex)<br/><br/>#outcome example of USDGBP: <br/>{'historical': [{'adjClose': 0.8029,<br/>   'change': -0.00032,<br/>   'changeOverTime': -0.0004,<br/>   'changePercent': -0.04,<br/>   'close': 0.8029,<br/>   'date': '2020-04-10',<br/>   'high': 0.80324,<br/>   'label': 'April 10, 20',<br/>   'low': 0.80076,<br/>   'open': 0.80258},<br/>  {'adjClose': 0.8069,<br/>   'change': 9e-05,<br/>   'changeOverTime': 0.00011,<br/>   'changePercent': 0.011,<br/>...</span></pre><p id="6263" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">响应包含一个带有历史价格的字典。请注意，关键字<em class="no"> historical </em>包括过去几年所有收盘价的列表。因此，我们可以对其进行循环，以便解析每个货币对的<em class="no">日期</em>和<em class="no">调整关闭</em>。我们将这些值存储在一个名为<em class="no"> exchange_rates_Python </em>的空字典中:</p><pre class="lc ld le lf gt ne nf ng nh aw ni bi"><span id="d75a" class="nj lu iq nf b gy nk nl l nm nn">import requests<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/><br/>exchange_rates_Python = {}<br/>currencies = ['EURUSD','CHFUSD=X','AUDUSD','USDGBP']<br/><br/>for currency in currencies:<br/>  forex = requests.get(f'https://financialmodelingprep.com/api/v3/historical-price-full/forex/{currency}')<br/><br/>  forex = forex.json()<br/>  exchange_rates_Python[currency] = {}<br/><br/>  for item in forex['historical']:<br/>    adj_close = item['adjClose']<br/>    trade_date = item['date']<br/>    exchange_rates_Python[currency][trade_date] = adj_close</span></pre><p id="5086" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们将字典转换成Pandas数据框架，以便使用<em class="no"> matplotlib </em>绘制数据。此外，我们将索引(即日期)转换为日期时间对象:</p><pre class="lc ld le lf gt ne nf ng nh aw ni bi"><span id="034a" class="nj lu iq nf b gy nk nl l nm nn">import requests<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/><br/>exchange_rates_Python = {}<br/>currencies = ['EURUSD','CHFUSD=X','AUDUSD','GBPUSD']<br/><br/>for currency in currencies:<br/>  forex = requests.get(f'https://financialmodelingprep.com/api/v3/historical-price-full/forex/{currency}')<br/><br/>  forex = forex.json()<br/>  exchange_rates_Python[currency] = {}<br/><br/>  for item in forex['historical']:<br/>    adj_close = item['adjClose']<br/>    trade_date = item['date']<br/>    exchange_rates_Python[currency][trade_date] = adj_close<br/><br/>currencies_df = pd.DataFrame.from_dict(exchange_rates_Python, orient='index')<br/>currencies_df=currencies_df.T<br/>currencies_df.index = pd.to_datetime(currencies_df.index)</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/d4bc778a056444f598b672ac888771bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LsafO7POle7k2hCp"/></div></div></figure><h1 id="9286" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">用Python绘制汇率</h1><p id="0633" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">现在我们有了一个漂亮的熊猫数据框架中的汇率，我们准备绘制它们。我们将使用库<a class="ae lr" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> matplotlib </a>为每种货币创建一个子图。</p><p id="1380" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将只绘制最近90天的汇率:</p><pre class="lc ld le lf gt ne nf ng nh aw ni bi"><span id="636b" class="nj lu iq nf b gy nk nl l nm nn">#List of symbols https://financialmodelingprep.com/api/v3/quotes/forex<br/><br/>import requests<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/><br/>exchange_rates_Python = {}<br/>currencies = ['EURUSD','CHFUSD=X','AUDUSD','GBPUSD']<br/><br/>for currency in currencies:<br/>  forex = requests.get(f'https://financialmodelingprep.com/api/v3/historical-price-full/forex/{currency}')<br/><br/>  forex = forex.json()<br/>  exchange_rates_Python[currency] = {}<br/><br/>  for item in forex['historical']:<br/>    adj_close = item['adjClose']<br/>    trade_date = item['date']<br/>    exchange_rates_Python[currency][trade_date] = adj_close<br/><br/><br/>currencies_df = pd.DataFrame.from_dict(exchange_rates_Python, orient='index')<br/>currencies_df=currencies_df.T<br/>currencies_df.index = pd.to_datetime(currencies_df.index)<br/><br/><br/>#take last 30 days<br/>currencies_df = currencies_df.iloc[:90,:]<br/><br/>fig, axes = plt.subplots(nrows=2, ncols=2)<br/><br/>currencies_df[currencies[0]].plot(ax=axes[0,0])<br/>axes[0,0].set_title(currencies[0])<br/><br/>currencies_df[currencies[1]].plot(ax=axes[0,1])<br/>axes[0,1].set_title(currencies[1])<br/><br/>currencies_df[currencies[2]].plot(ax=axes[1,0])<br/>axes[1,0].set_title(currencies[2])<br/><br/>currencies_df[currencies[3]].plot(ax=axes[1,1])<br/>axes[1,1].set_title(currencies[3])<br/><br/>plt.tight_layout()<br/>plt.show()</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/b5d75318c3ac1f3d97e882069ede771f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XOohyJsVA3NaekJW"/></div></div></figure><h1 id="2b60" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">包扎</h1><p id="a496" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">只需几行代码，我们就能够用Python检索和绘制汇率。</p><p id="c821" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以看到，在过去的三个月里，美元比英镑要强劲得多。在2019年12月，我们需要大约1.33美元来购买1，然而，在2020年4月，我们只需要1.22美元来购买1。</p><p id="b51c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着拥有大量未结应付款项或贷款的公司比4个月前更有能力偿还这些款项。然而，如果英国公司由于货币升值而决定不购买美元产品，销售可能会受到影响。</p><p id="e350" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如我们在这篇文章中看到的，在做出投资决策之前，了解一家公司的货币敞口非常重要。我建议你从货币敞口的角度来分析公司的销售、贷款和应付款。</p><p id="a939" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你喜欢这篇文章，可以随意看看我在<a class="ae lr" href="http://codingandfun.com/" rel="noopener ugc nofollow" target="_blank"> Python for Finance </a>上的其他帖子。</p></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><p id="3b56" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="no">原载于2020年4月30日</em><a class="ae lr" href="https://codingandfun.com/impact-of-exchange-rates-in-companies-python-for-finance/" rel="noopener ugc nofollow" target="_blank"><em class="no">https://codingandfun.com</em></a>T22。</p></div></div>    
</body>
</html>