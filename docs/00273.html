<html>
<head>
<title>Installing Hadoop on a Mac</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Mac 上安装 Hadoop</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/installing-hadoop-on-a-mac-ec01c67b003c?source=collection_archive---------2-----------------------#2020-01-09">https://towardsdatascience.com/installing-hadoop-on-a-mac-ec01c67b003c?source=collection_archive---------2-----------------------#2020-01-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="12b3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你需要的唯一向导！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c32a7d14b218ef3ebb6d05cd0bb42c0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*z-NXVH31s37Rt1yW"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马库斯·斯皮斯克在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="1274" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di">难道</span>是你和 Hadoop 之间唯一的障碍，只是想知道如何在 Mac 上安装它吗？一个快速的互联网搜索会告诉你缺乏关于这个相当简单的过程的信息。在这个简短的教程中，我将向您展示如何在伪分布式模式下使用单节点集群的终端在一个<strong class="lb iu"> macOS Mojave </strong>(版本<strong class="lb iu"> 10.14.6 </strong>)上非常容易地安装<strong class="lb iu"> Hadoop 3.2.1 </strong>。</p><p id="7430" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，您需要安装几个需要放在适当目录中的包。<a class="ae ky" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">家酿</strong>网站</a>让这个任务变得非常简单，自动确定你的机器上需要什么，安装正确的目录并把它们的文件符号链接到/user/local。其他文档也可以在他们的网站上找到。</p><h1 id="01b2" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">安装自制软件</h1><p id="9b8f" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">复制页面顶部的命令并粘贴到新的终端窗口中。将会通知您将要安装的内容。按回车键启动该过程:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="c7a7" class="ng mf it nc b gy nh ni l nj nk">$ /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</span></pre><p id="ca14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确认您的机器上有正确的 java 版本(版本 8)。如果它返回的不是 1.8。，请确保安装正确的版本。</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="25e1" class="ng mf it nc b gy nh ni l nj nk">$ java -version</span><span id="16a5" class="ng mf it nc b gy nl ni l nj nk">$ <!-- -->brew cask install homebrew/cask-versions/adoptopenjdk8</span></pre><h1 id="f067" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">安装 Hadoop</h1><p id="08af" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">接下来，您将在以下路径安装最新版本的 Hadoop:/usr/local/Cellar/Hadoop。在撰写本文时，这恰好是 3.2.1:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="3fde" class="ng mf it nc b gy nh ni l nj nk">$ brew install hadoop</span></pre><h1 id="82ad" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">配置 Hadoop</h1><p id="0ae1" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">配置 Hadoop 需要几个步骤。关于设置单节点集群的更详细版本可以在<a class="ae ky" href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Apache Hadoop 文档</strong> </a>中找到。(确保遵循机器上安装的正确版本。)</p><ol class=""><li id="74cc" class="nm nn it lb b lc ld lf lg li no lm np lq nq lu nr ns nt nu bi translated">更新<strong class="lb iu">环境变量设置</strong></li><li id="e390" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated">对<strong class="lb iu"> core </strong> -、<strong class="lb iu"> hdfs </strong> -、<strong class="lb iu"> mapred </strong> -和<strong class="lb iu"> yarn </strong> -site.xml 文件进行更改</li><li id="9963" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated">取消<strong class="lb iu">密码</strong>要求(如有必要)</li><li id="8953" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated">格式<strong class="lb iu">命名节点</strong></li></ol><p id="256b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开包含环境变量设置的文档:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="7c50" class="ng mf it nc b gy nh ni l nj nk">$ cd /usr/local/cellar/hadoop/3.2.1/libexec/etc/hadoop<br/>$ open hadoop-env.sh</span></pre><p id="5475" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对文档进行以下更改，保存并关闭。</p><h2 id="d09f" class="ng mf it bd mg oa ob dn mk oc od dp mo li oe of mq lm og oh ms lq oi oj mu ok bi translated">添加导出 JAVA_HOME 的位置</h2><p id="1ef4" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">export JAVA _ HOME = "/Library/JAVA/JAVA virtual machines/adopt open JDK-8 . JDK/Contents/HOME "</p><p id="94f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以通过在终端窗口中使用以下代码来找到此路径:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="8369" class="ng mf it nc b gy nh ni l nj nk">$ /usr/libexec/java_home</span></pre><h2 id="7ac6" class="ng mf it bd mg oa ob dn mk oc od dp mo li oe of mq lm og oh ms lq oi oj mu ok bi translated">替换导出 HADOOP_OPTS 的信息</h2><p id="8aa4" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">更改导出 HADOOP _ OPTS = "-DJ ava . net . preferipv 4 stack = true "</p><p id="e256" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要导出 HADOOP _ OPTS = "-djava . net . preferipv 4 stack = true-djava . security . krb5 . realm =-djava . security . krb5 . KDC = "</p><h2 id="4764" class="ng mf it bd mg oa ob dn mk oc od dp mo li oe of mq lm og oh ms lq oi oj mu ok bi translated">对核心文件进行更改</h2><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="54d8" class="ng mf it nc b gy nh ni l nj nk">$ open core-site.xml</span><span id="b3b1" class="ng mf it nc b gy nl ni l nj nk">&lt;configuration&gt;<br/>  &lt;property&gt;<br/>    &lt;name&gt;fs.defaultFS&lt;/name&gt;<br/>    &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;<br/>  &lt;/property&gt;<br/>&lt;/configuration&gt;</span></pre><h2 id="659e" class="ng mf it bd mg oa ob dn mk oc od dp mo li oe of mq lm og oh ms lq oi oj mu ok bi translated">对 hdfs 文件进行更改</h2><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="7a54" class="ng mf it nc b gy nh ni l nj nk">$ open hdfs-site.xml</span><span id="7fc1" class="ng mf it nc b gy nl ni l nj nk">&lt;configuration&gt;<br/>  &lt;property&gt;<br/>    &lt;name&gt;dfs.replication&lt;/name&gt;<br/>    &lt;value&gt;1&lt;/value&gt;<br/>  &lt;/property&gt;<br/>&lt;/configuration&gt;</span></pre><h2 id="517c" class="ng mf it bd mg oa ob dn mk oc od dp mo li oe of mq lm og oh ms lq oi oj mu ok bi translated">对映射的文件进行更改</h2><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="fbe3" class="ng mf it nc b gy nh ni l nj nk">$ open mapred-site.xml</span><span id="83fc" class="ng mf it nc b gy nl ni l nj nk">&lt;configuration&gt;<br/>  &lt;property&gt;<br/>    &lt;name&gt;mapreduce.framework.name&lt;/name&gt;<br/>    &lt;value&gt;yarn&lt;/value&gt;<br/>  &lt;/property&gt;<br/>  &lt;property&gt;<br/>    &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;   &lt;value&gt;$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*:$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*&lt;/value&gt;<br/>  &lt;/property&gt;<br/>&lt;/configuration&gt;</span></pre><h2 id="8d6e" class="ng mf it bd mg oa ob dn mk oc od dp mo li oe of mq lm og oh ms lq oi oj mu ok bi translated">对纱线文件进行更改</h2><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="f5c5" class="ng mf it nc b gy nh ni l nj nk">$ open yarn-site.xml</span></pre><p id="2096" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><configuration> <br/> &lt;属性&gt; <br/> &lt;名称&gt;YARN . nodemanager . aux-services&lt;/名称&gt; <br/> &lt;值&gt;MapReduce _ shuffle&lt;/值&gt;<br/>&lt;/属性&gt; <br/> &lt;属性&gt; <br/> &lt;名称&gt;YARN . nodemanager . env-whitelist&lt;/名称&gt;<br/><br/>值【JAVA _ JAVA</configuration></p><h2 id="b355" class="ng mf it bd mg oa ob dn mk oc od dp mo li oe of mq lm og oh ms lq oi oj mu ok bi translated">删除密码要求</h2><p id="2d16" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">在进入下一步之前，检查您是否能够在没有密码的情况下进行 ssh，以防止格式化 NameNode 时出现意外结果。</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="16ef" class="ng mf it nc b gy nh ni l nj nk">$ ssh localhost</span></pre><p id="3df1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果这没有返回上次登录时间，请使用以下命令来消除插入密码的需要。</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="9b35" class="ng mf it nc b gy nh ni l nj nk">$ ssh-keygen -t rsa -P '' -f ~/.ssh/id_rsa<br/>$ cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys<br/>$ chmod 0600 ~/.ssh/authorized_keys</span></pre><h2 id="1c8b" class="ng mf it bd mg oa ob dn mk oc od dp mo li oe of mq lm og oh ms lq oi oj mu ok bi translated">格式化 NameNode</h2><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="e7d5" class="ng mf it nc b gy nh ni l nj nk">$ cd /usr/local/cellar/hadoop/3.2.1/libexec/bin<br/>$ hdfs namenode -format</span></pre><p id="6a0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一条警告将告诉您正在创建日志目录。系统将提示您重新格式化存储目录根目录中的文件系统。说出<strong class="lb iu"> Y </strong>并按下<strong class="lb iu">返回</strong>。</p><h1 id="2f5b" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">运行 Hadoop</h1><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="1d62" class="ng mf it nc b gy nh ni l nj nk">$ cd /usr/local/cellar/hadoop/3.2.1/libexec/sbin<br/>$ ./start-all.sh<br/>$ jps</span></pre><p id="ff16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行 jps 后，您应该确认 Hadoop 的所有部分都已安装并运行。您应该会看到类似这样的内容:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="0bf4" class="ng mf it nc b gy nh ni l nj nk">66896 ResourceManager<br/>66692 SecondaryNameNode<br/>66535 DataNode<br/>67350 Jps<br/>66422 NameNode67005 NodeManager</span></pre><p id="acc9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开 web 浏览器查看当前会话的配置。</p><p id="3b48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="http://localhost:9870" rel="noopener ugc nofollow" target="_blank"> http://localhost:9870 </a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/3e992fcee5aba88cd5ae6597dd1e7497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RhtBQmHug9dNKDgH-niLAA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">关于您当前 Hadoop 会话的信息。</p></figure><h1 id="322e" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">关闭 Hadoop</h1><p id="c900" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">全部完成后关闭 Hadoop。</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="7ba1" class="ng mf it nc b gy nh ni l nj nk">$ ./stop-all.sh</span></pre><p id="dcbc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这篇短文已经帮助你克服了在 macOS 机器上安装 Hadoop 的障碍！</p></div><div class="ab cl om on hx oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="im in io ip iq"><p id="72ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请在<a class="ae ky" href="https://www.linkedin.com/in/SiphuLangeni" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系我！</p></div></div>    
</body>
</html>