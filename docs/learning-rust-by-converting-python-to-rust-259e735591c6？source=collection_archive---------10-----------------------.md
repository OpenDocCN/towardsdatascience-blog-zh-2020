# é€šè¿‡å°† Python è½¬æ¢æˆ Rust æ¥å­¦ä¹  Rust

> åŸæ–‡ï¼š<https://towardsdatascience.com/learning-rust-by-converting-python-to-rust-259e735591c6?source=collection_archive---------10----------------------->

## Rust åŸºç¡€å…¥é—¨æ•™ç¨‹

![](img/9ec8921315943b372e4f4aee0585acc9.png)

[ä¹æ—…è¡Œè½¦](https://unsplash.com/@lewagon?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹ç…§

[æ›´æ–°äº 2021 å¹´ 2 æœˆ 18 æ—¥ã€‚ä»£ç æ›´æ”¹ä¸ºè¦ç‚¹å¹¶æ·»åŠ äº†é“¾æ¥]

```
**Table of Contents**[**Introduction**](#3cb0)ğŸ¦€ [Leetcode Unique Paths](#d2b3)
ğŸ¦€ [Python Code](#2aa3)
ğŸ¦€ [First Step in Rust](#f513)
ğŸ¦€ [Examples of Primitive Data Types:](#5358)
ğŸ¦€ [Functions](#3775)
ğŸ¦€ [Statements and Expressions](#edb9)
ğŸ¦€ [Variables](#0f1c)
ğŸ¦€ [Macros](#dc94)
ğŸ¦€ [if-else Statement (Step 2)](#5346)
ğŸ¦€ [Calling a Function](#f27b)
ğŸ¦€ [Range](#5d38)
ğŸ¦€ [Arrays, Tuples, and Vectors](#52ef)
ğŸ¦€ [as Keyword](#6263)
ğŸ¦€ [Final Code](#4543)
ğŸ¦€ [Struct and Impl](#27aa)
ğŸ¦€ [Trait](#2c53)
ğŸ¦€ [Runtime & Memory Usage](#7e45)[**Conclusion**](#d7d1)
```

# ä»‹ç»

Rust æ˜¯ä¸€ç§é™æ€å’Œå¼ºç±»å‹çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ã€‚Rust æ˜¯ä¸ºæ¸´æœ›è¯­è¨€é€Ÿåº¦å’Œç¨³å®šæ€§çš„äººå‡†å¤‡çš„ã€‚

æˆ‘è®¤ä¸ºè‡ªå·±æ˜¯ä¸€ä¸ªæ–°æ‰‹ã€‚å†™å®Œ[è¿™ç¯‡æ–‡ç« ](/you-want-to-learn-rust-but-you-dont-know-where-to-start-fc826402d5ba)åï¼Œæˆ‘å¼€å§‹å­¦ä¹  Rustï¼Œå¹¶ä¸”æˆ‘æ¯å¤©éƒ½åœ¨å­¦ä¹ æ–°çš„ä¸œè¥¿ã€‚æˆ‘ç°åœ¨å¯ä»¥å°†ç®€å•çš„ Python ä»£ç è½¬æ¢æˆ Rustï¼Œå¹¶ä¸”èƒ½å¤Ÿè§£é‡Šæˆ‘æ­£åœ¨ç¼–å†™çš„ä»£ç ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ª Leetcode é—®é¢˜çš„ Python è§£å†³æ–¹æ¡ˆï¼Œå¹¶å°†å…¶è½¬æ¢ä¸º Rust ä»£ç ã€‚ä½ ä¸ä»…ä¼šå‘ç°ä¸¤ç§è¯­è¨€ä¹‹é—´çš„ç›¸ä¼¼ä¹‹å¤„ï¼Œè¿˜ä¼šå­¦åˆ° Rust ç¼–ç¨‹ã€‚

æ‚¨å¯ä»¥è¿è¡Œä»£ç ï¼Œä¹Ÿå¯ä»¥åœ¨æœ¬æ–‡çš„ç¤ºä¾‹ä¸­å¯¹å…¶è¿›è¡Œè°ƒæ•´ã€‚

[](/you-want-to-learn-rust-but-you-dont-know-where-to-start-fc826402d5ba) [## ä½ æƒ³å­¦ Rust ä½†æ˜¯ä¸çŸ¥é“ä»å“ªé‡Œå¼€å§‹

### Rust åˆå­¦è€…çš„å®Œæ•´èµ„æº

towardsdatascience.com](/you-want-to-learn-rust-but-you-dont-know-where-to-start-fc826402d5ba) 

# Leetcode å”¯ä¸€è·¯å¾„

LeetCode æ˜¯ä¸€ä¸ªéå¸¸å—æ¬¢è¿çš„ç½‘ç«™ï¼Œåœ¨é‚£é‡Œä½ å¯ä»¥æé«˜ä½ çš„ç¼–ç æŠ€èƒ½ã€‚å…¶ä¸­ä¸€ä¸ªé—®é¢˜å«åš[â€œå”¯ä¸€è·¯å¾„â€](https://leetcode.com/problems/unique-paths/)ï¼Œæœºå™¨äººä½äºä¸€ä¸ª ***m* x *n* ç½‘æ ¼**çš„å·¦ä¸Šè§’ã€‚æ‚¨åªèƒ½å°†**å‘ä¸‹**æˆ–**å‘å³**ç§»åŠ¨ï¼Œå¹¶ä¸”æ‚¨éœ€è¦æ‰¾å‡ºä¸¤ç‚¹ä¹‹é—´æœ‰å¤šå°‘æ¡å”¯ä¸€çš„è·¯å¾„ã€‚

![](img/c2d397a64fd6c6cac63e945caee48549.png)

å›¾ç‰‡æ¥è‡ª LeetCode

ä¾‹å¦‚ï¼Œåœ¨ä¸‹å›¾ä¸­ï¼Œä» A ç‚¹åˆ° B ç‚¹æœ‰ 3 æ¡å”¯ä¸€è·¯å¾„ï¼Œä» A ç‚¹åˆ° C ç‚¹æœ‰ 5 æ¡å”¯ä¸€è·¯å¾„ã€‚ä¸‹å›¾å¸®åŠ©æ‚¨æ‰¾åˆ°ä» A åˆ°æ¯ä¸ªåŒºåŸŸçš„å”¯ä¸€è·¯å¾„çš„æ•°é‡ã€‚ç”±äºæ‚¨åªéœ€å°†**å‘ä¸‹ç§»åŠ¨**æˆ–**å‘å³ç§»åŠ¨**ï¼Œæ‚¨å¯ä»¥å°†ä¸Šé¢å’Œå·¦è¾¹çš„æ•°å­—ç›¸åŠ ï¼Œæ‰¾åˆ°åˆ°è¾¾è¯¥ç‚¹çš„å”¯ä¸€è·¯å¾„çš„æ•°é‡ã€‚

![](img/a26877ac05061401ebd67fb2ae88390f.png)

ä½œè€…å›¾ç‰‡

# Python ä»£ç 

ç”¨ Python è§£å†³è¿™ä¸ªé—®é¢˜è‚¯å®šæœ‰å¾ˆå¤šæ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬æ‰“ç®—ç”¨ä¸‹é¢çš„[è§£å†³æ–¹æ¡ˆ](https://tech.io/snippet/qpOVDt4)ã€‚

ä½¿ç”¨ Python çš„è§£å†³æ–¹æ¡ˆã€‚åœ¨çº¿å°è¯•è¿™æ®µ Python ä»£ç ã€‚

![](img/15f75df6ba9854f1dea182d6f38246bb.png)

LeetCode ä¸Š Python ä»£ç çš„ç»“æœã€‚

åœ¨è¿™æ®µ Python ä»£ç ä¸­:

*   æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º Solution çš„ç±»ã€‚æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå«åšâ€œå”¯ä¸€è·¯å¾„â€çš„æ–¹æ³•ã€‚(æ˜¯èµ·å§‹ç ã€‚)
*   å®ƒå°† selfã€integer `m`å’Œ integer `n`ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚å®ƒä½¿ç”¨[ç±»å‹æ³¨é‡Š](https://docs.python.org/3/library/typing.html)ã€‚
*   å¦‚æœ`m`æˆ–`n`ç­‰äº 1ï¼Œé‚£ä¹ˆå®ƒè¿”å› 1ã€‚
*   å¦‚æœ`n`å°äº`m`ï¼Œåˆ™å®ƒä¼šåˆ‡æ¢ä½ç½®å¹¶è¿è¡Œç›¸åŒçš„æ–¹æ³•ã€‚
*   `dp = [1]*n`å°†åˆ›å»ºä¸€ä¸ª`n`ç¼–å·ä¸º 1 çš„åˆ—è¡¨ã€‚ä¾‹å¦‚`[1]*3`å°†åˆ›å»º`[1,1,1]`ã€‚
*   æˆ‘ä»¬ä½¿ç”¨åŒ for å¾ªç¯å’Œ range å°†å‰ä¸€ä¸ªæ•°å­—æ·»åŠ åˆ°ä¸‹ä¸€ä¸ªé¡¹ç›®ä¸­ã€‚`[1,2,3]`ã€`[1,3,6]`ç­‰ã€‚æ‚¨å¯ä»¥é€šè¿‡å°†è¿”å›å€¼æ›´æ”¹ä¸º`return dp`æ¥æ£€æŸ¥è¿™ä¸€ç‚¹ã€‚
*   æˆ‘ä»¬ä½¿ç”¨`[-1]`è¿”å›åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªæ•°å­—ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†é€æ­¥å°† Python ä»£ç è½¬æ¢ä¸º Rustã€‚

ä¸Šé¢çš„ç»“æœæ˜¾ç¤ºè¿è¡Œæ—¶é—´ä¸º 36 msï¼Œå†…å­˜ä½¿ç”¨é‡ä¸º 13.6 MBã€‚æˆ‘ä»¬ç¨åä¼šå°†è¿™ä¸ªç»“æœä¸ Rust ç»“æœè¿›è¡Œæ¯”è¾ƒã€‚

(å½“æˆ‘å†æ¬¡æäº¤ç»™ LeetCode æ—¶ï¼Œç»“æœå‘ç”Ÿäº†å˜åŒ–ï¼Œä¸Šé¢çš„é‚£ä¸ªæ˜¯æœ€å¥½çš„ã€‚ä½ å¯èƒ½ä¼šæœ‰ä¸åŒçš„ç»“æœã€‚)

# ç”Ÿé”ˆçš„ç¬¬ä¸€æ­¥

æˆ‘ä»¬å°†ä»ä¸€ä¸ª[åŸºæœ¬é”ˆç ](https://tech.io/snippet/MbIqTol)å¼€å§‹ã€‚

ç”Ÿé”ˆçš„ç¬¬ä¸€æ­¥ã€‚[è¯•è¯•è¿™ä¸ªé”ˆéƒåœ¨çº¿ã€‚](https://tech.io/snippet/MbIqTol)

Rust æ€»æ˜¯åœ¨ä½ è¿è¡Œç¨‹åºçš„æ—¶å€™å…ˆè¿è¡Œ`**main**`åŠŸèƒ½ã€‚æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º`unique_paths`çš„å‡½æ•°ï¼Œå¸¦æœ‰ä¸¤ä¸ªå‚æ•°`m`å’Œ`n`ï¼Œå®ƒä»¬æ˜¯`**i32**`ç±»å‹ã€‚

åœ¨å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»å£°æ˜æ¯ä¸ªå‚æ•°çš„ç±»å‹ã€‚Rust ç¨‹åºä¸­çš„æ¯ä¸ªå˜é‡ã€é¡¹ç›®å’Œå€¼éƒ½æœ‰ä¸€ä¸ªç±»å‹ã€‚

å€¼çš„ç±»å‹[å®šä¹‰äº†](https://doc.rust-lang.org/book/ch04-01-what-is-ownership.html?highlight=heap#the-stack-and-the-heap)ä¿å­˜å®ƒçš„å†…å­˜çš„è§£é‡Šã€‚`**i32**`æ˜¯[åŸè¯­æ•°æ®ç±»å‹](https://learning-rust.github.io/docs/a8.primitive_data_types.html)ä¹‹ä¸€ï¼Œæ˜¯ä¸€ç§ 32 ä½å›ºå®šå¤§å°çš„[æœ‰ç¬¦å·æ•´æ•°ç±»å‹](https://learning-rust.github.io/docs/a8.primitive_data_types.html#i8-i16-i32-i64-i128)ã€‚`**i32**`å¯ä»¥å®¹çº³-(2)å’Œ 2 -1 ä¹‹é—´çš„æ•°å­—ï¼Œå‰è€…ä¸º-2147483648ï¼Œåè€…ä¸º 2147483647ã€‚

# åŸå§‹æ•°æ®ç±»å‹çš„ç¤ºä¾‹:

[åœ¨çº¿å°è¯•è¿™ä¸ªåŸå§‹æ•°æ®ç±»å‹ç¤ºä¾‹](https://tech.io/snippet/uwnXAR8)ã€‚

æ›´å¤šçš„åŸå§‹æ•°æ®ç±»å‹åœ¨è¿™ä¸ª[é“¾æ¥](https://www.codingame.com/playgrounds/365/getting-started-with-rust/primitive-data-types)ä¸­ã€‚

é¡ºä¾¿è¯´ä¸€ä¸‹ï¼ŒRust çš„é»˜è®¤æ•´æ•°ç±»å‹æ˜¯`**i32**`ï¼Œæ‰€ä»¥å¦‚æœä½ æ²¡æœ‰åœ¨ä¸€ä¸ª [**é—­åŒ…**](https://doc.rust-lang.org/book/ch13-01-closures.html?highlight=annotate,a,type#closure-type-inference-and-annotation) ä¸­æ ‡æ³¨å‚æ•°çš„ç±»å‹ï¼Œå¹¶ä¸”å¦‚æœå®ƒä»¬æ˜¯æ•´æ•°ï¼ŒRust å°†ä½¿ç”¨`**i32**`ã€‚Rust çš„ç¼–è¯‘å™¨èƒ½å¤Ÿæ¨æ–­å‡ºå‚æ•°å’Œå¤§å¤šæ•°å˜é‡çš„ç±»å‹ã€‚

# åŠŸèƒ½

[**åŠŸèƒ½**](https://doc.rust-lang.org/book/ch03-03-how-functions-work.html) ä½¿ç”¨`**fn**`å…³é”®å­—å¯åŠ¨ã€‚Rust code ä½¿ç”¨è›‡å½¢å¤–å£³ä½œä¸ºåŠŸèƒ½çš„[ä¼ ç»Ÿæ ·å¼](https://doc.rust-lang.org/1.0.0/style/style/naming/README.html)ã€‚å‡½æ•°å¯ä»¥è¿”å›å€¼ï¼Œæˆ‘ä»¬ä½¿ç”¨ç®­å¤´`**->**`ä¸ºè¿”å›å€¼å£°æ˜å®ƒä»¬çš„ç±»å‹ã€‚unique_paths è¿”å›æ•°æ®ç±»å‹`**i32**`ã€‚Rust ä½¿ç”¨`{}`ä½œä¸ºå‡½æ•°ä½“ã€‚

[ç½‘ä¸Šè¯•è¯•è¿™ä¸ªé”ˆéƒä»£ç ã€‚](https://tech.io/snippet/quWpWFg)è¿”å›å­—ç¬¦ä¸²çš„å‡½æ•°ç¤ºä¾‹ã€‚

# é™ˆè¿°å’Œè¡¨è¾¾

æˆ‘ä»¬è¿”å›æ€»å’Œï¼Œ`m + n`ã€‚å‡½æ•°ä½“ç”±ä¸€ç³»åˆ—è¯­å¥ç»„æˆï¼Œå¹¶ä»¥è¡¨è¾¾å¼ç»“å°¾ã€‚

> è¯­å¥*æ˜¯æ‰§è¡Œä¸€äº›åŠ¨ä½œå¹¶ä¸”ä¸è¿”å›å€¼çš„æŒ‡ä»¤ã€‚*è¡¨è¾¾å¼*è®¡ç®—å‡ºç»“æœå€¼ã€‚â€”* [*å‡½æ•°ä½“åŒ…å«è¯­å¥å’Œè¡¨è¾¾å¼*](https://doc.rust-lang.org/book/ch03-03-how-functions-work.html?highlight=expression,and,statement#function-bodies-contain-statements-and-expressions)

è¡¨è¾¾å¼`m + n`ä¸åŒ…æ‹¬ç»“æŸåˆ†å·ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¿”å›å®ƒã€‚å¦‚æœä½ åœ¨ä¸€ä¸ªè¡¨è¾¾å¼çš„æœ«å°¾åŠ ä¸€ä¸ªåˆ†å·ï¼Œä½ å°±æŠŠå®ƒå˜æˆäº†ä¸€ä¸ªè¯­å¥ï¼Œå®ƒä¸ä¼šè¿”å›å€¼ã€‚

# å˜é‡

åœ¨`**main()**`å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ª[å…³é”®å­—](https://doc.rust-lang.org/reference/keywords.html)æ¥è¡¨ç¤ºä¸€ä¸ªå˜é‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå±€éƒ¨å˜é‡æ˜¯ä¸å¯å˜çš„ï¼Œä½†æ˜¯æ‚¨å¯ä»¥ä½¿ç”¨`**mut**`ä½¿å®ƒä»¬å¯å˜ã€‚å¯¹äºæˆ‘ä»¬çš„ä¾‹å­ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä½¿å®ƒå¯å˜ã€‚

è¯•è¯•[é”ˆå˜é‡ç¤ºä¾‹](https://tech.io/snippet/ZWuAnj1)åœ¨çº¿ã€‚

# å®æŒ‡ä»¤

`**println!()**` æ˜¯[æ ‡å‡†å®](https://learning-rust.github.io/docs/d7.std_primitives_and_preludes.html#Standard-Macros)ä¹‹ä¸€ã€‚å®ƒè§£ææ ¼å¼å­—ç¬¦ä¸²å¹¶å°†å…¶è½¬æ¢ä¸ºæ‰“å°æ ¼å¼ã€‚

`pritln!`æŒ‰é¡ºåºå¡«å……å ä½ç¬¦ã€‚å¯ä»¥ç”¨ç´¢å¼•å’Œ`name="vale"`ã€‚

è¯•è¯• [printlnï¼å®](https://tech.io/snippet/VKciz0J)åœ¨çº¿ã€‚

# if-else è¯­å¥(æ­¥éª¤ 2)

ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ª`**if-else**`è¯­å¥ã€‚`**expr == expr**`(å…¶ä¸­`expr`è¡¨ç¤ºè¡¨è¾¾å¼)æ˜¯ç›¸ç­‰æ¯”è¾ƒã€‚`**expr || expr**`æ˜¯é€»è¾‘**è¿˜æ˜¯**ã€‚

å¦‚æœ`m`æˆ–`n`ä¸­çš„ä»»ä½•ä¸€ä¸ªç­‰äº 1ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿”å› 1ã€‚è¯·æ³¨æ„ 1 åé¢æ²¡æœ‰åˆ†å·ï¼Œå› ä¸ºæˆ‘ä»¬è¦è¿”å› 1ã€‚

Rust å¯¹äº`**if**`è¯­å¥ä¸­çš„æ¡ä»¶ä¸ä½¿ç”¨æ‹¬å·ã€‚

åœ¨çº¿ä½¿ç”¨ if è¯­å¥å°è¯• Rust ä¸­çš„[æ­¥éª¤ 2ã€‚](https://tech.io/snippet/XZMM4jx)

`**if-else if-else**`æœ‰å¦‚ä¸‹å½¢å¼ã€‚

åœ¨çº¿å°è¯• [if-else if-else ç¤ºä¾‹](https://tech.io/snippet/EI8viV3)ã€‚

# è°ƒç”¨å‡½æ•°

åœ¨çº¿å°è¯• Rust ä¸­çš„[æ­¥éª¤ 3ã€‚](https://tech.io/snippet/ctjMBxw)

è¿™å¯èƒ½ä¸æ˜¯ä¼ é€’ LeetCode æ‰€å¿…éœ€çš„ï¼Œä½†æ˜¯è¿™å‘æ‚¨å±•ç¤ºäº†å¦‚ä½•ä»å†…éƒ¨è°ƒç”¨è‡ªå·±çš„å‡½æ•°ã€‚

å¦‚æœ`**n**`å°äº`**m**`ï¼Œæˆ‘ä»¬äº¤æ¢å˜é‡ä½ç½®ï¼Œè°ƒç”¨è‡ªå·±çš„å‡½æ•°ã€‚

# èŒƒå›´

åœ¨ Python ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨`range`ä½œä¸º:

```
for i in range(1,m):
    for j in range(1,n):
```

åœ¨ Rust ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨`..`æˆ–`..=`ã€‚

å°è¯•[èŒƒå›´..åœ¨é”ˆ](https://tech.io/snippet/yE8eJCK)çº¿ä¸Šã€‚

ä¸Šé¢çš„ä»£ç å°†è¾“å‡º 1 åˆ° 9ã€‚

å°è¯•[èŒƒå›´..= in Rust](https://tech.io/snippet/6cKeArR) onlineã€‚

ä¸Šé¢çš„ä»£ç å°†è¾“å‡º 1 åˆ° 10ã€‚

# æ•°ç»„ã€å…ƒç»„å’Œå‘é‡

åœ¨ Python ä¸­æˆ‘ä»¬ä½¿ç”¨äº†`dp = [1]*n`ã€‚è¿™å°†åˆ›å»º[1]çš„`n`ä¸ªæ•°å­—ã€‚ä¾‹å¦‚å½“ n=3 æ—¶ï¼Œ`[1, 1, 1]`ã€‚

è®©æˆ‘ä»¬çœ‹çœ‹ Rust ä¸­çš„æ•°ç»„ã€å…ƒç»„æˆ–å‘é‡ä¸­å“ªä¸€ä¸ªå¯ä»¥ç”¨äºæ­¤ç›®çš„ã€‚

**é˜µåˆ—**

[æ•°ç»„](https://doc.rust-lang.org/book/ch03-02-data-types.html#the-array-type)å¿…é¡»æœ‰**åŒç±»å‹å®šé•¿**ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°ç»„æ˜¯ä¸å¯å˜çš„ï¼Œæˆ‘ä»¬ä¸èƒ½ç”¨`**mut**` æ¥æ”¹å˜å®ƒçš„å…ƒç´ ã€‚

åœ¨çº¿è¯•ç”¨[é”ˆé˜µ](https://tech.io/snippet/2iUgNLo)ã€‚

è¾“å‡º:

```
one: 1, b: [4, 5, 6], c: [1, 1, 1, 1, 1], d: [1, 1, 1, 1, 1]
```

æˆ‘ä»¬ä¹Ÿ**ä¸èƒ½**åŠ¨æ€è®¾ç½®æ•°ç»„é•¿åº¦ã€‚å› ä¸ºæ•°ç»„çš„é•¿åº¦*æ˜¯åœ¨ç¼–è¯‘æ—¶*å®šä¹‰çš„ã€‚å˜é‡åœ¨ç¼–è¯‘æ—¶æ˜¯æœªçŸ¥çš„ï¼Œå› ä¸ºå®ƒå¯ä»¥*æ”¹å˜*ã€‚ç¼–è¯‘å™¨ä¸çŸ¥é“åœ¨å †æ ˆä¸Šåˆ†é…å¤šå°‘ç©ºé—´æ¥ä¸ºæ•°ç»„æä¾›å­˜å‚¨ã€‚

å¦‚æœä½ è¯•å›¾åœ¨æ²¡æœ‰`[{:?}](https://doc.rust-lang.org/std/fmt/index.html)`çš„æƒ…å†µä¸‹æ‰“å°ï¼Œä½ å°†ä¼šå¤±è´¥ã€‚æˆ‘ä»¬ä¸èƒ½ç”¨é»˜è®¤æ ¼å¼åŒ–ç¨‹åºæ ¼å¼åŒ–æ•°ç»„ã€‚æ‰€æœ‰ Rust æ•°æ®ç±»å‹éƒ½å®ç°äº†`Debug`ç‰¹å¾ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`{:?}`æ¥æ ¼å¼åŒ–å®ƒå¹¶æ‰“å°ä¸€ä¸ªæ•°ç»„ã€‚

æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½åœ¨è¿™é‡Œä½¿ç”¨æ•°ç»„ã€‚

**å…ƒç»„**

[å…ƒç»„](https://doc.rust-lang.org/book/ch03-02-data-types.html#the-tuple-type)å¯ä»¥æœ‰**ä¸åŒçš„ç±»å‹ï¼Œå¹¶ä¸”æœ‰å›ºå®šçš„é•¿åº¦**ã€‚

```
let tup: (i32, f64, u8) = (100, 2.32, 4);
```

ä¸ºäº†ä»å…ƒç»„ä¸­è·å–å•ä¸ªå€¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…æ¥ææ„å…ƒç»„å€¼ã€‚

åœ¨çº¿è¯•è¯•[é”ˆå…ƒç»„](https://tech.io/snippet/3bfkQfa)ã€‚

è¾“å‡º:

```
x = 500, y = 6.2, z = 4
1
```

åŒæ ·ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨å…ƒç»„ï¼Œå› ä¸ºå®ƒä»¬å¿…é¡»æœ‰å›ºå®šçš„é•¿åº¦**ã€‚**

****çŸ¢é‡****

**Rust [å‘é‡](https://doc.rust-lang.org/std/vec/struct.Vec.html)åœ¨å†…å­˜ä¸­å­˜å‚¨å¤šä¸ªç›¸é‚»çš„å€¼ã€‚å‘é‡å­˜å‚¨ç›¸åŒç±»å‹çš„å€¼ã€‚**

> **å…·æœ‰å †åˆ†é…å†…å®¹çš„è¿ç»­å¯å¢é•¿æ•°ç»„ç±»å‹ã€‚â€”â€”[doc.rust-lang.org](https://doc.rust-lang.org/std/vec/index.html)**

**`vec!`å®åˆ›å»ºä¸€ä¸ªæ–°çš„å‘é‡ï¼Œä¿å­˜æ‚¨ç»™å®ƒçš„å€¼ã€‚**

```
let v = vec![1, 1, 1];
// this is the same as above
let u = vec![1; 3];
```

**ä¸€ä¸ªå‘é‡å°±åƒä¸€ä¸ªå¯è°ƒæ•´å¤§å°çš„æ•°ç»„ï¼Œä½†æ˜¯æ‰€æœ‰çš„å…ƒç´ å¿…é¡»æ˜¯åŒä¸€ç±»å‹ã€‚**

**æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ª[å‘é‡](https://doc.rust-lang.org/std/vec/struct.Vec.html)ã€‚**

```
dpm = vec![1; m as usize];
dpn = vec![1; n as usize];
```

# **ä½œä¸ºå…³é”®å­—**

**ç¬¬äºŒä¸ªæ•°å­—ï¼Œé•¿åº¦ï¼Œåœ¨`vec![1; 3]`ä¸­éœ€è¦æ˜¯`[**usize**](https://doc.rust-lang.org/std/primitive.usize.html)`ç±»å‹ã€‚æˆ‘ä»¬å°†`**m**`å’Œ`**n**`æ ‡æ³¨ä¸º`**i32**` ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`**as**`å…³é”®å­—æ¥è½¬æ¢ç±»å‹ã€‚æˆ‘ä»¬å¯ä»¥åªä½¿ç”¨`as`è¡¨è¾¾å¼åœ¨åŸå§‹ç±»å‹ä¹‹é—´è½¬æ¢ã€‚**

> **æœ€å¸¸ç”¨äºå°†åŸºå…ƒç±»å‹è½¬æ¢ä¸ºå…¶ä»–åŸºå…ƒç±»å‹ã€‚â€”â€”[é²æ–¯ç‰¹éƒåšå£«](https://doc.rust-lang.org/std/keyword.as.html)**

**`**vectors**`æœ‰ä¸€ä¸ªæ–¹æ³•`[**len**](https://doc.rust-lang.org/std/vec/struct.Vec.html#method.len)`è¿”å›å‘é‡ä¸­å…ƒç´ çš„æ•°é‡ã€‚**

# **æœ€ç»ˆä»£ç **

**æˆ‘ä»¬ä½¿ç”¨ä¸Šè¿°æ‰€æœ‰ä»£ç æ¥è·å¾—å”¯ä¸€è·¯å¾„çš„æ•°é‡ã€‚**

**åœ¨çº¿å°è¯•[Rust](https://tech.io/snippet/qyCu9nb)çš„æœ€åä¸€æ­¥ã€‚**

**ä½ å¯èƒ½æ³¨æ„åˆ°äº†`#[allow(unused_variables)]`ã€‚æ²¡æœ‰å®ƒä¹Ÿèƒ½å·¥ä½œï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä¼šç»™ä½ ä¸€ä¸ªè­¦å‘Š:**

```
warning: unused variable: `i`
  --> main.rs" data-line="11" data-column="13">main.rs:11:13
   |
11 |         for i in 1..dpm.len() {
   |             ^ help: if this is intentional, prefix it with an underscore: `_i`
   |
   = note: `#[warn(unused_variables)]` on by default

warning: 1 warning emitted
```

**ä¸ºäº†æ¶ˆé™¤è¿™ä¸ªè­¦å‘Šï¼Œæˆ‘ä»¬æ·»åŠ äº†`#[allow(unused_variables)]`ã€‚**

**ç¨åæˆ‘ä»¬å°†çœ‹åˆ° LeetCode çš„æœ€ç»ˆä»£ç ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å¯¹è¿™æ®µä»£ç è¿›è¡Œäº†æ›´æ·±å…¥çš„ç ”ç©¶ã€‚**

# **ç»“æ„å’Œå®ç°**

**æˆ‘ä»¬å°†å¯¹ä¸Šè¿°è§£å†³æ–¹æ¡ˆåº”ç”¨`struct`ã€`impl`å’Œ`trait`ã€‚è¯·æ³¨æ„ï¼Œè¿™åœ¨ LeetCode ä¸Šä¸èµ·ä½œç”¨ã€‚**

**ç»“æ„ç”¨äº**å°†ç›¸å…³å±æ€§**å°è£…æˆä¸€ä¸ªç»Ÿä¸€çš„æ•°æ®ç±»å‹ã€‚ç»“æ„ä¸åŒäºå…¶ä»–è¯­è¨€ä¸­çš„ç±»ã€‚ä¾‹å¦‚ï¼ŒRust çš„ struct ä¸æ”¯æŒç»§æ‰¿ã€‚**

**å…ƒç»„å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯ä½¿ç”¨åƒ`t.0`è¿™æ ·çš„ç´¢å¼•å¹¶è·Ÿè¸ªæ¯ä¸ªéƒ¨åˆ†çš„å«ä¹‰å¹¶ä¸ç®€å•ã€‚**

**Rust *ç»“æ„*åŒ…å«å‘½åå­—æ®µã€‚æˆ‘ä»¬ä½¿ç”¨å…³é”®å­—`struct`å¹¶åœ¨èŠ±æ‹¬å·å†…è®¾ç½®å­—æ®µç±»å‹ã€‚ç»“æ„å°†æ•°æ®å®šä¹‰ä¸ºé”®å€¼å¯¹ã€‚**

```
struct Name_of_struct {
   field1:data_type,
   field2:data_type,
   ...
}
```

**åœ¨çº¿è¯•è¯•[çš„é˜²é”ˆç»“æ„](https://tech.io/snippet/laOPbRf)ã€‚**

****&å­—ç¬¦ä¸²å’Œå­—ç¬¦ä¸²****

**ä½ å¯èƒ½æƒ³çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦`to_string()`ã€‚Rust ä¸»è¦æœ‰ä¸¤ç§ç±»å‹çš„å¼¦:`[&str](https://doc.rust-lang.org/std/primitive.str.html)`å’Œ`[String](https://doc.rust-lang.org/book/ch08-02-strings.html#what-is-a-string)`ã€‚`&str`å«åšâ€˜ä¸²ç‰‡â€™ã€‚å­—ç¬¦ä¸²åˆ‡ç‰‡å…·æœ‰å›ºå®šçš„å¤§å°ï¼Œä¸èƒ½å˜å¼‚ã€‚ä¸€ä¸ª`String`è¢«å­˜å‚¨ä¸ºä¸€ä¸ªçŸ¢é‡ã€‚`String`æ˜¯å †åˆ†é…çš„ï¼Œå¯å¢é•¿çš„ï¼Œå¹¶ä¸”ä¸æ˜¯ç©ºç»ˆæ­¢çš„ã€‚(æ›´å¤šä¿¡æ¯è¯·ç‚¹å‡»[é“¾æ¥](https://medium.com/series/learning-rust-all-about-strings-c7666812d893)ã€‚)**

**`"John"`æ˜¯ä¸€ä¸ª`&str`ï¼Œç”±äºæˆ‘ä»¬åœ¨`struct`ä¸­å°†`first_name`çš„ç±»å‹å®šä¹‰ä¸ºå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨`[to_string](https://doc.rust-lang.org/std/string/trait.ToString.html)`å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚**

**æˆ‘ä»¬å°†**å…³è”å‡½æ•°**æ”¾å…¥`impl`å—ä¸­ã€‚**

**åœ¨çº¿è¯•ç”¨ [Rust impl](https://tech.io/snippet/qATByFz) ã€‚**

****æ–¹æ³•å‚æ•° selfã€& self å’Œ& mut self****

**æˆ‘ä»¬åœ¨`impl Person`ä¸­å¢åŠ äº†ä¸€ä¸ª[æ–¹æ³•](https://doc.rust-lang.org/book/ch05-03-method-syntax.html#method-syntax) `full_name`ã€‚è¯¥å‡½æ•°å°†`&self`ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚å®ƒå¯ä»¥é‡‡ç”¨`self`ã€`&self`æˆ–`&mut self`ä¸­çš„ä¸€ç§ã€‚**

*   **å½“æˆ‘ä»¬æƒ³è¦è¯»å–ç»“æ„ä¸­çš„æ•°æ®ï¼Œè€Œä¸æ˜¯å†™å…¥æ•°æ®æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨`&self`ã€‚**
*   **å½“æˆ‘ä»¬å¸Œæœ›æ–¹æ³•è·å¾—æ‰€æœ‰æƒæ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨`self`ã€‚**
*   **å½“æˆ‘ä»¬æƒ³è®©æ–¹æ³•å†™å…¥æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨`&mut self`ã€‚**

**æˆ‘ä»¬åœ¨`p.full_name()`ä¸­çš„å®ä¾‹æ–¹æ³•ä¸­ä½¿ç”¨ç‚¹è¿ç®—ç¬¦æ¥è®¿é—®è¯¥å­—æ®µã€‚**

**è®©æˆ‘ä»¬å°†`struct`å’Œ`impl`ç”¨äºæˆ‘ä»¬çš„ä»£ç :**

**ä½¿ç”¨ struct å’Œ impl åœ¨çº¿å°è¯•[ã€‚](https://tech.io/snippet/tmTVm01)**

# **ç‰¹ç‚¹**

**[**ç‰¹æ€§**](https://blog.rust-lang.org/2015/05/11/traits.html) ç±»ä¼¼äº OOP è¯­è¨€ä¸­çš„å’Œ**æ¥å£**ã€‚å®ƒä»¬ç”¨äºå®šä¹‰ä¸€ä¸ªç±»å‹å¿…é¡»æä¾›çš„åŠŸèƒ½ã€‚**

**å°è¯•ä½¿ç”¨ trait åœ¨çº¿ç¼–å†™ä»£ç ã€‚**

**æˆ‘ä»¬ç”¨å‡½æ•°`unique_paths`æ·»åŠ äº†ä¸€ä¸ªåä¸º UiquePaths çš„ç‰¹å¾ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨`impl trait-name for struct-name`æ›´æ–°`impl`ã€‚**

**æˆ‘ä»¬ä½¿ç”¨`::`ç¬¦å·åœ¨`main`å‡½æ•°ä¸­å®ä¾‹åŒ–å®ƒã€‚**

**ç°åœ¨æˆ‘ä»¬å®ç°äº†`struct`ã€`impl`å’Œ`trait`ã€‚**

# **è¿è¡Œæ—¶å’Œå†…å­˜ä½¿ç”¨**

**ä»¥ä¸‹è§£å†³æ–¹æ¡ˆé’ˆå¯¹ LeetCode ç¯å¢ƒè¿›è¡Œäº†è°ƒæ•´ã€‚**

```
impl Solution {
    pub fn unique_paths(m: i32, n: i32) -> i32 {
        if m == 1 || n == 1 {
            1
        } else {
            let mut dpm = vec![1; m as usize];
            let mut dpn = vec![1; n as usize];
            for i in 1..dpm.len() {
                for j in 1..dpn.len() {
                    dpn[j] += dpn[j-1];
                }
            }
            *dpn.last().unwrap()
        }   
    }
}
```

**![](img/eaa61a5e9d7f46d2a92e20ec3b94f991.png)**

**é“é”ˆçš„ LeetCode ç»“æœ**

**è¯·æ³¨æ„è¿è¡Œæ—¶é—´ 0 æ¯«ç§’ã€‚Rust æ²¡æœ‰è¿è¡Œæ—¶é—´ã€‚Rust é€‚ç”¨äº**é›¶** - **æˆæœ¬æŠ½è±¡ã€‚ä½ ä¸å¿…ä¸ºæŸäº›å¼ºå¤§çš„æŠ½è±¡æˆ–å®‰å…¨ç‰¹æ€§ä»˜å‡ºé¢å¤–çš„è¿è¡Œæ—¶å¼€é”€ï¼Œè€Œåœ¨å…¶ä»–è¯­è¨€ä¸­ä½ å¿…é¡»ä¸ºæ­¤ä»˜å‡ºè¿è¡Œæ—¶æˆæœ¬ã€‚****

> **â€¦è¿­ä»£å™¨è™½ç„¶æ˜¯ä¸€ç§é«˜çº§æŠ½è±¡ï¼Œä½†ä¼šè¢«ç¼–è¯‘æˆå¤§è‡´ç›¸åŒçš„ä»£ç ï¼Œå°±å¥½åƒæ‚¨è‡ªå·±ç¼–å†™äº†ä½çº§ä»£ç ä¸€æ ·ã€‚è¿­ä»£å™¨æ˜¯ Rust çš„*é›¶æˆæœ¬æŠ½è±¡*ä¹‹ä¸€ï¼Œæˆ‘ä»¬çš„æ„æ€æ˜¯ä½¿ç”¨æŠ½è±¡ä¸ä¼šå¸¦æ¥é¢å¤–çš„è¿è¡Œæ—¶å¼€é”€ã€‚â€” [Rust ç¼–ç¨‹è¯­è¨€](https://doc.rust-lang.org/book/ch13-04-performance.html?highlight=zero-cost,abstractions#comparing-performance-loops-vs-iterators)**

**Rust çš„å†…å­˜ä½¿ç”¨é‡ä¸º 2.1 MBï¼Œè€Œ Python çš„å†…å­˜ä½¿ç”¨é‡ä¸º 13.8 MBã€‚**

**Rust æœ‰ç‹¬ç‰¹çš„ç®¡ç†å †å†…å­˜çš„æ–¹å¼ï¼Œå®ƒä½¿ç”¨ä¸€ä¸ªå«åšæ‰€æœ‰æƒçš„æ¦‚å¿µæ¥ç®¡ç†å®ƒã€‚æˆ‘å»ºè®®æ‚¨æ·±å…¥é˜…è¯» [Rust æ–‡æ¡£](https://doc.rust-lang.org/book/title-page.html)ä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚**

# **ç»“è®º**

**æˆ‘ä»¬æ¥è§¦äº†åŸå§‹æ•°æ®ç±»å‹ã€ç±»å‹æ³¨é‡Šã€å‡½æ•°ã€è¯­å¥ã€è¡¨è¾¾å¼ã€å˜é‡ã€å®ã€if è¯­å¥ã€èŒƒå›´ã€æ•°ç»„ã€å…ƒç»„ã€å‘é‡ã€`struct`ã€`impl`å’Œ`trait`çš„è¡¨é¢ã€‚ä½ å¯ä»¥åœ¨å®˜æ–¹ä¹¦ç±ä¸­æ‰¾åˆ°æ›´å¤šä¿¡æ¯ã€‚**

**æ­£å¦‚æˆ‘ä¹‹å‰æ‰€è¯´ï¼Œæˆ‘ä»ç„¶åœ¨å­¦ä¹ ç”Ÿé”ˆã€‚æˆ‘æ„Ÿè°¢ä¸“å®¶å¯¹å¦‚ä½•æ”¹è¿›è§£å†³æ–¹æ¡ˆçš„åé¦ˆã€‚**

**æˆ‘å¸Œæœ›ä½ å­¦åˆ°äº†ä¸€äº›ä¸œè¥¿ï¼Œå¹¶ä¸ºä¸‹ä¸€æ­¥åšå¥½äº†å‡†å¤‡ã€‚æœ‰è®¸å¤šå…³é”®æ¦‚å¿µæˆ‘ä»¬æ— æ³•åœ¨æœ¬æ–‡ä¸­æ¶µç›–ã€‚è¯·ç»§ç»­å…³æ³¨ä¸‹ä¸€ç¯‡æ–‡ç« ã€‚**

****é€šè¿‡** [**æˆä¸º**](https://blog.codewithshin.com/membership) **çš„ä¼šå‘˜ï¼Œå¯ä»¥å®Œå…¨è®¿é—®åª’ä½“ä¸Šçš„æ¯ä¸€ä¸ªæ•…äº‹ã€‚****

**![](img/0be3ee559fee844cb75615290e4a8b29.png)**

**[https://blog.codewithshin.com/subscribe](https://blog.codewithshin.com/subscribe)**

**[](/unsinged-signed-integers-and-casting-in-rust-9a847bfc398f) [## æ— ç¬¦å·ã€æœ‰ç¬¦å·æ•´æ•°å’Œ Rust ä¸­çš„é€ å‹

### ç†è§£ç¬¦å·å’Œå¹…åº¦ã€ä¸€çš„è¡¥ç å’ŒäºŒçš„è¡¥ç 

towardsdatascience.com](/unsinged-signed-integers-and-casting-in-rust-9a847bfc398f) [](https://medium.com/series/101-rust-tips-8f361510683c) [## å­¦ä¹ ç”Ÿé”ˆ:å¸¸è§æ¦‚å¿µ

### æŸ¥çœ‹æ›´å¤šå…³äº Rust String çš„ä¿¡æ¯ã€‚

medium.com](https://medium.com/series/101-rust-tips-8f361510683c) [](https://medium.com/series/learning-rust-all-about-strings-c7666812d893) [## å­¦ä¹ ç”Ÿé”ˆ:æ‰€æœ‰å…³äºå­—ç¬¦ä¸²

### å­—ç¬¦ä¸²å’Œ&str

medium.com](https://medium.com/series/learning-rust-all-about-strings-c7666812d893)**