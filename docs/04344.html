<html>
<head>
<title>Classifying the position of the football player with Sklearn.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Sklearn 对足球运动员的位置进行分类。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/classifying-the-position-of-the-football-player-based-on-their-performance-statistics-using-fifa-23f317eeb493?source=collection_archive---------35-----------------------#2020-04-19">https://towardsdatascience.com/classifying-the-position-of-the-football-player-based-on-their-performance-statistics-using-fifa-23f317eeb493?source=collection_archive---------35-----------------------#2020-04-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1582" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用 Fifa 18 比赛数据，将足球运动员分类为 CM、ST、CB 和 GK。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9ca8d2c7bdb0734788aa29b4738d537b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*luhp7CCXLk8QXgZU3r5qww.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><strong class="bd kv">来源</strong> : <a class="ae kw" href="https://www.freepik.com/free-photo/crop-athlete-kicking-soccer-ball_2222108.htm#page=1&amp;query=football&amp;position=2" rel="noopener ugc nofollow" target="_blank"> Freepik </a></p></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="d68e" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">感谢‘Aman Shrivastava’分享<a class="ae kw" href="https://www.kaggle.com/thec03u5/fifa-18-demo-player-dataset" rel="noopener ugc nofollow" target="_blank">数据</a>。</p><p id="6906" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们将使用所提供的数据集，该数据集已经过处理并准备就绪。</p><p id="aeec" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ir">用例:</strong>作为一名用户，我有一名球员的统计数据，我想知道这名球员应该打前锋(ST)、中场(CM)、中后卫(CB)还是守门员(GK)。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="27c5" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我用过的数据是 FIFA 2018 比赛中所有球员的属性得分。数据的尺寸是 14045 x 74，但我使用的是专业球员的数据，他们被选择作为前锋、中后卫、中场和门将。经过此筛选后，剩余的数据集有 7587 x 77 个维度。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="2c1f" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ir">数据分析</strong></p><p id="133f" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">当我们检查过滤后的数据时，我们注意到 CM 位置的样本量与其他位置相比较小。这将影响偏向重样本的预测。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ma mb l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/143e00f33116c58f59e513a069d3a0fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*sBzEPHa5CpOn3C2iXZfBOg.png"/></div></figure><p id="3205" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">有些球员根据他们踢的位置而擅长一些技能。举例来说，ST 必须进行更少的铲球，所以他们的铲球能力将低于 CB，反之亦然。</p><p id="7576" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">通过检查变量“PrefPos”的皮尔逊相关性，也分享了这一证据。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi md"><img src="../Images/74d22f68ce9f0bbc82b79a4047bc30bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*pcMtlL12qz-SXHcxGtxhBg.png"/></div></figure><blockquote class="me mf mg"><p id="d405" class="le lf mh lg b lh li jr lj lk ll ju lm mi lo lp lq mj ls lt lu mk lw lx ly lz ij bi translated">为了自己找到相关性，首先使用 cat.codes 方法将 PrefPos 变量更改为 numeric category。</p></blockquote><p id="9394" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">下面的形象化比较了铲球能力和终结能力，但是有一个可变的“年龄”,一个球员是否有可能在早年成为一个糟糕的终结者，随着时间的推移，他的技能会有所提高？</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ma mb l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/3aa032971698dd549d0a541269584901.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*3X3ZaVox06vYsRTZBTT58A.png"/></div></figure><div class="kg kh ki kj gt ab cb"><figure class="mm kk mn mo mp mq mr paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/dac089533bca79ab9d602e5364082273.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*NhjQbGzFOdGNRm5Y8MkFZQ.png"/></div></figure><figure class="mm kk mn mo mp mq mr paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/7e79604f410f95af0c78e19f6f48d653.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*P_fUw0QGkoadNzAFvs484g.png"/></div></figure></div><p id="600a" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">本页底部有一些更有趣的方框图。</p><p id="0290" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ir">培训和测试取样</strong></p><p id="01d6" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们希望通过为具有训练集和测试集的样本创建子群体来创建具有相等样本比率的样本，以避免出现 CM 位置的样本量更少的情况，然后我们选择并分配变量['PrefPos']作为目标。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="d06d" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ir">训练模型和预测</strong></p><p id="7d11" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">因为我们的目标是多类分类，所以 sklearn 提供了一些选项。我使用 SGD 分类器，因为它本身能够处理多类，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="716a" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">让我们在训练好的模型上拟合测试集，并得到预测</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ma mb l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/e0de8b8abcc71937bab1e9233bcc3823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*3OvwVSrug1KlBQQbAsXNjA.png"/></div></figure><p id="1242" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ir">交叉验证和准确性</strong></p><p id="008d" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">显然，目前我们得到了 42%的总体精度，但正如我们在上面检查的那样，该精度因位置而异，CM 位置的精度远低于 42%。</p><p id="e66b" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ir">多类混淆矩阵</strong></p><div class="kg kh ki kj gt ab cb"><figure class="mm kk mt mo mp mq mr paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/38698c0f458b7989e378aaaaca91af44.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*UyZS6Zy_sQsU8mObbfYw5A.jpeg"/></div></figure><figure class="mm kk mt mo mp mq mr paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/f5853452d5dc2d3d382c08bb31dff2bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*dlwoonq3BPmFXCatTWXmnA.jpeg"/></div></figure><figure class="mm kk mt mo mp mq mr paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/d55ebcce076e95e5d3896a693d13e5a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*2UHNqVp6_F0JJzk9NYO_Lg.jpeg"/></div></figure></div><p id="0ae3" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们现在来看看错误率。</p><div class="kg kh ki kj gt ab cb"><figure class="mm kk mt mo mp mq mr paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/0682cfce6f7d279a6c5ada07fab73f54.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*tuDwnvEg69xodo0XkRa4GA.jpeg"/></div></figure><figure class="mm kk mt mo mp mq mr paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/1fa778dfbee4c9b4b3b6dcb1be6a99da.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*aHWb7prx4C2WrGitDTAmHg.jpeg"/></div></figure><figure class="mm kk mt mo mp mq mr paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/6e92290d40447a2c997fe7afda825575.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*a-xVaRszFsZkbpltC3qn6Q.jpeg"/></div></figure></div><p id="bfb2" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ir">结论:</strong></p><p id="6b59" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">对模型的初步检验表明，在根据运动员的表现对他们进行分类的情况下，有机会进一步改进模型的性能。有机会做进一步的特征工程，并使用深度学习算法来进一步提高模型的性能。</p><p id="d46f" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">完整代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="8593" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">从<a class="ae kw" href="https://gist.github.com/alaizaz/1d33bfb172cb7efa33204fc1a6b74747.js" rel="noopener ugc nofollow" target="_blank">这里</a>下载数据。</p><p id="fee9" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我还研究了年龄对专业运动员某些技能的影响，结果如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/5e5c9ff5efa53c0883fb23ea39bd83ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ekojemvFcGC-ocD1aic6Dg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">ST 平均具有较好的整理能力，并随着年龄的增长而提高</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/3e2f52d669db2ec0355215d4e134fc77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SDJGa-iGR2rEzzBxwDSbwA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">反应是任何运动的一个必要方面，但 CM 往往略胜一筹。</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/345da2d774e847babf9ca6986fb7d003.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KKFnjzAaa3aMYW0BQ-5IyQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">CBs 擅长滑铲。</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/6fecd8d3b836fc0fd4252ecadf57a9fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_UdoEwBMe_7P9sJv9RXqMQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">受年龄影响的一个属性是冲刺速度。</p></figure><p id="f33b" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">感谢您的阅读，我打算在下一篇博客中讨论初级强化学习。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="780c" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ir">数据来源:</strong>再次特别感谢 Aman Shrivastava 分享<a class="ae kw" href="https://www.kaggle.com/thec03u5/fifa-18-demo-player-dataset" rel="noopener ugc nofollow" target="_blank">数据</a>。</p></div></div>    
</body>
</html>