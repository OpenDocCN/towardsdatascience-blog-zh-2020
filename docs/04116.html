<html>
<head>
<title>Build a Simple Web App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建简单的Web应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/build-a-simple-web-app-with-github-pages-flask-and-heroku-bcb2dacc8331?source=collection_archive---------20-----------------------#2020-04-15">https://towardsdatascience.com/build-a-simple-web-app-with-github-pages-flask-and-heroku-bcb2dacc8331?source=collection_archive---------20-----------------------#2020-04-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2818" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用免费的智能框架，如Flask和Heroku</h2></div><p id="eb77" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为一名技术专家和数据科学家，我从逻辑学家的角度看待日常任务。无论我是在企业范围内从事复杂的项目，还是在家做琐碎的家务，我都发现自己<em class="le">幻想着</em>能够优雅而高效地管理我的工作流程的自动化解决方案。由于新冠肺炎的激增，我们中的许多人都是WFH，专业和个人责任的冲突使我们的日常工作变得错综复杂，没有比现在更好的时机来自动化任务并将这些解决方案部署到web上。先说简单的吧！</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/c38fd3463d777ba903dd56c093aab28c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ZxXKzRp0iQTiPW9rcAZEA.jpeg"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">来源:<a class="ae lv" href="https://unsplash.com/@beccatapert" rel="noopener ugc nofollow" target="_blank"> beccatapert </a>经<a class="ae lv" href="https://unsplash.com/photos/QofjUnxy9LY" rel="noopener ugc nofollow" target="_blank"> unsplash </a> (CC0)</p></figure><p id="c69d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就像你们中的许多人被困在家里一样，我一直拼命想了解新冠肺炎的最新动态。大量的实证新闻文章和创造性的应对机制在我的收件箱和新闻订阅中快速掠过。一个共同的线索？耐心越来越少！和我们爱的人一起被隔离(或者更糟，被单独隔离)加剧了那些我们通常可以置之度外的小气恼和怨恨。让我家每个人都不爽的事情是每周准备晚餐。</p><p id="1d47" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了每个人的理智，我决定将每周的膳食准备民主化，并简化这个过程。与其在周末花太多时间浏览互联网，从众多流行的在线资料库中选择食谱，与我可爱但挑剔的家人争论/讨价还价，比较配料/说明以最大限度地节省时间和金钱…</p><p id="7af5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi">🤦‍</p><p id="9b5b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">…我们现在只需将我们最喜欢的食谱汇总到一个由GitHub Pages托管并通过Flask和Heroku部署的<strong class="kk iu">易用、响应迅速的在线应用程序中。</strong>它超级简单，可以创造性地应用于你和你的检疫同伴争吵的任何数量的艰巨任务。看一看成品:</p><div class="lw lx gp gr ly lz"><a href="https://garretteichhorn.github.io/recipe_generator/" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">完美应用</h2><div class="mg l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">garretteichhorn.github.io</p></div></div></div></a></div><h1 id="0c8b" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">步骤:</h1><ul class=""><li id="e4a8" class="mz na it kk b kl nb ko nc kr nd kv ne kz nf ld ng nh ni nj bi translated">用<a class="ae lv" href="https://pypi.org/project/beautifulsoup4/" rel="noopener ugc nofollow" target="_blank"> BeautifulSoup </a>和<a class="ae lv" href="https://pypi.org/project/splinter/" rel="noopener ugc nofollow" target="_blank"> Splinter </a>从一些你喜欢的在线供应商那里搜集食谱。在深入研究之前，一定要温习一些网上搜集的法律理论。</li><li id="2c3c" class="mz na it kk b kl nk ko nl kr nm kv nn kz no ld ng nh ni nj bi translated">创建一个定制的搜索引擎来返回相关的食谱。</li><li id="f722" class="mz na it kk b kl nk ko nl kr nm kv nn kz no ld ng nh ni nj bi translated">用HTML和Javascript (CSS可选)搭建一个简单的前端网站，用GitHub页面托管。</li><li id="6965" class="mz na it kk b kl nk ko nl kr nm kv nn kz no ld ng nh ni nj bi translated">使用<a class="ae lv" href="https://flask.palletsprojects.com/en/1.1.x/" rel="noopener ugc nofollow" target="_blank"> Flask </a>通过API访问您的食谱，这是一个用Python编写的出色的微型网络框架。</li><li id="aafb" class="mz na it kk b kl nk ko nl kr nm kv nn kz no ld ng nh ni nj bi translated">使用Heroku来托管您的API，而不是使用本地主机资源。</li></ul><h1 id="4b6c" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">网页抓取:</h1><p id="7088" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr np kt ku kv nq kx ky kz nr lb lc ld im bi translated"><strong class="kk iu"> BeautifulSoup </strong>和<strong class="kk iu"> Splinter </strong>让我们可以轻松地遍历网页，提取我们需要的数据。每个网站都有一个DOM，它是一棵树，其结构由嵌套的标签定义。Beautiful Soup浏览这棵树，然后将它转换成一个专门化的对象，该对象配备了强大的方法来遍历和搜索HTML中的属性、文本等。Splinter是一个使用Python测试web应用程序的开源工具。它让你自动化浏览器的动作，比如访问URL和与它们的项目交互。</p><p id="0b8e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">半生不熟的收获是我最喜欢的健康美味食谱的地方之一。看一下下面的代码，通过网站迭代提取相关的数据，如配料、说明、图像等！</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="539e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过检查HTML，我们可以很容易地为其他食谱网站复制这一点。对于我构建的应用程序，我从其他几个菜谱存储库中收集菜谱，创建一个以JSON格式存储的菜谱数据的自定义数据库。</p><h1 id="066f" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">搜索引擎</h1><p id="3b81" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr np kt ku kv nq kx ky kz nr lb lc ld im bi translated">在搜集了所有这些精彩的食谱数据之后，我们需要某种方法来只提取相关的信息。我们<em class="le">可以</em>使用基本的比较操作符来检查文本中的搜索词，但是这有什么意思呢？另外，简单地检查食谱标题是否包含“鸡肉”有一些严重的局限性。</p><p id="07b1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">相反，我们可以构建一个<strong class="kk iu">搜索引擎</strong>来返回按相关性排序的食谱。使用一点数学知识，我们可以利用<a class="ae lv" href="https://scikit-learn.org" rel="noopener ugc nofollow" target="_blank"> scikit-learn </a>来清理、标记和构建一个加权矩阵，以将输入搜索词与一个文本字符串相关联。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="9b2f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有很多方法可以使用这个强大的工具！我们可以发挥创意，只返回余弦相似度超过特定阈值的食谱。根据食谱数据库的大小，我们可能希望将所有相关的食谱作为一个解析的数组返回，然后使用另一个搜索词进行迭代。对于这个应用程序，我只是返回所有搜索项相似度&gt; 0的食谱，并让我的随机函数选择一个。</p><h1 id="602f" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">GitHub Pages托管的前端</h1><p id="10c3" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr np kt ku kv nq kx ky kz nr lb lc ld im bi translated">尽管我们能够使用python来获取食谱，并基于搜索词返回相关选项，但这种功能对于我这个不懂技术的家庭来说还无法使用。我需要使用一个简单的界面，要求一个搜索词，并显示食谱图像，配料和说明。我们将转向<strong class="kk iu"> HTML </strong>和<strong class="kk iu"> JavaScript </strong>来完成繁重的工作。</p><p id="6a53" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">声明:我非常尊重网页开发者！有一些非常棒的开源前端框架，可以帮助你建立快速响应的网站。我更喜欢<a class="ae lv" href="https://getbootstrap.com" rel="noopener ugc nofollow" target="_blank">引导</a>和<a class="ae lv" href="https://d3js.org" rel="noopener ugc nofollow" target="_blank"> D3 </a>来实现高效部署。</p><p id="9e47" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">GitHub有一个令人惊叹的网站托管服务，叫做<a class="ae lv" href="https://guides.github.com/features/pages/" rel="noopener ugc nofollow" target="_blank"> GitHub Pages </a>。你可以看看下面我的知识库，它使用GitHub Pages和JavaScript来构建HTML(带有嵌入式样式)和显示食谱数据。</p><div class="lw lx gp gr ly lz"><a href="https://github.com/GarrettEichhorn/recipe_generator.git" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">GarrettEichhorn/配方生成器</h2><div class="nu l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">这个应用程序的创建是为了让周日的膳食计划更容易！穿越…的日子一去不复返了</h3></div><div class="mg l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">github.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa lp lz"/></div></div></a></div><h1 id="3c11" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">用Flask构建一个API</h1><p id="c4a7" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr np kt ku kv nq kx ky kz nr lb lc ld im bi translated">接下来呢？我们有JSON格式的所有这些精彩的食谱数据，一个用python编写的搜索引擎来帮助我们提取相关选项，还有一个简单的网站，对我的家人来说非常容易使用。为了让这些组件相互交互，我们需要使用一个应用程序编程接口。web API允许其他程序通过互联网操纵信息或功能。</p><p id="8551" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们欢迎烧瓶参加派对！！！Flask将HTTP请求映射到Python函数，允许我们基于端点运行特定的代码。当我们连接到位于<a class="ae lv" href="http://127.0.0.1:5000/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:5000/ </a>的Flask服务器时，Flask会检查所提供的路径和定义的函数之间是否匹配。我们将使用Flask来处理一个输入搜索查询，作为运行我们之前定义的搜索引擎功能的给定端点。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="eeac" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以发送…</p><pre class="lg lh li lj gt ob oc od oe aw of bi"><span id="427e" class="og mi it oc b gy oh oi l oj ok"><a class="ae lv" href="http://127.0.0.1:5000/chicken" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:5000/chicken</a></span></pre><p id="b2cc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">…让flask将“鸡肉”作为return_relevant_recipes()函数的参数进行处理。太棒了。</p><h1 id="3116" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">部署到Heroku</h1><p id="bc68" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr np kt ku kv nq kx ky kz nr lb lc ld im bi translated">最后，我们需要使用<strong class="kk iu"> Gunicorn </strong>将API部署到<strong class="kk iu"> Heroku </strong>上，这样我们就不需要依赖本地主机资源让用户访问搜索引擎功能。Heroku是一个云平台即服务，支持我们在这个项目中使用的几种编程语言。很喜欢这个<a class="ae lv" href="https://medium.com/the-andela-way/deploying-a-python-flask-app-to-heroku-41250bda27d0" rel="noopener">教程</a>快速设置必要的需求(Procfile，requirements.txt，git connection等。)我们需要部署到Heroku。Gunicorn是一个高性能的web服务器，可以在生产环境中运行Flask应用程序。</p><p id="f1ef" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦您有效地部署了API，您将更新JavaScript代码，将一个搜索词作为端点发送到<a class="ae lv" href="https://reciperfect.herokuapp.com" rel="noopener ugc nofollow" target="_blank">https://reciperfect.herokuapp.com</a>而不是您的本地主机。就这么简单。</p><h1 id="8990" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">结论</h1><p id="5de8" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr np kt ku kv nq kx ky kz nr lb lc ld im bi translated">本文概述了使用几种流行的开源工具和框架来自动化艰巨任务的必要组件。发挥创造力！在我的家人转而使用我的应用程序之前，每周做饭是一件非常棘手的事情，我们没有回头看！当我们对目前的食谱感到厌倦时，我需要做的就是再刮一些。你可以用这个纲要来自动化许多平凡的杂务，让新冠肺炎的生活稍微轻松一点。</p><p id="5e20" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我的公开回购可以在<a class="ae lv" href="https://github.com/GarrettEichhorn/recipe_generator" rel="noopener ugc nofollow" target="_blank">这里</a>找到。感谢阅读！</p></div></div>    
</body>
</html>