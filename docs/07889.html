<html>
<head>
<title>Testing Your Database</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">测试您的数据库</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/testing-your-database-a0eee0d44115?source=collection_archive---------50-----------------------#2020-06-11">https://towardsdatascience.com/testing-your-database-a0eee0d44115?source=collection_archive---------50-----------------------#2020-06-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="629d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">数据库过程测试的检查点概要</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/712112cf95e717846985c34a472ed289.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yCaU3bc52TX-dge7"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">格伦·卡斯滕斯-彼得斯在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="0a50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论在哪个行业，数据库测试都是任何数据系统实现的重要组成部分。实现一个供各种角色的员工日常交互的数据库，要求所有存储和检索的数据(无论是通过SQL查询还是某种UI)都是准确的，否则数据库本身就毫无价值。创建数据库后，对其进行功能测试以确保应用程序的健壮性是至关重要的。测试将确保模式、表、触发器和数据完整性本身都是一致的，并且每个操作都是有效的。</p><p id="8c80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">主要有三种类型的数据库测试:</p><ul class=""><li id="b9b9" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">结构测试</li><li id="b1e5" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">功能测试</li><li id="04c3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">非功能测试</li></ul><h1 id="f317" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">结构测试</h1><p id="9b80" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">验证数据存储库中主要不是供最终用户使用的所有元素。这一步涉及数据库组件，如服务器和其他数据存储组件，如列测试、模式测试、存储过程/视图测试和触发器测试。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/c375024f3fd68ff62fa6852e3c5eaa2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jzpx1YHjONJbKAPv"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@alain_pham?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">阿兰·范</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h2 id="31af" class="nh mk it bd ml ni nj dn mp nk nl dp mt li nm nn mv lm no np mx lq nq nr mz ns bi translated">模式测试(映射测试)</h2><p id="d26f" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">模式本质上是我们数据库的映射，它为实际的查询过程提供了重要的指导，使我们能够获取准确的数据。模式测试将允许我们确保应用程序的后端和前端的模式映射是相似的。</p><p id="97a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当进行模式测试时，我们必须确保:</p><ul class=""><li id="0401" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">模式已经过验证—表的映射格式必须与最终用户界面的映射格式兼容。</li><li id="643c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如果一个环境包含多个数据库，这些数据库需要与应用程序的整体映射保持一致</li><li id="5750" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">SQL Server允许测试人员通过简单和独立的查询来查询数据库的模式。</li></ul><p id="db72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">示例:</strong>如果我们有一个包含一组表的模式，那么对单个表的结构所做的更改应该有效地适应所有依赖于该更改后的表的结果查询。</p><h2 id="68bc" class="nh mk it bd ml ni nj dn mp nk nl dp mt li nm nn mv lm no np mx lq nq nr mz ns bi translated">数据库/列测试</h2><p id="858f" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">在这个测试步骤中，我们必须验证数据库及其特性列的结构是一致的。</p><ul class=""><li id="82b6" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">字段长度和命名约定必须在应用程序的所有级别(后端和用户界面)上匹配</li><li id="03b8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">必须考虑任何未使用或未映射的表和列，并验证它们的存在</li><li id="4957" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">应用程序后端的数据类型和数据长度必须能够为最终用户提供高效、正确的摘要视图</li><li id="29f3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">必须适应用户的输入文档——换句话说，应用程序必须能够支持用户的业务规范</li><li id="ccd1" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">必须根据域要求定义主键和外键，并且必须包含在各自的表中(此外，必须考虑到键的任何唯一或非空特征)</li></ul><h2 id="7001" class="nh mk it bd ml ni nj dn mp nk nl dp mt li nm nn mv lm no np mx lq nq nr mz ns bi translated">触发测试</h2><p id="cd67" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">当你想到“触发”时，想想连锁反应。触发测试确保数据库代码的过程流正常工作，没有错误。</p><ul class=""><li id="9e8d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">遵循标准编程编码标准</li><li id="a6a6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">执行的触发器匹配所需的条件</li><li id="65fd" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">触发器应该正确地更新数据(更新、插入、删除等)。)</li></ul><h2 id="ae57" class="nh mk it bd ml ni nj dn mp nk nl dp mt li nm nn mv lm no np mx lq nq nr mz ns bi translated">数据库服务器检查</h2><p id="5f58" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">这些测试都围绕着主机服务器管理它将收到的请求的能力。</p><ul class=""><li id="b1a9" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">每个业务域的预期事务数量将由服务器提供</li><li id="2841" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">必须根据业务需求维护用户授权标准</li></ul><h2 id="0323" class="nh mk it bd ml ni nj dn mp nk nl dp mt li nm nn mv lm no np mx lq nq nr mz ns bi translated">存储过程和视图</h2><p id="f504" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">这个步骤本质上验证了当用户执行查询或界面请求时，将为用户检索并显示正确的结果。</p><ul class=""><li id="fa3b" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">异常/错误得到正确处理，不会破坏系统</li><li id="fc3b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">遵循传统的编码标准</li><li id="ceaf" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">接受任何条件或循环(输入数据通过并被接受)</li><li id="23d1" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">任何未使用的过程都被考虑在内</li><li id="edcc" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">验证存储过程模块是否正常工作，并在数据库中流动</li></ul><h1 id="7967" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">功能测试</h1><p id="8252" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">这个测试点要求最终用户将要执行的任何和所有交易或操作与业务的任何要求一致，并且它们都可以被有效和准确地执行。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/79a28a24bd59c5bd373f3a0359a4bd80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MZ_VfC6Aoa8FOYOx"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卢卡·布拉沃在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><ul class=""><li id="0e9a" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">字段必须声明为强制的，也可以不声明，并且可以处理潜在的空值</li><li id="ec82" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">每个字段的长度必须是适当的大小</li><li id="15a9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">所有表中的字段标题必须相同，以避免查询时混淆</li></ul><h2 id="7463" class="nh mk it bd ml ni nj dn mp nk nl dp mt li nm nn mv lm no np mx lq nq nr mz ns bi translated">黑箱测试</h2><p id="7df1" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">这种类型的测试需要验证数据库集成以检查功能。这些测试将验证来自用户的数据以及该功能产生的任何数据的完整性。一些黑盒测试的例子:</p><ul class=""><li id="487b" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">因果图</li><li id="4564" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">等价划分</li><li id="f4ee" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">边界值分析</li></ul><h2 id="e78c" class="nh mk it bd ml ni nj dn mp nk nl dp mt li nm nn mv lm no np mx lq nq nr mz ns bi translated">白盒测试</h2><p id="067e" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">这些测试集中于用户看不到的数据库内部结构。数据库中的模块与触发器、视图和一些查询一起被强调。数据库中的表、模式和模型将使用默认表值进行验证，以验证整个数据库的一致性。在这个过程中，代码中的bug和其他错误通常会被发现和协调。白盒测试的一些例子:</p><ul class=""><li id="89c6" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">条件覆盖</li><li id="4ce3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">决策覆盖</li><li id="b618" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">报表覆盖范围</li></ul><h1 id="07db" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">非功能测试</h1><p id="f533" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">非功能测试本质上是我们数据库的性能测试。完成这些测试是为了符合业务需求，这将有助于了解实际结果是否与预期结果一致。在这一步中，要考虑压力条件下的反应时间等因素。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/fedc76785a02c980da1a161f71374dea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Mm3XEVZB6AvwV1zw"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">阿洛拉·格里菲斯在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="744b" class="nh mk it bd ml ni nj dn mp nk nl dp mt li nm nn mv lm no np mx lq nq nr mz ns bi translated"><strong class="ak">负载测试</strong></h2><p id="3289" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">这种类型的测试将检查是否有任何正在运行的事务对数据库的整体性能有影响。</p><ul class=""><li id="bbf3" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">多个最终用户一次执行一个事务的响应时间应该同样一致</li><li id="ff45" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">系统中最重要的功能应该进行最多的测试</li><li id="774d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">应包含可编辑的事务，以区别于不可编辑的事务</li><li id="2d09" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">应注意最佳响应时间</li></ul><p id="235a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">负载测试的示例:</p><ul class=""><li id="08aa" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">一遍又一遍地运行一个非常常见的查询事务，以确保一致性</li><li id="af13" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">从外部来源添加大量数据</li><li id="6f46" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在同一台计算机或服务器上同时运行多个应用程序，以确保应用程序不受影响</li></ul><h2 id="bfcb" class="nh mk it bd ml ni nj dn mp nk nl dp mt li nm nn mv lm no np mx lq nq nr mz ns bi translated">压力测试</h2><p id="6899" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">在压力测试中，我们试图让应用程序的工作负载过载，以确定故障点(断点<strong class="lb iu">)</strong>。然后，可以针对这些要点进行改进，或者向最终用户突出显示。通常，会使用第三方压力测试工具。</p><p id="49c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果建议一个ERP应用程序在任何给定时间最多接受20，000个用户，压力测试人员将逐渐增加工作负载，使其超过最大值，以确定应用程序在哪个点开始出现故障。在为最终用户组织文档时，可以考虑这些基准。</p><h1 id="d324" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">包扎</h1><p id="9277" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">执行数据库测试的方法有很多，通常公司会让员工单独负责测试数据。理解和使用这些过程将允许任何数据用户创建和使用健壮的数据库应用程序，满足业务和最终用户的所有功能需求。</p></div></div>    
</body>
</html>