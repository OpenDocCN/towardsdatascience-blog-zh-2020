<html>
<head>
<title>A Quick Guide to Relational Algebra Operators in DBMS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DBMS 中关系代数运算符的快速指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-quick-guide-to-relational-algebra-operators-in-dbms-1ff2ddecaad7?source=collection_archive---------2-----------------------#2020-03-15">https://towardsdatascience.com/a-quick-guide-to-relational-algebra-operators-in-dbms-1ff2ddecaad7?source=collection_archive---------2-----------------------#2020-03-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="960d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">带有示例的关系代数运算符快速介绍</h2></div><p id="aaf6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据库管理系统(DBMS)必须有一种查询语言，以便用户可以访问存储在数据库中的数据。<strong class="kk iu">关系代数(RA) </strong>被认为是一种<em class="le">过程查询语言</em>，用户在其中告诉系统执行一组操作以获得期望的结果。即用户告诉应该从数据库中检索什么数据以及如何检索。在本文中，我将简要介绍关系代数，并通过示例和 PostgreSQL 命令完成一些操作。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/d258459e2a34478edc5a4be4e7cd4655.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mo7B0h9PHYGmwaJ1ouUl8g.png"/></div></div></figure><h1 id="6189" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">什么是关系代数？</h1><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mj"><img src="../Images/33da98122f0e04dbda1fe9a808ef864b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q6tEXggAujsKX0FqhZQoIw.png"/></div></div><p class="mk ml gj gh gi mm mn bd b be z dk translated">图一。关于关系数据库的基本术语</p></figure><p id="c26c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">根据<a class="ae mo" href="https://en.wikipedia.org/wiki/Relational_algebra" rel="noopener ugc nofollow" target="_blank">维基百科</a>，</p><blockquote class="mp"><p id="722a" class="mq mr it bd ms mt mu mv mw mx my ld dk translated">关系代数是一个代数家族，具有良好的语义，用于对存储在关系数据库中的数据进行建模，并在其上定义查询。</p></blockquote><p id="a6ba" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">RA 为关系数据库提供了理论基础。我假设您知道关系数据库中使用的基本术语。现在注意术语<strong class="kk iu">关系</strong>、<strong class="kk iu">属性</strong>和<strong class="kk iu">元组</strong>，如图 1 所示。</p><p id="6409" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将介绍以下 RA 运算符。</p><ol class=""><li id="d8b8" class="ne nf it kk b kl km ko kp kr ng kv nh kz ni ld nj nk nl nm bi translated">推断</li><li id="000f" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">选择</li><li id="82fa" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">重新命名</li><li id="6211" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">叉积</li><li id="bf96" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">自然连接</li><li id="6a20" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">条件连接</li><li id="7007" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">联盟</li><li id="1e73" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">交集</li><li id="2fd0" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">集合差异</li></ol><p id="6563" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将考虑以下 3 个表作为示例来解释这些 RA 操作。我们有一个<strong class="kk iu">会员</strong>表(会员详情)<strong class="kk iu">图书</strong>表(图书详情)<strong class="kk iu">借阅</strong>表(借阅图书详情)。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ns"><img src="../Images/d81fc8c9c5416907feab49f35f9f08e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0OyX0b7yj516YRZ0Qkr5Dw.png"/></div></div><p class="mk ml gj gh gi mm mn bd b be z dk translated">图二。三个示例关系</p></figure><h1 id="277a" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">1.投影(π)</h1><p id="2331" class="pw-post-body-paragraph ki kj it kk b kl nt ju kn ko nu jx kq kr nv kt ku kv nw kx ky kz nx lb lc ld im bi translated">投影用于从关系中选择所需的数据列。请注意，投影会删除重复的数据(元组)。</p><blockquote class="ny nz oa"><p id="0160" class="ki kj le kk b kl km ju kn ko kp jx kq ob ks kt ku oc kw kx ky od la lb lc ld im bi translated"><strong class="kk iu">查询:</strong>借书会员的会员 id。</p></blockquote><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oe"><img src="../Images/6dad1c90ea14683bbe7b2a144e4ed3a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wkOHHndu-7R3_5lqoYieCQ.png"/></div></div></figure><blockquote class="ny nz oa"><p id="8bc9" class="ki kj le kk b kl km ju kn ko kp jx kq ob ks kt ku oc kw kx ky od la lb lc ld im bi translated"><strong class="kk iu">查询:</strong>会员的会员 id 及其所借书籍的书籍 id。</p></blockquote><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oe"><img src="../Images/c0f59891e6f37044e7518321c0962e2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aCQt4YgQv_AY70CIK2W8fA.png"/></div></div></figure><h1 id="d801" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">2.选择(σ)</h1><p id="f199" class="pw-post-body-paragraph ki kj it kk b kl nt ju kn ko nu jx kq kr nv kt ku kv nw kx ky kz nx lb lc ld im bi translated">选择用于从关系中选择所需的数据元组。在选择过程中，我们可以指定数据必须满足的某些条件。</p><blockquote class="ny nz oa"><p id="c90c" class="ki kj le kk b kl km ju kn ko kp jx kq ob ks kt ku oc kw kx ky od la lb lc ld im bi translated"><strong class="kk iu">查询:</strong>1997 年 10 月 21 日出生的成员的详细信息。</p></blockquote><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi of"><img src="../Images/dbf6f5f55e97306e2f9b27b05c61e28a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l9gUlavI2J5AtNKuJzgrUg.png"/></div></div></figure><h1 id="ee6f" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">3.重命名(ρ)</h1><p id="c28e" class="pw-post-body-paragraph ki kj it kk b kl nt ju kn ko nu jx kq kr nv kt ku kv nw kx ky kz nx lb lc ld im bi translated">重命名操作允许重命名某个输出关系。</p><blockquote class="ny nz oa"><p id="d6e0" class="ki kj le kk b kl km ju kn ko kp jx kq ob ks kt ku oc kw kx ky od la lb lc ld im bi translated"><strong class="kk iu">查询:</strong>将成员关系重命名为 LibraryMemebr。</p></blockquote><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi og"><img src="../Images/14d66255cb4a6831ead51585d1ecaa8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kpMwm5Eov4ZiZUm_Q-QxTA.png"/></div></div></figure><h1 id="9a6d" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">4.叉积(✕)</h1><p id="1e71" class="pw-post-body-paragraph ki kj it kk b kl nt ju kn ko nu jx kq kr nv kt ku kv nw kx ky kz nx lb lc ld im bi translated">叉积用于将两个不同关系中的数据组合成一个组合关系。如果我们考虑两个关系:<strong class="kk iu"> A </strong>带<strong class="kk iu"> <em class="le"> n </em> </strong>元组和<strong class="kk iu"> B </strong>带<strong class="kk iu"> <em class="le"> m </em> </strong>元组，<strong class="kk iu"> A ✕ B </strong>将由<strong class="kk iu"> <em class="le"> n.m </em> </strong>元组组成。</p><blockquote class="ny nz oa"><p id="362b" class="ki kj le kk b kl km ju kn ko kp jx kq ob ks kt ku oc kw kx ky od la lb lc ld im bi translated"><strong class="kk iu">查询:</strong>会员✕借</p></blockquote><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oh"><img src="../Images/18f59944844efba4f72a9463fbba88ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j834czgYUPkNK2uI6f6VdQ.png"/></div></div></figure><p id="5c68" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，成员关系有 5 个元组，钻取关系有 5 个元组。因此成员✕·博洛有 5✕5 = 25 个元组。</p><h1 id="ee3b" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">5.自然连接(⋈)</h1><p id="2ca5" class="pw-post-body-paragraph ki kj it kk b kl nt ju kn ko nu jx kq kr nv kt ku kv nw kx ky kz nx lb lc ld im bi translated">两个或多个关系之间的自然连接将产生元组的所有组合，其中它们对于公共属性具有相等的值。</p><blockquote class="ny nz oa"><p id="69f5" class="ki kj le kk b kl km ju kn ko kp jx kq ob ks kt ku oc kw kx ky od la lb lc ld im bi translated"><strong class="kk iu">查询:</strong>会员⋈借</p></blockquote><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oi"><img src="../Images/e943ce3f3b792b46ededde6566529ee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*px6PC9HJ1cXZ9HSlxxJzWw.png"/></div></div></figure><p id="b10b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意，本例中的公共属性是成员 ID。</p><h1 id="2731" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">6.条件连接(⋈c)</h1><p id="df8c" class="pw-post-body-paragraph ki kj it kk b kl nt ju kn ko nu jx kq kr nv kt ku kv nw kx ky kz nx lb lc ld im bi translated">条件连接类似于自然连接，但是在条件连接中，我们可以使用操作符大于、小于、等于或不等于来指定任何连接条件。您也可以使用 AND (^)和 OR (v)运算符来组合条件。</p><blockquote class="ny nz oa"><p id="aea1" class="ki kj le kk b kl km ju kn ko kp jx kq ob ks kt ku oc kw kx ky od la lb lc ld im bi translated"><strong class="kk iu">查询:</strong>挖掘了多本书的会员的借阅明细。</p></blockquote><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oj"><img src="../Images/ed1e683141fa163c19bf7eb94b94db7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L0cJ5SttgnntlJI6i6F_6A.png"/></div></div></figure><h1 id="7acc" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">7.联盟(⋃)</h1><p id="4e86" class="pw-post-body-paragraph ki kj it kk b kl nt ju kn ko nu jx kq kr nv kt ku kv nw kx ky kz nx lb lc ld im bi translated">RA 中的并运算非常类似于集合论中的并运算。但是，对于两个关系的联合，这两个关系必须具有相同的属性集。</p><blockquote class="ny nz oa"><p id="9b44" class="ki kj le kk b kl km ju kn ko kp jx kq ob ks kt ku oc kw kx ky od la lb lc ld im bi translated"><strong class="kk iu">查询:</strong>Charlie 和 Mike 所借图书的图书 id。</p></blockquote><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ok"><img src="../Images/ac6ca62cf655c87c80cd701d075af78f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bkblBTLehk8gyEhQcTYAbw.png"/></div></div></figure><h1 id="a3fd" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">8.十字路口(⋂)</h1><p id="6334" class="pw-post-body-paragraph ki kj it kk b kl nt ju kn ko nu jx kq kr nv kt ku kv nw kx ky kz nx lb lc ld im bi translated">RA 中的交集运算与集合论中的非常相似。但是，对于两个关系的交集，这两个关系必须具有相同的属性集。</p><blockquote class="ny nz oa"><p id="1704" class="ki kj le kk b kl km ju kn ko kp jx kq ob ks kt ku oc kw kx ky od la lb lc ld im bi translated"><strong class="kk iu">查询:</strong>同时借阅了《Fences》和《Inheritance》两本书的会员的会员 id。</p></blockquote><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ol"><img src="../Images/0ab54a70723004758ce1198ae73549d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_E18HHc9jqe4bMhtUaoNVg.png"/></div></div></figure><h1 id="1af2" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">9.设置差异(-)</h1><p id="b439" class="pw-post-body-paragraph ki kj it kk b kl nt ju kn ko nu jx kq kr nv kt ku kv nw kx ky kz nx lb lc ld im bi translated">RA 中的集差运算非常类似于集合论中的集差运算。然而，对于两个关系之间的集合差异，两个关系必须具有相同的属性集合。</p><blockquote class="ny nz oa"><p id="533c" class="ki kj le kk b kl km ju kn ko kp jx kq ob ks kt ku oc kw kx ky od la lb lc ld im bi translated"><strong class="kk iu">查询:</strong>从未借过书的会员的会员 id。</p></blockquote><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi om"><img src="../Images/f14400a65bc2dbfc16636604c09aad8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lApz8Y5G1XYw1myYQrrgFw.png"/></div></div></figure><p id="7730" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">R1 将返回所有成员爱丽丝、鲍勃、查理、迈克和凯蒂的详细信息。R2 将归还爱丽丝、查理、迈克和凯蒂借书的详细资料。当我们取 R1 和 R2 之间的差值时，将返回 Bob 的详细信息。</p><h1 id="e605" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">最后的想法</h1><p id="10d0" class="pw-post-body-paragraph ki kj it kk b kl nt ju kn ko nu jx kq kr nv kt ku kv nw kx ky kz nx lb lc ld im bi translated">创建这些关系的 PostgreSQL 命令和演示每个 RA 操作符的查询可以在下面给出的 SQL Fiddle 链接中找到。你运行它们，到处玩，看看会发生什么。😊</p><div class="on oo gp gr op oq"><a href="http://sqlfiddle.com/#!15/3ca77/24" rel="noopener  ugc nofollow" target="_blank"><div class="or ab fo"><div class="os ab ot cl cj ou"><h2 class="bd iu gy z fp ov fr fs ow fu fw is bi translated">一个简单的在线测试和分享数据库问题及其解决方案的工具。</h2><div class="ox l"><h3 class="bd b gy z fp ov fr fs ow fu fw dk translated">模式面板使用此面板来设置您的数据库问题(创建表、插入以及您需要的任何其他语句…</h3></div><div class="oy l"><p class="bd b dl z fp ov fr fs ow fu fw dk translated">sqlfiddle.com</p></div></div><div class="oz l"><div class="pa l pb pc pd oz pe lp oq"/></div></div></a></div><p id="d619" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，如果您想在您的机器上试验这些命令，您可以从下面链接中提供的 gists 下载它们。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="pf pg l"/></div></figure><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="pf pg l"/></div></figure><p id="2214" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">关系代数操作符看起来很简单，但是在表示复杂查询和查询优化时，它们变得非常强大(将在以后的文章中讨论)。</p><p id="e550" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">希望这篇文章对你有用。我很想听听你的想法。😊</p><p id="186a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读！</p><p id="98d8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">干杯！😃</p></div></div>    
</body>
</html>