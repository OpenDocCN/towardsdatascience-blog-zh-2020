<html>
<head>
<title>Quickly share ML WebApps from Google Colab using ngrok for Free</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">免费使用ngrok从Google Colab快速共享ML WebApps</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/quickly-share-ml-webapps-from-google-colab-using-ngrok-for-free-ae899ca2661a?source=collection_archive---------14-----------------------#2020-05-27">https://towardsdatascience.com/quickly-share-ml-webapps-from-google-colab-using-ngrok-for-free-ae899ca2661a?source=collection_archive---------14-----------------------#2020-05-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8183cfe908f6630eb9afae3458c69eae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aUiTraxiOB5Q5dft5EaV7w.png"/></div></div></figure><p id="3808" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">互联网上有一个笑话，讲的是大多数机器学习模型最终如何出现在Powerpoint演示文稿中。如果你是一名数据科学家，你可能无法否认这个事实。但是事情已经开始改变，特别是像Voila，Streamlit，Dash by Plotly这样的解决方案。这些是ML和数据科学社区内利基的一部分，使数据科学家和机器学习工程师——他们不是Web开发人员——能够开发和部署机器学习应用程序(作为Web应用程序——如SaaS)。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="2d45" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated"><a class="ae mb" href="https://datacamp.pxf.io/c/2888696/1240322/13294?u=https%3A%2F%2Fpromo.datacamp.com" rel="noopener ugc nofollow" target="_blank"> 78%的数据营折扣</a></h1><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mc"><img src="../Images/a4f321472fb0c6756fb340f88343d301.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PTA1-WGs3meP1tqe.png"/></div></div></figure></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h2 id="87d3" class="mh le iq bd lf mi mj dn lj mk ml dp ln kj mm mn lr kn mo mp lv kr mq mr lz ms bi translated">ML Web应用程序</h2><p id="576f" class="pw-post-body-paragraph jy jz iq ka b kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr mx kt ku kv ij bi translated">他们的主要观点是，你可以简单地用你熟悉的Python语法编写web应用程序(这意味着，不需要<code class="fe my mz na nb b">javascript</code>)。随着这种ML Web应用程序开发的开始，许多数据科学家仍然习惯并喜欢在Jupyter笔记本上编写代码，而不像Web开发人员/软件工程师那样更喜欢像VSCode或Sublime Text这样的成熟IDE。使用Google Colab开发这种机器学习Web应用原型的爱好者也是如此——要么作为爱好项目，要么作为潜在工作机会的任务。具有讽刺意味的是，大多数时候，这些东西是以Jupyter笔记本或截图的形式分享的，或者有人不得不费力地将它们部署在<code class="fe my mz na nb b">pythonanywhere</code>或<code class="fe my mz na nb b">Heroku</code></p><h2 id="92b0" class="mh le iq bd lf mi mj dn lj mk ml dp ln kj mm mn lr kn mo mp lv kr mq mr lz ms bi translated">ngrok</h2><p id="b7e0" class="pw-post-body-paragraph jy jz iq ka b kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr mx kt ku kv ij bi translated">如果你处于这种情况，这种方法将会非常方便，因为你可以使用公共URL与世界上的任何人(暂时)共享你的ML Web应用程序。这个黑客使用了一个非常流行的安全隧道解决方案<code class="fe my mz na nb b">ngrok</code>你可以在这里阅读更多关于ngrok是什么和它做什么的信息。</p><p id="5875" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">基本上，ngrok获取你的<code class="fe my mz na nb b">localhost</code>上的可用/托管的东西，并通过一个临时的公共URL将其公开到互联网上(注意:你可以通过他们的付费服务获得一个永久的ngrok URL)。所有这一切都以安全的方式进行。为了进一步进行这项工作，你需要一个ngrok(免费也可以)账户和你的仪表板上的<code class="fe my mz na nb b">authtoken</code>账户。</p><h2 id="f745" class="mh le iq bd lf mi mj dn lj mk ml dp ln kj mm mn lr kn mo mp lv kr mq mr lz ms bi translated">视频教程—<a class="ae mb" href="https://www.youtube.com/watch?v=AkEnjJ5yWV0" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=AkEnjJ5yWV0</a></h2><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="nc nd l"/></div></figure><h2 id="9bb8" class="mh le iq bd lf mi mj dn lj mk ml dp ln kj mm mn lr kn mo mp lv kr mq mr lz ms bi translated">如何在Google Colab上做到这一点？</h2><p id="eda8" class="pw-post-body-paragraph jy jz iq ka b kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr mx kt ku kv ij bi translated">虽然很有可能在Google Colab上安装<code class="fe my mz na nb b">ngrok</code>然后继续前进，但我选择了一条最短的路径，使用一个名为<code class="fe my mz na nb b">pyngrok</code>的Python包装器，它为我们做了很多基本的设置，还让我们可以在命令行/shell中访问<code class="fe my mz na nb b">ngrok</code>。这意味着你可以通过<code class="fe my mz na nb b">!ngrok</code>在Google Colab cell上使用<code class="fe my mz na nb b">ngrok</code>命令(就像你如何访问系统命令一样)</p><p id="99c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">平洛克—<a class="ae mb" href="https://github.com/alexdlaird/pyngrok" rel="noopener ugc nofollow" target="_blank">https://github.com/alexdlaird/pyngrok</a></p><ul class=""><li id="262f" class="ne nf iq ka b kb kc kf kg kj ng kn nh kr ni kv nj nk nl nm bi translated">在您的Google Colab会话上安装pyngrok python包</li></ul><pre class="md me mf mg gt nn nb no np aw nq bi"><span id="1e9f" class="mh le iq nb b gy nr ns l nt nu">!pip install pyngrok</span></pre><ul class=""><li id="00c6" class="ne nf iq ka b kb kc kf kg kj ng kn nh kr ni kv nj nk nl nm bi translated">设置您的ngrok Authtoken</li></ul><pre class="md me mf mg gt nn nb no np aw nq bi"><span id="e5af" class="mh le iq nb b gy nr ns l nt nu">!ngrok authtoken xxxxxxxxxxxxx</span></pre><h2 id="18ca" class="mh le iq bd lf mi mj dn lj mk ml dp ln kj mm mn lr kn mo mp lv kr mq mr lz ms bi translated">我们的示例Web应用程序</h2><p id="2cae" class="pw-post-body-paragraph jy jz iq ka b kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr mx kt ku kv ij bi translated">对于这个用例，让我们考虑一个使用<code class="fe my mz na nb b">jupyterdash</code>构建的示例web应用程序</p><pre class="md me mf mg gt nn nb no np aw nq bi"><span id="1471" class="mh le iq nb b gy nr ns l nt nu">!pip install jupyter-dash</span><span id="a4dc" class="mh le iq nb b gy nv ns l nt nu">import plotly.express as px<br/>from jupyter_dash import JupyterDash<br/>import dash_core_components as dcc<br/>import dash_html_components as html<br/>from dash.dependencies import Input, Output# Load Data</span><span id="a765" class="mh le iq nb b gy nv ns l nt nu">df = px.data.tips()# Build App<br/>app = JupyterDash(__name__)<br/>app.layout = html.Div([<br/>    html.H1("1littlecoder deploy ML App Colab ngrok Demo"),<br/>    dcc.Graph(id='graph'),<br/>    html.Label([<br/>        "colorscale",<br/>        dcc.Dropdown(<br/>            id='colorscale-dropdown', clearable=False,<br/>            value='plasma', options=[<br/>                {'label': c, 'value': c}<br/>                for c in px.colors.named_colorscales()<br/>            ])<br/>    ]),<br/>])# Define callback to update graph<br/>@app.callback(<br/>    Output('graph', 'figure'),<br/>    [Input("colorscale-dropdown", "value")]<br/>)<br/>def update_figure(colorscale):<br/>    return px.scatter(<br/>        df, x="total_bill", y="tip", color="size",<br/>        color_continuous_scale=colorscale,<br/>        render_mode="webgl", title="Tips"<br/>    )# Run app and display result inline in the notebook</span></pre><ul class=""><li id="ded7" class="ne nf iq ka b kb kc kf kg kj ng kn nh kr ni kv nj nk nl nm bi translated">运行web应用程序(在<code class="fe my mz na nb b">external</code>模式下，我们可以获得本地主机端口的详细信息)</li></ul><pre class="md me mf mg gt nn nb no np aw nq bi"><span id="d660" class="mh le iq nb b gy nr ns l nt nu">app.run_server(mode='external')</span></pre><ul class=""><li id="1e5c" class="ne nf iq ka b kb kc kf kg kj ng kn nh kr ni kv nj nk nl nm bi translated">在我的例子中，web应用程序运行在本地主机端口8050上</li><li id="6c9f" class="ne nf iq ka b kb nw kf nx kj ny kn nz kr oa kv nj nk nl nm bi translated">从Python调用ngrok并开始隧道/连接</li></ul><pre class="md me mf mg gt nn nb no np aw nq bi"><span id="980c" class="mh le iq nb b gy nr ns l nt nu">from pyngrok import ngrok</span><span id="b06b" class="mh le iq nb b gy nv ns l nt nu"># Open a HTTP tunnel on the default port 80<br/>public_url = ngrok.connect(port = '8050')</span></pre><ul class=""><li id="2a9e" class="ne nf iq ka b kb kc kf kg kj ng kn nh kr ni kv nj nk nl nm bi translated">打印<code class="fe my mz na nb b">public_url</code>(对象)以获取web应用程序正在隧道化的实际公共URL</li></ul><pre class="md me mf mg gt nn nb no np aw nq bi"><span id="98c9" class="mh le iq nb b gy nr ns l nt nu">public_url</span></pre><ul class=""><li id="acd1" class="ne nf iq ka b kb kc kf kg kj ng kn nh kr ni kv nj nk nl nm bi translated">瞧啊。您的Web应用程序现在可以在互联网上使用——运行在Google Colab上，并在ngrok的帮助下显示URL！</li><li id="4556" class="ne nf iq ka b kb nw kf nx kj ny kn nz kr oa kv nj nk nl nm bi translated">是时候与您的朋友/同事或在社交媒体上分享您的URL，并获得对您的ML Web应用程序的反馈了！</li></ul><h2 id="a8bb" class="mh le iq bd lf mi mj dn lj mk ml dp ln kj mm mn lr kn mo mp lv kr mq mr lz ms bi translated">结束了</h2><p id="a98a" class="pw-post-body-paragraph jy jz iq ka b kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr mx kt ku kv ij bi translated">本教程的目标是帮助机器学习工程师和数据科学家与世界分享他们的Web应用程序开发(暂时)，而没有太多麻烦——实际上，只需要几行Python代码和最小的依赖性。请注意，这不是一个生产解决方案，在这种情况下，您可能想知道比简单的隧道更多的东西。但是，嘿，这是开始ML Web应用程序开发和分享之旅的良好开端！<strong class="ka ir"> <em class="ob">让我知道你的想法！</em>T13】</strong></p><p id="11c4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">参考文献</strong></p><ul class=""><li id="5d8b" class="ne nf iq ka b kb kc kf kg kj ng kn nh kr ni kv nj nk nl nm bi translated">这里用的Jupyter笔记本—<a class="ae mb" href="https://github.com/amrrs/youtube-r-snippets/blob/master/temporarily_deploy_ML_webapp_with_Google_Colab_and_ngrok.ipynb" rel="noopener ugc nofollow" target="_blank">https://github . com/amrrs/YouTube-r-snippets/blob/master/temporary _ deploy _ ML _ web app _ with _ Google _ Colab _ and _ ngrok . ipynb</a></li><li id="3b89" class="ne nf iq ka b kb nw kf nx kj ny kn nz kr oa kv nj nk nl nm bi translated">平罗克—<a class="ae mb" href="https://github.com/alexdlaird/pyngrok" rel="noopener ugc nofollow" target="_blank">https://github.com/alexdlaird/pyngrok</a></li><li id="4651" class="ne nf iq ka b kb nw kf nx kj ny kn nz kr oa kv nj nk nl nm bi translated">恩罗克——https://ngrok.com/</li></ul></div></div>    
</body>
</html>