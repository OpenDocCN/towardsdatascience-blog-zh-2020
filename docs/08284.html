<html>
<head>
<title>Starbucks Offers Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">星巴克提供分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/starbucks-capstone-challenge-35e3b8c6b328?source=collection_archive---------32-----------------------#2020-06-17">https://towardsdatascience.com/starbucks-capstone-challenge-35e3b8c6b328?source=collection_archive---------32-----------------------#2020-06-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="530e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Udacity的数据科学家纳米学位计划的顶点项目</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e4604b2de4fa3a6ccf80be68134a0eb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Pm7RHe8CY5QT1LQW"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">索林·索尔布在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="43b0" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">项目概述</h1><p id="4245" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这是Udacity的数据科学家纳米学位项目的一个顶点项目。在这个项目中，给定的数据集包含模拟星巴克奖励移动应用程序上的客户行为的模拟数据。每隔几天，星巴克就会向手机应用程序的用户发出一次报价。优惠可以仅仅是饮料的广告，也可以是实际的优惠，如折扣或BOGO(买一送一)。某些用户可能在特定的几周内收不到任何优惠。并非所有用户都收到相同的报价，这是使用该数据集要解决的挑战。</p><h1 id="54b0" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">问题陈述</h1><p id="353b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该项目的目标是将交易、人口统计和优惠数据结合起来，以确定哪些人口统计组最适合哪种优惠类型。这个数据集是真实星巴克应用程序的简化版本，因为底层模拟器只有一种产品，而星巴克销售几十种产品。</p><p id="18b5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">这一目标可以通过以下策略实现:</strong></p><ul class=""><li id="3aa3" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">探索和可视化数据。</li><li id="bd15" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">数据预处理。</li><li id="366f" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">对清洁的预处理数据应用快速数据分析</li><li id="b27b" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">缩放数字特征。</li><li id="e81f" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">尝试几种监督学习模型。</li><li id="07f8" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">使用选择的度量(精确度)评估模型，然后在其中选择最佳的监督学习模型。</li><li id="7350" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">如果结果需要改进，实现<strong class="lt iu"> GridSearchCV </strong>以找到最佳参数(以提高所选模型的性能)。</li></ul><h1 id="c4ba" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">数据集描述</h1><p id="e1e6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">数据包含在三个文件中:</p><ul class=""><li id="1f91" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">portfolio.json —包含报价id和关于每个报价的元数据(持续时间、类型等)。)</li><li id="aca1" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">profile.json —每个客户的人口统计数据</li><li id="c5f4" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">transcript.json记录交易、收到的报价、查看的报价和完成的报价</li></ul><p id="f982" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">以下是文件中每个变量的模式和解释:</p><p id="6020" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> portfolio.json </strong></p><ul class=""><li id="9b9c" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">id(字符串)—优惠id</li><li id="6ec7" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">offer_type (string) —一种优惠类型，即BOGO、折扣、信息</li><li id="c2eb" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">难度(int)——完成一项提议所需的最低花费</li><li id="8524" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">奖励(int) —奖励是为完成一项提议而给予的</li><li id="78b7" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">duration(int)-要约开放的时间，以天为单位</li><li id="52f0" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">频道(字符串列表)</li></ul><p id="9beb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> profile.json </strong></p><ul class=""><li id="5f5c" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">年龄(整数)—客户的年龄</li><li id="a740" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">成为会员日期(int) —客户创建app帐户的日期</li><li id="bd18" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">性别(str) —客户的性别(请注意，有些条目包含“O”代表其他，而不是M或F)</li><li id="0329" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">id (str) —客户id</li><li id="e1e9" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">收入(浮动)—客户的收入</li></ul><p id="80b6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">抄本. json </strong></p><ul class=""><li id="5bf1" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">事件(str) —记录描述(即交易、收到的报价、查看的报价等。)</li><li id="ed02" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">人员(字符串)—客户id</li><li id="febb" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">time (int) —测试开始后的时间，以小时为单位。数据开始于时间t=0</li><li id="459d" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">value —(字符串字典)—报价id或交易金额，具体取决于记录</li></ul><h1 id="9d94" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">韵律学</h1><p id="f1ab" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了评估我们模型的性能，我们将使用准确性。选择这一指标的原因如下:</p><ul class=""><li id="22ee" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">因为我们有一个简单的分类问题，即要么:要约已查看，要约已完成。</li><li id="598c" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">它使我们能够通过比较正确预测的数量与预测的总数(准确性的概念)来识别我们的模型预测得有多好。</li></ul></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="ad00" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">解释性数据分析</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><h2 id="e85f" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">1.投资组合数据集</h2><p id="84d0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该数据集包含6列:</p><ul class=""><li id="99b2" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">奖励(int) —奖励是为完成一项提议而给予的</li><li id="8976" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">频道(字符串列表)</li><li id="f0b8" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">难度(int)——完成一项提议所需的最低花费</li><li id="6317" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">duration(int)-要约开放的时间，以天为单位</li><li id="39bf" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">offer_type (string) —一种优惠类型，即BOGO、折扣、信息</li><li id="9d9c" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">id(字符串)—优惠id</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/848e99e92f6505d3566455a899811fd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nyRAim9xdnBbVKdH-3WvxA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">投资组合数据集的头。</p></figure><p id="1814" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">投资组合数据集的探索显示了以下内容:</strong></p><ul class=""><li id="1e51" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">该数据集既没有空值也没有重复值。</li><li id="bb12" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">有三种类型的优惠:“BOGO”(买一送一)、“信息”和“折扣”。</li><li id="9814" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">数据集中包括4个报价，分类为:“BOGO”，4个报价分类为“折扣”，2个报价分类为“信息”。</li><li id="3a3d" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">“难度”一栏的单位是美元，并不反映获得奖励的难度。重新缩放该功能是一个有用的步骤。<strong class="lt iu">这需要在建模之前完成。</strong></li></ul><h2 id="0676" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">2.个人资料数据集</h2><p id="951f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该数据集包含5列:</p><ul class=""><li id="c5bd" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">性别(str):客户的性别(M:男性，F:女性，O:其他)。</li><li id="223a" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">年龄(int):客户的年龄。</li><li id="7f7f" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">id (str):客户id。</li><li id="bc75" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">become _ member _ on(int):客户创建app账户的日期。</li><li id="cf8a" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">收入(浮动):客户的收入。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/30890f6f86a5149c50b21b5ed2f21648.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*LO-6BNCkjEPpRyK4_y7shg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">配置文件数据集的头。</p></figure><p id="ecac" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">剖面数据集的探索和可视化显示如下:</strong></p><ul class=""><li id="b066" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">数据集没有重复的行。</li><li id="382c" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">该数据集在“性别”、“收入”变量上各有2175个缺失值。</li><li id="94ac" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">顾客的年龄从18岁到101岁不等。尽管这2175名客户的注册年龄是118岁，但我仍然认为这个特定年龄是异常值。很明显，数据集中的这2175行有问题。</li></ul><p id="393d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">探索和可视化“性别”、“收入”和“年龄”变量</strong></p><p id="b034" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">“性别”和“收入”变量中缺失的值仅与2175名118岁注册的客户相关。换句话说，118岁的顾客没有登记的“性别”和“收入”。<strong class="lt iu">这需要在数据预处理部分进行清理。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/d2f09f7b631043ad0d79b29270b62a74.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*owJuQoC3svAgP_ZsBycxmw.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/a5cc7d5d63a8e21b168079716ae7016c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*k9T9-ba_QtqjT9OSQhkdMw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">年龄分布</p></figure><p id="9e01" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">根据现有数据，客户分为三个“性别”类别(M、F和O)。记住上面的观察结果，有2175个值缺失，男性顾客(8484名男性)多于女性顾客(6129名女性)，男性顾客占57%，女性顾客占41%。然而，有212名顾客选择了“O”作为他们的性别。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/09a946491ddd827209d32e90cf466c0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*S0WQDzT7b8r7RfdvVseD2Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">收入分配栏</p></figure><p id="133a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">顾客的收入从3万到12万不等，大多数顾客的收入在5万到7.5万之间。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/f196a4eb32813d38d771b7289b44fa8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*7hYejB3kCL282pdmce372g.png"/></div></figure><h2 id="fe63" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">3.抄本数据集:</h2><p id="cb60" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该数据集包含4列</p><ul class=""><li id="341a" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">人员(字符串)—客户id</li><li id="a6b2" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">事件(str) —记录描述(即交易、收到的报价、查看的报价等。)</li><li id="712c" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">value —(字符串字典)—报价id或交易金额，具体取决于记录</li><li id="6153" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">time (int) —测试开始后的时间，以小时为单位。数据开始于时间t=0</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/72a165c471bedffadaff7fb9313340ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lv2oDKEJts2VUu0k9P9HyQ.png"/></div></div></figure><p id="1442" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">对抄本数据集的探索显示了以下内容:</strong></p><ul class=""><li id="9aee" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">数据集既没有重复的行，也没有缺失的值。</li><li id="77ae" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">如上所述,“值”列是一个字典，我们可以在其中应用某种特征工程来提取有用的数据，这些数据肯定会有助于我们未来模型的成功。<strong class="lt iu">该步骤将通过数据预处理(争论/清理)部分完成。</strong></li><li id="f14b" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">该数据集中有四种类型的事件:“交易”、“收到报价”、“查看报价”和“报价完成”。</li><li id="a255" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">所有被分类为“事务”的事件在其“值”列中都没有“已提供”。</li></ul></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="8485" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">数据处理</h1><h2 id="d93e" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">投资组合数据集:</h2><p id="1476" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">处理这些数据包括:</p><ol class=""><li id="3dcf" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm on my mz na bi translated">将“id”列重命名为“offer_id”。</li><li id="2386" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">将“持续时间”列的单位从天更改为小时。</li><li id="0749" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">将“duration”列重命名为“duration_h ”,表示测量单位为“小时”</li><li id="269a" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">使用最小最大缩放器标准化“难度”和“奖励”特征。</li><li id="e9cc" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">使用one-hot编码从“channels”列创建虚拟变量，然后删除“channels”列。</li><li id="44c0" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">用更简单的id替换“优惠id”。</li><li id="3a33" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm on my mz na bi translated">将“报价类型”替换为代表各报价类型的整数，如下所示:</li></ol><ul class=""><li id="9cd8" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">BOGO</li><li id="5d55" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">打折</li><li id="3701" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">报告的</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/848e99e92f6505d3566455a899811fd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nyRAim9xdnBbVKdH-3WvxA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原始投资组合数据集</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/d8e98677f80d6178dffea0cf4d5901f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T3Ia_aIr7NXptCrQozEBtw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据处理后的投资组合数据集</p></figure><h2 id="3682" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">配置文件数据集:</h2><p id="a61f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">处理这些数据包括:</p><p id="679e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">1.预处理“id”功能:</p><ul class=""><li id="dbb9" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">将“id”列名重命名为“customer_id”。</li><li id="75b5" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">重新排列列，使“customer_id”列成为数据集中的第一列。</li><li id="235b" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">用最简单的数值替换customer_id字符串值。</li></ul><p id="f9fb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2.预处理“年龄”特征:</p><ul class=""><li id="b5c7" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">将年龄= 118替换为NaN值。</li><li id="f6d0" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">删除没有“年龄”、“性别”和“收入”的客户(删除行)。</li><li id="ed92" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">将“年龄”和“收入”列的数据类型更改为“int”。</li><li id="9b31" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">创建一个新列“年龄组”,其中包括每个客户所属的年龄组</li><li id="361f" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">将“年龄组”分类标签替换为相应的数字标签，如下所示:</li></ul><p id="4954" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">&gt; 1:青少年</p><p id="f4fa" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">&gt; 2:年轻成人</p><p id="d0d2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">3岁以上:成人</p><p id="c64e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">&gt; 4:老年人</p><p id="6237" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">3.预处理“收入”功能:</p><ul class=""><li id="4c4d" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">创建一个新列“income_range ”,其中包括客户收入所属的收入范围。</li><li id="4af2" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">将“收入范围”分类标签替换为相应的数字标签，如下所示:</li></ul><p id="85b5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">大于1:平均(30，000–60，000)</p><p id="4368" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">&gt; 2:高于平均水平(60，0001–90，000)</p><p id="4f26" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">&gt; 3:高(超过90，000)</p><p id="fd3d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">4.预处理“性别”特征:</p><ul class=""><li id="822e" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">将“性别”分类标签替换为相应的数字标签，如下所示:</li></ul><p id="4d98" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">&gt; 1: F(女性)</p><p id="daa6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">&gt; 2: M(男性)</p><p id="fa65" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">&gt; 3: O</p><p id="7ebb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">5.预处理“成为成员”功能:</p><ul class=""><li id="61e0" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">将' became_member_on '列的数据类型从int更改为date，并将其设置为otoe中的适当格式一种可读的日期格式，如果需要，可以很容易地对其进行分析。</li><li id="cf4c" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">向现有数据集添加一个新列“start_year”，该列将显示客户成为会员的年份(用于进一步分析)。</li><li id="221c" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">向现有数据集添加一个新列“membership_days”，该列将显示自客户成为会员以来的天数(用于进一步分析)。</li><li id="f822" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">创建一个新列“member_type ”,表示成员的类型:新成员、普通成员或忠诚成员，具体取决于其“membership_days”的数量。</li><li id="2ce2" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">将“member_type”分类标签替换为相应的数字标签，如下所示:</li></ul><p id="c75a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">&gt; 1:新会员(1000天或更短时间内的会员)</p><p id="2113" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">&gt; 2:普通会员(1001-1600天会员资格)</p><p id="f185" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">&gt; 3:忠诚(超过1600天的会员资格)</p><ul class=""><li id="0a73" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">删除“年龄”、“收入”、“成为会员日期”和“会员天数”列，因为不再需要它们。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/a89fa0c318b2020176c7dbcae47e6cb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/1*OTzXoqnqMKid_mS7BDxCCQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原始轮廓数据集</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/9b38a9d3ca13caa8ed6b96cc4a28e192.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*MTouBW0uZlXec6Liq7hK8w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">处理后的剖面数据集</p></figure><h2 id="ecfb" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">抄本数据集</h2><p id="e924" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">处理这些数据包括:</p><p id="3e7e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">1.将“time”列重命名为“time_h ”,表示测量单位为“小时”。</p><p id="b3fa" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2.预处理“人”特征:</p><ul class=""><li id="07a3" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">将“人员”列重命名为“客户标识”。</li><li id="4350" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">将“customer_id”列中的分类值替换为与每个客户id相对应的新初始化的数值，这些数值是由之前对“id”功能的预处理产生的</li></ul><p id="c432" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">3.预处理“值”功能:</p><ul class=""><li id="4214" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">将“值”列中存在的每个键提取到单独的列，而不是删除“值”列。</li><li id="3de5" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">用“不适用”值填写“报价id”列中的所有nan(即不适用)。</li><li id="9cab" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">删除“值”列，因为不再需要它。</li></ul><p id="fa00" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">4.预处理“事件”功能:</p><ul class=""><li id="40ae" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">从我们的clean _抄本数据集中排除“交易”或“收到报价”的所有事件。</li><li id="f116" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">将“事件”分类标签替换为相应的数字标签，如下所示:</li></ul><p id="d4a4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">&gt; 1:报价完成</p><p id="6fa0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">&gt; 2:已查看报价</p><p id="74f1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">5.预处理“offer_id”功能:</p><ul class=""><li id="dbd7" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">将“offer_id”列中的分类值替换为预处理投资组合数据集时使用的相应数值</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/208c30ae4bb9661f119a39bbcfd21db0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2MC3fbdscdDUR_DJbbjwZw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原始抄本数据集</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/ae4bc1441e2e55657f0d25dbe500e5d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*LZ6gP8jJkSN_vwOjDIgfdw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">处理后的转录数据集</p></figure></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="acf2" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">将三个清理过的数据集(投资组合、配置文件和交易)合并成一个主清理数据集</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/d9a3fecfa958d35ffdc2f1b558883957.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S7sTo39agsC7RBEdLBePfw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">主数据帧</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/196fa9e3b5b7dd08720885abc9e377b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*LrDSt-ddd0kS1GzbgvIXeA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">删除缺失值后的主数据集</p></figure></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="7c97" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">主数据集的分析</h1><p id="dd50" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">对主数据报的快速分析包括一些问题，例如:</p><h2 id="d35a" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">Q1——每个年龄组(青少年、年轻人、成年人和老年人)的常见优惠是什么？</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/988d9433abe217b84e33d0a4e1849828.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wBN5akA0U7IN28SaAKQh-A.png"/></div></div></figure><p id="8d1c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">所有年龄组中最常见的优惠类型是BOGO，其次是折扣优惠。然而，最不常见的提议是信息性提议。我相信BOGO的优惠比星巴克的其他优惠更有吸引力。</p><h2 id="2066" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">Q2——基于收入最高的顾客的人口统计数据，男性还是女性？</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/5d6e852777c6053a6317b55ed4ec4674.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ovzz-Fiz2HtMU92yeUxu8A.png"/></div></div></figure><p id="5c58" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">高收入(9万以上)的客户多为女性客户。然而，平均收入(30，000-60，000)的客户大多是男性。</p><h2 id="de4d" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">Q3——男性或女性中，谁需要很长时间才能获得每份工作？</h2><p id="ffbb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">当谈到完成一项提议所花费的时间时，男性和女性非常接近。雄性和雌性都需要大约17天才能完成。</p><h2 id="90a5" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">Q4——星巴克每年有多少新会员？</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/5ef3a6d1eb47e2aac30d396263776724.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*koAyXQQ73qXgEUVHFPHuVA.png"/></div></div></figure><p id="d4fb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> 2017年</strong>就新会员数量而言，是星巴克最好的一年。在我们的数据集中，大约有38% 的客户在这一年注册为会员。</p><h2 id="cf02" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">Q5 —男女都喜欢哪种类型的促销(优惠)？</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/9041bd540afdecd4396f802bcf13eee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jaEte_K2_4aa4Q_g-ac6Mg.png"/></div></div></figure><p id="ad80" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们得到的图表显示，男女都喜欢BOGO和折扣优惠，他们对信息性优惠的反应相同，他们似乎都对它不感兴趣。</p><h2 id="9c13" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">Q6 —同一个客户的两份抄本的平均长度是多少？</h2><p id="7da9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">客户完成报价的平均时间不到16天(372小时)。</p><h2 id="cf5e" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">Q7 —在顾客查看的所有报价中，他们完成了多少报价？</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/265b52924d1839337be0c0f8925d7988.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UgXyWmbPy5ABu-ZzsgBlPQ.png"/></div></div></figure></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="b3a8" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">数据建模</h1><p id="d1af" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在这一部分，我试图建立一个模型来预测客户是会<strong class="lt iu">只查看</strong>报价，还是会<strong class="lt iu">查看&amp;完成</strong>报价。由于该模型关注的是事件<strong class="lt iu">‘报价视图’</strong>和<strong class="lt iu">‘报价完成’</strong>，我将只考虑事件<strong class="lt iu">‘报价视图’</strong>或<strong class="lt iu">‘报价完成’</strong>的那些记录。换句话说，我不会将带有事件'<strong class="lt iu">交易</strong>或'<strong class="lt iu">报价已收到</strong>'的抄本包括在我的训练和测试集中。</p><p id="9e9a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">说到特征，我打算</strong>只考虑<strong class="lt iu"/>那些我认为对我们的模型准确预测<strong class="lt iu">目标</strong>很重要的特征。</p><p id="095b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">那些特征是:' time_h '，' offer_id '，' amount '，' reward_x '(将被重命名为' reward ')，'难度'，' duration_h '，' offer_type '，' gender '，' age_group '，' income_range '，' member_type '。</p><p id="5a30" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">目标(标签)是:‘事件’</strong>，它将保存数值:</p><p id="3200" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> 1 </strong> : <em class="pa">报价完成</em></p><p id="cdbf" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> 2 </strong> : <em class="pa">报价已查看。</em></p><p id="a19c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">以下是建模前要素数据框的外观:</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/c6842f6a01cde1f934fed729a054a6e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yop4t0nYOlgOYKTWjQiFRg.png"/></div></div></figure><p id="5f70" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">我的特征和标签的形状是:</strong></p><ul class=""><li id="6b21" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">训练特征形状:(65843，11)</li><li id="4c62" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">训练标签形状:(65843，)</li><li id="90ef" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">测试特征形状:(16461，11)</li><li id="f8ac" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">测试标签形状:(16461，)</li></ul><p id="917a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">对于<strong class="lt iu">建模</strong>部分，我尝试了六种不同的模型，结果如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/6fa4905a6880fbc60b233f693185a2a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kU8M6eFO0ZbQ4-1CqDDUyg.png"/></div></div></figure><p id="b4cd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">上表显示了与使用不同监督学习模型相关的准确度分数。如表中所示，<strong class="lt iu">我们在4个模型(共6个模型)的训练集和测试集上都有100%的准确率</strong>。为了尽可能避免过度拟合，我将选择在测试集上给我最低精度分数的模型，这就是<strong class="lt iu"> KNeighborsClassifier </strong>。在这个模型上，我在测试集上得到了99.88%。我知道这是一个很高的分数，但我选择了这个模型，因为我相信它可以用于解决二元结果问题陈述:<strong class="lt iu">关于客户是否会查看报价(只是查看)或他是否会(完成报价)，即查看&amp;完成该特定报价。</strong></p><h1 id="0e07" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="4590" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu">通过这个项目，我试图分析星巴克提供的数据集，然后建立一个模型，可以预测客户是否会完成报价或只是浏览？</strong></p><p id="2a67" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">首先，我研究了每个数据集，将其可视化以获得对数据的整体理解。这还包括分析数据集的不同方面。然后，我转移到预处理部分。预处理数据是花费大部分时间和精力的任务。数据集有点棘手，包含的数据要求我使用我的争论/工程和预处理技能来获得三个数据集的最终干净版本。下一步是创建一些可以提高模型性能的潜在特性。这些特征是从原始的现有列派生出来的，但是包含在数据集中的值和简单值的范围较小。这方面的例子如下:</p><ul class=""><li id="a95e" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">从“年龄”功能派生的“年龄组”功能。然后，我将特征的分类标签替换为相应的数字标签，如下所示:</li></ul><p id="6b47" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">1:青少年</p><p id="416f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2:年轻人</p><p id="78de" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">3:成人</p><p id="93fc" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">4:老年人</p><ul class=""><li id="c869" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">从“收入”功能派生的“收入范围”功能。这包括客户收入所属的收入范围。然后，我将“收入范围”分类标签替换为相应的数字标签，如下所示:</li></ul><p id="90c6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">1:平均(30，000–60，000)</p><p id="a641" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2:高于平均水平(60，0001–90，000)</p><p id="703a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">3:高(9万以上)</p><ul class=""><li id="3263" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">“member_type”功能派生自“became _ member _ on”功能。当然，分类标签的特征已经被相应的数字标签所取代，如下所示:</li></ul><p id="6267" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">1:新成员(1000天或更短时间内的成员)</p><p id="f166" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2:普通会员(1001-1600天会员资格)</p><p id="a161" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">3:忠诚(超过1600天的会员资格)</p><h2 id="f473" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">对数据集的快速分析让我获得了以下见解:</h2><ul class=""><li id="df8a" class="ms mt it lt b lu lv lx ly ma pd me pe mi pf mm mx my mz na bi translated">顾客的收入从3万到12万不等，大多数顾客的收入在5万到7.5万之间。</li><li id="dcba" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">根据现有数据，客户分为三个“性别”类别(M、F和O)。记住上面的观察结果，有2175个值缺失，男性顾客(8484名男性)多于女性顾客(6129名女性)，男性顾客占57%，女性顾客占41%。然而，有212名顾客选择了“O”作为他们的性别。</li><li id="1059" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">所有年龄组中最常见的优惠类型是BOGO，其次是折扣优惠。然而，最不常见的提议是信息性提议。我相信BOGO的优惠比星巴克的其他优惠更有吸引力。</li><li id="8a2c" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">高收入(9万以上)的客户多为女性客户。然而，平均收入(30，000-60，000)的客户大多是男性。</li><li id="f59b" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">当谈到完成一项提议所花费的时间时，男性和女性非常接近。雄性和雌性都需要大约17天才能完成。</li><li id="022b" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">就新会员数量而言，2017年是星巴克最好的一年。在我们的数据集中，大约有38%的客户在这一年注册为会员。</li><li id="4a0e" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">男性和女性都喜欢BOGO和折扣优惠，他们对信息优惠的反应是一样的，他们似乎都对此不感兴趣。</li><li id="37b3" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">客户完成报价的平均时间不到16天(372小时)。</li><li id="e6ee" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">女性完成了她们所查看的要约的75%,比男性多16%,男性只完成了她们所查看的要约的58%。女性似乎比男性更容易被升职说服。</li></ul></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="6624" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">丰富</h1><p id="e824" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">虽然我相信“总有改进的空间”这句话，但我认为<strong class="lt iu"> KNeighborsClassifier </strong>模型给了我很高的分数。试图改进这样的模型肯定会使我们陷入过度拟合的错误。因此，我不会建议对这个模型进行任何改进，因为我相信我们不需要试图获得更好的结果。</p><p id="6461" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">值得一提的是，我计划使用<strong class="lt iu"> GridSearchCV </strong>来改进我将要选择的模型。这是我的计划，在被高分击中之前。</p><p id="ef43" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我相信我在预测模型方面取得了非常好的结果。我非常理解星巴克提供的数据。</p><p id="4803" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">由于总有改进的空间，我认为改进数据收集或解决与缺失数据或NaNs相关的问题的想法将非常有用。我认为，我们可以从这个数据集获得很好的见解，也可以建立很好的预测模型来解决与这个数据集相关的问题。这些模型的示例如下:</p><ul class=""><li id="5f43" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">构建一个可以预测向哪个客户发送哪种优惠的模型？</li><li id="b306" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">建立一个模型，可以预测哪些客户会购买(不管是否有优惠)</li></ul></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="e16f" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">反射</h1><p id="2dcd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我喜欢在这个顶点项目上工作，它让我提高了我在数据预处理和建模方面的技能。在我看来，最困难的部分是决定问题陈述。这是因为薄弱的问题陈述肯定会导致其他工作被低估和重视。</p><p id="9471" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">预处理步骤是要完成的最长和最具挑战性的部分。数据集本身是鼓舞人心的。老实说，一切都很棒。</p><p id="e07c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">包含项目文件和数据集的GitHub存储库可以在这个<a class="ae ky" href="https://github.com/VishalkrishnaBlaze/Starbucks-Capstone-Challenge.git" rel="noopener ugc nofollow" target="_blank">链接</a>中找到。</p></div></div>    
</body>
</html>