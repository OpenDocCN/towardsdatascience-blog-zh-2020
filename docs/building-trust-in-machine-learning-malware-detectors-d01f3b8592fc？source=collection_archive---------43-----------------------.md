# 建立对机器学习恶意软件检测器的信任

> 原文：<https://towardsdatascience.com/building-trust-in-machine-learning-malware-detectors-d01f3b8592fc?source=collection_archive---------43----------------------->

## 我们能相信 ML 系统做出的决定吗？

![](img/e8ed3db9ce713bbf941e0b82c6ecf80f.png)

图片:[来源](https://www.rawpixel.com/)

每一次我们创造一个更强大的技术，我们就创造了改变世界的下一个层次。在 AI 中，我们不会给它们自己学习的机器编程。对人工智能最大的误解之一是，它是一个超级智能的存在，或者我们称之为广义人工智能，它知道一切，比我们所有人都聪明，这完全是一种误解。尽管取得了这些进展，但仍有许多挑战需要更多的科学突破。

> "当言行一致时，信任就产生了."—克里斯·巴特勒

# 介绍

新通信技术的广泛传播不可避免地促使人们不断改进保护各种数字系统中信息的手段和方法，这些数字系统在现代公共生活的几乎所有领域中运行，从银行、制造业到国防和政府部门。这些系统的特点是各种各样的网络威胁。事实上，计算机网络和互联网已经成为恶意软件作者传播和分发恶意软件的主要工具。网络安全专家普遍认为，由人工智能和人工智能支持的反恶意软件工具和系统将成为现代恶意软件攻击的解决方案。然而，创建一个完美的恶意软件检测系统，检测所有类型的恶意软件，零误报似乎是不可能的。

我们知道，网络安全分析师总是更喜欢可解释和可理解的解决方案，如基于规则或基于签名的检测。这就是为什么本文的重点是回顾恶意软件检测的当前技术水平，指出它们的局限性，并讨论可能的解决方案，以增加对人工智能系统的信任。

# 目录

1.  恶意软件检测的机器学习综述
2.  限制由 ML 支持的恶意软件检测成功的挑战
3.  克服挑战的解决方案

# 恶意软件检测的机器学习综述

机器学习是一种数据分析工具，用于在没有明确指示的情况下有效执行特定任务。近年来，ML 能力已经被用于设计用于恶意软件检测的静态和动态分析技术。在这种情况下，我将使用 ML 方法设置恶意软件检测的一些技术状态。

*   Hassen 等人提出了一种新的恶意软件分类技术，他们使用静态分析将恶意软件实例分类到新的已知恶意软件家族中。通过从反汇编的恶意二进制文件中提取特征，并使用随机森林算法使用提取的特征对恶意软件进行分类(Hassen et al .，2017)。使用 10，260 个恶意软件实例的数据集，他们报告的准确率高达 99.21%。
*   Naeem 等人提出了一种静态分析技术来检测物联网恶意软件(Naeem 等人，2018)。所提出的技术将恶意软件文件转换为灰度图像，并从恶意软件图像中提取一组视觉特征来训练 SVM 分类器，该分类器可以使用视觉特征来区分恶意软件家族。使用来自 25 个恶意软件家族的 9342 个样本的数据集，他们报告了 97.4%的准确率。
*   已经提出了几项工作来使用静态分析技术检测 Android 恶意软件应用。Sahin 等人提出了一种 Android 恶意软件检测模型，使用应用程序权限来检测恶意应用程序(OSahn 等人，2018)。他们使用应用程序所需的权限和加权距离函数以及 KNN 和朴素贝叶斯分类器来检测恶意应用程序。他们报告的准确率高达 93.27%。
*   Yeo 等人通过监测网络流量中的恶意行为，提出了一种新的恶意软件检测方法(Yeo 等人，2018)。他们设计了 35 个特征来描述恶意软件实例的恶意流量。他们测试了几种机器学习算法，包括 CNN、MLP、SVM 和随机森林。当使用 CNN 或随机森林时，该方法达到了 85%以上的准确率。

这些技术试图提高恶意软件检测系统的质量和性能，以建立一个健壮的系统。

# 限制由 ML 支持的恶意软件检测成功的挑战

虽然使用机器学习进行恶意软件检测在静态和动态分析中都显示出有希望的结果，但是存在限制基于 ML 的恶意软件检测器成功的重大挑战。

## 1.培训费用

第一个挑战是在生产环境中培训和更新恶意软件的成本。不幸的是，恶意软件检测不同于 ML 技术已经成功应用的其他领域，例如计算机视觉、自然语言处理和电子商务。恶意软件实例在短时间内进化并改变它们的行为；反恶意软件供应商的一些研究报告称，新的恶意软件实例可以在发布后不到 24 小时内改变他们的行为。这意味着我们需要经常重新培训我们的恶意软件检测器，以便能够检测新的和变异的恶意软件实例。因此，恶意软件检测的 ML 模型的适应性是一个至关重要的要求，而不仅仅是一个辅助功能。
与计算机视觉、自然语言处理和其他利用 ML 的领域不同，恶意软件实例会继续发展和变化。这通常需要在生产中重新训练 ML 模型，这是一项昂贵而复杂的任务。因此，当使用 ML 进行恶意软件检测时，我们需要换一种方式思考。

![](img/c6ddd218c8f7f7778f2e4803f6c4102b.png)

[图片来源](https://medium.com/weroam/great-minds-think-differently-efe1cc01c313)

## 2.了解恶意软件检测器

网络安全分析师总是倾向于可解释和可理解的解决方案。因为他们需要调整和优化这些解决方案，以减轻和控制误报和漏报的影响。理解和解释 ML 模型对他们来说是一个新的挑战。任何恶意软件检测器都会产生误报。我们知道恶意软件分析师不会接受那些黑盒恶意软件检测器。这就是为什么我们需要专注于对 ML 模型的解释，以使恶意软件分析师可以接受，他们不需要成为机器学习专家。

## 3.敌对恶意软件

众所周知，机器学习模型对对手精心制作的输入缺乏鲁棒性。你可以在这里查看我之前关于对抗性攻击的文章[。事实上，利用 ML 的恶意软件检测系统可以使用敌对的恶意软件样本来绕过。Kolosnjaji 等人表明，通过使用智能规避攻击，他们可以击败(Raff 等人，2017 年)中提出的深度学习检测系统。](https://medium.com/analytics-vidhya/artificial-intelligence-as-a-weapon-for-hackers-fccec8f44275)

![](img/2e1eb361c198f5ba8ebdc4c1f825d741.png)

# 克服这些挑战的解决方案

为了克服我们之前讨论的挑战，我将提出一些新的解决方案。

*   受微服务架构启发的新方法。这意味着构建多个小型、廉价、集中的 ML 模型来检测恶意软件实例。每个模型被构建来检测特定恶意软件实例(例如，[](https://en.wikipedia.org/wiki/Mirai_(malware))*、 [*WannaCry*](https://en.wikipedia.org/wiki/WannaCry_ransomware_attack) )或单个恶意软件家族(一组相似的恶意软件实例)的行为。此外，每个模型或检测器都是使用相似的特征构建的，例如具有相同的计算成本，或者对于特定的执行环境是唯一的。
    使用微型聚焦检测机降低了生产中再培训和部署的成本。这是因为可以训练和添加新恶意软件的检测器，而不需要重新训练现有的检测器。此外，当恶意软件检测器由于恶意软件进化行为而变得过时时，过时的检测器被移除并被新的检测器取代。*
*   *使用进化计算，我们可以使用一组 IF-Then 规则来描述恶意软件检测器的决策。唯一需要的信息是恶意软件检测器用来做出决定的输入特征。
    IF-Then 规则有助于解释触发恶意软件检测器做出特定决定(如恶意或良性)的行为。网络安全和恶意软件分析师对使用“如果-那么”规则感到满意。这些规则将有助于理解恶意软件检测器做出的决定，解释检测的范围，并识别可能导致假阳性或假阴性的潜在过度概括或过度拟合。*
*   *培训和更新恶意软件检测器是对抗恶意软件的最有效的解决方案。正如我之前提到的，我们无法创建一个完美的恶意软件检测系统。我也相信我们不能设计完美的恶意软件。为此，使用混合机器学习模型(当使用两种或更多种不同的 ML 算法来构建模型时)将有效对抗敌对的恶意软件。这种方法将为恶意软件检测器提供深度防御。*

# *结论*

> **“人们担心计算机会变得太聪明并接管世界，但真正的问题是它们太笨了，它们已经接管了世界。”* ― **佩德罗·多明戈斯。***

*总之，我的文章旨在清理 ML 恶意软件检测器的视野。因为我相信透明度是建立信任的第一把钥匙。通过这篇文章，我们知道目前机器学习模型缺乏鲁棒性。我们知道他们有能力发现隐藏的关系，以解决复杂的问题，如网络安全问题。当然，这方面还需要进一步的研究。而也许有一天我们可以相信 AI 在安全领域做出的决定。就目前而言，我认为在我们能够回答这个问题之前还有很多工作要做。*

*请关注我，阅读我关于 AI 在安全领域的文章，因为这只是一个开始。✌ ✌ 👌*

****快乐阅读，快乐学习，快乐编码。*👏***

# *参考资料:*

*[1] Hassen，m .，Carvalho，M. M .，和 Chan，P. K. [使用基于静态分析的特征进行恶意软件分类
。](https://ieeexplore.ieee.org/document/8285426) 2017 年。*

*[2] Naeem，h .、Guo，b .和 Naeem，M. R. [一种用于物联网基础设施的轻量级
恶意软件静态可视化分析。](https://www.semanticscholar.org/paper/A-light-weight-malware-static-visual-analysis-for-Naeem-Guo/6dbc1f3a795cf622fa451db7e3b1255b25ec95e8) 2018。*

*[3]d . OSahn、o . e . Kural、s . akley lek 和 e .基里奇[Android 恶意软件基于许可的静态分析的新结果。](https://ieeexplore.ieee.org/document/8355377?denied=) (2018)。*

*[4]萨阿德，s；Briguglio，w .和 Elmiligi，H. [恶意软件检测中机器学习的奇特案例。](https://arxiv.org/pdf/1905.07573.pdf) 2019。*

*[5] Yeo，m .，Koo，y .，Yoon，y .，Hwang，t .，Ryu，j .，Song，j .，和 Park，C. [使用卷积神经网络进行基于流的恶意软件检测。](https://ieeexplore.ieee.org/document/8343255) 2018 年。*

*[6] Raff，e .，Barker，j .，Sylvester，j .，Brandon，r .，Catanzaro，b .，Nicholas，C. K. [通过吃掉整个 exe 文件来检测恶意软件。](https://arxiv.org/pdf/1710.09435.pdf) 2017。*

*[7] Kolosnjaji，b .、Demontis，a .、Biggio，b .、Maiorca，d .、Giacinto，g .、埃克特，c .和花小蕾，F. [敌对的恶意软件二进制文件:规避深度学习以检测可执行文件中的恶意软件。](https://arxiv.org/pdf/1803.04173.pdf) 2018*