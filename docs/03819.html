<html>
<head>
<title>Here’s how I made a CLI tool to work with Google Colab.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">下面是我如何制作一个CLI工具来与Google Colab配合使用。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/heres-how-i-made-a-cli-tool-to-work-with-google-colab-notebooks-7678a88ca662?source=collection_archive---------40-----------------------#2020-04-09">https://towardsdatascience.com/heres-how-i-made-a-cli-tool-to-work-with-google-colab-notebooks-7678a88ca662?source=collection_archive---------40-----------------------#2020-04-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/942d430686292e8052939d6f69fd7ba9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7rhNkKeJLlOwkov-_NqjzQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">colab + cli =💖<a class="ae jd" href="https://unsplash.com/@jakenackos" rel="noopener ugc nofollow" target="_blank">杰克纳克科斯</a>在<a class="ae jd" href="https://unsplash.com/photos/4SHxst61_Sg" rel="noopener ugc nofollow" target="_blank"> unsplash </a>上的照片</p></figure><div class=""/><div class=""><h2 id="e70b" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">使用这个CLI工具，您可以从您的终端管理google colab笔记本</h2></div><h1 id="bf41" class="kv kw jg bd kx ky kz la lb lc ld le lf km lg kn lh kp li kq lj ks lk kt ll lm bi translated">我建造的东西</h1><p id="640b" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated"><a class="ae jd" href="https://github.com/Akshay090/colab-cli" rel="noopener ugc nofollow" target="_blank"> colab-cli </a>:一个cli工具，用于自动化google colab的工作流程，从CLI创建、下载或添加笔记本到google colab，并在google drive中组织它们。</p><h1 id="1c58" class="kv kw jg bd kx ky kz la lb lc ld le lf km lg kn lh kp li kq lj ks lk kt ll lm bi translated">存在的问题及解决方案</h1><p id="a9ae" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">对于每个深度学习实践者来说，google colab是一个在Jupyter笔记本上工作的必去之地。但是从GitHub库打开项目，保存到驱动器，然后在驱动器中创建文件夹来组织所有这些笔记本的整个UX是非常乏味的。</p><p id="69a1" class="pw-post-body-paragraph ln lo jg lp b lq mj kh ls lt mk kk lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">要将代码保存在git资源库中，GitHub只有一个选项，GitLab或其他服务都不支持。</p><p id="1fa6" class="pw-post-body-paragraph ln lo jg lp b lq mj kh ls lt mk kk lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">因此，我想出了解决所有这些问题的解决方案是<a class="ae jd" href="https://github.com/Akshay090/colab-cli" rel="noopener ugc nofollow" target="_blank"> colab-cli </a>，使用这个工具，人们可以从终端使用以下命令轻松打开google colab中的任何笔记本</p><blockquote class="mo mp mq"><p id="d4e2" class="ln lo mr lp b lq mj kh ls lt mk kk lv ms ml ly lz mt mm mc md mu mn mg mh mi ij bi translated"><strong class="lp jh"><em class="jg">cola b-CLI open-nb filename . ipynb</em></strong></p></blockquote><p id="edbb" class="pw-post-body-paragraph ln lo jg lp b lq mj kh ls lt mk kk lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">该工具的工作原理是将笔记本上传到google drive，文件结构与本地git repo中的相同。</p><p id="8ee2" class="pw-post-body-paragraph ln lo jg lp b lq mj kh ls lt mk kk lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">当你完成了谷歌colab的工作后</p><blockquote class="mo mp mq"><p id="85bd" class="ln lo mr lp b lq mj kh ls lt mk kk lv ms ml ly lz mt mm mc md mu mn mg mh mi ij bi translated"><strong class="lp jh"><em class="jg">cola b-CLI pull-nb filename . ipynb</em></strong></p></blockquote><p id="f4e4" class="pw-post-body-paragraph ln lo jg lp b lq mj kh ls lt mk kk lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">以在本地获取所有这些更改。现在你可以自由地提交它，并把它推到任何地方。</p><p id="64b0" class="pw-post-body-paragraph ln lo jg lp b lq mj kh ls lt mk kk lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">如果在本地对笔记本进行了一些更改，您可以在google colab中使用</p><blockquote class="mo mp mq"><p id="8729" class="ln lo mr lp b lq mj kh ls lt mk kk lv ms ml ly lz mt mm mc md mu mn mg mh mi ij bi translated"><strong class="lp jh"><em class="jg">cola b-CLI push-nb filename . ipynb</em></strong></p></blockquote><p id="2281" class="pw-post-body-paragraph ln lo jg lp b lq mj kh ls lt mk kk lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">当从头开始一个项目时，首先要在其中初始化git repo</p><blockquote class="mo mp mq"><p id="3461" class="ln lo mr lp b lq mj kh ls lt mk kk lv ms ml ly lz mt mm mc md mu mn mg mh mi ij bi translated"><strong class="lp jh"> <em class="jg"> git init </em> </strong></p></blockquote><p id="4c45" class="pw-post-body-paragraph ln lo jg lp b lq mj kh ls lt mk kk lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">因为需要找到项目的根目录。要创建新的Jupyter笔记本，请使用</p><blockquote class="mo mp mq"><p id="88bb" class="ln lo mr lp b lq mj kh ls lt mk kk lv ms ml ly lz mt mm mc md mu mn mg mh mi ij bi translated"><strong class="lp jh"><em class="jg">cola b-CLI new-nb my _ nb . ipynb</em></strong></p></blockquote><p id="a391" class="pw-post-body-paragraph ln lo jg lp b lq mj kh ls lt mk kk lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">这个命令在本地和google drive中创建一个新的Jupyter笔记本，在colab中打开它让你工作。</p></div><div class="ab cl mv mw hu mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ij ik il im in"><h1 id="49a0" class="kv kw jg bd kx ky nc la lb lc nd le lf km ne kn lh kp nf kq lj ks ng kt ll lm bi translated">堆栈是什么？在这个过程中，我遇到了问题或发现了新的东西吗？</h1><p id="2e7d" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">是用python写的。我用<a class="ae jd" href="https://typer.tiangolo.com" rel="noopener ugc nofollow" target="_blank"> Typer </a>做了这个CLI工具。Typer有非常好的入门教程和文档。处理google drive API的部分由<a class="ae jd" href="https://pythonhosted.org/PyDrive/quickstart.html" rel="noopener ugc nofollow" target="_blank"> PyDrive </a>处理。包装部分因<a class="ae jd" href="https://python-poetry.org/" rel="noopener ugc nofollow" target="_blank">诗</a>而易于管理。</p><p id="0cef" class="pw-post-body-paragraph ln lo jg lp b lq mj kh ls lt mk kk lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">主要耗时的部分是编写这些<a class="ae jd" href="https://github.com/Akshay090/colab-cli/blob/master/colab_cli/utilities" rel="noopener ugc nofollow" target="_blank">实用程序</a>来处理文件夹和文件的创建和删除。</p><p id="d385" class="pw-post-body-paragraph ln lo jg lp b lq mj kh ls lt mk kk lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我还使用了<a class="ae jd" href="https://gitpython.readthedocs.io/en/stable" rel="noopener ugc nofollow" target="_blank"> gitpython </a>来获取当前目录的git根目录，但是后来我在移动了我需要的文件之后移除了它，因为它有各种其他的依赖项，这增加了包的安装时间。</p><p id="11fb" class="pw-post-body-paragraph ln lo jg lp b lq mj kh ls lt mk kk lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我从这个项目中了解到一些有趣的事情<br/> *文件夹实际上是带有一些元数据的文件。<br/> *为了从API创建一个新的colab笔记本，我必须知道google colab笔记本的mime类型，这显然在任何地方都没有像<a class="ae jd" href="https://developers.google.com/drive/api/v3/mime-types" rel="noopener ugc nofollow" target="_blank">官方google drive API页面</a>那样的文档，为了获得这个mime类型，我搜索了google drive发出的所有API请求，发现</p><blockquote class="mo mp mq"><p id="89ad" class="ln lo mr lp b lq mj kh ls lt mk kk lv ms ml ly lz mt mm mc md mu mn mg mh mi ij bi translated">google colab笔记本的mime类型是:` application/vnd . Google . co laboratory`。</p></blockquote><p id="d6bb" class="pw-post-body-paragraph ln lo jg lp b lq mj kh ls lt mk kk lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">这是一个非常有趣的周末项目。如果您能尝试一下并给出您的反馈或帮助进一步改进，我将不胜感激。</p><h1 id="9d6c" class="kv kw jg bd kx ky kz la lb lc ld le lf km lg kn lh kp li kq lj ks lk kt ll lm bi translated">演示</h1><p id="c112" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">你可以在这里观看</p><h2 id="69fe" class="nh kw jg bd kx ni nj dn lb nk nl dp lf lw nm nn lh ma no np lj me nq nr ll ns bi translated">链接到代码</h2><p id="e74a" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">完整的项目是开源的，你可以在https://github.com/Akshay090/colab-cli找到它</p><h1 id="3766" class="kv kw jg bd kx ky kz la lb lc ld le lf km lg kn lh kp li kq lj ks lk kt ll lm bi translated">其他资源/信息</h1><p id="a07e" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">* Typer教程:<a class="ae jd" href="https://typer.tiangolo.com/tutorial/" rel="noopener ugc nofollow" target="_blank">https://typer.tiangolo.com/tutorial/</a><br/>*楼包配诗:<a class="ae jd" href="https://typer.tiangolo.com/tutorial/package/" rel="noopener ugc nofollow" target="_blank">https://typer.tiangolo.com/tutorial/package/</a><br/>*帖子图片来源:<a class="ae jd" href="https://unsplash.com/photos/4SHxst61_Sg" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/photos/4SHxst61_Sg</a></p></div></div>    
</body>
</html>