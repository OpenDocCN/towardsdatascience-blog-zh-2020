<html>
<head>
<title>5 Data Plots I Made That Are Completely Useless</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我做的 5 个完全无用的数据图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-data-plots-i-made-that-are-completely-useless-d3c503d45a26?source=collection_archive---------40-----------------------#2020-08-10">https://towardsdatascience.com/5-data-plots-i-made-that-are-completely-useless-d3c503d45a26?source=collection_archive---------40-----------------------#2020-08-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9575" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用 R 中的制图包创建无目的的绘图</h2></div><p id="8ca6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你的分析应该会揭示一些新的东西。它应该揭示对趋势或异常模式的洞察。数据科学工作的雇主希望看到你的分析有用且有影响力。</p><p id="03a9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不过是<em class="le">无聊</em>罢了。相反，我们可以制作完全无用的图表，这就是我花了几个小时在做的事情。</p><p id="d576" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">R 中的<a class="ae lf" href="https://www.rdocumentation.org/packages/cartography/versions/2.4.1" rel="noopener ugc nofollow" target="_blank">制图包</a>帮助你将数据转化成引人注目的地图。例如，R 带有北卡罗来纳州婴儿猝死综合症死亡的数据集。使用 shapefile(提供北卡罗来纳州县边界的几何数据)，您可以创建婴儿猝死综合症死亡率最高、婴儿猝死综合症死亡率最低等县的地图。</p><p id="f40c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">像那样的地图很有用。我正要反其道而行之，给你们看一堆我用 R 制图学软件包做的没用的图。</p><h1 id="7512" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">1.加州各县按县名中的字母数排列</h1><figure class="lz ma mb mc gt md gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/a0486c68479e9b352c0172da0700a650.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*TW0LU2BVikJrfeg8HSXw7g.png"/></div></figure><p id="8a16" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">获得加利福尼亚(我的家乡)的 shapefile 非常容易。它在加州政府网站上，还有一些有用的数据集，从犯罪到 COVID。但是我们现在对这些数据集不感兴趣。令人欣慰的是，我们也可以使用这个 shapefile 来绘制无用的图，比如用县名的长度来着色的县图。我们只需要为名称长度创建一个新列:</p><pre class="lz ma mb mc gt mg mh mi mj aw mk bi"><span id="147a" class="ml lh it mh b gy mm mn l mo mp"># add new column based on county name length<br/>library(stringi)<br/>ca$NAME_LENGTH &lt;- stri_length(ca$NAME) - stri_count_fixed(ca$NAME, " ")<br/>#using stri_length and stri_count_fixed removes spaces from the count. For example, "Santa Barbara" is counted as 12 letters instead of 13.</span></pre><p id="8de0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在那里，我使用 ggplot 来可视化数据。添加了<code class="fe mq mr ms mh b">geom_sf</code>图形来填充县，添加了来自 ggthemes 包的<code class="fe mq mr ms mh b">theme_map</code>图形来使我们的地图看起来更好一些:</p><pre class="lz ma mb mc gt mg mh mi mj aw mk bi"><span id="80a7" class="ml lh it mh b gy mm mn l mo mp">ggplot(data=ca) +<br/>  geom_sf(aes(fill=NAME_LENGTH), size=.5) +<br/>  scale_fill_gradient(low="#98BAFF", high="#354057") +<br/>  labs(title="california counties by number of \nletters in the county's name", fill="length") +<br/>  theme_map() +<br/>  theme(panel.background = element_rect(fill = '#F0F0F0', colour = 'white'))</span></pre><p id="41af" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我们有了我们的情节，我们可以看到圣伯纳迪诺县正在<em class="le">杀死它</em>，而<a class="ae lf" href="https://en.wikipedia.org/wiki/Yolo_County,_California" rel="noopener ugc nofollow" target="_blank">约洛县</a>需要收拾它名字长度上的懈怠。</p><h1 id="1fc4" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">2.加州各县的圣地亚哥动物园数量</h1><figure class="lz ma mb mc gt md gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/dc79937c9c26ef0cf8ffbe7c3fec53b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*6c9bsATfG5snMP-j4RT2cw.png"/></div></figure><p id="9220" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">终于，我们有了答案。几十年来，我们加州人一直想知道哪个县有最多的圣地亚哥动物园，结果答案是圣地亚哥县，有一个圣地亚哥动物园。</p><p id="75e7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于这个图表，我创建了一个名为 SD_ZOOS 的新列，将每个县的值设为 0，然后手动将圣地亚哥县的值更改为 1:</p><pre class="lz ma mb mc gt mg mh mi mj aw mk bi"><span id="4a6e" class="ml lh it mh b gy mm mn l mo mp">#initialize all SD_ZOOS values to 0<br/>ca$SD_ZOOS &lt;- 0<br/>#set SD_ZOOS value to 1 for san diego county<br/>ca &lt;- ca %&gt;%<br/> transform(SD_ZOOS = if_else(NAME==”San Diego”, 1,0)))</span></pre><p id="f422" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">据我所知，这是第一次可视化圣地亚哥动物园位置的数据，希望如果你想去加州旅行，这将帮助你找到离你最近的圣地亚哥动物园。</p><h1 id="90b8" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">3.加州各县橄榄园餐厅的数量</h1><figure class="lz ma mb mc gt md gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/957a55ce972f4cea90ecfa7f4aad4eb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*Hh4OyEgeQV1K69pJ5L8TTw.png"/></div></figure><p id="cb19" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个图花了最长的时间来制作，因为我找不到加利福尼亚所有橄榄园位置的原始数据集。我手动找到了每个县的数字，方法是点击“查找离你最近的橄榄园！”网站，并跟踪加州所有 72 个地点的城市。然后，我将每个县的橄榄园数量相加，并将结果导出为 csv 文件，以便更容易地手动添加到 r 中的数据框中。</p><p id="a20d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，把这个图放在这里是一个艰难的决定，因为它几乎是有用的。如果有什么不同的话，我们现在知道洛杉矶县到处都是面包条(它有 17 个橄榄园)。通过插入命令<code class="fe mq mr ms mh b">sum(ca$OG==0)</code>,我们发现有 32 个加州县没有一个橄榄园。</p><h1 id="7c38" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">4.加州各县的橄榄园数量加上县名中的字母数量</h1><figure class="lz ma mb mc gt md gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/2d0d77584ca90e3d3d0b4da295eff3ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*PIoLEF-AVkdVb5hDqq_Ycw.png"/></div></figure><p id="828a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于橄榄花园图有点太有影响力，我决定通过添加任意的数学来使它无用。幸运的是，R 允许您基于一些简单的算法创建新的列。因此，如果您有一个橄榄园位置列(ca$OG)和一个名称长度列(ca$NAME_LENGTH ),您可以这样做:</p><pre class="lz ma mb mc gt mg mh mi mj aw mk bi"><span id="3f64" class="ml lh it mh b gy mm mn l mo mp">ca$OG_LENGTH &lt;- ca$OG + ca$NAME_LENGTH</span></pre><p id="e961" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">洛杉矶县从它的 17 个橄榄园位置仍然是强有力的，但是“圣伯纳迪诺”的名字的影响不是睡觉。</p><h1 id="ab56" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">5.除了阿拉米达县的颜色来自完全不同的调色板之外，每个县都被赋予一种随机的颜色</h1><figure class="lz ma mb mc gt md gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/8a61a2d7d285ce2a972e6a0f7000d7c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*XfE--lVauCq6dQFqwF8K7A.png"/></div></figure><p id="2c3a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">很简单，没有理由需要这个数据图。这个情节绝对没用。这正是我想要的。</p><p id="5e96" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我使用<code class="fe mq mr ms mh b">which</code>命令在数据表中找到了阿拉米达县的索引:</p><pre class="lz ma mb mc gt mg mh mi mj aw mk bi"><span id="5de1" class="ml lh it mh b gy mm mn l mo mp">which(ca$NAME=="Alameda")</span></pre><p id="c7c0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">r 带有一些内置的调色板，允许你随意选择颜色。我使用了热调色板，重新分配了阿拉米达县的颜色，并相应地绘制了:</p><pre class="lz ma mb mc gt mg mh mi mj aw mk bi"><span id="40d7" class="ml lh it mh b gy mm mn l mo mp">cols &lt;- heat.colors(58, a=1)<br/># reassign alameda county's color<br/>cols[42] &lt;- "#0D26FF"</span><span id="c635" class="ml lh it mh b gy mt mn l mo mp">#plot<br/>ggplot(data=ca) +<br/>  geom_sf(fill=cols) +<br/>  labs(title="california counties where each county is assigned a random\ncolor except alameda county's color is from a completely \ndifferent palette") +<br/>  theme_map() +<br/>  <!-- -->theme(panel.background = element_rect(fill = '#F0F0F0', colour =   'white'))</span></pre><p id="c6d2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这张图故意让阿拉米达县看起来格格不入。您没有理由需要这样做。这张图表毫无用处。</p><p id="4465" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果这篇文章照亮了你的一天，或者甚至帮助你学习了一点关于制图包的知识，我会很感激，尽管我真诚地希望你使用自己的数据科学技能使图表比这些更有用。也许你甚至能找到一个我为什么要把阿拉米达县变成蓝色的理由。我可以肯定地说，这会对我产生影响。谁知道呢，也许有一天有人需要知道所有的橄榄园在哪里。我们已经掩护他们了。</p></div></div>    
</body>
</html>