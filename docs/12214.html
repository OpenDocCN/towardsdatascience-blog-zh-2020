<html>
<head>
<title>Bank Marketing Campaign: costs prediction – EDA (I)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">银行营销活动:成本预测-EDA(I)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/machine-learning-costs-prediction-of-a-marketing-campaign-exploratory-data-analysis-part-i-758b8f0ff5d4?source=collection_archive---------16-----------------------#2020-08-23">https://towardsdatascience.com/machine-learning-costs-prediction-of-a-marketing-campaign-exploratory-data-analysis-part-i-758b8f0ff5d4?source=collection_archive---------16-----------------------#2020-08-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/3e20d363018a6fe3b6c1e90a856fef9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BPm24IrFsrebhoCa"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://unsplash.com/@samsonyyc?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">萨姆森</a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><div class=""/><div class=""><h2 id="047b" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">预测营销活动最佳目标候选人的数据科学方法</h2></div><figure class="kz la lb lc gt iv gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/4ec8e9bf2d1db300799bf5784de074e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/format:webp/1*j9ccRPfijaGBmxp3pyOjog.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">探索性数据分析—gon alo GUI mares Gomes</p></figure><h1 id="863c" class="ld le jj bd lf lg lh li lj lk ll lm ln kp lo kq lp ks lq kt lr kv ls kw lt lu bi translated">关于项目</h1><p id="18f3" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">该数据集存储了 2008 年至 2015 年葡萄牙一家银行的营销团队为吸引客户认购定期存款而实施的营销销售操作(电话营销)的信息，将结果分为“是”和“否”两个二进制分类变量。</p><p id="b965" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">在那之前，我们的策略是不加区别地争取最大数量的客户，并试图通过电话向他们销售金融产品。然而，这种方法除了花费许多资源之外，对于许多被这种类型的行为困扰的客户来说也是非常不舒服的。</p><p id="2de7" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">为了确定营销活动的成本，营销团队得出结论:</p><ul class=""><li id="8c56" class="mw mx jj lx b ly mr mb ms me my mi mz mm na mq nb nc nd ne bi translated">对于每个被确定为<strong class="lx jk">优秀候选人</strong>并因此被定义为目标但没有认购存款的客户，银行的<strong class="lx jk">成本为 500 欧元</strong>。</li><li id="cddc" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">对于每个被确定为<strong class="lx jk">不良候选人</strong>并被排除在目标之外但会认购产品的客户，银行的<strong class="lx jk">成本为 2.000 欧元</strong>。</li></ul><h1 id="d702" class="ld le jj bd lf lg lh li lj lk ll lm ln kp lo kq lp ks lq kt lr kv ls kw lt lu bi translated">机器学习问题和目标</h1><p id="f2ef" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">我们面临一个<strong class="lx jk">二元分类问题</strong>。目标是训练最好的机器学习模型，该模型应该能够预测作为目标的候选人的最佳数量，以便将成本降至最低，并将效率最大化。</p><h1 id="56f8" class="ld le jj bd lf lg lh li lj lk ll lm ln kp lo kq lp ks lq kt lr kv ls kw lt lu bi translated">项目结构</h1><p id="0ef7" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">该项目分为三类:</p><ol class=""><li id="c63a" class="mw mx jj lx b ly mr mb ms me my mi mz mm na mq nk nc nd ne bi translated"><strong class="lx jk"> EDA: </strong>探索性数据分析</li><li id="c961" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nk nc nd ne bi translated"><a class="ae jg" href="https://bit.ly/2S5Su8i" rel="noopener ugc nofollow" target="_blank"> <strong class="lx jk">数据争论:</strong>清理和特征选择</a></li><li id="ffc9" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nk nc nd ne bi translated"><strong class="lx jk">机器学习:</strong>预测建模</li></ol><p id="9ad6" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">在本文中，我将只关注第一部分，探索性数据分析(EDA)。</p><h1 id="9475" class="ld le jj bd lf lg lh li lj lk ll lm ln kp lo kq lp ks lq kt lr kv ls kw lt lu bi translated">绩效指标</h1><p id="f689" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">用于评估的指标是<strong class="lx jk">总成本</strong>，因为目标是确定活动的最低成本。</p><p id="bc99" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">你可以在这里找到这个项目的全部代码。<br/>可点击此处<a class="ae jg" href="https://bit.ly/31a0EAL" rel="noopener ugc nofollow" target="_blank">下载“银行 _ 营销 _ 营销活动. csv”数据集。</a></p></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ns"><img src="../Images/d51455131888a81428b6dfa02f1386d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QIcRxsfPwe99bryb"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">丹尼尔·麦金尼斯在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="e512" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">首先要做的是导入所需的库和依赖项。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="2dfe" class="ny le jj nu b gy nz oa l ob oc"># import libraries</span><span id="f72c" class="ny le jj nu b gy od oa l ob oc">import pandas as pd<br/>from pandas.plotting import table<br/>import numpy as np<br/>import seaborn as sns<br/>import scipy.stats<br/>import matplotlib.pyplot as plt<br/>%matplotlib inline</span></pre><p id="9d94" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">加载数据集(我将把它指定为“df”)并检查第一行。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="fc49" class="ny le jj nu b gy nz oa l ob oc">df = pd.read_csv('bank_marketing_campaign.csv') # load the dataset</span><span id="30f0" class="ny le jj nu b gy od oa l ob oc">df.head() # print the data</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oe"><img src="../Images/893b712fc8192bcb7950f7855501aa47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2QF1qwB5-N58Uix8A9grmw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><code class="fe of og oh nu b">head()</code>是一种用于显示数据帧中前‘n’行的方法，而<code class="fe of og oh nu b">tail() </code>用于显示最后‘n’行</p></figure><p id="ce9b" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">标有“y”的因变量或目标(在右边最后一列)是一个二元范畴变量。让我们从将它转换成二进制数字开始，如果客户端订阅，它将假定值为 1，否则为 0。新列“目标”将替换“y”(将被删除)。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="7d3b" class="ny le jj nu b gy nz oa l ob oc"># converting into a binary numeric variable</span><span id="7138" class="ny le jj nu b gy od oa l ob oc">df['target'] = df.apply(lambda row: 1 if row["y"] == "yes" else 0, axis=1)<br/>df.drop(["y"],axis=1,inplace=True)</span></pre><p id="7d68" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">我还将重命名一些列，用下划线代替点。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="cea5" class="ny le jj nu b gy nz oa l ob oc"># Renaming some columns for better typing and calling variables</span><span id="7254" class="ny le jj nu b gy od oa l ob oc">df.rename(columns={"emp.var.rate":"emp_var_rate", "cons.price.idx":"cons_price_idx", "cons.conf.idx":"cons_conf_idx", "nr.employed":"nr_employed"}, inplace=True)</span><span id="7909" class="ny le jj nu b gy od oa l ob oc">df.head()</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oi"><img src="../Images/e64e881ef84a676a96e0b66ff8eb002b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KY5No_8jjxLnPt-tJGc03w.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">将二进制类别目标转换为二进制数值变量，并重命名一些列</p></figure><h1 id="ba51" class="ld le jj bd lf lg lh li lj lk ll lm ln kp lo kq lp ks lq kt lr kv ls kw lt lu bi translated">数据集的基本信息</h1><ul class=""><li id="e9f1" class="mw mx jj lx b ly lz mb mc me oj mi ok mm ol mq nb nc nd ne bi translated">有多少功能可用？</li><li id="84a1" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">数据集中有多少客户端？</li><li id="20a7" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">有重复的记录吗？</li><li id="2c9f" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">有多少客户订阅了定期存款，有多少没有？</li></ul><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="d2c2" class="ny le jj nu b gy nz oa l ob oc"># Printing number of observations, variables including the target, and duplicate samples</span><span id="bbac" class="ny le jj nu b gy od oa l ob oc">print(f"Number of clients: {df.shape[0]}")<br/>print(f"Number of variables: {df.shape[1]} incl. target")<br/>print(f"Number of duplicate entries: {df.duplicated().sum()}")</span></pre><p id="0796" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">客户端数量:41188 <br/>变量数量:16 包括目标<br/>重复条目数量:5853</p><p id="0bb3" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">我必须得出结论，这些明显重复的样本实际上来自具有相同特征的人。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="6e6b" class="ny le jj nu b gy nz oa l ob oc"># How many clients have subscribed and how many didn't?</span><span id="897e" class="ny le jj nu b gy od oa l ob oc">absolut = df.target.value_counts().to_frame().rename(columns={"target":"clients"})<br/>percent = (df.target.value_counts(normalize=True) *100).to_frame().rename(columns={"target":"%"})<br/>df_bal = pd.concat([absolut,percent],axis=1).round(decimals=2)<br/><br/>print(f"[0] Number of clients that haven't subscribed the term deposit: {df.target.value_counts()[0]}")<br/>print(f"[1] Number of clients that have subscribed the term deposit: {df.target.value_counts()[1]}")<br/><br/>display(df_bal)</span><span id="5348" class="ny le jj nu b gy od oa l ob oc">absolut.plot(kind='pie', subplots=True, autopct='%1.2f%%', <br/>             explode= (0.05, 0.05), startangle=80, <br/>             legend=False, fontsize=12, figsize=(14,6));</span></pre><h2 id="7345" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated">数据集高度不平衡:</h2><p id="46e5" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">[0]未认购定期存款客户数:36548 <br/> [1]已认购定期存款客户数:4640</p><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ox"><img src="../Images/2895fdde82abb9abc0a880a423a2fba5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TlbKAY-54byybsERIKi6_w.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">数据集不平衡，0:“否”大约是 1:“是”的八倍</p></figure></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><h1 id="bd26" class="ld le jj bd lf lg oy li lj lk oz lm ln kp pa kq lp ks pb kt lr kv pc kw lt lu bi translated">探索性数据分析</h1><p id="ec9b" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">现在让我们检查变量类型、缺失值、相关性以及显示统计描述。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="99f9" class="ny le jj nu b gy nz oa l ob oc"># Type of variables<br/>df.dtypes.sort_values(ascending=True)</span><span id="4bad" class="ny le jj nu b gy od oa l ob oc">age                 int64<br/>pdays               int64<br/>previous            int64<br/>target              int64<br/>emp_var_rate       float64<br/>cons_price_idx     float64<br/>cons_conf_idx      float64<br/>euribor3m          float64<br/>nr_employed        float64<br/>job                object<br/>marital            object<br/>education          object<br/>default            object<br/>housing            object<br/>loan               object<br/>poutcome           object<br/>dtype: object</span><span id="1777" class="ny le jj nu b gy od oa l ob oc"># Counting variables by type<br/>df.dtypes.value_counts(ascending=True)</span><span id="6ced" class="ny le jj nu b gy od oa l ob oc">int64      4<br/>float64     5<br/>object     7<br/>dtype: int64</span><span id="f1c4" class="ny le jj nu b gy od oa l ob oc"># Detecting missing values<br/>print(f"Are there any missing values? {df.isnull().values.any()}")</span><span id="541f" class="ny le jj nu b gy od oa l ob oc">Are there any missing values? False</span><span id="b59d" class="ny le jj nu b gy od oa l ob oc"># Visualization of correlations (heatmap)<br/>mask = np.triu(df.corr(), 1)<br/>plt.figure(figsize=(19, 9))<br/>sns.heatmap(df.corr(), annot=True, vmax=1, vmin = -1, square=True, cmap='BrBG', mask=mask);</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pd"><img src="../Images/def44aceced998aaede867cfcfd199fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ss6yG8SbBICwyLD7Eap_Rg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">Seaborn 热图(皮尔逊方法)</p></figure><p id="dd9a" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">变量<code class="fe of og oh nu b">'emp_var_rate'</code>、<code class="fe of og oh nu b">'nr_employed'</code>、<code class="fe of og oh nu b">'euribor3m'</code>非常多余。<code class="fe of og oh nu b">'nr_employed'</code>与目标最相关。</p><p id="eb81" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">为了对目前的数据有一个清晰和更准确的认识，我将展示一般的统计数据。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="58cd" class="ny le jj nu b gy nz oa l ob oc"># General stats of numeric variables adding 'variance' values</span><span id="3c6c" class="ny le jj nu b gy od oa l ob oc">describe = df.describe()<br/>describe.append(pd.Series(df.var(), name='variance'))</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pe"><img src="../Images/6ce4c63b0a7690319f6f174471ab3148.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mDNq9CZLp0SzPbm8Y9L1RA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">数字变量的一般统计</p></figure><p id="695c" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx jk">年龄</strong>:最小的客户 17 岁，最大的客户 98 岁，中位数为 38 岁，而平均年龄为 40 岁。分布向左倾斜。这可能表明异常值的存在。</p><p id="1287" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx jk"> Pdays </strong>:从上一次活动中最后一次联系客户后经过的天数。大多数客户都有 999 号码，这表明大多数人没有与银行联系，也没有被银行联系。那些 999 被认为是“超出范围”的值。</p><p id="50be" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx jk">上一次</strong>:在本次活动之前，每个客户的联系次数。绝大多数人从未被联系过。</p><p id="152f" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx jk"> Emp_var_rate </strong>:就业变动率。在此期间，指数从[-3.4，1.4]不等。</p><p id="5f28" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx jk"> Cons_price_idx </strong>:居民消费价格指数从【92.2，94.8】不等。</p><p id="6f5b" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx jk"> Cons_conf_idx </strong>:该期间消费者信心水平始终保持负值，变动幅度为[-51，-27]。这些负值可能是因为在记录数据的同一时期，由于全球金融危机，经济衰退严重影响了葡萄牙。</p><p id="e46b" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">Euribor3m :在分析期间，Euribor 利率出现了巨大的变化【5%至 0.6%】。这种波动加上上文验证的负面信心加强了数据提供危机时期信息的假设。</p><p id="3044" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">活动期间，就业人数在 200 人左右。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="b6bb" class="ny le jj nu b gy nz oa l ob oc">df.describe(include=['object']) # General stats of categoric variables</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pf"><img src="../Images/bee3ad1a81dac5dbf28553b6324c9774.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2sR-M5yR7jIlwEjQ0OkCMg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">类别变量的一般统计</p></figure><p id="3f25" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx jk">工作</strong>:有 12 种类型的工作记录，其中管理角色是最常见的，几乎占所有客户端的 10.5k。</p><p id="61d1" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx jk">婚姻</strong>:大部分客户已婚，有近 25k 记录。</p><p id="ee2c" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx jk">学历</strong>:12k 以上的人有大学学历。</p><p id="ca3b" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx jk">违约</strong>:在所有 41.188 个客户中，32.588 个没有任何信用违约。</p><p id="2972" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx jk">住房:几乎一半的客户都有住房贷款。</strong></p><p id="3988" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">贷款:几乎 34k 客户没有任何个人贷款。</p><p id="e239" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">没有任何关于之前营销活动结果的信息。</p><h1 id="7d57" class="ld le jj bd lf lg lh li lj lk ll lm ln kp lo kq lp ks lq kt lr kv ls kw lt lu bi translated">所有变量的统计描述</h1><p id="4c1a" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">为了能够对数字和类别变量进行分析，我将首先按照变量的类型分别定义和创建一个特性列表。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="f89d" class="ny le jj nu b gy nz oa l ob oc"># creating indexes</span><span id="2966" class="ny le jj nu b gy od oa l ob oc">cat_features = list(df.select_dtypes('object').columns)<br/>int_features = list(df.select_dtypes('int64').columns)<br/>float_features = list(df.select_dtypes('float64').columns)<br/>num_features = int_features+float_features</span></pre><p id="a8c6" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">EDA 过程的下一步包括提供数据集中所有变量的完整描述，从数字变量开始。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="db44" class="ny le jj nu b gy nz oa l ob oc"># Visualization of the numeric distribution</span><span id="bdac" class="ny le jj nu b gy od oa l ob oc">df[num_features].hist(figsize=(10,8), bins=25, xlabelsize=8, ylabelsize=8, alpha=0.9, grid=False)<br/>plt.tight_layout();</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pg"><img src="../Images/f4758f42e52dd984236a166f892b4e50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fmTjpikNw70_-vgraJjavg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">数值分布的可视化</p></figure><h2 id="a585" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated"><code class="fe of og oh nu b"><strong class="ak">Age</strong></code></h2><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="b05a" class="ny le jj nu b gy nz oa l ob oc"># creating a dataframe<br/>stats_age = {'Designation': ['Value'],<br/>             'Variable': 'age',<br/>             'Description': 'clients` age',<br/>             'Type of variable': df.age.dtype,<br/>             'Type of distribution': 'continuous',<br/>             'Total observations': df.age.shape[0],<br/>             'Missing values': df.age.isnull().sum(),<br/>             'Unique values': df.age.nunique(),<br/>             'Min': df.age.min(),<br/>             '25%': int(df.age.quantile(q=[.25]).iloc[-1]),<br/>             'Median': df.age.median(),<br/>             '75%': int(df.age.quantile(q=[.75]).iloc[-1]),<br/>             'Max': df.age.max(),<br/>             'Mean': df.age.mean(),<br/>             'Std dev': df.age.std(),<br/>             'Variance': df.age.var(),<br/>             'Skewness': scipy.stats.skew(df.age),<br/>             'Kurtosis': scipy.stats.kurtosis(df.age)<br/>            }</span><span id="f124" class="ny le jj nu b gy od oa l ob oc">st_age = pd.DataFrame(stats_age, columns = ['Designation',<br/>                                          'Variable',<br/>                                          'Description',<br/>                                          'Type of variable',<br/>                                          'Type of distribution',<br/>                                          'Total observations',<br/>                                          'Missing values',<br/>                                          'Unique values',<br/>                                          'Min',<br/>                                          '25%',<br/>                                          'Median',<br/>                                          '75%',<br/>                                          'Max',<br/>                                          'Mean',<br/>                                          'Std dev',<br/>                                          'Variance',<br/>                                          'Skewness',<br/>                                          'Kurtosis'<br/>                                             ])</span><span id="67ad" class="ny le jj nu b gy od oa l ob oc">st_age.set_index("Designation", inplace=True)</span><span id="7a07" class="ny le jj nu b gy od oa l ob oc">results = st_age.T # transposing the dataframe<br/>resultsT = st_age<br/>display(results)</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/906ff79015bdca8e29de8583381b3d8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*UWQe5IKDEvV2gsXzl6LDxQ.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由数据帧呈现的完整描述</p></figure><p id="33e1" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">非常重要的一点是，要将分布和离散可视化，如下所示。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="6da1" class="ny le jj nu b gy nz oa l ob oc"># Visualization of 'age'<br/># creating a distribution graph and bloxplot combined</span><span id="dc1a" class="ny le jj nu b gy od oa l ob oc">age = df.age<br/>np.array(age).mean()<br/>np.median(age)</span><span id="fdd9" class="ny le jj nu b gy od oa l ob oc">f, (ax_box, ax_hist) = plt.subplots(2, sharex=True, gridspec_kw= {"height_ratios": (0.5, 2)})</span><span id="7b40" class="ny le jj nu b gy od oa l ob oc">mean=np.array(age).mean()<br/>median=np.median(age)</span><span id="f57a" class="ny le jj nu b gy od oa l ob oc">sns.boxplot(age, ax=ax_box)<br/>ax_box.axvline(mean, color='r', linestyle='--')<br/>ax_box.axvline(median, color='g', linestyle='-')</span><span id="5a5a" class="ny le jj nu b gy od oa l ob oc">sns.distplot(age, ax=ax_hist)<br/>ax_hist.axvline(mean, color='r', linestyle='--')<br/>ax_hist.axvline(median, color='g', linestyle='-')</span><span id="50a5" class="ny le jj nu b gy od oa l ob oc">plt.legend({'Mean':mean,'Median':median})<br/>ax_box.set(xlabel='')</span><span id="469e" class="ny le jj nu b gy od oa l ob oc">plt.show()</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pi"><img src="../Images/1d030834a77e4c1d356b25ba0322a54a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nv56uHxdBbWi64fWstvArA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">数据的分布和分散</p></figure><p id="9d6c" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">百分点计算:1%，5%，95%，99%</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="18a9" class="ny le jj nu b gy nz oa l ob oc">display(df.age.quantile(q=[.01, .05, .95, .99]))</span><span id="9c89" class="ny le jj nu b gy od oa l ob oc">0.01    23.0<br/>0.05    26.0<br/>0.95    58.0<br/>0.99    71.0<br/>Name: age, dtype: float64</span></pre><p id="e0f7" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">为了能够根据目标可视化变量，我们必须首先定义两个组:必须订阅的客户端和没有订阅的客户端(让我们分别称它们为“好”和“坏”客户端)。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="2f92" class="ny le jj nu b gy nz oa l ob oc"># Visualization variable vs. target</span><span id="3876" class="ny le jj nu b gy od oa l ob oc">age_0 = df[df.target == 0].iloc[:,:1]<br/>age_1 = df[df.target == 1].iloc[:,:1]</span><span id="218a" class="ny le jj nu b gy od oa l ob oc">a = np.array(age_0)<br/>b = np.array(age_1)</span><span id="5117" class="ny le jj nu b gy od oa l ob oc">np.warnings.filterwarnings('ignore')</span><span id="98bc" class="ny le jj nu b gy od oa l ob oc">plt.hist(a, bins=40, density=True, color="r", alpha = 0.6, label='Bad client')<br/>plt.hist(b, bins=40, density=True, color="g", alpha = 0.6, label='Good client')</span><span id="b2b8" class="ny le jj nu b gy od oa l ob oc">plt.legend(loc='upper right')<br/>plt.title('age', fontsize=14)<br/>plt.xlabel('age')<br/>plt.ylabel('absolute frequency');</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pj"><img src="../Images/e6eda63ec2b931c7014d00eb7756205a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ffrlLuCb8bsKwWBJN5gBvA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">相对于目标的可变“年龄”</p></figure><p id="37ae" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">从比例上看，年龄在 30 岁以下和 60 岁以上的用户比 30 岁至 60 岁的用户多。</p><p id="8660" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">让我们更进一步，使用<code class="fe of og oh nu b">cut </code>方法，按照年龄将订阅的客户分为三个类别:年轻(&lt;=30), adult (&gt; 30 到&lt;=60), and senior (&gt; 60)。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="2bea" class="ny le jj nu b gy nz oa l ob oc">df['age_bins'] = pd.cut(df['age'], bins = [df['age'].min(), 30, 60, df['age'].max()],labels=['Young', 'Adult', 'Senior'])</span><span id="5d3f" class="ny le jj nu b gy od oa l ob oc">​group_age_target = df.groupby(['age_bins'])['target'].mean().multiply(100)</span><span id="20ff" class="ny le jj nu b gy od oa l ob oc">display(group_age_target)</span><span id="41ef" class="ny le jj nu b gy od oa l ob oc">group_age_target.plot.barh()<br/>plt.xlabel('Subscribed [%]');</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pk"><img src="../Images/6449bcf533be0153901f32e7fc81f726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Kh1RR803NlWGB-_Y8qdUA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">使用 cut()方法对订阅客户端进行分组</p></figure><ul class=""><li id="ed44" class="mw mx jj lx b ly mr mb ms me my mi mz mm na mq nb nc nd ne bi translated">45.5%的老年人(+60 岁)认购定期存款。</li><li id="2044" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">不到十分之一的成年人(&gt; 30 和&lt;=60 years old) subscribed.</li><li id="4d14" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">Young people were the 2nd group that subscribed to the deposit corresponding to 1/6 of all young people.</li><li id="4f67" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">Senior subscribers alone were almost as much as Young and Adults subscribers, respectively, all together.</li></ul><h2 id="71c4" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated"> 【T1】 </h2><p id="34e5" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">Following the previous structure, I’ll be only displaying visuals for a greater understanding. The full code can be seen <a class="ae jg" href="https://bit.ly/32hBaSp" rel="noopener ugc nofollow" target="_blank">此处</a>)。</p><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pl"><img src="../Images/1335db430edf0d5d4df29ed5bab8951b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qeyEXaOGp69JGpfikpjQmg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由数据帧呈现的完整描述</p></figure><p id="39d1" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">百分点计算:1%，5%，95%，99%</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="04e5" class="ny le jj nu b gy nz oa l ob oc">display(df.pdays.quantile(q=[.01, .05, .95, .99]))</span><span id="6120" class="ny le jj nu b gy od oa l ob oc">0.01      3.0<br/>0.05    999.0<br/>0.95    999.0<br/>0.99    999.0<br/>Name: pdays, dtype: float64</span></pre><p id="8cb5" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">接下来，可视化数据的分布以及相对于目标的变量。</p><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pm"><img src="../Images/6b48a9d42615cde82c3c691edc68efa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QctpqSSGBSRJbTO_O0q-7Q.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">左边是分布，右边是相对于目标的变量</p></figure><p id="7935" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">仅考虑那些必须订阅的客户，让我们来数一数从上一次活动联系后过去了多少天。大多数人会在第 6 天和 7 到 8 天内做出反应，你可以在下面观察。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="b779" class="ny le jj nu b gy nz oa l ob oc">dummy = df.loc[(df['pdays']!=999) &amp; (df['target'] == 1), 'pdays']<br/>print('Median: {:.2}'.format(dummy.median()))<br/>dummy.hist().grid(False)<br/>plt.title('Histogram')<br/>plt.xlabel('Couting days after contact \n for those who subscribed')</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pn"><img src="../Images/ea4429349976022b439de79d4a6f8993.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RW0HSlCs7hi1TUc-U0Je7A.png"/></div></div></figure><h2 id="e069" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated"><code class="fe of og oh nu b"><strong class="ak">Previous</strong></code></h2><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi po"><img src="../Images/a39f142be7ba1b06acad88e59a61422a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zXIvLj6wgVDhC1PxWSwEOg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由数据帧呈现的完整描述</p></figure><p id="3149" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">百分点计算:1%，5%，95%，99%</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="fcdc" class="ny le jj nu b gy nz oa l ob oc">display(df.previous.quantile(q=[.01, .05, .95, .99]))</span><span id="c383" class="ny le jj nu b gy od oa l ob oc">0.01    0.0<br/>0.05    0.0<br/>0.95    1.0<br/>0.99    2.0<br/>Name: previous, dtype: float64</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pp"><img src="../Images/786467955401aecdb10f2491956d3cbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7OOd-7frSv6kXdU2Irenvg.png"/></div></div></figure><p id="3e30" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">下图显示，之前联系的客户以高得多的利率认购了定期存款。</p><p id="7902" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">仅考虑从未联系过的客户，只有 10%订阅，而之前联系过两次或更多的客户，活动的成功率增加到 45%以上。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="7ed3" class="ny le jj nu b gy nz oa l ob oc">group = df.groupby(['previous'])['target'].mean().multiply(100)<br/>group.plot.barh()<br/>plt.xlabel('Subscribed [%]');</span><span id="5b61" class="ny le jj nu b gy od oa l ob oc">print('How many people got previously contacted? {}'.format(df.loc[df['previous']!=0].shape[0]))</span><span id="09fe" class="ny le jj nu b gy od oa l ob oc">print('How many people got contacted 7 times? {}'.format(df.loc[df['previous']==7, 'previous'].count()))</span><span id="3934" class="ny le jj nu b gy od oa l ob oc">print('How many people got previously contacted with success? {}'.format(df.poutcome.value_counts()[1]))</span><span id="a65c" class="ny le jj nu b gy od oa l ob oc">print('How many people got previously contacted without success? {}'.format(df.poutcome.value_counts()[2]))</span></pre><ul class=""><li id="4ba0" class="mw mx jj lx b ly mr mb ms me my mi mz mm na mq nb nc nd ne bi translated">之前联系了多少人？5625</li><li id="72af" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">有多少人被联系了 7 次？一</li><li id="4297" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">有多少人以前接触过成功？4525</li><li id="1fdb" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">之前有多少人联系不上？1373</li></ul><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pq"><img src="../Images/29072cf9a4a20c0f8c573f22205311cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bz_A6-loiMSKSAuCpC6Xnw.png"/></div></div></figure><h2 id="f0a8" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated">索引变量</h2><p id="bf40" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">数据集中有 4 个宏观评级变量或经济指标:<strong class="lx jk">‘EMP _ var _ rate’</strong>，<strong class="lx jk">‘cons _ price _ idx’</strong>，<strong class="lx jk">‘cons _ conf _ idx’</strong>和<strong class="lx jk">‘euribor 3m’</strong>。</p><p id="3fc6" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">让我们进一步挖掘，简要调查它们的相关性，并检查这些指标之间以及指标之间是否有任何趋势或模式。为此，我必须创建一个仅包含这些特定变量的列表，并并排显示它们(pairplot 方法)。</p><p id="5912" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><em class="pr">注意:我们将在这个项目的稍后部分(但是在另一篇文章中)回到数据争论:清理和特性工程一节中的相关性主题。</em></p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="ef18" class="ny le jj nu b gy nz oa l ob oc"># creating a list<br/>idx_list = ["cons_price_idx", "cons_conf_idx", "euribor3m", "emp_var_rate", "target"]</span><span id="abfc" class="ny le jj nu b gy od oa l ob oc">df[idx_list].corr()</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ps"><img src="../Images/074feca161d0cfed4848633df708fa66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EPMr8Y_GuZbFeR6K3JNJMQ.png"/></div></div></figure><p id="da18" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">我们可以看到，<code class="fe of og oh nu b">euribor3m</code>、<code class="fe of og oh nu b">cons_price_idx</code>、<code class="fe of og oh nu b">emp_Var_rate</code>高度相关。接下来，使用 pairplot 方法可视化指数变量之间的相关性。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="0e32" class="ny le jj nu b gy nz oa l ob oc">sns.pairplot(df[idx_list], hue="target")<br/>plt.show()</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pt"><img src="../Images/44aeb3030a72364eedb9ecaa084b7428.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bz_sRqp9cHv-oLmoM5VCfw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">指数变量相关性的可视化(pairplot)</p></figure><p id="fa04" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">从<strong class="lx jk">散点图</strong>中我们可以观察到什么？<em class="pr">请记住,(蓝色)0 =否,(橙色)1 =是</em></p><ul class=""><li id="4831" class="mw mx jj lx b ly mr mb ms me my mi mz mm na mq nb nc nd ne bi translated"><code class="fe of og oh nu b">euribor3m</code>在<code class="fe of og oh nu b">emp_var_rate.</code>正变化时增加</li><li id="b2ac" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated"><code class="fe of og oh nu b">cons_conf_idx</code>随<code class="fe of og oh nu b">cons_price_idx</code>和<code class="fe of og oh nu b">emp_var_rate</code>线性变化:物价和就业率越高，信心指数越低。</li><li id="505d" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">当<code class="fe of og oh nu b">emp_var_rate</code>(就业率)增加<code class="fe of og oh nu b">cons_price_idx</code>(物价指数)也增加。</li></ul><p id="946b" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">活动的产出会受到指数变量的影响吗？答案来自对<strong class="lx jk">分布图</strong>的观察。</p><ul class=""><li id="e514" class="mw mx jj lx b ly mr mb ms me my mi mz mm na mq nb nc nd ne bi translated"><code class="fe of og oh nu b">euribor3m</code>越低，订阅数越高。</li><li id="e414" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">当<code class="fe of og oh nu b">cons_price_idx</code>(消费者价格指数)增加时，客户订阅会产生强烈的负面反应。</li><li id="43e3" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">当<code class="fe of og oh nu b">emp_var_rate</code>(就业率)为负时，对该活动的积极响应更高。</li></ul><h2 id="4652" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated">Nr _ 已就业</h2><figure class="kz la lb lc gt iv gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/f126380d08e05376c2e1d8d8b7dec4af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*mm1CU0b08EX822Ft_L8FPA.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由数据帧呈现的完整描述</p></figure><p id="584b" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">百分点计算:1%，5%，95%，99%</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="8925" class="ny le jj nu b gy nz oa l ob oc">display(df.nr_employed.quantile(q=[.01, .05, .95, .99]))</span><span id="6657" class="ny le jj nu b gy od oa l ob oc">0.01    4963.6<br/>0.05    5017.5<br/>0.95    5228.1<br/>0.99    5228.1<br/>Name: nr_employed, dtype: float64</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pv"><img src="../Images/9e0f9dfebc092f03281a9f873c5fcada.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rbp_HACwSCvqPCz4FJn-eA.png"/></div></div></figure><p id="a8af" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">从分析中，我们知道被联系的人有更高的订阅率。上面的直方图显示，第一次联系专门针对已知客户，这导致了一个雇佣人数较少、效率更高的活动。</p><p id="0661" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">让我们继续讨论分类变量的描述。</p><h2 id="2bfc" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated">职位</h2><p id="3c7a" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">“作业”有 12 个唯一值。有一个标记为“unknown”的类被认为是缺失值(我暂时不会对缺失值做任何处理)。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="451d" class="ny le jj nu b gy nz oa l ob oc">stats_job = {'Designation': ['Value'],<br/>            'Variable': 'job',<br/>            'Description': 'type of job',<br/>            'Type of variable': df.job.dtype,<br/>            'Total observations': df.job.shape[0],<br/>            'Unique values': df.job.nunique(),<br/>           }</span><span id="d7d3" class="ny le jj nu b gy od oa l ob oc">st_job = pd.DataFrame(stats_job, columns = ['Designation',<br/>                                      'Variable',<br/>                                      'Description',<br/>                                      'Type of variable',<br/>                                      'Total observations',<br/>                                      'Unique values',<br/>                                          ])</span><span id="3d97" class="ny le jj nu b gy od oa l ob oc">st_job.set_index("Designation", inplace=True)</span><span id="0e76" class="ny le jj nu b gy od oa l ob oc">​results = st_job.T<br/>resultsT = st_job<br/>display(results)</span><span id="31d0" class="ny le jj nu b gy od oa l ob oc">print(f"List of unique values: {df.job.unique()}")</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pw"><img src="../Images/677eabf5e95c8e18332d4c372123de39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*os6aZM1N4ecxCCkTSSzFOA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由数据帧呈现的完整描述</p></figure><p id="4d49" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">客户的工作是如何分配的？</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="e9e6" class="ny le jj nu b gy nz oa l ob oc">data_count = df['job'].value_counts().plot(kind='bar', figsize=(6,4), fontsize=12)<br/>plt.title('Categorical variable \'job\'', fontsize=12)<br/>plt.xlabel('Jobs')<br/>plt.ylabel('Absolute frequency');</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi px"><img src="../Images/5821d4de37c9bd306a79b668bbc454b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K85Bgh-wfcDA4Jx8w-TXsg.png"/></div></div></figure><p id="b362" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">下面，我们可以找到绝对值(工作的总和)和它们的比例。5 个最常见的作业足以代表 80%的数据。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="4a6b" class="ny le jj nu b gy nz oa l ob oc">num_obs = df.job.value_counts()<br/>num_o = pd.DataFrame(num_obs)<br/>num_o.rename(columns={"job":"Freq abs"}, inplace=True)<br/>num_o_pc = (df.job.value_counts(normalize=True) * 100).round(decimals=2)<br/>num_obs_pc = pd.DataFrame(num_o_pc)<br/>num_obs_pc.rename(columns={"job":"percent %"}, inplace=True)<br/>n_obs = pd.concat([num_o,num_obs_pc], axis=1)</span><span id="d499" class="ny le jj nu b gy od oa l ob oc">display(n_obs)</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div class="gh gi py"><img src="../Images/c22ddba718eb39de0c73cff4ca3a635a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*Fm4yaj92f0W4siXX3UrkLA.png"/></div></figure><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="a076" class="ny le jj nu b gy nz oa l ob oc">job_0 = df[df.target == 0].iloc[:,1:2]<br/>job_1 = df[df.target == 1].iloc[:,1:2]</span><span id="b92d" class="ny le jj nu b gy od oa l ob oc">a = np.array(job_0)<br/>b = np.array(job_1)</span><span id="0f11" class="ny le jj nu b gy od oa l ob oc">np.warnings.filterwarnings('ignore')</span><span id="e42b" class="ny le jj nu b gy od oa l ob oc">plt.hist(a, bins=40, color="r", alpha = 0.8, label='Bad client', align="left")<br/>plt.hist(b, bins=40, color="g", alpha = 0.8, label='Good client', align="right")</span><span id="9b13" class="ny le jj nu b gy od oa l ob oc">plt.legend(loc='upper right')<br/>plt.title('job', fontsize=12)<br/>plt.xlabel('Professional ocupation')<br/>plt.xticks(rotation='vertical')<br/>plt.ylabel('Absolute frequency');</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pk"><img src="../Images/11e7681519ab4f459b52959a154f0dab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LCBNXiYHS6YbxVzarT9CpQ.png"/></div></div></figure><p id="1d82" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">这些课程是“管理”、“蓝领”、“技术人员”、“管理人员”和“服务人员”是大多数客户必须订阅的工作，但就比例而言，“学生”和“退休人员”是最具代表性的。</p><p id="93e0" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">下面我们看到“退休”和“女佣”是最老的客户，也是比其他任何一个阶层接受订阅更多的客户。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="6d1c" class="ny le jj nu b gy nz oa l ob oc">type_pivot = df.pivot_table(<br/>    columns="target",<br/>    index="job",<br/>    values="age", aggfunc=np.mean)</span><span id="f41d" class="ny le jj nu b gy od oa l ob oc">type_pivot.sort_values(by=["job"], ascending=True).plot(kind="bar", title=("Type of customer by professional occupation and age"), figsize=(6,4), fontsize = 12);</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pi"><img src="../Images/383ef030e678a1d968215e1d882690ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*siN5Eg9zXh7YRoxTK2yPLw.png"/></div></div></figure><h2 id="85e8" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated">婚姻的</h2><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pz"><img src="../Images/430652dd9cb454106d1131b95564070e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DBxevkCyEhXIhkzDYM5B3w.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由数据帧呈现的完整描述</p></figure><p id="9f17" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">“婚姻”有 4 个独特的价值。如下图所示，图表显示，占主导地位的阶层是 61%的“已婚”人士，而“离婚”客户占所有客户的 11%。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="ccd9" class="ny le jj nu b gy nz oa l ob oc"># pie chart<br/>df['marital'].value_counts(dropna=False).plot(kind='pie', figsize=(14,9), explode = (0.01, 0.01, 0.01, 0.01), autopct='%1.1f%%', startangle=120);</span><span id="bf23" class="ny le jj nu b gy od oa l ob oc"># table<br/>marital_obs = df.marital.value_counts()<br/>marital_o = pd.DataFrame(marital_obs)<br/>marital_o.rename(columns={"marital":"Freq abs"}, inplace=True)<br/>marital_o_pc = (df.marital.value_counts(normalize=True) *100).round(decimals=2)<br/>marital_obs_pc = pd.DataFrame(marital_o_pc)<br/>marital_obs_pc.rename(columns={"marital":"percent %"}, inplace=True)<br/>marital_obs = pd.concat([marital_o,marital_obs_pc], axis=1)<br/>marital_obs</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qa"><img src="../Images/73512b710f56e8a3caa43c91603e79da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gjdWkGI5X3M7uShpYSwJuQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">按类别观察</p></figure><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qb"><img src="../Images/3f6ca37a9c46a52b4b472b24876fe87c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kpu3w2EMNbUbnhauYMNoag.png"/></div></div></figure><h2 id="827a" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated">教育</h2><p id="4819" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">“教育”有 8 个独特的价值。前 4 个教育水平对应 80%的数据。拥有 4 年基础教育或不识字的客户年龄最大，容易订购该产品。</p><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qc"><img src="../Images/fad237be90a209c1e028316d25a0454c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GySQ51mfx3A30PcZikcavw.png"/></div></div></figure><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qd"><img src="../Images/f530300f2daba98dcd972304bdff5ae9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_kL3TSEwB6Ll-mXPmphZpw.png"/></div></div></figure><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qe"><img src="../Images/b1f1db3cfdade53fd27a54e397994a21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35TWHe6G43sHmNne0CqMbQ.png"/></div></div></figure><h2 id="2bdf" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated">默认</h2><p id="bbb4" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">有了 3 个唯一的值，类“yes”就没有意义，变量没有表达，完全不平衡。</p><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qf"><img src="../Images/7552cb4cd582273faa3b32242ec444f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pk9PZNzQqzqaduqU7EOEkw.png"/></div></div></figure><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qg"><img src="../Images/19a6591fb09c8d83d6a0261c819a354f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WNh1OgVMljBk5qB1lQ_IGQ.png"/></div></div></figure><h2 id="8f33" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated">房屋</h2><p id="fdd0" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">该变量有 3 个唯一值，其中“未知”被解释为缺失值，代表 2%的观察值。“是”和“否”的比例非常接近，可能会降低其预测能力。</p><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qh"><img src="../Images/010e55bbb9491c2424775592a237762e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hU7iKHo3Tes42mAcFtcozg.png"/></div></div></figure><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qi"><img src="../Images/46328f3f1fa14a74de65d3d17f8690d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ey4h2GdVpCiC4qsZRrNZxg.png"/></div></div></figure><h2 id="7d39" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated">贷款</h2><p id="7172" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">虽然，一般来说，“贷款”显示了大量的非用户，这个变量与“住房”有一些相似之处，在某种意义上，按比例，“是”和“否”是非常均匀的。这又一次降低了它的预测能力。</p><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qj"><img src="../Images/f11f7454f29a09176e52601dd45494ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ooXMl9bx-T_p1JKUfWbLIA.png"/></div></div></figure><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qk"><img src="../Images/9879c1d8df2656376a83a3de163acc30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AGKtXkJ4N2q7K7mWDyIO_A.png"/></div></div></figure><h2 id="0925" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated">噘嘴</h2><p id="cd21" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">有趣的事实:在之前成功的促销活动中接触过的客户中，这次大多数都订阅了。</p><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ql"><img src="../Images/d0aad5aca9ce864c4e20e6cd148e341a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1qtQV6etK39FMnFjt_O9Hw.png"/></div></div></figure><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qm"><img src="../Images/ac8fbc60d906300a7e2d6c52c81a9b3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H7CYhuCS4a30U-GNSWF4Gw.png"/></div></div></figure><h2 id="a7b0" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated">最常见的类别有哪些？</h2><p id="9f43" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">详细的分析给了我们大量关于数据、客户和变量行为的信息。我们来做一个概述。</p><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="a8ae" class="ny le jj nu b gy nz oa l ob oc">n = len(cat_features)<br/>i=1<br/>plt.figure(figsize=(16,14))</span><span id="e5c2" class="ny le jj nu b gy od oa l ob oc">for feature in df[cat_features]:<br/>plt.subplot(round(n/2),round(n/3), i)<br/>df[feature].value_counts().plot.bar()<br/>plt.xticks(rotation=90)<br/>plt.title(feature)<br/>i+=1</span><span id="1900" class="ny le jj nu b gy od oa l ob oc">plt.tight_layout();</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qn"><img src="../Images/0afbc522ff5d307ca82dd04ef105d654.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Slc6ltxIXPJnxHrzhiCgsA.png"/></div></div></figure><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qo"><img src="../Images/a5f6786e95c4e7af6d64c34d939aa80f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9-GNX65vS359uoMQjAVuzA.png"/></div></div></figure><p id="2725" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx jk">最常见:</strong></p><ul class=""><li id="b8c4" class="mw mx jj lx b ly mr mb ms me my mi mz mm na mq nb nc nd ne bi translated">工作:行政</li><li id="1b44" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">婚姻状况:已婚</li><li id="52d8" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">教育:大学学位</li><li id="0b3a" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">违约信用:否</li><li id="5a13" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">住房:是的，但是没有住房贷款是非常接近的</li><li id="b7ae" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">贷款:没有</li><li id="8a84" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">poutcome:没有参加以前的活动</li></ul><p id="5ff6" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><em class="pr">请注意，除了“poutcome”变量之外，所有特性都包含“未知”类别。</em></p><h2 id="5093" class="ny le jj bd lf om on dn lj oo op dp ln me oq or lp mi os ot lr mm ou ov lt ow bi translated">这些类别如何影响目标变量？</h2><pre class="kz la lb lc gt nt nu nv nw aw nx bi"><span id="df5f" class="ny le jj nu b gy nz oa l ob oc">n = len(cat_features)<br/>i=1<br/>plt.figure(figsize=(16,14))</span><span id="e2b3" class="ny le jj nu b gy od oa l ob oc">for feature in df[cat_features]:<br/>plt.subplot(round(n/2),round(n/3), i)<br/>df.groupby([feature])['target'].mean().multiply(100).plot.barh()<br/>plt.xlabel('Subscribed [%]')<br/>plt.title(feature)<br/>i+=1</span><span id="428e" class="ny le jj nu b gy od oa l ob oc">plt.tight_layout();</span></pre><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qp"><img src="../Images/154e7a422e31e444176a8749f2b84a8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EKcSxOH7Y6QRkY2JboxRqw.png"/></div></div></figure><figure class="kz la lb lc gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qq"><img src="../Images/c3a68a0885d5bfeb689f92563279450f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G4DfCmGeOObCL8AFsXc2tA.png"/></div></div></figure><p id="af69" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx jk">观察:</strong></p><ul class=""><li id="395a" class="mw mx jj lx b ly mr mb ms me my mi mz mm na mq nb nc nd ne bi translated">“学生”和“退休人员”的订阅比例最高(&gt; 25%)，而“蓝领”和“服务人员”的订阅比例最低。</li><li id="01fe" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">“文盲”的用户比例最高(&gt; 20%)，另一方面，“基本 9y”、“基本 6y”和“基本 4y”的用户比例最低。</li><li id="d81b" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">有信用违约的人没有认购。</li><li id="d5f6" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">之前联系过其他活动的人中有超过 60%的人进行了订阅。</li><li id="302f" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated">婚姻状况、有无贷款和住房对认购率没有太大影响。</li></ul><h1 id="8bff" class="ld le jj bd lf lg lh li lj lk ll lm ln kp lo kq lp ks lq kt lr kv ls kw lt lu bi translated">结论</h1><p id="f8a5" class="pw-post-body-paragraph lv lw jj lx b ly lz kk ma mb mc kn md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">我一直专注于如何开始一个机器学习项目，从最重要的部分开始，让我们超越数据，探索性数据分析。这是一个非常重要的程序，因为如果你没有深刻理解你将要处理的数据，它将会是一片混乱。</p><p id="c461" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">在下一篇文章(<a class="ae jg" href="https://bit.ly/2S5Su8i" rel="noopener ugc nofollow" target="_blank">数据清理和特征选择</a>)中，我将进行特征工程和特征选择，清理数据集，处理我们可能会发现的异常以及插补和转换。</p><p id="4a88" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">在最后一部分和第三篇文章(机器学习:预测建模)中，我们将训练一些机器学习模型，以便能够选择最佳模型，并找出预测营销活动最小成本的最重要特征。</p><ul class=""><li id="cd99" class="mw mx jj lx b ly mr mb ms me my mi mz mm na mq nb nc nd ne bi translated">你可以在这里找到这个项目的全部代码。</li></ul><p id="c059" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">查看您可能也会喜欢的其他文章:</p><div class="is it gp gr iu qr"><a rel="noopener follow" target="_blank" href="/descriptive-statistics-expectations-vs-reality-exploratory-data-analysis-eda-8336b1d0c60b"><div class="qs ab fo"><div class="qt ab qu cl cj qv"><h2 class="bd jk gy z fp qw fr fs qx fu fw ji bi translated">描述性统计:期望与现实(探索性数据分析——EDA)</h2><div class="qy l"><h3 class="bd b gy z fp qw fr fs qx fu fw dk translated">一种简单的描述性统计方法来总结集中趋势的措施和传播的措施</h3></div><div class="qz l"><p class="bd b dl z fp qw fr fs qx fu fw dk translated">towardsdatascience.com</p></div></div><div class="ra l"><div class="rb l rc rd re ra rf ja qr"/></div></div></a></div><div class="is it gp gr iu qr"><a rel="noopener follow" target="_blank" href="/pandas-made-easy-the-guide-i-81834f075893"><div class="qs ab fo"><div class="qt ab qu cl cj qv"><h2 class="bd jk gy z fp qw fr fs qx fu fw ji bi translated">熊猫变得容易(指南— I)</h2><div class="qy l"><h3 class="bd b gy z fp qw fr fs qx fu fw dk translated">有许多最常用的函数和方法的例子</h3></div><div class="qz l"><p class="bd b dl z fp qw fr fs qx fu fw dk translated">towardsdatascience.com</p></div></div><div class="ra l"><div class="rg l rc rd re ra rf ja qr"/></div></div></a></div><div class="is it gp gr iu qr"><a rel="noopener follow" target="_blank" href="/costs-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5"><div class="qs ab fo"><div class="qt ab qu cl cj qv"><h2 class="bd jk gy z fp qw fr fs qx fu fw ji bi translated">营销活动的成本预测(数据清理和特征选择——第二部分)</h2><div class="qy l"><h3 class="bd b gy z fp qw fr fs qx fu fw dk translated">预测营销活动最佳目标候选人的数据科学方法</h3></div><div class="qz l"><p class="bd b dl z fp qw fr fs qx fu fw dk translated">towardsdatascience.com</p></div></div><div class="ra l"><div class="rh l rc rd re ra rf ja qr"/></div></div></a></div><p id="c3e0" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">就是这样！我希望你喜欢读这篇文章，就像我喜欢写它一样。</p><h1 id="f9e9" class="ld le jj bd lf lg lh li lj lk ll lm ln kp lo kq lp ks lq kt lr kv ls kw lt lu bi translated">联系人</h1><ul class=""><li id="80a6" class="mw mx jj lx b ly lz mb mc me oj mi ok mm ol mq nb nc nd ne bi translated"><a class="ae jg" href="http://bit.ly/2ybRqYT" rel="noopener ugc nofollow" target="_blank">领英</a></li><li id="c87a" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated"><a class="ae jg" href="https://bit.ly/3gAwMTP" rel="noopener ugc nofollow" target="_blank">推特</a></li><li id="aad3" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated"><a class="ae jg" href="https://bit.ly/3gDC5Sp" rel="noopener ugc nofollow" target="_blank">中等</a></li><li id="b78f" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated"><a class="ae jg" href="https://bit.ly/3hHvuHR" rel="noopener ugc nofollow" target="_blank"> GitHub </a></li><li id="9b37" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated"><a class="ae jg" href="https://bit.ly/31Co038" rel="noopener ugc nofollow" target="_blank">卡格尔</a></li><li id="f2f5" class="mw mx jj lx b ly nf mb ng me nh mi ni mm nj mq nb nc nd ne bi translated"><a class="ae jg" href="mailto:goncaloggomes@gmail.com" rel="noopener ugc nofollow" target="_blank">电子邮件</a></li></ul><p id="39d5" class="pw-post-body-paragraph lv lw jj lx b ly mr kk ma mb ms kn md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">好的阅读，伟大的编码！</p></div></div>    
</body>
</html>