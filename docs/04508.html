<html>
<head>
<title>The Most Efficient Way to Solve Any Linear Equation, in Three Lines of Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用三行代码解决任何线性方程的最有效方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-most-efficient-way-to-solve-any-linear-equation-in-three-lines-of-code-bb8f66f1b463?source=collection_archive---------13-----------------------#2020-04-22">https://towardsdatascience.com/the-most-efficient-way-to-solve-any-linear-equation-in-three-lines-of-code-bb8f66f1b463?source=collection_archive---------13-----------------------#2020-04-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/9dff1563a3fa705fd1ace5a9b49c41b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0no5e6XNSfkjDRgvEebx2w.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">背景图:Pixabay。免费分享图片</p></figure><div class=""/><div class=""><h2 id="f1aa" class="pw-subtitle-paragraph kf jh ji bd b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dk translated">使用复数和字符串求值的 Python 技巧</h2></div><blockquote class="kx ky kz"><p id="9bfc" class="la lb lc ld b le lf kj lg lh li km lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">除非另有说明，所有图片均由作者创作。</p></blockquote><p id="61de" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">这个函数可以用三行代码求解任何线性方程，甚至可以用两行代码重写。据我所知，这是在 Python 中求解线性方程最有效的方法。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="137b" class="mj mk ji mf b gy ml mm l mn mo">def solve_linear(equation,var='x'):<br/>    expression = equation.replace("=","-(")+")"<br/>    grouped = eval(expression.replace(var,'1j'))<br/>    return -grouped.real/grouped.imag</span></pre><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mp"><img src="../Images/da36e2b11cfc8289b492133a385b33b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KMcXhL-nopHbH4ATHgTzHw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">例子和标准的代数过程来得到答案。</p></figure><p id="d27f" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">它是如何工作的？</p><p id="2831" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">首先，让我们定义什么是线性方程——它必须是纯可解的。这意味着它只能有一个变量，通常写成<em class="lc"> x </em>。双变量方程需要求解多个线性方程(方程组)。</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mq"><img src="../Images/5bf5b12f6667f3b203a22687842b0279.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pP_vnGZbecJcrpJ6cVUmTw.png"/></div></div></figure><p id="50db" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">线性方程由三个主要部分组成——常数、变量和乘数。</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mr"><img src="../Images/dfbf323f66c33fa2dee9acf2f25c9c46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5e2pW0w_cVWQI7G3ldsfCQ.png"/></div></div></figure><p id="5986" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">任何数量或组合的运算(加、减、乘、除)都是有效的，包括任何括号范围。只要它遵守一个线性方程的这些定义，它就是我们的函数可解的。</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ms"><img src="../Images/d6bd9836bcc363dd90aed92cdd7bcd6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TeYA3Cdpub2iSFnqd8R60A.png"/></div></div></figure><p id="5b90" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">让我们一步一步地分解这个函数。作为一个例子，我们将使用下面的线性方程作为示范。</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/068b0200471292cbb9f406b265943eee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*yXSJ_JtciYndKEhTKFwZ7Q.png"/></div></figure><p id="1ad0" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">第一行通过将等式右侧的整个表达式移动到左侧，将等式转换为要计算的表达式。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="73ec" class="mj mk ji mf b gy ml mm l mn mo">expression = equation.replace("="," - (")+")"</span></pre><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mu"><img src="../Images/dff413cd848e56272c70a92db402d26a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*80vo6JyoJntjDkgysibbwg.png"/></div></div></figure><p id="859a" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">IDE 中的演示:</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mv"><img src="../Images/9712b0e2648fec7bf4ece3778a268886.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2_YRjbhBYwykGCufSAzqjw.png"/></div></div></figure><p id="a5f2" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">等式中的所有“信息”都被移到了一边，虽然等号已经被丢弃，但请记住，这个表达式等于 0。</p><p id="52f2" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">第二行代码对新表达式求值，转换成形式<em class="lc"> ax </em> + <em class="lc"> b = 0 </em>。这使用了 Python 内置的复数处理，其中<em class="lc"> j </em>用于表示数学常数<em class="lc"> i = </em> √-1。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="a3de" class="mj mk ji mf b gy ml mm l mn mo">grouped = eval(expression.replace(var,'1j')</span></pre><p id="5307" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">注意在函数初始化时<code class="fe mw mx my mf b">var</code>被指定为等于<code class="fe mw mx my mf b">‘x’</code>。</p><p id="cf73" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated"><code class="fe mw mx my mf b">eval</code>函数接受一个表达式。通过用自然理解的<em class="lc"> j </em> ( <em class="lc"> i </em>)替换未知变量<em class="lc"> x </em>，Python 将两类表达式元素——变量和常量——视为独立的。当表达式求值时，答案出来是<code class="fe mw mx my mf b"><em class="lc">a</em>*<em class="lc">j</em> + <em class="lc">b</em></code>，Python 认为它是一个复数。因为<em class="lc"> j </em>被用来代替<em class="lc"> x，</em>结果是一个简化的并且容易解的线性方程。</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mz"><img src="../Images/b27e7f6e05cfab4180ef1bde17fdd8f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cSgdA56cyEKEWZl8tM0HwA.png"/></div></div></figure><p id="e742" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">首先，作为对<code class="fe mw mx my mf b">eval()</code>如何工作的演示，它可以评估字符串中给出的任何 Python 命令:</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi na"><img src="../Images/02bd469997a058f95760c07fcbfc72aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iv1bUyV1mNplSjEKxMqvMQ.png"/></div></div></figure><p id="9a7c" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">因此，数学表达式就像任何 Python 表达式一样被处理。使用<code class="fe mw mx my mf b">eval()</code>的天才之处在于，我们利用 Python 的字符串处理方法，而不是手动完成繁重的工作。</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nb"><img src="../Images/fe5b53139a425b1c92077ca79efe12fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GI8Sb6cjhmxVxi34ZEVBdg.png"/></div></div></figure><p id="d4fc" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">通过欺骗 Python 使其相信<code class="fe mw mx my mf b"><em class="lc">x</em></code>实际上是<code class="fe mw mx my mf b"><em class="lc">i</em></code> <em class="lc">，字符串被自动求值。</em></p><p id="0f61" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">请注意，这与…相同</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nc"><img src="../Images/a21fbb84e416b42cdc841f737eb78639.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r8-THrnyZiBOsZuEnDLK-A.png"/></div></div></figure><p id="e67e" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">最后，我们实现了一个简化形式<code class="fe mw mx my mf b"><em class="lc">ax</em> + <em class="lc">b</em> = 0</code>。通过标准和简单的代数操作，我们发现<em class="lc"> x </em>等于<code class="fe mw mx my mf b">-b/a</code>，或者，相对于我们创建的复数，实部(上例中为 9)的负数除以虚部乘数(上例中为 1)。</p><figure class="ma mb mc md gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nd"><img src="../Images/bdd6fe6f92ba3daad0bb365df5be78a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ipb5joMA2iHPO3lszZFnYA.png"/></div></div></figure><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="ac54" class="mj mk ji mf b gy ml mm l mn mo">return -grouped.real/grouped.imag</span></pre><p id="04c1" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">最后一行代码通过返回复数的实部除以虚部的负数，简单地返回这个代数步骤。</p><p id="9c2c" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">通过操作和利用 Python 内置的数学计算能力，这个三行函数可以处理任何线性方程，无论其长度或复杂度如何。</p><p id="96b9" class="pw-post-body-paragraph la lb ji ld b le lf kj lg lh li km lj lx ll lm ln ly lp lq lr lz lt lu lv lw im bi translated">如果你喜欢，请随意投票！</p></div></div>    
</body>
</html>