<html>
<head>
<title>FIFA 21 player’s overall prediction</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">FIFA 21球员整体预测</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/fifa-21-players-overall-prediction-3b6171f90a9b?source=collection_archive---------26-----------------------#2020-02-06">https://towardsdatascience.com/fifa-21-players-overall-prediction-3b6171f90a9b?source=collection_archive---------26-----------------------#2020-02-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f322" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><strong class="ak">获得想法和数据</strong></h2></div><p id="82f5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在分析了Kaggle的一些数据集并浏览了社区的数据集后，我发现了一个真正引起我注意的数据集:</p><div class="le lf gp gr lg lh"><a href="https://www.kaggle.com/stefanoleone992/fifa-20-complete-player-dataset" rel="noopener  ugc nofollow" target="_blank"><div class="li ab fo"><div class="lj ab lk cl cj ll"><h2 class="bd iu gy z fp lm fr fs ln fu fw is bi translated">FIFA 20完整球员数据集</h2><div class="lo l"><h3 class="bd b gy z fp lm fr fs ln fu fw dk translated">18k+球员，100+从国际足联最新版本中提取的属性</h3></div><div class="lp l"><p class="bd b dl z fp lm fr fs ln fu fw dk translated">www.kaggle.com</p></div></div><div class="lq l"><div class="lr l ls lt lu lq lv lw lh"/></div></div></a></div><p id="ce33" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我不是国际足联的超级粉丝，但我喜欢和我最好的朋友一起玩，只是为了好玩，这让我思考..<em class="lx">“我能用这个做什么？”</em>。尽管没有任何人工智能方面的经验，(但对这个主题很感兴趣)，我还是决定用它来做我的第一个人工智能项目。</p><blockquote class="ly"><p id="9c19" class="lz ma it bd mb mc md me mf mg mh ld dk translated">然后，另一个问题出现了……<em class="mi">“但是，我想把它应用到哪里呢？”</em>。</p></blockquote><p id="16c4" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">有了从FIFA 20一直到FIFA 15的数据，我开始看FIFA 19的数据(主要是因为它是我玩得最多的一个)，直到我发现自己看到了球员的整体，然后…它点击了。</p><blockquote class="ly"><p id="c662" class="lz ma it bd mb mc md me mf mg mh ld dk translated"><em class="mi">“也许如果训练一个具有FIFA 19中球员的一些特征的模型，包括整体，为了预测FIFA 20中相同球员的整体价值，我可以稍后使用该模型来估计FIFA 21中球员的整体价值！”</em>。</p></blockquote><figure class="mp mq mr ms mt mu gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi mo"><img src="../Images/a578e4d12b605300ef3ed182bc0d5080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NtZytJ5UfZJZ3vsC_MXw3w.jpeg"/></div></div><p class="na nb gj gh gi nc nd bd b be z dk translated"><a class="ae ne" href="https://www.fifplay.com/img/public/fifa-21-and-beyond.jpg" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="d5b8" class="nm nn it bd no np nq nr ns nt nu nv nw jz nx ka ny kc nz kd oa kf ob kg oc od bi translated">使用的库</h1><figure class="oe of og oh gt mu"><div class="bz fp l di"><div class="oi oj l"/></div></figure><h1 id="bdb3" class="nm nn it bd no np ok nr ns nt ol nv nw jz om ka ny kc on kd oa kf oo kg oc od bi translated">提取重要数据</h1><p id="fd02" class="pw-post-body-paragraph ki kj it kk b kl op ju kn ko oq jx kq kr or kt ku kv os kx ky kz ot lb lc ld im bi translated">每个球员的数据超过100列，所以我必须选择我认为重要的。</p><figure class="oe of og oh gt mu"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="cc15" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于FIFA 20的数据，我需要的唯一一栏是“整体”一栏，但我决定提取与FIFA 19相同的一栏，以防我以后想分析它的数据。</p><p id="1fd7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">看起来合乎逻辑，守门员和其他球员相比有不同的统计数据，所以我有两个选择，创建一个模型来训练守门员的数据或者丢弃它们。正如你在下面看到的，我选择了第二个选项，因为从我的角度来看，它不值得额外的工作。</p><figure class="oe of og oh gt mu"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="b0fe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我需要添加FIFA 20的整体价值。</p><figure class="oe of og oh gt mu"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="d22f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，我开始考虑球员的位置，这有两个特点，他们踢的位置和他们可以踢的多个位置，所以我只使用第一个。在第一个职位中，共有28个职位，因此我决定创建另一个职位，可以是以下五个职位之一:</p><ul class=""><li id="6613" class="ou ov it kk b kl km ko kp kr ow kv ox kz oy ld oz pa pb pc bi translated">保留</li><li id="2e7d" class="ou ov it kk b kl pd ko pe kr pf kv pg kz ph ld oz pa pb pc bi translated">代替者</li><li id="776b" class="ou ov it kk b kl pd ko pe kr pf kv pg kz ph ld oz pa pb pc bi translated">拥护者</li><li id="068b" class="ou ov it kk b kl pd ko pe kr pf kv pg kz ph ld oz pa pb pc bi translated">中场队员</li><li id="e0ee" class="ou ov it kk b kl pd ko pe kr pf kv pg kz ph ld oz pa pb pc bi translated">向前</li></ul><figure class="oe of og oh gt mu"><div class="bz fp l di"><div class="oi oj l"/></div></figure></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="6027" class="nm nn it bd no np nq nr ns nt nu nv nw jz nx ka ny kc nz kd oa kf ob kg oc od bi translated">分析数据</h1><p id="896d" class="pw-post-body-paragraph ki kj it kk b kl op ju kn ko oq jx kq kr or kt ku kv os kx ky kz ot lb lc ld im bi translated">所以，我想看的第一件事是7个主要特征(<strong class="kk iu">速度，投篮，传球，运球，防守，身体和整体</strong>)根据每个<strong class="kk iu">位置</strong>的变化。</p><blockquote class="pi pj pk"><p id="8c12" class="ki kj lx kk b kl km ju kn ko kp jx kq pl ks kt ku pm kw kx ky pn la lb lc ld im bi translated">我之前创建的5个位置</p></blockquote><figure class="oe of og oh gt mu"><div class="bz fp l di"><div class="oi oj l"/></div></figure><figure class="oe of og oh gt mu gh gi paragraph-image"><div class="gh gi po"><img src="../Images/a225ce83d7f2200199dbd4a76050702c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*iNbey8w4dKmNyBZT6MzPeQ.png"/></div></figure><blockquote class="pi pj pk"><p id="fc6f" class="ki kj lx kk b kl km ju kn ko kp jx kq pl ks kt ku pm kw kx ky pn la lb lc ld im bi translated">前沿阵地内的每个阵地</p></blockquote><figure class="oe of og oh gt mu"><div class="bz fp l di"><div class="oi oj l"/></div></figure><figure class="oe of og oh gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi pp"><img src="../Images/363f8d609c6a157f863e5b473f107aed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L3UMy67vEYDj_vkKJoaKCg.png"/></div></div></figure><blockquote class="pi pj pk"><p id="b5ee" class="ki kj lx kk b kl km ju kn ko kp jx kq pl ks kt ku pm kw kx ky pn la lb lc ld im bi translated">之后，我分析了每个位置的整体平均值，并预测前锋、中场和后卫应该具有相同的平均值，但替补应该更低，替补甚至更低。</p></blockquote><figure class="oe of og oh gt mu"><div class="bz fp l di"><div class="oi oj l"/></div></figure><figure class="oe of og oh gt mu gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/34fa5d2aadfc791f1aed6c9f97b76ff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*jR1KPz473rCjznNVZows5w.png"/></div></figure><blockquote class="pi pj pk"><p id="e999" class="ki kj lx kk b kl km ju kn ko kp jx kq pl ks kt ku pm kw kx ky pn la lb lc ld im bi translated">每个位置的球员百分比</p></blockquote><figure class="oe of og oh gt mu"><div class="bz fp l di"><div class="oi oj l"/></div></figure><figure class="oe of og oh gt mu gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/46b08d7f77932993f286ee2258c7d47a.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*k-JkLIVxMAGXa5Lr7VtJBw.png"/></div></figure><blockquote class="pi pj pk"><p id="1986" class="ki kj lx kk b kl km ju kn ko kp jx kq pl ks kt ku pm kw kx ky pn la lb lc ld im bi translated">按位置划分的平均玩家成本(欧元)</p></blockquote><figure class="oe of og oh gt mu"><div class="bz fp l di"><div class="oi oj l"/></div></figure><figure class="oe of og oh gt mu gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/efc9ae663358c517458e7b68ccdf2179.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/format:webp/1*4MOpvLLEwIR_GokDcWMlzA.png"/></div></figure><blockquote class="pi pj pk"><p id="0450" class="ki kj lx kk b kl km ju kn ko kp jx kq pl ks kt ku pm kw kx ky pn la lb lc ld im bi translated">总价值分布</p></blockquote><figure class="oe of og oh gt mu"><div class="bz fp l di"><div class="oi oj l"/></div></figure><figure class="oe of og oh gt mu gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/4e1bb40bc8dd3e1133fb76962d28b9af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*bwJ33p_C3QmEcmQEW6G30Q.png"/></div></figure></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="2e78" class="nm nn it bd no np nq nr ns nt nu nv nw jz nx ka ny kc nz kd oa kf ob kg oc od bi translated">准备训练和测试数据</h1><p id="7be6" class="pw-post-body-paragraph ki kj it kk b kl op ju kn ko oq jx kq kr or kt ku kv os kx ky kz ot lb lc ld im bi translated">在分析了我正在处理的数据之后，一切都准备好了，分割训练数据和测试数据，并使用<em class="lx">标准缩放器</em>对其进行预处理，该缩放器移除平均值(72.447)并将其缩放至单位方差。</p><p id="fa9b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我最终训练了大约11000名球员，测试了1100名球员(比最初的18000多名球员少了一些，因为守门员和不在FIFA 20的球员被排除在外)。</p><figure class="oe of og oh gt mu"><div class="bz fp l di"><div class="oi oj l"/></div></figure><h1 id="4251" class="nm nn it bd no np ok nr ns nt ol nv nw jz om ka ny kc on kd oa kf oo kg oc od bi translated">训练模型并对预测进行分类</h1><p id="4359" class="pw-post-body-paragraph ki kj it kk b kl op ju kn ko oq jx kq kr or kt ku kv os kx ky kz ot lb lc ld im bi translated">对于神经网络，对于该数据最好的一个是多层感知器分类器，该模型使用随机梯度下降来优化对数损失函数，并且迭代地训练，因为在每个时间步长，计算损失函数相对于模型参数的偏导数来更新参数。</p><p id="22b4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它还可以将正则化项添加到损失函数中，从而缩小模型参数以防止过拟合。</p><p id="c1aa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个实现处理表示为浮点值的密集numpy数组的数据，这是预处理数据的又一个原因。</p><figure class="oe of og oh gt mu"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="9e21" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它的平均准确度分数是25%(它从290/1157名玩家那里得到准确的整体值)，这一点也不差，因为平均绝对误差(1.67)非常低。</p><blockquote class="pi pj pk"><p id="5e3c" class="ki kj lx kk b kl km ju kn ko kp jx kq pl ks kt ku pm kw kx ky pn la lb lc ld im bi translated">按总值分组的平均绝对误差:</p></blockquote><figure class="oe of og oh gt mu gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/a79a3bfca4abc7330eecd74484df7c0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*dnypvKx5eFoA7yuz6l80dA.png"/></div></figure></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="90b0" class="nm nn it bd no np nq nr ns nt nu nv nw jz nx ka ny kc nz kd oa kf ob kg oc od bi translated">FIFA 21球员整体预测</h1><blockquote class="pi pj pk"><p id="f63c" class="ki kj lx kk b kl km ju kn ko kp jx kq pl ks kt ku pm kw kx ky pn la lb lc ld im bi translated">作为这篇文章的结尾，我将展示对FIFA 21中球员整体表现的5个预测</p></blockquote><figure class="oe of og oh gt mu gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/5db8f9bf0e1926ac1f8cb32c2e60cb23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*8iKK2B8l0NaRZnZbYEvqDQ.png"/></div></figure></div></div>    
</body>
</html>