<html>
<head>
<title>Movies Data Science — Pull &amp; Analyze IMDb data using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">电影数据科学-使用 Python 提取和分析 IMDb 数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/imdb-data-science-pull-analyze-movies-data-using-python-b59dc8511157?source=collection_archive---------14-----------------------#2020-07-22">https://towardsdatascience.com/imdb-data-science-pull-analyze-movies-data-using-python-b59dc8511157?source=collection_archive---------14-----------------------#2020-07-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/c6efc045d0adbc6cffcb287d716ccc91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mtJTAj7nzsUmR3mya1z_BA.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">雅各布·欧文斯的电影来自<a class="ae kf" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="e23c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> IMDb </strong>(互联网电影数据库)是最被认可的名字之一，因为其全面的在线数据库收集了电影、电影、电视剧等。截至今天(2020 年 7 月)，你将通过以下数据看到 IMDb 数据库拥有大约<em class="le">700 万</em>本图书。在本文中，我将使用<strong class="ki iu"> <em class="le"> Jupyter 笔记本</em> </strong>中的<strong class="ki iu"> Python </strong>来演示从哪里拉数据，如何快速解读数据，并回答一些有趣的问题，包括</p><blockquote class="lf lg lh"><p id="1b7f" class="kg kh le ki b kj kk kl km kn ko kp kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">kind 数据库涵盖哪类数据？</p><p id="ea36" class="kg kh le ki b kj kk kl km kn ko kp kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">-一般情况下人们会给出什么样的评分？真的是正态分布吗？哪些电影收视率最高？</p><p id="0a89" class="kg kh le ki b kj kk kl km kn ko kp kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">-根据我喜欢的电影，我还应该检查哪些电影？</p></blockquote><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ll"><img src="../Images/777b7af5dee3e5c230f11380ede3f6ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xig2kfybPxIqU0Jl40tjNQ.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">一些主要的 IMDb 维度</p></figure></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="435a" class="lx ly it bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">加载 IMDb 数据库</h1><p id="3eca" class="pw-post-body-paragraph kg kh it ki b kj mv kl km kn mw kp kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">IMDb 已经在 IMDb <a class="ae kf" href="https://datasets.imdbws.com/" rel="noopener ugc nofollow" target="_blank">网站</a>上向公众及其客户提供了其数据库的基本子集供非商业使用，在那里你也可以找到相应的<a class="ae kf" href="https://www.imdb.com/interfaces/" rel="noopener ugc nofollow" target="_blank"> IMDb 数据字典</a>中描述的所有相关细节。在这个分析中，我主要关注 2 个数据集(<strong class="ki iu"> title.basics </strong>和<strong class="ki iu"> title.ratings </strong>)，它们分别提供了 9 个和 3 个特征，包括标题 ID、名称、类型、成人电影标志、类型、评级和标题获得的投票数。</p><pre class="lm ln lo lp gt na nb nc nd aw ne bi"><span id="7c4b" class="nf ly it nb b gy ng nh l ni nj">basics_tsv_file =”C:\\Users\....\Downloads\\basics.tsv”<br/>basics = pd.read_csv(basics_tsv_file, sep=’\t’,low_memory=False)</span><span id="b644" class="nf ly it nb b gy nk nh l ni nj">ratings_tsv_file = "C:\\Users\....\Downloads\\ratings.tsv"<br/>ratings = pd.read_csv(ratings_tsv_file, sep='\t',low_memory=False)</span><span id="b9dc" class="nf ly it nb b gy nk nh l ni nj">data = pd.merge(basics, ratings, on ="tconst")</span></pre><p id="9bab" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当您通过唯一的 IMDb 头衔 id(<em class="le">t const</em>)提取这两个数据集时，您会注意到这两个数据集的大小相差 7 倍:</p><ul class=""><li id="e232" class="nl nm it ki b kj kk kn ko kr nn kv no kz np ld nq nr ns nt bi translated"><strong class="ki iu"> title.basics </strong>有<strong class="ki iu">700 万</strong>个头衔，但是</li><li id="c41f" class="nl nm it ki b kj nu kn nv kr nw kv nx kz ny ld nq nr ns nt bi translated"><strong class="ki iu">片酬</strong>只有<strong class="ki iu">100 万</strong>片酬</li></ul><p id="9a24" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是当你合并这两个数据集时，你会发现合并后标题的数量并没有减少。这意味着<strong class="ki iu"> title.ratings </strong>中包含的所有标题实际上都是<strong class="ki iu"> title.basics </strong>中标题的<strong class="ki iu"> <em class="le">子集</em></strong><em class="le"/>；这是一个好消息，因为这意味着所有带有评级的图书都有基本信息。在这里，我不会进入细节，但我正在进行另一项工作，我将应用<em class="le">主成分分析</em>，这是最有用的无监督机器学习技术之一，以深入了解什么样的电影往往没有评级数据。</p><p id="b081" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这样，如下所示的合并数据集有<strong class="ki iu">100 万个标题和 11 个维度</strong>，可以应用各种分析工具:</p><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nz"><img src="../Images/c68bc0d5d34802a931cd537788e08e62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GXgIw37Y9t00SGUOQKRS8A.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">按标题合并基本数据和评级数据集</p></figure></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="9eaa" class="lx ly it bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">标题的类型和流派</h1><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/0835cd580c87ac619544f235519b6921.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*ef-KvS2vZoTLdxuNHnLCDw.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">IMDb 瓷砖类型的饼图分布</p></figure><blockquote class="lf lg lh"><p id="a47d" class="kg kh le ki b kj kk kl km kn ko kp kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">顶级类型(电视剧、电影和短片)的帕累托 80/20 法则</p></blockquote><p id="479c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于<strong class="ki iu">瓷砖类型</strong>，<strong class="ki iu">帕累托 80/20 法则</strong>在这里绝对成立。总共有<em class="le"> 10 </em>种不同的标题类型，其中标题数量最多的是电视剧集(几乎占标题的一半)，其次是电影和短片。这三种类型合计占总标题数的 80%以上。另一方面，总片头数最少的后 3 种类型(电视短片、电视特辑和电视迷你剧)占片头总数的比例不到 10%。</p><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ob"><img src="../Images/7ef2351fc9434b4fac6ec973c69bf23c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_6F2HDijP7hspStQT7s-yw.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">IMDb 流派的饼图分布</p></figure><blockquote class="lf lg lh"><p id="38e0" class="kg kh le ki b kj kk kl km kn ko kp kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">在过于复杂的分类中，顶级类型是喜剧、戏剧和纪录片</p></blockquote><p id="90d2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于 T21 的瓷砖种类，IMDb 有一个长长的单子，上面有将近 2000 种不同的种类。正如你所看到的，类型的分布有一条<strong class="ki iu">长尾</strong>，其中只有前三种类型(喜剧、戏剧和纪录片)的份额超过 5%，但所有其他类型的份额都不超过 3%。</p><p id="9e1b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> <em class="le">注意</em> </strong>长尾可能是由于<strong class="ki iu">在不同流派中过于复杂的分类</strong>造成的。例如，虽然“喜剧”占 9%，但有许多相似但略有不同的类型，如“喜剧，戏剧”(2%)，“喜剧，短片”(2%)，甚至“冒险，动画，喜剧”(1%)等，每个都占据了一些可以被归类为“喜剧”的份额。更不用说一部电影如何能被严格归类为“冒险、动画、喜剧”，而不是简单的“动作、冒险、动画”或“喜剧”</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="d71b" class="lx ly it bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">x 级电影</h1><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/45adc7b6350b206d5f88111444724f77.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*1JNTmNbT-zx82QHz8qW7Qw.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">成人电影与否的饼状图分布</p></figure><blockquote class="lf lg lh"><p id="7fce" class="kg kh le ki b kj kk kl km kn ko kp kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">IMDb 数据库里没有多少 X 级电影</p></blockquote><p id="3186" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">IMDb 有一个“成人”因子，它是基本数据集中的一个布尔(0/1)变量，标记出 18 岁以上的成人电影。从上面的饼状图来看，IMDb 数据库中的成人电影数量最少，仅占总数量的 1.8%。</p><p id="788a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">(*注意在进行分析之前将<strong class="ki iu"> <em class="le"> dtype </em> </strong>从<strong class="ki iu">对象</strong>转换为<strong class="ki iu">布尔</strong>作为默认 dtype 可能会误导进一步的分析)</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="1fbf" class="lx ly it bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">等级</h1><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div class="gh gi od"><img src="../Images/70320502d3283e13e2643d6db7e10335.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*SZe2s1klPs4l2GfaEaWc_g.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">按瓷砖类型划分的平均 IMDb 评级分布</p></figure><blockquote class="lf lg lh"><p id="fc83" class="kg kh le ki b kj kk kl km kn ko kp kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">平均评分是 7 分左右。人家在给评分方面很大方！</p></blockquote><p id="4f92" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面的方框图有助于描述每种<strong class="ki iu">标题类型</strong>之间和内部<strong class="ki iu">评级</strong>分布的差异。首先，有趣的是，我们看到的不是正态的高斯分布，而是总体上非常向右倾斜。典型的中等平均评级是 7 左右，而不是 5 的中等评级。</p><blockquote class="lf lg lh"><p id="7cb1" class="kg kh le ki b kj kk kl km kn ko kp kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">电视剧的收视率比电影高得多</p></blockquote><p id="49f2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，在十个标题类型中，与电影相比，<strong class="ki iu">电视剧</strong>的收视率总体较高，变化较小，这带来了一个有趣的问题:这真的是因为电视剧的质量明显优于电影吗？人们倾向于对电影持更高的标准和更挑剔的态度吗？这些都有待回答，但可以肯定的是，如果你看到一集收视率为 7，它可能只是一个平均系列。另一方面，一定要去看一部评分为 7 的电影！</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oe"><img src="../Images/f3945fadc53c7c273d132b77e69116f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tums41FARnW23dtyXsi86w.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">来自<a class="ae kf" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>的<a class="ae kf" href="https://unsplash.com/s/photos/florian-olivo" rel="noopener ugc nofollow" target="_blank"> Florian Olivo </a>的 HTML 代码</p></figure><p id="a279" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我对 IMDb 数据的初步探索到此结束，它涵盖了我在开始分析时想到的大多数问题。下一步，我会做进一步的分析，看看我上一个关于哪些电影会让我更感兴趣的问题，一旦有了，我会和你分享。</p><p id="970c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以在 Python Jupyter 笔记本的 GitHub 上的这里找到完整的代码<a class="ae kf" href="https://github.com/liujean/IMDb-analysis" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="ee9e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我希望你喜欢这篇文章，并从中学到一些有趣的东西。如果你有任何问题或想法，关于什么可能是有趣的进一步挖掘，请随时鼓掌和评论。谢谢！</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi of"><img src="../Images/01a9b0d8a12fd4babae8d026c06fdd6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5Ysc1N2S1X5caWlt"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@cmhedger?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Courtney hedge</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure></div></div>    
</body>
</html>