<html>
<head>
<title>Cheat Codes to Better Visualisations with Plotly Express</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">作弊代码，以更好地与Plotly Express可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/cheat-codes-to-better-visualisations-with-plotly-express-21caece3db01?source=collection_archive---------40-----------------------#2020-06-07">https://towardsdatascience.com/cheat-codes-to-better-visualisations-with-plotly-express-21caece3db01?source=collection_archive---------40-----------------------#2020-06-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5084" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Python的Plotly Express库创建各种交互式数据可视化的快速指南。</h2></div><p id="ef44" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Matplotlib和Seaborn是数据科学中用于可视化的两个最流行的库。我想展示如何使用Plotly库中的Plotly Express模块，我们可以获得Seaborn和Matplotlib的简单性，但实现更深入和交互式的可视化。</p><p id="a988" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Plotly Express是一个简单易用的Plotly库的高级接口。那么，让我们看看如何开始。</p><h2 id="0ff0" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">进口</h2><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="28dd" class="le lf it mc b gy mg mh l mi mj">import plotly.express as px</span></pre><p id="5287" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看Plotly Express模块中已有的一些数据集:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="0908" class="le lf it mc b gy mg mh l mi mj">tips = px.data.tips() <br/>#total_bill, tip, sex, smoker, day, time, size</span><span id="b005" class="le lf it mc b gy mk mh l mi mj">gapminder = px.data.gapminder() <br/>#country, continent , year, lifeExp, pop, gdpPercap, iso_alpha, iso_num</span><span id="d3cb" class="le lf it mc b gy mk mh l mi mj">gapminder_canada = gapminder.query("country=='Canada'")<br/>gapminder_oceania = gapminder.query("continent=='Oceania'")<br/>gapminder_continent = gapminder.query("continent != 'Asia'")</span><span id="cf48" class="le lf it mc b gy mk mh l mi mj">iris = px.data.iris() <br/>#sepal_length, sepal_width, petal_length, petal_width, species, species_id</span><span id="20b3" class="le lf it mc b gy mk mh l mi mj">election = px.data.election() <br/>#district, Coderre, Bergeron, Joly, total, winner, result, district_id</span></pre><h2 id="1cf2" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">柱状图</h2><p id="bdbb" class="pw-post-body-paragraph ki kj it kk b kl ml ju kn ko mm jx kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">让我们来看看使用直方图的tips数据集，因为该数据包含许多分类变量。对于第一个示例，我将使用总账单作为变量来绘制直方图。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="9948" class="le lf it mc b gy mg mh l mi mj">fig = px.histogram(tips,             #dataframe<br/>                   x = "total_bill", #x-values column<br/>                   nbins = 30        #number of bins<br/>                   )<br/>fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/45c06cf311dc2359a20c6017b0ca30ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*BBr-fYtHVoD7ph8cHFtDOQ.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">总账单价格直方图</p></figure><p id="89ed" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用Plotly Express，我们可以创建一个交互式直方图。我们可以看到x轴上的bin范围、total_bill值以及光标悬停时每个点的计数。</p><p id="2830" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们通过考虑第二个变量——性别来提升直方图:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="5241" class="le lf it mc b gy mg mh l mi mj">fig = px.histogram(tips,             #dataframe<br/>                   x = ”total_bill”, #x-values column<br/>                   color = ”sex”     #column shown by color<br/>                   )<br/>fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/8610f7588522013dfb07b795d44f58c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*GoFtiusyr741QHUIBusStw.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">与性别相关的总账单价格直方图</p></figure><p id="2760" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们可以看到男性和女性在总账单中的数量，但是除了悬停交互之外，我们还可以隔离直方图以显示男性、女性或两者。</p><p id="0da2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">直方图的另一个小更新可以是添加地毯图、箱线图或小提琴图:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="ac28" class="le lf it mc b gy mg mh l mi mj">fig = px.histogram(tips,                     #dataframe<br/>                   x = ”total_bill”,         #x-values column<br/>                   color = ”sex”,            #column shown by color<br/>                   marginal = ”rug”,         #plot type (eg box,rug) <br/>                   hover_data = tips.columns #extra info in hover<br/>                   )<br/>fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/7e22e081410b7f45d20c7ce98bbf74bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*GthX2yGZXwo8MjoK__0jZg.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">与性别相关的总账单价格直方图，包括数据点的地形图</p></figure><p id="acf5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里，我使用了一个地毯图，现在我们可以在直方图中看到与下面的条块相关的数据点。正如你可能想知道的，你也可以和地毯图互动。</p><h2 id="d837" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">散点图</h2><p id="f8f1" class="pw-post-body-paragraph ki kj it kk b kl ml ju kn ko mm jx kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">散点图是另一种流行且有效的可视化形式，它不仅简化了表达，还增强了表达。这里我们看到的是虹膜数据集；不同植物种类的大小。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="7c5d" class="le lf it mc b gy mg mh l mi mj">fig = px.scatter(iris,               #dataframe<br/>                 x = "sepal_width",  #x-values column<br/>                 y = "sepal_length"  #y-values column<br/>                 )<br/>fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/6583624c88bb849d0373cab355aae7e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*t7uR6twZr1vSEuQAf3nzdQ.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">间隔宽度和间隔长度散点图</p></figure><p id="0dd6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以通过添加颜色、大小和更多的交互数据，使这个散点图更加动态，信息更加丰富。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="8d84" class="le lf it mc b gy mg mh l mi mj">fig = px.scatter(iris,                        #dataframe<br/>                 x = ”sepal_width”,           #x-values column<br/>                 y = ”sepal_length”,          #y-values column<br/>                 color = ”species”,           #column shown by color<br/>                 size = ’petal_length’,       #col shown by plotsize<br/>                 hover_data = [‘petal_width’] #extra info in hover<br/>                 )<br/>fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/cb281decf4f4b60888b6d8cd3a5c8d05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*i8rcGkCydFblF0ir9AsgzQ.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">间隔宽度和间隔长度散点图(颜色=种类，大小=花瓣长度)</p></figure><p id="afd0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">能够在一组轴上通过添加不同的颜色将植物隔离或分组，有助于我们不必创建三个单独的地块来进行比较。</p><h2 id="2e38" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">线图</h2><p id="2df6" class="pw-post-body-paragraph ki kj it kk b kl ml ju kn ko mm jx kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">传统的线图也很简单，用Plotly表示。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="704c" class="le lf it mc b gy mg mh l mi mj">fig = px.line(gapminder_canada, #dataframe<br/>              x = "year",       #x-values column<br/>              y = "lifeExp"     #y-values column<br/>              )<br/>fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/2683d17acf1fb93b99fc67d6dd3d4e1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*YZccwhEqeRbm-3uVhAVRaQ.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">60年间加拿大人预期寿命的线形图</p></figure><p id="0dca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">折线图对于比较数据集中的两行非常有用，这可以通过向图中再添加一个属性来实现。在这种情况下，颜色代表国家。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="d891" class="le lf it mc b gy mg mh l mi mj">fig = px.line(gapminder_oceania, #dataframe<br/>              x = "year",        #x-values column<br/>              y = "lifeExp",     #y-values column<br/>              color = 'country'  #column shown by color<br/>              )<br/>fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/8419f580bbde3a108292b3a97f15a5d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*XgFAbRfS6dbFNeMRDzr9IA.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">澳大利亚人和新西兰人60年间的预期寿命线图</p></figure><p id="ddf9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里我们有两个来自大洋洲的国家，所以它们都被分配了一种颜色，而不必提及国家的名称，只是颜色参数的列名。</p><p id="c4b2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">除了大洋洲之外，我们还可以添加更多的洲，但是我们如何避免图表变得过于庞大呢？</p><p id="3b25" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将洲显示为颜色，然后将线组设置为国家，这样我们就可以直观地看到不同洲的预期寿命，而不必计算该洲内所有国家的平均预期寿命。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="3710" class="le lf it mc b gy mg mh l mi mj">fig = px.line(gapminder_continent,    #dataframe<br/>              x = ”year”,             #x-values column<br/>              y = ”lifeExp”,          #y-values column<br/>              color = ”continent”,    #column shown by color<br/>              line_group = ”country”, #group rows of a column<br/>              hover_name = ”country”  #hover info title<br/>              )<br/>fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/d844c2300fe157ff5db05fb67ed6053e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*yxrriVUn4oe6yaYMLa6RmQ.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">60年间世界各国预期寿命的折线图(不包括亚洲)</p></figure><p id="13ea" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果个人观察是首选的，我们可以再次隔离大陆的线，以及检查每条线所代表的国家的悬停能力。</p><h2 id="ec43" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">条形图</h2><p id="96dd" class="pw-post-body-paragraph ki kj it kk b kl ml ju kn ko mm jx kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">更简单的条形图代码。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="0c45" class="le lf it mc b gy mg mh l mi mj">fig = px.bar(gapminder_canada, #dataframe<br/>             x = ’year’,       #x-values column<br/>             y = ’pop’         #y-values column<br/>             )<br/>fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/5be51ee7867030377076b9ed22a4f779.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*tzXjxLSEHMSkGz-3z3ATZA.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">加拿大60年人口柱状图</p></figure><p id="2c3c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以添加更多关于加拿大人口随时间变化的信息，包括使用颜色的预期寿命。使用条形图的标签属性将axis标签pop升级为population of Canada，并为悬停功能添加更多详细信息。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="bd03" class="le lf it mc b gy mg mh l mi mj">fig = px.bar(gapminder_canada,                     #dataframe<br/>             x = ’year’,                           #x-values column<br/>             y = ’pop’,                            #y-values column<br/>             hover_data = [‘lifeExp’, ‘gdpPercap’],#extra hover info<br/>             color = ’lifeExp’,                    #column by color<br/>             labels = {‘pop’:’population of Canada’}#label change<br/>             )<br/>fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/ee44ec61f89cf3c28bfb5a2f37228595.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*MZBSy5rlPAjBrbmOE6hWQA.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">加拿大60年人口柱状图(带颜色=预期寿命)</p></figure><p id="b84a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面，我们可以用一张图表有效地描绘出加拿大人口随时间变化的两种趋势。</p><p id="cf99" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">回头看看tips数据集，我们可以将更多的信息叠加到一个柱状图可视化中。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="380f" class="le lf it mc b gy mg mh l mi mj">fig = px.bar(tips,               #dataframe<br/>             x = ”sex”,          #x-values column<br/>             y = ”total_bill”,   #y-values column<br/>             color = ”smoker”,   #column shown by color<br/>             barmode = ”group”,  #separate filter (smoker)<br/>             facet_row = ”time”, #name of grid row<br/>             facet_col = ”day”,  #name of grid column<br/>             category_orders= {“day”: [“Thur”, “Fri”, “Sat”, “Sun”],<br/>                               “time”: [“Lunch”, “Dinner”]}<br/>                                 #grid arrangement<br/>             )<br/>fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/3842380b3910ad4f7b4bac8de6232edf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*dZLky4xDXdvorRz_J80vmw.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">男性和女性在周四至周日午餐和晚餐期间支付的总账单的条形图(带颜色=吸烟者)</p></figure><p id="5ea9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以观察数据集的五列，并伴有一些交互性。通过使用行和列方面，我们有一个网格布局，用于一周中的日期和用餐时间；由较小的条形图组成，其中包含人员类型(吸烟者和性别)及其总账单的摘要。</p><h2 id="e281" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">三维散点图</h2><p id="cced" class="pw-post-body-paragraph ki kj it kk b kl ml ju kn ko mm jx kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">来个3D吧。在这里，我们正在查看选举数据集，其中按地区比较了蒙特利尔市三名市长候选人的投票和结果。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="9de3" class="le lf it mc b gy mg mh l mi mj">fig = px.scatter_3d(            <br/>        election,                #dataframe<br/>        x = ”Joly”,              #x-values column<br/>        y = ”Coderre”,           #y-values column<br/>        z = ”Bergeron”,          #z-values column<br/>        color = ”winner”,        #column shown by color<br/>        size = ”total”,          #column shown by size<br/>        hover_name = ”district”, #hover title<br/>        symbol = ”result”,       #column shown by shape<br/>        color_discrete_map = {“Joly”: “blue”, “Bergeron”: “green”, <br/>                               “Coderre”:”red”}<br/>                                 #specific colors for x,y,z values            )</span><span id="6c89" class="le lf it mc b gy mk mh l mi mj">fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/b9b3f2c7bb7cca9fcaf429b075ffa6cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*ORBD3CMTJJVgW5Yy6h0gWw.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">蒙特利尔不同地区市长候选人票数的三维散点图(颜色=候选人获胜，形状=获胜类型</p></figure><p id="1743" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结合Plotly的悬停交互性，该图可以显示选举数据集中的所有信息。</p><h2 id="02f0" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">地理学的</h2><p id="6698" class="pw-post-body-paragraph ki kj it kk b kl ml ju kn ko mm jx kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">地理图表用于更独特的情况，但也可以使用Plotly Express轻松完成。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="545b" class="le lf it mc b gy mg mh l mi mj">fig = px.scatter_geo(gapminder,               #dataframe<br/>                     locations = ”iso_alpha”, #location code<br/>                     color = ”continent”,     #column shown by color<br/>                     hover_name = ”country”,  #hover info title <br/>                     size = ”pop”,            #column shown by size<br/>                     animation_frame = ”year”,#column animated<br/>                     projection = ”orthographic”#type of map<br/>                     )<br/>fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/88dbbdec090f6754f0f41f51c787b6ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*BLewHYJnpDTWYCuIrymtjQ.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">一段时间内各国人口变化的正射曲线图</p></figure><p id="640b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们对观想有一个非常有用的补充；也就是动画交互性。对于这个数据集，我选择了年份作为动画帧；因此，我们可以自动播放所有年份，也可以手动选择年份。</p><p id="1921" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然上面的球形可视化看起来很有趣，但下面的地图可视化对一个人观察和分析信息会更好。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="13eb" class="le lf it mc b gy mg mh l mi mj">fig = px.choropleth(gapminder,                #dataframe<br/>                    locations = ”iso_alpha”,  #location code<br/>                    color = ”lifeExp”,        #column shown by color<br/>                    hover_name = ”country”,   #hover info title<br/>                    animation_frame = ”year”, #column animated<br/>                    range_color = [20,80]     #color range<br/>                    )<br/>fig.show()</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/4330077cabe0b6545bc4d896c78f9628.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*NGpIOAxOcTsT7blP3w4UbQ.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">各国预期寿命随时间变化的Choropleth图</p></figure><p id="979f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们有了一个非常清晰的图像，显示了随着时间的推移，世界各地的预期寿命。</p><h2 id="9d3c" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">动画散点图</h2><p id="3ab4" class="pw-post-body-paragraph ki kj it kk b kl ml ju kn ko mm jx kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">动画散点图(气泡图)是我最喜欢的可视化，因为它很好地解释了信息，并且非常动态。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="2c97" class="le lf it mc b gy mg mh l mi mj">px.scatter(gapminder,                  #dataframe<br/>          x = "gdpPercap",             #x-values column<br/>          y = "lifeExp",               #y-values column<br/>          animation_frame = "year",    #column animated<br/>          animation_group = "country", #column shown as bubble<br/>          size = "pop",                #column shown by size<br/>          color = "continent",         #column shown by color<br/>          hover_name = "country",      #hover info title<br/>          log_x = True,                #use logs on x-values<br/>          size_max = 55,               #change max size of bubbles<br/>          range_x = [100,100000],      #axis range for x-values<br/>          range_y = [25,90]            #axis range for y-values<br/>          )</span></pre><figure class="lx ly lz ma gt mr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/7430be2eac8e266edd88f63f2f23fe50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*LET39y-G3jMWH02xkto4gA.gif"/></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">各国人均国内生产总值、预期寿命和人口随时间变化的气泡图</p></figure><p id="cb86" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，使用Plotly Express，我们可以实现具有交互性的可视化，只需要几行直观的代码。</p></div></div>    
</body>
</html>