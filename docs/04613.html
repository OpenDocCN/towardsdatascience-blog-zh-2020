<html>
<head>
<title>The Mathematics behind the Lock-down of a Country</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">封锁一个国家背后的数学</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-mathematics-behind-the-lock-down-of-a-country-af5e31a8fdf?source=collection_archive---------21-----------------------#2020-04-24">https://towardsdatascience.com/the-mathematics-behind-the-lock-down-of-a-country-af5e31a8fdf?source=collection_archive---------21-----------------------#2020-04-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/db71a37736615bd829164e20be09360b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gE9FB4MOyHF41bHIy0d32g.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由来自<a class="ae jg" href="https://www.pexels.com/photo/person-doing-handcraft-face-mask-190589/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae jg" href="https://www.pexels.com/@pkddapacific?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Prasanta Kr Dutta </a>拍摄</p></figure><div class=""/><div class=""><h2 id="f50f" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">理解 2020 年的印度大封锁</h2></div><p id="b737" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">免责声明:以下文字无意引起恐慌或伤害感情。这篇文章没有提出任何政治判断。这纯粹是一篇观点文章。我既不擅长数学建模，也不擅长流行病学。这项研究的结果有逻辑和推理的支持，并通过了适当的审查程序。</strong></p><p id="28a0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">4 月 14 日，新德里:</strong>当 10 点的钟声敲响时，印度总理纳伦德拉·莫迪在经历了 21 天的疯狂封锁后向全国发表讲话，成为头条新闻。</p><p id="5a0a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">另一边是 13 亿人民，屏息静气地听他讲话。</p><p id="3a46" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是至关重要的公告。这将决定未来几个月这个国家运作的条件。该国爆发的 n-CoV-SARS-2(也称为新冠肺炎)病例数刚刚超过 10，000 例。</p><p id="3949" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">到上午 10:30，消息传出去了。</p><p id="ffb6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该国在 5 月 3 日之前一直处于封锁状态。虽然我内心的客观现实主义者在这场险些酿成的灾难中松了一口气，但我内心的人性却只能感受到越来越多的沮丧和绝望。</p><p id="048a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">到上午 10 点 45 分，电话开始打进来。</p><p id="d068" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我妈妈先打电话来的。她被困在喀拉拉邦南部城市高知。自从我上次见到她已经快 4 个月了，我们现在都意识到我们再次见面还需要一段时间。</p><p id="996c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后我的小弟弟打电话来了。他和我们的祖父母住在一起，在学校宣布停课前，他及时搬出了他的大学。他们都在首都新德里，也是此次疫情中受影响最严重的地区之一。他说他没事，但我能感觉到他的担心。还是我自己的？</p><p id="f55b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我的家人接受他们眼中的生活。他们是现实主义者。既不悲观，也不乐观。我们都意识到这次关闭是必要的。重要。</p><p id="ea64" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个国家里，我们并不是唯一分散的、分离的群体。</p><p id="66b4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae jg" href="https://www.bbc.com/news/world-asia-india-52086274" rel="noopener ugc nofollow" target="_blank">印度最近面临封锁后最大的移民危机，该国大城市近百万移民决定寻找回家的路。</a></p><p id="67db" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们都渴望回家。不是物理空间，而是与之相关的一切:稳定、爱、和平。</p><p id="316c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，有谁知道这种封锁是否有效吗？我们不知道。我不知道。</p><p id="7bc0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，我们希望，我们祈祷。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="6c26" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我之前的帖子<a class="ae jg" rel="noopener" target="_blank" href="/keep-your-distance-please-a-case-for-social-distancing-in-troubling-times-ff979f8e91a8">请保持距离</a>中，我试图通过一些复杂的数学，以及一些相当直观的概念来解释为什么以及如何产生社交距离。</p><p id="03b2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这篇文章得到的热烈反响让我大吃一惊，也让我受宠若惊。谢谢你的支持，尤其是我的那些不愿透露姓名的评论者。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="ff7a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这篇文章中，我试图提出我对诸如封锁这样的极端措施是否有效的想法。发表意见很容易，但用经验证据来支持一个观点要困难得多。在这篇文章中，我们试图寻找这种支持的证据。</p><p id="01db" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但在继续之前，我必须提醒读者，我们将试图用一个数学模型来证明这一点。预计会有误差。</p><p id="1f81" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们尝试将这个模型应用到印度的数据中。有人担心在这个国家进行的测试数量，这是我们必须认识到的警告。</p><p id="5461" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">任何概率模型的先验往往是一个有争议的问题，我乐于听取对我的选择的不同观点。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e3d8" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">流行病学 101 —是的，先生</h1><p id="6c73" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">我们使用的是上一篇文章中提到的模型，<a class="ae jg" rel="noopener" target="_blank" href="/keep-your-distance-please-a-case-for-social-distancing-in-troubling-times-ff979f8e91a8">请保持距离</a>。一个 SIR 模型。</p><p id="5e75" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">作为一个复习，SIR 模型——首先在 1927 年开发——是一组微分方程，试图将一个群体分割成可接受群体、不可接受群体和可移动群体。</p><p id="a13f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过将模型与数据拟合，可以获得参数β和γ的估计值。</p><p id="7e62" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">β、γ是该模型中最重要的两个元素。</p><ul class=""><li id="548c" class="mz na jj la b lb lc le lf lh nb ll nc lp nd lt ne nf ng nh bi translated">β控制着接触率，即每个感染者每天被感染的平均接触次数</li><li id="e0bd" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">γ控制每天的清除率或恢复/死亡/隔离人员的比例</li></ul><p id="3351" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">他们一起给予</p><ul class=""><li id="de8d" class="mz na jj la b lb lc le lf lh nb ll nc lp nd lt ne nf ng nh bi translated">R₀ = β/γ ∝ <em class="lu">每个原发病例的继发病例数</em></li></ul><p id="1530" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">与更复杂的模型相比，我选择 SIR 方法的原因是为了限制系统最终做出的假设数量。</p><p id="2032" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们如何求解这些参数？<br/>嗯，有两种突出的方式。</p><h1 id="489a" class="mc md jj bd me mf nn mh mi mj no ml mm kp np kq mo ks nq kt mq kv nr kw ms mt bi translated">确定性解还是概率性解？</h1><p id="256e" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">在我之前的文章中，我们尝试的是一个确定性的模型——一个产生单一解决方案的模型。</p><p id="df88" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">另一方面，概率模型可以被证明是一种范式转变。它们通常使用模拟来解决。</p><p id="1ce0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这两种方法有什么区别？</p><p id="de5d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个<strong class="la jk">确定性的</strong>模型不包括随机性的元素。每次你用相同的初始条件运行模型，你都会得到相同的结果。</p><p id="522d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">大多数日常情况的简单数学模型是确定性的。你灯里的电压？决定性的。<br/>通过银行账户赚取的利息？决定性的。</p><p id="c804" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个<strong class="la jk">概率</strong>模型包含了随机性元素。每次运行模型时，即使初始条件相同，结果也可能略有不同。这些模型包含了随机变化的某些方面。</p><p id="f8ea" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些模型是如何工作的？</p><p id="5321" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">概率方法最直观的解释类似于用地图导航。</p><p id="f0e9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设，你在一个你从未去过的城市，你必须确定你在哪里。你只有一张地图。就在你失去所有希望的时候，你的朋友打电话告诉你你在城市的南部<em class="lu"/>。这个信息叫做<strong class="la jk"><em class="lu"/></strong>。</p><p id="cba6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你打算如何定位自己？嗯，你四处看看。</p><p id="3b09" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你猜测到你周围地标的距离。这些就是我们所说的<strong class="la jk"> <em class="lu">观察值</em> </strong>。</p><p id="ed09" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从逻辑上讲，你所需要做的就是在给你的地图上识别这些观察结果，瞧，你已经找到了你自己。</p><p id="2cb0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但对于一台机器来说，这并不是那么简单。那么，机器是如何做到的呢？</p><p id="5fcd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为此，我们使用 MCMC 采样或马尔可夫链蒙特卡罗采样。我们从先前的<strong class="la jk">中随机选取点</strong>，即城市南部的随机点。</p><p id="6f37" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用 Bayes 定理，每个人在他们的高中都必须学习的结果，MCMC 方法为每个采样点计算以下形式的机会…</p><blockquote class="ns"><p id="f086" class="nt nu jj bd nv nw nx ny nz oa ob lt dk translated">“假设我在 200 米处看到这个地标，我在这个位置的可能性有多大？”</p></blockquote><p id="0fd9" class="pw-post-body-paragraph ky kz jj la b lb oc kk ld le od kn lg lh oe lj lk ll of ln lo lp og lr ls lt im bi translated">这就是 MCMC 的闪光点。它智能地搜索<strong class="la jk"/>。它旨在通过探索附近的位置并从那些区域连续取样，向更高概率的区域收敛(<em class="lu">希望是</em>)。所以随着时间的推移，你能够识别你的位置。这是一个分布——因此，你可以理解估计值的变化，否则估计值会减少到一个点。</p><p id="916a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不过，理论已经说够了。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><figure class="oi oj ok ol gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/7ba0ebd73f5ff90c661a1d5efa02f07c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iyL3P7dSUVWRLVRf"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><a class="ae jg" href="https://unsplash.com/@roman_lazygeek?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">罗马法师</a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="89e9" class="mc md jj bd me mf nn mh mi mj no ml mm kp np kq mo ks nq kt mq kv nr kw ms mt bi translated">让我们换个话题——变点分析</h1><p id="4dd2" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">前面的部分看了用贝叶斯术语陈述问题。<br/>为了模拟新冠肺炎，概率方法针对每天的观测提出以下形式的问题:</p><blockquote class="ns"><p id="4803" class="nt nu jj bd nv nw nx ny nz oa ob lt dk translated">“假设我们在第 19 天观察到了 8000 个案例，那么在 R₀为 2 的情况下发生这种情况的可能性有多大？”</p></blockquote><p id="1a1e" class="pw-post-body-paragraph ky kz jj la b lb oc kk ld le od kn lg lh oe lj lk ll of ln lo lp og lr ls lt im bi translated">事实上，流行病建模的概率方法已被广泛用于预测新冠肺炎的传播——最显著的应用是伦敦卫生和热带医学院和 London⁴.帝国理工学院所做的工作<a class="ae jg" href="https://www.nature.com/articles/d41586-020-01003-6" rel="noopener ugc nofollow" target="_blank">这两个机构都在指导英国应对全球危机的策略。</a></p><p id="035c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们使用两个 python 库<code class="fe om on oo op b">requests</code>和<code class="fe om on oo op b">pandas</code>，从<a class="ae jg" href="https://www.covid19india.org/" rel="noopener ugc nofollow" target="_blank">这里</a>访问印度的 CoViD 案例。它们提供 API，一个简单的 python 脚本就可以提取数据。这是一个众包数据库，数据与其他新闻报道一致。</p><p id="37d0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们将数据可视化:</p><figure class="oi oj ok ol gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oq"><img src="../Images/6faedeb4b1948850e7c757492c473103.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MCcNgRjDqa0B8VtUWh9M7w.png"/></div></div></figure><p id="24d7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了研究封锁的影响，我们设置了变化点。那是什么意思？一个简单的草图解释了这个想法。</p><figure class="oi oj ok ol gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi or"><img src="../Images/98c7f2c706b9961f47cfee583e8cd898.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4a_DLkTsNUUgqnD_wIV2rw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">绘制变化点——它们是如何工作的？</p></figure><p id="a71a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们实质上是说，R₀变化有两个时间点。</p><p id="d798" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里，点τ₁，τ₂在本质上是离散的，未知的。该过程将尝试估计这些。在这些时间段的每一个中，R₀也是未知的。</p><p id="7f03" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们首先修改微分方程来解决这个问题</p><pre class="oi oj ok ol gt os op ot ou aw ov bi"><span id="7f82" class="ow md jj op b gy ox oy l oz pa">def _simulate_with_changepoints(parameters, times, N):<br/> beta_1, beta_2, beta_3, gamma, tau1, tau2 = [float(x) for x in parameters]</span><span id="9e8e" class="ow md jj op b gy pb oy l oz pa"> def SIR(y, t, p):<br/>    beta_1, beta_2, beta_3, gamma = p[0], p[1], p[2], p[3]<br/>    tau1, tau2 = p[4], p[5]<br/>    if t &lt; tau1:<br/>       beta = beta_1<br/>    elif t &gt;= tau1 and t &lt; tau2:<br/>       beta = beta_2<br/>    elif t &gt;= tau2:<br/>       beta = beta_3<br/>    S, I = y[0], y[1]<br/>    dSdt = -beta * S * I / N<br/>    dIdt = beta * S * I / N - gamma * I<br/>    return dSdt, dIdt</span><span id="5e79" class="ow md jj op b gy pb oy l oz pa"> values = odeint(SIR, y0, times, (parameters,))<br/> return values.T[1]</span></pre><p id="27e0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们在<code class="fe om on oo op b">pymc3</code>中陈述这个模型——一个用于概率编程的 python 包。</p><pre class="oi oj ok ol gt os op ot ou aw ov bi"><span id="d54d" class="ow md jj op b gy ox oy l oz pa">num_days = len(Infected)<br/>with pm.Model() as SIR_forward_model:    <br/>    R0_1 = pm.Uniform('R0_1', lower=1, upper=6, testval=2)<br/>    R0_2 = pm.Uniform('R0_2', lower=1, upper=6, testval=2)<br/>    R0_3 = pm.Uniform('R0_3', lower=1, upper=6, testval=2)</span><span id="f70c" class="ow md jj op b gy pb oy l oz pa">    tau_1 = pm.DiscreteUniform('tau_1', lower=1, upper=num_days)<br/>    tau_2 = pm.DiscreteUniform('tau_2', lower=tau_1, upper=num_days)</span><span id="ffa9" class="ow md jj op b gy pb oy l oz pa">    Dinf = pm.Uniform('Dinf', lower=0, upper=15, testval=7)</span><span id="6d3c" class="ow md jj op b gy pb oy l oz pa">    gamma = pm.Deterministic('gamma', 1 / Dinf)<br/>    beta_1 = pm.Deterministic('beta_1', R0_1 / Dinf)<br/>    beta_2 = pm.Deterministic('beta_2', R0_2 / Dinf)<br/>    beta_3 = pm.Deterministic('beta_3', R0_3 / Dinf)</span><span id="982d" class="ow md jj op b gy pb oy l oz pa">    forward = th_forward_model(beta_1, beta_2, beta_3, gamma, tau_1, tau_2)<br/>    Y = pm.Poisson('Y', mu=forward, observed=Infected)</span></pre><p id="d13a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的模型定义中，我们假设所有的 R₀'s 都来自从 1 到 6 的均匀分布。</p><blockquote class="pc pd pe"><p id="09c0" class="ky kz lu la b lb lc kk ld le lf kn lg pf li lj lk pg lm ln lo ph lq lr ls lt im bi translated">这意味着 1 到 6 之间的每个数字都有相等的出现概率</p></blockquote><p id="8512" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感染期，1/γ，或者定义为 D∞，来自 0 天到 15 天的均匀分布。</p><blockquote class="pc pd pe"><p id="b997" class="ky kz lu la b lb lc kk ld le lf kn lg pf li lj lk pg lm ln lo ph lq lr ls lt im bi translated">这意味着 0 到 15 之间的每个数字都有相等的出现概率</p></blockquote><p id="7890" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由此我们构造出γ和β₁、β₂、β₃.的方程</p><blockquote class="pc pd pe"><p id="8549" class="ky kz lu la b lb lc kk ld le lf kn lg pf li lj lk pg lm ln lo ph lq lr ls lt im bi translated">γ = 1 / D∞ <br/> βᵢ = R₀ᵢ / D∞</p></blockquote><p id="ec43" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们假设这种病毒的感染期不会随着时间的推移而改变。只有接触率发生变化。</p><p id="f7e1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">切换点被设置为离散的统一先验，这意味着它们只能取从 1 日到数据最后一天的离散值，每天的概率相等。</p><p id="27d1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有了这些<strong class="la jk">先验</strong>，我们可以使用泊松分布来拟合模型，因为我们处理的数据是原始计数数据。</p><p id="6869" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">考虑到我们正在处理近 50 天的数据，我已经分离出最近 10%的数据进行验证。我们运行 6000 次模拟来估计参数。</p><p id="8058" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">模特合体看起来怎么样？</p><figure class="oi oj ok ol gt iv gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/179916d98581606273f4231d592f5b09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*Psd9GSh7Wl-WWAabx2aD-g.png"/></div></figure><p id="19d5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这导致了 17%的 MAPE(平均绝对百分比误差)。<br/> 这意味着预测值在∓实际值的 17%以内。</p><p id="040b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了建立信心，我们对照尚未输入模型的数据检查结果，即被隔离且未用于导出参数的 5 天(<strong class="la jk"> <em class="lu">基于时间序列分割的样本外验证</em> </strong>)。</p><p id="29bc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个数据集上，我们得到了 14%的 MAPE。</p><p id="d195" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这为基于该模型构建推论提供了一些信心。</p><p id="8b1a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那么，这些推论是什么呢？</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><figure class="oi oj ok ol gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pj"><img src="../Images/2059fbef4c45590be4cdf19825779b9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wEhp71jjQ0xzgkFQ4TrMSA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">来自<a class="ae jg" href="https://www.pexels.com/photo/yellow-bulb-1556704/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae jg" href="https://www.pexels.com/@daniel-reche-718241?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">丹尼尔·雷彻</a>的照片</p></figure><h1 id="d60e" class="mc md jj bd me mf nn mh mi mj no ml mm kp np kq mo ks nq kt mq kv nr kw ms mt bi translated">结论</h1><p id="e00e" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">一旦模型拟合完成，并且模型的预测能力得到评估，我们就可以看到参数推断是什么。</p><p id="ee14" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你画出平均 R₀随时间的变化，结果是你永远无法理解的。我第一次看到这个的时候，有点震惊。</p><p id="bb5f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">锁定似乎起作用了！</p><figure class="oi oj ok ol gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pk"><img src="../Images/d8d2a46191504fbcb2abd256dc88468c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8USjzEniKKdPLjUJrLrmGw.png"/></div></div></figure><p id="3390" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">其他参数呢？</p><p id="10b6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">鉴于我们提取了 3 月 2 日的数据，这就使我们对以下情况有了正确的认识:</p><ul class=""><li id="5e12" class="mz na jj la b lb lc le lf lh nb ll nc lp nd lt ne nf ng nh bi translated">τ₁位于 3 月 23 日至 3 月 24 日之间(从 3 月 2 日起 21-22 天)。这与封锁的开始(3 月 25 日)相一致。<br/>在此之前，R₀在 2.1 到 2.6 之间。这是一个很高的数字。如果早一点实施封锁，这种情况本可以得到遏制。</li><li id="c038" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">τ₂在 4 月 5 日(离 3 月 2 日还有 35 天)。<br/>从上图可以看出，在 3 月 24 日到 4 月 5 日之间，R₀的估计值在 1.9 到 2.3 之间变化。这可能意味着，虽然一些国家正在实施社会距离做法，从而看到 R₀下降，但其他国家的反应较慢。</li><li id="b542" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">4 月 5 日以后，R₀从 1.5 到 1.7 不等。这比印度危机的初始阶段减少了 31%。</li><li id="8418" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">感染期 D∞，估计在 5.1 天和 7.4 天之间。这与<a class="ae jg" href="https://www.thelancet.com/journals/langlo/article/PIIS2214-109X(20)30074-7/fulltext" rel="noopener ugc nofollow" target="_blank">最近的研究</a>提供的估计相符。</li></ul><p id="1e2b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从下图中，我们可以看到大多数结果都是双峰的。这意味着有两个收敛点——<em class="lu">直方图</em>中的条在特定点达到峰值，具体来说是两个点。这可能是因为在广阔的印度次大陆上有大量的移民。对于即将到来的危机，每个州都有自己的立场。</p><figure class="oi oj ok ol gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pl"><img src="../Images/457e9180e09b611ef8a7028aa42043a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tp4xou0YmW9XQea-le30xA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">抽样后的后验分布估计</p></figure><p id="9203" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这一见解让我兴奋地去理解和进一步分析这个国家各州的数据。这种性质的分析有多种应用，我计划大约每周使用一种。所以，请继续关注这些更新！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4f6f" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">结论</h1><p id="3eff" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">分析结束时，我百感交集。我想起了阿兰达蒂·洛伊最近一篇文章中的一句话。</p><blockquote class="ns"><p id="6ad1" class="nt nu jj bd nv nw nx ny nz oa ob lt dk translated">我们当中谁不是庸医流行病学家、病毒学家、统计学家和预言家？</p></blockquote><p id="c7e6" class="pw-post-body-paragraph ky kz jj la b lb oc kk ld le od kn lg lh oe lj lk ll of ln lo lp og lr ls lt im bi translated">我确实想提倡这种分析。有足够的理由这样做。印度数学科学研究所<a class="ae jg" href="https://www.financialexpress.com/lifestyle/health/india-coronavirus-cases-near-10000-flattening-of-covid-19-curve-still-a-little-away/1927332/" rel="noopener ugc nofollow" target="_blank"/><a class="ae jg" href="https://www.financialexpress.com/lifestyle/health/india-coronavirus-cases-near-10000-flattening-of-covid-19-curve-still-a-little-away/1927332/" rel="noopener ugc nofollow" target="_blank">最近的一项研究得出结论，扁平化的影响在 4 月 6 日开始显现。</a>这些都符合上面的估计。感染期和 R₀在印度媒体报道的范围之内。<br/> <a class="ae jg" href="https://theprint.in/india/is-indias-covid-19-curve-flattening-cases-now-double-every-10-days-from-3-before-lockdown/404616/" rel="noopener ugc nofollow" target="_blank">一位著名的经济学家也认同这些发现，尽管采用了不同的方法，这份报告已于 4 月 24 日提交给印度政府。</a></p><p id="937e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，这个模型也有警告。这个系统没有考虑到无症状的个体。这个系统没有计算潜伏期。我们假设人口是同质的。</p><p id="47f0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，印度因没有进行足够的试验而受到批评。如果这是正确的，没有进行足够的测试可能意味着所有的预测和见解都是不真实的。毕竟，这个模型符合现有的数据。</p><p id="e111" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">至于根据这个模型的输出来做决定，我反对。如果有什么推论的话，那就是:</p><p id="d003" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">参数的双模态性质表明传染病仍然逍遥法外。请呆在家里。冒险出去不安全。</strong></p><p id="c979" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">保持物理距离。隔离。</strong></p><p id="d9e3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">封锁只有在人们不出门的情况下才能起作用。</strong></p><p id="707d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我写这篇文章时，时钟已经敲响了凌晨 4 点。看着这些数字，我的希望很高，我不禁觉得我们会渡过难关。</p><p id="7eef" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我提醒自己:我们是现实主义者。既不悲观，也不乐观。</p><p id="a824" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，我们希望，我们祈祷。</p><p id="d38f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> <em class="lu">编者按:</em> </strong> <em class="lu"> </em> <a class="ae jg" href="http://towardsdatascience.com/" rel="noopener" target="_blank"> <em class="lu">走向数据科学</em> </a> <em class="lu">是一份以数据科学和机器学习研究为主的中型刊物。我们不是健康专家或流行病学家，本文的观点不应被解释为专业建议。想了解更多关于疫情冠状病毒的信息，可以点击</em> <a class="ae jg" href="https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports" rel="noopener ugc nofollow" target="_blank"> <em class="lu">这里</em> </a> <em class="lu">。</em></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="65f5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">参考文献:</strong></p><ol class=""><li id="f653" class="mz na jj la b lb lc le lf lh nb ll nc lp nd lt pm nf ng nh bi translated"><a class="ae jg" href="https://www.livemint.com/news/india/coronavirus-update-covid-19-cases-in-india-rise-over-10-000-state-wise-numbers-11586831204582.html" rel="noopener ugc nofollow" target="_blank">https://www . livemint . com/news/India/coronavirus-update-新冠肺炎-印度病例数-超过 10，000-国家数量-11586831204582.html </a></li><li id="6aac" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt pm nf ng nh bi translated">W. O .科马克和 A. G .麦肯德里克。1927."对流行病数学理论的贡献."英国皇家学会学报，A 辑 115:700–721。</li><li id="c252" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt pm nf ng nh bi translated">J.库恰尔斯基等人。all，2020，新冠肺炎传播和控制的早期动力学:一项数学建模研究，The Lancet(传染病)，<a class="ae jg" href="https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30144-4/fulltext" rel="noopener ugc nofollow" target="_blank">https://www . The Lancet . com/journals/LAN INF/article/piis 1473-3099(20)30144-4/full text</a></li><li id="a9b3" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt pm nf ng nh bi translated">弗拉克斯曼等人。all，2020，估计 11 个欧洲国家的感染人数和非药物干预对新冠肺炎的影响，伦敦帝国理工学院，<a class="ae jg" href="https://www.imperial.ac.uk/mrc-global-infectious-disease-analysis/covid-19/report-13-europe-npi-impact/" rel="noopener ugc nofollow" target="_blank">https://www . Imperial . AC . uk/MRC-global-infectious-disease-analysis/新冠肺炎/report-13-Europe-NPI-impact/</a></li></ol></div></div>    
</body>
</html>