<html>
<head>
<title>Predicting Crops Yield: Machine Learning Nanodegree Capstone Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">预测农作物产量:机器学习纳米级顶点项目</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/predicting-crops-yield-machine-learning-nanodegree-capstone-project-e6ec9349f69?source=collection_archive---------9-----------------------#2020-02-29">https://towardsdatascience.com/predicting-crops-yield-machine-learning-nanodegree-capstone-project-e6ec9349f69?source=collection_archive---------9-----------------------#2020-02-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/e00a5760bc4b17b637d1c2a3a2c4183b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WvbWS4LQVm2gHatXJmxBlQ.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">印度田间的农民— <a class="ae kf" href="https://unsplash.com/@nandhukumarndd" rel="noopener ugc nofollow" target="_blank"> @nandhukumarndd </a></p></figure><h1 id="c0e9" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">一.定义</h1><h2 id="9817" class="le kh it bd ki lf lg dn km lh li dp kq lj lk ll ku lm ln lo ky lp lq lr lc ls bi translated">简介、问题陈述和指标</h2><p id="ec84" class="pw-post-body-paragraph lt lu it lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">训练机器来学习和产生未来预测模型的科学被广泛使用，这并不是没有意义的。农业在全球经济中发挥着至关重要的作用。随着人口的持续增长，了解世界范围内的作物产量对于应对粮食安全挑战和减少气候变化的影响至关重要。</p><p id="e8a4" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">作物产量预测是一个重要的农业问题。农业产量主要取决于天气条件(雨水、温度等)、杀虫剂。关于作物产量历史的准确信息对于做出与农业风险管理和未来预测相关的决策非常重要。</p><p id="6377" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">世界各地的烹饪有很大差异，但维持人类生存的基本成分非常相似。我们吃大量的玉米、小麦、大米和其他简单的农作物。在这个项目中，利用粮农组织和世界数据库的公开数据，机器学习方法被用于预测10种消费最多的作物。</p><p id="634e" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated"><strong class="lv iu">回归分析</strong>是一种预测建模技术，调查<strong class="lv iu">因变量</strong>(目标)和<strong class="lv iu">自变量</strong>(预测值)之间的关系。用于本项目的回归模型:</p><ul class=""><li id="805f" class="mt mu it lv b lw mo ma mp lj mv lm mw lp mx mn my mz na nb bi translated">梯度推进回归器</li><li id="a3ca" class="mt mu it lv b lw nc ma nd lj ne lm nf lp ng mn my mz na nb bi translated">随机森林回归量</li><li id="d94d" class="mt mu it lv b lw nc ma nd lj ne lm nf lp ng mn my mz na nb bi translated">SVM</li><li id="6048" class="mt mu it lv b lw nc ma nd lj ne lm nf lp ng mn my mz na nb bi translated">决策树回归器</li></ul><p id="1b58" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated"><strong class="lv iu"><em class="nh">sk learn . metrics . R2 _ score</em></strong>函数计算<strong class="lv iu"> R(决定系数)；</strong>它是可从自变量预测的因变量中方差的比例，它是一种介于0和1之间的统计度量，用于计算回归线与其拟合的数据的相似程度。如果是1，模型100%预测数据方差；如果它是0，模型预测没有方差。</p><p id="855c" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">评估指标将是<strong class="lv iu"> R </strong>分数，它将代表回归模型中项目(作物)方差的比例。默认的SciKit-Learn梯度推进回归器和随机森林回归器将用作基准。然后将探索几个模型来改进基准，包括决策树回归器和支持向量机(SVM)。</p><h1 id="55bc" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated"><strong class="ak">二。分析</strong></h1><h2 id="2a74" class="le kh it bd ki lf lg dn km lh li dp kq lj lk ll ku lm ln lo ky lp lq lr lc ls bi translated">收集和清理数据</h2><p id="32f0" class="pw-post-body-paragraph lt lu it lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">数据收集是收集和测量相关变量信息的过程。粮农统计数据库提供了300多万个与粮食和农业有关的时序和跨部门数据。粮农组织的数据可以在csv格式(<strong class="lv iu">万岁！</strong>)。粮农统计数据库的核心数据集中包含200个国家和200多种初级产品和投入的数据。它提供国家和国际的食品和农业统计数据。首先要得到的是每个国家的农作物产量。</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ni"><img src="../Images/26184e9b56a492e8c5198e7d36dceb96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LTZtm2Ifcrs5GTq7"/></div></div></figure><p id="3a31" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">现在数据看起来整洁有序，但是删除了一些列，如区号、域、商品代码等，这些对分析没有任何用处。此外，将<strong class="lv iu">值</strong>重命名为<strong class="lv iu"> hg/ha_yield </strong>，以便更容易识别这是我们的作物产量产值。最终结果是一个四列的数据框架，包括:国家，项目，年份和作物产量。</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/52038f455fc2022a180aa82b47d22fd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/0*j-am99FXrKVrGYEY"/></div></figure><p id="d239" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">使用<strong class="lv iu"> describe() </strong>函数，很少能弄清楚数据框架，它从1961年开始，到2016年结束，这是粮农组织所有可用的最新数据。</p><p id="bac4" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">气候因素包括湿度、阳光和涉及气候的因素。环境因素是指土壤条件。在这个模型中，选择了两个气候因素和一个环境因素，雨和温度。除了影响植物生长和发育的杀虫剂。</p><p id="28a5" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">雨水对农业有着巨大的影响，除了每个国家的平均温度外，本项目的年降雨量信息也是从世界数据库中收集的。</p><p id="64d9" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">平均降雨量的最终数据框架包括:国家、年份和年平均降雨量。数据框从1985年到2017年，另一方面，平均温度数据框包括国家、年份和平均记录温度。温度数据帧开始于1743，结束于2013。年份的变化会对收集的数据造成一定的影响，因为必须统一一个年份范围以不包含任何空值。</p><p id="dd03" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">农药的数据是从粮农组织收集的，它从1990年开始，到2016年结束。将这些数据框架合并在一起，预计年份范围将从1990年开始，到2013年结束，这是23年的数据。</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/801dd8455f7ba907d236d71b637fa061.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*t9BcezTduOw9VJea"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">最终数据帧</p></figure><p id="9fcf" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">上图描述了模型应用的最终数据框架和选定的特征。</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi np"><img src="../Images/61538a700e6ad7556137b8bcc504053b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bpQh3Z2XFM5ZPyfn"/></div></div></figure><p id="241b" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">正如预期的那样，数据框架从1990年开始，到2013年结束。确保没有空实体，我可以进入下一步。最后要注意的是，每一列的值的高方差，稍后我将说明这一点。</p><h2 id="e6f5" class="le kh it bd ki lf lg dn km lh li dp kq lj lk ll ku lm ln lo ky lp lq lr lc ls bi translated">数据探索</h2><p id="9241" class="pw-post-body-paragraph lt lu it lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">按国家和项目分组，以便更好地理解数据集。数据框架中有101个国家，其中印度的农作物产量最高。此外，印度是木薯和土豆产量最高的国家。马铃薯似乎是数据集中的主要作物，在4个国家中最高。</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nq"><img src="../Images/58cf42130a9fae2a2c4cfd96ea615509.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-yaJ7z0b5UG4sKg_5rzabg.png"/></div></div></figure><p id="e340" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">现在，探索数据帧的列之间的关系，快速检查列之间的相关性的一个好方法是将相关性矩阵可视化为热图。从下面的热图可以明显看出，所有变量都是相互独立的，没有相关性。</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nr"><img src="../Images/906599a57a777ce0f5613c29f8285cfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_pmX960hJpVrSwDU"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">数据帧中特征的相关热图</p></figure><h1 id="1c27" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">三。方法学</h1><h2 id="81fa" class="le kh it bd ki lf lg dn km lh li dp kq lj lk ll ku lm ln lo ky lp lq lr lc ls bi translated">数据预处理</h2><p id="681e" class="pw-post-body-paragraph lt lu it lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">数据预处理是一种用于将原始数据转换成干净数据集的技术。换句话说，无论何时从不同来源收集数据，都是以原始格式收集的，这对于分析是不可行的。</p><p id="a49c" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">在最终的数据帧中有两个分类列，分类数据是包含标签值而不是数值的变量。可能值的数量通常限于一个固定的集合，就像本例中的items和countries值。许多机器学习算法不能直接对标签数据进行操作，它们要求所有输入变量和输出变量都是数字。</p><p id="d9d4" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">这意味着分类数据必须转换成数字形式。<strong class="lv iu">一个热编码</strong>是一个过程，通过该过程，分类变量被转换成可以提供给ML算法的形式，以在预测中做得更好。为此，将使用一键编码将这两列转换为一键数字数组。</p><p id="5dc9" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">分类值表示数据集中条目的数值。这种编码将为每个类别创建一个二进制列，并返回一个包含结果的矩阵。</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/20481aa0679c6672f661b5aa6bb029e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UPM6wzvceporvVrZ"/></div></div></figure><p id="bf3b" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">dataframe的特征将类似于上面的115列。看一下上面的数据集，它包含的要素在量级、单位和范围上有很大差异。与低量值的要素相比，高量值的要素在距离计算中的权重要大得多。为了抑制这种效应，我们需要将所有的特征置于相同的量级。这可以通过用<strong class="lv iu">最小最大缩放器</strong>进行缩放来实现。</p><p id="db3e" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">数据预处理的最后一步是训练和测试数据。数据集将被分成两个数据集，即训练数据集和测试数据集。数据通常倾向于拆分不等式，因为训练模型通常需要尽可能多的数据点。对于培训/测试，常见的拆分是70/30或80/20。</p><p id="b08e" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">训练数据集是用于训练ML算法以学习和产生正确预测的初始数据集。(70%的数据集是训练数据集)</p><h2 id="a6c0" class="le kh it bd ki lf lg dn km lh li dp kq lj lk ll ku lm ln lo ky lp lq lr lc ls bi translated">型号比较和选择</h2><p id="1ae7" class="pw-post-body-paragraph lt lu it lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">在决定使用哪种算法之前，首先我们需要评估、比较并选择最适合这个特定数据集的算法。</p><p id="c37f" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">通常，当使用给定的数据集处理机器学习问题时，我们会尝试不同的模型和技术来解决优化问题，并拟合最合适的模型，该模型既不会过拟合也不会欠拟合。</p><p id="ecd9" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">评估指标是基于<strong class="lv iu"> R(决定系数)</strong>回归得分函数设置的，它将代表回归模型中项目(作物)方差的比例。<strong class="lv iu"> R </strong>分数显示了术语(数据点)与曲线或直线的拟合程度。</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/fad4adb128dd10791e54ff8cb7464db5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/0*iFv6GarBlavQf-oj"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated"><strong class="bd nu">四款车型的研发结果</strong></p></figure><p id="d606" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">从上面的结果来看，<strong class="lv iu">决策树回归器</strong>的R值最高，为<strong class="lv iu">的96% </strong>，<strong class="lv iu">GradientBoostingRegressor</strong>次之，为<strong class="lv iu">的89%。</strong></p><p id="449e" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">我还将计算<strong class="lv iu">调整后的R </strong>，其中它也表示术语与曲线或直线的拟合程度，但会根据模型中的术语数量进行调整。如果你在一个模型中加入越来越多的无用变量，调整后的r平方将会减少。如果你增加更多有用的变量，调整后的r平方将会增加。调整后的<strong class="lv iu"> R </strong>将始终小于或等于<strong class="lv iu"> R </strong>。</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/15f3065bd8c2924151658346aea11b0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*TcIeq47YQUqzFcHvu5ffgg.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">R和调整后的R结果。</p></figure><h1 id="9067" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">四。结果</h1><h2 id="2f54" class="le kh it bd ki lf lg dn km lh li dp kq lj lk ll ku lm ln lo ky lp lq lr lc ls bi translated">模型结果和结论</h2><p id="9178" class="pw-post-body-paragraph lt lu it lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">对<strong class="lv iu"> R </strong>最常见的<strong class="lv iu">解释</strong>是回归模型与观测数据的拟合程度。对于<strong class="lv iu">示例</strong>，60%的<strong class="lv iu"> R </strong>表明60%的数据符合回归模型。通常，较高的<strong class="lv iu"> R </strong>表示更适合该模型。从获得的结果来看，很明显，该模型与数据的吻合度达到了96%。</p><p id="c71a" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated"><strong class="lv iu">特征重要性</strong>通过到达该节点的概率加权的节点杂质的减少来计算。节点概率可以通过到达节点的样本数除以样本总数来计算。该值越高，<strong class="lv iu">越重要，<strong class="lv iu">特性</strong>越重要。获得模型的7大重要特性:</strong></p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/e092e5da2ace789c9061c2aedba0c9a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hfnOW9YNbfVw1_-r"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">特征重要性条形图</p></figure><p id="9d39" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">土豆这种作物在模型决策中具有最高的重要性，它是数据集中最高的作物。木薯也是如此，正如我们所料，我们看到了杀虫剂的影响，这是第三个最重要的特征，如果作物是红薯，我们会看到一些在数据集中特征重要性最高的作物。</p><p id="b22e" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">如果作物生长在印度，这是有意义的，因为印度在数据集中有最大的作物总和。然后是降雨量和温度。<strong class="lv iu">关于这些特征的第一个假设是正确的，它们都显著影响模型中的预期作物产量。</strong></p><p id="9b0e" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">下面的箱线图显示了每个项目的产量。土豆最高，木薯，红薯，山药。</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nx"><img src="../Images/5292788fad2f4e6823ec2f11d496cf11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fcZY5-fEoF1virT2"/></div></div></figure><h1 id="1c28" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">动词 （verb的缩写）结论和最终想法</h1><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ny"><img src="../Images/ebde5582b0bd7646a92de34335261146.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PT3ReBZqaVPgfZjA4QuLWg.png"/></div></div></figure><p id="75da" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">上图包含了颠倒的决策树的图形，根在顶部，在这个例子中，根是条目potatoes，因为它是顶部的特征。特征的重要性一目了然，关系也易于查看。</p><p id="26dd" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated"><strong class="lv iu">决策树</strong>算法已经成为Kaggle等竞赛以及商业环境中使用最多的机器学习算法之一。决策树既可以用于分类问题，也可以用于回归问题。</p><p id="ac16" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">决策树通常从单个节点开始，分支成可能的结果。这些结果中的每一个都会导致额外的节点，这些节点又分支成其他的可能性。由正方形表示的决策节点显示要做出的决策，而结束节点显示决策路径的最终结果。一个节点代表一个输入变量(X)和该变量上的一个分割点，假设该变量是数值型的。树的叶节点(也称为终端节点)包含用于进行预测的输出变量(y)。</p><p id="531b" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">决策树通过对数据提出一系列问题来得出一个估计值，每个问题都会缩小我们的可能值，直到模型有足够的信心做出一个预测。问题的顺序及其内容由模型决定。另外，问的问题都是真/假的形式。决策树回归使用<a class="ae kf" href="https://en.wikipedia.org/wiki/Mean_squared_error" rel="noopener ugc nofollow" target="_blank">均方误差</a> (MSE)来决定将一个节点分割成两个或多个子节点。</p><p id="418b" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">根节点是item potato，这是它在模型中最重要的特性。该模型会询问它是否是马铃薯，然后根据它的真假来跟踪分支。该算法首先选取一个值，并将数据分成两个子集。对于每个子集，它将分别计算MSE。该树选择导致最小MSE值的值，直到它到达叶节点。</p><p id="7de5" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">既然对分类项进行了编码，那么答案要么是0，要么是1，要么是，要么不是，那么深度为1的两个内部节点，如果遵循真分支，“<em class="nh">是项木薯</em>？&lt; = 0.5”。另一个节点，会问“<em class="nh">农药_公吨&lt; = 0.005 </em>”，跟随决策树到更深一层等等。</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/ed613b880af39032837b3312f4197e11.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/0*22RFcxbKPbyxEIZ2"/></div></figure><p id="c608" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">上图显示了预测的拟合优度，显示为一条线。可以看出<strong class="lv iu"> R </strong>成绩优秀。这意味着我们已经找到了一个很好的拟合模型来预测某个国家的作物产量值。增加更多功能，如气候数据；风和污染，特定国家的经济状况等等可能会增强模型的预测。</p><h1 id="1067" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">那么，纳米学位值得吗？</h1><p id="4024" class="pw-post-body-paragraph lt lu it lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">嗯，某些部分，肯定是！如果部署部分更侧重于使用Flask而不是Amazon SageMaker，我会更喜欢。</p><p id="3be8" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">我设法在三周内完成了纳米学位，通过每个项目后的自律和满足感绝对值得。此外，可爱的升级项目专家徽章也值得你额外努力去完成每一件事。#UdacityLevelUp</p><p id="e745" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated"><strong class="lv iu"> <em class="nh">(链接代码:</em> </strong> <a class="ae kf" href="https://github.com/hajir-almahdi/Machine-Learning-Capstone-Project.git" rel="noopener ugc nofollow" target="_blank"> <strong class="lv iu"> <em class="nh">机器学习-顶点-项目</em></strong></a><strong class="lv iu"><em class="nh">)</em></strong></p><h1 id="1814" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">参考</h1><p id="8e88" class="pw-post-body-paragraph lt lu it lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated"><a class="ae kf" rel="noopener" target="_blank" href="/the-mathematics-of-decision-trees-random-forest-and-feature-importance-in-scikit-learn-and-spark-f2861df67e3">sci kit-learn和Spark中决策树、随机森林和特征重要性的数学运算</a></p><p id="04b7" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated"><a class="ae kf" href="https://gdcoder.com/decision-tree-regressor-explained-in-depth/" rel="noopener ugc nofollow" target="_blank">决策树回归器深入讲解</a></p><p id="270c" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated">联合国粮食及农业组织</p><p id="4cb1" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated"><a class="ae kf" href="https://data.worldbank.org/" rel="noopener ugc nofollow" target="_blank">世界银行公开数据</a></p><p id="8bec" class="pw-post-body-paragraph lt lu it lv b lw mo ly lz ma mp mc md lj mq mf mg lm mr mi mj lp ms ml mm mn im bi translated"><a class="ae kf" href="https://chrisalbon.com/machine_learning/trees_and_forests/decision_tree_regression/" rel="noopener ugc nofollow" target="_blank">决策树回归</a></p></div></div>    
</body>
</html>