<html>
<head>
<title>Automating ETL with AWS Lambda</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用AWS Lambda自动化ETL</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/automating-etl-with-aws-lambda-97b9e3404929?source=collection_archive---------7-----------------------#2020-05-19">https://towardsdatascience.com/automating-etl-with-aws-lambda-97b9e3404929?source=collection_archive---------7-----------------------#2020-05-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c9dd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用AWS Lambda打包和部署无服务器ETL管道</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7b4832fffe526dfcf5e41b96f4cb2c3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jsA5YGxAxcnBwrS7"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">哈桑·阿尔马西在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h2 id="3d14" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">介绍</h2><p id="b3d5" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">我们周围的世界变化比以往任何时候都快。我们每天产生的数据量确实令人难以置信。每天会产生2.5万亿字节的数据，这意味着我们今天使用的数据明天可能就不再适用了。因此，我们需要一种方法来完全自动化我们的数据流流程，好消息是您不必担心需要昂贵的服务器和硬件来实现这一点，AWS让您可以通过高性能和可扩展性的额外优势来实现这一点。</p><p id="a9d0" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在本文中，我们将只使用AWS免费层产品。所以你可以跟着去。在我们开始这个过程之前，我们需要了解我们将要使用的3个AWS服务EC2、AWS Lambda和Cloudwatch。</p><h2 id="55f8" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak"> EC2 </strong></h2><p id="7753" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">亚马逊<a class="ae kv" href="https://aws.amazon.com/ec2/" rel="noopener ugc nofollow" target="_blank">弹性计算云</a> (EC2)是一项让你租用虚拟机的服务。我们可以用我们想要的任何配置(操作系统、存储等)启动一个<a class="ae kv" href="https://en.wikipedia.org/wiki/Virtual_machine" rel="noopener ugc nofollow" target="_blank">虚拟机</a>。)任何我们想要的时间。</p><h2 id="588d" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak">λ</strong></h2><p id="3189" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated"><a class="ae kv" href="https://aws.amazon.com/lambda/" rel="noopener ugc nofollow" target="_blank"> AWS Lambda </a>是一种无服务器计算服务，它运行我们的代码来响应事件，并自动为我们管理底层计算资源。我们可以使用AWS Lambda通过定制逻辑扩展其他AWS服务，或者创建我们的后端服务。<strong class="lu ir"> AWS Lambda可以自动运行代码来响应多个事件</strong>，例如通过Amazon API Gateway的HTTP请求、对Amazon S3桶中对象的修改、Amazon DynamoDB中的表更新。在我们的例子中，它将根据时间表运行代码。</p><h2 id="b9b9" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak">云观察</strong></h2><p id="3c56" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">顾名思义，<a class="ae kv" href="https://aws.amazon.com/cloudwatch/" rel="noopener ugc nofollow" target="_blank"> CloudWatch </a>以日志、指标和事件的形式收集监控和运营数据，为我们提供运行在AWS和本地服务器上的AWS资源、应用程序和服务的统一视图。我们可以使用CloudWatch来检测我们环境中的异常行为，设置警报，并排显示日志和指标，<strong class="lu ir">采取自动操作</strong>，解决问题，并发现洞察力以保持我们的应用程序平稳运行。</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><p id="db2f" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">AWS lambda是我们进行编程以执行ETL的平台，但AWS lambda不包括大多数日常使用的包/库(Pandas，Requests ),标准的<strong class="lu ir"> pip </strong> install pandas <strong class="lu ir">在AWS Lambda中无法工作</strong>。所以需要在本地或者EC2 虚拟机上安装<strong class="lu ir">包/库，把它作为<strong class="lu ir"> zip文件上传到S3</strong>并作为<strong class="lu ir">层</strong>附加到<strong class="lu ir"> Lambda函数。</strong></strong></p><p id="9715" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">这是我所说的工作流程的一个例子，</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/be57305fa41b1e4221789298c9a5fa89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7rBAKZX_FgpT66trDkZDQQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">工作流程</p></figure><h2 id="4432" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak">创建并启动一个具有S3访问角色的EC2 Linux实例</strong></h2><p id="81a4" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">登录AWS控制台。在服务下，选择EC2，然后启动实例:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/bff7759f7e83a796c777b5ed66cccabc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H53Sw4y5TBWFYXNZJSMCxQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">选择启动实例</p></figure><p id="cfad" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">第一步:为我们的EC2实例选择操作系统，我选择了<strong class="lu ir">Ubuntu Server 18.04 LTS(HVM)</strong>，但是你也可以选择<strong class="lu ir"/>Amazon Linux 2 AMI(HVM)<strong class="lu ir"/>或者任何你喜欢的环境。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/0df1527ad9757306567045485ca0c576.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C948jSTeLoPzLVUJ92X4qg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">选择Ubuntu Server 18.04 LTS (HVM)</p></figure><p id="d93d" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">第二步:选择一个实例类型，选择t2.micro(它包含在免费层中，我们每个月最多可以获得750小时的微实例)。</p><p id="1f87" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">步骤3:配置实例细节，除了<strong class="lu ir"> IAM角色之外，其他都保留默认值。</strong>使用S3访问权限创建新角色。选择“创建新的IAM角色”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/59191bc3d9a5567b91be86fcbd3bf6e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NYhXDmPoZhhcXCuv_1mcvQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建新的IAM角色</p></figure><p id="fb42" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我们将被重定向到“IAM角色”页面，在这里我们可以选择创建角色，然后选择EC2</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/fa404232ea464aaf3251f81fad8e39b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1nLG81FtM8-Et5R0xM9RtQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">选择创建角色</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/71d8b60301d4efdd540fc0db178af8ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VH25g176XrxacjwCsNt1aA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">选择EC2</p></figure><p id="b59a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">附加“AmazonS3FullAccess”策略来读写S3存储桶，并为角色命名。点击创建角色。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/59cf3aa5b4327438da9bedfcf8f4d31a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*16e50ZJU0KwI52GySj6xFQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">附加S3FullAccess策略，以便我们拥有对S3的读写权限</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/e587afdec6339950f5df8344ad8214a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a4rFDMOuunjf8P7KbgjoQw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">给出角色名称</p></figure><p id="dbff" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">返回到“启动实例”页面，点击“IAM角色”旁边的“刷新”,选择我们刚刚创建的角色，然后点击“查看并启动”。如果需要，我们还可以设置存储、标记和配置安全组，但目前，默认设置是好的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/7587c60351afa0f2a41dfca78c396a1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9lKkEdH20yB20ZaujElMYA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">选择IAM角色</p></figure><p id="a32f" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我们将转到步骤7:查看实例启动-点击启动。系统将提示我们创建或选择一个密钥对。选择create a new pair并给它一个名字，<strong class="lu ir">下载密钥对，</strong>并点击launch instance。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/73c56eaba880a22bace5093a48be4579.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WmGBHutCP5V4gKApHcCCjg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建新的密钥对并启动实例</p></figure><p id="056e" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">创建实例后，选择view instance。然后选择我们刚刚创建的实例并点击connect。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/b85561c9788149b66a587664516b75c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bI4ZrZ7VBPon9jaAxqqn9w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">选择实例并点击连接</p></figure><p id="ef08" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">复制“示例”代码，并在计算机上的命令提示符下连接到实例。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/1ab21d17cf1b94e3b32eae26b1546ee3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XL6-SodSaBIpNlKVI4ygRw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">复制示例代码并将其粘贴到命令提示符下</p></figure><p id="f5f1" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">如示例所示粘贴ssh命令，更改密钥(my_key.pem)的路径，然后按enter键。一旦我们连接到我们的命令提示符，它应该看起来像这样。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/e83e4fbf9bad442d25426ad683da2955.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EoUm9_Ez_dRzEl-MXzwPvg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">命令提示符</p></figure></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h2 id="025f" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak">在虚拟环境中安装我们需要的所有依赖项(库),将依赖项打包成一个zip文件，并将其导出到S3 </strong></h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">安装、打包和导出依赖项</p></figure><p id="b61b" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">按照上面的代码，我们已经成功地将打包的zip文件导出到一个S3桶中。</p><h2 id="e7ee" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak">创建并添加Lambda图层</strong></h2><p id="c564" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">选择AWS控制台左上角的服务，导航到AWS lambda，然后导航到<strong class="lu ir"> <em class="nh">层。</em> </strong>选择<em class="nh"> </em> <strong class="lu ir"> <em class="nh">创建图层。</em>T13】</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/2140599534a29735abbe69cc2eb548b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qfLnqoawbikXkyKaB_XP4w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">选择创建层</p></figure><p id="cea1" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">复制我们上传到S3桶的zip文件的<strong class="lu ir">对象URL </strong>，并将其粘贴到<strong class="lu ir">“亚马逊S3链接URL”</strong>文本框中。点击创建。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/810c1897949ae21e87b272f05cbcbdd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e7hbV4cro067ZzeRmCzIBw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">复制对象URL</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/fa0f1962a9115357ab9a9fc86586aaf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o4HvIKIVHlkhLs-7fTp8vg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">粘贴S3链接，选择兼容运行时</p></figure><p id="7718" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">选择添加层，并选择我们创建的层和版本。点击添加。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/3b805961d1f1712199a4a2065c801d71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4M1L1uE7tEiIrDKv3LfOsA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">添加层</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/80f91ed1a65863edb331f8365f1155f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1cKTaUFxrh4cKgcC5YXjTQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">选择你刚刚在最后一步创建的层，点击添加</p></figure><p id="8ad2" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><strong class="lu ir">创建Lambda函数</strong></p><p id="346c" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在AWS lambda控制台上，选择函数，然后点击创建函数。给函数起一个名字，并选择用来编写函数的语言。点击创建。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/933cf4851e131c56ad9322c283c23e37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*At49-xPpgLyH97zWyqUh7g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建函数</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/0a4baef203ca0cf0dacae1dcfbe69aa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b6EODtthtH_ZMm_TwOL2EA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">给出函数名并选择运行时</p></figure><p id="c39b" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">更新Lambda函数来提取、转换和加载数据。在这里，我使用熊猫读取CSV文件，并将其存储在S3桶中。这是我们可以执行转换并决定将数据加载到哪里的地方，在我们的例子中，它是一个S3存储桶。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">λ处理器</p></figure><p id="7bb8" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">选择test，为测试事件输入一个名称，其余的保持默认。点击保存。再次点击test，代码执行我们的ETL过程。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/56f365e5d2690f516163518495860403.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uhuLRAu3OZUxmIV7Of7ZhQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">选择屏幕右上角的测试，并添加测试名称</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/9fa3d1350e676355ad849f2ec390dbae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ARJOqfcVN96RHJXEtYr-jw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">给测试事件起一个名字，剩下的保持默认</p></figure><p id="7e81" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">最后一步:计划你的ETL过程</p><p id="b9c4" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">选择AWS控制台左上角的服务，导航到CloudWatch，然后依次导航到事件和规则。选择创建规则。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/1aabc32119982555fc7bbbd1fc9cc732.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GK_fi7l-gTiVTGF-6w5BoQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">服务-云观察-事件-规则-创建规则</p></figure><p id="bc2e" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">步骤1:选择schedule后跟Cron表达式，输入Cron表达式(4 * *？* *)在每天4:00 GMT运行Lambda函数。</p><p id="7f40" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">点击了解更多关于Cron的表情<a class="ae kv" href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html#CronExpressions" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="7ed7" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">第2步:输入名称和描述。选择创建规则。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/8b475f5299557c81294424c229ab53b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lr_ufj-BOKxXsv9xJ7KyTg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建规则</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/88c5eb52c084ec052673d7710eb0ca11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eod3vYadJ6sm9oUXjmwhvw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">给规则命名和描述</p></figure><p id="d0ac" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">恭喜👏！！我们的ETL过程是自动化的，将每24小时在格林威治时间4:00更新一次。</p><p id="e626" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">PS:确保终止EC2以及任何弹性块存储(EBS ),这样您就不会超出自由层的使用范围。</p><p id="4480" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">祝您的无服务器之旅好运！我希望这篇文章是有帮助的，如果你有任何问题，请随时联系我。</p><div class="nr ns gp gr nt nu"><a href="https://www.linkedin.com/in/ashwinmuthiah/" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd ir gy z fp nz fr fs oa fu fw ip bi translated">Ashwin Muthiah Murugappan -市场监督后数据分析师</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">我是一名充满热情的工业工程研究生，拥有学习先进技术的巨大潜力</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">www.linkedin.com</p></div></div><div class="od l"><div class="oe l of og oh od oi kp nu"/></div></div></a></div></div></div>    
</body>
</html>