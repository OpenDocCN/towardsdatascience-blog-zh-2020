<html>
<head>
<title>Yet Another ‘Notorious’ Prediction</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">又一个“臭名昭著”的预测</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/yet-another-notorious-prediction-a5b9d18cc710?source=collection_archive---------35-----------------------#2020-01-16">https://towardsdatascience.com/yet-another-notorious-prediction-a5b9d18cc710?source=collection_archive---------35-----------------------#2020-01-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/4d432c2d4bdd7b397844b7ccb9a3b81f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*clwy-lKVkXAH1szr-gJcSA.jpeg"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">在<a class="ae jd" href="https://unsplash.com/s/photos/boxing?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae jd" href="https://unsplash.com/@attentieattentie?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">attendee</a>拍照</p></figure><div class=""/><div class=""><h2 id="6292" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">预测一场战斗有多难？</h2></div><p id="dfbc" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">作为一个普通的MMA粉丝，我的社交媒体上充斥着关于即将到来的康纳“臭名昭著”麦格雷戈对唐纳德“牛仔”塞罗恩比赛的帖子和文章链接。在Lianne和Justin在《走向数据科学》的<a class="ae jd" rel="noopener" target="_blank" href="/spoiler-alert-conor-mcgregor-vs-cowboy-who-will-win-7c3eee6389b0">文章</a>中看到这个话题，我仍然感到惊讶。读了那篇文章后，我开始思考如何为这场比赛建立一个更好的预测。</p><h2 id="975f" class="lr ls jg bd lt lu lv dn lw lx ly dp lz le ma mb mc li md me mf lm mg mh mi mj bi translated">数据</h2><p id="4db0" class="pw-post-body-paragraph kv kw jg kx b ky mk kh la lb ml kk ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">使用www.fightprior.com上共享的代码<a class="ae jd" href="http://www.fightprior.com/2016/04/29/scrapingMMA/" rel="noopener ugc nofollow" target="_blank">，我搜集了麦格雷戈、塞罗纳和他们来自Sherdog.com</a><a class="ae jd" href="http://sherdog.com" rel="noopener ugc nofollow" target="_blank">的对手的MMA比赛历史，得到了15000场比赛的结果。</a></p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mp"><img src="../Images/93afedad7f33ae4fc63de8ee4a6bd61b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AZRL3BAdBKbn2kzCRA4aQg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">来自sherdog.com</p></figure><p id="c9c6" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">即使是一个普通的粉丝也知道“风格决定战斗”Sherdog的数据显示了战斗是如何决定的，但几乎没有关于战士们如何赢得和输掉比赛的信息。我们能做什么来表现风格？进入<a class="ae jd" href="https://www.foxsports.com/ufc/stats?weightclass=11&amp;category=BASIC" rel="noopener ugc nofollow" target="_blank">福克斯体育UFC统计</a>页面。</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mu"><img src="../Images/933b2840bfadf904861c2d635aa49486.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V19VssjVCdkMg45FOmLMGQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">来自foxsports.com</p></figure><p id="2507" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">逆转(REV)、提交(SUB)、击倒(TD)和击打(STR)的次数是量化拳手风格的一种方式。但是这个数据有两个问题:这个表只有139名战士在收集的比赛历史中的数据，并且只有当前的生命统计数据。</p><p id="851f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">例如，Sherdog报告康纳的第一场比赛是由TKO通过罢工战胜加里莫里斯(2008年3月)。但是在这场比赛中，康纳(大概)在他的职业生涯中没有任何表现。为了正确估计总打击模型对获胜概率的影响，我们希望第一场比赛的这些统计为零，然后对于McGregor的第二场比赛，我们希望包括第一场比赛的打击。相反，我们只有截至2020年1月的终身总罢工。</p><p id="1e2e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用寿命总计来构建模型会在旧匹配的记录中产生来自未来的泄漏。后果是严重的:模型的成功预测可能被夸大了，并且这些统计数据之间的真实关系(如果有的话)成功的机会没有显示在数据中。</p><p id="063e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所以，在现实生活中，这些数据并不适合使用。但是对于一个没有错误负面影响的预测来说，看看它的表现可能会很有趣。</p><h2 id="d8cf" class="lr ls jg bd lt lu lv dn lw lx ly dp lz le ma mb mc li md me mf lm mg mh mi mj bi translated">模型</h2><p id="ccec" class="pw-post-body-paragraph kv kw jg kx b ky mk kh la lb ml kk ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">Lianne和Justin的<a class="ae jd" rel="noopener" target="_blank" href="/spoiler-alert-conor-mcgregor-vs-cowboy-who-will-win-7c3eee6389b0">文章</a>报道了一个改进的Elo评级过程，并估计McGregor获胜的概率为82%。我们的首要任务是用更小的数据集来验证这个结果。</p><p id="60c5" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">PlayerRatings包包含多个Elo评级变化。要捕捉评级随时间的完整演变，需要一个循环，如下所示:</p><figure class="mq mr ms mt gt is"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="8ca3" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">结果与Lianne和Justin的工作方向一致，显示McGregor的评级在2013年超过Cerrone。最终的评分是麦格雷戈2550分，赛罗内2451分，这意味着麦格雷戈获胜的概率是64%。</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/f633b46ca10e8c447117524e002946d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*hzjnQW4SMx3y7x_WSbi3UA.jpeg"/></div></figure><p id="b396" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这个预测有多好？我们可以从整个历史中获取赛前评级，并查看他们正确预测比赛结果的频率。下面的代码生成适当的评级列，并合并到Fox Sports的职业统计数据中，以创建最终的分析表。</p><figure class="mq mr ms mt gt is"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="4770" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这建立了大约55%的正确预测的基线性能。对于增强模型，我们将通过mgcv包使用一个逻辑<a class="ae jd" href="https://en.wikipedia.org/wiki/Generalized_additive_model" rel="noopener ugc nofollow" target="_blank">游戏</a>。R代码很简单:</p><figure class="mq mr ms mt gt is"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="e476" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">gratia包的draw()函数从GAM生成平滑的ggplot2图表。</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/5909a582d9a0686dfeaa19d34bf91f43.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*chYcu9DycwbGfL-Cqcei4Q.jpeg"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">gratia::draw()显示了GAM估计的响应</p></figure><p id="09cb" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有趣的是，收视率的差异(diffRate)给出了一个线性关系。。。据推测，逻辑链接负责这个驱动程序的非线性。敲除的差异(KDdiff)显示了与方向适当的结果的非常复杂的关系。每个拳击手获胜的双变量平滑显示，如果每个拳击手以相似的获胜次数进入拳击场，对战斗的结果几乎没有影响。</p><p id="7ad3" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在训练样本上，该模型正确预测匹配的概率为62%。并且在保持上做得更好，准确率为63%，比单独的Elo评级提高了15%。</p><p id="4a58" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这有点令人失望，甚至在承认它可能比现实更好之前，因为每个战士都使用了一生的统计数据。</p><h2 id="4353" class="lr ls jg bd lt lu lv dn lw lx ly dp lz le ma mb mc li md me mf lm mg mh mi mj bi translated">最终预测</h2><p id="8316" class="pw-post-body-paragraph kv kw jg kx b ky mk kh la lb ml kk ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">完成所有这些后，我们可以收集代表McGregor-Cerrone比赛的数据，并了解到玩家仍然喜欢“臭名昭著”(McGregor获胜的概率为62%)。这是两个模型在不同的数据上使用不同的方法显示麦格雷戈可能会赢。寻找第三个预测，让我们考虑一下公布的投注赔率。</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi my"><img src="../Images/44b642bb61dcdbb1e1478e1265a144b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T_OhmwkT3xol3tub7kbLYg.jpeg"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">照片由<a class="ae jd" href="https://unsplash.com/@heathergill?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">希瑟·吉尔</a>在<a class="ae jd" href="https://unsplash.com/s/photos/gambling?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="490f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">麦格雷戈目前的下注线(截至2020年1月13日<a class="ae jd" href="https://www.oddsshark.com/ufc/mcgregor-cerrone-odds-analysis" rel="noopener ugc nofollow" target="_blank"/>)是-325。将其转换为赔率，然后转换为概率，这相当于预测麦格雷戈的胜率约为75%。</p><p id="710f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我很惊讶这些赔率对‘臭名昭著’如此有利。由于麦格雷戈已经离开拳击台很长一段时间(自2018年10月以来)，Cerrone很活跃(尽管经历了两连败)，而且比赛重量更重(Cerrone是两者中较大的一个)，我认为“牛仔”有很大的机会获胜。考虑到游戏数据的问题和Elo评分显示的表现不足，我觉得这两个模型都不可信。我相信赌注已经被麦格雷戈在媒体上的过度表现动摇了。</p><p id="3fdc" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我要选Cerrone。</p></div></div>    
</body>
</html>