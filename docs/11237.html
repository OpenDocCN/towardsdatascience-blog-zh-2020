<html>
<head>
<title>Chest CT Scan Machine Learning in 5 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">胸部 CT 扫描 5 分钟机器学习</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/chest-ct-scan-machine-learning-in-5-minutes-ae7613192fdc?source=collection_archive---------30-----------------------#2020-08-04">https://towardsdatascience.com/chest-ct-scan-machine-learning-in-5-minutes-ae7613192fdc?source=collection_archive---------30-----------------------#2020-08-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2ac9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">临床目标、数据表示、任务、模型</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/082b507fddfd6d5b9ec26e2e90c4614b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*57_qkVT6-F8A1Zq7a_YU-g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="063f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这篇文章提供了胸部 CT 扫描机器学习的概述，由临床目标，数据表示，任务和模型组织。</p><p id="80f3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">胸部 CT 扫描是一种灰度三维医学图像，描绘了胸部，包括心脏和肺。CT 扫描用于诊断和监测许多不同的疾病，包括癌症、骨折和感染。</p><h1 id="6987" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated"><strong class="ak">临床目标</strong></h1><p id="2544" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">临床目标是指作为研究重点的医学异常。下图显示了一些异常情况，显示为通过 CT 容积的 2D 轴向切片:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/19d2d2d744537d22bbc9390574512aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*ZZnOgx7QX-Z8Ks8i_e2h3w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。子图片来自:毛玻璃<a class="ae ms" href="https://radiologyassistant.nl/chest/covid-19/covid19-imaging-findings" rel="noopener ugc nofollow" target="_blank">放射科助理</a>、肺炎<a class="ae ms" href="https://www.researchgate.net/figure/Pneumonia-Axial-CT-scan-lung-window-section-showing-left-lung-consolidation-arrow_fig6_276176939" rel="noopener ugc nofollow" target="_blank">卡尔帕纳班萨尔</a>、结节<a class="ae ms" href="https://pulmonarychronicles.com/index.php/pulmonarychronicles/article/view/467/1018" rel="noopener ugc nofollow" target="_blank">肺部编年史</a>、蜂窝肺<a class="ae ms" href="https://radiopaedia.org/cases/honeycombing-in-pulmonary-fibrosis" rel="noopener ugc nofollow" target="_blank">Radiopaedia.org</a>、肺气肿<a class="ae ms" href="https://www.tes.com/lessons/tGSVv66fn8GrOQ/emphysema" rel="noopener ugc nofollow" target="_blank">TES.com</a>、肺不张<a class="ae ms" href="https://www.researchgate.net/figure/Example-slices-of-typical-lung-CT-images-of-two-patients-with-atelectasis-ATL-and_fig1_313807162" rel="noopener ugc nofollow" target="_blank">研究门</a></p></figure><p id="675a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">很多 CT 机器学习的论文都聚焦于<a class="ae ms" href="https://link.springer.com/article/10.1007/s10278-020-00320-6" rel="noopener ugc nofollow" target="_blank">肺结节</a>。</p><p id="fe03" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最近的其他工作关注了肺炎、肺气肿、肺癌、气胸和气胸，前者是肺部感染，后者是肺气肿，前者是吸烟导致的一种肺部损伤，后者是肺癌，后者是气胸。</p><p id="dddb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我一直专注于多种异常预测，其中模型<a class="ae ms" href="https://arxiv.org/ftp/arxiv/papers/2002/2002.04752.pdf" rel="noopener ugc nofollow" target="_blank">同时预测 83 种不同的异常发现</a>。</p><h1 id="193b" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated"><strong class="ak">数据</strong></h1><p id="8f9d" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">在机器学习模型中，有几种不同的方法来表示 CT 数据，如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/70a7ba7c361a418fead05d1bc1f51bb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/0*boGeph4OuGmQ7_4w"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="7ede" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3D 表示包括大约 1000×512×512 像素的整个 CT 体积，以及可以大(例如整个体积的一半或四分之一)或小(例如 32×32×32 像素)的 3D 补片。</p><p id="2cc4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.5D 表示使用不同的垂直平面。</p><ul class=""><li id="9180" class="mu mv it la b lb lc le lf lh mw ll mx lp my lt mz na nb nc bi translated">轴面像腰带一样水平，冠状面像头带或旧式耳机一样垂直，矢状面像弓箭手面前的弓箭的平面一样垂直。</li><li id="956d" class="mu mv it la b lb nd le ne lh nf ll ng lp nh lt mz na nb nc bi translated">如果我们取一个轴向切片、一个矢状切片和一个冠状切片，并将它们堆叠成一个 3 通道图像，那么我们就有一个 2.5D 切片表示。</li><li id="7079" class="mu mv it la b lb nd le ne lh nf ll ng lp nh lt mz na nb nc bi translated">如果这是用小的小块来完成的，例如 32×32 像素，那么我们有一个 2.5D 的小块表示。</li></ul><p id="f441" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，还使用了 2D 表示法。这可以是一个完整的切片(例如 512 x 512)，也可以是一个 2D 面片(例如 16 x 16，32 x 32，48 x 48)。这些 2D 切片或贴片通常来自轴向视图。</p><h1 id="e3da" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated"><strong class="ak">任务</strong></h1><p id="1ee3" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">胸部 CT 机器学习有很多不同的任务。</p><p id="82c7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下图说明了一些任务:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/b2df0d31c8b478fe30642dee1ba8eb6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*LiT-oOBjZWmbYq3UBcqaTQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。子图片来自<a class="ae ms" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6052252/" rel="noopener ugc nofollow" target="_blank">颜等 2018 深度病变</a>和<a class="ae ms" href="https://ieeexplore.ieee.org/document/8651448" rel="noopener ugc nofollow" target="_blank">江等 2019 </a></p></figure><p id="0bb0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">二元分类包括给 CT 表现分配 1 或 0，表示异常的存在(1)或不存在(0)。</p><p id="bb93" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae ms" href="https://glassboxmedicine.com/2019/05/26/classification-sigmoid-vs-softmax/" rel="noopener ugc nofollow" target="_blank">多级分类</a>用于互斥的类别，如间质性肺病的不同临床亚型。在这种情况下，模型将 0 分配给除 1 类别之外的所有类别。</p><p id="d95a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae ms" href="https://glassboxmedicine.com/2019/05/26/classification-sigmoid-vs-softmax/" rel="noopener ugc nofollow" target="_blank">多标签分类</a>用于非互斥类别，如肺不张(肺组织萎陷)、心脏肥大(心脏增大)和肿块。CT 扫描可能有一些、全部或没有这些发现，并且模型确定存在哪些(如果有的话)。</p><p id="c017" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">目标检测包括预测感兴趣的异常周围的边界框的坐标。</p><p id="b52a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae ms" href="https://glassboxmedicine.com/2020/01/21/segmentation-u-net-mask-r-cnn-and-medical-applications/" rel="noopener ugc nofollow" target="_blank">分割</a>包括标记每个像素，这在概念上就像“描绘异常的轮廓并给它们着色”</p><p id="358b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">训练这些模型需要不同的标签。需要异常的“存在或不存在”标签来训练分类模型，例如[肺不张=0，心脏肥大= 1，质量= 0]。需要包围盒标签来训练对象检测模型。训练分割模型需要分割掩模(轮廓中跟踪和填充的)。如果这些标签是从自由文本放射学报告中自动提取的(例如，36，316 CT 的<a class="ae ms" href="https://arxiv.org/ftp/arxiv/papers/2002/2002.04752.pdf" rel="noopener ugc nofollow" target="_blank"> RAD-ChestCT 数据集</a>),则只有“存在或不存在”标签可扩展到数万次 CT 扫描。获得分割掩模是最耗时的，因为它们必须在每个切片上手动绘制；因此，分割研究通常使用 100-1000 次 CT 扫描。</p><h1 id="6fdf" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated"><strong class="ak">型号</strong></h1><p id="8587" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">卷积神经网络是在 CT 数据上使用的最流行的机器学习模型。关于 CNN 的 5 分钟介绍，见本文。</p><ul class=""><li id="6657" class="mu mv it la b lb lc le lf lh mw ll mx lp my lt mz na nb nc bi translated">3D CNNs 用于整个 CT 体积或 3D 补片</li><li id="f358" class="mu mv it la b lb nd le ne lh nf ll ng lp nh lt mz na nb nc bi translated">2D CNN 用于 2.5D 表示(3 个通道，轴向/冠状/矢状)，与 2D CNN 可以将 3 通道 RGB 图像作为输入(3 个通道，红/绿/蓝)的方式相同。</li><li id="a087" class="mu mv it la b lb nd le ne lh nf ll ng lp nh lt mz na nb nc bi translated">2D CNN 用于 2D 切片或 2D 补丁。</li></ul><p id="48be" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一些 CNN 结合了 2D 和 3D 卷积。CNN 也可以被“预训练”,这通常是指首先在像 ImageNet 这样的自然图像数据集上训练 CNN，然后在 CT 数据上精炼 CNN 的权重。</p><p id="db5d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里是一个<a class="ae ms" href="https://arxiv.org/ftp/arxiv/papers/2002/2002.04752.pdf" rel="noopener ugc nofollow" target="_blank">架构示例</a>，其中预训练的 2D CNN (ResNet18)应用于 3 个相邻切片的组，然后进行 3D 卷积:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/6783ec18fcf09b144756c93ea1064073.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dIybw0QvfUng3pxY"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="ee41" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated"><strong class="ak">间质性肺病分类举例</strong></h1><p id="1451" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">下表包括几个关注间质性肺病的研究实例，按临床目标、数据、任务和模型组织。</p><ul class=""><li id="7c4f" class="mu mv it la b lb lc le lf lh mw ll mx lp my lt mz na nb nc bi translated">临床目标:这些论文都集中在间质性肺病。不同的研究使用的确切类别不同。一些研究侧重于临床分组，如特发性肺纤维化或特发性非特异性间质性肺炎(如王等人 2019 年和沃尔什等人 2018 年)。其他研究侧重于网状或蜂窝状等肺部模式(如 Anthimopoulos 等人 2016 年和高等人 2016 年)。</li><li id="98c3" class="mu mv it la b lb nd le ne lh nf ll ng lp nh lt mz na nb nc bi translated">数据:数据集由 100–1，200 个 CT 组成，因为所有这些研究都依赖于片、切片或像素的手动标记，这非常耗时。进行碎片、切片或像素级分类的好处在于，除了诊断信息之外，它还提供了定位信息。</li><li id="ec19" class="mu mv it la b lb nd le ne lh nf ll ng lp nh lt mz na nb nc bi translated">任务:任务大多是多类分类，其中每个片或片被分配给多个可能的类中的一个类。</li><li id="8361" class="mu mv it la b lb nd le ne lh nf ll ng lp nh lt mz na nb nc bi translated">模型:一些研究使用定制的 CNN 架构，等人 2019 和高等人 2018，而其他研究采用现有的 CNN 架构，如<a class="ae ms" href="https://arxiv.org/abs/1512.03385" rel="noopener ugc nofollow" target="_blank"> ResNet </a>和<a class="ae ms" href="https://papers.nips.cc/paper/4824-imagenet-classification-with-deep-convolutional-neural-networks.pdf" rel="noopener ugc nofollow" target="_blank"> AlexNet </a>。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/52e145a9adeb2a0409f9131d3f5f0cff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eQvvyRHSoXOxDshq"/></div></div></figure><h1 id="fa75" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated"><strong class="ak">补充阅读</strong></h1><ul class=""><li id="98c1" class="mu mv it la b lb mm le mn lh nk ll nl lp nm lt mz na nb nc bi translated">关于这个主题的更长、更深入的文章，请参见<a class="ae ms" href="https://glassboxmedicine.com/2020/03/05/automatic-interpretation-of-chest-ct-scans-with-machine-learning/" rel="noopener ugc nofollow" target="_blank">使用机器学习自动解读胸部 CT 扫描</a></li><li id="56f8" class="mu mv it la b lb nd le ne lh nf ll ng lp nh lt mz na nb nc bi translated">关于胸部 X 射线中的机器学习的文章，这是胸部的 2D 医学图像，而不是胸部的 3D 医学图像，请参见<a class="ae ms" href="https://glassboxmedicine.com/2019/05/11/automated-chest-x-ray-interpretation/" rel="noopener ugc nofollow" target="_blank">自动胸部 X 射线解释</a></li><li id="15c0" class="mu mv it la b lb nd le ne lh nf ll ng lp nh lt mz na nb nc bi translated">有关 CNN 的更多信息，请参见<a class="ae ms" href="https://glassboxmedicine.com/2020/08/03/convolutional-neural-networks-cnns-in-5-minutes/" rel="noopener ugc nofollow" target="_blank">5 分钟内的卷积神经网络</a>和<a class="ae ms" href="https://glassboxmedicine.com/2019/05/05/how-computers-see-intro-to-convolutional-neural-networks/" rel="noopener ugc nofollow" target="_blank">计算机如何看待:卷积神经网络简介</a></li><li id="0fae" class="mu mv it la b lb nd le ne lh nf ll ng lp nh lt mz na nb nc bi translated">有关分割任务的更多详情，请参见<a class="ae ms" href="https://glassboxmedicine.com/2020/08/04/chest-ct-scan-machine-learning-in-5-minutes/U-Net,%20Mask%20R-CNN,%20and%20Medical%20Applications" rel="noopener ugc nofollow" target="_blank">分割:U-Net、Mask R-CNN 和医疗应用</a></li><li id="64fe" class="mu mv it la b lb nd le ne lh nf ll ng lp nh lt mz na nb nc bi translated">有关分类任务的更多详细信息，请参见<a class="ae ms" href="https://glassboxmedicine.com/2019/05/26/classification-sigmoid-vs-softmax/" rel="noopener ugc nofollow" target="_blank">多标签与多类分类:Sigmoid 与 Softmax </a></li></ul></div><div class="ab cl nn no hx np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="im in io ip iq"><p id="152a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="nu">原载于 2020 年 8 月 4 日 http://glassboxmedicine.com</em><em class="nu">T21</em><a class="ae ms" href="https://glassboxmedicine.com/2020/08/04/chest-ct-scan-machine-learning-in-5-minutes/" rel="noopener ugc nofollow" target="_blank">。</a></p></div></div>    
</body>
</html>