<html>
<head>
<title>Will Streamlit cause the extinction of Flask?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Streamlit 会导致 Flask 灭绝吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/part-2-will-streamlit-cause-the-extinction-of-flask-395d282296ed?source=collection_archive---------22-----------------------#2020-01-21">https://towardsdatascience.com/part-2-will-streamlit-cause-the-extinction-of-flask-395d282296ed?source=collection_archive---------22-----------------------#2020-01-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a3b2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">可能对于机器学习(ML)和深度学习(DL)来说。对于其他全栈应用，大概不会！</h2></div><p id="cfbb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还没有遇到一个基于 ML 或 DL 的<a class="ae le" href="https://www.fullstackpython.com/flask.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu"> Flask </strong> </a>的微服务不能被重构为<a class="ae le" href="https://www.streamlit.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu">Streamlit</strong></a><strong class="kk iu"/>服务。</p><p id="1399" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">挑战在于保持<strong class="kk iu">精简</strong>微服务的规模，只需替换 2 到 3 个基于<strong class="kk iu"> Flask </strong>的微服务。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/b0c6e622700983a1ecc1d9ba7f9f229f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_spIPS7S9UnZYke2clNkEw.jpeg"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">烧瓶熄灭？</p></figure><p id="e2c6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我曾在 20 多家公司工作或咨询过，我很幸运能在两家大公司工作，这两家公司非常有远见，不断改进，并把创新作为公司战略的一个组成部分。</p><p id="025b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我为一家公司工作，该公司的管理层欣赏新的开源软件包的快速发展，并让我评估它们是否可能被采用。</p><p id="d7ad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">目前，我正在将<strong class="kk iu"> Flask </strong>微服务重构为<strong class="kk iu"> Streamlit </strong>微服务。这些重构的原型，如果被证明在维护费用上更好(并通过我们的测试金字塔)，就允许投入生产。</p><p id="52d5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过更换工作<strong class="kk iu">烧瓶</strong>微服，我们违反了<strong class="kk iu"> <em class="lv">【不破，不修】</em> </strong> <em class="lv"> </em>教义。</p><p id="ad7d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我认为用<strong class="kk iu"> Streamlit </strong>到<strong class="kk iu"> <em class="lv">代替未破的</em></strong><em class="lv"/><strong class="kk iu"/>非常具有前瞻性和创新性(不过话说回来，我也很偏颇)。时间会证明这是否是一种进步。</p><h1 id="841a" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">较早的帖子被重新访问</h1><p id="fff2" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">在早先的帖子中，我用简单的<em class="lv"> hello World 比较了<strong class="kk iu">烧瓶</strong>和<strong class="kk iu">流线</strong>！</em>举例。我们发现<strong class="kk iu"> Flask </strong>需要 7 行代码，而<strong class="kk iu"> Streamlit </strong>需要两行代码。</p><div class="mt mu gp gr mv mw"><a href="https://medium.com/swlh/part-1-will-streamlit-kill-off-flask-5ecd75f879c8" rel="noopener follow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">Streamlit 会杀死 Flask 吗？</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">好吧，标题有点戏剧性。怎么样… Streamlit 将取代许多基于烧瓶的应用程序。</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">medium.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk lp mw"/></div></div></a></div><p id="d8a0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我将两个微服务都放在一个<strong class="kk iu"> Docker </strong>容器中，其环境是<strong class="kk iu"> Python 3.7 </strong>。我使用<strong class="kk iu"> Docker </strong>以便我们可以将<strong class="kk iu">烧瓶</strong>与<strong class="kk iu"> Streamlit、</strong>进行比较，并且我的示例可以在您的平台<strong class="kk iu">上轻松复制。</strong></p><div class="mt mu gp gr mv mw"><a href="https://medium.com/rate-engineering/using-docker-containers-as-development-machines-4de8199fc662" rel="noopener follow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">使用 Docker 容器作为开发机器</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">我们是如何做到的，我们学到了什么</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">medium.com</p></div></div><div class="nf l"><div class="nl l nh ni nj nf nk lp mw"/></div></div></a></div><p id="5e91" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们发现为<strong class="kk iu">烧瓶</strong>或<strong class="kk iu"> Streamlit 创建<strong class="kk iu"> Docker </strong>容器的努力没有差别。</strong>任何一个都可以作为本地 web 服务或您的云提供商的生产微服务。</p><p id="4705" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意:在本文中，我没有使用生产服务器，比如<a class="ae le" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu"> Heroku </strong> </a> <strong class="kk iu">。</strong></p><h1 id="8d5d" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">概述</h1><p id="eb3c" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">我们将一起旅行，创建一个比<em class="lv"> Hello-world 更复杂的微服务！。</em> <strong class="kk iu"> Flask </strong>和<strong class="kk iu"> Streamlit </strong>将比较具有输入、<strong class="kk iu"> pandas </strong> dataframe 显示和绘图的 web-app 实现。</p><p id="5fe1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将再次使用<strong class="kk iu"> Docker </strong>，以便我们可以将<strong class="kk iu"> Flask </strong>与<strong class="kk iu"> Streamlit、</strong>进行比较，并且可以在您的平台上轻松复制示例。</p><h1 id="969b" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">引入烧瓶</h1><p id="0827" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">当建立网站时，你应该有一个健壮的框架来处理所有类型的功能。在<strong class="kk iu"> Python </strong>全栈软件工程师中最受欢迎的微服务框架之一是<strong class="kk iu"> Flask </strong>。</p><p id="cc73" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">烧瓶的一些参考资料包括:</p><div class="mt mu gp gr mv mw"><a href="https://medium.com/fintechexplained/flask-host-your-python-machine-learning-model-on-web-b598151886d" rel="noopener follow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">Flask —在 Web 上托管您的 Python 机器学习模型</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">了解如何使用 Python Flask 将您的机器学习模型转化为业务</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">medium.com</p></div></div><div class="nf l"><div class="nm l nh ni nj nf nk lp mw"/></div></div></a></div><blockquote class="nn"><p id="7715" class="no np it bd nq nr ns nt nu nv nw ld dk translated">可以把 Flask 想象成一个软件包的集合，它可以帮助你轻松地创建一个 web 应用程序。这些组件可以被组装和进一步扩展。</p></blockquote><div class="nx ny nz oa ob mw"><a href="https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world-legacy" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">烧瓶大型教程，第一部分:你好，世界！</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">这是我将记录我用 Python 编写 web 应用程序的经历的系列文章的第一篇…</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">blog.miguelgrinberg.com</p></div></div><div class="nf l"><div class="oc l nh ni nj nf nk lp mw"/></div></div></a></div><div class="mt mu gp gr mv mw"><a href="https://scotch.io/bar-talk/processing-incoming-request-data-in-flask" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">处理 Flask 中的传入请求数据</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">在任何 web 应用程序中，您都必须处理来自用户的请求数据。Flask 和任何其他 web 框架一样，允许…</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">scotch.io</p></div></div><div class="nf l"><div class="od l nh ni nj nf nk lp mw"/></div></div></a></div><h1 id="b667" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">介绍 Streamlit</h1><p id="407e" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated"><a class="ae le" href="https://www.streamlit.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu"> Streamlit </strong> </a>是一个开源的<strong class="kk iu"> Python </strong>框架，使我们能够开发和部署基于 web 的应用程序。</p><div class="mt mu gp gr mv mw"><a href="https://www.streamlit.io" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">Streamlit -构建定制 ML 工具的最快方法。</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">Streamlit 是一个面向机器学习和数据科学团队的开源应用框架。在…中创建漂亮的数据应用程序</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">www.streamlit.io</p></div></div><div class="nf l"><div class="oe l nh ni nj nf nk lp mw"/></div></div></a></div><div class="mt mu gp gr mv mw"><a rel="noopener follow" target="_blank" href="/how-to-write-web-apps-using-simple-python-for-data-scientists-a227a1a01582"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">如何为数据科学家使用简单的 Python 编写 Web 应用？</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">无需了解任何 web 框架，即可轻松将您的数据科学项目转换为酷炫的应用程序</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">towardsdatascience.com</p></div></div><div class="nf l"><div class="of l nh ni nj nf nk lp mw"/></div></div></a></div><blockquote class="nn"><p id="6e83" class="no np it bd nq nr ns nt nu nv nw ld dk translated">Web 框架很难学。为了一些看似简单的事情，我仍然会对所有的 HTML、CSS 和 Javascript 感到困惑。</p></blockquote><p id="3534" class="pw-post-body-paragraph ki kj it kk b kl og ju kn ko oh jx kq kr oi kt ku kv oj kx ky kz ok lb lc ld im bi translated">在本文中，我们会继续发现，我们需要成为一名称职的<strong class="kk iu"> Python </strong>全栈<strong class="kk iu"> Flask </strong>软件工程师。我们需要知道如何使用<strong class="kk iu"> Javascript </strong>，<strong class="kk iu"> HTML，</strong><a class="ae le" href="https://wtforms.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu">wt forms</strong></a><strong class="kk iu">，</strong>和/或<a class="ae le" href="https://pythonhosted.org/Flask-Bootstrap/" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu">Bootstrap</strong></a><strong class="kk iu"/>和/或<strong class="kk iu"> Flask-RESTful </strong>和/或(非常非常多的打包机会)。</p><p id="aca8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我发现烧瓶是一个健壮的框架。所有的扩展使它更加强大。更重要的是，它通过提供适合您的包扩展来适应您的编程风格。</p><p id="c769" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一个好的全栈<strong class="kk iu">烧瓶</strong>程序员会有多年的经验。然而，一个优秀的<strong class="kk iu"> Streamlit </strong>黑客(就像机器学习科学家)需要数周的经验来设计、开发和部署一个生产就绪的基于网络的仪表板。</p><p id="0d49" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们是<strong class="kk iu">Python</strong>T30】Streamlit 机器学习或者深度学习科学家，我们做<em class="lv">不是</em>需要知道<strong class="kk iu"> Javascript </strong>、<strong class="kk iu"> HTML </strong>、<strong class="kk iu"> CSS 等..、</strong>和堆栈中不同的<strong class="kk iu"> POST/GET URL </strong>包。相反，我们的软件栈由<strong class="kk iu"> Streamlit ( </strong>和<strong class="kk iu"> </strong>可能是<strong class="kk iu"> Docker) </strong>组成。就是这样！</p><div class="mt mu gp gr mv mw"><a href="https://medium.com/better-programming/2020-001-full-stack-pronounced-dead-355d7f78e733" rel="noopener follow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">全栈宣告死亡</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">欢迎 2020 堆栈</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">medium.com</p></div></div><div class="nf l"><div class="ol l nh ni nj nf nk lp mw"/></div></div></a></div><blockquote class="nn"><p id="e2e6" class="no np it bd nq nr ns nt nu nv nw ld dk translated">结果是专业化。前端开发人员处理 HTML、CSS 和 JavaScript。后端开发人员处理主机操作系统、HTTP 服务器和数据库。精通这两种语言的开发人员被称为全栈开发人员。</p><p id="4173" class="no np it bd nq nr om on oo op oq ld dk translated">专业化是一件好事。直到它不是。一方面，这意味着团队可以并行工作以缩短开发周期。另一方面，这意味着我们必须额外努力沟通初始需求和变更单规范，否则我们将冒着失去并行工作成果的风险。</p><p id="923d" class="no np it bd nq nr om on oo op oq ld dk translated">因此，拥有一个全栈开发团队，没有可区分的前端/后端组，似乎是一个好主意。</p></blockquote><h1 id="fe6e" class="lw lx it bd ly lz ma mb mc md me mf mg jz or ka mi kc os kd mk kf ot kg mm mn bi translated">更快的满足感(再次)</h1><p id="e624" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">在您选择的目录中完成以下操作:</p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="0247" class="oz lx it ov b gy pa pb l pc pd"><a class="ae le" href="https://github.com/bcottman/webApps.git" rel="noopener ugc nofollow" target="_blank">git clone https://github.com/bcottman/webApps.git</a></span></pre><p id="d32c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在另一篇博客中，我们创建了包含所有代码的<code class="fe pe pf pg ov b">/webApps</code>目录树。在不同于上次的不同父目录中使用<code class="fe pe pf pg ov b">git clone</code>，以获得更新(或者使用相同的父目录并覆盖您对原始代码<em class="lv">所做的任何更改)。或者…我将让您决定如何管理您的文件系统</em>。</p><h2 id="4490" class="oz lx it bd ly ph pi dn mc pj pk dp mg kr pl pm mi kv pn po mk kz pp pq mm pr bi translated">1.输入和数据帧显示的 Flask 实现</h2><p id="69f2" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">对于我们的 Flask 微服务的第一个实现，我将显示一个熊猫数据帧。</p><p id="036b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">来自浏览器 URL 的<code class="fe pe pf pg ov b">dataset</code>参数被返回并分配给运行在服务器上的<code class="fe pe pf pg ov b">dataviewer1.py</code>中的<code class="fe pe pf pg ov b">dataset_name</code>。这是服务器代码中非常基本的变量设置(即<code class="fe pe pf pg ov b"><a class="ae le" href="http://localhost:5000/show?dataset=Airq)." rel="noopener ugc nofollow" target="_blank">http://localhost:5000/show?dataset=Airq</a></code> <a class="ae le" href="http://localhost:5000/show?dataset=Airq)." rel="noopener ugc nofollow" target="_blank">)。</a></p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="fbe4" class="oz lx it ov b gy pa pb l pc pd">import pandas as pd<br/>from pydataset import data</span><span id="d98c" class="oz lx it ov b gy ps pb l pc pd">from flask import Flask</span><span id="edf7" class="oz lx it ov b gy ps pb l pc pd">app = Flask(__name__)<br/>app.debug = True</span><span id="0c35" class="oz lx it ov b gy ps pb l pc pd">@app.route('/show', methods=['GET'])<br/>def dataViewer_1():<br/>    dataset_name = request.args.get('dataset')<br/>    if dataset_name == None:<br/>        dataset_name = 'Aids2'  #default if no arg passed</span><span id="68c9" class="oz lx it ov b gy ps pb l pc pd">    if type(data(dataset_name)) != pd.core.frame.DataFrame:<br/>        return('Bad dataset name:{}'.format(dataset_name))</span><span id="2adb" class="oz lx it ov b gy ps pb l pc pd">    return data(dataset_name).to_html(header="true", table_id="table")</span><span id="a059" class="oz lx it ov b gy ps pb l pc pd">if __name__ == "__main__":<br/>    app.run()</span><span id="b4ba" class="oz lx it ov b gy ps pb l pc pd">################# requirements.txt file<br/>Flask&gt;=1.1.1<br/>pandas <br/>pydataset</span></pre><p id="c8e4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出[=&gt;]:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi pt"><img src="../Images/0b9a7653d55d95ad876579d1b1b52242.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FOI9uXUwFq5s51-RpNnT9A.jpeg"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">使用 df.to_html 部分显示 Airq 数据集</p></figure><h2 id="60e4" class="oz lx it bd ly ph pi dn mc pj pk dp mg kr pl pm mi kv pn po mk kz pp pq mm pr bi translated">2.用 HTML 实现熊猫数据帧显示</h2><p id="b880" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">感谢<a class="ae le" href="https://stackoverflow.com/questions/22180993/pandas-dataframe-display-on-a-webpage/22233851" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/22180993/pandas-data frame-display-on-a-网页/22233851 </a>，免去了我学习<strong class="kk iu"> HTML </strong>和<strong class="kk iu"> Bootstrap </strong>(毕竟我是一个没有耐心的 ML 科学家)。<strong class="kk iu"> Bootstrap </strong>是<strong class="kk iu">烧瓶</strong>提供的大量扩展之一。</p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="965e" class="oz lx it ov b gy pa pb l pc pd">## dataViewer-2.py<br/>import pandas as pd<br/>from pydataset import data<br/>from flask import Flask, request, render_template<br/>from flask_bootstrap import Bootstrap</span><span id="bbb3" class="oz lx it ov b gy ps pb l pc pd">app = Flask(__name__)<br/>app.debug = True<br/>Bootstrap(app)</span><span id="cdbc" class="oz lx it ov b gy ps pb l pc pd">@app.route('/show', methods=['GET'])<br/>def dataViewer_2():<br/>    dataset_name = request.args.get('dataset')<br/>    if dataset_name == None:<br/>        dataset_name = 'Aids2'</span><span id="a3a9" class="oz lx it ov b gy ps pb l pc pd">    if type(data(dataset_name)) != pd.core.frame.DataFrame:<br/>        return('Bad dataset name:{}'.format(dataset_name))</span><span id="bc09" class="oz lx it ov b gy ps pb l pc pd">    df = data(dataset_name)</span><span id="2115" class="oz lx it ov b gy ps pb l pc pd">    return render_template("df.html", name=dataset_name, data=df.to_html())</span><span id="ac17" class="oz lx it ov b gy ps pb l pc pd">if __name__ == "__main__":<br/>    app.run()</span><span id="3c98" class="oz lx it ov b gy ps pb l pc pd">### df.html</span><span id="731b" class="oz lx it ov b gy ps pb l pc pd">{% extends "bootstrap/base.html" %}<br/>{% block content %}<br/>&lt;h1&gt;{{name}}&lt;/h1&gt;<br/>{{data | safe}}<br/>{% endblock %}</span><span id="2d4c" class="oz lx it ov b gy ps pb l pc pd">################# requirements.txt file<br/>Flask&gt;=1.1.1<br/>pandas <br/>pydataset<br/>flask_bootstrap</span><span id="dcbf" class="oz lx it ov b gy ps pb l pc pd">output[=&gt;]:</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi pu"><img src="../Images/2f298b91f60bcdd28b8cde2424458008.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ko459e-J20JvjiCPFhPyIw.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">使用 HTML 和 bootstrap/base.html 部分显示 Airq 数据集显示</p></figure><p id="8a8b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用我们自己的 HTML 模板，我们可以定制网页布局。</p><p id="fdd6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我将留给读者用<strong class="kk iu"> CSS </strong>或任何你可能使用的<strong class="kk iu"> Flask </strong>扩展来进一步定制。</p><h2 id="c7b9" class="oz lx it bd ly ph pi dn mc pj pk dp mg kr pl pm mi kv pn po mk kz pp pq mm pr bi translated">3.抵御 CSRF 攻击的 Flask 实现</h2><p id="ae07" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">我将使用<strong class="kk iu"> wtform </strong>包来抵御<a class="ae le" href="http://en.wikipedia.org/wiki/Cross-site_request_forgery" rel="noopener ugc nofollow" target="_blank">跨站请求伪造</a> (CSRF)攻击。我们将使用<code class="fe pe pf pg ov b">WTForm app.config['SECRET_KEY'].</code>您控制台中的命令是:</p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="1536" class="oz lx it ov b gy pa pb l pc pd">$  python -c 'import os; print(os.urandom(16))'</span></pre><p id="6d4a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我将生成的密钥放在我的<code class="fe pe pf pg ov b">dataView-3.py</code>文件的顶部。</p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="5d41" class="oz lx it ov b gy pa pb l pc pd">from flask import Flask</span><span id="cbbb" class="oz lx it ov b gy ps pb l pc pd">app = Flask(__name__)<br/>app.debug = True<br/>app.config['SECRET_KEY'] = '\xbfx\x02\xf7\xeao\ro\rp&amp;Q\xa1\xbdV\xd9'</span><span id="5468" class="oz lx it ov b gy ps pb l pc pd">#&lt;more code...&gt;<br/>if __name__ == '__main__':<br/>   app.run(debug=True, host='0.0.0.0')</span></pre><p id="d029" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我没有在<code class="fe pe pf pg ov b">@app.route</code> I .结果是:</p><p id="419b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出[=&gt;]:</p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="e0f8" class="oz lx it ov b gy pa pb l pc pd">Not Found<br/>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again</span></pre><h2 id="c71b" class="oz lx it bd ly ph pi dn mc pj pk dp mg kr pl pm mi kv pn po mk kz pp pq mm pr bi translated">3.将所有这些与 pandas 数据帧图的 Flask 实现放在一起。</h2><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="fd15" class="oz lx it ov b gy pa pb l pc pd"># !/usr/bin/env python<br/># -*- coding: utf-8 -*-<br/><br/>__author__ = "Bruce_H_Cottman"<br/>__license__ = "MIT License"<br/><br/><br/>import pandas as pd<br/>from pydataset import data<br/>from flask import Flask, request, render_template, session<br/>from flask_bootstrap import Bootstrap<br/>from bokeh.plotting import Figure<br/>from bokeh.models import ColumnDataSource<br/>from bokeh.embed import components<br/>from bokeh.resources import INLINE<br/>from bokeh.util.string import encode_utf8<br/>from bokeh.palettes import Spectral11<br/><br/>app = Flask(__name__)<br/>app.debug = True<br/>app.config['SECRET_KEY'] = '\xbfx\x02\xf7\xeao\ro\rp&amp;Q\xa1\xbdV\xd9'<br/>Bootstrap(app)<br/><br/>@app.route('/show', methods=['GET'])<br/>def dataViewer():<br/>    dataset_name = request.args.get('dataset')<br/>    if dataset_name == None:<br/>        dataset_name = 'Aids2'<br/><br/>    if type(data(dataset_name)) != pd.core.frame.DataFrame:<br/>        return('Bad dataset name:{}'.format(dataset_name))<br/><br/>    df = data(dataset_name)<br/>    session['dataset_name'] = dataset_name<br/><br/>    return render_template("df.html", name=dataset_name, data=df.to_html())<br/><br/>@app.route('/plot')<br/>def dataViewer_4():<br/><br/>    dataset_name = session['dataset_name']<br/><br/>    if dataset_name == None:<br/>        dataset_name = 'Aids2'<br/><br/>    if type(data(dataset_name)) != pd.core.frame.DataFrame:<br/>        return('Bad dataset name:{}'.format(dataset_name))<br/><br/><br/>    if type(data(dataset_name)) != pd.core.frame.DataFrame:<br/>        return('Bad dataset name:{}'.format(dataset_name))<br/><br/>    # get dframe by name<br/>    df = data(dataset_name)<br/>    # Create a ColumnDataSource object<br/><br/>    bp_df = ColumnDataSource(df)<br/>    # Create  plot as a bokeh.figure object<br/>    plot = Figure(height=400,<br/>                       width=400,<br/>                       title=dataset_name,<br/>                       )<br/><br/>    x_ax = [str(i) for i in range(df.shape[0])]<br/>    palette_ = Spectral11[0:len(df.columns)]<br/><br/>    for n, cname in enumerate(df.columns):<br/>       plot.line(x=x_ax, y=list(df[cname].values)<br/>                 , color=palette_[n]<br/>                 , legend='line')<br/><br/>    # grab the static resources<br/>    js_resources = INLINE.render_js()<br/>    css_resources = INLINE.render_css()<br/><br/>    # render template<br/>    script, div = components(plot)<br/>    html = render_template(<br/>        'index_.html',<br/>        plot_script=script,<br/>        plot_div=div,<br/>        js_resources=js_resources,<br/>        css_resources=css_resources,<br/>    )<br/>    return encode_utf8(html)<br/><br/><br/>if __name__ == "__main__":<br/>    app.run(debug=True, host='0.0.0.0')</span><span id="031b" class="oz lx it ov b gy ps pb l pc pd">### df.html</span><span id="488a" class="oz lx it ov b gy ps pb l pc pd">{% extends "bootstrap/base.html" %}<br/>{% block content %}<br/>&lt;h1&gt;{{name}}&lt;/h1&gt;<br/>{{data | safe}}<br/>{% endblock %}</span><span id="2c73" class="oz lx it ov b gy ps pb l pc pd">################# index_.html<br/>&lt;!doctype html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;meta http-equiv="content-type" content="text/html; charset=utf-8"&gt;<br/>    &lt;title&gt;Embed Demo&lt;/title&gt;<br/>    {{ js_resources|indent(4)|safe }}<br/>    {{ css_resources|indent(4)|safe }}<br/>    {{ plot_script|indent(4)|safe }}<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    {{ plot_div|indent(4)|safe }}<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span><span id="04d0" class="oz lx it ov b gy ps pb l pc pd">################# requirements.txt file<br/>Flask&gt;=1.1.1<br/>flask_bootstrap<br/>pandas<br/>bokeh<br/>pydataset</span></pre><p id="3331" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出[=&gt;]:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/c39c494f03d58c8c074d9f7440e653f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*LLMITuiZuVqTpj8_jX6MmQ.jpeg"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated"><strong class="bd pw">散景</strong>数据集<strong class="bd pw"> Airq </strong>图嵌入<strong class="bd pw">烧瓶</strong></p></figure><p id="8169" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我使用工具栏中的<strong class="kk iu">散景的</strong>缩放来放大数据集中的线条。我用散景创建很棒的交互式图形，避免直接使用 Javascript</p><h1 id="9444" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">简化<code class="fe pe pf pg ov b">dataViewer.py</code>的实施</h1><p id="107f" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">在这个<code class="fe pe pf pg ov b">dataViewer.py,</code>的实现中，我将使用<strong class="kk iu"> Streamlit </strong>。我真的不需要把这个实现分成几个步骤，因为这个<code class="fe pe pf pg ov b">dataViewer.py</code>只是<strong class="kk iu"> python </strong>，一些<strong class="kk iu"> Streamlit </strong>函数和<strong class="kk iu"> pandas </strong>包。</p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="60af" class="oz lx it ov b gy pa pb l pc pd">import streamlit as st<br/>import pandas as pd<br/>from pydataset import data</span><span id="5cf0" class="oz lx it ov b gy ps pb l pc pd">df_data = data().sort_values('dataset_id').reset_index(drop=True)<br/>st.dataframe(df_data)  #choices</span><span id="a404" class="oz lx it ov b gy ps pb l pc pd">option = st.selectbox(<br/>    'select a dataset do you like best?', df_data['dataset_id'])</span><span id="771b" class="oz lx it ov b gy ps pb l pc pd">dataset = data(option)</span><span id="5f18" class="oz lx it ov b gy ps pb l pc pd">if isinstance(dataset, (pd.core.frame.DataFrame,   pd.core.series.Series)):<br/>    st.dataframe(dataset)<br/>    st.line_chart(dataset)</span></pre><p id="2db4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出[=&gt;]:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi px"><img src="../Images/e486b8aff5af755e2b4ce1c9550081bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CLigxGbto846gWiFx9SmAQ.jpeg"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">显示和绘制 airq 的简化选择。</p></figure><p id="47a5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> Streamlit </strong>实现需要引用包的<strong class="kk iu"> Python </strong>代码的 10 个语句行:<strong class="kk iu"> streamlit </strong>、<strong class="kk iu"> pandas </strong>和<strong class="kk iu"> pydataset </strong>。</p><p id="9d7c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">包<strong class="kk iu"> pydataset </strong>包含超过 750 个数据集。</p><p id="db1f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在您的实现中，<code class="fe pe pf pg ov b">dataset_ids</code>(数据集名称)在显示顶部的描述框和下拉选择框中按字母升序排序。</p><p id="234c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意当您单击选择框时，它是如何展开的。</p><p id="2cf3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您选择的数据集显示在从上往下数的第三个框中。<strong class="kk iu"> Streamlit </strong>的一个特点是数据集的呈现是动态的，每一列的值都是升序或降序排序。此外，如果显示框的宽度或高度不足以显示所有的列或行，则它会在水平轴或垂直轴上滚动。</p><p id="3378" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在最后一个框中，我们可以看到数据集的折线图。每行对应于数据集的一个数字列(要素)。</p><p id="07d6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这个<strong class="kk iu"> Streamlit </strong>微服务的实际现场实现中(与这里显示的静态截图相反)，您可以水平或垂直拖动来改变水平或垂直比例。您也可以放大和缩小来更改大小。</p><p id="ccf9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<strong class="kk iu"> Streamlit </strong>的掩护下，在<strong class="kk iu"> Javascript </strong>、<strong class="kk iu"> HTML </strong>、<strong class="kk iu"> CSS、JSON、</strong>的网页的选定端口上输出，并进行 web 通信。虽然我已经放弃了一些底层控制，但我已经获得了一个将<strong class="kk iu"> python </strong>脚本转换成全功能 web 应用程序的强大机制。</p><p id="a3bb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在许多方面，我们在这里比较的东西类似于使用第四代高级语言(<strong class="kk iu"> Streamlit </strong>)来机器汇编(<strong class="kk iu"> Flask、</strong> <strong class="kk iu"> Javascript </strong>、<strong class="kk iu"> HTML </strong>、<strong class="kk iu"> CSS、JSON、post/get 等)。).</strong></p><p id="02fd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我将把它作为一个编程练习，让您扩展这个实现，为不同图表的选择提供一个选择框。</p><h1 id="d719" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">流线型<code class="fe pe pf pg ov b">dataView.py in Docker Container</code></h1><p id="aa72" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">Dockerfile…</p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="8b6f" class="oz lx it ov b gy pa pb l pc pd"><strong class="ov iu">FROM </strong>python:3.7<br/>#EXPOSE 8501<br/><strong class="ov iu">WORKDIR /</strong>dataViewer<br/><strong class="ov iu">COPY </strong>requirements.txt .<strong class="ov iu">/</strong>requirements.txt<br/><strong class="ov iu">RUN </strong>pip3 install <strong class="ov iu">-</strong>r requirements.txt<br/><strong class="ov iu">COPY </strong>. .<br/><strong class="ov iu">CMD </strong>streamlit run dataViewer.py</span></pre><p id="3fe6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要构建容器…</p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="f1a6" class="oz lx it ov b gy pa pb l pc pd">$ docker build -f Dockerfile -t dataviewer-streamlit:latest ..</span></pre><p id="ef68" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其中<code class="fe pe pf pg ov b">requirements.txt</code>是…</p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="52c8" class="oz lx it ov b gy pa pb l pc pd">streamlit<br/>pandas<br/>pydataset</span></pre><p id="37b9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要运行容器…</p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="4117" class="oz lx it ov b gy pa pb l pc pd">$ docker run -p 8501:8501 dataviewer-streamlit &amp;</span></pre><p id="63d0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">的<strong class="kk iu">码头</strong>集装箱与<code class="fe pe pf pg ov b">dataViewer.py and HelloWorld.py are </code>的</strong>的区别在于<code class="fe pe pf pg ov b">requirements.txt.</code>中的集装箱名称和条目</p><h1 id="07c0" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">Docker 的问题</h1><p id="cc32" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">如果你得到任何这些信息，你需要启动或重启<strong class="kk iu"> Docker </strong>。我在一台<strong class="kk iu"> Mac </strong>上，所以我只是重启<strong class="kk iu">Docker</strong>T28】桌面。</p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="a74a" class="oz lx it ov b gy pa pb l pc pd">Cannot connect to the Docker daemon at unix:///var/run/docker.sock. <br/>Is the docker daemon running?.</span><span id="9b1a" class="oz lx it ov b gy ps pb l pc pd"><strong class="ov iu">&lt;or&gt;</strong></span><span id="b6aa" class="oz lx it ov b gy ps pb l pc pd">ERRO[0050] error waiting for container: EOF</span></pre><p id="04ff" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过在<code class="fe pe pf pg ov b">:5000.</code>港运行不同的集装箱，你会遇到这个很难理解的问题</p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="8b27" class="oz lx it ov b gy pa pb l pc pd">docker: Error response from daemon: pull access denied for 5000, repository does not exist or may require ‘docker login’: denied: requested access to the resource is denied.</span></pre><p id="80f0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">修复如下所示，并在您的终端窗口中键入。(我确定还有更好的。)</p><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="f8d4" class="oz lx it ov b gy pa pb l pc pd">docker stop $(docker ps -a -q)<br/>docker rm $(docker ps -a -q)</span><span id="244e" class="oz lx it ov b gy ps pb l pc pd"># remove port assignments</span></pre><ol class=""><li id="f2a1" class="py pz it kk b kl km ko kp kr qa kv qb kz qc ld qd qe qf qg bi translated">找出占用您想要释放的端口号(例如<code class="fe pe pf pg ov b">5000</code>)的进程 ID (PID)。(为您的操作系统确定合适的命令)</li></ol><pre class="lg lh li lj gt ou ov ow ox aw oy bi"><span id="7dd4" class="oz lx it ov b gy pa pb l pc pd">sudo lsof -i :5000</span></pre><p id="288b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第二步。使用其<code class="fe pe pf pg ov b">&lt;PID&gt;.</code>终止当前正在使用该端口的进程</p><p id="e0e3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe pe pf pg ov b">sudo kill -9 &lt;PID0&gt; ... &lt;PIDn&gt;</code></p><h1 id="4c4c" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">摘要</h1><p id="ae30" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">在本文中，我们比较了基于<strong class="kk iu"> Flask- </strong>的<strong class="kk iu"> </strong>和基于<strong class="kk iu"> Streamlit- </strong>的<strong class="kk iu"> </strong> web 应用程序<strong class="kk iu"> </strong>，使用了一个具有输入、交互式数据集显示和数据集数值列的折线图的示例。我们发现<strong class="kk iu">烧瓶</strong>需要大约<em class="lv"> 100 行代码</em>而<strong class="kk iu">流线型</strong>需要<em class="lv">十行代码</em>。</p><p id="cd19" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们发现创建<strong class="kk iu">烧瓶</strong>微服务至少需要知道如何使用<strong class="kk iu"> HTML </strong>和<strong class="kk iu"> CSS </strong>。</p><p id="6b42" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以将两个微服务放在一个<strong class="kk iu"> Docker </strong>容器中，该容器的环境是一个<strong class="kk iu"> Python rc(发布候选)</strong>。其中任何一个都可以用作本地 web 服务或您的云提供商的生产微服务。</p><h1 id="49fb" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">参考</h1><div class="mt mu gp gr mv mw"><a rel="noopener follow" target="_blank" href="/streamlit-101-an-in-depth-introduction-fc8aad9492f2"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">Streamlit 101:深入介绍</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">利用 Airbnb 数据深入了解 Streamlit</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">towardsdatascience.com</p></div></div><div class="nf l"><div class="qh l nh ni nj nf nk lp mw"/></div></div></a></div><div class="mt mu gp gr mv mw"><a href="https://gilberttanner.com/blog/turn-your-data-science-script-into-websites-with-streamlit" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">使用 Streamlit 将您的数据科学脚本转变为网站</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">展示你的数据科学/机器学习实验的发现可能很困难。而在过去，一个…</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">gilberttanner.com</p></div></div><div class="nf l"><div class="qi l nh ni nj nf nk lp mw"/></div></div></a></div><div class="mt mu gp gr mv mw"><a rel="noopener follow" target="_blank" href="/how-to-write-web-apps-using-simple-python-for-data-scientists-a227a1a01582"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">如何为数据科学家使用简单的 Python 编写 Web 应用？</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">无需了解任何 web 框架，即可轻松将您的数据科学项目转换为酷炫的应用程序</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">towardsdatascience.co</p></div></div><div class="nf l"><div class="of l nh ni nj nf nk lp mw"/></div></div></a></div><div class="mt mu gp gr mv mw"><a href="https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-xix-deployment-on-docker-containers" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">烧瓶大型教程第十九部分:Docker 容器上的部署</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">这是 Flask 大型教程系列的第 19 部分，其中我将把微博部署到…</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">blog.miguelgrinberg.com</p></div></div><div class="nf l"><div class="qj l nh ni nj nf nk lp mw"/></div></div></a></div><div class="mt mu gp gr mv mw"><a rel="noopener follow" target="_blank" href="/python-plotting-api-expose-your-scientific-python-plots-through-a-flask-api-31ec7555c4a8"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">Python 绘图 API:通过 flask API 展示您的科学 python 绘图</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">在我作为数据科学家的日常工作中，我经常需要将相对复杂的情节集成到后台…</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">towardsdatascience.com</p></div></div><div class="nf l"><div class="qk l nh ni nj nf nk lp mw"/></div></div></a></div><h1 id="da9c" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">展望未来</h1><p id="752e" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">在第 3 部分中，我们将一起开发一个更复杂的微服务，它有一个完整的机器学习管道。在第 3 部分中，我们将通过使用<strong class="kk iu"> Streamlit </strong>来避免成为全栈<strong class="kk iu"> Flask </strong>开发者。</p><p id="d007" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在以后的文章中，我将比较<strong class="kk iu"> Dash </strong>和<strong class="kk iu"> Streamlit。</strong></p><div class="mt mu gp gr mv mw"><a href="https://dash.plot.ly/deployment" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">部署</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">若要共享 Dash 应用程序，您需要</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">dash.plot.ly</p></div></div></div></a></div><blockquote class="ql qm qn"><p id="02c6" class="ki kj lv kk b kl km ju kn ko kp jx kq qo ks kt ku qp kw kx ky qq la lb lc ld im bi translated"><a class="ae le" href="https://plot.ly/dash/pricing/" rel="noopener ugc nofollow" target="_blank"> Dash Enterprise </a>是 Plotly 的商业产品，用于在您公司的服务器或 AWS、谷歌云或 Azure 上部署 Dash 应用程序。它提供了一个企业范围的 Dash 应用程序门户、基于 git 的简单部署、自动 URL 命名空间、内置 SSL 支持、LDAP 认证等等。</p></blockquote><p id="89b7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">公平地说，<strong class="kk iu">脸书</strong>等人还不能将<strong class="kk iu"> Streamlit </strong>用于他们面向公众的网站，然而，正如我们将在第 3 部分中看到的，作为一个大部分时间都在用<strong class="kk iu"> Python </strong>库编码的机器学习科学家，<strong class="kk iu"> Streamlit </strong>提供了一个简单的<strong class="kk iu"> Python </strong> API。</p><p id="6b5b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我能够在 4 天内设计、编码、测试、部署一个基于 T21 的 ML 仪表板。我的首席技术官把它放在了他的桌面上。(<em class="lv">好吧，我是应他的要求做的</em>。)他喜欢。</p><p id="a4e7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们的全栈团队使用<strong class="kk iu"> Flask </strong>需要大约三周时间(使用<strong class="kk iu"> Django </strong>需要一周时间)来将新的 ML 应用程序投入生产。</p><p id="8fcf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> Streamlit </strong>不需要你学习几个新的范式和语言，比如<strong class="kk iu"> HTML </strong>、<strong class="kk iu"> CSS </strong>、<strong class="kk iu"> JSON </strong>、<strong class="kk iu"> JavaScript。</strong>它不需要你知道使用什么<strong class="kk iu">烧瓶</strong>分机。我应该使用<strong class="kk iu">自举</strong>还是<strong class="kk iu"> WTForms </strong>还是其他什么或者它们的组合？</p><p id="8df4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我已经在<strong class="kk iu">烧瓶</strong>中编程几个月了。我现在理解了一个全栈程序员在生产一个基于<strong class="kk iu">烧瓶</strong>的微服务时所使用的大量知识。我敬畏他们。</p><p id="8988" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你是一个<strong class="kk iu"> Streamlit </strong>黑客(像我一样)，你需要<strong class="kk iu">而不是</strong>知道<strong class="kk iu"> Javascript </strong>、<strong class="kk iu"> HTML </strong>、<strong class="kk iu"> CSS、JSON </strong>，以及栈中不同的<strong class="kk iu"> POST/GET URL </strong>包。相反，你的筹码将由<strong class="kk iu"> Streamlit ( </strong>和<strong class="kk iu"> </strong>也许是<strong class="kk iu"> Docker) </strong>组成。就是这样！</p><p id="cc30" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我希望你发现 Streamlit 上的这篇博客很有用。我期待着在这方面写一篇博客，我希望你也是！</p></div></div>    
</body>
</html>