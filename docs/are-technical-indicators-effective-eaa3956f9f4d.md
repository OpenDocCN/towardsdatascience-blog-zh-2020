# 技术指标是否有效？

> 原文：<https://towardsdatascience.com/are-technical-indicators-effective-eaa3956f9f4d?source=collection_archive---------30----------------------->

## 使用 Python 回答这个古老的问题

![](img/6748bf67f23a2173dd11398d52a66480.png)

来自 [Pexels](https://www.pexels.com/photo/space-grey-ipad-air-with-graph-on-brown-wooden-table-187041/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) 的照片

## 什么是技术指标？

**技术指标**，是**技术分析**的一个子集，指的是基于模式的信号，通常取决于证券的价格或成交量。这些指标分析历史数据的趋势，以预测未来的价格变动。但是它们真的有效吗？

在进入代码和结果之前，让我们深入了解有哪些类型的指标以及它们的目的是什么。主要指标包括**移动平均线**、**震荡指标**、**、**和**支点**。

**移动平均线:**移动平均线(MA)是一个简单的技术指标，它通过创建定期更新的平均价格来平滑历史定价数据。平均线是在一段特定的时间内取的，不管是 30 分钟，30 天，还是交易者喜欢的任何时间。这些通常会屏蔽价格变动的噪音，并为交易者提供证券变动的总体趋势。

**振荡指标:**振荡指标是经常用来识别动量趋势的指标，其波动受某个上下波段的限制。通过识别证券过去在相同势头下的表现，交易者可以根据他们是否认为股票过高或过低来做出决定。

**支点:**支点指标包括支撑位和阻力位的信息，帮助交易者想象证券可能反弹或突破的位置。当与其他分析工具结合使用时，这些指标也有助于识别和确认交易。

一些最受欢迎的指标包括移动平均线交叉(20，50 和 200 天)，布林线，相对强度指数，移动平均线收敛发散(MACD)，和商品通道指数(CCI)。

因此，为了回答这个问题，我开始创建一个 Python 程序，对任何安全和时间段的这 5 个最流行的指标进行回溯测试。为了节省时间和优化本文中的信息量，我将只解释程序背后的结构，而将重点放在输出上。话虽如此，如果您有任何问题，请联系我！

本文完整代码的链接可以在 GitHub Gist 中找到。

## 使用 Python 回溯测试技术指标

回溯测试代码的开始！

首先，我们必须导入将用于程序剩余部分的包。主要软件包包括 NumPy、Pandas、TaLib 和 Yfinance。NumPy 和 Pandas 帮助我们进行数据分析，而 TaLib 和 Yfinance 让我们能够轻松计算技术指标并获得历史定价数据。你可以使用 Pythons 包管理器 [PyPi](https://pypi.org/) 轻松下载这些模块！

我们可以用输入语句设置股票和年数，这样你就不必每次运行时为了检查其他符号/时间段而改变代码。最后，我们可以将信号列表设置为 5 个指标，并将我们将获取的其他统计信息设置为空列表。

回溯测试代码的结构

在代码的这一部分，我们实际上进入了回溯测试！我们可以循环遍历开始时创建的原始信号列表，并设置每个策略。

在这个特定的例子中，短的 SMA 平均为 20 天，而长的 SMA 为 50 天。我们可以创建变量 position、counter 和 percentChange 来实现和跟踪策略。接下来，我们可以创建买入(20 SMA > 50 SMA)和卖出(50 SMA > 20 SMA)证券的信号。

最后，我们可以收集策略执行情况的统计数据。统计数据包括交易次数、百分比变化、最后买入价格、最后卖出价格、每次交易的平均盈亏、每次交易的最大盈亏、盈亏比以及信号的成功率。

一旦所有的信号都完成了(只要对其他指标的买入和卖出信号重复这个过程)，我们就可以用下面的代码创建一个熊猫数据框架，其中包含我们已经获得的统计数据列表。

为了真正发现策略是否有效，我们还必须将其与同期的证券表现进行比较(买入并持有)。例如，如果布林线产生了 200%的回报，但证券本身获得了 250%，那么很明显，我们必须改变策略或完全放弃它。

到目前为止，我们已经有了一个完整的数据框架，其中包含了在设定的时间段内策略执行情况的所有统计数据，所以是时候回答这个问题了:**技术指标有效吗？**

## 回答这个古老的问题

答案是，*看情况*。

我知道，我答应给一个具体的答案如何有效的技术指标，但答案确实取决于众多因素。技术分析是关于概率和可能性，而不是保证。如果一个指标经常起作用，即使它并不总是起作用，它仍然可以有效地产生利润。

在大多数情况下(约 78%)，当我用数百个不同的报价器运行代码时，买入并持有并不是回报的主要策略。然而，导致回报的策略差异很大，因此没有一个指标每次都比其他指标表现得好。

但是这意味着什么呢？

根据我的结果，在交易策略中使用技术指标仍有潜力，但它必须由多个指标组成，并且已经在一系列时期内对多个指标进行了彻底的回溯测试，以便持续产生利润。

一个真正的高性能，可靠的交易策略是很难制定的，你不能仅仅依靠一个图表来告诉你你需要知道的一切。作为一个有风险意识的个人，我个人认为最好利用我的时间和精力不断投资指数基金，而不是选择市场时机。

这个故事的寓意:既然你已经了解了 Python 中如何回测指标的结构，那就为自己做一个明智的决定吧。非常感谢你的阅读，我希望你喜欢！

*顺便说一句，如果你想在没有代码的情况下回测这些相同的指标，你可以查看一下* [*这个我为帮助投资者而创建的网站*](https://tradeview.herokuapp.com/technical-indicators/backtest/) *(由于它部署在 Heroku 上，最初可能需要一些时间加载)。*

**免责声明:本文材料纯属教育目的，不应作为专业投资建议。自行决定投资。**

如果你喜欢这篇文章，可以看看下面我写的其他一些 Python for Finance 文章！

[](/parse-thousands-of-stock-recommendations-in-minutes-with-python-6e3e562f156d) [## 使用 Python 在几分钟内解析数千份股票推荐！

### 了解如何在不到 3 分钟的时间内解析顶级分析师的数千条建议！

towardsdatascience.com](/parse-thousands-of-stock-recommendations-in-minutes-with-python-6e3e562f156d) [](/making-a-stock-screener-with-python-4f591b198261) [## 用 Python 制作股票筛选程序！

### 学习如何用 Python 制作一个基于 Mark Minervini 的趋势模板的强大的股票筛选工具。

towardsdatascience.com](/making-a-stock-screener-with-python-4f591b198261) [](/creating-a-finance-web-app-in-3-minutes-8273d56a39f8) [## 在 3 分钟内创建一个财务 Web 应用程序！

### 了解如何使用 Python 中的 Streamlit 创建技术分析应用程序！

towardsdatascience.com](/creating-a-finance-web-app-in-3-minutes-8273d56a39f8)