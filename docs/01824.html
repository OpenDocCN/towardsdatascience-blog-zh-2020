<html>
<head>
<title>How to use Git / GitHub with Jupyter Notebook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jupyter笔记本如何使用Git / GitHub</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-use-git-github-with-jupyter-notebook-7144d6577b44?source=collection_archive---------1-----------------------#2020-02-20">https://towardsdatascience.com/how-to-use-git-github-with-jupyter-notebook-7144d6577b44?source=collection_archive---------1-----------------------#2020-02-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="27cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个针对Jupyter笔记本用户的综合性Git教程。如果你已经熟悉某一部分，可以随意跳过。最后你将能够-</p><ul class=""><li id="3ed8" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">将您的笔记本推送到GitHub存储库</li><li id="ee33" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">开始版本化您的笔记本</li><li id="1bb2" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated"><a class="ae kz" href="#0bf3" rel="noopener ugc nofollow">在GitHub上查看笔记本拉取请求</a></li><li id="1030" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">了解如何恢复到特定版本</li><li id="cd19" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">获得反馈并与您的同事讨论笔记本电脑的变化</li><li id="eb9c" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">轻松共享您的笔记本供他人查看</li></ul><h1 id="ce94" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">创建GitHub帐户</h1><p id="4bb3" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">如果您没有GitHub帐户，请在这里创建一个<a class="ae kz" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="d843" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">在本地设置Git</h1><ul class=""><li id="ced1" class="kl km iq jp b jq ly ju lz jy md kc me kg mf kk kq kr ks kt bi translated"><a class="ae kz" href="https://git-scm.com/downloads" rel="noopener ugc nofollow" target="_blank">下载并安装</a>Git的最新版本。</li><li id="2085" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">通过在终端上运行以下命令，在git中设置您的姓名和电子邮件</li></ul><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="f807" class="mp lb iq ml b gy mq mr l ms mt">&gt;&gt; git config --global user.name "Mona Lisa"<br/>&gt;&gt; git config --global user.email "email@example.com"</span></pre><ul class=""><li id="1afc" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated"><a class="ae kz" href="https://help.github.com/en/github/using-git/caching-your-github-password-in-git" rel="noopener ugc nofollow" target="_blank">通过缓存您的密码，用GitHub </a>连接您的本地git客户端。</li></ul><h1 id="717f" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">创建新存储库</h1><p id="7a43" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">GitHub存储库就像你在云中的超级文件夹。您可以存储文件(笔记本、数据、源代码)，查看这些文件的历史更改，打开问题，讨论更改等等。人们通常为每个项目创建一个存储库。</p><p id="2e21" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们继续在GitHub上创建一个存储库。创建后，您将看到如下页面，复制突出显示的存储库URL。</p><figure class="mg mh mi mj gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi mu"><img src="../Images/99cec9d9206a177f6081ccf36cea0186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2xRZ75C7Hmrdn7kN.png"/></div></div></figure><h1 id="8ec6" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">克隆存储库</h1><p id="d56f" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">让我们通过在终端上运行以下命令，在我们的机器上克隆GitHub存储库。它将在我们的机器上创建projectA目录，该目录链接到GitHub上的amit1rrr/projectA存储库。将<code class="fe nc nd ne ml b"><a class="ae kz" href="https://github.com/amit1rrr/projectA.git" rel="noopener ugc nofollow" target="_blank">https://github.com/amit1rrr/projectA.git</a></code>替换为上一步中您自己的存储库URL</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="d4f4" class="mp lb iq ml b gy mq mr l ms mt">&gt;&gt; git clone https://github.com/amit1rrr/projectA.git<br/>   Cloning into 'projectA'...<br/>   warning: You appear to have cloned an empty repository.</span></pre><h1 id="8661" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">将笔记本推送到GitHub</h1><p id="7229" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">我们的存储库现在是空的，让我们把一些笔记本推到它。我们将两个笔记本复制到我们克隆项目的目录下，</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="747d" class="mp lb iq ml b gy mq mr l ms mt">&gt;&gt; cp /some/path/analysis1.ipynb /path/of/projectA/<br/>&gt;&gt; cp /some/path/scratch.ipynb /path/of/projectA/</span></pre><p id="e7d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">假设我们要将<code class="fe nc nd ne ml b"><a class="ae kz" href="https://github.com/amit1rrr/projectA.git" rel="noopener ugc nofollow" target="_blank">analysis1.ipynb</a></code>推送到GitHub。我们首先需要告诉本地git客户端开始跟踪文件—</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="ea39" class="mp lb iq ml b gy mq mr l ms mt">&gt;&gt; git add analysis1.ipynb</span></pre><p id="6c15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以检查哪些文件正在被git状态跟踪，</p><figure class="mg mh mi mj gt mv gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/4a1f402802009aef1d2452197dcd81e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/0*N-7lC8ZUlmHzbV74.png"/></div></figure><p id="8c19" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以看到<code class="fe nc nd ne ml b"><a class="ae kz" href="https://github.com/amit1rrr/projectA.git" rel="noopener ugc nofollow" target="_blank">analysis1.ipynb</a> </code>在“<em class="ng">待提交的变更</em>下，因此它被我们的本地git客户端跟踪。现在让我们提交更改—</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="e8f5" class="mp lb iq ml b gy mq mr l ms mt"># -m flag provides a human friendly message describing the change<br/>&gt;&gt; git commit -m "Adds customer data analysis notebook"</span></pre><p id="8961" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">提交只是创建一个您可以随时恢复的检查点。现在最后把这个提交给GitHub —</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="f027" class="mp lb iq ml b gy mq mr l ms mt">&gt;&gt; git push</span></pre><p id="aa02" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你可以访问GitHub上的<a class="ae kz" href="https://github.com/amit1rrr/projectA" rel="noopener ugc nofollow" target="_blank">库页面</a>查看你的<a class="ae kz" href="https://github.com/amit1rrr/projectA/commits/master" rel="noopener ugc nofollow" target="_blank">提交</a>。</p><h1 id="6afe" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">在分支中发展</h1><p id="bb3f" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">假设您正在进行一个跨越多天的大型项目，但是您需要定期提交正在进行的工作作为备份。方法是创建一个特征分支。</p><p id="0635" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每个存储库都有一个默认的分支(通常是“<em class="ng">主</em>或“<em class="ng">主</em>”)，存储已完成工作的最新版本。团队中的每个成员都可以创建自己的功能分支来存储他们的WIP提交。当他们在一个特征分支中的工作准备好被共享时，他们可以创建一个pull请求供同行评审&amp;随后将特征分支合并到master中。让我们用具体的步骤来解决这个问题。</p><p id="f3da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">假设我即将开始一个分析客户数据的新项目。首先，我将创建一个新的分支，</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="4996" class="mp lb iq ml b gy mq mr l ms mt">&gt;&gt; git checkout -b customer_data_insights</span></pre><p id="4c8b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我将创建/编辑一些笔记本和其他文件来进行实际的分析。当我准备好提交我的WIP时，我将执行通常的git add，git commit，git push。在git推送时，您会看到以下错误，因为GitHub上还不存在这个分支。</p><figure class="mg mh mi mj gt mv gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/9a919ceac5bbdd57fa0fcc48785fb9de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/0*KdskBjKarR9jkPLL.png"/></div></figure><p id="c7d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">简单地通过复制错误中显示的命令首先推动分支，</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="cd0f" class="mp lb iq ml b gy mq mr l ms mt">&gt;&gt; git push --set-upstream origin customer_data_insights</span></pre><p id="7f4c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后使用git push将您的提交推送到这个新创建的分支。</p><h1 id="2355" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">创建拉式请求</h1><blockquote class="ni"><p id="7496" class="nj nk iq bd nl nm nn no np nq nr kk dk translated">假设您已经在feature branch上工作了一段时间，它已经准备好进入黄金时间了。最有可能的是，你想先与你的同事分享它，在合并到主分支之前得到他们的反馈。这就是拉请求的作用。</p></blockquote><p id="8e5e" class="pw-post-body-paragraph jn jo iq jp b jq ns js jt ju nt jw jx jy nu ka kb kc nv ke kf kg nw ki kj kk ij bi translated">您可以从GitHub UI创建拉请求。转到您的项目页面-&gt;拉式请求选项卡-&gt;单击“新建拉式请求”。</p><figure class="mg mh mi mj gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nx"><img src="../Images/d308037324aac4ca1b6603ceb28e5153.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2aWBlO3poxfjfz1G.png"/></div></div></figure><p id="3eb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">选择要合并到主控形状的分支。验证提交和更改的文件列表。点击“<em class="ng">创建拉式请求</em>”。</p><figure class="mg mh mi mj gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi ny"><img src="../Images/99e782e9f1ad8abdc754294d07ef01f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vosee7tV-Ta4pE4_.png"/></div></div></figure><p id="e75d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在下一页上，提供标题并简要描述您的更改，单击“<em class="ng">创建拉动式请求</em>”。</p><figure class="mg mh mi mj gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nz"><img src="../Images/04e04f9e4d7636cf0169682834255075.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4wrs5vqeivbK3LyR.png"/></div></div></figure><h1 id="0bf3" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">查看笔记本提取请求</h1><p id="5741" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">GitHub pull请求对于同行评审来说非常棒，因为它们可以让您并排看到更改并对其进行评论。但是在Jupyter的例子中，GitHub显示了JSON的差异，这些差异真的很难理解(见下文)。</p><figure class="mg mh mi mj gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi oa"><img src="../Images/f73899bdafd3a125716b8239e3eba5dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VXfLWuqYU6YG6FEPiBRWyw.png"/></div></div><p class="ob oc gj gh gi od oe bd b be z dk translated">GitHub上的笔记本差异</p></figure><blockquote class="ni"><p id="c959" class="nj nk iq bd nl nm of og oh oi oj kk dk translated">您可以使用<a class="ae kz" href="https://www.reviewnb.com?utm_source=reviewnb_blog" rel="noopener ugc nofollow" target="_blank"> ReviewNB </a>来解决笔记本差异问题。它向您展示了丰富的差异&amp;让您可以对任何笔记本单元格进行评论，以便与您的团队讨论变化。</p></blockquote><figure class="ol om on oo op mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi ok"><img src="../Images/a42ab0645f4ff8a49fa26cc8398942f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DyGfi0-DQk5Dj7JjnjaI0g.png"/></div></div><p class="ob oc gj gh gi od oe bd b be z dk translated">丰富的差异和评论</p></figure><p id="e6c8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你的更改被队友批准，你就可以从GitHub UI合并它们。</p><figure class="mg mh mi mj gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi oq"><img src="../Images/ba7dcbe099bda00298ee9ec4b4b4b59e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PW8o3DFR2SUjX2u0.png"/></div></div></figure><p id="4ed5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">或者从命令行运行git merge + git push，</p><figure class="mg mh mi mj gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi or"><img src="../Images/2f3f25636fb63d1d3fe8754c6c9b8c4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/0*ibaz4QF7OWrwVOYS.png"/></div></div></figure><h1 id="7fdb" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">恢复到特定的笔记本版本</h1><p id="77e0" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">如果您想暂时回到提交，签出文件，然后回到您所在的位置，那么您可以简单地签出所需的提交。最后运行<em class="ng">“git check out master”</em>返回到当前状态。</p><figure class="mg mh mi mj gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi os"><img src="../Images/e1db5357d0671715c943da888ccfa368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LiSqHtV16n5zbYk7.png"/></div></div></figure><p id="caf4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你真的想回到一个旧的状态，并在那里做一些改变，你可以从那个提交开始一个新的分支—</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="5ff3" class="mp lb iq ml b gy mq mr l ms mt">&gt;&gt; git checkout -b old-state &lt;some-commit-id&gt;</span></pre><p id="db4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你也可以在GitHub上浏览旧的提交，方法是进入你的项目页面-&gt;提交。打开所需的提交，点击“<em class="ng">查看文件</em>，查看提交时的笔记本状态。</p><figure class="mg mh mi mj gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi ot"><img src="../Images/2743cbda898505d01d0da704107ba6c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*m7rJm4RumKNR1hC-.png"/></div></div></figure><h1 id="36d3" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated"><strong class="ak">分享你笔记本的只读链接</strong></h1><p id="48e5" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">当你在GitHub上浏览存储库中的笔记本时，它会将它们呈现为HTML格式。所以像<a class="ae kz" href="https://github.com/amit1rrr/PythonDataScienceHandbook/blob/master/notebooks/03.09-Pivot-Tables.ipynb" rel="noopener ugc nofollow" target="_blank">这种</a>分享笔记本的只读链接非常方便。如果它是一个私有的存储库，与你共享链接的人需要有一个GitHub帐户，并且有权限访问你的存储库。</p><blockquote class="ni"><p id="5c9e" class="nj nk iq bd nl nm nn no np nq nr kk dk translated">出于安全考虑，GitHub不会在笔记本中运行任何Javascript。如果您的笔记本电脑包含交互式小工具，您可以使用<a class="ae kz" href="https://nbviewer.jupyter.org/" rel="noopener ugc nofollow" target="_blank"> nbviewer </a>或<a class="ae kz" href="https://www.reviewnb.com/?utm_source=reviewnb_blog" rel="noopener ugc nofollow" target="_blank"> ReviewNB </a>。</p></blockquote><h1 id="f62e" class="la lb iq bd lc ld le lf lg lh li lj lk ll ou ln lo lp ov lr ls lt ow lv lw lx bi translated">结论</h1><p id="2330" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">如果您是Git的新手，可能需要一些时间来适应所有的命令。但是这是一种在软件项目中得到证实的合作方式&amp;在数据科学工作中也被广泛使用。您可以将其与<a class="ae kz" href="https://www.reviewnb.com?utm_source=reviewnb_blog" rel="noopener ugc nofollow" target="_blank"> ReviewNB </a>结合使用，以消除工作流程中的一些问题。</p><p id="2b65" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">黑客快乐！</p></div></div>    
</body>
</html>