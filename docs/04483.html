<html>
<head>
<title>4 Simple Hacks Every Data Scientist should know.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æ¯ä¸ªæ•°æ®ç§‘å­¦å®¶éƒ½åº”è¯¥çŸ¥é“çš„ 4 ä¸ªç®€å•æŠ€å·§ã€‚</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/4-simple-hacks-every-data-scientist-should-know-45928b3dda37?source=collection_archive---------52-----------------------#2020-04-21">https://towardsdatascience.com/4-simple-hacks-every-data-scientist-should-know-45928b3dda37?source=collection_archive---------52-----------------------#2020-04-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="e4f9" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">æœºå™¨å­¦ä¹ æŠ€å·§/çªé—¨</h2><div class=""/><div class=""><h2 id="1514" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">è¿™äº›æŠ€å·§è‚¯å®šä¼šåœ¨ä»»ä½•é¡¹ç›®ä¸­èŠ‚çœä½ çš„æ—¶é—´ï¼Œå¹¶æé«˜ä½ çš„å·¥ä½œæ•ˆç‡ã€‚</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/3dce3b065edb152426487b824a99deff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oKHf8Q2fNItKxhHw"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae lh" href="https://unsplash.com/@itfeelslikefilm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">ğŸ‡¸ğŸ‡®Â·æ‰¬ç§‘Â·è²åˆ©</a>åœ¨<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„</p></figure><p id="4940" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi me translated"><span class="l mf mg mh bm mi mj mk ml mm di"> T </span> <strong class="lk jd"> <em class="mn">é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°†äº†è§£ä¸€äº›ç®€å•çš„æŠ€å·§ï¼Œå®ƒä»¬å¯ä»¥çœŸæ­£æé«˜æ‚¨çš„æœºå™¨å­¦ä¹ ã€äººå·¥æ™ºèƒ½æˆ–æ•°æ®ç§‘å­¦é¡¹ç›®çš„ç”Ÿäº§ç‡ã€‚ğŸ“”</em>T9ã€‘</strong></p><p id="8c3f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="mn">å¸Œæœ›ä½ å–œæ¬¢ï¼ï¼ğŸ˜Š</em></p><h1 id="ea7f" class="mo mp it bd mq mr ms mt mu mv mw mx my ki mz kj na kl nb km nc ko nd kp ne nf bi translated"><strong class="ak"> 1ã€‚æ ‘æœ¨çš„å¯è§†åŒ–</strong></h1><p id="01be" class="pw-post-body-paragraph li lj it lk b ll ng kd ln lo nh kg lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">åœ¨ä½¿ç”¨ä»»ä½•æœºå™¨å­¦ä¹ æ¨¡å‹æ—¶ï¼Œæˆ‘ä»¬åªçŸ¥é“å“ªä¸ªæ¨¡å‹å°†é€‚åˆæ•°æ®é›†æ¥è§£å†³ç‰¹å®šé—®é¢˜ï¼Œå¹¶ä¸”åŸºäºæ•°æ®é›†ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€äº›æ•°å­¦/é€»è¾‘æ¨ç†æ¥è®¾ç½®æ¨¡å‹çš„å‚æ•°ã€‚è¯¥æ¨¡å‹å·¥ä½œå®Œå…¨æ­£å¸¸ï¼Œç¬¦åˆç›®çš„ã€‚ä½†æ˜¯æ²¡äººå…³å¿ƒé»‘ç›’é‡Œæœ‰ä»€ä¹ˆã€‚å¬èµ·æ¥æ²¡é‚£ä¹ˆå¸å¼•äººï¼Œå¯¹å§ï¼Ÿå¯¹äºä»»ä½•ä¸€ä¸ªæ ‘æ¨¡å‹æ¥è¯´éƒ½ä¸æ˜¯ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å¯è§†åŒ–é»‘ç›’ã€‚</p><p id="229f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æˆ‘ä»¬å°†å¯¼å…¥ä¸€äº›å¿…è¦çš„åº“æ¥è®¾ç½®æˆ‘ä»¬è‡ªå·±çš„ä»»åŠ¡ï¼</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="a8cc" class="nq mp it nm b gy nr ns l nt nu">from sklearn.model_selection import train_test_split<br/>from sklearn.tree import DecisionTreeClassifier,plot_tree<br/>from sklearn.datasets import load_wine<br/>import matplotlib.pyplot as plt<br/>import numpy as np<br/>import pandas as pd</span></pre><p id="46bf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„è‘¡è„é…’æ•°æ®é›†ã€‚å°†æ•°æ®é›†åŠ è½½åˆ° Pandas æ•°æ®æ¡†ä¸­ï¼Œå¹¶åˆ†ç¦»ä¸ºé¢„æµ‹å˜é‡å’Œå“åº”å˜é‡ã€‚</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="1edb" class="nq mp it nm b gy nr ns l nt nu">wine=load_wine()</span><span id="fb83" class="nq mp it nm b gy nv ns l nt nu">df = pd.DataFrame(data= np.c_[wine['data'], wine['target']],<br/>                   columns= wine['feature_names'] + ['target'])</span><span id="ded6" class="nq mp it nm b gy nv ns l nt nu">X = df.drop('target',axis=1)<br/>y = df["target"]</span><span id="8f73" class="nq mp it nm b gy nv ns l nt nu">features = df.columns[:-1].values.tolist()</span></pre><p id="f7bb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å°†æ•°æ®åˆ†æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œé€‰æ‹©é€‚å½“çš„æ¨¡å‹å¹¶æ‹Ÿåˆè¯¥æ¨¡å‹ã€‚</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="a138" class="nq mp it nm b gy nr ns l nt nu">X_train, X_test, y_train, y_test = train_test_split(X, y,random_state = 2020)</span><span id="0c4b" class="nq mp it nm b gy nv ns l nt nu">model = DecisionTreeClassifier()distinguish between two things</span><span id="0641" class="nq mp it nm b gy nv ns l nt nu">model.fit(X_train, y_train)</span></pre><p id="2f07" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æˆ‘ä»¬å°†ä½¿ç”¨ sklearn çš„åº“ã€‚(<em class="mn">å¯¼å…¥ sklearn.tree.plot_tree </em>)</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="3c72" class="nq mp it nm b gy nr ns l nt nu">plt.figure(figsize = (20, 10))<br/>plot_tree(model, feature_names = features, filled = True)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nw"><img src="../Images/57d47db1d4c309d498a4fb39c0dabe38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wP3Fmkgj0GpOVtkQwZQfjQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">æ¥æº:æˆ‘çš„è°·æ­Œ Colab ç¬”è®°æœ¬</p></figure><p id="f5e5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å®ƒå‘Šè¯‰æˆ‘ä»¬å…³äºæ ·æœ¬(å…ƒç»„çš„æ•°é‡)ã€æ¯ä¸ªèŠ‚ç‚¹ä¸­çš„ç‰¹å¾ã€èŠ‚ç‚¹çš„æ•°é‡ã€æˆ‘ä»¬åˆ¶ä½œæ ‘çš„æ ‡å‡†(è¿™é‡Œï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨åŸºå°¼æŒ‡æ•°)ã€‚</p><p id="9ffd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ›´å¤šç»†èŠ‚å’Œç¤ºä¾‹è¯·å‚è€ƒ<a class="ae lh" href="https://scikit-learn.org/stable/modules/tree.html#tree" rel="noopener ugc nofollow" target="_blank">æ–‡ä»¶</a>ã€‚</p><h1 id="44a1" class="mo mp it bd mq mr ms mt mu mv mw mx my ki mz kj na kl nb km nc ko nd kp ne nf bi translated"><strong class="ak"> 2ã€‚</strong>åœ¨å•ä¸ªå›¾ä¸­ç»˜åˆ¶ ROC æ›²çº¿</h1><p id="c38a" class="pw-post-body-paragraph li lj it lk b ll ng kd ln lo nh kg lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">ROC ( <em class="mn">å—è¯•è€…æ“ä½œç‰¹å¾</em>)æ›²çº¿å‘Šè¯‰æˆ‘ä»¬è¯¥æ¨¡å‹åœ¨å°†ç­çº§åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šä¸ªç­çº§æ–¹é¢æœ‰å¤šå¥½ã€‚æ›´å¥½çš„æ¨¡å‹å¯ä»¥å‡†ç¡®åœ°åŒºåˆ†ä¸¤è€…æˆ–æ›´å¤šã€‚ç„¶è€Œï¼Œä¸€ä¸ªå·®çš„æ¨¡å‹å°†å¾ˆéš¾åœ¨ä¸¤è€…ä¹‹é—´è¿›è¡Œåˆ†ç¦»ã€‚æ›´å¤šç»†èŠ‚è¯·å‚è€ƒ<a class="ae lh" rel="noopener" target="_blank" href="/understanding-the-roc-and-auc-curves-a05b68550b69">æ–‡ç« </a>ã€‚</p><p id="fb05" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¯¼å…¥ä¸€äº›å¿…éœ€çš„åº“</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="4726" class="nq mp it nm b gy nr ns l nt nu">from sklearn.model_selection import train_test_split<br/>from sklearn.metrics import plot_roc_curve<br/>from sklearn.ensemble import RandomForestClassifier<br/>from sklearn.tree import DecisionTreeClassifier<br/>from sklearn.datasets import load_breast_cancer</span></pre><p id="537e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¹³è…ºç™Œæ•°æ®é›†ã€‚å°†æ•°æ®é›†åŠ è½½åˆ° Pandas æ•°æ®æ¡†ä¸­ï¼Œå¹¶åˆ†ç¦»ä¸ºé¢„æµ‹å˜é‡å’Œå“åº”å˜é‡ã€‚</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="52d1" class="nq mp it nm b gy nr ns l nt nu">db=load_breast_cancer()<br/>df = pd.DataFrame(data= np.c_[db['data'], db['target']])</span><span id="6770" class="nq mp it nm b gy nv ns l nt nu">df=df.rename(columns={30:'target'})</span><span id="4259" class="nq mp it nm b gy nv ns l nt nu">X = df.drop('target',axis=1)<br/>y = df['target']</span></pre><p id="0f23" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å°†æ•°æ®åˆ†æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œé€‰æ‹©é€‚å½“çš„æ¨¡å‹å¹¶æ‹Ÿåˆè¯¥æ¨¡å‹ã€‚</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="7f72" class="nq mp it nm b gy nr ns l nt nu">X_train, X_test, y_train, y_test = train_test_split(X, y, random_state = 0)</span><span id="ddaf" class="nq mp it nm b gy nv ns l nt nu">dt = DecisionTreeClassifier()<br/>rf = RandomForestClassifier()</span><span id="26df" class="nq mp it nm b gy nv ns l nt nu">dt.fit(X_train, y_train)<br/>rf.fit(X_train, y_train)</span></pre><p id="f231" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä½¿ç”¨<em class="mn">sk learn . metrics . plot _ roc _ curve</em>åº“æ˜¾ç¤ºå›¾å½¢ã€‚</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="0d57" class="nq mp it nm b gy nr ns l nt nu">disp = plot_roc_curve(dt, X_test, y_test)<br/>plot_roc_curve(rf, X_test, y_test, ax = disp.ax_)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/2e5aa51bb591ed1b6a76cee506c990f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*CWEYUTzmpc9LN_U3szzhTg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">æ¥æº:æˆ‘çš„è°·æ­Œ Colab ç¬”è®°æœ¬</p></figure><p id="f8f0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªåˆ†ç±»å™¨ä¹‹é—´çš„ ROC æ›²çº¿ä»¥åŠ AUC åˆ†æ•°ã€‚éšæœºæ£®æ—åˆ†ç±»å™¨çš„ AUC å¤§äºå†³ç­–æ ‘åˆ†ç±»å™¨ï¼Œå› æ­¤éšæœºæ£®æ—åˆ†ç±»å™¨æ¯”å†³ç­–æ ‘åˆ†ç±»å™¨æ›´åˆé€‚ã€‚</p><p id="4d31" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ›´å¤šç»†èŠ‚å’Œç¤ºä¾‹è¯·å‚è€ƒ<a class="ae lh" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.plot_roc_curve.html?highlight=sklearn%20metric%20plot_roc_curve#sklearn-metrics-plot-roc-curve" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a>ã€‚</p><h1 id="333e" class="mo mp it bd mq mr ms mt mu mv mw mx my ki mz kj na kl nb km nc ko nd kp ne nf bi translated"><strong class="ak"> 3ã€‚ä¿®å‰ªå†³ç­–æ ‘</strong></h1><p id="249f" class="pw-post-body-paragraph li lj it lk b ll ng kd ln lo nh kg lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">å½“åœ¨æŸäº›æ•°æ®é›†ä¸Šè®­ç»ƒå†³ç­–æ ‘æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸è¿‡åº¦æ‹Ÿåˆè®­ç»ƒé›†ï¼Œå› æ­¤æˆ‘ä»¬çš„æ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šçš„ç²¾åº¦è¾ƒä½ã€‚è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ä¿®å‰ªæ ‘çš„æ–¹æ³•æ¥è§£å†³ã€‚è¿™ç§ä¿®å‰ªè¿‡çš„æ ‘æ¯”æ²¡æœ‰ä¿®å‰ªè¿‡çš„æ ‘è¡¨ç°æ›´å¥½ã€‚æœ‰ä¸åŒçš„æ–¹æ³•å¯ä»¥ç”¨æ¥ä¿®å‰ªæ ‘æœ¨ã€‚å®ƒä»¬æ˜¯åå‰ªæã€å‰å‰ªæã€æˆæœ¬å¤æ‚æ€§å‰ªæï¼Œæˆ‘ä»¬å°†å¯¹æˆ‘ä»¬çš„æ¨¡å‹ä½¿ç”¨æˆæœ¬å¤æ‚æ€§å‰ªæã€‚</p><p id="f366" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">DecisionTreeClassifier æä¾›äº†å„ç§å‚æ•°æ¥é˜²æ­¢æ ‘è¿‡åº¦æ‹Ÿåˆã€‚å…¶ä¸­ä¸€ä¸ªæ˜¯æˆæœ¬å¤æ‚åº¦å‚æ•°ï¼Œ<strong class="lk jd"><em class="mn">CCP _ é˜¿å°”æ³•</em> </strong>ã€‚<strong class="lk jd"><em class="mn">CCP _ é˜¿å°”æ³•</em> </strong>çš„å€¼è¶Šå¤§ï¼Œä¿®å‰ªçš„èŠ‚ç‚¹æ•°è¶Šå¤šã€‚è¿™é‡Œæˆ‘ä»¬åªå±•ç¤ºäº†<strong class="lk jd"><em class="mn">CCP _ é˜¿å°”æ³•</em> </strong>å¯¹æ­£åˆ™åŒ–æ ‘çš„å½±å“ï¼Œä»¥åŠå¦‚ä½•æ ¹æ®éªŒè¯åˆ†æ•°é€‰æ‹©ä¸€ä¸ª<strong class="lk jd"><em class="mn">CCP _ é˜¿å°”æ³•</em> </strong>ã€‚</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="df52" class="nq mp it nm b gy nr ns l nt nu">from sklearn.model_selection import cross_val_score<br/>from sklearn.model_selection import train_test_split<br/>from sklearn.tree import DecisionTreeClassifier<br/>from sklearn.datasets import load_breast_cancer</span><span id="8f99" class="nq mp it nm b gy nv ns l nt nu">db=load_breast_cancer()</span><span id="967b" class="nq mp it nm b gy nv ns l nt nu">df = pd.DataFrame(data= np.c_[db['data'], db['target']])</span><span id="0721" class="nq mp it nm b gy nv ns l nt nu">df=df.rename(columns={30:'target'})</span><span id="f179" class="nq mp it nm b gy nv ns l nt nu">X = df.drop('target',axis=1)<br/>y = df['target']</span></pre><p id="95b8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å‹å· 1ã€‚(<em class="mn">æ­¤å¤„ Random_state æ˜¯ä¸ºäº†å†ç°æ€§</em>)</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="01c7" class="nq mp it nm b gy nr ns l nt nu">model = DecisionTreeClassifier(random_state = 2020)</span><span id="2e64" class="nq mp it nm b gy nv ns l nt nu">model.fit(X, y)</span><span id="252d" class="nq mp it nm b gy nv ns l nt nu">score = cross_val_score(model, X, y, scoring = "accuracy")<br/>print("Model 1 has {} nodes and score is {}".format(model.tree_.node_count, score.mean()))</span></pre><p id="f4b3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å‹å· 2 çš„<strong class="lk jd"><em class="mn">CCP _ é˜¿å°”æ³•</em> </strong>å€¼ç­‰äº 0.01</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="d145" class="nq mp it nm b gy nr ns l nt nu">model = DecisionTreeClassifier(ccp_alpha = 0.01, random_state = 2020)</span><span id="8f63" class="nq mp it nm b gy nv ns l nt nu">model.fit(X, y)</span><span id="bc62" class="nq mp it nm b gy nv ns l nt nu">score = cross_val_score(model, X, y, scoring = "accuracy")<br/>print("Model 2 has {} nodes and score is {}".format(model.tree_.node_count, score.mean()))</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/52a81ec22c4b21ebcaee8f92a7776050.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*c5I94gAjaUQZusepDL4sDA.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">æ¥æº:æˆ‘çš„è°·æ­Œ Colab ç¬”è®°æœ¬</p></figure><p id="f1a9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ³¨æ„ï¼Œåˆ†æ•°ä¸Šå‡äº†ã€‚ä¿®å‰ªæ ‘æœ¨æœ‰å¾ˆå¤šå¥½å¤„ï¼Œä¸»è¦çš„å¥½å¤„æ˜¯å‡å°‘è¿‡åº¦ä¿®å‰ªã€‚</p><p id="3193" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ›´å¤šç»†èŠ‚å’Œç¤ºä¾‹ï¼Œè¯·å‚è€ƒ<a class="ae lh" href="https://scikit-learn.org/stable/auto_examples/tree/plot_cost_complexity_pruning.html" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a>ã€‚</p><h1 id="1cef" class="mo mp it bd mq mr ms mt mu mv mw mx my ki mz kj na kl nb km nc ko nd kp ne nf bi translated">4.æƒ…èŠ‚æ··ä¹±çŸ©é˜µ</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nz"><img src="../Images/162f97342d6c2e4ff1c028942694c95e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g92gP48BAvQzJ8oeZtugEw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://subscription.packtpub.com/book/big_data_and_business_intelligence/9781838555078/6/ch06lvl1sec34/confusion-matrix" rel="noopener ugc nofollow" target="_blank">æ¥æº</a></p></figure><p id="1bcb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ··æ·†çŸ©é˜µï¼Œåå­—æœ¬èº«å°±åŒ…å«äº†æ··æ·†åœ¨é‡Œé¢ã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿç¬¬ä¸€æ¬¡ç†è§£æ—¶ï¼Œè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆä¼¼ä¹ä»¤äººå›°æƒ‘ï¼Œä½†ä¸€æ—¦ä½ ç†è§£äº†ï¼Œå®ƒè‚¯å®šä¼šå¸®åŠ©ä½ å¯¹ä½ çš„æ¨¡å‹åšå‡ºä¸€ä¸ªå¯Œæœ‰æˆæ•ˆçš„å†³å®šã€‚æ›´å¤šç»†èŠ‚è¯·å‚è€ƒ<a class="ae lh" rel="noopener" target="_blank" href="/understanding-confusion-matrix-a9ad42dcfd62">æ–‡ç« </a>ã€‚</p><p id="e9a8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="mn">æ³¨æ„:-åœ¨ä»»ä½•å…¶ä»–æ¥æºä¸­ï¼Œæ··æ·†çŸ©é˜µçš„è¡¨ç¤ºå¯ä»¥ä¸åŒã€‚</em></p><p id="c239" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¯¼å…¥ä¸€äº›å¿…è¦çš„åº“</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="a4db" class="nq mp it nm b gy nr ns l nt nu">from sklearn.model_selection import train_test_split<br/>from sklearn.metrics import plot_confusion_matrix<br/>from sklearn.linear_model import LogisticRegression<br/>from sklearn.datasets import load_digits</span></pre><p id="6fc4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ•°å­—æ•°æ®é›†ã€‚å°†æ•°æ®é›†åŠ è½½åˆ° Pandas æ•°æ®æ¡†ä¸­ï¼Œå¹¶åˆ†ç¦»ä¸ºé¢„æµ‹å˜é‡å’Œå“åº”å˜é‡ã€‚</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="177c" class="nq mp it nm b gy nr ns l nt nu">db=load_digits()</span><span id="4bd0" class="nq mp it nm b gy nv ns l nt nu">df = pd.DataFrame(data= np.c_[db['data'], db['target']])</span><span id="3f1f" class="nq mp it nm b gy nv ns l nt nu">df=df.rename(columns={64:'target'})</span><span id="c540" class="nq mp it nm b gy nv ns l nt nu">X = df.drop('target',axis=1)</span><span id="57cb" class="nq mp it nm b gy nv ns l nt nu">y = df['target']</span></pre><p id="b0f0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å°†æ•°æ®åˆ†æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œé€‰æ‹©é€‚å½“çš„æ¨¡å‹å¹¶æ‹Ÿåˆè¯¥æ¨¡å‹ã€‚</p><pre class="ks kt ku kv gt nl nm nn no aw np bi"><span id="7aa1" class="nq mp it nm b gy nr ns l nt nu">X_train, X_test, y_train, y_test = train_test_split(X, y, random_state = 0)</span><span id="bf37" class="nq mp it nm b gy nv ns l nt nu">model = LogisticRegression(random_state = 2020)</span><span id="e20f" class="nq mp it nm b gy nv ns l nt nu">model.fit(X_train, y_train)</span><span id="7462" class="nq mp it nm b gy nv ns l nt nu">disp = plot_confusion_matrix(model, X_test, y_test, cmap = "Blues")</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/e3f4be841ef93396ecb87a88e7defc42.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*eDOFsj7RwiSil9xP75AwYA.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">æ¥æº:æˆ‘çš„è°·æ­Œ Colab ç¬”è®°æœ¬</p></figure><p id="75f5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ›´å¤šç»†èŠ‚å’Œç¤ºä¾‹è¯·å‚è€ƒ<a class="ae lh" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.plot_confusion_matrix.html?highlight=confusion%20metrics#sklearn-metrics-plot-confusion-matrix" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a>ã€‚</p><p id="e2d8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æˆ‘ç›¸ä¿¡è¿™ä¸ªæŠ€å·§å¯¹ä½ ä¼šæœ‰ç”¨ï¼Œä½ ä¼šä»è¿™ç¯‡æ–‡ç« ä¸­æœ‰æ‰€æ”¶è·ã€‚ç›´åˆ°é‚£æ—¶å¿«ä¹ç¼–ç ï¼ã€‚</p></div></div>    
</body>
</html>