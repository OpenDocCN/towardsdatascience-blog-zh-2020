<html>
<head>
<title>What are lambda functions in python and why you should start using them right now?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">python中的lambda函数是什么，为什么你现在就应该开始使用它们？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-are-lambda-functions-in-python-and-why-you-should-start-using-them-right-now-75ab85655dc6?source=collection_archive---------14-----------------------#2020-04-15">https://towardsdatascience.com/what-are-lambda-functions-in-python-and-why-you-should-start-using-them-right-now-75ab85655dc6?source=collection_archive---------14-----------------------#2020-04-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7f5c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">初学者在python和pandas中开始使用lambda函数的快速指南。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9751b7dd1369ce7402a76ed5b8b02f67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M2EGkGyhbvFi_17TqtaXGw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4461911" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae ky" href="https://pixabay.com/users/N3otr3x-2325831/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4461911" rel="noopener ugc nofollow" target="_blank"> Xavier Espinosa </a>拍摄</p></figure><p id="33e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">许多初学数据的科学家听说过lambda函数，但可能不确定它们是什么以及如何使用它们。本文将解释:</p><blockquote class="lv lw lx"><p id="f416" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">什么是lambda函数？</p><p id="6604" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">lambda函数和普通函数有什么不同？</p><p id="1766" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">lambdas函数为什么有用？</p><p id="a90b" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">will将给出一些lambda函数在python和pandas中的实际用法。</p></blockquote><p id="1b42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始吧。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="eafa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">什么是lambda函数，它们与普通函数有什么不同？</strong></p><p id="c264" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我假设您熟悉普通的python函数定义。它总是以单词<em class="ly"> def </em>开头，后面是函数名、括号中的参数，最后是冒号。然后在新的一行或多行中，我们有一个函数体来执行所需的操作，通常以返回语句结束。让我们来看看这个函数的例子，它执行一个非常简单的操作，将一个数字加1:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="7c7f" class="mo mp it mk b gy mq mr l ms mt">def add_one_to_number(number):<br/>    return number + 1</span></pre><p id="1bf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述函数实际上可以用lambda符号重写:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="8eb8" class="mo mp it mk b gy mq mr l ms mt">lambda x: x + 1</span></pre><p id="f134" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您会注意到，为了使用lambda函数，您需要使用lambda关键字，后跟参数名(通常是一个字母)和一个冒号。冒号后面是函数定义。仅此而已。</p><p id="f5d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以看到，这个定义比您习惯的普通python函数定义简单得多。它简单、简洁，可以用一行代码编写。在继续之前，有一些关于lambda函数的重要事情需要记住:</p><blockquote class="lv lw lx"><p id="4c82" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">Lambda函数有时被称为匿名函数。这是因为它们没有名字。</p><p id="b4e3" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">Lambda函数只能接受一个表达式，因此您将无法创建长的多表达式函数定义。</p></blockquote></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="e9f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">为什么lambdas函数有用？</strong></p><p id="d06e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你理解了lambda函数就像是没有名字的普通函数，并且是用单一表达式编写的，那么就该解释为什么它们是有用的了。当您想要使用将另一个函数作为参数的函数时，它们会很有用。python中这种函数的一个例子是:filter()、map()或reduce()。</p><p id="cd4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">lambda函数变得如此有用的原因是，使用简单明了的lambda符号通常比以传统方式定义新函数更方便，特别是如果函数被设计为只执行一个单一操作，而不是作为可重复的组件。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="dfc1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">python中lambda函数的一个实际例子。</strong></p><p id="3487" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看如何使用带有lambda符号的python filter()函数。<strong class="lb iu"> <em class="ly"> Filter() </em> </strong>函数将一个函数作为第一个参数(这将是我们的lambda函数)，将list作为第二个参数，我们要对其应用过滤函数。让我们看一个例子:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="97b7" class="mo mp it mk b gy mq mr l ms mt">my_list = [1, 2, 3, 4, 5]<br/>list(filter(lambda x: x &gt; 2, my_list))</span><span id="54b7" class="mo mp it mk b gy mu mr l ms mt">[3, 4, 5]</span></pre><p id="4dd9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的例子中，我们可以看到我们使用了filter()函数和一个被定义为<em class="ly"> lambda x: x &gt; 2 </em>的匿名函数，并将其应用于<em class="ly"> my_list </em>。因此，我们过滤了初始列表，只包含大于数字2的元素，结果得到[3，4，5]。注意，我们必须将filter()函数的结果改为一个列表，否则结果将是一个filter对象而不是列表本身。</p><p id="e34d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以以类似的方式对map()<strong class="lb iu"><em class="ly"/></strong>和<strong class="lb iu"> <em class="ly"> reduce() </em> </strong>使用lambda符号，但是我们不打算在这里讨论它。Filter()示例应该可以让你自己理解如何使用lambda实现上述功能。相反，我们将转到一些熊猫函数的例子。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="badc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">lambda函数与熊猫应用的实际例子()</strong></p><p id="fe03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一名数据科学家，你会经常使用熊猫图书馆，这是一个你会经常使用lambda符号的地方。匿名函数主要与apply()、applymap()和map()一起使用。如果你不确定这些函数是什么，你可以看看我解释它们用法的文章:</p><div class="mv mw gp gr mx my"><a rel="noopener follow" target="_blank" href="/pandas-data-manipulation-functions-7b3519fc1370"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd iu gy z fp nd fr fs ne fu fw is bi translated">Pandas数据操作函数:apply()、map()和applymap()</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">以及如何在熊猫身上正确使用它们…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">towardsdatascience.com</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm ks my"/></div></div></a></div><p id="1caf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你已经知道这些函数是如何工作的，你可以直接跳到例子中。我们先从加载虹膜数据集开始。</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="9fde" class="mo mp it mk b gy mq mr l ms mt">from sklearn import datasets<br/>import pandas as pd</span><span id="3ae8" class="mo mp it mk b gy mu mr l ms mt">iris_data = datasets.load_iris()<br/>df_iris = pd.DataFrame(iris_data.data,columns=iris_data.feature_names)<br/>df_iris['target'] = pd.Series(iris_data.target)<br/>df_iris.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/bfde16ed615beca6dcc29034daf82d6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*nlisJNI1JmIpUwu7U20X1Q.png"/></div></figure><p id="b995" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们创建一个函数，它将在初始的<em class="ly">萼片长度</em>列的基础上添加一个<em class="ly">萼片长度描述</em>列。为此，我们将在萼片长度列上使用apply()。</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="8242" class="mo mp it mk b gy mq mr l ms mt">df_iris['sepal_length_description'] = df_iris['sepal length (cm)'].apply(lambda x: 'sepal length is: ' + str(x))<br/>df_iris.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/696856b914971d600ba8b795ffb4ebe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*bUeZR8E4owi7XCOaCqqY0Q.png"/></div></figure><p id="19bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，我们已经创建了一个简单的函数“on the go ”,它连接了字符串“<em class="ly"> sepal length is: </em>”,结果是将sepal_length列的数值更改为字符串。</p><p id="8c52" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以想象，带有lambda符号的apply()非常强大，它将允许您高效地操作和创建具有所需结果的新列。但是，如果您想对多个数据框列使用lambda函数，会发生什么情况呢？</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="f95e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">如何通过apply()使用lambda函数并访问不同的列</strong></p><p id="b610" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如上所述，您可以使用lambda函数和apply()来组合来自不同列的信息。说明这一点的一个很好的例子是对Iris数据集使用apply()函数。我们将合并几个栏目的信息，创建一个名为“sepal description”的新栏目:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="a899" class="mo mp it mk b gy mq mr l ms mt">df_iris['sepal_description'] = df_iris.apply(lambda x: 'sepal length/width ration is :' + str(round(x['sepal length (cm)'] / x['sepal width (cm)'], 2)), axis=1)<br/>df_iris.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/8f0635e130abc39c8ff3bb6f05f52039.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LaQv5M_3yEm8WHefxi1ZDQ.png"/></div></div></figure><p id="07b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，我们在这里使用了整个数据框的apply()函数。在这个例子中，变量“x”指的是整个数据帧，我们可以像对传统数据帧那样调用各个列。因此，我们使用<em class="ly"> x['萼片长度(厘米)'] </em>和<em class="ly"> x['萼片宽度(厘米)'【T3]]来计算萼片比例，然后我们对结果进行舍入，将其改为浮点型，最后将结果连接到描述字符串。</em></p><p id="353a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个例子很好地展示了lambda函数在处理数据时是多么有用。这里我们只使用了两列，但是您可以很容易地看到，如果您的操作需要，您可以访问任意数量的列。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="4987" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">总结</strong></p><p id="1bd3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇简短的文章中，我们解释了什么是lambda函数，以及如何在python和pandas中使用它们。我们已经介绍了一个filter()示例，然后演示了如何将lambdas与apply()一起用于os系列和DataFrame对象。</p><p id="f68a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望您已经发现这些示例很有用，并且您将开始在自己的代码中使用lambdas。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="dc4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ly">最初发布于about datablog . com:</em><a class="ae ky" href="https://www.aboutdatablog.com/post/what-are-lambda-functions-in-python-and-why-you-should-start-using-them-right-now" rel="noopener ugc nofollow" target="_blank">python中的lambda函数是什么，为什么你现在就应该开始使用它们？</a>，<em class="ly">2020年4月16日。</em></p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="78a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="ly"> PS:我正在</em></strong><a class="ae ky" href="https://www.aboutdatablog.com/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="ly">aboutdatablog.com</em></strong></a>上撰写深入浅出地解释基本数据科学概念的文章。<strong class="lb iu"> <em class="ly">如果你喜欢这篇文章，还有一些其他的你可能会喜欢:</em> </strong></p><div class="mv mw gp gr mx my"><a rel="noopener follow" target="_blank" href="/pandas-data-manipulation-functions-7b3519fc1370"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd iu gy z fp nd fr fs ne fu fw is bi translated">Pandas数据操作函数:apply()、map()和applymap()</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">以及如何在熊猫身上正确使用它们…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">towardsdatascience.com</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a rel="noopener follow" target="_blank" href="/sorting-data-frames-in-pandas-a5a3af6f346a"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd iu gy z fp nd fr fs ne fu fw is bi translated">对熊猫中的数据框进行排序</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">如何快速有效地排序数据帧</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">towardsdatascience.com</p></div></div><div class="nh l"><div class="nq l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a rel="noopener follow" target="_blank" href="/jupyter-notebook-autocompletion-f291008c66c"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd iu gy z fp nd fr fs ne fu fw is bi translated">Jupyter笔记本自动完成</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">数据科学家的最佳生产力工具，如果您还没有使用它，您应该使用它…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">towardsdatascience.com</p></div></div><div class="nh l"><div class="nr l nj nk nl nh nm ks my"/></div></div></a></div></div></div>    
</body>
</html>