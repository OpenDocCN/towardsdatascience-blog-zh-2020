<html>
<head>
<title>Does Productivity Increase Wages?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">生产率提高了工资吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/does-productivity-increase-wages-f50ce24f41d0?source=collection_archive---------76-----------------------#2020-06-17">https://towardsdatascience.com/does-productivity-increase-wages-f50ce24f41d0?source=collection_archive---------76-----------------------#2020-06-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="664a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">探索固定效应回归的 R 项目</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4b409d1ed5db72a9ec646fca7a57309e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MlepOmKTQkFw6LmQx-QqLQ.png"/></div></div></figure><h1 id="e85f" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">介绍</h1><p id="a9e0" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">经济理论告诉我们，劳动生产率是工资的主要决定因素。然而，许多评论家认为这种关系已经破裂，尤其是在最近几十年。该项目将探索一种固定效应回归，以分析经合组织国家小组的生产率和工资之间的联系。</p><p id="e0d7" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这个项目并不打算面面俱到——相反，更多的是一个实验，提供一些来自不同国家的关于这个主题的证据。</p><h2 id="de1f" class="mn kv it bd kw mo mp dn la mq mr dp le lv ms mt lg lz mu mv li md mw mx lk my bi translated">数据源</h2><p id="3a8b" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">我所有的数据都将来自经合组织的数据库。我下载了 CSV 文件中的三个数据序列:<a class="ae mz" href="https://data.oecd.org/lprdty/gdp-per-hour-worked.htm" rel="noopener ugc nofollow" target="_blank">劳动生产率</a>(每小时工作的 GDP)<a class="ae mz" href="https://data.oecd.org/earnwage/average-wages.htm" rel="noopener ugc nofollow" target="_blank">年平均工资</a>和<a class="ae mz" href="https://data.oecd.org/emp/hours-worked.htm" rel="noopener ugc nofollow" target="_blank">年平均工作时间</a>。我选取了 1990 年至 2018 年的时间段，因为这是所有三个数据集中可用的最多的数据。</p><p id="22bf" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">在我的 Github 上有完整的代码和数据集。</p><h1 id="416d" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">该项目</h1><p id="71f5" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">首先，我将把每个数据集放入 r 中。我还加载了几个我在几乎所有项目中使用的标准包。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="9258" class="mn kv it nb b gy nf ng l nh ni">library(ggplot2)<br/>library(dplyr)</span><span id="a402" class="mn kv it nb b gy nj ng l nh ni">#Bring in labour productivity data<br/>GDPh &lt;- read.csv("DP_LIVE_16062020201012437.csv")</span><span id="1410" class="mn kv it nb b gy nj ng l nh ni">#Bring in average annual wages<br/>Wage &lt;- read.csv("DP_LIVE_16062020201639206.csv")</span><span id="4359" class="mn kv it nb b gy nj ng l nh ni">#Bring in average annual hours worked<br/>Hours &lt;- read.csv("DP_LIVE_16062020202140847.csv")</span></pre><h2 id="32ec" class="mn kv it bd kw mo mp dn la mq mr dp le lv ms mt lg lz mu mv li md mw mx lk my bi translated">清理和准备数据</h2><p id="832c" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">对于几乎任何项目来说，数据都会以我们想要的形式出现。经合组织的数据设计得很好，但仍需要做一些工作才能得到所需的格式。对于每个数据系列，为了可读性，我将重命名几列，然后删除我不需要的列。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="4cf2" class="mn kv it nb b gy nf ng l nh ni">#GDP per hour<br/>names(GDPh)[1] &lt;- "Country"<br/>names(GDPh)[7] &lt;- "GDP.h"<br/>GDPh &lt;- GDPh[-c(2:5,8)]</span><span id="3037" class="mn kv it nb b gy nj ng l nh ni">#Annual wages<br/>names(Wage)[1] &lt;- "Country"<br/>names(Wage)[7] &lt;- "Wage"<br/>Wage &lt;- Wage[-c(2:5,8)]</span><span id="5a6c" class="mn kv it nb b gy nj ng l nh ni">#Hours worked per year<br/>names(Hours)[1] &lt;- "Country"<br/>names(Hours)[7] &lt;- "Hours.a"<br/>Hours &lt;- Hours[-c(2:5,8)]</span></pre><p id="5315" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">从这里，我可以将数据集合并到一个数据框中:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="bceb" class="mn kv it nb b gy nf ng l nh ni">Comb &lt;- merge(GDPh, Hours)<br/>Comb &lt;- merge(Comb, Wage)</span></pre><p id="9673" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这个数据集包括作为一个国家的整个经合组织，我不想把它包括在内(因为我是在看单个国家)。我需要从我的数据中删除这些观察结果。有几种方法可以做到这一点，但我发现了一种创建“不在”函数的简洁方法，在这种情况下很容易使用。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="af68" class="mn kv it nb b gy nf ng l nh ni">#Create 'notin' function<br/>`%notin%` &lt;- Negate(`%in%`)</span><span id="bc0a" class="mn kv it nb b gy nj ng l nh ni">#Remove OECD observations<br/>Comb &lt;- subset(Comb, Country %notin% c("OECD"))</span></pre><p id="43e7" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">最后，我想创建一个新列，其中包含每小时的平均工资，而不是我现在的年平均工资。为此，我可以简单地用“Hours.a”列除“工资”列来创建一个新列。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="7de0" class="mn kv it nb b gy nf ng l nh ni">#Create an hourly wage column<br/>Comb$H_wage &lt;- Comb$Wage/Comb$Hours.a</span></pre><p id="6af3" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">此时，数据是我可以处理的格式。</p><h1 id="75d5" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">统计数字</h1><h2 id="ba54" class="mn kv it bd kw mo mp dn la mq mr dp le lv ms mt lg lz mu mv li md mw mx lk my bi translated">普通最小二乘法</h2><p id="bafa" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">首先，让我们用数据生成一个标准的普通最小二乘(OLS)回归:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="023d" class="mn kv it nb b gy nf ng l nh ni">#OLS regression<br/>ols &lt;- lm(H_wage~GDP.h, Comb)<br/>summary(ols)</span></pre><p id="4c08" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">然后，Summary 会提供以下输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/75025fde5dfed75386346c1143fbc679.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*1GimWGN603tYaa1Wrwg1dQ.png"/></div></figure><p id="2bdb" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">系数 0.466(意味着劳动生产率每增加 1 美元，工资增加 0.466 美元)具有统计意义。</p><p id="d35c" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">我们也可以想象这种回归。虽然我可以使用默认的 plot 函数，但大多数人认为 ggplot 包更有吸引力。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="6051" class="mn kv it nb b gy nf ng l nh ni">library(ggplot2)</span><span id="7422" class="mn kv it nb b gy nj ng l nh ni">#Visualize fit<br/>ggplot(Comb, aes(x=GDP.h, y=H_wage)) +<br/>  geom_point() +<br/>  geom_smooth(method=lm) +<br/>  labs(x = "GDP Per Hour Worked",<br/>       y = "Hourly Wage")</span></pre><p id="7afb" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这产生了下面的情节:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e262de481e2480385736d81b1a8e2f61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bXlyoD3ap-F2ez6E49rnwQ.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">阴影区域代表 95%的置信区间</p></figure><p id="2f09" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">然而，由于国家之间的异质性，这不是分析数据的最佳方式。</p><h2 id="8899" class="mn kv it bd kw mo mp dn la mq mr dp le lv ms mt lg lz mu mv li md mw mx lk my bi translated">平衡面板</h2><p id="02ba" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">第一步将是检查面板是否平衡(意味着我们对所有国家都有相同的时间段)。我已经知道面板是<em class="nk">非</em>平衡的，但是我们还是会显示代码。为此，我们将使用“plm”包。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="fab7" class="mn kv it nb b gy nf ng l nh ni">library(plm)</span><span id="7ea6" class="mn kv it nb b gy nj ng l nh ni">is.pbalanced(Comb)<br/>[1] FALSE</span></pre><p id="90c2" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">此功能已确认我们的面板不平衡。幸运的是，这个包也有平衡我们面板的功能。但是，我们必须选择如何平衡我们的面板(该功能提供了三个选项)。我将选择保留所有可用时间段的选项，删除不可用的国家。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e53b" class="mn kv it nb b gy nf ng l nh ni">length(unique(Comb$Country))<br/>[1] 35</span></pre><p id="e97c" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这段代码告诉我，我的面板目前有 35 个国家。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="2db0" class="mn kv it nb b gy nf ng l nh ni">Comb &lt;- make.pbalanced(Comb, balance.type = "shared.individuals")<br/>length(unique(Comb$Country))<br/>[1] 15</span></pre><p id="bfb6" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">新的数据集现在只有 15 个国家，这是一个相当小的国家样本。确认新面板是平衡的:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="50f7" class="mn kv it nb b gy nf ng l nh ni">is.pbalanced(Comb)<br/>[1] TRUE</span></pre><p id="5974" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">面板现在是平衡的。现在，我将在剩余的面板中制作一个国家的可视化。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="0e9c" class="mn kv it nb b gy nf ng l nh ni">ggplot(Comb, aes(x=GDP.h, y=H_wage)) +<br/>  geom_point() +<br/>  facet_wrap(.~ Country, scales = "free") +<br/>  labs(title = "Country Panel",<br/>       caption = "Source: OECD",<br/>       y = "Average Wage",<br/>       x = "GDP/Hour Worked")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4b409d1ed5db72a9ec646fca7a57309e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MlepOmKTQkFw6LmQx-QqLQ.png"/></div></div></figure><h2 id="cfd7" class="mn kv it bd kw mo mp dn la mq mr dp le lv ms mt lg lz mu mv li md mw mx lk my bi translated">固定效应模型</h2><p id="03e0" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">现在，我们可以在面板上运行固定效果模型。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="ff94" class="mn kv it nb b gy nf ng l nh ni">f &lt;- plm(H_wage~GDP.h, data=Comb, model="within")<br/>summary(f)</span></pre><p id="b108" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">它产生以下输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/c7351c1c31f2f1c543ff3cd3109f573f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*ZoYvpgHqXVDrzSTIW0pujw.png"/></div></figure><p id="1ee5" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">该系数现在是 0.486，仍然具有统计学意义。我们能够绘制一个显示国内回归的图表:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="d0ab" class="mn kv it nb b gy nf ng l nh ni">plot(f,<br/>     pooling=F,<br/>     within=T)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/64226fc4fccc7ea59e5fe0ef9d008e68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O9VRQd127MKUymqYEHqVJQ.png"/></div></div></figure><p id="126e" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">虽然我们的面板有太多的国家来产生视觉上吸引人的图，但这对于具有较少实体的数据集是有用的。然而，我们仍然可以看到，几乎所有国家都表现出积极的关系。</p><h2 id="69e0" class="mn kv it bd kw mo mp dn la mq mr dp le lv ms mt lg lz mu mv li md mw mx lk my bi translated">检验固定效应模型对 OLS 的影响</h2><p id="ad3c" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">首先，我在平衡数据集上重新运行 OLS。现在我们可以针对 OLS 测试固定效应模型，看看它是否能更好地解释这些数据:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="7b7c" class="mn kv it nb b gy nf ng l nh ni">#Test fixed-effects against OLS<br/>pFtest(f, ols)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/434ea747b50ff19289e8f9367db39061.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*O3BDYKY-wiXv4gPAq0L5qg.png"/></div></figure><p id="ae9e" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">我们可以拒绝零假设；固定效应模型产生的结果明显优于 OLS。</p><h2 id="a9c9" class="mn kv it bd kw mo mp dn la mq mr dp le lv ms mt lg lz mu mv li md mw mx lk my bi translated">模型诊断</h2><p id="4a58" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">我将测试该模型是否具有时间固定效应。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="3f1b" class="mn kv it nb b gy nf ng l nh ni">#Time fixed effects<br/>ft &lt;- plm(H_wage ~ GDP.h + factor(TIME), data=Comb, model="within")<br/>summary(ft)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/0e3fa7c7e8d8e880ff3cff866a588d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*iL9MugRbXdGKrX5F4L6rCA.png"/></div></figure><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="0ae4" class="mn kv it nb b gy nf ng l nh ni">#Test time-fixed effects--null hypothesis is no time fixed effects<br/>pFtest(ft,f)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/62afc77e7d2507469551509fcea76392.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*pHOF8_cC-HLub8ROwFOxHA.png"/></div></figure><p id="5224" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">p 值为 0.029 是困难的——它提供了好的，但不是时间固定效应的结论性证据。这表明这个模型可能更适合。</p><h2 id="704c" class="mn kv it bd kw mo mp dn la mq mr dp le lv ms mt lg lz mu mv li md mw mx lk my bi translated">其他诊断</h2><p id="e8ba" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">虽然我不会在这里执行它们，但是您可以执行各种其他测试。一个特别值得关注的问题是截面依赖性。你也可以测试序列相关性和异方差性。</p></div></div>    
</body>
</html>