<html>
<head>
<title>Fast plotting with Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用熊猫快速绘图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-best-pandas-plotting-features-c9789e04a5a0?source=collection_archive---------12-----------------------#2020-01-14">https://towardsdatascience.com/the-best-pandas-plotting-features-c9789e04a5a0?source=collection_archive---------12-----------------------#2020-01-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/bb462e072292983d6a4cf9c0d53165b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*si77xRXyHBpDCXxiSF2UDQ.png"/></div></div></figure><div class=""/><div class=""><h2 id="07c2" class="pw-subtitle-paragraph kb jd je bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dk translated">使用这些简单的内置函数快速可视化您的数据</h2></div><p id="4083" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">Pandas 最好的特性之一是其 Series 和 DataFrame 对象中内置的<code class="fe lp lq lr ls b">plot</code>函数。</p><p id="0e21" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">但是用熊猫绘图的官方教程假设你已经熟悉 Matplotlib，并且相对来说对初学者来说是不宽容的。</p><p id="ccd9" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">所以我认为简单概述一下<code class="fe lp lq lr ls b">plot</code>的功能对任何想要可视化他们的熊猫数据而不需要学习整个绘图库的人都是有用的。</p><p id="b06e" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">要开始使用<code class="fe lp lq lr ls b">plot</code>函数，你需要安装 Matplotlib(尽管你不需要直接使用 Matplotlib)。</p><pre class="lu lv lw lx gt ly ls lz ma aw mb bi"><span id="fff0" class="mc md je ls b gy me mf l mg mh">pip install matplotlib </span></pre><p id="5193" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">您还可以使用 iPython <em class="mi">魔法命令，指示 Jupyter 笔记本直接在笔记本中自动打印熊猫图。</em></p><pre class="lu lv lw lx gt ly ls lz ma aw mb bi"><span id="5b7a" class="mc md je ls b gy me mf l mg mh">In [1]: %matplotlib inline</span></pre><p id="098a" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">每当使用熊猫的<code class="fe lp lq lr ls b">plot</code>功能时，你的 Jupyter 笔记本将自动在笔记本中生成一个图表。</p><h2 id="3aa5" class="mc md je bd mj mk ml dn mm mn mo dp mp lc mq mr ms lg mt mu mv lk mw mx my mz bi translated">绘制系列对象</h2><p id="5988" class="pw-post-body-paragraph kt ku je kv b kw na kf ky kz nb ki lb lc nc le lf lg nd li lj lk ne lm ln lo im bi translated">要自动可视化 series 对象中的数据，可以调用它的<code class="fe lp lq lr ls b">plot</code>方法。</p><pre class="lu lv lw lx gt ly ls lz ma aw mb bi"><span id="08ef" class="mc md je ls b gy me mf l mg mh">In [2]: import pandas as pd</span><span id="9cd4" class="mc md je ls b gy nf mf l mg mh">In [3]: series = pd.Series([1,2,3,5], index=['a', 'b', 'c', 'd'])</span><span id="0059" class="mc md je ls b gy nf mf l mg mh">In [4]: series.plot()</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/91f2eb94895550e225c98cef9999712a.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*jwk5uYO6N1afP3GwGMYALw.png"/></div><p class="nh ni gj gh gi nj nk bd b be z dk translated">熊猫系列中的一个简单情节</p></figure><p id="f969" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">请注意 Pandas 如何将系列的<em class="mi">索引</em>用于 X 轴，而系列的<em class="mi">值</em>用于 Y 轴。</p><blockquote class="nl nm nn"><p id="21a2" class="kt ku mi kv b kw kx kf ky kz la ki lb no ld le lf np lh li lj nq ll lm ln lo im bi translated">提示:您可以通过<strong class="kv jf"> shift 右键单击图像</strong>，然后选择“图像另存为…”来从笔记本中导出绘图</p></blockquote><p id="ae3e" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">如果对系列使用数字索引而不是分类索引，Pandas 将正确调整 X 轴的刻度。</p><pre class="lu lv lw lx gt ly ls lz ma aw mb bi"><span id="6ff1" class="mc md je ls b gy me mf l mg mh">In [5]: series.index = [1, 1.75, 2, 4]</span><span id="8664" class="mc md je ls b gy nf mf l mg mh">In [6]: series.plot()</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/9b9863d94a923b841359af2cb982e4c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*0xQvjVV1Lo8U5VttaVrFMA.png"/></div><p class="nh ni gj gh gi nj nk bd b be z dk translated">如果 X 轴的索引是数字，熊猫会自动缩放它</p></figure><p id="bfc0" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">正如您已经看到的，Pandas 将在使用<code class="fe lp lq lr ls b">plot</code>函数时创建一个折线图。您可以使用功能<code class="fe lp lq lr ls b">plot.[option]</code>创建其他绘图类型。例如，您可以使用<code class="fe lp lq lr ls b">plot.area</code>创建一个面积图。</p><pre class="lu lv lw lx gt ly ls lz ma aw mb bi"><span id="59d3" class="mc md je ls b gy me mf l mg mh">In [7]: series.plot.area()</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/7799934f7efb2f3b1e8205c0a10eb7b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*LHfDFe-5eu29FZx_nBY6zQ.png"/></div><p class="nh ni gj gh gi nj nk bd b be z dk translated">Pandas 支持多种类型的视觉效果，包括区域图表</p></figure><p id="733b" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">您可以从系列对象生成的可用图表的完整列表可在<a class="ae lt" href="https://dev.pandas.io/docs/reference/series.html#plotting" rel="noopener ugc nofollow" target="_blank">文档</a>中找到。</p><h2 id="8d22" class="mc md je bd mj mk ml dn mm mn mo dp mp lc mq mr ms lg mt mu mv lk mw mx my mz bi translated">绘制数据框架对象</h2><p id="87ec" class="pw-post-body-paragraph kt ku je kv b kw na kf ky kz nb ki lb lc nc le lf lg nd li lj lk ne lm ln lo im bi translated">Pandas 还在 DataFrame 对象上提供了一个<code class="fe lp lq lr ls b">plot</code>方法。</p><pre class="lu lv lw lx gt ly ls lz ma aw mb bi"><span id="4d57" class="mc md je ls b gy me mf l mg mh">In [8]: data = {'a': [2, 1, 2, 9], 'b': [1, 0, 1, 2]}</span><span id="8adc" class="mc md je ls b gy nf mf l mg mh">In [9]: df = pd.DataFrame(data, index=[-1, 0, 1, 2])</span><span id="d76b" class="mc md je ls b gy nf mf l mg mh">In [10]: df.plot()</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/46816969527096cea4a4bae84b43f2b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*iz9AL11fTlpr5mmXtlheOw.png"/></div><p class="nh ni gj gh gi nj nk bd b be z dk translated">Pandas 支持一次绘制多个列</p></figure><p id="fc65" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">注意 Pandas 是如何在一个 Y 轴上绘制数据帧的两个列的，并且它使用数据帧的索引作为 X 轴。它还在左上角添加了一个标签。</p><p id="a5e5" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">还有其他专门用于数据帧的内置绘图方法，如<code class="fe lp lq lr ls b">plot.scatter</code>方法。</p><pre class="lu lv lw lx gt ly ls lz ma aw mb bi"><span id="7784" class="mc md je ls b gy me mf l mg mh">In [11]: df.plot.scatter(x="a", y="b")</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/9d4f21390f4fa2ca3d8f9dc26a9fb6e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*larrXS3dk-QU-erMZSyVxQ.png"/></div><p class="nh ni gj gh gi nj nk bd b be z dk translated">Pandas 使得从数据帧创建散点图变得容易</p></figure><p id="d9cd" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">数据帧绘图方法的完整列表可在<a class="ae lt" href="https://dev.pandas.io/docs/reference/frame.html#plotting" rel="noopener ugc nofollow" target="_blank">文档</a>中找到。</p><h2 id="c28c" class="mc md je bd mj mk ml dn mm mn mo dp mp lc mq mr ms lg mt mu mv lk mw mx my mz bi translated">其他绘图方法</h2><p id="cb18" class="pw-post-body-paragraph kt ku je kv b kw na kf ky kz nb ki lb lc nc le lf lg nd li lj lk ne lm ln lo im bi translated">最后，您可以使用来自<code class="fe lp lq lr ls b">pandas.plotting</code>模块的附加绘图功能。例如，您可以从数据帧创建散布矩阵。</p><pre class="lu lv lw lx gt ly ls lz ma aw mb bi"><span id="809c" class="mc md je ls b gy me mf l mg mh">In [12]: df['c'] = [3, 6, 4, 1]</span><span id="0c9e" class="mc md je ls b gy nf mf l mg mh">In [13]: from pandas.plotting import scatter_matrix</span><span id="3a6c" class="mc md je ls b gy nf mf l mg mh">In [14]: scatter_matrix(df)</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/d0f7acbc316dc49b66aa2e1810edad7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*YHbmmCzV_Adkadby-ghCOQ.png"/></div><p class="nh ni gj gh gi nj nk bd b be z dk translated">熊猫也能从数据帧中快速生成散点图</p></figure><p id="b2f5" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">其他方法的完整列表可在<a class="ae lt" href="https://dev.pandas.io/docs/reference/plotting.html" rel="noopener ugc nofollow" target="_blank">文档</a>中找到。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><p id="7d0b" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">感谢阅读！如果你觉得这篇文章有用，我写的是关于数据科学和编程的文章，所以请关注我以获得更多类似的内容。</p></div></div>    
</body>
</html>