<html>
<head>
<title>Classes in Python: Fundamentals for Data Scientists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中的类:数据科学家的基础</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/classes-in-python-fundamentals-for-data-scientists-fb7deb4fcda1?source=collection_archive---------26-----------------------#2020-06-06">https://towardsdatascience.com/classes-in-python-fundamentals-for-data-scientists-fb7deb4fcda1?source=collection_archive---------26-----------------------#2020-06-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="330a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用一个具体的例子来理解基础！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/42e914e8809f3ed4ed7ef2f77eb8fba8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tEjqe6vaLQpmftmq"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@alexacea?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Alexandru Acea </a>拍摄</p></figure><p id="581b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类通过将数据和函数封装在一个实体中来帮助我们整理代码。此外，它们增加了代码的可重用性和可伸缩性，简化了调试过程。</p><p id="6ed4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我们定义了一个类，我们就可以使用这个类的实例来处理特定的任务。在这方面，它们是我们在代码中使用的对象的蓝图。</p><p id="8776" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们用一个具体的例子来了解一下基础知识。</p><h1 id="93a5" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">定义类别</strong></h1><p id="74b6" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在我们的例子中，我将使用<a class="ae ky" href="https://pandas.pydata.org" rel="noopener ugc nofollow" target="_blank"> Pandas </a>，这是一个流行的 Python 数据操作库，以及几个包含表格数据的<a class="ae ky" href="https://www.kaggle.com/yamaerenay/spotify-dataset-19212020-160k-tracks" rel="noopener ugc nofollow" target="_blank"> CSV 文件</a>。</p><p id="38ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在 Python 中，基本类定义具有以下格式:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="7f79" class="mx lw it mt b gy my mz l na nb">class<strong class="mt iu"> </strong>ClassName():<br/> <!-- --># <!-- -->Comments / Notes<br/> ...<br/> <!-- --># Initializer / Instance Attributes<br/> ...<br/> <!-- --># M<!-- -->ethods<br/> ...</span></pre><p id="d955" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们创建一个简单的类，帮助我们显示 CSV 文件中包含的表格数据的摘要信息。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="4be2" class="mx lw it mt b gy my mz l na nb"><em class="nc">class</em> CSVGetInfo:<br/><strong class="mt iu">""" This class displays the summary of the tabular data contained in a CSV file """</strong></span><span id="1242" class="mx lw it mt b gy nd mz l na nb"><em class="nc">def</em> <strong class="mt iu">__init__</strong>(<em class="nc">self</em>, <em class="nc">path</em>, <em class="nc">file_name</em>):<br/> self.path = path<br/> self.file_name = file_name</span><span id="00a4" class="mx lw it mt b gy nd mz l na nb"><em class="nc">def</em> <strong class="mt iu">display_summary</strong>(<em class="nc">self</em>):<br/> data = pd.read_csv(self.path + self.file_name)<br/> print(self.file_name)<br/> print(data.info())</span></pre><p id="f8e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在 Python 中，一个简单的类定义以下面的符号开始:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="34b7" class="mx lw it mt b gy my mz l na nb"><em class="nc">class</em> ClassName:</span></pre><p id="f251" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的例子中，我们的类名是<strong class="lb iu">“CSV getinfo”</strong>。请注意 Python 中的类名遵循<strong class="lb iu"> UpperCaseCamelCase </strong>命名约定。虽然这不是强制性的，但是通常将类存储在一个单独的文件中，并在以后需要时导入它们。</p><p id="b78f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">增加一个评论区让其他人知道我们的类是做什么的，这是一个很好的做法。我们可以通过在三重双引号内提供注释来做到这一点。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="c1b5" class="mx lw it mt b gy my mz l na nb"><em class="nc">class</em> CSVGetInfo:<br/><strong class="mt iu">""" This class displays the summary of the tabular data contained in a CSV file """</strong></span></pre><h1 id="149a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">初始化实例变量(属性)</strong></h1><p id="2176" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在这些最初的步骤之后，现在是时候定义我们的类所涉及的数据了。在我们的例子中，我们需要知道想要读取的 CSV 文件的路径和文件名信息。</p><p id="c37a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，我们的类有<strong class="lb iu">‘path’</strong>和<strong class="lb iu">‘file _ name’</strong>变量。它们将为我们的<strong class="lb iu"> CSVGetInfo </strong>类的每个实例初始化，它们被称为我们类的实例变量或属性。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="9782" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu"># Initializer / Instance Attributes</strong> <br/> <em class="nc">def</em> __init__(<em class="nc">self</em>, <em class="nc">path</em>, <em class="nc">file_name</em>):<br/>  self.path = path<br/>  self.file_name = file_name</span></pre><p id="ed75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> __init__ </strong>方法指出当我们创建类的新实例时必须提供什么数据。</p><p id="e382" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本地变量提供的数据存储在<strong class="lb iu"> <em class="nc"> self.path </em> </strong>和<strong class="lb iu"> <em class="nc"> self.file_name 中。</em> </strong>在这里，<em class="nc"> self </em>代表实例本身。</p><p id="8fef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在创建实例时，变量初始化是一个强制性的过程，这个特殊的<strong class="lb iu"> __init__ </strong>方法保证了它总是发生。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/00de90f453d84e748f79cce493481312.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xUz26tNzsiAr3y6m"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@tratran?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Tra Tran </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="ec5f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">添加实例函数(方法)</strong></h1><p id="d89e" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">现在，我们可以定义使用这些数据来处理特定任务的函数。类结构中的函数称为方法或实例函数，因为它们与类的每个实例都有联系。我们将在我们的<strong class="lb iu"> CSVGetInfo </strong>类结构中定义<strong class="lb iu"> "display_summary" </strong>方法，它显示包含在 CSV 文件中的表格数据的摘要信息。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="d75a" class="mx lw it mt b gy my mz l na nb"><strong class="mt iu"># M</strong><strong class="mt iu">ethods</strong></span><span id="c529" class="mx lw it mt b gy nd mz l na nb"><em class="nc">def</em> <strong class="mt iu">display_summary</strong>(<em class="nc">self</em>):<br/> data = pd.read_csv(self.path + self.file_name)<br/> print(self.file_name)<br/> print(data.info())</span></pre><p id="cf25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，我们在方法中再次使用了<em class="nc"> self </em>作为参数。这是访问我们正在处理的实例中包含的数据所需要的。</p><p id="2d27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了访问<strong class="lb iu"> "display_summary" </strong>方法中的实例变量，我们使用 self.path 和 self.file_name 符号。</p><h1 id="695f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">创建类(对象)的实例</strong></h1><p id="ee45" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">由于类本身是对象的蓝图，我们需要创建类(对象)的实例，以使用类定义中可用的方法来处理任务。</p><p id="dc24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的类中，我们有<strong class="lb iu">“display _ summary”</strong>方法。</p><p id="faea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，让我们创建两个<strong class="lb iu"> CSVGetInfo </strong>的实例，并使用<strong class="lb iu">“display _ summary”</strong>方法来查看 CSV 文件中的内容。</p><p id="2a89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了创建一个类的实例/对象，我们使用类名并将值传递给该类所需的参数。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="6361" class="mx lw it mt b gy my mz l na nb">data_by_artists = CSVGetInfo("/Users/erdemisbilen/Lessons/", "data_by_artists.csv")</span><span id="c27a" class="mx lw it mt b gy nd mz l na nb">data_by_genres = CSVGetInfo("/Users/erdemisbilen/Lessons/", "data_by_genres.csv")</span></pre><p id="d55c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，变量<strong class="lb iu"> data_by_artist </strong>保存了对我们的<strong class="lb iu"> CSVGetInfo </strong>类的第一个实例的引用。它是<strong class="lb iu"> CSVGetInfo </strong>类的对象/实例，将<strong class="lb iu">“data _ by _ artists . CSV”</strong>的值存储在<strong class="lb iu"> file_name </strong>(实例变量)中。其他<strong class="lb iu"> </strong>变量<strong class="lb iu">data _ by _ 流派</strong>保存了对我们类的第二个实例的引用，该实例的<strong class="lb iu">“data _ by _ 流派. CSV”</strong>值存储在<strong class="lb iu">文件名</strong>中。尽管它们是用相同的类定义创建的，但是它们在实例变量(属性)中存储了不同的值。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="51d5" class="mx lw it mt b gy my mz l na nb">print(data_by_artists)<br/>print(data_by_genres)</span><span id="8bcf" class="mx lw it mt b gy nd mz l na nb"><strong class="mt iu">#Output</strong><br/>&lt;__main__.CSVGetInfo instance at 0x10b84f248&gt;<br/>&lt;__main__.CSVGetInfo instance at 0x114eb58c0&gt;</span></pre><p id="72c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们打印实例时，我们可以看到它们存储在内存的不同位置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/012e2531dc0a17a470d112f54b1ac561.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7CmVaIBox4d3_iSn"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">彼得·德·卢奇亚在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="00b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们用<strong class="lb iu">【展示 _ 总结】</strong>的方法。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="e7a7" class="mx lw it mt b gy my mz l na nb">data_by_artists.display_summary()<br/>data_by_genres.display_summary()</span><span id="4d0a" class="mx lw it mt b gy nd mz l na nb"><strong class="mt iu">#Output<br/>data_by_artists.csv</strong><br/>&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 27606 entries, 0 to 27605<br/>Data columns (total 15 columns):<br/>artists             27606 non-null object<br/>acousticness        27606 non-null float64<br/>danceability        27606 non-null float64<br/>duration_ms         27606 non-null float64<br/>energy              27606 non-null float64<br/>instrumentalness    27606 non-null float64<br/>liveness            27606 non-null float64<br/>loudness            27606 non-null float64<br/>speechiness         27606 non-null float64<br/>tempo               27606 non-null float64<br/>valence             27606 non-null float64<br/>popularity          27606 non-null float64<br/>key                 27606 non-null int64<br/>mode                27606 non-null int64<br/>count               27606 non-null int64<br/>dtypes: float64(11), int64(3), object(1)<br/>memory usage: 3.2+ MB<br/>None</span><span id="6476" class="mx lw it mt b gy nd mz l na nb"><strong class="mt iu">data_by_genres.csv</strong><br/>&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 2617 entries, 0 to 2616<br/>Data columns (total 14 columns):<br/>genres              2617 non-null object<br/>acousticness        2617 non-null float64<br/>danceability        2617 non-null float64<br/>duration_ms         2617 non-null float64<br/>energy              2617 non-null float64<br/>instrumentalness    2617 non-null float64<br/>liveness            2617 non-null float64<br/>loudness            2617 non-null float64<br/>speechiness         2617 non-null float64<br/>tempo               2617 non-null float64<br/>valence             2617 non-null float64<br/>popularity          2617 non-null float64<br/>key                 2617 non-null int64<br/>mode                2617 non-null int64<br/>dtypes: float64(11), int64(2), object(1)<br/>memory usage: 286.3+ KB<br/>None</span></pre><h1 id="163e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="9fa8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在这篇文章中，我解释了 Python 中类的基础知识。</p><p id="cc7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章中的代码和使用的 CSV 文件可以在<a class="ae ky" href="https://github.com/eisbilen/CSVGetInfo" rel="noopener ugc nofollow" target="_blank"> my GitHub repository </a>中找到。</p><p id="ae05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这篇文章对你有用。</p><p id="534b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读！</p></div></div>    
</body>
</html>