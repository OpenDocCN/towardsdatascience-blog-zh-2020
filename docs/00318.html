<html>
<head>
<title>Translate a Pandas data frame using googletrans library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用googletrans库翻译熊猫数据框</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/translate-a-pandas-data-frame-using-googletrans-library-fb0aa7fca592?source=collection_archive---------6-----------------------#2020-01-10">https://towardsdatascience.com/translate-a-pandas-data-frame-using-googletrans-library-fb0aa7fca592?source=collection_archive---------6-----------------------#2020-01-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/543562a120aa06df2485946ae0816312.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*vRWyllNNRZ7TCWTO.png"/></div><p class="jx jy gj gh gi jz ka bd b be z dk translated">谷歌翻译标志</p></figure><p id="7b21" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> Googletrans </strong>是一个免费的python库，它使用了<strong class="kd iu"> Google Translate API </strong>。在本文中，我们将解释如何使用这个库来翻译Python中的字符串和数据帧。</p><h1 id="9907" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">翻译字符串</h1><p id="f574" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated"><strong class="kd iu"> Googletrans </strong>是一个第三方库，我们可以使用<strong class="kd iu"> pip来安装。</strong>安装完库之后，我们导入模块<strong class="kd iu"> googletrans。</strong></p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="0c99" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">第一步是创建一个<strong class="kd iu">翻译器</strong>对象。然后，我们使用方法<strong class="kd iu"> translate </strong>，将我们想要翻译的字符串作为第一个参数传递。该方法返回一个对象，其属性为<strong class="kd iu">。文本</strong>提供如下翻译后的字符串:</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="6f62" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">可以使用<strong class="kd iu"> <em class="mi"> src </em> </strong>和<strong class="kd iu"> <em class="mi"> dest </em> </strong>参数指定源语言和目的语言。如果没有提供，googletrans会尝试检测该语言并将其翻译成英语。下面，我们把前面的字符串<strong class="kd iu"> <em class="mi"> Hola Mundo </em> </strong>(西班牙语)<strong class="kd iu"> <em class="mi"> </em> </strong>翻译成意大利语和德语。</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="7a1e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们可以使用<strong class="kd iu"> <em class="mi">查询支持的翻译语言。</em>语言</strong>属性。该属性返回一个字典，其中包含了<strong class="kd iu"> googletrans </strong>中可用的语言。</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="0b15" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如前所述，translate方法返回一个翻译后的对象。该对象具有以下属性:</p><figure class="mc md me mf gt ju gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/58fd333ddcd22b1deff456779bffcc54.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/format:webp/1*0NaBGeHXlanHf9s2mcwpag.png"/></div><p class="jx jy gj gh gi jz ka bd b be z dk translated">翻译方法属性</p></figure><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="4573" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">到目前为止，我们已经将一个字符串翻译成了英语、意大利语和德语。现在，我们想完成一项更具挑战性的任务:翻译一个完整的数据帧。</p><h1 id="74db" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">翻译数据帧</h1><p id="9a12" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">我们要翻译的数据框可通过以下链接下载:</p><div class="mk ml gp gr mm mn"><a href="https://datos.madrid.es/portal/site/egob/menuitem.c05c1f754a33a9fbe4b2e4b284f1a5a0/?vgnextoid=454bdc5cc762b410VgnVCM2000000c205a0aRCRD&amp;vgnextchannel=374512b9ace9f310VgnVCM100000171f5a0aRCRD&amp;vgnextfmt=default" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd iu gy z fp ms fr fs mt fu fw is bi translated">马德里阿云达芒托群岛的门户网站</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">马德里大医院的门户网站——移民。西班牙语课程中的人物</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">datos .马德里. es</p></div></div></div></a></div><p id="863e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mw" href="https://datos.madrid.es/portal/site/egob/" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu"> datos.madrid.es </strong> </a>是<a class="ae mw" href="https://en.wikipedia.org/wiki/Madrid" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu"> Madrid </strong> </a> s数据服务，包含近500个数据集，涵盖商业、交通、旅游、文化等广泛话题。目前，越来越多的欧洲城市提供开放的数据门户，允许公司、市民、研究人员和其他公共机构使用这些数据。数据集通常以该国语言提供。就<a class="ae mw" href="https://datos.madrid.es/portal/site/egob/" rel="noopener ugc nofollow" target="_blank"><strong class="kd iu">datos . Madrid . es</strong></a>而言，大部分数据集都有西班牙语版本。</p><p id="8f65" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在本文中，我们翻译了包含2018年第一学期期间在市政办公室参加外国人西班牙语课程的<strong class="kd iu">学生的信息的数据集。该数据集包括关于学生的信息，如他们参加的课程级别、性别、年龄、国籍、教育水平和行政地位。</strong></p><p id="f4a6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先我们从<a class="ae mw" href="https://datos.madrid.es/portal/site/egob/menuitem.c05c1f754a33a9fbe4b2e4b284f1a5a0/?vgnextoid=454bdc5cc762b410VgnVCM2000000c205a0aRCRD&amp;vgnextchannel=374512b9ace9f310VgnVCM100000171f5a0aRCRD&amp;vgnextfmt=default" rel="noopener ugc nofollow" target="_blank"><strong class="kd iu">datos . Madrid . de</strong></a><strong class="kd iu">下载csv文件。</strong>然后，<strong class="kd iu"> </strong>我们使用<a class="ae mw" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html" rel="noopener ugc nofollow" target="_blank"><strong class="kd iu">Pandas . read _ CSV</strong></a>函数将其加载到Pandas数据框中，并使用<a class="ae mw" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.head.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu"> pandas可视化前5行。data frame . head</strong></a><strong class="kd iu"/>方法。</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi mx"><img src="../Images/9de6642a389bc842c7b06fbda119e527.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NaE8MkFFw5fnl4AARWRiig.png"/></div></div></figure><p id="1dc6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">数据集包含8栏:(1)级别，(2)性别，(3) Edad，(4)行政状况，(5)国家地理，(6)地区地理，(7)专业类别，和(8)研究级别。</p><p id="7c0d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，我们从翻译开始！首先，我们使用<a class="ae mw" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.rename.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">熊猫来翻译列名。DataFrame.rename </strong> </a>功能如下:</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="34c5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">使用<a class="ae mw" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.columns.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">的熊猫。DataFrame.columns </strong>的</a>属性，我们可以检查翻译是否正确进行。在本文中，我们只是翻译列名，但还需要进一步的数据清理(用下划线代替空格，用小写字母代替大写字母)。</p><p id="e592" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">翻译完列名后，我们翻译其余的数据(单元格值)。首先，我们创建一个字典，其中的关键字是英语术语，值是西班牙语的原始术语。</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="1d0e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在改变数据框架之前，我们检查由<strong class="kd iu"> googletrans </strong>所做的翻译。正如我们所观察到的，有些术语翻译不正确(例如A2或A2 DELE)。在这种情况下，我们以下列方式手动更改它们:</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="0155" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，我们可以通过使用<strong class="kd iu">熊猫来修改数据帧。DataFrame.replace </strong>函数，使用之前创建的字典作为函数的输入。</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nc"><img src="../Images/b32240d3013875e88898a45f00c2c5e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9uZIv66ypFuuAwZuXalk1w.png"/></div></div><p class="jx jy gj gh gi jz ka bd b be z dk translated">英语数据框架</p></figure><p id="2b1b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">正如我们所观察到的，整个数据都被翻译了💪工作完成:)</p><h1 id="5ac1" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">有趣的读物</h1><ul class=""><li id="22bc" class="nd ne it kd b ke lx ki ly km nf kq ng ku nh ky ni nj nk nl bi translated"><a class="ae mw" href="https://pypi.org/project/googletrans/" rel="noopener ugc nofollow" target="_blank">https://pypi.org/project/googletrans/</a></li><li id="83c6" class="nd ne it kd b ke nm ki nn km no kq np ku nq ky ni nj nk nl bi translated"><a class="ae mw" href="http://zetcode.com/python/googletrans/" rel="noopener ugc nofollow" target="_blank">http://zetcode.com/python/googletrans/</a></li><li id="f859" class="nd ne it kd b ke nm ki nn km no kq np ku nq ky ni nj nk nl bi translated"><a class="ae mw" href="https://www.codeproject.com/Tips/1236705/How-to-Use-Google-Translator-in-Python" rel="noopener ugc nofollow" target="_blank">https://www . code project . com/Tips/1236705/How-to-Use-Google-Translator-in-Python</a></li></ul><p id="154b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">感谢阅读！！🍀</p></div></div>    
</body>
</html>