<html>
<head>
<title>Using Github Pages for creating global APIs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Github 页面创建全局 API</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-github-pages-for-creating-global-api-76b296c4b3b5?source=collection_archive---------17-----------------------#2020-04-01">https://towardsdatascience.com/using-github-pages-for-creating-global-api-76b296c4b3b5?source=collection_archive---------17-----------------------#2020-04-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e007" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这篇文章是关于创建一个全球托管的静态 API 并将其用于你的网站的 API。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/053cceee8684aa58e0b48a3869027525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Euo0Y1oxpa7JOg_OrL9omw.jpeg"/></div></div></figure><p id="35f2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">所以，我意外地发现，当我们访问任何一个<strong class="kw iu"> GitHub Pages </strong>站点时，我们可以返回<strong class="kw iu"> JSON </strong>响应，而不是标准的 HTML。所以，我想与其创建一个静态网站，为什么不做一些开发的乐趣；)并为我需要的数据创建一个 REST API。</p><p id="d3ef" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">例如，如果您在终端上键入以下内容</p><pre class="kj kk kl km gt lq lr ls lt aw lu bi"><span id="b79d" class="lv lw it lr b gy lx ly l lz ma"><strong class="lr iu">curl https://gauravghati.github.io/apis/home.json</strong></span></pre><p id="bcdd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">给出以下结果:</p><pre class="kj kk kl km gt lq lr ls lt aw lu bi"><span id="5047" class="lv lw it lr b gy lx ly l lz ma">{<br/>    "name": "Gaurav Ghati",<br/>    "phone": "+91 9067365762",<br/>    "mail": "gauravghati225@gmail.com",<br/><br/>    "bio": "MY BIO",<br/>    "fun": "FUN STATEMENT",<br/><br/>    "github": "https://github.com/gauravghati/",<br/>    "twitter": "https://twitter.com/GauravGhati/",<br/>    "linkedin": "http://linkedin.com/in/gauravghati/",<br/><br/>    "aboutme": {<br/>        "para1": "This is Paragraph 1",<br/>        "para2": "This is Paragraph 2"<br/>    },<br/><br/>    "volunteer": {<br/>        "tfi": {<br/>            "heading": "Teach For India",<br/>            "description": "description of TFI"<br/>        },<br/>        "pisb": {<br/>            "heading": "PICT IEEE Student Branch",<br/>            "description": "description of PISB"<br/>        }<br/>    }<br/>}</span></pre><p id="3482" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我在我的网站上使用了这个 JSON API，现在每次当网站加载时，它都会请求 Github pages 链接，从那个 URL 获取数据，并在网站上显示获取的数据！</p><p id="360c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，每当我想编辑我网站上的任何数据时，我只需更改 JSON 文件并将它们推送到我的 Github 页面<a class="ae mb" href="http://github.com/gauravghati/gauravghati.github.io/" rel="noopener ugc nofollow" target="_blank"> repo </a>，这些更改就会自动显示在主网站上。</p><p id="faac" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">可以查看网站的代码，<a class="ae mb" href="https://github.com/gauravghati/dotworld" rel="noopener ugc nofollow" target="_blank">这里</a>。在姜戈。</p><h1 id="559c" class="mc lw it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated"><strong class="ak">现在，如何创建自己的 API？</strong></h1><p id="fbfa" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">通过使用 Github，我们可以在那里托管我们的 JSON 文件数据，因为它是一个静态站点，唯一的限制是它只支持 GET 请求。</p><h2 id="91ea" class="lv lw it bd md my mz dn mh na nb dp ml ld nc nd mn lh ne nf mp ll ng nh mr ni bi translated">设置 Github 页面</h2><p id="0837" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">在 Github 上创建一个新的存储库，存储库名称为"<strong class="kw iu">Github _ username . Github . io</strong>"之后，您的新 GitHub 页面库就准备好了。该存储库的 URL 将是</p><blockquote class="nj"><p id="ff66" class="nk nl it bd nm nn no np nq nr ns lp dk translated"><strong class="ak">https://github _ username . github . io/</strong></p></blockquote><h2 id="3979" class="lv lw it bd md my nt dn mh na nu dp ml ld nv nd mn lh nw nf mp ll nx nh mr ni bi translated">准备 JSON 文件</h2><p id="0b81" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">克隆上述存储库，或者如果您已经在本地保存了 JSON 文件，运行该文件夹中的<strong class="kw iu"> <em class="ny"> git init </em> </strong>并添加上述远程存储库，然后提交并推送您的。json 文件。将文件推送到那里后，您可以在点击 URL 时访问 JSON 响应:</p><blockquote class="nj"><p id="23ae" class="nk nl it bd nm nn no np nq nr ns lp dk translated">https://github _ 用户名. github.io/json_file.json</p></blockquote><h2 id="b61e" class="lv lw it bd md my nt dn mh na nu dp ml ld nv nd mn lh nw nf mp ll nx nh mr ni bi translated">通过 JSON API 访问数据</h2><p id="617f" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">我们点击 URL 后得到的数据是 JSON 对象的形式。我们可以在呈现 HTML 页面时直接将它发送到前端。</p><p id="5dc9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当你的后端在<strong class="kw iu"> python </strong>中，即在<strong class="kw iu"> Django 或 Flask </strong>中，你可以访问 JSON 文件的数据，如下所示:</p><pre class="kj kk kl km gt lq lr ls lt aw lu bi"><span id="ae9b" class="lv lw it lr b gy lx ly l lz ma">import urllib.request, json</span><span id="595c" class="lv lw it lr b gy nz ly l lz ma">github_link = "https://github_username.github.io/json_file.json"</span><span id="8bb7" class="lv lw it lr b gy nz ly l lz ma">with urllib.request.urlopen(github_link) as url: <br/>   json_data = json.loads(url.read().decode())</span><span id="0a64" class="lv lw it lr b gy nz ly l lz ma">print(json_data)</span></pre><p id="1559" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这段代码将输出所有 JSON 数据。</p><p id="2bc0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您想要使用<strong class="kw iu"> JQuery </strong>获取<strong class="kw iu"> JavaScript </strong>中的数据，您可以访问 JSON 文件的数据，如下所示:</p><pre class="kj kk kl km gt lq lr ls lt aw lu bi"><span id="6ec1" class="lv lw it lr b gy lx ly l lz ma">let github_link = ‘https://github_username.github.io/jsonfile.json';</span><span id="ce52" class="lv lw it lr b gy nz ly l lz ma">$.getJSON(github_link, function(data) {<br/>     //data is the JSON string<br/>     console.log(data);<br/>});</span></pre><p id="a2b7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这就是你如何使用 Github 页面来创建全局 API。</p><blockquote class="oa ob oc"><p id="f3ea" class="ku kv ny kw b kx ky ju kz la lb jx lc od le lf lg oe li lj lk of lm ln lo lp im bi translated">感谢您的阅读，您可以通过<a class="ae mb" href="http://linkedin.com/in/gauravghati/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae mb" href="https://twitter.com/GauravGhati/" rel="noopener ugc nofollow" target="_blank"> Twitter </a>或我的<a class="ae mb" href="http://gauravg.in" rel="noopener ugc nofollow" target="_blank">作品集</a>与我联系</p></blockquote></div></div>    
</body>
</html>