<html>
<head>
<title>Cohen’s Kappa</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">科恩的卡帕</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/cohens-kappa-9786ceceab58?source=collection_archive---------1-----------------------#2020-02-27">https://towardsdatascience.com/cohens-kappa-9786ceceab58?source=collection_archive---------1-----------------------#2020-02-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="58bb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">理解科恩的卡帕系数</h2></div><p id="30ba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我第一次在Kaggle上看到Cohen的kappa是在<a class="ae le" href="https://www.kaggle.com/c/data-science-bowl-2019" rel="noopener ugc nofollow" target="_blank">数据科学碗</a>比赛期间——尽管我没有积极参加比赛，而且指标是二次加权Kappa，但我还是用一个内核来试验这个指标，看看它是如何工作的，因为我以前从未见过它。利物浦<a class="ae le" href="https://www.kaggle.com/c/liverpool-ion-switching/overview/description" rel="noopener ugc nofollow" target="_blank">大学离子交换</a>竞赛的启动为我提供了另一个更好地理解这一指标的机会，尽管这一次我将积极参赛，因为这是我告诉自己今年将做得更多的事情。既然我已经让自己对公众负责，让我们来打破科恩的卡帕。</p><p id="859a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于那些关注我的帖子的人，你会知道我喜欢把我的帖子分成更小的部分来理解，然后把它们连接起来。这篇文章也不例外，到最后，你将能够:</p><ul class=""><li id="c127" class="lf lg it kk b kl km ko kp kr lh kv li kz lj ld lk ll lm ln bi translated">区分信度和效度</li><li id="e80c" class="lf lg it kk b kl lo ko lp kr lq kv lr kz ls ld lk ll lm ln bi translated">解释科恩的卡帕</li><li id="d305" class="lf lg it kk b kl lo ko lp kr lq kv lr kz ls ld lk ll lm ln bi translated">评估科恩的卡帕</li></ul></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><p id="c0c4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">效度和信度</strong></p><p id="c78c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在进入科恩的Kappa之前，我想先奠定一个关于有效性和可靠性的重要基础。当我们谈论有效性时，我们关心的是测试在多大程度上测量了它声称要测量的东西，或者换句话说，测试有多准确。另一方面，可靠性更关心的是测试在一致的条件下产生相似结果的程度，或者换句话说，测试的精确度。</p><p id="0018" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">利用离子转换竞争问题，我将把这两种测量方法放在一起看，这样我们就知道如何区分它们。</p><p id="d7fa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">利物浦大学的问题是，当离子通道打开时，现有的检测方法既慢又费力，因此他们希望数据科学家采用机器学习技术来快速自动检测原始数据中的离子通道当前事件，因此他们为我们提供了激动人心的<a class="ae le" href="https://www.kaggle.com/c/liverpool-ion-switching/overview/description" rel="noopener ugc nofollow" target="_blank">离子切换</a>比赛。有效性将测量所获得的分数是否代表离子通道是否打开，可靠性将测量所获得的分数在识别通道打开或关闭时是否一致。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/b213071a20f6a4f616bc92dc98ae5c51.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*GQt0OpujfM_XXiUBtBs7GQ.png"/></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">图1:<em class="mn">可靠性</em>和有效性的飞镖靶示例。《研究方法知识库》，第二版。互联网WWW页面，网址:【https://www.socialresearchmethods.net/kb/ T2】(截至2020年1月30日的最新版本)。</p></figure><p id="cbb9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了使实验结果有用，实验的观察者必须对其解释达成一致，否则观察者的主观解释就会起作用，因此良好的可靠性是很重要的。然而，信度可以分为不同的类型，<strong class="kk iu">评分者内信度</strong>和<strong class="kk iu">评分者间信度。</strong></p><p id="7f4e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">评分者内部的可靠性与同一个人所做的不同测量之间的一致程度有关。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/ac56be36c0c51fc09918f3fcdbc498d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*P8EczIPlEjFFufZd30e6MA.png"/></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">图2:评分者内部信度示意图</p></figure><p id="71bc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">评分者之间的可靠性与两个或更多评分者之间的一致程度有关。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/045cbc0f2eced092ed78d40043aab0ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*nmMxcIdENM-oXbhpqfSy-g.png"/></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">图3:评分者间信度示意图</p></figure></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><p id="4dd6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">什么是科恩的Kappa？</strong></p><blockquote class="mq mr ms"><p id="4451" class="ki kj ma kk b kl km ju kn ko kp jx kq mt ks kt ku mu kw kx ky mv la lb lc ld im bi translated">Cohen的kappa测量两个评分者之间的一致程度，他们将<em class="it"> N </em>个项目分成<em class="it"> C </em>个互斥的类别。</p></blockquote><p id="9919" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一个简单的想法是，科恩的Kappa是对评价同一事物的两个评价者的可靠性的定量测量，根据评价者偶然同意的频率进行了校正。</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><p id="a9b2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">评估科恩的Kappa </strong></p><p id="08db" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">kappa的值可以小于0(负值)。0分意味着评分者之间随机达成一致，而1分意味着评分者之间完全一致。因此，小于0的分数意味着一致性小于随机机会。下面，我将向你展示解决这个问题的公式，但重要的是，你要熟悉图4，以便有更好的理解。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mw"><img src="../Images/a2d50bee38e63c9cdaf7032cc335e8c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-epOFf318-TTB70lvFejzA.png"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">图4:用于解释评定者结果的N×N网格</p></figure><p id="c91a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我突出显示两个网格的原因将在一会儿变得清楚，但是现在，让我分解每个网格。</p><p id="4fa2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> A </strong> = &gt;两位评分者都说正确的例子总数。评分者们意见一致。</p><p id="67c2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> B </strong> = &gt;评定者2认为不正确，但评定者1认为正确的实例总数。这是一个分歧。</p><p id="c499" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> C </strong> = &gt;评定者1认为不正确，但评定者2认为正确的实例总数。这也是一个分歧。</p><p id="3915" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">两个评分者都说不正确的情况总数。评分者都同意。</p><p id="aa24" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了计算出kappa值，我们首先需要知道一致的概率(这解释了为什么我突出了一致对角线)。这个公式是通过将评分者同意的测试次数相加，然后除以测试总数得出的。使用图4 中的例子，这意味着(A + D)/(A + B+ C+ D)。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/5d2d0d8f48d5ecf1617b54b79c7bed7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*_uDaczAEyiG-RIq3zJxmig.png"/></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">图5:达成一致的可能性</p></figure><p id="5eda" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">完美！下一步是计算出随机一致的概率。使用<em class="ma">图4 </em>作为指导，期望值是评价人1说正确的总次数除以实例总数，乘以评价人2说正确的总次数除以实例总数，加上评价人1说不正确的总次数乘以评价人2说不正确的总次数。这需要考虑很多信息，所以在图6中，我用上面的网格列出了这个等式。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi nc"><img src="../Images/0b09eb2e2ecb52b8cf23c88fe6a44c1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D7XAhzKPZTVzJkX3uTnXSw.png"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">图6:推导随机一致概率的公式</p></figure><p id="e423" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，Cohen的Kappa公式是一致概率去掉随机一致概率除以1减去随机一致概率。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/856b241a9b1f9c39e0175770626617ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*mZBzLXVhttyj0JPl2ncGsA.png"/></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">图7:科恩的卡帕系数公式。</p></figure><p id="1798" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">太好了！你现在能够区分可靠性和有效性，解释科恩的kappa并对其进行评估。这个统计非常有用，尽管自从我理解了它是如何工作的，我现在相信当优化算法到一个特定的度量时，它可能没有被充分利用。此外，科恩的kappa也很好地衡量了多类别和不平衡的类别问题。</p><p id="7065" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">附言</strong>如果你想让我报道一些与数据科学有关的事情，你可以直接在Twitter上给我发消息<a class="ae le" href="https://twitter.com/KurtisPykes" rel="noopener ugc nofollow" target="_blank"> @KurtisPykes </a>或者回复这个帖子。</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><p id="2d6a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">维基百科定义。科恩的卡帕头。<a class="ae le" href="https://en.wikipedia.org/wiki/Cohen%27s_kappa" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Cohen%27s_kappa</a></p><p id="1ac1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">薄荷TMS教程由基督教霍尔曼。(2015年4月5日)。<em class="ma">卡帕系数。</em><a class="ae le" href="https://www.youtube.com/watch?v=fOR_8gkU3UE" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=fOR_8gkU3UE</a></p><p id="ab3a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">查尔斯·赞恩茨。<em class="ma">科恩的卡帕。</em><a class="ae le" href="http://www.real-statistics.com/reliability/interrater-reliability/cohens-kappa/" rel="noopener ugc nofollow" target="_blank">http://www . real-statistics . com/reliability/inter rater-reliability/cohens-kappa/</a></p></div></div>    
</body>
</html>