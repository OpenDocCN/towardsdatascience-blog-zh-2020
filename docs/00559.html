<html>
<head>
<title>How good are your forecasts?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你的预测有多准确？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-good-are-your-forecasts-a37cb9cf5c1d?source=collection_archive---------19-----------------------#2020-01-16">https://towardsdatascience.com/how-good-are-your-forecasts-a37cb9cf5c1d?source=collection_archive---------19-----------------------#2020-01-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/b9317c9fa9bba108f71b271a84e59a30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yb034jeoPIIbefot"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">Artur Matosyan 在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class=""/><div class=""><h2 id="d468" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">为您的预测选择正确的误差指标</h2></div><h1 id="5203" class="ky kz jj bd la lb lc ld le lf lg lh li kp lj kq lk ks ll kt lm kv ln kw lo lp bi translated">介绍</h1><p id="8507" class="pw-post-body-paragraph lq lr jj ls b lt lu kk lv lw lx kn ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">你的预测几乎总是错误的。无论你是在试图预测苹果下周的股价、巴西明年的能源消耗，还是你公司未来几个月的收入，几乎都不可能击中靶心:你肯定会弄错，哪怕只是很小的误差。一个非常重要的问题是如何测量误差。一个+50 的错误和一个-50 的错误一样糟糕吗？一个+100 的错误是一个+50 的错误的两倍吗？</p><p id="c156" class="pw-post-body-paragraph lq lr jj ls b lt mm kk lv lw mn kn ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">正确的误差度量将主要取决于您的数据、您的目标和您的业务环境。在这里，我将介绍一些最常见的测量误差的方法(也有一些不常见的)，它们的优点和缺点，以及在哪些特定情况下它们是可取的或不可取的。</p><h1 id="3b01" class="ky kz jj bd la lb lc ld le lf lg lh li kp lj kq lk ks ll kt lm kv ln kw lo lp bi translated">开始之前的一些重要概念…</h1><h2 id="250b" class="mr kz jj bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">天真的模型</h2><p id="dbc7" class="pw-post-body-paragraph lq lr jj ls b lt lu kk lv lw lx kn ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">朴素模型是你能想到的做出预测的最简单的模型，它被用作比较所有其他模型的基线。通常，这意味着用你最后的观察作为你对下一个时期的预测。所以如果有人问你你的公司这个月会赚多少钱，你会说:“和上个月一样”。此外，如果您正在处理季节性数据，那么您将使用上一季度的同一时期(因此您预测今年 12 月的销售额与去年 12 月的销售额相同)。好像不是很好的模式吧？事实上，要大幅度击败它是非常困难的，尤其是对于非常复杂的模型。</p><p id="1718" class="pw-post-body-paragraph lq lr jj ls b lt mm kk lv lw mn kn ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">这是一个有用的分析，可以确保你的预测过程是增值的，或者你是否应该坚持简单天真的预测。</p><h2 id="e397" class="mr kz jj bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">步行验证</h2><p id="5ff3" class="pw-post-body-paragraph lq lr jj ls b lt lu kk lv lw lx kn ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">当处理时间序列时，我们使用以前的信息来估计未来，有时如果我们对下周或未来 10 周进行预测，会产生巨大的差异。因此，在您的模型评估步骤中，您应该尝试复制将在模型实施和预测使用后使用的相同过程。假设您必须制作一个模型来估计您公司的销售额，并且该模型将在每月的第一天用来估计下个月的销售额。为了测试您的模型，您应该使用相同的方法，这意味着您将忽略上个月的观察值来计算每个月的估计值(因为在应用您的模型时您将无法访问该信息)，但仅此而已。</p><p id="7b0f" class="pw-post-body-paragraph lq lr jj ls b lt mm kk lv lw mn kn ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">这意味着，如果您对数据应用一次传统的训练/测试分割，并尝试评估您的预测，您将不会获得准确的结果。相反，您应该重复训练/测试分割过程，以模拟进行预测的实际条件。在我们之前的示例中，如果您正在测试 2019 年的数据，您将首先使用 2018 年 12 月之前的所有数据作为您的训练集，并预测 2019 年 1 月。然后，为了预测 2 月份，我们将 2019 年 12 月添加到我们的训练集中，以此类推。</p><h1 id="acfc" class="ky kz jj bd la lb lc ld le lf lg lh li kp lj kq lk ks ll kt lm kv ln kw lo lp bi translated">误差度量</h1><h2 id="8f9a" class="mr kz jj bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">注释</h2><p id="e27c" class="pw-post-body-paragraph lq lr jj ls b lt lu kk lv lw lx kn ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">对于下面的所有公式，我们将使用以下符号:</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/7fc0afe8145801c7ef930ff2f5a000b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*Mr2hZabAa1Z2FdVZ1A5tmg@2x.png"/></div></figure><h2 id="a248" class="mr kz jj bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">均方根误差(RMSE)</h2><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/5ebf3d2487879b6e501609bd51841d8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*WridUlhtMBd-88EDiNEWYw@2x.png"/></div></figure><p id="3142" class="pw-post-body-paragraph lq lr jj ls b lt mm kk lv lw mn kn ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">RMSE 将误差(预测值和实际值之间的差异)进行平方。然后，将它们平均，并计算平均值的平方根。这种双重转换有两个效果:它给较大的误差更大的权重，并且它阻止正负误差相互抵消，因为它们都将变成正的。它可以用来比较同一系列的不同预测，但它不是很直观，所以我不会在管理演示中使用它。</p><h2 id="46be" class="mr kz jj bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">平均绝对误差</h2><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/9710def249fd3744aeedf82f3e67923f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*1pvIwcseFrJqZYkmwfutaA@2x.png"/></div></figure><p id="37fe" class="pw-post-body-paragraph lq lr jj ls b lt mm kk lv lw mn kn ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">也称为平均绝对偏差(MAD)，MAE 对绝对值中的误差求和，因此负差不会抵消正差，而是将它们平均。它非常直观，所以很容易解释。它的一个缺点是依赖于规模，也就是说，它会根据你预测的收入是美元还是欧元而变化。同样，这不是很直观，但对于计算另一个误差指标很有用，我们将在下面看到。</p><h2 id="9951" class="mr kz jj bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">平均绝对百分比误差(MAPE)</h2><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/4c159b0123a88d7b35fa58f8d871391e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*ipoF9Uul5Hb3RRWMbrfi3w@2x.png"/></div></figure><p id="4064" class="pw-post-body-paragraph lq lr jj ls b lt mm kk lv lw mn kn ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">MAPE 与 MAE 非常相似，不同之处在于它与比例无关，因为我们将其除以实际值。这可能是商业预测中最常用的误差指标，因为它非常容易解释。然而，有一个警告:它有时可能有点误导，让你认为它总是保持在 0 到 100%之间。尽管它总是大于 0，但也可能远高于 100%。另一个不方便的地方是当你的观测值等于 0 时，这意味着你不能把它们作为分数的分母。在这种情况下，有些人会忽略这些观察结果，但是你应该知道，例如，当你处理间歇需求(很多值等于 0)时，MAPE 不是一个足够的度量。</p><p id="f5d5" class="pw-post-body-paragraph lq lr jj ls b lt mm kk lv lw mn kn ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">另一个主要缺点是它的不对称性:它对过度预测的惩罚比对预测不足的惩罚更重，导致在比较不同模型时可能出现偏差。</p><p id="ac66" class="pw-post-body-paragraph lq lr jj ls b lt mm kk lv lw mn kn ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">尽管它有缺点，但它非常受欢迎，主要是因为它直观且易于解释。因此，您可以使用其他指标来评估您的预测，但在演示文稿中使用 MAPE 进行管理。</p><h2 id="365f" class="mr kz jj bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">平均绝对标度误差</h2><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nd"><img src="../Images/4ef074dc613a3b7fcd20b3bf5ace3b83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*pCOCvgsO7TN-5gUUMwd0MQ@2x.png"/></div></div></figure><p id="5ed2" class="pw-post-body-paragraph lq lr jj ls b lt mm kk lv lw mn kn ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">MASE 增加了一个有趣的视角:它将你的模型误差与简单模型的误差进行比较。它总是正的，尽管它可以无限大，但是如果它大于 1，就意味着你的模型实际上比原始模型表现得更差，因此没有增加价值。</p><p id="90b2" class="pw-post-body-paragraph lq lr jj ls b lt mm kk lv lw mn kn ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">它的价值来自于这样一个事实，即它是唯一一个实际使用天真预测的指标，因此考虑到了数据固有的<em class="ni">可预测性</em>。</p><h2 id="a122" class="mr kz jj bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">平均误差/平均值</h2><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/29ef64d193b3c5640bf835d2366f446d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*YF_YE88RdbSiqRq92gvpTw@2x.png"/></div></figure><p id="d3f8" class="pw-post-body-paragraph lq lr jj ls b lt mm kk lv lw mn kn ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">也被称为 MAD/MEAN，它是你的观察值的平均误差和平均值之间的分界点。这是创建 MAE 的无标度版本的尝试。</p><h1 id="0c46" class="ky kz jj bd la lb lc ld le lf lg lh li kp lj kq lk ks ll kt lm kv ln kw lo lp bi translated">结论和进一步阅读</h1><p id="fc25" class="pw-post-body-paragraph lq lr jj ls b lt lu kk lv lw lx kn ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我们已经看到了许多衡量我们的预测有多好的方法，以及我们应该在什么时候使用它们。理想情况下，你不应该只依赖一个指标，而是依赖 2 个或 3 个:一个简单的无标度指标来比较你的模型；另一个是使用天真的预测来检查你的预测过程是否增加了价值；最后一种更直观，更容易理解，可以在演示中使用。</p><p id="043f" class="pw-post-body-paragraph lq lr jj ls b lt mm kk lv lw mn kn ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">如果你想了解更多关于商业预测的知识，我推荐你从这两本书开始:《<em class="ni">商业预测:实际问题和解决方案</em>》和《<em class="ni">商业预测交易</em>》，这两本书都是迈克尔·吉利兰写的。</p><p id="23ce" class="pw-post-body-paragraph lq lr jj ls b lt mm kk lv lw mn kn ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">如果你想从整体上了解更多关于预测工作流程的信息，这篇<a class="ae jg" rel="noopener" target="_blank" href="/a-lean-forecasting-workflow-1a8a5eb2d4ab">文章</a>展示了一种精益方法。</p></div></div>    
</body>
</html>