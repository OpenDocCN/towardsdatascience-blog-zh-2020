<html>
<head>
<title>Regular Expressions in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中的正则表达式</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/regular-expressions-in-python-7c991daab100?source=collection_archive---------25-----------------------#2020-03-29">https://towardsdatascience.com/regular-expressions-in-python-7c991daab100?source=collection_archive---------25-----------------------#2020-03-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="49f7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">数据科学的正则表达式</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1590db615bfc75642d57c703eb722c92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cQvb6oxhSUFDnfNS097ZaA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.pexels.com/photo/coffee-notebook-pen-writing-34587/" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="6014" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正则表达式是定义文本中搜索模式的特殊字符序列。在这篇文章中，我们将讨论如何使用 python 中最基本的正则表达式方法之一“re.findall()”来提取字符串表达式的开头。</p><p id="1d03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始吧！</p><p id="39ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们导入 python 正则表达式模块“re”:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="0659" class="ma mb it lw b gy mc md l me mf">import re</span></pre><p id="8039" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们有以下字符串:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9a41" class="ma mb it lw b gy mc md l me mf">test_string1 = 'Python is Amazing!'</span></pre><p id="6621" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以将表达式 r "^\w+ "传递给' re.findall()'，以及我们的字符串，这将返回我们的输入字符串的开头:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="1dc1" class="ma mb it lw b gy mc md l me mf">regex_1 = re.findall(r"^\w+",test_string1)<br/>print(regex_1)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/7fd300c6bde9e17948f75ae0611b1580.png" data-original-src="https://miro.medium.com/v2/resize:fit:304/format:webp/1*153AGFkB5EcDExJLYdhr6g.png"/></div></figure><p id="38f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在表达式 r“^\w+”中，字符'^'对应于字符串的开头，而' \w+'在字符串中查找字母数字字符。</p><p id="3846" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们去掉'^'，我们会得到:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="ca9f" class="ma mb it lw b gy mc md l me mf">regex_1 = re.findall(r"\w+",test_string1)<br/>print(regex_1)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/aaf22ced06640b70fb785e5335e332b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*EbBWhl4H8kZlvXYS-KGVIA.png"/></div></div></figure><p id="bfde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们试着拉另一个字符串示例的开头:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="3512" class="ma mb it lw b gy mc md l me mf">test_string2 = 'Java is Amazing!'</span></pre><p id="84da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们应用' re.findall()'来查找该字符串的第一个单词:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="c3a0" class="ma mb it lw b gy mc md l me mf">regex_2 = re.findall(r"^\w+",test_string2)<br/>print(regex_2)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/cde5222f60f1e2fc7bdeaa28ef90fafc.png" data-original-src="https://miro.medium.com/v2/resize:fit:232/format:webp/1*9jKx2eO1ta-IPSGXB9dGhA.png"/></div></figure><p id="c32d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，让我们考虑一个更现实的场景，在这个场景中，这个方法可能是有用的。假设我们有一个 YouTube 视频标题和相应的 YouTube 视图的列表。我们可能对分析视频标题的第一个单词和相应的视频观看次数之间的关系感兴趣。考虑下面的标题/视图元组列表:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="101c" class="ma mb it lw b gy mc md l me mf">youtube_titles = [("How to Tell if We're Beating COVID-19", 2200000), ("Extreme Closet Clean Out",326000), ("This is $1,000,000 in Food",8800000), ("How To Tell If Someone Truly Loves You ", 2800000), ("How to Tell Real Gold from Fake", 2300000), ("Extreme living room transformation ", 25000)]</span></pre><p id="6604" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以用下面的方法找到每个标题的第一个单词:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="003c" class="ma mb it lw b gy mc md l me mf">for title in youtube_titles:<br/>    print(re.findall(r"^\w+",title[0])[0])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/7c917588fb7b46e9984aec99f896763c.png" data-original-src="https://miro.medium.com/v2/resize:fit:264/format:webp/1*vRpEgZebsr6Ja_gp70LKLA.png"/></div></figure><p id="6f13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以将这些值追加到列表中:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="32c0" class="ma mb it lw b gy mc md l me mf">first_words = []<br/>for title in youtube_titles:<br/>    first_words.append(re.findall(r"^\w+",title[0])[0])<br/>print(first_words)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/eb4d82a401810b066610df85f1a9c184.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jvlxov91dr6hAtOTaUI0XA.png"/></div></div></figure><p id="3965" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以将视图附加到列表中:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="2d3c" class="ma mb it lw b gy mc md l me mf">first_words = []<br/>views = []<br/>for title in youtube_titles:<br/>    first_words.append(re.findall(r"^\w+",title[0])[0])<br/>    views.append(title[1])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ml"><img src="../Images/b720d5a2182e30b31c2c5b8f3b2e599c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MoF-A2196hBa3_o2N59nVQ.png"/></div></div></figure><p id="f8d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们可以创建首字值和视频视图的数据框:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="66ad" class="ma mb it lw b gy mc md l me mf">import pandas as pd<br/>df = pd.DataFrame({'first_words': first_words, 'views':views})<br/>print(df)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/86f7d34a9a48100c3a053ab80f40f23a.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*e1i56R_6nudktTPfIdduNA.png"/></div></figure><p id="0b69" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们可以执行分组，并计算每个第一个词的平均浏览量:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9c1b" class="ma mb it lw b gy mc md l me mf">df = df.groupby('first_words')['views'].mean()<br/>print(df)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/f17f82c74794f120405232b6353a14a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:688/format:webp/1*Sbx9tT7WcDQt6c_lgYOGEw.png"/></div></div></figure><p id="1ebd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们也按降序对这些值进行排序:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="ccd3" class="ma mb it lw b gy mc md l me mf">df = df.groupby('first_words')['views'].mean().sort_values(ascending = False)<br/>print(df)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/7bea8d47d24dd96bff2bf6c1dcd856c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*LT92NJBwBJfnu_FHYe-91w.png"/></div></figure><p id="6bc5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设这些结果来自足够大的数据集，比如有数千个标题和观看次数，这种类型的分析可以帮助我们选择最佳的 YouTube 视频标题。</p><p id="0167" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将在这里停下来，但是我鼓励您自己尝试使用“re.findall()”方法。</p><h1 id="56a2" class="mp mb it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">结论</h1><p id="5abe" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">总之，在这篇文章中，我们讨论了如何使用 python 中正则表达式模块的“re.findall()”方法。我们将该方法应用于两个简单的字符串，以提取每个字符串的第一个单词。然后，我们考虑了一个更现实的用例，我们使用该方法提取 YouTube 视频标题的第一个词，并计算每个第一个词对应的平均视频浏览量。我希望你觉得这篇文章有趣/有用。这篇文章的代码可以在<a class="ae ky" href="https://github.com/spierre91/medium_code/blob/master/regular_expressions/regex_tutorial.py" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。感谢您的阅读！</p></div></div>    
</body>
</html>