<html>
<head>
<title>Scraping Twitter data using python for NLP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用python为NLP抓取Twitter数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/scraping-twitter-data-using-python-for-nlp-d898e14cacfe?source=collection_archive---------30-----------------------#2020-04-15">https://towardsdatascience.com/scraping-twitter-data-using-python-for-nlp-d898e14cacfe?source=collection_archive---------30-----------------------#2020-04-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a52f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何用几行代码从twitter创建自己的数据集。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7f7441933f853d7050559c4c61847cd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HZaIHRryNgxjobiQ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">约书亚·阿拉贡在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><blockquote class="kz la lb"><p id="531d" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">“我们相信上帝。所有其他人都必须带数据。”— <a class="ae ky" href="https://www.deming.org/theman/overview" rel="noopener ugc nofollow" target="_blank">爱德华·戴明</a></p></blockquote><p id="2df7" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果您是从NLP这个不可思议的领域开始，那么您会想要接触真实的文本数据，您可以使用这些数据来研究您所学到的概念。Twitter是这类数据的绝佳来源。在这篇文章中，我将展示一个刮刀，你可以用它来刮你感兴趣的话题的推文，一旦你获得了你的数据集，你就会变得很无聊。</p><p id="d6d9" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">我使用了这个神奇的库，你可以在这里找到<a class="ae ky" href="https://github.com/bisguzar/twitter-scraper" rel="noopener ugc nofollow" target="_blank"/>。我将介绍如何安装和使用这个库，并建议一些使用并行化使整个过程更快的方法。</p><h1 id="2a66" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">装置</h1><p id="39dc" class="pw-post-body-paragraph lc ld it lf b lg mu ju li lj mv jx ll lz mw lo lp ma mx ls lt mb my lw lx ly im bi translated">可以使用pip3通过以下命令安装该库</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="57b5" class="ne md it na b gy nf ng l nh ni">pip3 install twitter_scraper</span></pre><h1 id="5a99" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">创建关键字列表</h1><p id="0460" class="pw-post-body-paragraph lc ld it lf b lg mu ju li lj mv jx ll lz mw lo lp ma mx ls lt mb my lw lx ly im bi translated">下一个任务是创建一个你想用来抓取twitter的关键词列表。你会在twitter上搜索这些关键词，因此重要的是你要列出一个你感兴趣的关键词的综合列表。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h1 id="ef4c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">抓取一个关键词的推文</h1><p id="3b51" class="pw-post-body-paragraph lc ld it lf b lg mu ju li lj mv jx ll lz mw lo lp ma mx ls lt mb my lw lx ly im bi translated">在我们运行程序提取所有关键字之前，我们将用一个关键字运行程序，并打印出我们可以从对象中提取的字段。在下面的代码中，我展示了如何迭代返回的对象并打印出您想要提取的字段。您可以看到，我们提取了以下字段</p><ol class=""><li id="a0c7" class="nl nm it lf b lg lh lj lk lz nn ma no mb np ly nq nr ns nt bi translated">推文ID</li><li id="d563" class="nl nm it lf b lg nu lj nv lz nw ma nx mb ny ly nq nr ns nt bi translated">是转发还是不转发</li><li id="9e24" class="nl nm it lf b lg nu lj nv lz nw ma nx mb ny ly nq nr ns nt bi translated">推文时间</li><li id="6698" class="nl nm it lf b lg nu lj nv lz nw ma nx mb ny ly nq nr ns nt bi translated">推文的文本</li><li id="762a" class="nl nm it lf b lg nu lj nv lz nw ma nx mb ny ly nq nr ns nt bi translated">对推文的回复</li><li id="6542" class="nl nm it lf b lg nu lj nv lz nw ma nx mb ny ly nq nr ns nt bi translated">转发总数</li><li id="e564" class="nl nm it lf b lg nu lj nv lz nw ma nx mb ny ly nq nr ns nt bi translated">喜欢推特</li><li id="1dd2" class="nl nm it lf b lg nu lj nv lz nw ma nx mb ny ly nq nr ns nt bi translated">推文中的条目</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h1 id="8d83" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">对所有关键字按顺序运行代码</h1><p id="d735" class="pw-post-body-paragraph lc ld it lf b lg mu ju li lj mv jx ll lz mw lo lp ma mx ls lt mb my lw lx ly im bi translated">既然我们已经决定了要从我们的对象中存储什么样的数据，我们将依次运行我们的程序来获取我们感兴趣的主题的tweets。我们将使用我们熟悉的<em class="le"> for </em>循环来逐个检查每个关键字并存储成功的结果。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h1 id="edc2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">并行运行代码</h1><p id="0069" class="pw-post-body-paragraph lc ld it lf b lg mu ju li lj mv jx ll lz mw lo lp ma mx ls lt mb my lw lx ly im bi translated">从<a class="ae ky" href="https://docs.python.org/3/library/multiprocessing.html" rel="noopener ugc nofollow" target="_blank">文档</a>中，</p><blockquote class="kz la lb"><p id="d305" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">多重处理是一个支持使用类似于线程模块的API生成进程的包。多处理包提供了本地和远程并发，通过使用子进程而不是线程有效地避开了全局解释器锁。因此，多处理模块允许程序员在一台给定的机器上充分利用多个处理器。</p></blockquote><p id="4eec" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">首先，我们将实现一个函数来抓取数据。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="4376" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">接下来，我们将创建子流程来并行运行我们的代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="5bb2" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如您所见，我们将处理时间减少到了顺序执行的1/4。您可以将此方法用于类似的任务，并使您的python代码更快。</p></div></div>    
</body>
</html>