<html>
<head>
<title>What Has Changed? A Continuous Delivery Approach for No-Code Solutions in Microsoft’s Power Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有什么变化？微软Power平台中无代码解决方案的持续交付方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-has-changed-ba0f5ccf2f73?source=collection_archive---------6-----------------------#2020-04-29">https://towardsdatascience.com/what-has-changed-ba0f5ccf2f73?source=collection_archive---------6-----------------------#2020-04-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="370e" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">微软POWER平台解决方案</h2><div class=""/><div class=""><h2 id="b4b6" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">关于使用微软的Power平台和Azure DevOps持续交付AI模型、Power应用程序和流程的分步指南。</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/6415c229eb2d116e327cc63857913d35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*u6nXF-REZUVO9Nkh"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">杰西·拉米雷斯在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="8979" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在我最近的<a class="ae le" rel="noopener" target="_blank" href="/what-will-happen-predict-future-business-using-a-no-code-ai-model-and-microsofts-ai-builder-52996a13243c">故事</a>中，我解释了如何使用微软Power平台创建一个无代码的人工智能预测模型，来预测虚拟自行车共享服务的未来租金。</p><p id="d29e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">无代码解决方案很棒，这些平台支持的场景也在不断增长。但我们都知道，权力越大，责任越大。</p><p id="5ddd" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当你的无代码解决方案变得富有成效，并且许多人依赖它时，那么是时候引入更专业的规程了，比如源代码控制和持续交付。</p><p id="ef34" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这是一个转折点，因为您现在面临的问题是用pro-code重新开发您的解决方案并将其移交给DevOps团队，或者说服您的组织即使使用无代码解决方案也可以遵循这些最佳实践。</p><p id="4095" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这是公民开发者会见DevOps实践者的地方。</p><p id="c4e4" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这个故事解释了如何将一个无代码的<strong class="lh ja">解决方案</strong>自动签入到源代码控制中，并使用连续交付的方法来部署它。这一切都是在Azure DevOps的帮助下完成的。</p><p id="e062" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在我们的案例中，这样的解决方案包含人工智能预测模型、底层实体、可视化数据的应用程序以及在新数据到达时调用预测模型的工作流。</p><p id="3a50" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">所有这些组件都是使用Microsoft Power平台构建的。使用以下产品:</p><ul class=""><li id="fc14" class="mb mc iq lh b li lj ll lm lo md ls me lw mf ma mg mh mi mj bi translated">高级应用程序</li><li id="d7ac" class="mb mc iq lh b li mk ll ml lo mm ls mn lw mo ma mg mh mi mj bi translated">电力自动化(又称流程)</li><li id="48de" class="mb mc iq lh b li mk ll ml lo mm ls mn lw mo ma mg mh mi mj bi translated">人工智能生成器</li><li id="1471" class="mb mc iq lh b li mk ll ml lo mm ls mn lw mo ma mg mh mi mj bi translated">公共数据服务</li></ul><p id="5993" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">该分步指南解释了以下内容:</p><ul class=""><li id="c148" class="mb mc iq lh b li lj ll lm lo md ls me lw mf ma mg mh mi mj bi translated">将解决方案导出并签入到git存储库中。</li><li id="9179" class="mb mc iq lh b li mk ll ml lo mm ls mn lw mo ma mg mh mi mj bi translated">将解决方案部署到不同的环境中。</li></ul><h2 id="2d6f" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">在Power Platform中组装解决方案</h2><p id="d500" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">如果你遵循我以前的<a class="ae le" rel="noopener" target="_blank" href="/what-will-happen-predict-future-business-using-a-no-code-ai-model-and-microsofts-ai-builder-52996a13243c">文章</a>，你可以简单地重用人工智能模型和自行车共享实体来创建你的第一个解决方案。</p><p id="280f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">要构建这样的解决方案，请转到<a class="ae le" href="http://make.powerapps.com" rel="noopener ugc nofollow" target="_blank">make.powerapps.com</a>，选择<strong class="lh ja">解决方案</strong>，并点击<strong class="lh ja">新建解决方案</strong>。填写详细信息并点击<strong class="lh ja">创建。</strong></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/efc4550de2c3d5c08cdf9f1e31ae99e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AuR0ikmva3DdtZii90ttEA.png"/></div></div></figure><p id="7ec3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在新创建的<strong class="lh ja">解决方案中，</strong>点击<strong class="lh ja">添加现有的</strong>，添加我在上一篇文章中创建的AI模型和实体。请随意向您的解决方案添加任何其他现有组件，如Flows或Power应用程序。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/ab319208a3af4fd1cd23e27b5c17c97b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VKapSVuNdSHtn0gU-czbYg.png"/></div></div></figure><p id="7bf1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在，我们有了一个解决方案，它包含了我们希望置于源代码控制之下的所有内容，并使其可部署到其他环境中。</p><h2 id="aa73" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">创建签入管道</h2><p id="6559" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">接下来，我们创建我们的签入管道，它的唯一目的是从它的源环境中导出先前创建的解决方案，并将其放入我们的git存储库。</p><p id="fc2c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在<a class="ae le" href="http://dev.azure.com" rel="noopener ugc nofollow" target="_blank"> Azure DevOps </a>中创建一个<strong class="lh ja">新项目</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/6eb7ce2e6707e18adae9b2f5bdea5545.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*seKyf6apsNL7TVa8pFIrzg.png"/></div></div></figure><p id="0327" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">将其命名为<strong class="lh ja">动力平台</strong>，点击<strong class="lh ja">创建</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/50850e7b9d643f6a24b0c9157d9b41ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HUYOC5MIrpHQ2o-SsBA4fw.png"/></div></div></figure><p id="7173" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">作为第一步，我们必须在这个新项目中初始化git存储库。为此，我们转到<strong class="lh ja"> Repos &gt;文件</strong>并点击下面的<strong class="lh ja">初始化</strong>按钮。这只是将一个漂亮的<code class="fe nn no np nq b">README.md</code>提交到存储库中。请随意更新文件并解释这个项目是做什么的。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nr"><img src="../Images/62b2458fdb3b2266efa9dc3c4c6e3237.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T_ZjlsDPOl-PZteNVOWbMA.png"/></div></div></figure><p id="e98a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在我们可以创建签入管道。为此，转到<strong class="lh ja">管道</strong>并点击<strong class="lh ja">创建管道</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/719a06be732cd36bf925e122d2acbe1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3yU-DVoi0qElRBKRhaPO0A.png"/></div></div></figure><p id="01e7" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">点击下面的<strong class="lh ja">使用经典编辑器</strong>链接。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/59a628c9fd89ec923f57bf2d49526aff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tG9jEaVdRiqLE63h5A2kHg.png"/></div></div></figure><p id="9d3e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">选择您的项目<strong class="lh ja"> Azure Git Repo </strong>作为源，然后单击<strong class="lh ja">继续。</strong></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/b5b8f961c5a054d17eebb69719db43c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uA76E7hNotAyYXueGw7WEg.png"/></div></div></figure><p id="cd66" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">点击<strong class="lh ja"> Empty job </strong>模板，我们就完成了空管道的创建。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/e864aea48bf3d027d2595ffc12c157fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nu3MM3rOnjBE9IioBfqLfg.png"/></div></div></figure><h2 id="1acb" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">添加高级应用程序构建步骤</h2><p id="4086" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">在接下来的几个步骤中，我们将使用来自Visual Studio Marketplace的Azure DevOps扩展来与我们的Power平台进行通信和交互。</p><p id="4ef1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在空管道内，点击<strong class="lh ja"> + </strong>图标，搜索<strong class="lh ja">动力平台</strong>。从市场结果中，选择<strong class="lh ja"> PowerApps构建工具</strong>并点击<strong class="lh ja">免费获取</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/90ec521a305f2ae9cb4c3317558787f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ufpv7O9iJxbxBqwWNb3lPA.png"/></div></div></figure><p id="c0d2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">您将被重定向到Visual Studio市场。点击<strong class="lh ja">免费获取</strong>并<strong class="lh ja">为您的Azure DevOps组织安装</strong>它。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/d47d530f3ccc6a28e57562f02dc161a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*anzp8myMdCYAvC0Z05KUmA.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/da56eb7c4223bf6051ffd6615f57d93e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iulrP2Uc0DyVMQ_dUlxnJA.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/9cb0093cccc1ae3c8d9696599abd5559.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yM_BIKrAVYL4LSVU7dJrdg.png"/></div></div></figure><p id="a122" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">仅此而已。现在我们可以通过这个扩展来处理一些新任务。</p><h2 id="143b" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">导出并签入解决方案</h2><p id="b198" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">回到我们的空管道，点击<strong class="lh ja"> + </strong>图标，搜索<strong class="lh ja"> PowerApps工具</strong>安装程序<strong class="lh ja">。</strong>这必须是每个管道的第一步，因为它在运行时下载必要的资源。这一步不需要任何配置。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/26b4d92a13cc951d18a2f717c9e7fba1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cXyyYs1_6fn9_V7v6eeRfw.png"/></div></div></figure><p id="f458" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">第二步，我们添加<strong class="lh ja"> PowerApps导出解决方案，</strong>它从我们的源Power平台环境中导出解决方案。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/2ede37cfb9919e4a01ae09fe70224c0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5muNvbQeil-Ks2OQEngZ5A.png"/></div></div></figure><p id="8558" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这一步需要几个参数才能正常工作。首先，我们创建一个到Power平台环境的服务连接。</p><p id="0e35" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为此，点击<strong class="lh ja"> PowerApps环境URL </strong>旁边的<strong class="lh ja">管理</strong>链接。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/9732310449610052192e6151d04ede0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lerClBLAhUuAk8RyiZfYbg.png"/></div></div></figure><p id="5b98" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">点击<strong class="lh ja">创建服务连接</strong>并选择<strong class="lh ja">通用</strong>作为连接类型。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/bb4a10c42005f85b7f4236168a11d430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*836EgpnQK8g8JcyCRPKgbA.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/59d16f6151336c23c185c8e98fb30f31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A-dNNqq5700rw_M4IoBa6g.png"/></div></div></figure><p id="e392" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">输入您的Power平台环境的<strong class="lh ja">服务器URL </strong>。您可以在<a class="ae le" href="https://admin.powerplatform.microsoft.com/environments" rel="noopener ugc nofollow" target="_blank">管理门户</a>的环境详细信息中找到它。</p><p id="6a9c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">输入对该环境拥有完全访问权限的任何用户的邮件地址和密码。将连接命名为类似<strong class="lh ja">电源平台开发</strong>的名称。</p><p id="546b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">点击<strong class="lh ja">保存</strong>完成。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/c07e19bff4e98951dd39a5ec0463446a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1r2H-lIH1IoCx7kZogt-oQ.png"/></div></div></figure><blockquote class="ns nt nu"><p id="aba8" class="lf lg nv lh b li lj ka lk ll lm kd ln nw lp lq lr nx lt lu lv ny lx ly lz ma ij bi translated">注意:很快就会有一种更安全、更现代的方法来使用服务原则连接到您的环境。GitHub已经有一期了，你可以订阅，以便在它发布时得到通知。</p></blockquote><p id="5a22" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">回到您的管道，从下拉列表中选择新创建的连接。</p><p id="622f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">接下来，我们必须为这一步配置一些构建变量，这些变量将在运行时自动解析。</p><p id="c84c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">解决方案名称</strong></p><pre class="kp kq kr ks gt nz nq oa ob aw oc bi"><span id="cdab" class="mp mq iq nq b gy od oe l of og">$(PowerPlatform.SolutionName)</span></pre><p id="6e71" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">解决方案输出文件</strong></p><pre class="kp kq kr ks gt nz nq oa ob aw oc bi"><span id="1cf5" class="mp mq iq nq b gy od oe l of og">$(Build.ArtifactStagingDirectory)\$(PowerPlatform.SolutionName).zip</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/634897b57cac7086565456689a560087.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kx9b656jKdLrtvrGP-bTUg.png"/></div></div></figure><p id="e19d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在我们再次使用<strong class="lh ja"> + </strong>图标添加第三个构建步骤。搜索<strong class="lh ja"> PowerApps解包解决方案</strong>并将其添加到管道中。</p><p id="db87" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这一步将解包解决方案zip文件，以获得其原始的<code class="fe nn no np nq b">.json</code>或<code class="fe nn no np nq b">.xml</code>文件。这样，我们可以使用git跟踪所有的更改。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/89a1c931b317aeecc47a6486fedd628f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DlG-XfQqCFLTljaXsHZdUQ.png"/></div></div></figure><p id="1a7b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">同样，我们必须配置一些构建变量。</p><p id="f6e9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">解决方案输入文件</strong></p><pre class="kp kq kr ks gt nz nq oa ob aw oc bi"><span id="0c10" class="mp mq iq nq b gy od oe l of og">$(Build.ArtifactStagingDirectory)\$(PowerPlatform.SolutionName).zip</span></pre><p id="bbae" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">解包解决方案的目标文件夹</strong></p><pre class="kp kq kr ks gt nz nq oa ob aw oc bi"><span id="d5a7" class="mp mq iq nq b gy od oe l of og">$(PowerPlatform.SolutionName)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/62b1d1479b574261cc65999de4d37c0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p8GQe7ZT_BcB-TQLTyRiaA.png"/></div></div></figure><p id="afc8" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">作为最后的构建步骤，我们向管道添加一个简单的<strong class="lh ja">命令行</strong>任务。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/9025084ccc09878db5e4f4a783156d8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q67jhp0pK33DVGqwLGExhg.png"/></div></div></figure><p id="6b4d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们使用这个步骤将下载并解压缩的解决方案存储在我们的git存储库中。更准确地说，我们签出我们的存储库的主分支，并将所有的变更提交给它。</p><pre class="kp kq kr ks gt nz nq oa ob aw oc bi"><span id="44af" class="mp mq iq nq b gy od oe l of og">echo Commit Power Platform Solution<br/>git config user.email "<a class="ae le" href="mailto:build.pipeline@leantify.com" rel="noopener ugc nofollow" target="_blank">build.pipeline@xxx.com</a>"<br/>git config user.name "Build Pipeline"<br/>git checkout master<br/>git pull origin<br/>git add --all<br/>git commit -m "Automatic solution commit"<br/>git -c http.extraheader="AUTHORIZATION: bearer $(System.AccessToken)" push origin master</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/2934d8d103631d812a243cc824e46c45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KfuYLp0u34VL40jqxH0fGg.png"/></div></div></figure><p id="374e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在我们已经配置了所有的构建步骤，我们对管道进行一些更改。</p><p id="0416" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">首先，我们<strong class="lh ja">允许脚本访问OAuth </strong> <strong class="lh ja">令牌</strong>。我们在前面的<strong class="lh ja">命令行脚本</strong>中使用了这个令牌。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/e36ad3d5896331b3fb823e8771ce4e1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mgPG_WdUirSwjp2LC928fA.png"/></div></div></figure><p id="c93c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">接下来，我们创建在构建步骤中使用的<code class="fe nn no np nq b">PowerPlatform.SolutionName</code>变量。我们将这个变量设置为我们在Power平台中的解决方案的名称，例如<code class="fe nn no np nq b">BikeSharing</code>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/3c8cb8b81607ccc91d98bf35bae14b60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KVbTYufiVzJJeRi9w-yv2Q.png"/></div></div></figure><p id="c315" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在点击<strong class="lh ja">保存，</strong>但是不要排队。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/558034bde2cb7cbefa28038187ef6bcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jtUVVveIkIARqhxGFZaZRw.png"/></div></div></figure><p id="c337" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">作为最后一步，我们必须允许管道对git存储库进行修改。</p><p id="86bc" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们用左下方的<strong class="lh ja">项目设置</strong>来做这件事。点击<strong class="lh ja">仓库</strong>，从列表中找到您的<strong class="lh ja">构建服务</strong>用户。<strong class="lh ja">允许</strong>参与和<strong class="lh ja">创建分支</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nr"><img src="../Images/4dcb4519813ee7cfd0711979519d8c86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cCgiGtIBVYD41X03Utm40Q.png"/></div></div></figure><h2 id="0f26" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">首次运行管道</h2><p id="30ac" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">随着我们的解决方案到位，我们的管道准备就绪，我们现在可以第一次运行它了。这将下载解决方案并将其置于源代码控制之下。</p><p id="f871" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">转到<strong class="lh ja">管道</strong>并选择先前创建的管道。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/d65900672931e14d64814799234904c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HALmG-RTf1GCVtToqvB3cw.png"/></div></div></figure><p id="37d1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">点击<strong class="lh ja">运行管道</strong>按钮并检查设置。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/21615ddc92cb6636063b1d17cbe5bafc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aXOiouxVRowsBFBvLQrn-Q.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/bdb001c688cf037320b887de8b0afe85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3NXPfdbUBCUGfLPK3_XuYQ.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/9697c94babcfe486df06979dad63330c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Er4HfWDqSLuKRVeopacMwQ.png"/></div></div></figure><p id="3e95" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">成功运行后，我们可以在git存储库中看到解包的解决方案。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/514fab6f8b4f43d14261751bd5db4e18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KwEoe7UD_Th7RT2zua4OPg.png"/></div></div></figure><h2 id="40f4" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">建立一个持续的输送管道</h2><p id="5f29" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">既然一切都在源代码控制之下，我们可以开始将解决方案推广到其他测试、试运行或生产环境。</p><p id="8525" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为此，我们像前面一样创建第二个管道。给它起个名字，比如<strong class="lh ja">Power Platform-CI-Testing</strong>或者其他任何能反映你目的的名字。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/f754e50e3b6c0ebefc3f6cd0e9ea9072.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-aGnv68kDaAeyeToAjDVSg.png"/></div></div></figure><p id="4dab" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">再次，添加<strong class="lh ja"> PowerApps工具</strong> <strong class="lh ja">安装程序</strong>作为第一步。第二步，添加<strong class="lh ja"> PowerApps Pack解决方案</strong>，并配置其参数如下:</p><p id="0d51" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">要打包的解决方案的源文件夹</strong></p><pre class="kp kq kr ks gt nz nq oa ob aw oc bi"><span id="a3e3" class="mp mq iq nq b gy od oe l of og">$(PowerPlatform.SolutionName)</span></pre><p id="df5b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">解决方案输出文件</strong></p><pre class="kp kq kr ks gt nz nq oa ob aw oc bi"><span id="c4f0" class="mp mq iq nq b gy od oe l of og">$(Build.ArtifactStagingDirectory)\$(PowerPlatform.SolutionName).zip</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/f76bde403263d64cbc541a66b8c1916e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mVkAd7o2jUF-jzACSNSzmQ.png"/></div></div></figure><p id="3d24" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这一步只是将解决方案打包成一个zip文件，这样就可以将它导入到目标环境中。</p><p id="33b0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">第三步，我们添加了<strong class="lh ja"> PowerApps导入解决方案。</strong>为了使这一步有效并连接到您的目标环境，我们创建了另一个通用服务连接。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/a894129cfd56f45c128c5698b0cf2868.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cCD0SUS5dQku-l0bmYPF_Q.png"/></div></div></figure><p id="7860" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们像以前一样配置它，但是指向另一个<strong class="lh ja">服务器URL </strong>。同样，这可以是任何其他Power平台环境，比如您的开发环境、您的团队环境或者您的生产/客户环境。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/d7a75a7c3309ab6f7aa3bfe7eea1e80d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uNGJWKdiXXiPyvoAsqiPwA.png"/></div></div></figure><p id="41a0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">对于<strong class="lh ja">解决方案输入文件</strong>，我们放入以下内容:</p><pre class="kp kq kr ks gt nz nq oa ob aw oc bi"><span id="a25a" class="mp mq iq nq b gy od oe l of og">$(Build.ArtifactStagingDirectory)\$(PowerPlatform.SolutionName).zip</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/ef6b70881d4253083309e7d514abb831.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b3A0eXgszQtKjC-xdJn0mw.png"/></div></div></figure><p id="20d6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在我们已经准备好了管道，我们再做两个配置。我们添加<code class="fe nn no np nq b">PowerPlatform.SolutionName</code>作为变量，并且我们<strong class="lh ja">在<strong class="lh ja">触发器</strong>面板上启用持续集成</strong>。</p><p id="73c8" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">后者强制管道在每次有东西提交到存储库的主分支时运行。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/f58ac5000f9e30cb672633b2df71c620.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5RNGRyXrjKaiQh9g_FiqYQ.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/d78bf96bec759ac874e134152c0a58a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aMZGUC1oY5Sa-nWsNmzv2g.png"/></div></div></figure><p id="4cda" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">保存您的管道，但不要将其排队。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/0a308fdbfde5517eb9add56b61efa8c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1pkLpwvwjUqhaytikncpzw.png"/></div></div></figure><p id="be6e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">要测试整个流程，请对您的Power Platform解决方案进行任何更改，并手动触发签入管道。当第一个管道完成时，第二个管道会自动启动。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/162fb38a07771cac97bc1983d5c158b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7P08kRLQb8A_deWAAWszIQ.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/1a1fee6bfdbf2f974e8c471fa69857fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vezOb2_zClOPVAfyCNFgiQ.png"/></div></div></figure><p id="3d01" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在一切运行成功之后，转到您的目标环境并检查要创建的解决方案。任何后续运行都将更新目标环境中的解决方案。你不需要做任何事。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/1c7429abe2cbbde70dbb43dfda8de539.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iJ0t8GDtd3lKB1JEzo1KPA.png"/></div></div></figure><p id="3e51" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">恭喜恭喜！</strong>这是无代码解决方案的持续交付。</p><p id="3ffb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">万事如意！</p><p id="fd54" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">👉，<br/>塞巴斯蒂安</p><h2 id="cfef" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">额外收获:使用git命令行跟踪。</h2><p id="ae32" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">现在我们已经将一切置于源代码控制之下，您可以使用git命令行来跟踪所有的更改。克隆存储库并使用类似于<code class="fe nn no np nq b">git log -p</code>的命令来查看最近的更改。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/8e66e8b4076ee0307ea18acaa616d7b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-TYdAO_2RtXisE4q4z8VuQ.png"/></div></div></figure></div></div>    
</body>
</html>