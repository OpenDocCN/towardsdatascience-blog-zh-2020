<html>
<head>
<title>Why CronTab Is The Ultimate Data Science Back-end Tool</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么CronTab是终极数据科学后端工具</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-crontab-is-the-ultimate-data-science-back-end-tool-e3f212f2b13d?source=collection_archive---------64-----------------------#2020-06-01">https://towardsdatascience.com/why-crontab-is-the-ultimate-data-science-back-end-tool-e3f212f2b13d?source=collection_archive---------64-----------------------#2020-06-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="db34" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为什么CronJobs被低估为简单自动化的支柱。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c45eec349a1e1a04fcee6b9301b6156d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jaMcmLsAL8kGwFyi2QEFNw.png"/></div></div></figure><h1 id="7635" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">介绍</h1><p id="f826" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">数据科学的最终目标通常是自动化。虽然使用Python、R或C可以对传入的数据和预测做到这一点，但这些语言在运行系统操作方面做得不太好，而您可能需要运行系统操作来完成某些任务。通常可能会有一个您希望每天运行的脚本，或者一个需要在特定时间执行的简单文件移动。</p><p id="6097" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">幸运的是，在Unix/GNU+Linux中，我们又有了Bourne Shell，简称BASH。学习Bash将允许您通过ssh、管理器或本地终端调用任何应用程序服务器端。这就是为什么今天使用的几乎所有服务器都是类Unix的根本原因，因为Bash已经成为计算开发前沿的主要工具和必需品。虽然bash很棒，但它并不是现成的自动化脚本，为了利用Bash命令自动运行脚本，我们需要使用一个名为CronTab的工具。</p><h1 id="1ae9" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">CronTab是什么？</h1><p id="06f7" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">CronTab是一个通常在服务器后端使用的工具，它允许用户指定运行Bash命令的时间。这个Bash命令的范围可以从移动和获取文件到运行Python脚本，这是非常强大的。这在哪里会派上用场？我发现CronTab在数据科学中的一个很好的用途是运行一个脚本，该脚本重新训练并输出一个序列化的模型供端点使用。</p><p id="f586" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这可能是最容易也是最被低估的重新训练机器学习模型的方式。使用CronTab，您可以在大约30秒内用一个文件设置再培训。这对于在数据库中存储数据的模型，或者可以向其中添加数据的模型(如LSTM模型)尤其有用。</p><h1 id="37e8" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">使用CronTab</h1><p id="796f" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">使用CronTab相对简单，而且相当容易。首先，您需要从各自的包管理器安装CronTab:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="ded7" class="ms kv it mo b gy mt mu l mv mw">sudo dnf install crontab</span></pre><p id="3d31" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">为了编辑cronjobs，您需要运行crontab -e。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="1d3f" class="ms kv it mo b gy mt mu l mv mw">crontab -e</span></pre><p id="ed1b" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这应该会在GNU Nano或VIM中打开一个配置文件。为了安排CronTab，您需要将适当的时间转换为cron时间戳。首先，*当然意味着列表中任何值的全部。这些值按以下顺序排列:分钟、小时、日(一个月中)、月、日(一周中)，当然这些都存储为整数，例如:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="94c4" class="ms kv it mo b gy mt mu l mv mw">4 5 * * *</span></pre><p id="3ad1" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">翻译过来就是:</p><blockquote class="mx"><p id="526d" class="my mz it bd na nb nc nd ne nf ng mh dk translated">"一周中每一天的每一个月的每一天的第4小时的第5分钟。"</p></blockquote><p id="f23b" class="pw-post-body-paragraph lm ln it lo b lp nh ju lr ls ni jx lu lv nj lx ly lz nk mb mc md nl mf mg mh im bi translated">换句话说，这将运行在</p><blockquote class="mx"><p id="ae92" class="my mz it bd na nb nc nd ne nf ng mh dk">4:05</p></blockquote><p id="e495" class="pw-post-body-paragraph lm ln it lo b lp nh ju lr ls ni jx lu lv nj lx ly lz nk mb mc md nl mf mg mh im bi translated">另一个简单的例子:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="ecae" class="ms kv it mo b gy mt mu l mv mw">* * * * 2</span></pre><p id="dd45" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这将在每个星期一运行，因为2是一周的第二天，当然是星期一。添加时间戳后，我们还需要给cronjob一个命令。这可以是任何Bash命令，但是请记住，您需要将完整的目录放入您正在使用的任何文件中。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="7169" class="ms kv it mo b gy mt mu l mv mw">5 * * * * . /var/www/rebuild_endpoints.sh</span></pre><p id="707f" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">现在，如果您在Nano中，只需按CTRL+O，然后按CTRL+X，您的Cronjob就可以工作了！如果您在VIM中，那么只需:wq来写文件并关闭VIM。这就是全部了！</p><h1 id="28e4" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">结论</h1><p id="7705" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">我想强调一下这个强大的工具，因为以我的经验来看，它真的比任何人想象的都有用。我通常使用它在特定时间将新的更新模型自动放入我的端点，这样我的模型就可以用新数据进行训练，而无需维护工作。我保证，如果您熟悉服务器、Bash和CronTab作为您的数据科学武库中的一个工具，您肯定不会后悔，并且您可能会惊讶于它原来是多么有价值！</p></div></div>    
</body>
</html>