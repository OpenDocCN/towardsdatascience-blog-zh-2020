<html>
<head>
<title>Mastering Statistics with Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用熊猫掌握统计学</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/mastering-statistics-with-pandas-ce7580971072?source=collection_archive---------24-----------------------#2020-07-03">https://towardsdatascience.com/mastering-statistics-with-pandas-ce7580971072?source=collection_archive---------24-----------------------#2020-07-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d49e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用熊猫来生成统计数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2152457fb786fe27cfe26001f4277a47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j13g6nDcDkQuNaMskq9qUg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.pexels.com/photo/analytics-blur-business-close-up-590045/" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="8078" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas 是一个 python 库，可用于数据操作、数据插补、统计分析等等。具体来说，Pandas 统计函数对于从数据中获得洞察力非常有用。在本帖中，我们将回顾一些从数据中生成统计数据的基本方法。</p><p id="2b3e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出于我们的目的，我们将使用粮农组织的<em class="lv">化肥副产品数据，这些数据可以在<a class="ae ky" href="https://www.kaggle.com/josehenriqueroveda/fertilizers-by-product-fao" rel="noopener ugc nofollow" target="_blank">这里</a>找到。这些数据包含了全世界化学和矿物肥料的生产、贸易和农业使用的信息。</em></p><p id="afb2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始吧！</p><p id="3754" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们将数据读入熊猫数据框:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="f3d9" class="mb mc it lx b gy md me l mf mg">import pandas as pd</span><span id="5d83" class="mb mc it lx b gy mh me l mf mg">df = pd.read_csv("FertilizersProduct.csv",encoding = "ISO-8859-1")</span></pre><p id="1f5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，让我们打印一些关于数据的基本信息:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="92d3" class="mb mc it lx b gy md me l mf mg">print(df.info())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/24ece9ecbfa195fa0eb36722049abb6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*ME_O6P75zDTM6sWkSpSxOg.png"/></div></figure><p id="8cff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们看到该数据包含 11 个整型、浮点型和分类类型的列。现在，让我们打印前五行数据:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="963f" class="mb mc it lx b gy md me l mf mg">print(df.head())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/64e47b362a45d022baf492d1e344e95b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aKEv1G_4ZVEiWdDcGEzm_g.png"/></div></div></figure><p id="2fa1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们看到第一行数据对应的是 2011 年阿富汗进口的 4.49 吨无水氨。让我们继续考虑阿富汗的所有数据:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="9e63" class="mb mc it lx b gy md me l mf mg">df_afghanistan = df[df['Area'] == 'Afghanistan'].copy()</span></pre><p id="c200" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们可以用'来看数量值的分布。“hist()”方法:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="5f38" class="mb mc it lx b gy md me l mf mg">import matplotlib.pyplot as plt<br/>import seaborn as sns<br/>sns.set()<br/>plt.title("Distribution in Imported Fertilizer Quantities")<br/>df_afghanistan['Value'].hist(bins=30)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/0e065b6c0fefd96c5268729b0e44871a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R8IVB760mAg3XK7kuhv5tg.png"/></div></div></figure><p id="8cb4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，使用'查看以吨为单位的平均进口数量。“mean()”方法:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="6d7a" class="mb mc it lx b gy md me l mf mg">print("Average Quantity: ", df_afghanistan['Value'].mean())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/6b1e1832c8ee49fb7f177927fda8c25e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*ANq_UQNXycbLgwWm70NMNA.png"/></div></figure><p id="957b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以使用'来查看数量的标准偏差。“std()”方法:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="6c01" class="mb mc it lx b gy md me l mf mg">print("Standard Deviation in Quantity: ", df_afghanistan['Value'].std())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi gj"><img src="../Images/525d2472df43672adc6d1772cd09d1a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KcJbL4-ew0GrCGapDxuKzg.png"/></div></div></figure><p id="709c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以使用。corr()'方法来计算两个数值列之间的相关性。让我们计算一下阿富汗的化肥数量和年份之间的关系:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="c139" class="mb mc it lx b gy md me l mf mg">print("Correlation between Year and Quantity: ", df_afghanistan['Value'].corr(df_afghanistan['Year'])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mm"><img src="../Images/59b34a09599c88633a019bf15fac52a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mjlvEfqiccNPP-DdqKtWkA.png"/></div></div></figure><p id="d72b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以看看最小值和最大值:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="8aa1" class="mb mc it lx b gy md me l mf mg">print("Minimum Quantity: " df_afghanistan['Value'].min())<br/>print("Maximum Quantity: " df_afghanistan['Value'].max())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/fff5d23647534f0e3412d436abaf8b74.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*Bu-mN05pfYlD_uBD5L-CpA.png"/></div></div></figure><p id="22ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们可以查看分类列中最频繁出现的值或模式。让我们计算原始数据中“面积”列的模式:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="2ba7" class="mb mc it lx b gy md me l mf mg">print("Mode in Area: ", df['Area'].mode()[0])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/711db49c90d9c54bf12da682f109164e.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/format:webp/1*aDG73AUNuBGs1-gcVPZ9ig.png"/></div></figure><p id="3eea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以使用“Counter()”方法来可视化分类值出现的频率。让我们将“Counter()”方法应用于原始数据中的“Item”列:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="28cd" class="mb mc it lx b gy md me l mf mg">from collections import Counter<br/>print(Counter(df['Item']))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/b10e5882e76c9536684b608af5d4f31b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cxt-PqqTYeovwRRqgQKKRg.png"/></div></div></figure><p id="d127" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们生成一个柱状图来直观显示这一点:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="fef2" class="mb mc it lx b gy md me l mf mg">plt.title("Frequency in Fertilizer Items")<br/>plt.bar(dict(Counter(df['Item'])).key(), dict(Counter(df['Item'])).Values())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/eee591f309722e0fd83f5707d6d413fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2HuESZfcs0yNaExmjN1rRA.png"/></div></div></figure><p id="9af5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我就讲到这里，但是我鼓励你自己动手处理数据和编写代码。</p><h2 id="ed64" class="mb mc it bd mr ms mt dn mu mv mw dp mx li my mz na lm nb nc nd lq ne nf ng nh bi translated">结论</h2><p id="0489" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">总之，在这篇文章中，我们讨论了如何使用 Pandas 库从数据中生成基本的统计见解。我们看了如何使用 pandas 方法计算平均值、标准差、相关性、最小值和最大值。此外，我们可视化了数值列中的分布，并使用 counter 方法和 Matplotlib 来可视化分类“Item”列中的分布。我希望你觉得这篇文章有用/有趣。这篇文章的代码可以在<a class="ae ky" href="https://github.com/spierre91/medium_code/upload" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。感谢您的阅读！</p></div></div>    
</body>
</html>