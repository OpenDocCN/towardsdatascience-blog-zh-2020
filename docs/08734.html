<html>
<head>
<title>How to Train Detectron2 on Custom Object Detection Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•åœ¨è‡ªå®šä¹‰å¯¹è±¡æ£€æµ‹æ•°æ®ä¸Šè®­ç»ƒæ£€æµ‹å™¨ 2</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/how-to-train-detectron2-on-custom-object-detection-data-be9d1c233e4?source=collection_archive---------7-----------------------#2020-06-24">https://towardsdatascience.com/how-to-train-detectron2-on-custom-object-detection-data-be9d1c233e4?source=collection_archive---------7-----------------------#2020-06-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ac16" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">æ³¨:æˆ‘ä»¬è¿˜åœ¨åšå®¢ä¸Šå‘å¸ƒäº†<a class="ae ki" href="https://blog.roboflow.com/how-to-train-detectron2/" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•åŸ¹è®­æ£€æµ‹å‘˜ 2 </a>ã€‚åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨è¿™æœ¬<a class="ae ki" href="https://colab.research.google.com/drive/1-TNOcPm3Jr3fOJG8rnGT9gh60mHUsvaW#scrollTo=kc8MmgZugZWR" rel="noopener ugc nofollow" target="_blank">detector 2 Colab ç¬”è®°æœ¬</a>ä¸­ï¼Œè¯¦ç»†è®²è§£å¦‚ä½•è®­ç»ƒ detector 2 æ£€æµ‹å®šåˆ¶å¯¹è±¡ã€‚é˜…è¯»åï¼Œæ‚¨å°†èƒ½å¤Ÿé€šè¿‡åªæ›´æ”¹ä¸€è¡Œç”¨äºè‡ªå®šä¹‰æ•°æ®å¯¼å…¥çš„ä»£ç æ¥è®­ç»ƒæ‚¨çš„ custom Detectron2 æ£€æµ‹å™¨ï¼</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/79a7365a60bc168ab380a24d32ceef9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1GtJp9afKm6F092Y.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated"><a class="ae ki" href="https://ai.facebook.com/blog/-detectron2-a-pytorch-based-modular-object-detection-library-/" rel="noopener ugc nofollow" target="_blank"> Detectron2 </a>æä¾›äº†ä¸€ä¸ªçµæ´»çš„æ¡†æ¶æ¥è®­ç»ƒå’Œéƒ¨ç½²è®¡ç®—æœºè§†è§‰ç®—æ³•ã€‚</p></figure><h1 id="58d3" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">æ–‡ç« å¤§çº²</h1><ul class=""><li id="8a7e" class="lr ls it lt b lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">æ£€æµ‹å™¨ 2 æ¦‚è¿°</li><li id="9803" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated">æˆ‘ä»¬çš„è‡ªå®šä¹‰æ•°æ®é›†æ¦‚è¿°</li><li id="b8f7" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated">å®‰è£…æ£€æµ‹å™¨ 2 ä¾èµ–é¡¹</li><li id="c53f" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated">ä¸‹è½½è‡ªå®šä¹‰æ£€æµ‹å™¨ 2 å¯¹è±¡æ£€æµ‹æ•°æ®</li><li id="6b9b" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated">å¯è§†åŒ–æ¢æµ‹å™¨ 2 è®­ç»ƒæ•°æ®</li><li id="30ef" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated">ç¼–å†™æˆ‘ä»¬çš„ Detectron2 åŸ¹è®­é…ç½®</li><li id="c7ae" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated">è¿è¡Œæ£€æµ‹å™¨ 2 åŸ¹è®­</li><li id="a8fa" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated">è¯„ä¼°æ£€æµ‹å™¨ 2 çš„æ€§èƒ½</li><li id="ee13" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated">å¯¹æµ‹è¯•å›¾åƒè¿è¡Œ Detectron2 æ¨ç†</li></ul><h1 id="1ce6" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">å®šåˆ¶æ£€æµ‹å™¨ 2 åŸ¹è®­èµ„æº</h1><ul class=""><li id="2e14" class="lr ls it lt b lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated"><a class="ae ki" href="https://colab.research.google.com/drive/1-TNOcPm3Jr3fOJG8rnGT9gh60mHUsvaW#scrollTo=wXisIbT1Zqou" rel="noopener ugc nofollow" target="_blank">å®ç°è‡ªå®šä¹‰æ•°æ®æ£€æµ‹å™¨ 2 çš„ Colab ç¬”è®°æœ¬</a></li><li id="ea4c" class="lr ls it lt b lu mj lw mk ly ml ma mm mc mn me mf mg mh mi bi translated"><a class="ae ki" href="https://public.roboflow.ai/object-detection/bccd" rel="noopener ugc nofollow" target="_blank">å…¬å…±è¡€ç»†èƒæ£€æµ‹æ•°æ®é›†</a></li></ul><h1 id="2444" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">æ£€æµ‹å™¨ 2 æ¦‚è¿°</h1><p id="17c9" class="pw-post-body-paragraph mo mp it lt b lu lv ju mq lw lx jx mr ly ms mt mu ma mv mw mx mc my mz na me im bi translated">Detectron2 æ˜¯ä¸€ä¸ªæµè¡Œçš„åŸºäº PyTorch çš„æ¨¡å—åŒ–è®¡ç®—æœºè§†è§‰æ¨¡å‹åº“ã€‚è¿™æ˜¯ Detectron çš„ç¬¬äºŒä¸ªç‰ˆæœ¬ï¼Œæœ€åˆæ˜¯ç”¨ Caffe2 ç¼–å†™çš„ã€‚Detectron2 ç³»ç»Ÿå…è®¸æ‚¨å°†æœ€å…ˆè¿›çš„è®¡ç®—æœºè§†è§‰æŠ€æœ¯æ’å…¥åˆ°æ‚¨çš„å·¥ä½œæµç¨‹ä¸­ã€‚å¼•ç”¨<a class="ae ki" href="https://ai.facebook.com/blog/-detectron2-a-pytorch-based-modular-object-detection-library-/" rel="noopener ugc nofollow" target="_blank"> Detectron2 å‘å¸ƒåšå®¢</a>:</p><pre class="kk kl km kn gt nb nc nd ne aw nf bi"><span id="bef3" class="ng la it nc b gy nh ni l nj nk">Detectron2 includes all the models that were available in the original Detectron, such as Faster R-CNN, Mask R-CNN, RetinaNet, and DensePose. It also features several new models, including Cascade R-CNN, Panoptic FPN, and TensorMask, and we will continue to add more algorithms. Weâ€™ve also added features such as synchronous Batch Norm and support for new datasets like LVIS</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nl"><img src="../Images/026daf2a1908e60b67fbcfc9290547b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3lrFWPNgpTglBOIi.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated"><a class="ae ki" href="https://ai.facebook.com/blog/-detectron2-a-pytorch-based-modular-object-detection-library-/" rel="noopener ugc nofollow" target="_blank">æ£€æµ‹å™¨ 2 </a>ä¸­æä¾›å¤šç§æ¨ç†æ¨¡å¼</p></figure><p id="d2e0" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬å›é¡¾äº†å¦‚ä½•é’ˆå¯¹<strong class="lt iu">ç‰¹åˆ«æ˜¯å¯¹è±¡æ£€æµ‹</strong>çš„è‡ªå®šä¹‰æ•°æ®è®­ç»ƒ Detectron2ã€‚ä¸è¿‡ï¼Œåœ¨ä½ è¯»å®Œä¹‹åï¼Œä½ å°†ä¼šç†Ÿæ‚‰ Detectron2 çš„ç”Ÿæ€ç³»ç»Ÿï¼Œå¹¶ä¸”ä½ å°†èƒ½å¤Ÿæ¨å¹¿åˆ° Detectron2 ä¸­åŒ…å«çš„å…¶ä»–åŠŸèƒ½ã€‚</p><h1 id="f4c5" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">æˆ‘ä»¬çš„è‡ªå®šä¹‰æ•°æ®æ¦‚è¿°</h1><p id="2ca7" class="pw-post-body-paragraph mo mp it lt b lu lv ju mq lw lx jx mr ly ms mt mu ma mv mw mx mc my mz na me im bi translated">æˆ‘ä»¬å°†åœ¨ Roboflow å…è´¹æ‰˜ç®¡çš„<a class="ae ki" href="https://public.roboflow.ai/object-detection/bccd" rel="noopener ugc nofollow" target="_blank">å…¬å…±è¡€ç»†èƒæ£€æµ‹</a>æ•°æ®ä¸ŠåŸ¹è®­æˆ‘ä»¬çš„ custom Detectron2 æ£€æµ‹å™¨ã€‚è¡€ç»†èƒæ£€æµ‹æ•°æ®é›†æ˜¯å°å‹å®šåˆ¶å¯¹è±¡æ£€æµ‹æ•°æ®é›†çš„ä»£è¡¨ï¼Œäººä»¬å¯ä»¥æ”¶é›†è¯¥æ•°æ®é›†æ¥æ„å»ºå®šåˆ¶å¯¹è±¡æ£€æµ‹ç³»ç»Ÿã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¡€ç»†èƒæ£€æµ‹ä¸æ˜¯ Detectron2 ä¸­å¯ç”¨çš„åŠŸèƒ½â€”â€”æˆ‘ä»¬éœ€è¦è®­ç»ƒåº•å±‚ç½‘ç»œæ¥é€‚åº”æˆ‘ä»¬çš„å®šåˆ¶ä»»åŠ¡ã€‚</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nr"><img src="../Images/60698bc4e3a45b5956b9c1fd73fe4d65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5BraUOhnyEOluib6.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated"><a class="ae ki" href="https://public.roboflow.ai/object-detection/bccd" rel="noopener ugc nofollow" target="_blank">å…¬å…±è¡€ç»†èƒæ£€æµ‹æ•°æ®</a></p></figure><p id="9d6c" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">å¦‚æœä½ æƒ³ä¸€æ­¥ä¸€æ­¥åœ°è·Ÿéšæ•™ç¨‹ï¼Œä½ å¯ä»¥åˆ†å‰è¿™ä¸ª<a class="ae ki" href="https://public.roboflow.ai/object-detection/bccd" rel="noopener ugc nofollow" target="_blank">å…¬å…±è¡€ç»†èƒæ•°æ®é›†</a>ã€‚å¦åˆ™ï¼Œä½ å¯ä»¥ä¸Šä¼ ä»»ä½•æ ¼å¼çš„æ•°æ®é›†(è¯¦è§ä¸‹æ–‡)ã€‚</p><h1 id="40d7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">å®‰è£…æ£€æµ‹å™¨ 2 ä¾èµ–é¡¹</h1><p id="3544" class="pw-post-body-paragraph mo mp it lt b lu lv ju mq lw lx jx mr ly ms mt mu ma mv mw mx mc my mz na me im bi translated">é¦–å…ˆï¼Œå¤åˆ¶è¿™ä¸ª<a class="ae ki" href="https://colab.research.google.com/drive/1-TNOcPm3Jr3fOJG8rnGT9gh60mHUsvaW#scrollTo=wXisIbT1Zqou" rel="noopener ugc nofollow" target="_blank"> Colab ç¬”è®°æœ¬ï¼Œå®ƒå®ç°äº†å¯¹è‡ªå®šä¹‰æ•°æ®</a>çš„æ£€æµ‹å™¨ 2ã€‚Google Colab ä¸ºæˆ‘ä»¬æä¾›äº†å…è´¹çš„ GPU èµ„æºï¼Œå› æ­¤è¯·ç¡®ä¿é€šè¿‡æ£€æŸ¥è¿è¡Œæ—¶â†’æ›´æ”¹è¿è¡Œæ—¶ç±»å‹â†’ GPU æ¥å¯ç”¨å®ƒä»¬ã€‚</p><p id="751c" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">ä¸ºäº†å¼€å§‹è®­ç»ƒæˆ‘ä»¬çš„è‡ªå®šä¹‰æ£€æµ‹å™¨ï¼Œæˆ‘ä»¬å®‰è£…äº†<code class="fe ns nt nu nc b">torch==1.5</code>å’Œ<code class="fe ns nt nu nc b">torchvision==0.6</code> -ç„¶ååœ¨å¯¼å…¥<code class="fe ns nt nu nc b">torch</code>åï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥ torch çš„ç‰ˆæœ¬ï¼Œå¹¶ç¡®ä¿ GPU å¯ç”¨äºæ‰“å°<code class="fe ns nt nu nc b">1.5.0+cu101 True</code>ã€‚</p><p id="0397" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">ç„¶åæˆ‘ä»¬ pip å®‰è£… Detectron2 åº“å¹¶å¯¼å…¥ä¸€äº›å­æ¨¡å—ã€‚</p><pre class="kk kl km kn gt nb nc nd ne aw nf bi"><span id="8600" class="ng la it nc b gy nh ni l nj nk">!pip install detectron2==0.1.3 -f <a class="ae ki" href="https://dl.fbaipublicfiles.com/detectron2/wheels/cu101/torch1.5/index.html" rel="noopener ugc nofollow" target="_blank">https://dl.fbaipublicfiles.com/detectron2/wheels/cu101/torch1.5/index.html</a></span><span id="ae89" class="ng la it nc b gy nv ni l nj nk">import detectron2<br/>from detectron2.utils.logger import setup_logger<br/>setup_logger()</span><span id="f01e" class="ng la it nc b gy nv ni l nj nk"># import some common libraries<br/>import numpy as np<br/>import cv2<br/>import random<br/>from google.colab.patches import cv2_imshow</span><span id="1467" class="ng la it nc b gy nv ni l nj nk"># import some common detectron2 utilities<br/>from detectron2 import model_zoo<br/>from detectron2.engine import DefaultPredictor<br/>from detectron2.config import get_cfg<br/>from detectron2.utils.visualizer import Visualizer<br/>from detectron2.data import MetadataCatalog<br/>from detectron2.data.catalog import DatasetCatalog</span></pre><p id="4bd5" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">å·²å®‰è£… Detectron2 ä¾èµ–é¡¹ã€‚</p><h1 id="48ea" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">ä¸‹è½½è‡ªå®šä¹‰æ£€æµ‹å™¨ 2 å¯¹è±¡æ£€æµ‹æ•°æ®</h1><p id="a437" class="pw-post-body-paragraph mo mp it lt b lu lv ju mq lw lx jx mr ly ms mt mu ma mv mw mx mc my mz na me im bi translated">æˆ‘ä»¬ä» Roboflow ä¸‹è½½ COCO JSON æ ¼å¼çš„è‡ªå®šä¹‰æ•°æ®ï¼Œåªéœ€ä¸€è¡Œä»£ç â€”â€”è¿™æ˜¯æ‚¨éœ€è¦ä¿®æ”¹çš„å”¯ä¸€ä¸€è¡Œä»£ç ï¼Œä»¥ä¾¿åœ¨æ‚¨è‡ªå·±çš„è‡ªå®šä¹‰å¯¹è±¡ä¸Šè¿›è¡Œè®­ç»ƒï¼</p><p id="034f" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">æ³¨æ„:åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨è¾¹ç•Œæ¡†å¯¼å‡ºå¯¹è±¡æ£€æµ‹æ•°æ®ã€‚Roboflow ç›®å‰ä¸æ”¯æŒè¯­ä¹‰åˆ†æ®µæ³¨é‡Šæ ¼å¼ã€‚<a class="ae ki" href="https://roboflow.ai" rel="noopener ugc nofollow" target="_blank">æŠ¥å</a>æˆ‘ä»¬æŠ¥åæ—¶ä¼šé€šçŸ¥æ‚¨ã€‚</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nw"><img src="../Images/adfd2ef45fec7d4c1c41d895e9fb5bd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*t9rrzBfH4e3zeYH5.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">ä¸‹è½½è‡ªå®šä¹‰æ•°æ®é›†</p></figure><p id="5672" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">å¦‚æœä½ æœ‰<strong class="lt iu">æœªæ ‡è®°çš„</strong>å›¾ç‰‡ï¼Œä½ é¦–å…ˆéœ€è¦æ ‡è®°å®ƒä»¬ã€‚å¯¹äºå…è´¹çš„å¼€æºæ ‡ç­¾å·¥å…·ï¼Œæˆ‘ä»¬æ¨èä»¥ä¸‹æŒ‡å—:æ ‡ç­¾å·¥å…·<a class="ae ki" href="https://blog.roboflow.ai/getting-started-with-labelimg-for-labeling-object-detection-data/" rel="noopener ugc nofollow" target="_blank">å…¥é—¨æŒ‡å—</a>æˆ– CVAT æ³¨é‡Šå·¥å…·<a class="ae ki" href="https://blog.roboflow.ai/getting-started-with-cvat/" rel="noopener ugc nofollow" target="_blank">å…¥é—¨æŒ‡å—ã€‚å°è¯•æ ‡è®°çº¦ 50 å¼ å›¾åƒï¼Œä»¥ç»§ç»­æœ¬æ•™ç¨‹ã€‚ä¸ºäº†ä»¥åæé«˜æ¨¡å‹çš„æ€§èƒ½ï¼Œæ‚¨å°†éœ€è¦æ›´å¤šçš„æ ‡ç­¾ã€‚</a></p><p id="eecc" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">æ‚¨è¿˜å¯ä»¥è€ƒè™‘<a class="ae ki" href="https://blog.roboflow.ai/custom-open-images-datasets/" rel="noopener ugc nofollow" target="_blank">ä»å¼€æ”¾å›¾åƒä¸­æ„å»ºä¸€ä¸ªè‡ªç”±å¯¹è±¡æ£€æµ‹æ•°æ®é›†</a>ã€‚</p><p id="09ce" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">ä¸€æ—¦æ‚¨æ ‡è®°äº†æ•°æ®ï¼Œè¦å°†æ‚¨çš„æ•°æ®ç§»åŠ¨åˆ° Roboflow ä¸­ï¼Œ<a class="ae ki" href="https://app.roboflow.ai/" rel="noopener ugc nofollow" target="_blank">åˆ›å»ºä¸€ä¸ªå…è´¹å¸æˆ·</a>ï¼Œç„¶åæ‚¨å¯ä»¥ä»¥ä»»ä½•æ ¼å¼æ‹–åŠ¨æ‚¨çš„æ•°æ®é›†:(VOC XMLã€COCO JSONã€TensorFlow Object Detection CSV ç­‰)ã€‚</p><p id="8f1b" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">ä¸Šä¼ åï¼Œæ‚¨å¯ä»¥é€‰æ‹©é¢„å¤„ç†å’Œå¢å¼ºæ­¥éª¤:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nx"><img src="../Images/2059d4afb06208b8ac6fa12f00a9d57a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*j46IinYn_6MhDpo3.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">ä¸º BCCD æ•°æ®é›†é€‰æ‹©çš„å¯¼å‡ºè®¾ç½®</p></figure><p id="7cf2" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">ç„¶åç‚¹å‡»<code class="fe ns nt nu nc b">Generate</code>å’Œ<code class="fe ns nt nu nc b">Download</code>å°±å¯ä»¥é€‰æ‹© COCO JSON æ ¼å¼äº†ã€‚</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ny"><img src="../Images/1a1d55aa116484c6b3819ad851da9b05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_70hvT9o2rHMrxJJ.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">é€‰æ‹©â€œCOCO JSONâ€å¯¼å‡ºæ ¼å¼</p></figure><p id="a481" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">å‡ºç°æç¤ºæ—¶ï¼Œè¯·åŠ¡å¿…é€‰æ‹©â€œæ˜¾ç¤ºä»£ç ç‰‡æ®µâ€è¿™å°†è¾“å‡ºä¸€ä¸ªä¸‹è½½ curl è„šæœ¬ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥è½»æ¾åœ°å°†æ•°æ®ä»¥æ­£ç¡®çš„æ ¼å¼å¯¼å…¥ Colabã€‚</p><p id="7cb8" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">ç„¶åï¼ŒDetectron2 è·Ÿè¸ªä¸€ä¸ª<code class="fe ns nt nu nc b">registry</code>ä¸­å¯ç”¨æ•°æ®é›†çš„åˆ—è¡¨ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»å‘ Detectron2 æ³¨å†Œæˆ‘ä»¬çš„è‡ªå®šä¹‰æ•°æ®ï¼Œä»¥ä¾¿å¯ä»¥è°ƒç”¨å®ƒè¿›è¡Œè®­ç»ƒã€‚</p><pre class="kk kl km kn gt nb nc nd ne aw nf bi"><span id="9801" class="ng la it nc b gy nh ni l nj nk">from detectron2.data.datasets import register_coco_instances<br/>register_coco_instances("my_dataset_train", {}, "/content/train/_annotations.coco.json", "/content/train")<br/>register_coco_instances("my_dataset_val", {}, "/content/valid/_annotations.coco.json", "/content/valid")<br/>register_coco_instances("my_dataset_test", {}, "/content/test/_annotations.coco.json", "/content/test")</span></pre><p id="b0a2" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">æ¢æµ‹å™¨ 2 æ•°æ®å·²æ³¨å†Œã€‚</p><h1 id="33b7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">å¯è§†åŒ–æ¢æµ‹å™¨ 2 è®­ç»ƒæ•°æ®</h1><p id="c74a" class="pw-post-body-paragraph mo mp it lt b lu lv ju mq lw lx jx mr ly ms mt mu ma mv mw mx mc my mz na me im bi translated">Detectron2 å¯ä»¥è½»æ¾æŸ¥çœ‹æˆ‘ä»¬çš„è®­ç»ƒæ•°æ®ï¼Œä»¥ç¡®ä¿æ•°æ®å·²æ­£ç¡®å¯¼å…¥ã€‚æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ–¹å¼åšåˆ°è¿™ä¸€ç‚¹</p><pre class="kk kl km kn gt nb nc nd ne aw nf bi"><span id="ba21" class="ng la it nc b gy nh ni l nj nk">#visualize training data<br/>my_dataset_train_metadata = MetadataCatalog.get("my_dataset_train")<br/>dataset_dicts = DatasetCatalog.get("my_dataset_train")</span><span id="5b23" class="ng la it nc b gy nv ni l nj nk">import random<br/>from detectron2.utils.visualizer import Visualizer</span><span id="76ee" class="ng la it nc b gy nv ni l nj nk">for d in random.sample(dataset_dicts, 3):<br/>    img = cv2.imread(d["file_name"])<br/>    visualizer = Visualizer(img[:, :, ::-1], metadata=my_dataset_train_metadata, scale=0.5)<br/>    vis = visualizer.draw_dataset_dict(d)<br/>    cv2_imshow(vis.get_image()[:, :, ::-1])</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/c7008ad1597d1c3c7b0df01d2e028937.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/0*cDVkwc6k9ReflxeQ.png"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">å¯è§†åŒ–è®­ç»ƒæ•°æ®</p></figure><p id="ec84" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">çœ‹èµ·æ¥æˆ‘ä»¬çš„æ•°æ®é›†æ³¨å†Œæ­£ç¡®ã€‚</p><h1 id="1e4f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">ç¼–å†™æˆ‘ä»¬çš„ Detectron2 åŸ¹è®­é…ç½®</h1><p id="55f6" class="pw-post-body-paragraph mo mp it lt b lu lv ju mq lw lx jx mr ly ms mt mu ma mv mw mx mc my mz na me im bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç¼–å†™è‡ªå®šä¹‰åŸ¹è®­é…ç½®ã€‚</p><pre class="kk kl km kn gt nb nc nd ne aw nf bi"><span id="b5e8" class="ng la it nc b gy nh ni l nj nk">cfg = get_cfg()<br/>cfg.merge_from_file(model_zoo.get_config_file("COCO-Detection/faster_rcnn_X_101_32x8d_FPN_3x.yaml"))<br/>cfg.DATASETS.TRAIN = ("my_dataset_train",)<br/>cfg.DATASETS.TEST = ("my_dataset_val",)</span><span id="37d3" class="ng la it nc b gy nv ni l nj nk">cfg.DATALOADER.NUM_WORKERS = 4<br/>cfg.MODEL.WEIGHTS = model_zoo.get_checkpoint_url("COCO-Detection/faster_rcnn_X_101_32x8d_FPN_3x.yaml")  # Let training initialize from model zoo<br/>cfg.SOLVER.IMS_PER_BATCH = 4<br/>cfg.SOLVER.BASE_LR = 0.001</span><span id="6387" class="ng la it nc b gy nv ni l nj nk">cfg.SOLVER.WARMUP_ITERS = 1000<br/>cfg.SOLVER.MAX_ITER = 1500 #adjust up if val mAP is still rising, adjust down if overfit<br/>cfg.SOLVER.STEPS = (1000, 1500)<br/>cfg.SOLVER.GAMMA = 0.05</span><span id="f396" class="ng la it nc b gy nv ni l nj nk">cfg.MODEL.ROI_HEADS.BATCH_SIZE_PER_IMAGE = 64<br/>cfg.MODEL.ROI_HEADS.NUM_CLASSES = 4</span><span id="b1c5" class="ng la it nc b gy nv ni l nj nk">cfg.TEST.EVAL_PERIOD = 500</span></pre><p id="b176" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">æˆ‘ä»¬åœ¨è¿™é‡Œè°ƒç”¨çš„æœ€å¤§çš„è®¾å¤‡æ˜¯å¯¹è±¡æ£€æµ‹æ¨¡å‹çš„ç±»å‹â€”â€”æ›´å¿«çš„å¤§å‹ RCNNã€‚Detectron2 å…è®¸ä½ åœ¨å†³å®šä½ çš„æ¨¡å‹æ¶æ„æ—¶æœ‰å¾ˆå¤šé€‰æ‹©ï¼Œä½ å¯ä»¥åœ¨<a class="ae ki" href="https://github.com/facebookresearch/detectron2/blob/master/MODEL_ZOO.md" rel="noopener ugc nofollow" target="_blank"> Detectron2 æ¨¡å‹åŠ¨ç‰©å›­</a>ä¸­çœ‹åˆ°ã€‚</p><p id="660d" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">ä»…å¯¹äºå¯¹è±¡æ£€æµ‹ï¼Œä»¥ä¸‹æ¨¡å‹æ˜¯å¯ç”¨çš„:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi oa"><img src="../Images/927c0d37cf40ee7a2b807951697b45f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4epeFqOWmeelbuv_.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated"><a class="ae ki" href="https://github.com/facebookresearch/detectron2/blob/master/MODEL_ZOO.md" rel="noopener ugc nofollow" target="_blank">æ¢æµ‹å™¨ 2 æ¨¡å‹åŠ¨ç‰©å›­</a>ä¸­å¯ç”¨çš„ç‰©ä½“æ¢æµ‹æ¨¡å‹ã€‚</p></figure><p id="1cc9" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">æˆ‘ä»¬åšçš„å¦ä¸€ä¸ªå¤§çš„é…ç½®é€‰æ‹©æ˜¯<code class="fe ns nt nu nc b">MAX_ITER</code>å‚æ•°ã€‚è¿™æŒ‡å®šäº†æ¨¡å‹å°†è®­ç»ƒå¤šé•¿æ—¶é—´ï¼Œæ‚¨å¯èƒ½éœ€è¦æ ¹æ®æ‚¨çœ‹åˆ°çš„éªŒè¯æŒ‡æ ‡ä¸Šä¸‹è°ƒæ•´ã€‚</p><h1 id="a6c2" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">è¿è¡Œæ£€æµ‹å™¨ 2 åŸ¹è®­</h1><p id="865f" class="pw-post-body-paragraph mo mp it lt b lu lv ju mq lw lx jx mr ly ms mt mu ma mv mw mx mc my mz na me im bi translated">åœ¨å¼€å§‹è®­ç»ƒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿æ¨¡å‹æ ¹æ®æˆ‘ä»¬çš„éªŒè¯é›†è¿›è¡ŒéªŒè¯ã€‚ä¸å¹¸çš„æ˜¯ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿™ä¸ä¼šå‘ç”ŸğŸ¤”ã€‚</p><p id="907a" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">æˆ‘ä»¬å¯ä»¥é€šè¿‡åŸºäºå¸¦æœ‰<code class="fe ns nt nu nc b">COCO Evaluator</code>çš„<code class="fe ns nt nu nc b">Default Trainer</code>å®šä¹‰æˆ‘ä»¬çš„å®šåˆ¶æ•™ç»ƒæ¥è½»æ¾åšåˆ°è¿™ä¸€ç‚¹:</p><pre class="kk kl km kn gt nb nc nd ne aw nf bi"><span id="4622" class="ng la it nc b gy nh ni l nj nk">from detectron2.engine import DefaultTrainer<br/>from detectron2.evaluation import COCOEvaluator</span><span id="fed2" class="ng la it nc b gy nv ni l nj nk">class CocoTrainer(DefaultTrainer):</span><span id="5ca4" class="ng la it nc b gy nv ni l nj nk"><a class="ae ki" href="http://twitter.com/classmethod" rel="noopener ugc nofollow" target="_blank">@classmethod</a><br/>  def build_evaluator(cls, cfg, dataset_name, output_folder=None):</span><span id="8b3b" class="ng la it nc b gy nv ni l nj nk">if output_folder is None:<br/>        os.makedirs("coco_eval", exist_ok=True)<br/>        output_folder = "coco_eval"</span><span id="b1da" class="ng la it nc b gy nv ni l nj nk">return COCOEvaluator(dataset_name, cfg, False, output_folder)</span></pre><p id="79d9" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬æœ‰äº†<code class="fe ns nt nu nc b">COCO Trainer</code>ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹è®­ç»ƒäº†:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ob"><img src="../Images/731d58c0a374ff2cde4954d1601a110c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8il_1hD9MmC4-MDW.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">åŸ¹å…»â°</p></figure><p id="1df2" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">åŸ¹è®­å°†æŒç»­ä¸€æ®µæ—¶é—´ï¼Œå¹¶åœ¨æˆ‘ä»¬çš„éªŒè¯é›†ä¸Šæ‰“å°å‡ºè¯„ä¼°æŒ‡æ ‡ã€‚å¥½å¥‡æƒ³çŸ¥é“ä»€ä¹ˆå›¾æ˜¯ç”¨æ¥è¯„ä»·çš„ï¼ŸæŸ¥çœ‹è¿™ç¯‡å…³äº<a class="ae ki" href="https://blog.roboflow.ai/what-is-mean-average-precision-object-detection/" rel="noopener ugc nofollow" target="_blank">åˆ†è§£å›¾</a>çš„æ–‡ç« ã€‚</p><p id="d47a" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">ä¸€æ—¦è®­ç»ƒç»“æŸï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­è¿›è¡Œè¯„ä¼°å’Œæ¨æ–­ï¼</p><h1 id="8ff9" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">è¯„ä¼°æ£€æµ‹å™¨ 2 çš„æ€§èƒ½</h1><p id="2ef9" class="pw-post-body-paragraph mo mp it lt b lu lv ju mq lw lx jx mr ly ms mt mu ma mv mw mx mc my mz na me im bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾ç¤ºä¸€ä¸ªç»“æœçš„ tensorboard æ¥æŸ¥çœ‹è®­ç»ƒè¿‡ç¨‹çš„æ‰§è¡Œæƒ…å†µã€‚</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nl"><img src="../Images/325a9cfc837f323e8c2d75a012b3a853.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Jm5KqRz_mEbnCDAl.png"/></div></div></figure><p id="1a6f" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">è¿™é‡Œæœ‰å¾ˆå¤šæœ‰è¶£çš„æŒ‡æ ‡â€”â€”æœ€è‘—åçš„æ˜¯<code class="fe ns nt nu nc b">total_loss</code>å’Œ<code class="fe ns nt nu nc b">validation mAP</code>ã€‚</p><p id="e374" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">æˆ‘ä»¬åœ¨æµ‹è¯•é›†ä¸Šè¿è¡ŒéªŒè¯å›¾ä¸­ä½¿ç”¨çš„ç›¸åŒè¯„ä¼°è¿‡ç¨‹ã€‚</p><pre class="kk kl km kn gt nb nc nd ne aw nf bi"><span id="fd96" class="ng la it nc b gy nh ni l nj nk">from detectron2.data import DatasetCatalog, MetadataCatalog, build_detection_test_loader<br/>from detectron2.evaluation import COCOEvaluator, inference_on_dataset</span><span id="6fda" class="ng la it nc b gy nv ni l nj nk">cfg.MODEL.WEIGHTS = os.path.join(cfg.OUTPUT_DIR, "model_final.pth")<br/>cfg.MODEL.ROI_HEADS.SCORE_THRESH_TEST = 0.85<br/>predictor = DefaultPredictor(cfg)<br/>evaluator = COCOEvaluator("my_dataset_test", cfg, False, output_dir="./output/")<br/>val_loader = build_detection_test_loader(cfg, "my_dataset_test")<br/>inference_on_dataset(trainer.model, val_loader, evaluator)</span></pre><p id="929e" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">å±ˆæœ:</p><pre class="kk kl km kn gt nb nc nd ne aw nf bi"><span id="045b" class="ng la it nc b gy nh ni l nj nk">Accumulating evaluation results...<br/>DONE (t=0.03s).<br/> Average Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.592<br/> Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.881<br/> Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.677<br/> Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.178<br/> Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.613<br/> Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.411<br/> Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.392<br/> Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.633<br/> Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.684<br/> Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.257<br/> Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.709<br/> Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.439<br/>[06/23 18:39:47 d2.evaluation.coco_evaluation]: Evaluation results for bbox: <br/>|   AP   |  AP50  |  AP75  |  APs   |  APm   |  APl   |<br/>|:------:|:------:|:------:|:------:|:------:|:------:|<br/>| 59.169 | 88.066 | 67.740 | 17.805 | 61.333 | 41.070 |<br/>[06/23 18:39:47 d2.evaluation.coco_evaluation]: Per-category bbox AP: <br/>| category   | AP     | category   | AP     | category   | AP     |<br/>|:-----------|:-------|:-----------|:-------|:-----------|:-------|<br/>| cells      | nan    | Platelets  | 40.141 | RBC        | 60.326 |<br/>| WBC        | 77.039 |            |        |            |        |</span></pre><p id="5209" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">è¯¥è¯„ä¼°å°†è®©æ‚¨å¾ˆå¥½åœ°äº†è§£æ–°çš„ custom Detectron2 æ¢æµ‹å™¨åœ¨é‡å¤–çš„è¡¨ç°ã€‚åŒæ ·ï¼Œå¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºè¿™äº›æŒ‡æ ‡çš„ä¿¡æ¯ï¼Œè¯·çœ‹è¿™ç¯‡æ–‡ç« <a class="ae ki" href="https://blog.roboflow.ai/what-is-mean-average-precision-object-detection/" rel="noopener ugc nofollow" target="_blank">åˆ†è§£å›¾</a>ã€‚</p><h1 id="ec47" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">å¯¹æµ‹è¯•å›¾åƒè¿è¡Œ Detectron2 æ¨ç†</h1><p id="fb60" class="pw-post-body-paragraph mo mp it lt b lu lv ju mq lw lx jx mr ly ms mt mu ma mv mw mx mc my mz na me im bi translated">æœ€åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨çœŸå®å›¾åƒä¸Šè¿è¡Œæˆ‘ä»¬æ–°çš„å®šåˆ¶æ£€æµ‹å™¨ 2 æ£€æµ‹å™¨ï¼è¯·æ³¨æ„ï¼Œè¿™äº›å›¾åƒæ˜¯<strong class="lt iu">æ¨¡ç‰¹ä»æœªè§è¿‡çš„</strong></p><pre class="kk kl km kn gt nb nc nd ne aw nf bi"><span id="1bee" class="ng la it nc b gy nh ni l nj nk">cfg.MODEL.WEIGHTS = os.path.join(cfg.OUTPUT_DIR, "model_final.pth")<br/>cfg.DATASETS.TEST = ("my_dataset_test", )<br/>cfg.MODEL.ROI_HEADS.SCORE_THRESH_TEST = 0.7   # set the testing threshold for this model<br/>predictor = DefaultPredictor(cfg)<br/>test_metadata = MetadataCatalog.get("my_dataset_test")</span><span id="c1b0" class="ng la it nc b gy nv ni l nj nk">from detectron2.utils.visualizer import ColorMode<br/>import glob</span><span id="7c68" class="ng la it nc b gy nv ni l nj nk">for imageName in glob.glob('/content/test/*jpg'):<br/>  im = cv2.imread(imageName)<br/>  outputs = predictor(im)<br/>  v = Visualizer(im[:, :, ::-1],<br/>                metadata=test_metadata, <br/>                scale=0.8<br/>                 )<br/>  out = v.draw_instance_predictions(outputs["instances"].to("cpu"))<br/>  cv2_imshow(out.get_image()[:, :, ::-1])</span></pre><p id="ccc7" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">å±ˆæœ:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/30f53583046c4c0991182995a0c25e96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/0*bwFTMpn6yz2AW1W2.png"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">æµ‹è¯•å›¾åƒä¸Šçš„æ¨æ–­çœ‹èµ·æ¥ç›¸å½“ä¸é”™ï¼</p></figure><p id="fe7c" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">æˆ‘ä»¬çš„æ¨¡å‹åšå‡ºäº†å¾ˆå¥½çš„é¢„æµ‹ï¼Œè¡¨æ˜å®ƒå·²ç»å­¦ä¼šäº†å¦‚ä½•è¯†åˆ«çº¢ç»†èƒã€ç™½ç»†èƒå’Œè¡€å°æ¿ã€‚</p><p id="fc46" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">æ‚¨å¯ä»¥è€ƒè™‘ä½¿ç”¨<code class="fe ns nt nu nc b">SCORE_THRESH_TEST</code>æ¥æ”¹å˜æ¨¡å‹è¿›è¡Œé¢„æµ‹æ‰€éœ€çš„ç½®ä¿¡åº¦é˜ˆå€¼ã€‚</p><p id="4fd0" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">æ‚¨ç°åœ¨å¯ä»¥å°†æƒé‡ä¿å­˜åœ¨<code class="fe ns nt nu nc b">os.path.join(cfg.OUTPUT_DIR, "model_final.pt")</code>ä¸­ï¼Œä»¥ä¾¿å°†æ¥é€šè¿‡å¯¼å‡ºåˆ° Google Drive è¿›è¡Œæ¨æ–­ã€‚</p><p id="4a28" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">æ‚¨è¿˜å¯ä»¥åœ¨<code class="fe ns nt nu nc b">outputs</code>å¯¹è±¡ä¸­çœ‹åˆ°æ½œåœ¨çš„é¢„æµ‹å¼ é‡ï¼Œä»¥ä¾¿åœ¨åº”ç”¨ç¨‹åºçš„å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚</p><h1 id="60af" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">ç»“è®º</h1><p id="7878" class="pw-post-body-paragraph mo mp it lt b lu lv ju mq lw lx jx mr ly ms mt mu ma mv mw mx mc my mz na me im bi translated">æ­å–œä½ ï¼ç°åœ¨ï¼Œæ‚¨çŸ¥é“å¦‚ä½•åœ¨ä¸€ä¸ªå…¨æ–°çš„é¢†åŸŸä¸­è®­ç»ƒæ‚¨è‡ªå·±çš„ custom Detectron2 æ£€æµ‹å™¨ã€‚</p><p id="c79a" class="pw-post-body-paragraph mo mp it lt b lu nm ju mq lw nn jx mr ly no mt mu ma np mw mx mc nq mz na me im bi translated">çœ‹ä¸åˆ°å‰è¿›æ‰€éœ€çš„ç»“æœï¼Ÿè‡ªä» Detectron2 æ¨¡å‹åŠ¨ç‰©å›­å‘å¸ƒä»¥æ¥ï¼Œå¯¹è±¡æ£€æµ‹æ¨¡å‹å·²ç»å¾—åˆ°äº†æ”¹è¿›â€”â€”å¯ä»¥è€ƒè™‘çœ‹çœ‹æˆ‘ä»¬çš„ä¸€äº›å…¶ä»–æ•™ç¨‹ï¼Œä¾‹å¦‚<a class="ae ki" href="https://blog.roboflow.ai/how-to-train-yolov5-on-a-custom-dataset/" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•è®­ç»ƒ YOLOv5 </a>å’Œ<a class="ae ki" href="https://blog.roboflow.ai/training-yolov4-on-a-custom-dataset/" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•è®­ç»ƒ YOLOv4 </a>ï¼Œæˆ–è€…è¿™ç¯‡å…³äº<a class="ae ki" href="https://blog.roboflow.ai/yolov5-improvements-and-evaluation/" rel="noopener ugc nofollow" target="_blank">åœ¨ YOLO v5 </a>ä¸­çš„æ”¹è¿›çš„æ–‡ç« ã€‚</p></div></div>    
</body>
</html>