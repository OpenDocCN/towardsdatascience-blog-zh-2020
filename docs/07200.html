<html>
<head>
<title>Space Science with Python — A comet in 3 D</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python的空间科学——3d彗星</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/space-science-with-python-a-comet-in-3-d-3774b1d71d9b?source=collection_archive---------63-----------------------#2020-06-01">https://towardsdatascience.com/space-science-with-python-a-comet-in-3-d-3774b1d71d9b?source=collection_archive---------63-----------------------#2020-06-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="62d1" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/space-science-with-python" rel="noopener" target="_blank">用Python进行空间科学</a></h2><div class=""/><div class=""><h2 id="1281" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated"><a class="ae kr" href="https://towardsdatascience.com/tagged/space-science-with-python" rel="noopener" target="_blank">系列教程的第12部分</a>将以对一颗特殊彗星的科学观察开始:67P/Churyumov–Gerasimenko</h2></div><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ks"><img src="../Images/37f35d4083830d8f6c2bdbf7b0afed2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aTuGlMVZRn2OaghjlxN4Qg.gif"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">彗星67P/Churyumov-Gerasimenko的三维渲染模型。一个人怎么能理解、工作和想象如此美好的形状模型呢？这就是我们今天课程的目标。贷方:T. Albin</p></figure><h1 id="db48" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">前言</h1><p id="fa04" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated"><em class="mw">这是我的Python教程系列“Python的空间科学”的第12部分。这里显示的所有代码都上传到</em> <a class="ae kr" href="https://github.com/ThomasAlbin/SpaceScienceTutorial" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> GitHub </em> </a> <em class="mw">上。尽情享受吧！</em></p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="6b6a" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">(简短的个人)介绍</h1><p id="17c1" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">今天是2014年11月12日。过去的几天是压倒性的。如此激动，以至于我没有睡多少觉…现在…我在等待，和其他几位科学家一起坐在屏幕前，等待并见证人类历史上的一个科学和工程里程碑:宇宙飞船在67P/Churyumov-Gerasimenko彗星上着陆。着陆器的名字:菲莱；欧空局任务<strong class="mc jd">罗塞塔/菲莱</strong>的重要组成部分。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="nj nk l"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">罗塞塔号宇宙飞船穿越行星际空间的轨迹。这个动画使用Rosetta spk <a class="ae kr" href="https://naif.jpl.nasa.gov/naif/index.html" rel="noopener ugc nofollow" target="_blank"> SPICE </a>内核来计算航天器和天体的路径。今天，我们先来看看用来制作这个动画的库。贷方:T. Albin</p></figure><p id="bd84" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">航天器任务确实是一代工程。我看过一些文件，记录了我在小学时的想法和目标。在中学教育期间发射了该任务(2004年)，在学士研究期间，该任务仍在星际空间飞行(2009-2012年)。然后，在我2014年攻读硕士学位期间，我现在和科学家们坐在科隆(德国)的着陆器控制中心，在尘埃撞击监测器(DIM)团队工作，作为表面电探测和声学监测实验(SESAME)合作的一部分[1，2，3]。DIM是着陆器上一个立方体大小和形状的仪器。它的目的是测量毫米大小的尘埃颗粒在着陆(下降)阶段对彗星表面本身的影响。测量原理很简单:DIM通过对压电元件的冲击来分析和推导粒子的属性……这些电子元件将摇摆的吉他弦转换为电信号……使其成为一把<em class="mw">电吉他</em>。</p><p id="702b" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">“菲莱”的着陆和“罗塞塔”轨道飞行器数月的密切观察揭示了一个在我们太阳系最开始形成的古老宇宙世界:由水冰、矿物质和丰富的有机化合物组成。罗塞塔/菲莱，以及与它相关的我的个人故事，可能会成为另一篇数据较少的科学媒体文章的一个很好的补充。就目前而言，重要的是这次任务收集了大量的数据，这些数据已经被分析或者仍在等待分析，并且<a class="ae kr" href="https://www.aanda.org/component/toc/?task=topic&amp;id=977" rel="noopener ugc nofollow" target="_blank">已经发布了</a>。所有的数据都是公开的，要么在<a class="ae kr" href="https://pds.nasa.gov/" rel="noopener ugc nofollow" target="_blank"> NASA的行星数据系统网站</a> (PDS)上，要么在<a class="ae kr" href="https://archives.esac.esa.int/psa/" rel="noopener ugc nofollow" target="_blank"> ESA的行星科学档案馆</a> (PSA)上。</p><p id="1869" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">在上一节课中，我们学习了很多关于彗星的知识，它们的起源，它们与木星的关系以及观测偏差。今天，我们将看看这颗示范性彗星核心的形状。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi nq"><img src="../Images/fa3a9f1912c3e15338d97fa15cda21f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KBJYQViQh4KHK_4OK1SJvQ.jpeg"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">彗星是否给地球带来了必不可少的生命“积木”？也许吧。<a class="ae kr" href="https://www.esa.int/Science_Exploration/Space_Science/Rosetta/Rosetta_s_comet_contains_ingredients_for_life" rel="noopener ugc nofollow" target="_blank">67P/Churyumov–Gerasimenko(图片)确实含有至关重要的有机化合物</a>。离开彗星的白色“条纹”是尘埃和气流。鸣谢:<a class="ae kr" href="https://www.esa.int/ESA_Multimedia/Images/2016/05/Rosetta_s_comet" rel="noopener ugc nofollow" target="_blank">ESA/Rosetta/NavCam</a>；许可证:<a class="ae kr" href="https://creativecommons.org/licenses/by-sa/3.0/igo/" rel="noopener ugc nofollow" target="_blank"> CC BY-SA IGO 3.0 </a></p></figure></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="8516" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">形状模型</h1><p id="1f9f" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">Preusker等人(2015) [1]使用了来自轨道飞行器Rosetta上一个名为<em class="mw">光学、光谱和红外远程成像系统</em> (OSIRIS)的相机系统的图像数据，为这颗形状怪异的彗星定义了一个坐标系统，并导出了一个所谓的形状模型。一个形状模型包含了一个物体的三维信息，允许一个人渲染，可视化和处理三维物体。形状模型包含所谓的<em class="mw">顶点</em>和另外的<em class="mw">边</em>或<em class="mw">面</em>信息:</p><ul class=""><li id="ad83" class="nr ns it mc b md nl mg nm mj nt mn nu mr nv mv nw nx ny nz bi translated"><strong class="mc jd">顶点</strong>:顶点是一个简单的位置向量，包含空间中一个点的X、Y和Z坐标</li><li id="863a" class="nr ns it mc b md oa mg ob mj oc mn od mr oe mv nw nx ny nz bi translated"><strong class="mc jd">边</strong>:边将顶点连接在一起。它们包含连接的相应顶点的两个索引信息</li><li id="5108" class="nr ns it mc b md oa mg ob mj oc mn od mr oe mv nw nx ny nz bi translated"><strong class="mc jd">面</strong>:边缘包围了被称为面的区域。代替定义边，可以定义创建面(例如，三角形、矩形等)的顶点索引列表。)</li></ul><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi of"><img src="../Images/e092bb83908b893a99a9184e3cec5124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OxB4o_NzwmMsbuRmDF1-pA.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">形状模型三角形的约定(示例)。贷方:T. Albin</p></figure><p id="3209" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">彗星67P的形状模型也由所谓的<em class="mw">导航相机</em> (NAVCAM)得出，这些相机用于确定航天器在太空中的方位。NAVCAM是一个有意的工程设备，允许一个人获得科学的洞察力。</p><p id="6b3c" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">我们在之前的教程中使用的NASA强大的<a class="ae kr" href="https://naif.jpl.nasa.gov/naif/index.html" rel="noopener ugc nofollow" target="_blank"> SPICE </a>工具包有一些很棒的功能来处理形状模型。这些模型被缩写为所谓的<em class="mw"> dsk </em> s(数字形状内核)。我们将在以后回到<em class="mw"> dsk </em>函数。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="fb1d" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">67P上的三维视图</h1><p id="cd1d" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">今天我们将需要安装一个新的3 D渲染的包:<a class="ae kr" href="https://github.com/almarklein/visvis" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> visvis </em> </a>。<em class="mw"> visvis </em>使用各种图形后端，如:<a class="ae kr" href="https://www.fltk.org/" rel="noopener ugc nofollow" target="_blank"> FLTK </a>、<a class="ae kr" href="https://www.gtk.org/" rel="noopener ugc nofollow" target="_blank"> GTK </a>、<a class="ae kr" href="https://www.wxpython.org/" rel="noopener ugc nofollow" target="_blank"> Wx </a>以及<a class="ae kr" href="https://pypi.org/project/PyQt5/" rel="noopener ugc nofollow" target="_blank"> PyQT5 </a>。在本教程中，我们将使用QT并通过以下方式安装它:</p><pre class="kt ku kv kw gt og oh oi oj aw ok bi"><span id="01fe" class="ol lj it oh b gy om on l oo op">pip install PyQt5</span></pre><p id="ad49" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">现在我们可以通过以下方式安装<em class="mw"> visvis </em>:</p><pre class="kt ku kv kw gt og oh oi oj aw ok bi"><span id="571b" class="ol lj it oh b gy om on l oo op">pip install visvis</span></pre><p id="b547" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">请注意一些事情:这个会话的安装和测试已经在Mac OS Catalina上完成。如果您在Linux或Windows上遇到任何问题，请不要犹豫，在这里提问。我们会想办法解决的。</p><p id="b126" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">如果你对更多的例子感兴趣，visvis的创建者提供了一个很好的wiki页面。创建者还声明有类似的库，如<a class="ae kr" href="https://github.com/vispy/vispy/" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> vispy </em> </a>。</p><p id="a15a" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">首先，让我们导入已经知道的库(还有<a class="ae kr" href="http://imageio.github.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> imageio </em> </a>和<a class="ae kr" href="https://github.com/tqdm/tqdm" rel="noopener ugc nofollow" target="_blank"> <em class="mw"> tqdm </em> </a>在<a class="ae kr" rel="noopener" target="_blank" href="/space-science-with-python-supplements-for-papers-4876ec46b418">补充文章</a>中使用)。我们还需要自定义函数<em class="mw"> func </em>(第10行)来下载形状模型。由于其大小约为85 MB，形状模型无法存储在教程对应的<a class="ae kr" href="https://github.com/ThomasAlbin/SpaceScienceTutorial" rel="noopener ugc nofollow" target="_blank"> GitHub </a>存储库中。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oq nk l"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">第1/10部分</p></figure><p id="093b" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">应为形状模型创建额外的文件夹(第2行)。模型的下载链接列在第3行和第4行。您可以看到该链接包含了<em class="mw"> dsk </em> SPICE符号。形状模型的文件名看起来有点神秘，所以让我们来看看文件夹对应的<a class="ae kr" href="https://repos.cosmos.esa.int/socci/projects/SPICE_KERNELS/repos/rosetta/raw/kernels/dsk/aareadme.txt" rel="noopener ugc nofollow" target="_blank">自述文件</a>。它指出:</p><pre class="kt ku kv kw gt og oh oi oj aw ok bi"><span id="b138" class="ol lj it oh b gy om on l oo op">ROSETTA Spacecraft DSK Naming Convention for the science phase:<br/><br/>                PPP_BB_RRRR_IMETPRO_N_VV.BDS</span></pre><p id="14ae" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">缩写如下:</p><pre class="kt ku kv kw gt og oh oi oj aw ok bi"><span id="50fa" class="ol lj it oh b gy om on l oo op">token          description<br/>------------   --------------------------------------------<br/>PPP            project prefix: ROS<br/><br/>BB             body: CG for 67P/C-G, LU for Lutetia, or ST for <br/>               Steins<br/><br/>RRRR           number of plates: Knnn (for nnn thousand plates) or<br/>               Mnnn (for mmm million plates)</span><span id="ccbe" class="ol lj it oh b gy or on l oo op">IMETPRO        camera-method-producer combined into a single <br/>               7-character token:<br/><br/>               I   -  camera:<br/><br/>                 O for OSIRIS<br/>                 N for NAVCAM<br/>                 M for multiple<br/><br/>               MET -  method:<br/><br/>                 SPC for StereoPhotoClinometry<br/>                 MSD for Multi-Resolution StereoPhotoClinometry<br/>                 SPG for StereoPhotoGranulometry<br/><br/>               PRO -  producer:<br/><br/>                 ESA for European Space Agency/ESOC<br/>                 LAM for Laboratoire d'Astrophysique de Marseille<br/>                 LPS for Laboratoire d'Astrophysique de Marseille<br/>                         + Planetary Science Institute<br/>                 DLR for Deutsches Zentrum fur Luft- und Raumfahrt<br/>                         e.V.<br/><br/>N              surface naming: U for unnamed (surface ID = body ID, <br/>               for use with Toolkits N0065 or earlier) or N for <br/>               named (surface IDs are set to distinct numbers that <br/>               are mapped to surface names using keywords provided            <br/>               in the project FK v25 or later)</span><span id="c446" class="ol lj it oh b gy or on l oo op">VV             version: V1, V2, V3 ....<br/><br/>BDS            extension: .BDS</span></pre><p id="ef25" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">在我们的例子中，我们有一个来自罗塞塔任务(<em class="mw"> ROS </em>)的彗星67P/Churyumov–Gerasimenko(<em class="mw">CG</em>)的形状模型。数据集(<em class="mw"> M0001 </em>)中至少有100万个车牌(人脸)，由马赛天体物理实验室(<em class="mw"> LPS </em> ): <em class="mw"> OSPCLPS </em>用所谓的立体照片倾斜法(<em class="mw"> SPC </em>)从OSIRIS相机(<em class="mw"> O </em>)中导出。该对象被命名为(<em class="mw"> N </em>)，当前版本为1 ( <em class="mw"> V1 </em>)。数据存储在所谓的<em class="mw"> OBJ </em>文件中。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oq nk l"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">第2/10部分</p></figure><p id="effd" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">下载完成后，我们用<a class="ae kr" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> <em class="mw">【熊猫】</em></a><a class="ae kr" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html" rel="noopener ugc nofollow" target="_blank"><em class="mw">read _ CSV</em></a>函数加载形状模型。该文件有4列。第一个表示顶点带<em class="mw"> v </em>或面带<em class="mw"> f </em>的类型。最后三列是相应的坐标(顶点)或顶点索引(面)。根据打印结果(见下文),我们有将近600，000个顶点和超过100万个面，正如文件名已经指出的那样。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oq nk l"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">第3/10部分</p></figure><pre class="kt ku kv kw gt og oh oi oj aw ok bi"><span id="76e1" class="ol lj it oh b gy om on l oo op">Some statistics and parameters of the shape model<br/>Rows and columns of the data set: (1791747, 4)<br/>Number of vertices: 597251<br/>Number of faces: 1194496</span></pre><p id="1e4c" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">现在，我们可以通过用<em class="mw">熊猫</em><a class="ae kr" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.head.html" rel="noopener ugc nofollow" target="_blank">T3】头T5】函数打印前5行来看看顶点(第2行和第3行)和面(第4行和第5行)数据:</a></p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oq nk l"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">第4/10部分</p></figure><p id="8ba7" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">我们可以看到顶点的坐标和顶点(面)的索引。顶点的坐标以千米为单位，代表了彗星内核的实际三维物理尺寸！</p><pre class="kt ku kv kw gt og oh oi oj aw ok bi"><span id="f5d4" class="ol lj it oh b gy om on l oo op">Vertices (Sample)<br/>  TYPE        X1        X2        X3<br/>0    v  0.570832 -1.000444  0.532569<br/>1    v  0.564360 -1.000224  0.525360<br/>2    v  0.557853 -0.997863  0.520762<br/>3    v  0.553592 -0.998414  0.512192<br/>4    v  0.550212 -0.992514  0.507304<br/>Faces (Sample)<br/>       TYPE      X1      X2      X3<br/>597251    f   474.0   522.0   305.0<br/>597252    f   474.0   719.0   522.0<br/>597253    f  1961.0  2160.0  1651.0<br/>597254    f  1961.0  2159.0  2160.0<br/>597255    f  5513.0  5668.0  5285.0</span></pre><p id="1ede" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">通过将顶点子集转换为带有<a class="ae kr" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.tolist.html" rel="noopener ugc nofollow" target="_blank"> <em class="mw">到</em> </a>的列表，我们可以很容易地为Python列表分配顶点(第2行和第3行)。然而，faces(第4行)需要更多的数据解析。我们将在下一个代码片段中看到它。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oq nk l"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">第5/10部分</p></figure><p id="6e09" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">让我们打印面子集中的最小(第2行)和最大(第3行)顶点索引…</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oq nk l"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">第6/10部分</p></figure><p id="3b69" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">…我们看到，最小索引是1；此外，该指数似乎是浮动的。对于我们的Python例程，索引从0开始。我们需要将指数减去1:</p><pre class="kt ku kv kw gt og oh oi oj aw ok bi"><span id="23cf" class="ol lj it oh b gy om on l oo op">Minimum vertex index in faces: 1.0<br/>Maximum vertex index in faces: 597251.0</span></pre><p id="0f9f" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">减法只在第2行完成。然后，我们将浮点数转换成整数，并将faces子集转换成Python列表。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oq nk l"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">第7/10部分</p></figure><p id="fb86" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">我们现在准备好出发了！我们应该能够调整窗口的分辨率，根据计算机的性能来改变设置。为此，<em class="mw"> visvis </em>的<a class="ae kr" href="https://github.com/almarklein" rel="noopener ugc nofollow" target="_blank">创建者</a>为QT4 提供了一个<a class="ae kr" href="https://github.com/almarklein/visvis/blob/master/examples/embeddingInQt4.py" rel="noopener ugc nofollow" target="_blank">的好例子。我们需要更改第五季度的一些进口商品:</a></p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oq nk l"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">第8/10部分</p></figure><p id="491f" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">我们已经准备好探索我们的彗星了！首先，我们创建<em class="mw"> visvis </em>应用程序(第2行和第3行)。我们创建之前在第6行定义的主窗口，并在第7行设置合适的分辨率。现在，用<a class="ae kr" href="https://github.com/almarklein/visvis/wiki/functions#mesh" rel="noopener ugc nofollow" target="_blank"> <em class="mw">网格</em> </a>功能读取形状模型。提交顶点和面以及一个参数，该参数告诉函数有多少个顶点定义了一个面(这里:3)。第14行获取axes对象(类似于<em class="mw"> matplotlib </em>)，允许我们设置背景颜色(第17行)和调整一些参数(第20和21行)。现在，我们在第26行设置一个相机设置(<em class="mw"> 3d </em>)。注意:如果你想沿着彗星“飞”，就像在一个游戏里一样(用w-a-s-d(平移)和i-j-k-l(倾斜))，把这个参数换成“飞”。在29中定义了视场以及初始摄像机的方位角和仰角(线32和33)。最后，我们可以运行它(第36行)。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oq nk l"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">第9/10部分</p></figure><p id="f23d" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">下面，你可以看一个短片。请随意在您的计算机上本地运行该应用程序，调整设置并探索这个宇宙世界。67P造型诡异。它很可能是由一个双星系统组成，在过去的某个时刻合并而成。“橡胶鸭”由两个带有弹坑和盆地的身体组成，而中间的“脖子”则要光滑得多。物体(486958) Arrokoth的形状与美国国家航空航天局的新视野号相似。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi os"><img src="../Images/12f16ceaee7593a559fa49cccf1c8c7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*CP34F3q2UMmUrI_Y_zbLJw.gif"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">“吊儿郎当”探索彗星67P。左键单击:旋转彗星。滚轮:放大和缩小。shift+左键单击:更改相机的指向点。双击左键:默认相机复位。贷方:T. Albin</p></figure><p id="36de" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">最后，让我们以教程开头的第一个动画来结束我们的探索。为此，我们设置了一个较小的分辨率，因为生成的GIF不应超过25 MB(中等限制；第9行)。我们在第14行和第15行改变彗星的物质属性；生成的对象不太亮，看起来更真实。此外，默认情况下，我们的相机视图有一个“附加聚光灯”来照亮物体。我们关闭这个光源(第36和37行)并在第38行添加一个固定光源。现在，在第44行到第57行中，我们在一个for循环中动态地改变相机的方位角(第47行)，并在每一步中重新绘制图形(第50行和第51行)。在第54行提取结果图像，第57行将图像数据转换为8位矩阵，并将结果附加到第41行定义的列表中。最后，在第60行，我们创建一个GIF格式的动画。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oq nk l"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">第10/10部分</p></figure><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ot"><img src="../Images/1f4a5fba104c6a086d49b1728cbd497e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*MMdl20lCw7rHczKOlt5QMA.gif"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">我们从一开始就以最终的形状模型可视化来结束今天的课程。这个可视化结果来自代码片段10/10。贷方:T. Albin</p></figure></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="8a59" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">结论</h1><p id="2ca5" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">享受Python和<em class="mw"> visvis </em>的3 D力量！在等待多年到达彗星后，科学家们花费了数百个小时来推导这一科学上高度精确的形状模型！现在由你来探索这个世界，并将模型与存储在<a class="ae kr" href="https://www.esa.int/ESA_Multimedia/Images" rel="noopener ugc nofollow" target="_blank"> ESA图像数据库</a>中的实际观察结果进行比较。我们将使用这个模型，并获得更多的参数，如彗星的整个表面，我们还将使用67P坐标系。<em class="mw">我们对67P了解多少？</em></p><p id="62c1" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">托马斯</p><h1 id="b18b" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">附录</h1><p id="7ccc" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">顺便说一句。我展示的方法实际上已经被用于科学见解和出版物！看一下【2】:<a class="ae kr" href="https://www.aanda.org/articles/aa/pdf/2015/11/aa26400-15.pdf" rel="noopener ugc nofollow" target="_blank">链接</a>。在图3中，您可以看到当时的最新模型。有了菲莱相应的spk内核，你可以试着重现这个图形(没有着陆器)！</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="8938" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">参考</h1><p id="aa58" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">[1]阿尔贝托·弗兰德斯；哈拉尔德·克吕格；松，亚历山大；阿尔宾，托马斯；阿诺德沃尔特。Rosetta/Philae上的尘埃撞击监测器(DIM):用冰粒作为彗星模拟材料的测试。行星和空间科学，第99卷，第128-135页。2014年9月。DOI:<a class="ae kr" href="https://ui.adsabs.harvard.edu/link_gateway/2014P&amp;SS...99..128F/doi:10.1016/j.pss.2014.05.014" rel="noopener ugc nofollow" target="_blank">10.1016/j . PSS . 2014 . 05 . 014</a></p><p id="a1ab" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">[2]克吕格，哈拉尔德；克劳斯·塞登斯蒂克；汉斯-赫伯特·菲舍尔；阿尔宾，托马斯；冷漠，Istvan阿诺德、沃尔特；阿尔贝托·弗兰德斯；Hirn，阿提拉；小林，正德；松，亚历山大；彼得，阿提拉；莫里斯·波多拉克。<em class="mw">在彗星67P/Churyumov-Gerasimenko </em>进行尘埃撞击监测(SESAME-DIM)测量。天文学&amp;天体物理学，第583卷，同上。A15，13页，2015年11月。DOI:<a class="ae kr" href="https://ui.adsabs.harvard.edu/link_gateway/2015A&amp;A...583A..15K/doi:10.1051/0004-6361/201526400" rel="noopener ugc nofollow" target="_blank">10.1051/0004–6361/2015 26 400</a>。arXiv: <a class="ae kr" href="https://ui.adsabs.harvard.edu/link_gateway/2015A&amp;A...583A..15K/arxiv:1510.01563" rel="noopener ugc nofollow" target="_blank"> arXiv:1510.0156 </a></p><p id="d3cd" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">[3] Hirn，阿提拉；阿尔宾，托马斯；Apáthy，istván；德拉·科尔特，文森佐；汉斯-赫伯特·菲舍尔；阿尔贝托·弗兰德斯；松，亚历山大；彼得，阿提拉；克劳斯·塞登斯蒂克；哈拉尔德·克鲁格。<em class="mw">Rosetta/Philae上的尘埃撞击监测器(SESAME-DIM):彗星67P/Churyumov-Gerasimenko上的毫米粒子通量</em>。天文学&amp;天体物理学，第591卷，同上。A93，7页，2016年6月。DOI:<a class="ae kr" href="https://ui.adsabs.harvard.edu/link_gateway/2016A&amp;A...591A..93H/doi:10.1051/0004-6361/201628370" rel="noopener ugc nofollow" target="_blank">10.1051/0004–6361/201628370</a>。arXiv:<a class="ae kr" href="https://ui.adsabs.harvard.edu/link_gateway/2016A&amp;A...591A..93H/arxiv:1605.06291" rel="noopener ugc nofollow" target="_blank">arXiv:1605.06291</a></p><p id="500e" class="pw-post-body-paragraph ma mb it mc b md nl kd mf mg nm kg mi mj nn ml mm mn no mp mq mr np mt mu mv im bi translated">[4]普劳斯克，f；斯霍尔滕，女；马茨，k-d；t .罗奇；k .威尔纳；Hviid，S. F .Knollenberg，j；约尔达湖；古铁雷斯，P. J .库尔特，e；莫托拉；阿赫恩先生。n .托马斯；西耶克斯，h。巴比耶里特区；拉米，p；罗德里戈河；科斯尼博士；里克曼；凯勒，H. U .阿加瓦尔，j。巴鲁奇，文学硕士。贝尔托，j .-l；贝尔蒂尼岛；克雷莫内塞；达·德普诉；戴维森湾；德贝，s；德切科，硕士；福纳西尔公司；富勒，硕士；o .格劳辛岛；居特勒角；叶文辉；克拉姆；库珀斯，m；拉拉，法律硕士；拉扎林，m；洛佩兹·莫雷诺，J. J。马尔扎里，女；米查利克；纳莱托，g；新泽西州奥克雷；图比亚纳角；Vincent，J. -B. <em class="mw">彗星67P/Churyumov-Gerasimenko的形状模型、参考系统定义和制图标准——Rosetta/OSIRIS图像数据的立体摄影测量分析</em>。天文学&amp;天体物理学，第583卷，同上。A33，19页，2015年11月。DOI:<a class="ae kr" href="https://ui.adsabs.harvard.edu/link_gateway/2015A&amp;A...583A..33P/doi:10.1051/0004-6361/201526349" rel="noopener ugc nofollow" target="_blank">10.1051/0004–6361/201526349</a></p></div></div>    
</body>
</html>