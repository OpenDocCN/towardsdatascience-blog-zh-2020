<html>
<head>
<title>Debugging Jupyter Notebooks Will Boost Your Productivity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">调试 Jupyter 笔记本电脑将提高您的工作效率</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/debugging-jupyter-notebooks-will-boost-your-productivity-a33387f4fa62?source=collection_archive---------8-----------------------#2020-03-30">https://towardsdatascience.com/debugging-jupyter-notebooks-will-boost-your-productivity-a33387f4fa62?source=collection_archive---------8-----------------------#2020-03-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3600" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用调试提高 Jupyter 笔记本电脑的工作效率</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bacebdb76e4091262c6c22868b5cf4b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UaskX_kMbdLD6HfVE2-n8w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">蒂莫西·戴克斯在<a class="ae ky" href="https://unsplash.com/s/photos/debugging?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><h1 id="fc1c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">天真的方式——伐木</h1><p id="950e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们在开发程序时都会遇到代码中的错误，日志记录是调试代码的一种很好的方式，可能也是最直观的方式。通常的做法是在代码中添加<em class="mn"> print </em>语句，这有助于我们追踪许多问题的根源。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="547a" class="mt la it mp b gy mu mv l mw mx">import random<br/>def find_max (values):<br/>   max = 0<br/>   print(f”Initial max is {max}”)<br/>   for val in values:<br/>      if val &gt; max:<br/>         max = val<br/>   return max<br/>find_max(random.sample(range(100), 10))</span></pre><h2 id="64b8" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated">优势:</h2><ul class=""><li id="d08c" class="nj nk it lt b lu lv lx ly ma nl me nm mi nn mm no np nq nr bi translated">容易的</li><li id="cff9" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">不需要安装</li></ul><h2 id="1257" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated"><strong class="ak">缺点:</strong></h2><ul class=""><li id="0372" class="nj nk it lt b lu lv lx ly ma nl me nm mi nn mm no np nq nr bi translated">可能是垃圾邮件</li><li id="ca3a" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">很难确定容易出错的位置</li></ul></div><div class="ab cl nx ny hx nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="im in io ip iq"><h1 id="f20e" class="kz la it bd lb lc oe le lf lg of li lj jz og ka ll kc oh kd ln kf oi kg lp lq bi translated">古典之路——PDB</h1><p id="d735" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们看到打印声明帮助我们找到关于问题的相关信息，但是这些工具不足以找到每个根本原因。当我们需要更强大的东西时，就该试试 Python 内置的交互式调试器了。</p><p id="a6c5" class="pw-post-body-paragraph lr ls it lt b lu oj ju lw lx ok jx lz ma ol mc md me om mg mh mi on mk ml mm im bi translated">pdb 模块为开发者调试 Python 程序(包括 jupyter 笔记本)提供了一个交互式调试环境。要启动调试器，我们所要做的就是导入<em class="mn"> pdb </em>内置模块并运行其<em class="mn"> set_trace </em>函数。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="100e" class="mt la it mp b gy mu mv l mw mx">import random<br/>def find_max (values):<br/>   max = 0<br/>   import pdb; pdb.set_trace()<br/>   for val in values:<br/>      if val &gt; max:<br/>         max = val<br/>   return max<br/>find_max(random.sample(range(100), 10))</span></pre><p id="2f11" class="pw-post-body-paragraph lr ls it lt b lu oj ju lw lx ok jx lz ma ol mc md me om mg mh mi on mk ml mm im bi translated"><strong class="lt iu">演示:</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo op l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">资料来源:https://www.youtube.com/watch?v=ZrM42wnZjt8</p></figure><h2 id="ec3f" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated">优势:</h2><ul class=""><li id="4770" class="nj nk it lt b lu lv lx ly ma nl me nm mi nn mm no np nq nr bi translated">动态。</li><li id="5f86" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">不需要安装。</li><li id="9930" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">成熟(更多的特性，好的文档，更少的 bug)。</li></ul><h2 id="b807" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated"><strong class="ak">缺点:</strong></h2><ul class=""><li id="414a" class="nj nk it lt b lu lv lx ly ma nl me nm mi nn mm no np nq nr bi translated">非常吓人。</li><li id="e4bc" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">陡峭的学习曲线。</li></ul><h2 id="6955" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated">其他资源:</h2><ul class=""><li id="6b59" class="nj nk it lt b lu lv lx ly ma nl me nm mi nn mm no np nq nr bi translated"><a class="ae ky" href="https://www.youtube.com/watch?v=vfPtGsSJldg" rel="noopener ugc nofollow" target="_blank">PDB 简介</a></li><li id="c63a" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated"><a class="ae ky" href="https://www.youtube.com/watch?v=2FftatTS3jc" rel="noopener ugc nofollow" target="_blank">pdb 的辉煌集迹</a></li></ul></div><div class="ab cl nx ny hx nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="im in io ip iq"><h1 id="3fd5" class="kz la it bd lb lc oe le lf lg of li lj jz og ka ll kc oh kd ln kf oi kg lp lq bi translated">Pixie 调试器</h1><p id="c459" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">有些人会理直气壮地指出 Jupyter 已经支持 pdb 了，这就足够了，但是作为开发人员，我们倾向于选择简单的方式，也就是 GUI。</p><p id="6868" class="pw-post-body-paragraph lr ls it lt b lu oj ju lw lx ok jx lz ma ol mc md me om mg mh mi on mk ml mm im bi translated">PixieDebugger 是 Jupyter 笔记本的第一个可视化 Python 调试器，包括源代码编辑器、局部变量检查器、控制台输出、在当前上下文中评估 Python 表达式的能力、断点管理和用于控制代码执行的工具栏。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="8ccb" class="mt la it mp b gy mu mv l mw mx">import contextlib<br/>with contextlib.redirect_stdout(None):<br/>   import pixiedust</span><span id="40c0" class="mt la it mp b gy oq mv l mw mx"># New Cell<br/>%%pixie_debugger<br/>def find_max (values):<br/>   max = 0<br/>   import pdb; pdb.set_trace()<br/>   for val in values:<br/>      if val &gt; max:<br/>         max = val<br/>   return max<br/>find_max(random.sample(range(100), 10))</span></pre><h2 id="f86b" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated">演示:</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="or op l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://medium.com/codait/the-visual-python-debugger-for-jupyter-notebooks-youve-always-wanted-761713babc62" rel="noopener">https://medium . com/codait/the-visual-python-debugger-for-jupyter-notebooks-youve-always-wanted-761713 babc 62</a></p></figure><h2 id="cc5f" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated">优势:</h2><ul class=""><li id="b492" class="nj nk it lt b lu lv lx ly ma nl me nm mi nn mm no np nq nr bi translated">动态。</li><li id="ccaa" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">简单。</li></ul><h2 id="b23d" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated">缺点:</h2><ul class=""><li id="3c23" class="nj nk it lt b lu lv lx ly ma nl me nm mi nn mm no np nq nr bi translated">需要额外安装。</li><li id="41f5" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">在木星笔记本上工作，但不是在木星实验室。</li><li id="8377" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">不成熟(错误文档和任务评估失败)。</li></ul><h2 id="d07f" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated">设置:</h2><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="af82" class="mt la it mp b gy mu mv l mw mx">pip install pixiedust</span></pre><h2 id="40c9" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated">其他资源:</h2><ul class=""><li id="fa47" class="nj nk it lt b lu lv lx ly ma nl me nm mi nn mm no np nq nr bi translated"><a class="ae ky" href="https://medium.com/codait/the-visual-python-debugger-for-jupyter-notebooks-youve-always-wanted-761713babc62" rel="noopener">中等岗位</a></li></ul></div><div class="ab cl nx ny hx nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="im in io ip iq"><h1 id="bfb9" class="kz la it bd lb lc oe le lf lg of li lj jz og ka ll kc oh kd ln kf oi kg lp lq bi translated">Jupyter 实验室调试器</h1><p id="b6a6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">非常类似于 Jupyter 实验室自己制作的 pixie-dust GUI 调试器，它仍然很新，但是我们可以在笔记本单元格和源文件中设置断点，检查变量，导航调用堆栈等等。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="b794" class="mt la it mp b gy mu mv l mw mx">import contextlib<br/>with contextlib.redirect_stdout(None):<br/>   import pixiedust</span><span id="c484" class="mt la it mp b gy oq mv l mw mx"># New Cell<br/>def find_max (values):<br/>   max = 0<br/>   import pdb; pdb.set_trace()<br/>   for val in values:<br/>      if val &gt; max:<br/>         max = val<br/>   return max<br/>find_max(random.sample(range(100), 10))</span></pre><h2 id="50e4" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated">演示:</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/eeb00890f4e9a6bfef45a3ed010fbf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Xcht3yqdaC66K0AC.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://blog.jupyter.org/a-visual-debugger-for-jupyter-914e61716559" rel="noopener ugc nofollow" target="_blank">https://blog . jupyter . org/a-visual-debugger-for-jupyter-914 e 61716559</a></p></figure><h2 id="63e7" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated">优势:</h2><ul class=""><li id="9fd2" class="nj nk it lt b lu lv lx ly ma nl me nm mi nn mm no np nq nr bi translated">动态。</li><li id="492c" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">简单。</li><li id="9c36" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">没有额外的代码。</li></ul><h2 id="5574" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated">缺点:</h2><ul class=""><li id="9fb5" class="nj nk it lt b lu lv lx ly ma nl me nm mi nn mm no np nq nr bi translated">需要额外安装。</li><li id="9efd" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">需要一个新的翻译。</li><li id="da59" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">在木星笔记本上工作，但不是在木星实验室。</li><li id="30ee" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">安装有些困难。</li><li id="fb1c" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">不成熟(错误文档和任务评估失败)。</li></ul><h2 id="626a" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated">设置:</h2><p id="6e85" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">对于每个 conda 环境</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="5e1d" class="mt la it mp b gy mu mv l mw mx">conda install -y -c conda-forge xeus-python=0.6.12 notebook=6 ptvsd<br/>jupyter labextension install <a class="ae ky" href="http://twitter.com/jupyterlab/debugger" rel="noopener ugc nofollow" target="_blank">@jupyterlab/debugger</a></span></pre><h2 id="a218" class="mt la it bd lb my mz dn lf na nb dp lj ma nc nd ll me ne nf ln mi ng nh lp ni bi translated">其他资源:</h2><ul class=""><li id="2a0a" class="nj nk it lt b lu lv lx ly ma nl me nm mi nn mm no np nq nr bi translated"><a class="ae ky" href="https://blog.jupyter.org/a-new-python-kernel-for-jupyter-fcdf211e30a8" rel="noopener ugc nofollow" target="_blank"> Xeus 口译员</a></li><li id="e17f" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated"><a class="ae ky" href="https://blog.jupyter.org/a-visual-debugger-for-jupyter-914e61716559" rel="noopener ugc nofollow" target="_blank">可视化调试器</a></li></ul></div><div class="ab cl nx ny hx nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="im in io ip iq"><h1 id="8dbf" class="kz la it bd lb lc oe le lf lg of li lj jz og ka ll kc oh kd ln kf oi kg lp lq bi translated">荣誉奖</h1><ul class=""><li id="7bc1" class="nj nk it lt b lu lv lx ly ma nl me nm mi nn mm no np nq nr bi translated"><a class="ae ky" href="https://github.com/gotcha/ipdb" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu"/></a>——服用类固醇的 pdb。</li><li id="3aa2" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated"><a class="ae ky" href="https://github.com/inducer/pudb" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu">pudb</strong></a><strong class="lt iu">——</strong>PDB 与 GUI。</li></ul></div><div class="ab cl nx ny hx nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="im in io ip iq"><h1 id="3c4c" class="kz la it bd lb lc oe le lf lg of li lj jz og ka ll kc oh kd ln kf oi kg lp lq bi translated">遗言</h1><p id="3316" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">总之，有许多技术可以用来调试 Jupiter 笔记本:</p><ul class=""><li id="bbc5" class="nj nk it lt b lu oj lx ok ma ot me ou mi ov mm no np nq nr bi translated">首先，人们应该使用日志来隔离问题</li><li id="a096" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">超级用户应该花时间学习 pdb，因为你永远不知道它会对你有益。</li><li id="20cc" class="nj nk it lt b lu ns lx nt ma nu me nv mi nw mm no np nq nr bi translated">最后，根据您使用的是裸机还是 Jupyter Lab，您应该使用 pixiedust 和 Jupyter 调试器。</li></ul><p id="ecec" class="pw-post-body-paragraph lr ls it lt b lu oj ju lw lx ok jx lz ma ol mc md me om mg mh mi on mk ml mm im bi translated">我希望这篇文章能让人们在笔记本环境中更有效率。我希望我能够分享我对这个迷人话题的热情，并且你会发现它是有用的，并且一如既往地，我愿意接受任何建设性的反馈。</p></div></div>    
</body>
</html>