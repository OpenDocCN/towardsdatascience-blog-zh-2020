<html>
<head>
<title>Web Applications with Django</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Django 的 Web 应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/django-web-applications-376a14167974?source=collection_archive---------15-----------------------#2020-03-25">https://towardsdatascience.com/django-web-applications-376a14167974?source=collection_archive---------15-----------------------#2020-03-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a98b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在 Django 中使用模板</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dab4eac1e0435ef04a62b0a570153246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tdksOGodh81Yi78L1dA0Ug.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.pexels.com/photo/top-view-photo-of-people-near-wooden-table-3183150/" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="5245" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Django 是一个强大的基于 python 的 web 框架，支持开发数据库驱动的 web 应用程序。今天，许多技术都使用 Django 框架，包括 Instagram、Spotify 和 Youtube。在这篇文章中，我们将讨论如何使用 html 和 css 模板在 Django 中构建一个简单的视频游戏评论应用程序。</p><p id="320c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始吧！</p><p id="5fdc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要做的第一件事是打开一个终端并安装 Django:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="6a44" class="ma mb it lw b gy mc md l me mf">pip install django</span></pre><p id="7564" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将创建一个 Django 项目。让我们使用以下命令创建一个名为“my_web_app”的项目:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="54a9" class="ma mb it lw b gy mc md l me mf">django-admin startproject my_web_app</span></pre><p id="97b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看看使用目录列表命令 tree 创建的文件的结构，我们看到:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="4ac6" class="ma mb it lw b gy mc md l me mf">tree</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/e2bf90c38ec6c22720d8e96d217f6096.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*c_bBu7nJHNGIM42zKr4L6A.png"/></div></figure><p id="83e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们看到，在创建一个新项目时，我们已经生成了几个文件。我们有一个“my_web_app”目录，其中包含一个“manage.py”文件和一个附加的“my_web_app”文件夹。“manage.py”文件是一个命令行实用程序，允许我们创建应用程序、在服务器上运行应用程序等等。' __init__ '“py”方法告诉 python 我们的应用程序是一个 python 包。“settings.py”允许我们修改设置和配置。“urls.py”文件包含我们将用来指引用户的路径。“wsgi.py”文件允许我们的应用程序与服务器通信。</p><p id="2c63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们继续创建一个 reviews 应用程序</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="6c8e" class="ma mb it lw b gy mc md l me mf">python manage.py startapp reviews</span></pre><p id="4abc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以及显示附加文件:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="c69c" class="ma mb it lw b gy mc md l me mf">tree</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/aeb427007128cf3fe43de004b3d7ae3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*Ppc__wqPWuhPywUL9Snp3A.png"/></div></figure><p id="7650" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们进入我们的评论目录，打开“views.py”文件。我们应该看到以下内容:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="1032" class="ma mb it lw b gy mc md l me mf">from django.shortcuts import render</span><span id="4e03" class="ma mb it lw b gy mi md l me mf"># Create your views here.</span></pre><p id="8ad1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们添加以下代码:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="af26" class="ma mb it lw b gy mc md l me mf">from django.shortcuts import render</span><span id="cdb6" class="ma mb it lw b gy mi md l me mf">posts = [</span><span id="0474" class="ma mb it lw b gy mi md l me mf">{<br/>'author': 'Sadrach Pierre',<br/>'title': 'Call of Duty',<br/>'review': 'This game is just ok.',<br/>'date_posted': 'March 23, 2020',<br/>}</span><span id="cb2c" class="ma mb it lw b gy mi md l me mf">{<br/>'author': 'Sadrach Pierre',<br/>'title': 'Call of Duty',<br/>'review': 'This video game is amazing!',<br/>'date_posted': 'March 23, 2020',<br/>}]</span><span id="b4ba" class="ma mb it lw b gy mi md l me mf">def home(request):<br/>    context = {<br/>        'posts':posts<br/>    }<br/>    return render(request, 'reviews/home.html', context)</span></pre><p id="c39b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“views.py”现在包含了对视频游戏<em class="mj">使命召唤的评论。</em>它还包含一个“home”功能，允许我们呈现 html 代码，我们将使用该代码向用户显示文本。注意，在 home 函数中，我们在“reviews/home.html”路径中呈现 html 代码。</p><p id="cb98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要继续，我们需要在 reviews 目录中创建一个模板目录，然后将 cd 放入 templates 目录:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="87ea" class="ma mb it lw b gy mc md l me mf">mkdir templates<br/>cd templates</span></pre><p id="16bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们需要在 reviews 目录中创建一个附加的 reviews 文件夹和 cd:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9a13" class="ma mb it lw b gy mc md l me mf">mkdir reviews<br/>cd reviews</span></pre><p id="6725" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将在“reviews/templates/reviews”目录中创建一个“base.html”文件和一个“home.html”文件。让我们创建我们的基本文件:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="356f" class="ma mb it lw b gy mc md l me mf">vi base.html</span></pre><p id="bd8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并在这里添加代码<a class="ae ky" href="https://github.com/spierre91/medium_code/blob/master/django_code/my_web_app/reviews/templates/reviews/base.html" rel="noopener ugc nofollow" target="_blank"/>。接下来创建我们的主页 html 文件:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="ce50" class="ma mb it lw b gy mc md l me mf">vi home.html</span></pre><p id="8ba9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并将找到的代码<a class="ae ky" href="https://github.com/spierre91/medium_code/blob/master/django_code/my_web_app/reviews/templates/reviews/home.html" rel="noopener ugc nofollow" target="_blank">添加到这里</a>。</p><p id="fb90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们需要在“my_web_app/reviews”目录中添加一个 css 文件，为我们的页面添加额外的视觉元素。让我们向上移动两个目录:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="abd6" class="ma mb it lw b gy mc md l me mf">cd ../../</span></pre><p id="9bfc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们创建一个名为“static”的目录，并将其放入我们的静态目录:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d518" class="ma mb it lw b gy mc md l me mf">mkdir static<br/>cd static</span></pre><p id="0cea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的静态目录中创建一个额外的评论目录:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="348f" class="ma mb it lw b gy mc md l me mf">mkdir reviews<br/>cd reviews</span></pre><p id="2136" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个“main.css”文件:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="a5cc" class="ma mb it lw b gy mc md l me mf">vi main.css</span></pre><p id="c3ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并将找到的代码<a class="ae ky" href="https://github.com/spierre91/medium_code/blob/master/django_code/my_web_app/reviews/static/reviews/main.css" rel="noopener ugc nofollow" target="_blank">添加到这里</a>。</p><p id="4d0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们转到我们的根项目目录并打开“urls.py”，我们应该看到:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="4dee" class="ma mb it lw b gy mc md l me mf">from django.contrib import admin<br/>from django.urls import path<br/><br/><br/>urlpatterns = [<br/>    path(<strong class="lw iu">'admin/'</strong>, admin.site.urls),<br/>]</span></pre><p id="4967" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们将以下路径添加到我们的 url 列表中:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="3957" class="ma mb it lw b gy mc md l me mf">from django.contrib import admin<br/>from django.urls import path, include<br/><br/><br/>urlpatterns = [<br/>    path(<strong class="lw iu">'admin/'</strong>, admin.site.urls),<br/>    path(<strong class="lw iu">''</strong>, include(<strong class="lw iu">'reviews.urls'</strong>)),<br/>]</span></pre><p id="78b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们进入“my_web_app/reviews”目录，创建一个“urls.py”文件:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="25af" class="ma mb it lw b gy mc md l me mf">vi url.py </span></pre><p id="b541" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们添加以下内容:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="4eb3" class="ma mb it lw b gy mc md l me mf">from django.urls import path<br/>from . import views<br/><br/>urlpatterns = [<br/>    path(<strong class="lw iu">''</strong>, views.home, name=<strong class="lw iu">'reviews-home'</strong>),<br/>]</span></pre><p id="9603" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们最终的树应该如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/1231dda7bfd59fdff0e68200a3ed0a40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8kG726SKyRNdtSLdZR9cXw.png"/></div></div></figure><p id="4b8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要做的最后一件事是修改“my_web_app”目录中的“setting.py”文件:</p><p id="f1f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在“setting.py”中，我们应该会看到已安装应用程序的列表:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7c46" class="ma mb it lw b gy mc md l me mf">INSTALLED_APPS = [<br/>    <strong class="lw iu">'django.contrib.admin'</strong>,<br/>    <strong class="lw iu">'django.contrib.auth'</strong>,<br/>    <strong class="lw iu">'django.contrib.contenttypes'</strong>,<br/>    <strong class="lw iu">'django.contrib.sessions'</strong>,<br/>    <strong class="lw iu">'django.contrib.messages'</strong>,<br/>    <strong class="lw iu">'django.contrib.staticfiles'</strong>,<br/>]</span></pre><p id="b35e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们将“评论”应用添加到我们的列表中:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="772e" class="ma mb it lw b gy mc md l me mf">INSTALLED_APPS = [<br/>    <strong class="lw iu">'reviews.apps.ReviewsConfig'</strong>,<br/>    <strong class="lw iu">'django.contrib.admin'</strong>,<br/>    <strong class="lw iu">'django.contrib.auth'</strong>,<br/>    <strong class="lw iu">'django.contrib.contenttypes'</strong>,<br/>    <strong class="lw iu">'django.contrib.sessions'</strong>,<br/>    <strong class="lw iu">'django.contrib.messages'</strong>,<br/>    <strong class="lw iu">'django.contrib.staticfiles'</strong>,<br/>]</span></pre><p id="6913" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们应该都准备好了。让我们导航到我们的根项目目录并运行我们的应用程序:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="dc19" class="ma mb it lw b gy mc md l me mf">python manage.py runserver</span></pre><p id="942e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们应该看到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ml"><img src="../Images/6d630efda57c69dd5f0339da80d95c24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZFHddcQS4iaLRx5-dUcSrg.png"/></div></div></figure><p id="692a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们将“http://127.0.0.1:8000/”复制并粘贴到浏览器中，我们应该会看到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mm"><img src="../Images/004fcc45de4a1103c719b1d3250f2e7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DG2GClwzlVZ1damud5O7tg.png"/></div></div></figure><p id="6e26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目前为止这还不算多。我们可以修改“views.py”文件中的帖子，以包含更多有趣的评论。下面给<em class="mj">使命召唤:现代战争</em>加个评论。我来引用一下<a class="ae ky" href="https://www.theguardian.com/games/2019/oct/31/call-of-duty-modern-warfare-review" rel="noopener ugc nofollow" target="_blank"> <em class="mj">卫报</em> </a> <em class="mj">的一篇评论。</em>我还会添加另一款 2019 年游戏的评论，<em class="mj">星球大战绝地:堕落秩序，</em>来自<a class="ae ky" href="https://www.ign.com/articles/2019/11/15/star-wars-jedi-fallen-order-review" rel="noopener ugc nofollow" target="_blank"> IGN </a>:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="a217" class="ma mb it lw b gy mc md l me mf">from django.shortcuts import render</span><span id="6942" class="ma mb it lw b gy mi md l me mf">posts = [</span><span id="e8c9" class="ma mb it lw b gy mi md l me mf">{<br/>'author': 'The Gaurdian',<br/>'title': 'Call of Duty: Modern Warfare',<br/>'review': '<a class="ae ky" href="https://www.theguardian.com/games/call-of-duty" rel="noopener ugc nofollow" target="_blank">Call of Duty</a> is perhaps the most divisive mainstream gaming brand of all time; a gung-ho, partisan blockbuster combat romp selling us a vision of rough and ready spec-ops superstars travelling the globe with their guns and their competence, helping freedom fighters while killing rogue paramilitary groups, without pausing too long to consider the differences between them.',<br/>'date_posted': 'March 23, 2019',<br/>}</span><span id="0373" class="ma mb it lw b gy mi md l me mf">{<br/>'author': 'IGN',<br/>'title': 'Star Wars Jedi: Fallen Order',<br/>'review': 'Jedi: Fallen Order pushes all the right buttons for a Star Wars action-adventure. It’s a genre remix that samples the combat and exploration of a lightened-up Dark Souls and the action and energy of Uncharted, and that works out to be a great fit for the return of the playable Jedi.',<br/>'date_posted': 'March 21, 2019',<br/>}]</span><span id="0654" class="ma mb it lw b gy mi md l me mf">def home(request):<br/>    context = {<br/>        'posts':posts<br/>    }<br/>    return render(request, 'reviews/home.html', context)</span></pre><p id="619a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们的评论应用程序看起来像:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/8c155cc3fa68370501e569bda9b19f0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*djcJXzYoPkiwPtpv4Tx2Iw.png"/></div></div></figure><p id="f3a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我就讲到这里，但是您可以自己随意摆弄代码。</p><h1 id="37d7" class="mo mb it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">结论</h1><p id="eded" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">总之，在这篇文章中，我们讨论了如何使用 Django web 框架创建一个视频游戏评论 web 应用程序。您可以自由地将该应用程序进一步扩展为个人视频游戏博客或在线应用程序，供用户注册和评论视频游戏。如果你有兴趣了解 Django，我推荐科里·斯查费的 YouTube 教程，你可以在这里找到。这篇文章的代码可以在<a class="ae ky" href="https://github.com/spierre91/medium_code/tree/master/django_code/my_web_app" rel="noopener ugc nofollow" target="_blank"> GitHub </a>找到。感谢您的阅读！</p></div></div>    
</body>
</html>