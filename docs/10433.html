<html>
<head>
<title>Python 3.9 Update New Features</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 3.9 更新新功能</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-3-9-update-new-features-e4a580fc5c2?source=collection_archive---------10-----------------------#2020-07-22">https://towardsdatascience.com/python-3-9-update-new-features-e4a580fc5c2?source=collection_archive---------10-----------------------#2020-07-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="4db6" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">Python 备忘单</h2><div class=""/><div class=""><h2 id="a4e4" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">少写代码，多成就！</h2></div><p id="ae9b" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">当你阅读这篇文章时，你可能正在使用 Python 3.8。准备好！几个月后，我们将看到 Python 的新版本(计划在 2020 年 10 月)。由于我们目前是测试版，让我们看看这个版本有什么新的。这次更新有 4 个主要的新特性，它们是字典联合操作符、字符串方法、类型提示和 Python 解析器。但是，本文将只讨论前三个更新，因为它们是您最有可能遇到/使用的。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ln"><img src="../Images/b55a0160fe8865158a51ee92358169cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oSnyYtTMH03Lp9Zo"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">图片由<a class="ae md" href="https://unsplash.com/@fabioha" rel="noopener ugc nofollow" target="_blank">法比奥</a>在<a class="ae md" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="0b70" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">Python 字典联合方法</h1><ol class=""><li id="9e94" class="nd ne it kt b ku nf kx ng la nh le ni li nj lm nk nl nm nn bi translated">更新方法</li></ol><ul class=""><li id="041d" class="nd ne it kt b ku kv kx ky la no le np li nq lm nr nl nm nn bi translated">老办法</li></ul><p id="5329" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">直到 Python 3.8，人们仍然普遍使用<code class="fe ns nt nu nv b">update()</code>方法更新字典。它看起来是这样的:</p><pre class="lo lp lq lr gt nw nv nx ny aw nz bi"><span id="015d" class="oa mm it nv b gy ob oc l od oe">dict1 = {"a": 1, "b": 2}<br/>dict2 = {"c": 3, "d": 4}<br/>dict1.update(dict2)</span><span id="9209" class="oa mm it nv b gy of oc l od oe">print(dict1) #return {"a": 1, "b": 2, "c": 3, "d": 4}</span></pre><p id="2920" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">真的能变好吗？是的，它可以！3.9 的更新绝对符合 Python 的精神，编写更少的代码！</p><ul class=""><li id="9664" class="nd ne it kt b ku kv kx ky la no le np li nq lm nr nl nm nn bi translated">新的方式</li></ul><p id="ad11" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">要在 Python 3.9 中更新字典，可以使用这个新的更新操作符<code class="fe ns nt nu nv b">|=</code>。与之前的<code class="fe ns nt nu nv b">update()</code>方法相比，这将使你的代码看起来更加光滑。</p><pre class="lo lp lq lr gt nw nv nx ny aw nz bi"><span id="f751" class="oa mm it nv b gy ob oc l od oe">dict1 = {"a": 1, "b": 2}<br/>dict2 = {"c": 3, "d": 4}<br/><strong class="nv jd">dict1 |= dict2</strong></span><span id="1074" class="oa mm it nv b gy of oc l od oe">print(dict1) #return {"a": 1, "b": 2, "c": 3, "d": 4}</span></pre><p id="ce36" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">2.合并方法</p><ul class=""><li id="666a" class="nd ne it kt b ku kv kx ky la no le np li nq lm nr nl nm nn bi translated">老办法</li></ul><p id="cc21" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">到目前为止，合并 2 个字典的最好方法是使用双星号操作符<code class="fe ns nt nu nv b">**</code>。我们是这样做的:</p><pre class="lo lp lq lr gt nw nv nx ny aw nz bi"><span id="ccd8" class="oa mm it nv b gy ob oc l od oe">dict1 = {"a": 1, "b": 2}<br/>dict2 = {"c": 3, "d": 4}<br/>dict3 = {**dict1, **dict2}</span><span id="29e7" class="oa mm it nv b gy of oc l od oe">print(dict3) #return {"a": 1, "b": 2, "c": 3, "d": 4}</span></pre><p id="86b8" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">上面的片段看起来不错。它短小精悍，更重要的是，做工作。然而，对包括我在内的大多数开发人员来说，它看起来有点丑，也没什么吸引力。终于！有一个更好的方法来解决这个问题。</p><ul class=""><li id="0179" class="nd ne it kt b ku kv kx ky la no le np li nq lm nr nl nm nn bi translated">新的方式</li></ul><pre class="lo lp lq lr gt nw nv nx ny aw nz bi"><span id="41c1" class="oa mm it nv b gy ob oc l od oe">dict1 = {"a": 1, "b": 2}<br/>dict2 = {"c": 3, "d": 4}<br/>dict3 = <strong class="nv jd">dict1 | dict2</strong></span><span id="1b11" class="oa mm it nv b gy of oc l od oe">print(dict3) #return {"a": 1, "b": 2, "c": 3, "d": 4}</span></pre><p id="84c9" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">你们应该记住的唯一一件事是当两个字典有相似的关键字时。合并后，公共键的值将从第二个字典中获取</p><pre class="lo lp lq lr gt nw nv nx ny aw nz bi"><span id="c180" class="oa mm it nv b gy ob oc l od oe">dict1 = {"a": 1, "b": 2, <strong class="nv jd">"same" : "old"</strong>}<br/>dict2 = {"c": 3, "d": 4, <strong class="nv jd">"same": "new"</strong>}<br/>dict3 = <strong class="nv jd">dict1 | dict2</strong></span><span id="5eed" class="oa mm it nv b gy of oc l od oe">print(dict3) #return {"a": 1, "b": 2, "c": 3, "d": 4, <strong class="nv jd">"same": "new"</strong>}</span></pre></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="f18f" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">Python 字符串方法</h1><p id="67e4" class="pw-post-body-paragraph kr ks it kt b ku nf kd kw kx ng kg kz la og lc ld le oh lg lh li oi lk ll lm im bi translated">在这些新的更新中，字符串方法增加了两项内容。他们增加了<code class="fe ns nt nu nv b">removeprefix()</code>和<code class="fe ns nt nu nv b">removesuffix()</code>功能。这个特性并不能改变生活，但绝对值得一提。</p><ul class=""><li id="7374" class="nd ne it kt b ku kv kx ky la no le np li nq lm nr nl nm nn bi translated">removeprefix()</li></ul><pre class="lo lp lq lr gt nw nv nx ny aw nz bi"><span id="3e6b" class="oa mm it nv b gy ob oc l od oe">string = "New Python".<strong class="nv jd">removeprefix("Ne")</strong></span><span id="004b" class="oa mm it nv b gy of oc l od oe">print(string) #return <strong class="nv jd"><em class="oj">"w Python"</em></strong></span></pre><ul class=""><li id="70d5" class="nd ne it kt b ku kv kx ky la no le np li nq lm nr nl nm nn bi translated">removesuffix()</li></ul><pre class="lo lp lq lr gt nw nv nx ny aw nz bi"><span id="193c" class="oa mm it nv b gy ob oc l od oe">string = "New Python".<strong class="nv jd">removesuffix("on")</strong></span><span id="36c3" class="oa mm it nv b gy of oc l od oe">print(string) #return <strong class="nv jd">"New Pyth"</strong></span></pre></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="9f7c" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">Python 类型提示</h1><p id="464a" class="pw-post-body-paragraph kr ks it kt b ku nf kd kw kx ng kg kz la og lc ld le oh lg lh li oi lk ll lm im bi translated">Python 在最好的时候不需要类型声明。然而，在某些情况下，它可能会导致混乱。下面是事情可能变得混乱的例子:</p><p id="2d16" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">假设您想通过使用自己创建的奖金函数来确定办公室员工的年度奖金。</p><ul class=""><li id="52fc" class="nd ne it kt b ku kv kx ky la no le np li nq lm nr nl nm nn bi translated">没有类型提示:</li></ul><pre class="lo lp lq lr gt nw nv nx ny aw nz bi"><span id="1d0c" class="oa mm it nv b gy ob oc l od oe">def Bonus(base):<br/>    print("Your Bonus is ${}".format(base*3))<br/>Bonus(4000) #print "Your Bonus is <strong class="nv jd">$12000</strong>"</span></pre><p id="79eb" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在上面的代码片段中看起来很好，但是如果您要求用户输入呢？</p><pre class="lo lp lq lr gt nw nv nx ny aw nz bi"><span id="e517" class="oa mm it nv b gy ob oc l od oe">base = input("Enter the employee's base salary")<br/>#for example you typed 4000</span><span id="336d" class="oa mm it nv b gy of oc l od oe">Bonus(base) #print "Your Bonus is <strong class="nv jd">$400040004000"</strong></span></pre><p id="9a28" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">和你想象的不太一样，对吗？这是因为 Python 输入函数将返回字符串类型。因为<code class="fe ns nt nu nv b">*</code>操作符也可用于字符串，所以不会发生错误。<code class="fe ns nt nu nv b">*</code>操作符，当应用于一个字符串时，将在指定的次数内连接该字符串。</p><pre class="lo lp lq lr gt nw nv nx ny aw nz bi"><span id="b912" class="oa mm it nv b gy ob oc l od oe">string = "Hello"<br/>print(<strong class="nv jd">string*2</strong>) #print "HelloHello"</span></pre><p id="5b8d" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在<code class="fe ns nt nu nv b">*</code>操作符之后，我们输入值 2。解释器将“Hello”字符串连接了两次，并输出“HelloHello”作为结果。</p><p id="8db5" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">别担心，您可以通过使用新的 Python 类型提示特性来解决这个问题。</p><ul class=""><li id="8076" class="nd ne it kt b ku kv kx ky la no le np li nq lm nr nl nm nn bi translated">使用类型提示</li></ul><pre class="lo lp lq lr gt nw nv nx ny aw nz bi"><span id="04fa" class="oa mm it nv b gy ob oc l od oe">def Bonus(base: int):<br/>    print("Your Bonus is ${}".format(base*3))</span><span id="72da" class="oa mm it nv b gy of oc l od oe">base = input("Enter the employee's base salary")<br/>#for example you typed 4000</span><span id="58b5" class="oa mm it nv b gy of oc l od oe">Bonus(base) #return "Expected type 'int', got 'str' instead"</span></pre><p id="5cb9" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">类型提示实际上是从 Python 3.5 开始引入的。由于 Python 3.9 中的新更新，现在看起来干净多了！</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="e346" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">最后的想法</h1><p id="dd02" class="pw-post-body-paragraph kr ks it kt b ku nf kd kw kx ng kg kz la og lc ld le oh lg lh li oi lk ll lm im bi translated">Python 3.9 的新更新并没有那么重要。然而，总的来说，可以肯定地说，这将是一个不错的更新。Python 总是做对的一件事是为用户提供良好的可读性。</p><p id="8eda" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">记住伙计们！将于 10 月上市。希望本文能帮助您过渡到新的 Python 3.9。</p><p id="4ec4" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">问候，</p><p id="78ff" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kt jd">弧度克里斯诺</strong></p></div></div>    
</body>
</html>