# 知识图在零售业中的应用

> 原文：<https://towardsdatascience.com/knowledge-graphs-applied-in-the-retail-industry-ecac4e7baf8?source=collection_archive---------12----------------------->

![](img/550db2c2eb0118fc00d47fcf02eb4b75.png)

**TL；博士** : *知识图表在科技领域变得越来越流行。我们探索如何在零售行业中使用它们来丰富数据、扩大搜索结果并为零售公司增加价值。*

[编辑](https://edited.com/)以一年一度的黑客周结束了 2019 年，这是一个以最小风险测试新想法的绝佳机会，同时促进了团队和专业之间的合作。我的团队致力于一个我去年一直热衷于探索的研究领域:知识图表。如何在零售业中利用和优化它们？

![](img/21bcf47b732b0fe82628faaa6cb57ab3.png)

一个谷歌知识面板的例子

# 知识的兴起

在科技行业，知识图表正在爆炸。它们被语音助手、在线零售推荐者和搜索引擎所使用，脸书、谷歌和网飞等科技巨头是它们最大的拥护者。你最有可能每天看到它们以一个盒子或者“知识面板”的形式出现，当你用谷歌搜索的时候。谷歌使用从维基百科等网站收集的数据，这些网站使用一个 [JSON-LD](https://en.wikipedia.org/wiki/JSON-LD) 模式来声明页面的结构化数据，以及它自己对用户行为的理解来扩展你的搜索结果。以搜索大卫·鲍依(左)为例。谷歌从维基百科返回出生地、出生日期和配偶等汇总信息，以及流行歌曲和电影以及用户定义的“人们也搜索”。这产生了一个更具信息性的信息面板，其中数据是以实体为中心的，也就是“[事物而不是字符串](https://www.blog.google/products/search/introducing-knowledge-graph-things-not/)”

![](img/d9c8819ce8dbf7c541a13e6733563f93.png)

作为图形的大卫·鲍依

如果我们以图表的形式查看大卫·鲍依的电影数据，它看起来会像上面这样:大卫·鲍依(用红色表示的人节点)通过 ACTED_IN 关系连接到各种电影(蓝色的电影节点)。我们可以使用与这些节点相关的数据(例如电影中的其他演员)或与人物节点相关的数据(例如黄色的出生年份)来进一步扩展这一点。

这个简单的图形能够以一种直观的方式存储数据，允许一种传统 RDBMS 难以实现的查询(比如跟踪链接)。我们可以看到这样的关系，其中来自一个节点的每条路径都有一个相关联的含义，如“参与”。这形成了一个[本体](https://en.wikipedia.org/wiki/Ontology_(information_science)),其中我们将特定领域的知识表示为实体、概念和数据之间的属性、连接和关系。

# 零售产品图

大量的数据适合本体，零售也不例外。让我们来看看如何将来自 EDITED 的产品作为产品图来查看。为方便起见，我们只包含了产品数据和字段的子集。有很多软件包可以用来构建图形，我们使用流行的 [Neo4j 平台](https://neo4j.com/)。

![](img/80f2ef17e28cf4d0757b794ee3edbad2.png)

使用 Neo4j 将产品编辑成图形

这里我们有一个用惟一标识符命名的产品节点(橙色)。从这个产品节点，我们有几个指向其他节点的关系，包括:HAS_ATTR(绿色)，颜色(蓝色)，护理(粉红色)，品牌(红色)和类别(米色)。HAS_ATTR 指的是一个属性，例如，该产品包含一个紧固件，以及使用简单的 [TF-IDF](https://en.wikipedia.org/wiki/Tf%E2%80%93idf) 单词提取(使用权重来隔离重要属性的单词)在产品的名称、描述和护理上发现的护理。品牌是在抓取的时候直接取的。而其他关系，类别和颜色，是使用基于文本和图像的机器学习找到的。

以这种格式存储零售数据创建了一个可解析的数据结构，突出了与一个产品以及其他产品的关系。例如，其他具有“ruffle”特性的产品也会指向“ruffle”节点，如下所示。这种结构还允许在我们爬行时从管道中不断获取数据，因为图能够适应。通过将数据存储为图形，我们还可以应用使用图论制定的算法，例如利用最近邻居的最短路径(这可能有助于[产品匹配](/unravelling-product-matching-with-ai-1a6ef7bd8614))和链接预测，我们可以预测节点之间的关系。

![](img/7293f2fd9d64f4cdb5f5ddf84af0c11e.png)

提取与我们的产品具有“皱褶”特征的其他产品

# 陷入语义学

到目前为止，我们已经谈论了很多关于用图表表示数据的内容，但是我们一直在讨论知识图表吗？关于这个话题有一些不同的观点，但我更喜欢将知识图定义为添加了特定领域知识的本体(例如，参见 [Ehrlinger et al 2016](http://ceur-ws.org/Vol-1695/paper4.pdf) )。虽然我们的产品数据使用机器学习来提取我们用作图中节点的产品属性，但对我来说，知识图使用外部数据或对零售的理解来构建本体。

例如，EDITED 使用博柏利作为我们产品图中的品牌节点。如果它存在于一个知识图中，它将在节点中存储信息，如公司成立的时间和地点，以及与品牌相关的某些属性，如遗产、印刷品、奢侈品、Riccardo Tisci(首席创意官)等。这需要零售专家的协调和深入研究。为了使这个知识图与我们的产品图明显分开，节点用黄色标出。

![](img/8eb50c990dce4ca4194b3a80a26a0537.png)

使用博柏利相关词汇的零售知识图的示例子集。节点类型包括年份、公司、国家、人员和关联词语。

# 查询扩展—增强搜索引擎

现在我们有了一个零售知识图(其中黄色节点是零售行业中具有语义连接的实体)和一个经过编辑的产品图(颜色和品牌等产品数据的多色节点)，我们可以利用这两个图进行一些高级查询扩展。

我们使用知识图中的语义信息来获取与文化背景相关的单词。以上述与博柏利相关的单词为例，特别是通过“BRAND_FROM”连接到“Britain”的节点。我们可以使用知识图的这个集群返回英国品牌，如博柏利和保罗·史密斯。

在下面的产品图中，我们有一个博柏利产品和一个保罗·史密斯产品，它们通过在知识图中的连接而相互关联。它们在产品图中还通过一些共享节点(例如，服装、衬衫、印花等)相互关联。因此，如果我们要搜索“英国设计师衬衫式连衣裙”，我们的知识图表将返回基于英国品牌的结果，简单的搜索(如 fuzzy)可以确保我们专注于衬衫式连衣裙。

![](img/5e8497126f42cb92969e3a0113b46481.png)

通过品牌的原产国来关联产品

语义搜索在零售业中很常见，特别是像“时髦的连衣裙”或“跳舞的连衣裙”这样的搜索，会比搜索像“黑色不对称亮片迷你连衣裙”这样的特定产品名称更常见。我们还可以使用基于产品属性和语义实体的知识图将单词关联在一起，与其说是本体，不如说是关键字关联，以构建简单的基于规则的分类，从而实现快速扩展。同样，行业专家在这个过程中根据他们对零售的了解来选择这些词是至关重要的。下面是我们知识图表的一个子集——与“party”相关的精选单词列表。我们可以利用这一点扩大客户的搜索范围。

![](img/e387e8361b0b51aa6230ebea435145c8.png)

零售知识图的子集，带有与 party 相关的单词

通过搜索“时髦服装”，我们从知识图中返回两个“路径长度”(即箭头)内与“时髦”相关的所有精选单词。我们还可以将其扩展到路径长度> 2，以进一步挖掘知识图连接，例如，返回具有这些属性的品牌。这将返回一个“party”聚类来查询我们的产品图，返回所有以 party 相关的词作为属性的产品(即通过 HAS_ATTR 关系)，从而扩展我们的原始查询。我们可以使用我们的知识图的任何部分重复这个过程，例如，“皮夹克”使用一个织物本体(如皮革和麂皮)，“可持续”使用一个可持续本体(链接品牌、材料、关联词等)。

![](img/1539d4aef208319a8a95aa0998df0030.png)

使用零售知识图通过查询扩展来查询我们的产品图

这种将知识图连接到产品图的方法还允许我们进一步探索我们的零售数据。通过观察与某些词的联系增加，我们可以开始看到趋势集群的形成，以及品牌之间共享节点数量增加的品牌集群。

# 最后的想法

事实证明，知识图谱是未来科技的一大贡献者，也将很快成为零售业的下一场大革命。在几天的时间里，我们只涉及了他们零售潜力的一小部分。然而，它们可以为零售公司增加重要的价值，这些公司正在寻求改善搜索扩展、个性化在线推荐、预测趋势、产品匹配等等。我们期待在 EDITED 探索所有这些可能性。