<html>
<head>
<title>Top 3 Python Functions I Wish I Knew Earlier</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我希望早点知道的 3 大 Python 函数</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/top-3-python-functions-i-wish-i-knew-earlier-8732e6f35161?source=collection_archive---------17-----------------------#2020-04-20">https://towardsdatascience.com/top-3-python-functions-i-wish-i-knew-earlier-8732e6f35161?source=collection_archive---------17-----------------------#2020-04-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="56c1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你不知道你不知道什么。</h2></div><p id="7ea5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">尽管 Python 是最简单的编程语言之一，但它仍然有各种各样的内置函数，这些函数不为广大读者所知——主要是因为大多数书籍或在线课程都没有涉及到它们。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/caee77ec185424fa7aac0a5d86c92b0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dLPSTwlqjQ1QHCYv"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated"><a class="ae lu" href="https://unsplash.com/@_stfeyes?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">西恩·佛利</a>在<a class="ae lu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="81e9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，这并不意味着它们是不相关的。</p><p id="fdda" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本文的目的是向您介绍一些鲜为人知的功能，并展示如何以最简单的方式实现它们。目标读者至少了解 Python 和一般编程的基础，并致力于进一步提高他/她的技能。</p><p id="79db" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这篇文章的结构如下:</p><ol class=""><li id="92a4" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated">基本设置</li><li id="6bfa" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">功能#1: <code class="fe mj mk ml mm b">isinstance()</code></li><li id="a0a3" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">功能#2: <code class="fe mj mk ml mm b">hasattr()</code></li><li id="9190" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">功能#3: <code class="fe mj mk ml mm b">exec()</code></li><li id="dc16" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">结论</li></ol><p id="980c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以，事不宜迟，我们开始吧！</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="c4d2" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">基本设置</h1><p id="356f" class="pw-post-body-paragraph ki kj it kk b kl nm ju kn ko nn jx kq kr no kt ku kv np kx ky kz nq lb lc ld im bi translated">现在，我们不需要导入任何东西，因为本文完全是基于 Python 的，但是我们仍然需要声明一些要使用的东西。</p><p id="9b1c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于下面的大多数例子，我们将使用这个简单的类:</p><pre class="lf lg lh li gt nr mm ns nt aw nu bi"><span id="9315" class="nv mv it mm b gy nw nx l ny nz">class Circle():<br/>   def __init__(self):<br/>       self.radius = None</span></pre><p id="500e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在里面什么都没有发生——这很好。我们仍然可以用它来演示这些函数是关于什么的。</p><p id="7a38" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好的，你在跟踪我吗？好，我们开始吧。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="824f" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">功能#1: <code class="fe mj mk ml mm b">isinstance()</code></h1><p id="cacd" class="pw-post-body-paragraph ki kj it kk b kl nm ju kn ko nn jx kq kr no kt ku kv np kx ky kz nq lb lc ld im bi translated">官方文档[1]很好地解释了这个函数的含义:</p><blockquote class="ob oc od"><p id="b111" class="ki kj oa kk b kl km ju kn ko kp jx kq oe ks kt ku of kw kx ky og la lb lc ld im bi translated">如果 object 参数是 classinfo 参数或其(直接、间接或虚拟)子类的实例，则返回 True。</p></blockquote><p id="4857" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果这对你来说太专业了，这里有一个更清晰的解释。假设您已经声明了一个函数，但不确定它将返回什么——例如，如果一切顺利，您需要一个浮点数，如果出错，您需要一个包含错误消息的字符串。<code class="fe mj mk ml mm b">isinstance()</code>前来救援。</p><p id="f6e4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于实用部分，我们将使用上面声明的类，并创建它的一个实例:</p><pre class="lf lg lh li gt nr mm ns nt aw nu bi"><span id="d92c" class="nv mv it mm b gy nw nx l ny nz">circle = Circle()</span></pre><p id="e02f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我们可以使用<code class="fe mj mk ml mm b">isinstance()</code>来检查<code class="fe mj mk ml mm b">circle</code>对象是否属于<code class="fe mj mk ml mm b">Circle</code>类型:</p><pre class="lf lg lh li gt nr mm ns nt aw nu bi"><span id="8b8d" class="nv mv it mm b gy nw nx l ny nz">if isinstance(circle, Circle):<br/>   print('yes')</span><span id="44f6" class="nv mv it mm b gy oh nx l ny nz"><strong class="mm iu">&gt;&gt;&gt; yes</strong></span></pre><p id="3633" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这可能是有用的信息。请记住，您还可以检查某些内容是否是某种内置类型，如字符串、列表、元组等。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="f651" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">函数#2: hasattr()</h1><p id="1e5d" class="pw-post-body-paragraph ki kj it kk b kl nm ju kn ko nn jx kq kr no kt ku kv np kx ky kz nq lb lc ld im bi translated">这个也是很有用的。用一句话来说明它的用途，我认为如果对象<strong class="kk iu">包含指定的属性</strong>，那么<code class="fe mj mk ml mm b">hasattr()</code>简单地返回 True，否则返回 False。</p><p id="7c00" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来看看实际情况。我们已经声明了一个<code class="fe mj mk ml mm b">Circle</code>类，并给了它一些属性— <code class="fe mj mk ml mm b">radius</code>。我们现在可以使用<code class="fe mj mk ml mm b">hasattr()</code>来检查属性是否存在于实例中。</p><p id="f6d7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">代码如下:</p><pre class="lf lg lh li gt nr mm ns nt aw nu bi"><span id="74f5" class="nv mv it mm b gy nw nx l ny nz">circle = Circle()</span><span id="62f4" class="nv mv it mm b gy oh nx l ny nz">if hasattr(circle, 'radius'):<br/>    print('yes')</span><span id="bda6" class="nv mv it mm b gy oh nx l ny nz"><strong class="mm iu">&gt;&gt;&gt; yes</strong></span></pre><p id="9e6f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">差不多就是这些了。这个函数的用例很大程度上取决于你所做的编程类型。作为一名数据科学家，我有时会在我的类中动态地创建属性，因此以某种方式检查属性是否存在是一件好事。</p><p id="b344" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好吧，我们继续。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="212e" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">功能#3: exec()</h1><p id="3436" class="pw-post-body-paragraph ki kj it kk b kl nm ju kn ko nn jx kq kr no kt ku kv np kx ky kz nq lb lc ld im bi translated">如果您有 SQL 背景，那么您可能对<strong class="kk iu">动态查询构建</strong>的概念很熟悉。我们在 Python 中也有类似的东西——可能对大多数开发人员来说不太有用，但是知道有这种功能还是很好的。</p><p id="09c8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">与前两个函数不同，这里我们不需要我们的<code class="fe mj mk ml mm b">Circle</code>类。我们将把两行 Python 代码放入一个多行字符串中，并对它们调用<code class="fe mj mk ml mm b">exec</code>。</p><p id="815b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">代码如下:</p><pre class="lf lg lh li gt nr mm ns nt aw nu bi"><span id="3b3c" class="nv mv it mm b gy nw nx l ny nz">statement = '''a = 10; print(a + 5)'''<br/>exec(statement)</span><span id="47b1" class="nv mv it mm b gy oh nx l ny nz"><strong class="mm iu">&gt;&gt;&gt; 15</strong></span></pre><p id="0b63" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么，这里刚刚发生了什么？</p><p id="25fd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们的语句作为 Python 代码逐行执行，尽管它实际上是一个字符串。</p><p id="0447" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，您可能会发现这个函数不如前两个函数有用，这取决于您所做的工作类型。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="1618" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">结论</h1><p id="2c98" class="pw-post-body-paragraph ki kj it kk b kl nm ju kn ko nn jx kq kr no kt ku kv np kx ky kz nq lb lc ld im bi translated">这就是你要的——一些我作为初学者不知道的功能，但是现在发现它们很有用。如果我早点知道它们，它们可能会节省我一些时间，或者至少让我的代码看起来更优雅，但事实就是这样。</p><p id="879e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读，保重。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><p id="9939" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="oa">喜欢这篇文章吗？成为</em> <a class="ae lu" href="https://medium.com/@radecicdario/membership" rel="noopener"> <em class="oa">中等会员</em> </a> <em class="oa">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><div class="oi oj gp gr ok ol"><a href="https://medium.com/@radecicdario/membership" rel="noopener follow" target="_blank"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd iu gy z fp oq fr fs or fu fw is bi translated">通过我的推荐链接加入 Medium-Dario rade ci</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">medium.com</p></div></div><div class="ou l"><div class="ov l ow ox oy ou oz lo ol"/></div></div></a></div></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="a6a2" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">参考资料:</h1><p id="c3e3" class="pw-post-body-paragraph ki kj it kk b kl nm ju kn ko nn jx kq kr no kt ku kv np kx ky kz nq lb lc ld im bi translated">[1]<a class="ae lu" href="https://docs.python.org/3/library/functions.html#isinstance" rel="noopener ugc nofollow" target="_blank">https://docs.python.org/3/library/functions.html#isinstance</a></p></div></div>    
</body>
</html>