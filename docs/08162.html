<html>
<head>
<title>Inheritance in Python: Fundamentals for Data Scientists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中的继承:数据科学家的基础</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/inheritance-in-python-fundamentals-for-data-scientists-99455f176f76?source=collection_archive---------71-----------------------#2020-06-15">https://towardsdatascience.com/inheritance-in-python-fundamentals-for-data-scientists-99455f176f76?source=collection_archive---------71-----------------------#2020-06-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6c44" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用一个具体的例子来理解基础！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bb291446428ff6ce70cbdf0b7e69474d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VhIuP5knk37CCwWc"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">克里斯托夫·高尔在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="abe0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类继承是面向对象编程中的一个重要概念。它使我们能够扩展现有类的能力。为了创建一个新的类，我们使用一个可用的类作为基础，并根据我们的需要扩展它的功能。因为我们通过使用基类中可用的方法和数据定义来构建新类，所以开发和维护时间减少了，代码可重用性增加了。</p><p id="44e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章将向你介绍 Python 中类继承的基础知识。</p><p id="24f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们编写一个 Python3 代码，其中包含一个简单的类继承示例；</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d6b1" class="ma mb it lw b gy mc md l me mf">import pandas as pd<br/>import random</span><span id="fc07" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu"># BASE CLASS<br/><em class="mh">class</em> CSVGetInfo:</strong><br/> <strong class="lw iu">""" This class displays the summary of the tabular data contained  <br/> in a CSV file """</strong> </span><span id="36f6" class="ma mb it lw b gy mg md l me mf">instance_count = 0<strong class="lw iu"> </strong></span><span id="0c91" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu"> # Initializer / Instance Attributes<br/> </strong><em class="mh">def</em> __init__(<em class="mh">self</em>, <em class="mh">path</em>, <em class="mh">file_name</em>):<br/>  CSVGetInfo.increase_instance_count()<br/>  self.path = path<br/>  self.file_name = file_name<br/>  print("CSVGetInfo class object has been instantiated") </span><span id="8ef7" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu"> # Instance Method</strong><br/> <em class="mh">def</em> display_summary(<em class="mh">self</em>):<br/>  data = pd.read_csv(self.path + self.file_name)<br/>  print(self.file_name)<br/>  print(data.head(self.generate_random_number(10)))<br/>  print(data.info())<br/>  return data<strong class="lw iu"> </strong></span><span id="108f" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu"> # Class Methods<br/> @<em class="mh">classmethod</em></strong><em class="mh"><br/> def</em> increase_instance_count(<em class="mh">cls</em>):<br/>  cls.instance_count += 1<br/>  print(cls.instance_count) </span><span id="bb09" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu"> @<em class="mh">classmethod</em></strong><em class="mh"><br/> def</em> read_file_1(<em class="mh">cls</em>):<br/>  return cls("/Users/erdemisbilen/Lessons/", "data_by_artists.csv")</span><span id="f23a" class="ma mb it lw b gy mg md l me mf"> <strong class="lw iu">@<em class="mh">classmethod</em></strong><em class="mh"><br/> def</em> read_file_2(<em class="mh">cls</em>):<br/>  return cls("/Users/erdemisbilen/Lessons/", "data_by_genres.csv")<strong class="lw iu"> </strong></span><span id="4997" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu"> # Static Methods<br/> @<em class="mh">staticmethod</em></strong><em class="mh"><br/> def</em> generate_random_number(<em class="mh">limit</em>):<br/>  return random.randint(1, limit)</span><span id="617f" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu"># SUB CLASS<em class="mh"><br/>class</em> CSVGetColumnDetails(<em class="mh">CSVGetInfo</em>):</strong><br/> <strong class="lw iu">""" This class displays the summary of a column in a tabular data <br/> contained in a CSV file """ </strong></span><span id="f8ec" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu"> # Initializer / Instance Attributes<br/></strong><em class="mh"> def</em> __init__(<em class="mh">self</em>, <em class="mh">path</em>, <em class="mh">file_name</em>, <em class="mh">column_name</em>):<br/>  CSVGetInfo.__init__(self, path, file_name)<br/>  self.column_name = column_name<br/>  print("CSVGetDetail class object has been instantiated") </span><span id="632a" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu"> # Instance Method</strong><br/> <em class="mh">def</em> display_column_summary(<em class="mh">self</em>):<br/>  data = self.display_summary()<br/>  print(data[self.column_name].describe()) </span><span id="216a" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu"> @<em class="mh">classmethod</em></strong><em class="mh"><br/> def</em> read_file_1(<em class="mh">cls</em>, <em class="mh">column_name</em>):<br/>  return cls("/Users/erdemisbilen/Lessons/", "data_by_artists.csv", <br/>  column_name)</span><span id="a047" class="ma mb it lw b gy mg md l me mf">if __name__ == '__main__':<br/> data = CSVGetColumnDetails.read_file_1("danceability")<br/> data.display_column_summary()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/f6e89f82cc17d2c0620ec0912f356258.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hblXOMVlaYNhyhgO"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@sabrituzcu?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">萨布里·图兹库</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><h1 id="bfa8" class="mj mb it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">Python 中的继承</h1><p id="ce53" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">在上面的 Python 代码中，我们有<strong class="lb iu"> CSVGetInfo </strong>基类，它包含几个方法和数据定义。</p><p id="34da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"><em class="mh">display _ summary(self)</em></strong>实例方法使用<strong class="lb iu"> <em class="mh"> path </em> </strong>和<strong class="lb iu"> <em class="mh"> file_name 中提供的值打印 CVS 文件中包含的表格数据的摘要。</em> </strong></p><p id="4d57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有几个类方法，<strong class="lb iu"><em class="mh"/></strong><strong class="lb iu"><em class="mh">read _ file _ 2(cls)</em></strong><em class="mh"/><strong class="lb iu"><em class="mh">increase _ instance _ count(cls)</em></strong>，缓解基类的对象实例化。</p><p id="353a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们想要创建一个新类<strong class="lb iu">csvgetcolumndedetails</strong>，以获取表格数据中特定列的汇总信息。我们可以从头开始编写一个新的类，但是更好的方法是继承和扩展<strong class="lb iu"> CSVGetInfo </strong>类中已经可用的一些方法和数据定义。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="663b" class="ma mb it lw b gy mc md l me mf"><strong class="lw iu"># BASE CLASS<br/><em class="mh">class</em> CSVGetInfo:<br/> ....<br/> ....</strong></span><span id="6e1c" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu"># SUB CLASS<em class="mh"><br/>class</em> CSVGetColumnDetails(<em class="mh">CSVGetInfo</em>):<br/> ....<br/> ....</strong></span></pre><p id="9256" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"><em class="mh">【class name】</em></strong>是 Python 用来创建子类的继承语法。在我们的例子中，我们的基类是<strong class="lb iu"><em class="mh">CSVGetInfo</em></strong><em class="mh">，我们的扩展子类是</em><strong class="lb iu"><em class="mh">csvgetcolumndedetails。</em>T53】</strong></p><h1 id="b7b1" class="mj mb it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">子类中的属性初始化</h1><p id="a281" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">我们调用我们基类的<strong class="lb iu"> <em class="mh"> __init__ </em> </strong>方法来实例化<strong class="lb iu"> <em class="mh">路径</em> </strong>和<strong class="lb iu"> <em class="mh">文件名</em> </strong>属性。我们将这些属性从基类派生到子类。</p><p id="cb93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">仅在我们的子类级别可用的<strong class="lb iu"> <em class="mh"> column_name </em> </strong>属性用表示<strong class="lb iu"> CSVGetColumnDetails 的</strong>实例<strong class="lb iu">的<strong class="lb iu"> <em class="mh"> self </em> </strong>符号进行实例化。</strong></p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7232" class="ma mb it lw b gy mc md l me mf"><strong class="lw iu"># Initializer / Instance Attributes<br/></strong><em class="mh"> def</em> __init__(<em class="mh">self</em>, <em class="mh">path</em>, <em class="mh">file_name</em>, <em class="mh">column_name</em>):<br/>  CSVGetInfo.__init__(self, path, file_name)<br/>  self.column_name = column_name<br/>  print("CSVGetDetail class object has been instantiated")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/3b9535aa4721b495816a0923b618dc4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-dIuZd_ZQoO-Qi2t"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Raul Varzar 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="8e29" class="mj mb it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">扩展基类中可用的方法</h1><p id="0ee1" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">然后我们在基类派生的<strong class="lb iu"><em class="mh">display _ summary()</em></strong>方法的帮助下，在我们的子类中创建新方法。我们在子类中使用并扩展了<strong class="lb iu"><em class="mh">display _ summary()</em></strong>的功能来定义一个新方法。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="03ae" class="ma mb it lw b gy mc md l me mf"><strong class="lw iu"># Instance Method</strong><br/> <em class="mh">def</em> display_column_summary(<em class="mh">self</em>):<br/>  data = self.display_summary()<br/>  print(data[self.column_name].describe())</span></pre><p id="5f1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个新方法在我们的子类中，<strong class="lb iu"><em class="mh">【display _ column _ summary】(self)，</em> </strong>显示特定列的摘要，通过使用数据<strong class="lb iu"> <em class="mh">【显示 _ 摘要】</em></strong><em class="mh"/><strong class="lb iu"><em class="mh"/></strong>方法<strong class="lb iu"> <em class="mh"> </em> </strong>返回。这个子类方法还有一个子类属性<strong class="lb iu"> <em class="mh"> column_name。</em>T57】</strong></p><h1 id="fc8c" class="mj mb it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">重写基类中可用的方法</h1><p id="b1bd" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">请注意，我们有<strong class="lb iu"> <em class="mh"> read_file_1 </em> </strong>类方法，它们都在我们的基类和子类中定义了不同的实现。</p><p id="140e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基类中的<strong class="lb iu"><em class="mh">read _ file _ 1</em></strong>class 方法只是传递了<strong class="lb iu"> <em class="mh"> path </em> </strong>和<strong class="lb iu"> <em class="mh"> file_name </em> </strong>值来实例化基类对象，而子类中的方法用一个附加参数<strong class="lb iu"> <em class="mh"> column_name 来实例化子类对象。</em>T77】</strong></p><p id="c9ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着子类中的<strong class="lb iu"> <em class="mh"> read_file_1 </em> </strong>方法覆盖了基类中可用的相同方法。当这些方法被调用时，它们执行它们独特的实现。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="6ca0" class="ma mb it lw b gy mc md l me mf"><strong class="lw iu"># BASE CLASS<br/><em class="mh">class</em> CSVGetInfo:<br/> ....<br/> ....<br/></strong> <strong class="lw iu">@<em class="mh">classmethod</em></strong><em class="mh"><br/> def</em> read_file_1(<em class="mh">cls</em>):<br/>  return cls("/Users/erdemisbilen/Lessons/", "data_by_artists.csv")</span><span id="6b5a" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu"># SUB CLASS<em class="mh"><br/>class</em> CSVGetColumnDetails(<em class="mh">CSVGetInfo</em>):<br/> ....<br/> ....</strong></span><span id="b1de" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu"> @<em class="mh">classmethod</em></strong><em class="mh"><br/> def</em> read_file_1(<em class="mh">cls</em>, <em class="mh">column_name</em>):<br/>  return cls("/Users/erdemisbilen/Lessons/", "data_by_artists.csv", <br/>  column_name)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/20db23555ad133e1ea087bcf1a5b8927.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hvQVrLYjw0EtYU8y"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">乔希·考奇在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="f9bd" class="mj mb it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">类继承中的命名约定</h1><p id="3c93" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">基类中可能有一些方法或属性(实例变量)只在基类中使用。它们被称为<strong class="lb iu">私有方法</strong>，并以双下划线约定<strong class="lb iu"><em class="mh">_ _ private method name</em></strong>命名。这些方法不应该在基类之外调用，包括子类。</p><p id="39bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基类中还可能有一些其他的方法或属性，它们只在基类或子类定义中使用。它们被称为<strong class="lb iu">受保护的方法</strong>，并以单条下划线约定<strong class="lb iu"><em class="mh">_ protected method name</em></strong>命名。这些方法应该只在基类和子类结构中调用。</p><h1 id="1d8c" class="mj mb it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">关键要点</h1><ul class=""><li id="ca75" class="nh ni it lb b lc na lf nb li nj lm nk lq nl lu nm nn no np bi translated">继承增加了代码的可重用性，减少了开发和维护时间。</li><li id="6815" class="nh ni it lb b lc nq lf nr li ns lm nt lq nu lu nm nn no np bi translated">继承允许我们定义一个类，它接受并扩展基类中所有可用的方法和数据定义。</li></ul><h1 id="387e" class="mj mb it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">结论</h1><p id="1ec8" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">在这篇文章中，我解释了 Python 中类继承的基础。</p><p id="4abe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章中的代码和使用的 CSV 文件可以在<a class="ae ky" href="https://github.com/eisbilen/ClassInheritanceExample" rel="noopener ugc nofollow" target="_blank">我的 GitHub 资源库中找到。</a></p><p id="7626" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这篇文章对你有用。</p><p id="3472" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读！</p></div></div>    
</body>
</html>