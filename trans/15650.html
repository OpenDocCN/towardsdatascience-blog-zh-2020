<html>
<head>
<title>Solving Scheduling problems using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python解决调度问题</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/roster-optimization-using-python-85b26d58e806?source=collection_archive---------7-----------------------#2020-10-28">https://towardsdatascience.com/roster-optimization-using-python-85b26d58e806?source=collection_archive---------7-----------------------#2020-10-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="6021" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><div class=""><h2 id="dae6" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">通过使用简单的Python编程应用混合整数模型来公式化和解决复杂的排班问题</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/a1c4db8a5b8c112eb419282a0a9c35cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RVH4PsWkyr7od04M"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com/@jankronies?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">扬·克朗斯</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl li lj hx lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="im in io ip iq"><p id="0cf4" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">这篇文章说服读者用定量的方法来做决策。它阐明了我是如何从优化的角度识别和思考问题的。最优化不仅仅是一个数学研究课题。如果运用得当，它可以用来解决不同学科的实际问题。</p><p id="9726" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated"><em class="ml">使用正确的技术，可以对问题进行建模，以最大化/最小化某个结果。</em></p></div><div class="ab cl li lj hx lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="im in io ip iq"><h1 id="8841" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">动机</h1><p id="34b9" class="pw-post-body-paragraph lp lq it lr b ls ne kd lu lv nf kg lx ly ng ma mb mc nh me mf mg ni mi mj mk im bi translated">管理科学是一种基于科学方法的决策方法。它大量使用定量分析。涉及定量决策方法的知识体系有各种各样的名称；除了管理科学，另外两个广为人知和接受的名称是<strong class="lr jd"> <em class="ml">运筹学</em> </strong>和<strong class="lr jd"> <em class="ml">决策科学</em> </strong>。</p><p id="0ac1" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">二战后的两个发展导致了管理科学在非军事领域的发展和应用。</p><ol class=""><li id="e8d2" class="nj nk it lr b ls lt lv lw ly nl mc nm mg nn mk no np nq nr bi translated">首先，持续的研究导致了许多方法上的发展。也许最重要的发展是乔治·丹齐格于1947年发现了求解线性规划问题的单纯形法。</li><li id="22af" class="nj nk it lr b ls ns lv nt ly nu mc nv mg nw mk no np nq nr bi translated">与此同时，这些方法的发展正在发生；数字计算机引发了计算能力的虚拟爆炸。计算机使从业者能够使用先进的方法来解决各种各样的问题。</li></ol><p id="8b36" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">解决问题是一个过程，它能识别实际情况和期望情况之间的差异，然后采取行动解决这种差异。决策是指构建问题，然后分析它以选择一个替代方案。当我们经历很多成功时，很难理解使用数据做决策的必要性。我们的直觉(理解为自我)实际上淡化了运气在你做出的产生有利结果的决定中的作用。</p><p id="123d" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">数据科学教会了我在决策过程中量化的重要性。添加数字或量化结果的概率有助于减少情况的模糊性，并增加决策的一致性。如果没有适当的数据驱动分析，作为决策者，你很容易受到各种偏见和一厢情愿的想法的影响。</p><p id="3501" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">分析领域正以指数级的速度增长；AI(人工智能)、ML(机器学习)和深度学习等术语在科技行业很常用。就个人而言，在所有这些实践领域中，有一个经常不被重视的学科— <strong class="lr jd">优化</strong>。我最近在研究一个优化问题，这是我们在计划一个活动或安排一个会议时经常遇到的问题。</p><h1 id="4b3f" class="mm mn it bd mo mp nx mr ms mt ny mv mw ki nz kj my kl oa km na ko ob kp nc nd bi translated">排班问题</h1><p id="ca13" class="pw-post-body-paragraph lp lq it lr b ls ne kd lu lv nf kg lx ly ng ma mb mc nh me mf mg ni mi mj mk im bi translated">今年早些时候，我父亲被任命为我们地区一个本地演讲会的会长。<a class="ae lh" href="https://www.toastmasters.org/" rel="noopener ugc nofollow" target="_blank">国际演讲会</a>是一个非营利性的教育组织，在全球范围内运营俱乐部，以促进交流、公众演讲和领导力。他的任务之一是为俱乐部的每个成员分配未来会议的角色。</p><p id="c4b4" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">在他担任主席期间，他将主持27次会议，俱乐部目前有26个成员(包括他自己)。在每次会议中，成员可以扮演不同的角色，例如“发言评估员”、“发言人”或“桌面主题主管”。为了成功地召开会议，必须给与会的不同成员分配17个角色。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oc"><img src="../Images/a1e6eed260dd66beda7e36af31dd1975.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6r-Ze7ZKgWK8cOuJ"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://unsplash.com/@neonbrand?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> NeONBRAND </a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="8dda" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">我父亲创建了一个excel电子表格，在表格中，他尽自己最大的努力以符合逻辑的方式给每个成员分配角色。在几次令人沮丧的尝试后，他让我看看他正在进行的杰作。从计划的角度来看，这不是一个不可能完成的任务。通过多次反复试验，我们将能够解决这个问题。然而，我的基本问题是，如果有另一个成员在他的任期内加入或有人退出。这个耗时的过程不得不重复。</p><p id="c750" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">我告诉他，我将热衷于开发一个模型，以改善他的俱乐部的名册。数学模型是任何定量决策方法的关键部分。</p><blockquote class="od oe of"><p id="e681" class="lp lq ml lr b ls lt kd lu lv lw kg lx og lz ma mb oh md me mf oi mh mi mj mk im bi translated">例如，如果构建一个自定义表需要10个小时，<strong class="lr jd"> <em class="it"> 10x </em> </strong>就是<strong class="lr jd">数学模型</strong>，它定义了构建<strong class="lr jd"> <em class="it"> x </em> </strong>表所花费的总小时数。</p></blockquote><h2 id="82d8" class="oj mn it bd mo ok ol dn ms om on dp mw ly oo op my mc oq or na mg os ot nc iz bi translated">模型</h2><p id="88c2" class="pw-post-body-paragraph lp lq it lr b ls ne kd lu lv nf kg lx ly ng ma mb mc nh me mf mg ni mi mj mk im bi translated">对我来说，这个练习的主要目的是开发一个公平的方法来分配每个人的角色，并最大限度地提高他们在赛季中的参与度。数学模型还必须遵循其他几个要求:</p><ol class=""><li id="38cf" class="nj nk it lr b ls lt lv lw ly nl mc nm mg nn mk no np nq nr bi translated">每个会议在给定的一天只能分配17个角色。</li><li id="64e2" class="nj nk it lr b ls ns lv nt ly nu mc nv mg nw mk no np nq nr bi translated">为了使这成为一个公平的模式，每个成员都必须有机会在赛季中至少扮演一次每个角色。</li><li id="e3cd" class="nj nk it lr b ls ns lv nt ly nu mc nv mg nw mk no np nq nr bi translated">每个成员在会议中只能扮演一个角色。</li><li id="c848" class="nj nk it lr b ls ns lv nt ly nu mc nv mg nw mk no np nq nr bi translated">会议中的每个角色都必须被分配。</li></ol><blockquote class="ou"><p id="0a48" class="ov ow it bd ox oy oz pa pb pc pd mk dk translated">下面给出的是制定<strong class="ak">演讲会最高参与度花名册问题的公式化。</strong></p></blockquote><figure class="pf pg ph pi pj kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pe"><img src="../Images/3ae753ca7878c2ce7ba68e0584dfa274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7NiuOV-zuxP7H_Yem1awYg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">陈述模型的决策变量</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pk"><img src="../Images/c355bd870b7032449dd2bc1d00e5fdf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sdvx5C1_5O87ZZRxqWO7VQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">最优化问题的表述</p></figure><h2 id="477a" class="oj mn it bd mo ok ol dn ms om on dp mw ly oo op my mc oq or na mg os ot nc iz bi translated">用Python公式化模型</h2><ol class=""><li id="a2cd" class="nj nk it lr b ls ne lv nf ly pl mc pm mg pn mk no np nq nr bi translated"><strong class="lr jd">初始化决策变量<br/> </strong>从上面的符号可以看出，决策变量是二进制的(即只能保存0或1的值)。每个变量决定了成员、日期(会议)和角色的不同组合的值。</li></ol><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="po pp l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">在Python中初始化决策变量</p></figure><blockquote class="od oe of"><p id="92df" class="lp lq ml lr b ls lt kd lu lv lw kg lx og lz ma mb oh md me mf oi mh mi mj mk im bi translated">例如，如果<strong class="lr jd"> <em class="it"> x_10_2_3 </em> </strong>的值为1，则意味着第二次会议中的10号成员将执行3号角色。</p></blockquote><p id="3d23" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated"><strong class="lr jd"> 2。定义目标函数<br/> </strong>如前所述，该模型试图最大化俱乐部中每个成员的参与度</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="po pp l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">在Python中定义目标函数</p></figure><p id="5968" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated"><strong class="lr jd"> 3。设置约束<br/> </strong>与任何优化问题一样，模型的约束通常需要最多的分析推理。我更喜欢将问题分解成一个玩具例子，并测试模型在应用特定约束时的行为。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="po pp l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">在Python中设置约束</p></figure><h1 id="3ebe" class="mm mn it bd mo mp nx mr ms mt ny mv mw ki nz kj my kl oa km na ko ob kp nc nd bi translated">报表生成</h1><p id="fbb5" class="pw-post-body-paragraph lp lq it lr b ls ne kd lu lv nf kg lx ly ng ma mb mc nh me mf mg ni mi mj mk im bi translated">定量分析过程的一个重要部分是根据模型的解准备报告。决策者必须容易理解报告的结果。它应该包括建议的决定和其他可能对决策者有帮助的有关结果的相关信息。</p><p id="5f49" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">在解决了上面的排班模型后，我决定创建一个excel报表，打印出每个决策变量的值。在这个模型中有<strong class="lr jd">11934个决策变量</strong>，这再次加强了使用编程解决这个问题的论点。</p><p id="0c5b" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">为了编程，我给变量“角色”分配了一个数值，并使用下表对其进行了映射。</p><blockquote class="od oe of"><p id="006d" class="lp lq ml lr b ls lt kd lu lv lw kg lx og lz ma mb oh md me mf oi mh mi mj mk im bi translated">表格显示<strong class="lr jd">角色5 </strong>对应于会议中的<strong class="lr jd">第一个发言人</strong>。</p></blockquote><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/5d522e456245f98403c4f2c9cd0cadd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/format:webp/1*HpRBDQzvyaGGKBc_gFVEWA.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">俱乐部中各种角色的映射表</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/9af768f33ccf289abe9d14790ff80f6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*Ypj45g29lq9HzUSHKIlGjg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">打印模型的结果</p></figure><p id="f5cf" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">从上面的excel报表快照中可以看到，值为1的<strong class="lr jd">值</strong>激活了决策变量。这意味着<strong class="lr jd">成员10 </strong>已经被指派为<strong class="lr jd">会议10 </strong>的<strong class="lr jd">发言评估员4 </strong>的角色。</p><p id="186f" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">为了让决策者更容易理解，我在Excel中创建了一个简单的数据透视表。</p><p id="60aa" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">在这个数据透视表中，</p><ol class=""><li id="7833" class="nj nk it lr b ls lt lv lw ly nl mc nm mg nn mk no np nq nr bi translated"><strong class="lr jd">行</strong>被映射到<strong class="lr jd">成员。</strong></li><li id="3559" class="nj nk it lr b ls ns lv nt ly nu mc nv mg nw mk no np nq nr bi translated"><strong class="lr jd">列</strong>映射到<strong class="lr jd">(会议)</strong></li><li id="29d9" class="nj nk it lr b ls ns lv nt ly nu mc nv mg nw mk no np nq nr bi translated"><strong class="lr jd">单元格值</strong>映射到<strong class="lr jd">角色。</strong></li></ol><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pe"><img src="../Images/3a2cbf50526085cb16e15318b7366e93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mURLDE6jZzEsXmGbGuWjYA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">即将召开的会议的俱乐部名单</p></figure><p id="06e8" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">从上面的报告中可以看出，每个成员都有机会至少扮演一次每个角色。单元格值为0意味着该特定会议上的相应成员没有被分配角色。</p><h1 id="b181" class="mm mn it bd mo mp nx mr ms mt ny mv mw ki nz kj my kl oa km na ko ob kp nc nd bi translated">结论</h1><p id="1811" class="pw-post-body-paragraph lp lq it lr b ls ne kd lu lv nf kg lx ly ng ma mb mc nh me mf mg ni mi mj mk im bi translated">当我接近这篇文章的结尾时，下面给出了我在研究过程中获得的一些重要知识，我想总结一下，以供大家参考。</p><ol class=""><li id="7d0f" class="nj nk it lr b ls lt lv lw ly nl mc nm mg nn mk no np nq nr bi translated">从上面的公式可以看出，<strong class="lr jd">类似的排班问题</strong>可以通过<strong class="lr jd">改变几个关键决策变量</strong>来建模和轻松解决。我强烈建议你自己去修改/测试代码。</li><li id="120b" class="nj nk it lr b ls ns lv nt ly nu mc nv mg nw mk no np nq nr bi translated">我们可以添加<strong class="lr jd">额外的约束</strong>，比如由于一些个人原因，在特定的会议上给成员分配一个角色。或者，我们也可以将问题建模为没有成员在连续3次会议中处于空闲状态。</li><li id="028b" class="nj nk it lr b ls ns lv nt ly nu mc nv mg nw mk no np nq nr bi translated">一个数学模型只取决于你的专业水平。编程的真正力量在于分析的可重复性和可扩展性。对我来说，手动创建另一个花名册会非常耗时。我现在可以在未来的任何时候重用这些代码，节省我的时间、精力和精力。</li></ol><h1 id="2c82" class="mm mn it bd mo mp nx mr ms mt ny mv mw ki nz kj my kl oa km na ko ob kp nc nd bi translated">GitHub链接，谢谢</h1><p id="36bc" class="pw-post-body-paragraph lp lq it lr b ls ne kd lu lv nf kg lx ly ng ma mb mc nh me mf mg ni mi mj mk im bi translated">谢谢你一直读到最后。我希望这篇文章能激励你用更定量的视角分析生活中的不同问题。</p><p id="7415" class="pw-post-body-paragraph lp lq it lr b ls lt kd lu lv lw kg lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">对于任何感兴趣的人，可以在我的GitHub资源库中找到代码。请随意下载并分析您的用例信息。</p><div class="ps pt gp gr pu pv"><a href="https://github.com/wiredtoserve/datascience/tree/master/Rostering" rel="noopener  ugc nofollow" target="_blank"><div class="pw ab fo"><div class="px ab py cl cj pz"><h2 class="bd jd gy z fp qa fr fs qb fu fw jc bi translated">有线服务/数据科学</h2><div class="qc l"><h3 class="bd b gy z fp qa fr fs qb fu fw dk translated">使用Python中的纸浆包来制定和解决一个简单的排班问题打开jupyter笔记本安装…</h3></div><div class="qd l"><p class="bd b dl z fp qa fr fs qb fu fw dk translated">github.com</p></div></div><div class="qe l"><div class="qf l qg qh qi qe qj lb pv"/></div></div></a></div><h1 id="93df" class="mm mn it bd mo mp nx mr ms mt ny mv mw ki nz kj my kl oa km na ko ob kp nc nd bi translated">参考</h1><p id="a6bb" class="pw-post-body-paragraph lp lq it lr b ls ne kd lu lv nf kg lx ly ng ma mb mc nh me mf mg ni mi mj mk im bi translated">[1]安德森、斯威尼、威廉姆斯、卡姆、科克伦、弗莱、奥尔曼。<em class="ml">管理科学导论:决策的定量方法</em>。2015年第14版。Cengage学习。第2-8页</p></div><div class="ab cl li lj hx lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="im in io ip iq"><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qk"><img src="../Images/274ca0e56e2b80b54f6ce858626c3fbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9gb4nTHQlCu-6S83"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae lh" href="https://unsplash.com/@cmhedger?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Courtney hedge</a>拍摄的照片</p></figure></div></div>    
</body>
</html>