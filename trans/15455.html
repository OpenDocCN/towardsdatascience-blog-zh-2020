<html>
<head>
<title>Python and Oracle Database</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python和Oracle数据库</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-and-oracle-database-c7b5d4d7fa4c?source=collection_archive---------10-----------------------#2020-10-24">https://towardsdatascience.com/python-and-oracle-database-c7b5d4d7fa4c?source=collection_archive---------10-----------------------#2020-10-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b95b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">任何数据科学家都不能忽视这种组合</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/acf4c9e0fcf6a7ecd86b66ad089eb582.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*I3fZh-J0Bxc8RYM4"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">布鲁斯·马斯在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="5786" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在学习数据科学的同时，大部分时间我们使用的是Excel，CSV格式的开源数据。然而，现实世界的数据科学项目涉及从数据库中访问数据。如果需要存储和访问数据，就需要数据库。现代数据库的两种主要类型是关系数据库(RDBMS)和非关系数据库(也称为NoSQL数据库)。</p><p id="08ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">RDBMS数据库可以很好地处理存储在行和列中的数据。一致性和速度是RDBMS数据库的最大优势。</p><p id="3a39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将带您了解最常用的RDBMS数据库——Oracle数据库，并解释如何在Oracle数据库上使用Python应用程序的神圣组合。</p><h2 id="980d" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">连接策略</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mo"><img src="../Images/adee68b93d4453458ae4aa7fb588d1b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MV3BF-_U1ZjAt1YyfeXKbw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="b741" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据库连接是应用程序和oracle数据库机之间的物理通信路径。一旦应用程序建立了数据库连接，该会话将从用户通过数据库验证开始一直持续到用户断开或退出数据库应用程序。</p><blockquote class="mp"><p id="bb7f" class="mq mr it bd ms mt mu mv mw mx my lu dk translated">Python有一个用于连接Oracle数据库的内置库cx_Oracle。</p></blockquote><p id="4dd8" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">我最喜欢cx_Oracle的一个特性是它为诊断任何与连接或数据访问相关的问题提供了透明性。下图显示了应用程序和数据库连接和操作的不同阶段的不同错误代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/7c973bc086ee55d45adf93ac74ba3bb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B5NRuwmKT3YEqrJzL-hHjw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="e7f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码片段显示了如何使用cx_Oracle库连接Oracle数据库。用您的数据库详细信息替换下面代码中的userid、密码、主机、端口和服务名。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="11b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了直接在python程序中输入数据库登录详细信息，它还可以存储在python文件中，并可以像下面这样导入到程序中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="feb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里，oracbledbconnect是存储数据库连接详细信息的文件的名称。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/c3510573b77644259a1b0362f527e2b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ogZIkd1njiyUbkmPLesU1Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h2 id="855e" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">连接池</h2><p id="d643" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在python应用程序和Oracle数据库之间设计一个合理的连接策略至关重要。在数据密集型应用程序中，单个独立连接可能不够，它可能需要一个连接池。</p><blockquote class="mp"><p id="9d86" class="mq mr it bd ms mt mu mv mw mx my lu dk translated">连接池是到Oracle数据库的连接的缓存。</p></blockquote><p id="74cb" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">在运行时，应用程序从池中请求一个连接。如果池包含可以满足请求的连接，那么它将连接返回给应用程序。应用程序使用连接在数据库上执行工作，然后将连接返回到池。然后，释放的连接可用于下一个连接请求。</p><p id="2f88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码片段显示了如何创建连接池。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="d711" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这段代码将在开始时创建五个连接会话，并将连接会话增加到15个。</p></div><div class="ab cl nn no hx np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="im in io ip iq"><h2 id="3267" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">Python和SQL</h2><p id="8e80" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">SQL是基础，任何从事数据相关专业的人都必须掌握。</p><p id="481c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用cx_Oracle在Oracle数据库上运行SQL一点也不困难。只需在连接对象上打开一个光标，执行SQL，然后关闭连接。</p><p id="5e82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码片段显示了如何连接到数据库，从一个表中选择所有记录，然后打印表中第一行第三列的记录。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h2 id="4aef" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">Python和PLSQL</h2><p id="824f" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">PLSQL是SQL的过程扩展。可以在一个PLSQL程序中一起编写多个SQL语句，而不是编写如上所示的单个SQL语句，并且可以通过数据库连接游标中的callfunc方法在Python应用程序中调用该程序，如以下代码片段所示。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h2 id="1b5a" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">大型物体</h2><p id="8add" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">数据以行和列的形式存储在Oracle数据库中。如果有些数据不能用行列格式表示，例如。文档、图像、视频，它不能直接存储在Oracle数据库中。</p><p id="6291" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大型文档、图像等数据。在Oracle数据库中被称为大型对象。Cx_Oracle有CLOB、BLOB之类的方法来处理大型对象。</p><p id="5a34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码片段显示了如何在Oracle数据库表字段中存储图像。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h2 id="d40b" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">系统综合</h2><p id="1d30" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">数据科学和机器学习包括从不同的来源获取数据。公共数据、网络废弃、来自服务提供商的文件等。使用cx_Oracle和sqlalchemy库，可以在Oracle数据库表中使用不同种类的数据。</p><p id="8aab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码片段显示了如何将特定目录中所有文件的数据消耗到oracle数据库表中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h2 id="7c29" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">结论:</h2><p id="0d0e" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">几乎每个大型企业都使用Oracle、MySQL、IBM DB2等关系数据库来存储业务关键数据。虽然SQL是处理大多数关系数据库的有效机制，并且SQL的声明式设计使其易于学习和使用，但在开发多样化的应用程序时，它的能力是有限的。这就是Python和SQL的结合大放异彩之处。作为一门数据科学，你不能忽视使用Oracle数据库学习Python的重要性。</p><p id="1284" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">参考</strong></p><div class="nu nv gp gr nw nx"><a href="https://www.sanrushaacademy.com/p/pythonsqloracle" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab fo"><div class="nz ab oa cl cj ob"><h2 class="bd iu gy z fp oc fr fs od fu fw is bi translated">Python+ SQL + Oracle:集成Python、SQL和Oracle</h2><div class="oe l"><h3 class="bd b gy z fp oc fr fs od fu fw dk translated">我是桑鲁沙的桑杰！我们是领先的信息技术教育提供商:数据集成和…</h3></div><div class="of l"><p class="bd b dl z fp oc fr fs od fu fw dk translated">www.sanrushaacademy.com</p></div></div><div class="og l"><div class="oh l oi oj ok og ol ks nx"/></div></div></a></div></div></div>    
</body>
</html>