<html>
<head>
<title>The Beginner’s Guide to Logistic Regression</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">逻辑回归初学者指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-beginners-guide-to-logistic-regression-part-1-920eda7aea5f?source=collection_archive---------21-----------------------#2020-10-22">https://towardsdatascience.com/the-beginners-guide-to-logistic-regression-part-1-920eda7aea5f?source=collection_archive---------21-----------------------#2020-10-22</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="a639" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">数学和理解之旅</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/e07893242f5bb682d2017d7f784414ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vO-uFCV6MmXmDCbHS5iO-Q.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@giabyte?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Gia Oris </a>在<a class="ae kz" href="https://unsplash.com/s/photos/start?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="8eb0" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">逻辑回归是本科统计学学生学习使用的第一个二元反应模型。这也是MOOCs教授给有抱负的数据科学家的第一个分类算法。</p><p id="c9f8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">逻辑回归如此流行有几个原因:</p><ol class=""><li id="10ea" class="lw lx iu lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">这很容易理解。</li><li id="0046" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">它只需要几行代码。</li><li id="873e" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">这是对二元反应模型的很好的介绍。</li></ol><p id="4f8f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在本文中，我将解释逻辑回归背后的数学原理，包括如何解释逻辑回归模型的系数，并解释逻辑回归相对于更简单的<em class="mk">方法的优势。</em></p><h1 id="fbb4" class="ml mm iu bd mn mo mp mq mr ms mt mu mv ka mw kb mx kd my ke mz kg na kh nb nc bi translated">用回归估计概率的初级读本</h1><p id="1b63" class="pw-post-body-paragraph la lb iu lc b ld nd jv lf lg ne jy li lj nf ll lm ln ng lp lq lr nh lt lu lv in bi translated">在深入研究逻辑回归之前，让我们首先讨论一个更简单但直观上相似的模型:</p><h2 id="c1b8" class="ni mm iu bd mn nj nk dn mr nl nm dp mv lj nn no mx ln np nq mz lr nr ns nb nt bi translated"><strong class="ak">线性概率模型(LPM)。</strong></h2><p id="1228" class="pw-post-body-paragraph la lb iu lc b ld nd jv lf lg ne jy li lj nf ll lm ln ng lp lq lr nh lt lu lv in bi translated">线性概率模型与回归模型相同，除了一个关键的区别:</p><p id="72ac" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><em class="mk">回归模型的因变量是连续的，而LPM的因变量是二元的</em>。</p><p id="ddac" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果我们有一个独立变量，那么我们的LPM是</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nu"><img src="../Images/eb6d91d532c39a052ad1dc6f190f0b91.png" data-original-src="https://miro.medium.com/v2/resize:fit:376/format:webp/1*URzJ3Fjpl-6HYFQLnGqgMw.jpeg"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="52ad" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">其中<em class="mk"> Y </em>为二元响应变量，<em class="mk"> X </em>为自变量，<em class="mk"> u </em>为误差项。</p><p id="88cd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><em class="mk"> X </em>每变化一个单位，<em class="mk"> Y </em>等于1的概率就变化<em class="mk"> B1 </em>。如果<em class="mk"> X </em>等于0，那么<em class="mk"> Y </em>等于1的概率就是<em class="mk"> B0 </em>。</p><p id="26a4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们用一个实际的例子。假设如果一个人有工作，Y等于1，如果没有工作，Y等于0。<em class="mk"> X </em>是他们接受大专教育的年限。</p><p id="126d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们进行回归，估计<em class="mk"> B1 </em>等于0.07，而<em class="mk"> B0 </em>等于0.4。也就是说，</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nv"><img src="../Images/13062449bdb88e7e1d547c3b52193bb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:346/format:webp/1*AoFWkuH4O5p4H69BhiWfNA.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="8198" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果一个人受过一年的大专教育，那么他有47%的概率找到工作。如果一个人接受了两年的大专教育，那么他找到工作的概率会增加7个百分点(高达54%)。</p><p id="5569" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">一个没有受过高等教育的人有40%的概率找到工作。</p><blockquote class="nw"><p id="2161" class="nx ny iu bd nz oa ob oc od oe of lv dk translated">线性概率模型的优点是易于解释。然而，LPM有两个主要缺点，这使得它不能用于任何严肃的研究。</p></blockquote><p id="967d" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated"><strong class="lc iv">首先</strong>，如果一个人接受了十年的大专教育(他们已经完成了学士和博士学位)，会发生什么？</p><p id="eed0" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">这样的话，这个人有110%的概率找到工作！</strong></p><p id="d71e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">人们很容易将这一估计解读为，拥有博士学位会让我们过得更好；但是，记住概率只能在0%到100%之间。超出这个区间的概率是没有意义的。</p><p id="03ec" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">线性概率模型的第二个问题是，它们假设<em class="mk"> Y </em>等于1的概率变化是恒定的。</p><p id="929e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">也就是说，一个受过三年大专教育，然后完成第四年(他们刚刚从学士学位毕业)的人找到工作的概率与受过四年大专教育的人相同，然后完成第五年(他们刚刚从硕士学位毕业)。</p><p id="56e2" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这可能不是真的。与获得学士学位相比，获得硕士学位可能会给就业带来更大的变化(或者我们希望如此)。</p><p id="1f5c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">逻辑回归模型解决了线性概率模型的所有问题。</p><h1 id="0fae" class="ml mm iu bd mn mo mp mq mr ms mt mu mv ka mw kb mx kd my ke mz kg na kh nb nc bi translated"><strong class="ak">逻辑回归</strong></h1><h2 id="0a4f" class="ni mm iu bd mn nj nk dn mr nl nm dp mv lj nn no mx ln np nq mz lr nr ns nb nt bi translated">逻辑回归的图形和方程</h2><p id="cb03" class="pw-post-body-paragraph la lb iu lc b ld nd jv lf lg ne jy li lj nf ll lm ln ng lp lq lr nh lt lu lv in bi translated">逻辑回归如下图所示:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ol"><img src="../Images/08f42f71df2c81a8a7df23036039e7bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ion2XZVtDSO1nei8VE34kQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片(德斯莫斯)</p></figure><p id="255e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">上图明确了逻辑回归的几个要点。</p><p id="02db" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">首先是</strong>，<strong class="lc iv"> logistic回归是<em class="mk">非线性</em>，</strong>。更专业地说，<em class="mk">因变量的变化取决于</em>自变量的<em class="mk">值，</em>和<em class="mk">斜率系数。</em></p><p id="3d83" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">第二，逻辑回归的范围(因变量可以取的可能值的区间)被限制在0和1之间，不包括0和1。因此，逻辑回归避免了概率小于0%或大于100%的问题。</p><p id="56e4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果我们有一个独立变量，那么逻辑回归方程是:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj om"><img src="../Images/9668246ee6dcdc94dbb339296e0dd037.png" data-original-src="https://miro.medium.com/v2/resize:fit:380/format:webp/1*QSemx5BjCu8TxMT8iTzhrg.jpeg"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="9109" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在哪里</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj on"><img src="../Images/ce4bc271d2ac0d8c41fe4dc8564893ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:316/format:webp/1*I4VDpKsU8oiXGVV3KiLlJg.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="e9c9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">逻辑回归模型在以下情况下增长最快:</p><ol class=""><li id="19bd" class="lw lx iu lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">z = 0</li><li id="28a3" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">G(z)接近0(当z接近负无穷大时)</li><li id="2bf8" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">G(z)接近1(当z接近正无穷大时)</li></ol><p id="3aa9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">第三，逻辑回归不要求同方差(与自变量无关的误差)或高斯误差是精确的。</p><h2 id="aa4d" class="ni mm iu bd mn nj nk dn mr nl nm dp mv lj nn no mx ln np nq mz lr nr ns nb nt bi translated">解释逻辑回归的系数</h2><p id="95bc" class="pw-post-body-paragraph la lb iu lc b ld nd jv lf lg ne jy li lj nf ll lm ln ng lp lq lr nh lt lu lv in bi translated">逻辑回归的系数被解释为“对数优势”。对数比值是应用于比值比的自然对数变换。</p><p id="dd47" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们以前见过赔率比(它们在博彩领域很常见)。</p><p id="cf26" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">例如，假设我们在一场赛马中。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oo"><img src="../Images/69f1eaa0263266626fcc76516546d99d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*om6doGvH_-VdERMvuOhDUQ.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">马修·施瓦茨在<a class="ae kz" href="https://unsplash.com/s/photos/horse-racing?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="9415" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">“慢吞吞的那匹马”赢这场比赛的赔率是1:10。</p><p id="6ae7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">因此，慢吞吞的马输掉比赛的可能性是赢得比赛的可能性的十倍。</p><p id="20a9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们可以把比值比，<em class="mk">或，</em>写成:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj op"><img src="../Images/9bdf3ec655109ddfbf0620b19d1d58f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:332/format:webp/1*JlTCEMO80tYnCZkHSBUvuQ.jpeg"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="3600" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">其中<em class="mk"> P </em>是成功的概率，给定<em class="mk"> X </em>的值。</p><p id="572e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">对比值比应用自然对数变换，我们得到:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oq"><img src="../Images/d95a517c9e2b1a516374233f279c2a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:254/format:webp/1*AS10ayAIi9NseHD-yHIUjA.jpeg"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="5cca" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们回到第一个例子，如果我们有工作，我们的因变量等于1，如果我们失业，我们的因变量等于0。自变量是中学后教育的年数。</p><p id="004c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们估计了逻辑回归，发现大专教育年数的斜率估计值等于3。因此，大专教育每增加一年，对数优势增加3。</p><p id="1bf9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">这是什么意思？</strong></p><p id="f5ec" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果<em class="mk"> log </em> ( <em class="mk">或</em> ) = 3，那么我们可以对两边取幂得到</p><p id="e725" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><em class="mk"> OR = e </em></p><p id="ffd1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">因此，赔率约为20.1。这告诉我们，一个完成五年大专教育的人找到工作的可能性是完成四年教育的人的二十倍。</p><p id="4a0f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">随着对照组之间的差异扩大，成功的几率呈指数增长。例如，一个受过六年大专教育的人比一个完成了四年教育的人更有可能找到工作<em class="mk"> 400倍</em>(在这个虚构的例子中，几率是极端的，但它表达了这一点)。</p><p id="7605" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">换句话说，赔率的差异等于</p><p id="b37f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><em class="mk">比较组间的OR^(Difference)。</em></p><h2 id="ce82" class="ni mm iu bd mn nj nk dn mr nl nm dp mv lj nn no mx ln np nq mz lr nr ns nb nt bi translated">逻辑回归假设</h2><p id="1cab" class="pw-post-body-paragraph la lb iu lc b ld nd jv lf lg ne jy li lj nf ll lm ln ng lp lq lr nh lt lu lv in bi translated">逻辑回归模型假设事件的概率可以用sigmoid函数(上图中的S曲线)来模拟。如果你有任何理由相信概率不遵循S曲线，那么你不应该使用逻辑回归函数。</p><h1 id="b579" class="ml mm iu bd mn mo mp mq mr ms mt mu mv ka mw kb mx kd my ke mz kg na kh nb nc bi translated">结论</h1><p id="050d" class="pw-post-body-paragraph la lb iu lc b ld nd jv lf lg ne jy li lj nf ll lm ln ng lp lq lr nh lt lu lv in bi translated">在这篇文章中，我们回顾了逻辑回归的假设，它背后的数学，以及它相对于线性概率模型的优势。</p><p id="fa79" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在另一篇文章中(谁知道什么时候？)，我将解释如何使用二元和连续自变量的逻辑回归。我还将解释受试者操作特征(ROC)，这是说明逻辑回归(以及其他二元响应模型)诊断能力的常用工具。</p><p id="1832" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">每当我有一个二元因变量时，我就使用逻辑回归。对于分类问题<em class="mk">和</em>来说，这是一个生成因果洞察的强大工具。希望本文鼓励您在下一个数据科学项目中使用它！</p></div></div>    
</body>
</html>