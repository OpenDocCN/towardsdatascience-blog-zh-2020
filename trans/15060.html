<html>
<head>
<title>How to Clean Text Data at the Command Line</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在命令行清理文本数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-clean-text-files-at-the-command-line-ce2ff361a16c?source=collection_archive---------32-----------------------#2020-10-16">https://towardsdatascience.com/how-to-clean-text-files-at-the-command-line-ce2ff361a16c?source=collection_archive---------32-----------------------#2020-10-16</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="05cc" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">关于使用命令行工具清理数据的基础教程:tr、grep、sort、uniq、sort、awk、sed和csvlook</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/cd5290d69b82ca3ead0d39aecca7ebe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*F8wFf9XtoS757Zrl.jpg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://unsplash.com/@jeshoots?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">JESHOOTS.COM</a>在<a class="ae kz" href="https://unsplash.com/s/photos/cleaning-kitchen?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="3772" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">清理数据就像清理你家的墙壁，你清除任何乱涂乱画，清除灰尘，过滤掉那些让你的墙壁变丑的不必要的东西，把它去掉。清理数据时也会发生同样的事情，过滤掉我们想要的，去掉我们不想要的，让原始数据变得有用而不再原始。您可以使用Python、R或任何您喜欢的语言进行清理，但在本教程中，我将通过一篇研究clickbait和非clickbait数据的论文来解释如何在命令行文件中清理文本文件。</p><h1 id="4e4d" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">提取并运行docker映像</h1><p id="d07b" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">为了消除下载我们处理的文件和我们需要的依赖关系的麻烦，我为你做了一个docker镜像，它包含了你需要的所有东西。你只需从docker hub中拉出它，就能找到你需要玩的东西，让你专注于清洁部分。所以让我们<a class="ae kz" href="https://hub.docker.com/r/ezzeddin/clean-data" rel="noopener ugc nofollow" target="_blank">提取那个图像</a>，然后交互地运行它以进入shell并编写一些命令行。</p><ul class=""><li id="ec3d" class="mt mu iu lc b ld le lg lh lj mv ln mw lr mx lv my mz na nb bi translated"><strong class="lc iv"> docker run </strong>是运行docker镜像的命令</li><li id="10d3" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated">选项— <strong class="lc iv"> rm </strong>设置为在容器存在后移除容器</li><li id="dcaf" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated">选项<strong class="lc iv"> -it </strong>是<strong class="lc iv"> -i </strong>和<strong class="lc iv"> -t </strong>的组合，是为交互进程(shell)设置的</li><li id="9691" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated"><strong class="lc iv"> ezzeddin/clean-data </strong>是docker图像名称</li></ul><p id="75dd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果使用docker对你来说还不清楚，你可以看看<a class="ae kz" href="https://www.ezzeddinabdullah.com/posts/penguins-in-docker-a-tutorial-on-why-we-use-docker" rel="noopener ugc nofollow" target="_blank">为什么我们使用docker教程</a></p><div class="nh ni gq gs nj nk"><a href="https://medium.com/swlh/penguins-in-docker-a-tutorial-on-why-we-use-docker-ce67cebf65f9" rel="noopener follow" target="_blank"><div class="nl ab fp"><div class="nm ab nn cl cj no"><h2 class="bd iv gz z fq np fs ft nq fv fx it bi translated">Docker中的企鹅——关于我们为什么使用Docker的教程</h2><div class="nr l"><h3 class="bd b gz z fq np fs ft nq fv fx dk translated">关于docker以及如何构建docker文件、挂载卷和运行docker映像的基础教程</h3></div><div class="ns l"><p class="bd b dl z fq np fs ft nq fv fx dk translated">medium.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kt nk"/></div></div></a></div><h1 id="33d7" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">清理文本文件</h1><p id="171a" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">让我们清理两个文本文件，分别包含16，000篇文章的<a class="ae kz" href="https://github.com/bhargaviparanjape/clickbait/tree/master/dataset" rel="noopener ugc nofollow" target="_blank"> clickbait和非clickbait </a> headlines。这个数据来自于<em class="nz"> 2016年IEEE/ACM社交网络分析与挖掘进展国际会议(ASONAM)上的一篇题为:<a class="ae kz" href="https://people.mpi-sws.org/~achakrab/papers/chakraborty_clickbait_asonam16.pdf" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv">停止点击诱饵:检测和防止在线新闻媒体</strong> </a>中的点击诱饵的论文。</em>我们的目标是获得点击诱饵和非点击诱饵标题中最常用的词。</p><p id="7a99" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您列出容器中的内容，您会看到两个文本文件，分别名为<em class="nz"> clickbait_data </em>和<em class="nz"> non_clickbait_data </em>。让我们先看看我们想要的最终输出是什么。对于clickbait数据，我们希望最常见的20个单词以如下方式表示，并给出它们的计数:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oa"><img src="../Images/413cc9174ee3c91f42700c5c43d4d489.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/0*OLbEDPPQhV1LajwF.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="3ea1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">非点击诱饵标题中最常见的20个单词:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ob"><img src="../Images/e88da1b52f8be294833b9707a84e41bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/0*QgoOAGSa-gzLfYGX.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="64a8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们看看如何通过命令行一步一步地获取这些直方图。运行docker映像后，我们现在处于一个新环境的新shell中。让我们首先通过获取文件<em class="nz"> </em>的前10行来看看<em class="nz"> clickbait_data </em>文件有什么:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="4d0b" class="oh lx iu od b gz oi oj l ok ol">$ head clickbait_data</span></pre><p id="970d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如此看来，这个文件的标题被标记为clickbait，正如您所看到的:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="3cf0" class="oh lx iu od b gz oi oj l ok ol">Should I Get Bings</span><span id="159a" class="oh lx iu od b gz om oj l ok ol">Which TV Female Friend Group Do You Belong In</span><span id="fb9b" class="oh lx iu od b gz om oj l ok ol">The New "Star Wars: The Force Awakens" Trailer Is Here To Give You Chills</span><span id="57d9" class="oh lx iu od b gz om oj l ok ol">This Vine Of New York On "Celebrity Big Brother" Is Fucking Perfect</span><span id="71e7" class="oh lx iu od b gz om oj l ok ol">A Couple Did A Stunning Photo Shoot With Their Baby After Learning She Had An Inoperable Brain Tumor<br/></span></pre><p id="3d89" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您使用<strong class="lc iv"> head </strong>获取<em class="nz"> non_clickbait_data </em>的第一行，您会发现:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="8141" class="oh lx iu od b gz oi oj l ok ol">Bill Changing Credit Card Rules Is Sent to Obama With Gun Measure Included<br/>In Hollywood, the Easy-Money Generation Toughens Up<br/>1700 runners still unaccounted for in UK's Lake District following flood</span><span id="550c" class="oh lx iu od b gz om oj l ok ol">Yankees Pitchers Trade Fielding Drills for Putting Practice<br/>Large earthquake rattles Indonesia; Seventh in two days</span><span id="1bef" class="oh lx iu od b gz om oj l ok ol">Coldplay's new album hits stores worldwide this week</span><span id="0a35" class="oh lx iu od b gz om oj l ok ol">U.N. Leader Presses Sri Lanka on Speeding Relief to War Refugees in Camps</span></pre><p id="b6e7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们感兴趣的是单词而不是短语，所以我们可以得到从3个字母到更多字母的单词:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="6512" class="oh lx iu od b gz oi oj l ok ol">$ head clickbait_data | grep -oE '\w{3,}'</span></pre><p id="2ad2" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">这里使用head clickbait_data </strong>是因为我们在这里对文件顶部的几个标题进行统计，这些标题通过管道传送到下一个grep命令<strong class="lc iv"> grep -oE '\w{3，}' </strong></p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="8dc7" class="oh lx iu od b gz oi oj l ok ol"><strong class="od iv">grep<br/>   -oE -o </strong>for getting only matching words and <strong class="od iv">-E </strong>for using extended regular expression which is the next pattern<br/>   <strong class="od iv">‘\w{3,}’ </strong>this pattern is like <strong class="od iv">‘\w\w\w+’ </strong>which matches whole words with 3 letters or more</span></pre><p id="0c21" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了获得每个单词的计数，我们需要首先获得唯一的单词，我们可以通过带有选项<strong class="lc iv"> -c </strong>的<strong class="lc iv"> uniq </strong>命令获得这些单词，以便给你计数，但是要让<strong class="lc iv"> uniq </strong>删除重复的单词，你需要首先排序:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="6f12" class="oh lx iu od b gz oi oj l ok ol">$ head clickbait_data | grep -oE '\w{3,}' | sort | uniq -c</span></pre><p id="d124" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">该命令在前10行执行，让我们在整个clickbait标题中执行:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="082a" class="oh lx iu od b gz oi oj l ok ol">$ cat clickbait_data | grep -oE '\w{3,}' | sort | uniq -c | sort -nr | head</span></pre><ul class=""><li id="fdbb" class="mt mu iu lc b ld le lg lh lj mv ln mw lr mx lv my mz na nb bi translated"><strong class="lc iv">cat clickbait _ data | grep-oE ' \ w { 3，}' | sort | uniq -c </strong>我们现在将这个命令(获取click bait数据中的所有单词)放入下一个命令的标准输入中</li><li id="af8e" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated"><strong class="lc iv"> sort -nr </strong>以相反的顺序进行数字排序，首先得到最高的计数</li><li id="7e49" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated"><strong class="lc iv">头</strong>获取前10个常用单词</li></ul><p id="f993" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">以下是前一个命令的输出:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="c4f8" class="oh lx iu od b gz oi oj l ok ol">   5538 You<br/>   4983 The<br/>   2538 Your<br/>   1945 That<br/>   1942 Are<br/>   1812 This<br/>   1645 And<br/>   1396 For<br/>   1326 What<br/>   1242 Will</span></pre><p id="c396" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">看起来我们现在很接近一个良好的状态，让我们看看我们能做些什么来更好地清理它。</p><p id="e6c2" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果我们深入观察</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj on"><img src="../Images/bdbce95ca150d94e8a16e552651a7844.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VhsWJrMrTRdmURx5.jpg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">戴维·特拉维斯在<a class="ae kz" href="https://unsplash.com/s/photos/glasses?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="cb86" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们可以看到我们遗漏了小写字母和全部大写字母。例如，对于“你”这个词，我们漏掉了“你”，我们也漏掉了“你”。让我们试着看看这些单词是否已经存在:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="741e" class="oh lx iu od b gz oi oj l ok ol">$ cat clickbait_data | grep -oE '\w{3,}' | sort | uniq -c | sort -nr | grep you<br/>$ cat clickbait_data | grep -oE '\w{3,}' | sort | uniq -c | sort -nr | grep YOU</span></pre><p id="d428" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">所以我们可以看到:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="ea5d" class="oh lx iu od b gz oi oj l ok ol">      1 your<br/>      1 you<br/>      1 YOUR<br/>      1 YOU</span></pre><p id="3293" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们少了两个单词，每个单词都有助于我们计算“You”和“Your”的出现次数，使它们分别为5540和2540。</p><p id="7dae" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们首先需要做的是使用<strong class="lc iv"> tr </strong>将每个大写字母转换成小写字母，tr 是一个命令行实用程序，用于翻译字符:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="dbf7" class="oh lx iu od b gz oi oj l ok ol">$ cat clickbait_data | tr '[:upper:]' '[:lower:]'| grep -oE '\w{3,}' | sort | uniq -c | sort -nr | head</span></pre><p id="ccfd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> tr '[:upper:]' '[:lower:]' </strong>这里将<em class="nz"> clickbait_data </em>的内容翻译成小写。<strong class="lc iv"> ['upper'] </strong>是代表所有大写字符的字符类，而<strong class="lc iv"> ['lower'] </strong>是代表所有小写字符的字符类。</p><p id="20df" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了在标题前添加这些值，我们可以使用<strong class="lc iv"> sed </strong>来放置两个列名来表示每一列:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="85ea" class="oh lx iu od b gz oi oj l ok ol">$ cat clickbait_data | tr '[:upper:]' '[:lower:]'| grep -oE '\w{3,}' | sort | uniq -c | sort -nr | sed '1i count,word' | head</span></pre><p id="409b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> sed '1i count，word' </strong>所以我们用<em class="nz"> count </em>表示出现的次数，用<em class="nz"> word </em>显然表示这个单词</p><p id="a239" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">此处使用1i </strong>将这两个字写在第一行，文件中的更改将会到位</p><p id="bcf4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">输出:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="a516" class="oh lx iu od b gz oi oj l ok ol">count,word <br/>5540 you<br/>4992 the<br/>2540 your<br/>1950 that<br/>1944 are<br/>1812 this<br/>1653 and<br/>1397 for<br/>1326 what</span></pre><p id="8ab6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了以漂亮的形状打印出来，我们可以使用<strong class="lc iv"> csvlook </strong>来得到这个:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="448c" class="oh lx iu od b gz oi oj l ok ol">| count        | word |<br/>| ------------ | ---- |<br/>|    5540 you  |      |<br/>|    4992 the  |      |<br/>|    2540 your |      |<br/>|    1950 that |      |<br/>|    1944 are  |      |<br/>|    1812 this |      |<br/>|    1653 and  |      |<br/>|    1397 for  |      |<br/>|    1326 what |      |</span></pre><p id="058f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">一点也不好看。发生这种情况的原因是<strong class="lc iv"> csvlook </strong>的工作方式正如其名称所表明的那样，是为了更好地寻找CSV文件，所以我们应该先有一个CSV(逗号分隔值)文件。然后，我们应该找到一种方法，用逗号分隔每行的每个值。在这一点上，我们可以使用<strong class="lc iv"> awk </strong>，它是一种面向模式的扫描和处理语言:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="1263" class="oh lx iu od b gz oi oj l ok ol"><strong class="od iv">awk '{print $1","$2}'<br/>'{<br/>     print $1 </strong>here prints the first field (which is the count column)   followed by…<br/>     <strong class="od iv">“,” </strong>a comma followed by…<br/>     <strong class="od iv">$2 </strong>the second field which is the word column<br/><strong class="od iv">}'</strong></span></pre><p id="00da" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">看起来我们现在的情况好多了:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="a395" class="oh lx iu od b gz oi oj l ok ol">| count | word |<br/>| ----- | ---- |<br/>| 5,540 | you  |<br/>| 4,992 | the  |<br/>| 2,540 | your |<br/>| 1,950 | that |<br/>| 1,944 | are  |<br/>| 1,812 | this |<br/>| 1,653 | and  |<br/>| 1,397 | for  |<br/>| 1,326 | what |</span></pre><p id="abd2" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果我们想在第一个字段中得到word列，在第二个字段中得到count列，我们只需要颠倒<strong class="lc iv"> awk </strong>和<strong class="lc iv"> sed </strong>命令中的顺序:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="3bde" class="oh lx iu od b gz oi oj l ok ol">$ cat clickbait_data | tr '[:upper:]' '[:lower:]'| grep -oE '\w{3,}' | sort | uniq -c | sort -nr | awk '{print $2","$1}' | sed '1i word,count' | head | csvlook</span></pre><p id="c8f5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了让非点击诱饵数据得到相同的输出，我们只需更改文件名:</p><pre class="kk kl km kn gu oc od oe of aw og bi"><span id="1601" class="oh lx iu od b gz oi oj l ok ol">$ cat <strong class="od iv">non_clickbait_data</strong> | tr '[:upper:]' '[:lower:]'| grep -oE '\w{3,}' | sort | uniq -c | sort -nr | awk '{print $2","$1}' | sed '1i word,count' | head | csvlook</span></pre><h1 id="db81" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">深入了解clickbait研究</h1><p id="5f1b" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">在由<a class="ae kz" href="https://people.mpi-sws.org/~achakrab/papers/chakraborty_clickbait_asonam16.pdf" rel="noopener ugc nofollow" target="_blank">论文</a>报道的这项研究中，它解决了点击诱饵和非点击诱饵标题，以便能够检测这两种标题</p><blockquote class="oo op oq"><p id="ad23" class="la lb nz lc b ld le jv lf lg lh jy li or lk ll lm os lo lp lq ot ls lt lu lv in bi translated">大多数在线新闻媒体严重依赖读者点击产生的收入，由于众多此类媒体的存在，它们需要相互竞争以吸引读者的注意力。</p></blockquote><p id="5492" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">因此，本教程中的内容是一种通过命令行清理数据的方法，以便我们可以对这篇论文的结果有所了解，并看看我们是否可以通过他们的研究获得这篇论文所声称的一些观点。</p><p id="f61e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们再来看一下这个数据的clickbait标题最常见的20个词的最终分布情况是:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oa"><img src="../Images/9102efe0c006f15683923ea53a411355.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/0*dZJSp_dhx298fUql.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="c0d1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们可以明显地看到所有格<em class="nz">有</em>的过度使用，而没有使用第三人称指称像<em class="nz">他，她，</em>或一个特定的名字</p><p id="5f43" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">还有<em class="nz">你的</em>可能会出现在clickbait常用的短语中，比如“Will Blow Your Mind”。此外，我们还可以找到常用的限定词，如这个、那个、哪个</p><blockquote class="oo op oq"><p id="ba6f" class="la lb nz lc b ld le jv lf lg lh jy li or lk ll lm os lo lp lq ot ls lt lu lv in bi translated"><em class="iu">让用户对所引用的对象好奇，并说服他们进一步探究文章。</em></p></blockquote><p id="976d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">另一方面，非点击诱饵标题的最常见的20个单词的分布是:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ob"><img src="../Images/3ae216de5c3305a0e5e59e09df060435.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/0*t0F3r9-93JBBPQ-q.png"/></div></figure><p id="836f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">作者图片</p><p id="92a5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们可以在这里看到非所有格词，如<em class="nz">澳大利亚人、总统、奥巴马</em>以及其他一些在两者中都可能出现的词。</p><h1 id="61b6" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">最后的想法</h1><p id="8a2f" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">clickbait论文建议进行比我们在这里所做的更深入的研究，但是我们可以通过命令行中的一行代码获得一些有价值的见解。我们学习了如何使用<strong class="lc iv"> tr </strong>翻译字符，使用<strong class="lc iv"> grep </strong>过滤出从3个字母开始的单词，使用<strong class="lc iv"> sort </strong>和<strong class="lc iv"> uniq </strong>获得单词出现的直方图，使用<strong class="lc iv"> awk </strong>在我们想要的位置打印字段，使用<strong class="lc iv"> sed </strong>将标题放入我们正在处理的文件。</p><p id="8473" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">感谢您来到这里！</p><h1 id="c495" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">动机是</h1><ul class=""><li id="459c" class="mt mu iu lc b ld mo lg mp lj ou ln ov lr ow lv my mz na nb bi translated">Abhijnan Chakraborty、Bhargavi Paranjape、Sourya Kakarla和Niloy Ganguly。“阻止点击诱饵:检测和防止在线新闻媒体中的点击诱饵”。2016年美国旧金山2016年8月IEEE/ACM社交网络分析和挖掘进展国际会议(ASONAM)论文集</li><li id="d2f6" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated"><a class="ae kz" href="https://github.com/bhargaviparanjape/clickbait/tree/master/dataset" rel="noopener ugc nofollow" target="_blank">点击诱饵和非点击诱饵数据集</a> ‍</li><li id="62a1" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated">‍ <a class="ae kz" href="https://www.amazon.com/Data-Science-Command-Line-Time-Tested/dp/1491947853" rel="noopener ugc nofollow" target="_blank">数据科学在命令行</a> ‍</li><li id="9eed" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated"><a class="ae kz" href="https://opensource.com/article/17/2/command-line-tools-data-analysis-linux" rel="noopener ugc nofollow" target="_blank"> 10个用于Linux数据分析的命令行工具</a> ‍</li><li id="9215" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated"><a class="ae kz" href="https://bicorner.com/2015/11/10/infographic-steps-to-perform-text-data-cleaning-in-python/" rel="noopener ugc nofollow" target="_blank">信息图:在Python中执行文本数据清理的步骤</a></li></ul></div><div class="ab cl ox oy hy oz" role="separator"><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc"/></div><div class="in io ip iq ir"><p id="9d57" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">本教程主要由命令行的<a class="ae kz" href="https://amzn.to/33y5EkR" rel="noopener ugc nofollow" target="_blank">数据科学推动。</a></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj pe"><img src="../Images/fa18dc4d5768c5b4c0b04c3333a05976.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*-kU92tFcopD1ke9jM8ikaQ.jpeg"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">来源:<a class="ae kz" href="https://amzn.to/33y5EkR" rel="noopener ugc nofollow" target="_blank">亚马逊产品</a></p></figure><blockquote class="pf"><p id="3f12" class="pg ph iu bd pi pj pk pl pm pn po lv dk translated"><em class="pp">披露:这本书的亚马逊链接(在这一部分)是付费链接，所以如果你买这本书，我会有一个小的佣金</em></p></blockquote><p id="4f2c" class="pw-post-body-paragraph la lb iu lc b ld pq jv lf lg pr jy li lj ps ll lm ln pt lp lq lr pu lt lu lv in bi translated">这本书试图在您执行数据科学任务时吸引您对命令行功能的注意，这意味着您可以使用命令行获取数据、操作数据、探索数据并做出预测。如果你是一名数据科学家，渴望成为，或者想了解更多，我强烈推荐这本书。你可以从<a class="ae kz" href="https://www.datascienceatthecommandline.com/" rel="noopener ugc nofollow" target="_blank">网站</a>或<a class="ae kz" href="https://amzn.to/33y5EkR" rel="noopener ugc nofollow" target="_blank">上免费在线阅读，或者订购电子书或平装本</a>。在本教程中，我们将重点关注使用命令行来清理我们的数据。</p><h1 id="67d9" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">最初发布</h1><div class="nh ni gq gs nj nk"><a href="https://www.ezzeddinabdullah.com/posts/how-to-clean-text-data-at-the-command-line" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fp"><div class="nm ab nn cl cj no"><h2 class="bd iv gz z fq np fs ft nq fv fx it bi translated">如何在命令行清理文本数据</h2><div class="nr l"><h3 class="bd b gz z fq np fs ft nq fv fx dk translated">清理数据就像清理你家的墙壁，你清除任何乱涂乱画，清除灰尘，并过滤掉那些…</h3></div><div class="ns l"><p class="bd b dl z fq np fs ft nq fv fx dk translated">www.ezzeddinabdullah.com</p></div></div><div class="nt l"><div class="pv l nv nw nx nt ny kt nk"/></div></div></a></div><p id="079d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi">‍</p></div></div>    
</body>
</html>