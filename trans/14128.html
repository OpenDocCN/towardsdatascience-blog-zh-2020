<html>
<head>
<title>How to Create Custom Real-time Plots in Deep Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在深度学习中创建定制的实时图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-create-custom-real-time-plots-in-deep-learning-ecbdb3e7922f?source=collection_archive---------20-----------------------#2020-09-29">https://towardsdatascience.com/how-to-create-custom-real-time-plots-in-deep-learning-ecbdb3e7922f?source=collection_archive---------20-----------------------#2020-09-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="45c2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何在使用Keras回调训练深度学习模型的同时，生成自定义指标的实时可视化。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9bcba3198b0583d383359761a380e2d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XSIecUnzshlbm5ItS4CsGw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:<a class="ae ky" href="https://pixabay.com/photos/garage-floors-parking-construction-1149542/" rel="noopener ugc nofollow" target="_blank"><strong class="bd kz">pix abay</strong>T3】</a></p></figure><h1 id="fefd" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">我们所说的实时图是什么意思？</h1><p id="b797" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">用大型数据集训练复杂的深度学习模型可能非常耗时。随着时代的流逝，大量的数字在你的屏幕上闪现。你的眼睛(和大脑)会疲劳。</p><p id="0b68" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">那个令人兴奋的不断更新你进度的精确度图在哪里？如何知道模型是否在学习有用的东西？还有，到底有多快？</p><p id="ccff" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">一个<strong class="lu iu"> <em class="mt">实时视觉更新</em> </strong>会很棒吧？</p><p id="9f4c" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">人类毕竟是视觉生物。</p><div class="mu mv gp gr mw mx"><a href="https://www.seyens.com/humans-are-visual-creatures/" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd iu gy z fp nc fr fs nd fu fw is bi translated">人类是视觉动物</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">在这里，我们收集了一些有趣的事实来强调为什么在科学交流中使用视觉辅助工具是如此重要…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">www.seyens.com</p></div></div><div class="ng l"><div class="nh l ni nj nk ng nl ks mx"/></div></div></a></div><p id="c17b" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">我说的<em class="mt">视觉</em>，并不是指当你打开模型的冗长时，所有的数字分数都倾泻在你的屏幕上。</p><p id="d1d2" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated"><strong class="lu iu">不是这个。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/9f7e9ad76e578809647ffe72a08ce275.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DKQJOXABiR4mdLm4YzSaQQ.png"/></div></div></figure><p id="f33e" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">我们希望如此。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/57bd0e7af9f14d405bb718ab47ec2fb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*OorG0FOzFqxFkt_HxENliQ.gif"/></div></figure><p id="3f83" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">让我们看看怎样才能到达那里。</p><blockquote class="no"><p id="4379" class="np nq it bd nr ns nt nu nv nw nx mn dk translated">那个令人兴奋的不断更新你进度的精确度图在哪里？如何知道模型是否在学习有用的东西？还有，到底有多快？</p></blockquote><h1 id="37b9" class="la lb it bd lc ld le lf lg lh li lj lk jz ny ka lm kc nz kd lo kf oa kg lq lr bi translated">我们所说的自定义地块是什么意思？</h1><p id="7856" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">常规工作有既定的工具。但是很多时候，我们需要定制的输出。</p><h2 id="811f" class="ob lb it bd lc oc od dn lg oe of dp lk mb og oh lm mf oi oj lo mj ok ol lq om bi translated">Tensorboard很酷，但可能无法满足所有需求</h2><p id="aca4" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">如果你正在使用TensorFlow/Keras进行深度学习任务，那么你很有可能听说过或使用过Tensorboard。这是一个神奇的仪表板实用程序，你可以传递训练日志，并可以获得精彩的视觉更新。</p><div class="mu mv gp gr mw mx"><a href="https://www.tensorflow.org/tensorboard/get_started" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd iu gy z fp nc fr fs nd fu fw is bi translated">TensorBoard | TensorFlow入门</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">在机器学习中，为了改进某些东西，你通常需要能够测量它。TensorBoard是一款提供…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">www.tensorflow.org</p></div></div><div class="ng l"><div class="on l ni nj nk ng nl ks mx"/></div></div></a></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/aacd75d6aa382cddd50514851c9fc469.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dWcQaMSjBaIgrR4i7RDE7w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:<a class="ae ky" href="https://www.tensorflow.org/tensorboard" rel="noopener ugc nofollow" target="_blank"> <strong class="bd kz">张量板</strong> </a></p></figure><p id="b524" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">用Tensorboard可以很容易地得到标准损耗、精度图。如果您只想监控这些，而不是DL模型中的其他内容，您可以停止阅读本文，直接使用Tensorboard。</p><p id="0186" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">但是，当您有一个高度不平衡的数据集要处理，并且您想要绘制<strong class="lu iu">精度、召回和F1分数</strong>时，该怎么办呢？或者，另一个不那么标榜分类的度量标准像<a class="ae ky" href="https://en.wikipedia.org/wiki/Matthews_correlation_coefficient" rel="noopener ugc nofollow" target="_blank"> <strong class="lu iu">马太系数</strong> </a>？如果您只关心真阴性和假阴性的比率，并想创建自己的度量标准，那该怎么办？</p><p id="ea37" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">随着您培训的进展，您如何看待这些非标准指标的实时更新？</p><h2 id="134b" class="ob lb it bd lc oc od dn lg oe of dp lk mb og oh lm mf oi oj lo mj ok ol lq om bi translated">Keras内置了计算混淆矩阵的功能</h2><p id="1bea" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">幸运的是，Keras提供了对应于混淆矩阵的四个基本量的基本对数——真阳性(TP)、假阳性(FP)、真阴性(TN)和假阴性(FN)。它们来自Keras指标模块。</p><div class="mu mv gp gr mw mx"><a href="https://www.tensorflow.org/api_docs/python/tf/keras/metrics" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd iu gy z fp nc fr fs nd fu fw is bi translated">模块:TF . keras . metrics | tensor flow Core v 2 . 3 . 0</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">内置指标。</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">www.tensorflow.org</p></div></div></div></a></div><p id="65c4" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">我们可以简单地在您的模型的训练日志中定义一个我们想要的度量列表，并在编译模型时传递该列表。</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="fe66" class="ob lb it oq b gy ou ov l ow ox"><strong class="oq iu">metrics</strong> = [<br/>    tf.keras.metrics.TruePositives(name="tp"),<br/>    tf.keras.metrics.TrueNegatives(name="tn"),<br/>    tf.keras.metrics.FalseNegatives(name="fn"),<br/>    tf.keras.metrics.FalsePositives(name="fp"),<br/>]</span></pre><p id="8f9e" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">然后，</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="94f3" class="ob lb it oq b gy ou ov l ow ox">model.compile(<br/>        optimizer=tf.keras.optimizers.Adam(lr=learning_rate),<br/>        loss=tf.keras.losses.BinaryCrossentropy(),<br/>       <strong class="oq iu"> metrics=metrics</strong>,<br/>    )</span></pre><p id="e131" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">因此，我们可以将这些度量(尽管它们是在训练数据集上计算的)作为训练日志的一部分。一旦我们得到了它们，我们就可以根据第一性原理的定义，为分类任务计算出我们想要的任何自定义指标。例如，这里我们展示了一些非标准指标的公式，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/6e57ad1bb0a48ed22cf91ac2ba38cf97.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*7OmqGO11b3VIaEk5dwNi5w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:<a class="ae ky" href="https://en.wikipedia.org/wiki/Precision_and_recall" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></figure><p id="b04d" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">但是，我们如何从这些计算值中创建定制的实时图呢？</p><p id="7d9e" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated"><strong class="lu iu">我们当然使用回调！</strong></p><blockquote class="no"><p id="0127" class="np nq it bd nr ns nt nu nv nw nx mn dk translated">随着您培训的进展，您如何看待这些非标准指标的实时更新？</p></blockquote><h1 id="467f" class="la lb it bd lc ld le lf lg lh li lj lk jz ny ka lm kc nz kd lo kf oa kg lq lr bi translated">实时可视化的自定义回调</h1><p id="2064" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">回调是一类非常有用的工具，可以在你训练的某些时候(或者你喜欢的话，在每个时期)调用。简而言之，它们可用于在培训过程中实时处理数据(与模型性能或算法相关)。</p><p id="ae8c" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">这是Keras回调的TensorFlow官方页面。但是为了我们的目的，<strong class="lu iu">我们必须编写一个自定义的绘图类</strong>从基本回调类派生而来。</p><div class="mu mv gp gr mw mx"><a href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd iu gy z fp nc fr fs nd fu fw is bi translated">模块:TF . keras . callbacks | tensor flow Core v 2 . 3 . 0</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">回调:在模型训练期间的某些点调用的实用程序。</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">www.tensorflow.org</p></div></div></div></a></div><h2 id="3366" class="ob lb it bd lc oc od dn lg oe of dp lk mb og oh lm mf oi oj lo mj ok ol lq om bi translated">演示Jupyter笔记本</h2><p id="1604" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">演示版Jupyter笔记本是<a class="ae ky" href="https://github.com/tirthajyoti/Deep-learning-with-Python/blob/master/Notebooks/Custom-real-time-plots-with-callbacks.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="lu iu">位于我的Github repo上的</strong> </a>这里。<a class="ae ky" href="https://github.com/tirthajyoti/Deep-learning-with-Python" rel="noopener ugc nofollow" target="_blank"> <strong class="lu iu">这个资源库</strong> </a>包含了很多其他有用的深度学习教程式的笔记本。所以，请随意星或叉。</p><h2 id="332f" class="ob lb it bd lc oc od dn lg oe of dp lk mb og oh lm mf oi oj lo mj ok ol lq om bi translated">不平衡的数据集</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/2e009016b37b78c2445c4ac3a47f3ef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*zgaRhNUGmvxkJQauMkIQXQ.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:<a class="ae ky" href="https://pixabay.com/illustrations/balance-swing-equality-measurement-2108024/" rel="noopener ugc nofollow" target="_blank"> <strong class="bd kz"> Pixabay </strong> </a></p></figure><p id="3320" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">我们为演示中的二进制分类任务创建了一个具有不平衡类别频率(负数比正数多得多)的合成数据集。这种情况在实际的数据分析项目中很常见，它强调需要有一个可视化的仪表板来定制分类指标，而准确性不是一个好的指标。</p><p id="10a4" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">下面的代码创建了一个数据集，其中包含90%的阴性样本和10%的阳性样本。</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="fb07" class="ob lb it oq b gy ou ov l ow ox">from sklearn.datasets import make_classification</span><span id="b954" class="ob lb it oq b gy pa ov l ow ox">n_features = 15<br/>n_informative = n_features</span><span id="b736" class="ob lb it oq b gy pa ov l ow ox">d = make_classification(n_samples=10000,<br/>                        n_features=n_features,<br/>                        n_informative=n_informative,<br/>                        n_redundant=0,<br/>                        n_classes=2,<br/>                        <strong class="oq iu">weights=[0.9,0.1]</strong>,<br/>                        flip_y=0.05,<br/>                        class_sep=0.7)</span></pre><p id="d173" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">下面的配对图显示了两个类的样本数据分布。请注意内核密度图中的不平衡。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/55742b662d21230a0438d6fe368ef487.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uAeS7LIzt66WJnAeSkWaAg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd kz">合成数据集的分类数据分布</strong></p></figure><blockquote class="no"><p id="922f" class="np nq it bd nr ns pc pd pe pf pg mn dk translated">回调是一类非常有用的工具，可以在你训练的某些时候(或者你喜欢的话，在每个时期)调用。</p></blockquote><h2 id="c2f9" class="ob lb it bd lc oc ph dn lg oe pi dp lk mb pj oh lm mf pk oj lo mj pl ol lq om bi translated">自定义回调类</h2><p id="b300" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">自定义回调类主要完成以下工作，</p><ul class=""><li id="3ba9" class="pm pn it lu b lv mo ly mp mb po mf pp mj pq mn pr ps pt pu bi translated">启动一组列表来存储值</li><li id="48ea" class="pm pn it lu b lv pv ly pw mb px mf py mj pz mn pr ps pt pu bi translated">在每个时期结束时从模型中提取指标</li><li id="7744" class="pm pn it lu b lv pv ly pw mb px mf py mj pz mn pr ps pt pu bi translated">从这些提取中计算分类度量</li><li id="2477" class="pm pn it lu b lv pv ly pw mb px mf py mj pz mn pr ps pt pu bi translated">并将它们存储在这些列表中</li><li id="6be8" class="pm pn it lu b lv pv ly pw mb px mf py mj pz mn pr ps pt pu bi translated">创建多个地块</li></ul><p id="a9ff" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">下面是<strong class="lu iu">初始化</strong>，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qa"><img src="../Images/0dbb480a91a2e08c785733fec9abf173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H-qByhEepI42dUwJQUI_Qw.png"/></div></div></figure><p id="7e80" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">这里是<strong class="lu iu">提取</strong>，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qb"><img src="../Images/035c20cb34971d5e97a3f3144a3dc17c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*JB2TCv4M03hOEsu3fWcZCA.png"/></div></figure><p id="d936" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">这里是<strong class="lu iu">计算</strong>，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qc"><img src="../Images/184b18fe566610306927497d0c1d8fcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*VBcsIlYIxPpStemqTU2yFQ.png"/></div></figure><p id="3ede" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">这里是<strong class="lu iu">仓库</strong>，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qd"><img src="../Images/c2d4d49644d714f26c26dfa930e2e64c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*CabIYDHABk9yClUNRTd-Yw.png"/></div></figure><p id="6584" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">而且，我不会用标准的Matplotlib代码来让你厌烦，除了下面的位，它在每次迭代时刷新你的Jupyter笔记本绘图。</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="1881" class="ob lb it oq b gy ou ov l ow ox">from IPython.display import clear_output</span><span id="7730" class="ob lb it oq b gy pa ov l ow ox"># Clear the previous plot<br/> clear_output(wait=True)</span></pre><p id="efdf" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">此外，<strong class="lu iu">您不必绘制每个时期的图</strong>,因为这可能会加重显示器或机器的负担并降低其速度。你可以选择绘制，比如说，每5个纪元。只要把整个绘图代码放在一个条件下(这里<code class="fe qe qf qg oq b">epoch</code>是你从训练日志中得到的纪元编号)</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="e790" class="ob lb it oq b gy ou ov l ow ox"># Plots every 5th epoch<br/> if epoch &gt; 0 and epoch%5==0:</span></pre><p id="864c" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">不要担心所有这些如何协同工作，因为<a class="ae ky" href="https://github.com/tirthajyoti/Deep-learning-with-Python/blob/master/Notebooks/Custom-real-time-plots-with-callbacks.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="lu iu">演示笔记本仍然为您准备</strong> </a>。</p><h2 id="777e" class="ob lb it bd lc oc od dn lg oe of dp lk mb og oh lm mf oi oj lo mj ok ol lq om bi translated">结果</h2><p id="a112" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">这是一个典型的结果，以简单的仪表板样式显示损失和精确度/召回/F1分数。请注意，对于这个不平衡的数据集，召回是如何从一个高值开始的，但是精度和F1值却很低。这些是您可以通过这种回调实时计算和监控的指标！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/2ddbf8df23a378a7b6a2ebc7888b529a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*ZwHGsgEaPglMULtVrIgTQQ.gif"/></div></figure><h2 id="2cdf" class="ob lb it bd lc oc od dn lg oe of dp lk mb og oh lm mf oi oj lo mj ok ol lq om bi translated">更多结果—概率分布！</h2><p id="cbeb" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">在每个时期结束时，您可以对模型(在该点训练)进行任何想要的计算，并可视化结果。例如，我们可以预测输出概率，并绘制它们的分布。</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="6ca0" class="ob lb it oq b gy ou ov l ow ox">def on_epoch_end(self, epoch, logs={}):<br/>    # Other stuff<br/>    m = self.model<br/>    preds = m.predict(X_train)<br/>    plt.hist(preds, bins=50,edgecolor='k')</span></pre><p id="29fa" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">请注意，在开始时很少给出高概率，慢慢地模型开始学习数据的真实分布。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/47e3b0c1ac676f4a5681c39ea369c70e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*YWX7SFkE15nZBrolFE6REw.gif"/></div></figure><h1 id="73bf" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">摘要</h1><p id="4168" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">我们展示了如何使用简单的代码片段创建深度学习模型性能的生动可视化仪表板。按照这里概述的方法，你不必依赖Tensorboard或任何第三方软件。您可以创建自己的计算和绘图，根据您的需要进行最大程度的定制。</p><p id="5a63" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">请注意，上述方法仅适用于Jupyter笔记本。您必须针对独立的Python脚本对其进行不同的调整。</p><p id="c75c" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">关于这一点，有另一篇关于这个主题的精彩文章，你可以在这里查看。</p><div class="mu mv gp gr mw mx"><a href="https://medium.com/@kapilvarshney/how-to-plot-the-model-training-in-keras-using-custom-callback-function-and-using-tensorboard-41e4ce3cb401" rel="noopener follow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd iu gy z fp nc fr fs nd fu fw is bi translated">如何在Keras中绘制模型训练——使用自定义回调函数和TensorBoard</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">我开始探索不同的方法来形象化训练过程，同时致力于狗的品种识别…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">medium.com</p></div></div><div class="ng l"><div class="qh l ni nj nk ng nl ks mx"/></div></div></a></div></div><div class="ab cl qi qj hx qk" role="separator"><span class="ql bw bk qm qn qo"/><span class="ql bw bk qm qn qo"/><span class="ql bw bk qm qn"/></div><div class="im in io ip iq"><h1 id="a99e" class="la lb it bd lc ld qp lf lg lh qq lj lk jz qr ka lm kc qs kd lo kf qt kg lq lr bi translated">你可能也喜欢…</h1><p id="034f" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">如果你喜欢这篇文章，你可能也会喜欢我下面的深度学习文章，</p><div class="mu mv gp gr mw mx"><a rel="noopener follow" target="_blank" href="/are-you-using-the-scikit-learn-wrapper-in-your-keras-deep-learning-model-a3005696ff38"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd iu gy z fp nc fr fs nd fu fw is bi translated">你在你的Keras深度学习模型中使用了“Scikit-learn wrapper”吗？</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">如何使用Keras的特殊包装类进行超参数调优？</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">towardsdatascience.com</p></div></div><div class="ng l"><div class="qu l ni nj nk ng nl ks mx"/></div></div></a></div><div class="mu mv gp gr mw mx"><a rel="noopener follow" target="_blank" href="/activation-maps-for-deep-learning-models-in-a-few-lines-of-code-ed9ced1e8d21"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd iu gy z fp nc fr fs nd fu fw is bi translated">用几行代码实现深度学习模型的激活图</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">我们演示了如何用几行代码显示深度CNN模型中各层的激活图</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">towardsdatascience.com</p></div></div><div class="ng l"><div class="qv l ni nj nk ng nl ks mx"/></div></div></a></div><div class="mu mv gp gr mw mx"><a rel="noopener follow" target="_blank" href="/a-single-function-to-streamline-image-classification-with-keras-bd04f5cfe6df"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd iu gy z fp nc fr fs nd fu fw is bi translated">使用Keras简化影像分类的单一功能</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">我们展示了如何构建一个单一的、通用的、实用的函数来从一个目录中自动提取图像…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">towardsdatascience.com</p></div></div><div class="ng l"><div class="qw l ni nj nk ng nl ks mx"/></div></div></a></div></div><div class="ab cl qi qj hx qk" role="separator"><span class="ql bw bk qm qn qo"/><span class="ql bw bk qm qn qo"/><span class="ql bw bk qm qn"/></div><div class="im in io ip iq"><p id="d85e" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi qx translated"><span class="l qy qz ra bm rb rc rd re rf di"> Y </span>你可以查看作者的<a class="ae ky" href="https://github.com/tirthajyoti?tab=repositories" rel="noopener ugc nofollow" target="_blank"> <strong class="lu iu"> GitHub </strong> </a> <strong class="lu iu">知识库</strong>获取机器学习和数据科学方面的代码、思想和资源。如果你和我一样，对人工智能/机器学习/数据科学充满热情，请随时<a class="ae ky" href="https://www.linkedin.com/in/tirthajyoti-sarkar-2127aa7/" rel="noopener ugc nofollow" target="_blank">在LinkedIn上添加我</a>或<a class="ae ky" href="https://twitter.com/tirthajyotiS" rel="noopener ugc nofollow" target="_blank">在Twitter上关注我</a>。</p><div class="mu mv gp gr mw mx"><a href="https://www.linkedin.com/in/tirthajyoti-sarkar-2127aa7/" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd iu gy z fp nc fr fs nd fu fw is bi translated">Tirthajyoti Sarkar - Sr .首席工程师-半导体、人工智能、机器学习- ON…</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">通过写作使数据科学/ML概念易于理解:https://medium.com/@tirthajyoti开源和…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">www.linkedin.com</p></div></div><div class="ng l"><div class="rg l ni nj nk ng nl ks mx"/></div></div></a></div></div></div>    
</body>
</html>