<html>
<head>
<title>SQLite 3 : Using Python’s SQLite 3 Module To Save Program Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SQLite 3:使用Python的SQLite 3模块保存程序数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/sqlite-3-using-pythons-sqlite-3-module-to-save-program-data-bc6b34dcc721?source=collection_archive---------22-----------------------#2020-11-14">https://towardsdatascience.com/sqlite-3-using-pythons-sqlite-3-module-to-save-program-data-bc6b34dcc721?source=collection_archive---------22-----------------------#2020-11-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/c55a8a6e75da014f1f2d6517002c5d9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HbPt1fygWoPxRLWE"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae kc" href="https://unsplash.com/@altumcode?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> AltumCode </a>的照片</p></figure><blockquote class="kd"><p id="f728" class="ke kf iq bd kg kh ki kj kk kl km kn dk translated">“数据是网络运行的燃料，因此作为开发人员，我们绝对有必要以高效的方式处理和存储数据。”</p></blockquote><p id="e76b" class="pw-post-body-paragraph ko kp iq kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk kn ij bi translated">当您在处理一个需要大量用户输入并存储各种用户数据的项目时，拥有一个好的数据库来管理用户数据并能够以高效的方式进行管理就变得至关重要。</p><p id="8272" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">虽然程序数据和实例通常以文件的形式存储，但是当您处理大量数据并且需要能够创建、检索、更新和删除(CRUD)这样的数据时，这不是存储数据的最有效方式，这对于文件的使用来说不是很方便。</p><p id="cab1" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">这就是SQLite 3的用武之地，它是一种快速、轻便、简单的方式来存储即使是最复杂形式的数据，并且它以高效的方式执行CRUD操作。</p><p id="d653" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">您可以在下面找到SQLite 3模块的文档；</p><div class="lq lr gp gr ls lt"><a href="https://docs.python.org/3/library/sqlite3.html" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab fo"><div class="lv ab lw cl cj lx"><h2 class="bd ir gy z fp ly fr fs lz fu fw ip bi translated">sqlite数据库的sqlite3 - DB-API 2.0接口- Python 3.9.0文档</h2><div class="ma l"><h3 class="bd b gy z fp ly fr fs lz fu fw dk translated">源代码:Lib/sqlite3/ SQLite是一个C库，它提供了一个轻量级的基于磁盘的数据库，不需要…</h3></div><div class="mb l"><p class="bd b dl z fp ly fr fs lz fu fw dk translated">docs.python.org</p></div></div></div></a></div><p id="6b36" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">我们将使用SQLite 3数据库创建一个基本的登录功能，其中我们将涵盖所有CRUD操作，即创建用户、检索用户数据、更新用户数据和删除用户数据。</p><p id="87c0" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">让我们开始吧。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><p id="c242" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">由于SQLite 3是一个内置模块，我们可以直接导入它，而无需安装任何东西。</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="7a8a" class="ms mt iq mo b gy mu mv l mw mx">import sqlite3</span></pre><p id="4eee" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">现在让我们开始设置我们的数据库；</p><p id="ff20" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">因此，为了创建一个基本的登录程序，我们至少需要用户的两个输入，用户名和密码。为此，我们将创建一个包含两列的表，</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="3c38" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">就是这样，这就是创建一个数据库所要做的一切。看看有多快，现在让我们继续创建一个用户。</p><h2 id="fe9f" class="ms mt iq bd na nb nc dn nd ne nf dp ng kz nh ni nj ld nk nl nm lh nn no np nq bi translated">创造</h2><p id="4aad" class="pw-post-body-paragraph ko kp iq kq b kr nr kt ku kv ns kx ky kz nt lb lc ld nu lf lg lh nv lj lk kn ij bi translated">我们从用户那里获得两个输入，用户名和密码，然后将它们提交到我们的表中。</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="1e08" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">游标功能帮助我们遍历数据库，并帮助我们执行CRUD功能。</p><h2 id="56e1" class="ms mt iq bd na nb nc dn nd ne nf dp ng kz nh ni nj ld nk nl nm lh nn no np nq bi translated">恢复</h2><p id="992e" class="pw-post-body-paragraph ko kp iq kq b kr nr kt ku kv ns kx ky kz nt lb lc ld nu lf lg lh nv lj lk kn ij bi translated">如果我们想要检查用户是否存在，以及输入的密码是否与存储在数据库中的密码匹配，我们需要能够检索我们刚刚创建的用户数据。</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="cb7a" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">光标遍历数据库，找到与我们输入的参数相匹配的条目。</p><p id="2ac9" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">在SQLite 3中，我们可以通过两种方式从数据库中获取数据，</p><p id="030a" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated"><code class="fe nw nx ny mo b">fetchone()</code>:这个函数从我们的表中获取第一行，该行与传入的参数相匹配。</p><p id="a624" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated"><code class="fe nw nx ny mo b">fetchall()</code>该函数获取所有符合我们设置的参数的行。</p><p id="e102" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">我们使用了<code class="fe nw nx ny mo b">fetchone()</code>,因为理想情况下不应该有多个相同用户名的条目。</p><p id="f345" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated"><code class="fe nw nx ny mo b">cur.fetchone()[1]</code>检索给定用户as的密码，密码在我们的表的第2列。</p><h2 id="db4c" class="ms mt iq bd na nb nc dn nd ne nf dp ng kz nh ni nj ld nk nl nm lh nn no np nq bi translated">更新</h2><p id="eb3b" class="pw-post-body-paragraph ko kp iq kq b kr nr kt ku kv ns kx ky kz nt lb lc ld nu lf lg lh nv lj lk kn ij bi translated">现在，如果我们的用户想要更改他的密码，我们需要能够处理这一点，并做到这一点，我们需要能够更新用户的凭证。</p><p id="aa8f" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">要更新密码，我们只需要一个输入，即用户名。</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><h2 id="f426" class="ms mt iq bd na nb nc dn nd ne nf dp ng kz nh ni nj ld nk nl nm lh nn no np nq bi translated">删除</h2><p id="9cd1" class="pw-post-body-paragraph ko kp iq kq b kr nr kt ku kv ns kx ky kz nt lb lc ld nu lf lg lh nv lj lk kn ij bi translated">我们需要能够删除任何我们不再需要的旧数据，并避免重复，</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="7dda" class="nz mt iq bd na oa ob oc nd od oe of ng og oh oi nj oj ok ol nm om on oo np op bi translated">结论</h1><p id="41e0" class="pw-post-body-paragraph ko kp iq kq b kr nr kt ku kv ns kx ky kz nt lb lc ld nu lf lg lh nv lj lk kn ij bi translated">在不到15行代码中，SQLite 3使我们能够轻松创建一个强大、快速和动态的数据库。</p><p id="8da7" class="pw-post-body-paragraph ko kp iq kq b kr ll kt ku kv lm kx ky kz ln lb lc ld lo lf lg lh lp lj lk kn ij bi translated">现在，在您的下一个Python项目中使用SQLite 3，感受它的强大。</p></div></div>    
</body>
</html>