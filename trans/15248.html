<html>
<head>
<title>Getting started with Vim and Tmux for Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python的Vim和Tmux入门</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/getting-started-with-vim-and-tmux-for-python-707ec5ff747f?source=collection_archive---------8-----------------------#2020-10-20">https://towardsdatascience.com/getting-started-with-vim-and-tmux-for-python-707ec5ff747f?source=collection_archive---------8-----------------------#2020-10-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5000" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何从Vim中的IDE获得您想要的特性</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/39418aba72bce51a2c6b6d225887a1e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4_fsg2iFEzXgFMAF"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">尼奥诺韦在<a class="ae kv" href="https://unsplash.com/@nihongraphy" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="c6b0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi ls translated"><span class="l lt lu lv bm lw lx ly lz ma di">如果你用多种语言编写代码，你可能会发现为每种语言维护一个IDE是一件令人厌倦的事情。经过一些试验后，我发现Vim和Tmux的组合是我的理想解决方案。主要好处是:</span></p><p id="522c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个支持任何语言的环境</p><p id="0610" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">高效的纯键盘文件编辑</p><p id="429c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">易于在任何新环境中安装</p><p id="6cc9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，作为一个文本编辑器而不是IDE，这个解决方案缺少一些现成的重要特性。幸运的是，Vim和Tmux都是高度可配置的。</p><p id="54c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本文展示了如何配置Vim和Tmux来支持Python开发的一系列关键特性。虽然Tmux起着重要的作用，但是大多数配置都与Vim有关。</p><h2 id="433b" class="mb mc iq bd md me mf dn mg mh mi dp mj lf mk ml mm lj mn mo mp ln mq mr ms mt bi translated">先决条件:</h2><p id="d0ac" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf mw lh li lj mx ll lm ln my lp lq lr ij bi translated">这个工作流被设计成在像Linux或MacOS这样的Unix系统上运行。首先，创建一个<em class="mz">。在<em class="mz"> home/ </em>目录下的vimrc </em>文件以及一个空文件夹<em class="mz">。vim/。</em>安装Vim、Tmux和(可选)IPython。通过<em class="mz">对Vim及其配置有所了解。假设vimrc </em>文件。如果你不知道如何安装Vim插件，看看这篇文章。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="e05b" class="nh mc iq bd md ni nj nk mg nl nm nn mj jw no jx mm jz np ka mp kc nq kd ms nr bi translated">哪些功能是真正必要的？</h1><p id="7e29" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf mw lh li lj mx ll lm ln my lp lq lr ij bi translated">下面是一个观点鲜明的特性列表，这些特性使得在Vim中开发Python更加明智:</p><p id="6b11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.一个多语言环境</p><p id="5ede" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.容易到达终端</p><p id="1172" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.流畅的目录浏览</p><p id="0ee2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.将代码行发送到Python控制台</p><p id="3292" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">5.在终端中运行Python文件</p><p id="5e47" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">6.交互调试</p><h1 id="02c6" class="nh mc iq bd md ni ns nk mg nl nt nn mj jw nu jx mm jz nv ka mp kc nw kd ms nr bi translated">1.一个多语言环境</h1><p id="6e27" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf mw lh li lj mx ll lm ln my lp lq lr ij bi translated">可以为每种文件类型单独配置Vim。例如，可以将Vim配置为在打开Python文件时使用四个空格，而在打开R文件时使用两个空格。要启用特定于文件的设置，将以下行放入<em class="mz">。vimrc </em>文件:</p><p id="826e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nx ny nz oa b">filetype plugin indent on</code></p><p id="9d0d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nx ny nz oa b">indent</code>部分支持文件特定的缩进。</p><p id="80de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建目录<em class="mz">。vim/after/ftplugin </em>。在<em class="mz"> ftplugin </em>中的文件以语言命名(例如python，json，r，sh ),并且有。vim扩展。下面是JSON、Python、R和Bash的一个例子:</p><pre class="kg kh ki kj gt ob oa oc od aw oe bi"><span id="b7ea" class="mb mc iq oa b gy of og l oh oi">.vim/<br/>└── after<br/>    └── ftplugin<br/>        ├── json.vim<br/>        ├── python.vim<br/>        ├── r.vim<br/>        └── sh.vim</span></pre><p id="56c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个想法就是把任何<em class="mz">。将只适用于特定语言的vimrc </em>配置放入<em class="mz"> ftplugin </em>中的相应文件中。从这个意义上来说，<em class="mz"> ftplugin </em>中的文件可以被视为“特定于语言的<em class="mz">”。vimrc </em>文件。这些文件来源于<em class="mz">之后。vimrc </em>并覆盖任何常规设置<em class="mz">。</em></p><p id="2b16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，Python特定的缩进应该放在<em class="mz"> python.vim </em>文件中:</p><pre class="kg kh ki kj gt ob oa oc od aw oe bi"><span id="6bd7" class="mb mc iq oa b gy of og l oh oi">setlocal tabstop=4<br/>setlocal shiftwidth=4<br/>setlocal softtabstop=4<br/>setlocal expandtab</span></pre><p id="eb21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意<code class="fe nx ny nz oa b">setlocal</code>的使用，以便这些设置仅覆盖来自<em class="mz">的一般设置。vimrc </em>文件<strong class="ky ir">仅用于当前缓冲区</strong>。</p><p id="5d00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本文接下来的章节遵循惯例，将特定语言的设置放在<em class="mz"> ftplugin </em>中，将通用Vim设置放在<em class="mz">中。vimrc </em>。</p><h2 id="c1db" class="mb mc iq bd md me mf dn mg mh mi dp mj lf mk ml mm lj mn mo mp ln mq mr ms mt bi translated">参考资料:</h2><p id="555b" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf mw lh li lj mx ll lm ln my lp lq lr ij bi translated"><a class="ae kv" href="https://vim.fandom.com/wiki/Keep_your_vimrc_file_clean" rel="noopener ugc nofollow" target="_blank">保持你的vimrc干净</a></p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="f22b" class="nh mc iq bd md ni nj nk mg nl nm nn mj jw no jx mm jz np ka mp kc nq kd ms nr bi translated">2.容易到达终端</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/d13549a74447820acfa4c67a797fa74e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*QtiyfKsd0P3HbC8J95LKng.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="dd58" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">只有当Vim在终端内部运行时，此功能才有效。在这种情况下，可以通过运行Ex命令来挂起Vim:</p><pre class="kg kh ki kj gt ob oa oc od aw oe bi"><span id="448e" class="mb mc iq oa b gy of og l oh oi">:stop&lt;CR&gt;</span></pre><p id="169e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这会将Vim移到后台，并将屏幕切换回调用Vim的终端。在终端中运行<code class="fe nx ny nz oa b">fg</code>将Vim移回前台。</p><p id="9211" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在Vim和全屏终端之间切换非常方便，值得在<em class="mz">中创建一个映射。vimrc </em>:</p><pre class="kg kh ki kj gt ob oa oc od aw oe bi"><span id="625b" class="mb mc iq oa b gy of og l oh oi">nnoremap &lt;leader&gt;t :stop&lt;CR&gt;</span></pre><h2 id="65f6" class="mb mc iq bd md me mf dn mg mh mi dp mj lf mk ml mm lj mn mo mp ln mq mr ms mt bi translated">参考资料:</h2><p id="7f11" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf mw lh li lj mx ll lm ln my lp lq lr ij bi translated"><a class="ae kv" href="https://stackoverflow.com/questions/2149456/reasons-for-using-command-line-vim-versus-gui-vim" rel="noopener ugc nofollow" target="_blank">终端Vim与GUI </a></p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="4486" class="nh mc iq bd md ni nj nk mg nl nm nn mj jw no jx mm jz np ka mp kc nq kd ms nr bi translated">3.流畅的目录浏览</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/6e3a63d5496fb4f76452983024a51537.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*xzi5w2bU3QQzHUg0oRpzhA.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="91b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ide通常提供一个文件浏览器，作为<a class="ae kv" href="http://vimcasts.org/blog/2013/01/oil-and-vinegar-split-windows-and-project-drawer/" rel="noopener ugc nofollow" target="_blank">项目的抽屉</a>。这种方法不能很好地与Vim的窗口风格工作流相结合。毕竟，Vim如何知道您希望在哪个窗口中打开您从项目抽屉中选择的文件？</p><p id="f10b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Vim已经自带了一个名为<strong class="ky ir"> netrw </strong>的内置插件。为了理解这个插件，把Vim窗口想象成翻转的卡片:一边是你的文件，另一边是netrw文件浏览器。</p><p id="f334" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<em class="mz">中为文件浏览映射两个键绑定很有用。vimrc </em>。第一个在当前文件的目录下打开netrw。第二个键绑定在当前工作目录打开netrw。</p><pre class="kg kh ki kj gt ob oa oc od aw oe bi"><span id="c8bf" class="mb mc iq oa b gy of og l oh oi">nmap &lt;leader&gt;f :Explore&lt;CR&gt;<br/>nmap &lt;leader&gt;&lt;s-f&gt; :edit.&lt;CR&gt;</span></pre><p id="f4c6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尽管Netrw有一些恼人的默认设置。建议将这两个额外的netrw设置放在<em class="mz">中。vimrc </em>。第一种设置允许以右分割方式打开文件。第二个设置禁止netrw保存。文件中的netrwhist文件。vim文件夹。</p><pre class="kg kh ki kj gt ob oa oc od aw oe bi"><span id="c2f8" class="mb mc iq oa b gy of og l oh oi">let g:netrw_altv = 1<br/>let g:netrw_dirhistmax = 0</span></pre><p id="d2ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，一个名为<strong class="ky ir">vim-醋</strong>的最小插件使netrw更加明智，并提供了几个有用的快捷方式:</p><ul class=""><li id="1c87" class="ok ol iq ky b kz la lc ld lf om lj on ln oo lr op oq or os bi translated">在任一缓冲区中按下<code class="fe nx ny nz oa b">-</code>键，跳到目录列表，并找到您刚来的文件。</li><li id="5c6b" class="ok ol iq ky b kz ot lc ou lf ov lj ow ln ox lr op oq or os bi translated">在一个文件上按下<code class="fe nx ny nz oa b">.</code>,在<code class="fe nx ny nz oa b">:</code>命令行的末尾预先填充它。还有<code class="fe nx ny nz oa b">!</code>，砰的一声启动生产线。</li><li id="1e21" class="ok ol iq ky b kz ot lc ou lf ov lj ow ln ox lr op oq or os bi translated">按<code class="fe nx ny nz oa b">y.</code>键，拖动光标下文件的绝对路径。</li></ul><h2 id="9b1d" class="mb mc iq bd md me mf dn mg mh mi dp mj lf mk ml mm lj mn mo mp ln mq mr ms mt bi translated">参考资料:</h2><ul class=""><li id="a92e" class="ok ol iq ky b kz mu lc mv lf oy lj oz ln pa lr op oq or os bi translated">你不需要NERDTREE或者(可能)netrw </li><li id="c87d" class="ok ol iq ky b kz ot lc ou lf ov lj ow ln ox lr op oq or os bi translated"><a class="ae kv" href="http://vimcasts.org/blog/2013/01/oil-and-vinegar-split-windows-and-project-drawer/" rel="noopener ugc nofollow" target="_blank">油和醋——分窗和项目抽屉</a></li><li id="e1c8" class="ok ol iq ky b kz ot lc ou lf ov lj ow ln ox lr op oq or os bi translated"><a class="ae kv" href="https://github.com/tpope/vim-vinegar" rel="noopener ugc nofollow" target="_blank">维姆醋</a></li></ul><h1 id="b766" class="nh mc iq bd md ni ns nk mg nl nt nn mj jw nu jx mm jz nv ka mp kc nw kd ms nr bi translated">4.将代码行发送到Python控制台</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/73c4c4fece3ddc2dbf73650e527ad10a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*bfJuQlY6PN4zpGNwfDAIbg.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="e46f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Tmux允许将屏幕水平分割成两个终端窗口:上面一个用于Vim(可能有多个垂直分割窗口),下面一个包含一个IPython控制台。如果您不喜欢IPython，上面的过程在常规的Python控制台上也能很好地工作。</p><p id="3e4f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，插件<strong class="ky ir"> vim-slime </strong>用于将选定的代码从vim发送到IPython控制台。下面对<em class="mz">中的配置进行说明。vimrc </em>文件支持这种行为:</p><pre class="kg kh ki kj gt ob oa oc od aw oe bi"><span id="e754" class="mb mc iq oa b gy of og l oh oi">let g:slime_target = "tmux"<br/>let g:slime_default_config = {"socket_name": get(split($TMUX, ","), 0), "target_pane": ":.1"}</span></pre><p id="e798" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">按下<code class="fe nx ny nz oa b">C-c, C-c</code>(按住Ctrl并双击C)将光标下的段落发送到IPython控制台。(第一次vim-slime会提示目标窗格。按两次Enter键。)</p><p id="e038" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的过程与语言无关:同样的过程允许将R代码行发送到R控制台，或者将Bash脚本中的行发送到终端。</p><h2 id="e5e9" class="mb mc iq bd md me mf dn mg mh mi dp mj lf mk ml mm lj mn mo mp ln mq mr ms mt bi translated">参考资料:</h2><ul class=""><li id="451f" class="ok ol iq ky b kz mu lc mv lf oy lj oz ln pa lr op oq or os bi translated"><a class="ae kv" href="https://github.com/jpalardy/vim-slime" rel="noopener ugc nofollow" target="_blank"> vim-slime </a></li><li id="81f7" class="ok ol iq ky b kz ot lc ou lf ov lj ow ln ox lr op oq or os bi translated"><a class="ae kv" href="https://leanpub.com/the-tao-of-tmux/read" rel="noopener ugc nofollow" target="_blank">Tmux之道</a></li></ul></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="0f06" class="nh mc iq bd md ni nj nk mg nl nm nn mj jw no jx mm jz np ka mp kc nq kd ms nr bi translated">5.在终端中运行Python文件</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/48c8d5be7948b67a52cbfec19dd48ee0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*FuMbPgpyenx89SQNopNHnQ.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="9e6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在终端中有运行当前脚本的快捷方式很方便。通常，这是通过调用解释器后跟文件名来实现的:</p><pre class="kg kh ki kj gt ob oa oc od aw oe bi"><span id="2ec7" class="mb mc iq oa b gy of og l oh oi">python filename.py</span></pre><p id="f227" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<em class="mz"> python.vim </em>中定义的以下映射运行两个连续的Ex命令:</p><pre class="kg kh ki kj gt ob oa oc od aw oe bi"><span id="73df" class="mb mc iq oa b gy of og l oh oi">nmap &lt;buffer&gt; &lt;leader&gt;r &lt;Esc&gt;:w&lt;CR&gt;:!clear;python %&lt;CR&gt;</span></pre><p id="77da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它是这样做的:</p><ol class=""><li id="7e79" class="ok ol iq ky b kz la lc ld lf om lj on ln oo lr pc oq or os bi translated">第一个Ex-command <code class="fe nx ny nz oa b">:w&lt;CR&gt;</code>保存文件。</li><li id="3071" class="ok ol iq ky b kz ot lc ou lf ov lj ow ln ox lr pc oq or os bi translated">第二个Ex-command以<code class="fe nx ny nz oa b">:!</code>开始，表示它是针对终端的，用<code class="fe nx ny nz oa b">:clear</code>清除终端，最后调用当前文件的解释器<code class="fe nx ny nz oa b">python %&lt;CR&gt;</code>，其路径由<code class="fe nx ny nz oa b">%</code>给出。</li></ol><p id="30dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意，这种映射是特定于语言的。运行bash脚本的类似映射可以定义如下:</p><pre class="kg kh ki kj gt ob oa oc od aw oe bi"><span id="b4e5" class="mb mc iq oa b gy of og l oh oi">nnoremap &lt;buffer&gt; &lt;leader&gt;r &lt;Esc&gt;:w&lt;CR&gt;:!clear;sh %&lt;CR&gt;</span></pre><h2 id="0109" class="mb mc iq bd md me mf dn mg mh mi dp mj lf mk ml mm lj mn mo mp ln mq mr ms mt bi translated">参考资料:</h2><p id="5a68" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf mw lh li lj mx ll lm ln my lp lq lr ij bi translated"><a class="ae kv" href="https://stackoverflow.com/questions/18948491/running-python-code-in-vim" rel="noopener ugc nofollow" target="_blank">在Vim中运行Python代码</a></p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="981e" class="nh mc iq bd md ni nj nk mg nl nm nn mj jw no jx mm jz np ka mp kc nq kd ms nr bi translated">6.交互调试</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/ede31bac7cd3c6e1c8ed7d97f0135b21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*cSlnH3JJZzF1tkdzjMBWGQ.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="773e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">调试是ide真正大放异彩的领域。尽管如此，通过安装Python <strong class="ky ir"> ipdb </strong>可以在Vim中获得令人满意的调试体验。</p><p id="29b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">模块ipdb类似于<strong class="ky ir"> pdb </strong>，但是是为IPython设计的。它不必安装，因为它附带了IPython。它允许用<code class="fe nx ny nz oa b">set_trace()</code>定义一个断点，该断点将在该点暂停程序，并丢弃启动调试器，在调试器中可以使用IPython检查程序的状态。</p><p id="49ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mz"> python.vim </em>中的以下Vim映射在当前行下方放置了一个断点:</p><pre class="kg kh ki kj gt ob oa oc od aw oe bi"><span id="6469" class="mb mc iq oa b gy of og l oh oi">nmap &lt;buffer&gt; &lt;leader&gt;b oimport ipdb;ipdb.set_trace(context=5)&lt;ESC&gt;</span></pre><p id="3c74" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上下文参数指定调试器显示的行数。</p><p id="5cd8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果IPython是<code class="fe nx ny nz oa b">embed</code>的话，这是一个很好的特性，它会在调试期间启动一个单独的IPython会话。在此会话中所做的更改不会影响原始调试会话中的对象。</p><pre class="kg kh ki kj gt ob oa oc od aw oe bi"><span id="e530" class="mb mc iq oa b gy of og l oh oi">ipdb&gt; from IPython import embed<br/>ipdb&gt; embed()</span></pre><p id="1e69" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对调试器命令的进一步讨论超出了本文的范围。它们在下面引用的文档中有很好的记录。</p><h2 id="edf2" class="mb mc iq bd md me mf dn mg mh mi dp mj lf mk ml mm lj mn mo mp ln mq mr ms mt bi translated">参考资料:</h2><p id="7f61" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf mw lh li lj mx ll lm ln my lp lq lr ij bi translated"><a class="ae kv" href="https://docs.python.org/2/library/pdb.html#debugger-commands" rel="noopener ugc nofollow" target="_blank"> pdb文件</a></p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="17f1" class="nh mc iq bd md ni nj nk mg nl nm nn mj jw no jx mm jz np ka mp kc nq kd ms nr bi translated">结论</h1><p id="4eff" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf mw lh li lj mx ll lm ln my lp lq lr ij bi translated">本文中的配置将帮助您开始使用Vim和Tmux进行Python开发。其他有用的特性，如林挺、代码完成和跳转到定义，都没有涉及到。看看我的<a class="ae kv" href="https://github.com/gontcharovd/vim" rel="noopener ugc nofollow" target="_blank">个人Vim配置</a>中更完整的例子。</p></div></div>    
</body>
</html>