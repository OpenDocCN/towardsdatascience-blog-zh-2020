<html>
<head>
<title>The 5 basic but most error-prone cases for String in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中字符串的5种基本但最容易出错的情况</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-most-5-error-prone-cases-for-strings-in-python-278741668057?source=collection_archive---------47-----------------------#2020-10-21">https://towardsdatascience.com/the-most-5-error-prone-cases-for-strings-in-python-278741668057?source=collection_archive---------47-----------------------#2020-10-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/d0249b0c09ed7f0f49c4505f9dff5466.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_M85NxC6Ngxvgp1cPGzY_Q.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">保罗·埃施-洛朗在<a class="ae kf" href="https://unsplash.com/s/photos/programming?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ff1a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">字符串是一系列字符。它是Python中的一种基本数据类型，但你真的知道如何使用它吗？下面我们来讨论最容易出错的5种情况。</p><h2 id="b241" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">1.单引号、双引号或三引号</h2><ol class=""><li id="c458" class="lx ly it ki b kj lz kn ma kr mb kv mc kz md ld me mf mg mh bi translated">例如，如果你想输出字符串:<strong class="ki iu">汤姆说:“你好吗？我也很好。”</strong>，让我们检查不同的方法:</li></ol><p id="318c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">方法1:使用单引号</p><p id="7ab6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">代码和结果将是:</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/a98ffadabb025d71fba9376606a9de97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*rmbdWE7UNa_tR0kXelyDpA.png"/></div></figure><p id="3794" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">方法2:使用双引号</p><p id="0612" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">代码和结果将是:</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/05e0bcf8dbed8462e5e157ed80c07340.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*h5hh7HLXPuQg8aeuvmiYuQ.png"/></div></figure><p id="a006" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">方法3:使用三重引号</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/1d1f87ce3012d035f1948a44199660f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*dDFe5doduu4PcKySjYtDJg.png"/></div></figure><p id="5afe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">方法4:用转义法连单引号</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/a97d76083459757281de9c1f1555c6a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*-i1Ba40-WApQpTw2CcI1IQ.png"/></div></figure><p id="26fc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">方法5:将打印功能与三重引号一起使用</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/9ff44dc44070ffa5128cd3e5c2ba0f39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*o7C_BhZtQWzZ_SokMjDiiQ.png"/></div></figure><p id="58fc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">方法6:对多行使用三重引号</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/88a5fade2174319cbd2dff45577beb85.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*4YSOqPxkSFSyLnb6RQKUKA.png"/></div></figure><p id="e974" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你发现结论了吗？因此，要正确显示包含引号的句子，可以使用以下提示:</p><ul class=""><li id="ad69" class="lx ly it ki b kj kk kn ko kr ms kv mt kz mu ld mv mf mg mh bi translated"><strong class="ki iu">如果字符串只有单引号，那么可以使用双引号</strong></li><li id="affd" class="lx ly it ki b kj mw kn mx kr my kv mz kz na ld mv mf mg mh bi translated"><strong class="ki iu">如果只有双引号，可以使用单引号</strong></li><li id="8854" class="lx ly it ki b kj mw kn mx kr my kv mz kz na ld mv mf mg mh bi translated"><strong class="ki iu">如果字符串既有单引号又有双引号或者字符串有多行，最好使用三引号</strong></li><li id="1bd2" class="lx ly it ki b kj mw kn mx kr my kv mz kz na ld mv mf mg mh bi translated"><strong class="ki iu">与直接输出字符串相比，使用打印功能可以避免转义字符</strong></li></ul><h2 id="85db" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">2.len(string)或len(string)-1:索引或切片</h2><p id="b875" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">如果有string = '8euro/piece '，你要</p><ul class=""><li id="f247" class="lx ly it ki b kj kk kn ko kr ms kv mt kz mu ld mv mf mg mh bi translated">获取字符串的最后一个字符</li><li id="e604" class="lx ly it ki b kj mw kn mx kr my kv mz kz na ld mv mf mg mh bi translated">获取字符串的最后五个字符</li></ul><p id="d75b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们尝试不同的方法，看看结果如何:</p><pre class="mj mk ml mm gt ne nf ng nh aw ni bi"><span id="311c" class="le lf it nf b gy nj nk l nl nm">string2 = '8euro/piece'</span></pre><p id="dc70" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出1:</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/42e2234d96ba35adc20fd5f00eb645e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aqaXG9tNoBcThJ_fG1k-wA.png"/></div></div></figure><p id="487b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出2:</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi no"><img src="../Images/fe88e43e4a5db02f01dafaf212076eab.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*VW3AXj_5OoKFs9mB9AblTQ.png"/></div></figure><p id="a655" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出3:</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi np"><img src="../Images/080b0b302b809c17bbb2b77d213bf450.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*bpm65Hqx4NSCHtnLI3-cPQ.png"/></div></figure><p id="3b55" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出4:</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi no"><img src="../Images/44ca4e78ddb63b24c1b4ca891a50a10a.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*TlCtIAIS1rLJaiurojL7uQ.png"/></div></figure><p id="8793" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从结果中，我们知道输出2针对问题1，输出4针对问题2。这是因为:</p><p id="9474" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">要求1:使用索引。虽然len()给出了字符串的总字符数，但由于它是从0开始的，所以最后一个字符的索引是len()-1。</strong></p><p id="e99f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">要求2:使用切片的方法。切片语法是S[firstIndex: tailIndex]获取firstIndex到tailIndex -1的字符</strong></p><h2 id="d2fb" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">3.int、float或int(float)</h2><p id="4857" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">有两个字符串:</p><pre class="mj mk ml mm gt ne nf ng nh aw ni bi"><span id="b09c" class="le lf it nf b gy nj nk l nl nm">string3 = '8.8euro/piece'</span></pre><ul class=""><li id="89b9" class="lx ly it ki b kj kk kn ko kr ms kv mt kz mu ld mv mf mg mh bi translated">如何从string3('8.8 ')的数字中得到整数部分？</li><li id="43f7" class="lx ly it ki b kj mw kn mx kr my kv mz kz na ld mv mf mg mh bi translated">如何四舍五入出string3的个数(' 8.8 ')？</li></ul><p id="7100" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们试一试:</p><p id="45bb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">测试1:</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nq"><img src="../Images/af6c1ad6f0327daf72e5c4224ec48b0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ddVTin-KWI3rfdzPDXfag.png"/></div></div></figure><p id="3c9a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">测试2:</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/ece72939d01ee4d3500c1b2d0e89b07f.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/format:webp/1*ITEzkE3oqK_XNa_iEqRYRg.png"/></div></figure><p id="6166" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">测试3:</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/4da0491d4418317b78b0fd15836e38f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*x8Gr5Y9tHNZjPg6taVdTOQ.png"/></div></figure><p id="a5ca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">提示是:</strong></p><p id="e71e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> int():仅从:</strong>转换为整数类型</p><ul class=""><li id="61af" class="lx ly it ki b kj kk kn ko kr ms kv mt kz mu ld mv mf mg mh bi translated"><strong class="ki iu">浮动</strong></li><li id="0a85" class="lx ly it ki b kj mw kn mx kr my kv mz kz na ld mv mf mg mh bi translated"><strong class="ki iu">字符串中的整数部分</strong></li></ul><p id="b29b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果想得到字符串8.8的整数部分，先把它转换成float类型，然后用int()。</p><h2 id="2b40" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">4.bool():真或假</h2><p id="8af1" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">我们将案例总结如下:</p><pre class="mj mk ml mm gt ne nf ng nh aw ni bi"><span id="acd1" class="le lf it nf b gy nj nk l nl nm">print("''is",bool(''))<br/>print("space' ' is",bool(' '))<br/>print('None is',bool(None))<br/>print('True is', bool(True))<br/>print('Number 0 is', bool(0))<br/>print('string 0 is',bool('0'))</span></pre><p id="a4dd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出是:</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/26682b7cb76d76ea24698d350961eced.png" data-original-src="https://miro.medium.com/v2/resize:fit:384/format:webp/1*2NifQ6iV3TlHjJvswoaOig.png"/></div></figure><p id="464d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一起使用bool()和len():</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/34684a4aac9b92b2fce171c086ccef1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*wYpr7KQ8hZzos-4TZz1Ulw.png"/></div></figure><p id="72ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此方法可用作if的逻辑条件。</p><p id="33c7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以基本规则是:</p><p id="706e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> For bool():如果传递的值为None、empty或0(数字，不是字符串0)，则返回False，否则返回True。</strong></p><p id="0f2b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> 5。。join()方法</strong></p><p id="42be" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当使用BeautilfulSoup从一个网站提取数据时，通常数据会被保存为一个列表，然后使用for循环读取每个元素。举一个例子:</p><pre class="mj mk ml mm gt ne nf ng nh aw ni bi"><span id="a614" class="le lf it nf b gy nj nk l nl nm">list1=['The Shawshank Redemption','(1994)','9.6']</span></pre><p id="21fc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要将其保存为CSV文件，需要将其保存为字符串。join()方法在这里有效。</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/5563df77ba6a03b78c2ffef7977e19c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*HAkKosZKQkESkA6OrnDQwA.png"/></div></figure><p id="1f10" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该字符串是不可变的，因此您不能直接在字符串之间删除或插入特定的字符。为此，需要将字符串转换成列表，然后使用。插入()，结合使用。join()方法，示例如下:</p><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/11223944f85e31b5f9086999ff185a2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*mGJvyryOilnNpUOatNiXYQ.png"/></div></figure><p id="86a8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">今天，我们尝试用Python编写最容易出错的字符串代码。你对字符串操作有更清楚的了解吗？玩得开心！</p><figure class="mj mk ml mm gt ju"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="mj mk ml mm gt ju"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="mj mk ml mm gt ju"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="mj mk ml mm gt ju"><div class="bz fp l di"><div class="nx ny l"/></div></figure></div></div>    
</body>
</html>