<html>
<head>
<title>Software Engineering for Data Scientist — Art of Writing Clean Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学家的软件工程——写干净代码的艺术</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/software-engineering-for-data-scientist-art-of-writing-clean-code-f168bf8a6372?source=collection_archive---------47-----------------------#2020-09-23">https://towardsdatascience.com/software-engineering-for-data-scientist-art-of-writing-clean-code-f168bf8a6372?source=collection_archive---------47-----------------------#2020-09-23</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><figure class="iq ir gq gs is it gi gj paragraph-image"><div role="button" tabindex="0" class="iu iv di iw bf ix"><div class="gi gj ip"><img src="../Images/c5af4adc8dd0608c9843bb98a01b7285.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zB8uJieWqXrWxIN2"/></div></div><p class="ja jb gk gi gj jc jd bd b be z dk translated">照片由来自<a class="ae je" href="https://www.pexels.com/photo/technology-computer-display-text-330771/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae je" href="https://www.pexels.com/@markusspiske?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Markus Spiske </a>拍摄</p></figure><div class=""/><p id="f19a" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这是本系列的第二篇文章。有关该系列文章的列表，请查看<strong class="kg ji">部分的前几篇文章</strong>。</p><p id="f882" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg ji">简介</strong></p><p id="f092" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">“代码被阅读的次数比它被编写的次数多”是软件工程师中的一句名言。当我们不考虑目标(数据科学与否)、语言(R、Python或Scala)或项目性质而编写代码时，干净的代码风格使开发人员的生活变得容易。我个人相信CRUM哲学，容易合作，容易理解，容易保持。如何带领你的团队走向一个干净的代码大军，是一个具有挑战性的任务。编码标准的重要性来了。一个定义良好的标准，一个由工程师和数据科学家团队遵循的定制编码标准，总是能确保我们拥有可维护的软件工件。但是在一堆笔记本的世界里。rmd文件编码标准的空间在哪里？本文试图讨论编码标准这个主题，以及如何构建自己的标准。</p><p id="d9c1" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg ji">编码标准</strong></p><p id="5264" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">编码标准与最佳实践指南一致，这是一组开发人员想要遵循的。同意指南告诉我们必须如何编写代码，以便项目代码在开发人员之间保持一致。所有成熟的软件开发和产品团队总是创建和维护这样一个标准作为参考。自从多技术和多语言开发开始以来，人们在不同语言之间切换就成了一种需求。Data Scientist使用笔记本和类似技术中的探索性(可视化)和开发支持。在这种情况下，焦点更多的是在“模型”而不是代码上，直到它到达部署。在本文中，我们将研究Python和r。</p><p id="1b16" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg ji"> Python和PEP8 </strong></p><p id="b7ef" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">一般来说，Pythonista喜欢遵循PEP-8编码标准。当吉多·范·罗苏姆创建Python时，可读性是基本的设计原则之一。一般来说，Python代码被认为是可读的。但是简单和强大的电池使得阅读简单的代码变得困难。PEP-8的存在是为了提高Python代码的可读性。大多数时候，有经验的Python开发人员会为团队制作一个定制的Python指南。主要关注领域(总体而言)包括:</p><p id="c14c" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">命名规格</p><p id="46f1" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">代码布局</p><p id="7476" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">刻痕</p><p id="206d" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">评论</p><p id="eb90" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">表达和陈述</p><p id="440f" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">一般编程建议</p><p id="470c" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这将是一个起点。一般来说，对于数据科学项目和软件项目，还有更多的情况需要处理。大多数基于Python的项目现在都在使用Python3.X。类型提示是P3.x的关键特性之一。建议将其作为编码指南的一部分。数据科学项目中典型的[模式和反模式之一是lambda函数的使用和滥用。大多数时候，lambdas在生产中进行调试。关于数据帧操作的lambda的使用以及可追溯性和调试的目的应该被强制执行。</p><p id="4c97" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">需要关注框架驱动的模式，例如Pandas和其他框架。其中一个例子是在to_sql API中使用SQL数据类型。大多数情况下，一个长字典直接输入到to_sql中。为简单起见，变量可以管理这种模式；更多地指定数据类型是一次性的需求。</p><p id="bf97" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">Google的Python编码指南[1]是为你的团队精心设计Python编码标准的一个很好的起点。另一个有用的参考是RealPython的‘如何用PEP 8写出漂亮的Python代码’[2]。</p><p id="8e44" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg ji"> R和代码风格指南</strong></p><p id="45dc" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在最性感的工作头衔“数据科学”之前，R是统计学家、数据挖掘者和ML研究人员最喜欢的编程语言。在冬天到来之前，R在企业中被大量采用。由于非软件专业人员编写代码的本质，编码标准没有被广泛执行。尽管如此，当企业范围的采用开始时，一些标准已经存在。这三个标准分别是Tidyverse风格指南[3]、Hadley Wickham的指南[4]和Google R风格指南[5]。如果我们非常依赖RShiny应用程序，最好在关闭标准文档之前咨询一下UI/UX团队。</p><p id="5283" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg ji"> IDE和笔记本</strong></p><p id="1a9c" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在软件工程中，IDE插件总是作为虚拟攻击者来维护编码标准。但是笔记本和IDE环境不一样。当我们成为数据科学家和ML工程师时，建议证明编码标准的方向。我们应该包括团队特定的最佳实践以及可重用的组件。</p><p id="e7b5" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">大多数时候，大多数笔记本都充满了程序代码(没有函数类，等等..).该代码可以重复几次；探索性数据分析是这方面的典型案例。最好创建可重用的函数。这将在一个高度迭代的模型构建环境中消除复制粘贴错误和头发拉扯。从长远来看，我们最终可能会创建一个好的集合或库，供整个企业使用。</p><p id="78dd" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg ji">工具</strong></p><p id="2cfc" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">有一些优秀的工具可以帮助格式化和检查编码标准。Flake8是我最喜欢的工具，我和VSCode一起使用。用R和RStudio编码时，我更喜欢安装‘lintr’；除此之外，我还要确保编辑器是为静态代码分析配置的。</p><p id="b1bd" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在项目代码评审期间，根据团队经验，我为lint分数设置了一个可接受的阈值。所以并不总是10！如果你开始执行标准，最好从一个可能的点开始，逐步提高期望值。</p><p id="49e7" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg ji">接下来的步骤</strong></p><p id="6b93" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">到目前为止，我们讨论了编码标准和指针，以开始数据科学和机器学习项目的编码标准。在一个多样化的、熟练的机器学习/数据实际执行的团队中，这是不容易的。一个人可能必须通过非常耐心的再教育来克服阻力。在接下来的文章中，我们将讨论模型构建者的<strong class="kg ji">测试驱动开发。</strong></p><p id="1e6b" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg ji">快乐模型建筑！！！</strong> <strong class="kg ji">往期文章</strong></p><p id="2ac0" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">[1]AI/ML/数据科学项目的软件工程—<a class="ae je" href="https://medium.com/@jaganadhg/software-engineering-for-ai-ml-data-science-projects-bb73e556620e" rel="noopener">https://medium . com/@ jaganadhg/Software-Engineering-for-AI-ML-Data-Science-Projects-bb73e 556620 e</a></p><p id="cba9" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg ji">参考</strong></p><p id="35ba" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">[1]谷歌Python风格指南，<a class="ae je" href="https://google.github.io/styleguide/pyguide.html" rel="noopener ugc nofollow" target="_blank">https://google.github.io/styleguide/pyguide.html</a></p><p id="fd20" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">【2】如何用PEP 8写出漂亮的Python代码，<a class="ae je" href="https://realpython.com/python-pep8/#why-we-need-pep-8" rel="noopener ugc nofollow" target="_blank">https://realpython.com/python-pep8/#why-we-need-pep-8</a></p><p id="ab7f" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">[3]《时尚指南》，<a class="ae je" href="https://style.tidyverse.org/syntax.html#control-flow" rel="noopener ugc nofollow" target="_blank">https://style.tidyverse.org/syntax.html#control-flow</a></p><p id="48c6" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">[4]高级R作者哈德利·韦翰，<a class="ae je" href="http://adv-r.had.co.nz/Style.html" rel="noopener ugc nofollow" target="_blank">http://adv-r.had.co.nz/Style.html</a></p><p id="7903" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">[5]谷歌的R风格指南，<a class="ae je" href="https://google.github.io/styleguide/Rguide.html" rel="noopener ugc nofollow" target="_blank">https://google.github.io/styleguide/Rguide.html</a></p></div><div class="ab cl lc ld hv le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ik il im in io"><p id="1ff6" class="pw-post-body-paragraph ke kf jh kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="lj">原载于</em><a class="ae je" href="https://www.linkedin.com/pulse/software-engineering-data-scientist-art-writing-gopinadhan-jagan-" rel="noopener ugc nofollow" target="_blank"><em class="lj">https://www.linkedin.com</em></a><em class="lj">。</em></p></div></div>    
</body>
</html>