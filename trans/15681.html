<html>
<head>
<title>Automatic Canary Releases for Machine Learning Models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习模型的自动金丝雀释放</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/automatic-canary-releases-for-machine-learning-models-38874a756f87?source=collection_archive---------38-----------------------#2020-10-28">https://towardsdatascience.com/automatic-canary-releases-for-machine-learning-models-38874a756f87?source=collection_archive---------38-----------------------#2020-10-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="39df" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/making-sense-of-big-data" rel="noopener" target="_blank">理解大数据</a></h2><div class=""/><div class=""><h2 id="0915" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">作为应用于机器学习的代码的连续部署和基础设施。</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/6f4e4dba91b0eb4a6817a8ab63eaa729.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hMT8eVOUVJK4ZsSy1edy3w.jpeg"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">鸣谢:福扎伊·阿哈默德在<a class="ae le" href="https://www.pexels.com/es-es/foto/al-aire-libre-antiguo-arquitectura-arquitectura-islamica-2349168/" rel="noopener ugc nofollow" target="_blank"> Pexels </a></p></figure><p id="e9f2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">“MLOps”是关于自动管理机器学习生命周期的。为此，机器学习工程师可以应用“DevOps”原则，主要区别在于它们的范围。</p><p id="2cba" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">例如，ML中的一个大挑战是测试，因为您不仅要测试数据是否满足某些要求，如训练模型所需的最少观察次数，还要检查您添加到模型中的新功能是否提高了它们的性能。</p><p id="53f2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">然而，一些“devo PS”<a class="ae le" href="https://en.wikipedia.org/wiki/DevOps#Toolchains" rel="noopener ugc nofollow" target="_blank">工具</a>可以直接应用于ML周期，如持续部署或基础设施作为代码。</p><p id="c331" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在本文中，我们重点关注通过Canary部署持续交付ML模型，以及如何通过AWS CloudFormation为这些任务自动提供AWS堆栈。</p><blockquote class="mb mc md"><p id="6b0e" class="lf lg me lh b li lj ka lk ll lm kd ln mf lp lq lr mg lt lu lv mh lx ly lz ma ij bi translated">H <strong class="lh ja">高亮</strong>:所有附带的代码都可以在这个<a class="ae le" href="https://gitlab.com/Miguel_TM/ml-canary-deploy/" rel="noopener ugc nofollow" target="_blank"> repo </a>上找到，金丝雀策略是基于<a class="ae le" href="https://github.com/aws-samples/aws-lambda-deploy/blob/master/functions/simple/simple.py" rel="noopener ugc nofollow" target="_blank">这个</a> AWS的例子。</p></blockquote></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h1 id="706c" class="mp mq iq bd mr ms mt mu mv mw mx my mz kf na kg nb ki nc kj nd kl ne km nf ng bi translated">为什么要持续部署？</h1><p id="99e4" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">当用户可以直接与ML模型的结果或预测交互时，我们说它处于生产中，作为<a class="ae le" href="https://www.freecodecamp.org/news/what-is-an-api-in-english-please-b880a3214a82/" rel="noopener ugc nofollow" target="_blank"> API </a>部署以接收来自最终用户的请求。</p><p id="e405" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果我们继续改进这个模型，我们将需要一个框架来自动部署代码变更和重新训练模型。</p><p id="d45a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">例如，如果我们向模型中添加一些新变量，使其精度提高x%，那么我们希望用户从这个新模型中获得结果。</p><p id="2240" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这将意味着自动将最终用户的请求切换到较新的模型版本。</p><h1 id="0a7b" class="mp mq iq bd mr ms nm mu mv mw nn my mz kf no kg nb ki np kj nd kl nq km nf ng bi translated">金丝雀释放怎么样？</h1><p id="f912" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">“金丝雀”一词来源于煤矿中用金丝雀来警告矿工有毒气体的危险程度。</p><p id="b165" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这种策略对部署很有用，因为一小部分用户或请求就像金丝雀一样，可以检测到已部署变更的早期问题。因此，在向所有用户发布该版本之前，可以检测到潜在的问题。</p><p id="e15e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">要实施canary deploy，我们将遵循以下步骤:</p><ol class=""><li id="2e6c" class="nr ns iq lh b li lj ll lm lo nt ls nu lw nv ma nw nx ny nz bi translated">将一小部分请求分配给较新的版本。</li><li id="24ce" class="nr ns iq lh b li oa ll ob lo oc ls od lw oe ma nw nx ny nz bi translated">检查新版本中的错误。如果发现错误，回滚或将所有权重分配给当前版本。</li><li id="f022" class="nr ns iq lh b li oa ll ob lo oc ls od lw oe ma nw nx ny nz bi translated">重复第一步和第二步，直到新版本收到所有请求。</li></ol><p id="7340" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">下面是伪代码版本。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi of"><img src="../Images/6573dddb82e237ba7f95d71b210ac0c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pd-tiyZn6hicgyrhN9elHQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">金丝雀部署伪代码。来源:作者</p></figure></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h1 id="a28d" class="mp mq iq bd mr ms mt mu mv mw mx my mz kf na kg nb ki nc kj nd kl ne km nf ng bi translated">步骤1:将流量路由到新版本</h1><p id="42fb" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">AWS Lambda允许实现金丝雀部署的一个特性是<strong class="lh ja"> <em class="me">加权别名</em> </strong>、<strong class="lh ja"> <em class="me"> </em> </strong>别名是一个函数标识符。通过指定路由配置，它们允许一个将流量路由到同一功能的两个不同版本(不同的代码快照)。</p><p id="9618" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">例如，如果我想用一个开发阶段来标识一个lambda函数，我可以使用一个“dev”别名，我们稍后将看到如何使用CloudFormation自动实现这一点。</p><p id="3eeb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在，假设“我的当前版本”拥有100%的流量，我们希望开始将10%的流量路由到“我的新版本”。</p><p id="442f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们可以通过更改“dev”别名的路由配置来指定这一点。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="25f6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在第13行(代码片段)，注意我们正在调用“update_alias”函数来将10%的流量路由到“my_new_version”，有关此函数的更多详细信息，请参见<a class="ae le" href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/lambda.html#Lambda.Client.update_alias" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><p id="979e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">一个自然产生的问题是，如何验证“我的新版本”没有错误？以便我们可以继续向它发送更多的流量。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h1 id="c2b2" class="mp mq iq bd mr ms mt mu mv mw mx my mz kf na kg nb ki nc kj nd kl ne km nf ng bi translated">步骤2:检查调用错误</h1><p id="b6c2" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">我们想知道函数是否返回一个错误，所以我们将使用调用度量，特别是<strong class="lh ja"> <em class="me">【错误】</em> </strong>度量，因为它们包括“由您的代码和Lambda运行时抛出的异常”(有关更多选项，请参见Lambda函数<a class="ae le" href="https://docs.aws.amazon.com/lambda/latest/dg/monitoring-metrics.html" rel="noopener ugc nofollow" target="_blank">度量</a>)。</p><p id="00cb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">由于“我的新版本”现在拥有10%的流量，我们需要定义一个时间窗口来检索其可能的错误。例如，如果在之前的5分钟内有错误。</p><p id="57d3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为此，我们考虑将每分钟内的所有误差相加。因此，如果在过去5分钟的给定分钟内，有一个错误，这将是一个警告，停止分配更多的权重给新版本。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="7477" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在，假设“我的新版本”出现了错误，我们该怎么办？</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="68eb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">请注意，上面的update_alias有一个参数，用于配置路由到“dev”的流量。</p><p id="beeb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因此，通过将一个空字典分配给“AdditionalVersionWeights”，我们将所有流量都转到“my_current_version”。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h1 id="8192" class="mp mq iq bd mr ms mt mu mv mw mx my mz kf na kg nb ki nc kj nd kl ne km nf ng bi translated">第三步:线性增加权重</h1><p id="cf2b" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">到目前为止，我们已经知道了如何为新版本分配一个权重，以及在出现错误提示时应该做什么。但是，正如你在伪代码的第9行看到的(wₙ → wₙ + <em class="me"> i </em>)，我们还没有定义如何给“我的新版本”分配更多的权重。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oi"><img src="../Images/bfb87ea99dc510787e703e9335341233.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t1lQqEdR_S2YNCstY5Zx6A.jpeg"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">鸣谢:西蒙·哈奇在<a class="ae le" href="https://unsplash.com/photos/eXBqaHUt994" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="7e22" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">注意到“AdditionalVersionWeights”需要的流量百分比是一个<a class="ae le" href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/lambda.html#Lambda.Client.update_alias" rel="noopener ugc nofollow" target="_blank">浮点值</a>，我们可以使用无限的数学函数来增加权重。</p><p id="b785" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">例如，我们可以考虑指数或二次函数，然而，通常的部署偏好类型是线性的。也就是说，流量在每一分钟以相等的增量分配，在我们的例子中，每分钟10%，您可以在<a class="ae le" href="https://gitlab.com/Miguel_TM/ml-canary-deploy/-/blob/master/canary/utils.py#L161" rel="noopener ugc nofollow" target="_blank"> repo </a>中查看这个实现。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h1 id="a1e6" class="mp mq iq bd mr ms mt mu mv mw mx my mz kf na kg nb ki nc kj nd kl ne km nf ng bi translated">通过CloudFormation实现AWS堆栈自动化</h1><p id="c520" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">因为我们想在AWS上自动创建资源，所以我们通过CloudFormation创建服务。</p><p id="166c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">到目前为止，我们已经调用了一个lambda函数，并从CloudWatch检索它的统计数据。这些是授予执行Lambda函数的<a class="ae le" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html" rel="noopener ugc nofollow" target="_blank"> IAM角色</a>的操作或权限，简单来说，IAM角色就像一张身份证，可以使用不同的AWS服务。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="64d6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">请注意模板上的MLmodelAPI资源，它表示作为无服务器API部署的ML模型。由于这超出了本文的范围，您可以在这里找到一个很好的实现。</p><p id="fcae" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">正如您在上一节中所记得的那样，给lambda函数赋予一个别名可以让我们识别它，我们可以使用AWS::Lambda::Alias资源自动完成这项工作。</p><p id="16f4" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在这种情况下，我们根据工作阶段“dev”、“stage”或“prod”为MLModelApi Lambda函数分配标识符。</p><p id="f4b7" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因此，如果我们在ML模型中添加一个新特性或者修复一个错误，我们可以安全地在“开发”阶段工作。当这些变化准备就绪时，我们发布一个新版本(新代码的快照)并开始向它发送新流量，就像我们之前看到的那样。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h1 id="2837" class="mp mq iq bd mr ms mt mu mv mw mx my mz kf na kg nb ki nc kj nd kl ne km nf ng bi translated">使用Gitlab-ci进行持续部署</h1><p id="1960" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">每次我们推送一个git存储库时，在测试代码没有被破坏之后，我们都会运行一个脚本管道来部署新的变更。</p><p id="58b6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">然而，并不是每次推送都会改变ML模型API的代码，例如，只添加文档的代码。</p><p id="adad" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">出于这个原因，遵循<a class="ae le" href="https://www.conventionalcommits.org/en/v1.0.0/" rel="noopener ugc nofollow" target="_blank">常规提交</a>的标准，我们允许部署(canary release)阶段只有在提交消息以API为目标时才是活动的。</p><p id="2d1a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">一个例子是“Feat (Api):我的特征消息”或“Fix (Api):我的Fix消息”。在<a class="ae le" href="https://gitlab.com/Miguel_TM/ml-canary-deploy" rel="noopener ugc nofollow" target="_blank"> repo </a>管道中，您可以发现部署阶段(齿轮标志)显示了提交“Feat (Api): Sample Lambda函数”。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oj"><img src="../Images/acacd6371c46d97131bd10f6380855a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T3MGvsNWvcguvIuAESxkoA.png"/></div></div></figure><p id="13fd" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为了实现这一点，我们遵循一个正则表达式模式，首先匹配动作的类型(专长、修正、测试等等)。)通过捕获第一个大写字母，随后是两个或多个小写字母。然后，它通过匹配任何后跟“(Api)”的字符来匹配范围，在本例中是Api。您可以在下面的代码中查看完整的正则表达式模式。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="og oh l"/></div></figure><blockquote class="mb mc md"><p id="d5d0" class="lf lg me lh b li lj ka lk ll lm kd ln mf lp lq lr mg lt lu lv mh lx ly lz ma ij bi translated">回滚到分支也可以应用，你可以在这篇<a class="ae le" rel="noopener" target="_blank" href="/what-data-scientists-need-to-know-about-devops-2f8bc6660284">文章</a>上找到ML模型的CI应用。</p></blockquote></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h1 id="7674" class="mp mq iq bd mr ms mt mu mv mw mx my mz kf na kg nb ki nc kj nd kl ne km nf ng bi translated">最后的想法</h1><p id="c444" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">现在，每次你对你的ML模型进行修改，就像提交“Feat (Api):添加一个新特性”一样简单。</p><p id="9433" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这有两个很大的好处，一个是遵循一种编码风格，你和其他人将能够理解你的变化。第二，你可以自动看到你在生产中的变化。</p><p id="fcc3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">添加到管道中的一个缺少的步骤是持续集成，这样您就可以获得回滚git分支的好处。</p><p id="465a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">例如，您在“开发”中处理变更，在CI中转移到“阶段”,在Canary部署中继续“生产”。</p><blockquote class="mb mc md"><p id="cf2c" class="lf lg me lh b li lj ka lk ll lm kd ln mf lp lq lr mg lt lu lv mh lx ly lz ma ij bi translated">你可以在下面的<a class="ae le" href="https://gitlab.com/Miguel_TM/ml-canary-deploy/" rel="noopener ugc nofollow" target="_blank">回购</a>中找到所有代码和简要说明。</p></blockquote><div class="ok ol gp gr om on"><a href="https://gitlab.com/Miguel_TM/ml-canary-deploy" rel="noopener  ugc nofollow" target="_blank"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd ja gy z fp os fr fs ot fu fw iz bi translated">Miguel Trejo marr UFO/ml-canary-deploy项目</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">金丝雀部署示例</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">gitlab.com</p></div></div><div class="ow l"><div class="ox l oy oz pa ow pb ky on"/></div></div></a></div><h1 id="0d6a" class="mp mq iq bd mr ms nm mu mv mw nn my mz kf no kg nb ki np kj nd kl nq km nf ng bi translated">参考</h1><ol class=""><li id="91b9" class="nr ns iq lh b li nh ll ni lo pc ls pd lw pe ma nw nx ny nz bi translated"><a class="ae le" href="https://docs.aws.amazon.com/lambda/latest/dg/monitoring-metrics.html" rel="noopener ugc nofollow" target="_blank"> AWS Lambda功能指标</a>。</li></ol><p id="4b48" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">2.<a class="ae le" href="https://github.com/aws-samples/aws-lambda-deploy/blob/master/functions/simple/simple.py" rel="noopener ugc nofollow" target="_blank"> AWS Lambda部署示例</a>。</p><p id="c423" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">3.<a class="ae le" href="https://docs.aws.amazon.com/lambda/latest/dg/configuration-aliases.html" rel="noopener ugc nofollow" target="_blank"> AWS Lambda函数别名</a>。</p><p id="9d4e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">4.<a class="ae le" href="https://docs.gitlab.com/ee/ci/yaml/" rel="noopener ugc nofollow" target="_blank"> Gitlab CI/CD配置</a>。</p></div></div>    
</body>
</html>