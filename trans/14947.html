<html>
<head>
<title>Explore Public Datasets with Google BigQuery and DataStudio</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Google BigQuery和DataStudio探索公共数据集</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/explore-public-dataset-with-google-bigquery-and-datastudio-30f9279b8d42?source=collection_archive---------25-----------------------#2020-10-14">https://towardsdatascience.com/explore-public-dataset-with-google-bigquery-and-datastudio-30f9279b8d42?source=collection_archive---------25-----------------------#2020-10-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="efb4" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">数据科学基本指南</h2><div class=""/><div class=""><h2 id="b042" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">在您的Web浏览器中探索和报告海量数据集—以新冠肺炎数据集为例</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/c4b98485472d0fab33629e7a3dc61c0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Xt4Utq7K_r85Wv8d"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">卢克·切瑟在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="270d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi me translated"><span class="l mf mg mh bm mi mj mk ml mm di"> M </span>任何时候，作为数据科学家，我们都会在数据存储、导入、管理和清理过程中浪费大量时间。在这篇短文中，我将向您介绍如何使用谷歌云服务(BigQuery + DataStudio免费计划)来探索开源数据集，并以谷歌云公共数据集计划中的新冠肺炎数据集为例。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mn"><img src="../Images/eb2ac03b7bbed4df1aae87c9d670815d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SyDbs-XtT_760fw9GggjEQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mo">来自Google Big Query </strong>的公共数据集样本(作者截图来自<a class="ae lh" href="https://console.cloud.google.com/marketplace/browse?filter=solution-type:dataset&amp;_ga=2.140859505.2950655.1602607821-457604929.1600630984&amp;_gac=1.45886806.1602102310.CjwKCAjwzvX7BRAeEiwAsXExo_ZjYY7o4ZxLjOvmf60ZwZfZ5UResXswhfV2K1LXzzJNBCp5X7pfchoCVHMQAvD_BwE" rel="noopener ugc nofollow" target="_blank"> Google BigQuery </a>)</p></figure><h2 id="9b0a" class="mp mq it bd mr ms mt dn mu mv mw dp mx lr my mz na lv nb nc nd lz ne nf ng iz bi translated">好消息，免费了！</h2><p id="a4cb" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">与谷歌云公共数据集计划中的所有数据一样，谷歌为该计划中数据集的存储付费。BigQuery还提供对某些COVID相关数据集的免费查询，以支持对新冠肺炎的响应。对COVID数据集的查询将不计入BigQuery沙盒空闲层。与免费层一样，您每个月最多可以免费查询1 TB，每个月最多可以查询1TB，完全免费。[1]嗯，你可以探索的数据还真不少！</p><h2 id="36b3" class="mp mq it bd mr ms mt dn mu mv mw dp mx lr my mz na lv nb nc nd lz ne nf ng iz bi translated">开始前你需要什么？</h2><ul class=""><li id="8626" class="nm nn it lk b ll nh lo ni lr no lv np lz nq md nr ns nt nu bi translated">谷歌云<a class="ae lh" href="https://cloud.google.com/" rel="noopener ugc nofollow" target="_blank">账户。(自由层就足够了)</a></li><li id="9237" class="nm nn it lk b ll nv lo nw lr nx lv ny lz nz md nr ns nt nu bi translated">一些标准的SQL知识——为了能够查询数据，你可以在网上找到一些教程，比如在<a class="ae lh" href="https://www.w3schools.com/sql/" rel="noopener ugc nofollow" target="_blank">https://www.w3schools.com/sql/</a></li></ul><p id="f21a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">是的，就是它——你可以走了！</p></div><div class="ab cl oa ob hx oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="im in io ip iq"><h1 id="00ad" class="oh mq it bd mr oi oj ok mu ol om on mx ki oo kj na kl op km nd ko oq kp ng or bi translated">我们开始吧</h1><h2 id="44b1" class="mp mq it bd mr ms mt dn mu mv mw dp mx lr my mz na lv nb nc nd lz ne nf ng iz bi translated">步骤1:探索Google Cloud BigQuery中的公共数据</h2><p id="e99f" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">首先，只需前往你的谷歌云控制台，然后进入<a class="ae lh" href="https://console.cloud.google.com/bigquery" rel="noopener ugc nofollow" target="_blank">谷歌大查询网络界面</a>。然后，你会在web界面的左下窗口找到可用的大查询公共数据。您可以通过单击来检查每个数据集的元数据。</p><p id="7e7a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">例如，下图显示了来自JHU CSSE的新冠肺炎数据集，该数据集由谷歌托管并每天更新。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi os"><img src="../Images/93dc9c3548bba09c921dd3d4d633f13e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*25nxfYZE3y_5yX9SkZXWlg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mo"> BigQuery Web界面</strong>(作者)</p></figure><h2 id="58b0" class="mp mq it bd mr ms mt dn mu mv mw dp mx lr my mz na lv nb nc nd lz ne nf ng iz bi translated">第二步:查询数据！</h2><p id="7a9f" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">在选择了您想要的数据存储桶之后，您可以像在数据库系统中一样，使用标准的SQL语言简单地查询您需要的数据。</p><p id="c22a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">例如，让我们研究来自CSSE JHU的新冠肺炎数据集，其中的数据日期为“2020–10–12 ”,您可以使用以下SQL脚本来完成:</p><pre class="ks kt ku kv gt ot ou ov ow aw ox bi"><span id="2359" class="mp mq it ou b gy oy oz l pa pb"><strong class="ou jd">SELECT<br/>  *<br/>FROM<br/>  `bigquery-public-data.covid19_jhu_csse.summary` <br/>WHERE<br/>  date = '2020-10-12'</strong></span></pre><p id="25b7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，单击Run按钮开始查询。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pc"><img src="../Images/0722ce4e36966048b73d5cacc3af628c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kr2qDNqPz8Y9783iNanskw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">例如，使用BigQuery查询新冠肺炎(JHU-CSSE)数据集。(作者)</p></figure><p id="15b1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你可以做更复杂的查询；例如，确认、死亡和康复的新冠肺炎病例的汇总摘要；按国家级别分组；按确诊病例数排序；可以使用以下SQL脚本进行查询:</p><pre class="ks kt ku kv gt ot ou ov ow aw ox bi"><span id="81b9" class="mp mq it ou b gy oy oz l pa pb"><strong class="ou jd">SELECT<br/>  country_region, SUM(confirmed) as confirmed_sum, SUM(deaths) as deaths_sum, SUM(recovered) as recovered_sum<br/>FROM<br/>  `bigquery-public-data.covid19_jhu_csse.summary` <br/>WHERE<br/>  date = '2020-10-12'<br/>GROUP BY country_region<br/>ORDER BY confirmed_sum desc;</strong></span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pd"><img src="../Images/a18ccd88278b897df100ba0205a82961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9wiaZMVaGTSGYsWPYrBVQA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mo">例如，使用BigQuery查询聚合的新冠肺炎(JHU-CSSE)数据集。</strong>(作者)</p></figure><h2 id="0d6f" class="mp mq it bd mr ms mt dn mu mv mw dp mx lr my mz na lv nb nc nd lz ne nf ng iz bi translated">步骤3:使用DataStudio浏览数据</h2><p id="72c6" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">当您对查询结果满意后，您可以使用Google的DataStudio服务进行可视化和探索。您可以在BigQuery web UI的查询结果上找到这个选项。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pe"><img src="../Images/ec3674ee2eb2d4fb96f1af4e909f6d0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zTPFVHwIHEvKGefCEdXaLg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mo">使用Data Studio探索数据。</strong>(作者)</p></figure><p id="800e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在DataStudio中，有一系列数据可视化工具，如图表、地图等；您可以用它来研究BigQuery中的查询数据。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pf"><img src="../Images/749d6cbcf53389eab6df988a9257b66d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TM9n9CaoeLVUVbnFmVl81g.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mo"> Data Studio可视化工具。</strong>(作者)</p></figure><p id="3830" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">将数据微件添加到Data Studio后，它将自动显示查询的数据集中的数据。这些工具非常好用，可以灵活地调整颜色或主题(亮或暗)。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pg"><img src="../Images/358f32692cff06bbe03d0104dafc7641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2jEylj_z9XAQgO_KQU7CGQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mo">data studio中新冠肺炎数据的图表和地图可视化示例(浅色主题)。</strong>(作者)</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ph"><img src="../Images/257a136c37fa47d47854b614c5807df9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U6m1b_kRgTYA_8G0TOeeSA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mo">data studio中新冠肺炎数据的图表和地图可视化示例(深色主题)。</strong>(作者)</p></figure><p id="4304" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">此外，您可以很容易地邀请任何人在这个数据报告上进行协作。或者，获取一份PDF报告。或者甚至将嵌入式报告放到您网站上。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/46ce65500507984b704b848761f93d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*q1Be2eLyvhoY4j_qNeS9_A.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd mo">共享数据工作室报告。</strong>(作者)</p></figure></div><div class="ab cl oa ob hx oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="im in io ip iq"><h1 id="6a52" class="oh mq it bd mr oi oj ok mu ol om on mx ki oo kj na kl op km nd ko oq kp ng or bi translated">结论:</h1><p id="872c" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">本文以查询来自JHU CSSE的新冠肺炎数据集为例，展示了如何使用Google Cloud BigQuery来探索公共数据集。之后，它还展示了如何使用Data Studio以一种简单的方式从查询结果创建报告仪表板。我希望你喜欢这篇文章，并发现它对你的日常工作或项目有用。如果您有任何问题或意见，请随时给我留言。</p><p id="fe8a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">关于我&amp;查看我所有的博客内容:<a class="ae lh" href="https://joets.medium.com/about-me-table-of-content-bc775e4f9dde" rel="noopener">链接</a></p><p id="ebe3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">安全<strong class="lk jd">健康</strong>和<strong class="lk jd">健康</strong>！💪</p><p id="6911" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">感谢您的阅读。📚</p><h2 id="9d68" class="mp mq it bd mr ms mt dn mu mv mw dp mx lr my mz na lv nb nc nd lz ne nf ng iz bi translated">参考</h2><p id="9096" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">[1] Chad W. Jennings，新冠肺炎公共数据集计划:让数据可自由访问以获得更好的公共结果(2020年10月13日)，谷歌云数据分析</p></div></div>    
</body>
</html>