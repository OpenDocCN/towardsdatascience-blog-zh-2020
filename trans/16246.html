<html>
<head>
<title>🧱 4 Steps to Easily Allocate Resources with Python &amp; Bin Packing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python和Bin打包轻松分配资源的🧱 4步骤</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/4-steps-to-easily-allocate-resources-with-python-bin-packing-5933fb8e53a9?source=collection_archive---------22-----------------------#2020-11-09">https://towardsdatascience.com/4-steps-to-easily-allocate-resources-with-python-bin-packing-5933fb8e53a9?source=collection_archive---------22-----------------------#2020-11-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0dab" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><em class="ki">瞬间解决一维资源分配问题</em></h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/1e3fe5151cefc4eb9576410edba348f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aaRML9rPE9rMoelKRbR1og.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated"><em class="ki">【图片由作者提供】</em></p></figure><p id="6cc4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">在本文中，我们将使用Python和binpacking包来解决一个最常见的NP-hard问题:Bin Packing问题。</em> 🗑️</p><p id="6dcc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">具体来说，通过贪婪的方法，我们将根据价值/分数在n个项目上分配m个资源。开始吧！</em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="a040" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">0.问题的简要介绍</h1><p id="25ff" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">假设您有<strong class="lb iu"> <em class="lv"> m </em> </strong>个不同重量(<em class="lv">或值</em>)的物品，您需要将这些物品放入<strong class="lb iu"> <em class="lv"> n </em> </strong>个相等的平衡箱(<em class="lv">图1 </em>)。</p><p id="eea7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">💡这就是通常所说的<strong class="lb iu"> <em class="lv">箱柜装箱问题</em> </strong>。</p><p id="5459" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv"> BPP </em>被计算复杂性理论归类为<em class="lv"> NP-hard问题</em>，简而言之，其难度不亚于在<strong class="lb iu"> <em class="lv"> N </em> </strong> <em class="lv">非确定性</em> <strong class="lb iu"> <em class="lv"> P </em> </strong> <em class="lv">多项式</em>时间<em class="lv"> NP问题</em>中最难解决的问题。</p><p id="67b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">很简单，不是吗？</em> …🤔</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi na"><img src="../Images/c74fdec6cfab703d43c0e9f0e90db5a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b729QM-RKb6dvTyPfDtixw.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">图1-小心:尽管使用了多边形，但问题仍然是一维的，因为所有矩形的宽度都是相同的。<em class="ki">【图片作者】</em></p></figure><p id="d5dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然这些话看似近乎理解(<em class="lv">我可以向你发誓前面的句子</em>没有打字错误)，但是<strong class="lb iu"> <em class="lv">装箱问题在日常生活中经常发生</em> </strong>。</p><p id="1d91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是一些例子:</p><ul class=""><li id="e9c6" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">🛒:你在超市。你刚刚付了款，你要把所有的<strong class="lb iu"> <em class="lv"> m </em> </strong> <em class="lv">产品</em>放在数量最少的<strong class="lb iu"> <em class="lv"> n </em> </strong>袋子里，尽量装得满满的，均衡的。</li><li id="9117" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">👔你是一个<em class="lv">项目经理</em>，需要<em class="lv">人员</em> <strong class="lb iu"> <em class="lv"> m </em> </strong> <em class="lv">资源</em>进行<strong class="lb iu"> <em class="lv"> n </em> </strong>项目。假设同样复杂的项目，你的目标将- <em class="lv">可能- </em>是通过了解你的资源的估计贡献值来实现平衡的团队。</li><li id="2c68" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">🚣‍♂️:你正计划和几个朋友去乘船旅行。不幸的是，船是有最大载重量的。你必须将你的m个朋友平均分配到由你支配的n艘船上。</li></ul><p id="d8c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的。顾名思义<strong class="lb iu"> <em class="lv">每当我们要用别的东西</em> </strong>来“填充”某物的时候，装箱问题就出现了。<br/>正如你所想象的，有<em class="lv"> n </em>维变量，这些变量考虑了其他有用的信息，如<strong class="lb iu"> <em class="lv">体积</em> </strong>或<strong class="lb iu"> <em class="lv">成本</em> </strong> ( <em class="lv">背包问题</em>)。</p><h1 id="6e80" class="md me it bd mf mg np mi mj mk nq mm mn jz nr ka mp kc ns kd mr kf nt kg mt mu bi translated">1.摆桌子的时间到了:打包</h1><p id="8f5b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">让我们开始预热引擎。我们将只使用这两个包:</p><ul class=""><li id="cdfe" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated"><strong class="lb iu"> <em class="lv"> matplotlib </em> </strong>:超流行的可视化软件包；</li><li id="9e34" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated"><strong class="lb iu"> <em class="lv"> binpacking </em> </strong>:一个贪心的binpacking问题求解器包；</li></ul><p id="0ae8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要安装它们，只需在<em class="lv">命令提示符</em>中输入💻：</p><pre class="kk kl km kn gt nu nv nw nx aw ny bi"><span id="bb64" class="nz me it nv b gy oa ob l oc od">pip install binpacking matplotlib</span></pre><p id="667c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">等你瞧</em>。搞定了。</p><h1 id="e4a9" class="md me it bd mf mg np mi mj mk nq mm mn jz nr ka mp kc ns kd mr kf nt kg mt mu bi translated">2.导入包</h1><p id="a93a" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">现在让我们打开我们最喜欢的<em class="lv">笔记本</em>或者<em class="lv"> IDE </em>，通过导入这两个包开始代码。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oe of l"/></div></figure><h1 id="6169" class="md me it bd mf mg np mi mj mk nq mm mn jz nr ka mp kc ns kd mr kf nt kg mt mu bi translated">3.将笔放在纸上:参数</h1><p id="76b2" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">下面是我最喜欢的一个步骤:<strong class="lb iu"> <em class="lv">参数定义</em> </strong>。</p><p id="4308" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">🗑️让我们首先定义我们想要的<strong class="lb iu"> <em class="lv">个仓</em> </strong>的数量，然后字典包含资源 的<em class="lv">估计/测量</em> <strong class="lb iu"> <em class="lv">值。</em></strong></p><p id="7502" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将<strong class="lb iu"> <em class="lv"> 21个资源</em> </strong>分配给<strong class="lb iu"> <em class="lv"> 6个项目</em> </strong>的员工。👨‍👩‍👧‍👦</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="1c1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">字典的每个关键字将对应于该资源的贡献值的估计。是的，<strong class="lb iu"> <em class="lv">一种分数的排序</em> </strong>。</p><h1 id="6c8a" class="md me it bd mf mg np mi mj mk nq mm mn jz nr ka mp kc ns kd mr kf nt kg mt mu bi translated">4.打开箱子包装问题</h1><p id="d4fc" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">考虑到在<em class="lv"> NP-hard </em>问题、<strong class="lb iu"> <em class="lv">中寻找最优解的极端复杂性，没有贪婪的方法</em> </strong>我们不可能成功。这里开始使用<em class="lv"> binpacking </em> package。</p><p id="920c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">🧮贪婪算法允许以近似但可接受的方式找到困难问题的解决方案。简而言之，随着<em class="lv">贪婪</em>的逼近，<strong class="lb iu">我们以牺牲问题的准确性</strong>为代价来支付问题的解决方案。</p><p id="863e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好的，我喜欢。那是给我们的。 ✌️</p><p id="d07f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该软件包的使用非常简单。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="edae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">搞定了。难以置信的无痛。让我们试着<strong class="lb iu"> <em class="lv">以不同的方式可视化结果</em> </strong>使用<em class="lv">列表理解</em>清除值。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="354f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">我们配备了所有资源</strong>并创建了6个(<em class="lv">可能是</em>)平衡小组。</p><p id="b5d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好了，不过现在<strong class="lb iu"> <em class="lv">是时候看看算法表现如何了</em> </strong>。让我们看看这些群体之间是否真正平衡。</p><h1 id="28b5" class="md me it bd mf mg np mi mj mk nq mm mn jz nr ka mp kc ns kd mr kf nt kg mt mu bi translated">5.让我们探索结果</h1><p id="551e" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们期望的是6个组，每个组的总值非常接近于总值除以组数的和。</p><p id="0f1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样就很容易计算出每组的<strong class="lb iu"> <em class="lv">理想值</em> </strong>和每组的<strong class="lb iu"> <em class="lv">值</em></strong><em class="lv"/><strong class="lb iu"><em class="lv"/></strong>。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="f85b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">📊让我们试着给他们看看。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="409f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是图表:<strong class="lb iu"> <em class="lv">红色横线</em> </strong>代表每组<strong class="lb iu"> <em class="lv">理想平均期望值</em></strong>(<em class="lv">图2 </em>)。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi og"><img src="../Images/bce2ca788d3637aa82e2c1f484aa6930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wbaEblBBHZQpnHCK5HNugA.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">图2 -这是我们的垃圾箱。它们的值都在理想平均值(红线)左右。<em class="ki">【图片由作者提供】</em></p></figure><p id="da86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv"> Ta daa！正如我们所料，我们建立了6个平衡组<strong class="lb iu"><em class="lv"/></strong>。每个组实际上都有一个非常接近理想值的分数。我认为目标已经达到。🥳</em></p><p id="da70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记住，事实上，我们得到的是一个与我们的问题兼容的 的<strong class="lb iu"> <em class="lv">解，但是<strong class="lb iu"> <em class="lv">不是最优的</em> </strong>，因为我们使用了一个<em class="lv">贪婪的</em>算法。</em></strong></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="80ba" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">-1.结论</h1><p id="0f0b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">总之<strong class="lb iu"> <em class="lv">装箱问题</em> </strong>真的是日常生活中很常见的<strong class="lb iu"><em class="lv"/></strong>。<br/></p><p id="2101" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一些精神食粮？如果我们想试着考虑物品 的<strong class="lb iu"> <em class="lv">成本呢？如果我们还想整合第二维或第三维呢？简单的1D垃圾桶包装可能会有点紧。</em></strong></p><p id="c40b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我认为我们应该在接下来的文章中谈论它…所以，敬请期待！😉</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="8083" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">🤝<em class="lv">如有任何疑问、反馈或协作要求，请随时</em> <strong class="lb iu"> <em class="lv">联系我</em></strong><a class="ae oh" href="http://bit.ly/alessiovaccaroLinkedIn" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="lv">Linkedin</em></strong></a><em class="lv">。我会很高兴和你聊天！</em></p><p id="cf7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae oh" href="https://emojipedia.org/backhand-index-pointing-right/" rel="noopener ugc nofollow" target="_blank">👉</a>要获得更多类似的内容，并关注即将发布的文章，请不要忘记在Medium  上<strong class="lb iu"> <em class="lv">关注我。</em></strong></p><p id="4ee9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">🙏如需参考本文，请联系我。谢谢你。</p></div></div>    
</body>
</html>