<html>
<head>
<title>Choosing the correct error metric: MAPE vs. sMAPE</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">选择正确的误差度量:MAPE与斯马普</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/choosing-the-correct-error-metric-mape-vs-smape-5328dec53fac?source=collection_archive---------2-----------------------#2020-11-01">https://towardsdatascience.com/choosing-the-correct-error-metric-mape-vs-smape-5328dec53fac?source=collection_archive---------2-----------------------#2020-11-01</a></blockquote><div><div class="fc ij ik il im in"/><div class="io ip iq ir is"><figure class="iu iv gp gr iw ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi it"><img src="../Images/efa04410d1dab538698adcc7905e46cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KaneMFpRR8XVJVY2AFOA8Q.jpeg"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">图片来自<a class="ae ji" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1841158" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae ji" href="https://pixabay.com/users/pexels-2286921/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1841158" rel="noopener ugc nofollow" target="_blank">像素</a></p></figure><div class=""/><div class=""><h2 id="5da7" class="pw-subtitle-paragraph ki jk jl bd b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dk translated">两种流行的误差度量标准的利弊</h2></div><p id="ca5b" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">MSE、RMSE、MAE、MAPE、sMAPE……仅举几例。有大量不同的错误度量标准，每一个都有其优点和缺点，并且应该比前一个覆盖更多的情况。那么，如何决定在我们的项目中使用哪种度量呢？</p><p id="3936" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">我认为回答这个问题的关键是了解最流行的度量标准的优点和局限性。这样，我们可以选择最适合手头任务的指标。这就是为什么在这篇文章中，我介绍了我最近使用的两个指标。</p><h1 id="d504" class="lw lx jl bd ly lz ma mb mc md me mf mg kr mh ks mi ku mj kv mk kx ml ky mm mn bi translated">平均绝对百分比误差(MAPE)</h1><p id="4cb8" class="pw-post-body-paragraph la lb jl lc b ld mo km lf lg mp kp li lj mq ll lm ln mr lp lq lr ms lt lu lv io bi translated">平均绝对百分比误差是评估预测性能的最流行的度量之一。它由下面的公式给出。</p><figure class="mu mv mw mx gt ix gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/efd92c5c525dcf12862a76ea0d9cbc19.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*Txq63FvjzmdK-sDeCCDx1A.png"/></div></figure><p id="c275" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">其中<em class="my"> A_t </em>代表实际值，而<em class="my"> F_t </em>是预测值。在这种情况下，我们可以将<em class="my"> t </em>解释为进行一般回归问题(预测人的体重或房屋价格)时的观察值，或者时间序列分析时的时间指数。</p><p id="688d" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">该公式通常包括将该值乘以100%，以百分比形式表示该数字。</p><h2 id="7cd9" class="mz lx jl bd ly na nb dn mc nc nd dp mg lj ne nf mi ln ng nh mk lr ni nj mm nk bi translated">优势</h2><ul class=""><li id="a63d" class="nl nm jl lc b ld mo lg mp lj nn ln no lr np lv nq nr ns nt bi translated">以百分比表示，与尺度无关，可用于比较不同尺度的预测。但是我们应该记住，MAPE的值可能超过100%。</li><li id="44e1" class="nl nm jl lc b ld nu lg nv lj nw ln nx lr ny lv nq nr ns nt bi translated">易于向利益相关者解释。</li></ul><h2 id="87d6" class="mz lx jl bd ly na nb dn mc nc nd dp mg lj ne nf mi ln ng nh mk lr ni nj mm nk bi translated">缺点</h2><ul class=""><li id="ea11" class="nl nm jl lc b ld mo lg mp lj nn ln no lr np lv nq nr ns nt bi translated">当实际值为零时，MAPE会采用未定义的值，例如在需求预测中就可能出现这种情况。此外，当实际值非常接近零时，它采用极值。</li><li id="ade8" class="nl nm jl lc b ld nu lg nv lj nw ln nx lr ny lv nq nr ns nt bi translated">MAPE是不对称的，它对负误差(当预测高于实际时)的惩罚比对正误差的惩罚更重。这是因为预测值过低时，百分比误差不能超过100%。而过高的预测没有上限。因此，MAPE将倾向于低估而非高估的模型。</li><li id="6b8c" class="nl nm jl lc b ld nu lg nv lj nw ln nx lr ny lv nq nr ns nt bi translated">MAPE假设变量的测量单位具有有意义的零值。因此，虽然预测需求和使用MAPE是有意义的，但当预测以摄氏度表示的温度(不仅仅是摄氏度)时就没有意义了，因为温度有一个任意的零点。</li><li id="213d" class="nl nm jl lc b ld nu lg nv lj nw ln nx lr ny lv nq nr ns nt bi translated">MAPE不是处处可微的，这在将其用作优化准则时会导致问题。</li></ul><p id="d346" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">有关在商业环境中使用MAPE的更多信息，请参见本文<a class="ae ji" href="https://blog.arkieva.com/two-sides-of-the-mape-coin/" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="c21d" class="lw lx jl bd ly lz ma mb mc md me mf mg kr mh ks mi ku mj kv mk kx ml ky mm mn bi translated">对称平均绝对百分比误差</h1><p id="9d5b" class="pw-post-body-paragraph la lb jl lc b ld mo km lf lg mp kp li lj mq ll lm ln mr lp lq lr ms lt lu lv io bi translated">在讨论了MAPE之后，我们也来看看它的一个替代方案——对称MAPE。它应该克服上面提到的不对称——预测高于实际的无限性。</p><figure class="mu mv mw mx gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi nz"><img src="../Images/f2e6c09877903673b231e33673252e22.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/format:webp/1*0SdvMiwgPZ350rmdVDNwGA.png"/></div></div></figure><p id="c6f3" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">sMAPE有几个不同的版本。另一种流行且普遍接受的方法是在分母中的两个项上加上绝对值，以说明当实际值和预测值都等于0时sMAPE是不确定的。</p><h2 id="2395" class="mz lx jl bd ly na nb dn mc nc nd dp mg lj ne nf mi ln ng nh mk lr ni nj mm nk bi translated">优势</h2><ul class=""><li id="4ea6" class="nl nm jl lc b ld mo lg mp lj nn ln no lr np lv nq nr ns nt bi translated">用百分比表示。</li><li id="fbb2" class="nl nm jl lc b ld nu lg nv lj nw ln nx lr ny lv nq nr ns nt bi translated">修复了原始MAPE的缺点-它同时具有下限(0%)和上限(200%)。</li></ul><h2 id="c41f" class="mz lx jl bd ly na nb dn mc nc nd dp mg lj ne nf mi ln ng nh mk lr ni nj mm nk bi translated">缺点</h2><ul class=""><li id="d218" class="nl nm jl lc b ld mo lg mp lj nn ln no lr np lv nq nr ns nt bi translated">当真实值和预测值都非常接近零时，不稳定。当这种情况发生时，我们会用一个非常接近于零的数来处理除法。</li><li id="43f6" class="nl nm jl lc b ld nu lg nv lj nw ln nx lr ny lv nq nr ns nt bi translated">sMAPE可以取负值，因此对“绝对百分比误差”的解释可能会产生误导。</li><li id="bc46" class="nl nm jl lc b ld nu lg nv lj nw ln nx lr ny lv nq nr ns nt bi translated">0%到200%的范围解释起来并不直观，因此sMAPE公式中分母除以2的部分经常被忽略。</li><li id="336b" class="nl nm jl lc b ld nu lg nv lj nw ln nx lr ny lv nq nr ns nt bi translated">每当实际值或预测值为0时，sMAPE将自动达到上限值。</li><li id="4f42" class="nl nm jl lc b ld nu lg nv lj nw ln nx lr ny lv nq nr ns nt bi translated">与MAPE关于有意义的零值的假设相同。</li><li id="0947" class="nl nm jl lc b ld nu lg nv lj nw ln nx lr ny lv nq nr ns nt bi translated">在修正无边界的不对称时，sMAPE引入了另一种由公式的分母引起的微妙不对称。想象两种情况。在第一个例子中，A = 100，F = 120。sMAPE为18.2%。现在有一个非常类似的例子，A = 100，F = 80。这里我们得出了22.2%的sMAPE。</li></ul><h1 id="bbab" class="lw lx jl bd ly lz ma mb mc md me mf mg kr mh ks mi ku mj kv mk kx ml ky mm mn bi translated">结论</h1><p id="a83a" class="pw-post-body-paragraph la lb jl lc b ld mo km lf lg mp kp li lj mq ll lm ln mr lp lq lr ms lt lu lv io bi translated">在本文中，我描述了回归问题的两种流行的性能评估方法。虽然它修复了MAPE的一些缺点，但仍有一些问题和一些新的问题。您可以研究的一些其他指标有:</p><ul class=""><li id="7477" class="nl nm jl lc b ld le lg lh lj oa ln ob lr oc lv nq nr ns nt bi translated">平均绝对标度误差</li><li id="6f1c" class="nl nm jl lc b ld nu lg nv lj nw ln nx lr ny lv nq nr ns nt bi translated">平均方向精度(MDA)</li><li id="a5dd" class="nl nm jl lc b ld nu lg nv lj nw ln nx lr ny lv nq nr ns nt bi translated">准确率的对数(预测值与实际值之比)</li></ul><p id="bb57" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">一如既往，我们欢迎任何建设性的反馈。你可以在<a class="ae ji" href="https://twitter.com/erykml1?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">推特</a>或评论中联系我。</p><p id="e22d" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">如果您对本文感兴趣，您可能也会喜欢:</p><div class="iu iv gp gr iw od"><a rel="noopener follow" target="_blank" href="/my-10-favorite-resources-for-learning-data-science-online-c645aa3d0afb"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd jm gy z fp oi fr fs oj fu fw jk bi translated">我最喜欢的10个在线学习数据科学的资源</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">这些网站将帮助您跟上数据科学的最新趋势</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">towardsdatascience.com</p></div></div><div class="om l"><div class="on l oo op oq om or jc od"/></div></div></a></div><div class="iu iv gp gr iw od"><a rel="noopener follow" target="_blank" href="/5-types-of-plots-that-will-help-you-with-time-series-analysis-b63747818705"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd jm gy z fp oi fr fs oj fu fw jk bi translated">有助于时间序列分析的5种绘图类型</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">以及如何使用Python快速创建它们！</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">towardsdatascience.com</p></div></div><div class="om l"><div class="os l oo op oq om or jc od"/></div></div></a></div><div class="iu iv gp gr iw od"><a rel="noopener follow" target="_blank" href="/the-new-kid-on-the-statistics-in-python-block-pingouin-6b353a1db57c"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd jm gy z fp oi fr fs oj fu fw jk bi translated">Python统计块中的新成员:pingouin</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">图书馆的快速参观，以及它是如何从老守卫中脱颖而出的</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">towardsdatascience.com</p></div></div><div class="om l"><div class="ot l oo op oq om or jc od"/></div></div></a></div></div></div>    
</body>
</html>