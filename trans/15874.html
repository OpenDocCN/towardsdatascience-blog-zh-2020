<html>
<head>
<title>Spot Content Ideas Using 4 Free APIs In Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python中的4个免费API发现内容创意</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/spot-content-ideas-using-4-free-apis-in-python-e18f53ef81af?source=collection_archive---------32-----------------------#2020-11-01">https://towardsdatascience.com/spot-content-ideas-using-4-free-apis-in-python-e18f53ef81af?source=collection_archive---------32-----------------------#2020-11-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3ba7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Google Trends、Reddit、Twitter和新闻API创建内容查找器网站的指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/63b0e16d578c960817d2d975e5e4b6b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l20h2EWbZSBfkf9b9lNYIA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="de9b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那些每天都在写作，还能产出很棒内容的作家背后有什么秘密？</p><p id="3f86" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每个作家都有自己独特的方式，根据自己的个人品味来寻找话题。虽然每个作家都试图写一些他们关心的东西，但获得读者的关注是必不可少的。</p><p id="c211" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">作为一名数据分析师，我很好奇用我的技能解决这个问题的可能性。我想知道任何成功的作家是如何寻找主题的。尤其是当他/她没有主意的时候，他们找到话题的方法是什么。</p><p id="44ac" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">9x媒体顶级作家Esat Artug 写了一篇<a class="ae lw" href="https://medium.com/illumination/how-i-became-9x-top-writer-and-made-over-500-in-my-first-month-da1b051c1cea" rel="noopener">文章</a>，分享了他如何寻找话题的见解。他使用免费的可用资源，如谷歌趋势，亚马逊，回答公众，看看什么是趋势和人们如何互动。</p><p id="5358" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我喜欢他的方法，因为它既简单又非常有效。因为你会看到热门趋势和搜索，它保证，你只选择人们感兴趣的话题。</p><p id="16b8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">身处数据科学领域，我立刻知道我可以让它变得更好、更简单。有很多像Google，Reddit，Twitter这样的资源提供免费的API来访问数据。<strong class="la iu">如果你能在一个屏幕上搜索并看到所有的数据，而不是一个一个地浏览，那将会节省很多时间</strong>。</p><p id="7c61" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这篇文章中，我将通过一步一步的方法来实现它。让我们深入研究一下。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="bd51" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">四个API:</h1><p id="dc79" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">在选择来源时，我决定记住两件事。</p><ol class=""><li id="b121" class="nb nc it la b lb lc le lf lh nd ll ne lp nf lt ng nh ni nj bi translated">应该能得到最新的结果。</li><li id="5373" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt ng nh ni nj bi translated">没有高级服务</li></ol><p id="efba" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为这个想法是为了帮助作者找到内容主题，只有当他能看到当前流行的主题时才有帮助。这意味着绝对没有过时的数据。</p><p id="1015" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，如果作者想在自然语言处理中搜索一个主题，并通过<a class="ae lw" href="https://openai.com/blog/gpt-2-1-5b-release/" rel="noopener ugc nofollow" target="_blank"> GPT </a> -2得到推荐。这对一个作家来说没有太大的帮助，因为GPT-3 的高级版本已经发布了。</p><p id="0897" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为我这么做主要是作为一个研究目的，所以我绝对不想花任何钱去获取这些数据。此外，API提供的自由层数据应该足够了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/b54af2f2e9686c01ff3d6124fb443be1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tMgQrHljBjAwoKSFnE2Kcg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者来自<a class="ae lw" href="https://www.canva.com/" rel="noopener ugc nofollow" target="_blank"> Canva </a> (Logo来源<a class="ae lw" href="https://www.google.com/imgres?imgurl=https%3A%2F%2Fupload.wikimedia.org%2Fwikipedia%2Fcommons%2F5%2F53%2FGoogle_%2522G%2522_Logo.svg&amp;imgrefurl=https%3A%2F%2Fcommons.wikimedia.org%2Fwiki%2FFile%3AGoogle_%2522G%2522_Logo.svg&amp;tbnid=V-DX3bUxNp0CkM&amp;vet=12ahUKEwiNnvamgOLsAhWIQRUIHQkwD4UQMygCegUIARCyAQ..i&amp;docid=zyZ-ciwRabX18M&amp;w=784&amp;h=800&amp;q=%20G&amp;hl=en&amp;safe=off&amp;ved=2ahUKEwiNnvamgOLsAhWIQRUIHQkwD4UQMygCegUIARCyAQ" rel="noopener ugc nofollow" target="_blank"> Google </a>，<a class="ae lw" href="https://www.google.com/imgres?imgurl=https%3A%2F%2Fcdn.iconscout.com%2Ficon%2Ffree%2Fpng-512%2Freddit-164-675841.png&amp;imgrefurl=https%3A%2F%2Ficonscout.com%2Ficon%2Freddit-164&amp;tbnid=3RXy1haoO4gD4M&amp;vet=12ahUKEwjw7dvvgOLsAhV1weYKHbFhAJ4QMygFegUIARCaAQ..i&amp;docid=w9gHDmqm_M1TvM&amp;w=512&amp;h=512&amp;q=reddit%20logo&amp;hl=en&amp;safe=off&amp;ved=2ahUKEwjw7dvvgOLsAhV1weYKHbFhAJ4QMygFegUIARCaAQ" rel="noopener ugc nofollow" target="_blank"> Reddit </a>，<a class="ae lw" href="https://www.google.com/imgres?imgurl=https%3A%2F%2Fimage.shutterstock.com%2Fimage-photo%2Fkiev-ukraine-may-26-2015twitter-260nw-281505518.jpg&amp;imgrefurl=https%3A%2F%2Fwww.shutterstock.com%2Fsearch%2Ftwitter%2Blogo&amp;tbnid=csG-vEI8CyyEbM&amp;vet=12ahUKEwisj63-gOLsAhVRThUIHUdeC1oQMygCegUIARD_AQ..i&amp;docid=9RLUK3Oz5Fi30M&amp;w=381&amp;h=280&amp;q=twitter%20logo&amp;hl=en&amp;safe=off&amp;ved=2ahUKEwisj63-gOLsAhVRThUIHUdeC1oQMygCegUIARD_AQ" rel="noopener ugc nofollow" target="_blank"> Twitter </a>)</p></figure><p id="8f4f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我为这个项目选择的4个API是</p><ol class=""><li id="6e79" class="nb nc it la b lb lc le lf lh nd ll ne lp nf lt ng nh ni nj bi translated">谷歌趋势</li><li id="9a69" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt ng nh ni nj bi translated">Reddit</li><li id="3b25" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt ng nh ni nj bi translated">推特</li><li id="5ac8" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt ng nh ni nj bi translated">新闻API</li></ol><h1 id="b418" class="me mf it bd mg mh nq mj mk ml nr mn mo jz ns ka mq kc nt kd ms kf nu kg mu mv bi translated">逐步实施</h1><p id="7735" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">我使用Python提取和清理数据，并使用<a class="ae lw" href="https://www.streamlit.io/" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>创建了一个网站，用户可以使用关键字搜索并查看输出。</p><h2 id="ac91" class="nv mf it bd mg nw nx dn mk ny nz dp mo lh oa ob mq ll oc od ms lp oe of mu og bi translated">谷歌趋势:</h2><p id="0927" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">我使用<a class="ae lw" href="https://pypi.org/project/pytrends/" rel="noopener ugc nofollow" target="_blank"> pytrends </a>库访问Google trends数据。它的一个好处是你不必请求一个特殊的访问密钥。</p><p id="19cb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">确保使用<code class="fe oh oi oj ok b">pip install pytrends</code>安装库，并使用<code class="fe oh oi oj ok b">from pytrends.request import TrendReq</code>导入库</p><p id="bd6a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你需要通过调用<code class="fe oh oi oj ok b">TrendReq()</code>来初始化它</p><p id="e94f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从文档中我找到了<code class="fe oh oi oj ok b">related_topics()</code>、<code class="fe oh oi oj ok b">related_queries()</code>和<code class="fe oh oi oj ok b">trending_searches()</code>函数，我认为我可以在这个项目中使用它们。</p><p id="16ff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是<code class="fe oh oi oj ok b">related_topics()</code>只返回主题名称，这没有多大帮助。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/6a15fc13b2a270d1291765e6af7e4dd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z88ZeHLSvFSSga5mi2E0Lg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">related_topics()的示例输出(图片由作者提供)</p></figure><p id="d8b4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe oh oi oj ok b">trending_searches()</code>返回当前热门话题，这同样没有太大帮助，因为我们正试图根据关键词查找热门搜索。</p><p id="2801" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe oh oi oj ok b">related_queries()</code>返回基于输入关键字的热门和热门搜索的json输出。它给出了这个项目所需的准确信息。请参见下面的示例输出，了解如何提出对“机器学习”关键词搜索的查询。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/00556f7ca634a9825f16bdbe197d2ed1.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*cBHBmazqLx0dxCaAcKRTcQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">related_queries()的输出(图片由作者提供)</p></figure><p id="767c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在下面看到从谷歌趋势获取数据的要点</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="801d" class="nv mf it bd mg nw nx dn mk ny nz dp mo lh oa ob mq ll oc od ms lp oe of mu og bi translated">Reddit:</h2><p id="5ed3" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">Reddit的工作基于被称为subreddit的标签或页面，人们只能发布subreddit相关的主题。当搜索最新的帖子时，请确保使用流行的子编辑名称进行搜索，以获得最佳结果。</p><p id="552f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">访问键:</strong>与Google trends for Reddit数据不同，您需要获得特定于用户的“访问键”。你可以使用这个链接<a class="ae lw" href="https://www.reddit.com/prefs/apps/" rel="noopener ugc nofollow" target="_blank"> reddit应用</a>来创建你自己的访问密钥令牌。</p><p id="50eb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦完成，前往Python编辑器，确保你安装了PRAW库，Reddit API的Python包装器。你可以使用<code class="fe oh oi oj ok b">pip install PRAW</code>来安装这个库。</p><p id="198f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">导入库并在<code class="fe oh oi oj ok b">praw.Reddit()</code>函数中输入访问密钥进行验证，然后您可以使用<code class="fe oh oi oj ok b">reddit.read_only()</code>检查连接</p><p id="28a4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe oh oi oj ok b">reddit.subreddit(keyword).hot(limit=10)</code>是用于获取子编辑中前10个热门话题的函数。</p><p id="c138" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">搜索子编辑“MachineLearning”的示例输出如下</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/268cbdf11d369b552465aa7560ef9560.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gP3lNSyHUSFOwi25xFCMdg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Reddit输出的热门话题(图片由作者提供)</p></figure><p id="7e50" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在下面看到从Reddit访问数据的要点。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="2b95" class="nv mf it bd mg nw nx dn mk ny nz dp mo lh oa ob mq ll oc od ms lp oe of mu og bi translated">推特</h2><p id="2eab" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">从Twitter API中，你可以获得基于关键词或标签的推文。在开始实现之前，请确保您有使用Twitter API的访问键。对于这个项目，自由层或标准API就足够了。</p><p id="980c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">访问密钥:</strong>请参考<a class="ae lw" href="https://www.slickremix.com/docs/how-to-get-api-keys-and-tokens-for-twitter/" rel="noopener ugc nofollow" target="_blank"> slickremix </a>获取在Twitter中创建访问令牌的简单指南。</p><p id="d6c1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我已经使用了<code class="fe oh oi oj ok b">tweepy</code>库来访问tweets，你可以使用<code class="fe oh oi oj ok b">pip install tweepy</code>来安装这个库</p><p id="6628" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">导入tweepy后，您可以使用<code class="fe oh oi oj ok b">tweepy.OAuthHandler()</code>和<code class="fe oh oi oj ok b">set_access_token()</code>函数来验证API。</p><p id="f16b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，您可以使用<code class="fe oh oi oj ok b">tweepy.Cursor()</code>搜索和下载推文，我在查询中使用了“<em class="oq">-filter:retweets”</em>，因为我想获得只有原始推文的数据，并过滤掉转发。</p><pre class="kj kk kl km gt or ok os ot aw ou bi"><span id="75f6" class="nv mf it ok b gy ov ow l ox oy">tweets = tweepy.Cursor(api.search,<br/>          q=keyword + <strong class="ok iu">' -filter:retweets'</strong>,<br/>          lang=<strong class="ok iu">"en"</strong>,<br/>          since=date_since).items(100)</span></pre><p id="04ab" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后使用下面的代码删除推文中的所有超链接</p><pre class="kj kk kl km gt or ok os ot aw ou bi"><span id="c585" class="nv mf it ok b gy ov ow l ox oy">import re<br/>clean_tweet = re.sub(<strong class="ok iu">r'\w+:\/{2}[\d\w-]+(\.[\d\w-]+)*(?:(?:\/[^\s/]*))*'</strong>, <strong class="ok iu">''</strong>, tweet.text)</span></pre><p id="c98d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了获得热门推文，我使用了每条推文的收藏和转发次数。我为每条推文生成了一个分数，给予转发次数比最受欢迎次数更多的权重。</p><pre class="kj kk kl km gt or ok os ot aw ou bi"><span id="740b" class="nv mf it ok b gy ov ow l ox oy">score = (retweet_count * 2 + favorite_count)</span></pre><p id="df02" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用tweets评分，我对所有数据进行了排序，得到了前10条tweets。请参见下面的输出</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/de9e84a5e7640d2c7ac912b50855d91b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*LA9rIICWWjRHzIgFdj6rHg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自Twitter的推文(图片由作者提供)</p></figure><p id="3c1f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在下面看到从Twitter获取数据的要点</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="baf9" class="nv mf it bd mg nw nx dn mk ny nz dp mo lh oa ob mq ll oc od ms lp oe of mu og bi translated">新闻宣传短片</h2><p id="049a" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated"><a class="ae lw" href="https://newsapi.org/" rel="noopener ugc nofollow" target="_blank">新闻API </a>是从多个新闻来源获取头条新闻的非常好的来源。</p><p id="9966" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">访问密钥:</strong>需要生成API访问密钥，访问是免费开发的。您可以使用<a class="ae lw" href="https://newsapi.org/register" rel="noopener ugc nofollow" target="_blank">链接</a>来生成您的密钥。</p><p id="5c67" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">确保使用<code class="fe oh oi oj ok b">pip install newsapi-python</code>安装库并导入库<code class="fe oh oi oj ok b">from newsapi import NewsApiClient</code></p><p id="908e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你需要使用函数<code class="fe oh oi oj ok b">NewsApiClient(api_key='API_KEY')</code>来初始化它</p><p id="d277" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用<code class="fe oh oi oj ok b">newsapi.get_everything()</code>您可以获得在给定日期范围内包含给定关键字的所有文章。我已经给出了7天的数据范围，以确保我们得到任何关键字搜索至少10篇文章。</p><pre class="kj kk kl km gt or ok os ot aw ou bi"><span id="7243" class="nv mf it ok b gy ov ow l ox oy">newsapi.get_everything(q=keyword,<br/>                       from_param=last_week,<br/>                       to=today,<br/>                       language=<strong class="ok iu">'en'</strong>)</span></pre><p id="2b2e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以在下面看到从NewsApi访问数据的要点</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="3ad1" class="nv mf it bd mg nw nx dn mk ny nz dp mo lh oa ob mq ll oc od ms lp oe of mu og bi translated">创建网站</h2><p id="7743" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">在我看来，<a class="ae lw" href="https://www.streamlit.io" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>是创建网站和分享成果的最佳python库。如果你试图尽可能快地构建一个最小可行的产品，这是最好的。</p><blockquote class="pa pb pc"><p id="0c22" class="ky kz oq la b lb lc ju ld le lf jx lg pd li lj lk pe lm ln lo pf lq lr ls lt im bi translated">你可以在下面看到网站的最终输出。</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pg"><img src="../Images/b378dc5f2f51804bfe0041db9e38f92e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*wTDRy-zjFtV_8G8qUgzY-A.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">主题查找器(图片由作者提供)</p></figure><p id="1e8c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里，我将从API的所有4个来源获取数据，然后相应地格式化数据，以显示在漂亮而简单的表格中。</p><p id="9437" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">我想提供的网站功能有:</strong></p><ol class=""><li id="83fe" class="nb nc it la b lb lc le lf lh nd ll ne lp nf lt ng nh ni nj bi translated">用户应该能够用关键字搜索找到主题</li><li id="434e" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt ng nh ni nj bi translated">允许用户点击并运行API的按钮</li></ol><p id="8f68" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">确保您已经安装了streamlit。你可以用<code class="fe oh oi oj ok b">pip install streamlit</code>安装它</p><p id="48f6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">网站标题'<strong class="la iu">主题查找器'</strong>是使用<code class="fe oh oi oj ok b">st.title(<strong class="la iu">“Topic Finder”</strong>)</code>创建的</p><p id="0f97" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我已经使用<code class="fe oh oi oj ok b">st.sidebar.text_input()</code>在侧边栏中创建了文本输入字段</p><p id="483f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为每个API源创建一个输入字段，使用户能够从每个源搜索不同的主题。参见下面的代码片段，了解侧栏文本输入的创建。</p><pre class="kj kk kl km gt or ok os ot aw ou bi"><span id="cace" class="nv mf it ok b gy ov ow l ox oy">pytrend_word = st.sidebar.text_input(<strong class="ok iu">"Google Trend Search Term"</strong>,google_topic)<br/>redtrend_word = st.sidebar.text_input(<strong class="ok iu">"Reddit Trend Search Term"</strong>,reddit_topic)<br/>twtrend_word = st.sidebar.text_input(<strong class="ok iu">"Twitter Trend Search Term"</strong>,twitter_topic)<br/>nwtrend_word = st.sidebar.text_input(<strong class="ok iu">"News Search Term"</strong>,news_topic)</span></pre><p id="f4db" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我没有将所有的输入字段留空，而是创建了一个默认的文本值，名为'<em class="oq"> machinelearning </em>'。</p><p id="68d5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">按钮是使用<code class="fe oh oi oj ok b">st.button()</code>创建的</p><p id="2599" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果单击该按钮，那么从所有API获取数据的所有已定义函数都将运行并获取数据。</p><pre class="kj kk kl km gt or ok os ot aw ou bi"><span id="6d5e" class="nv mf it ok b gy ov ow l ox oy">data = gtrends(pytrend_word)<br/>gtrends_list = list(data[<strong class="ok iu">'query'</strong>][0:10])  <em class="oq"># gtrends Top 10<br/></em>redtrends(redtrend_word) <em class="oq">#returns reddit trend search<br/></em>twtrends(twtrend_word) <em class="oq">#twitter top list<br/></em>tweets_df = pd.DataFrame(list(zip(tweet_text, score)), columns=[<strong class="ok iu">'Tweets'</strong>, <strong class="ok iu">'Score'</strong>])<br/>tweets_df = tweets_df.sort_values(by=[<strong class="ok iu">'Score'</strong>], ascending=<strong class="ok iu">False</strong>)<br/>tweets_list = list(tweets_df[<strong class="ok iu">'Tweets'</strong>].head(10))<br/>newtrends(nwtrend_word)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/d438146bf5f61714aef03aaca5110704.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bPl0wx5UDM3WcESP4WT8wA.png"/></div></div></figure><p id="a5a0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> Wordcloud </strong>:为了生成一个Wordcloud，我将所有来源的文本加入到一个列表中，并使用matplotlib和wordcloud库生成了一个简单的wordcloud。</p><pre class="kj kk kl km gt or ok os ot aw ou bi"><span id="b9af" class="nv mf it ok b gy ov ow l ox oy"><em class="oq"># Create and generate a word cloud image:<br/></em>wordcloud = WordCloud().generate(comment_words)<br/>fig, ax = plt.subplots()<br/><em class="oq"># Display the generated image:<br/></em>ax.imshow(wordcloud, interpolation=<strong class="ok iu">'bilinear'</strong>)<br/>ax.axis(<strong class="ok iu">"off"</strong>)</span></pre><p id="f4a4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用<code class="fe oh oi oj ok b">streamlit run &lt;script_name&gt;.py</code>运行streamlit。您应该能够在本地浏览器中看到如下所示的屏幕</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/d438146bf5f61714aef03aaca5110704.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bPl0wx5UDM3WcESP4WT8wA.png"/></div></div></figure><p id="7f7a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在下面的gist中看到代码</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="ad01" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">最终输出:</h1><p id="66e3" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">作为测试，我用关键词“<strong class="la iu">机器学习</strong>”进行了搜索。我对结果非常满意，因为我得到了所有API的前10名搜索，我可以清楚地看到有很多有趣的想法可以使用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pi"><img src="../Images/94ec6c08d633b15662c8822705eb6b45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6jfzpjIGK2FJPc3KqU2egw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">最终输出(图片由作者提供)</p></figure><blockquote class="pa pb pc"><p id="200e" class="ky kz oq la b lb lc ju ld le lf jx lg pd li lj lk pe lm ln lo pf lq lr ls lt im bi translated">我把自己放在一个内容查找器的位置，快速浏览输出，不到一分钟我就找到了我感兴趣的可以写的主题。我也确信我写的这些主题会有观众，因为它们已经成为流行趋势。</p></blockquote><p id="fa1e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">根据搜索结果，我可以写一些主题:</p><ul class=""><li id="7e73" class="nb nc it la b lb lc le lf lh nd ll ne lp nf lt pj nh ni nj bi translated">百页机器学习书— <strong class="la iu">来自Google Trend </strong></li><li id="7fa6" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt pj nh ni nj bi translated">人工智能摄像机将裁判的光头误认为是球，并在比赛中跟踪它。(我可以用这个有趣的例子来写训练数据的质量和重要性)——<strong class="la iu">来自Reddit </strong></li><li id="abce" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt pj nh ni nj bi translated">数据科学初学者不可或缺的5本书<strong class="la iu"> —来自Twitter </strong></li><li id="6cce" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt pj nh ni nj bi translated">强化学习到底是什么东西，是怎么运作的？— <strong class="la iu">来自NewsApi </strong></li></ul><p id="a2ac" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我对结果非常满意。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="e241" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">结论:</h1><p id="85a4" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">在这篇文章中，我们介绍了如何使用Google、Reddit、Twitter和NewsApi APIs进行内容搜索。除此之外，我还想展示利用你作为数据爱好者所拥有的技能，将一个想法变成最终产品的方法。</p><p id="e556" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你已经观察到这个项目中不涉及机器学习。如果你是一名数据科学家或机器学习工程师，我知道实现你对复杂模型的每一个想法的冲动。这就是为什么我们开发的很多模型没有投入生产。</p><p id="39e8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我坚信，如果没有必要，不使用机器学习并不可耻。主要目标应该是使用数据，并以任何可能的方式提供可操作的见解。</p></div></div>    
</body>
</html>