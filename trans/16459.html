<html>
<head>
<title>Dictionary Comprehensions in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的词典理解</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/dictionary-comprehensions-in-python-912a453da512?source=collection_archive---------21-----------------------#2020-11-13">https://towardsdatascience.com/dictionary-comprehensions-in-python-912a453da512?source=collection_archive---------21-----------------------#2020-11-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a47e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用字典理解在Python中创建字典</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0cda26f7eb6ab8bf1494fe507289ceb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LdL2sb8q0yXUlLko"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@tma?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">天一马</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><h2 id="7dd5" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">创建字典</h2><p id="cfa5" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">假设我们想用python从另一个可迭代对象或序列(比如一个列表)创建一个字典。例如，我们有一个数字列表，我们想创建一个字典来计算每个元素在列表中出现的次数。因此，我们可以让字典的键成为列表中的不同元素(或数字)，它们对应的值等于特定元素(或数字)在列表中出现的次数。</p><p id="98a8" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">我们可以使用for循环来创建这个字典，如下所示:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="5b17" class="kz la it mu b gy my mz l na nb">num_list = [1,1,7,3,5,3,2,9,5,1,3,2,2,2,2,2,9]</span><span id="d0f2" class="kz la it mu b gy nc mz l na nb">count_dict = {}</span><span id="37b5" class="kz la it mu b gy nc mz l na nb">for num in num_list:<br/>    count_dict[num] = num_list.count(num)</span><span id="acee" class="kz la it mu b gy nc mz l na nb">print(count_dict)<br/># {1: 3, 7: 1, 3: 3, 5: 2, 2: 6, 9: 2}</span></pre><p id="706f" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">注意，我们必须先创建一个空字典，<em class="nd"> count_dict </em>。然后，当我们使用for循环遍历<em class="nd"> num_list </em>时，我们在<em class="nd"> count_dict </em>中创建了key:value对。在遍历<em class="nd"> num_list </em>时，该键将等于我们当前所在的数字，其对应的值等于<em class="nd"> num_list </em>中该数字的计数。</p><p id="9ef5" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">count()是一个列表方法，它返回我们传入的值在列表中出现的次数。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h2 id="34e4" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">词典释义</h2><p id="997f" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">就像我们在python中有列表理解一样，我们也有字典理解。我们可以回忆一下，列表理解允许我们以一种非常简洁的方式从其他序列中创建列表。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="14e2" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">这里有一个完整的列表理解教程</p><div class="nl nm gp gr nn no"><a rel="noopener follow" target="_blank" href="/list-comprehensions-in-python-28d54c9286ca"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd iu gy z fp nt fr fs nu fu fw is bi translated">Python中的列表理解</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">用python创建列表的更优雅、更简洁的方式</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">towardsdatascience.com</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc ks no"/></div></div></a></div></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="0af6" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">嗯，我们也可以使用python中的字典理解来以非常简洁的方式创建字典。</p><blockquote class="od"><p id="6a65" class="oe of it bd og oh oi oj ok ol om mn dk translated">{ key:key的值，iterable或sequence中的值}</p></blockquote><p id="1a0f" class="pw-post-body-paragraph lv lw it lx b ly on ju ma mb oo jx md li op mf mg lm oq mi mj lq or ml mm mn im bi translated">例如，我们可以使用字典理解来创建上面的字典，如下所示:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="bd48" class="kz la it mu b gy my mz l na nb">num_list = [1,1,7,3,5,3,2,9,5,1,3,2,2,2,2,2,9]</span><span id="175d" class="kz la it mu b gy nc mz l na nb">count_dict = {num:num_list.count(num) for num in num_list}</span><span id="debe" class="kz la it mu b gy nc mz l na nb">print(count_dict)<br/># {1: 3, 7: 1, 3: 3, 5: 2, 2: 6, 9: 2}</span></pre><p id="267b" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">就是这样！首先，我们使用花括号来确定我们想要创建一个字典(与使用括号的列表相反)。然后，当我们在<em class="nd"> num_list </em>上循环时，我们创建如下的键:值对:<em class="nd">num:num _ list . count(num)</em>，其中键是数字(或num)，它的值是那个数字在<em class="nd"> num_list </em>中的计数。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h2 id="84a1" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">有条件的词典理解</h2><p id="9b0b" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">就像在list comprehensions中一样，我们可以在for循环后使用if语句将条件添加到字典理解中。</p><blockquote class="od"><p id="18b3" class="oe of it bd og oh oi oj ok ol om mn dk translated">{ key:key的值，iterable或sequence if <condition>中的值}</condition></p></blockquote><p id="7f1d" class="pw-post-body-paragraph lv lw it lx b ly on ju ma mb oo jx md li op mf mg lm oq mi mj lq or ml mm mn im bi translated">例如，如果我们只想在字典中查找偶数，我们可以使用下面的代码:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="7174" class="kz la it mu b gy my mz l na nb">num_list = [1,1,7,3,5,3,2,9,5,1,3,2,2,2,2,2,9]</span><span id="787a" class="kz la it mu b gy nc mz l na nb">count_dict = {num:num_list.count(num) for num in num_list if num_list.count(num)%2==0}</span><span id="ecd5" class="kz la it mu b gy nc mz l na nb">print(count_dict)<br/># {5: 2, 2: 6, 9: 2}</span></pre><p id="e113" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">正如我们所看到的，我们在字典理解中的for循环之后添加了一个if语句。如果当前数字的计数是偶数，我们将相应的键:值对添加到字典中。否则，我们不会将键:值对添加到字典中。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><div class="kj kk kl km gt no"><a rel="noopener follow" target="_blank" href="/three-concepts-to-become-a-better-python-programmer-b5808b7abedc"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd iu gy z fp nt fr fs nu fu fw is bi translated">成为更好的Python程序员的三个概念</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">了解Python中的*和**运算符，*args和**kwargs以及更多内容</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">towardsdatascience.com</p></div></div><div class="nx l"><div class="os l nz oa ob nx oc ks no"/></div></div></a></div></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h2 id="2b1a" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">额外收获——对字典进行排序</h2><p id="4017" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">我们还可以使用sorted()函数根据计数对字典进行排序，如下所示:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="ebf4" class="kz la it mu b gy my mz l na nb">num_list = [1,1,7,3,5,3,2,9,5,1,3,2,2,2,2,2,9]</span><span id="475b" class="kz la it mu b gy nc mz l na nb">count_dict = {num:num_list.count(num) for num in num_list}</span><span id="346b" class="kz la it mu b gy nc mz l na nb">sorted_dict = dict(sorted(count_dict.items(), key=lambda x:x[1]))</span><span id="414e" class="kz la it mu b gy nc mz l na nb">print(sorted_dict)<br/># {7: 1, 5: 2, 9: 2, 1: 3, 3: 3, 2: 6}</span></pre><p id="1dae" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">有关上述代码的完整解释，请查看python中的对象排序教程:</p><div class="nl nm gp gr nn no"><a href="https://levelup.gitconnected.com/the-ultimate-guide-to-sorting-in-python-d07349fb96d5" rel="noopener  ugc nofollow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd iu gy z fp nt fr fs nu fu fw is bi translated">Python排序的终极指南</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">如何在python中对列表、元组、字符串和字典进行排序</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nx l"><div class="ot l nz oa ob nx oc ks no"/></div></div></a></div></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="e05d" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">如果你喜欢阅读这样的故事，并想支持我成为一名作家，考虑注册成为一名媒体会员。每月5美元，你可以无限制地阅读媒体上的故事。如果你用我的 <a class="ae ky" href="https://lmatalka90.medium.com/membership" rel="noopener"> <em class="nd">链接</em> </a> <em class="nd">注册，我会赚一小笔佣金。</em></p><div class="nl nm gp gr nn no"><a href="https://lmatalka90.medium.com/membership" rel="noopener follow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd iu gy z fp nt fr fs nu fu fw is bi translated">通过我的推荐链接加入媒体——卢艾·马塔尔卡</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">阅读卢艾·马塔尔卡的每一个故事(以及媒体上成千上万的其他作家)。您的会员费直接支持…</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">lmatalka90.medium.com</p></div></div><div class="nx l"><div class="ou l nz oa ob nx oc ks no"/></div></div></a></div></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h2 id="690c" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论</h2><p id="e398" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">在这个简短的教程中，我们首先回顾了如何使用一个iterable对象(比如一个list)创建一个带有for循环的字典，其中我们必须先创建一个空字典。然后，我们学习了如何使用字典理解来以更简洁和pythonic化的方式创建同一个字典，而不必先创建一个空字典。然后，我们看到了如何使用if语句将条件添加到字典理解中。最后，我们使用sorted()函数根据列表中数字的计数值对字典进行了排序。</p></div></div>    
</body>
</html>