<html>
<head>
<title>Demystify Employee Leaving with EDA</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">揭开员工离开EDA的神秘面纱</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/demystify-employee-leaving-with-eda-2ed96525f3a7?source=collection_archive---------33-----------------------#2020-10-10">https://towardsdatascience.com/demystify-employee-leaving-with-eda-2ed96525f3a7?source=collection_archive---------33-----------------------#2020-10-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="dfc9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">解释性数据分析，具有深刻的视觉效果和有趣的发现</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/2089662431430428828b129c246921c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*o0qVBYabY9c370P7LolORg.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">来自pixabay的Img通过<a class="ae ku" href="https://pixabay.com/photos/brexit-leave-remain-europe-exit-4131852/" rel="noopener ugc nofollow" target="_blank">链接</a></p></figure><p id="050b" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu">在之前的帖子中，我试图预测一个银行客户是否可能离开，或者一个应用程序用户是否可能流失或订阅。现在，我将分享最近在人力资源领域的工作，给那些努力留住员工的公司带来一些预测能力。</strong></p><p id="64af" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在这第一篇文章中，我将重点探索数据集的任何有趣的模式。一如既往，它分为以下几部分:</p><p id="4a41" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">1.问题陈述</p><p id="9bcb" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">2.数据审查</p><p id="067f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">3.分布分析</p><p id="6343" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">4.独立变量相关分析</p><p id="f9d0" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">5.响应变量相关分析</p><p id="a95f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">6.外卖食品</p><p id="76ab" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">让我们开始旅程吧🏃‍♂️🏃‍♀️.</p><p id="af69" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu"> 1。问题陈述</strong></p><p id="89d3" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">如果你来自人力资源部门，你可能会同意雇佣和留住员工是复杂的任务，需要资金、时间和技能。</p><blockquote class="lr"><p id="9c84" class="ls lt it bd lu lv lw lx ly lz ma lq dk translated">根据<a class="ae ku" href="https://toggl.com/blog/cost-of-hiring-an-employee" rel="noopener ugc nofollow" target="_blank"> toggle hire </a>的说法，公司花费员工工资的15%-20%来招聘一名新的候选人。在一家拥有0-500名员工的公司中，雇佣一名员工的平均成本为7645美元🙀🙀。</p></blockquote><p id="86a6" class="pw-post-body-paragraph kv kw it kx b ky mb ju la lb mc jx ld le md lg lh li me lk ll lm mf lo lp lq im bi translated">作为一名数据科学家，你的任务是开发一个可以预测哪些员工更有可能辞职的模型。您的发现将有助于更有效地留住员工。</p><p id="a092" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu"> 2。数据回顾</strong></p><p id="7981" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这里使用的数据集是来自<a class="ae ku" href="https://www.kaggle.com/pavansubhasht/ibm-hr-analytics-attrition-dataset/activity" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>的IBM HR Analytics数据集。共有1470条记录，包含35个特征。查看下面的视频，真正接触原始数据集。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="ff64" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">为了更好地理解每个特性的含义，我在下面做了一个易于查看的图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/6900db2994a9b9fa810f0ee2b95a6448.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*9Gs8Pidgw5ZKQu1kimbHjA.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图1数据变量概述</p></figure><p id="1b2f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">要了解数值变量的分布，请使用下面的。</p><pre class="kj kk kl km gt mi mj mk ml aw mm bi"><span id="46ae" class="mn mo it mj b gy mp mq l mr ms">employee_df.describe()</span></pre><p id="dff6" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">对于数据质量检查(如果每列中有任何空数据或缺失数据)和查看数据类型，请使用以下内容:</p><pre class="kj kk kl km gt mi mj mk ml aw mm bi"><span id="b8c1" class="mn mo it mj b gy mp mq l mr ms">employee_df.info()</span></pre><p id="56cf" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">请注意，您还可以使用下面的命令来检查数据帧中是否有NA值:</p><pre class="kj kk kl km gt mi mj mk ml aw mm bi"><span id="2e08" class="mn mo it mj b gy mp mq l mr ms">employee_df.isna().any()<br/>employee_df.isnull().any()</span></pre><p id="d5ff" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu">通过以上所有内容，我们发现26个数值变量和9个分类变量没有缺失值。</strong></p><p id="14cc" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu"> 3。分布分析</strong></p><p id="4b0b" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们使用直方图作为数值变量分布分析的简单可视化。</p><p id="e221" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">首先，让我们将二进制分类数据转换成数字。使用带有lambda的单行函数来应用于整个列。然后，pandas内置绘图功能来创建直方图。具体来说，</p><pre class="kj kk kl km gt mi mj mk ml aw mm bi"><span id="6e9e" class="mn mo it mj b gy mp mq l mr ms">employee_df[‘Attrition’] = employee_df[‘Attrition’].apply(lambda x: 1 if x == ‘Yes’ else 0)<br/>employee_df[‘OverTime’] = employee_df[‘OverTime’].apply(lambda x: 1 if x == ‘Yes’ else 0)<br/>employee_df[‘Over18’] = employee_df[‘Over18’].apply(lambda x: 1 if x == ‘Y’ else 0)<br/>employee_df.hist(bins = 30, figsize= (15, 15), color = 'r')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/3272e6d0f2ba6d1ec9a9dfcdb1526161.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*dK-KwqHNlzRqQmZD1UZX7w.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图2数值变量的分布分析</p></figure><p id="96b5" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu">回顾图2，您可能会发现<em class="mt">“员工人数”、“18岁以上”和“标准工时”</em>栏没有价值，因为这些对所有员工都是一样的</strong>。因此，让我们删除它们:</p><pre class="kj kk kl km gt mi mj mk ml aw mm bi"><span id="4e8d" class="mn mo it mj b gy mp mq l mr ms">employee_df.drop([‘EmployeeCount’, ‘EmployeeNumber’, ‘Over18’, ‘StandardHours’], axis = 1, inplace = True)</span></pre><p id="6d20" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu"> 4。自变量相关性分析</strong></p><blockquote class="lr"><p id="487f" class="ls lt it bd lu lv lw lx ly lz ma lq dk translated">变量相关性是一个值得每个数据科学家关注的重要问题。</p></blockquote><p id="6f7c" class="pw-post-body-paragraph kv kw it kx b ky mb ju la lb mc jx ld le md lg lh li me lk ll lm mf lo lp lq im bi translated">通常，相关要素不会提高模型性能。考虑到维数灾难和模型的可解释性，移除相关特征是明智的。要执行相关性分析，请使用:</p><pre class="kj kk kl km gt mi mj mk ml aw mm bi"><span id="09e3" class="mn mo it mj b gy mp mq l mr ms">correlations = employee_df.corr()<br/>plt.subplots(figsize = (20, 20))<br/>sns.heatmap(correlations, annot = True)</span></pre><p id="5904" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">图3显示了一些明显的相关性。例如，<em class="mt">‘总工作年数’</em>与<em class="mt">‘工作级别’</em>和<em class="mt">‘月度收入’</em>有很强的相关性。<strong class="kx iu">一般来说，我们可以看到相当多的变量相关性很差。太好了，因为我们希望用彼此不高度相关的特征来训练预测模型。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/3adc05632ae197bb42517bec8076b73d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*KLbVzSuNRV77GMjOFSP4OA.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图3预测因子的相关性分析</p></figure><p id="5248" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu"> 5。响应变量相关性分析</strong></p><p id="a493" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">为了分析每个特征如何影响员工休假，我们可以检查每个变量相对于响应变量的分布。</p><p id="2c43" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">首先，对于员工<em class="mt">【年龄】</em>，我们用<strong class="kx iu">计数图</strong>，</p><pre class="kj kk kl km gt mi mj mk ml aw mm bi"><span id="c102" class="mn mo it mj b gy mp mq l mr ms">plt.figure(figsize = (25, 10), dpi = 300)<br/>sns.countplot(x = ‘Age’, hue = ‘Attrition’, data = employee_df )</span></pre><p id="ea61" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">图4显示了25-35岁之间的员工，与其他年龄组相比，显示了较高的休假比率。在21岁以下，可以看到很高的离职率，表明年轻的专业人士更有可能离开公司🤭。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/dcab1e3df858b004946149d2ab9be25b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*k9M6UWvTGyK-_D_XbXu4AQ.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图4员工休假计数图与年龄</p></figure><p id="eb6e" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">第二，对于<em class="mt">‘job role’</em>，计数情节为:</p><pre class="kj kk kl km gt mi mj mk ml aw mm bi"><span id="3d78" class="mn mo it mj b gy mp mq l mr ms">sns.countplot(x = ‘JobRole’, hue = ‘Attrition’, data = employee_df)</span></pre><p id="07a0" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">图5显示<strong class="kx iu"> <em class="mt">【销售主管】</em>【销售代表】<em class="mt">【实验室技术员】</em>相比其他角色</strong>更有可能离职。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/76ac31de3bd4b83c3fa5bda77e657ff7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*QhURRX_d0MOYYa7RXNQUjg.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图5员工休假曲线图与<em class="mv">工作职责</em></p></figure><p id="3ce8" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">第三，让我们用KDE(核密度估计)来分析数值变量的概率密度函数。</p><blockquote class="mw mx my"><p id="a533" class="kv kw mt kx b ky kz ju la lb lc jx ld mz lf lg lh na lj lk ll nb ln lo lp lq im bi translated">KDE采用带宽和核函数，通过加权每个样本附近的距离来近似人口的真实分布。附近的数据点越多，估计值就越高，表示看到一个点的概率。带宽决定了最终曲线的“平滑”程度。较低的带宽意味着只有靠近当前位置的点被赋予权重。解释的够多了，如果想要更多的介绍，试试这个<a class="ae ku" href="https://mathisonian.github.io/kde/" rel="noopener ugc nofollow" target="_blank">链接</a>。我们来看看如何实现。</p></blockquote><p id="2202" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">对于变量<em class="mt">‘距离原点’</em>，</p><pre class="kj kk kl km gt mi mj mk ml aw mm bi"><span id="e7ae" class="mn mo it mj b gy mp mq l mr ms">sns.kdeplot(left_df[‘DistanceFromHome’], label = ‘Employee left’, shade = True, color = ‘r’, )<br/>sns.kdeplot(stayed_df[‘DistanceFromHome’], label = ‘Employee stay’, shade = True, color = ‘b’)</span></pre><p id="1859" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">如图6所示，<strong class="kx iu">当离家的距离大于10公里时，更多的员工倾向于离开</strong>🆒🆒。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/66fbf4fd754b717d4a283922d3b2468c.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*G9wIIPDaLtHbd2Nd35WnIA.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图6 KDE距离图</p></figure><p id="6182" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">对于变量<em class="mt">【任职年限】</em>，<strong class="kx iu">更多的员工倾向于在任职不到2年的情况下离开，现任经理</strong>，<strong class="kx iu">倾向于在任职超过5年的情况下留在🧨🧨</strong>，如图7所示</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/7275abe6b45de5ced70bc541e5c6efa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*rpu06v3X3a_LvS2vWrwi7g.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图7使用CurrManager 的<em class="mv">年KDE曲线图</em></p></figure><p id="cbb1" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">对于变量<em class="mt">‘总工作年数’</em>，<strong class="kx iu">更多的员工倾向于在工作不到7年时离开</strong> ️📣如图8所示</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/3df60ccb28ccd4b935a2e738ec5125fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*8E9o4Bjxj1kZmbW1X0SpkQ.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图8<em class="mv">总工作年限</em>的KDE曲线图</p></figure><p id="8c8d" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在，让我们用<strong class="kx iu">箱线图</strong>来形象化地比较<em class="mt">【每月收入】</em>在<em class="mt">【性别】</em>之间的分布。如图9所示，<strong class="kx iu">女性和男性月收入显示出相似的可变性，具有相似的中位数、75%和25%四分位值</strong>👏👏如图9所示</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/cd6126c2d654feaf6c4364af893e18ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*jEmpxJ3N1BG3rqgzKAo5hA.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图9<em class="mv">月收入btw性别</em>箱线图</p></figure><p id="6ba8" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">最后，让我们看看不同的<em class="mt">【工作角色】</em>收入分配。图10显示了不同角色的月收入分布和可变性。<strong class="kx iu">有趣的是，我们发现“<em class="mt">销售代表</em>”的分布很紧凑，收入普遍低于其他职位</strong>🙀。这可以解释为什么<em class="mt">【销售代表】</em>倾向于离开更多，如图5所示</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/f33992b02a47d8d2090d99dd58803ff3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*VXVynTy0eGHF7avE8N-toA.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图10<em class="mv">月收入btw岗位职责</em>箱线图</p></figure><p id="aefe" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu"> 6。外卖</strong></p><ul class=""><li id="d3fe" class="nh ni it kx b ky kz lb lc le nj li nk lm nl lq nm nn no np bi translated">数据质量检查告诉我们，我们的数据集非常干净，没有丢失值。</li><li id="608f" class="nh ni it kx b ky nq lb nr le ns li nt lm nu lq nm nn no np bi translated">独立变量相关性分析表明，相当多的特征似乎彼此相关性很差。</li><li id="6f02" class="nh ni it kx b ky nq lb nr le ns li nt lm nu lq nm nn no np bi translated">自变量和响应变量之间有趣的模式显示了员工可能离职的一些线索。</li></ul><p id="230c" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">希望这能对如何更好地理解你的员工或同事的离职决定有所启发。</p><p id="733c" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu">太好了！这趟旅程的终点。在下一篇文章中，我们将关注真正有趣的部分:建模。在那里见💕💕</strong></p></div></div>    
</body>
</html>