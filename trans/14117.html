<html>
<head>
<title>Pivot Points calculation in Python for day trading</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中用于日交易的支点计算</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pivot-points-calculation-in-python-for-day-trading-659c1e92d323?source=collection_archive---------9-----------------------#2020-09-29">https://towardsdatascience.com/pivot-points-calculation-in-python-for-day-trading-659c1e92d323?source=collection_archive---------9-----------------------#2020-09-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f173" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们看看如何用Python计算日交易的中枢点</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2fffc6c2c8a528f63c56d09dde7b7623.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tmD0hyyTxbrP1Se1"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">脸书股票价格在15分钟时间框架内与经典支点。图片由作者提供，使用Tradingview制作</p></figure><p id="c0f8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">日内交易和摆动交易有很大的不同。这更加困难，需要一些特殊的工具来盈利。支点是日内交易者可以使用的一些工具。</p><p id="02d1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这篇文章中，我解释了它们是如何工作的。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="2962" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">什么是支点？</h1><p id="2ae2" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">支点是日内交易中经常使用的价格水平(但它们甚至可以用在摇摆交易中)。它们被认为是每日市场交易中价格的“天然”支撑和阻力，所以它们对日内交易者非常有用，因为当市场接近它们时，市场经常以一种不平凡的方式表现。</p><p id="1274" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">枢轴点有几种类型，但经典枢轴点通常是从最后一天的最高价、最低价和收盘价开始定义的。将一些数学计算应用到前一个交易日的价格，交易者可以计算出当前交易日的中枢水平，并使用它们。在本文中，我将重点关注经典支点。</p><h1 id="c657" class="mb mc it bd md me my mg mh mi mz mk ml jz na ka mn kc nb kd mp kf nc kg mr ms bi translated">它们是如何使用的？</h1><p id="6aa6" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">经典枢轴点通常定义主枢轴级别。主要观点是，如果价格高于中枢水平，市场看涨。如果价格低于主要支点水平，市场是熊市。</p><p id="cc8b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">主要的枢轴点之后通常是一些支撑位和阻力位，它们是日内市场的自然关键点。</p><p id="f269" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下图显示了15分钟时间框架内的脸书股票价格。水平线是支点支撑(S1，S2，S3)和阻力(R1，R2，R3)，而绿色水平线是支点水平(P)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2fffc6c2c8a528f63c56d09dde7b7623.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tmD0hyyTxbrP1Se1"/></div></div></figure><p id="2157" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如你所看到的，市场似乎经常拒绝这些价位，就像它们是真正的支撑和阻力一样。甚至枢轴级别本身也是如此。所以，很容易理解这种水平在日内交易中的重要性。</p><p id="d25c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">日内交易者可以在价格接近中枢水平时寻找交易机会，等待回调或突破，并将最近的中枢水平作为目标。</p><h1 id="8285" class="mb mc it bd md me my mg mh mi mz mk ml jz na ka mn kc nb kd mp kf nc kg mr ms bi translated">如何计算它们</h1><p id="80af" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">传统的支点级别是根据以下公式计算的，这些公式取自Tradingview知识库(<a class="ae nd" href="https://www.tradingview.com/support/solutions/43000521824-pivot-points-standard/" rel="noopener ugc nofollow" target="_blank">https://www . trading view . com/support/solutions/43000521824-pivot-points-standard/</a>)，应用于前一天的最高价、最低价和收盘价:</p><ul class=""><li id="d30f" class="ne nf it la b lb lc le lf lh ng ll nh lp ni lt nj nk nl nm bi translated">PP =(高+低+收盘)/ 3</li><li id="44c5" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">R1 = 2 * PP -低</li><li id="1c16" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">S1 = 2 * PP -高</li><li id="6f85" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">R2 = PP +(高-低)</li><li id="101f" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">S2 = PP -(高-低)</li><li id="98e7" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">R3 = PP + 2 *(高-低)</li><li id="fcb2" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated">S3 = PP - 2 *(高-低)</li></ul><p id="107f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">PP是主要支点级别。S1、S2和S3是支撑位。R1、R2和R3是阻力位。</p><h1 id="776d" class="mb mc it bd md me my mg mh mi mz mk ml jz na ka mn kc nb kd mp kf nc kg mr ms bi translated">Python中的计算</h1><p id="98a6" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">让我们看看如何在Python中计算这些级别。对于这个例子，我将关注脸书股票数据。整个笔记本可以在这里找到:<a class="ae nd" href="https://github.com/gianlucamalato/machinelearning/blob/master/Calculation_of_daily_pivot_levels.ipynb" rel="noopener ugc nofollow" target="_blank">https://github . com/gianlucamalato/machine learning/blob/master/Calculation _ of _ daily _ pivot _ levels . ipynb</a></p><p id="1175" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我们必须使用<em class="ns"> yfinance </em>库获取股票数据。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="47c6" class="ny mc it nu b gy nz oa l ob oc">!pip install yfinance</span></pre><p id="5513" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，我们可以导入我们需要的库。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="1618" class="ny mc it nu b gy nz oa l ob oc">import numpy as np<br/>import pandas as pd<br/>import yfinance</span></pre><p id="f10c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们现在可以将脸书的数据导入熊猫的数据框架。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="3a17" class="ny mc it nu b gy nz oa l ob oc">ticker = yfinance.Ticker("FB")<br/>df = ticker.history(interval="1d")</span></pre><p id="f153" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个数据框架的最后一个记录是最后一个交易日。我们将使用它的价格水平来计算我们今天可以使用的中枢水平。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="f553" class="ny mc it nu b gy nz oa l ob oc">last_day = df.tail(1).copy()</span></pre><p id="15d5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，根据枢纽公式，我们可以计算水平。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="5c20" class="ny mc it nu b gy nz oa l ob oc">last_day['Pivot'] = (last_day['High'] + last_day['Low'] + last_day['Close'])/3</span><span id="c5c5" class="ny mc it nu b gy od oa l ob oc">last_day['R1'] = 2*last_day['Pivot'] - last_day['Low']</span><span id="53e5" class="ny mc it nu b gy od oa l ob oc">last_day['S1'] = 2*last_day['Pivot'] - last_day['High']</span><span id="5321" class="ny mc it nu b gy od oa l ob oc">last_day['R2'] = last_day['Pivot'] + (last_day['High'] - last_day['Low'])</span><span id="4d2b" class="ny mc it nu b gy od oa l ob oc">last_day['S2'] = last_day['Pivot'] - (last_day['High'] - last_day['Low'])</span><span id="db34" class="ny mc it nu b gy od oa l ob oc">last_day['R3'] = last_day['Pivot'] + 2*(last_day['High'] - last_day['Low'])</span><span id="cac4" class="ny mc it nu b gy od oa l ob oc">last_day['S3'] = last_day['Pivot'] - 2*(last_day['High'] - last_day['Low'])</span></pre><p id="5c8b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">结果是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/f4c96e97a57999c0946d6f36acadae45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zdsN__Lu_TFXjKK7uij6Dg.png"/></div></div></figure><h1 id="dade" class="mb mc it bd md me my mg mh mi mz mk ml jz na ka mn kc nb kd mp kf nc kg mr ms bi translated">结论</h1><p id="2bde" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">枢轴点在日内交易中非常常用，并且在Python中很容易计算。这只需要一个单一的市场日数据，所以他们不需要太多的历史记录。日内交易者应该根据这些水平(或其他类型的中枢水平，如斐波那契线，Woodie线，Camarilla线)和策略类型(如突破或回调)制定交易策略。</p></div></div>    
</body>
</html>