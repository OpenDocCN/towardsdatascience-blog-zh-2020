<html>
<head>
<title>Run Python Code on Websites: Exploring Brython</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在网站上运行Python代码:探索Brython</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/run-python-code-on-websites-exploring-brython-83c43fb7ac5f?source=collection_archive---------2-----------------------#2020-11-15">https://towardsdatascience.com/run-python-code-on-websites-exploring-brython-83c43fb7ac5f?source=collection_archive---------2-----------------------#2020-11-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="904e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Python中的JavaScript等效脚本</h2></div><p id="2333" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为Python的长期追随者，我从未停止对这种语言的探索，每天都在寻找它的实现。在一个晴朗的日子里，我了解了旨在取代Javascript的web脚本的Brython。它允许你在网页上直接使用Python脚本来处理DOM(文档对象模型)元素和事件，全部使用我们最喜欢的语言Python。让我们深入了解如何为你的下一个项目实现这样的脚本，以及我是如何使用这项技术赢得比赛(第二名)的！</p><p id="5b30" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在此之前，如果你想探索Python的android方面，那么一定要看看我在Medium上的Python系列中的Android应用程序。</p><div class="lc ld gp gr le lf"><a rel="noopener follow" target="_blank" href="/building-android-apps-with-python-part-1-603820bebde8"><div class="lg ab fo"><div class="lh ab li cl cj lj"><h2 class="bd ir gy z fp lk fr fs ll fu fw ip bi translated">用Python构建Android应用程序:第1部分</h2><div class="lm l"><h3 class="bd b gy z fp lk fr fs ll fu fw dk translated">使用Python构建Android应用程序的分步指南</h3></div><div class="ln l"><p class="bd b dl z fp lk fr fs ll fu fw dk translated">towardsdatascience.com</p></div></div><div class="lo l"><div class="lp l lq lr ls lo lt lu lf"/></div></div></a></div><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi lv"><img src="../Images/64bbde788be62f08780ddd70a774a646.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WPX-e528msQc9qdI"/></div></div><p class="mg mh gj gh gi mi mj bd b be z dk translated">由<a class="ae lb" href="https://unsplash.com/@lucabravo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卢卡·布拉沃</a>在<a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="e78d" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">什么是Brython？</h1><p id="702f" class="pw-post-body-paragraph kf kg iq kh b ki nc jr kk kl nd ju kn ko ne kq kr ks nf ku kv kw ng ky kz la ij bi translated">Javascript被认为是支持网页交互性的网络语言。没有人想浏览可以用HTML和一点CSS构建的静态页面。Brython提供了一种使用Python与网页元素进行交互的直观方式。在过去，python也在使用Django/Flask的后端脚本中得到应用，允许用户快速开发可扩展的网站。而Bython也专注于在客户端应用这一点。从Brython开始，您有两种选择:</p><p id="f0ae" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您在本地下载Brython包，然后将它包含在您的文件中。这可以使用pip来完成:</p><pre class="lw lx ly lz gt nh ni nj nk aw nl bi"><span id="7fdb" class="nm ml iq ni b gy nn no l np nq">pip install brython</span></pre><p id="cd31" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在一个空文件夹中，</p><pre class="lw lx ly lz gt nh ni nj nk aw nl bi"><span id="37a8" class="nm ml iq ni b gy nn no l np nq">brython-cli --install</span></pre><p id="fc55" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者，</p><p id="0d32" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">直接使用Brython CDN，它会在新的更新发布后立即更新，让您不必手动更新软件包。</p><pre class="lw lx ly lz gt nh ni nj nk aw nl bi"><span id="dfdd" class="nm ml iq ni b gy nn no l np nq">&lt;script src="https://cdn.jsdelivr.net/npm/brython@3.8.10/brython.min.js"&gt; &lt;/script&gt; &lt;script src="https://cdn.jsdelivr.net/npm/brython@3.8.10/brython_stdlib.js"&gt; &lt;/script&gt;</span></pre><h1 id="18d3" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">使用Brython做一些基本的事情</h1><p id="6293" class="pw-post-body-paragraph kf kg iq kh b ki nc jr kk kl nd ju kn ko ne kq kr ks nf ku kv kw ng ky kz la ij bi translated">让我们复习一些基础知识，开始开发一些很酷的项目。请注意，这要求您对DOM有一个基本的了解，熟悉基本的Javascript将是一个加分项，尽管不是必需的。在您的IDE中，填充一个基本的HTML代码，放置一个输入字段和一个带有id的span标记。另外，使用script标记添加Brython CDN。它可能应该是这样的:</p><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="nr ns l"/></div><p class="mg mh gj gh gi mi mj bd b be z dk translated">作者代码</p></figure><p id="5b53" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，使用Python脚本将这个输入事件绑定到span标记。为此，我们将使用浏览器中的文档。任何类型的脚本都将封装在text/python类型的脚本标签中，这也可以在body标签下定义。需要做的另一个更改是在body标记()中包含onload="brython()"。这是一个脚本，它将使我们能够实时显示文本:</p><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="nr ns l"/></div><p class="mg mh gj gh gi mi mj bd b be z dk translated">作者代码</p></figure><p id="2a0c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里，我们使用了浏览器模块中的文档对象将输入(文本)的id绑定到函数show_text()。这个函数使用它们的id将输入标记的值分配给span标记。这里有一个GIF来展示这个HTML页面在加载浏览器时做了什么:</p><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/94a0c732b673afe2dc4ec3b8bcafb8ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/1*fnvrnd-3BRHq_cqO02vzVA.gif"/></div><p class="mg mh gj gh gi mi mj bd b be z dk translated">作者GIF</p></figure><h1 id="9152" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">再举个例子！</h1><p id="4ab6" class="pw-post-body-paragraph kf kg iq kh b ki nc jr kk kl nd ju kn ko ne kq kr ks nf ku kv kw ng ky kz la ij bi translated">让我们看另一个例子，看看如何使用Brython进行API调用，这是最令人兴奋的部分。考虑一个场景，您希望主持一个基于web的机器学习项目。您创建了一个模型，现在将它作为API在任何云平台上使用，比如Heroku、GCP或AWS。作为一名python开发人员，您可能不太熟悉web开发，并且发现很难处理网站的延迟响应或缓慢加载。你可以使用GitHub页面轻松托管你的网站，但它不支持flask或Django框架(目前)。</p><p id="f4a1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了处理这种情况，您可以轻松地创建一个基本的HTML网页(或者使用一点CSS从bootstrap获得帮助)，要求用户输入所需的参数，然后您的Brython脚本向您的模型主机发出请求，您在网页上显示结果。这将有利于网站托管在GitHub上，使管理代码库更容易，而且它将一直运行。让我们来看一下创建一个API调用来返回一个随机笑话的脚本:</p><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="nr ns l"/></div><p class="mg mh gj gh gi mi mj bd b be z dk translated">作者代码</p></figure><p id="b3a2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，查看该文件的输出:</p><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/d059b269e6a830e0ab7a4ebb068ceef5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/1*ucxGKD8tm2ODCdYFm7f8Zw.gif"/></div><p class="mg mh gj gh gi mi mj bd b be z dk translated">作者GIF</p></figure><p id="6d9c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里，get joke按钮被绑定到API调用函数，该函数对服务器进行AJAX调用，返回结果，然后呈现给显示标签。</p><h1 id="28ca" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">获胜的剧本</h1><p id="6bfb" class="pw-post-body-paragraph kf kg iq kh b ki nc jr kk kl nd ju kn ko ne kq kr ks nf ku kv kw ng ky kz la ij bi translated">我得到的问题陈述是从给定的API中获取歌词，并在网络上显示出来。它需要音乐艺术家作者和我们想要歌词的标题/歌曲名。下面是同样的GIF:</p><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi nv"><img src="../Images/ccb3520d05f0748bc0f4f31d346eaa5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*caWrnL72k6k0Q_42fIsIQg.gif"/></div></div><p class="mg mh gj gh gi mi mj bd b be z dk translated">作者GIF</p></figure><p id="a2ed" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你想探究这个的源代码，那么这里有<a class="ae lb" href="https://github.com/kaustubhgupta/IEEEMAITSongs" rel="noopener ugc nofollow" target="_blank"> GitHub库链接</a>。</p><h1 id="7e35" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">结论</h1><p id="7b69" class="pw-post-body-paragraph kf kg iq kh b ki nc jr kk kl nd ju kn ko ne kq kr ks nf ku kv kw ng ky kz la ij bi translated">我们看到了如何使用Brython将基于python的脚本直接实现到网页中。毫无疑问，就速度、可用性、代码的可维护性和理解性而言，目前Javascript是不可替代的。这些python脚本需要熟悉DOM，而只有使用JS才能更好地练习和理解DOM。这最适合那些希望在web上展示其后端和前端python技能的人。很多人都用Pygame和海龟库做过游戏、图形。你可以在谷歌上了解更多。</p><p id="e4a0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这就是我的观点，在medium上关注我可以收到更多类似这些有趣文章的通知。说完了，合十礼！</p><h2 id="20b9" class="nm ml iq bd mm nw nx dn mq ny nz dp mu ko oa ob mw ks oc od my kw oe of na og bi translated"><strong class="ak">更新:Brython的高级使用案例— </strong></h2><div class="lc ld gp gr le lf"><a href="https://www.analyticsvidhya.com/blog/2021/07/python-on-frontend-ml-models-web-interface-with-brython/" rel="noopener  ugc nofollow" target="_blank"><div class="lg ab fo"><div class="lh ab li cl cj lj"><h2 class="bd ir gy z fp lk fr fs ll fu fw ip bi translated">Python在前端:使用Brython的ML模型Web界面</h2><div class="lm l"><h3 class="bd b gy z fp lk fr fs ll fu fw dk translated">本文作为数据科学博客简介的一部分发表，机器学习是一个迷人的领域…</h3></div><div class="ln l"><p class="bd b dl z fp lk fr fs ll fu fw dk translated">www.analyticsvidhya.com</p></div></div><div class="lo l"><div class="oh l lq lr ls lo lt lu lf"/></div></div></a></div><p id="18c5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一些链接:</p><div class="lc ld gp gr le lf"><a rel="noopener follow" target="_blank" href="/github-action-that-automates-portfolio-generation-bc15835862dc"><div class="lg ab fo"><div class="lh ab li cl cj lj"><h2 class="bd ir gy z fp lk fr fs ll fu fw ip bi translated">自动化项目组合生成的GitHub动作</h2><div class="lm l"><h3 class="bd b gy z fp lk fr fs ll fu fw dk translated">使用Python和基本前端的Dockerized GitHub动作。</h3></div><div class="ln l"><p class="bd b dl z fp lk fr fs ll fu fw dk translated">towardsdatascience.com</p></div></div><div class="lo l"><div class="oi l lq lr ls lo lt lu lf"/></div></div></a></div><div class="lc ld gp gr le lf"><a rel="noopener follow" target="_blank" href="/is-family-group-that-bad-results-will-shock-you-573f64e194be"><div class="lg ab fo"><div class="lh ab li cl cj lj"><h2 class="bd ir gy z fp lk fr fs ll fu fw ip bi translated">家庭团体有那么糟糕吗？结果会让你震惊</h2><div class="lm l"><h3 class="bd b gy z fp lk fr fs ll fu fw dk translated">分析WhatsApp群聊&amp;构建网络应用</h3></div><div class="ln l"><p class="bd b dl z fp lk fr fs ll fu fw dk translated">towardsdatascience.com</p></div></div><div class="lo l"><div class="oj l lq lr ls lo lt lu lf"/></div></div></a></div><div class="lc ld gp gr le lf"><a href="https://www.linkedin.com/in/kaustubh-gupta-612767ab/" rel="noopener  ugc nofollow" target="_blank"><div class="lg ab fo"><div class="lh ab li cl cj lj"><h2 class="bd ir gy z fp lk fr fs ll fu fw ip bi translated">Kaustubh Gupta -机器学习作家- upGrad | LinkedIn</h2><div class="lm l"><h3 class="bd b gy z fp lk fr fs ll fu fw dk translated">嗨，我是一名Python开发人员，能够进行Web抓取、Selenium自动化、数据科学、后端Web开发…</h3></div><div class="ln l"><p class="bd b dl z fp lk fr fs ll fu fw dk translated">www.linkedin.com</p></div></div><div class="lo l"><div class="ok l lq lr ls lo lt lu lf"/></div></div></a></div></div></div>    
</body>
</html>