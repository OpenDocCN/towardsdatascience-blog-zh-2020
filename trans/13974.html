<html>
<head>
<title>Develop and sell a Machine Learning app — from start to end tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开发和销售机器学习应用程序—从头到尾教程</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/develop-and-sell-a-machine-learning-app-from-start-to-end-tutorial-ed5b5a2b6b2b?source=collection_archive---------2-----------------------#2020-09-26">https://towardsdatascience.com/develop-and-sell-a-machine-learning-app-from-start-to-end-tutorial-ed5b5a2b6b2b?source=collection_archive---------2-----------------------#2020-09-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="7e4a" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/getting-started" rel="noopener" target="_blank">入门</a></h2><div class=""/><figure class="gl gn ka kb kc kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi jz"><img src="../Images/ce803f3d897f9869e577080fd4d15a30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mJ4MgOntf6Ll0qiT"/></div></div><p class="kk kl gj gh gi km kn bd b be z dk translated"><em class="ko">摄影丹尼尔·科尔派</em><a class="ae kp" href="https://unsplash.com/photos/HyTwtsk8XqA" rel="noopener ugc nofollow" target="_blank">T5】https://unsplash.com/photos/HyTwtsk8XqA</a></p></figure><h1 id="27d9" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">新冠肺炎预测端到端app</h1><p id="fc83" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在开发和销售Python API之后，我现在想用机器学习解决方案来扩展这个想法。所以我决定快速编写一个新冠肺炎预测算法，部署它，并使它可以销售。如果你想知道我是如何做到的，可以查看帖子里的一步一步的教程。</p><h1 id="a5d5" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">目录</h1><ul class=""><li id="1fa7" class="mm mn it lq b lr ls lv lw lz mo md mp mh mq ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#about-this-article" rel="noopener ugc nofollow" target="_blank"> <em class="mv">关于本文</em> </a></li><li id="ddc8" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#disclaimer" rel="noopener ugc nofollow" target="_blank"> <em class="mv">免责声明</em> </a></li><li id="1e06" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#stack-used" rel="noopener ugc nofollow" target="_blank"> <em class="mv">堆栈使用</em> </a></li><li id="70e2" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#1-create-project-formalities" rel="noopener ugc nofollow" target="_blank"> <em class="mv"> 1。创建项目手续</em> </a></li><li id="49fd" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#2-develop-a-solution-for-a-problem" rel="noopener ugc nofollow" target="_blank">2<em class="mv">2。为一个问题制定一个解决方案</em></a></li><li id="0ace" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#install-packages-and-track-jupyter-files-properly" rel="noopener ugc nofollow" target="_blank"> <em class="mv">安装包并正确跟踪jupyter文件</em> </a></li><li id="9b83" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#develop-solution-to-problem" rel="noopener ugc nofollow" target="_blank"> <em class="mv">制定解决问题的方案</em> </a></li><li id="45d5" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#build-server-to-execute-function-with-rest" rel="noopener ugc nofollow" target="_blank"> <em class="mv">构建服务器执行REST功能</em> </a></li><li id="9134" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#bonus-make-reproducible-with-docker" rel="noopener ugc nofollow" target="_blank"> <em class="mv">加成:用</em> </a>使可复制</li><li id="e09d" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#3-deploy-to-aws" rel="noopener ugc nofollow" target="_blank">3<em class="mv">。部署到AWS </em> </a></li><li id="1131" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#set-up-zappa" rel="noopener ugc nofollow" target="_blank"> <em class="mv">设置扎帕</em> </a></li><li id="8096" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#set-up-aws" rel="noopener ugc nofollow" target="_blank"> <em class="mv">设置AWS </em> </a></li><li id="3d5b" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#4-set-up-rapidapi" rel="noopener ugc nofollow" target="_blank"> <em class="mv"> 4。设置Rapidapi </em>和</a></li><li id="ee44" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#end-result" rel="noopener ugc nofollow" target="_blank"> <em class="mv">最终结果</em> </a></li><li id="80fa" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#inspiration" rel="noopener ugc nofollow" target="_blank"> <em class="mv">灵感</em> </a></li><li id="9808" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#final-links" rel="noopener ugc nofollow" target="_blank"> <em class="mv">最终链接</em> </a></li><li id="11f7" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#about" rel="noopener ugc nofollow" target="_blank"> <em class="mv">关于</em> </a></li></ul><h1 id="ae54" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">关于这篇文章</h1><p id="ddca" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在本文中，我从我的上一篇文章<a class="ae kp" rel="noopener" target="_blank" href="/develop-and-sell-a-python-api-from-start-to-end-tutorial-9a038e433966">“如何从头到尾销售一个Python API”</a>中汲取了一些思想，并构建了一个机器学习应用程序。如果这里描述的步骤太粗糙，可以考虑先看看我以前的文章。</p><p id="cff0" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">本项目涉及许多新的、更复杂的问题:</p><ol class=""><li id="95c5" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml nj ms mt mu bi translated">机器学习内容。该应用程序采取构建机器学习模型的基本步骤。这包括准备，也包括预测。</li><li id="e82e" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">在预测的时间评估(不是时间训练)中。这意味着数据集是新获取的，并且对最新数据执行预测。</li><li id="a0be" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">部署。部署机器学习应用程序面临各种挑战。在本文中，我们遇到并解决了在AWS上外包训练模型的问题。</li><li id="0a31" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">它不仅是一个API，而且还有一个小前端。</li></ol><p id="de3c" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">它从头到尾描绘了一幅开发Python API的图画，并在更困难的领域提供了帮助，比如AWS Lambda的设置。</p><p id="2a4f" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">有各种各样的困难，这让我对部署和构建过程有了更多的了解。这也是一个很好的方式来建立副业项目，甚至可能赚一些钱。</p><p id="abed" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">如目录所示，它由4个主要部分组成，即:</p><ol class=""><li id="4899" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml nj ms mt mu bi translated">设置环境</li><li id="440b" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">使用Python创建问题解决方案</li><li id="2478" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">设置AWS</li><li id="b386" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">设置Rapidapi</li></ol><p id="ff4c" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">你会发现我所有的代码都在Github上打开:</p><ul class=""><li id="90ef" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/ml_api_covid" rel="noopener ugc nofollow" target="_blank">https://github.com/Createdd/ml_api_covid</a></li></ul><p id="75c5" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">您将在Rapidapi上找到最终结果:</p><ul class=""><li id="3bee" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated"><a class="ae kp" href="https://rapidapi.com/Createdd/api/covid_new_cases_prediction" rel="noopener ugc nofollow" target="_blank">https://rapidapi . com/Createdd/API/covid _ new _ cases _ prediction</a></li></ul><h1 id="1daa" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">放弃</h1><p id="b761" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我与本文中使用的任何服务都没有关联。</p><p id="8369" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我不认为自己是专家。如果你觉得我错过了重要的步骤或者忽略了什么，可以考虑在评论区指出来或者联系我。此外，始终确保监控您的AWS成本，不要为您不知道的事情付费。</p><p id="67b8" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我总是乐于听取建设性的意见以及如何改进。</p><p id="2cfd" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">有许多事情需要改进和发展。比如机器学习部分，付出的努力非常低。准备工作非常粗糙，缺少许多步骤。从我的专业工作来看，我知道这个事实。然而，我无法在一篇文章中涵盖所有细节。尽管如此，我还是很想在评论中听到你们的改进建议。:)</p><p id="4d2a" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">如果你需要更多关于某些部分的信息，请在评论中指出来。</p><h1 id="4e01" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">关于术语“教程”</h1><p id="a604" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我认为这是一个循序渐进的教程。然而，由于我作为一名开发人员已经工作了很长时间，我假设对某些工具有所了解。这使得教程很可能是一个中级/高级应用程序。</p><p id="19b5" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我假定了解:</p><ul class=""><li id="5d46" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated">计算机编程语言</li><li id="62e0" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">饭桶</li><li id="1e80" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">Jupyter笔记本</li><li id="512f" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">终端/Shell/Unix命令</li></ul><h1 id="5b76" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">使用的堆栈</h1><p id="1070" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我们将使用</p><ul class=""><li id="703b" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated">Github(代码托管)，</li><li id="564a" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">依赖和环境管理，</li><li id="a8e7" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">Docker(可能在微服务中进一步使用)</li><li id="82f9" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">Jupyter笔记本(代码开发和文档)，</li><li id="2777" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">Python(编程语言)，</li><li id="0a3c" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">AWS，尤其是AWS Lambda和S3(用于部署)、</li><li id="2a35" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">Rapidapi(销售市场)</li></ul><h1 id="5625" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">1.创建项目手续</h1><p id="f790" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">它总是一样的，但却是必要的。我按照以下步骤来做:</p><ol class=""><li id="675e" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml nj ms mt mu bi translated">创建本地文件夹<code class="fe nk nl nm nn b">mkdir NAME</code></li><li id="e0d8" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">用<code class="fe nk nl nm nn b">NAME</code>在Github上创建一个新的存储库</li><li id="3a52" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">创造康达环境<code class="fe nk nl nm nn b">conda create --name NAME python=3.7</code></li><li id="5b9d" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">激活康达环境<code class="fe nk nl nm nn b">conda activate PATH_TO_ENVIRONMENT</code></li><li id="5db2" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">创建git回购<code class="fe nk nl nm nn b">git init</code></li><li id="c468" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">连接到Github repo。添加自述文件，提交并</li></ol><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="033a" class="nw kr it nn b gy nx ny l nz oa">git remote add origin URL_TO_GIT_REPO<br/>git push -u origin master</span></pre><h1 id="7f42" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">2.开发解决问题的方法</h1><ul class=""><li id="acdb" class="mm mn it lq b lr ls lv lw lz mo md mp mh mq ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#install-packages-and-track-jupyter-files-properly" rel="noopener ugc nofollow" target="_blank"> <em class="mv">安装包并正确跟踪jupyter文件</em> </a></li><li id="ee89" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#develop-solution-to-problem" rel="noopener ugc nofollow" target="_blank"> <em class="mv">制定解决问题的方案</em> </a></li><li id="b897" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#build-server-to-execute-function-with-rest" rel="noopener ugc nofollow" target="_blank"> <em class="mv">构建服务器执行REST功能</em> </a></li><li id="2091" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#bonus-make-reproducible-with-docker" rel="noopener ugc nofollow" target="_blank"> <em class="mv">加成:用Docker </em> </a>制作可复制</li></ul><p id="3bec" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">由于我们将开发一个机器学习解决方案，Jupyter笔记本将非常有用。</p><h1 id="3d3e" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">正确安装软件包和跟踪Jupyter文件</h1><p id="4186" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">安装jupyter笔记本和jupytext:</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="1556" class="nw kr it nn b gy nx ny l nz oa">pip install notebook jupytext</span></pre><p id="078a" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">在jupyter中注册新环境<code class="fe nk nl nm nn b">ipython kernel install --name NAME--user</code></p><p id="9eb4" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">在<code class="fe nk nl nm nn b">.git/hooks/pre-commit</code>中设置一个钩子，用于正确跟踪git中的笔记本变化:</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="e69d" class="nw kr it nn b gy nx ny l nz oa">touch .git/hooks/pre-commit<br/>code  .git/hooks/pre-commit</span></pre><p id="a913" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">把这个复制到文件里</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="4cf7" class="nw kr it nn b gy nx ny l nz oa">#!/bin/sh<br/># For every ipynb file in the git index, add a Python representation<br/>jupytext --from ipynb --to py:light --pre-commit</span></pre><p id="a6a0" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">之后让钩子可执行(在mac上)</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="8b9f" class="nw kr it nn b gy nx ny l nz oa">chmod +x .git/hooks/pre-commit</span></pre><h1 id="cc3f" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">找到解决问题的方法</h1><h1 id="51fe" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">目标</h1><p id="720e" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">目前，世界处于疫情，我想我使用了新冠肺炎案例的多个数据集之一。鉴于数据集的结构，我们希望预测一个国家每天的新增感染病例。</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="61dd" class="nw kr it nn b gy nx ny l nz oa">pip install -r requirements.txt</span></pre><p id="941a" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">这将安装我们需要的所有软件包。看看<code class="fe nk nl nm nn b">/development/predict_covid.ipynb</code>笔记本，看看都用什么库。</p><p id="a38c" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">最重要的是图书馆</p><ul class=""><li id="355b" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated">熊猫用于转换数据集和</li><li id="5a9d" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">用于机器学习的sklearn</li></ul><p id="e9dc" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">对于以下小标题，请查看Jupyter笔记本了解更多详情:</p><ul class=""><li id="2005" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/ml_api_covid/blob/master/development/predict_covid.ipynb" rel="noopener ugc nofollow" target="_blank">https://github . com/Createdd/ml _ API _ covid/blob/master/development/predict _ covid . ipynb</a></li></ul><figure class="no np nq nr gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi ob"><img src="../Images/8e323a9660f69596a67ac9f7728e27b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DnAvHzoRJUjW4H69.png"/></div></div><p class="kk kl gj gh gi km kn bd b be z dk translated"><a class="ae kp" href="https://github.com/Createdd/ml_api_covid/blob/master/development/predict_covid.ipynb" rel="noopener ugc nofollow" target="_blank">https://github . com/Createdd/ml _ API _ covid/blob/master/development/predict _ covid . ipynb</a></p></figure><h1 id="82e3" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">下载数据</h1><p id="e2b2" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我们将使用来自<a class="ae kp" href="https://ourworldindata.org/coronavirus-source-data" rel="noopener ugc nofollow" target="_blank">https://ourworldindata.org/coronavirus-source-data</a>的csv格式的数据集。</p><ul class=""><li id="bdb7" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated">数据的许可是<a class="ae kp" href="https://creativecommons.org/licenses/by/4.0/" rel="noopener ugc nofollow" target="_blank">归属4.0国际(CC BY 4.0) </a></li><li id="250d" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">源代码可在<a class="ae kp" href="https://github.com/owid/covid-19-data/tree/master/public/data" rel="noopener ugc nofollow" target="_blank"> Github </a>上获得</li></ul><h1 id="2e01" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">准备</h1><p id="150d" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">简而言之，我做到了:</p><ol class=""><li id="fa91" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml nj ms mt mu bi translated">检查丢失的数据</li><li id="88b6" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">删除丢失数据超过50%的列</li><li id="e1ad" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">删除剩余缺失内容的行，如洲或等编码。(对需要国家/地区的应用程序解决方案没有帮助)</li><li id="e3ec" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">用标签对分类数据进行编码</li><li id="99e0" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">用该列的平均值填写剩余的数字缺失数据</li><li id="560c" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">分为训练集和测试集</li></ol><h1 id="9962" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">创建分类器并预测</h1><ol class=""><li id="7237" class="mm mn it lq b lr ls lv lw lz mo md mp mh mq ml nj ms mt mu bi translated">创建随机森林回归变量</li><li id="0dd6" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">用数据训练它并评估</li><li id="b33f" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">使用RandomizedSearchCV执行超参数调整</li><li id="2fed" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">保存训练好的模型</li><li id="4e7c" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">通过提供国家名称来预测新病例</li></ol><h1 id="e273" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">构建一个服务器来执行REST的功能</h1><p id="de26" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">对于API功能，我们将使用Flask服务器(在<code class="fe nk nl nm nn b">app.py</code>中)</p><ul class=""><li id="e806" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/ml_api_covid/blob/master/app.py" rel="noopener ugc nofollow" target="_blank">https://github.com/Createdd/ml_api_covid/blob/master/app.py</a></li></ul><h1 id="7190" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">服务基本前端</h1><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="acee" class="nw kr it nn b gy nx ny l nz oa">@app.route('/')<br/>def home():<br/>    return render_template("home.html")</span></pre><p id="f8dd" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">它提供一个基本的HTML和CSS文件。</p><figure class="no np nq nr gt kd"><div class="bz fp l di"><div class="oc od l"/></div></figure><figure class="no np nq nr gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi jz"><img src="../Images/1b7cd24e0a833132963baf63a32ac2ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NVtRv3XdmkHFACwm.png"/></div></div><p class="kk kl gj gh gi km kn bd b be z dk translated">应用程序前端</p></figure><h1 id="a881" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">负荷预测</h1><p id="75bf" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这个有点复杂。</p><p id="3c3f" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">关键路线是这样的:</p><figure class="no np nq nr gt kd"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="cc4b" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">但是在我们返回预测结果之前，我们需要获得最新的数据并再次对其进行预处理。这已经结束了</p><figure class="no np nq nr gt kd"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="d796" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">为了机器学习的目的，<code class="fe nk nl nm nn b">Pre-process</code>再次转换下载的数据集，而<code class="fe nk nl nm nn b">get_prediction_params</code>获取输入值(要预测的国家)和最新数据集的URL。</p><p id="ca02" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">这些过程使最新数据的预测成为现实，但也减慢了应用程序的速度。</p><p id="a0ad" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">你可能想知道我们为什么做<code class="fe nk nl nm nn b">rf = load_model(BUCKET_NAME, MODEL_FILE_NAME, MODEL_LOCAL_PATH)</code>。这样做的原因是，当使用AWS Lambda执行所有操作时，我们需要从AWS S3存储桶中加载预训练模型以节省内存。向下滚动查看更多详细信息。</p><p id="1842" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">但是如果我们不想把它部署在云中，我们可以简单地做一些类似于<code class="fe nk nl nm nn b">joblib.load(PATH_TO_YOUR_EXPORTED_MODEL)</code>的事情。在<a class="ae kp" href="https://github.com/Createdd/ml_api_covid/blob/master/development/predict_covid.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>中，我们用<code class="fe nk nl nm nn b">joblib.dump</code>导出模型。<a class="ae kp" href="https://scikit-learn.org/stable/modules/model_persistence.html" rel="noopener ugc nofollow" target="_blank"> sklearn文档</a>中关于模型导出的更多信息</p><p id="785d" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">但这仅仅是高射炮服务器的功能。提供用于服务HTML模板的路径和用于预测的路径。相当简单！</p><p id="d7c6" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">正在运行</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="fb01" class="nw kr it nn b gy nx ny l nz oa">env FLASK_APP=app.py FLASK_ENV=development flask run</span></pre><p id="3d26" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">将启动服务器。</p><figure class="no np nq nr gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi oe"><img src="../Images/8f67b072e485457dbe5e582a065b35ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*QTz5c5l9j-0HPEzG_dRbdw.gif"/></div></div><p class="kk kl gj gh gi km kn bd b be z dk translated">工作应用</p></figure><h1 id="1918" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">好处:使Docker可复制</h1><p id="03a5" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">也许你想扩展应用程序，或者让其他人更容易地测试它。为此，我们可以创建一个Docker容器。我不会详细解释它是如何工作的，但如果你感兴趣，可以查看我的“灵感”部分的一个链接。</p><p id="f984" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">构建一个Docker容器并不是让这个应用程序工作的必要条件！</p><h1 id="6b56" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">创建Dockerfile文件</h1><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="3b28" class="nw kr it nn b gy nx ny l nz oa">FROM python:3.7</span><span id="4e9f" class="nw kr it nn b gy of ny l nz oa">ENV PYTHONDONTWRITEBYTECODE=1<br/>ENV PYTHONUNBUFFERED=1</span><span id="0da6" class="nw kr it nn b gy of ny l nz oa">ENV FLASK_APP=app.py<br/>ENV FLASK_ENV=development</span><span id="32ea" class="nw kr it nn b gy of ny l nz oa"># install system dependencies<br/>RUN apt-get update \<br/>    &amp;&amp; apt-get -y install gcc make \<br/>    &amp;&amp; rm -rf /var/lib/apt/lists/*s</span><span id="21f3" class="nw kr it nn b gy of ny l nz oa">RUN python3 --version<br/>RUN pip3 --version</span><span id="4bf9" class="nw kr it nn b gy of ny l nz oa">RUN pip install --no-cache-dir --upgrade pip</span><span id="cfb6" class="nw kr it nn b gy of ny l nz oa">WORKDIR /app</span><span id="5da5" class="nw kr it nn b gy of ny l nz oa">COPY ./requirements.txt /app/requirements.txt</span><span id="52e6" class="nw kr it nn b gy of ny l nz oa">RUN pip3 install --no-cache-dir -r requirements.txt</span><span id="7a6c" class="nw kr it nn b gy of ny l nz oa">COPY . .</span><span id="4598" class="nw kr it nn b gy of ny l nz oa">EXPOSE 8080</span><span id="d955" class="nw kr it nn b gy of ny l nz oa">CMD ["gunicorn", "--bind", "0.0.0.0:8080", "app:app"]</span></pre><p id="6c10" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">注意:最后一行用于启动Flask服务器</p><p id="7334" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">创建<code class="fe nk nl nm nn b">Dockerfile</code>运行后</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="3b32" class="nw kr it nn b gy nx ny l nz oa">docker build -t YOUR_APP_NAME .</span></pre><p id="ff0d" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">然后呢</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="64e0" class="nw kr it nn b gy nx ny l nz oa">docker run -d -p 80:8080 YOUR_APP_NAME</span></pre><p id="8097" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">之后，你会看到你的应用在<code class="fe nk nl nm nn b"><a class="ae kp" href="http://localhost/" rel="noopener ugc nofollow" target="_blank">http://localhost/</a></code>上运行</p><h1 id="5130" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">3.部署到AWS</h1><ul class=""><li id="abbc" class="mm mn it lq b lr ls lv lw lz mo md mp mh mq ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#set-up-zappa" rel="noopener ugc nofollow" target="_blank"> <em class="mv">设置zappa </em> </a></li><li id="1142" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#set-up-aws" rel="noopener ugc nofollow" target="_blank"> <em class="mv">设置AWS </em> </a></li><li id="40a7" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#aws-credentials" rel="noopener ugc nofollow" target="_blank"> <em class="mv"> AWS凭证</em> </a></li><li id="76e1" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#deploy" rel="noopener ugc nofollow" target="_blank"> <em class="mv">部署</em> </a></li><li id="01cd" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/Writing/blob/master/2020/articles/mlApiCovid.md#aws-api-gateway---restrict-access" rel="noopener ugc nofollow" target="_blank"> <em class="mv"> AWS API网关—限制访问</em> </a></li></ul><p id="f6c0" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">到目前为止，这是一条相当容易的道路。不要太复杂，也不要太花哨。现在我们开始部署，它变得有趣和具有挑战性。</p><p id="7d3b" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">同样，如果您对Zappa和AWS有任何问题，我强烈建议您查看我以前的文章<a class="ae kp" rel="noopener" target="_blank" href="/develop-and-sell-a-python-api-from-start-to-end-tutorial-9a038e433966">https://towardsdatascience . com/develop-and-sell-a-python-API-from-start-to-end-tutorial-9a 038 e 433966</a>。</p><p id="e01d" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">这里我不再赘述，而是指出痛点。</p><h1 id="5945" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">设置zappa</h1><p id="4a21" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在我们本地创建应用程序后，我们需要开始在一个真实的服务器上设置主机。我们将使用<a class="ae kp" href="https://github.com/Miserlou/Zappa" rel="noopener ugc nofollow" target="_blank"> zappa </a>。</p><blockquote class="og oh oi"><p id="97df" class="lo lp mv lq b lr nb lt lu lv nc lx ly oj nd mb mc ok ne mf mg ol nf mj mk ml im bi translated"><em class="it"> Zappa使得在AWS Lambda + API Gateway上构建和部署无服务器、事件驱动的Python应用程序(包括但不限于WSGI web apps)变得超级简单。可以把它想象成Python应用程序的“无服务器”网络托管。这意味着无限扩展、零停机、零维护，而成本只是您当前部署的一小部分！</em></p></blockquote><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="d7e3" class="nw kr it nn b gy nx ny l nz oa">pip install zappa</span></pre><p id="d28b" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">由于我们使用的是conda环境，我们需要指定它:</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="1eb7" class="nw kr it nn b gy nx ny l nz oa">which python</span></pre><p id="87cb" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">会给你<code class="fe nk nl nm nn b">/Users/XXX/opt/anaconda3/envs/XXXX/bin/python</code>(针对Mac)</p><p id="24c6" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">移除<code class="fe nk nl nm nn b">bin/python/</code>并导出</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="b7ea" class="nw kr it nn b gy nx ny l nz oa">export VIRTUAL_ENV=/Users/XXXX/opt/anaconda3/envs/XXXXX/</span></pre><p id="6a55" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">现在我们能做的</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="04de" class="nw kr it nn b gy nx ny l nz oa">zappa init</span></pre><p id="dcb3" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">来设置配置。</p><p id="c279" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">只要点击浏览所有内容，你就会有一个<code class="fe nk nl nm nn b">zappa_settings.json</code>的样子</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="a21c" class="nw kr it nn b gy nx ny l nz oa">{<br/>    "dev": {<br/>        "app_function": "app.app",<br/>        "aws_region": "eu-central-1",<br/>        "profile_name": "default",<br/>        "project_name": "ml-api-covid",<br/>        "runtime": "python3.7",<br/>        "s3_bucket": "zappa-eyy4wkd2l",<br/>        "slim_handler": true,<br/>        "exclude": [<br/>            "*.joblib", "development", "models"<br/>        ]<br/>    }<br/>}</span></pre><p id="5473" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">没错。不要为s3存储桶输入名称，因为找不到它。我真的不知道给你的s3桶命名有什么问题，但是从来没成功过。有多个错误语句，我无法解决这个问题。只要留下建议的那个，一切都很好。；)</p><p id="6ab7" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">请注意，我们还没有准备好部署。首先，我们需要获得一些AWS凭证。</p><h1 id="297d" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">设置AWS</h1><p id="5158" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">注意:这需要相当大的努力。不要因为AWS及其策略管理的复杂性而气馁。</p><h1 id="253a" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">AWS凭据</h1><p id="6442" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">首先，你需要得到一个AWS <code class="fe nk nl nm nn b">access key id</code>和<code class="fe nk nl nm nn b">access key</code></p><h2 id="ccd4" class="nw kr it bd ks om on dn kw oo op dp la lz oq or le md os ot li mh ou ov lm iz bi translated">使用IAM中的用户和角色设置凭据</h2><p id="048e" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我尽可能简单地分解它:</p><ol class=""><li id="3e8c" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml nj ms mt mu bi translated">在AWS控制台中，在搜索框中键入IAM。IAM是AWS用户和权限仪表板。</li><li id="2035" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">创建一个组</li><li id="cfa1" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">为您的群组命名(例如zappa_group)</li><li id="73b7" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">为您的小组创建我们自己的特定内联策略</li><li id="d939" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">在“权限”选项卡的“内联策略”部分下，选择链接以创建新的内联策略</li><li id="c24c" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">在设置权限屏幕中，单击自定义策略单选按钮，然后单击右侧的“选择”按钮。</li><li id="71b6" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">创建一个用json格式编写的定制策略</li><li id="bf60" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">通读并复制此处讨论的一项政策:<a class="ae kp" href="https://github.com/Miserlou/Zappa/issues/244" rel="noopener ugc nofollow" target="_blank">https://github.com/Miserlou/Zappa/issues/244</a></li><li id="d11f" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">向下滚动到“我的自定义策略”查看我的策略的片段。</li><li id="d086" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">使用您的AWS帐号粘贴和修改json后，单击“验证策略”按钮以确保您复制了有效的json。然后单击“应用策略”按钮，将内联策略附加到该组。</li><li id="c6bb" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">创建一个用户并将该用户添加到组中</li><li id="f966" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">回到IAM控制面板，使用“用户”左侧菜单选项和“添加用户”按钮创建一个新用户。</li><li id="40ff" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">在“添加用户”屏幕中，为新用户命名，并选择编程访问的访问类型。然后点击“下一步:权限”按钮。</li><li id="a903" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">在“设置权限”屏幕中，选择您之前在“将用户添加到组”部分创建的组，然后单击“下一步:标记”。</li><li id="41f8" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">标签是可选的。如果需要，添加标签，然后单击“下一步:查看”。</li><li id="8715" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">查看用户详细信息，然后单击“创建用户”</li><li id="7cf5" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">复制用户的密钥</li><li id="c9c4" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">先不要关闭AWS IAM窗口。在下一步中，您将把这些密钥复制并粘贴到一个文件中。此时，将这些密钥复制并保存到一个安全位置的文本文件中不失为一个好主意。确保不要在版本控制下保存密钥。</li></ol><p id="ff01" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我的自定义策略:</p><figure class="no np nq nr gt kd"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="959e" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">正如你在政策中看到的，我添加了S3的相关政策。这是因为我们想从S3下载我们的预训练模型。稍后会有更多信息。</p><h2 id="8d4a" class="nw kr it bd ks om on dn kw oo op dp la lz oq or le md os ot li mh ou ov lm iz bi translated">在项目中添加凭据</h2><p id="fa27" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在你的根目录下创建一个<code class="fe nk nl nm nn b">.aws/credentials</code>文件夹</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="0bda" class="nw kr it nn b gy nx ny l nz oa">mkdir ~/.aws<br/>code ~/.aws/credentials</span></pre><p id="5582" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">并从AWS粘贴您的凭据</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="9e5d" class="nw kr it nn b gy nx ny l nz oa">[dev]<br/>aws_access_key_id = YOUR_KEY<br/>aws_secret_access_key = YOUR_KEY</span></pre><p id="735b" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">与<code class="fe nk nl nm nn b">config</code>相同</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="a46d" class="nw kr it nn b gy nx ny l nz oa">code ~/.aws/config</span><span id="0ef9" class="nw kr it nn b gy of ny l nz oa"># and add:</span><span id="aae5" class="nw kr it nn b gy of ny l nz oa">[default]<br/>region = YOUR_REGION (eg. eu-central-1)</span></pre><p id="50a8" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">注意，<code class="fe nk nl nm nn b">code</code>是用我选择的编辑器vscode打开一个文件夹。</p><p id="4232" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">将分配给用户的AWS访问密钥id和秘密访问密钥保存在文件~/中。AWS/凭据。请注意。aws/ directory需要在您的主目录中，并且凭据文件没有文件扩展名。</p><h1 id="8400" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">部署</h1><p id="2fb1" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">现在，您可以使用</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="b10b" class="nw kr it nn b gy nx ny l nz oa">zappa deploy dev</span></pre><p id="4a15" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">但是，有一些事情需要考虑:</p><ol class=""><li id="86ec" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml nj ms mt mu bi translated">Zappa将打包您的整个环境和整个根内容。这个会很大。</li><li id="19ca" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">AWSλ有一个<a class="ae kp" href="https://docs.amazonaws.cn/en_us/lambda/latest/dg/gettingstarted-limits.html" rel="noopener ugc nofollow" target="_blank">上传限制</a></li></ol><h2 id="2479" class="nw kr it bd ks om on dn kw oo op dp la lz oq or le md os ot li mh ou ov lm iz bi translated">减小上传大小</h2><p id="8d9a" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">有几个关于如何用zappa减少上传大小的讨论。查看灵感部分的链接。</p><p id="2eeb" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">首先，我们需要为上传减少包的大小。</p><p id="22f6" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我们将把所有探索性的内容放入一个自己的文件夹中。我把它命名为“发展”。之后，您可以使用exclude在zappa_settings.json中指定排除的文件和文件夹:</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="dfc6" class="nw kr it nn b gy nx ny l nz oa">{<br/>    "dev": {<br/>        ...<br/>        "slim_handler": true,<br/>        "exclude": [<br/>            "*.ipynb", "*.joblib", "jupytext_conversion/", ".ipynb_checkpoints/",<br/>            "predict_covid.ipynb", "development", "models"<br/>        ]<br/>    }<br/>}</span></pre><p id="fb86" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">您可以添加部署时不需要打包的任何东西。</p><p id="5891" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">另一个问题是环境依赖性。在我们的例子中，我们有多个依赖项，这是部署所不需要的。为了解决这个问题，我创建了一个新的“requirements_prod.txt”文件。这应该只有AWS上需要的依赖项。</p><p id="57a7" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">请确保使用导出您当前的包</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="0532" class="nw kr it nn b gy nx ny l nz oa">pip freeze &gt; requirements.txt</span></pre><p id="fb19" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">之后，卸载所有软件包</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="a9cc" class="nw kr it nn b gy nx ny l nz oa">pip uninstall -r requirements.txt -y</span></pre><p id="7a92" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">安装用于部署的新包，并将它们保存在文件中</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="5f27" class="nw kr it nn b gy nx ny l nz oa">pip install Flask pandas boto3 sklearn zappa</span><span id="0eff" class="nw kr it nn b gy of ny l nz oa">pip freeze &gt; requirements_prod.txt</span></pre><p id="9316" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">当你点击<code class="fe nk nl nm nn b">zappa deploy dev</code>时，需要打包的尺寸应该会小很多。</p><p id="b696" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">你会注意到我还设置了<code class="fe nk nl nm nn b">slim_handler=true</code>。这允许我们上传超过50MB。在幕后，zappa已经将内容放入自己的S3桶中。阅读zappa文档了解更多信息。</p><h2 id="961a" class="nw kr it bd ks om on dn kw oo op dp la lz oq or le md os ot li mh ou ov lm iz bi translated">将模型装入S3存储桶</h2><p id="a930" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">因为我们从AWS Lambda上传中排除了我们的模型，所以我们需要从其他地方获取模型。我们将使用AWS S3铲斗。</p><p id="5b85" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">在开发过程中，我试图上传程序，但我只是手动上传，因为它现在更快了。(但您仍然可以尝试上传它——我在回购中仍有一个注释文件)</p><p id="49f8" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">去https://console.aws.amazon.com/s3/<a class="ae kp" href="https://console.aws.amazon.com/s3/" rel="noopener ugc nofollow" target="_blank"/></p><ol class=""><li id="3602" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml nj ms mt mu bi translated">"创建存储桶"</li><li id="07e4" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">给定一个名称，将rest作为缺省值。检查是否有足够的权限。</li><li id="b353" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">"创建存储桶"</li></ol><p id="68ce" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">检查您是否有足够的策略来与bucket和boto3交互。您应该有类似于</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="d72e" class="nw kr it nn b gy nx ny l nz oa">{<br/>      "Effect": "Allow",<br/>      "Action": [<br/>        "s3:CreateBucket",<br/>        "s3:ListBucket",<br/>        "s3:ListBucketMultipartUploads",<br/>        "s3:ListAllMyBuckets",<br/>        "s3:GetObject"<br/>      ],<br/>      "Resource": [<br/>        "arn:aws:s3:::zappa-*",<br/>        "arn:aws:s3:::*"<br/>      ]<br/>    }</span></pre><h2 id="e637" class="nw kr it bd ks om on dn kw oo op dp la lz oq or le md os ot li mh ou ov lm iz bi translated">调试和更新</h2><p id="8ea9" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">最后，不应该再有任何错误了。但是，如果还有一些，您可以使用以下命令进行调试:</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="bf24" class="nw kr it nn b gy nx ny l nz oa">zappa status</span><span id="97c5" class="nw kr it nn b gy of ny l nz oa"># and</span><span id="ca5b" class="nw kr it nn b gy of ny l nz oa">zappa tail</span></pre><p id="8a96" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">最常见的错误是与权限相关的(然后检查您的权限策略)或关于不兼容的python库。无论哪种方式，zappa都会为调试提供足够好的错误消息。根据我的经验，最常见的错误是:</p><ol class=""><li id="353f" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml nj ms mt mu bi translated">IAM用户的政策问题</li><li id="3811" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">Zappa和大小问题</li><li id="0c6f" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">Boto3和文件的权限/位置问题</li></ol><p id="b1d1" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">如果您更新您的代码，不要忘记使用</p><pre class="no np nq nr gt ns nn nt nu aw nv bi"><span id="8aac" class="nw kr it nn b gy nx ny l nz oa">zappa update dev</span></pre><h1 id="b818" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">AWS API网关—限制访问</h1><p id="0277" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">要在市场上设置API，我们需要首先用API-key限制它的使用，然后在市场平台上设置它。</p><p id="5c74" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">分解一下:</p><ol class=""><li id="b89c" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml nj ms mt mu bi translated">转到AWS控制台并转到API网关</li><li id="c276" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">点击你的API</li><li id="faa7" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">我们希望创建一个x-api-key来限制对api的不希望的访问，并且也有一个计量使用</li><li id="7e6f" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">为API创建一个使用计划，包括所需的限制和配额限制</li><li id="42cd" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">创建关联的API阶段</li><li id="ebb5" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">添加API密钥</li><li id="005f" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">在API键概述部分，单击API键处的“显示”并复制它</li><li id="1418" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">然后将API与键相关联，并丢弃所有没有键的请求</li><li id="0fd0" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">回到API概述。在“资源”下，单击“/任意”转到“方法请求”。然后在“设置”中，将“需要API密钥”设置为真</li><li id="f3ee" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml nj ms mt mu bi translated">对“/{proxy+}方法执行相同的操作</li></ol><p id="1df8" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">现在，您已经限制了对API的访问。</p><h1 id="f303" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">4.设置Rapidapi</h1><ul class=""><li id="47cf" class="mm mn it lq b lr ls lv lw lz mo md mp mh mq ml mr ms mt mu bi translated">添加新API</li><li id="2cf3" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">使用rapidapi测试端点</li><li id="7d02" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">创建使用API的代码</li></ul><p id="c4ab" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">在这篇文章中我不再赘述。再次查看我之前的<a class="ae kp" rel="noopener" target="_blank" href="/develop-and-sell-a-python-api-from-start-to-end-tutorial-9a038e433966">https://towardsdatascience . com/develop-and-sell-a-python-API-from-start-to-end-tutorial-9a 038 e 433966</a>设置好一切。我的新机器学习模型没有大的区别。</p><h1 id="77e5" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">最终结果</h1><figure class="no np nq nr gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi jz"><img src="../Images/0061773ec38625dfd47efabcd7e6c3f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wSUUUWOfXR79Jwdd.png"/></div></div><p class="kk kl gj gh gi km kn bd b be z dk translated"><a class="ae kp" href="https://rapidapi.com/Createdd/api/covid_new_cases_prediction" rel="noopener ugc nofollow" target="_blank">上的API接口https://rapidapi . com/Createdd/API/covid _ new _ cases _ prediction</a></p></figure><p id="9d32" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated"><a class="ae kp" href="https://rapidapi.com/Createdd/api/covid_new_cases_prediction" rel="noopener ugc nofollow" target="_blank">https://rapidapi . com/Createdd/API/covid _ new _ cases _ prediction</a></p><h1 id="817f" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">灵感</h1><p id="1d81" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这次我的主要动机来自于Moez Ali，他提供了很多关于部署机器学习系统的文章。我也喜欢在社交媒体上关注他。我可以推荐他的文章:</p><ul class=""><li id="fe8b" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated"><a class="ae kp" rel="noopener" target="_blank" href="/build-and-deploy-your-first-machine-learning-web-app-e020db344a99">https://towards data science . com/build-and-deploy-your-first-machine-learning-we b-app-e 020 db 344 a 99</a></li><li id="ed21" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" rel="noopener" target="_blank" href="/deploy-machine-learning-pipeline-on-aws-fargate-eb6e1c50507">https://towards data science . com/deploy-machine-learning-pipeline-on-AWS-fargate-EB 6 E1 c 50507</a></li></ul><p id="8ab6" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">还有弗朗索瓦·马索</p><ul class=""><li id="79ed" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated"><a class="ae kp" rel="noopener" target="_blank" href="/how-to-deploy-a-machine-learning-model-on-aws-lambda-24c36dcaed20">https://towards data science . com/how-to-deploy-a-machine-learning-model-on-AWS-lambda-24 c 36 DCA ed 20</a></li></ul><h1 id="c2d3" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">常见问题</h1><ul class=""><li id="3268" class="mm mn it lq b lr ls lv lw lz mo md mp mh mq ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Miserlou/Zappa/issues/1927" rel="noopener ugc nofollow" target="_blank">https://github.com/Miserlou/Zappa/issues/1927</a>包错误:python-dateutil</li><li id="a905" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://stackabuse.com/file-management-with-aws-s3-python-and-flask/" rel="noopener ugc nofollow" target="_blank">https://stack abuse . com/file-management-with-AWS-S3-python-and-flask/</a></li><li id="1237" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">https://ianwhitestone.work/zappa-zip-callbacks/删除zappa中不必要的文件</li><li id="d23b" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://stackoverflow.com/questions/62941174/how-to-write-load-machine-learning-model-to-from-s3-bucket-through-joblib" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/62941174/how-to-write-load-machine-learning-model-to-from-S3-bucket-through-joblib</a></li></ul><h1 id="63f6" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">附加阅读</h1><ul class=""><li id="2f06" class="mm mn it lq b lr ls lv lw lz mo md mp mh mq ml mr ms mt mu bi translated"><a class="ae kp" href="https://www.freecodecamp.org/news/what-we-learned-by-serving-machine-learning-models-using-aws-lambda-c70b303404a1/" rel="noopener ugc nofollow" target="_blank">https://www . freecodecamp . org/news/what-we-learned-by-serving-machine-learning-models-using-AWS-lambda-c70b 303404 a 1/</a></li><li id="fd31" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://ianwhitestone.work/slides/serverless-meetup-feb-2020.html" rel="noopener ugc nofollow" target="_blank">https://ianwhitestone . work/slides/server less-meetup-Fe b-2020 . html</a></li><li id="531a" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://read.iopipe.com/the-right-way-to-do-serverless-in-python-e99535574454" rel="noopener ugc nofollow" target="_blank">https://read . io pipe . com/the-right-way-to-do-server less-in-python-e 99535574454</a></li><li id="2f30" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://www.bluematador.com/blog/serverless-in-aws-lambda-vs-fargate" rel="noopener ugc nofollow" target="_blank">https://www . blue matador . com/blog/server less-in-AWS-lambda-vs-fargate</a>AWS lambda vs fargate</li><li id="55e3" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/monitor_estimated_charges_with_cloudwatch.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/Amazon cloud watch/latest/monitoring/monitor _ estimated _ charges _ with _ cloud watch . html</a>计费告警</li></ul><h1 id="e7e7" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">最终链接</h1><p id="8990" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">开放源代码:</p><ul class=""><li id="6efd" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd/ml_api_covid" rel="noopener ugc nofollow" target="_blank">https://github.com/Createdd/ml_api_covid</a></li></ul><p id="19bd" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">在Rapidapi上:</p><ul class=""><li id="b31b" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated"><a class="ae kp" href="https://rapidapi.com/Createdd/api/covid_new_cases_prediction" rel="noopener ugc nofollow" target="_blank">https://rapidapi . com/Createdd/API/covid _ new _ cases _ prediction</a></li></ul><h1 id="f43a" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">关于</h1><p id="2f76" class="pw-post-body-paragraph lo lp it lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">丹尼尔是一名企业家、软件开发人员和商业法毕业生。他曾在各种IT公司、税务咨询、管理咨询和奥地利法院工作。</p><p id="4d42" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">他的知识和兴趣目前围绕着编程机器学习应用程序及其所有相关方面。从本质上说，他认为自己是复杂环境的问题解决者，这在他的各种项目中都有所体现。</p><p id="1bf4" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">如果您有想法、项目或问题，请不要犹豫与我们联系。</p><figure class="no np nq nr gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi ow"><img src="../Images/d25251c8dbe42dd6ae03e8947f6c5b0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pce7RHSgdf8af0r1.png"/></div></div><p class="kk kl gj gh gi km kn bd b be z dk translated">你可以在https://www.buymeacoffee.com/createdd或者https://etherdonation.com/d?支持我to = 0xc 36 b 01231 a8f 857 b 8751431 c 8011 b 09130 ef 92 EC</p></figure><figure class="no np nq nr gt kd gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/7661b5a5bf4dd13d80419eddf96d23e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/0*t_u9Y9tdT_oEUcqj"/></div></figure><p id="8f9e" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">连接到:</p><ul class=""><li id="0b6e" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated"><a class="ae kp" href="https://www.linkedin.com/in/createdd" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a></li><li id="18b6" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://github.com/Createdd" rel="noopener ugc nofollow" target="_blank"> Github </a></li><li id="3d08" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://medium.com/@createdd" rel="noopener">中等</a></li><li id="366c" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://twitter.com/_createdd" rel="noopener ugc nofollow" target="_blank">推特</a></li><li id="364c" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://www.instagram.com/create.dd/" rel="noopener ugc nofollow" target="_blank"> Instagram </a></li><li id="1cdd" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://www.createdd.com/" rel="noopener ugc nofollow" target="_blank">createdd.com</a></li></ul><p id="3218" class="pw-post-body-paragraph lo lp it lq b lr nb lt lu lv nc lx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">艺术相关:</p><ul class=""><li id="1252" class="mm mn it lq b lr nb lv nc lz ng md nh mh ni ml mr ms mt mu bi translated"><a class="ae kp" href="https://medium.com/the-art-of-art" rel="noopener">中等/最先进</a></li><li id="3f3e" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://www.instagram.com/art_and_ai/" rel="noopener ugc nofollow" target="_blank"> Instagram/art_and_ai </a></li><li id="0a82" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://opensea.io/accounts/createdd" rel="noopener ugc nofollow" target="_blank">公海</a></li><li id="f5bd" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://knownorigin.io/profile/0xC36b01231a8F857B8751431c8011b09130ef92eC" rel="noopener ugc nofollow" target="_blank">已知产地</a></li><li id="d139" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated">稀有的</li><li id="5be3" class="mm mn it lq b lr mw lv mx lz my md mz mh na ml mr ms mt mu bi translated"><a class="ae kp" href="https://www.deviantart.com/createdd1010/" rel="noopener ugc nofollow" target="_blank">魔鬼艺术</a></li></ul></div></div>    
</body>
</html>