<html>
<head>
<title>Headlines Articles Analysis and NLP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">标题文章分析和自然语言处理</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/headlines-articles-analysis-and-nlp-4013a66dbac?source=collection_archive---------24-----------------------#2020-09-29">https://towardsdatascience.com/headlines-articles-analysis-and-nlp-4013a66dbac?source=collection_archive---------24-----------------------#2020-09-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b485" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用NLP查看2020年1月至7月《纽约时报》文章标题中提到最多的单词。</h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/e8989ab4127f7309722749f2282baa35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ydqCnps6r1ALkkFZn4kvhA.png"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">图1——由<a class="ae kw" href="https://pixabay.com/pt/users/wilhei-883152/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=705667" rel="noopener ugc nofollow" target="_blank">威利·海德尔巴赫</a>在<a class="ae kw" href="https://pixabay.com/pt/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=705667" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄的图像</p></figure><p id="c8c6" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">据世卫组织介绍，2020年12月31日，中国武汉首次报道了冠状病毒。2020年3月11日，世卫组织宣布乔维德为疫情。新冠肺炎相关的时间表可以在<a class="ae kw" href="https://www.who.int/news-room/detail/29-06-2020-covidtimeline" rel="noopener ugc nofollow" target="_blank">这里</a>查看。</p><p id="b4a7" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">可以想象，从2020年1月到7月，<strong class="kz ir">冠状病毒<em class="lt">、</em> </strong> <strong class="kz ir">病毒、</strong>和<strong class="kz ir">疫情</strong>这几个词被引用的次数最多。但是在同一时期有多少其他的相关呢？我们如何分析它们？</p><p id="5dc5" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">为了回答这些问题，我选择了一个来源和两个工具:</p><p id="41c8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">-来源:<strong class="kz ir">纽约时报</strong>报纸选取2020年1月至7月的文章标题。<br/> -工具:自然语言工具包(<strong class="kz ir"> NLTK </strong>)，一个用于处理自然语言处理的<strong class="kz ir"> Python </strong>库(<strong class="kz ir"> NLP </strong>)，以及<strong class="kz ir"> Tableau </strong>，一个可视化分析平台。</p><h2 id="0246" class="lu lv iq bd lw lx ly dn lz ma mb dp mc lg md me mf lk mg mh mi lo mj mk ml mm bi translated"><strong class="ak">获得报纸头条</strong></h2><p id="4a29" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">首先，我需要创建一个包含报纸标题的数据库。在一些方法中，我选择了纽约时报，因为他们的文章很重要，他们在疫情的报道，因为纽约是世界上受影响最大的城市之一，还因为它的文章搜索API。</p><p id="aaa8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir">API</strong>(<em class="lt">应用编程接口</em>)可用于编程访问纽约时报数据。首先，有必要创建一个API键，用它可以搜索自1851年以来的文件、畅销书列表、电影评论等等。你可以看到这个网站<a class="ae kw" href="https://developer.nytimes.com" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="4690" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我创建了我的API键，我的目标是获得指定时间段的标题，这样，我创建了如下所示的数据库:</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ms"><img src="../Images/ebc37c62e9e224f281dbc935ebaf06fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EzI0RrRnqC6qbuadpK9fgQ.png"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">图2—作者提供的图片。标题文章数据库</p></figure><p id="4992" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">上图显示了截至7月31日的数据库中的前几行。</p><h2 id="e602" class="lu lv iq bd lw lx ly dn lz ma mb dp mc lg md me mf lk mg mh mi lo mj mk ml mm bi translated">自然语言处理</h2><blockquote class="mt"><p id="cb22" class="mu mv iq bd mw mx my mz na nb nc ls dk translated">"自然语言处理(NLP)是使用计算机理解人类语言的领域."</p></blockquote><p id="860c" class="pw-post-body-paragraph kx ky iq kz b la nd jr lc ld ne ju lf lg nf li lj lk ng lm ln lo nh lq lr ls ij bi translated"><em class="lt">摘自:阿鲁姆甘，拉杰什；Shanmugamani，Rajalingappaa。“用Python实际操作自然语言处理。</em></p><p id="aca8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">自然语言处理是对语言处理的研究。使用NLP的一些应用:</p><ul class=""><li id="46e2" class="ni nj iq kz b la lb ld le lg nk lk nl lo nm ls nn no np nq bi translated">搜索</li><li id="81a4" class="ni nj iq kz b la nr ld ns lg nt lk nu lo nv ls nn no np nq bi translated">分析情绪</li><li id="a911" class="ni nj iq kz b la nr ld ns lg nt lk nu lo nv ls nn no np nq bi translated">识别命名实体</li><li id="a602" class="ni nj iq kz b la nr ld ns lg nt lk nu lo nv ls nn no np nq bi translated">翻译文本</li><li id="5b0a" class="ni nj iq kz b la nr ld ns lg nt lk nu lo nv ls nn no np nq bi translated">检测垃圾邮件</li></ul><h2 id="f717" class="lu lv iq bd lw lx ly dn lz ma mb dp mc lg md me mf lk mg mh mi lo mj mk ml mm bi translated">NLTK</h2><p id="4c81" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated"><strong class="kz ir">自然语言工具包</strong> (NLTK)是一个Python库，用于处理自然语言处理(NLP)任务，如分割单词或短语，以执行高级任务，如解析和文本分类。</p><p id="7f1a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在这项工作中，NLTK被用来分割报纸文章标题中的单词，然后检查哪些是最常用的。</p><p id="5ec2" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">以下代码是针对一月份描述的，同样的原则也适用于其他月份。要访问所有代码，你可以访问GitHub上的<a class="ae kw" href="https://github.com/ssilvacris/coffee-and-code/blob/master/newspaper_nlp.ipynb" rel="noopener ugc nofollow" target="_blank">我的资源库</a>。</p><h2 id="4d73" class="lu lv iq bd lw lx ly dn lz ma mb dp mc lg md me mf lk mg mh mi lo mj mk ml mm bi translated">库和数据集</h2><pre class="kh ki kj kk gt nw nx ny nz aw oa bi"><span id="6d7c" class="lu lv iq nx b gy ob oc l od oe"><br/>import pandas as pd<br/>import numpy as np<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt<br/>import nltk</span><span id="faed" class="lu lv iq nx b gy of oc l od oe">months_df = pd.read_csv(‘months.csv’, parse_dates=True, index_col=’date’)<br/><br/>months_df.info()</span></pre><h2 id="62df" class="lu lv iq bd lw lx ly dn lz ma mb dp mc lg md me mf lk mg mh mi lo mj mk ml mm bi translated">安装NLTK模块</h2><pre class="kh ki kj kk gt nw nx ny nz aw oa bi"><span id="3254" class="lu lv iq nx b gy ob oc l od oe">nltk.download()<br/></span></pre><h2 id="f972" class="lu lv iq bd lw lx ly dn lz ma mb dp mc lg md me mf lk mg mh mi lo mj mk ml mm bi translated">探索性数据分析</h2><p id="43be" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">我需要分析和整理所有的标题。首先，我将把每个标题连接成一个字符串。然后，字符串将被拆分成一个列表，其中每个单词都是一个列表项。</p><pre class="kh ki kj kk gt nw nx ny nz aw oa bi"><span id="4196" class="lu lv iq nx b gy ob oc l od oe"><br/># join the strings of every row<br/>sentences_jan = jan_df[‘headline’].str.cat(sep = ‘’)<br/></span></pre><h2 id="3711" class="lu lv iq bd lw lx ly dn lz ma mb dp mc lg md me mf lk mg mh mi lo mj mk ml mm bi translated">标记化</h2><p id="41d7" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">从短语中提取关键短语用于研究应用是自然语言处理的应用之一，最小的文本单位是单词。我使用函数<em class="lt"> word_tokenizer() </em>到<em class="lt"> </em>根据标点符号(如空格和逗号)将句子分割成单词。</p><pre class="kh ki kj kk gt nw nx ny nz aw oa bi"><span id="ac5e" class="lu lv iq nx b gy ob oc l od oe">from nltk.tokenize import word_tokenize<br/>tok_jan = word_tokenize(sentences_jan)</span></pre><h2 id="7145" class="lu lv iq bd lw lx ly dn lz ma mb dp mc lg md me mf lk mg mh mi lo mj mk ml mm bi translated">删除标点符号和停用字词</h2><p id="e350" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">标点符号将只是符号化的噪音已被删除。然后是那些从头条上删除的:</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi og"><img src="../Images/f6a908e1f736dfc0a7770051ab9b53f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*34jC-lM_yrZKmOQHOOH7uQ.png"/></div></figure><p id="30aa" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">停用词去除是NLP应用程序常用的预处理步骤，用于去除英语中的常用词，如<em class="lt"> it </em>、<em class="lt"> is </em>、<em class="lt"> he </em>等。我还过滤了所有长度大于3的单词。</p><pre class="kh ki kj kk gt nw nx ny nz aw oa bi"><span id="2a1a" class="lu lv iq nx b gy ob oc l od oe">import string<br/>string.punctuation</span><span id="2cef" class="lu lv iq nx b gy of oc l od oe">tok_jan = [char for char in tok_jan if char not in string.punctuation]</span><span id="323d" class="lu lv iq nx b gy of oc l od oe">from nltk.corpus import stopwords<br/># remove stopwords<br/>stop = stopwords.words(‘english’)<br/>tok_jan = [token for token in tok_jan if token not in stop]</span><span id="89b2" class="lu lv iq nx b gy of oc l od oe"># remove words less than three letters<br/>tok_jan = [word for word in tok_jan if len(word) &gt;= 3]</span></pre><p id="9c59" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">去掉标点和停用词后，列表只剩下<strong class="kz ir"> 27209 </strong> <strong class="kz ir">词</strong> (token)。对于下一个情节，选择了前100个被引用最多的词。</p><h2 id="9c7b" class="lu lv iq bd lw lx ly dn lz ma mb dp mc lg md me mf lk mg mh mi lo mj mk ml mm bi translated"><strong class="ak">查看每月被引用最多的词</strong></h2><p id="c853" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">我们可以生成一个单词云，根据单词的大小直观地显示标题中最常用的单词。</p><pre class="kh ki kj kk gt nw nx ny nz aw oa bi"><span id="2096" class="lu lv iq nx b gy ob oc l od oe">!pip install WordCloud<br/>from wordcloud import WordCloud, STOPWORDS, ImageColorGenerator<br/>from PIL import Image</span><span id="520e" class="lu lv iq nx b gy of oc l od oe">plt.figure(figsize=(20,20))</span><span id="316b" class="lu lv iq nx b gy of oc l od oe">wc = WordCloud(max_font_size=50, max_words=100, background_color=”white”)<br/>wordcloud_jan = wc.generate_from_text(‘ ‘.join(tok_jan))</span><span id="c8ad" class="lu lv iq nx b gy of oc l od oe">plt.imshow(wordcloud_jan, interpolation=”bilinear”)<br/>plt.axis(“off”)<br/>plt.show()</span></pre><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi oh"><img src="../Images/8f4cb14e08dd4ad604fe555183cb9bfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*neM7DSmPng81w44IZC2P6w.png"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">图3 —作者提供的图片。一月到六月的词云</p></figure><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/3fc4a9cbefd54c14dfce8a3dd3a164a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*xmgUM_ZXfZm3I1vVKre8FQ.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">图4 —作者提供的图片。七月的文字云</p></figure><p id="3898" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这样，我们可以很快看到哪些单词在这七个月中出现的频率增加了。</p><h2 id="64a8" class="lu lv iq bd lw lx ly dn lz ma mb dp mc lg md me mf lk mg mh mi lo mj mk ml mm bi translated">获得单词的频率分布</h2><p id="fe25" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">对于下一个情节，选择了前50个被引用最多的词。</p><pre class="kh ki kj kk gt nw nx ny nz aw oa bi"><span id="1e78" class="lu lv iq nx b gy ob oc l od oe"><br/>import operator<br/>freq_dis_jan={}<br/>for tok in tok_jan:<br/> if tok in freq_dis_jan:<br/> freq_dis_jan[tok]+= 1<br/> else:<br/> freq_dis_jan[tok]=1<br/> <br/># We want to sort this dictionary on values ( freq in this case )</span><span id="93d8" class="lu lv iq nx b gy of oc l od oe">sorted_freq_jan = sorted(freq_dis_jan.items(), key=operator.itemgetter(1), reverse=True)<br/>print(sorted_freq_jan[:25])<br/>plt.figure(figsize=(10, 5))<br/>Freq_dist_nltk=nltk.FreqDist(tok_feb)<br/>Freq_dist_nltk.plot(50, cumulative=False)</span></pre><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi oj"><img src="../Images/cd05268b03fd84dee76b39a0b91501d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g1MFY2B94Gt0jhdvYP_lwA.png"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">图5—作者提供的图片。一月至六月的词频分布</p></figure><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/492b371ac0981ecc8d786a12a93d547f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*lJFWWVDi9aHfHWVtxWjt4Q.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">图6 —七月词的频率分布</p></figure><h2 id="6647" class="lu lv iq bd lw lx ly dn lz ma mb dp mc lg md me mf lk mg mh mi lo mj mk ml mm bi translated">词语关联性的变化</h2><p id="f767" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">为了以动态的方式查看单词引用数在几个月内的变化，我使用了数据可视化软件<strong class="kz ir"> Tableau </strong>。<br/>有一些噪音，比如“新”这个词，没有包含在停用词列表中。所以我把它从单词列表中删除，并创建了一个动画图表。接下来的情节，选择了前23个被引用最多的词。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ol"><img src="../Images/33b52d8e617193d6082d241052136094.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*YIEoe7PKw_lKciSq7wqwsA.gif"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">图7—作者提供的图片。图表动画</p></figure><p id="5e13" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">请注意“<strong class="kz ir"> <em class="lt">冠状病毒</em></strong><em class="lt"/>这个词在2月(275年)到3月(811年)世卫组织建立疫情期间出现了大量的头条引用。</p><p id="e473" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">另一个观察是，乔治·弗洛伊德<strong class="kz ir"> <em class="lt"> </em> </strong>于5月下旬去世后，单词“<strong class="kz ir"><em class="lt"/></strong>”在6月成为第二名。”<strong class="kz ir"><em class="lt">【Floyd】</em></strong>也出现在6月份的第一份名单中。</p><p id="bb83" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">最后，随着美国总统大选的临近，我们可以看到“<strong class="kz ir"> <em class="lt">川普</em> </strong>”这个词在7月变得越来越重要。</p></div></div>    
</body>
</html>