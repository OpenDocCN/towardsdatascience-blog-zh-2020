<html>
<head>
<title>Autocorrect</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自动更正</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/autocorrect-8c33f3b472a0?source=collection_archive---------15-----------------------#2020-11-08">https://towardsdatascience.com/autocorrect-8c33f3b472a0?source=collection_archive---------15-----------------------#2020-11-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="38a2" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/nlpnotes" rel="noopener" target="_blank">自然语言处理笔记</a></h2><div class=""/><div class=""><h2 id="0244" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">自然语言处理专业课程2第1周笔记</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/682a03ea922f49ae384dceb6993d44f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nXnSeHQ_jlxfiP4n"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@sincerelymedia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">真诚媒体</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="195f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">自动更正是我们所有人的救星。有多少次，我去输入一条信息，它会出来，好像我喝醉了，然后自动更正替我调解-哦，我多么爱你自动更正(有时)。</p><p id="6557" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">更正式地说，自动更正是一种软件功能，它在我们打字时自动建议或纠正拼写或语法错误。</p><p id="d398" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们都使用自动更正，但这篇文章将教你它是如何工作的。然而，在这些笔记中，我们将只涉及拼写错误，而不是上下文错误。例如，“祝我的朋友生日快乐！”包含拼写错误的单词“deah”，“自动更正”有望识别该单词并将其更改为“dear”(假设我们的模型是准确的)。另一方面，“生日快乐我的鹿朋友！”不会被认为是一个错误，因为“鹿”是一个真实的单词(它是一种动物)，在上下文中是不正确的，除非你的朋友实际上是一只鹿。</p><blockquote class="mf mg mh"><p id="8f44" class="li lj me lk b ll lm kd ln lo lp kg lq mi ls lt lu mj lw lx ly mk ma mb mc md im bi translated"><strong class="lk jd">注</strong>:捕捉上下文错误是一个更复杂的问题，我们将在以后讨论。</p></blockquote><h2 id="81e7" class="ml mm it bd mn mo mp dn mq mr ms dp mt lr mu mv mw lv mx my mz lz na nb nc iz bi translated">自动更正是如何工作的？</h2><p id="69ea" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">建立更正拼写错误的自动更正模型有4个关键步骤:</p><p id="3f0b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> <em class="me"> #1:识别拼错的单词</em></strong>——根据我们之前的例子，我们如何知道单词“<em class="me"> deah </em>”拼错了呢？如果一个单词拼写正确，那么这个单词可以在字典中找到，如果不正确，那么它可能是一个拼写错误的单词。因此，当一个单词在字典中没有给出时，我们会将其标记出来进行更正。</p><p id="b29e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> <em class="me"> #2:查找字符串n编辑距离</em> </strong> <em class="me"> </em> —编辑是对一个字符串执行的将它转换成另一个字符串的操作，<em class="me"> n </em>就是编辑距离(即1、2、3等的编辑距离)，它统计了编辑操作的次数。因此，<em class="me"> n </em>编辑距离告诉我们一个字符串与另一个字符串相距多少个操作。以下是不同类型的编辑:</p><ul class=""><li id="6030" class="ni nj it lk b ll lm lo lp lr nk lv nl lz nm md nn no np nq bi translated">插入(添加一个字母)</li><li id="66a8" class="ni nj it lk b ll nr lo ns lr nt lv nu lz nv md nn no np nq bi translated">删除(去掉一个字母)</li><li id="5e71" class="ni nj it lk b ll nr lo ns lr nt lv nu lz nv md nn no np nq bi translated">切换(交换两个相邻的字母)</li><li id="bb5f" class="ni nj it lk b ll nr lo ns lr nt lv nu lz nv md nn no np nq bi translated">替换(将一个字母改为另一个字母)</li></ul><p id="0286" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">通过这4次编辑，我们能够修改任何字符串。并且这些编辑的组合允许我们找到所有可能的字符串的列表，这些字符串是<em class="me"> n </em>编辑的。</p><blockquote class="mf mg mh"><p id="0c14" class="li lj me lk b ll lm kd ln lo lp kg lq mi ls lt lu mj lw lx ly mk ma mb mc md im bi translated"><strong class="lk jd">注意</strong>:对于自动更正，n通常是1-3次编辑。</p></blockquote><p id="174c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> <em class="me"> #3:过滤候选词</em> </strong> —我们只想考虑候选词列表中拼写正确的真实单词，因此我们将这些单词与已知词典进行比较(如<strong class="lk jd"># 1】</strong>，并过滤掉候选词列表中未出现在已知词典中的单词。</p><p id="9b1f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> <em class="me"> #4:计算单词概率</em></strong>——利用我们的实际单词列表，我们可以计算单词概率，从候选单词中找出最有可能的单词。这就要求我们知道语料库中的词频和总字数。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/59008198b9f411e191e4a0ff0d8417cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*gSm0TlKtm1vhWZ6S8C2NYQ.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd nx">图1 </strong>:计算单词概率的公式(图片由作者提供)</p></figure><p id="601a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">给定<em class="me">图1 </em>中的公式，我们可以想象一个由句子“我很高兴，因为我在学习”组成的语料库，我们首先计算字数…</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/50602cda5b80cacf380e0029521a2fab.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*fvyjbyfZ5T7oQXxgeTNYhQ.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd nx">图2 </strong>:字数统计(图片由作者提供NLP专业化课程2第1周表格的翻拍)</p></figure><p id="b32d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后我们应用我们的公式来计算单词概率(我们将使用“I”作为例子)…</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/0279555b2166f4d0ec6290a7cb3f5af7.png" data-original-src="https://miro.medium.com/v2/resize:fit:424/format:webp/1*o_gmutA4yy8XHMRCbuacLg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd nx">图3 </strong>:计算单词“I”的单词概率</p></figure><p id="88a3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当执行自动更正时，我们必须找到概率最高的候选词，并选择该词作为替换。</p><h2 id="36f4" class="ml mm it bd mn mo mp dn mq mr ms dp mt lr mu mv mw lv mx my mz lz na nb nc iz bi translated">最小编辑距离</h2><p id="d29f" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">上面我们看到了如何使用编辑距离应用自动更正，然而，当我们给定多个单词或整个文档时，我们也可以使用最小编辑距离来评估它们的相似程度。事实上，在许多情况下可以应用最小编辑距离，例如:</p><ul class=""><li id="303c" class="ni nj it lk b ll lm lo lp lr nk lv nl lz nm md nn no np nq bi translated">拼写纠正</li><li id="e9e8" class="ni nj it lk b ll nr lo ns lr nt lv nu lz nv md nn no np nq bi translated">文档相似度</li><li id="20ba" class="ni nj it lk b ll nr lo ns lr nt lv nu lz nv md nn no np nq bi translated">机器翻译</li><li id="02e6" class="ni nj it lk b ll nr lo ns lr nt lv nu lz nv md nn no np nq bi translated">DNA测序</li></ul><p id="a0ee" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">还有更多。</p><p id="98d9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> <em class="me">最小编辑距离</em> </strong> →将一个字符串转换成另一个字符串所需的最少操作次数。</p><p id="5a72" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了计算最小编辑距离，我们使用了我们已经讨论过的3种类型的编辑计算。这3个编辑是<em class="me">插入</em>、<em class="me">删除</em>和<em class="me">替换</em>——最小编辑距离示例见<em class="me">图4 </em>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oa"><img src="../Images/58c1902e0cc2b35f44f84a501c0917e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*d1I9ayvkiutmMW1MCuKtjg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd nx">图4 </strong>:使用编辑将源单词替换为目标单词的示例(作者图片)</p></figure><p id="2e5c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">鉴于我们认为所有编辑操作的成本相同，图4 中的编辑总数为2。但是，通过调整每次编辑的成本，我们可以计算出编辑成本，这是我们试图通过合计每次编辑的成本来最小化的成本——更新后的编辑成本见<em class="me">图5 </em>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/8e569e1baca239d8e9a05fce4f8fd8d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*c4fltQn1wpUC8lnJiAsvng.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd nx">图5 </strong>:一次编辑的成本。</p></figure><p id="f0ee" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">对于我们的例子，在图4 中，我们修改后的编辑成本是4。这很简单，我们可以直观地解决这个问题。然而，如果我们有更长的字符串或大量的文本，操作就会更多，也不会那么简单。我们可以尝试用蛮力来克服这一点，每次增加一个额外的距离，并枚举所有的可能性，直到一个字符串转换成另一个字符串。但是，这可能会花费不必要的长时间。</p><blockquote class="mf mg mh"><p id="f91e" class="li lj me lk b ll lm kd ln lo lp kg lq mi ls lt lu mj lw lx ly mk ma mb mc md im bi translated"><strong class="lk jd">注意</strong>:这样求解会成倍增加计算复杂度，<br/>随着每个字符串长度的增长。</p></blockquote><h2 id="d8b6" class="ml mm it bd mn mo mp dn mq mr ms dp mt lr mu mv mw lv mx my mz lz na nb nc iz bi translated">动态规划</h2><p id="6b35" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">更快的方法是使用动态编程。动态编程是计算机科学中一项众所周知的专长，指的是通过将复杂的问题分解成更简单的子问题来简化它。其思想是简单地存储子问题的结果，这样我们就不必在以后需要时重新计算它们。这个简单的优化将时间复杂度从指数级降低到多项式级(来源:<a class="ae lh" href="https://www.geeksforgeeks.org/dynamic-programming/" rel="noopener ugc nofollow" target="_blank"> GeeksToGeeks </a>)。</p><blockquote class="mf mg mh"><p id="6e81" class="li lj me lk b ll lm kd ln lo lp kg lq mi ls lt lu mj lw lx ly mk ma mb mc md im bi translated"><strong class="lk jd">注意</strong>:深入研究动态编程超出了这篇文章的范围，但是你可以在<a class="ae lh" href="https://en.wikipedia.org/wiki/Dynamic_programming#:~:text=Dynamic%20programming%20is%20both%20a,from%20aerospace%20engineering%20to%20economics." rel="noopener ugc nofollow" target="_blank">维基百科</a>上读到更多。</p></blockquote><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oc"><img src="../Images/2306ac2f1130d007f577f46c86e8a8d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MpVkevdeHiAisKxcnD0ArA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd nx">图6 </strong>:我们要用编辑成本填充的矩阵D——注意:D[2，3]用橙色突出显示，作为我们如何引用每个网格的示例。(图片由作者提供)</p></figure><p id="bfc8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">从图6的<em class="me">中给定我们的编辑成本，</em>我们的矩阵D的第一个任务是填充D[0，0]，我们从源中的空字符串到目标中的空字符串。这是非常明显的，因为它们是相同的，所以达到这一点的编辑次数应该是0。</p><p id="6aba" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">事实上，填充第一行和第一列是非常直观的，因为我们只是将删除的成本添加到前一个单元格中——参见图7<em class="me">。</em></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi od"><img src="../Images/ebddb064bf52a1ecc7e96aeec1906585.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qnUvzEsnTjdSs_VJqJctIA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd nx">图7 </strong>:填充D矩阵第一行第一列</p></figure><p id="0d99" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这可以用数学方法表示，如图8 中的<em class="me">所示。</em></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oe"><img src="../Images/a717bab3ae1db9bc0908ceed65b3b074.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q6nPR7-W1U07iqjpTj_kiQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd nx">图8: </strong>数学表达式(图片由作者提供)</p></figure><p id="b02d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，让我们将此公式应用于图7 中的示例，以更新编辑成本。还记得我们之前说过答案是4，我们直观地算出了答案，因为我们有相当简单的字符串。为了确定最小编辑距离，我们将看到在矩阵的D[m，n](右下角)中出现的操作数——如果我们做得正确，应该是4。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi of"><img src="../Images/f30fbb3e450bd94c153020b0410431f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*zPZ3q58MLt9k3hHRVr67jQ.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><strong class="bd nx">图9: </strong>完成的三维矩阵</p></figure><p id="6ad2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如你所见，矩阵同意4是将状态转换为污点的最小编辑距离。我还在矩阵中添加了一些颜色来突出有趣的图案。</p><blockquote class="mf mg mh"><p id="b250" class="li lj me lk b ll lm kd ln lo lp kg lq mi ls lt lu mj lw lx ly mk ma mb mc md im bi translated"><strong class="lk jd">注</strong>:这个我个人在重复了无数遍视频后还是没看懂。Youtube上一个叫做<a class="ae lh" href="https://www.youtube.com/watch?v=We3YDTzNXEk" rel="noopener ugc nofollow" target="_blank">最小编辑距离动态编程</a>的视频帮我澄清了这个问题。</p></blockquote><p id="fb1a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了测量编辑距离，我们指定3个编辑:插入、删除和替换，编辑成本为1、1、2，分别称为<a class="ae lh" href="https://en.wikipedia.org/wiki/Levenshtein_distance#:~:text=Informally%2C%20the%20Levenshtein%20distance%20between,considered%20this%20distance%20in%201965." rel="noopener ugc nofollow" target="_blank"> Levenshtein距离</a>，这不是唯一的方法，但也是我们在示例中使用的方法。同样重要的是，我们在每个单元格中保留一个回溯，或者简单地说，一个指针，以允许我们跟踪我们是如何达到最小编辑距离的。</p></div><div class="ab cl og oh hx oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="im in io ip iq"><p id="d31d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">谢谢你看完。在LinkedIn上和我保持联系，让我们一起学习！</p><div class="on oo gp gr op oq"><a href="https://www.linkedin.com/in/kurtispykes/" rel="noopener  ugc nofollow" target="_blank"><div class="or ab fo"><div class="os ab ot cl cj ou"><h2 class="bd jd gy z fp ov fr fs ow fu fw jc bi translated">Kurtis Pykes -数据科学家-自由职业者，自由职业者| LinkedIn</h2><div class="ox l"><h3 class="bd b gy z fp ov fr fs ow fu fw dk translated">在世界上最大的职业社区LinkedIn上查看Kurtis Pykes的个人资料。Kurtis有3个工作列在他们的…</h3></div><div class="oy l"><p class="bd b dl z fp ov fr fs ow fu fw dk translated">www.linkedin.com</p></div></div><div class="oz l"><div class="pa l pb pc pd oz pe lb oq"/></div></div></a></div></div></div>    
</body>
</html>