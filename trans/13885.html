<html>
<head>
<title>No slicer selected — No chart in Power BI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">未选择切片器Power BI中没有图表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/no-slicer-selected-no-chart-in-power-bi-17ce5d36cd40?source=collection_archive---------7-----------------------#2020-09-24">https://towardsdatascience.com/no-slicer-selected-no-chart-in-power-bi-17ce5d36cd40?source=collection_archive---------7-----------------------#2020-09-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bdc5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何轻松定制您的Power BI报告并更改默认设置</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f935ab19535367f1d7867a5cd354aebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xP2tal2P2IRPIKpyiW_YRw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卡罗琳娜·格拉博斯卡在Pexels.com拍摄的照片</p></figure><p id="91c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在日常使用Power BI时，我喜欢不时地<a class="ae lu" rel="noopener" target="_blank" href="/how-i-speed-up-my-power-bi-report-5x-155255415895">“挑战”工具</a>，看看它在一些非标准设置中的表现。我的意思是，我们都喜欢在短时间内完成任务，Power BI有一个<a class="ae lu" rel="noopener" target="_blank" href="/5-tips-to-boost-your-power-bi-development-a44d7e782037">的各种功能</a>来帮助我们实现这一点，但有时我觉得改变默认行为可以增强用户体验。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/cfcff29d86ec28f6da111871a7e2b328.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dyeCrG9Nf-UbV5nOaOl6Ew.png"/></div></figure><h2 id="5e72" class="lw lx it bd ly lz ma dn mb mc md dp me lh mf mg mh ll mi mj mk lp ml mm mn mo bi translated">方案</h2><p id="a4d8" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh mr lj lk ll ms ln lo lp mt lr ls lt im bi translated">比方说，我想创建一个图表，只有在切片器中选择了至少一个特定值时，该图表才会显示。像往常一样，我将使用示例Contoso数据库进行演示。</p><p id="5503" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可能知道，默认情况下，如果在切片器中没有选择特定的值，Power BI将显示所有切片器值的数字:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/0e92b4aaecc345bb208d4c088422d54d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OkgbQKFyTmAZGw_Yyemz2A.png"/></div></div></figure><p id="bb19" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们的想法是隐藏这些条，直到在切片器中至少有一个选择。如果不是这样，我们想显示一个空白图表。我们如何实现这一目标？</p><p id="1386" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="mv">达克斯是你的朋友！</em></p><p id="057a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将使用<a class="ae lu" href="https://docs.microsoft.com/en-us/dax/isfiltered-function-dax" rel="noopener ugc nofollow" target="_blank"> <em class="mv"> ISFILTERED() </em> </a>函数来检查指定的列是否被直接过滤。在我们的例子中，它是来自Product维度的列BrandName。该函数的结果属于布尔类型(真/假)。</p><p id="b4ea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们写下我们的度量:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="0820" class="lw lx it mx b gy nb nc l nd ne">Filtered Brands = ISFILTERED('Product'[BrandName])</span></pre><p id="0698" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我将把这一措施放在卡片视觉中，只是为了检查一切是否如预期那样工作:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/780ca47cac3dfaf56adde5da130aa4f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ql8tOpw5goQbukr7DoZsUw.png"/></div></div></figure><p id="394d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦我在切片器中选择了一个特定值，我的度量将返回一个不同的结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/e5a0c1c2e3b67c596c41fe323cf52799.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UufwslQlg4d_s2tYCtdlwg.png"/></div></div></figure><p id="ceb9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们需要做的下一件事是删除当前的过滤器上下文。为此，我们将使用<a class="ae lu" href="https://docs.microsoft.com/en-us/dax/allselected-function-dax" rel="noopener ugc nofollow" target="_blank"><em class="mv">all selected()</em></a>函数。这是一个相当复杂的函数，可以用于各种不同的事情，所以如果你想完全理解ALLSELECTED()函数，我推荐你阅读Marco Russo和Alberto Ferrari的这篇文章。</p><p id="c51f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以，让我们扩展一下我们的衡量标准:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="4a8c" class="lw lx it mx b gy nb nc l nd ne">Filtered Brands = CALCULATE(<br/>                        ISFILTERED('Product'[BrandName]),<br/>                        ALLSELECTED('Product'[BrandName])<br/>)</span></pre><p id="fc38" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">基本上，我们报告的当前外观不会发生任何变化，但我们扩展了衡量标准的逻辑，并为我们试图实现的最终目标奠定了基础。</p><h2 id="eb4c" class="lw lx it bd ly lz ma dn mb mc md dp me lh mf mg mh ll mi mj mk lp ml mm mn mo bi translated">三，二，一…我们到了！</h2><p id="f595" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh mr lj lk ll ms ln lo lp mt lr ls lt im bi translated">现在，让我们创建我们的最终度量:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="23dc" class="lw lx it mx b gy nb nc l nd ne">Filtered Sales Amt = IF(<br/>                        [Filtered Brands] = TRUE,<br/>                        [Sales Amt],<br/>                        BLANK()<br/>                        )</span></pre><p id="4981" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我停下来解释一下我们在这里做什么:通过使用IF，我们可以控制度量的最终结果。简单地说，如果我们之前创建的measure <em class="mv"> Filtered Brands </em>的结果为真，我们希望返回Sales Amt measure值；如果没有，我们将返回空白。</p><p id="79ec" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们看看这是否可行:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/9d652e8028a8ceee5f6fe9074f5a1d78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*td8i687PgHNriAVMAGnfug.gif"/></div></figure><p id="8a10" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">看起来不错，我会说:)</p><h2 id="034e" class="lw lx it bd ly lz ma dn mb mc md dp me lh mf mg mh ll mi mj mk lp ml mm mn mo bi translated">抛光以获得更好的体验</h2><p id="f62a" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh mr lj lk ll ms ln lo lp mt lr ls lt im bi translated">尽管我们实现了最初的目标，但乍一看这似乎有悖常理。想象一下当用户打开一个报告，看到默认切片器设置的空白画面时的反应！我打赌你会接到一些电话，抱怨什么东西坏了…</p><p id="6184" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以，让我们做最后的润色，让我们的用户开心！我要做的第一件事是创建一个度量，它将为我的用户保存消息:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="27dc" class="lw lx it mx b gy nb nc l nd ne">Message = IF ( <br/>            [Filtered Brands] = TRUE,<br/>            "",<br/>            "Please select a value in BRAND slicer!" <br/>            )</span></pre><p id="0e21" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">同样，IF函数将允许我们定义流:如果用户在切片器中进行选择，它将返回一个空字符串；如果没有，它将显示指定的文本。</p><p id="939b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，让我们在报告画布上放置一个可视卡片，将我们的消息度量放入其中，并在可视卡片的格式窗格中进行一些重要的调整:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/e8d98c9a1ac50e3dae1f98f28d677e44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wCrDJQzWtt-BGDhi-HroGA.png"/></div></div></figure><p id="ba00" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将关闭类别，并将透明度设置为100%。当我把卡片放到我的簇状柱形图上时，我会看到我的消息显示在上面，指示用户他需要做什么。一旦他在品牌切片器中选择了一个或多个值，他将看到数据条而不是消息出现。</p><p id="d9b1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们检查一下这是否如预期的那样工作:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/4cbb7d9f1eec5a597f227ac959b85299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*exOyfEdSVonLDsHKkTi5CA.gif"/></div></figure><p id="378d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">挺牛逼的吧:)</p><h2 id="8a35" class="lw lx it bd ly lz ma dn mb mc md dp me lh mf mg mh ll mi mj mk lp ml mm mn mo bi translated">结论</h2><p id="3940" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh mr lj lk ll ms ln lo lp mt lr ls lt im bi translated">正如我一直喜欢强调的，Power BI是一个了不起的工具！它为您提供了以多种不同方式讲述数据故事的灵活性。这个例子展示了如何根据特定的业务需求，轻松地更改默认设置和定制报表的外观。</p><p id="5651" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，您不应该在每一个场景中都使用这种技巧——老实说，在99%的情况下，您应该坚持使用默认行为。但是，拥有另一个工具也不错，而且您知道您可以使用它来定制您的Power BI报告。</p><p id="72b8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae lu" href="https://datamozart.medium.com/membership" rel="noopener">成为会员，阅读媒体上的每一个故事！</a></p><p id="4c39" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">订阅<a class="ae lu" href="http://eepurl.com/gOH8iP" rel="noopener ugc nofollow" target="_blank">这里</a>获取更多有见地的数据文章！</p></div></div>    
</body>
</html>