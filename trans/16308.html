<html>
<head>
<title>How to Visualize Interactive 3D Networks with Python Plotly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python Plotly可视化交互式3D网络</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-visualize-interactive-3d-network-with-python-plotly-4ef6989d83cc?source=collection_archive---------26-----------------------#2020-11-10">https://towardsdatascience.com/how-to-visualize-interactive-3d-network-with-python-plotly-4ef6989d83cc?source=collection_archive---------26-----------------------#2020-11-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="266a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于Google Colab — 2020更新版</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4c447b314bc99e8d6d6caea5d4476c2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Hli_EXL94GeKDxjM"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@jjying?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> JJ英</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="0ccf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个数据的黄金时代，数据素养是<a class="ae ky" href="https://www.dataiq.co.uk/articles/articles/the-importance-of-data-literacy-in-the-workplace" rel="noopener ugc nofollow" target="_blank">最受欢迎的技能之一。每家公司都在试图收集更多的数据，数据集现在很容易(而且越来越容易)在线提供给公众，各种软件正在以巨大的速度产生数据。</a></p><p id="a761" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于这种现象，可视化和理解所有这些数据的能力(数据素养)<a class="ae ky" href="https://hbr.org/2020/02/boost-your-teams-data-literacy" rel="noopener ugc nofollow" target="_blank">现在是一种无价的技能</a>。根据《哈佛商业评论》的焦点小组研究，人们缺乏的两项技能是:</p><blockquote class="lv lw lx"><p id="fb2f" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">-创建易于理解的可视化效果，以便领导了解结果</p><p id="faa1" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">-讲述一个故事，帮助决策者看到全局，并根据分析结果采取行动</p></blockquote></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="b0ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本指南中，我将使用<a class="ae ky" href="https://colab.research.google.com/notebooks/intro.ipynb" rel="noopener ugc nofollow" target="_blank"> Google Colab </a>演示如何从头开始设置和创建您自己的Python脚本，以便您可以可视化您自己的3D网络。如果你对Plotly提供的内容有兴趣，请查看这些链接——<a class="ae ky" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank">链接</a>和<a class="ae ky" href="https://neptune.ai/blog/plotly-python-tutorial-for-machine-learning-specialists" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><p id="0e28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本指南改编自Plotly的<a class="ae ky" href="https://plotly.com/python/v3/3d-network-graph/" rel="noopener ugc nofollow" target="_blank">官方指南</a>。我对该指南所做的更改:</p><ul class=""><li id="3281" class="mj mk it lb b lc ld lf lg li ml lm mm lq mn lu mo mp mq mr bi translated">修正了一些给我错误的代码</li><li id="64a3" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated">从指南中删除了一些不必要的冗长代码，以便于理解</li></ul><p id="cee6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些就是我认为写一个新的2020更新版本可能会有帮助的原因(这里是<a class="ae ky" href="https://colab.research.google.com/drive/1uLNdjmJMcriJdcROBWNGkQR05jHHdeq9?usp=sharing" rel="noopener ugc nofollow" target="_blank"> Google Colab链接</a>)。这是最终的可视化效果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/61214a13dbecec3d5da5e8a25e4179ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*TeByuV3H5j5W7osqJd1fFQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Les Mis数据集来自<a class="ae ky" href="https://bost.ocks.org/mike/miserables/miserables.json" rel="noopener ugc nofollow" target="_blank">链接</a>，Gif由作者创建</p></figure><p id="1935" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我强烈建议查看数据集，这样我们就知道json数据是什么样子的。在数据科学项目中，您可能会遇到的最常见的错误/缺陷之一是在处理数据之前没有将数据整理成正确的形状或形式。</p><p id="254f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想写一些快速脚本，我强烈推荐使用Google Collab。已经安装了许多公共库，所以您可以直接导入它们。对于需要安装的库/包，只需使用！pip命令并运行它来获得这些库，如下所示:</p><pre class="kj kk kl km gt my mz na nb aw nc bi"><span id="25e0" class="nd ne it mz b gy nf ng l nh ni">!pip install python-igraph</span><span id="d83c" class="nd ne it mz b gy nj ng l nh ni">!pip install chart_studio</span></pre><p id="bf05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">成功安装后，我们现在将导入库，然后查看导入的数据:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="6d7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第13-15行与他们的官方指南略有不同，因为当我试图遵循他们的指南时，我得到了错误，所以我使用了urllib.request.urlopen。</p><pre class="kj kk kl km gt my mz na nb aw nc bi"><span id="4397" class="nd ne it mz b gy nf ng l nh ni">print(data.keys()) //returns dict_keys([‘nodes’, ‘links’])</span></pre><p id="770b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将打印数据键，只是为了显示数据对象的键是什么样子。</p><pre class="kj kk kl km gt my mz na nb aw nc bi"><span id="bdf8" class="nd ne it mz b gy nf ng l nh ni">print(N) //returns 77<br/>...<br/>print(data['nodes'][0]) //returns {‘name’: ‘Myriel’, ‘group’: 1}</span></pre><p id="91af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有77个节点，我们将打印第一个节点，看看它是什么样子。</p><p id="b98e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据集的快速解释—因此每个节点都有一个“名称”标签，并属于某个“组”(不同的组用不同的颜色表示)。链接就像从“源”到“目标”的每个节点之间的边，具有特定的值。</p><p id="84ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将使用kk布局创建图形，然后准备Xn、Yn、Zn和Xe、Ye、Ze。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="131f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">印刷品:</p><pre class="kj kk kl km gt my mz na nb aw nc bi"><span id="4d5a" class="nd ne it mz b gy nf ng l nh ni">IGRAPH U--- 77 254 -- <br/>+ edges:  <br/>  0 --  1  2  3  4  5  6  7  8  9 11  <br/>  1 --  0  <br/>  2 --  0  3 11  <br/>  3 --  0  2 11<br/>...</span></pre><p id="dd38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ly">注意:写…是为了替换剩余节点的长列表</em></p><pre class="kj kk kl km gt my mz na nb aw nc bi"><span id="6389" class="nd ne it mz b gy nf ng l nh ni">[[-0.547629032126533, 3.63383245493983, 2.9142413409773], [0.9167084013128767, 4.0198261702945475, 4.588913666431853], [-0.6094374124799637, 3.772671804410202, 1.7708885944486699]] <br/>[(1, 0), (2, 0), (3, 0)] <br/>['Myriel', 'Napoleon', 'Mlle.Baptistine'] [1, 1, 1] [0.9167084013128767, -0.547629032126533, None] <br/>[4.0198261702945475, 3.63383245493983, None] <br/>[4.588913666431853, 2.9142413409773, None]</span></pre><p id="7ad1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我花了一段时间才弄明白为什么我们必须在第31–33行的边上添加None。事实证明，这是因为如果我们不传递None，Plotly将在其他两个轨迹之间连接第三个轨迹(线)。要了解更多，请查看这个<a class="ae ky" href="https://stackoverflow.com/questions/42301481/adding-specific-lines-to-a-plotly-scatter3d-plot" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><p id="6b55" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们绘制节点和边的散点图，然后显示下图:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="cb64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/e2f1b2c96a9880c7e4db38568c050033.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*XR2R_F7WW5ShYRAsT6Hcyw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Les Mis数据集来自<a class="ae ky" href="https://bost.ocks.org/mike/miserables/miserables.json" rel="noopener ugc nofollow" target="_blank">链接</a>，Gif由作者创建</p></figure><p id="1366" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本教程到此为止，感谢您的阅读和…</p><p id="ff75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">快乐的数据可视化！ʕ•́ᴥ•̀ʔっ</p></div></div>    
</body>
</html>