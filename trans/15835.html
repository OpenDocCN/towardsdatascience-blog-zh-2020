<html>
<head>
<title>Fault Tolerance &amp; Redundant System with Seamless Integration to Development on AWS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">容错和冗余系统与AWS上的开发无缝集成</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/making-a-fault-tolerance-redundant-system-with-seamless-integration-to-development-on-aws-465acc556406?source=collection_archive---------27-----------------------#2020-10-31">https://towardsdatascience.com/making-a-fault-tolerance-redundant-system-with-seamless-integration-to-development-on-aws-465acc556406?source=collection_archive---------27-----------------------#2020-10-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="626c" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/making-sense-of-big-data" rel="noopener" target="_blank">理解大数据</a></h2><div class=""/><div class=""><h2 id="5e1e" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">受网飞猿人军队的启发，使用AWS自动伸缩组和CI/CD构建了一个完全管理良好的容错系统，利用CodeDeploy和CodePipeline将GitHub作为源代码控制。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/511237837eb240029ec446dce51b8cb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VFxRvdUG5ulh6Dr5oRuMEw.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com/@coldenbourg?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">卡尔·奥尔登伯格</a>在<a class="ae lh" href="https://unsplash.com/s/photos/servers?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="b198" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">每个架构师都梦想为他们的开发环境开发一个复杂的系统。制造一个<strong class="lk jd">容错</strong>系统可以确保从单点故障到系统的高可用性和冗余。现在有很多工具可以自动完成这项工作，比如AWS自动缩放组，我们需要使用它。我从<a class="me mf ep" href="https://medium.com/u/c3aeaf49d8a4?source=post_page-----465acc556406--------------------------------" rel="noopener" target="_blank">网飞科技博客</a>上读到这篇文章，并有了写这篇博客的动力。我的博客包括一个全面的端到端系统，从GitHub开始，到您的浏览器结束。我画了一张草图，这样你会对这篇文章的输出有一个更清晰的了解。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mg"><img src="../Images/01ab7b7dd4508776d3ea80f6e268a9de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ekt39gUT38wG-YnqBok7gQ.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。AWS UML图。2020.JPEG文件。</p></figure><blockquote class="mh mi mj"><p id="b8e2" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated">陷阱:这个博客有一个单独的部分叫做陷阱，它显示了我在哪里绊倒了，在哪里你也可能滑倒和绊倒。在写这篇博客的时候，我犯了很多这样的错误，并花了很多时间来解决它。因此，了解你可能跌倒的地方也很重要，可以防止你跌倒。</p></blockquote></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><blockquote class="mh mi mj"><p id="d2ab" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated"><a class="me mf ep" href="https://medium.com/u/c3aeaf49d8a4?source=post_page-----465acc556406--------------------------------" rel="noopener" target="_blank">网飞科技博客</a>创建了一个名为<strong class="lk jd">混沌猴的工具，“</strong>一个随机禁用我们生产实例的工具，以确保我们能够在没有任何客户影响的情况下经受住这种常见类型的故障。”[1](网飞四面军，2011年)</p></blockquote><p id="2b87" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">因此，基本上我们将复制相同的工具，如<strong class="lk jd">混沌猴</strong>，并将其部署在我们的系统上。他们的名字<strong class="lk jd">混沌猴</strong>来自于猴子的不可预测性属性，它会破坏服务器中它去的任何地方，我们做的完全相反。我们选择<strong class="lk jd">昏睡的熊猫</strong>，它是如此懒惰以至于忘记更新云上的一些服务器。我们将把这只熊猫放在服务器上，并修复它造成的问题。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><p id="71ab" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">对于这个项目，我将使用AWS的服务，如用于冗余和容错系统的<strong class="lk jd"> EC2实例、启动模板、弹性IP </strong>和<strong class="lk jd">自动扩展组</strong>、<strong class="lk jd"> CodeDeploy、</strong>和<strong class="lk jd"> CodePipeline </strong>用于实例的无缝代码集成，以及作为我们代码库的<strong class="lk jd"> GitHub </strong>。在开始之前，我们需要知道这些服务到底是什么。</p><ul class=""><li id="bdad" class="mv mw it lk b ll lm lo lp lr mx lv my lz mz md na nb nc nd bi translated"><strong class="lk jd">Amazon Elastic Compute Cloud(Amazon EC2)</strong>是Amazon提供的虚拟机服务，根据使用情况以最低的成本使云计算变得更简单、更快速、更可扩展。[2](亚马逊EC2，未注明日期)</li><li id="60a2" class="mv mw it lk b ll ne lo nf lr ng lv nh lz ni md na nb nc nd bi translated"><strong class="lk jd">一个</strong> <strong class="lk jd">自动缩放组</strong>是一组Amazon EC2实例，用于根据使用参数自动缩放。<strong class="lk jd">自动缩放组</strong>主要用于防止云上可能出现的任何容错。[3](自动缩放组，未注明)</li><li id="7461" class="mv mw it lk b ll ne lo nf lr ng lv nh lz ni md na nb nc nd bi translated"><strong class="lk jd">一个</strong> <strong class="lk jd">启动模板</strong>是一个配置模板，用于自动伸缩或者作为一个单一服务来启动EC2实例。[4](上市配置，未注明)</li><li id="4209" class="mv mw it lk b ll ne lo nf lr ng lv nh lz ni md na nb nc nd bi translated"><strong class="lk jd">弹性IP </strong>是由EC2实例分配的动态IP地址的静态IPv4地址。对于自动扩展组，弹性IP被动态分配给当前正在运行的实例，以减少或消除停机时间。[5](弹性IP地址，未注明)</li><li id="c16d" class="mv mw it lk b ll ne lo nf lr ng lv nh lz ni md na nb nc nd bi translated"><strong class="lk jd"> AWS CodeDeploy </strong>是一个部署服务，它自动将代码部署到不同的Amazon服务中，如Amazon EC2、Lambda和本地服务器。[6] (AWS代码部署，未注明)</li><li id="dec9" class="mv mw it lk b ll ne lo nf lr ng lv nh lz ni md na nb nc nd bi translated">AWS CodePipeline是亚马逊提供的持续集成和持续部署服务，有助于将不同来源的代码引入AWS服务。<strong class="lk jd"> AWS CodePipeline </strong>也在顶层使用CodeDeploy将代码部署到CodeDeploy上配置的服务中。[7] (AWS代码管道，未标明)</li><li id="8d72" class="mv mw it lk b ll ne lo nf lr ng lv nh lz ni md na nb nc nd bi translated">GitHub 是一个代码托管服务，它提供了一个版本控制系统，来自一个名为Git的开源服务。[8] (GitHub，未注明日期)</li></ul></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="5270" class="nj nk it bd nl nm nn no np nq nr ns nt ki nu kj nv kl nw km nx ko ny kp nz oa bi translated">弹性IP</h1><p id="5c29" class="pw-post-body-paragraph li lj it lk b ll ob kd ln lo oc kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">让我们开始建立这个系统吧。我们将首先从弹性IP中分配一个弹性IP地址。打开AWS控制台，然后进入EC2服务，在屏幕左侧滚动时，您会看到<strong class="lk jd"> Elastic IPs </strong>。选择它然后点击<strong class="lk jd">分配弹性IP地址。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi og"><img src="../Images/80cbc70a22b9fde3ec6c6ad79f5b5cbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mN6reoVGcjoy3oxwWu29bQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。分配弹性IP地址1。2020.JPEF档案。</p></figure><p id="bf9c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">点击后，您将被重定向到下一页。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oh"><img src="../Images/a415416f7377990c302e05ab24834184.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jGDfsrhfLYR-q3AgMtMUNA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。分配弹性IP地址2。2020.JPEG文件。</p></figure><p id="50a5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这里，您必须输入您希望系统存在的区域。我所在的地区目前在北弗吉尼亚，所以对我来说是“美国东部-1”。您可以在您/您想要的地区相应地进行更改。点击<strong class="lk jd">分配。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oi"><img src="../Images/c406218fe3d52b80834c65f387dfb581.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VZ9CVtGNI71osEQg9GPfhw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。分配弹性IP地址。2020.JPEG文件。</p></figure><p id="5372" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">因为您已经分配了一个弹性IP地址。现在，需要注意的重要部分是<strong class="lk jd">分配的IPv4地址</strong>和<strong class="lk jd">分配ID。</strong>这是因为我们需要将它与我们的自动缩放组相关联。</p><blockquote class="mh mi mj"><p id="4ee5" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated">陷阱1:事实证明，我们不能简单地将弹性IP地址添加到自动扩展组中，也不能通过AWS控制台添加启动模板。这只能通过AWS CLI完成。</p></blockquote><p id="418c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，我们需要一个bash脚本来动态分配地址。你需要做一些小的改动，所以一定要在一些文本编辑器上复制下面给出的代码</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oj ok l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。Bash脚本二分法。2020.JPEG文件。</p></figure><p id="1a32" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在获得那些<strong class="lk jd">分配的IPv4地址</strong>和<strong class="lk jd">分配ID后，</strong>将它们复制到它们适当的位置，行号10和11。如果您所在的地区不是<strong class="lk jd"> us-east-1，</strong>在第6(2)、10和11行更改您所在的地区。不要担心第2–9行，因为它们是AWS CodeDeploy的一部分，用于在实例上安装代码部署代理。</p><blockquote class="mh mi mj"><p id="1899" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated">陷阱2:我已经测试了上面的代码，到目前为止它运行得很好，但是如果后来有什么不工作，你需要改变，唯一的方法就是创建一个实例，然后一个接一个地运行这个命令。如果你发现错误——修复它，如果没有，转到下一个命令，如果一切正常，那么就太棒了。此外，您还会在第10行看到一条错误消息，因为它试图取消一个甚至没有关联的IP，所以您可以忽略它。</p></blockquote></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="3055" class="nj nk it bd nl nm nn no np nq nr ns nt ki nu kj nv kl nw km nx ko ny kp nz oa bi translated">启动模板</h1><p id="99f9" class="pw-post-body-paragraph li lj it lk b ll ob kd ln lo oc kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">到目前为止一切顺利，现在我们需要为我们的自动缩放组创建一个模板，以便从中启动实例。对于这个系统，我们将创建一个t2.micro实例，只需进行最少的设置就可以运行一个网页。在同一个EC2服务上，选择<strong class="lk jd">启动模板</strong>，然后点击<strong class="lk jd">创建启动模板</strong>。</p><blockquote class="mh mi mj"><p id="b1b9" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated">你也可以使用<strong class="lk jd">启动配置</strong>，但是AWS更喜欢<strong class="lk jd">启动模板</strong>，所以最好使用后者。</p></blockquote><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ol"><img src="../Images/d04beb0239b2235d191f9ee562184b71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zgMHhlexixVj7LrEQSb85w.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。正在创建启动模板1。2020.JPEG文件。</p></figure><p id="2f14" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在你被重定向到下一页后，你会得到一个表格来填写细节。用我提供的图像填充它。有些很简单，不需要解释，但有些需要解释，我会用图片来解释。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi om"><img src="../Images/c097772db26a936624abed880f32d56f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ro54eV4OZN4NGbgzp5Wbpg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。正在创建启动模板2。2020.JPEG文件。</p></figure><p id="2b9b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这是带有标签的基本名称和描述。相应地把它们装满。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi on"><img src="../Images/ec580bb58bb50e88bc2b1d8bc619c340.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Y34UFTIYtdRbVCSm5xVmg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。正在创建启动模板3。2020.JPEG文件。</p></figure><p id="0fe7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我在t2.micro上用默认的keypair选择了Amazon Linux 2 AMI。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/e01ef10cadbbc268e731e50a0de9c3a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*fqJP_fGI67KO6w4qIQ0waA.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。正在创建启动模板4。JPEG文件。</p></figure><p id="5bff" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">养成添加标签的习惯。如图所示，输入实例的标记名。</p><blockquote class="mh mi mj"><p id="cbac" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated">陷阱3:如果你不打算在模板中使用图形，那么就不要添加<strong class="lk jd"> Elastic graphics </strong>标签，因为这会在CodeDeploy阶段产生错误。因此，根据需求选择实例标签至关重要。</p></blockquote><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/ef4a88cc2d05727377423190d5598a89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*lnWldhqTSNnkeFhWrpdHyg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。正在创建启动模板5。JPEG文件。</p></figure><p id="2c17" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，展开高级细节，点击<strong class="lk jd">创建一个新的IAM配置文件。</strong>您将被重定向至IAM服务。用这个JSON制定政策。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oj ok l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。EC2模板策略。2020.JPEG文件。</p></figure><p id="ddad" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">EC2策略用于实例从命令行分配弹性IP。</p><blockquote class="mh mi mj"><p id="02b3" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated">陷阱4:您可以看到有S3 get和list访问，您可能想知道为什么？这正是我所想的。不知何故，CodeDeploy代理需要S3 get和list操作来使其工作。我在哪里可以看到我的错误，并且知道我在哪里得到错误。如果您的实例在部署CodeDeploy代理时出现问题，您可以随时在此处查看日志:<br/>-less/var/log/AWS/code deploy-agent/code deploy-agent . log<br/>从这里您可以调试将来可能面临的任何问题。</p></blockquote><p id="9e48" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">制定策略后，将其附加到您创建的新角色，然后保存它<em class="mk">。</em>点击刷新，然后你会看到新的角色在选择中弹出。我的角色名是EC2AddressRole。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi op"><img src="../Images/72e7659c6d6b6e5cd41a4782ec184dc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*8DCk0KfVQMdMNa2fD_sjmg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。正在创建启动模板6。2020.JPEG文件。</p></figure><p id="6792" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">记得你上面复制的脚本。现在，是时候将脚本代码复制回<strong class="lk jd">用户数据</strong>上的模板了。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/29855a9d6c4354a97bb3d8270adc5590.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*O0Gc3ZKKB_5OB6Sbk-HZvg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。正在创建启动模板7。2020.JPEG文件。</p></figure><p id="648f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">点击<strong class="lk jd">创建模板版本</strong>和<strong class="lk jd">查看启动模板。</strong>您已经成功制作了一个启动模板。现在到自动缩放组。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="fd14" class="nj nk it bd nl nm nn no np nq nr ns nt ki nu kj nv kl nw km nx ko ny kp nz oa bi translated">自动缩放组</h1><p id="4c83" class="pw-post-body-paragraph li lj it lk b ll ob kd ln lo oc kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">让我们制作自动缩放组。转到同一EC2服务上的<strong class="lk jd">自动缩放组</strong>，然后单击<strong class="lk jd">创建自动缩放组。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi or"><img src="../Images/1efebedbbbe1068ab9e47cbccdfe969d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O3SPQKsrgfjq0DTdfIDsJw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。创建自动缩放组1。2020.JPEG文件。</p></figure><p id="08ec" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在添加名称并选择我们刚刚制作的模板。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi os"><img src="../Images/aa0c888292bdf1236d334c3ff5bfa340.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*xM-EhzdWrXoiiJYgVWrRyg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。创建自动缩放组2。2020.JPEG文件。</p></figure><p id="94ae" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">从给定区域中选择子网。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/4535d6be4bcd631ba871ad918c83372a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*Op3hOqz3gVIKEktMtNsAyw.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。创建自动缩放组3。JPEG文件。</p></figure><blockquote class="mh mi mj"><p id="665f" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated">陷阱5:选择子网时要非常小心。在我的例子中，t2.micro实例在us-east-1e上不可用，这导致自动缩放组崩溃。您总是可以在自动缩放组活动部分看到错误。请仔细阅读，因为这对于调试您的系统以及了解整体情况非常重要。</p></blockquote><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/00a2b42ed68d382ae8e52dbf9869c5d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*t2aG5E5TAxBczSIwszdFfw.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。创建自动缩放组4。JPEG文件。</p></figure><p id="a98f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让它默认。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/8c3c9e30174f3c8c2105fbd253bd5f03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*qpFnponp3CR5Z6KyBjBrCg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。创建自动缩放组5。2020.JPEG文件。</p></figure><p id="1cd2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这里，添加您想要的容量，即您想要启动并运行多少个实例。选择最小容量始终等于或小于所需容量，最大容量等于或大于所需容量。在扩展策略中，您可以选择它，并且可以将CPU利用率作为您的指标添加到自动扩展中，但是现在，我将保留默认设置。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/22f501f1e492158f4f0a84b7001098f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*xsIeM9c_goVT9MoXqdyQcQ.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。创建自动缩放组6。2020.JPEG文件。</p></figure><p id="4b19" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果需要，可以在电子邮件或电话中添加通知。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/299c031083215ea769fce19f17603955.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*Elc-QxcGtDYs2JFCfZREIw.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。创建自动缩放组7。2020.JPEG文件。</p></figure><blockquote class="mh mi mj"><p id="24b4" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated">陷阱6:不要依赖启动模板标签，因为有时标签不会写在实例上。所以最好把他们放在自动缩放组里，这样比较安全。</p></blockquote><p id="1270" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">按照上面的选择添加标签。单击下一步，然后创建自动缩放组。您将看到您的实例在EC2仪表板上弹出。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="f540" class="nj nk it bd nl nm nn no np nq nr ns nt ki nu kj nv kl nw km nx ko ny kp nz oa bi translated">代码部署</h1><p id="a883" class="pw-post-body-paragraph li lj it lk b ll ob kd ln lo oc kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">现在下一步是设置CodeDeploy和CodePipeline，将您的代码从GitHub部署到这些实例。在此之前，您需要再次创建一个新角色，这次是为了CodeDeploy。转到IAM并为CodeDeploy创建一个角色。这很简单:进入<strong class="lk jd">角色- &gt;创建角色- &gt; </strong>选择<strong class="lk jd"> CodeDeploy - &gt; </strong>选择<strong class="lk jd">第一个</strong> ( <em class="mk">允许CodeDeploy调用AWS服务，比如代表你自动伸缩。</em> ) - &gt; <strong class="lk jd">下一个- &gt; </strong>给个<strong class="lk jd">名- &gt;评</strong>完事。现在，从AWS服务转到CodeDeploy，并从<strong class="lk jd">应用程序中单击<strong class="lk jd">创建应用程序</strong>。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oy"><img src="../Images/abccf9c6af43aaf2a085f50ebbd9813d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e_0LCT0pZ-heDI9oD3Mswg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。设置代码部署1。2020.JPEG文件。</p></figure><p id="3627" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">写下名称并在计算平台上选择EC2，然后点击<strong class="lk jd">创建应用。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/18dcbd27aa9c8eb48fef68b8bd6bda7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*sjSEQ6d6dqMh0v9lhA7O_g.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。设置代码部署2。2020.JPEG文件。</p></figure><p id="c70f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，点击<strong class="lk jd">创建部署组。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pa"><img src="../Images/9c8d5f87850588bea07abac3c9318878.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2CotiVVn0Ek1Pt8adRK-7A.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。设置代码部署3。2020.JPEG文件。</p></figure><p id="0d9b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">添加名称并选择您刚刚从上面创建的角色。我的角色名是<strong class="lk jd"> CodeDeployUnit4。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi op"><img src="../Images/e67dc884f76ed667ef93c5038970bf29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*7IFUvZTgHSg7WadcAcWd-w.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。设置代码部署4。2020.JPEG文件。</p></figure><p id="4b85" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">选择<strong class="lk jd">自动缩放组</strong>作为您的部署设置。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/46dc5c4071dc165fa0a72fdd0ddb7a14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*CZC5HtiGAdMaXF-ioIJGqg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。设置代码部署5。2020.JPEG文件。</p></figure><p id="b759" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">禁用<strong class="lk jd">负载平衡</strong>和<strong class="lk jd">创建一个部署组。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/3ff6d45a73d4c71b17bcd06aaa231b87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*6kWV2JJUaENX9m-NNr8RPA.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。设置代码部署6。2020.JPEG文件。</p></figure><p id="ec45" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您的部署组现在已经准备好了。现在让我们向您的Git存储库添加一些示例代码。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="28b7" class="nj nk it bd nl nm nn no np nq nr ns nt ki nu kj nv kl nw km nx ko ny kp nz oa bi translated">代码管道</h1><p id="582a" class="pw-post-body-paragraph li lj it lk b ll ob kd ln lo oc kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">AWS有自己的代码准备从CodeDeploy推送，这里是桶。</p><pre class="ks kt ku kv gt pd pe pf pg aw ph bi"><span id="42c3" class="pi nk it pe b gy pj pk l pl pm">aws s3 cp s3://aws-codedeploy-us-east-1/samples/latest/SampleApp_Linux.zip . — region us-east-1</span></pre><blockquote class="mh mi mj"><p id="5e51" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated">陷阱7:现在不要试图上传你自己的代码，因为你稍后会看到它本身有一些钩子，我们可以在另一个博客中深入挖掘，所以现在坚持使用AWS给出的默认代码。从桶中下载时也要注意区域。</p></blockquote><p id="5b43" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">将此代码添加到您的存储库中，私有/公共无关紧要。现在在开发者工具的设置上，选择<strong class="lk jd">连接</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/0f81c788f9dae5394ac4b48bda39dccd.png" data-original-src="https://miro.medium.com/v2/resize:fit:376/format:webp/1*aePm_bxpY8tyT4hXMsqExw.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。设置代码管道1。2020.JPEG文件。</p></figure><p id="10af" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">点击<strong class="lk jd">创建连接</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi po"><img src="../Images/c0326b72d8aee4243dfffcc1ca8a26d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sZ9H8RPhGpj-nlv3eEwZIA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。设置代码管道2。2020.JPEG文件。</p></figure><p id="5789" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">它会将您重定向到下一页，在这里您给出连接名称。在那里添加任何名称。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/36de3bd38937f76ff6d84915245cccf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*Ev697MErHQzHrTCrs3aRvQ.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。设置代码管道3。2020.JPEG文件。</p></figure><p id="3037" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这将把你重定向到GitHub页面。登录，如果已经登录，则允许访问。之后，您将在Connections选项卡上看到您的连接。很好。现在转到代码管道，点击<strong class="lk jd">创建管道。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pq"><img src="../Images/b06dd3955d714138b9febc6badf37dd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*epc3Ri-s_rwhFv2NdC30Iw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。设置代码管道4。2020.JPEG文件。</p></figure><p id="194f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">添加您的姓名，一切保留默认值，然后单击下一步的<strong class="lk jd">。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/b64af9748ae85e75bf5347a27b4e1dbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*fJGbJrxnokzbjqI0dUe06w.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。设置代码管道5。2020.JPEG文件。</p></figure><p id="6c06" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">选择<strong class="lk jd"> Github版本2 </strong>并在设置中选择您刚刚建立的连接。此外，给出存储库名称和它的分支名称。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/e6d8396b211e6379e49d1b220471c5d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*SLttVMKDkqmcgX2vycoBHQ.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。设置代码管道6。2020.JPEG文件。</p></figure><p id="36a6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">跳过构建阶段</strong>，因为我们使用的是普通的HTML代码。现在，选择您刚刚创建的<strong class="lk jd">应用名称</strong>和<strong class="lk jd">部署组</strong>，点击<strong class="lk jd">下一步</strong>和<strong class="lk jd">创建管道。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/179ad0e7d6363b306a5912046f2f77b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*rriCYjqeqKPCfkGiJgpaNQ.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。设置代码管道7。2020.JPEG文件。</p></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="4b4b" class="nj nk it bd nl nm nn no np nq nr ns nt ki nu kj nv kl nw km nx ko ny kp nz oa bi translated">结果</h1><p id="0e81" class="pw-post-body-paragraph li lj it lk b ll ob kd ln lo oc kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">现在，唯一要做的就是测试。在HTML页面上编辑一些行，并推送代码。一旦您推送代码，代码管道将运行，然后将其部署到自动扩展组，这将通过单个弹性IP显示。</p><blockquote class="mh mi mj"><p id="a6d7" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated">陷阱8:这段代码将会运行，但是当然，当你把你自己的代码放入时，你将会遇到部署问题。为此我有备而来。<br/><a class="ae lh" href="https://docs.aws.amazon.com/codedeploy/latest/userguide/error-codes.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/code deploy/latest/user guide/error-codes . html</a><br/>code deploy有自己的错误，你可以使用上面的链接对它们进行排序。还要检查陷阱4，因为也可以在那里找到错误</p><p id="9dbe" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated">陷阱9:有时一切从头到尾都是正确的，但是代码部署失败了。你可能会笑，但这里的解决方案是<br/> sudo服务代码部署-代理重启<br/>是的，重启有时会修复所有错误，所以在调试时也使用它</p></blockquote><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ps"><img src="../Images/c90b526072dd0451faa00bbb892761de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YwIyVISU5S1UASMUoGTaxQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。代码管道1的结果。2020.JPEG文件。</p></figure><p id="dd3c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在让我们看看弹性IP。我将把我的名字写进index.html档案。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pt"><img src="../Images/bdfa83aa26473b2f5a7968accb3ffb5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dvbGnIZu31sOZmCg2nnRtg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。代码管道2的结果。2020.JPEG文件。</p></figure><p id="4264" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我把我的名字加在了样板文本的下面，这看起来很有效。Yayyy！</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="ddb0" class="nj nk it bd nl nm nn no np nq nr ns nt ki nu kj nv kl nw km nx ko ny kp nz oa bi translated">昏睡的熊猫</h1><p id="0082" class="pw-post-body-paragraph li lj it lk b ll ob kd ln lo oc kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">事不宜迟，让我们召唤昏睡的熊猫行动起来。对于它的先决条件，您只需要安装一个<strong class="lk jd"> AWS CLI </strong>、<strong class="lk jd"> AWS IAM用户</strong>和<strong class="lk jd"> EC2访问角色</strong>，并将其添加到您将要使用的机器上。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oj ok l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。昏睡的熊猫二分法。2020.JPEG文件。</p></figure><p id="761a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">运行该命令，您可以看到这只熊猫导致您的一个实例被终止。但是担心，不是我们的自动缩放组已经得到了它。现在检查你的弹性IP，看看你的网站是不是宕机了。它运行正常。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pt"><img src="../Images/bdfa83aa26473b2f5a7968accb3ffb5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dvbGnIZu31sOZmCg2nnRtg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏拉布什雷斯塔。昏睡的熊猫的结果。2020.JPEG文件。</p></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="0bfe" class="nj nk it bd nl nm nn no np nq nr ns nt ki nu kj nv kl nw km nx ko ny kp nz oa bi translated">结论</h1><p id="2fcf" class="pw-post-body-paragraph li lj it lk b ll ob kd ln lo oc kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">我真的很喜欢做这个系统，它能流畅地运行代码并具有容错能力。这只是一个开始，因为我们可以采用其他技术，如通过它运行机器学习代码，使用S3保存模型，托管Node/React应用程序，同时利用代码管道上的构建步骤，使用代码管道将GitHub代码推送到CodeDeploy以外的地方，利用AWS Lambda上的部署组，但让我们具体谈谈这在数据科学中的使用。</p><blockquote class="mh mi mj"><p id="9e7d" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated">陷阱10:这更像是我过去所做的事情。在部署用于构建模型的机器学习代码时，我将代码推入GitHub，然后打开实例，提取最新的代码，运行代码并生成模型。有时在对代码做小的修改时，我会直接在实例上修改它，这有时会导致两个本地存储库之间的差异。落实到这一点，不仅仅是在做一些网站的同时，在大数据科学上，机器学习项目肯定会加速，工作流的速率也会提高。执行这些步骤可以让您更专注于模型的研究方面，而不是配置方面，因为做数据科学就是要进行实验和交付。</p><p id="2f56" class="li lj mk lk b ll lm kd ln lo lp kg lq ml ls lt lu mm lw lx ly mn ma mb mc md im bi translated">缺陷11:在生成机器学习模型后，你可以在linux系统的cronjob上使用这个命令将其自动同步到S3。<br/>AWS S3 sync&lt;source&gt;S3://&lt;destination-bucket&gt;<br/>这将使您的模型在单一路径上高度可用。不需要进入实例，搜索和下载路径。</p></blockquote><p id="9639" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然而，选择是无穷无尽的，你想做什么取决于你自己。如果你遇到任何问题或难以遵循这些步骤，请在下面评论这篇文章或在tsulabh4@gmail.com给我发消息。你也可以通过Linkedin<a class="ae lh" href="https://www.linkedin.com/in/sulabhshrestha/" rel="noopener ugc nofollow" target="_blank">和GitHub</a><a class="ae lh" href="https://github.com/codexponent" rel="noopener ugc nofollow" target="_blank">与我联系，或者订阅我的时事通讯来获得精彩的博客。</a></p><div class="pu pv gp gr pw px"><a href="http://eepurl.com/hg2RQP" rel="noopener  ugc nofollow" target="_blank"><div class="py ab fo"><div class="pz ab qa cl cj qb"><h2 class="bd jd gy z fp qc fr fs qd fu fw jc bi translated">苏拉布·什雷斯塔</h2><div class="qe l"><h3 class="bd b gy z fp qc fr fs qd fu fw dk translated">Sulabh Shrestha电子邮件表单</h3></div><div class="qf l"><p class="bd b dl z fp qc fr fs qd fu fw dk translated">eepurl.com</p></div></div><div class="qg l"><div class="qh l qi qj qk qg ql lb px"/></div></div></a></div></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="6fc1" class="nj nk it bd nl nm nn no np nq nr ns nt ki nu kj nv kl nw km nx ko ny kp nz oa bi translated">参考</h1><p id="b1e2" class="pw-post-body-paragraph li lj it lk b ll ob kd ln lo oc kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">[1] <a class="me mf ep" href="https://medium.com/u/c3aeaf49d8a4?source=post_page-----465acc556406--------------------------------" rel="noopener" target="_blank">网飞科技博客</a>，<a class="ae lh" href="https://netflixtechblog.com/the-netflix-simian-army-16e57fbab116" rel="noopener ugc nofollow" target="_blank">网飞猿猴军</a> (2011)，中等。</p><p id="e995" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">[2]亚马逊EC2，检索自亚马逊官网【https://aws.amazon.com/ec2<a class="ae lh" href="https://aws.amazon.com/ec2" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="5f37" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">[3]自动缩放组，检索自<a class="ae lh" href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/AutoScalingGroup.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/Auto Scaling/ec2/user guide/Auto Scaling group . html</a>(n . d)，亚马逊官网。</p><p id="b51f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">[4]启动配置，检索自<a class="ae lh" href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/LaunchConfiguration.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/auto scaling/ec2/user guide/Launch configuration . html</a>(n . d)，亚马逊官网。</p><p id="642a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">【5】弹性IP地址，检索自<a class="ae lh" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/AWS C2/latest/user guide/Elastic-IP-addresses-EIP . html</a>(n . d)，亚马逊官网。</p><p id="c743" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">[6] AWS CodeDeploy，检索自亚马逊官网<a class="ae lh" href="https://aws.amazon.com/codedeploy/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/codedeploy/</a>(未注明)。</p><p id="e63b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">[7] AWS CodePipeline，检索自亚马逊官网<a class="ae lh" href="https://aws.amazon.com/codepipeline/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/codepipeline/</a>(未注明)。</p><p id="8629" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">[8] Github，从https://github.com/的GiHub公司检索。</p></div></div>    
</body>
</html>