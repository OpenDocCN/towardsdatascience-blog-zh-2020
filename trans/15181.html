<html>
<head>
<title>Python Data Visualization with Matplotlib — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Matplotlib实现Python数据可视化—第1部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualizations-with-matplotlib-part-1-c9651008b6b8?source=collection_archive---------11-----------------------#2020-10-19">https://towardsdatascience.com/visualizations-with-matplotlib-part-1-c9651008b6b8?source=collection_archive---------11-----------------------#2020-10-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/b864185395161c2903ad4e301fe81a70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_sPcivBKv7IkKo4f"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">Jukan Tateisi 在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="c4e0" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph">Matplotlib简介</h2><div class=""/><div class=""><h2 id="5b99" class="pw-subtitle-paragraph kp js jj bd b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dk translated">完成了从基础到高级的Python绘图的Matplotlib教程，包含100多个示例</h2></div><p id="1802" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">数据可视化旨在将数据以更直观的方式呈现，如散点图、密度图、条形图等。向读者或分析师提供他们数据的全局描述也是有用的。通过可视化您的数据，您可以检测潜在的异常值。在Python中，可以使用各种模块或库来可视化数据。其中一个主流模块是<a class="ae jg" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> Matplotlib。</a>您可以使用Matplotlib以各种绘图风格可视化数据。但是，Matplotlib不能显示动态图。如果你想创造一个巨大的动态剧情，可以用plotly的<a class="ae jg" href="https://plotly.com/dash/" rel="noopener ugc nofollow" target="_blank"> Dash </a>(希望下个月用Dash完成一个关于完整教程的故事)。</p><p id="8876" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这个故事将指导你如何用Matplotlib以各种方式可视化数据。90个例子也许能启发你从不同的角度创造一个情节。这不是Matplotlib在数据可视化方面最完整的教程，但我相信这个故事可以满足许多人的需求，接触到许多要应用的门徒。</p><p id="2604" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">正如我之前提到的，我将指导你创建90个不同的情节示例。这些示例分布在11个不同样式的图中:散点图、折线图、直方图1D、2D、边际图、条形图、箱线图、小提琴图、饼图、极坐标图、地理投影、3D图和等高线图。您可以从图1中了解这个故事的大致情况。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi md"><img src="../Images/a0b348bfa125b81c069ca3f30dc98c3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OAFEIg9w1XHyZk0xBud14A.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图一。Matplotlib中生成的各种类型的绘图(图片由作者提供)。</p></figure><p id="6735" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在这个故事中，我试图专注于创造和定制各种情节。所以，我假设你已经知道它之外的一些技术，例如，在Matplotlib中创建多个支线剧情和定制颜色图。如果你还不知道，我会给你一些链接来了解它。</p><p id="36ff" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在开始写这个故事的时候，我打算只写1个故事。但是，因为阅读时间的原因，我想我需要把它分成几部分。如果我全部写在一个故事里，就要40多分钟。我估计你光看一个故事就全看完了会很无聊:)。所以，我把它分成2或3部分。我会把阅读时间限制在30分钟以内。这是第一部分。我们开始吧。</p><h2 id="8582" class="mi mj jj bd mk ml mm dn mn mo mp dp mq lq mr ms mt lu mu mv mw ly mx my mz jp bi translated">Matplotlib简介</h2><p id="10e4" class="pw-post-body-paragraph lh li jj lj b lk na kt lm ln nb kw lp lq nc ls lt lu nd lw lx ly ne ma mb mc im bi translated">要安装Matplotlib，您可以使用以下代码通过pip安装它</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="7947" class="mi mj jj ng b gy nk nl l nm nn">pip install matplotlib</span></pre><p id="f050" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">或通过康达</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="1b3d" class="mi mj jj ng b gy nk nl l nm nn">conda install -c anaconda matplotlib</span></pre><p id="202a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">当我写这个故事时，我安装了Matplotlib 3 . 3 . 2版。你可以通过写这段代码来检查它。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="b2f1" class="mi mj jj ng b gy nk nl l nm nn">pip show matplotlib</span></pre><p id="7b6e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果你想在Jupyter笔记本(以下简称Jupyter)上查看，可以添加！在pip之前，如图2所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi no"><img src="../Images/598d7647951727e0d1fa3c252a4cc91b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*8RUzwIxT6gFIa1VZYVKVGA.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图二。通过Jupyter检查Matplotlib版本(图片由作者提供)。</p></figure><p id="b15d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果你想升级你的Matplotlib版本，你可以使用下面的代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="930d" class="mi mj jj ng b gy nk nl l nm nn">pip install matplotlib --upgrade</span></pre><p id="e3a2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">还是那句话，可以补充！在pip通过Jupyter升级Matplotlib之前。</p><p id="68cc" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果你用我在这个故事中使用的Matplotlib安装了不同的Matplotlib版本，也许你会面临不同的结果。请在下面的回复栏中写下您遇到的问题。我建议你保存这个故事。所以，如果时间有限，可以继续读下去。</p><p id="7907" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在我们继续第一部分之前，我需要通知您，我已经定制了我的Matplotlib绘图样式，例如使用LaTeX字体作为默认字体，更改字体大小和字体系列，更改xtick和ytick的方向和大小，并在x轴和y轴上添加次要刻度。要使用LaTeX字体作为Matplotlib中的默认字体，可以使用以下代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="e661" class="mi mj jj ng b gy nk nl l nm nn">plt.rcParams['text.usetex'] = True</span></pre><p id="9e70" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果你面临一些错误，你需要阅读下面的故事。我已经解释了在Matplotlib中处理LaTeX字体的详细过程</p><div class="is it gp gr iu np"><a rel="noopener follow" target="_blank" href="/5-powerful-tricks-to-visualize-your-data-with-matplotlib-16bc33747e05"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd jt gy z fp nu fr fs nv fu fw js bi translated">使用Matplotlib可视化数据的5个强大技巧</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">如何使用LaTeX字体，创建缩放效果，发件箱图例，连续错误，以及调整框填充边距</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od ja np"/></div></div></a></div><p id="a4e1" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要定制其他参数(字体大小、字体系列和刻度参数),只需在代码的开头编写以下代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="e06d" class="mi mj jj ng b gy nk nl l nm nn">plt.rcParams['font.size'] = 15<br/>plt.rcParams['font.family'] = "serif"</span><span id="e650" class="mi mj jj ng b gy oe nl l nm nn">tdir = 'in'<br/>major = 5.0<br/>minor = 3.0<br/>plt.rcParams['xtick.direction'] = tdir<br/>plt.rcParams['ytick.direction'] = tdir</span><span id="6d4c" class="mi mj jj ng b gy oe nl l nm nn">plt.rcParams['xtick.major.size'] = major<br/>plt.rcParams['xtick.minor.size'] = minor<br/>plt.rcParams['ytick.major.size'] = major<br/>plt.rcParams['ytick.minor.size'] = minor</span></pre><p id="f302" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果你需要更详细地了解它，你可以访问这个故事</p><div class="is it gp gr iu np"><a rel="noopener follow" target="_blank" href="/create-professional-plots-using-matplotlib-63a6863b7363"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd jt gy z fp nu fr fs nv fu fw js bi translated">使用Matplotlib创建专业绘图</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">使用样式表和rcParams自定义Matplotlib，并选择色盲友好调色板</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="of l oa ob oc ny od ja np"/></div></div></a></div><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/7c4630854a9e9fbfffee9f3d5eefe583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yu6JGe-1C4w8h1md6Kzq4w.png"/></div></div></figure><h2 id="ccb4" class="mi mj jj bd mk ml mm dn mn mo mp dp mq lq mr ms mt lu mu mv mw ly mx my mz jp bi translated">01.散点图</h2><p id="496b" class="pw-post-body-paragraph lh li jj lj b lk na kt lm ln nb kw lp lq nc ls lt lu nd lw lx ly ne ma mb mc im bi translated">在本节中，有八个散点图示例。在创建散点图之前，我需要使用这段代码生成模拟数据</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="dfd7" class="mi mj jj ng b gy nk nl l nm nn">import numpy as np<br/>import matplotlib.pyplot as plt</span><span id="3f90" class="mi mj jj ng b gy oe nl l nm nn">N = 50</span><span id="accf" class="mi mj jj ng b gy oe nl l nm nn">x = np.linspace(0., 10., N)<br/>y = np.sin(x)**2 + np.cos(x)</span></pre><p id="9302" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">变量x是50个数据的数组，从0到10。变量y是sin(x)和cos(x)的平方之和。我想用这段代码以散点图的形式显示x轴上的变量x和y轴上的变量y</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="a4a7" class="mi mj jj ng b gy nk nl l nm nn">plt.figure()<br/>plt.scatter(x, y)</span></pre><p id="e415" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">它是如此简单。代码将向您显示一个结果，如图3所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/496376f4f42dec49809694069fb80c42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tk0OHY-M0A2c2WtQZ9MnQQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图3。Matplotlib中的默认散点图(图片由作者提供)。</p></figure><p id="17d5" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了使它更漂亮，您可以减少每个数据的大小，并使用以下代码给出标签</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="f770" class="mi mj jj ng b gy nk nl l nm nn">plt.scatter(x, y, s = 15, label = r'$y  = sin^2(x) + cos(x)$')</span></pre><p id="5d6f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要更改颜色，您需要在散点语法中添加此参数</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="53f8" class="mi mj jj ng b gy nk nl l nm nn">color = 'r' # r means red</span></pre><p id="1705" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果想使坐标轴刻度处于相同的刻度，可以使用这段代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="83fc" class="mi mj jj ng b gy nk nl l nm nn">plt.axis('equal')</span></pre><p id="4dfa" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要为x轴和y轴创建轴标签，可以添加以下代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="c5df" class="mi mj jj ng b gy nk nl l nm nn">plt.xlabel(r'$x$ (rad)')<br/>plt.ylabel(r'$y$')</span></pre><p id="bc59" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您已经标记了您的散点图，但没有将其显示为图例。为了展示它，您可以使用以下代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="7f76" class="mi mj jj ng b gy nk nl l nm nn">plt.legend()</span></pre><p id="070e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要保存您的绘图，您可以使用保存图形语法，如以下代码所示</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="c9dd" class="mi mj jj ng b gy nk nl l nm nn">plt.savefig('scatter2.png', dpi = 300, bbox_inches = 'tight', facecolor='w')</span></pre><p id="b554" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">上面的代码将以scatter2.png的名字保存您的绘图，分辨率为每英寸300点，紧密的bbox，白色背景。如果您省略了bbox_inches和face color参数，这是可以的，但是可能会得到不同的结果。试试吧。</p><p id="8305" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这是完整的代码</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="b2eb" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">该代码将创建一个散点图，如图4所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ok"><img src="../Images/2087b8f6ddf67802db9a8242ba417abf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wj0oOIr-ma-QQaz6tekK3Q.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图4。修改了Matplotlib中的散点图(图片由作者提供)。</p></figure><p id="8a36" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">可以看到轴内x轴和y轴的刻度方向，使用的字体是LaTeX格式。如果您想要更改图形大小，您可以在plt.figure()中添加图形大小参数</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="93b7" class="mi mj jj ng b gy nk nl l nm nn">plt.figure(figsize=(7, 4.5))</span></pre><p id="c11c" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">改变标记样式</strong></p><p id="ff08" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">例如，要更改标记样式，我想将点改为十字，您可以在plt.scatter中添加此参数</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="f65a" class="mi mj jj ng b gy nk nl l nm nn">marker = 'x'</span></pre><p id="f6c9" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">图5是应用上面代码的结果</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ol"><img src="../Images/af24bad180693f78c628b569ce9163ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8wooQGYCELAZrCdnKVbyRA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图5。用Matplotlib修改散点图中的标记样式。</p></figure><p id="1917" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">Matplotlib中有大量的标记样式可以使用。你可以点击下面的链接查看。</p><div class="is it gp gr iu np"><a href="https://matplotlib.org/api/markers_api.html" rel="noopener  ugc nofollow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd jt gy z fp nu fr fs nv fu fw js bi translated">Matplotlib . markers-Matplotlib 3 . 3 . 2文档</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">处理标记的函数；由和的标记功能使用。这里定义了所有可能的标记:标记…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">matplotlib.org</p></div></div></div></a></div><p id="f39e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果你已经阅读了上面的文档，你可以意识到你可以使用字母表作为你的标记样式。我将向您展示应用字母表作为标记的示例，如图6所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi om"><img src="../Images/7fb61d0d5a0cff1161bf6016b8b3e4fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bx_S_S_QTuM38FaAv25pSg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图6。Matplotlib中的字母标记(图片由作者提供)。</p></figure><p id="6f77" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了生成图6，我为x轴和y轴上的参数创建了一个不同的函数。下面是生成它的代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="9712" class="mi mj jj ng b gy nk nl l nm nn">np.random.seed(100)</span><span id="ceb5" class="mi mj jj ng b gy oe nl l nm nn">N = 50</span><span id="2cba" class="mi mj jj ng b gy oe nl l nm nn">randx = np.random.random(N) * 100<br/>randy = np.random.random(N) * 100</span></pre><p id="31d3" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了可视化变量randx和randy，我运行以下代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="280f" class="mi mj jj ng b gy nk nl l nm nn">plt.figure(figsize=(7, 6))</span><span id="6997" class="mi mj jj ng b gy oe nl l nm nn">plt.scatter(randx, randy, marker=r'$\beta$', s = 150, color = 'darkorange')</span><span id="c661" class="mi mj jj ng b gy oe nl l nm nn">plt.axis('equal')</span><span id="cfd4" class="mi mj jj ng b gy oe nl l nm nn">plt.xlabel('randx')<br/>plt.ylabel('randy')</span><span id="cf38" class="mi mj jj ng b gy oe nl l nm nn">plt.tight_layout()</span></pre><p id="266f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我使用希腊符号beta作为我的标记样式。你可以用不同的字母来改变它，如<strong class="lj jt"> <em class="on"> a、B、C、d、</em> </strong>或<strong class="lj jt"> <em class="on"> 1、2、3、</em> </strong>等。</p><p id="7ba3" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">定制每个数据的大小</strong></p><p id="c4fb" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这一小节将向您展示如何为每个数据创建不同大小的散点图，如图7所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oo"><img src="../Images/76d5f002415209613d27326448c5aab3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NAjWvQ1soPrInpLIJMvEIw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图7。在Matplotlib中自定义散点图的大小(图片由作者提供)。</p></figure><p id="65ea" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了创建它，我使用下面的代码为变量randx和randy生成一个从0到100的随机位置</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="c66e" class="mi mj jj ng b gy nk nl l nm nn">np.random.seed(100)</span><span id="2533" class="mi mj jj ng b gy oe nl l nm nn">N = 30</span><span id="009b" class="mi mj jj ng b gy oe nl l nm nn">randx = np.random.random(N) * 100<br/>randy = np.random.random(N) * 100</span></pre><p id="8cb1" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">提醒你一下，我使用Numpy生成随机数据。在生成随机数时，Numpy只在0到1的范围内生成它。据我所知，这是一个产生随机数的惯例(不仅仅是在Numpy中)，只是从0到1。要修改，可以乘以100。所以，你会得到一个0到100范围内的随机数。</p><p id="a824" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">之后，我使用下面的代码为每个数据生成一个从50到200的随机整数</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="0191" class="mi mj jj ng b gy nk nl l nm nn">size = np.random.randint(50, 200, size=N)</span></pre><p id="c002" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要将其可视化，只需使用以下代码添加将应用于每个数据的大小的参数</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="6a44" class="mi mj jj ng b gy nk nl l nm nn">plt.scatter(randx, randy, s = size, color = 'darkorange')</span></pre><p id="900b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">创建图7的附加语法是在x轴和y轴上插入次要刻度。要插入它，您需要使用以下代码导入子模块MultipleLocator</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="c4d3" class="mi mj jj ng b gy nk nl l nm nn">from matplotlib.ticker import MultipleLocator</span></pre><p id="246d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">之后，您可以添加以下语法来插入短轴</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="98dc" class="mi mj jj ng b gy nk nl l nm nn">ax = plt.gca()</span><span id="4cf2" class="mi mj jj ng b gy oe nl l nm nn">ax.xaxis.set_minor_locator(MultipleLocator(10))<br/>ax.yaxis.set_minor_locator(MultipleLocator(10))</span></pre><p id="691f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下面是生成图7的完整代码。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="71db" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">颜色编码散点图</strong></p><p id="70cf" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以使用色彩映射表来更改颜色。这意味着不同大小的数据将用不同的颜色进行颜色编码。您可以像这样在plt.scatter()中添加颜色参数</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="e10f" class="mi mj jj ng b gy nk nl l nm nn">c = size</span></pre><p id="44df" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要嵌入颜色条，您可以使用以下代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="c864" class="mi mj jj ng b gy nk nl l nm nn">plt.colorbar()</span></pre><p id="49be" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您将得到一个图，如图8所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi op"><img src="../Images/7815a4396df4947f98788b24eefdd36b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rAuxdQGJOxud933msZorwQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图8。使用Matplotlib修改散点图中的颜色编码(图片由作者提供)。</p></figure><p id="dd11" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下面是生成图8的完整代码。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="8922" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">定制彩色地图</strong></p><p id="2b26" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以使用此参数更改色彩映射表</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="57bb" class="mi mj jj ng b gy nk nl l nm nn">cmap = 'inferno'</span></pre><p id="e48e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以查看此链接，了解Matplotlib提供的所有色彩映射表</p><div class="is it gp gr iu np"><a href="https://matplotlib.org/3.3.2/tutorials/colors/colormaps.html" rel="noopener  ugc nofollow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd jt gy z fp nu fr fs nv fu fw js bi translated">在Matplotlib中选择色彩映射表— Matplotlib 3.3.2文档</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">Matplotlib有许多内置的色彩映射表，可以通过。还有外部库，如[palettable]和…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">matplotlib.org</p></div></div><div class="ny l"><div class="oq l oa ob oc ny od ja np"/></div></div></a></div><p id="6c58" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在本教程中，我已经通过结合蓝色和橙色的颜色创建了自己的颜色图，如图9所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi or"><img src="../Images/7197b3ec2e53cb8e644d575e825e7822.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*rlILdUDUamx11De4uxOUmg.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图9。在Matplotlib中自定义色彩映射表(图片由作者提供)。</p></figure><p id="9751" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了组合它，我使用了以下代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="45b8" class="mi mj jj ng b gy nk nl l nm nn">from matplotlib import cm<br/>from matplotlib.colors import ListedColormap, LinearSegmentedColormap</span><span id="c2bf" class="mi mj jj ng b gy oe nl l nm nn">top = cm.get_cmap('Oranges_r', 128)<br/>bottom = cm.get_cmap('Blues', 128)</span><span id="a5a6" class="mi mj jj ng b gy oe nl l nm nn">newcolors = np.vstack((top(np.linspace(0, 1, 128)),<br/>                       bottom(np.linspace(0, 1, 128))))<br/>orange_blue = ListedColormap(newcolors, name='OrangeBlue')</span></pre><p id="2aff" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我创建了自己的色彩映射表，命名为<strong class="lj jt"> <em class="on">橙_蓝</em> </strong>。要了解如何在Matplotlib中创建和定制自己的色彩映射表，您可以通过以下链接阅读</p><div class="is it gp gr iu np"><a rel="noopener follow" target="_blank" href="/creating-colormaps-in-matplotlib-4d4de78a04b8"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd jt gy z fp nu fr fs nv fu fw js bi translated">在Matplotlib中创建色彩映射表</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">从颜色列表中创建和定制自己的色彩映射表的指南</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="os l oa ob oc ny od ja np"/></div></div></a></div><p id="a113" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要应用它，我只需更改颜色参数<strong class="lj jt"> <em class="on"> c = orange_blue </em> </strong>。您可以在图11中查看结果。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ot"><img src="../Images/a732c292b7a45aa0899b1c7c1e26bfc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lO63wJhpybIOaZGqX3GbLw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图11。使用Matplotlib自定义散点图中的颜色图。</p></figure><p id="cb2d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下面是生成图11的完整代码。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="a25c" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这是本节的结尾，用Matplotlib创建散点图。如果您遇到一些错误，您可以在回复栏中留下评论。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/7c4630854a9e9fbfffee9f3d5eefe583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yu6JGe-1C4w8h1md6Kzq4w.png"/></div></div></figure><h2 id="7881" class="mi mj jj bd mk ml mm dn mn mo mp dp mq lq mr ms mt lu mu mv mw ly mx my mz jp bi translated">02.线形图</h2><p id="cdaf" class="pw-post-body-paragraph lh li jj lj b lk na kt lm ln nb kw lp lq nc ls lt lu nd lw lx ly ne ma mb mc im bi translated">为了在Matplotlib中绘制线图，我将使用以下代码生成模拟数据</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="bd76" class="mi mj jj ng b gy nk nl l nm nn">N = 50</span><span id="ba02" class="mi mj jj ng b gy oe nl l nm nn">x = np.linspace(0., 10., N)<br/>y = np.sin(x)**2 + np.cos(x)</span></pre><p id="df57" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要以线形图的形式可视化变量x和y，您需要使用下面的简单代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="958d" class="mi mj jj ng b gy nk nl l nm nn">plt.plot(x, y)</span></pre><p id="767f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">上面的代码将生成一个图形，如图12所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ou"><img src="../Images/b276e5793a63f129ba4d2c36105b77a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bPGYPreHXajwa-kmKi4wkA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图12。Matplotlib中的默认线图(图片由作者提供)。</p></figure><p id="4b40" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">定制线条样式</strong></p><p id="9a40" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以使用此参数在Matplotlib中更改线形图的线型</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="6177" class="mi mj jj ng b gy nk nl l nm nn">linestyle = '-'</span></pre><p id="2d77" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">上面的参数应插入plt.plot()语法中。在本教程中，我将向您展示四种不同的线条样式；他们是</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="912a" class="mi mj jj ng b gy nk nl l nm nn">['-', '--', '-.', ':']</span></pre><p id="d492" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了自动生成它，我使用循环来简化它。这是完整的代码</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="fb5d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我将在一张图中分配4种不同的线条样式。这意味着我需要在一个图形中创建4个轴。在Matplotlib中，可以通过使用GridSpec()、subplot()和add_subplot()自定义子情节来生成它。在这个会话中，我使用GridSpec()语法。我创建了4个轴(2行2列)，宽度和高度空间等于0.25(见第6行到第12行)。正如我在开头提到的，我将只专注于定制剧情。如果你需要更多关于在Matplotlib中定制支线剧情的解释，你可以访问这个链接</p><div class="is it gp gr iu np"><a rel="noopener follow" target="_blank" href="/customizing-multiple-subplots-in-matplotlib-a3e1c2e099bc"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd jt gy z fp nu fr fs nv fu fw js bi translated">在Matplotlib中自定义多个子情节</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">使用subplot、add_subplot和GridSpec在Matplotlib中创建复杂subplot的指南</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="ov l oa ob oc ny od ja np"/></div></div></a></div><p id="1a78" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果您运行上面的代码，它将创建一个图形，如图13所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ow"><img src="../Images/3febff7bbb4ff5531a3e0c5169f723a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p1Bm5qvD73vnLg_hOB9hAA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图13。使用自动化在Matplotlib中自定义线条样式(图片由作者提供)。</p></figure><p id="bbee" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">代码将简单地生成4种不同的线条样式，并为每种线条样式添加标签和注释。Matplotlib提供了许多可供您使用的线条样式。你可以通过这个链接选择你喜欢的线条样式</p><div class="is it gp gr iu np"><a href="https://matplotlib.org/2.1.2/api/_as_gen/matplotlib.pyplot.plot.html" rel="noopener  ugc nofollow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd jt gy z fp nu fr fs nv fu fw js bi translated">Matplotlib . py plot . plot-Matplotlib 3 . 3 . 2文档</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">用线条和/或标记绘制y与x的关系。调用签名:点或线节点的坐标由x…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">matplotlib.org</p></div></div><div class="ny l"><div class="ox l oa ob oc ny od ja np"/></div></div></a></div><p id="9a7f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">定制线宽</strong></p><p id="9e7d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要自定义折线图的线宽，可以使用此参数</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="af77" class="mi mj jj ng b gy nk nl l nm nn">lw = 2.0</span></pre><p id="81c2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我向您展示了4种不同线宽，如图14所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ow"><img src="../Images/c6d45fbe7dec4f5532cd2dec580e5be4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J0mKn4hnbhkVHWCitttA2A.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图14。在Matplotlib中自定义线宽(图片由作者提供)。</p></figure><p id="1dd9" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我使用类似的技术来创建图14。这是完整的代码。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="93ad" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">创造标记每隔</strong></p><p id="08cd" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">本小节将指导您创建每个特征的标记。为了理解它，我将首先展示结果，如图15所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oy"><img src="../Images/319555ddd316b20f15aaee52cd4a5a31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WGKMvxh_S6cpe-R10SBJdg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图15。在Matplotlib中标记每一个(图片由作者提供)。</p></figure><p id="30b5" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在图15中，我为每5个数据创建了一个圆形标记。你可以用这个参数创建它</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="2b80" class="mi mj jj ng b gy nk nl l nm nn">'o'            # shape for each 5 data<br/>markevery = 5  # mark every <br/>ms = 7         # size of the circle in mark every</span></pre><p id="2896" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这是完整的代码</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="0598" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您需要将参数“o”放在第三个位置。</p><p id="92a1" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">改变线条颜色</strong></p><p id="8732" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要更改线条颜色，您可以应用类似的概念来更改散射颜色，如以下代码所示</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="f20a" class="mi mj jj ng b gy nk nl l nm nn">color = 'royalblue'</span></pre><p id="d81c" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我想向您展示如何使用循环生成4种不同的颜色和4种不同的标记，如图16所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ow"><img src="../Images/638f819ad0eec15cf0a6cea50a1409e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_dIskn3pV3oJIyXY9lSQfA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图16。在Matplotlib中自定义线条颜色(图片由作者提供)。</p></figure><p id="dece" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以用这段代码重现图16</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="80af" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我用的4种不同的颜色是色盲友好的。我是从这个<a class="ae jg" href="https://gka.github.io/palettes/#" rel="noopener ugc nofollow" target="_blank">链接</a>得到的。要了解如何使用该链接创建色盲友好的调色板，请阅读这个<a class="ae jg" rel="noopener" target="_blank" href="/create-professional-plots-using-matplotlib-63a6863b7363">故事</a>。</p><p id="c31b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">在线图中插入错误</strong></p><p id="5b2d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了演示折线图中的误差线，我需要使用以下代码生成误差</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="5d3f" class="mi mj jj ng b gy nk nl l nm nn">np.random.seed(100)<br/>noise_x = np.random.random(N) * .2 + .1<br/>noise_y = np.random.random(N) * .7 + .4</span></pre><p id="240e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">该代码将为noise_x生成从0.1到0.3的随机数，为noise_y生成从0.3到0.7的随机数。要为y轴插入误差线，可以使用以下代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="3416" class="mi mj jj ng b gy nk nl l nm nn">plt.errorbar(x, y, yerr = noise_y)</span></pre><p id="545c" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">图17是折线图中误差线的示例。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oy"><img src="../Images/12e0b6bb5d4ff7d31af8dff5e5180841.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qXR0ksUK4oI4zKdeDLjkRA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图17。在Matplotlib中创建误差条形图(图片由作者提供)。</p></figure><p id="6aba" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以用这段代码创建图17。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="5ae0" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要在x轴上插入误差线，可以使用此参数</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="b5b3" class="mi mj jj ng b gy nk nl l nm nn">xerr = noise_x</span></pre><p id="2c72" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以在图18中看到在x轴和y轴上插入误差线的例子。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oy"><img src="../Images/bf496d18b058eed4e19dc8236cda98ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UflhUAgGH-qdmzhmsbR9Ag.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图18。在Matplotlib中创建误差条形图(图片由作者提供)。</p></figure><p id="1bfa" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以使用这段代码重现图18。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="ff39" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果要直观显示数据而不需要折线图，只需要误差线，可以使用此参数</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="258f" class="mi mj jj ng b gy nk nl l nm nn">fmt = 'o'    # shape of the data point<br/>color = 'r'  # color of the data point<br/>ecolor ='k'   # color of the error bar</span></pre><p id="3fae" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这是完整的代码</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="44e5" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">上面的代码将显示一个图，如图19所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oy"><img src="../Images/0f1a099c832b29d01398fc55c3fa76e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nCmIfaWJr3qoNbl-UpPo3g.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图19。在Matplotlib中自定义误差栏(图片由作者提供)。</p></figure><p id="4c2d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">填充错误区域</strong></p><p id="a45d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了直观显示错误，您也可以使用以下代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="6ce4" class="mi mj jj ng b gy nk nl l nm nn">plt.fill_between(x, y + noise, y - noise, alpha = .5)</span></pre><p id="13f1" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">fill_between参数是填充区域的x轴、上限和下限的数据。在上面的代码中，用<strong class="lj jt"> <em class="on"> y +噪声</em> </strong>和<strong class="lj jt"><em class="on">y-噪声</em> </strong>来表示。你需要降低填充区域的透明度。这是完整的代码</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="ab60" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果您运行上面的代码，您将得到一个结果，如图20所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oy"><img src="../Images/e7a3528c3663b50d13a0cec8780feef0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wyx_T9zKdWU4Flo32RVAmg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图20。在Matplotlib中的区域之间创建填充。</p></figure><p id="49d5" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">插入垂直线和水平线</strong></p><p id="6d80" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">你可以用这段代码插入一条水平线和一条垂直线</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="342e" class="mi mj jj ng b gy nk nl l nm nn">plt.hlines(0, xmin = 0, xmax = 10)<br/>plt.vlines(2, ymin = -3, ymax = 3)</span></pre><p id="eb08" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您需要在第一个参数中定义水平线，然后是水平线的起点和终点。对于垂直线，它有类似的论点。</p><p id="2924" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">图21是一个插入水平线和垂直线的例子。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oz"><img src="../Images/b27dd75485bed520ace383bd275d81d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qdCmjJ5VXs2Nlf03ZkkzRw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图21。Matplotlib中的水平线和垂直线(图片由作者提供)。</p></figure><p id="914f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要生成图21，您可以使用以下代码</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="d30b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在图21中，图例位于轴的外部。在第17行可以体会到。</p><p id="106f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">两条垂直线之间的填充</strong></p><p id="3329" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这一小节将指导您在两条垂直线之间创建一个填充区域，如图22所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pa"><img src="../Images/8305fef09ea5a92e77eaf43623b5dbc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-fwJF9XwTXshjtBLFBG8Sg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图22。在Matplotlib中创建填充区域(图片由作者提供)。</p></figure><p id="0465" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要重现图22，您可以使用以下代码</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="ff6f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">你需要知道在Matplotlib中创建填充区域的重要之处，你需要设置一个合适的y轴限制。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/7c4630854a9e9fbfffee9f3d5eefe583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yu6JGe-1C4w8h1md6Kzq4w.png"/></div></div></figure><h2 id="b4b9" class="mi mj jj bd mk ml mm dn mn mo mp dp mq lq mr ms mt lu mu mv mw ly mx my mz jp bi translated">03.柱状图</h2><p id="2838" class="pw-post-body-paragraph lh li jj lj b lk na kt lm ln nb kw lp lq nc ls lt lu nd lw lx ly ne ma mb mc im bi translated">这一节将解释如何在1D和2D制作直方图。我先给你讲讲1D直方图。在可视化1D直方图之前，我将使用这段代码制作一个模拟数据，一个正态分布的随机数。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="5de0" class="mi mj jj ng b gy nk nl l nm nn">N = 1000</span><span id="c5cf" class="mi mj jj ng b gy oe nl l nm nn">np.random.seed(10021)<br/>x = np.random.randn(N) * 2 + 15</span></pre><p id="17a0" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">默认情况下，Numpy将生成一个正态分布的随机数，其均值/中值(mu)等于0，方差(sigma)等于1。在上面的代码中，我将mu改为15，sigma改为2。要可视化1D直方图中的变量x，可以使用以下代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="7609" class="mi mj jj ng b gy nk nl l nm nn">plt.hist(x)</span></pre><p id="45d9" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">代码将显示一个图形，如图23所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pb"><img src="../Images/fd0ff9a6965a8a67baf6301954dd4047.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bFtWCzILe6UxCu6TPJWBEA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图23。Matplotlib中默认的1D直方图(图片由作者提供)。</p></figure><p id="1956" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">默认设置下，Matplotlib将为1D直方图生成10个柱。如果你想改变仓位的数量，你可以使用这个参数。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="4be0" class="mi mj jj ng b gy nk nl l nm nn">bins = 40</span></pre><p id="2f0b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">该参数将生成一个有40个仓的1D直方图，如图24所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pc"><img src="../Images/c5ebb2e0e0a2b4f68220ece06e9b594e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yEYukWjTLnXCcbJLO5onHg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图24。在Matplotlib中修改1D直方图(图片由作者提供)。</p></figure><p id="1e9a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下面是创建图24的完整代码。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="328f" class="mi mj jj ng b gy nk nl l nm nn">N = 1000</span><span id="99af" class="mi mj jj ng b gy oe nl l nm nn">np.random.seed(10021)<br/>x = np.random.randn(N) * 2 + 15</span><span id="9703" class="mi mj jj ng b gy oe nl l nm nn">plt.figure(figsize=(9, 6))<br/>plt.hist(x, bins = 40, label = r'$\mu = 15, \sigma = 2$')<br/>plt.legend()</span></pre><p id="c08a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您也可以使用此参数来限制直方图的范围</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="c4a8" class="mi mj jj ng b gy nk nl l nm nn">range = (12, 18)</span></pre><p id="fd20" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">该参数将让直方图只显示从12到18的数据，如图25所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pd"><img src="../Images/c3c8492a7092d3da86d5346823b24ec8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-9EaDDU75mCJNI9VHe5rTg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图25。修改Matplotlib中1D直方图的数据限制(图片由作者提供)。</p></figure><p id="965a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以用这段代码重现图25。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="e30e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我还使用一个<strong class="lj jt"> <em class="on">颜色</em> </strong>参数来改变直方图的颜色。</p><p id="a7dd" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">水平直方图</strong></p><p id="2246" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以创建一个水平直方图，如图26所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pd"><img src="../Images/caf6fc7c35e7e5fa50eb4fb55752363c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*130OBS7E2hEAH-tgxpL34g.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图25。Matplotlib中的水平直方图(图片由作者提供)。</p></figure><p id="10c8" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您需要使用此参数来创建水平直方图</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="d863" class="mi mj jj ng b gy nk nl l nm nn">orientation = 'horizontal'</span></pre><p id="188c" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要创建图25，您可以运行以下代码。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="4dec" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果要显示每个直方图的边框，可以使用该参数。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="6b5e" class="mi mj jj ng b gy nk nl l nm nn">edgecolor = 'k'</span></pre><p id="2470" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我想将直方图边框设为黑色，如图26所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pd"><img src="../Images/ca3ce8821caa1021d4419ffcf638b956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5JsshP-A5L1oHi1pS8y9ig.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图26。在Matplotlib中自定义直方图边框(图片由作者提供)。</p></figure><p id="8eaf" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要生成图26，您可以使用完整的代码。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="2b9d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">重叠直方图</strong></p><p id="260e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以在一个图中显示许多直方图，如图27所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pe"><img src="../Images/5b7d54bde31c83f9537f702fb3b5065f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PfgYAFhA33RSzTgQKc07qQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图27。在Matplotlib中创建许多直方图(图片由作者提供)。</p></figure><p id="aaf0" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在图27中，我生成了三个正态分布，具有不同的mu和sigma。您可以用这段代码重现图27。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="1a37" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以通过改变直方图的透明度使它更漂亮，如图28所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pe"><img src="../Images/6785fb26ec7a6dba589843072dafa4b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ONklvX7wLM-3UqvrXpq_JA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图28。更改Matplotlib中直方图的透明度(图片由作者提供)。</p></figure><p id="1b9f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果您需要创建图28的完整代码，您可以阅读下面的代码。与前面代码的区别只是在<strong class="lj jt"> <em class="on"> alpha </em> </strong>参数上。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="47dd" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您还可以使用循环生成图28，如以下代码所示</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="44a0" class="mi mj jj ng b gy nk nl l nm nn">N = 1000</span><span id="ba70" class="mi mj jj ng b gy oe nl l nm nn">mu1 = 5<br/>mu2 = 10<br/>mu3 = 15</span><span id="b859" class="mi mj jj ng b gy oe nl l nm nn">sigma1 = 5<br/>sigma2 = 3<br/>sigma3 = 2</span><span id="5349" class="mi mj jj ng b gy oe nl l nm nn">x1 = np.random.randn(N) * sigma1 + mu1<br/>x2 = np.random.randn(N) * sigma2 + mu2<br/>x3 = np.random.randn(N) * sigma3 + mu3</span><span id="b5fc" class="mi mj jj ng b gy oe nl l nm nn">mu = np.array([mu1, mu2, mu3])<br/>sigma = np.array([sigma1, sigma2, sigma3])<br/>x = np.array([x1, x2, x3])<br/>colors = ['royalblue', 'tomato', 'gray']</span><span id="a5ec" class="mi mj jj ng b gy oe nl l nm nn">plt.figure(figsize=(9, 6))</span><span id="c9b0" class="mi mj jj ng b gy oe nl l nm nn">for i in range(len(x)):<br/>    plt.hist(x[i], bins = 30, color = colors[i], <br/>             label = r'$\mu = $ ' + str(mu[i]) + <br/>             ', $\sigma = $ ' + str(sigma[i]), alpha = .7)</span><span id="a0b8" class="mi mj jj ng b gy oe nl l nm nn">plt.legend()</span></pre><p id="81a0" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在看到上面的代码后，也许你会想象在一个图形中创建许多直方图(多于3个)。下面是在一个图中清晰地创建和可视化10个直方图的代码。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="20cd" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果您运行上面的代码，您将得到一个结果，如图29所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pf"><img src="../Images/dfd9ac557a60503b56e3d5613cf39151.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lJuBGKifMbe1fOtL8QJJ4A.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图29。在Matplotlib中干净地创建许多直方图(图片由作者提供)。</p></figure><p id="377d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">仅使用此<a class="ae jg" href="https://gka.github.io/palettes/" rel="noopener ugc nofollow" target="_blank">链接</a>即可生成多种颜色。生成调色板后，只需将其复制并粘贴到您的代码中。生成调色板的详细过程在<a class="ae jg" rel="noopener" target="_blank" href="/create-professional-plots-using-matplotlib-63a6863b7363">这里</a>提供。</p><p id="50ee" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt"> 2D直方图</strong></p><p id="637d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以使用Matplotlib生成2D直方图，如图30所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oy"><img src="../Images/cdd23a22d8fa140b0989ca3944df3e53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-_Awe2nigYvYQ1vOSx0GHg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图30。2D直方图与Matplotlib(图片由作者提供)。</p></figure><p id="492c" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了创建图30，我需要用这段代码生成2个正态分布。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="e6a7" class="mi mj jj ng b gy nk nl l nm nn">N = 1_000</span><span id="6ae3" class="mi mj jj ng b gy oe nl l nm nn">np.random.seed(100)<br/>x = np.random.randn(N)<br/>y = np.random.randn(N)</span></pre><p id="e04c" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要在2D直方图中显示变量x和y，可以使用下面的代码。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="151a" class="mi mj jj ng b gy nk nl l nm nn">plt.hist2d(x, y)</span></pre><p id="03e7" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">与1D直方图一样，Matplotlib将生成10个柱作为2D直方图的默认设置。要更改它，您可以应用与1D直方图中相同的参数，如下面的代码所示。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="7fa7" class="mi mj jj ng b gy nk nl l nm nn">bins = (25, 25)</span></pre><p id="74e9" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以在图31中看到2D直方图中修改后的箱数。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oy"><img src="../Images/046f436a47d510817d33fe9acf6b4eca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_YE7eqFXCi02iP8vIuizmA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图31。在Matplotlib中修改2D直方图的面元数。</p></figure><p id="1339" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您也可以使用此参数更改2D直方图的色彩映射表</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="7a27" class="mi mj jj ng b gy nk nl l nm nn">cmap = orange_blue</span></pre><p id="7731" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我想将颜色图从Viridis(Matplotlib中的默认颜色图)更改为我自己的名为orange_blue的颜色图。我已经在前一节解释了如何创建你自己的色彩映射表，或者你可以在这里阅读。</p><p id="44a2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这是修改2D直方图中使用的色彩映射表的完整代码。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="3b48" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果您运行上面的代码，它将创建一个图形，如图32所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pg"><img src="../Images/7cf60f1d2852b0c1d73bdcb6cfa04c96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OB2m_2II896KfrSF9wSIqg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图32。在Matplotlib中更改2D直方图的色彩映射表。</p></figure><p id="ab28" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">通过将该参数应用到plt.hist2d()中，可以限制每种颜色的计数范围(更改颜色条的限制)。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="157d" class="mi mj jj ng b gy nk nl l nm nn">cmin = 5, cmax = 25</span></pre><p id="084e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这是完整的代码</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="70a4" class="mi mj jj ng b gy nk nl l nm nn">N = 10_000</span><span id="aac7" class="mi mj jj ng b gy oe nl l nm nn">np.random.seed(100)<br/>x = np.random.randn(N)<br/>y = np.random.randn(N)</span><span id="0b76" class="mi mj jj ng b gy oe nl l nm nn">plt.figure(figsize=(8.5, 7))<br/>plt.hist2d(x, y, bins=(75, 75), cmap = 'jet', cmin = 5, cmax = 25)<br/>cb = plt.colorbar()<br/>cb.set_label('counts each bin', labelpad = 10)</span></pre><p id="3e14" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我使用“jet”颜色图，颜色条的下限为5，上限为25。代码将生成一个图形，如图33所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ph"><img src="../Images/9247f433e0895a6aa7c84501035e1af9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fBQjU6lXnUWgAjZthIMF2A.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图33。在Matplotlib中设置2D直方图的限制。</p></figure><p id="2e6f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我尝试使用这段代码将生成的随机数计数从10000更改为100000。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="8d96" class="mi mj jj ng b gy nk nl l nm nn">N = 100_000</span><span id="96b4" class="mi mj jj ng b gy oe nl l nm nn">np.random.seed(100)<br/>x = np.random.randn(N)<br/>y = np.random.randn(N)</span><span id="de19" class="mi mj jj ng b gy oe nl l nm nn">plt.figure(figsize=(8.5, 7))<br/>plt.hist2d(x, y, bins=(75, 75), cmap = 'Spectral')<br/>cb = plt.colorbar()<br/>cb.set_label('counts each bin', labelpad = 10)</span></pre><p id="7284" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">代码将显示一个结果，如图34所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pi"><img src="../Images/232fcd68528474eeb034000a28d99099.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3ynarMamrxSOLAO9WV1F8A.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图34。用Matplotlib可视化2D直方图中的正态分布(图片由作者提供)。</p></figure><p id="3d18" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">图34的峰值在0左右，分布在-1到1左右，因为我没有改变mu和sigma的值。</p><p id="4a7a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">边缘剧情</strong></p><p id="b1ad" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这一小节将告诉如何创建一个边际分布，如图35所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pj"><img src="../Images/5d21e81c44b3f013e7485b3598314ccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mAKMoy_QKucEciG-0WseSQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图35。Matplotlib中散点分布和直方图的边际图(图片由作者提供)。</p></figure><p id="dfca" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">图35由散点图和2直方图构成。要创建它，你需要了解如何在一个图形中定制支线剧情或轴。图35由25个轴(5列5行)构成。详情如图36所示。您可以用这段代码创建图36。你需要阅读这个<a class="ae jg" rel="noopener" target="_blank" href="/customizing-multiple-subplots-in-matplotlib-a3e1c2e099bc">链接</a>来理解它。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="ed13" class="mi mj jj ng b gy nk nl l nm nn">rows = 5<br/>columns = 5</span><span id="4dac" class="mi mj jj ng b gy oe nl l nm nn">grid = plt.GridSpec(rows, columns, wspace = .4, hspace = .4)</span><span id="03da" class="mi mj jj ng b gy oe nl l nm nn">plt.figure(figsize=(10, 10))</span><span id="4326" class="mi mj jj ng b gy oe nl l nm nn">for i in range(rows * columns):<br/>    plt.subplot(grid[i])   <br/>    plt.annotate('grid '+ str(i), xy = (.5, .5), ha = 'center', <br/>                 va = 'center')<br/>for i in range(rows):<br/>    exec (f"plt.subplot(grid[{i}, 0])")<br/>    plt.ylabel('rows ' + str(i), labelpad = 15)</span><span id="25b1" class="mi mj jj ng b gy oe nl l nm nn">for i in range(columns):<br/>    exec (f"plt.subplot(grid[-1, {i}])")<br/>    plt.xlabel('column ' + str(i), labelpad = 15)</span></pre><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pk"><img src="../Images/9d563fc99378c3245c84fc224270ec3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7vd_DpTocU-yeE52SChugw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图36。Matplotlib中的多个支线剧情(图片由作者提供)。</p></figure><p id="9a3d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">图35显示了图36的转换。我将图36中的一些网格合并成3个更大的网格。第一个网格组合了网格0到网格3(行1，列0到列3)。我将用直方图填充第一个网格。第二个网格合并了从第1行到第4行以及从第0列到第3列的16个网格。最后一个网格是通过合并网格9、14、19和24(行1、2、3、4和列4)构建的。</p><p id="6425" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要创建第一个网格，可以使用下面的代码。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="5356" class="mi mj jj ng b gy nk nl l nm nn">rows = 5<br/>columns = 5</span><span id="d965" class="mi mj jj ng b gy oe nl l nm nn">grid = plt.GridSpec(rows, columns, wspace = .4, hspace = .4)</span><span id="e635" class="mi mj jj ng b gy oe nl l nm nn">plt.figure(figsize=(10, 10))</span><span id="06e4" class="mi mj jj ng b gy oe nl l nm nn">plt.subplot(grid[0, 0:-1])</span></pre><p id="8121" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">之后，添加下面的代码来插入1D直方图</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="1197" class="mi mj jj ng b gy nk nl l nm nn">plt.hist(x, bins = 30, color = 'royalblue', alpha = .7)</span></pre><p id="a39a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要创建第二个网格，您可以将此代码添加到上面的代码中</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="07dd" class="mi mj jj ng b gy nk nl l nm nn">plt.subplot(grid[1:rows+1, 0:-1])</span></pre><p id="9321" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">添加此代码以在第二个网格中生成散点图。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="70cc" class="mi mj jj ng b gy nk nl l nm nn">plt.scatter(x, y, color = 'royalblue', s = 10)<br/>plt.axis('equal')</span></pre><p id="f44c" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下面是生成第三个网格及其直方图的代码。您需要将下面的代码插入第一个网格代码中</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="1a65" class="mi mj jj ng b gy nk nl l nm nn">plt.subplot(grid[1:rows+1, -1])<br/>plt.hist(y, bins = 30, orientation='horizontal', <br/>         color = 'royalblue', alpha = .7)</span></pre><p id="4cef" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以将它们结合起来，如下面的代码所示。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="5ebf" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">接下来，我将用2D直方图改变第二个网格中的散点图，如图37所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pl"><img src="../Images/c3c95fe7832dadfb968acc6f629a1568.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jdW-Yu8sgUFEuv-MHFWEoQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图37。Matplotlib中的边缘情节(作者图片)。</p></figure><p id="7c1b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以用这段代码重现图37。</p><figure class="me mf mg mh gt iv"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="2104" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果您遇到一些错误，请在回复栏中留下一些评论。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/7c4630854a9e9fbfffee9f3d5eefe583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yu6JGe-1C4w8h1md6Kzq4w.png"/></div></div></figure><h2 id="8dc0" class="mi mj jj bd mk ml mm dn mn mo mp dp mq lq mr ms mt lu mu mv mw ly mx my mz jp bi translated">04.条形图</h2><p id="3fdc" class="pw-post-body-paragraph lh li jj lj b lk na kt lm ln nb kw lp lq nc ls lt lu nd lw lx ly ne ma mb mc im bi translated">如果你想用条形图来可视化你的数据，这个很适合你。在我用Matplotlib创建条形图之前，像往常一样，我想创建要显示的模拟数据。我想为六个人的数学考试成绩创建数据。为了创建它，我使用下面的代码。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="bafa" class="mi mj jj ng b gy nk nl l nm nn">name = ['Adam', 'Barry', 'Corbin', 'Doe', 'Evans', 'Frans']</span><span id="2db9" class="mi mj jj ng b gy oe nl l nm nn">np.random.seed(100)<br/>N = len(name)<br/>math = np.random.randint(60, 100, N)</span></pre><p id="da27" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我生成的数学考试分数从60分到100分。为了形象化它，你可以使用这个代码。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="59b8" class="mi mj jj ng b gy nk nl l nm nn">plt.bar(name, math, alpha = .7)</span></pre><p id="0fbb" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">添加一些信息后，我生成一个条形图，如图38所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pm"><img src="../Images/9dcf4096da17ad93ac81589d1645e0ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qm2_yigLdUDbGASunJGhxg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图38。在Matplotlib中创建一个条形图(图片由作者提供)。</p></figure><p id="fd13" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下面是生成图38的完整代码。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="e057" class="mi mj jj ng b gy nk nl l nm nn">name = ['Adam', 'Barry', 'Corbin', 'Doe', 'Evans', 'Frans']</span><span id="6218" class="mi mj jj ng b gy oe nl l nm nn">np.random.seed(100)<br/>N = len(name)<br/>math = np.random.randint(60, 100, N)</span><span id="b1f7" class="mi mj jj ng b gy oe nl l nm nn">plt.figure(figsize=(9, 6))</span><span id="bda3" class="mi mj jj ng b gy oe nl l nm nn">plt.bar(name, math, alpha = .7)</span><span id="fb9b" class="mi mj jj ng b gy oe nl l nm nn">plt.ylabel('Math Exam')</span></pre><p id="f5d5" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">之后，我使用这段代码为物理、生物和化学考试分数创建了一些模拟数据。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="a66c" class="mi mj jj ng b gy nk nl l nm nn">np.random.seed(100)<br/>N = len(name)<br/>math = np.random.randint(60, 100, N)<br/>physics = np.random.randint(60, 100, N)<br/>biology = np.random.randint(60, 100, N)<br/>chemistry = np.random.randint(60, 100, N)</span></pre><p id="1db9" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">你可以用熊猫创建一个表格，在Python中我们称之为DataFrame。我从模拟数据创建的数据帧如图39所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/4cc7bd4fd3d5698166fdb0176c6e1730.png" data-original-src="https://miro.medium.com/v2/resize:fit:714/format:webp/1*ENdAqWKotx599Ay_GEUTOQ.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图39。熊猫数据框中的模拟数据(图片由作者提供)。</p></figure><p id="3b19" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">默认情况下，我没有插入如何创建数据帧的代码。但是，如果你需要的话，你可以把你的请求留在回复栏里。</p><p id="49a2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">然后，我将它可视化，如图40所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi po"><img src="../Images/a32fc964186e5d724a6ecc671399f9ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eKni29WmfjAa_AgdwH5Uiw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图40。在Matplotlib中创建许多条形图(图片由作者提供)。</p></figure><p id="e27f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要创建图40，您可以使用以下代码。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="87b9" class="mi mj jj ng b gy nk nl l nm nn">name = ['Adam', 'Barry', 'Corbin', 'Doe', 'Evans', 'Frans']</span><span id="2149" class="mi mj jj ng b gy oe nl l nm nn">np.random.seed(100)<br/>N = len(name)<br/>math = np.random.randint(60, 100, N)<br/>physics = np.random.randint(60, 100, N)<br/>biology = np.random.randint(60, 100, N)<br/>chemistry = np.random.randint(60, 100, N)</span><span id="4c09" class="mi mj jj ng b gy oe nl l nm nn">rows = 2<br/>columns = 2</span><span id="ca68" class="mi mj jj ng b gy oe nl l nm nn">plt.figure(figsize=(12, 8))<br/>grid = plt.GridSpec(rows, columns, wspace = .25, hspace = .25)</span><span id="edb2" class="mi mj jj ng b gy oe nl l nm nn">plt.subplot(grid[0])<br/>plt.bar(name, math, alpha = .7)<br/>plt.ylabel('Math Exam')<br/>plt.ylim(60, 100)</span><span id="4ae6" class="mi mj jj ng b gy oe nl l nm nn">plt.subplot(grid[1])<br/>plt.bar(name, physics, alpha = .7)<br/>plt.ylabel('Physics Exam')<br/>plt.ylim(60, 100)</span><span id="5dab" class="mi mj jj ng b gy oe nl l nm nn">plt.subplot(grid[2])<br/>plt.bar(name, biology, alpha = .7)<br/>plt.ylabel('Biology Exam')<br/>plt.ylim(60, 100)</span><span id="0080" class="mi mj jj ng b gy oe nl l nm nn">plt.subplot(grid[3])<br/>plt.bar(name, chemistry, alpha = .7)<br/>plt.ylabel('Chemistry Exam')<br/>plt.ylim(60, 100)</span></pre><p id="e733" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">或者，如果您想使用循环，请使用此代码。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="3d75" class="mi mj jj ng b gy nk nl l nm nn">name = ['Adam', 'Barry', 'Corbin', 'Doe', 'Evans', 'Frans']<br/>course_name = ['Math', 'Physics', 'Biology', 'Chemistry']</span><span id="14f0" class="mi mj jj ng b gy oe nl l nm nn">N = len(name)</span><span id="205e" class="mi mj jj ng b gy oe nl l nm nn">rows = 2<br/>columns = 2</span><span id="77f4" class="mi mj jj ng b gy oe nl l nm nn">plt.figure(figsize=(12, 8))<br/>grid = plt.GridSpec(rows, columns, wspace = .25, hspace = .25)</span><span id="f5f2" class="mi mj jj ng b gy oe nl l nm nn">for i in range(len(course_name)):<br/>    np.random.seed(100)<br/>    course = np.random.randint(60, 100, N)<br/>    plt.subplot(grid[i])<br/>    plt.bar(name, course, alpha = .7)<br/>    plt.ylabel(course_name[i] + ' Exam')<br/>    plt.ylim(60, 100)</span></pre><p id="4ffc" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">水平条形图</strong></p><p id="4bc8" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以将水平条形图与此代码一起使用。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="ad31" class="mi mj jj ng b gy nk nl l nm nn">plt.barh(name, course)</span></pre><p id="cd99" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我想用横条图的形式和各种颜色来呈现图40。下面是生成它的完整代码。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="1960" class="mi mj jj ng b gy nk nl l nm nn">name = ['Adam', 'Barry', 'Corbin', 'Doe', 'Evans', 'Frans']<br/>course_name = ['Math', 'Physics', 'Biology', 'Chemistry']</span><span id="4c01" class="mi mj jj ng b gy oe nl l nm nn">colors = ['#00429d', '#7f40a2', '#a653a1', '#c76a9f', <br/>          '#e4849c', '#d0e848']</span><span id="6cfb" class="mi mj jj ng b gy oe nl l nm nn">N = len(name)</span><span id="0e80" class="mi mj jj ng b gy oe nl l nm nn">rows = 2<br/>columns = 2</span><span id="cb9a" class="mi mj jj ng b gy oe nl l nm nn">plt.figure(figsize=(12, 8))<br/>grid = plt.GridSpec(rows, columns, wspace = .25, hspace = .25)</span><span id="228f" class="mi mj jj ng b gy oe nl l nm nn">for i in range(len(course_name)):<br/>    np.random.seed(100)<br/>    course = np.random.randint(60, 100, N)<br/>    plt.subplot(grid[i])<br/>    plt.barh(name, course, color = colors)<br/>    plt.xlabel(course_name[i] + ' Exam')<br/>    plt.xlim(60, 100)<br/>    plt.gca().invert_yaxis()</span></pre><p id="06af" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">运行上面的代码后，您将得到一个结果，如图41所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pp"><img src="../Images/0423b3f1355e57bfc59f9a779bfacde3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-GqBA5AQP5Vh7W1O3-MHNg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图41。Matplotlib中的水平条形图(图片由作者提供)。</p></figure><p id="4205" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">可以使用此参数在水平条形图中插入误差线</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="361a" class="mi mj jj ng b gy nk nl l nm nn">N = len(name)<br/>noise = np.random.randint(1, 3, N)</span><span id="3fbb" class="mi mj jj ng b gy oe nl l nm nn">plt.barh(name, course, xerr = noise)</span></pre><p id="9478" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我使用从1到3的整数随机数来创建错误，正如变量noise中提到的。在为我的水平条形图添加了一些元素之后，我展示了它，如图42所示。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pp"><img src="../Images/3e00b31db970fcb6326259baac617807.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZqDWAqKAbsLL0ssm5YvAJg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图42。在Matplotlib中修改水平条形图(图片由作者提供)。</p></figure><p id="291b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以用这段代码重现图42。</p><pre class="me mf mg mh gt nf ng nh ni aw nj bi"><span id="9a4d" class="mi mj jj ng b gy nk nl l nm nn">name = ['Adam', 'Barry', 'Corbin', 'Doe', 'Evans', 'Frans']<br/>course_name = ['Math', 'Physics', 'Biology', 'Chemistry']</span><span id="65f8" class="mi mj jj ng b gy oe nl l nm nn">N = len(name)</span><span id="443f" class="mi mj jj ng b gy oe nl l nm nn">rows = 2<br/>columns = 2</span><span id="c188" class="mi mj jj ng b gy oe nl l nm nn">plt.figure(figsize=(12, 8))<br/>grid = plt.GridSpec(rows, columns, wspace = .25, hspace = .25)<br/>np.random.seed(100)</span><span id="4a2b" class="mi mj jj ng b gy oe nl l nm nn">for i in range(len(course_name)):<br/>    course = np.random.randint(60, 95, N)<br/>    noise = np.random.randint(1, 3, N)<br/>    plt.subplot(grid[i])<br/>    plt.barh(name, course, color = colors, xerr = noise, <br/>             ecolor = 'k')<br/>    plt.xlabel(course_name[i] + ' Exam')<br/>    plt.xlim(60, 100)<br/>    plt.gca().invert_yaxis()</span></pre><p id="5eb2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">也许，你意识到我的模拟数据(有误差)是不现实的。你不能满足一个考试分数的不确定性。但是，我认为它仍然是理解Matplotlib中条形图的一个很好的例子。</p><figure class="me mf mg mh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/7c4630854a9e9fbfffee9f3d5eefe583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yu6JGe-1C4w8h1md6Kzq4w.png"/></div></div></figure><h2 id="d2f0" class="mi mj jj bd mk ml mm dn mn mo mp dp mq lq mr ms mt lu mu mv mw ly mx my mz jp bi translated">结论</h2><p id="53e7" class="pw-post-body-paragraph lh li jj lj b lk na kt lm ln nb kw lp lq nc ls lt lu nd lw lx ly ne ma mb mc im bi translated">这是第1部分的结尾。正如我之前提到的，我尽量限制阅读时间(30分钟以内)，这样你就可以享受阅读了。本部分仅涵盖11个部分中的4个，散点图、线图、直方图和条形图。在下一部分中，我将展示创建箱线图、小提琴图、饼图、极坐标图、地理投影、3D图和等高线图的教程。如果下一部分是消耗超过30分钟，我会再分一次。</p><p id="f572" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在技术时代，数据可视化对于从小数据或大数据中分析数据具有重要意义。我们需要它来全面了解我们的数据。可以与Matplotlib一起使用的各种类型的可视化。这只是python用Matplotlib绘图的一小部分。</p><h2 id="db8d" class="mi mj jj bd mk ml mm dn mn mo mp dp mq lq mr ms mt lu mu mv mw ly mx my mz jp bi translated">如果你喜欢这篇文章，这里有一些你可能喜欢的其他文章:</h2><div class="is it gp gr iu np"><a rel="noopener follow" target="_blank" href="/5-powerful-tricks-to-visualize-your-data-with-matplotlib-16bc33747e05"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd jt gy z fp nu fr fs nv fu fw js bi translated">使用Matplotlib可视化数据的5个强大技巧</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">如何使用LaTeX字体，创建缩放效果，发件箱图例，连续错误，以及调整框填充边距</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od ja np"/></div></div></a></div><div class="is it gp gr iu np"><a rel="noopener follow" target="_blank" href="/matplotlib-styles-for-scientific-plotting-d023f74515b4"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd jt gy z fp nu fr fs nv fu fw js bi translated">用于科学绘图的Matplotlib样式</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">为您的科学数据可视化定制Matplotlib</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="pq l oa ob oc ny od ja np"/></div></div></a></div><div class="is it gp gr iu np"><a rel="noopener follow" target="_blank" href="/creating-colormaps-in-matplotlib-4d4de78a04b8"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd jt gy z fp nu fr fs nv fu fw js bi translated">在Matplotlib中创建色彩映射表</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">从颜色列表中创建和定制自己的色彩映射表的指南</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="os l oa ob oc ny od ja np"/></div></div></a></div><div class="is it gp gr iu np"><a rel="noopener follow" target="_blank" href="/customizing-multiple-subplots-in-matplotlib-a3e1c2e099bc"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd jt gy z fp nu fr fs nv fu fw js bi translated">在Matplotlib中自定义多个子情节</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">使用subplot、add_subplot和GridSpec在Matplotlib中创建复杂subplot的指南</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="ov l oa ob oc ny od ja np"/></div></div></a></div><div class="is it gp gr iu np"><a rel="noopener follow" target="_blank" href="/introduction-to-big-data-a-simple-code-to-read-1-25-billion-rows-c02f3f166ec9"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd jt gy z fp nu fr fs nv fu fw js bi translated">Vaex大数据简介—读取12.5亿行的简单代码</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">用Python高效读取和可视化12.5亿行星系模拟数据</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="pr l oa ob oc ny od ja np"/></div></div></a></div><p id="af5d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">仅此而已。感谢您阅读这个故事。喜欢就评论分享。我还建议您关注我的帐户，以便在我发布新故事时收到通知。几天后，我将发布Matplotlib可视化的第2部分。</p></div></div>    
</body>
</html>