<html>
<head>
<title>Using R Functions for Project Monitoring</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用R函数进行项目监控</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/learning-how-to-create-function-in-r-can-be-extremely-helpful-for-project-monitoring-f30df3771410?source=collection_archive---------59-----------------------#2020-10-19">https://towardsdatascience.com/learning-how-to-create-function-in-r-can-be-extremely-helpful-for-project-monitoring-f30df3771410?source=collection_archive---------59-----------------------#2020-10-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/92b4ad71836f2b4664bb122bd4f269c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n_cB5FmyWVJ55hEchn_Bvw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><div class=""/><p id="9a9e" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">许多人知道R允许编写自己的函数，但并不是每个人都在实践中应用这个机会。事实上，R有很多内置函数，可以满足一些人进行数学或统计分析的需要。然而，学习如何用R编写函数也无妨，可以根据您的具体项目需求进行定制。</p><p id="340a" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在讨论具体的例子之前，让我们回顾一下函数的定义。简而言之，函数是一组一个或多个参数的集合，这些参数概述了为了实现结果它必须执行的任务的描述。如果你是函数概念的新手，可以考虑安装“漩涡”包，完成函数的免费互动部分。这一部分结合了一套很好的关于函数的理论和实践材料。</p><p id="9d96" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">说到功能，需要区分它应该具备的四个重要组成部分。它们是(1)函数名(2)参数(3)主体和(4)返回</p><blockquote class="la"><p id="bc02" class="lb lc jf bd ld le lf lg lh li lj kz dk translated">function_name </p></blockquote><p id="2110" class="pw-post-body-paragraph kc kd jf ke b kf lk kh ki kj ll kl km kn lm kp kq kr ln kt ku kv lo kx ky kz ij bi translated">Now, let us check out this example. To find out the mean using R, you need to type mean () — name of variable in brackets. The variable should be numeric. Once you do it, R will give you the mean.</p><p id="441f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Knowing that mean is the sum of all values divided by the total number of values in the array of data points, you can write the average function in your own way.</p><figure class="lp lq lr ls gt is"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="cfe9" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Let us review the code above to understand step by step function writing:</p><p id="9839" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jg"> <em class="lv">首先</em> </strong>，为函数取一个名字。在这里，函数的名称是<strong class="ke jg"> <em class="lv">平均值</em> </strong>。</p><p id="2e08" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jg"> <em class="lv">第二个</em> </strong>，列出自变量，到函数内部的函数。这里，只有一个参数—函数(x)。</p><p id="0cdf" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jg"> <em class="lv">第三个</em> </strong>，将代码写在函数体a {紧跟function(…)的块中。代码告诉R，如果x不是数字，就停止运行。如果x是数字，那么创建y变量，它等于x的总和除以x的值的总数。</p><p id="3f23" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jg"> <em class="lv">第四个</em> </strong>，显示结果。</p><p id="4bc9" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">运行代码并保存后创建了<strong class="ke jg"> <em class="lv">平均</em> </strong>函数，让我们测试一下。两个函数，mean () —内置R和新编写的函数给出相同的结果。</p><figure class="lp lq lr ls gt is"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="ba6c" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们看看你在工作中可能遇到的具体例子。作为监控流程的一部分，您需要获得关于打开的案例数量及其结果状态的详细信息。用于演示的数据集由以下变量组成:程序、案例数、个案工作者和结果。您可以使用tidyverse包分组并获得一个百分比表。</p><p id="99ee" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这是做这件事的方法:</p><figure class="lp lq lr ls gt is"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="2dcd" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这是输出:</p><figure class="lp lq lr ls gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi lw"><img src="../Images/77029e038f9c60b540f3b17701f73e65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KWhSBxAhtjYmyDM1V6gVRA.jpeg"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><p id="0322" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">结果显示了整个程序流程。但是，如果您需要通过社会工作者获得该表，您会怎么做？解决方法是使用tidyverse进行过滤。如果你有几个社会工作者，这个过程会很好，但是，如果你有超过50个社会工作者要报告，这个过程就会变得令人厌烦。这是一个将你的代码转化为功能非常有用的时候。下面的例子展示了你可以如何做。这个例子没有使用社会工作者的真实姓名。相反，它使用社会工作者A，社会工作者B，等等。</p><figure class="lp lq lr ls gt is"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="de3f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">运行并保存这段代码后，它将成为一个函数。你将能够通过社会工作者获得结果。只需输入function-metrics(" case worker A ")，它将显示您请求过滤的<strong class="ke jg"><em class="lv">case worker</em></strong><em class="lv"/>的结果。所创建的函数将提取个案工作者A的数据，并向您显示结果。您还可以看到原始代码略有变化。它有一个过滤行代码设置为<strong class="ke jg"> <em class="lv">选择个案工作者</em> </strong>。</p><figure class="lp lq lr ls gt is gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/2f1b2cd5ca87e6cad8ea81b73de19998.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*tGoWyJyHVF_JfFvVNWyjBQ.gif"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><p id="3fbe" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">接下来，让我们看看这个想法如何与图表一起工作。这一次<strong class="ke jg">，</strong>我们的仪表盘将按个案工作者显示每月进度。</p><p id="3194" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">它有三个要点:</p><p id="83ec" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">1)未结案件总数</p><p id="f17d" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">2)结果(实现、放弃、进行中)</p><p id="30ad" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">3)提供的服务数量</p><p id="21d4" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">第一步，您必须决定要使用的图表。然后，您可以将代码转换成函数，并开始使用它。作为准备阶段，将这些包加载到R:</p><figure class="lp lq lr ls gt is"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="0c8f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">请参阅下面的代码，了解如何做到这一点。该函数被命名为<em class="lv"> monthly updates </em>，应用了与上一个示例相同的逻辑——根据您选择的个案工作者显示结果。</p><figure class="lp lq lr ls gt is"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="3c6b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在，你输入<strong class="ke jg"><em class="lv">【monthly _ updates】(【个案工作者A】)</em></strong>或者<strong class="ke jg"> <em class="lv">(【个案工作者B】)</em></strong>，而不是写很长的代码，就会得到结果。请看下面的<strong class="ke jg">和</strong>的演示:</p><figure class="lp lq lr ls gt is gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/17cbe4ac585ba5bc331c8ed0311aeee6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/1*agglnZ3YyzKcBrXvK4qqKg.gif"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><p id="b5ce" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">学习如何编写函数非常有帮助。上述方法说明了如何将它应用于您的项目监控目的。为项目监控创建一个通用函数将有助于更快地获得结果，并使您的工作效率更高。您可以探索许多其他机会，了解如何根据您的需求和您所做的工作来最好地使用创建函数。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><p id="9b4c" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">[1]:学R，在R(2015 . 8 . 19)。<a class="ae mg" href="https://swirlstats.com/" rel="noopener ugc nofollow" target="_blank">https://swirlstats.com/</a></p><p id="3ddb" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">[2]:加勒特·格罗勒蒙德(2014年7月)。<em class="lv">使用R动手编程，第17页</em></p></div></div>    
</body>
</html>