<html>
<head>
<title>Boruta Feature Selection (an Example in Python)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Boruta特征选择(Python中的一个例子)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/simple-example-using-boruta-feature-selection-in-python-8b96925d5d7a?source=collection_archive---------8-----------------------#2020-09-28">https://towardsdatascience.com/simple-example-using-boruta-feature-selection-in-python-8b96925d5d7a?source=collection_archive---------8-----------------------#2020-09-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0336" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Python中强大的Boruta特征选择库的快速示例</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4a79ca08c1d79bbdfbf93f4995e7c077.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iXMpHZCwetUdmfjH"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">威廉·费尔克在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="00e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您没有使用Boruta进行特性选择，那么您应该尝试一下。它可以用于任何分类模型。Boruta是一种基于随机森林的方法，因此它适用于像随机森林或XGBoost这样的树模型，但也适用于像逻辑回归或SVM这样的其他分类模型。</p><p id="786f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Boruta迭代地去除统计上不如随机探针相关的特征(由Boruta算法引入的人工噪声变量)。在每次迭代中，被拒绝的变量在下一次迭代中不被考虑。它通常以一个良好的特征选择全局优化而告终，这也是我喜欢它的原因。</p><p id="caaf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将看一个简单的随机森林示例来进行特性选择。这个故事的唯一目的是向您展示一个简单的工作示例，这样您也可以使用Boruta。</p><h2 id="7204" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">导入数据集</h2><p id="f733" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">这个例子将使用sklearn附带的breast_cancer数据集。您可以使用可选的return_X_y让它直接输出数组，如图所示。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><h2 id="e5da" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">创建您的分类器或回归对象</h2><p id="38d4" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">只需将数据与您选择的模型相匹配，现在就可以为Boruta做准备了。</p><p id="127a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意</strong>:在进行特征选择时，我会拟合整个数据集。消除特征后，您可以进行训练/测试分割。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><h2 id="f831" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">创建你的Boruta对象</h2><p id="e09a" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">现在创建一个BorutaPy特征选择对象，并使您的整个数据适合它。在拟合过程中，Boruta将根据数据集的大小进行多次迭代的特性测试。Boruta创建你的特征(噪波)的随机阴影副本，并根据这些副本测试该特征，以确定它是否比噪波更好，因此值得保留。它会自动检查可能会损害模型的交互。对于每次迭代，Boruta将输出<em class="ms">确认的</em>、<em class="ms">暂定的</em>和<em class="ms">拒绝的</em>变量。</p><p id="b0a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">拟合后，Boruta对象具有有用的属性和方法:</p><ul class=""><li id="afa2" class="mt mu iq ky b kz la lc ld lf mv lj mw ln mx lr my mz na nb bi translated">。support_ attribute是一个布尔数组，用于回答-是否应该保留特征？</li><li id="b3ee" class="mt mu iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">。ranking_ attribute是等级的int数组(1是最佳特征)</li><li id="194e" class="mt mu iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">。transform(X)方法应用建议并返回调整后的数据数组。通过这种方式，你可以让博鲁塔管理整个考验。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="7104" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意</strong>:如果你得到一个错误(TypeError: invalid key)，在将X和y装配到选择器之前，尝试将它们转换成numpy数组。如果你遇到这个错误，需要帮助，请告诉我。</p><h2 id="5e2c" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">查看功能</h2><p id="f717" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">下面是我写的一些快速代码，用来查看Boruta的输出结果。看起来我的30个特性中有5个被建议删除。代码的输出如下所示。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="368e" class="ls lt iq ni b gy nm nn l no np">Feature: mean radius               Rank: 1,  Keep: True<br/>Feature: mean texture              Rank: 1,  Keep: True<br/>Feature: mean perimeter            Rank: 1,  Keep: True<br/>Feature: mean area                 Rank: 1,  Keep: True<br/>Feature: mean smoothness           Rank: 1,  Keep: True<br/>Feature: mean compactness          Rank: 1,  Keep: True<br/>Feature: mean concavity            Rank: 1,  Keep: True<br/>Feature: mean concave points       Rank: 1,  Keep: True<br/>Feature: mean symmetry             Rank: 1,  Keep: True<br/>Feature: mean fractal dimension    Rank: 2,  Keep: False<br/>Feature: radius error              Rank: 1,  Keep: True<br/>Feature: texture error             Rank: 2,  Keep: False<br/>Feature: perimeter error           Rank: 1,  Keep: True<br/>Feature: area error                Rank: 1,  Keep: True<br/>Feature: smoothness error          Rank: 3,  Keep: False<br/>Feature: compactness error         Rank: 1,  Keep: True<br/>Feature: concavity error           Rank: 1,  Keep: True<br/>Feature: concave points error      Rank: 1,  Keep: True<br/>Feature: symmetry error            Rank: 2,  Keep: False<br/>Feature: fractal dimension error   Rank: 2,  Keep: False<br/>Feature: worst radius              Rank: 1,  Keep: True<br/>Feature: worst texture             Rank: 1,  Keep: True<br/>Feature: worst perimeter           Rank: 1,  Keep: True<br/>Feature: worst area                Rank: 1,  Keep: True<br/>Feature: worst smoothness          Rank: 1,  Keep: True<br/>Feature: worst compactness         Rank: 1,  Keep: True<br/>Feature: worst concavity           Rank: 1,  Keep: True<br/>Feature: worst concave points      Rank: 1,  Keep: True<br/>Feature: worst symmetry            Rank: 1,  Keep: True<br/>Feature: worst fractal dimension   Rank: 1,  Keep: True</span></pre><h2 id="1f0f" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">后续步骤</h2><p id="ee10" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">既然我们已经确定了要删除的特性，我们就可以放心地删除它们，继续我们的正常程序。您甚至可以使用<code class="fe nq nr ns ni b">.transform()</code>方法来自动删除它们。你可能想尝试其他的特性选择方法来满足你的需求，但是Boruta使用了一种最强大的算法，并且快速易用。</p><p id="0608" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">祝你好运！</p><p id="d317" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你遇到困难，请随时回复，我会尽我所能帮助你。</p></div></div>    
</body>
</html>