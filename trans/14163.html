<html>
<head>
<title>Putting an end to Unreliable Analytics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">结束不可靠的分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/putting-an-end-to-unreliable-analytics-386431bb4e56?source=collection_archive---------55-----------------------#2020-09-29">https://towardsdatascience.com/putting-an-end-to-unreliable-analytics-386431bb4e56?source=collection_archive---------55-----------------------#2020-09-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/565933822e17ecd845ed58552cd7723c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D6dbm-K967JSMU16erRMuA.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">来源:Pixaby的TheToonCompany</p></figure><p id="5131" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">当构建一个产品或服务时，知道输入数据将是预期的是必要的。如果信息来自另一个部门，依靠他们不改变它不可避免地以失望告终，因为他们可能甚至不知道他们的数据正在被使用，当然也不知道如何被使用。</p><p id="49f4" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">优秀的工程师知道这一点，并测试一切以确保他们能捕捉到任何变化或错误。从本质上来说，人类容易犯错误，一个好的工程师有一种谦逊的感觉。通过质量测试，您可以在错误进入生产服务器之前发现它们。</p><p id="ec7f" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">代码现在相对容易测试。编译器和测试套件有助于确保代码在单一环境中正常运行。不幸的是，在集成点发生错误仍然很常见，而且代价非常高——一个系统将数据或任务交给另一个系统。</p><p id="6a54" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">集成点无处不在。每当使用不同的技术时，或者当服务在团队之间移交时，就会发生这种情况。在移交过程中确保准确性和一致性的最流行的方法之一是通过构建良好记录的API，这些API被维护并直接向其他团队公开。这实质上是亚马逊2002年的微服务战略。</p><p id="ebab" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">API有助于实现跨技术/团队的交流，因为它们为每个服务提供了一个框架来验证它们发送或接收的数据。如果出现问题，可以快速返回错误，从而实现可靠性和健全性，因为问题会导致失败，因此可以快速修复。不幸的是，实现和维护它们的成本很高。每个API都需要有文档记录和支持的持续可用的服务。因此，企业<a class="ae ld" href="https://medium.com/yourapi/how-much-does-it-cost-to-build-an-api-925b1bf90da9#:~:text=Making%20some%20assumptions%20about%20average,integration%20is%20between%2020%E2%80%9330" rel="noopener">花费数万</a>来持续实施和维护终端。</p><p id="ff13" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">分析工作负载通常会集成来自许多不同来源的数据，而不进行任何运行时验证，这会导致运行时崩溃或更糟的错误结果。许多组织中的“数据产品”依赖于集成来自各种来源的信息，经常利用复杂的转换来将各个部分组合在一起。但是这些“数据产品”通常具有非常弱的测试覆盖率，并且测试它们的最先进技术是非常新的或者是刚刚建立的。<a class="ae ld" href="https://json-schema.org/" rel="noopener ugc nofollow" target="_blank"> JSON schema </a>可以是一种通过验证集成来自任何来源的数据的轻量级方法，而不需要重量级API。它本质上是一个框架，用于确保传输中的数据呈现出预期的形状和结构。因此，在数据进入系统之前，可以通过在系统边缘验证有效性来捕捉运行时错误。可以编写更简单的测试来确保坏数据不会离开或进入。</p><p id="f0b9" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们已经在Protobuf和OpenAPI等其他技术中看到了这种趋势。它们都已经发展到至少提供一些现成的模式检查和验证，解除了开发人员进行请求/响应验证的责任。虽然两者都不完美，但通过<a class="ae ld" href="https://swagger.io/specification/" rel="noopener ugc nofollow" target="_blank">完全采用</a> JSON模式，OpenAPI似乎正朝着正确的方向前进。</p><p id="3075" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">主要问题是这些框架走得还不够远。我们需要一个更全面的管道，将OpenAPI风格的输入和输出预期引入数据管道，在API服务完成后，数据管道负责事件。我们应该能够拥有一个既可以用来针对OpenAPI构建API，又可以深入数据管道、服务和存储的schematic truth来源。</p><p id="07ec" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">使用这些原则并结合JSON schema等工具，我们将走向一个未来的世界，不仅在一个团队维护的代码中进行端到端测试，而且跨越边界。在某种程度上，具有前瞻性思维的企业会将模式集中化，以便更改可以简单地过滤到使用它的所有产品和服务。数据集成和产品开发将变得更快、更可靠；开发它们看起来更像是构建软件，而不是搭建技术基础设施。</p><p id="03bd" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">分析是一个包含大量低级点解决方案的空间，这些解决方案需要连接在一起，而不需要在它们之间进行原生错误检查。它的主要焦点是集成，而不是处理。我们应该从基本原则后退一步，想想我们需要什么样的数据分析框架来帮助我们做到这一点。一个可用的系统不仅应该在测试中验证数据，还应该在生产中验证数据，并在每个系统的边界进行检查。</p></div></div>    
</body>
</html>