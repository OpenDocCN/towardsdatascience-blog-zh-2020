<html>
<head>
<title>Databases: An Overview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据库:概述</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/databases-an-overview-cdb5ca696e1b?source=collection_archive---------39-----------------------#2020-10-29">https://towardsdatascience.com/databases-an-overview-cdb5ca696e1b?source=collection_archive---------39-----------------------#2020-10-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/78f4bc029030ee0fdda213038b5d30f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OyeNmhElsADd237nBkeoMQ.jpeg"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated"><a class="ae jd" href="https://unsplash.com/@campaign_creators?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">活动发起人</a>在<a class="ae jd" href="https://unsplash.com/s/photos/database?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h2 id="f30f" class="je jf jg bd b dl jh ji jj jk jl jm dk jn translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/getting-started" rel="noopener" target="_blank">入门</a></h2><div class=""/><div class=""><h2 id="b404" class="pw-subtitle-paragraph km jp jg bd b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dk translated">第1部分:概念和安装:MySQL、HBase、MongoDB</h2></div><p id="ab21" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">在当今世界，我们必须处理大量的数据，并以一种有利的方式存储这些数据。如今，每天都有大量的数据来自脸书和Twitter等社交媒体网站。以前，我们主要处理结构化数据，即可以包含在表格结构中的数据，因此，我们在所有情况下都使用MySQL。在当前的场景中，首先，数据是以非结构化的方式获取的，并且需要以非结构化的方式存储；其次，数据是以海量的方式获取的。因此，不可能在一台服务器上存储一个数据库的全部内容，需要同时访问多台服务器。当前的数据库还需要容错，即如果一个数据库服务器由于某种原因出现故障，数据不会丢失，并且如果该服务器上的数据被用户访问，其他服务器会响应请求。</p><p id="6ec6" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">所有这些原因导致了NoSQL和分布式数据库系统的设计。目前，Oracle、PostgreSQL、Microsoft SQL services等SQL数据库被广泛用于处理结构化数据，而MongoDB、Hadoop、Amazon的DynamoDB和Hbase等NoSQL数据库被用于处理非结构化数据。</p><h2 id="7ebc" class="ma mb jg bd mc md me dn mf mg mh dp mi ln mj mk ml lr mm mn mo lv mp mq mr jm bi translated">属性和概念</h2><p id="25a7" class="pw-post-body-paragraph le lf jg lg b lh ms kq lj lk mt kt lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">如今，我们广泛使用SQL和NoSQL数据库。它们没有一个比另一个更好，它们是根据情况的要求来选择的。NoSQL数据库支持变量模式，因此在声明期间不需要模式定义。它们最适合动态数据。SQL数据库需要模式定义，但是拥有一种结构化语言并具有像JOIN这样的属性，易于使用并与复杂查询兼容。</p><p id="3187" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">让我们检查一些重要的概念。</p><p id="0e6a" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">原则:SQL和NoSQL都遵循一些原则。它们是:</p><p id="4986" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq">酸性</strong></p><ol class=""><li id="3040" class="mx my jg lg b lh li lk ll ln mz lr na lv nb lz nc nd ne nf bi translated"><strong class="lg jq">原子性</strong>:SQL数据库上的事务或操作要么完全执行，要么根本不执行。</li><li id="32cc" class="mx my jg lg b lh ng lk nh ln ni lr nj lv nk lz nc nd ne nf bi translated"><strong class="lg jq">一致性</strong>:在SQL数据库上执行操作或事务前后，数据库的状态保持不变。例如:A在银行有2000单位的存款，B有1000单位，总数是3000。现在，如果A转账500给B，同样在操作之后，总额保持不变。这就叫一致性。</li><li id="11eb" class="mx my jg lg b lh ng lk nh ln ni lr nj lv nk lz nc nd ne nf bi translated"><strong class="lg jq">隔离:</strong>该属性确保即使几个事务同时发生，所有的事务都是互斥的，换句话说，是隔离的</li><li id="4cdd" class="mx my jg lg b lh ng lk nh ln ni lr nj lv nk lz nc nd ne nf bi translated"><strong class="lg jq">持久性:</strong>该属性确保一旦事务被提交，它就被保存并且不再被修改</li></ol><p id="5c63" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq">上限理论</strong></p><ol class=""><li id="9765" class="mx my jg lg b lh li lk ll ln mz lr na lv nb lz nc nd ne nf bi translated"><strong class="lg jq">一致性:</strong>表示服务器网络中存储相同数据的所有节点读取最近写入的值，并相应地进行更新。</li><li id="a0b0" class="mx my jg lg b lh ng lk nh ln ni lr nj lv nk lz nc nd ne nf bi translated">可用性:它声明每个请求都应该收到一个响应，无论是成功还是失败，并且它可以处理多个请求。</li><li id="aebe" class="mx my jg lg b lh ng lk nh ln ni lr nj lv nk lz nc nd ne nf bi translated"><strong class="lg jq">分区容差:</strong>表示数据库成功运行，没有数据或消息丢失或系统的任何部分出现故障。</li></ol><p id="4098" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq">缩放</strong></p><figure class="nm nn no np gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nl"><img src="../Images/a4a0361a2953e60266f30b1e2f36b26c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0MsqXrW3iAE6ikCXMzFiYQ.png"/></div></div></figure><p id="c4ea" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">伸缩的概念在分布式系统的开发中起着巨大的作用。扩展是一种系统，它允许服务器不断发展，以应对不断增长的数据量。主要有两种方式。第一个是垂直缩放。这个概念以前使用过。这个概念表明，我们一直使用一个实例，并随着数据负载的增加而更新实例的大小和性能。这个过程非常昂贵，但易于实施。一些SQL数据库使用垂直缩放</p><p id="ebc0" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">第二个概念是水平缩放。一些NoSQL数据库，如MongoDB和CouchDB，使用水平伸缩。分布式系统是使用这个概念实现的。创建了几个服务器计算机集群。每台服务器计算机称为一个实例。水平扩展意味着我们应该向集群添加更多的实例来处理更多的数据。</p><p id="64f1" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq">复制</strong></p><figure class="nm nn no np gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nq"><img src="../Images/92410f8d0a1dc67ac6940be9e5d8bfe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FuObKnG3QEyYBIyslRWb9Q.png"/></div></div></figure><p id="6c90" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">复制的概念是当前分布式数据库系统中另一个非常重要的概念。来自一个数据库服务器的数据被复制到其他副本服务器。因此，数据是分布式的。这一概念创建了备份并提高了可用性。在MongoDB的例子中。服务器中的数据分布在该集群中的其他服务器中。其中一台服务器充当主服务器，其他服务器充当副本服务器。如果主服务器出现故障，将选择其中一个副本服务器作为主服务器。一旦故障服务器保持运行，它将作为副本加入群集。在数据更新的情况下，主服务器从应用程序获取更新，然后更新的数据与所有副本同步以保持一致性。</p><h2 id="fdb0" class="ma mb jg bd mc md me dn mf mg mh dp mi ln mj mk ml lr mm mn mo lv mp mq mr jm bi translated">NoSQL数据库:类型</h2><p id="6e0b" class="pw-post-body-paragraph le lf jg lg b lh ms kq lj lk mt kt lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">NoSQL不仅代表SQL。非结构化数据是指不能以表格方式存储的数据。设计了几种NoSQL方法来处理这些类型的数据。其中最常见的是:</p><p id="d058" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq">文档数据库:</strong>这些数据库以JSON格式保存数据。他们使用键值对。它们是可定制的，最适合动态数据。每个键可能有也可能没有相同数量的字段。例如:MongoDB和CouchDB。结构:</p><figure class="nm nn no np gt is gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/a1bb8b09f12dd010ebf07a13668ea49e.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/format:webp/1*u5QZ2MV7akl302E5js7zEw.png"/></div></figure><p id="a77f" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq">列数据库:</strong>这些数据库将数据写入列而不是行。每一行都有一个特定的行id。这里的每个操作都是使用行id执行的。这种类型的数据库背后的想法是，每条记录可能不包含所有列的值。因此，我们修复row_id并按列输入数据。每条记录的列数可能相同，也可能不同。比方说，在facebook注册中，需要很多数据。不同的用户填写不同数量的字段，在这种情况下，基于列的数据库广泛用于仅存储输入的数据。例如:Apache Cassandra、Apache Hbase</p><figure class="nm nn no np gt is gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/814b26a2e6f3bd29921b5f5535a7dead.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*pkUXp-RGuqm17AEk6LcEFw.png"/></div></figure><p id="2063" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">对于基于列的结构，我们需要为表定义一个列族。它类似于表定义的一部分，尽管它并不严格。</p><p id="e132" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq">键值存储:</strong>这些类型的数据库工作起来像哈希函数或哈希表，它们是不可定制的。例如:Redis</p><p id="55d2" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq">基于图形的数据库:</strong>这些数据库把每一条记录看作一个节点，把值看作节点的特征。例如:Neo4J</p><p id="2f38" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">在系列文章中，我们将讨论三个最常用的数据库:MySQL、MongoDB和HBase以及它们在python中的实现。</p><p id="eb78" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq">安装</strong></p><p id="8909" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我用的是Ubuntu 18.04系统。我正在为ubuntu系统提供安装。</p><p id="719e" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq"> MySQL </strong></p><p id="3375" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">它是一个关系数据库。它是一个免费的发行版，由oracle提供支持。它可以独立安装并从终端使用，也可以使用PHPMyAdmin。对于第二个选项，需要安装apache服务器，或者可以通过LAMP (Linux、Apache、MySQL、PHP/Python/Perl)堆栈应用程序(如XAMPP)使用。</p><figure class="nm nn no np gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nt"><img src="../Images/4833b492c342f5ded654d2d4171321db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lbHBGWVewr009fRQqjHbYg.jpeg"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">Xampp应用程序</p></figure><p id="4eae" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">对于MySQL安全安装。执行给定的步骤:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="3d96" class="ma mb jg nv b gy nz oa l ob oc">$ sudo apt update<br/>$ sudo apt install mysql-server<br/>$ sudo mysql_secure_installation</span></pre><p id="80c3" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">这些步骤将以安全的方式安装MySQL。最后一步将让您创建安全用户并为他们设置密码。</p><p id="6368" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq"> MongoDB </strong></p><p id="62a2" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">MongoDB是使用最多的NoSQL数据库。它的工作原理是分布式数据库系统。我们可以使用下面给出的步骤在我们的系统上设置一个单一的机器集群数据库。MongoDB是一个文档数据库，使用键值对。该安装仅适用于ubuntu 18.04。对于其他版本，相应的Ubuntu版本是不同的。安装步骤:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="c5cd" class="ma mb jg nv b gy nz oa l ob oc">$ wget -qO - <a class="ae jd" href="https://www.mongodb.org/static/pgp/server-4.4.asc" rel="noopener ugc nofollow" target="_blank">https://www.mongodb.org/static/pgp/server-4.4.asc</a> | sudo apt-key add -<br/>$ echo "deb [ arch=amd64,arm64 ] <a class="ae jd" href="https://repo.mongodb.org/apt/ubuntu" rel="noopener ugc nofollow" target="_blank">https://repo.mongodb.org/apt/ubuntu</a> bionic/mongodb-org/4.4 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-4.4.list<br/>$ sudo apt-get update<br/>$ sudo apt-get install -y mongodb-org</span></pre><p id="bfd1" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">以上代码为相应的发行版安装了最新版本的MongoDB。</p><p id="02a5" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">要启用或启动mongo:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="1046" class="ma mb jg nv b gy nz oa l ob oc">$ sudo systemctl status mongodb<br/>$ sudo systemctl mongodb start</span></pre><p id="e0b8" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">MongoDB通常在本地主机和端口27017上运行。启动MongoDB的大多数错误都是在端口上运行其他操作时发生的。MongoDB创建一个“data”文件夹来保存Mongo的数据和元数据。有些错误是由于无法访问数据文件夹而引发的。</p><p id="673c" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">第一个错误可以使用以下命令来纠正:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="d95c" class="ma mb jg nv b gy nz oa l ob oc">$ ~ netstat -an | grep 27017</span></pre><p id="82d1" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">这将列出端口上所有活动的进程。您需要终止这些进程并重新启动mongo。</p><p id="0afc" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">对于第二个错误，我们需要在外部创建data文件夹，并让mongo使用它。步骤:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="f91a" class="ma mb jg nv b gy nz oa l ob oc">$ cd /Users<br/>$ cd home<br/>$ mkdir data<br/>$ cd data<br/>$ mkdir db<br/>$ mongod --dbpath ~/data/db</span></pre><p id="b3a6" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">重启mongo，我们就可以开始了。</p><p id="d37c" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">通常在重启mongo服务时会停止。在进行调试步骤之前，请检查mongo DB的状态，如果没有运行，请重新启动它们。</p><p id="6d09" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们可以使用Mongo Compass来使用Mongo的GUI版本。这里的是免费且容易获得的<a class="ae jd" href="https://www.mongodb.com/try/download/compass" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="1412" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq"> HBase </strong></p><p id="5b9c" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">HBase是一个NoSQL数据库。这是一个基于列的数据库。它用于非结构化数据，并且是可伸缩的。HBase是一个由自由分布的数据库驱动的apache。它也可以使用系统集群，但是我们可以创建一个单独的系统集群。</p><p id="601b" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">HBase在底层使用Hadoop数据库文件系统，所以我们需要先安装Hadoop，它也可以在java上工作，所以我们需要安装Java来操作Hbase。</p><p id="29f5" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">因此，要安装Hadoop，请遵循以下步骤:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="2aa9" class="ma mb jg nv b gy nz oa l ob oc">$ <!-- -->sudo apt update<br/>$ sudo apt install openjdk-8-jdk -y<br/>$ java -version; javac -version</span></pre><p id="fc05" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">这些命令将安装java，最后一行将提供安装的Java JDK的路径和版本。我们需要拯救这条路。</p><p id="d0bf" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">接下来，开始步骤:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="7e34" class="ma mb jg nv b gy nz oa l ob oc">sudo apt install openssh-server openssh-client -y<br/>ssh-keygen -t rsa -P '' -f ~/.ssh/id_rsa<br/>cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys<br/>chmod 0600 ~/.ssh/authorized_keys<br/>ssh localhost</span></pre><p id="8b37" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">这些步骤将允许用户连接到本地主机。</p><p id="1654" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">接下来，进入Hadoop 的<a class="ae jd" href="https://hadoop.apache.org/releases.html" rel="noopener ugc nofollow" target="_blank">官方页面，选择版本并下载二进制版本。这可以手动完成，或者我们可以使用“wget”命令来安装。对于版本3.2.1，我们可以使用代码片段</a></p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="5cf5" class="ma mb jg nv b gy nz oa l ob oc"><strong class="nv jq">wget </strong><a class="ae jd" href="https://mirrors.estointernet.in/apache/hadoop/common/hadoop-3.2.1/hadoop-3.2.1.tar.gz" rel="noopener ugc nofollow" target="_blank"><strong class="nv jq">https://mirrors.estointernet.in/apache/hadoop/common/hadoop-3.2.1/hadoop-3.2.1.tar.gz</strong></a></span></pre><p id="c4e7" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们的Hadoop将被下载。</p><p id="b3ea" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">为了安装，我们需要配置Hadoop文件和Bash来更新环境变量。按照步骤进行配置</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="18d9" class="ma mb jg nv b gy nz oa l ob oc">$ sudo gedit .bashrc</span></pre><p id="cbb0" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">在Bashrc中粘贴以下行:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="1b38" class="ma mb jg nv b gy nz oa l ob oc">export HADOOP_HOME=/home/abhijit/hadoop-3.2.1<br/>export HADOOP_INSTALL=$HADOOP_HOME<br/>export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop<br/>export HADOOP_MAPRED_HOME=$HADOOP_HOME<br/>export HADOOP_COMMON_HOME=$HADOOP_HOME<br/>export HADOOP_HDFS_HOME=$HADOOP_HOME<br/>export YARN_HOME=$HADOOP_HOME<br/>export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native<br/>export PATH=$PATH:$HADOOP_HOME/bin</span><span id="28d7" class="ma mb jg nv b gy od oa l ob oc">export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64<br/>export PATH=$PATH=$JAVA_HOME/bin</span></pre><p id="ed97" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">这些只是环境变量和下载路径。请根据您的下载位置进行检查。如果出现错误，请相应地更改Hadoop主路径，因为该文件夹保存在您的系统上。要让更新后的bash工作，请使用:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="a2e2" class="ma mb jg nv b gy nz oa l ob oc">$ source ~/.bashrc</span></pre><p id="f535" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">接下来，使用</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="149f" class="ma mb jg nv b gy nz oa l ob oc">$ cd hadoop-3.2.1<br/>$ cd etc<br/>$ cd hadoop<br/>$ ls</span></pre><p id="2097" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">在这里，我们必须更新文件:</p><ul class=""><li id="5d0b" class="mx my jg lg b lh li lk ll ln mz lr na lv nb lz oe nd ne nf bi translated">hadoop-env.sh</li><li id="346f" class="mx my jg lg b lh ng lk nh ln ni lr nj lv nk lz oe nd ne nf bi translated">核心网站. xml</li><li id="acb8" class="mx my jg lg b lh ng lk nh ln ni lr nj lv nk lz oe nd ne nf bi translated">hdfs-site.xml</li><li id="54e1" class="mx my jg lg b lh ng lk nh ln ni lr nj lv nk lz oe nd ne nf bi translated">mapred-site-xml</li><li id="cd58" class="mx my jg lg b lh ng lk nh ln ni lr nj lv nk lz oe nd ne nf bi translated">yarn-site.xml</li></ul><p id="bbed" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">因此，使用“gedit”打开每个文件，粘贴相应的行并进行更改。</p><p id="7a42" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq"> hadoop-env.sh </strong></p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="a6ef" class="ma mb jg nv b gy nz oa l ob oc">export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</span></pre><p id="4648" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">该行存在，但被注释掉了。我们只需要取消注释并进行修改。我们必须确保路径与我们保存在bash文件中的路径相同。</p><p id="27d3" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq"> core-site.xml </strong></p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="3daf" class="ma mb jg nv b gy nz oa l ob oc">&lt;configuration&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;<br/>&lt;value&gt;/home/abhijit/tmpdata&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;fs.default.name&lt;/name&gt;<br/>&lt;value&gt;hdfs://127.0.0.1:9000&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;/configuration&gt;</span></pre><p id="899e" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">请相应地更新值部分。我在用我的分机。这些文件在安装时自动创建。如果未创建“tmpdata”文件夹，请手动创建并更新路径</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="af5b" class="ma mb jg nv b gy nz oa l ob oc">$ mkdir tmpdata</span></pre><p id="c309" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq"> hdfs-site.xml </strong></p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="428d" class="ma mb jg nv b gy nz oa l ob oc">&lt;configuration&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;dfs.data.dir&lt;/name&gt;<br/>&lt;value&gt;/home/abhijit/dfsdata/namenode&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;dfs.data.dir&lt;/name&gt;&lt;value&gt;/home/abhijit/dfsdata/datanode&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;dfs.replication&lt;/name&gt;<br/>&lt;value&gt;1&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;/configuration&gt;</span></pre><p id="65b9" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">该文件包含基本的Hadoop文件系统配置。</p><p id="1296" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq"> mapred-site-xml </strong></p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="06e7" class="ma mb jg nv b gy nz oa l ob oc">&lt;configuration&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;mapreduce.framework.name&lt;/name&gt;<br/>&lt;value&gt;yarn&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;/configuration&gt;</span></pre><p id="7d24" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq"> yarn-site.xml </strong></p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="bad1" class="ma mb jg nv b gy nz oa l ob oc">&lt;configuration&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;<br/>&lt;value&gt;mapreduce_shuffle&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;yarn.nodemanager.aux-services.mapreduce.shuffle.class&lt;/name&gt;<br/>&lt;value&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;<br/>&lt;value&gt;127.0.0.1&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;yarn.acl.enable&lt;/name&gt;<br/>&lt;value&gt;0&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;<br/>&lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PERPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;/configuration&gt;</span></pre><p id="3dc0" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">保存所有文件，我们就可以开始了</p><p id="67b0" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">接下来，返回“hadoop-3.2.1”主文件夹，使用以下命令:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="67c4" class="ma mb jg nv b gy nz oa l ob oc">hdfs namenode -format</span></pre><p id="a2b7" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">这将格式化创建的namenode文件夹。</p><p id="1071" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">接下来，使用:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="9f3f" class="ma mb jg nv b gy nz oa l ob oc">$ cd sbin<br/>$ ./start-all.sh</span></pre><p id="3608" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">最后一个命令启动所有服务。</p><p id="5f43" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">运行后，它将看起来像:</p><figure class="nm nn no np gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/17fbbaeed1cc1787e12dade5893da9d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EmJt7i5rIvI38Iog"/></div></div></figure><p id="1044" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们可以使用“jps”命令来列出正在运行的守护进程</p><p id="4f17" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">现在，我们准备安装HBase。</p><p id="8166" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">要安装，我们可以使用wget命令，也可以从<a class="ae jd" href="http://www.apache.org/dyn/closer.lua/hbase/" rel="noopener ugc nofollow" target="_blank">下载URL </a>手动下载</p><p id="c5ea" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我使用过HBase-2.2.6，使用:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="44bf" class="ma mb jg nv b gy nz oa l ob oc">wget <a class="ae jd" href="http://www.apache.org/dyn/closer.lua/hbase/" rel="noopener ugc nofollow" target="_blank">http://www.apache.org/dyn/closer.lua/hbase/</a><a class="ae jd" href="https://mirrors.estointernet.in/apache/hbase/2.2.6/hbase-2.2.6-bin.tar.gz" rel="noopener ugc nofollow" target="_blank">hbase-2.2.6-bin.tar.gz</a></span></pre><p id="5e47" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">如果您是手动下载，请将其粘贴到主目录中。</p><p id="7cd5" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">接下来，在Hbase中，我们还需要进行一些配置。我们需要在环境变量中添加Hbase路径:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="0269" class="ma mb jg nv b gy nz oa l ob oc">$ gedit .bashrc</span></pre><p id="5d71" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">然后，我们需要粘贴这些行来更新环境变量:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="38ca" class="ma mb jg nv b gy nz oa l ob oc">export HBASE_HOME=/home/abhijit/hbase-2.2.6<br/>export PATH=$PATH:$HBASE_HOME/bin</span><span id="c774" class="ma mb jg nv b gy od oa l ob oc">Now, close the file and use <em class="og">source ~/.bashrc</em></span></pre><p id="47ce" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们需要去conf文件夹。</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="1eec" class="ma mb jg nv b gy nz oa l ob oc">$ cd hbase-2.2.6<br/>$ cd conf</span></pre><p id="620c" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">在conf中，我们需要打开“hbase-env.sh”文件，并粘贴下面给出的行，就像我们在前面的例子中所做的一样:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="fb0a" class="ma mb jg nv b gy nz oa l ob oc">export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</span></pre><p id="f159" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">接下来，我们需要更新hbase-site.xml</p><p id="7972" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq"> hbase-site.xml </strong></p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="f28f" class="ma mb jg nv b gy nz oa l ob oc">&lt;property&gt;<br/>&lt;name&gt;hbase.cluster.distributed&lt;/name&gt;<br/>&lt;value&gt;true&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;hbase.tmp.dir&lt;/name&gt;<br/>&lt;value&gt;./tmp&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;hbase.unsafe.stream.capability.enforce&lt;/name&gt;<br/>&lt;value&gt;false&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;<br/>&lt;value&gt;localhost&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;name&gt;dfs.replication&lt;/name&gt;<br/>&lt;value&gt;1&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;<br/>&lt;value&gt;2181&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;hbase.rootdir&lt;/name&gt;<br/>&lt;value&gt;hdfs://127.0.0.1:9000/hbase&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/>&lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt;&lt;value&gt;/home/abhijit/zookeeper&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;/configuration&gt;</span></pre><p id="b5f8" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">请相应地注意“tmp”和“zookeeper”文件夹的文件位置。</p><p id="69f4" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">现在，我们可以走了。</p><p id="d7d5" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们需要转移到“hbase-2.2.6/bin”并使用。/start-hbase.sh启动服务。</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="b62a" class="ma mb jg nv b gy nz oa l ob oc">$ cd hbase-2.2.6/bin<br/>$  ./start-hbase.sh</span></pre><figure class="nm nn no np gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oh"><img src="../Images/acbc9149695cbf3970d228865479a8ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lwmi-4FCoEgsNBLt"/></div></div></figure><p id="b741" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">在这里，我们可以看到HMaster、HRegionServer和HQuorumPeer正在运行。这表明我们的HBase服务器已经启动并正在运行。</p><p id="8db6" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们可以使用HBase shell来访问我们的HBase:</p><figure class="nm nn no np gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oi"><img src="../Images/376e6ef0aa0d6adf5c4e1996a79e5f7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*y6xFXg45I7JSNl1h"/></div></div></figure><p id="4f83" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">通常Hbase在端口9000上运行。</p><p id="b7bf" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">如果我们想用python访问Hbase，它有一个‘happy base’库。它使用节俭网关访问Hbase。为此，我们还需要在9090端口上运行thrift，使用:</p><pre class="nm nn no np gt nu nv nw nx aw ny bi"><span id="3000" class="ma mb jg nv b gy nz oa l ob oc">hbase thrift start -p 9090</span></pre><figure class="nm nn no np gt is gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/d8e1ae5f8dd979ec8cc2f53ae18610b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/0*7ef0V8hZKP4O9Ovk"/></div></figure><p id="45c0" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们也将能够看到我们的节俭服务器运行。我们现在可以使用Hbase了。</p><p id="f1dc" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg jq">结论</strong></p><p id="b746" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">在本文中，我们已经了解了如何安装数据库以及数据库中的一些基本概念。本系列的第2部分讨论了python中的概念和工作示例。</p><p id="87eb" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">希望这有所帮助。</p></div></div>    
</body>
</html>