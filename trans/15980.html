<html>
<head>
<title>Building a game recommendation engine</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建游戏推荐引擎</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-a-game-recommendation-engine-870a1ccd11c4?source=collection_archive---------35-----------------------#2020-11-03">https://towardsdatascience.com/building-a-game-recommendation-engine-870a1ccd11c4?source=collection_archive---------35-----------------------#2020-11-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6791" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用来自Steam和LightFM库的数据生成预测</h2></div><p id="1c65" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于我的Flatiron数据科学训练营顶点项目，我知道我想建立一个推荐引擎。推荐系统已经成为我们日常生活的一部分，从网飞推荐电影到亚马逊展示我们感兴趣的商品。虽然MovieLens数据集似乎是学习和构建推荐系统的首选数据集，但我希望使用不同的数据源来确保项目更加独特。</p><p id="2aad" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在COVID疫情期间，随着人们更多地呆在家里，视频游戏出现了激增。事实上，Steam在2020年3月报告了创纪录的在线并发用户数。因此，我决定调查游戏推荐，看看我的预测是否与Steam的一致。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/cd3da37ac8cc16781aff25df10ed05d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0cmYNLRO2aKxIoEo"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">由<a class="ae lr" href="https://unsplash.com/@alexhaney?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">亚历克斯·哈尼</a>在<a class="ae lr" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="8720" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">第一步:获取数据</strong></p><p id="aa9f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些数据是从朱利安·麦考利的推荐系统数据集页面获得的。我使用了两个文件:<a class="ae lr" href="http://deepx.ucsd.edu/public/jmcauley/steam/australian_users_items.json.gz" rel="noopener ugc nofollow" target="_blank">版本1:用户和物品数据</a>，其中包含了协作过滤模型所必需的用户-物品交互数据；以及<a class="ae lr" href="http://cseweb.ucsd.edu/~wckang/steam_games.json.gz" rel="noopener ugc nofollow" target="_blank">版本2:物品元数据</a>，其中包含了与游戏相关的信息，比如发布日期、标签、价格等等。</p><p id="bd5d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">第二步:加载并预处理数据</strong></p><p id="e5d4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">虽然数据据说是JSON格式的，但我无法用Pandas直接加载它。当通过JSON linter运行它时，我注意到它不是正确的JSON，因为使用了单引号而不是双引号。一个可行的解决方案是使用<code class="fe ls lt lu lv b">ast.literal_eval().</code>读取数据，数据预处理相对简单，从字典列表中提取游戏id是一个小小的挑战。</p><p id="1316" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">第三步:建模</strong></p><p id="a628" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了创建用户推荐模型，我使用了<a class="ae lr" href="https://making.lyst.com/lightfm/docs/home.html" rel="noopener ugc nofollow" target="_blank"> LightFM </a>库。文档非常简单。在实例化模型之前，我将数据框架修改为稀疏交互矩阵。有许多可能的损失函数可以使用，我发现WARP提供了最好的模型。这种方法通过重复采样负样本直到找到一个违反规则的样本来最大化正样本的等级。当只有积极的互动，人们希望优化推荐列表的顶部时，这也是最常用的，这两种情况都适用于我的情况。</p><p id="552a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">步骤4:生成用户推荐</strong></p><p id="7726" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">随着我们的最终模型在完整的交互矩阵上得到训练，我现在可以为用户生成推荐了。我创建了一个函数，它将训练好的模型、交互矩阵、用户id和所需推荐的数量<code class="fe ls lt lu lv b">k</code>作为输入，并为该用户返回排名前<code class="fe ls lt lu lv b">k</code>的游戏。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lw"><img src="../Images/ad5866f47d600f3d35121c4340c93078.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OwbwvXgzjT-fX6TgV4_IFA.png"/></div></div></figure><p id="48fc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">第五步:单品推荐</strong></p><p id="0bfd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我还使用余弦相似性作为距离度量，使用该模型来生成项目到项目的推荐。我创建了一个函数，它接受一个游戏id并返回<code class="fe ls lt lu lv b">k</code>最相似的游戏。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lx"><img src="../Images/1c83d9f0ceb1c7eef15ab30978a4cd60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nk5VzfS7K6QBR6VWRyD7Og.png"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">示例输出:五个类似于美国卡车模拟器的游戏</p></figure><p id="5b95" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更多细节和底层代码，请看我的<a class="ae lr" href="https://github.com/nadinezab/video-game-recs" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>。</p><p id="a60e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">参考</p><p id="d4a9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae lr" href="https://www.gamesindustry.biz/articles/2020-03-16-record-number-of-steam-users-online-during-coronavirus-outbreak" rel="noopener ugc nofollow" target="_blank">https://www . games industry . biz/articles/2020-03-16-record-number-of-steam-users-online-during-coronavirus-outbreak</a></p></div></div>    
</body>
</html>