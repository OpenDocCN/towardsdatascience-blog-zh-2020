<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://towardsdatascience.com/introduction-to-system-design-1-80343e1c4ded?source=collection_archive---------42-----------------------#2020-10-01">https://towardsdatascience.com/introduction-to-system-design-1-80343e1c4ded?source=collection_archive---------42-----------------------#2020-10-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/b7de42f17051c23e109ffeafd243c480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QXqLs8sRhdPNLKQ5H1ZJOw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><p id="5f59" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi kc translated">在关于系统设计的系列文章中，我今天写的是关于水平和垂直扩展。我还将尝试解释负载平衡器，最后简单讨论一下内部服务器和云。我们开始吧！</p><h1 id="7c0b" class="kl km jf bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">水平缩放与垂直缩放</strong></h1><p id="b030" class="pw-post-body-paragraph jd je jf jg b jh lj jj jk jl lk jn jo jp ll jr js jt lm jv jw jx ln jz ka kb ij bi translated">在一秒钟内，成百上千的用户访问大型网站，这意味着大量的并发请求不断冲击服务器。有两种方法可以处理这么多请求。</p><blockquote class="lo lp lq"><p id="0675" class="jd je lr jg b jh ji jj jk jl jm jn jo ls jq jr js lt ju jv jw lu jy jz ka kb ij bi translated">一种解决方案是，我们得到一台装载了顶级RAM、CPU和磁盘的高性能机器。换句话说，获得昂贵但高性能的硬件。这被称为<strong class="jg lv">垂直缩放</strong>。</p></blockquote><h2 id="31eb" class="lw km jf bd kn lx ly dn kr lz ma dp kv jp mb mc kz jt md me ld jx mf mg lh mh bi translated">但是垂直缩放有什么问题呢？</h2><p id="8119" class="pw-post-body-paragraph jd je jf jg b jh lj jj jk jl lk jn jo jp ll jr js jt lm jv jw jx ln jz ka kb ij bi translated">即使是性能最好的硬件也有局限性，即使是这些硬件的性能也不能超过某个极限。因此，如果网站的流量持续增加，规模将成为一个主要问题。其次，由于我们仅仅依赖于高性能的机器，这就成为了一个单点故障。</p><blockquote class="lo lp lq"><p id="7518" class="jd je lr jg b jh ji jj jk jl jm jn jo ls jq jr js lt ju jv jw lu jy jz ka kb ij bi translated">这个问题的另一个解决方案是，我们可以购买多种商用硬件，以某种方式将它们组合在一起处理请求，而不是购买高性能硬件。这被称为<strong class="jg lv">水平缩放</strong></p></blockquote><p id="e180" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi translated">因此，基本上，增加集群中的机器数量，通过在它们之间分配请求来减少每个成员机器的责任。</p><p id="fce5" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi translated">它解决了交通流量增加的问题。如果我们注意到有更多的请求到达web服务器，我们所要做的就是在集群中添加更多的机器，这样我们就万事大吉了。</p><h2 id="eacb" class="lw km jf bd kn lx ly dn kr lz ma dp kv jp mb mc kz jt md me ld jx mf mg lh mh bi translated">水平缩放的问题</h2><ol class=""><li id="ad6b" class="mi mj jf jg b jh lj jl lk jp mk jt ml jx mm kb mn mo mp mq bi translated">我们如何在集群中的不同机器之间分配请求</li><li id="b09c" class="mi mj jf jg b jh mr jl ms jp mt jt mu jx mv kb mn mo mp mq bi translated">水平扩展的另一个问题是在集群中的机器之间共享公共资源，比如数据库、同步信息。</li></ol><p id="c258" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi translated">例如，在垂直扩展的情况下，只有一台高端机器与数据库通信并执行操作，但是在水平扩展的情况下，多台机器竞争访问数据库。</p><p id="eb36" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi translated">让我们尝试解决水平缩放的第一个问题。</p><blockquote class="lo lp lq"><p id="0667" class="jd je lr jg b jh ji jj jk jl jm jn jo ls jq jr js lt ju jv jw lu jy jz ka kb ij bi translated">我们必须将传入的请求均匀地分布在web服务器上，这样所有的web服务器都可以有效地处理请求，并且没有一个web服务器过载。这叫做<strong class="jg lv">负载均衡</strong>。</p></blockquote><figure class="mx my mz na gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mw"><img src="../Images/21194bf7b65dbc26aabbfe9ff589e5d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EI2jEyI1yt9iTVkG3nDHaA.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><p id="7910" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi translated">有各种负载平衡算法</p><ol class=""><li id="06e4" class="mi mj jf jg b jh ji jl jm jp nb jt nc jx nd kb mn mo mp mq bi translated"><strong class="jg lv">散列</strong>:请求可以基于区域、客户id、请求id等参数进行散列。并分配给适当的网络服务器</li><li id="1370" class="mi mj jf jg b jh mr jl ms jp mt jt mu jx mv kb mn mo mp mq bi translated"><strong class="jg lv">最不忙</strong>:检查哪个服务器相对空闲，并向该web服务器发送请求。</li><li id="df78" class="mi mj jf jg b jh mr jl ms jp mt jt mu jx mv kb mn mo mp mq bi translated"><strong class="jg lv">循环调度</strong>:请求按顺序分布在web服务器组中。</li><li id="1616" class="mi mj jf jg b jh mr jl ms jp mt jt mu jx mv kb mn mo mp mq bi translated">等等。</li></ol><p id="0c11" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi translated">少数流行的解决方案是来自<a class="ae ne" href="https://aws.amazon.com/elasticloadbalancing/" rel="noopener ugc nofollow" target="_blank"> <em class="lr">的EC2、亚马逊网络服务</em> </a>、微软Azure  的<a class="ae ne" href="https://docs.microsoft.com/en-us/azure/load-balancer/load-balancer-overview" rel="noopener ugc nofollow" target="_blank"><em class="lr">ELB——按需自动分配/取消分配资源。</em></a></p><h1 id="3d90" class="kl km jf bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">内部服务器与云</h1><p id="e117" class="pw-post-body-paragraph jd je jf jg b jh lj jj jk jl lk jn jo jp ll jr js jt lm jv jw jx ln jz ka kb ij bi translated">如今，大多数小型、中型甚至大型公司都不维护内部服务器，而是从亚马逊、微软、谷歌、甲骨文等公司购买云服务。</p><p id="5aa0" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi translated">让我们简单了解一下什么是内部服务器。内部服务器意味着拥有自己的数据中心。您负责管理该数据中心的硬件。</p><p id="9ebd" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi translated">它需要巨大的资本投资，这取决于你的组织的规模。您需要专门的IT团队进行维护，负责正常运行时间、备份、安全性、灾难恢复等操作。</p><p id="e7a3" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi translated">它也有很大的优势。您可以控制数据，并且可以将关键数据留给自己。</p><p id="bbe8" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi translated">另一方面，你可以选择微软、亚马逊、谷歌等公司。它提供了如此多的服务和大量的资源</p><figure class="mx my mz na gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nf"><img src="../Images/001a0ca382dd08984ef4fafb6ac5f35d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dox0paYxRhp25xI4i0b-pg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><ol class=""><li id="d686" class="mi mj jf jg b jh ji jl jm jp nb jt nc jx nd kb mn mo mp mq bi translated">存储解决方案(SQL和NoSQL)，您可以在其中存储<strong class="jg lv">Pb的数据</strong>。几乎没有存储限制。</li><li id="9589" class="mi mj jf jg b jh mr jl ms jp mt jt mu jx mv kb mn mo mp mq bi translated">计算解决方案，您可以<strong class="jg lv">在高端机器上执行操作，而无需投资</strong>购买各种配置的硬件。拥有一个非常大的数据集，并希望在该数据集上运行模拟(也许是AI+ML模型)？没问题。</li><li id="93c1" class="mi mj jf jg b jh mr jl ms jp mt jt mu jx mv kb mn mo mp mq bi translated"><strong class="jg lv">分析、网络、安全、大数据、区块链</strong>等等</li></ol><p id="97d4" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi translated"><strong class="jg lv">云有很多优势</strong></p><p id="6d7d" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi translated">你不需要购买这样的硬件，节省了大量的成本。您正在委派维护工作(数据备份、正常运行时间保证、硬件优化、安全性等)。)到这些云服务提供商的专门团队，专注于您产品的开发。解决方案是按需提供的，您需要为您使用的解决方案付费。扩展将自动处理，资源将根据需求自动分配/取消分配。</p><p id="4925" class="pw-post-body-paragraph jd je jf jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb ij bi translated">希望你喜欢这些内容。我乐于接受建议和补充。请随时回信:)</p></div></div>    
</body>
</html>