<html>
<head>
<title>Accelerate your exploratory data analysis (EDA)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">加速您的探索性数据分析(EDA)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/make-exploratory-data-analysis-eda-faster-74c434595bcf?source=collection_archive---------43-----------------------#2020-10-08">https://towardsdatascience.com/make-exploratory-data-analysis-eda-faster-74c434595bcf?source=collection_archive---------43-----------------------#2020-10-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b044" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Python的exploretransform包简介</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1eead7e4ff19dfe8e787cb6d583ffa48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7EuVnbnoAu9yA4uU"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kv" href="https://unsplash.com/@element5digital?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Element5数码</a>拍摄</p></figure><h1 id="4082" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated"><strong class="ak">总结:</strong></h1><ul class=""><li id="3d7b" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">数据科学家花60%的时间清理和组织数据。收集数据集排在第二位，占他们时间的19%，这意味着数据科学家花费大约80%的时间来准备和管理用于分析的数据</li><li id="e992" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">76%的数据科学家认为数据准备是他们工作中最不愉快的部分</li></ul><p id="df94" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">在本文中，我将展示Python的exploretransform包。它可以节省数据探索和转换的时间，并有望使您的数据准备更愉快！</p><h1 id="72e0" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated"><strong class="ak">概述:</strong></h1><p id="90fd" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mo lt lu ju mq lv na ms mt lx nb mv mw lz nc my mz mb ij bi translated">我最初开发exploretransform是为了在我自己的项目中使用，但我认为它可能对其他人有用。我的意图是创建一组简单的函数和类，以常见的Python数据格式返回结果。这将使从业者能够容易地利用输出或扩展原始功能，作为其工作流程的一部分。</p><h1 id="d9ec" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">如何使用exploretransform:</h1><p id="05de" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mo lt lu ju mq lv na ms mt lx nb mv mw lz nc my mz mb ij bi translated">安装和导入</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="70e4" class="ni kx iq ne b gy nj nk l nl nm">!pip install exploretransform</span><span id="ad0c" class="ni kx iq ne b gy nn nk l nl nm">import exploretransform as et</span></pre><p id="bf0f" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">让我们从加载波士顿校正数据集开始。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="359d" class="ni kx iq ne b gy nj nk l nl nm">df, X, y = et.loadboston()</span></pre><p id="0a0a" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">在这个阶段，我喜欢检查数据类型是否与数据字典和前五个观察值一致。此外，lvl的数量可以指示潜在的分类特征或具有高基数的特征。这里还可以检测到任何需要重新格式化的日期或其他数据。我们可以在这里使用peek()。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="3eff" class="ni kx iq ne b gy nj nk l nl nm">et.peek(X)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/e76cb18b2b9381ad5ab13c01a71002ff.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Od9SdJjO6JesVMNE3-Dzyw.png"/></div></figure><p id="68d2" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">分析完数据类型后，我们可以使用explore()来识别缺失值、零值和无穷大值。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="ab07" class="ni kx iq ne b gy nj nk l nl nm">et.explore(X)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/79321b893e9e72322a9f3c162ccecc9f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*C4fzXk51OxRbxy6iP9WsnA.png"/></div></figure><p id="c88a" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">前面，我们看到城镇可能是一个具有高基数的分类特征。我们可以使用freq()来分析分类或顺序特征，提供每个级别的计数、百分比和累积百分比</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="b3a9" class="ni kx iq ne b gy nj nk l nl nm">t = et.freq(X['town'])</span><span id="80ba" class="ni kx iq ne b gy nn nk l nl nm">t</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/15f6398106113ba187a5d71405bbce2a.png" data-original-src="https://miro.medium.com/v2/format:webp/1*A6CJ_T5fEofVZVog6kc0bA.png"/></div></figure><p id="b3da" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">为了可视化freq()的结果，我们可以使用plotfreq()。它生成一个条形图，以降序显示各个级别。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="bea3" class="ni kx iq ne b gy nj nk l nl nm">et.plotfreq(t)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/525c0b43bd1b0b9f25ce05db9b3ec572.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VRrFnZea0B2-CA0LLobqnw.png"/></div></div></figure><p id="5ed3" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">为了与您通常检查的直方图配对，skewstats()返回每个数字特征的偏度统计数据和大小。当您有太多的特征而无法轻松绘制时，此功能会变得更加有用。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="6d97" class="ni kx iq ne b gy nj nk l nl nm">et.skewstats(N)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/be7c7e200a1d406e4ae388a730592759.png" data-original-src="https://miro.medium.com/v2/format:webp/1*XBEJl9YuRaj0R7wZbX43RQ.png"/></div></figure><p id="d60a" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">为了确定预测值和目标值之间的关联，ascores()计算pearson、kendall、pearson、spearman、mic和dcor统计值。这些分数的多样性是有用的，因为某些分数测量线性关联，而其他分数将检测非线性关系。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="a286" class="ni kx iq ne b gy nj nk l nl nm">et.ascores(N,y)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/73d1917646eb507e45ed5c7c60430619.png" data-original-src="https://miro.medium.com/v2/format:webp/1*djrQ6nLwu10-X7YKJ5osxw.png"/></div></figure><p id="936b" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">一旦我们达到一定数量的特征，相关矩阵就会变得难以处理。虽然波士顿数据集远低于这个阈值，但可以想象，在处理高维数据时，表可能比矩阵更有用。Corrtable()返回所有成对相关的表，并使用中的行和列的平均相关来决定潜在的删除/筛选候选项。您可以使用任何您通常使用pandas corr函数的方法:</p><ul class=""><li id="7a10" class="lo lp iq lq b lr mn lt mp lv nq lx nr lz ns mb mc md me mf bi translated">姓氏</li><li id="f341" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">肯德尔</li><li id="8992" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">枪兵</li><li id="3d7e" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">请求即付的</li></ul><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="8117" class="ni kx iq ne b gy nj nk l nl nm">N = X.select_dtypes('number').copy()</span><span id="2417" class="ni kx iq ne b gy nn nk l nl nm">c = et.corrtable(N, cut = 0.5, full= True, methodx = 'pearson')</span><span id="fe63" class="ni kx iq ne b gy nn nk l nl nm">c</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/d8e6e6823e648dcff54ae17345796743.png" data-original-src="https://miro.medium.com/v2/format:webp/1*iewgaUZvNXtBriJZloFwLw.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/512e49b84298d48464755fddec17da06.png" data-original-src="https://miro.medium.com/v2/format:webp/1*ps9Inzh9GR2F5Q3-o8nlTQ.png"/></div></figure><p id="d822" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">根据corrtable()的输出，calcdrop()确定应该删除哪些要素。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="839f" class="ni kx iq ne b gy nj nk l nl nm">et.calcdrop(c)</span><span id="b2a2" class="ni kx iq ne b gy nn nk l nl nm">['age', 'indus', 'nox', 'dis', 'lstat', 'tax']</span></pre><p id="b95f" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">ColumnSelect()是一个自定义转换器，它为管道选择列</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="2b5a" class="ni kx iq ne b gy nj nk l nl nm">categorical_columns = ['rad', 'town']</span><span id="cd37" class="ni kx iq ne b gy nn nk l nl nm">cs = et.ColumnSelect(categorical_columns).fit_transform(X)</span><span id="ea58" class="ni kx iq ne b gy nn nk l nl nm">cs</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/9e7f80db93d94873c83f1a5af17a8dd0.png" data-original-src="https://miro.medium.com/v2/format:webp/1*ZVbQfJAgVQqhZwaM4KbcHw.png"/></div></figure><p id="c413" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">CategoricalOtherLevel()是一个自定义转换器，它根据阈值在分类/序号数据中创建“其他”级别。这在具有高基数预测值的情况下以及未来数据中可能出现新类别的情况下非常有用。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="8392" class="ni kx iq ne b gy nj nk l nl nm">co = et.CategoricalOtherLevel(colname = 'town', threshold = 0.015).fit_transform(cs)</span><span id="c1d0" class="ni kx iq ne b gy nn nk l nl nm">co.iloc[0:15, :]</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/6ddcdc909b52fc9d114ffe26889b802f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*hrAWPr3SCv6uQid-9aCsxw.png"/></div></figure><p id="d1ba" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">CorrelationFilter()是一个自定义转换器，它根据成对相关性过滤数字要素。它使用corrtable()和calcdrop()来执行drop评估和计算。有关它如何工作的更多信息，请参见:<a class="ae kv" rel="noopener" target="_blank" href="/are-you-dropping-too-many-correlated-features-d1c96654abe6">您是否放弃了太多相关功能？</a></p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="47a2" class="ni kx iq ne b gy nj nk l nl nm">cf = et.CorrelationFilter(cut = 0.5).fit_transform(N)</span><span id="c10b" class="ni kx iq ne b gy nn nk l nl nm">cf</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/531f02a7ea4661671e59a71140e0b00c.png" data-original-src="https://miro.medium.com/v2/format:webp/1*34ZNujuSDT9RjyFz6rBXJQ.png"/></div></figure><h1 id="5c4e" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论:</h1><p id="e759" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mo lt lu ju mq lv na ms mt lx nb mv mw lz nc my mz mb ij bi translated">在本文中，我展示了exploretransform包如何帮助您加速探索性数据分析。我很乐意听到任何改进的反馈或建议。请随时通过<a class="ae kv" href="https://www.linkedin.com/in/brianpietracatella/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或<a class="ae kv" href="https://github.com/bxp151/exploretransform" rel="noopener ugc nofollow" target="_blank"> GitHub </a>联系我。</p><h1 id="2c70" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated"><strong class="ak">参考文献</strong>:</h1><p id="75f5" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mo lt lu ju mq lv na ms mt lx nb mv mw lz nc my mz mb ij bi translated"><a class="ae kv" href="https://www.forbes.com/sites/gilpress/2016/03/23/data-preparation-most-time-consuming-least-enjoyable-data-science-task-survey-says/#69883cd6f637" rel="noopener ugc nofollow" target="_blank">https://www . Forbes . com/sites/Gil press/2016/03/23/data-preparation-most-time-consumption-least-enjoy-data-science-task-survey-says/# 69883 CD 6 f 637</a></p><p id="95c3" class="pw-post-body-paragraph ml mm iq lq b lr mn jr mo lt mp ju mq lv mr ms mt lx mu mv mw lz mx my mz mb ij bi translated">同上</p></div></div>    
</body>
</html>