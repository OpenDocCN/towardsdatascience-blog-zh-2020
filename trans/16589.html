<html>
<head>
<title>Virtual environment: What, Why, How?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">虚拟环境:什么，为什么，如何？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/virtual-environment-what-why-how-82665f186ebf?source=collection_archive---------55-----------------------#2020-11-15">https://towardsdatascience.com/virtual-environment-what-why-how-82665f186ebf?source=collection_archive---------55-----------------------#2020-11-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6670" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用虚拟环境管理python和python包</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/76660b9cd61a13a9456ca36134de2fc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3sX1RK7W_SzPxzGwa-Fuew.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片由<a class="ae kv" href="https://pixabay.com/ko/users/yhbae-4048436/" rel="noopener ugc nofollow" target="_blank"> 용한 배 </a>发自<a class="ae kv" href="https://pixabay.com/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="e0b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Mac预装python 2。通过安装不同版本的python和不同的包，可以在Mac上的不同目录中安装更多的python环境。了解您正在使用哪种python非常重要。</p><p id="147c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以通过在终端中键入以下代码来检查当前正在使用的python:</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="a429" class="lx ly iq lt b gy lz ma l mb mc">ericli@ERICYNLI-MB0 ~ % which python <br/>/usr/bin/python</span></pre><p id="d9d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个例子中，我目前使用的python是预装的python 2。如果python不是您想要使用的，那么您可能会遇到一个小问题。您可以通过将所需python的目录放在Mac上path变量的开头来解决这个问题。但是不推荐这种方法，因为如果您需要为不同的项目使用不同版本的python或python包，您将不得不一致地升级或降级您的python或python包。在这种情况下，强烈建议使用虚拟环境。</p><h1 id="f816" class="md ly iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">虚拟环境</h1><p id="f461" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf mw lh li lj mx ll lm ln my lp lq lr ij bi translated">虚拟环境是包含特定版本的python及其相关包的目录。虚拟环境是完全隔离的，因此您可以在Mac上拥有任意多个虚拟环境，并且始终非常清楚您正在使用哪个虚拟环境。</p><p id="f271" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我强烈建议每个人在进入下一步之前安装Anaconda，因为它很简单。在您安装了Anaconda(【https://docs.anaconda.com/anaconda/install/】)之后，您需要将Anaconda bin的目录添加到路径中。要添加目录，只需输入以下代码并键入您的Mac密码:</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="033a" class="lx ly iq lt b gy lz ma l mb mc">ericli@ERICYNLI-MB0 ~ % sudo vim /etc/paths <br/>Password:</span></pre><p id="fe3d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于那些感兴趣的人来说，“sudo”的意思是“超级用户do”，它授予当前用户管理员权限。输入密码并按enter键后，您会看到如下内容:</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="ddbf" class="lx ly iq lt b gy lz ma l mb mc">/usr/local/bin <br/>/usr/bin <br/>/bin <br/>/usr/sbin <br/>/sbin</span></pre><p id="30d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在该文件中，创建一个新行，并将Anaconda bin目录添加到该文件中。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="0f06" class="lx ly iq lt b gy lz ma l mb mc">/usr/local/bin <br/>/usr/bin <br/>/bin <br/>/usr/sbin <br/>/sbin <br/>/opt/anaconda3/bin</span></pre><p id="b5b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">文件保存后，您可以在终端中使用“conda”命令。</p><p id="d5ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mz"> Vim命令提示:<br/> "o ":在光标下打开新一行<br/> "O ":在光标上方打开新一行<br/> ":wq ":保存并退出<br/> ":q ":退出<br/> ":q！":强制退出(当有不需要的更改时)</em></p><p id="9c5b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用conda命令，您可以使用所需的python版本和python包创建虚拟环境。通过激活虚拟环境，您在Mac上的路径被修改——虚拟环境的目录被放在路径文件的开头，因此一旦在虚拟环境中找到，您输入的任何命令都将被搜索和执行。</p><p id="6c4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用python版创建虚拟环境并激活它:</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="2680" class="lx ly iq lt b gy lz ma l mb mc">ericli@ERICYNLI-MB0 ~ % conda create --name py38 python=3.8 ericli@ERICYNLI-MB0 ~ % conda activate py38</span></pre><p id="f68d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要检查虚拟环境列表和当前环境(标有星号):</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="dc39" class="lx ly iq lt b gy lz ma l mb mc">(py38) ericli@ERICYNLI-MB0 ~ % conda env list <br/># conda environments:<br/>#<br/>base                     /opt/anaconda3<br/>py38                  *  /opt/anaconda3/envs/py38</span></pre><p id="c083" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要检查当前环境中安装了哪些软件包，并安装其他软件包:</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="ce1f" class="lx ly iq lt b gy lz ma l mb mc">(py38) ericli@ERICYNLI-MB0 ~ % conda list <br/>(py38) ericli@ERICYNLI-MB0 ~ % conda install PACKAGENAME</span></pre><p id="25a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">激活新环境后，您会发现您正在使用的python就是您的虚拟环境中的python。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="9a73" class="lx ly iq lt b gy lz ma l mb mc">(py38) ericli@ERICYNLI-MB0 ~ % which python /opt/anaconda3/envs/py38/bin/python</span></pre><p id="c6a2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，您的新虚拟环境已经设置好了。您可以通过在终端中输入“python”或“jupyterlab ”(如果您安装了jupyter lab)来开始使用这个环境。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><p id="be37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mz">最初发表于</em><a class="ae kv" href="https://gist.github.com/ynericli/928ce2da9eadfa4031ca5657620eac31" rel="noopener ugc nofollow" target="_blank"><em class="mz">【http://github.com】</em></a><em class="mz">。</em></p></div></div>    
</body>
</html>