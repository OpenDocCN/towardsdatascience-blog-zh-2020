<html>
<head>
<title>Achieving Loosely Coupling with a Math Expression Parser</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用数学表达式解析器实现松散耦合</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/achieving-loosely-coupling-with-a-math-expression-parser-4abed38ff00e?source=collection_archive---------65-----------------------#2020-10-26">https://towardsdatascience.com/achieving-loosely-coupling-with-a-math-expression-parser-4abed38ff00e?source=collection_archive---------65-----------------------#2020-10-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9769" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用mxParser将数据计算逻辑定义与其执行位置分离开来</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8d863e1a6e742051bce620221cc8889d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rOIKlW4eqlFjtmk3"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">杰斯温·托马斯在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="1d8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过与数据科学家合作，我了解到一个数据处理系统需要改进多少次才能达到最佳效果。这就是为什么<strong class="lb iu">你不应该在代码</strong>中硬编码数学公式、表达式和常数。如果计算数据逻辑不是由数据科学家编写的，则尤其如此。</p><p id="5d68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我从事上一个项目时，我一直在寻找一种方法，允许我团队中的数据科学家改变数据计算逻辑，而不必强迫我更新Kotlin后端的代码。解决方案是<strong class="lb iu">允许他们在数据库</strong>(或配置文件)<strong class="lb iu">中定义复杂的数学公式、表达式和常数，我将从中读取并应用它们</strong>。首先，这可能吗？又是怎么做到的？</p><p id="72cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可能有很多方法可以达到这样的目标，但是为什么不使用一个<strong class="lb iu">数学表达式解析器呢？</strong></p><p id="311b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在网上搜索一个好的库，我碰到了<a class="ae ky" href="http://mathparser.org/" rel="noopener ugc nofollow" target="_blank"> mXparser </a>。</p><blockquote class="lv lw lx"><p id="a9c5" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><strong class="lb iu"> mXparser </strong>是一个<strong class="lb iu">超级简单</strong>、<strong class="lb iu">丰富</strong>、<strong class="lb iu">快速</strong>和<strong class="lb iu">高度灵活的数学表达式解析器</strong>库(解析器和<strong class="lb iu">评估器</strong>提供的数学表达式/公式为<strong class="lb iu">纯文本/字符串</strong>)。软件为JAVA、Android和C#提供易于使用的API。NET/MONO(符合公共语言规范:F#、Visual Basic、C++/CLI)。— <a class="ae ky" href="http://mathparser.org/" rel="noopener ugc nofollow" target="_blank"> mxParser </a></p></blockquote><p id="2971" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这个库，如果数据科学家编写遵循特殊mxParser符号的数学表达式、函数、常数，我可以加载并运行它们。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="f1aa" class="mh mi it md b gy mj mk l ml mm">// few examples of string equivalent to the math formula notation:</span><span id="44ee" class="mh mi it md b gy mn mk l ml mm">"1+2"</span><span id="4604" class="mh mi it md b gy mn mk l ml mm">"1+2/3+(4*5-10)"</span><span id="2ef9" class="mh mi it md b gy mn mk l ml mm">"2*x+sin(y)"</span><span id="4f4a" class="mh mi it md b gy mn mk l ml mm">"int( sqrt(1-x^2), x, -1, 1)"</span><span id="d626" class="mh mi it md b gy mn mk l ml mm">"sum(n, 1, 100, 1/n^2)"</span><span id="41d1" class="mh mi it md b gy mn mk l ml mm">"C(n,k)"</span><span id="7734" class="mh mi it md b gy mn mk l ml mm">"fib(n) = iff( n&gt;1, fib(n-1)+fib(n-2); n=1, 1; n=0, 0)"</span></pre><p id="a844" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">多亏了这个强大的工具，我能够<strong class="lb iu">将数据计算逻辑定义的地方与它实际执行的地方</strong>分开，使得架构<strong class="lb iu">松散耦合</strong>。这似乎是一个微不足道的成就，但它使更新数据计算逻辑的过程更加高效和可靠。事实上，我团队中的数据科学家现在可以自由地编写数学表达式，<strong class="lb iu">不再需要相信我能正确地实现它们</strong>。</p><p id="d037" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以使用mxParser定义简单的<a class="ae ky" href="http://mathparser.org/mxparser-tutorial/simple-expressions/" rel="noopener ugc nofollow" target="_blank">表达式</a>、<a class="ae ky" href="http://mathparser.org/mxparser-tutorial/user-defined-functions/" rel="noopener ugc nofollow" target="_blank">函数</a> s(甚至<a class="ae ky" href="http://mathparser.org/mxparser-tutorial/user-defined-recursion-not-limited/" rel="noopener ugc nofollow" target="_blank">递归</a>)。它还提供了几个<a class="ae ky" href="http://mathparser.org/" rel="noopener ugc nofollow" target="_blank">特性</a>，以及大量的<a class="ae ky" href="http://mathparser.org/mxparser-math-collection/" rel="noopener ugc nofollow" target="_blank">内置</a> <a class="ae ky" href="http://mathparser.org/mxparser-math-collection/operators/" rel="noopener ugc nofollow" target="_blank">运算符</a>、<a class="ae ky" href="http://mathparser.org/mxparser-math-collection/constants/" rel="noopener ugc nofollow" target="_blank">常量</a>和数学函数。</p><p id="6907" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">访问<a class="ae ky" href="https://github.com/mariuszgromada/MathParser.org-mXparser" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">math parser . org-MX parser</strong></a><strong class="lb iu"/>GitHub账号进行进一步阅读:</p><div class="mo mp gp gr mq mr"><a href="https://github.com/mariuszgromada/MathParser.org-mXparser" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd iu gy z fp mw fr fs mx fu fw is bi translated">mariuszgromada/math parser . org-MX parser</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">数学解析器Java Android C#。NET/MONO(。NET框架，。网芯，。NET标准，。净PCL，Xamarin。安卓系统…</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">github.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf ks mr"/></div></div></a></div></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><p id="c58e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！我希望这篇文章对你有所帮助。如有任何问题、意见或建议，请随时联系我。</p></div></div>    
</body>
</html>