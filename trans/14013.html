<html>
<head>
<title>Understanding Explicit vs Implicit measures in Power BI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解Power BI中的显式和隐式度量</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/understanding-explicit-vs-implicit-measures-in-power-bi-e35b578808ca?source=collection_archive---------3-----------------------#2020-09-27">https://towardsdatascience.com/understanding-explicit-vs-implicit-measures-in-power-bi-e35b578808ca?source=collection_archive---------3-----------------------#2020-09-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ef9c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">检查Power BI数据模型中隐式和显式度量之间的重要差异，以及为什么您应该考虑避免更简单的方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a59f2f2d5258a21ad27b4934f095eabb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nRiEOTjT0R0cTtQ2JIUQ8Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Alex Andrews在Pexels.com拍摄的照片</p></figure><p id="e0b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于新的Power BI用户来说，最具挑战性的概念之一是理解度量和计算列之间的差异。或者说得更具体一点，概念本身并不是什么大问题，但Power BI菜鸟最让人望而生畏的，就是要明白什么时候用哪个。</p><p id="3768" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为我已经写了计算列和度量值的<a class="ae lu" href="https://data-mozart.com/powerbi/calculated-columns-vs-measures-in-power-bi/" rel="noopener ugc nofollow" target="_blank">用例，并且简要解释了当您想要使用其中每一个时的不同场景，所以在最近的数据之星会议上，我有一个问题要解释显式和隐式度量值之间的区别。我已经在这里</a>简短地回答了<a class="ae lu" href="https://data-mozart.com/learning/new-stars-of-data-qa/" rel="noopener ugc nofollow" target="_blank">，但是我答应为这个话题写一篇单独的文章。</a></p><p id="5939" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，在本文中，我将只关注度量，并尝试深入解释显式和隐式度量之间的差异。</p><h2 id="6729" class="lv lw it bd lx ly lz dn ma mb mc dp md lh me mf mg ll mh mi mj lp mk ml mm mn bi translated">隐性的，显性的……什么？！</h2><p id="10bb" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">好了，你已经听说过功率BI中的度量，就是这样。现在究竟什么是隐性措施？！还是露骨？不要惊慌，继续阅读，我向你保证，在这篇文章结束时，你会对这两者有很好的理解，以及它们的主要优点和缺点是什么。</p><p id="be6d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> <em class="mt">隐性措施—【感谢】动力匕</em> </strong></p><p id="ec68" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我知道我们都喜欢<a class="ae lu" rel="noopener" target="_blank" href="/how-i-speed-up-my-power-bi-report-5x-155255415895">自动为我们</a>创造的东西，Power BI在这方面做得很好。Power BI为我们做的事情之一是创建隐式度量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/26984d5a6ef7d9a5867543cca16475fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/format:webp/1*oo6e1h8Mw-1VtMXZc5chSA.png"/></div></figure><p id="e7be" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如您在上面的插图中所注意到的，Power BI识别了我们的数据模型中的数值字段，并自动用适马符号对它们进行了标记。这意味着，一旦将这些列值拖到报表视图中，就会对它们进行汇总。</p><p id="97b3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们看看这在现实中是如何工作的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/650500a2f525c69bfa220af1e855c34d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Elt1_Sr8q4MSuPBkhVYkug.png"/></div></div></figure><p id="1c80" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我将我的productID列拖到表visual中，我看到Power BI自动应用了某种聚合。现在，您可以定义要应用于特定列的聚合类型，或者根本不进行聚合(提示:选择不汇总选项):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/c18718141969ac00e676687a1375bbb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3vhylXLYcp7BFqe98NS-Qg.png"/></div></div></figure><p id="e834" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里，Power BI对我的productID列执行了Count aggregate函数。看着上面的图片，人们可以(太)容易地得出结论，当使用隐式度量时有很大的灵活性-您可以在一组预定义的聚合之间进行选择，甚至包括花哨的统计计算，如标准差、方差或中位数…所有这些，只需单击一下！</p><p id="c9af" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> <em class="mt">那么，既然(几乎)一切都已经为我们预烤好了，为什么还要有人费心去写DAX呢？</em>T3】</strong></p><p id="95fe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我向您展示为什么使用隐式度量会回来困扰您之前，让我简单地概述一下隐式度量如何在您的数据模型中与非数值字段<a class="ae lu" rel="noopener" target="_blank" href="/how-to-reduce-your-power-bi-model-size-by-90-b2f834c9f12e">一起工作。</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/0d0499c4166e2e2dec7fda83925992d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g4Pt_jtJ4QHe7fWzalXZAA.png"/></div></div></figure><p id="0f99" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我的文本字段InteractionType可以总结为四种不同的方式:First、Last、Count (Distinct)和Count。当然，它也可以是非汇总的，就像上面的例子一样。</p><p id="873e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">类似地，日期列也提供了自己的一组预定义聚合:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/c1d8cec723b842b68aad798b3c5557e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QkF7mBy_udyEJMQzNvpj_g.png"/></div></div></figure><h2 id="7e25" class="lv lw it bd lx ly lz dn ma mb mc dp md lh me mf mg ll mh mi mj lp mk ml mm mn bi translated">隐性措施的局限性</h2><p id="fa90" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">无论通过使用自动创建的度量来节省时间和精力的可能性看起来多么有吸引力，您都应该尽量避免，因为它有一些明显的缺点。</p><p id="3c0b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设您有一个非加性或半加性的度量，比如产品的单价，或者银行账户余额。您不希望在报告中简单地对这些值求和，因为这不是这些度量的预期行为。因此，如果使用隐式度量，很容易发生您的报告产生意想不到的错误结果。</p><p id="5345" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">隐式度量的另一个限制是不能在多个不同的聚合类型中使用它们。假设我既想知道我的客户总数，又想知道独特客户的总数。通过使用隐式度量，我只能选择其中一个选项…</p><h2 id="e323" class="lv lw it bd lx ly lz dn ma mb mc dp md lh me mf mg ll mh mi mj lp mk ml mm mn bi translated">明确的措施=更大的灵活性！</h2><p id="59f1" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated"><a class="ae lu" rel="noopener" target="_blank" href="/dynamic-filtering-in-power-bi-5a3e2d2c1856">使用DAX语言以显式方式编写度量</a>，在开始时需要更多的时间和精力，因为你需要做一些手工工作。但是，你以后会结出果实的，相信我。</p><p id="db4e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">回到我们之前的挑战—在我们的报告中显示客户总数和唯一(独特)客户总数可以使用显式方法轻松解决:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="6bec" class="lv lw it mx b gy nb nc l nd ne">Total Customers = COUNT(TableName[CustomerID])<br/>Total Unique Customers = DISTINCTCOUNT(TableName[customerID])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/fe2dd5adf9687a7c31a3570ec418af3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5hB2rkLbG-iCrL9ZIV8VCg.png"/></div></div></figure><p id="0ddc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，正如您所注意到的，我们使用同一个列作为多个不同度量的引用，以产生期望的结果。</p><p id="f83b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">虽然隐式度量可以支持一些非常基本的场景，但是一旦您的报表需要更复杂的计算，您就必须切换到显式度量。</p><p id="3fcc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，使用显式度量而不是隐式度量的主要优点是它们的<strong class="la iu"> <em class="mt">可重用性</em> </strong>。您只需定义一次度量，就可以根据需要多次引用它。</p><p id="7a18" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">另一个明显的好处是更容易维护数据模型。如果创建基本显式度量，例如:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="6642" class="lv lw it mx b gy nb nc l nd ne">Sales Amt = SUM(TableName[Sales Amount])</span></pre><p id="4e0d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以在20个不同的衡量标准中使用此衡量标准作为参考(例如，计算毛利润、年同比等。)!如果需要更改任何后台逻辑，只需在一个地方(在基本度量中)进行更改，所有引用的度量将自动应用新的逻辑。</p><h2 id="6790" class="lv lw it bd lx ly lz dn ma mb mc dp md lh me mf mg ll mh mi mj lp mk ml mm mn bi translated">措施—最佳实践</h2><p id="1339" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">现在，您已经了解了隐式和显式度量之间的区别以及使用后者的明显优势，让我总结一些关于在您的报告中使用度量的最佳实践:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3f9a2d6ec10169a8023423e085737566.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*whiEDH2r-_yStMrSZYVHGw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Pexels.com上永恒幸福的照片</p></figure><ul class=""><li id="99f3" class="ng nh it la b lb lc le lf lh ni ll nj lp nk lt nl nm nn no bi translated"><strong class="la iu"> <em class="mt">不要忘记正确设置度量值的格式</em> </strong> —这意味着，如果您正在处理与金钱相关的值(例如销售额)，您可能希望将它们设置为货币格式。与格式保持一致，如果你的数字限制在两位小数，那么在整个报告中坚持使用它</li><li id="6e69" class="ng nh it la b lb np le nq lh nr ll ns lp nt lt nl nm nn no bi translated"><strong class="la iu"> <em class="mt">一旦您完成了基于特定列的显式度量的创建，您应该在报表</em> </strong>中隐藏该列。这样，您就可以防止对该列的不充分使用(例如，对账户的银行余额进行简单求和)。因此，作为数据建模者，您负责汇总选项</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/7866424a0bce4481dbb86fd791874c62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uLEDtW1keHqE9bLQrg8VRw.png"/></div></div></figure><p id="1698" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本例中，我定义了“客户总数”和“唯一客户总数”度量值，所以我不希望有人执行customerID的求和。因此，我将隐藏字段列表中的customerID列。</p><ul class=""><li id="2896" class="ng nh it la b lb lc le lf lh ni ll nj lp nk lt nl nm nn no bi translated"><strong class="la iu"> <em class="mt">将您的度量组织到单独的文件夹中</em> </strong> —当您的报表只有几个度量时，这不是问题。但是，当您需要操作数十甚至数百个度量时，事情会变得更加复杂。为了防止这种情况，我总是使用下面的技巧来更好地组织我的度量。默认情况下，该度量将位于您创建它的表中。您可以通过单击该度量来更改它，然后在建模选项卡下，更改该特定度量的主表:</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/2a0374275cd4185682e7cb80aacb09de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w-FKGkeasNRZrt-GZLq3cQ.png"/></div></div></figure><p id="4bbb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，这只是将度量从一个表移动到另一个表，并不能解决问题。为了解决这个问题，我需要创建一个全新的表，只保存我的度量。</p><p id="2d43" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在Home选项卡下，选择Enter Data并创建一个名为RepMeasures:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/f694e7d278b8a3094e098e4506f7cfbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CL62BWeR0p-gd03PNkJxQw.png"/></div></div></figure><p id="36a8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">单击Load，您将在模型中看到一个新表。之后，单击您的度量，并在Home表下选择RepMeasures。</p><p id="4804" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，只需简单地删除第1列，就可以了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/ef4932194130f80ffac40f4f0a137916.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XPmadrtZjJ_6W9weDT1mlA.png"/></div></div></figure><p id="d174" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这样，您可以对您的度量进行分离和分组。相信我，这将使您的生活变得更加容易，尤其是当您在报表中创建多个度量时。</p><h2 id="e03f" class="lv lw it bd lx ly lz dn ma mb mc dp md lh me mf mg ll mh mi mj lp mk ml mm mn bi translated">结论</h2><p id="a21f" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">正如我已经说过的:我们都喜欢走一条更容易的路来实现我们的目标。这是完全合理的，Power BI是您在这条道路上的“最好的朋友”。</p><p id="7f68" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，在选择采用哪种方法时，有许多重要的考虑因素需要考虑。我不想说:千万不要用隐性措施！通过写这篇文章，我只是想指出在使用它们时一些可能的陷阱和限制，以及为什么您仍然应该更喜欢写显式的方法。</p><p id="bc6d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！</p><p id="8bcc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">成为会员，阅读Medium上的每一个故事！</p><p id="b136" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">订阅<a class="ae lu" href="http://eepurl.com/gOH8iP" rel="noopener ugc nofollow" target="_blank">这里</a>获取更多有见地的数据文章！</p></div></div>    
</body>
</html>