<html>
<head>
<title>Deploying Streamlit apps using Streamlit sharing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用简化it共享部署简化it应用</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/deploying-streamlit-apps-using-streamlit-sharing-16105d257852?source=collection_archive---------29-----------------------#2020-10-15">https://towardsdatascience.com/deploying-streamlit-apps-using-streamlit-sharing-16105d257852?source=collection_archive---------29-----------------------#2020-10-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a092" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">先睹为快Streamlit的新部署平台</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bff4bed2846c41cbc1c092e72f71001b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1OkCXEqnscCdBK_kvNilfQ.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="1bf4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在过去的几周里，我一直在玩一个名为Streamlit sharing的新Streamlit功能，它使部署您的定制应用程序变得非常简单。我将首先介绍一些背景知识，因此如果您想查看Streamlit共享的文档，您可以在这里找到它们<a class="ae lr" href="http://docs.streamlit.io/sharing" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="8447" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">流线型背景</h1><p id="1e37" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">简单介绍一下背景，Streamlit是一个框架，它可以让您快速而自信地将python脚本转换为web应用程序，对于需要快速共享模型或交互式分析的团队中的数据科学家来说，或者对于从事希望向世界展示的个人项目的数据科学家来说，它是一个不可思议的工具。如果你想尝试一下，这里有一个<a class="ae lr" href="https://docs.streamlit.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> Streamlit初学者教程</a>！</p><p id="fc01" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在过去的大约6个月里，我一直在使用Streamlit，它一直<strong class="kx ir">非常</strong>有用。以前，如果我知道我想在项目结束时制作一个web应用程序，我总是会选择切换到R来获得精彩的R shiny框架，即使我是一个比R好得多的python程序员。经历Django或flask是如此多的开发摩擦，以至于对于个人项目来说很少是值得的，并且对于工作中的任何事情来说总是花费太多时间。但是在使用Streamlit之后，我现在不仅有了选择，而且发现自己更喜欢python+Streamlit而不是R+shiny。</p><h1 id="5473" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">简化共享</h1><p id="3b8a" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">这让我想起了几个月前。我启动了一个<a class="ae lr" href="http://www.tylerjrichards.com/books_reco.html" rel="noopener ugc nofollow" target="_blank"> DS项目</a>，专注于使用来自<a class="ae lr" href="http://www.tylerjrichards.com/books_reco.html" rel="noopener ugc nofollow" target="_blank"> Goodreads </a>应用的数据分析阅读习惯。我决定尝试一下Streamlit，它将一个Django/flask应用程序在本地正常运行的多日过程变成了一个在本地使用Streamlit大约需要半小时的过程。这真的很简单，只要你想在应用程序上放一个图表、小部件或文本解释器，就可以把你的分析放到一个脚本中，并调用Streamlit函数。</p><p id="41c3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然而，Streamlit上最烦人的流程是部署和管理流程。我跟着学的<a class="ae lr" rel="noopener" target="_blank" href="/how-to-deploy-a-streamlit-app-using-an-amazon-free-ec2-instance-416a41f69dc3">教程很简单，没花多少时间，但是相当广泛。它需要启动一个ec2实例，配置SSH，使用tmux，并在每次想要更改web应用程序时返回到这个终端。这是可行的，但令人讨厌。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/6770efcba984bb8d5d02fd2f559ce490.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QtzWkSFvBBJdo8YWmpvgLw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="8878" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">几周前，Streamlit看到了我的Goodreads应用程序，问我是否想测试一下他们的Streamlit共享测试版，该测试版应该可以消除上面解释的摩擦。很明显，我尝试过了。</p><p id="5ff7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">我所要做的就是:</strong></p><ol class=""><li id="7ef9" class="mq mr iq kx b ky kz lb lc le ms li mt lm mu lq mv mw mx my bi translated">将我的应用程序推送到Github回购</li><li id="1c5a" class="mq mr iq kx b ky mz lb na le nb li nc lm nd lq mv mw mx my bi translated">添加一个requirements.txt文件，列出我使用的所有python库</li><li id="99d0" class="mq mr iq kx b ky mz lb na le nb li nc lm nd lq mv mw mx my bi translated">通过指向存储库的链接将Streamlit指向我的应用程序</li><li id="7454" class="mq mr iq kx b ky mz lb na le nb li nc lm nd lq mv mw mx my bi translated">单击部署</li></ol><p id="4a75" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这真的是<strong class="kx ir">那么容易</strong>弄清楚。我花了几个小时来解决这个问题，因为我预计会出现各种各样的错误(这是测试版！)，但我只用了不到10分钟就让它启动并运行了。</p><p id="d9d9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我目前正在运行三个应用程序，一个是测试应用程序，第二个是我之前提到的<a class="ae lr" href="https://share.streamlit.io/tylerjrichards/book_reco/master/books.py/+/" rel="noopener ugc nofollow" target="_blank"> Goodreads图书推荐应用程序</a>，第三个是我在大约一个半小时内完成的一项技术调查的<a class="ae lr" href="http://www.tylerjrichards.com/survey.html" rel="noopener ugc nofollow" target="_blank">交互分析</a>(从想法到运行和部署web应用程序)。</p><p id="62a3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">切换到Streamlit共享还为我节省了每月约5美元的AWS账单，我很乐意为这项功能支付这笔费用，仅仅是因为节省了部署时间。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/baab7af997a40c1ff2cd269a57530c0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cuwGOwmibKJLtutcvnbFaA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="1ce6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果我想尝试一个新的应用程序，我只需点击新的应用程序按钮，将其指向我的回购，他们就会处理其他一切。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/12e69e9cfd42fc9a98bdc4844079e53a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HFMHbH5-FUO_xWnk8j_qeA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="e782" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您的Streamlit应用程序使用任何其他包，请确保在您的repo中包含requirements.txt文件，否则您会在部署时立即得到一个错误。你可以使用像pip freeze这样的东西来获取需求，但是这会给你环境中的所有包，包括那些你在当前项目中不使用的包。这将降低您的应用程序部署速度！所以我建议使用像pipreqs这样的东西来保持你的应用程序的核心需求。</p><pre class="kg kh ki kj gt ng nh ni nj aw nk bi"><span id="efcc" class="nl lt iq nh b gy nm nn l no np">pip install pipreqs<br/>pipreqs /home/project/location</span></pre><p id="0e3e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果对apt-get有要求，添加到<code class="fe nq nr ns nh b">packages.txt -</code>，一行一个包。</p><h1 id="2fb8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="3e99" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">总而言之，Streamlit sharing在节省开发时间和托管成本方面为我节省了美元(对使这一切成为可能的风险投资基金大喊一声)，使我的个人项目更具互动性和更漂亮，并消除了部署快速模型或分析的头痛。难怪我是细流迷。</p><p id="4201" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">想看更多这方面的内容？你可以在<a class="ae lr" href="https://twitter.com/tylerjrichards" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae lr" href="https://insignificantdatascience.substack.com/p/starting-a-data-science-newsletter" rel="noopener ugc nofollow" target="_blank"> Substack </a>或<a class="ae lr" href="http://www.tylerjrichards.com" rel="noopener ugc nofollow" target="_blank">我的作品集网站</a>上找到我。</p><p id="2812" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">快乐的小溪！</p></div></div>    
</body>
</html>