<html>
<head>
<title>11 Must-Know Operations to Master Python Lists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">掌握Python列表的11个必知操作</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/11-must-know-operations-to-master-python-lists-f03c71b6bbb6?source=collection_archive---------18-----------------------#2020-11-07">https://towardsdatascience.com/11-must-know-operations-to-master-python-lists-f03c71b6bbb6?source=collection_archive---------18-----------------------#2020-11-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e847" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">附有示例的综合实践指南。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bc04ee058ac20ef8d0d87770c21c5297.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*G43gs1ASQzLMMR1F.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@hengfilms?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">恒电影</a>在<a class="ae ky" href="https://unsplash.com/@hengfilms?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="fe27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> List </strong>是Python中内置的数据结构。它表示为方括号中的数据点集合。列表可用于存储任何数据类型或不同数据类型的混合。</p><p id="7327" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">列表是可变的，这也是它们被广泛使用的原因之一。然而，在某些情况下，可变性需要格外小心。</p><p id="46e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本帖中，我们将介绍11个非常重要的操作，几乎涵盖了你需要了解的关于Python列表的所有内容。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="3e3d" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">1.从列表中删除元素的三种方法</h2><p id="85c6" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">第一种方法是del函数。我们刚刚经过了要删除的元素的索引。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="cff0" class="mc md it nb b gy nf ng l nh ni">a = [1, 2, 'x', 4, 5]<br/>del(a[0])<br/>print(f'a is {a}')</span><span id="8c79" class="mc md it nb b gy nj ng l nh ni">a is [2, 'x', 4, 5]</span></pre><p id="ac5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用remove函数来查找要删除的值。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="6c17" class="mc md it nb b gy nf ng l nh ni">a = [1, 2, 'x', 4, 5]<br/>a.remove('x')<br/>print(f'a is {a}')</span><span id="b9d6" class="mc md it nb b gy nj ng l nh ni">a is [1, 2, 4, 5]</span></pre><p id="5fa8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第三种方法是pop函数，默认情况下它删除列表的最后一个元素。与其他两个函数不同，pop返回被删除的值。因此，我们可以选择将它赋给不同的变量。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="cd69" class="mc md it nb b gy nf ng l nh ni">a = [1, 2, 'x', 4, 5]<br/>b = a.pop()<br/>print(f'a is {a}')<br/>print(f'b is {b}')</span><span id="b8ee" class="mc md it nb b gy nj ng l nh ni">a is [1, 2, 'x', 4]<br/>b is 5</span></pre><p id="8a97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Edit </strong> : Pop常用于弹出(或移除)列表的最后一个元素。但是，它也可以通过提供索引来删除任何元素。感谢Keethesh在评论中的提醒。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="d8f5" class="mc md it nb b gy nf ng l nh ni">a.pop(-1) #removes the last element<br/>a.pop(2) #removes the third element</span></pre><p id="d04c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>:列表有两种索引方式:</p><ul class=""><li id="8a43" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">从开始到结束:0，1，2，3</li><li id="a709" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">从结束到开始:-1，-2，-3</li></ul><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e943" class="mc md it nb b gy nf ng l nh ni">a = ['x','y','z','t','u','v']</span><span id="f54c" class="mc md it nb b gy nj ng l nh ni">print(a[-1])<br/>v</span><span id="617b" class="mc md it nb b gy nj ng l nh ni">print(a[2])<br/>z</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="4706" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">2.追加vs扩展vs插入</h2><p id="76d6" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">Append用于将项目添加到列表中。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="68d2" class="mc md it nb b gy nf ng l nh ni">a = [1, 2]<br/>a.append(3)<br/>a<br/>[1, 2, 3]</span></pre><p id="00b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论你在列表中添加什么，它都将成为列表中的一项。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="0dc3" class="mc md it nb b gy nf ng l nh ni">a = [1, 2]<br/>b = [3, 4, 5]<br/>a.append(b)<br/>a<br/>[1, 2, [3, 4, 5]]</span></pre><p id="bad7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">列表b成为列表a的第三个项目。如果您想要创建一个列表，该列表是a和b中的项目的组合([1，2，3，4，5])，您需要使用extend函数或“+”运算符。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="cfd2" class="mc md it nb b gy nf ng l nh ni">a = [1, 2]<br/>b = [3, 4, 5]</span><span id="b225" class="mc md it nb b gy nj ng l nh ni">a.extend(b)<br/>a<br/>[1, 2, 3, 4, 5] # a + b will give the same result<br/></span></pre><p id="8307" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">insert函数也用于向列表中添加元素。但是，它允许指定新元素的索引。例如，我们可以在列表的开头添加一个新元素(index=0)。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="2388" class="mc md it nb b gy nf ng l nh ni">a = [1, 2, 3, 4, 5]<br/>a.insert(0, 'a')<br/>a<br/>['a', 1, 2, 3, 4, 5]</span></pre><p id="b61e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一个参数是索引，第二个参数是值。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="5b4c" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">3.通过“=”复制列表</h2><p id="5382" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们可以复制一个列表并创建一个新的变量。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="5759" class="mc md it nb b gy nf ng l nh ni">a = [1, 2, 3]<br/>b = a</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/ecd88adcabb7ed6dc5157c59ccd4d34c.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*v9j1n-EJII0B2MsgYYoDVg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建于<a class="ae ky" href="http://pythontutor.com/" rel="noopener ugc nofollow" target="_blank"> pythontutor </a>(图片由作者提供)</p></figure><p id="5061" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，新变量“b”只是指向“a”的值的指针。因此，a的任何变化也会改变b。让我们通过给a加一个值来确认。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="fe2c" class="mc md it nb b gy nf ng l nh ni">a.append(4)<br/>print(f'a is {a}')<br/>print(f'b is {b}')</span><span id="6f42" class="mc md it nb b gy nj ng l nh ni">a is [1, 2, 3, 4]<br/>b is [1, 2, 3, 4]</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="0670" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">4.使用索引复制列表</h2><p id="6582" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们可以通过选择列表的所有索引来复制列表。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="39ee" class="mc md it nb b gy nf ng l nh ni">a = [1, 2, 3]<br/>b = a[:]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/2278f85092a88fdddbca3b236a96fb38.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*60vzmZYkpogFU75C7RaFWw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建于<a class="ae ky" href="http://pythontutor.com/" rel="noopener ugc nofollow" target="_blank"> pythontutor </a>(图片由作者提供)</p></figure><p id="2cb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">新列表b包含与a相同的值，但是在不同的存储位置。如果我们改变a，b不会受到影响。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="0f0f" class="mc md it nb b gy nf ng l nh ni">a.append(4)<br/>print(f'a is {a}')<br/>print(f'b is {b}')</span><span id="fcbc" class="mc md it nb b gy nj ng l nh ni">a is [1, 2, 3, 4]<br/>b is [1, 2, 3]</span></pre><p id="db31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用copy函数复制列表的工作原理与复制索引相同。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="5dc0" class="mc md it nb b gy nf ng l nh ni">a = [1, 2, 3]<br/>b = a.copy()<br/>a.append(4)</span><span id="8bbb" class="mc md it nb b gy nj ng l nh ni">print(f'a is {a}')<br/>print(f'b is {b}')<br/>a is [1, 2, 3, 4]<br/>b is [1, 2, 3]</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="5156" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">5.使用sort()和sorted()对列表进行排序</h2><p id="c3f9" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">sort和sorted函数都可以用来对列表进行排序:</p><ul class=""><li id="e2b0" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">sort():对列表进行排序，但不返回任何内容。</li><li id="3482" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">sorted():返回列表的排序副本，但不对原始列表进行排序。</li></ul><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="6658" class="mc md it nb b gy nf ng l nh ni">a = [2, 0, 4, 3]<br/>b = a.sort()<br/>print(f'a is {a}')<br/>print(f'b is {b}')</span><span id="04e1" class="mc md it nb b gy nj ng l nh ni">a is [0, 2, 3, 4]<br/>b is None</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/f100f10d09f41ac093208ffeeed698b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*gJLrYCegV-9d8juUGK-zzA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建于<a class="ae ky" href="http://pythontutor.com/" rel="noopener ugc nofollow" target="_blank"> pythontutor </a>(图片由作者提供)</p></figure><p id="a625" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们用排序函数做同样的例子。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="1ad8" class="mc md it nb b gy nf ng l nh ni">a = [2, 0, 4, 3]<br/>b = sorted(a)<br/>print(f'a is {a}')<br/>print(f'b is {b}')</span><span id="1dfa" class="mc md it nb b gy nj ng l nh ni">a is [2, 0, 4, 3]<br/>b is [0, 2, 3, 4]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/d4992ebe58dcdac0559e1324e49e214a.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/format:webp/1*61lHiKiuJeRwYwnvbynEoQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建于<a class="ae ky" href="http://pythontutor.com/" rel="noopener ugc nofollow" target="_blank"> pythontutor </a>(图片由作者提供)</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="daf8" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">6.通过复制创建嵌套列表</h2><p id="fa5f" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">当通过复制创建嵌套列表时，我们需要小心修改。原始列表中的任何更改都会更改复制的列表。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="c502" class="mc md it nb b gy nf ng l nh ni">a = [1, 2]<br/>b = [4, 5, 6]<br/>c = [a, b]</span><span id="7975" class="mc md it nb b gy nj ng l nh ni">a.append(3)<br/>b.pop()</span></pre><p id="f511" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">列表c由列表a和b组成。我们通过添加和删除一个元素更新了列表a和b。结果，列表c也被更新。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e8ab" class="mc md it nb b gy nf ng l nh ni">print(f'a is {a}')<br/>print(f'b is {b}')<br/>print(f'c is {c}')</span><span id="f0aa" class="mc md it nb b gy nj ng l nh ni">a is [1, 2, 3]<br/>b is [4, 5]<br/>c is [[1, 2, 3], [4, 5]]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/fe8c25413aef809dc3054f426aedb6da.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*ziLX9NkhIjeSepyqpQoLAg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建于<a class="ae ky" href="http://pythontutor.com/" rel="noopener ugc nofollow" target="_blank"> pythontutor </a>(图片由作者提供)</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="d597" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">7.在迭代过程中修改列表</h2><p id="3c7a" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">列表是可迭代的对象，所以在循环中使用它们是很常见的。迭代是基于索引的，所以如果我们在迭代时更新列表，我们需要小心。</p><p id="6053" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑下面的代码。如果项目也在列表b中，则它从列表a中移除项目。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="80f2" class="mc md it nb b gy nf ng l nh ni">a = ['x', 'y', 'z', 't']<br/>b = ['x', 'y', 'u', 'v']</span><span id="9561" class="mc md it nb b gy nj ng l nh ni">for item in a:<br/>   if item in b:<br/>      a.remove(item)</span></pre><p id="e885" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当代码被执行时，我们期望列表a变成['z '，' t']。让我们看看实际发生了什么。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="ab6f" class="mc md it nb b gy nf ng l nh ni">print(f'a is {a}')<br/>print(f'b is {b}')</span><span id="7204" class="mc md it nb b gy nj ng l nh ni">a is ['y', 'z', 't']<br/>b is ['x', 'y', 'u', 'v']</span></pre><p id="f440" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然' y '存在于列表b中，但它仍然在列表a中。原因是当第一个项目(' x ')从列表a中移除时，索引也会更新。下一项a[1]变成了‘z ’,但它应该是‘y’。因此，for循环每隔一项进行比较。</p><p id="7dd9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是从列表a中删除第一项的步骤:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/f6e8db852f8715c288158002c8a59100.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W5KzkKeX7OKVyTlzxL09mg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建于<a class="ae ky" href="http://pythontutor.com/" rel="noopener ugc nofollow" target="_blank"> pythontutor </a>(图片由作者提供)</p></figure><p id="313a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是下一个比较的项目。如你所见，它是“z ”,所以“y”永远不会被比较。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/0f55d7ed0e7690435c837efafbb07b3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wZTMfF4f40fZtvF8pldFrw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建于<a class="ae ky" href="http://pythontutor.com/" rel="noopener ugc nofollow" target="_blank"> pythontutor </a>(图片由作者提供)</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="d70a" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">8.列出理解</h2><p id="2262" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">列表理解基本上是基于现有的可重复项创建列表。它以更快的方式实现了for循环所能实现的功能。列表理解的语法也比for循环的语法更简单、更吸引人。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/731a110928f2831cbd86b9fa463f030e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Z6FdabEZA8Nkpf0g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">列表理解的语法(图片由作者提供)</p></figure><p id="5e2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们来做一个简单的例子。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="561f" class="mc md it nb b gy nf ng l nh ni">a = [1, 2, 4, 5, 7, 9, 11]<br/>b = [x for x in a if x % 2 == 0]</span><span id="f95f" class="mc md it nb b gy nj ng l nh ni">print(b)<br/>[2,4]</span></pre><p id="848f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">列表b仅包含列表a的偶数元素。使用for循环可以完成相同的操作，如下所示:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="ba04" class="mc md it nb b gy nf ng l nh ni">for item in a:<br/>   if item % 2 == 0:<br/>      b.append(item)</span></pre><p id="30b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，列表理解更简单。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><blockquote class="og oh oi"><p id="4a75" class="kz la oj lb b lc ld ju le lf lg jx lh ok lj lk ll ol ln lo lp om lr ls lt lu im bi translated"><strong class="lb iu">注意</strong> : List comprehension将整个输出列表加载到内存中，这比for循环更快。在处理小型或中型列表时，最好使用列表理解。然而，当我们处理大型列表(例如10亿个元素)时，应该避免理解列表。这可能会导致您的计算机崩溃，由于内存需求的极端数额。</p></blockquote></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="5797" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">9.列出修改元素的理解</h2><p id="83c2" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们还可以对列表理解中的每一项进行操作。考虑下面的列表a:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="0fc3" class="mc md it nb b gy nf ng l nh ni">a = ['john', 'emily', 'julia']</span></pre><p id="e766" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们想要创建一个列表b，其中包含以字母“j”开头的名字。我们还想大写的名字。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e9e3" class="mc md it nb b gy nf ng l nh ni">b = [item.capitalize() for item in a if item.startswith('j')]</span><span id="d449" class="mc md it nb b gy nj ng l nh ni">print(b)<br/>['John', 'Julia']</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="ecaa" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">10.嵌套列表上的列表理解</h2><p id="ff96" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们可以在列表理解中迭代嵌套列表。考虑下面的列表列表:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="3480" class="mc md it nb b gy nf ng l nh ni">vals = [[1,2,3],[4,5,2],[3,2,6]]</span></pre><p id="b872" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们希望从嵌套列表中取出每个元素，因此期望的输出是:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="ced8" class="mc md it nb b gy nf ng l nh ni">vals_exp = [1,2,3,4,5,2,3,2,6]</span></pre><p id="6ad6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是完成这项任务的理解列表:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="46e7" class="mc md it nb b gy nf ng l nh ni">vals_exp = [y for x in vals for y in x]<br/>vals_exp<br/>[1,2,3,4,5,2,3,2,6]</span></pre><p id="59e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你对语法不清楚，先用for循环试试。然后，您可以将for循环块移动到列表理解中。下图将帮助你理解我的意思:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/337fa2f276792ca7c52d369b8e76ae04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/0*JcZsxgWpoCYDc91O.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">对于循环和列表理解(图片由作者提供)</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="b780" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">11.Len、reverse和count</h2><p id="9730" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">这些都是非常简单却非常有用的操作。</p><ul class=""><li id="299f" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">len:返回列表的长度(项目数)</li><li id="c685" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">反转:反转列表中项目的顺序</li><li id="ecbe" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">count:统计特定项目在列表中出现的次数</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/9680088e6fa045f1b1b24102a0b4ab0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*Y4Z4QOouByhqBEkw_4fUgQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="64d6" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">奖金</h2><p id="43f5" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在例10中有一个更简单的方法来完成这个任务。这涉及到熊猫的爆炸功能。</p><p id="85ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要将嵌套列表(val)转换为Pandas系列，然后应用explode函数。为了将它转换回列表，我们可以使用list函数。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="678c" class="mc md it nb b gy nf ng l nh ni">import pandas as pd<br/>list(pd.Series(vals).explode())</span><span id="8a40" class="mc md it nb b gy nj ng l nh ni">[1, 2, 3, 4, 5, 2, 3, 2, 6]</span></pre><p id="ebfb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>