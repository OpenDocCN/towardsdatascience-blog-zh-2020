<html>
<head>
<title>On A/A tests, p-values, significance, and the uniform distribution</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在A/A测试中，p值、显著性和均匀分布</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/on-a-a-tests-p-values-significance-and-the-uniform-distribution-95d6e9a2afb1?source=collection_archive---------36-----------------------#2020-10-14">https://towardsdatascience.com/on-a-a-tests-p-values-significance-and-the-uniform-distribution-95d6e9a2afb1?source=collection_archive---------36-----------------------#2020-10-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ab00" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">模拟1，000次A/A测试，了解p值的分布情况</h2></div><p id="96fc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">几周前，我在为我的同事Andrew模拟一些A/A测试数据。我们想为他那周做的关于A/B测试和<a class="ae lb" rel="noopener" target="_blank" href="/how-not-to-run-an-a-b-test-88637a6b921b">偷看</a>的危险的全公司演示制作一个如下的图表:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/e86b0ea39888a71e841e67e174bc1037.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TL7S0JWPTXhLu0WW7LSj0A.jpeg"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片</p></figure><p id="c06e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们的目标是展示p值如何变动，以及即使在零假设肯定为真的A/A测试中，我们如何看到p值&lt; 0.05 at some point.</p><p id="69d8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Hence, I went on to simulate 1,000 A/A tests in order to calculate how many of them reached significance (p-value &lt; 0.05) at some point. Each test ran for 16 days. With this simulation, I got that <strong class="kh ir"> ~23% </strong>变动。</p><p id="e98e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，如果我做一个简单得多的模拟，我只要:<br/> 1。从一个均匀(0，1)——<strong class="kh ir">中抽取16个随机数，因为空值下的p值是均匀分布的</strong>，<br/> 2。注意是否至少有一个数字&lt; 0.05和<br/> 3。这样重复了很多次，得到了16个数数组中的<strong class="kh ir"> ~56% </strong>至少有一个数&lt;为0.05。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ls"><img src="../Images/28867f772c862a849e96f385f156d2f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wMaKC3CfqqNj6WtrV1hCVQ.jpeg"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片</p></figure><p id="672d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我很困惑。对于A/A测试数据，尽管我看到p值是均匀分布的，但我发现23%的测试在16天的某个时间点达到显著性。相比之下，当做一个简单得多的模拟，从一个制服(0，1)中随机抽取16次时，我得到的比例要高得多，为56%。</p><p id="7d1b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二天我醒来时脑子里有了一个理论:<strong class="kh ir">有没有可能A/A测试中的</strong> <strong class="kh ir"> p值在这16天的每个测试中都不是真正独立的</strong>？也就是说，如果一项测试在第一天随机获得了非常高的p值，那么它在第二天也更有可能获得高p值，这是可能的吗？毕竟，我们不是每天都使用完全不同的数据，而是将新数据累积到用于计算之前p值的旧数据中。</p><p id="e38c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">于是，我:<br/> 1。根据首日p值是高(≥ 0.9)还是低(≤ 0.1)对A/A测试进行分组，以及<br/> 2。观察各组第二天p值的分布</p><p id="f358" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是我看到的:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/c1ca2e206566f393f17a94dd4a697312.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ysrqc8vLntLp6jAnyzTDOw.jpeg"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片</p></figure><p id="691a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这非常强烈地表明，我发现了一些东西。在第一天碰巧有很高p值的A/A测试很可能在第二天也有很高的p值，反之亦然。这就是看完整个16天期间(而不仅仅是第二天)分布的不同之处:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/db6eaf7e010701ab9120f3c7ad932d9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NU3qxoUmxeVw5_8-EBFPPw.jpeg"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片</p></figure><p id="b5d8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样的故事。更有力的证据。</p><p id="ee8e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我弄清楚这一切的时候，我也问了西蒙(我们的数据科学顾问和<a class="ae lb" href="http://coppelia.io/" rel="noopener ugc nofollow" target="_blank"> Coppelia </a>背后的大脑)，因为我对他的想法以及他对我的无独立性假设的认可很感兴趣。</p><p id="c44c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当按天分组时，他也看到了大约5%的A/A测试在任何一点上都是显著的，正如我们所预料的那样。然而，当按测试分组时，情况就完全不同了——依赖关系是这样的，如果我们在第<code class="fe lt lu lv lw b">d</code>天有假阳性，那么我们在第<code class="fe lt lu lv lw b">d+1</code>天仍然有假阳性的可能性就大得多。对于真正的否定也是如此。因此，按试验分组的总比率差异很大。</p><p id="f064" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在他发给我的这个图中，这一点非常清楚，它显示了当假阳性(白色方块)发生时，它可能会持续到后续日期:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ls"><img src="../Images/1d026a487b42f1deecc7b4c552ff96f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yr-zwxupf6-9k8MGFjUxeg.jpeg"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片</p></figure><p id="0738" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">哦，好吧，谜底解开了！今天到此为止。我知道我在这篇博文中没有详细介绍一些统计学概念，但是如果你感兴趣，我鼓励你去了解更多:</p><ul class=""><li id="0125" class="lx ly iq kh b ki kj kl km ko lz ks ma kw mb la mc md me mf bi translated">p值:【https://en.wikipedia.org/wiki/P-value T4】</li><li id="70eb" class="lx ly iq kh b ki mg kl mh ko mi ks mj kw mk la mc md me mf bi translated">意义:<a class="ae lb" href="https://en.wikipedia.org/wiki/Statistical_significance" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Statistical_significance</a></li><li id="b513" class="lx ly iq kh b ki mg kl mh ko mi ks mj kw mk la mc md me mf bi translated">独立性:<a class="ae lb" href="https://en.wikipedia.org/wiki/Independence_(probability_theory)" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Independence _(probability _ theory)</a></li><li id="0a7e" class="lx ly iq kh b ki mg kl mh ko mi ks mj kw mk la mc md me mf bi translated">均匀分布:<a class="ae lb" href="https://en.wikipedia.org/wiki/Continuous_uniform_distribution" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Continuous _ uniform _ distribution</a></li></ul><p id="f522" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>