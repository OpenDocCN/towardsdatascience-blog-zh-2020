<html>
<head>
<title>Coefficient of Variation(CV) &amp; Covariance(Cov) from scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从头开始计算变异系数和协方差</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/coefficient-of-variation-cv-covariance-cov-from-the-scratch-52600656147f?source=collection_archive---------8-----------------------#2020-11-14">https://towardsdatascience.com/coefficient-of-variation-cv-covariance-cov-from-the-scratch-52600656147f?source=collection_archive---------8-----------------------#2020-11-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2742" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">永远消除困惑！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ba8def6c27dd2e6d539105a5f641913d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eizRxNgv6Y91S7EL"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">阿德里安·斯旺卡在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><blockquote class="kw kx ky"><p id="1108" class="kz la lb lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><strong class="lc ir">什么是“变异系数”,为什么我们需要它作为一种统计方法？</strong></p></blockquote><p id="7ea8" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">到目前为止(直到我的前几篇博客),我们是基于两个数字的总结来总结数据集的——<em class="lb">集中趋势和扩散</em>。我想让你思考一下，如果我们想要比较两个或更多数据集的波动性，现在用两个数字的汇总方法来做是否可行？</p><p id="2e68" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">答案是，如果不在可比较的范围内(标准化)，我们无法对它们进行比较。这就是为什么需要一个变异系数(CV)来确定哪个数据集相对来说更不稳定。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lz"><img src="../Images/df6e3e04eb981d4c34eee1cbbdf86471.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K7j7SwAB3p71uuMcDrRTCg.png"/></div></div></figure><p id="6d90" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><em class="lb">*变异系数没有单位。</em></p><p id="6d2b" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">给定数据集围绕中心趋势的分布与另一个数据集的分布度量不可比，因为后者是参考其自身的中心趋势计算的。为了将它们放在同一个比较尺度上，进行了除以它们的中心趋势，乘以100将测量值转换成百分比形式。我们将看到一个适当的例子，说明标准偏差测量本身是如何具有欺骗性的。</p><p id="8982" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">数据集:03家公司的每周股价走势:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ma"><img src="../Images/fa94d556485292c6497b97d8838f447d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZaOEBPXsiIwBkBSC5kMnAw.png"/></div></div></figure><p id="91f5" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">公司1的股价波动最大，CV为31.94 %，其次是公司2和公司3。</p><p id="e875" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated"><em class="lb">单独看三家公司的标准差并进行比较，显然会导致错误解读。我希望现在你已经意识到在比较不同数据集之间的波动性时CV及其可靠性的重要性。</em></p><blockquote class="kw kx ky"><p id="e159" class="kz la lb lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><strong class="lc ir">什么是“协方差”,为什么我们需要它作为统计指标？</strong></p></blockquote><p id="3c6b" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">每当数据中有一些信息是我们无法用之前讨论过的方法获取的，我们就会讨论一种新的方法来获取这些信息。根据相同的方法，我们将首先查看与之前讨论的测量方法看起来相同的数据集，但是在可视化时，我们将遇到一些模式，这些模式将使用额外的统计测量方法来捕获。然而，这一措施将导致统计的双变量领域，其中两个变量相互作用，并显示一些模式。到目前为止，我们只处理了一个变量的描述性统计(目标变量，即高度、股票价格)，但现在我们将有额外的变量来尝试解释目标变量中存在的变化。协方差的需求和定义将在下面用一个适当的例子来说明:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mb"><img src="../Images/3565006ec107f52db8dd0591b2e6a2df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GWXDr4PvmOrBlLLzdt7DTA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><p id="1aba" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">如果我们试图获得上述两个数据集的目标变量(Y轴)或预测变量(X轴)的2个数总和，它们将具有相同的(相同的平均值和标准偏差),但很明显，它们都是不同的数据集。当一个变量相对于另一个变量作图时，斜率因子开始起作用，可见的斜率反映了两个变量递增时的<strong class="lc ir">共同运动</strong>。</p><p id="4b76" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">让我们将目标变量作为两个数据集的权重(Y轴),</p><p id="4b04" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">预测变量-数据集1的慢跑速度(X轴)和数据集2的身高(X轴)。</p><p id="f2bb" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">重量(Y轴)= 70，80，90，100(千克)</p><p id="9f61" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">设置1 —点动速度(X轴)= 170，180，190，200(单位为厘米/秒)</p><p id="5f72" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">集合2 —高度(X轴)= 170，180，190，200(单位为厘米)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mc"><img src="../Images/4b32b1ae206386f82b76756469edd1d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u2wsqggUb-MtA_GXssOTKQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><p id="4661" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">是时候看看这三个变量的2位数总结了:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi md"><img src="../Images/0bf6e49886c1dbfab4b9dab837c0a4ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ZUdH10KQ8Maj-6YmRMBWQ.png"/></div></div></figure><p id="2df2" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">仅仅通过看上面的总结，人们可能会认为这两套是完全相同的，但事实并非如此。协方差度量的时间投入，它将再次解释图形。</p><p id="9d73" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">假设4个人有3个属性(体重、慢跑速度和身高):</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi me"><img src="../Images/2b9294f1c114db28a9ac1a566c1977ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J1mMexCZjF2ykz9nO2m5QA.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mf"><img src="../Images/2c489ea276822bcf4925295b0f908fa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mWOw6QMADlj77yhfyOdsMQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><p id="e6a6" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">剧情的基本解读:</p><p id="4230" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">-右上象限的点的X和Y值将大于X平均值和Y平均值</p><p id="0842" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">-左上象限的点的X值小于X平均值，Y值大于Y平均值</p><p id="98a0" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">-左下象限的点的X和Y值将小于X平均值和Y平均值</p><p id="c28f" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">-右下象限的点的X值大于X平均值，Y值小于Y平均值</p><p id="340c" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">这意味着，如果我们在将距离计算的参考从原点更改为各自的平均值后乘以一个点的X和Y坐标，右上象限中的所有点将具有正值(+、+)，左上象限将具有负值(-、+)，左下象限将具有正值(-、-)，右下象限将具有负值(+、-)。</p><p id="cfe4" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">现在我们将对数据集1进行同样的计算:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mg"><img src="../Images/396bf3799e34dfb5ce7dbb9f1d5261a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IHYSZtfQ5qzE-l1dS0IdMg.png"/></div></div></figure><p id="c85f" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">将所有乘积求和= -225 + (-25) + (-25) + (-225) = -500</p><p id="9058" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">到目前为止，您可能已经了解了为什么这种方法有助于确定共同运动的方向(产品价值的负和—向下，产品价值的正和—向上)。我们现在也将计算数据集2的产品价值，以使事情变得非常清楚:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mh"><img src="../Images/a94f4c6723ff902681e01cdac033a616.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sBSufC_k3b_UlIQhFb3zhQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mi"><img src="../Images/2fa89813c680a05b84db2748280c21f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BaovOuKUvt2OD_hUKFuMCg.png"/></div></div></figure><p id="2efb" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">所有乘积相加= 225 + 25 + 25 + 225 = 500(正数表示向上的共同运动)</p><p id="4dc6" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">在我们可以正式地将这个度量称为协方差之前，我们需要通过将乘积输出的和除以数据点的数量(本例中N = 4，假设为总体)来取其平均值。这也意味着你不能计算两个数据点计数不同的变量之间的协方差。协方差单位(Cov)是X &amp; Y变量单位的乘积。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mj"><img src="../Images/f37b07ddc432658b9c65a7f16ec64919.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7d6KGTVujCZOgR0VsaTe1g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片由作者提供)</p></figure><blockquote class="kw kx ky"><p id="81ee" class="kz la lb lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">注意—上面完成的所有计算都假设数据集为群体集。讨论和辩论最多的话题与这种测量的分母有关，即为什么样本是N-1，为什么人口是N，将在未来的博客中全面解释。</p></blockquote><p id="0553" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">最后，当人们使用它们的简短形式来引用这些统计度量时，最大的困惑出现了，最终混淆了“变异系数”的“Cov”和“协方差”的“CV”。克服这一点的最好方法是记住协方差的简短形式是它的词干版本:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/8d22e58e5d56cb6092f98b42ef0c034f.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*L48zOWAGOlvIWNXET2-x3Q.png"/></div></figure><p id="2299" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">这样你就永远不会混淆这两种不同的统计方法。</p><p id="766c" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">我的博客到此结束，希望预期的信息已经传达，与这两项措施相关的困惑已经永远消除。</p><p id="6875" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">谢谢！！！</p></div></div>    
</body>
</html>