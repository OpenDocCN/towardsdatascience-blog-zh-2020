<html>
<head>
<title>How to Boost Docker with WSL2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用WSL2提升Docker</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-improve-docker-performance-with-wsl2-3a54402ab0f2?source=collection_archive---------4-----------------------#2020-10-26">https://towardsdatascience.com/how-to-improve-docker-performance-with-wsl2-3a54402ab0f2?source=collection_archive---------4-----------------------#2020-10-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6a21" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">WSL为docker带来了显著的性能提升，但是在开启之前需要知道一些事情</h2></div><p id="9ffc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Docker被认为是建立本地开发环境的领先解决方案。由于docker-compose文件的简单性，您可以为每个项目创建一个独立的环境，它反映了生产环境的相同配置。</p><p id="4259" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，该解决方案使开发独立于您拥有的操作系统。在poo word中，即使你的容器将是Linux镜像，你也可以使用Windows或Mac进行开发。</p><p id="66e4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">无论如何，在某些设置中，性能可能会降低，从而影响生产率。</p><p id="820a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从上一次Docker更新开始，Docker工程师增加了使用WSL2技术提升性能的可能性，在所有平台上提供相同的开发体验，包括windows。</p><p id="c1d0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本文解释了为什么我们在Windows上可能会有性能问题，以及如何正确安装WSL2来提高性能。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/4d955f711602b938a319ba3247729444.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*03M-uSefh-By6q0t"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">由<a class="ae lu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae lu" href="https://unsplash.com/@chuttersnap?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> CHUTTERSNAP </a>拍摄</p></figure><h1 id="18f2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">WSL2如何改变Docker</h1><h2 id="c35e" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated">docker如何工作</h2><p id="278d" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">Docker是领先的容器解决方案，自2013年开始使用。我不想花太多时间讨论docker是什么。如果您在这里，可能已经使用过它，所以我将花一些时间来介绍WSL2克服的限制。无论如何，如果你想了解更多关于docker的信息，你可以阅读这篇文章，我试图用简单的语言解释“<a class="ae lu" href="https://medium.com/swlh/what-is-docker-28bd2b618eee?source=friends_link&amp;sk=168017493c8e11295103e01a1f34f02e" rel="noopener">到底是什么docker </a>”。</p><p id="d912" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">关于Docker要注意的中心部分是它在windows下是如何工作的。因为它共享操作系统，而不是硬件，所以你不能在Windows上有任何基于Linux的容器。那就是。但是每个人都在windows上使用Linux容器，这怎么可能呢？Docker工程师用一招解决了这个问题。我们不能在windows上有一个Linux容器，但是我们可以通过使用一个管理程序把Linux放在Windows机器上。因此，解决方案很快被创造出来。Docker Desktop for windows使用虚拟机管理程序(通常是Microsoft HyperV)来运行虚拟机，它将VM OS共享给Docker容器。事情就是这样运作的，我试图用图表来解释。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ne"><img src="../Images/85ccd617e2dc7b6bf5de6d6f1f5ecfd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N0WJt-sjJa-SvNSS3Pu1Lw.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">docker开发如何在“Linux over Windows”模式下工作。作者是❤️from。</p></figure><p id="9e32" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种架构的主要问题是:</p><ul class=""><li id="0547" class="nf ng it kk b kl km ko kp kr nh kv ni kz nj ld nk nl nm nn bi translated"><strong class="kk iu">资源限制。虽然docker是为共享操作系统而设计的，但管理程序仍然使用硬件，你需要为它分配资源。这导致了我们在使用虚拟机时遇到的同样的性能问题。</strong></li><li id="57b8" class="nf ng it kk b kl no ko np kr nq kv nr kz ns ld nk nl nm nn bi translated"><strong class="kk iu">磁盘开销。</strong>容器映像位于虚拟机内部，它将文件存储在卷中，但您可能希望从Windows环境中共享文件夹，尤其是在开发时。这是图中的红色箭头往返及其影响性能。</li></ul><p id="d398" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为在Windows上运行Linux容器的Docker，如果主要在开发环境中使用，性能不是很重要。事实上，大多数解决方案一次处理一个请求只需要很少的资源。无论如何，有些情况下这种性能很重要。</p><p id="2a1d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">具有应用程序状态的平台，其中可执行文件被编译和加载一次，不提供太多关于磁盘延迟的信息。发展中。net或java，你只需按下播放按钮，等一分钟，然后你的应用程序准备好进行测试，所有编译的源代码或多或少都在RAM中，你不需要给硬盘增加压力。</p><p id="0ddf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">相反，对于PHP或Python应用程序，情况就不同了。由于它们没有任何应用程序状态，每个请求都是独立解释的，所以每次都需要扫描并加载所有需要的文件。这意味着大量的文件读取，因此大量的文件会增加您的延迟。</p><p id="540c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于这个系统，在windows上使用体积映射是非常昂贵的，并且会降低性能。您可以使用挂载到Linux操作系统的卷，但是在这种情况下，从Windows UI进行编辑会有问题。</p><p id="0de0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是为什么在大多数情况下，我们接受了最慢的性能(大多数情况下对于开发环境来说是可以接受的)，或者在其他情况下，我们被迫切换到Linux，抵消了使用Docker获得多操作系统可用性的优势。</p><h2 id="6c66" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated">什么是WSL2</h2><p id="76cb" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">WSL (Windows Subsystem for Linux)是一个兼容层，用于在Windows上本地运行Linux二进制可执行文件。它从Windows 10开始工作，让你在不使用虚拟机的情况下在Windows内部使用Linux。自2019年6月以来，Windows 10提供了WSL的增强版本(WSL 2)。此更新通过一组优化的Hyper-V功能带来了大量性能改进。</p><p id="fa8f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">简而言之，你现在在你的Windows机器中有一个比运行虚拟机更快的Linux发行版。</p><p id="5441" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好消息是Docker桌面支持它，它可以提升你的容器。</p><h2 id="4a81" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated">WSL2如何改变Docker</h2><p id="793b" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">使用WLS2和Docker组合，我们几乎跳过了一个步骤。</p><p id="9602" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">windows和Linux文件系统是相互共享的:您可以从Windows访问共享驱动器\\WSL$\看到Linux，或者从/mtn/c看到Windows)</p><p id="8e8d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">docker容器使用Linux WSL，没有任何资源限制，性能更好。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ne"><img src="../Images/aca098bad0b4bad399143d3f060c8078.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ofFj6gbiJ8sbXgGgmgJgPg.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">Docker如何使用WSL2工作。作者和❤️一起做的</p></figure><p id="9539" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这种情况下，有巨大的坏消息。共享windows文件夹仍然是可能的，但是比标准情况下的性能更差。这在Java或者。或者说是一个可以忍受的问题，但是却使得PHP开发变得不可行。</p><p id="8bbd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">幸运的是，有一个解决方案将使用WSL2的好处和良好的开发体验结合在一起。事实上，Visual Studio代码能够远程处理WSL2子系统，因此您可以执行以下操作:</p><ul class=""><li id="e070" class="nf ng it kk b kl km ko kp kr nh kv ni kz nj ld nk nl nm nn bi translated">将WSL2中的卷保持为常规卷挂载，以便获得文件系统访问的最佳性能。</li><li id="2c92" class="nf ng it kk b kl no ko np kr nq kv nr kz ns ld nk nl nm nn bi translated">像往常一样，在Windows上工作，在Linux上编辑代码。</li></ul><p id="99db" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">很明显，如果您在双击IDE中的某个项目或保存它时会为访问该文件支付更多的费用，这是一个非常好的解决方案。这个问题伴随着大量的文件加载而来，而这并不是一个开发人员同时写十几个时间的代码的情况。</p><p id="1efa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">总之，Visual Studio做得更好。它有一个扩展，可以与他们的远程子系统远程交互，所以您可以将UI保留在Windows中，但从Linux中的实例使用引擎。因此，作为开发人员，您的用户体验是安全的。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi nt"><img src="../Images/89b0ee6a9c0bf5dc8a7e4abd74a08eef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LEM2f6AksouP8UqXmcrq0g.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">如何使用WSL2编码？作者和❤️一起做的</p></figure><p id="ff81" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好吧，一旦我们理解了如何以及为什么我们可以提高Docker的性能，我们只需要遵循一些简单的步骤来完成事情。</p><p id="a03f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们需要执行几个步骤，但是，从更高的角度来看，我们必须:</p><ol class=""><li id="69a3" class="nf ng it kk b kl km ko kp kr nh kv ni kz nj ld nu nl nm nn bi translated">启用WSL2环境</li><li id="eb17" class="nf ng it kk b kl no ko np kr nq kv nr kz ns ld nu nl nm nn bi translated">配置IDE并开始编码。</li></ol></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="b739" class="lv lw it bd lx ly oc ma mb mc od me mf jz oe ka mh kc of kd mj kf og kg ml mm bi translated"><strong class="ak">启用WSL2环境</strong></h1><p id="ed23" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">本节解释了如何安装WSL2版本，并为使用Docker和WSL2开始编码做好准备。</p><h2 id="a8b2" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated">启用WSL</h2><p id="a186" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">第一步是启用窗口子系统。您必须使用管理权限在命令行上运行它。</p><pre class="lf lg lh li gt oh oi oj ok aw ol bi"><span id="1c4e" class="mn lw it oi b gy om on l oo op">dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</span></pre><h2 id="8384" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated">启用WSL虚拟机</h2><p id="95ab" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">第二个命令激活虚拟机平台(是的，WSL仍然使用hyper-v)。如果您的电脑没有开启虚拟化功能，您可能需要从BIOS进行设置。</p><pre class="lf lg lh li gt oh oi oj ok aw ol bi"><span id="33f6" class="mn lw it oi b gy om on l oo op">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</span></pre><p id="f60d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在第二步之后，欢迎重新启动。</p><h2 id="4ba0" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated">安装WSL2更新</h2><p id="00be" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">安装和配置WSL2的最后一步是安装更新。这是一个简单的MSI包，所以你可以下载它并双击安装。</p><p id="8cbc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">文件托管在<a class="ae lu" href="https://docs.microsoft.com/it-it/windows/wsl/install-win10" rel="noopener ugc nofollow" target="_blank">这里</a>来自微软。</p><h2 id="cb35" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated">将WSL2设置为默认值</h2><p id="5697" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">一旦我们确定了WSL2，只需将版本2设置为所有子系统的默认版本。</p><pre class="lf lg lh li gt oh oi oj ok aw ol bi"><span id="85dc" class="mn lw it oi b gy om on l oo op">wsl --set-default-version 2</span></pre><h2 id="1937" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated">从微软市场安装ubuntu</h2><p id="0ec0" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">要在子系统上运行Docker，我们需要下载一个Linux发行版。既然<a class="oq or ep" href="https://medium.com/u/940e606ec51a?source=post_page-----3a54402ab0f2--------------------------------" rel="noopener" target="_blank">微软+开源</a>现在已经成为现实，那就有可能直接从微软商店获得。我用的是Ubunto，它只有440MB，所以不用担心用完你的磁盘空间。</p><p id="5641" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这一步之后，您将看到所有的操作系统都作为一个子系统安装。</p><pre class="lf lg lh li gt oh oi oj ok aw ol bi"><span id="9fa2" class="mn lw it oi b gy om on l oo op">wsl --list --verbose</span></pre><p id="2226" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你应该在WSL 2上看到docker，docker-data，ubuntu。</p><h2 id="11d2" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated"><strong class="ak">激活Docker WSL2扩展</strong></h2><p id="ad4d" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">在Docker Desktop中，只需检查配置并启用WSL2特性。它可能需要一些docker重启或PC重启。</p><p id="5047" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">警告:</strong>当您从标准模式切换到WSL2时，您将需要重新下载所有的图像(您已经位于Hyper-v VM中，而不是WSL2中)。此外，命名卷中的数据存储在VM中，所以您不会在新的WSL2机器中找到它们。所以，首先，从Docker容器中提取并备份所有相关数据。根据您的本地设置，您可能会丢失数据。</p><p id="4a13" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一步是检查“使用基于WSL2的引擎”。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi os"><img src="../Images/518baa0ce0c64211748f283df2b2ae51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E8N3NbrW5aUYsJNOD1RyDQ.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">激活WSL2功能。作者和❤️一起做的</p></figure><p id="ef4a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后你解锁WSL集成面板，在那里你可以激活Ubuntu发行版。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ot"><img src="../Images/84090483ef2c1f01f85790687a95ec53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xTh7R8OmsUMewGZ0q5uHVg.png"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">激活ubuntu发行版。作者和❤️一起做的</p></figure><h2 id="a9cd" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated">安装VsCode扩展</h2><p id="a687" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">最后一步是安装和下载Visual Studio插件。通常，您可以通过从网站或Visual Studio代码用户界面单击“安装”来完成此操作。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/6b60b21727a46436b203af855b73e993.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*AtDZLO6sN4pQLz58px9x0w.png"/></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">从Visual Studio代码扩展安装远程WSL。作者和❤️一起做的</p></figure><p id="d19c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你也可以在这里找到<a class="ae lu" href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl" rel="noopener ugc nofollow" target="_blank">的扩展。</a></p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="50be" class="lv lw it bd lx ly oc ma mb mc od me mf jz oe ka mh kc of kd mj kf og kg ml mm bi translated"><strong class="ak"> WSL2用法</strong></h1><p id="157d" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">这时候所有的步骤都完成了，就可以开始编码了。当你看到表演时，你会感谢这段时间的！最后的平衡将是仅仅在工作的第一天节省大量的时间。</p><p id="f1ec" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于开始编码，您有两种选择:从WSL开始或者从Windwsow开始。</p><p id="a56f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就我个人而言，我更喜欢第二个，因为它非常独立。</p><h2 id="0662" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated">表单命令行:</h2><p id="da2f" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">1.打开WSL终端或在shell中输入命令“WSL”。由于Ubunto是首选的子系统，你将在其中。</p><p id="3cbe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.键入“代码”这将在您的windows计算机上打开Visual Studio代码。</p><h2 id="e2dd" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated">从用户界面:</h2><p id="c427" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">1.打开visual studio代码。</p><p id="1d96" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.单击WSL框(左下角，底部工具栏的绿色按钮)或F1 + Remore WLS+ New Window</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/55cfa8a76d87e4693551438b26d51e2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*TsjAV8exaAYwA-ZJk1S1Yw.png"/></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">从Visual Studio代码扩展安装远程WSL。作者和❤️一起做的</p></figure><p id="0729" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.新窗口与Linux操作系统连接</p><p id="9f51" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从那时起，您就可以使用Visual Studio代码做所有您需要的事情了。事实上，您可以从文件树中打开一个终端。终端将位于WSL机器内部，如果您运行docker-compose up，您将激活主机docker系统上的容器。您还可以使用git工具来处理提交，所以这可能就是您开始编码所需的全部内容。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="d7cf" class="lv lw it bd lx ly oc ma mb mc od me mf jz oe ka mh kc of kd mj kf og kg ml mm bi translated">摘要</h1><p id="eda3" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">出于多种原因，许多开发人员使用Windows作为开发环境。这是获得最佳程序兼容性或比Linux更好的用户体验的常见选择。其他人使用Windows来获得比Mackbook更便宜的笔记本。</p><p id="443d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Docker有助于在所有操作系统上获得相同的开发体验，但在某些情况下可能会导致Windows上的性能问题。</p><p id="333c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">WSL2提高了性能，但是需要注意将文件放在哪里以及如何创建卷。</p><p id="fb97" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦完成了这些步骤，您就可以获得与在Linux中相同的性能，同时获得舒适的Windows用户体验。</p><p id="f758" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">免责声明:</strong>我不想将Linux、Windows和Mac支持者之间的分组主义动画化。每个开发人员应该可以自由选择他们喜欢的操作系统，拥有相同的用户体验。这不是Docker的主要目的，而是一个令人舒服的副作用。本文的目的只是为喜欢使用Windows的人打开一个新的机会，避免被迫更换操作系统。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><p id="a529" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ow">喜欢这篇文章吗？成为</em> <a class="ae lu" href="https://daniele-fontani.medium.com/membership" rel="noopener"> <em class="ow">中等会员</em> </a> <em class="ow">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><div class="ox oy gp gr oz pa"><a href="https://daniele-fontani.medium.com/membership" rel="noopener follow" target="_blank"><div class="pb ab fo"><div class="pc ab pd cl cj pe"><h2 class="bd iu gy z fp pf fr fs pg fu fw is bi translated">通过我的推荐链接加入Medium-Daniele Fontani</h2><div class="ph l"><h3 class="bd b gy z fp pf fr fs pg fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="pi l"><p class="bd b dl z fp pf fr fs pg fu fw dk translated">daniele-fontani.medium.com</p></div></div><div class="pj l"><div class="pk l pl pm pn pj po lo pa"/></div></div></a></div><p id="a5e6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">参考文献:</strong></p><ul class=""><li id="f716" class="nf ng it kk b kl km ko kp kr nh kv ni kz nj ld nk nl nm nn bi translated">官方<a class="ae lu" href="https://docs.docker.com/docker-for-windows/wsl/" rel="noopener ugc nofollow" target="_blank"> docker指南，用于将docker与WSL2一起使用</a></li><li id="bb0c" class="nf ng it kk b kl no ko np kr nq kv nr kz ns ld nk nl nm nn bi translated"><a class="ae lu" href="https://code.visualstudio.com/blogs/2020/03/02/docker-in-wsl2" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码远程开发架构</a></li></ul></div></div>    
</body>
</html>