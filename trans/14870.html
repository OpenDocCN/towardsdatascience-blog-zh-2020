<html>
<head>
<title>The easiest and fastest way to make GIFs and math videos with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python制作gif和数学视频最简单快捷的方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-simplest-way-of-making-gifs-and-math-videos-with-python-aec41da74c6e?source=collection_archive---------23-----------------------#2020-10-13">https://towardsdatascience.com/the-simplest-way-of-making-gifs-and-math-videos-with-python-aec41da74c6e?source=collection_archive---------23-----------------------#2020-10-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div class="gh gi io"><img src="../Images/676b517b7a148646088f5911c5cf6333.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*DJ_mGzidt4WqWoVm"/></div><p class="iv iw gj gh gi ix iy bd b be z dk translated">图像由作者提供——SVM分类器的判定边界演变(用赛璐珞制成)</p></figure><div class=""/><div class=""><h2 id="80e9" class="pw-subtitle-paragraph jy ja jb bd b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp dk translated">如何使用赛璐珞在几秒钟内制作出令人惊叹的动画</h2></div><blockquote class="kq kr ks"><p id="a62f" class="kt ku kv kw b kx ky kc kz la lb kf lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">赛璐珞，简单的Matplotlib动画</p></blockquote><p id="4bcd" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lq le lf lg lr li lj lk ls lm ln lo lp ij bi translated">我真的很喜欢使用数据可视化，当我必须解释一些结果或复杂模型时，我总是想知道提供更直接和直观的可视化交互的最佳方式是什么。</p><p id="8ead" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lq le lf lg lr li lj lk ls lm ln lo lp ij bi translated">最近，我开始使用gif和快速视频。即使这使得编码部分更加困难和复杂，结果通常在交流我的发现和过程时更加有效。</p><p id="0e4f" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lq le lf lg lr li lj lk ls lm ln lo lp ij bi translated"><strong class="kw jc">但是在Python中，总有更容易、更简单的方式，为了简化动画制作过程，</strong> <a class="ae lt" href="https://github.com/jwkvam/celluloid" rel="noopener ugc nofollow" target="_blank"> <strong class="kw jc">赛璐珞</strong> </a> <strong class="kw jc">就这样诞生了。</strong></p><p id="3c6a" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lq le lf lg lr li lj lk ls lm ln lo lp ij bi translated">仅使用50行代码来处理Matplotlib Artists和ArtistAnimations赛璐珞从您想要绘制到相机抽象中的一系列图像创建一个动画。</p><p id="b3a6" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lq le lf lg lr li lj lk ls lm ln lo lp ij bi translated">让我们从用</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="29dc" class="md me jb lz b gy mf mg l mh mi">$ pip install celluloid</span></pre><p id="9b27" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lq le lf lg lr li lj lk ls lm ln lo lp ij bi translated">现在让我们开始吧！</p><h1 id="f960" class="mj me jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated">四个使用示例</h1><ol class=""><li id="76b1" class="na nb jb kw b kx nc la nd lq ne lr nf ls ng lp nh ni nj nk bi translated">最简单的一个</li><li id="7a18" class="na nb jb kw b kx nl la nm lq nn lr no ls np lp nh ni nj nk bi translated">进化图</li><li id="6181" class="na nb jb kw b kx nl la nm lq nn lr no ls np lp nh ni nj nk bi translated">使用图像</li><li id="3f34" class="na nb jb kw b kx nl la nm lq nn lr no ls np lp nh ni nj nk bi translated">使用动态标签和标题</li></ol><h1 id="28c1" class="mj me jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated">最简单的一个</h1><p id="beca" class="pw-post-body-paragraph kt ku jb kw b kx nc kc kz la nd kf lc lq nq lf lg lr nr lj lk ls ns ln lo lp ij bi translated">让我们创建一个简单的绘图来演示如何在Jupyter笔记本中运行代码的基本用法，但是<strong class="kw jc">我们也可以使用方法</strong><strong class="kw jc">save(' filename . gif _ or _ MP4 ')</strong></p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="d9ca" class="md me jb lz b gy mf mg l mh mi">from celluloid import Camera # getting the camera<br/>import matplotlib.pyplot as plt<br/>import numpy as np<br/>from IPython.display import HTML # to show the animation in Jupyter<br/>fig, ax = plt.subplots() # creating my fig<br/>camera = Camera(fig)# the camera gets the fig we'll plot<br/>for i in range(10):<br/>    ax.plot([i] * 5, c='black') # 5 element array from 0 to 9<br/>    camera.snap() # the camera takes a snapshot of the plot<br/>animation = camera.animate() # animation ready<br/>HTML(animation.to_html5_video()) # displaying the animation</span></pre><figure class="lu lv lw lx gt is gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/32321aed8763a464393d92c50446b160.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*kDDTlYjwGOBspeSs"/></div></figure><figure class="lu lv lw lx gt is gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/f984ff3f85a209a6251030d5bd427862.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/0*FaNHsoZa30WV1MKB.gif"/></div><p class="iv iw gj gh gi ix iy bd b be z dk translated">作者图片</p></figure><h1 id="6405" class="mj me jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated">进化图</h1><p id="1573" class="pw-post-body-paragraph kt ku jb kw b kx nc kc kz la nd kf lc lq nq lf lg lr nr lj lk ls ns ln lo lp ij bi translated">这是一个有趣的情节，但不是很有用。这个想法是绘制一点一点进化的数据集。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="8dad" class="md me jb lz b gy mf mg l mh mi">from celluloid import Camera # getting the camera<br/>import matplotlib.pyplot as plt<br/>import numpy as np<br/>from IPython.display import HTML<br/>fig, ax = plt.subplots(figsize=(10, 6)) # let's make it bigger<br/>camera = Camera(fig)# the camera gets our figure<br/>x = np.linspace(0, np.pi*2, 60) # a sine circle<br/>y = np.sin(x) # sine<br/>for i in range(len(x)):<br/>    x_t = x[:i] # current dataset<br/>    y_t = y[:i] # current sine<br/>    ax.plot(x_t, y_t, c='blue')<br/>    camera.snap()<br/>animation = camera.animate()<br/>HTML(animation.to_html5_video())</span></pre><figure class="lu lv lw lx gt is gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/5c26933eb2f6fd8f34998efda5921fab.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*KDQLLW1XRof9xnHl"/></div></figure><figure class="lu lv lw lx gt is gh gi paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gh gi nv"><img src="../Images/6aac7af7f6a764254b3e18c18692d134.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6oA7ryCWYDftjuR9.gif"/></div></div><p class="iv iw gj gh gi ix iy bd b be z dk translated">作者图片</p></figure><p id="a2c0" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lq le lf lg lr li lj lk ls lm ln lo lp ij bi translated">一个有趣的小技巧，使情节看起来像手绘</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="59e0" class="md me jb lz b gy mf mg l mh mi">x_t = x[:i] + 1.3*np.random.random(size=i)</span></pre><figure class="lu lv lw lx gt is gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/26ae7cf56414acc9019ce2575389d6aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*p6LdaOBsMFJk3qZw"/></div></figure><figure class="lu lv lw lx gt is gh gi paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gh gi nv"><img src="../Images/d14588b55d812afe72ee48b02731fe15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oy4brYffGtAdeQTy.gif"/></div></div><p class="iv iw gj gh gi ix iy bd b be z dk translated">作者图片</p></figure><h1 id="0f37" class="mj me jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated">使用图像</h1><p id="a689" class="pw-post-body-paragraph kt ku jb kw b kx nc kc kz la nd kf lc lq nq lf lg lr nr lj lk ls ns ln lo lp ij bi translated">图像可能对表达想法有很大帮助，使用图像的算法主要通过视频进行很好的解释</p><p id="987b" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lq le lf lg lr li lj lk ls lm ln lo lp ij bi translated">在这个例子中，我制作了我的猫和蒙克的尖叫之间的神经风格转换的动画。我对模型进行了200个时期的训练，并且每10个时期保存一次结果(我将在另一篇文章中详细解释这个算法)</p><p id="82c2" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lq le lf lg lr li lj lk ls lm ln lo lp ij bi translated">在我的例子中，我保存了培训期间的20张照片，以使用该模式制作GIF”。/NST/epochs/epoch_k.jpg "</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="05cf" class="md me jb lz b gy mf mg l mh mi">from celluloid import Camera # getting the camera<br/>import matplotlib.pyplot as plt<br/>import numpy as np<br/>from IPython.display import HTML<br/>import os<br/>fig, ax = plt.subplots() # make it bigger<br/>camera = Camera(fig)# the camera gets our figure<br/>for img in os.listdir("NST/epochs"):<br/>    img_obj = plt.imread(os.path.join("NST/epochs"), img) # reading<br/>    ax.imshow(img_obj) # plotting<br/>    camera.snap()<br/>animation = camera.animate()<br/>HTML(animation.to_html5_video())</span></pre><figure class="lu lv lw lx gt is gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/69728f25f7190b15cff4aed2665f6a4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/0*fTuUvBbS_6V31GPv.gif"/></div><p class="iv iw gj gh gi ix iy bd b be z dk translated">作者图片</p></figure><h1 id="177f" class="mj me jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated">使用动态标签和标题</h1><p id="07ea" class="pw-post-body-paragraph kt ku jb kw b kx nc kc kz la nd kf lc lq nq lf lg lr nr lj lk ls ns ln lo lp ij bi translated">这是赛璐珞最有趣的方面之一，在这里我们有能力让情节变得非常动态。</p><p id="28d2" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lq le lf lg lr li lj lk ls lm ln lo lp ij bi translated">在这个例子中，我绘制了两个均值不同但标准差相同的正态分布，然后我改变了这个标准差，以评估它对每条曲线的影响。</p><p id="99ae" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lq le lf lg lr li lj lk ls lm ln lo lp ij bi translated">我把标题上的当前标准差和真实均值作为每条曲线的标签。我必须将计算的标签作为元组传递，因为我使用了两条曲线，如果只有一条曲线，我可以使用like PLT . legend([calculated _ label])，这很简单</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="80a5" class="md me jb lz b gy mf mg l mh mi">from celluloid import Camera # getting the camera<br/>import matplotlib.pyplot as plt<br/>import numpy as np<br/>import seaborn as sns<br/>from IPython.display import HTML<br/>std = 3 # start std <br/>Am = 15. # mean of first normal<br/>Bm = 12.5 # mean of second normal<br/>fig, ax = plt.subplots(figsize=(9,6)) # empty fig<br/>camera = Camera(fig)<br/>for j in range(10):<br/>    plt.ylim((0, 0.2)) # setting up the limits (or else it will auto ajust<br/>    plt.xlim((-50, 50))<br/>    <br/>    A = np.random.normal(Am, std, size=(1000)) # creating the 1000-sized normals<br/>    B = np.random.normal(Bm, std, size=(1000))    <br/>    A_plot = sns.distplot(A, color='red') <br/>    B_plot = sns.distplot(B, color='blue')<br/>    plt.legend(( <br/>        'Real Mean A: {:.2f}'.format(np.mean(A)),<br/>        'Real Mean B: {:.2f}'.format(np.mean(B))<br/>    ))<br/>        <br/>    ax.text(0.5, 1.01, "Standard Deviation = "+str(std), transform=ax.transAxes) # making the dynamic title<br/>    camera.snap() # camera snapshot<br/>    <br/>    std += 1 # incrementing the std<br/>anim = camera.animate() # animating the plots<br/>HTML(anim.to_html5_video())</span></pre><figure class="lu lv lw lx gt is gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/9e03c2931878f56485e14b7a7ea14108.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/1*g0tyPqJ1e8ioB0pHNJJ1Hw.gif"/></div><p class="iv iw gj gh gi ix iy bd b be z dk translated">作者图片</p></figure><h1 id="547a" class="mj me jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated">完成了吗？</h1><p id="c914" class="pw-post-body-paragraph kt ku jb kw b kx nc kc kz la nd kf lc lq nq lf lg lr nr lj lk ls ns ln lo lp ij bi translated">这只是我关于如何使用赛璐珞的基本想法，但说实话，可能性是无限的，我已经在几个应用程序中使用过，甚至是为了演示一些<a class="ae lt" href="https://github.com/brunorosilva/ML-animations/tree/master/examples/animations" rel="noopener ugc nofollow" target="_blank">机器学习算法如何学习检查一下</a>。</p><h1 id="1a98" class="mj me jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated">决策图表</h1><figure class="lu lv lw lx gt is gh gi paragraph-image"><div class="gh gi io"><img src="../Images/21b5fa8630819c997f7d20d896fed073.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*Q-ctPvo4dPpfgRBj"/></div><p class="iv iw gj gh gi ix iy bd b be z dk translated">作者图片—决策树分类器边界图(<a class="ae lt" href="https://github.com/brunorosilva/ML-animations/blob/master/examples/animations/decision_trees.gif" rel="noopener ugc nofollow" target="_blank">此处可用</a></p></figure><h1 id="aca1" class="mj me jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated">支持向量机分类器</h1><figure class="lu lv lw lx gt is gh gi paragraph-image"><div class="gh gi io"><img src="../Images/56d0131f93a38d3581b0b75294e185f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*s6TnaHIMEGzghYgV"/></div><p class="iv iw gj gh gi ix iy bd b be z dk translated">作者图片— SVM分类器边界图<a class="ae lt" href="https://github.com/brunorosilva/ML-animations/blob/master/examples/animations/svc.gif" rel="noopener ugc nofollow" target="_blank">(此处可用)</a></p></figure><p id="7771" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lq le lf lg lr li lj lk ls lm ln lo lp ij bi translated">如果你喜欢这个教程，用过并且有效(或者无效)<strong class="kw jc">请使用我个人资料中的链接联系我</strong></p></div></div>    
</body>
</html>