<html>
<head>
<title>Computer Vision at Scale with Dask and PyTorch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Dask和PyTorch的计算机视觉</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/computer-vision-at-scale-with-dask-and-pytorch-a18e17fc5bad?source=collection_archive---------41-----------------------#2020-11-04">https://towardsdatascience.com/computer-vision-at-scale-with-dask-and-pytorch-a18e17fc5bad?source=collection_archive---------41-----------------------#2020-11-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="795c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">免责声明:我是Saturn Cloud的高级数据科学家，Saturn Cloud是一个使用Dask实现Python易于使用的并行化和扩展的平台。</em></p><p id="99d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将深度学习策略应用于计算机视觉问题，为数据科学家打开了一个可能性的世界。然而，要大规模使用这些技术来创造商业价值，需要大量的计算资源可用——而这正是土星云要解决的挑战！</p><p id="c904" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本教程中，您将看到使用流行的Resnet50深度学习模型在土星云上使用GPU集群进行大规模图像分类推理的步骤。使用Saturn Cloud提供的资源，我们运行任务的速度比非并行方法快40倍！</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/a866c941361745e2244f9fbd53de05f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tPKC0gdEBLAlWPNgczCucQ.jpeg"/></div></div><p class="ky kz gj gh gi la lb bd b be z dk translated">照片由<a class="ae lc" href="https://unsplash.com/@qrupt?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">维克多·格拉巴奇克</a>在<a class="ae lc" href="https://unsplash.com/s/photos/dog?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="ea78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在今天的例子中，我们将对狗的照片进行分类！</p><h1 id="9293" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">你将在这里学到:</h1><ul class=""><li id="cadf" class="mb mc iq jp b jq md ju me jy mf kc mg kg mh kk mi mj mk ml bi translated">如何在Saturn Cloud上设置和管理用于深度学习推理任务的GPU集群</li><li id="0037" class="mb mc iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated">如何在GPU集群上使用Pytorch运行推理任务</li><li id="5995" class="mb mc iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated">如何在GPU集群上使用Pytorch使用批处理来加速您的推理任务</li></ul></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="aeaa" class="ld le iq bd lf lg my li lj lk mz lm ln lo na lq lr ls nb lu lv lw nc ly lz ma bi translated">设置</h1><p id="77d5" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">首先，我们需要确保我们的图像数据集可用，并且我们的GPU集群正在运行。</p><p id="69f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们的例子中，我们已经将数据存储在S3上，并使用<code class="fe ng nh ni nj b"><a class="ae lc" href="https://s3fs.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">s3fs</a></code>库来处理它，如下所示。如果你想使用同样的数据集，这是斯坦福狗的数据集，可以在这里找到:<a class="ae lc" href="http://vision.stanford.edu/aditya86/ImageNetDogs/" rel="noopener ugc nofollow" target="_blank">http://vision.stanford.edu/aditya86/ImageNetDogs/</a></p><p id="dfb7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要设置我们的Saturn GPU集群，过程非常简单。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nk nl l"/></div></figure><blockquote class="nm nn no"><p id="9524" class="jn jo kl jp b jq jr js jt ju jv jw jx np jz ka kb nq kd ke kf nr kh ki kj kk ij bi translated"><em class="iq">【2020–10–15 18:52:56】信息— dask-saturn |星团准备就绪</em></p></blockquote><p id="63d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们没有明确说明，但是我们在集群节点上使用了32个线程，总共有128个线程。</p><p id="30c9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">提示:</strong>单个用户可能会发现您想要调整线程的数量，如果您的文件非常大，则减少线程数量——同时运行大型任务的太多线程可能需要比您的工作人员一次可用的内存更多的内存。</p><p id="e549" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这一步可能需要一段时间才能完成，因为我们请求的所有AWS实例都需要启动。在最后调用<code class="fe ng nh ni nj b">client</code>会监控旋转过程，并让你知道什么时候一切准备就绪！</p><h2 id="c0a2" class="ns le iq bd lf nt nu dn lj nv nw dp ln jy nx ny lr kc nz oa lv kg ob oc lz od bi translated">GPU能力</h2><p id="e978" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">此时，我们可以确认我们的集群具有GPU功能，并确保我们已经正确设置了一切。</p><p id="6dd0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，检查Jupyter实例是否具有GPU功能。</p><pre class="kn ko kp kq gt oe nj of og aw oh bi"><span id="c733" class="ns le iq nj b gy oi oj l ok ol">torch.cuda.is_available()</span></pre><blockquote class="nm nn no"><p id="ed6c" class="jn jo kl jp b jq jr js jt ju jv jw jx np jz ka kb nq kd ke kf nr kh ki kj kk ij bi translated"><em class="iq">真实</em></p></blockquote><p id="d56d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">太棒了——现在让我们也检查一下我们的四个工人。</p><pre class="kn ko kp kq gt oe nj of og aw oh bi"><span id="4f88" class="ns le iq nj b gy oi oj l ok ol">client.run(lambda: torch.cuda.is_available())</span></pre><p id="b01e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，我们将“设备”设置为cuda，这样我们就可以使用这些GPU。</p><pre class="kn ko kp kq gt oe nj of og aw oh bi"><span id="4ef0" class="ns le iq nj b gy oi oj l ok ol">device = torch.device("cuda" if torch.cuda.is_available() else "cpu")</span></pre></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><p id="3c73" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">注意:如果你需要一些帮助来建立如何运行单个图像分类，我在github </strong>  <strong class="jp ir">上有一个</strong> <a class="ae lc" href="https://github.com/saturncloud/saturn-cloud-examples/tree/main/pytorch-demo" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">扩展代码笔记本，可以给你那些说明以及其余的内容。</strong></a></p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="be9e" class="ld le iq bd lf lg my li lj lk mz lm ln lo na lq lr ls nb lu lv lw nc ly lz ma bi translated">推理</h1><p id="bc48" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">现在，我们准备开始做一些分类！我们将使用一些定制的函数来高效地完成这项工作，并确保我们的工作能够充分利用GPU集群的并行性。</p><h1 id="16fd" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">预处理</h1><h2 id="2075" class="ns le iq bd lf nt nu dn lj nv nw dp ln jy nx ny lr kc nz oa lv kg ob oc lz od bi translated">单一图像处理</h2><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="1d01" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个函数允许我们处理一个图像，但是当然我们有很多图像要处理！我们将使用一些列表理解策略来创建我们的批次，并为我们的推断做好准备。</p><p id="c6e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，我们将S3文件路径中的图像列表分成定义批处理的块。</p><pre class="kn ko kp kq gt oe nj of og aw oh bi"><span id="07a3" class="ns le iq nj b gy oi oj l ok ol">s3fpath = 's3://dask-datasets/dogs/Images/*/*.jpg'</span><span id="736d" class="ns le iq nj b gy om oj l ok ol">batch_breaks = [list(batch) for batch in toolz.partition_all(60, s3.glob(s3fpath))]</span></pre><p id="98e6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我们将每个文件处理成嵌套列表。然后我们将稍微重新格式化这个列表设置，我们就可以开始了！</p><pre class="kn ko kp kq gt oe nj of og aw oh bi"><span id="2b7f" class="ns le iq nj b gy oi oj l ok ol">image_batches = [[preprocess(x, fs=s3) for x in y] for y in batch_breaks]</span></pre><p id="961f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意，我们已经在所有这些上使用了Dask <code class="fe ng nh ni nj b">delayed</code>装饰器——我们还不想让它实际运行，而是等到我们在GPU集群上并行工作的时候！</p><h1 id="6f48" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">格式化批次</h1><p id="b047" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">这一小步只是确保图像批次按照模型期望的方式组织。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nk nl l"/></div></figure></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="b73f" class="ld le iq bd lf lg my li lj lk mz lm ln lo na lq lr ls nb lu lv lw nc ly lz ma bi translated">运行模型</h1><p id="c3f4" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">现在我们准备做推理任务了！这将有几个步骤，所有这些步骤都包含在下面描述的函数中，但是我们将通过它们进行讨论，以便一切都很清楚。</p><p id="e695" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在这一点上的工作单位是一次60个图像的批次，这是我们在上一节中创建的。它们都整齐地排列在列表中，以便我们可以有效地使用它们。</p><p id="a7eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们需要对列表做的一件事是“堆叠”张量。我们可以在过程的早期这样做，但是因为我们在预处理中使用了Dask <code class="fe ng nh ni nj b">delayed</code> decorator，我们的函数实际上直到过程的后期才知道它们正在接收张量。因此，我们也通过把它放在预处理之后的函数中来延迟“堆栈”。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="74a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们把张量堆叠起来，这样就可以把批次传递给模型了。我们将使用非常简单的语法来检索我们的模型:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="e1c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">方便的是，我们加载库<code class="fe ng nh ni nj b">torchvision</code>,它包含几个有用的预训练模型和数据集。我们就是从那里拿到Resnet50的。调用方法<code class="fe ng nh ni nj b">.to(device)</code>允许我们将模型对象分配给集群上的GPU资源。</p><p id="9799" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们准备运行推理！它在同一个函数中，风格如下:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="8e9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将图像堆栈(只是我们正在处理的批处理)分配给GPU资源，然后运行推理，返回该批处理的预测。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="8896" class="ld le iq bd lf lg my li lj lk mz lm ln lo na lq lr ls nb lu lv lw nc ly lz ma bi translated">结果评估</h1><p id="e310" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">然而，到目前为止，我们得到的预测和事实并不是人类真正可读或可比的，所以我们将使用下面的函数来修正它们并得到可解释的结果。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="e63c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将从模型中获取我们的结果，以及一些其他元素，以返回好的可读预测和模型分配的概率。</p><pre class="kn ko kp kq gt oe nj of og aw oh bi"><span id="2643" class="ns le iq nj b gy oi oj l ok ol">preds, labslist = evaluate_pred_batch(pred_batch, truelabels, classes)</span></pre><p id="a126" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从这里开始，我们就快完成了！我们希望以一种整洁的、人类可读的方式将我们的结果传递回S3，所以函数的其余部分会处理这一点。它将迭代每个图像，因为这些功能不是批处理。<code class="fe ng nh ni nj b">is_match</code>是我们的自定义功能之一，您可以在下面查看。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nk nl l"/></div></figure></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="6277" class="ld le iq bd lf lg my li lj lk mz lm ln lo na lq lr ls nb lu lv lw nc ly lz ma bi translated">把它们放在一起</h1><p id="ca20" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">现在，我们不打算手工将所有这些函数拼凑在一起，而是将它们组装在一个单独的延迟函数中，它将为我们完成这项工作。重要的是，我们可以将它映射到集群中的所有映像批次！</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h2 id="553a" class="ns le iq bd lf nt nu dn lj nv nw dp ln jy nx ny lr kc nz oa lv kg ob oc lz od bi translated">在群集上</h2><p id="7650" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">我们真的已经完成了所有的艰苦工作，现在可以让我们的功能接手了。我们将使用<code class="fe ng nh ni nj b">.map</code>方法来有效地分配我们的任务。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="3768" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过<code class="fe ng nh ni nj b">map</code>,我们确保我们所有的批次都能应用该功能。使用<code class="fe ng nh ni nj b">gather</code>，我们可以同时收集所有结果，而不是一个接一个地收集。用<code class="fe ng nh ni nj b">compute(sync=False)</code>我们返回所有的期货，准备在我们需要的时候被计算。这可能看起来很艰巨，但是这些步骤是允许我们迭代未来所必需的。</p><p id="0e61" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们实际上运行任务，我们也有一个简单的错误处理系统，以防我们的任何文件被搞乱或出现任何问题。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nk nl l"/></div></figure></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="01f9" class="ld le iq bd lf lg my li lj lk mz lm ln lo na lq lr ls nb lu lv lw nc ly lz ma bi translated">评价</h1><p id="cdc9" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">当然，我们希望确保从这个模型中获得高质量的结果！首先，我们可以看到一个结果。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nk nl l"/></div></figure><blockquote class="nm nn no"><p id="a2f4" class="jn jo kl jp b jq jr js jt ju jv jw jx np jz ka kb nq kd ke kf nr kh ki kj kk ij bi translated"><em class="iq"> {'name': 'n02086240_1082 '，<br/>' ground _ truth ':' Shih-zi '，<br/> 'prediction': [(b"203:'西高地白梗'，"，3.0289587812148966e-05)]，<br/> 'evaluation': False} </em></p></blockquote><p id="a22b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">虽然我们在这里有一个错误的预测，但我们有我们期望的那种结果！为了做更彻底的检查，我们将下载所有的结果文件，然后检查有多少有<code class="fe ng nh ni nj b">evaluation:True</code>。</p><blockquote class="nm nn no"><p id="7353" class="jn jo kl jp b jq jr js jt ju jv jw jx np jz ka kb nq kd ke kf nr kh ki kj kk ij bi translated"><em class="iq">检查的狗狗照片数量:20580 <br/>分类正确的狗狗数量:13806 <br/>分类正确的狗狗比例:67.085% </em></p></blockquote><p id="21ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不完美，但整体效果不错！</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="653e" class="ld le iq bd lf lg my li lj lk mz lm ln lo na lq lr ls nb lu lv lw nc ly lz ma bi translated">比较性能</h1><p id="8d61" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">因此，我们在大约5分钟内成功地对超过20，000张图片进行了分类。这听起来不错，但有什么选择呢？</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi on"><img src="../Images/c50beca990874a75e1d4927977f78cf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*umGOpF0dlmktRIFLhtETfg.png"/></div></figure><p id="312f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">技术/运行时间</p><ul class=""><li id="b4e8" class="mb mc iq jp b jq jr ju jv jy oo kc op kg oq kk mi mj mk ml bi translated">无集群批处理/ 3小时21分13秒</li><li id="f359" class="mb mc iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated"><strong class="jp ir">带批处理的GPU集群/ 5分15秒</strong></li></ul><p id="c813" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加一个GPU集群会带来巨大的不同！</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="3544" class="ld le iq bd lf lg my li lj lk mz lm ln lo na lq lr ls nb lu lv lw nc ly lz ma bi translated">结论</h1><p id="5e52" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">正如这表明的那样，你当然能够在单节点计算中进行深度学习推理，比如在笔记本电脑上，但当你这样做时，你会等待很长时间。GPU集群为您提供了一种大幅加速工作流的方式，使您能够更快地迭代并改进业务或学术实践。试想:如果您想每小时对您的图像进行推理，该怎么办？在这种情况下，单个节点根本无法工作，因为作业甚至无法在一小时内完成！</p><p id="c296" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">GPU通常被视为机器学习任务的一个极端选择，但在现实中，在GPU可能的加速下，您通常可以降低人力时间和美元的总体成本。AWS的一个CPU实例不是免费的，在那个实例上三个小时的计算成本会增加。在许多情况下，为了获得相同的结果，这可能比您在GPU集群上花五分钟的时间还要多。</p><p id="ee06" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在土星云，我们希望为数据科学社区提供最优质的计算资源，我们希望帮助每个人成为更有效的机器学习实践者。您可以了解更多关于我们和上述工具的信息(并免费试用我们的平台！)<a class="ae lc" href="https://www.saturncloud.io/s/" rel="noopener ugc nofollow" target="_blank">在我们的网站</a>。</p></div></div>    
</body>
</html>