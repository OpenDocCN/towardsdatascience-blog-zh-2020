<html>
<head>
<title>Geocoding Made Simple</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">地理编码变得简单</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/geocoding-made-simple-1f2904da2b4b?source=collection_archive---------54-----------------------#2020-10-13">https://towardsdatascience.com/geocoding-made-simple-1f2904da2b4b?source=collection_archive---------54-----------------------#2020-10-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f561" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Python和Google API获得Lat &amp; Lon的10行代码</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5d32968dab15b8c9dad4233604880bb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a2XvSSs-j3bew00_V2VXSg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由Canva的Alesmuth拍摄</p></figure><p id="e2aa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们现在生活在一个快速和视觉化的世界里，图像比语言更有说服力。决策越来越依赖于数据，数据以如此惊人的速度和数量向我们袭来，如果没有某种抽象层，比如视觉层，我们就无法理解它。</p><p id="a94c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这可能是为什么<strong class="la iu">数据可视化</strong>变得越来越重要的一个原因，它允许以一种既引人注目又易于消化的方式组织数据。</p><p id="4605" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当数据位于地理位置时，地图可以非常有效地显示数据在特定区域的分布和比例。<strong class="la iu">地理编码</strong>是将数据绘制成地图的关键过程。简而言之，地理编码意味着将地址或位置作为输入，并生成其坐标(纬度和经度)作为输出。</p><p id="db2c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我旨在向您展示使用Google API检索地理编码信息是多么容易。要做到这一点，我们首先需要建立一个谷歌开发人员帐户，并获得一个位置样本数据集。然后我们将实现10行简单的代码来获取这些位置的坐标。</p><h1 id="832d" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">我们需要的是…</h1><h2 id="c550" class="mm lv it bd lw mn mo dn ma mp mq dp me lh mr ms mg ll mt mu mi lp mv mw mk mx bi translated">1.设置您的Google开发者帐户</h2><p id="7db9" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">要获得API密匙，我们需要首先用你的谷歌账户邮箱和密码登录到<a class="ae nd" href="https://console.developers.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌开发者账户</a>。如果你没有谷歌账户，就在这个<a class="ae nd" href="https://accounts.google.com/signup/v2/webcreateaccount?service=cloudconsole&amp;continue=https%3A%2F%2Fconsole.developers.google.com%2Fapis%2Fdashboard%3Fproject%3Dgeocoding-made-simple&amp;hl=en_US&amp;gmb=exp&amp;biz=false&amp;flowName=GlifWebSignIn&amp;flowEntry=SignUp&amp;nogm=true" rel="noopener ugc nofollow" target="_blank">链接</a>创建一个。</p><p id="1fbd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下一步是为Google创建计费帐户，以便对API的使用进行收费。要创建计费账户，请进入谷歌开发者账户主页左上方的菜单，然后点击<em class="ne">计费</em>部分，然后点击<em class="ne">添加计费账户</em>。提供您的账单详情并选择<em class="ne">谷歌地图平台</em> <strong class="la iu"> </strong>以完成帐户的创建。</p><p id="a97f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每月可以获得200美元的谷歌地图平台积分，所以如果你每月的请求超过40，000次，我建议你在这个<a class="ae nd" href="https://developers.google.com/maps/documentation/geocoding/usage-and-billing" rel="noopener ugc nofollow" target="_blank">链接</a>查看价格细节(考虑一个请求意味着获得一个位置的纬度和经度)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/5372f5dd83c7d3e0748977f8c168ae9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c1dHsA_S0NN874wU2TCp4Q.jpeg"/></div></div></figure><p id="6da0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们还需要创建一个新项目。点击顶栏上的<em class="ne">选择项目</em>，然后点击窗口左上方的<em class="ne">新建项目</em>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/c2f9d41e83e76a62d89ccf719fbc8e72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0RRifXFYdRiRJibFJ0QzMQ.jpeg"/></div></div></figure><p id="9aea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们已经有了我们的计费帐户和项目，我们需要为项目启用API。访问您刚刚创建的项目，并点击<em class="ne">Enable API and Services。</em>搜索<em class="ne">地理编码API </em>，点击<em class="ne">启用</em>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi gj"><img src="../Images/91a16bff3849cae18a52378376ddc1a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l1MjfkReJLhqnMDyJwgz_w.jpeg"/></div></div></figure><p id="2f76" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们需要做的最后一件事是创建API密钥，为此我们只需转到<em class="ne">凭证</em>选项卡，单击<em class="ne">创建凭证</em>，然后单击<em class="ne"> API密钥。</em>复制API密钥，因为我们将在接下来的步骤中使用它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/ed376f56985fcba608aa990f25a19493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x1Lx6C9DbhsuTHiBe16eTw.jpeg"/></div></div></figure><h2 id="d12f" class="mm lv it bd lw mn mo dn ma mp mq dp me lh mr ms mg ll mt mu mi lp mv mw mk mx bi translated">2.导入库</h2><p id="fda9" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">现在让我们打开编码环境，导入所需的库。我们将使用<em class="ne">熊猫</em>和<em class="ne">谷歌地图</em>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h2 id="85d6" class="mm lv it bd lw mn mo dn ma mp mq dp me lh mr ms mg ll mt mu mi lp mv mw mk mx bi translated">3.添加API密钥</h2><p id="28b8" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">现在，我们将在步骤1结束时创建的API键作为变量添加到代码中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h2 id="e109" class="mm lv it bd lw mn mo dn ma mp mq dp me lh mr ms mg ll mt mu mi lp mv mw mk mx bi translated">4.获取我们的样本数据</h2><p id="b58e" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">然后我们需要得到我们的数据。出于本练习的目的，我创建了一个csv文件，其中包含10个地点的列表(我在伦敦最喜欢的5个酒吧的地址加上其他5个随机地点)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/a13a3c0dd6fbc3d661139770cf4d2570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*32BdxE0PsfmJ5jHe3qmC2A.jpeg"/></div></figure><p id="9c6f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">我们想要的输出是所有位置的纬度和经度</strong>，这就是为什么我还将创建两个新列来存储这些信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="f54d" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">用10行代码进行地理编码</h1><p id="3241" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">现在我们已经拥有了所需的一切，我们可以运行10行代码来检索样本位置的地理编码信息，并将结果存储在我们刚刚创建的两列中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="ea8c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了交叉检查我们的结果，我创建了两列，并手动插入10个位置的正确纬度和经度。如你所见，我们得到的结果相当准确。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/7182b21bb2d65e7d6b9838a176a0049d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gMEZ2CdGCFIkixmAn-Df7A.jpeg"/></div></div></figure><p id="5dfd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我真正喜欢这个API的地方是<strong class="la iu">地址或位置不必有特定的格式</strong>。您可能已经注意到，在示例数据中，我在location列中使用了不同的格式。我添加了没有邮政编码、街道号码、只有大写字母甚至罗马数字的地点。我还尝试过检测兴趣点、国家、餐馆名称和伦敦广场上的普通披萨店，结果仍然令人满意。</p><p id="1cd3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们已经有了所有的地理编码信息，让我们把这个练习付诸实践。使用Tableau，我们可以创建一个我在伦敦的前5家酒吧的简单<strong class="la iu">地图，就是我们在样本数据文件中的那些。</strong></p><p id="dce9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">好了，现在你有了一个结合Python、Google API和Tableau创建的简单地图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/37367e39dedf5ee103e820c2d861f59f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*VzLKENXI1kxOtuOK59sAqw.gif"/></div></div></figure><h1 id="b5aa" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">结论</h1><p id="8cb0" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">我希望这篇文章清楚地展示了使用Google API获得地理编码信息是多么容易。</p><blockquote class="nn no np"><p id="5ecd" class="ky kz ne la b lb lc ju ld le lf jx lg nq li lj lk nr lm ln lo ns lq lr ls lt im bi translated"><em class="it">说到数据可视化，</em> <strong class="la iu"> <em class="it">人人都爱一张图</em> </strong> <em class="it">。比图表更令人兴奋，比信息图更简单。因此，我希望这种方法能帮助你可视化你的地理数据，并利用你的洞察力。</em></p></blockquote><p id="e076" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请务必联系我，告诉我你所有的建议和意见。</p><p id="c460" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！</p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><p id="f3f8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我正在创建一个与数据科学和分析相关的所有我最喜欢的课程、书籍和用例的列表。点击<a class="ae nd" href="https://landing.mailerlite.com/webforms/landing/v3w3s2" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">链接</strong> </a>即可在<strong class="la iu">免费</strong>访问该内容。</p><div class="oa ob gp gr oc od"><a href="https://medium.com/@loresowhat/membership" rel="noopener follow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">用我的推荐链接加入Medium-Lore那又怎样</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">阅读Lore的每一个故事那又怎样(以及媒体上成千上万的其他作家)。您的会员费直接支持…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">medium.com</p></div></div><div class="om l"><div class="on l oo op oq om or ks od"/></div></div></a></div></div></div>    
</body>
</html>