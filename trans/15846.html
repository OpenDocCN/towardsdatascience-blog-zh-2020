<html>
<head>
<title>Creating an Interactive Dashboard from Jupyter Notebook with Voila</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Jupyter笔记本创建一个交互式仪表板</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-an-interactive-dashboard-from-jupyter-notebook-with-voila-b64918b4d15a?source=collection_archive---------4-----------------------#2020-11-01">https://towardsdatascience.com/creating-an-interactive-dashboard-from-jupyter-notebook-with-voila-b64918b4d15a?source=collection_archive---------4-----------------------#2020-11-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="60eb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">…以及如何将仪表板部署到Heroku</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6cf40e1bf7659afc21fa6401d4559a54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pv2AJGKWmqbFC9NjAWXuCg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@isaacmsmith?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">艾萨克·史密斯</a>在<a class="ae ky" href="https://unsplash.com/s/photos/graph?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="4797" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着PowerBI和Tableau等BI工具的出现，当你想创建一个交互式仪表板时，Jupyter Notebook可能不会是你脑海中出现的第一个工具。然而，由于Voila，现在可以直接从Jupyter Notebook构建交互式仪表板。</p><p id="4d7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我想向您展示如何使用Jupyter Notebook创建交互式绘图，将它们转换为独立的仪表板，然后使用Heroku将其部署在云上，以便其他人可以看到您的仪表板。所以，让我们开始吧！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="46e0" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">加载数据</h1><p id="472e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在本文中，我将使用<a class="ae ky" href="https://www.kaggle.com/roshansharma/sanfranciso-crime-dataset" rel="noopener ugc nofollow" target="_blank">旧金山数据集</a>。该数据集包含2016年发生在旧金山的超过150，000行犯罪历史。</p><p id="4a5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像往常一样，我们可以用熊猫加载数据集。为了了解数据集的样子，让我们打印出数据集的前五行。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="510d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为这篇文章的目的是展示如何使用Voila将Jupyter笔记本中的交互式可视化变成独立的仪表板，所以我不打算对这个数据集进行EDA。让我们开始创建小部件，为这个数据集的可视化添加交互性。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="eb63" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">创建交互式小部件</h1><p id="c037" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">现在我们已经加载了数据，我们可以立即开始创建小部件。这些小部件是为我们的可视化添加交互性的基本要素。在本文中，我们将使用三个部件:一个滑块部件和两个多选部件。要创建这些小部件，我们可以使用Jupyter Notebook的<code class="fe nb nc nd ne b">ipywidgets</code>库。</p><p id="b6f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们要创建的第一个小部件是slider小部件。为此，我们可以使用来自<code class="fe nb nc nd ne b">ipywidgets</code>的<code class="fe nb nc nd ne b">IntSlider()</code>属性。这个slider小部件将控制熊猫应该加载多少行数据集。例如，如果滑块值是1000，那么Pandas应该加载数据集的前1000行。下面是它的代码实现。</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="1b5f" class="nj md it ne b gy nk nl l nm nn">import ipywidgets as widgets<br/>import pandas as pd</span><span id="d47c" class="nj md it ne b gy no nl l nm nn">style = {'description_width': 'initial'}</span><span id="941d" class="nj md it ne b gy no nl l nm nn">limit_case = widgets.IntSlider(<br/>    value=1000,<br/>    min=100,<br/>    max=5000,<br/>    step=1,<br/>    description='Max Number of Case:',<br/>    disabled=False,<br/>    style=style)</span></pre><p id="9202" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中，我们从<code class="fe nb nc nd ne b">ipywidgets</code>向<code class="fe nb nc nd ne b">IntSlider()</code>属性传递了几个参数。第一个是<code class="fe nb nc nd ne b">value</code>，这是我们运行代码时会显示的默认值。接下来，<code class="fe nb nc nd ne b">min</code>和<code class="fe nb nc nd ne b">max</code>是滑块中可以考虑的最小和最大范围值。同时，<code class="fe nb nc nd ne b">step</code>是我们上下移动滑块时的增量或减量。最后，我们添加了<code class="fe nb nc nd ne b">style</code>参数，这样<code class="fe nb nc nd ne b">description</code>中的单词就不会被截断。</p><p id="74d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，使用来自<code class="fe nb nc nd ne b">ipywidgets</code>的<code class="fe nb nc nd ne b">interactive()</code>属性，我们可以将小部件与我们想要交互更改其值的变量链接起来。现在，如果我们更改滑块值，我们可以看到数据集的长度也会相应地更改。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="e2c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您运行上面的代码单元，您将得到一个类似这样的交互式滑块小部件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/628aa8349941bf5a6882374a96975409.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qjen1Irwh5ANoKv36GFqig.png"/></div></div></figure><p id="2b7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，让我们创建第二个小部件，它是多选小部件。我们可以通过使用<code class="fe nb nc nd ne b">ipywidgets</code>中的<code class="fe nb nc nd ne b">SelectMultiple()</code>属性来实现这一点。有了这个小工具，我们可以选择只在特定的选区而不是所有的选区可视化犯罪。为了创建这个多选小部件，下面是代码实现。</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="9d25" class="nj md it ne b gy nk nl l nm nn">import pandas as pd<br/>import ipywidgets as widgets<br/>from ipywidgets import Layout</span><span id="d26e" class="nj md it ne b gy no nl l nm nn">df = pd.read_csv('SF_crimes.csv')</span><span id="97ca" class="nj md it ne b gy no nl l nm nn">unique_district = df.PdDistrict.unique()</span><span id="04f6" class="nj md it ne b gy no nl l nm nn">district = widgets.SelectMultiple(<br/>    options = unique_district.tolist(),<br/>    value = ['BAYVIEW', 'NORTHERN'],<br/>    description='District',<br/>    disabled=False,<br/>    layout = Layout(width='50%', height='80px', display='flex')<br/>)</span></pre><p id="75a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中，我们使用<code class="fe nb nc nd ne b">SelectMultiple()</code>属性来选择区域变量的多个值。我们应该指定的第一个参数是<code class="fe nb nc nd ne b">options</code>，它应该包含变量的可用选项列表(在我们的例子中是不同种类的旧金山地区)。下一个是<code class="fe nb nc nd ne b">value</code>，它应该包含我们希望默认显示的变量值，然后<code class="fe nb nc nd ne b">description</code>是用于描述小部件名称的文本字段。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="e2cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您运行上面的代码单元格，您将得到下面的交互式多选小部件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/2fd35870237a14ba95e58277a8ee0e03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aevQki-jp2iqDEG_CQ1z6w.png"/></div></div></figure><p id="838e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们可以创建第三个小部件，它与前面的多选小部件完全相同。这个小部件的目的是让我们能够选择想要可视化的犯罪类别。下面是这个小部件的代码实现。</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="75fc" class="nj md it ne b gy nk nl l nm nn">import pandas as pd<br/>import ipywidgets as widgets<br/>from ipywidgets import Layout</span><span id="8b0b" class="nj md it ne b gy no nl l nm nn">df = pd.read_csv('SF_crimes.csv')</span><span id="2520" class="nj md it ne b gy no nl l nm nn">unique_cat = df.Category.unique()</span><span id="25c7" class="nj md it ne b gy no nl l nm nn">style = {'description_width': 'initial'}</span><span id="1a7e" class="nj md it ne b gy no nl l nm nn">category = widgets.SelectMultiple(<br/>    options = unique_cat.tolist(),<br/>    value = ['VANDALISM', 'ASSAULT', 'ROBBERY'],<br/>    description='Criminal Case',<br/>    disabled=False,<br/>    style=style,<br/>    layout = Layout(width='50%', height='80px')<br/>)</span></pre><p id="3580" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们传递给这个<code class="fe nb nc nd ne b">SelectMultiple()</code>属性的参数与之前相同，只是<code class="fe nb nc nd ne b">value</code>和<code class="fe nb nc nd ne b">options</code>参数是犯罪类别而不是地区。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="4a5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您运行上面的代码单元格，您将得到下面的小部件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/b43bcb341edced36b4e18150adde2b23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MVjOHDTWGs4R0W1agIfKPg.png"/></div></div></figure><p id="4aea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们希望将之前创建的所有三个小部件结合起来，创建一个交互式可视化。为了可视化犯罪地点，我们可以用地图来可视化它们，因为我们在数据集中有关于纬度和经度的信息。</p><p id="1673" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了将数据集可视化成地图，我们可以使用<code class="fe nb nc nd ne b">folium</code>库。如果还没有安装<code class="fe nb nc nd ne b">folium</code>，可以使用pip命令安装。</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="6182" class="nj md it ne b gy nk nl l nm nn">pip install folium</span></pre><p id="be2a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以将地图与小部件集成在一起，这样当我们用小部件做出不同的选择时，可视化就会相应地调整。</p><p id="52e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，slider小部件的值将决定我们应该在可视化中考虑的数据集中的犯罪数量。接下来，地图应该会根据我们使用多选小部件的选择显示犯罪类别和地区。</p><p id="44dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了创建额外的可视化，我们还可以创建两个条形图。一个条形图显示有多少犯罪基于我们使用小部件选择的类别。另一个图表显示了我们使用小部件选择的地区有多少起犯罪。</p><p id="7f14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们需要定义一个函数，将所有三个小部件与我们的地图可视化和两个条形图集成在一起。</p><p id="8cd2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是从头到尾完成所有这些工作的完整代码实现。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="0d9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果我们调用上面Jupyter笔记本的最后一个代码单元中的函数<code class="fe nb nc nd ne b">update_map</code>,我们将根据我们在所有三个小部件中选择的值获得地图和条形图可视化的交互性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/f9b85f41fab25309dfa8b0bb11a46e42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*Fyrtvv6ojs0LcAff_xu9FA.gif"/></div></figure><p id="ce47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们已经完成了Jupyter Notebook的工作，在<code class="fe nb nc nd ne b">ipywidgets</code>库的帮助下创建交互式可视化效果！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6878" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">用Jupyter创建一个仪表板</h1><p id="11de" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">到目前为止，我们已经在<code class="fe nb nc nd ne b">ipywidgets</code>、<code class="fe nb nc nd ne b">matplotlib</code>和<code class="fe nb nc nd ne b">folium</code>库的帮助下创建了交互式可视化。现在，你可以开始向其他人展示你的Jupyter笔记本中的可视化。</p><p id="b370" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，在大多数情况下，您将向非技术人员展示可视化，这些人对查看您笔记本中的大量Python代码不感兴趣，只想看到清晰的可视化。因此，使用Jupyter笔记本来显示交互式可视化并不是最佳选择。</p><p id="fe7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要将Jupyter笔记本上的可视化转换为独立的仪表板，我们可以使用Voila。现在，如果您还没有安装Voila，您可以使用pip命令安装它，如下所示:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="b656" class="nj md it ne b gy nk nl l nm nn">pip install voila</span></pre><p id="73fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你安装了Voila，创建一个独立的仪表板将变得非常容易。您所需要做的就是进入您的终端或Anaconda提示符，然后键入以下格式:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="92a4" class="nj md it ne b gy nk nl l nm nn">voila path/to/your/notebook.ipynb</span></pre><p id="c45d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，您也可以通过单击Jupyter笔记本工具栏中的Voila图标，直接在笔记本中执行此操作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/3d76f4d0112607ec81f9df3ff50b225d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5G2KqHXzfogNATkDOyDv8Q.png"/></div></div></figure><p id="ec64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果您执行了上述两个步骤中的任何一个，您将获得以下独立的仪表板。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/9e8921aa24eb252c5585c76ca55f99f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*ryd52EMk1gatlCGMvbucow.gif"/></div></figure><p id="f17b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！我们已经将Jupyter笔记本中的可视化内容转化为一个独立的仪表盘。现在，使用同样的技巧，您可以将Jupyter Notebook中任何数据集的可视化转换为独立的仪表板。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2814" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">使用Heroku部署仪表板</h1><p id="a157" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">到目前为止，您用Voila构建的仪表板只能在本地计算机上运行。这意味着你实际上不能和其他人分享，除非你把你的电脑借给他们。</p><p id="b628" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了让其他人访问您的仪表板，您需要将您的仪表板部署在云上，例如AWS、GCP、Azure或Heroku。在本文中，我们将使用Heroku来部署我们的仪表板，以便其他人可以用他们自己的计算机看到您的仪表板。</p><p id="d0fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用Heroku部署您的仪表板的第一步是登录您的Heroku帐户。如果你还没有账号，你可以<a class="ae ky" href="https://id.heroku.com/login" rel="noopener ugc nofollow" target="_blank">免费注册Heroku</a>。</p><p id="bf7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一步是<a class="ae ky" href="https://devcenter.heroku.com/articles/heroku-cli" rel="noopener ugc nofollow" target="_blank">下载Heroku命令行界面(CLI) </a>并安装到您的本地机器上。</p><p id="fd41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Heroku CLI安装后，现在您需要在Jupyter笔记本文件旁边创建两个附加文件。这些文件是:</p><ul class=""><li id="a761" class="nu nv it lb b lc ld lf lg li nw lm nx lq ny lu nz oa ob oc bi translated"><strong class="lb iu"> requirements.txt: </strong>这个文本文件应该包含您在Jupyter笔记本中使用的所有依赖项或库。例如，在本文中，我们使用了<code class="fe nb nc nd ne b">folium</code>、<code class="fe nb nc nd ne b">numpy</code>、<code class="fe nb nc nd ne b">pandas</code>、<code class="fe nb nc nd ne b">ipywidgets</code>、<code class="fe nb nc nd ne b">matplotlib</code>和<code class="fe nb nc nd ne b">voila</code>库。因此，我们需要在这个文件中列出它们。另外，由于我们使用Jupyter Notebook，我们需要在这个文件中添加<code class="fe nb nc nd ne b">ipykernel</code>,这样Heroku就可以运行我们的Jupyter Notebook中的命令。下面是<strong class="lb iu"> requirements.txt </strong>内容的样子。</li></ul><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="06f1" class="nj md it ne b gy nk nl l nm nn">numpy<br/>pandas<br/>folium<br/>ipywidgets<br/>matplotlib<br/>voila<br/>ipykernel</span></pre><ul class=""><li id="36e7" class="nu nv it lb b lc ld lf lg li nw lm nx lq ny lu nz oa ob oc bi translated">Procfile: 这个文件告诉Heroku如何运行您的Jupyter笔记本，以及需要哪些文件。您可以键入以下内容作为该文件的内容。</li></ul><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="a43b" class="nj md it ne b gy nk nl l nm nn">web: voila --port=$PORT --no-browser --enable_nbextensions=True your_jupyter_notebook_name.ipynb</span></pre><p id="0883" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用电脑中的任何文本编辑器创建这两个文件，例如Notepad或Notepad++。接下来，将这些文件保存在保存Jupyter笔记本文件的同一文件夹中。</p><p id="1a2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在打开您的终端或命令提示符，然后在其中键入<code class="fe nb nc nd ne b">heroku login</code>。这将引导你进入一个浏览器页面，提示你使用Heroku帐户登录。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/2eb816039481ff9470441479f3af407a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_KyJEBTBZ1MhbLOayyErTg.png"/></div></div></figure><p id="3974" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，使用命令提示符进入保存Jupyter文件、requirements.txt和Procfile的工作目录。</p><p id="0389" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在工作目录中，通过键入<code class="fe nb nc nd ne b">git init</code>初始化一个空的存储库。接下来，您可以通过键入以下格式在Heroku帐户上创建一个新的应用程序:<code class="fe nb nc nd ne b">heroku create your-app-name</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/1d7f7177e55cc74478a3dabdfe61d1ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*Y9WEvqXVi19HuSjiv99F2Q.png"/></div></div></figure><p id="dfa6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建应用程序后，按顺序输入以下命令:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="34e5" class="nj md it ne b gy nk nl l nm nn">git add .<br/>git commit -m "Your customized message"<br/>git push heroku master</span></pre><p id="b4d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，在你输入<code class="fe nb nc nd ne b">git push heroku master</code>之后，Heroku将开始创建应用程序来托管你的仪表板。大约一分钟后，您会在命令提示符下看到一个指向您的仪表板的链接。该链接将与您的应用程序名称相似。</p><p id="2d6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！现在，您可以与其他人共享该链接，以便他们可以看到您的交互式仪表板。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="5f4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在这里看到本文<a class="ae ky" href="https://sf-crime-voila.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">中部署的可视化仪表板。</a></p><p id="3850" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您有兴趣查看本文中使用的Jupyter笔记本和requirements.txt以及Procfile，您可以在这里<a class="ae ky" href="https://github.com/marcellusruben/sf-crime-voila" rel="noopener ugc nofollow" target="_blank">看到它。</a></p></div></div>    
</body>
</html>