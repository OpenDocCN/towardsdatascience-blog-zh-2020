<html>
<head>
<title>Generating batch data for PyTorch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为PyTorch生成批处理数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/generating-batch-data-for-pytorch-7435b1a02e21?source=collection_archive---------12-----------------------#2020-11-16">https://towardsdatascience.com/generating-batch-data-for-pytorch-7435b1a02e21?source=collection_archive---------12-----------------------#2020-11-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/847a70d9c49063f6611e38e5695b69a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*psfGDZTjB8vRC1iL"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">由<a class="ae jd" href="https://unsplash.com/@chezzus38?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">肯尼斯·贝里奥斯·阿尔瓦雷斯</a>在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h2 id="1eac" class="je jf jg bd b dl jh ji jj jk jl jm dk jn translated" aria-label="kicker paragraph">实践中的深度学习</h2><div class=""/><div class=""><h2 id="4527" class="pw-subtitle-paragraph km jp jg bd b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dk translated">为PyTorch创建定制数据加载器——变得简单！</h2></div><p id="d3f8" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我正在创建一个定制的PyTorch培训模块，这个模块过于复杂，尤其是在生成培训批次并确保这些批次在培训期间不会重复的时候。“这是一个已解决的问题”，我在实验室的深处疯狂地编码时心想。</p><p id="6625" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">从数据集中选择项目时，不希望只增加索引是有原因的。1)这无法扩展到多个员工。2)你需要随机化你的序列以最大化训练效果。</p><p id="a985" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">这就是Torch的数据工具(<code class="fe mb mc md me b">torch.utils.data</code>)派上用场的地方。您不应该从头开始创建批处理生成器。</p><p id="8a8b" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">您可以采取两种方法。1)在创建数据集之前移动所有预处理，并仅使用数据集生成项目，或者2)在数据集的初始化步骤中执行所有预处理(缩放、移位、整形等)。如果你只使用火炬，方法#2是有意义的。我使用多个后端，所以我使用方法1。</p><h1 id="21b0" class="mf mg jg bd mh mi mj mk ml mm mn mo mp kv mq kw mr ky ms kz mt lb mu lc mv mw bi translated">步伐</h1><ol class=""><li id="2867" class="mx my jg lg b lh mz lk na ln nb lr nc lv nd lz ne nf ng nh bi translated">创建自定义数据集类。你重写了<code class="fe mb mc md me b">__len__()</code>和<code class="fe mb mc md me b">__getitem__()</code>方法。</li><li id="53a8" class="mx my jg lg b lh ni lk nj ln nk lr nl lv nm lz ne nf ng nh bi translated">创建一个使用<code class="fe mb mc md me b">torch.utils.data.dataloader</code>的迭代器</li><li id="a577" class="mx my jg lg b lh ni lk nj ln nk lr nl lv nm lz ne nf ng nh bi translated">在训练循环中使用这个迭代器。</li></ol><p id="d1e8" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">简单。瞧啊。</p><p id="9508" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">关于如何使用的示例，请参见附加的代码。</p><figure class="nn no np nq gt is"><div class="bz fp l di"><div class="nr ns l"/></div></figure><h1 id="f43e" class="mf mg jg bd mh mi mj mk ml mm mn mo mp kv mq kw mr ky ms kz mt lb mu lc mv mw bi translated">摘要</h1><p id="2dec" class="pw-post-body-paragraph le lf jg lg b lh mz kq lj lk na kt lm ln nt lp lq lr nu lt lu lv nv lx ly lz ij bi translated">在本文中，我们回顾了向PyTorch训练循环提供数据的最佳方法。这打开了许多感兴趣的数据访问模式，有助于更轻松、更快速的培训，例如:</p><ol class=""><li id="c5db" class="mx my jg lg b lh li lk ll ln nw lr nx lv ny lz ne nf ng nh bi translated">使用多个进程读取数据</li><li id="7ea4" class="mx my jg lg b lh ni lk nj ln nk lr nl lv nm lz ne nf ng nh bi translated">更加标准化的数据预处理</li><li id="7446" class="mx my jg lg b lh ni lk nj ln nk lr nl lv nm lz ne nf ng nh bi translated">在多台机器上使用数据加载器进行分布式培训</li></ol><p id="a145" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">感谢阅读！</p><p id="a623" class="pw-post-body-paragraph le lf jg lg b lh li kq lj lk ll kt lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">如果你喜欢这个，你可能会喜欢:</p><div class="ip iq gp gr ir nz"><a rel="noopener follow" target="_blank" href="/using-lstm-autoencoders-on-multidimensional-time-series-data-f5a7a51b29a1"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jq gy z fp oe fr fs of fu fw jp bi translated">对多维时间序列数据使用LSTM自动编码器</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">演示如何使用LSTM自动编码器分析多维时间序列</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">towardsdatascience.com</p></div></div><div class="oi l"><div class="oj l ok ol om oi on ix nz"/></div></div></a></div></div></div>    
</body>
</html>