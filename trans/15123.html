<html>
<head>
<title>Docker for Data Science — A Step by Step Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学Docker逐步指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/docker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e?source=collection_archive---------2-----------------------#2020-10-18">https://towardsdatascience.com/docker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e?source=collection_archive---------2-----------------------#2020-10-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/269ac44f4e6f3ec674c6981c053ecc65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r6MJoiZeHKCTd3x8"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">卢卡斯·范·奥尔特在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><div class=""/><div class=""><h2 id="5fad" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">在这篇文章的最后，你将通过Docker在你的机器上运行一个ML工作空间，里面有你需要的ML库，VSCode，Jupyter Lab + Hub，以及许多其他好东西。</h2></div><p id="e068" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae jd" rel="noopener" target="_blank" href="/how-docker-can-help-you-become-a-more-effective-data-scientist-7fc048ef91d5">关于为什么Docker可以改善你作为数据科学家的生活，已经有很多</a> <a class="ae jd" href="https://mlinproduction.com/docker-for-ml-part-1/" rel="noopener ugc nofollow" target="_blank">和</a> <a class="ae jd" rel="noopener" target="_blank" href="/learn-enough-docker-to-be-useful-b7ba70caeb4b">说过了</a>。我和几个朋友正在使用<a class="ae jd" href="https://fast.ai/" rel="noopener ugc nofollow" target="_blank"> Fast.ai </a>做一个(不)酷的深度估计项目，这时我偶然发现了<a class="ae jd" href="https://twitter.com/jeremyphoward" rel="noopener ugc nofollow" target="_blank">@ Jeremy Howard</a>的这条推文。</p><figure class="lr ls lt lu gt is"><div class="bz fp l di"><div class="lv lw l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">开始这篇文章的推文</p></figure><p id="f7f6" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">碰巧我们正在使用Docker为项目创建我们的数据科学工作区，所以我认为解决Jeremy的问题并与社区分享这些知识是有意义的。</p><p id="a865" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我将非常简要地回顾一下Docker的核心概念和优势，然后展示一个使用Docker建立整个数据科学工作空间的分步示例。</p><p id="f998" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你已经知道Docker是什么，为什么它很棒，那么跳到<a class="ae jd" href="#39fe" rel="noopener ugc nofollow">分步教程</a>。</p><h1 id="9519" class="lx ly jg bd lz ma mb mc md me mf mg mh km mi kn mj kp mk kq ml ks mm kt mn mo bi translated">Docker是什么？</h1><p id="9b47" class="pw-post-body-paragraph kv kw jg kx b ky mp kh la lb mq kk ld le mr lg lh li ms lk ll lm mt lo lp lq ij bi translated">Docker是一个创建和部署隔离环境(即虚拟机)的工具，用于运行具有依赖关系的应用程序。</p><p id="4805" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您应该熟悉的几个术语(为了便于理解，包括一个烘焙类比):</p><ul class=""><li id="251f" class="mu mv jg kx b ky kz lb lc le mw li mx lm my lq mz na nb nc bi translated"><strong class="kx jh"> <em class="nd"> Docker容器</em> </strong> —应用程序的单个实例，它是实时运行的。在我们的比喻中，这是一块饼干。</li></ul><figure class="lr ls lt lu gt is"><div class="bz fp l di"><div class="ne lw l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">一块跳舞的饼干。吉菲</p></figure><ul class=""><li id="4b5e" class="mu mv jg kx b ky kz lb lc le mw li mx lm my lq mz na nb nc bi translated"><strong class="kx jh"><em class="nd">Docker Image</em></strong>—创建容器的蓝图。图像是不可变的，从同一图像创建的所有容器都是完全一样的。在我们的比喻中，这是千篇一律的模式。</li></ul><figure class="lr ls lt lu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nf"><img src="../Images/e7964f43c9f89bcb417b71dbcb315aed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vA9VPPRkFtYvYdUY"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">饼干切割器。伊莎贝拉·艾奇逊 / <a class="ae jd" href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><ul class=""><li id="db97" class="mu mv jg kx b ky kz lb lc le mw li mx lm my lq mz na nb nc bi translated"><strong class="kx jh"> <em class="nd"> Dockerfile </em> </strong> —包含创建Docker映像时要调用的命令列表的文本文件。在我们的类比中，这是创建千篇一律的模具的<strong class="kx jh">指令。</strong></li></ul><figure class="lr ls lt lu gt is"><div class="bz fp l di"><div class="ng lw l"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">制作饼干切割器。<a class="ae jd" href="https://giphy.com/gifs/3ixS2QB5lWmGCcJkqI" rel="noopener ugc nofollow" target="_blank">吉菲</a></p></figure><h1 id="fc4b" class="lx ly jg bd lz ma mb mc md me mf mg mh km mi kn mj kp mk kq ml ks mm kt mn mo bi translated">(作为一名数据科学家)我为什么要关心？</h1><p id="e203" class="pw-post-body-paragraph kv kw jg kx b ky mp kh la lb mq kk ld le mr lg lh li ms lk ll lm mt lo lp lq ij bi translated">概括地说，ML中的Docker有两个用例:</p><ul class=""><li id="4d37" class="mu mv jg kx b ky kz lb lc le mw li mx lm my lq mz na nb nc bi translated"><strong class="kx jh"> <em class="nd">只运行</em> </strong> : <strong class="kx jh"> </strong>只运行容器是指你在本地IDE上编辑你的代码，用容器运行它，这样你的代码就在容器里面运行了。这里有一个很好的例子。</li><li id="a1cd" class="mu mv jg kx b ky nh lb ni le nj li nk lm nl lq mz na nb nc bi translated"><strong class="kx jh"> <em class="nd">端到端平台</em> </strong> : <strong class="kx jh"> </strong>端到端平台容器是指你有一个IDE或者Jupyter笔记本/实验室，以及你的整个工作环境，在容器中运行，也在里面运行代码(可以挂载的工作文件系统除外)。</li></ul><p id="0fe6" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们将关注第二个用例。</p><h1 id="a9f3" class="lx ly jg bd lz ma mb mc md me mf mg mh km mi kn mj kp mk kq ml ks mm kt mn mo bi translated">在数据科学项目中使用Docker的原因</h1><blockquote class="nm nn no"><p id="4a47" class="kv kw nd kx b ky kz kh la lb lc kk ld np lf lg lh nq lj lk ll nr ln lo lp lq ij bi translated">使用docker容器意味着你不必处理“在我的机器上工作”的问题。T29】</p></blockquote><p id="162d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一般来说，Docker提供的主要优势是标准化。这意味着您可以一次定义容器的参数，并在安装Docker的任何地方运行它。这反过来提供了两个主要优势:</p><ol class=""><li id="ea3d" class="mu mv jg kx b ky kz lb lc le mw li mx lm my lq ns na nb nc bi translated"><strong class="kx jh"> <em class="nd">再现性:</em> </strong>每个人都有相同的OS，相同版本的工具等。这意味着你不需要处理“在我的机器上工作”的问题。如果它能在你的机器上工作，它也能在每个人的机器上工作。</li><li id="a444" class="mu mv jg kx b ky nh lb ni le nj li nk lm nl lq ns na nb nc bi translated"><strong class="kx jh"> <em class="nd">可移植性:</em> </strong>这意味着从本地开发迁移到超算集群很容易。此外，如果你像我们在DAGsHub一样从事开源数据科学项目，你可以<strong class="kx jh"> <em class="nd">为合作者提供一种简单的方法来绕过设置的麻烦</em> </strong>。</li></ol><p id="f3cd" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">另一个<strong class="kx jh">巨大优势</strong>——学习使用Docker会让你成为一名更好的工程师，或者让你成为一名拥有超能力的数据科学家。许多系统依赖于Docker，它将帮助您将ML项目转化为应用程序，并将模型部署到生产中。</p><h1 id="0001" class="lx ly jg bd lz ma mb mc md me mf mg mh km mi kn mj kp mk kq ml ks mm kt mn mo bi translated">面向数据科学的docker容器示例</h1><ul class=""><li id="a393" class="mu mv jg kx b ky mp lb mq le nt li nu lm nv lq mz na nb nc bi translated"><a class="ae jd" href="https://hub.docker.com/r/pytorch/pytorch" rel="noopener ugc nofollow" target="_blank"> pytorch/pytorch </a> —包含pytorch的用例1的简单容器</li><li id="c811" class="mu mv jg kx b ky nh lb ni le nj li nk lm nl lq mz na nb nc bi translated"><a class="ae jd" href="https://hub.docker.com/r/jupyter/scipy-notebook" rel="noopener ugc nofollow" target="_blank"> jupyter/scipy-notebook </a> —用例2的容器，包括作为UI的jupyter，以及许多python <a class="ae jd" href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-scipy-notebook" rel="noopener ugc nofollow" target="_blank">数据科学模块</a>。</li><li id="dcb3" class="mu mv jg kx b ky nh lb ni le nj li nk lm nl lq mz na nb nc bi translated"><a class="ae jd" href="https://hub.docker.com/repository/docker/dagshub/ml-workspace-minimal" rel="noopener ugc nofollow" target="_blank">Dag shub/ml-workspace-minimal</a>—是我将在上面展示逐步指南的容器。该容器是来自<a class="ae jd" href="https://github.com/ml-tooling/ml-workspace" rel="noopener ugc nofollow" target="_blank"> ml-tooling/ml-workspace存储库</a>的更新版本。原来的已经有7个月没有维护了，所以我创建了一个最新的版本。它结合了以下工具:<br/> -💫Jupyter，JupyterLab <br/>👾VSCode基于web的IDE。<br/> - 🗃 Pytorch、Tensorflow、Sklearn、Pandas等众多流行的数据科学库&amp;工具。<br/> -可通过网络浏览器访问的🖥全Linux桌面图形用户界面。<br/>—🎮通过网络浏览器轻松访问终端。<br/>—🔀针对笔记本电脑优化的无缝Git集成。<br/>—📈集成硬件&amp;通过Tensorboard &amp; Netdata进行训练监控。<br/>—🚪从任何地方通过Web、SSH或VNC在单个端口下访问。<br/> - 🎛可通过SSH用作远程内核(Jupyter)或远程机器(VSCode)。<br/>—🐳易于通过Docker在Mac、Linux和Windows上部署。</li></ul><p id="97fc" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">听起来很棒，对吧？！现在让我们看看如何设置它。</p><h1 id="39fe" class="lx ly jg bd lz ma mb mc md me mf mg mh km mi kn mj kp mk kq ml ks mm kt mn mo bi translated">设置您的数据科学docker容器—分步指南</h1><h2 id="2427" class="nw ly jg bd lz nx ny dn md nz oa dp mh le ob oc mj li od oe ml lm of og mn oh bi translated">安装Docker</h2><p id="8fb2" class="pw-post-body-paragraph kv kw jg kx b ky mp kh la lb mq kk ld le mr lg lh li ms lk ll lm mt lo lp lq ij bi translated">安装Docker是容易和免费的。只需根据您的操作系统遵循本指南即可。</p><h2 id="78f8" class="nw ly jg bd lz nx ny dn md nz oa dp mh le ob oc mj li od oe ml lm of og mn oh bi translated">建立码头工人形象</h2><p id="5ed9" class="pw-post-body-paragraph kv kw jg kx b ky mp kh la lb mq kk ld le mr lg lh li ms lk ll lm mt lo lp lq ij bi translated">将不在本教程中讨论。一旦我们有了想要的图像，我们的重点将是如何运行Docker容器。</p><p id="e250" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们将使用来自<a class="ae jd" href="https://hub.docker.com/repository/docker/dagshub/ml-workspace-minimal" rel="noopener ugc nofollow" target="_blank">Dag shub/ml-workspace-minimal</a>的预构建图像。它是从GitHub上的这个<a class="ae jd" href="https://github.com/DAGsHub/ml-workspace" rel="noopener ugc nofollow" target="_blank">库</a>中创建的。如果你想建立或修改这张图片或任何其他图片，我推荐杰瑞米·霍华德在他的原始推文中提到的那篇文章。</p><h2 id="a2b3" class="nw ly jg bd lz nx ny dn md nz oa dp mh le ob oc mj li od oe ml lm of og mn oh bi translated">Docker Run +处理所有特殊修饰符</h2><p id="ba17" class="pw-post-body-paragraph kv kw jg kx b ky mp kh la lb mq kk ld le mr lg lh li ms lk ll lm mt lo lp lq ij bi translated">只需运行以下命令:</p><pre class="lr ls lt lu gt oi oj ok ol aw om bi"><span id="55d7" class="nw ly jg oj b gy on oo l op oq">docker run -d \<br/>    -v "/${PWD}:/workspace" \<br/>    -p 8080:8080 \<br/>    --name "ml-workspace" \<br/>    --env AUTHENTICATE_VIA_JUPYTER="mytoken" \<br/>    --shm-size 2g \<br/>    --restart always \<br/>    dagshub/ml-workspace:latest</span></pre><p id="d148" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe or os ot oj b">docker run</code>是获取Docker映像(cookie cutter)并从中创建容器的命令。在我们的类比中，这是制作饼干的步骤。</p><p id="a1fa" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这个长命令可能看起来很吓人，但是我们可以把所有这些标志想象成我们的饼干(巧克力片和夏威夷果)的配料😋).以下是对各种标志以及为什么需要它们的解释:</p><p id="6a36" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">挂载你的工作文件系统</strong> <code class="fe or os ot oj b"><strong class="kx jh">-v "/${PWD}:/workspace"<br/></strong></code>这可能是最重要的标志。它允许您在容器关闭后保留您的工作(文件)，并从容器外部访问它们。</p><p id="4154" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">它通过将您当前的工作文件夹(在这里您执行<code class="fe or os ot oj b">docker run</code>命令)，表示为<code class="fe or os ot oj b">/${PWD}</code>，映射到容器的虚拟文件系统中的<code class="fe or os ot oj b">/workspace</code>文件夹。如果你想改变这一点，你可以适当地改变这个论点。</p><p id="8c16" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">端口转发</strong>T5】这个参数暴露了8080端口。本质上，这意味着在计算机上运行这个程序后，可以通过<code class="fe or os ot oj b">http://{computer-ip}:8080</code>访问您的容器。如果您在本地系统上运行这个，那么这个地址将是<code class="fe or os ot oj b"><a class="ae jd" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank">http://localhost:8080</a></code>。对于更复杂的映像，出于API端点等其他原因，您可能需要转发多个端口。在我们的例子中，端口是UI端点，它将把您带到ML-Workspace的主屏幕:</p><figure class="lr ls lt lu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nf"><img src="../Images/e405a32c569b77a95e10fd0840111a8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6qeCcea07OJc3mAR.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated"><a class="ae jd" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank">http://localhost:8080</a>—我的ML-Workspace主页</p></figure><p id="80aa" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">命名我们的容器</strong> <code class="fe or os ot oj b"><strong class="kx jh">--name "dags-workspace"<br/></strong></code>这为我们的容器生成了一个惟一的标识符，以供将来参考。顾名思义，这个名称在您的系统中应该是唯一的，所以如果您从同一个映像创建多个容器，您需要为它们定义不同的名称。<code class="fe or os ot oj b">--name</code>也有助于给我们的容器添加含义。如果不定义名字，会自动为你生成一个没有意义的。</p><p id="aff5" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">定义环境变量</strong><code class="fe or os ot oj b"><strong class="kx jh">--env AUTHENTICATE_VIA_JUPYTER="mytoken"<br/></strong></code><code class="fe or os ot oj b">--env</code>标志为你的容器定义环境变量。这在不同的容器之间变化很大，因此很难给出一个通用的用例。</p><p id="2b15" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在我们的例子中，我们用它来定义工作区的密码。当有人第一次打开上面的链接时，Jupyter会要求他们输入这里定义的密码。如果您在共享电脑上工作，这可能会很有用。</p><figure class="lr ls lt lu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nf"><img src="../Images/8c0cd287e980a56113eb3ae1bba2f3b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*V4lB8X2LR8mS_3A9.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">ML工作区请求密码</p></figure><p id="27f0" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">定义共享内存</strong> <code class="fe or os ot oj b"><strong class="kx jh">--shm-size 2g<br/></strong></code>这个标志用来定义你的容器的共享内存(越多越好)。请记住，这与您的常规系统使用相同的RAM，所以如果您设置得太高，可能会降低您的计算机速度。对于大多数用例来说，一个好的大小应该在<code class="fe or os ot oj b">2g</code>和<code class="fe or os ot oj b">8g</code>之间。</p><p id="2f71" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">定义重启策略</strong><code class="fe or os ot oj b"><strong class="kx jh">--restart always<br/></strong></code><code class="fe or os ot oj b">--restart</code>标志代表容器的重启策略。根据码头文件:</p><blockquote class="nm nn no"><p id="f090" class="kv kw nd kx b ky kz kh la lb lc kk ld np lf lg lh nq lj lk ll nr ln lo lp lq ij bi translated"><em class="jg">重启策略控制Docker守护程序在退出后是否重启容器。</em></p></blockquote><p id="549a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们使用<code class="fe or os ot oj b">always</code>选项，这意味着即使系统重启，Docker也会试图保持容器运行。这对于保持您的项目上下文完整无缺非常有用。</p><p id="a63b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">恭喜你！现在你已经有一个完整的ML工作空间在你的docker上运行，包括你可能需要的所有东西。</strong></p><p id="d064" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你想更深入一层，我推荐你去<code class="fe or os ot oj b">docker run</code> <a class="ae jd" href="https://docs.docker.com/engine/reference/run/" rel="noopener ugc nofollow" target="_blank">命令参考</a>查看所有可用的标志。</p><h1 id="e6e7" class="lx ly jg bd lz ma mb mc md me mf mg mh km mi kn mj kp mk kq ml ks mm kt mn mo bi translated">附加设置</h1><p id="f815" class="pw-post-body-paragraph kv kw jg kx b ky mp kh la lb mq kk ld le mr lg lh li ms lk ll lm mt lo lp lq ij bi translated">让我们回顾一下我建议你建立一个理想工作空间的几件事情。</p><h1 id="70f4" class="lx ly jg bd lz ma mb mc md me mf mg mh km mi kn mj kp mk kq ml ks mm kt mn mo bi translated">在Docker中设置Conda/虚拟环境</h1><p id="a7ff" class="pw-post-body-paragraph kv kw jg kx b ky mp kh la lb mq kk ld le mr lg lh li ms lk ll lm mt lo lp lq ij bi translated">我们设置了一个标准化的独立机器来运行我们的ML。如果你是第一次设置你的项目，你可能会跑去找你的环境管理器<code class="fe or os ot oj b">conda</code> / <code class="fe or os ot oj b">pip</code>安装一些很棒的包。</p><p id="35bb" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">让我打断你一下。</strong></p><p id="8799" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为什么要花这么大力气去创建一个隔离的、可复制的环境，然后去安装一堆没有人知道的不同的包。您应该创建一个Conda或虚拟环境来管理您的软件包。如果您决定使用<a class="ae jd" href="https://hub.docker.com/repository/docker/dagshub/ml-workspace-minimal" rel="noopener ugc nofollow" target="_blank">DAGsHub/ml-workspace-minimal</a>容器，您应该这样做:</p><p id="c825" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在ML <a class="ae jd" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank">工作区主页</a>中，点击打开工具下拉菜单并选择终端。然后键入以下命令:</p><pre class="lr ls lt lu gt oi oj ok ol aw om bi"><span id="7c60" class="nw ly jg oj b gy on oo l op oq"># Input your &lt;env-name&gt; and the &lt;python-version&gt; you want<br/>conda create -y --name &lt;env-name&gt; python=&lt;python-version&gt;<br/># Activate your environment<br/>source activate &lt;env-name&gt;</span><span id="7197" class="nw ly jg oj b gy ou oo l op oq"># If you have a `requirements.txt` file, you should install those requirements<br/>pip install -U pip setuptools wheel<br/>pip install -r requirements.txt</span></pre><p id="88d5" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">安装完包之后，如果您想保存项目(希望提交给Git ),您应该通过运行以下命令来保存包列表:</p><pre class="lr ls lt lu gt oi oj ok ol aw om bi"><span id="f1af" class="nw ly jg oj b gy on oo l op oq"># This will override your existing `requirements.txt`. <br/># If you want to append, use `&gt;&gt;` instead of `&gt;`<br/>pip list --format=freeze &gt; requirements.txt</span></pre><p id="0bc4" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">注意:</strong>想知道为什么你应该使用这个命令来列出你的需求(而不是<code class="fe or os ot oj b">pip freeze &gt;&gt; requirements</code>)？<a class="ae jd" href="https://github.com/pypa/pip/issues/8174" rel="noopener ugc nofollow" target="_blank">阅读本期GitHub</a></p><h1 id="fb8b" class="lx ly jg bd lz ma mb mc md me mf mg mh km mi kn mj kp mk kq ml ks mm kt mn mo bi translated">包装它</h1><p id="ce22" class="pw-post-body-paragraph kv kw jg kx b ky mp kh la lb mq kk ld le mr lg lh li ms lk ll lm mt lo lp lq ij bi translated">现在，你已经用Docker建立了一个隔离的、可复制的、可移植的、令人敬畏的ML工作空间。我希望这篇文章对你有用，如果你有任何问题或反馈，请通过我们的<a class="ae jd" href="https://discord.com/invite/9gU36Y6" rel="noopener ugc nofollow" target="_blank"> DAGsHub Discord Channel </a>联系。</p><figure class="lr ls lt lu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nf"><img src="../Images/137641c20a5cc9726bceed2beeff2491.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ynpCjAZa1q6U8bi4"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">杰西·贝利 / <a class="ae jd" href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure></div></div>    
</body>
</html>