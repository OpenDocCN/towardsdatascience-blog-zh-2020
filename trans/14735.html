<html>
<head>
<title>Mastering TensorFlow “Variables” in 5 Easy Steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过5个简单步骤掌握TensorFlow“变量”</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/mastering-tensorflow-variables-in-5-easy-step-5ba8062a1756?source=collection_archive---------11-----------------------#2020-10-11">https://towardsdatascience.com/mastering-tensorflow-variables-in-5-easy-step-5ba8062a1756?source=collection_archive---------11-----------------------#2020-10-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="1b42" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" rel="noopener" target="_blank" href="/beginners-guide-to-tensorflow-2-x-for-deep-learning-applications-c7ebd0dcfbee">←Part 1</a>|<a class="ae ep" rel="noopener" target="_blank" href="/mastering-tensorflow-tensors-in-5-easy-steps-35f21998bb86">←Part 2</a>|深度学习用TensorFlow 2。X —第3部分| <a class="ae ep" rel="noopener" target="_blank" href="/eager-execution-vs-graph-execution-which-is-better-38162ea4dbf6">第4部分→ </a></h2><div class=""/><div class=""><h2 id="3342" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">了解如何使用TensorFlow变量，它们与普通张量对象的区别，以及它们何时优于这些张量对象|使用TensorFlow 2.x进行深度学习</h2></div><blockquote class="kr"><p id="5c81" class="ks kt it bd ku kv kw kx ky kz la lb dk translated"><strong class="ak">警告:</strong>不要把这篇文章和<a class="ae lc" rel="noopener" target="_blank" href="/mastering-tensorflow-tensors-in-5-easy-steps-35f21998bb86">用5个简单的步骤掌握TensorFlow张量</a>”混淆！</p></blockquote><p id="828e" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx lb im bi translated">如果你正在阅读这篇文章，我确信我们有着相似的兴趣，并且正在/将要从事相似的行业。那么我们就通过<a class="ae lc" href="https://linkedin.com/in/orhangaziyalcin/" rel="noopener ugc nofollow" target="_blank"><em class="ly">Linkedin</em></a><em class="ly">来连线吧！请不要犹豫发送联系请求！</em><a class="ae lc" href="https://linkedin.com/in/orhangaziyalcin/" rel="noopener ugc nofollow" target="_blank"><em class="ly">Orhan g . Yal n—Linkedin</em></a></p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi lz"><img src="../Images/d166634e6ef95c5e014259c5bfcab28e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fQaYQsxhV9zePMcq"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">图一。克里斯·贾维斯在<a class="ae lc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="fabc" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">在本教程中，我们将重点关注<a class="ae lc" href="https://www.tensorflow.org/api_docs/python/tf/Variable" rel="noopener ugc nofollow" target="_blank">张量流变量</a>。本教程结束后，您将能够有效地创建、更新和管理<a class="ae lc" href="https://www.tensorflow.org/api_docs/python/tf/Variable" rel="noopener ugc nofollow" target="_blank">张量流变量</a>。像往常一样，我们的教程将提供带有详细解释和概念性解释的代码示例。我们将通过5个简单的步骤掌握<a class="ae lc" href="https://www.tensorflow.org/api_docs/python/tf/Variable" rel="noopener ugc nofollow" target="_blank">张量流变量</a>:</p><ul class=""><li id="c6d8" class="mu mv it lf b lg mp lj mq lm mw lq mx lu my lb mz na nb nc bi translated"><strong class="lf jd">第一步:变量定义</strong>→简单介绍，与张量比较</li><li id="907c" class="mu mv it lf b lg nd lj ne lm nf lq ng lu nh lb mz na nb nc bi translated"><strong class="lf jd">第二步:创建变量</strong> →实例化tf。可变对象</li><li id="8a3d" class="mu mv it lf b lg nd lj ne lm nf lq ng lu nh lb mz na nb nc bi translated"><strong class="lf jd">第三步:</strong> <strong class="lf jd">变量资格</strong> →特性和特征</li><li id="7c5d" class="mu mv it lf b lg nd lj ne lm nf lq ng lu nh lb mz na nb nc bi translated"><strong class="lf jd">步骤4:变量操作</strong> →基本张量操作、索引、形状操作和广播</li><li id="cbe9" class="mu mv it lf b lg nd lj ne lm nf lq ng lu nh lb mz na nb nc bi translated"><strong class="lf jd">步骤5:变量的硬件选择</strong>→GPU、CPU、TPU</li></ul><p id="d4af" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">系好安全带，我们开始吧！</p><h1 id="64cd" class="ni nj it bd nk nl nm nn no np nq nr ns ki nt kj nu kl nv km nw ko nx kp ny nz bi translated"><strong class="ak">变量的定义</strong></h1><p id="c9de" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">在这一步，我们将简要介绍什么是变量，并了解普通张量对象和变量对象之间的区别。</p><h2 id="04c1" class="of nj it bd nk og oh dn no oi oj dp ns lm ok ol nu lq om on nw lu oo op ny iz bi translated">简介</h2><p id="30ee" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">TensorFlow变量是表示共享和持久状态的首选对象类型，您可以用任何操作来操纵该状态，包括TensorFlow模型。操纵是指任何值或参数的更新。这个特性是变量相比于<code class="fe oq or os ot b">tf.Tensor</code>对象最显著的特征。TensorFlow变量记录为<code class="fe oq or os ot b">tf.Variable</code>对象。让我们简单比较一下<code class="fe oq or os ot b">tf.Tensor</code>和<code class="fe oq or os ot b">tf.Variable</code>物体，了解它们的异同。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi ou"><img src="../Images/f98892830c9b94171e1e2654449df13a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*bmfM13u9lk9_k6ovqjMdOg.gif"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">图二。变量值可以更新(图由作者提供)</p></figure><h2 id="fe44" class="of nj it bd nk og oh dn no oi oj dp ns lm ok ol nu lq om on nw lu oo op ny iz bi translated">与张量的比较</h2><p id="7b0e" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">所以，变量和张量最重要的区别是<strong class="lf jd">可变性</strong>。与张量相反，变量对象中的值可以更新(<em class="ly">例如，用</em> <code class="fe oq or os ot b"><em class="ly">assign()</em></code> <em class="ly">函数</em>)。</p><p id="0103" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated"><a class="ae lc" rel="noopener" target="_blank" href="/mastering-tensorflow-tensors-in-5-easy-steps-35f21998bb86"> <em class="ly">“张量对象的值不能更新，只能用新值创建一个新的张量对象。</em></a><em class="ly"/></p><p id="f652" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">变量对象主要用于存储模型参数，由于这些值在训练过程中会不断更新，因此使用变量而不是张量是一种必然，而不是一种选择。</p><p id="242f" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">可变对象的形状可以用<code class="fe oq or os ot b">reshape()</code>实例函数更新，就像张量对象的形状一样。因为可变对象是建立在张量对象之上的，所以它们有共同的属性，比如<code class="fe oq or os ot b">.shape</code>和<code class="fe oq or os ot b">.dtype</code>。但是，变量也有张量所没有的独特属性，如<code class="fe oq or os ot b">.trainable</code>、<code class="fe oq or os ot b">.device</code>和<code class="fe oq or os ot b">.name</code>属性。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi ov"><img src="../Images/b017c347dbd1fcfd73e541ff5c539533.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iZttBcI1TQHAWpDCK6FGIQ@2x.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">图3。一个张量流变量实际上是一个带有附加特征的张量流的包装器(图由作者提供)</p></figure><blockquote class="kr"><p id="cb66" class="ks kt it bd ku kv kw kx ky kz la lb dk translated">让我们看看如何创建<code class="fe oq or os ot b">tf.Variable</code>对象！</p></blockquote><h1 id="8880" class="ni nj it bd nk nl nm nn no np nq nr ns ki ow kj nu kl ox km nw ko oy kp ny nz bi translated"><strong class="ak">变量的创建</strong></h1><p id="3bd3" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">我们可以用<code class="fe oq or os ot b">tf.Variable()</code>函数实例化(<em class="ly">即创建</em> ) <code class="fe oq or os ot b">tf.Variable</code>对象。<code class="fe oq or os ot b">tf.Variable()</code>函数接受不同的数据类型作为参数，比如整数、浮点数、字符串、列表和<code class="fe oq or os ot b">tf.Constant</code>对象。</p><p id="a3a6" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">在展示具有这些不同数据类型的不同变量对象示例之前，我希望您<a class="ae lc" href="http://colab.research.google.com" rel="noopener ugc nofollow" target="_blank">启动一个新的Google Colab笔记本</a>并使用以下代码导入TensorFlow库:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><p id="ebb3" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">现在，我们可以开始创建<code class="fe oq or os ot b">tf.Variable</code>对象了。</p><p id="bb6e" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">1 —我们可以传递一个<code class="fe oq or os ot b">tf.constant()</code>对象作为<code class="fe oq or os ot b">initial_value</code>:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><p id="dba4" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">2 —我们可以传递一个整数作为<code class="fe oq or os ot b">initial_value</code>:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><p id="5ebb" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">3 —我们可以传递一个整数或浮点数列表作为<code class="fe oq or os ot b">initial_value</code>:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><p id="a9e2" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">4—我们可以传递一个字符串作为<code class="fe oq or os ot b">initial_value</code>:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><p id="89a2" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">5—我们可以传递一个字符串列表作为<code class="fe oq or os ot b">initial_value</code>:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><p id="faa6" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">如您所见，<code class="fe oq or os ot b">tf.Variable()</code>函数接受几种数据类型作为<code class="fe oq or os ot b">initial_value</code>参数。现在我们来看看变量的特性和特征。</p><h1 id="2c3d" class="ni nj it bd nk nl nm nn no np nq nr ns ki nt kj nu kl nv km nw ko nx kp ny nz bi translated"><strong class="ak">变量的资格</strong></h1><p id="49b9" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">每个变量都必须有一些属性，比如值、名称、统一数据类型、形状、等级、大小等等。在本节中，我们将了解这些属性是什么，以及如何在Colab笔记本中查看这些属性。</p><h2 id="bb88" class="of nj it bd nk og oh dn no oi oj dp ns lm ok ol nu lq om on nw lu oo op ny iz bi translated">价值</h2><p id="66a5" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">每个变量必须指定一个<code class="fe oq or os ot b">initial_value</code>。否则，TensorFlow将引发一个错误，并指出<code class="fe oq or os ot b">Value Error: initial_value must be specified.</code>因此，请确保在创建变量对象时传递一个<code class="fe oq or os ot b">initial_value</code>参数。为了能够查看变量值，我们可以使用<code class="fe oq or os ot b">.value()</code>函数和<code class="fe oq or os ot b">.numpy()</code>函数。请参见下面的示例:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="a1f6" class="of nj it ot b gy pf pg l ph pi"><strong class="ot jd">Output:</strong><br/>The values stored in the variables:<br/>tf.Tensor( [[1. 2.]  <br/>            [1. 2.]], shape=(2, 2), dtype=float32)</span><span id="cf95" class="of nj it ot b gy pj pg l ph pi">The values stored in the variables:<br/>[[1. 2.]<br/>[1. 2.]]</span></pre><h2 id="2f7d" class="of nj it bd nk og oh dn no oi oj dp ns lm ok ol nu lq om on nw lu oo op ny iz bi translated">名字</h2><p id="f721" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">Name是一个变量属性，它帮助开发人员跟踪特定变量的更新。创建变量对象时，可以传递一个<code class="fe oq or os ot b">name</code>参数。如果不指定名称，TensorFlow会分配一个默认名称，如下所示:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="38c8" class="of nj it ot b gy pf pg l ph pi"><strong class="ot jd">Output:</strong><br/>The name of the variable:  Variable:0</span></pre><h2 id="3830" class="of nj it bd nk og oh dn no oi oj dp ns lm ok ol nu lq om on nw lu oo op ny iz bi translated">数据类型</h2><p id="88bb" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">每个变量都必须存储统一的数据类型。由于为每个变量存储了一种类型的数据，您也可以使用<code class="fe oq or os ot b">.dtype</code>属性查看这种类型。请参见下面的示例:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="bad5" class="of nj it ot b gy pf pg l ph pi"><strong class="ot jd">Output:</strong><br/>The selected datatype for the variable:  &lt;dtype: 'float32'&gt;</span></pre><h2 id="3a5f" class="of nj it bd nk og oh dn no oi oj dp ns lm ok ol nu lq om on nw lu oo op ny iz bi translated">形状、等级和大小</h2><p id="de23" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">shape属性以列表的形式显示每个维度的大小。我们可以用<code class="fe oq or os ot b">.shape</code>属性查看变量对象的形状。然后，我们可以用<code class="fe oq or os ot b">tf.size()</code>函数查看变量对象的维数。最后，大小对应于一个变量拥有的元素总数。我们需要使用<code class="fe oq or os ot b">tf.size()</code>函数来计算一个变量中元素的数量。请参见以下所有三个属性的代码:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="6173" class="of nj it ot b gy pf pg l ph pi"><strong class="ot jd">Output:</strong><br/>The shape of the variable:  (2, 2)<br/>The number of dimensions in the variable: 2<br/>The number of dimensions in the variable: 4</span></pre><h1 id="9f54" class="ni nj it bd nk nl nm nn no np nq nr ns ki nt kj nu kl nv km nw ko nx kp ny nz bi translated"><strong class="ak">变量运算</strong></h1><p id="e01f" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">使用数学运算符和张量流函数，您可以轻松执行一些基本运算。除了我们在本系列教程的<a class="ae lc" rel="noopener" target="_blank" href="/mastering-tensorflow-tensors-in-5-easy-steps-35f21998bb86">第2部分中介绍的内容，您还可以使用以下数学运算符进行变量运算。</a></p><h2 id="6274" class="of nj it bd nk og oh dn no oi oj dp ns lm ok ol nu lq om on nw lu oo op ny iz bi translated">基本张量运算</h2><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi pk"><img src="../Images/77762baedfc3cc3b065974c4d2abb0f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HNoWouMKFdoU6x9Ag15biQ.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">图4。你可能会受益于基本的数学运算符(图由作者提供)</p></figure><ul class=""><li id="fc89" class="mu mv it lf b lg mp lj mq lm mw lq mx lu my lb mz na nb nc bi translated"><strong class="lf jd">加减:</strong>我们可以用<code class="fe oq or os ot b">+</code>和<code class="fe oq or os ot b">—</code>符号进行加减运算。</li></ul><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="0367" class="of nj it ot b gy pf pg l ph pi">Addition by 2:<br/>tf.Tensor( [[3. 4.]  [3. 4.]], shape=(2, 2), dtype=float32)</span><span id="eae6" class="of nj it ot b gy pj pg l ph pi">Substraction by 2:<br/>tf.Tensor( [[-1.  0.]  [-1.  0.]], shape=(2, 2), dtype=float32)</span></pre><ul class=""><li id="2463" class="mu mv it lf b lg mp lj mq lm mw lq mx lu my lb mz na nb nc bi translated"><strong class="lf jd">乘除:</strong>我们可以用<code class="fe oq or os ot b">*</code>和<code class="fe oq or os ot b">/</code>符号进行乘除运算。</li></ul><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="3b99" class="of nj it ot b gy pf pg l ph pi">Multiplication by 2:<br/>tf.Tensor( [[2. 4.]  [2. 4.]], shape=(2, 2), dtype=float32)</span><span id="b54a" class="of nj it ot b gy pj pg l ph pi">Division by 2:<br/>tf.Tensor( [[0.5 1. ]  [0.5 1. ]], shape=(2, 2), dtype=float32)</span></pre><ul class=""><li id="37cb" class="mu mv it lf b lg mp lj mq lm mw lq mx lu my lb mz na nb nc bi translated">Matmul和modulo操作:最后，您还可以使用<code class="fe oq or os ot b">@</code>和<code class="fe oq or os ot b">%</code>符号进行matmul和Modulo操作:</li></ul><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="8d24" class="of nj it ot b gy pf pg l ph pi">Matmul operation with itself:<br/>tf.Tensor( [[3. 6.]  [3. 6.]], shape=(2, 2), dtype=float32)</span><span id="f823" class="of nj it ot b gy pj pg l ph pi">Modulo operation by 2:<br/>tf.Tensor( [[1. 0.]  [1. 0.]], shape=(2, 2), dtype=float32)</span></pre><p id="1eb8" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">这些都是基本的例子，但它们可以扩展到复杂的计算中，从而创建我们用于深度学习应用的算法。</p><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="2c63" class="of nj it ot b gy pf pg l ph pi"><strong class="ot jd">Note:</strong> These operators also work on regular Tensor objects.</span></pre><h2 id="1823" class="of nj it bd nk og oh dn no oi oj dp ns lm ok ol nu lq om on nw lu oo op ny iz bi translated">分配、索引、广播和形状操作</h2><h2 id="f3b6" class="of nj it bd nk og oh dn no oi oj dp ns lm ok ol nu lq om on nw lu oo op ny iz bi translated">分配</h2><p id="46ad" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">使用<code class="fe oq or os ot b">tf.assign()</code>功能，您可以在不创建新对象的情况下给变量对象分配新值。在需要重新赋值的地方，能够赋值是变量的优点之一。下面是一个值重新分配的示例:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="c9d6" class="of nj it ot b gy pf pg l ph pi"><strong class="ot jd">Output:</strong><br/>...array([[  2., 100.],<br/>          [  1.,  10.]],...</span></pre><h2 id="2bfe" class="of nj it bd nk og oh dn no oi oj dp ns lm ok ol nu lq om on nw lu oo op ny iz bi translated">索引</h2><p id="e7ba" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">就像在张量中一样，您可以使用索引值轻松地访问特定元素，如下所示:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="9cd8" class="of nj it ot b gy pf pg l ph pi"><strong class="ot jd">Output:</strong><br/>The 1st element of the first level is: [1. 2.]<br/>The 2nd element of the first level is: [1. 2.]<br/>The 1st element of the second level is: 1.0<br/>The 3rd element of the second level is: 2.0</span></pre><h2 id="d06b" class="of nj it bd nk og oh dn no oi oj dp ns lm ok ol nu lq om on nw lu oo op ny iz bi translated">广播</h2><p id="4546" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">就像张量对象一样，当我们试图使用多个变量对象进行组合操作时，较小的变量可以自动扩展以适应较大的变量，就像NumPy数组一样。例如，当您试图将一个标量变量与一个二维变量相乘时，该标量将被拉伸以乘以每个二维变量元素。请参见下面的示例:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="7288" class="of nj it ot b gy pf pg l ph pi">tf.Tensor([[ 5 10]<br/>           [15 20]], shape=(2, 2), dtype=int32)</span></pre><h2 id="0f55" class="of nj it bd nk og oh dn no oi oj dp ns lm ok ol nu lq om on nw lu oo op ny iz bi translated">形状操作</h2><p id="c6fe" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">就像在张量对象中一样，你也可以改变可变对象的形状。对于整形操作，我们可以使用<code class="fe oq or os ot b">tf.reshape()</code>功能。让我们在代码中使用<code class="fe oq or os ot b">tf.reshape()</code>函数:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="58e2" class="of nj it ot b gy pf pg l ph pi">tf.Tensor( [[1.]<br/>            [2.]<br/>            [1.]<br/>            [2.]], shape=(4, 1), dtype=float32)</span></pre><h1 id="c3f1" class="ni nj it bd nk nl nm nn no np nq nr ns ki nt kj nu kl nv km nw ko nx kp ny nz bi translated"><strong class="ak">变量的硬件选择</strong></h1><p id="986f" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">正如您将在接下来的部分中看到的，我们将使用GPU和TPU加速我们的模型训练。为了能够看到我们的变量是用什么类型的设备(即处理器)处理的，我们可以使用<code class="fe oq or os ot b">.device</code>属性:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="a0ac" class="of nj it ot b gy pf pg l ph pi">The device which process the variable:   /job:localhost/replica:0/task:0/device:GPU:0</span></pre><p id="64d0" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">我们还可以通过将设备名作为参数传递来设置哪个设备应该使用<code class="fe oq or os ot b">tf.device()</code>函数处理特定的计算。请参见下面的示例:</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="oz pa l"/></div></figure><pre class="ma mb mc md gt pb ot pc pd aw pe bi"><span id="77a2" class="of nj it ot b gy pf pg l ph pi"><strong class="ot jd">Output:</strong><br/>The device which processes the variable a: /job:localhost/replica:0/task:0/device:CPU:0</span><span id="630e" class="of nj it ot b gy pj pg l ph pi">The device which processes the variable b: /job:localhost/replica:0/task:0/device:CPU:0</span><span id="121c" class="of nj it ot b gy pj pg l ph pi">The device which processes the calculation: /job:localhost/replica:0/task:0/device:GPU:0</span></pre><p id="36ab" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">尽管在训练模型时不必手动设置，但在某些情况下，您可能需要为特定的计算或数据处理工作选择一个设备。所以，要小心这个选项。</p><h1 id="fc6b" class="ni nj it bd nk nl nm nn no np nq nr ns ki nt kj nu kl nv km nw ko nx kp ny nz bi translated">恭喜</h1><p id="88df" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">我们已经成功地介绍了TensorFlow可变对象的基础知识。</p><blockquote class="pl pm pn"><p id="dcac" class="ld le ly lf b lg mp kd li lj mq kg ll po mr lo lp pp ms ls lt pq mt lw lx lb im bi translated"><em class="it">拍拍自己的背！</em></p></blockquote><p id="db5a" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">这应该给了您很大的信心，因为您现在对TensorFlow中用于各种操作的主要可变变量对象类型有了更多的了解。</p><p id="5642" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">如果这是你的第一篇文章，考虑从这个系列教程的第一部分<a class="ae lc" rel="noopener" target="_blank" href="/beginners-guide-to-tensorflow-2-x-for-deep-learning-applications-c7ebd0dcfbee">开始</a>:</p><div class="pr ps gp gr pt pu"><a rel="noopener follow" target="_blank" href="/beginners-guide-to-tensorflow-2-x-for-deep-learning-applications-c7ebd0dcfbee"><div class="pv ab fo"><div class="pw ab px cl cj py"><h2 class="bd jd gy z fp pz fr fs qa fu fw jc bi translated">深度学习应用TensorFlow 2.x初学者指南</h2><div class="qb l"><h3 class="bd b gy z fp pz fr fs qa fu fw dk translated">了解TensorFlow平台以及它能为机器学习专家提供什么</h3></div><div class="qc l"><p class="bd b dl z fp pz fr fs qa fu fw dk translated">towardsdatascience.com</p></div></div><div class="qd l"><div class="qe l qf qg qh qd qi mj pu"/></div></div></a></div><p id="f7f5" class="pw-post-body-paragraph ld le it lf b lg mp kd li lj mq kg ll lm mr lo lp lq ms ls lt lu mt lw lx lb im bi translated">或者<a class="ae lc" rel="noopener" target="_blank" href="/mastering-tensorflow-tensors-in-5-easy-steps-35f21998bb86">检查第二部分</a>:</p><div class="pr ps gp gr pt pu"><a rel="noopener follow" target="_blank" href="/mastering-tensorflow-tensors-in-5-easy-steps-35f21998bb86"><div class="pv ab fo"><div class="pw ab px cl cj py"><h2 class="bd jd gy z fp pz fr fs qa fu fw jc bi translated">通过5个简单的步骤掌握TensorFlow张量</h2><div class="qb l"><h3 class="bd b gy z fp pz fr fs qa fu fw dk translated">探索TensorFlow的构建模块如何在较低的级别工作，并学习如何充分利用张量…</h3></div><div class="qc l"><p class="bd b dl z fp pz fr fs qa fu fw dk translated">towardsdatascience.com</p></div></div><div class="qd l"><div class="qj l qf qg qh qd qi mj pu"/></div></div></a></div><h1 id="4b99" class="ni nj it bd nk nl nm nn no np nq nr ns ki nt kj nu kl nv km nw ko nx kp ny nz bi translated">订阅邮件列表获取完整代码</h1><p id="8aa1" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx lb im bi translated">如果你想获得Google Colab的全部代码和我的其他最新内容，可以考虑订阅邮件列表:</p><blockquote class="kr"><p id="e1e7" class="ks kt it bd ku kv qk ql qm qn qo lb dk translated"><a class="ae lc" href="http://eepurl.com/hd6Xfv" rel="noopener ugc nofollow" target="_blank">现在就订阅</a></p></blockquote><p id="903f" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx lb im bi translated">最后，如果你对更高级的应用深度学习教程感兴趣，请查看我的一些其他文章:</p><div class="pr ps gp gr pt pu"><a rel="noopener follow" target="_blank" href="/image-classification-in-10-minutes-with-mnist-dataset-54c35b77a38d"><div class="pv ab fo"><div class="pw ab px cl cj py"><h2 class="bd jd gy z fp pz fr fs qa fu fw jc bi translated">使用MNIST数据集在10分钟内完成图像分类</h2><div class="qb l"><h3 class="bd b gy z fp pz fr fs qa fu fw dk translated">利用TensorFlow和Keras |监督深度学习使用卷积神经网络来分类手写数字</h3></div><div class="qc l"><p class="bd b dl z fp pz fr fs qa fu fw dk translated">towardsdatascience.com</p></div></div><div class="qd l"><div class="qp l qf qg qh qd qi mj pu"/></div></div></a></div><div class="pr ps gp gr pt pu"><a rel="noopener follow" target="_blank" href="/image-noise-reduction-in-10-minutes-with-convolutional-autoencoders-d16219d2956a"><div class="pv ab fo"><div class="pw ab px cl cj py"><h2 class="bd jd gy z fp pz fr fs qa fu fw jc bi translated">使用卷积自动编码器在10分钟内降低图像噪声</h2><div class="qb l"><h3 class="bd b gy z fp pz fr fs qa fu fw dk translated">在时尚MNIST的帮助下，使用深度卷积自动编码器清洁(或去噪)有噪声的图像</h3></div><div class="qc l"><p class="bd b dl z fp pz fr fs qa fu fw dk translated">towardsdatascience.com</p></div></div><div class="qd l"><div class="qq l qf qg qh qd qi mj pu"/></div></div></a></div><div class="pr ps gp gr pt pu"><a rel="noopener follow" target="_blank" href="/image-generation-in-10-minutes-with-generative-adversarial-networks-c2afc56bfa3b"><div class="pv ab fo"><div class="pw ab px cl cj py"><h2 class="bd jd gy z fp pz fr fs qa fu fw jc bi translated">利用生成性对抗网络在10分钟内生成图像</h2><div class="qb l"><h3 class="bd b gy z fp pz fr fs qa fu fw dk translated">使用无监督深度学习生成手写数字与深度卷积甘斯使用张量流和…</h3></div><div class="qc l"><p class="bd b dl z fp pz fr fs qa fu fw dk translated">towardsdatascience.com</p></div></div><div class="qd l"><div class="qr l qf qg qh qd qi mj pu"/></div></div></a></div><div class="pr ps gp gr pt pu"><a rel="noopener follow" target="_blank" href="/fast-neural-style-transfer-in-5-minutes-with-tensorflow-hub-magenta-110b60431dcc"><div class="pv ab fo"><div class="pw ab px cl cj py"><h2 class="bd jd gy z fp pz fr fs qa fu fw jc bi translated">TensorFlow Hub &amp; Magenta在5分钟内实现快速神经风格转换</h2><div class="qb l"><h3 class="bd b gy z fp pz fr fs qa fu fw dk translated">利用Magenta的任意图像风格化网络和深度学习，将梵高的独特风格转移到照片中</h3></div><div class="qc l"><p class="bd b dl z fp pz fr fs qa fu fw dk translated">towardsdatascience.com</p></div></div><div class="qd l"><div class="qs l qf qg qh qd qi mj pu"/></div></div></a></div></div></div>    
</body>
</html>