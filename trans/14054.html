<html>
<head>
<title>Most Important IT Side Skill, Regex</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">最重要的IT辅助技能，正则表达式</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/most-important-it-side-skill-regex-2226789d16d0?source=collection_archive---------44-----------------------#2020-09-27">https://towardsdatascience.com/most-important-it-side-skill-regex-2226789d16d0?source=collection_archive---------44-----------------------#2020-09-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5c32" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">正则表达式是众所周知的IT技能，它可以极大地提高你在计算机上做任何事情的效率！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5a55c471b208d6332354a59a5fc628b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*iI0SQsLQIxqCqVP_2EGJVw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5800" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我第一次学习如何使用Regex搜索文本并以我以前无法想象的方式处理文本数据时，我感到非常震惊。今天，我们可以在Python中利用它的能力，但它在所有其他编程语言、文本编辑器和ide中都是一样的。我们学习基础知识的速度会比特朗普发推特还快！</p><h1 id="5fb0" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">那么什么是Regex呢？</h1><p id="d744" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">Regex是正则表达式的缩写。含义:它是一个短的字符序列，用于搜索或替换长文本中的单词。它是一种编程语言的次要形式，你可以用它来立即找到你需要的东西。我们将使用一条奇怪的小特朗普推文来学习基础知识。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mr ms l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们将使用的示例推文</p></figure><h1 id="f48c" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">基础</h1><p id="1707" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">让我们加载Python，一起浏览一下基础知识。首先，我们必须加载模块re，它处理python内部所有与regex相关的事情。让我们把文字删减一点</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="d226" class="my lv it mu b gy mz na l nb nc">import re<br/>text='When you see the Drug Companies taking massive  television ads against me, forget what they say (which is false), YOU KNOW THAT DRUG'</span></pre><p id="06f7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们练习一些魔法吧！我们现在可以要求Regex查找所有内容，直到一个单词第一次出现。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="8853" class="my lv it mu b gy mz na l nb nc">regex_pattern = r'.*Drug'<br/>res = re.findall(regex_pattern,text)<br/>print(res)</span></pre><p id="1c2a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这将打印“‘当您看到药物时’”。</p><p id="d77c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那么这是怎么回事呢？</p><p id="9590" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，你可能会注意到我们是如何用前缀<strong class="la iu"><em class="nd">r’</em></strong>定义字符串的，这个r向python表明我们将要使用Regex。也称为原始字符串，这不会改变字符串的类型。它主要改变了字符串的解释方式。这并不总是必要的，但它是最佳实践。</p><p id="b393" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来的事情就是<strong class="la iu">’。*药物'</strong>部分。这包括两个想法。首先，我们有零件。* '这向Regex表明，我们需要所有可能的字母或符号…… <strong class="la iu">直到我们看到药物。</strong></p><p id="2016" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以基本上。* '就是所谓的通配符通配符。其中' * '表示我们要将星号之前的所有内容重复0次或更多次。在哪里？是超级特殊的符号，告诉星星我们想要一切，包括字母、数字和空格。</p><p id="387c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">我们再试一次</strong></p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="8ed8" class="my lv it mu b gy mz na l nb nc">regex_pattern = r'W.*ss'<br/>res = re.findall(regex_pattern,text)<br/>print(res)</span></pre><p id="7979" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这将打印“‘当你看到制药公司服用大众’”。从第一次出现的“W”到第一次出现的“ss”</p><h1 id="a2ad" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">贪婪</h1><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="2caf" class="my lv it mu b gy mz na l nb nc">regex_pattern = r' .*? '<br/>res = re.findall(regex_pattern,text)<br/>print(res)</span></pre><p id="998b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">会打印“‘你’，‘那个’，‘公司’，‘大规模’…”。正如我们所看到的，这次我们想找到两个空间之间的所有东西。我希望你的头上现在有一个大大的问号。我们把它放在那里是为了确保正则表达式以所谓的贪婪方式匹配。贪婪在这里意味着我们只匹配绝对最小值，直到下一个空格。没有了“？只有使用' *，'我们才能匹配所有内容，包括空格，因此结果将是整个tweet(没有最后一个和第一个单词)</p><h1 id="3f44" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">取代邪恶</h1><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="911e" class="my lv it mu b gy mz na l nb nc">regex_pattern = r'drug'<br/>res = re.sub(regex_pattern,'COVID-19',text, flags=re.IGNORECASE)<br/>print(res)</span></pre><p id="5d60" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我将刊登“当你看到新冠肺炎公司在电视上做大量广告反对我时，忘记他们说了什么(这是假的)，你知道新冠肺炎”。</p><p id="8985" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是Regex最有用的部分之一，你可以用任何东西替换任何东西！呼叫响应(..)采用我们想要替换的模式，并用更合适的单词替换它。我们必须添加' flags=re。“IGNORECASE”以确保我们符合特朗普不区分大小写的推文风格；)</p><h1 id="f619" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">释放北海巨妖</h1><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="77c1" class="my lv it mu b gy mz na l nb nc">regex_pattern = r'D(.*),'<br/>res = re.sub(regex_pattern,'Kraken',text, flags=re.IGNORECASE)<br/>print(res)</span></pre><p id="432c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">会印上“当你看到北海巨妖时，你就知道那是毒品。”再次说明我们所学到的。</p><h1 id="3936" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">匹配我们所知道的</h1><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="3120" class="my lv it mu b gy mz na l nb nc">regex_pattern = r'see( .*? )*?THAT'<br/>res = re.sub(regex_pattern,'\\1',text)<br/>print(res+"S")</span></pre><p id="689b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上面印着“当你知道毒品”好了，现在我们进入了严肃的正则表达式领域。方括号“()”构成一个匹配组。这是一种引用后来在replace语句中发现的内容的方式。我们还嵌套了“*？”围绕着它。所以第一个”(。*?)"获取单词将" * "放在匹配<strong class="la iu">的单词周围会获取" see "和" THAT "之间的所有单词。</strong>我们为什么要这样做？因此，我们可以在以后引用它，正如我们在replace语句中看到的那样' \\1 '获取第一个单词并将其放入找到的字符串中。这个例子中的第一个词是“你”这让我们“当你知道毒品。”</p><h1 id="cd32" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">结论</h1><p id="4b8b" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">这些是正则表达式的基本构建块，在你精通正则表达式的过程中，你会发现更多。这些基本技术帮助你理解什么是可能的。我希望你现在能更多地考虑正则表达式。首先，你可能需要投入一些时间。一旦你知道了，一个全新的字符串操作世界将会开启。</p><p id="4562" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你喜欢这篇文章，我会很高兴在<a class="ae ne" href="https://twitter.com/san_sluck" rel="noopener ugc nofollow" target="_blank"> Twitter </a>或<a class="ae ne" href="https://www.linkedin.com/in/sandro-luck-b9293a181/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系你。</p><p id="7b25" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一定要看看我的YouTube频道，我每周都会在那里发布新视频。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ms l"/></div></figure></div></div>    
</body>
</html>