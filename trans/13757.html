<html>
<head>
<title>Visualizations with Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Matplotlib可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualizations-with-matplotlib-4809394ea223?source=collection_archive---------47-----------------------#2020-09-21">https://towardsdatascience.com/visualizations-with-matplotlib-4809394ea223?source=collection_archive---------47-----------------------#2020-09-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9e78" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何使用Python库matplotlib可视化数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a5e84433d820713da74d476089dd0b13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qQuCMzfaFTfaQzsPMhzafQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae ky" href="https://unsplash.com/@raypang?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">庞浩文</a>的照片</p></figure><p id="51e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想用Python绘制数据，Matplotlib 是一个非常强大的数据可视化库。最常用的模块是'<a class="ae ky" href="https://matplotlib.org/tutorials/introductory/pyplot.html" rel="noopener ugc nofollow" target="_blank"> pyplot </a>'，它提供了一组函数，让您可以轻松地绘制出数据。</p><h2 id="35f1" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">装置</h2><p id="b7d4" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">使用conda:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="b1a3" class="lv lw it mu b gy my mz l na nb">conda install matplotlib</span></pre><p id="4861" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用画中画:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="6c12" class="lv lw it mu b gy my mz l na nb">pip install matplotlib</span></pre><p id="f565" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为先决条件，你必须具备什么是Python <a class="ae ky" href="https://medium.com/@domalajayashree/understanding-python-dictionaries-5639ed677d48" rel="noopener">字典</a>和<a class="ae ky" href="https://medium.com/@domalajayashree/understanding-lists-in-python-3ee441d463a5" rel="noopener">列表</a>的基础知识，以及Python的<a class="ae ky" rel="noopener" target="_blank" href="/fundamentals-of-numpy-a7e94d260845"> Numpy </a>库的特性和功能。</p><h2 id="1854" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">简单线图</h2><p id="5990" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">导入必要的模块。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="7a91" class="lv lw it mu b gy my mz l na nb">import numpy as np<br/>import matplotlib.pyplot as plt</span></pre><p id="1abf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简单折线图是最常用的绘图，通常用于绘制在一段时间内跟踪的数据，如股票价格。</p><p id="49d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们使用pyplot通过传入一个简单的python列表来创建相同的内容。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="375d" class="lv lw it mu b gy my mz l na nb">plt.plot([2,4,5,10])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/d0a8888c43a85d78490dbeeac4cf0a86.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*by8_X2dRCmkaofiNZv0XNA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="d2bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里你可以看到我们的4个值的图。</p><p id="0831" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您向plot函数提供单个值列表，matplotlib将假定它们是y值，并自动为您生成x值。默认的x向量的长度与传递给函数的列表长度相同，但它从0开始。上面我们可以看到x坐标的值是0，1，2和3。</p><p id="f405" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要绘制x与y的关系，可以向函数中传递两个列表。首先是x向量，然后是y向量。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="566a" class="lv lw it mu b gy my mz l na nb">plt.plot([1,3,7,10], [2,4,5,10])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/13c386ace21ba296e81e7fd52123ae0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*4SGDhoOKIoOt6QMuWqEcyw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="92f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们可以看到一组不同的x值和y值。第一个x值对应于第一个y值，依此类推。</p><h2 id="7975" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">散点图</h2><p id="54f7" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">散点图使用点来表示两个不同数值变量的值。</p><p id="a974" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以向plot函数传递第三个参数，以指示颜色的格式和绘图的线型。</p><p id="8baa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了获得红色的散点图，我们添加“ro”作为第三个参数。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="6b78" class="lv lw it mu b gy my mz l na nb">plt.plot([1,3,7,10], [2,4,5,10], 'ro')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/556750bfc1dc37535a0e92e854bd8cf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*9PcPiq_QPkJ5GyCKEJKftQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="9e2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们可以看到我们的图从蓝线变成了红圈。</p><p id="d306" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通常，在matplotlib中处理绘图时，我们使用NumPy数组而不是Python列表，如下所示。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="68c8" class="lv lw it mu b gy my mz l na nb">a = np.array([[12,23,34,45],<br/>              [56,67,78,89]])<br/>plt.plot(a[0], a[1], 'go')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/0901927dd71ced0dfb1dd08ae555d83a.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*OIqKKe260A0FCMV1puDQAQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="4315" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以在轴上添加标签。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="339c" class="lv lw it mu b gy my mz l na nb">plt.xlabel('x-axis')<br/>plt.ylabel('y-axis')</span><span id="0514" class="lv lw it mu b gy nd mz l na nb">plt.plot(a[0], a[1], 'p--')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/f12d63179b9ae4009d48612d7353a783.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*xS9lFs9OllNU58aobNI1ZQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h2 id="d596" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">图表中的多组数据</h2><p id="a907" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">要在图形上绘制多组数据，请在plot函数中传递多组参数。让我们创建一个数组，其中有几个均匀分布的数字，以了解我们如何做到这一点。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="ec75" class="lv lw it mu b gy my mz l na nb">t = np.linspace(0, 5, 10) <br/>plt.plot(t, t**2, color = 'red', linestyle = '--') </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/847ce312f3daefbb87d949c3899c1f85.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*Ing72FhL6vlZLQGCvs5MEQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="d71a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“linspace”是一个NumPy函数，“linestyle”是一个pyplot参数。</p><p id="dfee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我想在这条线上绘制另一条线，我可以通过再次调用plot函数来轻松完成。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="9d96" class="lv lw it mu b gy my mz l na nb">plt.plot(t, t**2, color = 'red', linestyle = '--')<br/>plt.plot(t, t*3, color='green', linewidth = 2)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/fedbc6e534423c71c5582774ae07adf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*ycn378uBrM898cJQ09hYwA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="b448" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里，“线宽”是一个pyplot参数。正如你所看到的，第二行打印在我们的上一行之上。</p><h2 id="5dc2" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">绘制多个图形</h2><p id="f934" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们可以使用支线剧情功能在一个图中添加多个剧情。这个选项有三个参数:行数、列数和索引。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="28ce" class="lv lw it mu b gy my mz l na nb">plt.subplot(1,3,1)<br/>plt.plot(t,t,'c--')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/46ae3bccd1a799e617cab57f98535507.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*ZMXKTKt8BfkepZzhq34DvQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="aa98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用相同的支线剧情方法，我们可以在现有剧情旁边创建更多不同类型的剧情。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="b787" class="lv lw it mu b gy my mz l na nb">plt.subplot(1,3,1)<br/>plt.plot(t,t,'c--')</span><span id="6fd3" class="lv lw it mu b gy nd mz l na nb">plt.subplot(1,3,2)<br/>plt.plot(t,t**2,'b-')</span><span id="65b4" class="lv lw it mu b gy nd mz l na nb">plt.subplot(1,3,3)<br/>plt.plot(t,t**3,'mo')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/ef00d792655cb120a76d92f924e0aa56.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*v6nC0PLimODd15ONcGazww.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h2 id="666a" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">条形图</h2><p id="e690" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">此外，我们可以使用条形图绘制数据，条形图是最常见的图形类型之一。条形图用于显示分成不同类别的数据。例如，如果我想销售不同的产品，我会使用条形图来完成。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="ccd1" class="lv lw it mu b gy my mz l na nb">sales = {'Computers': 92,<br/>         'Laptops': 76,<br/>         'Mobiles': 97,<br/>         'TVs': 82,<br/>         'Speakers': 70}<br/>plt.bar(range(len(sales)), list(sales.values()), color = 'pink')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/11b4c39aafb83751574e3c5403a861a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*8X81Vb3XYfmdeaSGhxvo3w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="c197" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的示例中，x坐标的范围是从0到4，y坐标显示每个条形的高度。我们可以看到字典中值的条形图。每个条形的高度代表该类别的销售额。</p><p id="7c14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们想将这些数字更改为类别的名称，我们可以这样做，如下所示。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="8b21" class="lv lw it mu b gy my mz l na nb">plt.bar(range(len(sales)), list(sales.values()), color = 'pink')<br/>plt.xticks(range(len(sales)), list(sales.keys()))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/7426d6c2fa28f50927fef1bf7b4c9a72.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*2L9PCkCS7bovG414nMXg5A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="9cc7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们可以看到，在每个条形下，都有相应的类别名称。同样，如果我们想改变x和y标签，我们可以使用相同的' plt.xlabel '和' plt.ylabel '函数。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="b8f5" class="lv lw it mu b gy my mz l na nb">plt.bar(range(len(sales)), list(sales.values()), color=’pink’)<br/>plt.xticks(range(len(sales)), list(sales.keys()))<br/>plt.xlabel(“Categories”)<br/>plt.ylabel(“Sales”)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/fafedbfe54d7472e222a8c449bd0f789.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*5Vpw0r2ACFPucyrMBQlSUg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="b2c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文中我们要看的最后一种图表是直方图。当我们查看身高、体重、股票价格等数据时，直方图是一种非常常见的图表类型。在我们的例子中，让我们生成大约1000个条目的随机连续数据。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="9ac1" class="lv lw it mu b gy my mz l na nb">x = np.random.randn(1000)<br/>plt.hist(x, color = 'green')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/cbf06d97ea40dfab0852821487dac57c.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*LqIDrmkIuDQohzMxy8mOSQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="ea97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们可以看到直方图的数字分布从-4到3。它在0附近达到峰值，这意味着我们的大部分区域都在那里。</p><p id="a552" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文到此为止。</p><p id="90a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击<a class="ae ky" href="https://github.com/jendcruz22/Medium-articles/tree/master/Visualizations_with_matplotlib" rel="noopener ugc nofollow" target="_blank">这里</a>查看本教程的代码。</p><p id="c034" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢谢你阅读它！</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="afe7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参考</p><p id="a02a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[1] Matplotlib文档:【https://matplotlib.org/ T2】</p></div></div>    
</body>
</html>