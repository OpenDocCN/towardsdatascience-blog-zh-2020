<html>
<head>
<title>Building a comprehensive set of Technical Indicators in Python for quantitative trading</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python为量化交易构建一套全面的技术指标</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-a-comprehensive-set-of-technical-indicators-in-python-for-quantitative-trading-8d98751b5fb?source=collection_archive---------4-----------------------#2020-10-21">https://towardsdatascience.com/building-a-comprehensive-set-of-technical-indicators-in-python-for-quantitative-trading-8d98751b5fb?source=collection_archive---------4-----------------------#2020-10-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a484" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><strong class="ak">机器学习和统计算法的可定制综合指标</strong></h2></div></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><p id="8a24" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir"> <em class="li">来自《走向数据科学》编辑的提示:</em> </strong> <em class="li">虽然我们允许独立作者根据我们的</em> <a class="ae lj" rel="noopener" target="_blank" href="/questions-96667b06af5"> <em class="li">规则和指导方针</em> </a> <em class="li">发表文章，但我们不认可每个作者的贡献。你不应该在没有寻求专业建议的情况下依赖一个作者的作品。详见我们的</em> <a class="ae lj" rel="noopener" target="_blank" href="/readers-terms-b5d780a700a4"> <em class="li">读者术语</em> </a> <em class="li">。</em></p></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><p id="b63f" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">概述</strong></p><p id="7a1e" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">预测资产价格变动一直是一个广泛研究的领域，旨在开发能够“准确”捕捉这些资产价格变动的阿尔法生成交易策略。鉴于大多数资产价格的随机性质，我有保留地准确地说，根据定义，资产价格本质上是随机的。因此，这个想法集中于执行某种分析，以某种程度的信心捕捉这个随机元素的运动。在用于预测这种运动的众多方法中，技术指标已经存在了相当一段时间(据说从19世纪开始使用)，作为形成对潜在运动的看法的方法之一。</p><p id="f813" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在算法交易普及之前，技术指标主要由交易者使用，他们会在交易屏幕上查看这些指标来做出买卖决定。尽管这仍然非常普遍，但鉴于机器学习和其他统计工具在短时间内分析这些数据的能力，以及计算机用几十年的数据进行回溯测试的计算能力，技术分析已经进入了自动化交易。</p><p id="2fdc" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">尽管本文并不支持或反对使用技术分析，但下面的技术指标可以用来进行各种回溯测试，并得出对其预测能力的看法。</p></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><p id="b3b6" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">技术指标</strong></p><p id="b931" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">本文将重点介绍专业人士和学者广泛使用的技术指标，以及我认为对自动交易最有益的技术指标。指标列表包括:</p><p id="3f74" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">1.简单移动平均线(快速和慢速)</p><p id="6f93" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">2.平均真实范围</p><p id="d105" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">3.平均方向指数(快速和慢速)</p><p id="0dce" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">4.随机振荡器(快速和慢速)</p><p id="9eae" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">5.相对强度指数(快和慢)</p><p id="60b0" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">6.移动平均收敛发散</p><p id="49a2" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">7.布林线</p><p id="460d" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">8.变动率</p></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><p id="5e32" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">数据</strong></p><p id="4f63" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">使用pandas datareader for Yahoo finance数据库，我提取了从1990年1月到今天的每日苹果和网飞股票数据。在本文中，大多数指标都是使用收盘而不是调整收盘创建的。这是留给读者选择价格。</p><p id="a87f" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">由于技术指标在短期内效果最好，我将分别用5天和15天作为我的快速和慢速信号。然而，这可能会根据投资期限而改变。以下指示器可定制为任何持续时间，只需更改一个参数。</p><figure class="lk ll lm ln gt lo"><div class="bz fp l di"><div class="lp lq l"/></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/6df17274c4bd762f99ea4563fd4892a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*m5HP2ilc8p01adGgNTPt0g.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><p id="a903" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">简单移动平均线</strong></p><p id="acef" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">简单移动平均线是最常见的技术指标之一。SMA计算给定时间间隔内的平均价格，并用于确定股票的趋势。如上所述，我将创建一个慢速SMA (SMA_15)和一个快速SMA (SMA_5)。为了给机器学习算法提供已经设计的因子，还可以使用(SMA_15/SMA_5)或(SMA_15 - SMA_5)作为因子来捕捉这两个移动平均线之间的关系。</p><figure class="lk ll lm ln gt lo"><div class="bz fp l di"><div class="lp lq l"/></div></figure><figure class="lk ll lm ln gt lo"><div class="bz fp l di"><div class="lp lq l"/></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/b9a13c487533806df681c4c2fbd6455e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*0iJuY2ed5_5K2biFWtK2jQ.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">作者图片</p></figure><p id="a4af" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">简单移动平均线成交量</strong></p><p id="3968" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">与价格的简单移动平均线相似，成交量的简单移动平均线提供了对股票显示的信号强度的洞察。</p><figure class="lk ll lm ln gt lo"><div class="bz fp l di"><div class="lp lq l"/></div></figure><p id="fec8" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">怀尔德的平滑</strong></p><p id="955e" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在讨论下一个指标之前，我想提一下其他指标常用的另一种平滑或移动平均线。虽然SMA相当常见，但它包含了过去对每个值给予同等权重的偏见。为了解决这个问题，Wells Wilder引入了一个新版本的smoothening，将更多的权重放在最近的事件上。我们将对以下大部分指标使用怀尔德平滑法，以下是通常可用于获得该平滑法的函数。</p><figure class="lk ll lm ln gt lo"><div class="bz fp l di"><div class="lp lq l"/></div></figure><p id="a3fa" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">平均真实范围(ATR) </strong></p><p id="3994" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">平均真实范围是一种常用的技术指标，用于衡量市场的波动性，以真实范围的移动平均值来衡量。公司的ATR越高，意味着股票的波动性越高。然而，ATR主要用于确定何时退出或进入交易，而不是交易股票的方向。</p><p id="e7b6" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">如上所述，慢速ATR代表5天移动平均线，快速ATR代表15天移动平均线。</p><p id="fa9e" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">真实范围定义为以下最大值:</p><p id="6bc4" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">a.高低</p><p id="977f" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">b.abs(高-前收盘)</p><p id="5394" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">c.abs(低-先前收盘)</p><figure class="lk ll lm ln gt lo"><div class="bz fp l di"><div class="lp lq l"/></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/2697fa41e6dcd34b5b64b17ae376c762.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*kFBTxYI_RDHAdr8Wr9YQZg.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">作者图片</p></figure><p id="22c4" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">平均方向性指数(ADX) </strong></p><p id="1a7f" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">平均方向指数是由怀尔德开发的，用于评估股票价格趋势的强度。它的两个主要组成部分，+DI和-DI有助于确定趋势的方向。一般来说，ADX为25或以上表明趋势强劲，ADX小于20表明趋势疲软。ADX的计算相当复杂，需要一定的步骤。</p><p id="d9c4" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">我也会计算5天和15天的ADX。</p><figure class="lk ll lm ln gt lo"><div class="bz fp l di"><div class="lp lq l"/></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/801bcf052f6cf712d5473476e39b11ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*99a2sXVmNxZ5Ue3mba1c_Q.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">作者图片</p></figure><p id="c355" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">随机振荡器</strong></p><p id="5bbd" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">随机振荡器是一种动量指标，旨在识别超买和超卖的证券，常用于技术分析。</p><figure class="lk ll lm ln gt lo"><div class="bz fp l di"><div class="lp lq l"/></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/f617f466332befe2e52454eaf682aa95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*hsZFqUkg4ZaJ6Fjxl7Xhkw.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">作者图片</p></figure><p id="1377" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">相对强弱指数</strong></p><p id="882b" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">RSI是最常见的动量指标之一，旨在量化价格变化和这种变化的速度。</p><figure class="lk ll lm ln gt lo"><div class="bz fp l di"><div class="lp lq l"/></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/8bdd5c667808aad842e45de90140397f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*b6BKtABA_SUXXpgO03ZOIg.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">作者图片</p></figure><p id="8fb6" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">移动平均线收敛发散(MACD) </strong></p><p id="f781" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">MACD使用两条指数移动平均线，并根据它们的趋同或趋异进行趋势分析。尽管大多数常用的MACD慢速和快速信号分别基于26天和12天，我还是用了15天和5天来和其他指标保持一致。</p><figure class="lk ll lm ln gt lo"><div class="bz fp l di"><div class="lp lq l"/></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/096da8c1ac81c1e1a52151789be0fae2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*LJ_EL-eQ2U1pAcC2nwJqPA.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">作者图片</p></figure><p id="aba5" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">布林线</strong></p><p id="fe1e" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">布林线捕捉股票的波动性，用于识别超买和超卖的股票。布林线由三个主要元素组成:简单的移动平均线，高于移动平均线2个标准差的上限和低于移动平均线2个标准差的下限。</p><figure class="lk ll lm ln gt lo"><div class="bz fp l di"><div class="lp lq l"/></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi ly"><img src="../Images/f5b78ee47e51de076412c214b36fe429.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*MBbmWQbGXlRmPk31R3ehYw.png"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">作者图片</p></figure><p id="d865" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">变化率</strong></p><p id="c90b" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">变化率是一个动量指标，它解释了相对于之前价格固定时期的价格动量。</p><figure class="lk ll lm ln gt lo"><div class="bz fp l di"><div class="lp lq l"/></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/9cf12dde67a6cfc761343277907bd1a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*7z7_NCdom4jQ2JrHi-qhNg.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">作者图片</p></figure><p id="b9f7" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">结论</strong></p><p id="4a43" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这些技术指标在捕获的时间范围方面是高度可定制的，并且允许有助于创建更好模型的各种特征工程。这些值可以直接适合机器学习模型，也可以形成更大模型的因素子集。</p><p id="0257" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">还有许多其他指标可以考虑，即使不太重要。本文中列出的指标绝不是一个详尽的指标列表，而是我在模型中使用的指标列表。</p><p id="0a01" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在我的下一篇文章中，我将解释这些指标在机器学习模型中的实现，并更深入地创建和仔细回测该策略。</p><p id="7c06" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">请在下面留下你的评论和建议。</p></div></div>    
</body>
</html>