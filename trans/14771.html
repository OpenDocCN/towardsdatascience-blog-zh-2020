<html>
<head>
<title>Building a Barcode/QR code Reader using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python构建条形码/QR码阅读器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-a-barcode-qr-code-reader-using-python-360e22dfb6e5?source=collection_archive---------3-----------------------#2020-10-12">https://towardsdatascience.com/building-a-barcode-qr-code-reader-using-python-360e22dfb6e5?source=collection_archive---------3-----------------------#2020-10-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="caf7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Pyzbar库的简单且可实际操作的机器学习项目</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/547a65b83153be309cd4fd23816d6784.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r8yt2zVGDrfBmpZN7r3fmA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马库斯·温克勒在<a class="ae ky" href="https://unsplash.com/s/photos/barcode?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="2916" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di">在这篇文章中，我将向你展示如何使用Python来构建一个条形码和二维码阅读器。这是一个很好的机器学习项目，可以从计算机视觉开始。在我以前的文章中，我展示了如何使用python来识别人脸和文本。这些都是锻炼你技能的好项目。今天，我们将介绍一些稍微不同的东西，那就是条形码和QR码阅读器。</span></p><p id="de58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我认为条形码/二维码非常酷和有趣，因为它们以不同的格式存储信息。有趣的是，在我们扫描它们之前，我们无法真正知道它们存储了什么。就像玩益智游戏一样。我喜欢它们的另一点是，它们可以成为现实世界的一部分，并且仍然将我们与互联网世界联系在一起。这不是很酷吗？</p><h2 id="1379" class="me mf it bd mg mh mi dn mj mk ml dp mm li mn mo mp lm mq mr ms lq mt mu mv mw bi translated">目录:</h2><ul class=""><li id="4c87" class="mx my it lb b lc mz lf na li nb lm nc lq nd lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="ni">入门</em> </strong></li><li id="d402" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="ni">库</em> </strong></li><li id="e73e" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="ni">解码功能</em> </strong></li><li id="2b3f" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="ni">主要功能</em> </strong></li><li id="1ff0" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="ni">视频演示</em> </strong></li></ul></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><div class="kj kk kl km gt nv"><a rel="noopener follow" target="_blank" href="/building-a-face-recognizer-in-python-7fd6630c6340"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">用Python构建人脸识别器</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">使用OpenCv库进行实时人脸识别的分步指南</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">towardsdatascience.com</p></div></div><div class="oe l"><div class="of l og oh oi oe oj ks nv"/></div></div></a></div></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="a710" class="ok mf it bd mg ol om on mj oo op oq mm jz or ka mp kc os kd ms kf ot kg mv ou bi translated">入门指南</h1><p id="d9cf" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li ov lk ll lm ow lo lp lq ox ls lt lu im bi translated">如果您想知道条形码和二维码阅读器是如何工作的，让我们做一个快速的实际练习。打开手机摄像头，显示这篇文章的特色图片。你会看到一个链接显示出来，这是非常简单的使用。今天，我们将创建我们自己的阅读器，马上开始吧！</p><p id="c763" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将从安装这个项目所需的库开始，然后开始编程。对于这个项目，我建议使用常规的代码编辑器，而不是Jupyter笔记本。</p></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="818b" class="ok mf it bd mg ol om on mj oo op oq mm jz or ka mp kc os kd ms kf ot kg mv ou bi translated">图书馆</h1><p id="f281" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li ov lk ll lm ow lo lp lq ox ls lt lu im bi translated">在这一步，我们将安装以下三个库:Pillow、OpenCV和Pyzbar。枕头库也被称为PIL，代表Python图像库。OpenCV是一个众所周知的库，尤其是在处理计算机视觉项目时。最后是Pyzbar，它是一个python库，可以帮助我们读取条形码和二维码。让我们开始安装它们。</p><h2 id="b3f2" class="me mf it bd mg mh mi dn mj mk ml dp mm li mn mo mp lm mq mr ms lq mt mu mv mw bi translated">枕头</h2><p id="8ba4" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li ov lk ll lm ow lo lp lq ox ls lt lu im bi translated">官方文件可以在这里找到。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="3f14" class="me mf it oz b gy pd pe l pf pg">pip install Pillow</span></pre><h2 id="aab7" class="me mf it bd mg mh mi dn mj mk ml dp mm li mn mo mp lm mq mr ms lq mt mu mv mw bi translated">OpenCV</h2><blockquote class="ph pi pj"><p id="7015" class="kz la ni lb b lc ld ju le lf lg jx lh pk lj lk ll pl ln lo lp pm lr ls lt lu im bi translated">OpenCV(开源计算机视觉库)是一个开源的计算机视觉和机器学习软件库。OpenCV旨在为计算机视觉应用提供一个公共基础设施，并加速机器感知在商业产品中的应用。</p><p id="9acd" class="kz la ni lb b lc ld ju le lf lg jx lh pk lj lk ll pl ln lo lp pm lr ls lt lu im bi translated">参考:【https://opencv.org T2】</p></blockquote><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="65de" class="me mf it oz b gy pd pe l pf pg">pip install opencv-python</span></pre><h2 id="38d3" class="me mf it bd mg mh mi dn mj mk ml dp mm li mn mo mp lm mq mr ms lq mt mu mv mw bi translated">皮兹巴尔</h2><p id="569b" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li ov lk ll lm ow lo lp lq ox ls lt lu im bi translated">Pyzbar库的安装因您使用的计算机而异。我将显示Mac OS和Windows安装行。你也可以从Pyzbar的官方文档<a class="ae ky" href="https://pypi.org/project/pyzbar/" rel="noopener ugc nofollow" target="_blank">页面</a>了解更多。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="6026" class="me mf it oz b gy pd pe l pf pg"># Mac OS version<br/>brew install zbar</span><span id="e464" class="me mf it oz b gy pn pe l pf pg"># Windows OS version<br/>pip install pyzbar</span></pre></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="876d" class="ok mf it bd mg ol om on mj oo op oq mm jz or ka mp kc os kd ms kf ot kg mv ou bi translated">解码功能</h1><p id="f71e" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li ov lk ll lm ow lo lp lq ox ls lt lu im bi translated">在这一步，我们编写解码函数，大部分酷的事情将在这里发生。解码功能将主要做三件事，可列举如下:</p><ul class=""><li id="9709" class="mx my it lb b lc ld lf lg li po lm pp lq pq lu ne nf ng nh bi translated">识别和解码我们将展示给摄像机的条形码/QR码。</li><li id="75f5" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated">将存储的信息作为文本添加到识别的条形码/QR码上。</li><li id="0af6" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated">最后，将存储的信息导出为文本文档。</li></ul><p id="3469" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们在写入函数之前导入我们安装的库:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="c368" class="me mf it oz b gy pd pe l pf pg">#import libraries</span><span id="7785" class="me mf it oz b gy pn pe l pf pg">import cv2<br/>from pyzbar import pyzbar</span></pre><p id="cf58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们写函数。我不会一部分一部分地添加，而是将整个功能分享给你。因为在用python编写时缩进很重要，所以我不想通过破坏代码的结构来打乱事情。我将在代码下面添加我的注释。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="919b" class="me mf it oz b gy pd pe l pf pg">def read_barcodes(frame):<br/>    barcodes = pyzbar.decode(frame)<br/>    for barcode in barcodes:<br/>        x, y , w, h = barcode.rect</span><span id="a5a8" class="me mf it oz b gy pn pe l pf pg">        #1<br/>        barcode_info = barcode.data.decode('utf-8')<br/>        cv2.rectangle(frame, (x, y),(x+w, y+h), (0, 255, 0), 2)<br/>        <br/>        #2<br/>        font = cv2.FONT_HERSHEY_DUPLEX<br/>        cv2.putText(frame, barcode_info, (x + 6, y - 6), font, 2.0, (255, 255, 255), 1)</span><span id="2d28" class="me mf it oz b gy pn pe l pf pg">        #3<br/>        with open("barcode_result.txt", mode ='w') as file:<br/>            file.write("Recognized Barcode:" + barcode_info)</span><span id="1908" class="me mf it oz b gy pn pe l pf pg">    return frame</span></pre><p id="6029" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">了解功能:</strong></p><ul class=""><li id="abeb" class="mx my it lb b lc ld lf lg li po lm pp lq pq lu ne nf ng nh bi translated">首先，我们从条形码或QR码中解码信息。然后在它周围画一个矩形。这有助于我们了解我们的机器是否检测到条形码/二维码。</li><li id="719f" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated">其次，我们在创建的矩形上添加文本。文本将显示解码的信息。</li><li id="d525" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated">第三，我们将信息导出到文本文档中。如果您计划使用多个条形码或QR码进行测试，我建议您更改文档名称，否则它会被覆盖。</li></ul></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="56ca" class="ok mf it bd mg ol om on mj oo op oq mm jz or ka mp kc os kd ms kf ot kg mv ou bi translated">主要功能</h1><p id="586e" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li ov lk ll lm ow lo lp lq ox ls lt lu im bi translated">在这一步中，我们将编写主函数，其中应用程序被提示工作。main函数将打开计算机的摄像机，然后调用解码函数。代码如下:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="30ba" class="me mf it oz b gy pd pe l pf pg">def main():</span><span id="04e8" class="me mf it oz b gy pn pe l pf pg">    #1<br/>    camera = cv2.VideoCapture(0)<br/>    ret, frame = camera.read()</span><span id="352c" class="me mf it oz b gy pn pe l pf pg">    #2<br/>    while ret:<br/>        ret, frame = camera.read()<br/>        frame = read_barcodes(frame)<br/>        cv2.imshow('Barcode/QR code reader', frame)<br/>        if cv2.waitKey(1) &amp; 0xFF == 27:<br/>            break</span><span id="1775" class="me mf it oz b gy pn pe l pf pg">    #3<br/>    camera.release()<br/>    cv2.destroyAllWindows()</span><span id="071b" class="me mf it oz b gy pn pe l pf pg">#4<br/>if __name__ == '__main__':<br/>    main()</span></pre><p id="9cee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">了解功能:</strong></p><ul class=""><li id="c402" class="mx my it lb b lc ld lf lg li po lm pp lq pq lu ne nf ng nh bi translated">首先，我们使用OpenCV打开计算机的摄像头。如果您有一个外部摄像头，您必须根据设备将值0更改为1。</li><li id="8da1" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated">其次，我们运行一个while循环来继续运行解码功能，直到按下“Esc”键。否则，循环将不会停止并导致一些问题。</li><li id="61b9" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated">第三，我们正在释放我们在第一步中打开的摄像机。然后我们将关闭应用程序窗口。OpenCV正在做所有的工作，我们只需要调用方法。</li><li id="52d5" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated">最后，我们调用<em class="ni">主函数</em>来触发程序。</li></ul><p id="278c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完美！我们已经完成了编程部分。让我给你看一个快速演示，看看我们运行程序时它是如何工作的。</p></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="1569" class="ok mf it bd mg ol om on mj oo op oq mm jz or ka mp kc os kd ms kf ot kg mv ou bi translated">视频演示</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pr ps l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">测试程序</p></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><div class="kj kk kl km gt nv"><a href="https://lifexplorer.medium.com/membership" rel="noopener follow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">加入我的介绍链接媒体-贝希克居文</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">lifexplorer.medium.com</p></div></div><div class="oe l"><div class="pt l og oh oi oe oj ks nv"/></div></div></a></div><p id="8609" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">恭喜你。！您已经创建了一个程序，可以为您读取条形码和QR码。现在，你已经知道如何在现实生活中使用计算机视觉和人工智能。从事像这样的动手编程项目是提高编码技能的最好方式。如果你今天学到了新东西，我会很高兴。</p><p id="d724" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您在执行代码时有任何问题，请随时<a class="ae ky" href="https://sonsuzdesign.blog/" rel="noopener ugc nofollow" target="_blank">联系我</a>。</p><blockquote class="ph pi pj"><p id="bba1" class="kz la ni lb b lc ld ju le lf lg jx lh pk lj lk ll pl ln lo lp pm lr ls lt lu im bi translated">关注我的<a class="ae ky" href="https://medium.com/@lifexplorer" rel="noopener">博客</a>和<a class="ae ky" href="http://youtube.com/behicguven" rel="noopener ugc nofollow" target="_blank"> youtube频道</a>以获得灵感。谢谢你，</p></blockquote></div></div>    
</body>
</html>