<html>
<head>
<title>Mastering Binary Search in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python掌握二分搜索法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/mastering-binary-search-in-python-e96d7a44769b?source=collection_archive---------34-----------------------#2020-11-05">https://towardsdatascience.com/mastering-binary-search-in-python-e96d7a44769b?source=collection_archive---------34-----------------------#2020-11-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="12ff" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Python中的高效搜索</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d565385204300456ae0002d7ff05bf58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g4pYWSdDj4TVOLm6bBkBYg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Tobias Aeppli 在<a class="ae ky" href="https://www.pexels.com/photo/person-holding-compass-in-forest-1125272/" rel="noopener ugc nofollow" target="_blank"> Pexels </a>拍摄的照片</p></figure><p id="4ed7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">二分搜索法是一种高效的搜索算法，用于在排序列表中查找项目。该算法通过重复分割可能包含被搜索值的子列表来工作。对于大型数组，二分搜索法比线性搜索效率高得多。具体来说，二分搜索法在最坏情况下运行在对数时间，<em class="lv"> O </em> (log <em class="lv"> n) </em>而<em class="lv"> </em>线性<em class="lv"> </em>搜索<em class="lv"> </em>在最坏情况下运行在线性时间<em class="lv">O</em>(<em class="lv">n)</em><em class="lv">。在这篇文章中，我们将讨论如何用python写一个二分搜索法函数。</em></p><p id="a1d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始吧！</p><p id="d7fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们定义我们的函数。我们称之为‘我的二进制搜索函数’:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="61a8" class="mb mc it lx b gy md me l mf mg">def my_binary_search_function():</span></pre><p id="a90c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的函数将采用一个名为“input_list”的数组，一个对应于最后一个索引的“high_value”，一个对应于第一个索引的“low_value”，以及一个我们将尝试查找的值“target_value”:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="0e5a" class="mb mc it lx b gy md me l mf mg">def my_binary_search_function(input_list, low_value, high_value,  target_value):</span></pre><p id="20fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们要确保我们的输入列表实际上是一个列表:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="04bd" class="mb mc it lx b gy md me l mf mg">def my_binary_search_function(input_list, low_value, high_value,  target_value):<br/>    if type(input_list)!=type([]):<br/>        print('Not a list!')</span></pre><p id="5676" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们试图用一个不属于' list '类型的值调用我们的函数，例如我们将传入一个字符串，我们的函数将打印' Not a list！'：</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="bbd5" class="mb mc it lx b gy md me l mf mg">my_binary_search_function('this_is_a_string', 0, 10, 2)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/496d3d7fe007e634876703253841e368.png" data-original-src="https://miro.medium.com/v2/resize:fit:344/format:webp/1*iJjkU34oWRN6ugEbJ4QyTg.png"/></div></figure><p id="4e8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要做的下一件事是检查基本情况。具体来说，我们需要检查“高值”是否高于“低值”。然后，我们定义列表的中间索引，它将是“高值”加上“低值”的平均值的下限:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="e940" class="mb mc it lx b gy md me l mf mg">def my_binary_search_function(input_list, low_value, high_value,  target_value):<br/>    ...<br/>    else:<br/>        if high_value &gt;= low_value:<br/>            <!-- -->middle <strong class="lx iu">=</strong> <!-- -->(<!-- -->high_value<!-- --> <strong class="lx iu">+</strong> low_value<!-- -->) <strong class="lx iu">//</strong> <!-- -->2</span></pre><p id="5fb8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果索引“middle”处的值小于我们的函数的目标值，则递归调用“my_binary_search_function”，其中“low_value”等于“middle+1”:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="f924" class="mb mc it lx b gy md me l mf mg">def my_binary_search_function(input_list, low_value, high_value,  target_value):<br/>    ...<br/>            if input_list[middle] &lt; target_value:<br/>                return my_binary_search_function(input_list, middle +1, high_value, target_value)</span></pre><p id="7be6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果索引' middle '处的值大于我们函数的目标值，则递归调用' my_binary_search_function '，使' high_value '等于' middle-1 ':</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="d8eb" class="mb mc it lx b gy md me l mf mg">def my_binary_search_function(input_list, low_value, high_value,  target_value):<br/>    ...<br/>            elif input_list[middle] &gt; target_value:<br/>                return my_binary_search_function(input_list, low_value, middle-1, target_value)</span></pre><p id="6f65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">否则，返回中间值作为我们要搜索的值的索引:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="94c2" class="mb mc it lx b gy md me l mf mg">def my_binary_search_function(input_list, low_value, high_value,  target_value):<br/>    ...<br/>            else:<br/>                return middle<br/></span></pre><p id="5c61" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果元素不在列表中，我们返回-1:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="afa1" class="mb mc it lx b gy md me l mf mg">def my_binary_search_function(input_list, low_value, high_value,  target_value):<br/>    ...<br/>        else:<br/>            return -1</span></pre><p id="8d15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完整的功能如下:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="4476" class="mb mc it lx b gy md me l mf mg">def my_binary_search_function(input_list, low_value, high_value,  target_value):<br/>    if type(input_list)!=type([]):<br/>        print('Not a list!')<br/>    else:<br/>        if high_value &gt;= low_value:<br/>            middle = (high_value + low_value) // 2<br/>            if input_list[middle] &lt; target_value:<br/>                return my_binary_search_function(input_list, middle +1, high_value, target_value)<br/>            elif input_list[middle] &gt; target_value:<br/>                return my_binary_search_function(input_list, low_value, middle-1, target_value)<br/>            else:<br/>                return middle<br/>        else:<br/>            return -1</span></pre><p id="4e2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们测试一下我们的功能。让我们定义一个整数的排序列表:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="75aa" class="mb mc it lx b gy md me l mf mg">my_list = [100, 3000, 4500, 5000, 6000, 6050, 7020, 8400, 9100]</span></pre><p id="24a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们想要搜索数字6050:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="3276" class="mb mc it lx b gy md me l mf mg">my_value = 6050</span></pre><p id="d22d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以调用我们的函数，并将返回的索引存储在一个名为“my_result”的变量中。如果返回的索引不等于-1，我们打印值存储的位置。否则，我们打印该值不在列表中:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="365b" class="mb mc it lx b gy md me l mf mg">my_result = my_binary_search_function(my_list, 0, len(my_list)-1, my_value) <br/>  <br/>if my_result != -1: <br/>    print("{} is present at index".format(my_value), str(my_result)) <br/>else: <br/>    print("{} is not present in array".format(my_value))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/cb4b821edff64ec684159b1215535ea5.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*1L6eDseTwSvaqSq3mjcDjA.png"/></div></figure><p id="c617" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们将“my_value”更改为列表中没有的数字，如80，我们会得到以下结果:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="f270" class="mb mc it lx b gy md me l mf mg">my_value = 80<br/>my_result = my_binary_search_function(my_list, 0, len(my_list)-1, my_value) <br/>  <br/>if my_result != -1: <br/>    print("{} is present at index".format(my_value), str(my_result)) <br/>else: <br/>    print("{} is not present in array".format(my_value))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/e7b859ab40da57752f3cc21435e9eb26.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*-iAx1pYhGGMQqNPAdVu58g.png"/></div></figure><p id="045f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我就讲到这里，但是您可以自己随意摆弄代码。</p><h2 id="4792" class="mb mc it bd mj mk ml dn mm mn mo dp mp li mq mr ms lm mt mu mv lq mw mx my mz bi translated">结论</h2><p id="d146" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">总之，在这篇文章中，我们讨论了如何用python写二分搜索法函数。如果你有兴趣学习其他重要算法，我推荐<a class="ae ky" href="https://www.geeksforgeeks.org/" rel="noopener ugc nofollow" target="_blank"> GeeksforGeeks </a>。我希望你觉得这篇文章有趣/有用。这篇文章的代码可以在<a class="ae ky" href="https://github.com/spierre91/medium_code/blob/master/data_structures_and_algorithms/binary_search.py" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。感谢您的阅读！</p></div></div>    
</body>
</html>