<html>
<head>
<title>Python 3.9 — Hands-ON with the Latest Updates</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 3.9 —最新更新的实际操作</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-3-9-hands-on-with-the-latest-updates-8137e2246119?source=collection_archive---------22-----------------------#2020-10-10">https://towardsdatascience.com/python-3-9-hands-on-with-the-latest-updates-8137e2246119?source=collection_archive---------22-----------------------#2020-10-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8d69" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">比较Python 3.9和Python 3.8新推出的功能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cd26e91b87fae5ddbcbf7877dc4544e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BSEcYWOizodvZBPJRvJb_Q.png"/></div></div></figure><p id="0819" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">Python 3 . 9 . 0——Python的最新稳定版本发布了！</strong></p><p id="9a03" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在过去的一年里，来自世界各地的开源爱好者一直致力于开发新的、增强的和不推荐的特性。尽管测试版已经推出很长时间了，Python 3.9.0的正式发布是在2020年10月5日<strong class="kw iu">。</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="3240" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">官方文档包含了最新特性和变更日志的所有细节。通过这篇文章，我将带你了解一些很酷的特性，它们可能会在我们的日常编程任务中派上用场。</p><h2 id="f243" class="ls lt it bd lu lv lw dn lx ly lz dp ma ld mb mc md lh me mf mg ll mh mi mj mk bi translated">我们将了解以下内容:</h2><ul class=""><li id="b66a" class="ml mm it kw b kx mn la mo ld mp lh mq ll mr lp ms mt mu mv bi translated"><strong class="kw iu">类型提示泛型和灵活函数以及变量注释</strong></li><li id="24a4" class="ml mm it kw b kx mw la mx ld my lh mz ll na lp ms mt mu mv bi translated"><strong class="kw iu">字典中的联合运算符</strong></li><li id="e1a1" class="ml mm it kw b kx mw la mx ld my lh mz ll na lp ms mt mu mv bi translated"><code class="fe nb nc nd ne b"><strong class="kw iu">zoneinfo</strong></code> <strong class="kw iu"> —访问和计算时区</strong></li><li id="ab11" class="ml mm it kw b kx mw la mx ld my lh mz ll na lp ms mt mu mv bi translated"><strong class="kw iu">去除前缀和后缀的字符串方法</strong></li><li id="57e2" class="ml mm it kw b kx mw la mx ld my lh mz ll na lp ms mt mu mv bi translated"><strong class="kw iu">其他发布亮点</strong></li></ul><p id="8081" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要跟随我或尝试新特性，您应该安装Python 3.9。我使用了一个名为<a class="ae nf" href="https://github.com/pyenv/pyenv" rel="noopener ugc nofollow" target="_blank"> pyenv </a>的环境管理器(或者，您可以使用conda)来安装最新版本和我的当前版本。您也可以使用<a class="ae nf" href="https://hub.docker.com/_/python/" rel="noopener ugc nofollow" target="_blank">官方docker图像</a>来运行它。</p><h1 id="7f59" class="ng lt it bd lu nh ni nj lx nk nl nm ma jz nn ka md kc no kd mg kf np kg mj nq bi translated">灵活的函数和变量注释</h1><p id="7752" class="pw-post-body-paragraph ku kv it kw b kx mn ju kz la mo jx lc ld nr lf lg lh ns lj lk ll nt ln lo lp im bi translated">自python 3.0以来，函数注释就已经存在，它使我们能够向python函数添加元数据。那么，Python 3.9有什么新特性？</p><p id="4e23" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Python 3.9增加了<a class="ae nf" href="https://www.python.org/dev/peps/pep-0593" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> PEP 593 </strong> </a>，引入了一种机制来扩展<strong class="kw iu"/><a class="ae nf" href="https://www.python.org/dev/peps/pep-0484" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu">PEP 484</strong></a>的类型注释，为注释提供了标准的语义，并建议将注释用于类型提示。</p><p id="ecc6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，除了类型提示之外，还有许多其他的注释用例，因此PEP 593引入了<code class="fe nb nc nd ne b">typing.Annotated</code>，它允许我们向元数据添加更多的细节。</p><p id="8315" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们通过一个Python 3.8和3.9的例子来更好地理解这一点。</p><p id="36a2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> Python 3.8 </strong></p><pre class="kj kk kl km gt nu ne nv nw aw nx bi"><span id="bb09" class="ls lt it ne b gy ny nz l oa ob">def currency_exchange(eur: "euros", rate: "exchange rate") -&gt; "euro to USD":</span><span id="6557" class="ls lt it ne b gy oc nz l oa ob">    """Converting Euros to USD using the exchange rate"""</span><span id="4fe2" class="ls lt it ne b gy oc nz l oa ob">    return eur * rate</span></pre><p id="fc5c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是一个简单的函数，使用汇率将欧元转换成美元。我们使用注释作为用户的文档。</p><p id="2ec1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> Python 3.9 </strong></p><pre class="kj kk kl km gt nu ne nv nw aw nx bi"><span id="8c42" class="ls lt it ne b gy ny nz l oa ob">from typing import Annotated</span><span id="5d4b" class="ls lt it ne b gy oc nz l oa ob">def currency_exchange(eur: Annotated[float, "euros"], rate: Annotated[float, "exchange rate"]) -&gt; Annotated[float, "euro to dollars"]:</span><span id="3d74" class="ls lt it ne b gy oc nz l oa ob">    """Converting Euros to Dollars using the exchange rate"""</span><span id="9b96" class="ls lt it ne b gy oc nz l oa ob">    return eur * rate</span></pre><p id="3c5b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里，我们使用新引入的<code class="fe nb nc nd ne b">Annotated</code>,它至少有两个参数。第一个参数(示例中的<code class="fe nb nc nd ne b">float</code>)建立了类型提示，其余的参数是函数的任意元数据。</p><p id="bf80" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">用户/开发者也可以使用<code class="fe nb nc nd ne b">__annotations__</code>属性来检查这些注释:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/85dedacf3d860ba0258bdb17307986c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*h92DUVRi84fJfkvyEpDNXA.png"/></div></figure><p id="acf8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们也可以使用<code class="fe nb nc nd ne b">get_type_hint()</code>功能检查类型:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/34cc280dab545c436b2cc09ec1e3c128.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/format:webp/1*B5KEGi-ucbB2wqz9aU6oxQ.png"/></div></figure><h2 id="32e3" class="ls lt it bd lu lv lw dn lx ly lz dp ma ld mb mc md lh me mf mg ll mh mi mj mk bi translated">标准集合中的类型提示泛型</h2><p id="434a" class="pw-post-body-paragraph ku kv it kw b kx mn ju kz la mo jx lc ld nr lf lg lh ns lj lk ll nt ln lo lp im bi translated">像<code class="fe nb nc nd ne b">int</code>、<code class="fe nb nc nd ne b">str</code>或<code class="fe nb nc nd ne b">bool</code>这样的基本数据类型很容易注释。早期的静态类型是在现有Python运行时之上逐步构建的，并受其约束。由于泛型，这导致了类型模块中重复的集合层次结构，即我们既有<code class="fe nb nc nd ne b">typing.List</code>又有内置列表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/c789485f0ba3b1498b6eceb52752b211.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*bc7KLflcrXnBeRx5E1LqcQ.png"/></div></figure><p id="026f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于泛型，我们有参数化的问题，因为它们的存储结构是一个容器。由于这些原因，我们不能直接使用<code class="fe nb nc nd ne b">list(float)</code>或<code class="fe nb nc nd ne b">list[float]</code>作为类型提示，而是需要类型模块来实现。</p><p id="16fc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在<strong class="kw iu"> Python 3.9 </strong>中，不再需要这种重复的层次结构。我们可以直接注释它们:</p><pre class="kj kk kl km gt nu ne nv nw aw nx bi"><span id="f7cd" class="ls lt it ne b gy ny nz l oa ob">scores: list(float)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/233c7d085180c0cb75207d6c3edc612d.png" data-original-src="https://miro.medium.com/v2/resize:fit:598/format:webp/1*vDsNumVAzQ7KEpNTHYmimg.png"/></div></figure><h1 id="2840" class="ng lt it bd lu nh ni nj lx nk nl nm ma jz nn ka md kc no kd mg kf np kg mj nq bi translated">合并和更新词典</h1><p id="d1fe" class="pw-post-body-paragraph ku kv it kw b kx mn ju kz la mo jx lc ld nr lf lg lh ns lj lk ll nt ln lo lp im bi translated">Python 3.9最酷、最有用的特性之一是添加到内置<code class="fe nb nc nd ne b">dict</code>类中的merge(|)和update(|=)操作符。</p><p id="9f75" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现有的(3.8)合并两个字典的方法有许多缺点:</p><p id="1537" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> Python 3.8 </strong></p><ul class=""><li id="fe02" class="ml mm it kw b kx ky la lb ld oh lh oi ll oj lp ms mt mu mv bi translated">Dict拆包看起来很丑，不容易被发现。</li></ul><pre class="kj kk kl km gt nu ne nv nw aw nx bi"><span id="cada" class="ls lt it ne b gy ny nz l oa ob">python = {2000: "2.0.1", 2008: "2.6.9", 2010: "2.7.18"}<br/>python3 = {2008: "3.0.1", 2009: "3.1.5", 2016: "3.6.12", 2020: "3.9.0"}</span><span id="c9f9" class="ls lt it ne b gy oc nz l oa ob">##merging two dictionaries<br/>{**python, **python3}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/4a3109b8c866383ad4ca0f681d4ef113.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*X24FzpcUmnLQoOg3KQ3GZQ.png"/></div></figure><ul class=""><li id="c1c9" class="ml mm it kw b kx ky la lb ld oh lh oi ll oj lp ms mt mu mv bi translated">另一种方法是dict.update，它就地修改原始字典:</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/bf0aef8231ea90be115cb582d93b0b4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*1Z0oYXG_gDrx1sgFBKkcXw.png"/></div></figure><p id="20a5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> Python 3.9 </strong></p><p id="f1cb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae nf" href="https://www.python.org/dev/peps/pep-0584" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> PEP 584 </strong> </a>为字典引入了两个新的操作符:</p><ul class=""><li id="be99" class="ml mm it kw b kx ky la lb ld oh lh oi ll oj lp ms mt mu mv bi translated"><strong class="kw iu"> (|) union — </strong>合并两个字典。它保留了原始词典。</li><li id="9052" class="ml mm it kw b kx mw la mx ld my lh mz ll na lp ms mt mu mv bi translated"><strong class="kw iu"> (|=)更新— </strong>这是用于字典的就地合并。</li></ul><pre class="kj kk kl km gt nu ne nv nw aw nx bi"><span id="34b4" class="ls lt it ne b gy ny nz l oa ob">python = {2000: "2.0.1", 2008: "2.6.9", 2010: "2.7.18"}</span><span id="3659" class="ls lt it ne b gy oc nz l oa ob">python3 = {2008: "3.0.1", 2009: "3.1.5", 2016: "3.6.12", 2020: "3.9.0"}</span><span id="1dd8" class="ls lt it ne b gy oc nz l oa ob">##merging two dictionaries<br/>python | python3</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/f2957eaa0744253915e5d22cfae08365.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*4nApMB6O9ssrB3yjU_ixaA.png"/></div></figure><p id="9f94" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">保留下来的原始格言:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/c38c2cbdeea158367cbfbd39e1bd77cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/format:webp/1*AJ3alTrykpL9LsZEYD189g.png"/></div></div></figure><pre class="kj kk kl km gt nu ne nv nw aw nx bi"><span id="512f" class="ls lt it ne b gy ny nz l oa ob">python |= python3<br/>python</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/95b0d0aad1cf312f96b1a691654f3073.png" data-original-src="https://miro.medium.com/v2/resize:fit:856/format:webp/1*HrtFzwjLy45d3RANEMPu1A.png"/></div></figure><p id="d889" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">更新操作符合并字典并更新操作符左边的字典，同时<strong class="kw iu">保留两个字典中重叠键的最后值</strong>。</p><h1 id="0e34" class="ng lt it bd lu nh ni nj lx nk nl nm ma jz nn ka md kc no kd mg kf np kg mj nq bi translated">使用时区ZoneInfo</h1><p id="9324" class="pw-post-body-paragraph ku kv it kw b kx mn ju kz la mo jx lc ld nr lf lg lh ns lj lk ll nt ln lo lp im bi translated">日期和时间在大多数应用程序中扮演着重要的角色。Python通过标准库中的<code class="fe nb nc nd ne b">datetime</code>模块提供了全面的支持，但在将时区集成到这些时间戳方面一直存在差距。</p><p id="651e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">到目前为止，我们已经有了像dateutil这样的第三方库来实现这样的时区特定规则，但是现在Python 3.9让Paul Ganssle加入核心团队来添加一个新的<code class="fe nb nc nd ne b"><strong class="kw iu">zoneinfo</strong></code>模块，该模块提供了整个互联网数字地址分配机构(IANA)时区数据库以供访问和使用。</p><p id="4264" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> Python 3.8 </strong></p><p id="b993" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">到目前为止，我们一直使用<code class="fe nb nc nd ne b">tzinfo</code>参数访问时区感知时间戳，如下所示:</p><pre class="kj kk kl km gt nu ne nv nw aw nx bi"><span id="db46" class="ls lt it ne b gy ny nz l oa ob">from datetime import datetime, timezone</span><span id="efa0" class="ls lt it ne b gy oc nz l oa ob">datetime.now(tz=timezone.utc)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/8a8551da5f0a05079198075befff003f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*Kp4x3q2H7V6wQhSOppDAMA.png"/></div></figure><p id="d31d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> Python 3.9 </strong></p><p id="1bf3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是随着zoneinfo的加入，我们现在可以访问<a class="ae nf" href="https://www.iana.org/time-zones" rel="noopener ugc nofollow" target="_blank"> IANA时区数据库</a>。</p><pre class="kj kk kl km gt nu ne nv nw aw nx bi"><span id="343c" class="ls lt it ne b gy ny nz l oa ob">from zoneinfo import ZoneInfo</span><span id="845a" class="ls lt it ne b gy oc nz l oa ob">ZoneInfo("Asia/Kolkata")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi op"><img src="../Images/2b93d7942295dbfe45ea92351c741437.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*mE3x663tR-J0b7ZNysQE3A.png"/></div></figure><p id="219d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以根据时区进行一系列操作，相互转换变得非常容易:</p><pre class="kj kk kl km gt nu ne nv nw aw nx bi"><span id="d41a" class="ls lt it ne b gy ny nz l oa ob">from datetime import datetime<br/>from zoneinfo import ZoneInfo</span><span id="e16a" class="ls lt it ne b gy oc nz l oa ob">post_date = datetime(2020, 10, 10, 18, 10, tzinfo=ZoneInfo("America/Vancouver"))</span><span id="e2af" class="ls lt it ne b gy oc nz l oa ob">post_date.astimezone(ZoneInfo("Asia/Kolkata"))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/07f2d7435b37c7ae5dcbe1b4d0d5f9e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aQHVpnBjVWOvrzojoj3Vfg.png"/></div></div></figure><h1 id="29f8" class="ng lt it bd lu nh ni nj lx nk nl nm ma jz nn ka md kc no kd mg kf np kg mj nq bi translated"><strong class="ak">去除前缀和后缀的字符串方法</strong></h1><p id="20f4" class="pw-post-body-paragraph ku kv it kw b kx mn ju kz la mo jx lc ld nr lf lg lh ns lj lk ll nt ln lo lp im bi translated"><a class="ae nf" href="https://www.python.org/dev/peps/pep-0616" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> PEP 616 </strong> </a>引入了从字符串中去除前缀和后缀的新方法。新方法包括:</p><ul class=""><li id="2ffa" class="ml mm it kw b kx ky la lb ld oh lh oi ll oj lp ms mt mu mv bi translated"><strong class="kw iu"> removeprefix() </strong></li><li id="43c1" class="ml mm it kw b kx mw la mx ld my lh mz ll na lp ms mt mu mv bi translated"><strong class="kw iu"> removesuffix() </strong></li></ul><p id="f1ad" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">围绕<code class="fe nb nc nd ne b">lstrip()</code>和<code class="fe nb nc nd ne b">rstrip()</code>方法，所有主要论坛(如StackOverflow)都有许多重复出现的问题。</p><p id="e2ae" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> Python 3.8 </strong></p><p id="8808" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们已经使用strip()方法从字符串的两端剥离了字符，如下所示:</p><pre class="kj kk kl km gt nu ne nv nw aw nx bi"><span id="1e09" class="ls lt it ne b gy ny nz l oa ob">"Python 3.9 is out".strip(" Python")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/37a8f7c7a1e48f50cc7ce149115b1db5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*f3pATyqfEseQTeG0MpC9Sw.png"/></div></figure><p id="a3f1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这已经删除了出现在字符串末尾的子字符串。如果你仔细看，这已经删除了“python”中的单个字符，即“，“p”，“y”，“t”，“h”，“o”和“n”。</p><p id="9309" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> Python 3.9 </strong></p><p id="81c6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了去掉字符串的前缀，我们现在有了<code class="fe nb nc nd ne b">removeprefix()</code></p><pre class="kj kk kl km gt nu ne nv nw aw nx bi"><span id="9b38" class="ls lt it ne b gy ny nz l oa ob">"Python 3.9 is out".removeprefix("Python ")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/2dce3f964dd2fbd85c704f6e5d9fd61a.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*xe2jPYJlAuIw2jgc4Nw8Kg.png"/></div></div></figure><p id="137d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您也可以使用<code class="fe nb nc nd ne b">removesuffix()</code>方法通过许多其他排列和组合来检验这一点。</p><h1 id="83d8" class="ng lt it bd lu nh ni nj lx nk nl nm ma jz nn ka md kc no kd mg kf np kg mj nq bi translated">其他发布亮点</h1><p id="4fcd" class="pw-post-body-paragraph ku kv it kw b kx mn ju kz la mo jx lc ld nr lf lg lh ns lj lk ll nt ln lo lp im bi translated">除此之外，还引入了许多其他功能。以下是PEP IDs列表:</p><ul class=""><li id="cee6" class="ml mm it kw b kx ky la lb ld oh lh oi ll oj lp ms mt mu mv bi translated"><a class="ae nf" href="https://www.python.org/dev/peps/pep-0617" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> PEP 617 </strong> </a> <strong class="kw iu">，CPython现在使用了一个基于PEG的新解析器——</strong>Python现在有了一个新的解析器，与旧的LL(1)解析器并列。您可以使用以下命令选择使用任何解析器来运行您的程序:</li></ul><pre class="kj kk kl km gt nu ne nv nw aw nx bi"><span id="af12" class="ls lt it ne b gy ny nz l oa ob">python -X oldparser script_name.py</span></pre><p id="3918" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">根据Guido(Python的创造者)的研究，PEG解析器更加健壮和强大。PEG解析器的目标是产生与旧的LL(1)解析器相同的<strong class="kw iu">抽象语法树(AST) </strong>。</p><ul class=""><li id="9ed7" class="ml mm it kw b kx ky la lb ld oh lh oi ll oj lp ms mt mu mv bi translated"><strong class="kw iu">多阶段初始化</strong>现在可以在多个python模块中使用(<code class="fe nb nc nd ne b"><a class="ae nf" href="https://docs.python.org/3/library/audioop.html#module-audioop" rel="noopener ugc nofollow" target="_blank">audioop</a></code>、<code class="fe nb nc nd ne b">_bz2</code>、<code class="fe nb nc nd ne b">_codecs</code>、<code class="fe nb nc nd ne b">_contextvars</code>、<code class="fe nb nc nd ne b">_crypt</code>、<code class="fe nb nc nd ne b">_functools</code>、<code class="fe nb nc nd ne b">_json</code>、<code class="fe nb nc nd ne b">_locale</code>、<code class="fe nb nc nd ne b"><a class="ae nf" href="https://docs.python.org/3/library/math.html#module-math" rel="noopener ugc nofollow" target="_blank">math</a></code>、<code class="fe nb nc nd ne b"><a class="ae nf" href="https://docs.python.org/3/library/operator.html#module-operator" rel="noopener ugc nofollow" target="_blank">operator</a></code>、<code class="fe nb nc nd ne b"><a class="ae nf" href="https://docs.python.org/3/library/resource.html#module-resource" rel="noopener ugc nofollow" target="_blank">resource</a></code>、<code class="fe nb nc nd ne b"><a class="ae nf" href="https://docs.python.org/3/library/time.html#module-time" rel="noopener ugc nofollow" target="_blank">time</a></code>、<code class="fe nb nc nd ne b">_weakref</code>)</li></ul><p id="364f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是一个使用数学库计算两个以上数字的GCD/LCM的示例:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/ee64ee6fc9511427a4708358d90d4811.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*nSsRTB3YNAPQLx7wkfPcWg.png"/></div></figure><ul class=""><li id="9a78" class="ml mm it kw b kx ky la lb ld oh lh oi ll oj lp ms mt mu mv bi translated">CPython现在采用新的年度发布周期——他们将与他们的发布更加一致，并将在每年10月推出新版本。</li><li id="0a5f" class="ml mm it kw b kx mw la mx ld my lh mz ll na lp ms mt mu mv bi translated"><a class="ae nf" href="https://www.python.org/dev/peps/pep-0614" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> PEP 614 </strong> </a>，放宽了对装饰者的语法限制——一种更灵活的语法现在可供从事PyQT等GUI框架工作的人使用。这免除了由点号组成的装饰者的限制。更多详情可以在这里阅读<a class="ae nf" href="https://www.python.org/dev/peps/pep-0614/" rel="noopener ugc nofollow" target="_blank">。</a></li></ul><p id="f6bd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要了解更多关于这些特性的细节，请阅读官方文档。</p><h1 id="fd7c" class="ng lt it bd lu nh ni nj lx nk nl nm ma jz nn ka md kc no kd mg kf np kg mj nq bi translated">结论</h1><p id="5f11" class="pw-post-body-paragraph ku kv it kw b kx mn ju kz la mo jx lc ld nr lf lg lh ns lj lk ll nt ln lo lp im bi translated">3.9.0标志着Python开发之旅和社区的一个重要里程碑。正如我们所说的，新的增强功能正在增加，3.10也将有一些有前途的特性。现在，您应该尝试一下<strong class="kw iu"> Python 3.9中引入的这些即将被广泛使用的特性。</strong></p><p id="32e1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">尝试使用Python 3.9运行您现有的程序，看看升级对您来说是否会很麻烦。</p><p id="7439" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你应该尝试的另一件事是新的解析器，它声称是有前途的，但是我们只有在几个用例的大量测试之后才能弄清楚。</p><h1 id="d45b" class="ng lt it bd lu nh ni nj lx nk nl nm ma jz nn ka md kc no kd mg kf np kg mj nq bi translated"><a class="ae nf" href="https://www.youtube.com/c/DataSciencewithHarshit?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank">数据科学与Harshit </a></h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou lr l"/></div></figure><p id="40ba" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通过这个渠道，我计划推出几个覆盖整个数据科学领域的<a class="ae nf" rel="noopener" target="_blank" href="/hitchhikers-guide-to-learning-data-science-2cc3d963b1a2?source=---------8------------------">系列</a>。以下是你应该订阅<a class="ae nf" href="https://www.youtube.com/channel/UCH-xwLTKQaABNs2QmGxK2bQ" rel="noopener ugc nofollow" target="_blank">频道</a>的原因:</p><ul class=""><li id="a4e4" class="ml mm it kw b kx ky la lb ld oh lh oi ll oj lp ms mt mu mv bi translated">这些系列将涵盖每个主题和子主题的所有必需/要求的高质量教程，如<a class="ae nf" rel="noopener" target="_blank" href="/python-fundamentals-for-data-science-6c7f9901e1c8?source=---------5------------------"> Python数据科学基础</a>。</li><li id="c436" class="ml mm it kw b kx mw la mx ld my lh mz ll na lp ms mt mu mv bi translated">解释了为什么我们在ML和深度学习中这样做的数学和推导。</li><li id="4f7e" class="ml mm it kw b kx mw la mx ld my lh mz ll na lp ms mt mu mv bi translated"><a class="ae nf" href="https://www.youtube.com/watch?v=a2pkZCleJwM&amp;t=2s" rel="noopener ugc nofollow" target="_blank">与谷歌、微软、亚马逊等公司的数据科学家和工程师以及大数据驱动型公司的首席执行官的播客</a>。</li><li id="c29d" class="ml mm it kw b kx mw la mx ld my lh mz ll na lp ms mt mu mv bi translated"><a class="ae nf" rel="noopener" target="_blank" href="/building-covid-19-analysis-dashboard-using-python-and-voila-ee091f65dcbb?source=---------2------------------">项目和说明</a>实施到目前为止所学的主题。了解新的认证、训练营以及破解这些认证的资源，例如Google举办的<a class="ae nf" href="https://youtu.be/yapSsspJzAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> TensorFlow开发者证书考试。</strong> </a></li></ul><p id="8708" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请随时在Twitter或LinkedIn(T21)上与我联系。</p></div></div>    
</body>
</html>