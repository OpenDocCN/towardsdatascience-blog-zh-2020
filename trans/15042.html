<html>
<head>
<title>A/B testing statistics: true and estimated value of conversion rate</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">A/B测试统计:转化率的真实值和估计值</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-b-testing-statistics-true-and-estimated-value-of-conversion-rate-b7a77db6f60e?source=collection_archive---------14-----------------------#2020-10-16">https://towardsdatascience.com/a-b-testing-statistics-true-and-estimated-value-of-conversion-rate-b7a77db6f60e?source=collection_archive---------14-----------------------#2020-10-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7610" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何确保你的分割测试结果在统计上是显著的(简单的说)</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d5aec57f8cf831338e3c69ffed5a3ed9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9AlU8TUnJXjoblmdZ1BVTA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">相信分割测试还是检查其统计显著性？(感谢❤巴鲁·金的插图)</p></figure><p id="db87" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">轶事:<br/>——我如何检查我的测试的统计显著性？<br/>——我可以告诉你。我也能看出来。我如何检查？</em></p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="1d44" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">A/B测试是最受欢迎的用户体验研究方法之一，用于评估网站或移动应用的UX或UI更改的有效性。假设你改变了一些东西，开始了测试——似乎修改后的版本赢了。但是我们能确定吗？我们有百分之几的把握？</p><p id="58cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了回答这个问题，让我们把这种方法A/B测试不作为一种测量用户参与度和变化满意度的方法，而是作为一种统计实验。那么，你需要知道什么才能确定我们可以接受所获得的结果呢？</p><h1 id="09e6" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated"><strong class="ak"> A/B测试结果不显示转化率</strong></h1><p id="0157" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">我的意思是它没有显示CR的实际值，而是估计值。无论你在实验中有多少用户，样本量仍然小于用户总数。因此，当您确定测试所需的样本量时，下一个逻辑问题是“我们需要多少用户来确保测试结果(估计的CR值)真正描述了事物的实际状态(真实的CR值)？</p><p id="ba52" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">换句话说，<strong class="ky ir">估计CR (T) </strong>与<strong class="ky ir">真实值(Q) </strong>有多接近。为了回答这个问题，我们需要置信区间。</p><h1 id="e024" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated"><strong class="ak">什么是置信区间？</strong></h1><p id="51ea" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">因此，我们运行了A/B测试，现在有了一些估计的转化率(让我们用T来表示)。但实际上实际转化率可能略少，也可能略多，我们不知道一个确切的数值，但可以从[a；b]包含它。这被称为置信区间。</p><p id="db67" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">样本越大，区间越小。这就是为什么在开始测试之前，确定每个实验组的最小用户数量是如此重要。</p><p id="45ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">置信区间是以一定的置信度计算的。例如，<strong class="ky ir">如果置信度为95% </strong>(通常如此)，<strong class="ky ir">是什么意思？</strong></p><p id="bcb0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是:如果我们对100个不同的样本进行100次测试，得到100个估计的CR，并计算每个CR的置信区间，那么100个区间中有95个包含真实的CR值。</p><p id="a346" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重要的是要理解置信水平是置信区间计算过程的特征，而不是区间本身。我们可以选择哪个置信度足以让我们相信测试结果。</p><blockquote class="mx"><p id="cc29" class="my mz iq bd na nb nc nd ne nf ng lr dk translated">因此，置信区间是CR估计的一种方式，它不仅产生单个值，而且产生包含实际CR值的值区间。置信水平显示了它被控制在那里的可能性。</p></blockquote><h1 id="7089" class="ma mb iq bd mc md me mf mg mh mi mj mk jw nh jx mm jz ni ka mo kc nj kd mq mr bi translated"><strong class="ak">那95%从何而来？</strong></h1><p id="bb45" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">我希望我已经成功地传达了信心水平概念的含义，所以现在我们来看看为什么通常是95%，而不是75%或80%？</p><p id="3f3f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">而且这里我还要介绍两个来自数理统计的术语(今天最后一个，我保证！)—显著性水平和统计功效。</p><p id="20b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但首先，让我们看看下面的图片。这是一个统计测试矩阵(a/b测试是一个统计测试)，它显示了4个场景:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/63c06dc1a17aa56b0d4931a5cba5d0b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sjvWkX2zEsnlhK8jDOf-Uw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><em class="kv">统计检验矩阵:4例</em></p></figure><p id="3f6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们仔细看看。</p><p id="6bb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">比方说，我们在网站上有一个红色的按钮，我们决定把它重新漆成蓝色。我们希望蓝色按钮会被更频繁地点击，所以我们运行a/b测试来检查这个假设。我们能得到什么结果？</p><ul class=""><li id="b6f8" class="nl nm iq ky b kz la lc ld lf nn lj no ln np lr nq nr ns nt bi translated"><strong class="ky ir">正误:</strong>测试显示两个按钮有相同的CR，这是真的——对我们的用户来说没有区别。</li><li id="ac82" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated"><strong class="ky ir">假阴性:</strong>测试显示两个按钮具有相同的CR，但事实并非如此:事实上，用户更频繁地点击蓝色(或红色，无所谓)按钮。测试是错误的。</li><li id="1b21" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated"><strong class="ky ir"> true-positive: </strong>测试显示一个按钮比另一个好，确实如此。</li><li id="230f" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated"><strong class="ky ir">误报:</strong>测试显示用户喜欢一个，讨厌另一个按钮，但实际上两个按钮的CR是一样的。误导性的发现，测试是错误的。</li></ul><p id="8c13" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，在两种情况下，结果是真实的，而在另外两种情况下，测试扭曲了真实的情况。</p><h1 id="c8ee" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated"><strong class="ak">置信度</strong></h1><p id="24c4" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">得到假阳性结果的概率通常被称为I型错误，通常用α表示。如果α=5%，这意味着100次中有5次我们记录到差异，而变量是相同的。</p><p id="11da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这种误导性的发现对我们意味着什么？很明显，我们很高兴，我们相信测试，我们花费时间和金钱来推出更改并将其介绍给所有用户，并且——没有影响，CR是相同的，这是唯一可以预期的，因为从一开始就没有什么不同。无论你是在5%的情况下还是在1%的情况下做好了准备——这取决于你:)通常，人们同意α=5%，因此置信度(计算为1-α)为95%。</p><blockquote class="mx"><p id="532d" class="my mz iq bd na nb nc nd ne nf ng lr dk translated">因此，置信水平(1-α)是不出现I类错误的概率(α)。如果测试显示变量A和变量B <strong class="ak">没有差异</strong>，则为结果的置信百分比。</p></blockquote><h2 id="9e59" class="nz mb iq bd mc oa ob dn mg oc od dp mk lf oe of mm lj og oh mo ln oi oj mq ok bi translated"><strong class="ak">如果我想要99%而不是95%呢？</strong></h2><p id="1dc7" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">请随意。但是你需要更多的人参与实验，或者在冠军和亚军的转化率之间有更大的差异。这会影响实验的时间，所以从你对结果有这么高的信心有多重要开始。</p><h1 id="f998" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated"><strong class="ak">统计功效</strong></h1><p id="393b" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">然而，另一个错误的场景是可能的——当变体A和B在其转换率上有真正的差异，但是测试没有检测到它。这被称为假阴性结果或II型错误(用β表示)。</p><p id="c130" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们这是在冒险吗？错过了一个好主意，却没有实施。这是很痛苦的，但比第一类错误要稍微少一些，所以这里我们可以设置错误概率β=20%或更少。那么以1-β计算的统计功效为80%或更高。</p><blockquote class="mx"><p id="71c2" class="my mz iq bd na nb nc nd ne nf ng lr dk translated">统计功效是未出现II型错误的概率(β)，即如果测试显示变量A和b之间的<strong class="ak">存在差异</strong>，则结果的置信百分比</p></blockquote><h1 id="f9cf" class="ma mb iq bd mc md me mf mg mh mi mj mk jw nh jx mm jz ni ka mo kc nj kd mq mr bi translated"><strong class="ak">回到置信区间</strong></h1><p id="d20e" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">好了，现在我们准备计算置信区间，下面是如何做:</p><p id="6070" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.收集数据:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/75f4b7fe2f0e0faa71cb5096ba98ac6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BUADw79yuSsWUKifj0vVgA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">实验结果:样本量和转化率</p></figure><p id="7dcf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.计算变量B和A转换率之间的差异(如果变量A是赢家，则该差异可以是负数):</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/6548e92c583888e8044574fdbed4a1ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eqyl1J_dWIraDZb8uTOLyA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">CR差异</p></figure><p id="2411" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.计算差值的置信区间:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/45a0222498fa84225f61e1d1ea74dfe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UvSVyuZEtZqP3DXYnuI1sQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">CR差异的置信区间。如果它不包含零，那就没问题。如果包含-您需要更多的流量或更大的差异之间的转换率您的变种。</p></figure><h1 id="b39f" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated"><strong class="ak">可以得出什么结论？</strong></h1><ul class=""><li id="4bdc" class="nl nm iq ky b kz ms lc mt lf oo lj op ln oq lr nq nr ns nt bi translated">作为A/B测试的结果，我们得到的不是真实值，而是每个变量的CR估计值</li><li id="85f0" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated">知道了估计的CR值，我们就可以计算包含真实CR值的置信区间</li><li id="bfca" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated">在计算选项A和B之间的转化率差异的置信区间后，我们可以得出是否存在真正差异的结论</li><li id="82c6" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated">我们不能100%肯定这个结论，因为有两种类型的错误:第一类(误导性发现)和第二类(未能发现CR的真正差异)</li><li id="7111" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated">然而，虽然没有100%的置信度，但如果我们在选择置信度时决定这样做，它可以是95%甚至99%(通常仍然是95%，但可以更大，例如对于A/B/C测试)</li><li id="8a8b" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated">如果你想要更多的信心，你需要更多的流量或更大的冠军和亚军之间的转换率差异</li></ul><h1 id="1a52" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated"><strong class="ak">在关闭时</strong></h1><ol class=""><li id="74fc" class="nl nm iq ky b kz ms lc mt lf oo lj op ln oq lr or nr ns nt bi translated">只有当我们认为我们的样本分布是正态分布(可以是高斯分布、伯努利分布、皮尔逊分布等)时，上述所有方法才有效。)，这意味着我们有均匀分布的概率，即有一个主质量(通过一些参数)，在两个方向上都有微小的偏差。</li><li id="a2ad" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr or nr ns nt bi translated">如果您运行多变量测试或A/B/n测试(比较n个不同的变量)，您应该使用校正值(例如<a class="ae os" href="https://en.wikipedia.org/wiki/Bonferroni_correction" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> Bonferroni校正值</strong> </a>)将置信水平保持在95%。然而，它可能要求您运行测试一段不合理的长时间。</li><li id="0d26" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr or nr ns nt bi translated">A/B测试可能显示错误的结果，这不仅是因为统计错误，也是因为技术错误。因此，在运行A/B测试之前，不要忘记通过运行A/A测试来检查测试设置:让两个流量组A和B被分配到相同的体验。如果你在工具的设置上犯了一个错误，你会看到转换率的不同(实际上不可能)。</li></ol></div></div>    
</body>
</html>