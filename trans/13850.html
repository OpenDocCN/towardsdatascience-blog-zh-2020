<html>
<head>
<title>Creating custom image datasets for Deep Learning projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为深度学习项目创建自定义图像数据集</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-custom-image-datasets-for-deep-learning-projects-6e5db76158d4?source=collection_archive---------23-----------------------#2020-09-23">https://towardsdatascience.com/creating-custom-image-datasets-for-deep-learning-projects-6e5db76158d4?source=collection_archive---------23-----------------------#2020-09-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b396" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">下载图像数据集的一些有用的浏览器扩展</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a890c27344cb2cc53fabdd344b741aea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zKUqaSaXePQX60M80p3v4A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5f39" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个周末，我为我学龄前的孩子制作了一个简单的水果分类器。这是一个简单的图像分类应用程序，可以预测图像中的水果。我把它作为一个游戏呈现给我的儿子，看谁先预测到这个名字——计算机还是人类:)。这是一个应用程序的预览。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lu lv l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">水果分类器应用程序(作者视频)</p></figure><p id="3d15" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于这个应用程序，我需要下载许多水果的图像来训练图像分类器。在这个过程中，我发现了一些浏览器扩展，这使得批量下载图像变得非常容易，我已经编译并在本文中展示了它们。</p><p id="1827" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，在开始使用扩展之前，有两件重要的事情需要记住:</p><blockquote class="lw lx ly"><p id="d34a" class="ky kz lz la b lb lc ju ld le lf jx lg ma li lj lk mb lm ln lo mc lq lr ls lt im bi translated"><strong class="la iu">版权问题</strong></p><p id="9b9c" class="ky kz lz la b lb lc ju ld le lf jx lg ma li lj lk mb lm ln lo mc lq lr ls lt im bi translated">不要下载任何违反版权条款的图片。有时，没有所有者的许可，你不能复制版权图像。本文中下载的图片仅用于教育目的。</p><p id="165a" class="ky kz lz la b lb lc ju ld le lf jx lg ma li lj lk mb lm ln lo mc lq lr ls lt im bi translated"><strong class="la iu">下载设置</strong></p><p id="b307" class="ky kz lz la b lb lc ju ld le lf jx lg ma li lj lk mb lm ln lo mc lq lr ls lt im bi translated">确保您的下载设置中没有选择“<strong class="la iu">在下载前询问每个文件的保存位置</strong>”，否则，下载器会询问您是否允许下载每个文件。不可取。下面的片段演示了访问该选项的过程。</p></blockquote><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="md lv l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">下载设置(按作者分类的视频)</p></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="5ac9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi ml translated">这篇文章是寻找好数据集的完整系列文章的一部分。以下是该系列中包含的所有文章:</p><p id="8cf4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">第1部分</strong> : <a class="ae mu" rel="noopener" target="_blank" href="/getting-datasets-for-data-analysis-tasks-advanced-google-search-b1c01f9cc324">为数据分析任务获取数据集——高级谷歌搜索</a></p><p id="2a7f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">第2部分</strong> : <a class="ae mu" rel="noopener" target="_blank" href="/useful-sites-for-finding-datasets-for-data-analysis-tasks-1edb8f26c34d">为数据分析任务寻找数据集的有用站点</a></p><p id="74da" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">第三部分</strong> : <a class="ae mu" rel="noopener" target="_blank" href="/creating-custom-image-datasets-for-deep-learning-projects-6e5db76158d4">为深度学习项目创建定制图像数据集</a></p><p id="5fdb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">第四部分</strong> : <a class="ae mu" rel="noopener" target="_blank" href="/import-html-tables-into-google-sheets-effortlessly-f471eae58ac9">毫不费力地将HTML表格导入谷歌表单</a></p><p id="b44d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">第5部分</strong> : <a class="ae mu" rel="noopener" target="_blank" href="/extracting-tabular-data-from-pdfs-made-easy-with-camelot-80c13967cc88">使用Camelot，从pdf中提取表格数据变得很容易。</a></p><p id="7bd6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">第六部分</strong> : <a class="ae mu" rel="noopener" target="_blank" href="/extracting-information-from-xml-files-into-a-pandas-dataframe-11f32883ce45">从XML文件中提取信息到熊猫数据框架</a></p><p id="005f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">第7部分</strong> : <a class="ae mu" rel="noopener" target="_blank" href="/5-real-world-datasets-for-exploratory-data-analysis-21b7cc5afe7e">磨练您探索性数据分析技能的5个真实世界数据集</a></p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="a80d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在让我们来看看一些方便下载图像的有用工具:</p><h1 id="8ebe" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">1.Fatkun批量下载图像</h1><p id="fb05" class="pw-post-body-paragraph ky kz it la b lb nn ju ld le no jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">Fatkun批量下载图像是一个强大和方便的浏览器扩展，从网上下载图像。它的一些功能包括:</p><ul class=""><li id="ed8a" class="ns nt it la b lb lc le lf lh nu ll nv lp nw lt nx ny nz oa bi translated">可以根据分辨率或链接过滤图像</li><li id="ca7b" class="ns nt it la b lb ob le oc lh od ll oe lp of lt nx ny nz oa bi translated">创建自定义规则来下载所需的图像，以及</li><li id="06ff" class="ns nt it la b lb ob le oc lh od ll oe lp of lt nx ny nz oa bi translated">能够批量重命名和批量下载图像</li></ul><p id="ef7a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae mu" href="https://chrome.google.com/webstore/detail/fatkun-batch-download-ima/nnjjahlikiabnchcpehcpkdeckfgnohf/related?hl=en" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">🔗链接下载</strong>扩展</a></p><h2 id="44ea" class="og mw it bd mx oh oi dn nb oj ok dp nf lh ol om nh ll on oo nj lp op oq nl or bi translated">使用</h2><p id="e685" class="pw-post-body-paragraph ky kz it la b lb nn ju ld le no jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">现在让我们下载苹果水果的图像，因为我们想要创建一个水果分类检测器。因为展示比写过程更容易，所以我包含了一个简短的视频来一步一步地展示下载过程。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="md lv l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Fatkun批量下载图像演示(视频由作者提供)</p></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="1088" class="mv mw it bd mx my os na nb nc ot ne nf jz ou ka nh kc ov kd nj kf ow kg nl nm bi translated">2.Imageye —图像下载器</h1><p id="fec8" class="pw-post-body-paragraph ky kz it la b lb nn ju ld le no jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">Imageye是另一个浏览器扩展，允许你下载网页上的所有图片。Imageye还为您提供了以下功能:</p><ul class=""><li id="7537" class="ns nt it la b lb lc le lf lh nu ll nv lp nw lt nx ny nz oa bi translated">基于像素宽度和高度过滤图像。您也可以根据图像的URL过滤图像。</li><li id="18ac" class="ns nt it la b lb ob le oc lh od ll oe lp of lt nx ny nz oa bi translated">像Fatkun一样，你可以一次批量下载所有图片，或者手动选择你想要下载的图片。</li></ul></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h2 id="a1b2" class="og mw it bd mx oh oi dn nb oj ok dp nf lh ol om nh ll on oo nj lp op oq nl or bi translated">🔗<a class="ae mu" href="https://chrome.google.com/webstore/detail/imageye-image-downloader/agionbommeaifngbhincahgmoflcikhm?hl=en" rel="noopener ugc nofollow" target="_blank">下载扩展的链接</a></h2><h2 id="b2ab" class="og mw it bd mx oh oi dn nb oj ok dp nf lh ol om nh ll on oo nj lp op oq nl or bi translated">使用</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="md lv l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Imageye —图像下载程序演示(视频由作者提供)</p></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="8d41" class="mv mw it bd mx my os na nb nc ot ne nf jz ou ka nh kc ov kd nj kf ow kg nl nm bi translated">3.下载所有图像</h1><p id="f803" class="pw-post-body-paragraph ky kz it la b lb nn ju ld le no jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">这个Chrome扩展从一个网页上下载所有的图片，并把它们打包成一个zip文件。它不能根据图片的大小来过滤图片，但对于从Unsplash等网站批量下载图片来说却是极好的，因为Unsplash只提供图片。它分析当前浏览器页面以识别图像，然后将它们下载到一个zip文件中。单击右上角的扩展图标开始下载图像。它会给你一个估计需要多长时间才能完成。</p><p id="d148" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae mu" href="https://chrome.google.com/webstore/detail/fatkun-batch-download-ima/nnjjahlikiabnchcpehcpkdeckfgnohf/related?hl=en" rel="noopener ugc nofollow" target="_blank">T11】🔗 </a> <strong class="la iu"> </strong> <a class="ae mu" href="https://chrome.google.com/webstore/detail/download-all-images/ifipmflagepipjokmbdecpmjbibjnakm/related?hl=enUsage" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">链接下载扩展</strong> </a></p><h2 id="fd65" class="og mw it bd mx oh oi dn nb oj ok dp nf lh ol om nh ll on oo nj lp op oq nl or bi translated">使用</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="md lv l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">下载所有图像扩展演示(视频由作者提供)</p></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="16b4" class="mv mw it bd mx my os na nb nc ot ne nf jz ou ka nh kc ov kd nj kf ow kg nl nm bi translated">4.ImageAssistant批量图像下载程序</h1><p id="731f" class="pw-post-body-paragraph ky kz it la b lb nn ju ld le no jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated"><a class="ae mu" href="http://www.pullywood.com/ImageAssistant/" rel="noopener ugc nofollow" target="_blank"> ImageAssistant批量图像下载</a> r是一个图像提取器，用于从网页中嗅探、分析和批量下载图像。它非常灵活，并提供了许多定制图像下载的方法。例如，您可以提取网页上的图片或预取图像链接，甚至批量提取图像的URL。此外，图像过滤器还提供了通过图像扩展类型或分辨率大小过滤图像类型显示的选项。</p><h2 id="3d62" class="og mw it bd mx oh oi dn nb oj ok dp nf lh ol om nh ll on oo nj lp op oq nl or bi translated"><a class="ae mu" href="https://chrome.google.com/webstore/detail/fatkun-batch-download-ima/nnjjahlikiabnchcpehcpkdeckfgnohf/related?hl=en" rel="noopener ugc nofollow" target="_blank">T3】🔗 </a> <strong class="ak"> </strong> <a class="ae mu" href="https://chrome.google.com/webstore/detail/imageassistant-batch-imag/dbjbempljhcmhlfpfacalomonjpalpko?hl=en" rel="noopener ugc nofollow" target="_blank">链接下载扩展</a></h2><h2 id="5ecd" class="og mw it bd mx oh oi dn nb oj ok dp nf lh ol om nh ll on oo nj lp op oq nl or bi translated">使用</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="md lv l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ImageAssistant批量图像下载程序演示(视频由作者提供)</p></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="b896" class="mv mw it bd mx my os na nb nc ot ne nf jz ou ka nh kc ov kd nj kf ow kg nl nm bi translated">5.快速方法</h1><p id="51d1" class="pw-post-body-paragraph ky kz it la b lb nn ju ld le no jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">最后一种方法不使用任何浏览器扩展。这个方法是我从Zacchary Mueller的<a class="ae mu" href="https://github.com/muellerzr/Practical-Deep-Learning-for-Coders-2.0" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">Practical-Deep-Learning-for-Coders-2.0</strong></a>资源中获得的，他在Github上分享了这个资源。这个代码已经由<em class="lz">弗朗西斯科·英厄姆和杰瑞米·霍华德的工作给出，而后者又受到</em> <a class="ae mu" href="https://www.pyimagesearch.com/2017/12/04/how-to-create-a-deep-learning-dataset-using-google-images/" rel="noopener ugc nofollow" target="_blank"> <em class="lz">阿德里安·罗斯布鲁克</em> </a>的启发。</p><p id="510c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该方法要求你安装<a class="ae mu" href="https://docs.fast.ai/" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">fastai</strong></a><strong class="la iu">—</strong>一个深度学习库，因为它利用了它的一些固有功能。要理解幕后发生的事情，您需要一些库的知识，尤其是数据块API。解释这超出了本文的范围，但是我将快速浏览下载图像所需的步骤:</p><ul class=""><li id="2d12" class="ns nt it la b lb lc le lf lh nu ll nv lp nw lt nx ny nz oa bi translated">进入<a class="ae mu" href="http://images.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌图片</a>搜索你感兴趣的图片。向下滚动，直到找到您想要下载的图像。假设我们对寻找苹果和芒果的图像感兴趣。</li><li id="35fb" class="ns nt it la b lb ob le oc lh od ll oe lp of lt nx ny nz oa bi translated">在Chrome/Firefox中打开Javascript“控制台”，粘贴以下代码行，然后执行。这将获得所有图像的URL，并将其保存在一个CSV文件中。对每个类别重复该过程。现在你会有两个CSV文件，即apple.csv和mango.csv。</li></ul><pre class="kj kk kl km gt ox oy oz pa aw pb bi"><span id="1044" class="og mw it oy b gy pc pd l pe pf">urls=Array.from(document.querySelectorAll('.rg_i')).map(el=&gt; el.hasAttribute('data-src')?el.getAttribute('data-src'):el.getAttribute('data-iurl')); <br/><br/>window.open('data:text/csv;charset=utf-8,' + escape(urls.join('\n')));</span></pre><ul class=""><li id="5a7c" class="ns nt it la b lb lc le lf lh nu ll nv lp nw lt nx ny nz oa bi translated">接下来，为您要下载的每一类图像创建一个文件夹。</li></ul><pre class="kj kk kl km gt ox oy oz pa aw pb bi"><span id="492e" class="og mw it oy b gy pc pd l pe pf">folders = ['Apple','Mango']<br/>files = ['apple.csv','mango.csv')</span></pre><ul class=""><li id="8e59" class="ns nt it la b lb lc le lf lh nu ll nv lp nw lt nx ny nz oa bi translated">最后，下载图片</li></ul><pre class="kj kk kl km gt ox oy oz pa aw pb bi"><span id="52a0" class="og mw it oy b gy pc pd l pe pf">classes = ['Apple','Mango']<br/>path = Path('fruits')path.mkdir(parents=True, exist_ok=True)</span><span id="8dec" class="og mw it oy b gy pg pd l pe pf">for i, n in enumerate(classes):<br/>   print(n)<br/>   path_f = Path(files[i])<br/>   download_images(path/n, path_f, max_pics=50)</span></pre><ul class=""><li id="6dd4" class="ns nt it la b lb lc le lf lh nu ll nv lp nw lt nx ny nz oa bi translated">验证图像是否正确</li></ul><pre class="kj kk kl km gt ox oy oz pa aw pb bi"><span id="8048" class="og mw it oy b gy pc pd l pe pf">imgs = L()<br/>for n in classes:<br/>   print(n)<br/>   path_n = path/n<br/>   imgs += verify_images(path_n.ls())</span></pre><p id="a48c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">显示图像</p><pre class="kj kk kl km gt ox oy oz pa aw pb bi"><span id="f4ce" class="og mw it oy b gy pc pd l pe pf">fruits = DataBlock(blocks=(ImageBlock, CategoryBlock),<br/>       get_items=get_image_files,<br/>       splitter=RandomSplitter(0.2),<br/>       get_y=parent_label,<br/>       item_tfms=RandomResizedCrop(460),<br/>       batch_tfms=[*aug_transforms(size=224,max_warp=0),Normalize.from_stats(*imagenet_stats)])   <br/>dls = fruits.dataloaders(path,  bs=32)<br/>dls.show_batch(max_n=9)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/05afad42f8a24083697869363b394231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*_v575mQqKJAQahUINw1HFg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">下载的图像(作者提供的图像)</p></figure><p id="9553" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是一段展示整个过程的视频:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="md lv l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">演示(作者提供的视频)</p></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="27e4" class="mv mw it bd mx my os na nb nc ot ne nf jz ou ka nh kc ov kd nj kf ow kg nl nm bi translated">结论</h1><p id="2fc7" class="pw-post-body-paragraph ky kz it la b lb nn ju ld le no jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">在本文中，我们看到了收集图像数据以创建深度学习模型的各种方法。您可以选择浏览器扩展，也可以通过编码来获得相同的结果。无论您选择哪种方法，请注意限制和版权问题。此外，不要忘记使用这些工具为您的下一个项目收集数据。同时，这里是本系列中的一些其他文章，您可能会觉得有用</p></div></div>    
</body>
</html>