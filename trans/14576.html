<html>
<head>
<title>Power BI modelling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">功率BI建模</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/power-bi-modelling-bcd4431f49f9?source=collection_archive---------3-----------------------#2020-10-08">https://towardsdatascience.com/power-bi-modelling-bcd4431f49f9?source=collection_archive---------3-----------------------#2020-10-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6da8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一些提示。但愿我以前认识他们。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/143623cdfa7c99f99072720035415fe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jJ2W2pj53IUVxkUe"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@realaxer?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">田宽</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="deb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你想到模特，你会想到什么？很多复杂的连接，查找，或者仅仅是挫折？</p><p id="e129" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你以前经历过这种情况吗？你有一个度量，但它并没有给你正确的答案。你想知道为什么。您不确定原因，所以您调整了度量。也许是表中的某个东西，也许是数据问题，所以您也可以在Power Query中调整它。然后你会一无所有…</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/7a15a0613c76df011473ccaab5311dc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*iUqcoLEcvNO40G744tDt4g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="c092" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，我经历过。我已经尝试了几种解决问题的方法，但实际上这些方法并没有什么特别之处。</p><p id="07bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">更确切地说，大多数时候解决方案是模型本身。</strong></p><p id="d354" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我能想到为什么建模很重要的三个原因。</p><ol class=""><li id="29e8" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">它简化了你的DAX公式。</li><li id="edb8" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">它让你明白了为什么权力查询很重要。</li><li id="1934" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">它给你谈判的权力</li></ol></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h2 id="7480" class="mr ms it bd mt mu mv dn mw mx my dp mz li na nb nc lm nd ne nf lq ng nh ni nj bi translated">它简化了你的DAX公式</h2><p id="0707" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">…怎么做？这里有一个我以前遇到过的模型。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/5d0449c5dbcb3e8e8beb9546da2b4ddb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pka4omfUrChL3egGoTIE9Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="36a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，城市以多对一的关系连接到县表。然后是县与地区的多对一关系。</p><p id="3a34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该日期以多对一关系联接到月表。在多对一的关系中也是几个月到几年。</p><p id="ed59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我想获得某个特定地区的销售额，我可以写CALCULATE(SUM(FACT[Sales])，FILTER(REGION，REGION[Region] == "North "))。</p><p id="2cdf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，为什么区域表离它那么远？在这里，权力BI必须通过市、县并最终到达地区。</p><p id="e750" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我想按月份和年份获取特定的销售额，我可以编写CALCULATE(SUM(FACT[Sales])，FILTER(YEARS，YEARS[Year]==2000)，FILTER(MONTH，MONTHS[month]==12</p><p id="4cbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这不是完全错误的，你可能会得到结果。(想象一下，放置一个矩阵视图，向下拖动一个简单的SUM(FACT[Sales])度量，其中的行是年、月或地区等)。</p><p id="86af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">问题是功率BI必须经过两个独立的表才能得到测量值。如果是一个小表，这没什么大不了的，但是当你在处理一个大的数据集时，你自己去读和Power BI去过滤这些表以得到你的答案将是非常困难的。</p><p id="e542" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于Power BI类型的报告，最好将维度表放在一起。</p><p id="458d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑维度主题。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/cc7de2549dc7c03be7f96acf062f4e98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DoxoipwIqGI5d9b71L0bGQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="0241" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在使用的是星型模式，</p><p id="e474" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">蓝色=日期主题 —假期等应添加到此表中，而不是其他地方。</p><p id="ceae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">绿色=员工数据主题</strong> —个人信息和其他新字段应该在这里。</p><p id="042a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">橙色=位置主题</strong> —任何新位置都应添加到此处。</p><p id="4ec2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您心中已经有了主题，那么您就可以确定哪些表应该属于彼此。</p><p id="71cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种设置有助于您整理多个表，并帮助您理解模型。将来可能会添加其他维度表，但是现在您已经知道它们应该放在哪里了。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h2 id="2f3f" class="mr ms it bd mt mu mv dn mw mx my dp mz li na nb nc lm nd ne nf lq ng nh ni nj bi translated">一个更简单的模型让你欣赏权力查询</h2><p id="344d" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">现在您已经有了一个模型，是时候决定如何正确地连接这些表了。</p><p id="fa39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，你可以在DAX中做一些映射，你可以写-RELATED(REGION[REGION])来引入列并隐藏区域表。会有用的，但为什么要这么做？</p><p id="48f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是微软所说的Power Query可以用来<a class="ae ky" href="https://support.microsoft.com/en-us/office/shape-data-power-query-9b2dac2b-e13d-46a4-8940-7bc55f44597d" rel="noopener ugc nofollow" target="_blank">“准备”或“塑造”</a>数据的意思。</p><p id="19a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Power Query中，您可以执行这些连接。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/8e46f3c5acb215a2707dd40dab071566.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6OxsBcfV6CMazd0pq-vL_w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="f125" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Power Query中的Shaping也有一些优点，您可以轻松地进行反连接双重检查，查看是否有月份没有反映在Years表中。</p><p id="e464" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一篇文章，如果你想知道如何做这些<a class="ae ky" rel="noopener" target="_blank" href="/joins-with-power-bi-bde7de3e2181?source=friends_link&amp;sk=91ebb5c4e4dca48f4e1d216fe86ffdc4">加入权力查询</a>。我个人希望之前有人告诉我这些。这将使我从许多令人头痛的数据中解脱出来。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h2 id="9d6a" class="mr ms it bd mt mu mv dn mw mx my dp mz li na nb nc lm nd ne nf lq ng nh ni nj bi translated">它给你谈判的权力</h2><p id="f4d9" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">建模可以帮助你马上找出你能回答什么样的问题。(您的度量可以基于事实表构建，并根据维度或“主题”进行切割)。</p><p id="505c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是你的底线。如果有人问你一个商业问题，你已经可以从你的模型中判断出你是否能为他们得到这个问题，与查看表格并计算出这个问题相比，你将对你能回答什么和不能回答什么有很好的感觉。</p><p id="60ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果需要额外的见解，那么，您现在可以根据模型从其他单位获得更多的数据。如果需要其他维度，您已经知道如何在您的模型中连接它们。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="8ad3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">这是你应该追求的目标，它从未让我误入歧途。</strong></p><ol class=""><li id="580f" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated"><a class="ae ky" href="https://docs.microsoft.com/en-us/power-bi/guidance/star-schema" rel="noopener ugc nofollow" target="_blank">明星模式</a> —爱明星</li><li id="c491" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">目标1:每个维度表到事实表的多种关系</li><li id="814a" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">思考空间主题</li><li id="5a36" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">不同级别的详细信息—事实表中的天数与预算表中的月份？使用日期表格</li><li id="4e86" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">杠杆力量查询，值得等待。做连接以达到“主题”</li></ol></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="df61" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我明白，有时候工作没那么简单。有时候你只需要尽快得到答案。做模特是你最不可能想到的事情。</p><p id="0374" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是请这样想——您需要花费大量的时间来制定措施和进行故障排除，您还不如一开始就投资一个合适的数据模型呢！:)</p></div></div>    
</body>
</html>