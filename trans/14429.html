<html>
<head>
<title>6 simple tips for prettier and customised plots in Seaborn (Python)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Seaborn (Python)中更漂亮和定制的情节的6个简单技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/6-simple-tips-for-prettier-and-customised-plots-in-seaborn-python-22f02ecc2393?source=collection_archive---------8-----------------------#2020-10-05">https://towardsdatascience.com/6-simple-tips-for-prettier-and-customised-plots-in-seaborn-python-22f02ecc2393?source=collection_archive---------8-----------------------#2020-10-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="da7b" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">数据可视化</h2><div class=""/><div class=""><h2 id="0844" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">初学者指南，轻松个性化您的情节</h2></div><p id="1c1d" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在本帖中，我们将看看一些简单的方法来定制你的情节，使它们在美学上更令人愉悦。希望这些简单的小技巧能帮你得到更好看的剧情，节省你调整个别剧情的时间。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ln"><img src="../Images/ccdf7c87486d1fefb2a557e418ce456a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lw_F3TZEDpLIvKEl"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">由<a class="ae md" href="https://unsplash.com/@kellitungay?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Kelli Tungay </a>在<a class="ae md" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="afa1" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">基线图📊</h1><p id="4d81" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated"><em class="ni">本帖中的脚本是在Jupyter Notebook的Python 3.8.3中测试的。</em></p><p id="3eca" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">让我们使用Seaborn内置的企鹅数据集作为样本数据:</p><pre class="lo lp lq lr gt nj nk nl nm aw nn bi"><span id="64f8" class="no mm it nk b gy np nq l nr ns"># Import packages<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns</span><span id="f6c6" class="no mm it nk b gy nt nq l nr ns"># Import data<br/>df = sns.load_dataset('penguins').rename(columns={'sex': 'gender'})<br/>df</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi nu"><img src="../Images/85d21c809c8c2686331d46bb34eae649.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HUW7DIPHDf1s9KfdRYtbvQ.png"/></div></div></figure><p id="93e2" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我们将使用默认图表设置构建一个标准散点图，并将其用作基线:</p><pre class="lo lp lq lr gt nj nk nl nm aw nn bi"><span id="5025" class="no mm it nk b gy np nq l nr ns"># Plot<br/>sns.scatterplot(data=df, x='body_mass_g', y='bill_length_mm', <br/>                alpha=0.7, hue='species', size='gender')</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/59897a0972edaa7e19b048ff5f0515f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/1*78Lc3AvF8LDZXzQdpawurw.png"/></div></figure><p id="010a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我们将会看到这个情节是如何随着每个提示而改变的。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="8e38" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">技巧🌟</h1><p id="e7aa" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">您将看到前两个提示是针对单个图的，而剩下的四个提示是针对所有图表的默认设置的。</p><h2 id="d0b5" class="no mm it bd mn nw nx dn mr ny nz dp mv la oa ob mx le oc od mz li oe of nb iz bi translated">📍技巧1:分号</h2><p id="959d" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">您注意到上一个图中图表正上方的文本输出了吗？抑制该文本输出的一个简单方法是在绘图结束时使用<code class="fe og oh oi nk b">;</code>。</p><pre class="lo lp lq lr gt nj nk nl nm aw nn bi"><span id="2f62" class="no mm it nk b gy np nq l nr ns"># Plot<br/>sns.scatterplot(data=df, x='body_mass_g', y='bill_length_mm', <br/>                alpha=0.7, hue='species', size='gender');</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/0eb5378365c12864357ea001cccafe46.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*yMnh0TR2FI684ieV60xr6w.png"/></div></figure><p id="fbf6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">通过在代码末尾添加<code class="fe og oh oi nk b">;</code>,我们得到了更清晰的输出。</p><h2 id="8b0c" class="no mm it bd mn nw nx dn mr ny nz dp mv la oa ob mx le oc od mz li oe of nb iz bi translated">📍技巧2: plt.figure()</h2><p id="ff3f" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">调整大小通常有利于绘图。如果我们想调整大小，我们可以这样做:</p><pre class="lo lp lq lr gt nj nk nl nm aw nn bi"><span id="40cd" class="no mm it nk b gy np nq l nr ns"># Plot<br/>plt.figure(figsize=(9, 5))<br/>sns.scatterplot(data=df, x='body_mass_g', y='bill_length_mm', <br/>                alpha=0.7, hue='species', size='gender');</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ok"><img src="../Images/8d2211e78fc3031126e9085800bba019.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*NSJqMdqnhA_AEwGGxIllAw.png"/></div></div></figure><p id="119c" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">当我们调整大小时，图例移到了左上角。让我们将图例移到图表之外，这样它就不会意外覆盖数据点:</p><pre class="lo lp lq lr gt nj nk nl nm aw nn bi"><span id="3914" class="no mm it nk b gy np nq l nr ns"># Plot<br/>plt.figure(figsize=(9, 5))<br/>sns.scatterplot(data=df, x='body_mass_g', y='bill_length_mm', <br/>                alpha=0.7, hue='species', size='gender')<br/>plt.legend(loc='upper right', bbox_to_anchor=(1.2, 1));</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/5c94c22f3ced12b3be758e9ea7f94b8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*ygmC7FpeTmDW4YVWMQYHBQ.png"/></div></figure><p id="2ae0" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果你想知道如何知道对<code class="fe og oh oi nk b">figsize()</code>或<code class="fe og oh oi nk b">bbox_to_anchor()</code>使用什么数字组合，你需要反复试验哪个数字最适合这个图。</p><h2 id="52d5" class="no mm it bd mn nw nx dn mr ny nz dp mv la oa ob mx le oc od mz li oe of nb iz bi translated">📍技巧3: sns.set_style()</h2><p id="347e" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">如果我们不喜欢默认样式，此功能有助于更改绘图的整体样式。这包括轴线颜色和背景的美感。让我们将样式更改为<em class="ni">白色网格</em>并查看绘图外观如何变化:</p><pre class="lo lp lq lr gt nj nk nl nm aw nn bi"><span id="f837" class="no mm it nk b gy np nq l nr ns"># Change default style<br/>sns.set_style('whitegrid')</span><span id="a820" class="no mm it nk b gy nt nq l nr ns"># Plot<br/>plt.figure(figsize=(9, 5))<br/>sns.scatterplot(data=df, x='body_mass_g', y='bill_length_mm', <br/>                alpha=0.7, hue='species', size='gender')<br/>plt.legend(loc='upper right', bbox_to_anchor=(1.2, 1));</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi om"><img src="../Images/fe1e97e6b65275567faa8bd2577e184e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*xeuIDMo8ZAeqdrtfRMs9EA.png"/></div></figure><p id="b09c" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这里有更多的其他选项可以尝试:<code class="fe og oh oi nk b">'darkgrid'</code>、<code class="fe og oh oi nk b">'dark'</code>和<code class="fe og oh oi nk b">'ticks'</code>来找到你更喜欢的一个。</p><h2 id="40a4" class="no mm it bd mn nw nx dn mr ny nz dp mv la oa ob mx le oc od mz li oe of nb iz bi translated">📍技巧4: sns.set_context()</h2><p id="17c0" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">在前面的图中，标签尺寸看起来很小。使用<code class="fe og oh oi nk b">sns.set_context()</code>，如果我们不喜欢默认设置，我们可以更改上下文参数。我使用这个函数主要是为了控制图中标签的默认字体大小。通过更改默认值，我们可以节省时间，因为不必为各个图的不同元素(如轴标签、标题、图例)调整字体大小。我们把上下文换成<code class="fe og oh oi nk b">'talk'</code>再看剧情:</p><pre class="lo lp lq lr gt nj nk nl nm aw nn bi"><span id="c593" class="no mm it nk b gy np nq l nr ns"># Change default context<br/>sns.set_context('talk')</span><span id="780b" class="no mm it nk b gy nt nq l nr ns"># Plot<br/>plt.figure(figsize=(9, 5))<br/>sns.scatterplot(data=df, x='body_mass_g', y='bill_length_mm', <br/>                alpha=0.7, hue='species', size='gender')<br/>plt.legend(loc='upper right', bbox_to_anchor=(1.3, 1));</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi on"><img src="../Images/57b6fbca4787c4e61bcf63b1500af690.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c4IfkJy7h6pSfw-3nVJ2hQ.png"/></div></div></figure><p id="ea52" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">它更容易辨认，不是吗？另一个可以尝试的选项是:<code class="fe og oh oi nk b">'poster'</code>，这将进一步增加默认大小。</p><h2 id="dfff" class="no mm it bd mn nw nx dn mr ny nz dp mv la oa ob mx le oc od mz li oe of nb iz bi translated">📍技巧5: sns.set_palette()</h2><p id="1c16" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">如果你想将默认调色板定制成你喜欢的颜色组合，这个功能很方便。我们可以使用Matplotlib中的颜色图。<a class="ae md" href="https://matplotlib.org/tutorials/colors/colormaps.html" rel="noopener ugc nofollow" target="_blank">这里</a>是可供选择的Matplotlib颜色图列表。我们把调色盘换成<code class="fe og oh oi nk b">'rainbow'</code>再看剧情:</p><pre class="lo lp lq lr gt nj nk nl nm aw nn bi"><span id="5a09" class="no mm it nk b gy np nq l nr ns"># Change default palette<br/>sns.set_palette('rainbow')</span><span id="5539" class="no mm it nk b gy nt nq l nr ns"># Plot<br/>plt.figure(figsize=(9, 5))<br/>sns.scatterplot(data=df, x='body_mass_g', y='bill_length_mm', <br/>                alpha=0.7, hue='species', size='gender')<br/>plt.legend(loc='upper right', bbox_to_anchor=(1.3, 1));</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi oo"><img src="../Images/de7666ae772a1624f94920446dcb6109.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9URMRQIYSM7cMiS3JgQSDw.png"/></div></div></figure><p id="0d4e" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果你找不到你喜欢的Matplotlib颜色图，你可以手工选择颜色来创建你自己独特的调色板。🎨创建自己调色板的一种方法是将颜色名称列表传递给函数，如下例所示。<a class="ae md" href="https://matplotlib.org/3.1.0/gallery/color/named_colors.html" rel="noopener ugc nofollow" target="_blank">这里</a>是颜色名称列表。</p><pre class="lo lp lq lr gt nj nk nl nm aw nn bi"><span id="9400" class="no mm it nk b gy np nq l nr ns"># Change default palette<br/>sns.set_palette(['green', 'purple', 'red'])</span><span id="dc54" class="no mm it nk b gy nt nq l nr ns"># Plot<br/>plt.figure(figsize=(9, 5))<br/>sns.scatterplot(data=df, x='body_mass_g', y='bill_length_mm', <br/>                alpha=0.7, hue='species', size='gender')<br/>plt.legend(loc='upper right', bbox_to_anchor=(1.3, 1));</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi op"><img src="../Images/fba275d8c17a3241490652fbfb653c0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C41iCqZ4rHsv0gZog04IAQ.png"/></div></div></figure><p id="74a8" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果颜色名称不能很好地表达您的需求，您可以使用十六进制颜色构建自己的调色板，以获得更广泛的选项(超过1600万种颜色！).这里是我最喜欢的查找十六进制自定义调色板的资源。让我们看一个例子:</p><pre class="lo lp lq lr gt nj nk nl nm aw nn bi"><span id="8f7b" class="no mm it nk b gy np nq l nr ns"># Change default palette<br/>sns.set_palette(['#62C370', '#FFD166', '#EF476F'])</span><span id="e290" class="no mm it nk b gy nt nq l nr ns"># Plot<br/>plt.figure(figsize=(9, 5))<br/>sns.scatterplot(data=df, x='body_mass_g', y='bill_length_mm', <br/>                alpha=0.7, hue='species', size='gender')<br/>plt.legend(loc='upper right', bbox_to_anchor=(1.3, 1));</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi oo"><img src="../Images/05eb3ebc58197b7d26d9288736428e05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xSY1Y_SJyzckmn12xxbddA.png"/></div></div></figure><h2 id="b4c3" class="no mm it bd mn nw nx dn mr ny nz dp mv la oa ob mx le oc od mz li oe of nb iz bi translated">📍技巧6: sns.set()</h2><p id="803b" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">根据前面的三个技巧，我希望你能找到你最喜欢的组合(在某些情况下，可以保持默认设置不变)。如果我们要更新图表的默认设置，最好是在导入可视化软件包之后进行。这意味着我们在脚本的开头会有这样一个片段:</p><pre class="lo lp lq lr gt nj nk nl nm aw nn bi"><span id="5f4b" class="no mm it nk b gy np nq l nr ns"># Import packages<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns</span><span id="3a9c" class="no mm it nk b gy nt nq l nr ns"># Change defaults<br/>sns.set_style('whitegrid')<br/>sns.set_context('talk')<br/>sns.set_palette('rainbow')</span></pre><p id="14e1" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">使用<code class="fe og oh oi nk b">sns.set()</code>可以更简洁地更新多个默认值。下面是相同代码的简洁版本:</p><pre class="lo lp lq lr gt nj nk nl nm aw nn bi"><span id="6d3c" class="no mm it nk b gy np nq l nr ns"># Import packages<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns</span><span id="abd9" class="no mm it nk b gy nt nq l nr ns"># Change defaults<br/>sns.set(style='whitegrid', context='talk', palette='rainbow')</span></pre><p id="b1fd" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">Voila❕:这是六条建议。以下是调整前后的曲线图对比:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi oq"><img src="../Images/3e8049c229e0ec51c44800dde70a90eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Su2P__Mkk8Dx8lUiD5gGyw.png"/></div></div></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="eb12" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ni">您想访问更多这样的内容吗？媒体会员可以无限制地访问媒体上的任何文章。如果您使用</em> <a class="ae md" href="https://zluvsand.medium.com/membership" rel="noopener"> <em class="ni">我的推荐链接</em> </a>，<em class="ni">成为会员，您的一部分会费将直接用于支持我。</em></p><p id="07aa" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我希望你学会了一些简单的方法来调整你的情节，而不必花太多时间。我希望这篇文章已经给了你一些开始个性化你的情节的想法，并使它们在视觉上更令人愉悦。如果你感兴趣，这里有我的一些帖子的链接:</p><p id="22d9" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">◼️<a class="ae md" rel="noopener" target="_blank" href="/exploratory-text-analysis-in-python-8cf42b758d9e">python中的探索性文本分析</a> <br/> ◼️️ <a class="ae md" rel="noopener" target="_blank" href="/5-tips-for-pandas-users-e73681d16d17">给熊猫用户的5个提示</a> <br/> ◼️️ <a class="ae md" rel="noopener" target="_blank" href="/writing-5-common-sql-queries-in-pandas-90b52f17ad76">熊猫中数据聚合的5个提示</a> <br/> ◼️️ <a class="ae md" rel="noopener" target="_blank" href="/writing-5-common-sql-queries-in-pandas-90b52f17ad76">在熊猫中编写5个常用SQL查询</a> <br/> ◼️️ <a class="ae md" rel="noopener" target="_blank" href="/writing-advanced-sql-queries-in-pandas-1dc494a17afe">在熊猫中编写高级SQL查询</a></p><p id="6fe3" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">再见🏃💨</p></div></div>    
</body>
</html>