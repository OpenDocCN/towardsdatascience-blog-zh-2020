<html>
<head>
<title>My plots just SUCKED. Here is how I fixed them.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我的情节糟透了。以下是我如何修复它们。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/deep-guide-into-styling-plots-delivering-effective-visuals-12e40107b380?source=collection_archive---------35-----------------------#2020-09-30">https://towardsdatascience.com/deep-guide-into-styling-plots-delivering-effective-visuals-12e40107b380?source=collection_archive---------35-----------------------#2020-09-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3011" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你的，在某种意义上，可能也是。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2558b6ac8173f22ccac0dfaac8948a51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*geVhI0L4SM15BbFaf8kYag.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2734073" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae ky" href="https://pixabay.com/users/holgersfotografie-47038/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2734073" rel="noopener ugc nofollow" target="_blank">霍尔格·朗梅尔</a></p></figure><blockquote class="kz"><p id="a378" class="la lb it bd lc ld le lf lg lh li lj dk translated">你的工作效率取决于你与他们交流的能力。</p></blockquote><p id="27a3" class="pw-post-body-paragraph lk ll it lm b ln lo ju lp lq lr jx ls lt lu lv lw lx ly lz ma mb mc md me lj im bi translated">我想我们都同意，在数据科学领域，初学者比学长多。因为这种差异，大部分在线课程、教程都是为初学者设计的。特别是，教授数据可视化的课程大多是在探索性数据分析的背景下教授的。结果你看看<a class="ae ky" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>或者<a class="ae ky" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>，到处都是写满剧情的EDA笔记本。</p><p id="4162" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我从来不认为这是一件坏事，而是说数据可视化的实践从一开始就变得非常有限。DV在现实世界中有许多应用，而不仅仅是在死气沉沉的笔记本中，你必须知道如何为任何观众和任何场合创造情节。</p><p id="5823" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">当我说我的情节很糟糕时，我暗示如果我把它们带离它们的舒适区(EDA)，它们将不会有任何好处。我会说它们对我的EDAs来说已经足够好了，但是它们绝对不适合数据科学世界之外的人。</p><p id="ae39" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">这篇文章介绍了一些不常用的方法来设计你的情节，使它们更容易理解，并为任何不精通技术的人做好准备。</p><blockquote class="mk ml mm"><p id="bb34" class="lk ll mn lm b ln mf ju lp lq mg jx ls mo mh lv lw mp mi lz ma mq mj md me lj im bi translated"><strong class="lm iu">免责声明</strong>:这篇文章是为那些已经对Seaborn，Matplotlib和Pandas有一些经验的人设计的。此外，它不是一个关于如何创建某种类型的地块的教程，而是给你一个全面的样式指南。</p></blockquote></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h2 id="dc0d" class="my mz it bd na nb nc dn nd ne nf dp ng lt nh ni nj lx nk nl nm mb nn no np nq bi translated">概观</h2><p id="db47" class="pw-post-body-paragraph lk ll it lm b ln nr ju lp lq ns jx ls lt nt lv lw lx nu lz ma mb nv md me lj im bi translated">∘ <a class="ae ky" href="#7ba6" rel="noopener ugc nofollow">设置</a> <br/> ∘ <a class="ae ky" href="#1c97" rel="noopener ugc nofollow">设置上下文</a> <br/> ∘ <a class="ae ky" href="#4765" rel="noopener ugc nofollow">设置样式</a> <br/> ∘ <a class="ae ky" href="#3f0d" rel="noopener ugc nofollow">注释文本，深度引导</a> <br/> ∘ <a class="ae ky" href="#03ef" rel="noopener ugc nofollow">休息一下，观看一些鱼</a> <br/> ∘ <a class="ae ky" href="#385e" rel="noopener ugc nofollow">去除棘或轴以更加清晰(去除棘)</a> <br/> ∘ <a class="ae ky" href="#7e82" rel="noopener ugc nofollow">轴标签和标题</a> <br/> ∘ <a class="ae ky" href="#5cdd" rel="noopener ugc nofollow">颜色和调色板</a> <br/></p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h2 id="7ba6" class="my mz it bd na nb nc dn nd ne nf dp ng lt nh ni nj lx nk nl nm mb nn no np nq bi translated">设置</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="dafb" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我将使用诺贝尔奖数据集。它包含了从成立到2016年诺贝尔奖获得者的数据，可以从Kaggle下载。对于样式，我将同时使用Matplotlib和Seaborn。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><blockquote class="mk ml mm"><p id="008f" class="lk ll mn lm b ln mf ju lp lq mg jx ls mo mh lv lw mp mi lz ma mq mj md me lj im bi translated">此外，知道如何使用Matplotlib的OOP接口也很重要。这个界面，配合Seaborn，允许你无限定制你的情节。如果你不熟悉，我另外写了一篇文章:</p></blockquote><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/clearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">一劳永逸地澄清困惑:fig，ax = plt.subplots()</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">了解Matplotlib中的图形和轴对象</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="ol l om on oo ok op ks ob"/></div></div></a></div></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h2 id="1c97" class="my mz it bd na nb nc dn nd ne nf dp ng lt nh ni nj lx nk nl nm mb nn no np nq bi translated">设置背景</h2><p id="80d1" class="pw-post-body-paragraph lk ll it lm b ln nr ju lp lq ns jx ls lt nt lv lw lx nu lz ma mb nv md me lj im bi translated">准备在除EDAs之外的任何其他地方显示您的图被称为解释性数据分析。这是你让你的情节尽可能完美的地方。解释性分析(EA)应该主要关注使用简单而强大的图表来洞察数据集，并且应该为任何受众而设计。</p><p id="cdd7" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">如果你是做EA的，人们并不关心你的代码有多好，模块化，可复制。他们只是想了解数据。我建议你为自己做探索性的数据分析，然后，在一个单独的笔记本上总结你的分析要点。这个笔记本应该更多的是讲故事的类型，这真的很重要。</p><p id="cd1d" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">所以，现在让我们来谈谈如何设置情节的背景。这里的上下文只是指你应该如何根据你在哪里显示它们来缩放你的图。</p><p id="b56b" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">Seaborn提供从小规模到大规模的4种选择。分别是<strong class="lm iu">纸、笔记本、谈资、</strong>和<strong class="lm iu">海报</strong>。让我们来看看它们的区别:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/a7fc3db1d95cee24c14fbeb56e5fcf88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*QBVdzlAZEJnqOopGTUfdJQ.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">希伯恩的不同背景</p></figure><p id="2420" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">对于EDA来说，最好还是坚持用<code class="fe or os ot ou b">notebook</code>。然而，如果你正在做一个演示，或者写一篇涉及情节的博客文章，使用<code class="fe or os ot ou b">talk</code>。上下文不会改变绘图本身，但会放大和缩小刻度线。我使用<code class="fe or os ot ou b">with</code>上下文管理器来临时设置上下文。还有一个等效功能<code class="fe or os ot ou b">sns.set_context()</code>不能和<em class="mn">(嗯哦)</em> <code class="fe or os ot ou b">with</code>一起使用。</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h2 id="4765" class="my mz it bd na nb nc dn nd ne nf dp ng lt nh ni nj lx nk nl nm mb nn no np nq bi translated">设置样式</h2><p id="5e48" class="pw-post-body-paragraph lk ll it lm b ln nr ju lp lq ns jx ls lt nt lv lw lx nu lz ma mb nv md me lj im bi translated">Matplotlib和Seaborn中都有几种样式。Matplotlib不仅如此，还包括Seaborn的风格。改变风格会对你所有的情节产生影响。选择一个大多是基于个人喜好，但有时你将不得不根据你的情节来选择。</p><p id="04e7" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">如果有许多条形图或线图，最好选择带有背景网格的主题。网格使估计条形的高度或线图的值变得更加容易:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/236e34abdd5397450b604f60a96f96c0.png" data-original-src="https://miro.medium.com/v2/format:webp/1*jwO6qNM9vOsZwDSytyixuw.png"/></div></figure><p id="8b21" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">如果不使用线条或线条，则不需要网格。这几种风格你随便选一个:<code class="fe or os ot ou b">white</code>、<code class="fe or os ot ou b">dark</code>、<code class="fe or os ot ou b">ticks</code>。我在这篇文章中只给出了Seaborn风格，它们可以使用<code class="fe or os ot ou b">sns.set_style()</code>来设置。然而，如果你想使用Matplotlib样式，该列表可在<a class="ae ky" href="https://matplotlib.org/3.3.1/gallery/style_sheets/style_sheets_reference.html" rel="noopener ugc nofollow" target="_blank">这里</a>获得。让我们看一个Matplotlib的例子:</p><pre class="kj kk kl km gt ow ou ox oy aw oz bi"><span id="9664" class="my mz it ou b gy pa pb l pc pd">plt.style.use('dark_background')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/642a2382790b65910de95a285f8acea8.png" data-original-src="https://miro.medium.com/v2/format:webp/1*YnYBvXCSOHgJ_p5ERMDeSA.png"/></div></figure></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h2 id="3f0d" class="my mz it bd na nb nc dn nd ne nf dp ng lt nh ni nj lx nk nl nm mb nn no np nq bi translated">注释文本，深度指南</h2><p id="5cec" class="pw-post-body-paragraph lk ll it lm b ln nr ju lp lq ns jx ls lt nt lv lw lx nu lz ma mb nv md me lj im bi translated">不管你的情节有多美，有多丰富，有时候读起来还是很困难的。因此，您可以使用注释和箭头来指向情节的重要部分，而不是以文本墙的形式提供描述。这一节是关于在图的任何部分放置文本。</p><p id="6889" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">首先，让我们向一个空图形放置一个文本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/2931e309539b36e4811bf77c25f880ad.png" data-original-src="https://miro.medium.com/v2/format:webp/1*eU2upWwsDqd5LS1XWYlokg.png"/></div></figure><p id="dbc5" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我们创建一个空的支线剧情。然后，我设置轴限制来绘制更大的图形。<code class="fe or os ot ou b">annotate()</code>接受的第一个参数是要放置的文本。下一个也可能是最重要的参数是<code class="fe or os ot ou b">xycoords</code>。它可以接受一定范围的值，但最好将其设置为<code class="fe or os ot ou b">data</code>。这意味着我们基于我们的数据来定义文本的坐标。因此，当我将<code class="fe or os ot ou b">xy</code>参数设置为(3，3)时，它会根据轴值来放置它们。让我们在上一个文本的上方1点处添加另一个文本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/06e535be30ebd5069d4fe6553caa27e8.png" data-original-src="https://miro.medium.com/v2/format:webp/1*marvdzZ2EUiBu5wWzoM8Ag.png"/></div></figure><p id="d8c9" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我们调整了<code class="fe or os ot ou b">xy</code>的y值，将一个文本放在前一个文本之上1磅。请注意，因为我将<code class="fe or os ot ou b">xycoords</code>设置为<code class="fe or os ot ou b">data</code>，所以单位被计算以匹配轴刻度。如果我们在<code class="fe or os ot ou b">XAxis</code>上有日期，你可以向<code class="fe or os ot ou b">xy</code>提供一个日期来指定<code class="fe or os ot ou b">x</code>坐标。</p><p id="45b9" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">有时，网格节点可能不是放置文本的最佳位置。您可能希望指向绘图的特定部分，但希望文本从其他偏移位置出现。例如，上面的示例将文本放置在(3，3)坐标处。但是如果我们想要指向同一个点，但是想要文本出现在稍微偏上和偏左的位置呢？Matplotlib为这些情况提供了另外两个参数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/f7608fec1886540387fa2b72284a7d23.png" data-original-src="https://miro.medium.com/v2/format:webp/1*r_N4YwhBOvXSdjOaaZQ9KQ.png"/></div></figure><p id="6e23" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated"><code class="fe or os ot ou b">textcoords</code>就像<code class="fe or os ot ou b">xycoords</code>接受不同的缩放单位一样。如果我们将<code class="fe or os ot ou b">textcoords</code>设置为<code class="fe or os ot ou b">offset points</code>，matplotlib将x和y值解释为我们想要将文本移动<code class="fe or os ot ou b">xy</code>多少个单位。所以解释上面的代码，我们想要注释(3，3)点，但是想要文本出现在上面30点和左边25点。这种方法非常灵活，因为它允许以我们想要的任何方式控制文本的位置。</p><p id="143a" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">现在，让我们回到我们的例子。我们有一个计数图，但不是让观众猜测，我们想把每个酒吧的高度放在自己的顶部。这对解读有很大帮助。来看看剧情:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/b7e6384acea9ef955552066f8286f384.png" data-original-src="https://miro.medium.com/v2/format:webp/1*fnb1AtIofsDi_nqOoGpDRQ.png"/></div></figure><p id="a918" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">要在每个条形上方放置一个文本，我们必须找出每个条形的高度。我将图分配给变量的原因是它提供了一些关于图的附加属性:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="54e4" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">任何带条形的图都有一个我们可以使用的有用属性，称为<code class="fe or os ot ou b">patches</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="649a" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">如您所见，图中有6个<code class="fe or os ot ou b">Rectangle</code>对象，就像图中有6个条一样。我们打印了第一个条形，从输出中可以看出它的高度是175。现在，让我们循环遍历每个<code class="fe or os ot ou b">Rectangle</code>对象，并获得它们的高度和它们的<code class="fe or os ot ou b">x</code>坐标:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="87bd" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">为了获得高度或<code class="fe or os ot ou b">y</code>值，我们使用<code class="fe or os ot ou b">.get_height()</code>函数，为了获得<code class="fe or os ot ou b">x</code>值，我们使用<code class="fe or os ot ou b">.get_x()</code>。我们还应该得到宽度，这样我们就知道每个条形的中心在哪里。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/6e564861d2441f1f35a27dd3ab87aed9.png" data-original-src="https://miro.medium.com/v2/format:webp/1*yUTD9aYPsbPuNSzkOoKNjg.png"/></div></figure><p id="64b4" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">好吧，我们有短信，但是看起来很奇怪。我们必须给他们一些喘息的空间和一些格式化。我们将使用我们之前讨论过的偏移文本功能:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/5b912d884a96d42597987ca296d76f8d.png" data-original-src="https://miro.medium.com/v2/format:webp/1*dg3dvwK74RDuVJrP15hP_g.png"/></div></figure><p id="b458" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">这就对了，你在顶部放置了每个条形的高度。要达到正确的条件需要一些努力，所以我建议你重读这一节并自己练习。</p><p id="cccb" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">标注图有许多其他方法，我无法在本文中一一介绍。所以，我就题目单独写了一篇。请查看:</p><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/finally-learn-to-annotate-place-text-in-any-part-of-the-plot-d9bcc93c153f"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">掌握` plt.annotate()`让您的情节更上一层楼</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">上帝保佑所有阅读Matplotlib文档的人</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="pe l om on oo ok op ks ob"/></div></div></a></div></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h2 id="03ef" class="my mz it bd na nb nc dn nd ne nf dp ng lt nh ni nj lx nk nl nm mb nn no np nq bi translated">休息一下，看些鱼</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/e0d48395a039f3a9975239e62bf0ca78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*thsw62bpsrszCjLyQLA-Zw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/photo/school-of-gray-fish-3536511/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae ky" href="https://www.pexels.com/@harrisonhaines?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">哈里森·海因斯</a>拍摄</p></figure></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h2 id="385e" class="my mz it bd na nb nc dn nd ne nf dp ng lt nh ni nj lx nk nl nm mb nn no np nq bi translated">为了更加清晰起见，去掉了脊线或轴(去除脊线)</h2><p id="8c19" class="pw-post-body-paragraph lk ll it lm b ln nr ju lp lq ns jx ls lt nt lv lw lx nu lz ma mb nv md me lj im bi translated">因此，我们正在逐步改进我们的简单计数图。在我们输入每个条形的精确值后，没有必要保存<code class="fe or os ot ou b">YAxis</code>，因为它没有给出任何信息。同样，我们也不需要<code class="fe or os ot ou b">Y</code>记号标签。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/4cc3ad4514221914e62b40a423dd3c02.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Em91-fF1lR6IrVTqPq2oUA.png"/></div></figure><p id="aaa6" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated"><code class="fe or os ot ou b">despine()</code>功能可通过Seaborn获得。为了给它更多的灵活性，你必须指定使用<code class="fe or os ot ou b">ax</code>的子情节。这就是为什么我一直用<code class="fe or os ot ou b">fig</code>和<code class="fe or os ot ou b">ax</code>对象来处理Seaborn。Matplotlib和Seaborn是一股需要共同应对的力量。</p><p id="8433" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">在接下来的部分，我将改进我们的计数图。因此，为了避免重复，我将围绕情节的主要部分包装一个函数。此外，我将改为单一颜色，稍后我会解释原因:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h2 id="7e82" class="my mz it bd na nb nc dn nd ne nf dp ng lt nh ni nj lx nk nl nm mb nn no np nq bi translated">坐标轴标签和标题</h2><p id="9126" class="pw-post-body-paragraph lk ll it lm b ln nr ju lp lq ns jx ls lt nt lv lw lx nu lz ma mb nv md me lj im bi translated">现在，我们最后来谈谈轴标签和标题。它们相当简单，我相信大多数人已经熟悉我将要谈到的方法。首先，我将展示如何改变标签和标题的字体大小和颜色。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/0f9f79c7ab383b03b902b1c025247130.png" data-original-src="https://miro.medium.com/v2/format:webp/1*VtB7wdijTMhA6AlNUX6QCQ.png"/></div></figure><p id="39af" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">对于我们的情节，默认黑色是好的，但我只是想展示一个例子。事实上，一个信息丰富的标题就足够了。我们不需要轴标签。我会将它们移除，并切换回黑色:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/ba810c0ebe343f962704d66459f04a3b.png" data-original-src="https://miro.medium.com/v2/format:webp/1*foD6L8h7Qfb2gYybzsmszw.png"/></div></figure></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h2 id="5cdd" class="my mz it bd na nb nc dn nd ne nf dp ng lt nh ni nj lx nk nl nm mb nn no np nq bi translated">颜色和调色板</h2><p id="f6ea" class="pw-post-body-paragraph lk ll it lm b ln nr ju lp lq ns jx ls lt nt lv lw lx nu lz ma mb nv md me lj im bi translated">谈到颜色，有许多事情需要考虑。第一个是数据类型。根据您的数据，有不同的调色板可供选择:</p><ol class=""><li id="87d7" class="pg ph it lm b ln mf lq mg lt pi lx pj mb pk lj pl pm pn po bi translated"><strong class="lm iu">圆形调色板</strong>:如果你的数据没有顺序，这是最好的选择。</li><li id="35f4" class="pg ph it lm b ln pp lq pq lt pr lx ps mb pt lj pl pm pn po bi translated"><strong class="lm iu">顺序调色板</strong>:如果您的数据具有一致的范围，从低到高，反之亦然，请使用这些调色板。</li><li id="56d7" class="pg ph it lm b ln pp lq pq lt pr lx ps mb pt lj pl pm pn po bi translated"><strong class="lm iu">发散调色板</strong>:最好在数据的高点和低点都令人感兴趣时使用。</li></ol><p id="f90f" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">还有，在颜色不增加任何新信息的情况下，尽量避免使用颜色。或者使用色盲调色板。对于我们的计数图示例，颜色不编码任何新数据。这就是为什么我对所有的条使用单一的颜色。</p><p id="2cb5" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">现在，让我们看另一个使用顺序调色板的例子。我将使用预加载的钻石数据集作为示例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/3d1f8415497d53d94d623b73c592ee1d.png" data-original-src="https://miro.medium.com/v2/format:webp/1*SDqgJd_ZlWmv_UF9OsDESg.png"/></div></figure><p id="9d26" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">这里，小节有特定的顺序。这就是为什么使用连续调色板是好的。让我们看另一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/8bb4190e4b9350d32c2ce6e33698ca25.png" data-original-src="https://miro.medium.com/v2/format:webp/1*IPloeC2dnCumob_-IQ9jxQ.png"/></div></figure><p id="bf92" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">如你所见，选择正确的调色板非常重要。以下是可用的调色板:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/8664ef254d2fce6e2c2dfe076dff8ad5.png" data-original-src="https://miro.medium.com/v2/format:webp/1*y9Q2_2ayG5CX74tS8gObew.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/31e498a18871f61607a472a63a1d0253.png" data-original-src="https://miro.medium.com/v2/format:webp/1*ZA0u744fJYbGpDZEm92-1A.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/6de96771be8f89e07c16f751e0d27377.png" data-original-src="https://miro.medium.com/v2/format:webp/1*nIAHaYOgD7JwCY3vUtn7gA.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/3e6652be572521114dfe8a0d25be0895.png" data-original-src="https://miro.medium.com/v2/format:webp/1*yUi_TQlpHQe8-LoMYqyMDg.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/8072b8999e0b7e62feed12535acad243.png" data-original-src="https://miro.medium.com/v2/format:webp/1*LqK-HvLx24Y1GwBuoB_NhQ.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/d087a6ca3af0b161b9e04ebb29fb2571.png" data-original-src="https://miro.medium.com/v2/format:webp/1*fVXVWIpQoz694ofAPOymiw.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/71126755283dddb8f921c3048c12bcbf.png" data-original-src="https://miro.medium.com/v2/format:webp/1*473ET8e1irMe6N66niXGwg.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/f44f102c012d72a0ea5a4602dd962c83.png" data-original-src="https://miro.medium.com/v2/format:webp/1*QULAkJRNGBC-0DyHO56xWQ.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/0f374f483d0f3ba160c112cd1cd10132.png" data-original-src="https://miro.medium.com/v2/format:webp/1*RHYsd4ruAkqA2d8X8fg0Yg.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/8f29452f45cbce67c238b3a81f5019fe.png" data-original-src="https://miro.medium.com/v2/format:webp/1*hHLHRj2e2OUPTWsctY7k5g.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/23e3fea2630253a500ce4c859b2c3f3a.png" data-original-src="https://miro.medium.com/v2/format:webp/1*rk7P_0u07Qj44akzv0vGmg.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/88c307a580377466289f05e9e4890502.png" data-original-src="https://miro.medium.com/v2/format:webp/1*AZgSssacPRzDxbsWTHA9YA.png"/></div></figure><p id="ca64" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated"><code class="fe or os ot ou b">palplot()</code>创建这些好看的调色板图，而<code class="fe or os ot ou b">color_palette()</code>给出当前图。我建议你阅读<a class="ae ky" href="https://chrisalbon.com/python/data_visualization/seaborn_color_palettes/" rel="noopener ugc nofollow" target="_blank">这篇</a>文章，了解更多关于调色板和颜色的信息。</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h2 id="cb7b" class="my mz it bd na nb nc dn nd ne nf dp ng lt nh ni nj lx nk nl nm mb nn no np nq bi translated">为任务选择正确的绘图</h2><p id="dea6" class="pw-post-body-paragraph lk ll it lm b ln nr ju lp lq ns jx ls lt nt lv lw lx nu lz ma mb nv md me lj im bi translated">为不同的观众选择正确的剧情至关重要。我不是在谈论为数据选择正确的图。相反，选择一个以尽可能简单的方式描述您的数据的洞察力。</p><p id="8211" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">关于<strong class="lm iu">单条支线剧情</strong>的一般经验法则:确保一条主线剧情包含的变量不超过4个。它没有增加新的信息，反而增加了新的难度。理想是两三个。如果需要更多，请尝试在两个或多个单独的图中显示您的结果。</p><p id="ec1c" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated"><strong class="lm iu">绘图类型</strong>:选择易于阅读的绘图，如条形图、线图或散点图。复杂的图，即使它们给了数据深刻的洞察力，也不容易被许多人解释和理解。在<strong class="lm iu">探索性</strong>数据分析中，尝试使用工具箱中的一切来最好地理解您的数据。在<strong class="lm iu">解释性</strong>阶段，用简单的情节概括要点。不要包括像KDE(核密度估计)，小提琴图，盒图，蜂群等图。除非你想让你的观众眼睛流血(或者耳朵流血，如果你在演讲的话)。</p><p id="0e67" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated"><strong class="lm iu">多个支线剧情</strong>:尽量避免。如果单个图形上有多个图，它们会变得难以阅读，因为比例会变小。在进行分析时，首先使用分面或小多次波来理解数据。然后，在你的FacetGrid或支线剧情网格中选择最重要的支线剧情，并单独显示它们。或者并排，如果有两个。确保你显示的支线剧情不超过3个。这个需要一个例子:</p><pre class="kj kk kl km gt ow ou ox oy aw oz bi"><span id="55c4" class="my mz it ou b gy pa pb l pc pd">sns.relplot(x='carat', y='price', <br/>            data=diamonds, col='cut', col_wrap=3)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/37247fb8dac746e91cdc75779c9d580d.png" data-original-src="https://miro.medium.com/v2/format:webp/1*7DDQ7ZEd1Pl-D-SfnKIdWA.png"/></div></figure><p id="9061" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">这个FacetGrid比较了每种钻石切割的价格和克拉数。对于一个普通人来说，这是很难接受的，他们可能不会看每一个。例如，他们可能感兴趣的是理想钻石的价格如何变化。因此，您获取第一个子情节并单独显示它，而不显示整个FacetGrid。你可能需要在这方面下点功夫:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ov"><img src="../Images/d81317185daa5f309f7ae46f2b60c077.png" data-original-src="https://miro.medium.com/v2/format:webp/1*MzSUb-HXl4Rj19FRHHjUOA.png"/></div></figure><p id="b48d" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">这个方法好多了。你可以在关注最重要的部分的同时，快速提及其他剧情的进展。</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h2 id="5772" class="my mz it bd na nb nc dn nd ne nf dp ng lt nh ni nj lx nk nl nm mb nn no np nq bi translated">包扎</h2><p id="cdaa" class="pw-post-body-paragraph lk ll it lm b ln nr ju lp lq ns jx ls lt nt lv lw lx nu lz ma mb nv md me lj im bi translated">呼，这是很多。我给了你很多信息。但这是最好的结果。看完文章，你现在已经准备好把任何情节变成杰作了。使用这里讨论的方法进行解释性数据分析或数据故事讲述。如果你想从成千上万的人中脱颖而出，你也可以在探索性数据分析中使用它们。去打动一些人吧！</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><p id="4320" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated"><strong class="lm iu">请留下反馈，分享文章。作为一名作家，你的支持对我来说意味着一切！这里还有一些关于数据可视化的文章:</strong></p><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/master-a-third-of-seaborn-statistical-plotting-with-relplot-df8642718f0f"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">掌握Seaborn的三分之一:用relplot()统计绘图</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">如果你能在锡伯恩做到，就在锡伯恩做吧</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="pu l om on oo ok op ks ob"/></div></div></a></div><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/mastering-catplot-in-seaborn-categorical-data-visualization-guide-abab7b2067af"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">掌握Seaborn中的catplot():分类数据可视化指南。</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">如果你能在锡伯恩做到，那就在锡伯恩做吧，#2</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="pv l om on oo ok op ks ob"/></div></div></a></div></div></div>    
</body>
</html>