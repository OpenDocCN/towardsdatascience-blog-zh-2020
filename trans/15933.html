<html>
<head>
<title>Cooking (S)REcipe for Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学的烹饪方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/cooking-s-recipe-for-data-science-7f1ebf9828a5?source=collection_archive---------46-----------------------#2020-11-02">https://towardsdatascience.com/cooking-s-recipe-for-data-science-7f1ebf9828a5?source=collection_archive---------46-----------------------#2020-11-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/9c3c3b0002e231a1daf231ad8318efcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Od_OW5Uop0rdWg-O"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">马丁·范·登·霍维尔在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><div class=""/><div class=""><h2 id="12ef" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">如何将现场可靠性工程(SRE)整合到您的数据科学团队、产品和服务中</h2></div><blockquote class="kv kw kx"><p id="8a45" class="ky kz la lb b lc ld kh le lf lg kk lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">D <!-- -->记者:所有表达的观点都是我个人的。为一些非常有品味的烹饪双关语做好准备！</p></blockquote><p id="4110" class="pw-post-body-paragraph ky kz jg lb b lc ld kh le lf lg kk lh lv lj lk ll lw ln lo lp lx lr ls lt lu ij bi ly translated"><span class="l lz ma mb bm mc md me mf mg di">在</span>这篇文章中，我<em class="la">从<a class="ae jd" href="https://landing.google.com/sre/sre-book/toc/" rel="noopener ugc nofollow" target="_blank">站点可靠性工程中提炼出关键思想:谷歌如何运行生产系统</a> &amp; <a class="ae jd" href="https://landing.google.com/sre/workbook/toc/" rel="noopener ugc nofollow" target="_blank">站点可靠性工作手册</a>和<em class="la">将它们与数据科学融合</em>。我为为什么实施站点可靠性工程(SRE)实践不仅会增强您的数据科学产品的可靠性，而且还会提高您的数据科学团队的整体效率提出了一个论点。然后，我将详细介绍如何将SRE集成到数据科学团队、产品和服务中。</em></p><p id="787b" class="pw-post-body-paragraph ky kz jg lb b lc ld kh le lf lg kk lh lv lj lk ll lw ln lo lp lx lr ls lt lu ij bi translated">当我鼓励你通读整篇文章的时候，你可以随意地从这个想法的<em class="la">拼盘</em>中<em class="la">取样</em>！以下是<em class="la">菜单上的内容:</em></p><h2 id="e81d" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">菜单</h2><p id="3aec" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">0.<strong class="lb jh"> </strong> <a class="ae jd" href="#738c" rel="noopener ugc nofollow"> <strong class="lb jh">设置表:运行示例</strong> </a></p><ol class=""><li id="6b8d" class="nf ng jg lb b lc ld lf lg lv nh lw ni lx nj lu nk nl nm nn bi translated"><a class="ae jd" href="#4149" rel="noopener ugc nofollow"> <strong class="lb jh">前菜/开胃菜:起始题</strong></a><br/>1.1<a class="ae jd" href="#80ba" rel="noopener ugc nofollow">SRE是什么？</a> <br/> 1.2 <a class="ae jd" href="#e1ce" rel="noopener ugc nofollow">为什么我希望SRE加入我的数据科学产品生命周期？</a> <br/> 1.3 <a class="ae jd" href="#92cc" rel="noopener ugc nofollow">我能在不雇佣专门的现场可靠性工程师的情况下实施SRE吗？</a></li><li id="de70" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu nk nl nm nn bi translated"><a class="ae jd" href="#e034" rel="noopener ugc nofollow"> <strong class="lb jh">关键成分:关键成分SRE </strong> </a> <br/> 2.1 <a class="ae jd" href="#9283" rel="noopener ugc nofollow">服务水平目标(SLOs) </a> <br/> 2.2 <a class="ae jd" href="#2759" rel="noopener ugc nofollow">服务水平指标(SLIs) </a> <br/> 2.3 <a class="ae jd" href="#d8a5" rel="noopener ugc nofollow">错误预算</a> <br/> 2.4 <a class="ae jd" href="#f539" rel="noopener ugc nofollow">错误预算策略</a> <br/> 2.5 <a class="ae jd" href="#0538" rel="noopener ugc nofollow">监控</a> <br/> 2.6 <a class="ae jd" href="#1271" rel="noopener ugc nofollow">告警</a><br/>2.7</li><li id="1f71" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu nk nl nm nn bi translated"><a class="ae jd" href="#aa39" rel="noopener ugc nofollow"> <strong class="lb jh">穿上你的思维“无拘无束”:SRE指导原则要牢记</strong></a><strong class="lb jh"><br/></strong>3.1<a class="ae jd" href="#8e78" rel="noopener ugc nofollow">有些SRE总比没有SRE好</a> <br/> 3.2 <a class="ae jd" href="#d6ad" rel="noopener ugc nofollow">事情会出乱子，我们所能做的就是准备！</a> <br/> 3.3 <a class="ae jd" href="#15bd" rel="noopener ugc nofollow"> SRE指标不是玩指责游戏的工具</a></li><li id="c6d7" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu nk nl nm nn bi translated"><a class="ae jd" href="#6c10" rel="noopener ugc nofollow"> <strong class="lb jh">在没有厨师的情况下经营厨房:在没有专职现场可靠性工程师的情况下实施SRE</strong></a><strong class="lb jh"><br/></strong>4.1<a class="ae jd" href="#bdc8" rel="noopener ugc nofollow">从简单做起，从小做起</a> <br/> 4.2 <a class="ae jd" href="#ed34" rel="noopener ugc nofollow">采用分担责任模式</a> <br/> 4.3 <a class="ae jd" href="#2abe" rel="noopener ugc nofollow">从一开始就通过自动化消除辛劳</a></li><li id="c190" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu nk nl nm nn bi translated"><a class="ae jd" href="#8ea8" rel="noopener ugc nofollow"> <strong class="lb jh">要点:一些最终想法</strong> </a></li></ol><h1 id="738c" class="nt mi jg bd mj nu nv nw mm nx ny nz mp km oa kn ms kp ob kq mv ks oc kt my od bi translated">0.摆桌子</h1><p id="4790" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated"><strong class="lb jh">一个运行实例</strong></p><p id="7ce4" class="pw-post-body-paragraph ky kz jg lb b lc ld kh le lf lg kk lh lv lj lk ll lw ln lo lp lx lr ls lt lu ij bi translated">为了说明关键思想，我将使用下面的运行示例:</p><figure class="of og oh oi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oe"><img src="../Images/7e269b7f1e536c6c4d97feb241fccc26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N4-GFROIXFXAoAATeY0BvQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">由作者使用draw.io创建</p></figure><p id="5658" class="pw-post-body-paragraph ky kz jg lb b lc ld kh le lf lg kk lh lv lj lk ll lw ln lo lp lx lr ls lt lu ij bi translated">你是一个网站的自豪的产品所有者，该网站允许用户上传食品的图像，并使用你最先进的深度学习模型来确定食品是否是三明治。您希望将SRE集成到三明治分类服务的产品生命周期中。对于本文，我们将忽略前端相关的SRE，而专注于服务于机器学习模型的后端。</p></div><div class="ab cl oj ok hu ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="ij ik il im in"><h1 id="4149" class="nt mi jg bd mj nu oq nw mm nx or nz mp km os kn ms kp ot kq mv ks ou kt my od bi translated">1.开胃菜/开胃品</h1><p id="af90" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">T <strong class="lb jh">何出题</strong></p><figure class="of og oh oi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ov"><img src="../Images/a23b3001ed86e2bf4550026a5c835748.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FzEnO6Ygy7AHw60R"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">安吉拉·贝利在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="80ba" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">1.1什么是SRE？</h2><p id="d455" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">SRE是一个相当宽泛的概念，因此，如果你尝试谷歌搜索“SRE”，你可能会失望地发现，并没有一个明确的公认的功能定义。那么，让我给你我的定义，一个我们可以马上开始工作的定义:</p><blockquote class="kv kw kx"><p id="aee0" class="ky kz la lb b lc ld kh le lf lg kk lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">站点可靠性工程是指原则、实践和过程的框架，主要目标是提高(数字)产品和服务的可靠性。</p></blockquote><h2 id="e1ce" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">1.2为什么我希望SRE出现在我的数据科学产品生命周期中？</h2><ul class=""><li id="c9f2" class="nf ng jg lb b lc na lf nb lv ow lw ox lx oy lu oz nl nm nn bi translated"><strong class="lb jh">为了提高数据科学产品的可靠性和稳健性<br/> </strong>通过实施可靠的SRE原则和实践，您可以采取更有条理和更主动的方法来提高产品的稳健性，而不是在出现问题时采取混乱和被动的方法。</li><li id="a2df" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated"><strong class="lb jh">在维护旧东西和开发新东西之间划分优先级<br/> </strong> SRE是一种非常数字化和数据驱动的软件运营方法。使用SLO、错误预算、错误预算政策、监控和警报，您可以有非常明确的标准来确定您的团队是否应该投入更多时间来维护和改进三明治分类器，或者他们是否应该开发一种用于分类其他类型食品的新功能。</li><li id="850a" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated"><strong class="lb jh">为了提高产品开发过程的质量<br/> </strong>我认为，当你将SRE文化灌输到你的团队中时，你的团队的开发实践和文化就会得到改善。随着开发人员变得更加“SRE意识”，他们将倾向于围绕构建健壮可靠的数据科学产品来优化他们的开发实践，一直到编写代码、进行代码评审和提出QA测试案例的微观层面。</li></ul><h2 id="92cc" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">1.3我可以在不雇佣专门的站点可靠性工程师的情况下实施SRE吗？</h2><p id="2bab" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">简答:有！<br/>长回答:看第4节(经营没有厨师的厨房)但先通读第2节。</p></div><div class="ab cl oj ok hu ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="ij ik il im in"><h1 id="e034" class="nt mi jg bd mj nu oq nw mm nx or nz mp km os kn ms kp ot kq mv ks ou kt my od bi translated">2.关键成分</h1><p id="d3b4" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated"><strong class="lb jh">SRE的关键部件</strong></p><figure class="of og oh oi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pa"><img src="../Images/186f11943291dd0984f1a30969b246a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2IfBTQDLdgJIJbvB"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">照片由<a class="ae jd" href="https://unsplash.com/@calumlewis?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Calum Lewis </a>在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="d320" class="pw-post-body-paragraph ky kz jg lb b lc ld kh le lf lg kk lh lv lj lk ll lw ln lo lp lx lr ls lt lu ij bi translated">以下是您需要了解的关键概念/组件</p><h2 id="9283" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">2.1服务水平目标(SLO)</h2><p id="fb7a" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">SLO可以说是SRE最重要的概念。SLO为您的服务可靠性指定了一个目标水平，通常定义了一个隐含的时间段。SLO是以客户为中心的阈值，量化客户对您的数据科学产品满意的可靠性水平。例如，在三明治分类服务的情况下，我们可能在1个月的时间内有以下2个SLO:</p><ul class=""><li id="637f" class="nf ng jg lb b lc ld lf lg lv nh lw ni lx nj lu oz nl nm nn bi translated">可用性:99.9%的可用性</li><li id="1d02" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated">延迟:99%的请求延迟500毫秒</li></ul><h2 id="2759" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">2.2服务水平指标(SLIs)</h2><p id="cbbe" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">sli是帮助量化SLO的特定指标。SLI通常是两个数字的比值:</p><p id="03c4" class="pw-post-body-paragraph ky kz jg lb b lc ld kh le lf lg kk lh lv lj lk ll lw ln lo lp lx lr ls lt lu ij bi translated">(好事发生次数)/(总件发生次数)</p><p id="080f" class="pw-post-body-paragraph ky kz jg lb b lc ld kh le lf lg kk lh lv lj lk ll lw ln lo lp lx lr ls lt lu ij bi translated">对于三明治分类器，我们的sli应该是这样的:</p><ul class=""><li id="25cb" class="nf ng jg lb b lc ld lf lg lv nh lw ni lx nj lu oz nl nm nn bi translated">可用性:非5XX API请求占总请求的比率</li><li id="bc9c" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated">延迟:快于500毫秒的请求占总请求的比率</li></ul><p id="677f" class="pw-post-body-paragraph ky kz jg lb b lc ld kh le lf lg kk lh lv lj lk ll lw ln lo lp lx lr ls lt lu ij bi translated">这样的度量标准是很好的sli，因为它们很直观——0%表示一切正常，100%表示一切正常。</p><h2 id="d8a5" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">2.3误差预算</h2><p id="f4c2" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">误差预算= 100%-SLO。对于三明治分类器，这意味着假定每月可用性SLO为99.9%，误差预算为0.1% (43分12秒)。错误预算是我们将围绕其设置警报和错误预算策略的指标。误差预算在其他方面也很有用。例如，我们可以根据事故消耗了多少月度错误预算来量化停电事故的严重程度。</p><h2 id="f539" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">2.4错误预算政策</h2><p id="b423" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">根据站点可靠性工作手册，错误预算政策定义了一旦错误预算耗尽或接近耗尽时各种利益相关者将采取的具体步骤。对于我们的三明治分类器示例，误差预算策略中的一些关键动作可能包括以下内容:</p><ul class=""><li id="1a96" class="nf ng jg lb b lc ld lf lg lv nh lw ni lx nj lu oz nl nm nn bi translated">开发模型的数据科学家/机器学习工程师将优先修复生产错误，直到服务在预算内，而不是开发新的模型来对披萨进行分类</li><li id="4f0f" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated">将强制执行代码冻结，以停止对生产部署的任何进一步更改，从而最大限度地降低进一步的风险。只有当有足够的误差预算时，才允许进行更改。</li></ul><h2 id="0538" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">2.5监控</h2><p id="42a0" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">监控通常包括仪表板，以人类可读的时间序列形式显示关于关键指标的信息。在发生事故时，监控仪表板应该能够帮助您回答3个主要问题——发生了什么，什么时候发生的，为什么会发生？以下是您应该监控的指标/组件列表:</p><ul class=""><li id="54a2" class="nf ng jg lb b lc ld lf lg lv nh lw ni lx nj lu oz nl nm nn bi translated"><strong class="lb jh"> SLIs和错误预算</strong>:对于我们的三明治分类器，我们应该有仪表板来显示按状态代码(2XX、4XX、5XX)、p99延迟和当月剩余错误预算分组的请求数量。</li><li id="2184" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated"><strong class="lb jh">模型性能度量</strong>:对于我们的三明治分类器，我们应该监控被分类为三明治与非三明治的图像的比率。这将有助于检查模型是否过拟合/欠拟合，以及是否需要在更好的数据集上重新训练或替换模型。(对于像欺诈检测这样的用例来说，这绝对至关重要！)</li><li id="0ad4" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated"><strong class="lb jh">依赖关系</strong>:如果三明治分类器依赖于一个外部数据库，仪表板应该监控这个数据库的健康和性能。</li><li id="fa4e" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated"><strong class="lb jh">预期变化</strong>:如果三明治分类模型已经被重新训练，将热狗分类为三明治，那么我们应该通过仪表板上的图表捕获并确认这一变化的成功部署。</li><li id="8d69" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated"><strong class="lb jh">流量&amp;资源使用:</strong>仪表板应该捕获流量、吞吐量和资源使用，比如CPU和内存。这是为了确保在使用量增加的情况下(典型的新数据科学产品就是这种情况),资源能够迅速扩展以处理更大的流量。如果您想采用某种形式的自动缩放，流量仪表盘也有助于识别流量模式。</li></ul><h2 id="1271" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">2.6警报</h2><p id="e5a4" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">事件触发警报，警报触发操作。警报的目的是在重大事件发生时通知正确的人正确的事情。例如，如果在部署一个新的三明治分类模型后，延迟突然达到峰值并持续半个小时，则需要提醒相关人员采取缓解措施。警报依赖于监控和阈值来确定何时、向谁和向什么发出警报。</p><h2 id="4e73" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">2.7支持流程</h2><p id="801b" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">最大化其他SRE组件的效用产量通常需要3个关键过程:</p><ul class=""><li id="16b6" class="nf ng jg lb b lc ld lf lg lv nh lw ni lx nj lu oz nl nm nn bi translated"><strong class="lb jh">事故升级协议:</strong>对于如何处理生产事故，最好有一个周密的计划。该协议应该包括诸如谁(开发人员、技术负责人还是产品所有者？)应该在(10%，25% 50%的误差预算用尽时采取行动？)以及应该采取哪些具体行动。在我看来，这些信息也应该纳入错误预算策略，并且应该与警报紧密联系在一起。</li><li id="c870" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated"><strong class="lb jh">事后分析:</strong>无可指责的事后分析对于从事故中吸取教训至关重要，从而提高未来的可靠性和稳健性。在将SRE集成到您的数据科学产品生命周期的早期阶段，如何进行事后分析将在设定基调方面发挥至关重要的作用。</li><li id="159a" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated"><strong class="lb jh"> SLO &amp; SLI修订:</strong>根据您的项目生命周期的速度和SRE框架的成熟度，将需要定期修订您的SLO目标和SLI，以确保SRE以可持续的方式实施，因为您的用户和利益相关者的要求会随着时间的推移而变化。</li></ul><p id="fda9" class="pw-post-body-paragraph ky kz jg lb b lc ld kh le lf lg kk lh lv lj lk ll lw ln lo lp lx lr ls lt lu ij bi translated">一旦你脱离了建立一些粗略的SRE实践的初始阶段，第四个隐含但关键的过程/组件是一个经过深思熟虑的随叫随到的设置。用SRE工作手册的话说，</p><blockquote class="kv kw kx"><p id="1c0f" class="ky kz la lb b lc ld kh le lf lg kk lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">…随叫随到意味着在设定的时间段内随时可用，并且在这段时间内随时准备以适当的紧急程度响应生产事故。</p></blockquote><p id="2000" class="pw-post-body-paragraph ky kz jg lb b lc ld kh le lf lg kk lh lv lj lk ll lw ln lo lp lx lr ls lt lu ij bi translated">您可能希望一些员工在工作时间之外随叫随到，以确保您服务的可靠性。您团队中的这些随叫随到的成员应该有一个详细的分步指南，以随叫随到的行动手册的形式说明在发生事故时应该做什么，并且应该可以访问相关的技术文档、错误预算政策和上报协议。你可以在这里阅读更多相关信息<a class="ae jd" href="https://landing.google.com/sre/workbook/chapters/on-call/" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl oj ok hu ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="ij ik il im in"><h1 id="aa39" class="nt mi jg bd mj nu oq nw mm nx or nz mp km os kn ms kp ot kq mv ks ou kt my od bi translated">3.穿上你的思维“无沿帽”</h1><p id="2f89" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated"><strong class="lb jh">牢记SRE指导原则</strong></p><figure class="of og oh oi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pb"><img src="../Images/e315bfc6657afe581ffa04951cb39d26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GfDtA9B34vYxXaQA"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">照片由<a class="ae jd" href="https://unsplash.com/@yulia_dubyna?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">юліядубина</a>在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><h2 id="8e78" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated"><strong class="ak"> 3.1有SRE总比没有SRE好</strong></h2><p id="16ad" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">我认为部分实施SRE总比什么都没有好。例如，对于三明治分类服务，您可能没有制定出精确的错误预算政策，但通过一些基本的SLO、监控和警报，至少您将能够在网站关闭时主动修复问题，而不是被大量用户投诉所通知。最好是定义一个理想的SRE实现的愿景，然后迭代地、逐步地向它前进。</p><h2 id="d6ad" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated"><strong class="ak"> 3.2事情会出错，我们能做的就是准备！</strong></h2><p id="04ac" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">一个或多个组件在某个时间点发生故障导致可用性低于100%的概率不为零。如果你设法为你的顾客创造了一个100%可靠的体验，并希望保持这种可靠性水平，你就永远无法更新或改进你的服务。因此，100%的可靠性是错误的目标。另一个警告是，当你从99%到99.9%再到99.99%的可靠性时，每增加9个可靠性就会增加成本，但是对你的客户来说边际效用稳定地趋近于零。</p><h2 id="15bd" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated"><strong class="ak"> 3.3 SRE指标不是玩指责游戏的工具</strong></h2><p id="a30a" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">通过将员工的绩效KPI与这些指标挂钩，可以很容易地利用SRE的数字数据驱动方法。然而，从长远来看，这确实是有害的。它会延续一种适得其反的相互指责的文化。你想要的是一种责任共担的文化，通过系统地实施SRE原则、实践和流程来减少和消除事故和错误。</p></div><div class="ab cl oj ok hu ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="ij ik il im in"><h1 id="6c10" class="nt mi jg bd mj nu oq nw mm nx or nz mp km os kn ms kp ot kq mv ks ou kt my od bi translated">4.经营一个没有厨师的厨房</h1><p id="fd96" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated"><strong class="lb jh">在没有专职现场可靠性工程师的情况下实施SRE</strong></p><figure class="of og oh oi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pc"><img src="../Images/aead91b2f51b6e5d2f6a1dac28e18d92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NpUeSwyyX-tTZOci"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated"><a class="ae jd" href="https://unsplash.com/@shruti_dadwal?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> shruti dadwal </a>在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="bdc8" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">4.1从简单开始，从小处着手</h2><ul class=""><li id="39f5" class="nf ng jg lb b lc na lf nb lv ow lw ox lx oy lu oz nl nm nn bi translated">从对您的客户最重要的1到3个基本SLO开始，如可用性和延迟。随着时间的推移，可以添加几个SLO来提高整个产品的健壮性。</li><li id="a3c8" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated">设定合理的目标，比如90%，而不是像99.9999%这样非常严格的目标。随着时间的推移，这些目标可以逐步细化和收紧。</li><li id="9b81" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated">为您的SLO设置一些简单的控制面板，并提供基本的警报来捕捉事件和关键趋势。大多数云提供商都有便捷的监控和警报解决方案。如果没有，设置一个简单的Grafana-Prometheus-alert manager堆栈并不是一件非常繁琐的任务。随着时间的推移，可以添加更多的监控和警报。</li><li id="2937" class="nf ng jg lb b lc no lf np lv nq lw nr lx ns lu oz nl nm nn bi translated">不要马上正式采用SRE的实践，先试运行一段时间，也许是一个季度，让你的团队尝试模仿理想的升级、事后分析和SLO修订。</li></ul><h2 id="ed34" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">4.2采用分担责任模式</h2><p id="de61" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">虽然SLO通常需要由产品所有者(例如:CTO或产品经理)负责，但SRE不能集成到您的产品生命周期中，除非每个人都参与进来。“每个人”包括所有的利益相关者——数据科学家、机器学习工程师、DevOps、QA、产品经理、业务请求者等。让每个人都参与到理解和规划将SRE集成到您的数据科学产品生命周期中。分阶段推出你的SRE。将生产系统划分为组件(例如:前端、机器学习模型、后端、基础架构)，并让负责这些组件的不同人员通过事件升级协议一起工作。进行上报演习和事后分析，以加强团队中的SRE文化。</p><h2 id="2abe" class="mh mi jg bd mj mk ml dn mm mn mo dp mp lv mq mr ms lw mt mu mv lx mw mx my mz bi translated">4.3从一开始就通过自动化消除辛劳</h2><p id="cf3e" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated">SRE的一个重要概念是消除辛劳。辛劳指的是重复的、平凡的维护类任务，很少或根本不需要创造性的解决问题。在我看来，从一开始就应该优先考虑消除劳累。在SRE实施流程中寻找可能实现自动化的机会。把它们写下来！虽然最初可能需要更长的时间来自动化一项任务，但这是一项可行的投资，因为随着SRE集成在您的团队、产品和服务中的扩展，这种辛劳可能会成为一项巨大的负债。</p></div><div class="ab cl oj ok hu ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="ij ik il im in"><h1 id="8ea8" class="nt mi jg bd mj nu oq nw mm nx or nz mp km os kn ms kp ot kq mv ks ou kt my od bi translated">5.外卖食品</h1><p id="4afa" class="pw-post-body-paragraph ky kz jg lb b lc na kh le lf nb kk lh lv nc lk ll lw nd lo lp lx ne ls lt lu ij bi translated"><strong class="lb jh">一些最后的想法</strong></p><figure class="of og oh oi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pd"><img src="../Images/d3a18c2ee635a3a1ee6fd9303bea974e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AC182S-fGEJ3q3Qh"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">安布尔·恩格尔在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="57cc" class="pw-post-body-paragraph ky kz jg lb b lc ld kh le lf lg kk lh lv lj lk ll lw ln lo lp lx lr ls lt lu ij bi translated">当谈到理解和实现SRE时，有许多问题需要解决。在数据科学领域，深度学习模型等黑盒模型带来的不确定性增加了如何定义SLO、警报和升级策略的复杂性。我的建议是不要焦虑，开始行动吧！就像你的机器学习模型一样，你和你的团队也会随着经验的增加而变得更好。</p></div><div class="ab cl oj ok hu ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="ij ik il im in"><h1 id="7eaf" class="nt mi jg bd mj nu oq nw mm nx or nz mp km os kn ms kp ot kq mv ks ou kt my od bi translated">见见厨师！</h1><figure class="of og oh oi gt is gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/112a1fd1613198ab19bc62c72da59d3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*dgao3lOnK4kjNgiahyv2JQ.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">艾西瓦娅·普拉巴特</p></figure><p id="606b" class="pw-post-body-paragraph ky kz jg lb b lc ld kh le lf lg kk lh lv lj lk ll lw ln lo lp lx lr ls lt lu ij bi translated">嗨！我是艾西。我名字的前两个字母是“AI”，AI和机器学习是我热爱的。我目前是新加坡的高级数据科学家，也是GeorgiaTech的硕士生。你可以通过<a class="ae jd" href="https://www.linkedin.com/in/aishwaryaprabhat" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>联系我。</p></div></div>    
</body>
</html>