<html>
<head>
<title>Scanning and converting old black and white film negatives to color images using DeepAI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用DeepAI扫描旧的黑白胶片底片并将其转换为彩色图像</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/scanning-and-converting-old-black-and-white-film-negatives-to-color-images-using-deepai-5eb9c549d34a?source=collection_archive---------27-----------------------#2020-11-01">https://towardsdatascience.com/scanning-and-converting-old-black-and-white-film-negatives-to-color-images-using-deepai-5eb9c549d34a?source=collection_archive---------27-----------------------#2020-11-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e5e4c85ea8872434313e4f8e0404cc15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sm0lpxpSvfvNbRHHPk0hsg.jpeg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated"><em class="kc">封面照片由</em><a class="ae kd" href="https://www.lifeofpix.com/photo/film-camera/" rel="noopener ugc nofollow" target="_blank"><em class="kc">Grzegorz Mleczek</em></a></p></figure><p id="d77f" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">这篇文章与我之前关于(生物)医学的文章无关，但是使用了我在博士研究期间学到的一些Python技巧。它没有深入研究深度学习背后的理论，而是展示了一个如何使用该技术的实际例子。我在本教程中使用Adobe Photoshop和Lightroom，如果你成功地使用了开源软件，请在评论中告诉我。</p><p id="954e" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi ld translated">世界大部分地区再次陷入困境，许多人又回到了家中。如果你正在寻找一件不涉及任何其他人的事情，你可能会在本教程中找到一些灵感。</p><p id="68ec" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">我的祖父母给了我一些旧的黑白底片，这篇博客描述了我用DeepAI扫描、数字化和着色的过程:</p><figure class="ln lo lp lq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lm"><img src="../Images/99ad385f81b2f16669ce0b5ea15fafee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AzEcZhTMMxpC7wSzkRAD-Q.jpeg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">之后vs之前</p></figure><h1 id="e20d" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">扫描胶片底片</h1><p id="0c00" class="pw-post-body-paragraph ke kf iq kg b kh mp kj kk kl mq kn ko kp mr kr ks kt ms kv kw kx mt kz la lb ij bi translated">我用我的DSLR(尼康D3500和Samyang 135 mm f/2.0镜头)、一个三脚架、我的手机作为背光和一个纸箱扫描了胶片底片，我剪下这个纸箱以便底片可以放进去。如果你没有DSLR，你可以用你的手机作为相机，笔记本电脑屏幕作为背光，但不要指望惊人的效果(使用一个捕捉原始文件的应用程序，最好是一个三脚架，以保持尽可能低的ISO。我在下面添加了DSLR与小米9T相机的对比。</p><figure class="ln lo lp lq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/d550796d20ce3db49c9e4dbb77ac8373.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qXp8rbNN0WhSXCtz4RUGIA.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">DIY底片扫描仪，智能手机放在盒子背面。胶片和智能手机之间需要有一些距离，否则你最终会得到图像中的像素模式。</p></figure><p id="e47d" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">我的相机设置是ISO100，f/4和1/8秒快门速度(确保你拍摄的是RAW而不是JPG)，结果是这样的图像:</p><figure class="ln lo lp lq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/1648f75997337faf6e5759862cd47b5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2O7O4IKHJR1OF6g_0L5_Ww.png"/></div></div></figure><h1 id="5325" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">反转负像</h1><p id="3c07" class="pw-post-body-paragraph ke kf iq kg b kh mp kj kk kl mq kn ko kp mr kr ks kt ms kv kw kx mt kz la lb ij bi translated">每张照片都是不同的，所以你必须尝试什么是有效的。我是从亚历克斯·伯克的指导开始的。</p><figure class="ln lo lp lq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/395b344197efab2db437921e4c42387b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2hbsmxT8fjLAlcY7AA_DmA.jpeg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">扫描、裁剪和编辑B&amp;W</p></figure><p id="1724" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">lightroom预设可以在<a class="ae kd" href="https://github.com/rmvpaeme/convertNegatives/blob/main/makePositive_B%26W.xmp" rel="noopener ugc nofollow" target="_blank"> my Github </a>上找到。</p><h1 id="401f" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">给B&amp;W图像着色</h1><p id="0370" class="pw-post-body-paragraph ke kf iq kg b kh mp kj kk kl mq kn ko kp mr kr ks kt ms kv kw kx mt kz la lb ij bi translated">现在我们进入最有趣的部分:使用深度学习将B&amp;W图像转换为彩色图像。</p><p id="83d6" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">互联网上有很多选择，但大多数要么很贵，要么没那么好(或者两者兼而有之)。我开始在Photoshop上使用新的神经过滤器的“着色”功能，但结果很糟糕。</p><p id="fb4c" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">在更多的谷歌搜索之后，我找到了DeepAI。不幸的是，每个大于1200x1200像素的图像都会被缩小，如果您在工作流程的其余部分使用RAW文件和高分辨率图像，这是一个遗憾。据我所知，deepAI的付费版本也不支持更大的图像，如果他们支持，请告诉我。</p><p id="644b" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">幸运的是，DeepAI允许使用API提交作业。换句话说，如果我们将图像分割成1200x1200像素的重叠拼贴，给这些拼贴着色，然后将它们拼接在一起，应该不会有任何质量损失。分割图像可以用<a class="ae kd" href="https://github.com/Devyanshu/image-split-with-overlap" rel="noopener ugc nofollow" target="_blank">这个代码</a>来完成:</p><figure class="ln lo lp lq gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="6fcc" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">一旦所有图像被分割，我们可以使用Python将每个单独的图像块提交给DeepAI:</p><figure class="ln lo lp lq gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="8804" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">在Photoshop中自动合并单个帧:“文件”&gt;“自动”&gt;“Photomerge ”,并根据图像执行一些额外的调整(对比度、鲜明度等):</p><figure class="ln lo lp lq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lm"><img src="../Images/f392c0cb41f45959776f9edc4dcc1d34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5ECWA9vSzoXwlA8-MoYitg.jpeg"/></div></div></figure><p id="b23e" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">用我的智能手机代替我的DSLR得到的结果要差得多，但是我没有优化这个过程:</p><figure class="ln lo lp lq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/013d540e8905b90232a5bc3bf4fa92ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m-6qQVRjubhls1EehTJdjg.png"/></div></div></figure><p id="4d58" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">所有代码都在我的<a class="ae kd" href="https://github.com/rmvpaeme/convertNegatives" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上。如果你发现DeepAI使用的模型有任何偏见，请发推文或电子邮件告诉他们。</p><h1 id="a6fb" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">玩得开心，呆在家里，保持社交距离，阻止冠状病毒的传播。</h1></div></div>    
</body>
</html>