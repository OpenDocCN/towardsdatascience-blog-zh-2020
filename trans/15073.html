<html>
<head>
<title>Easy Access to the World’s Largest Data Source</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">轻松访问世界上最大的数据源</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/easy-access-to-the-worlds-largest-data-source-62a646d201d5?source=collection_archive---------45-----------------------#2020-10-16">https://towardsdatascience.com/easy-access-to-the-worlds-largest-data-source-62a646d201d5?source=collection_archive---------45-----------------------#2020-10-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="40dd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Python的维基百科API</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/8a40a9b5082e528022ca641e6031e287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iQRpiIZR1pX1yiiF_TI6iA.jpeg"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://unsplash.com/@claybanks?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">粘土银行</a>在<a class="ae le" href="https://unsplash.com/s/photos/encyclopedia?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="7d8b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">数据的重要性远高于在数据科学中构建最先进的算法。如果没有合适的大量数据，我们就无法很好地训练模型，以获得令人满意的结果。</p><p id="e693" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">作为世界上最大的百科全书，维基百科可以作为许多项目的巨大数据源。有许多网络抓取工具和框架允许从维基百科获取数据。然而，Python的Wikipedia API可能是最简单易用的。</p><p id="87d4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本帖中，我们将看到如何使用维基百科API来:</p><ul class=""><li id="af0a" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn lk ll lm ln bi translated">访问特定页面的内容</li><li id="7e1d" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">搜索页面</li></ul><p id="01b3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以轻松地安装和导入它。我将使用谷歌Colab，所以这里是它是如何在Colab中完成的:</p><pre class="kp kq kr ks gt lt lu lv lw aw lx bi"><span id="1c99" class="ly lz it lu b gy ma mb l mc md">pip install wikipedia<br/>import wikipedia</span></pre><p id="92c2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">页面的内容可以用page方法提取。页面的标题作为参数传递。以下代码将支持向量机页面作为WikipediaPage对象返回。</p><pre class="kp kq kr ks gt lt lu lv lw aw lx bi"><span id="a8d4" class="ly lz it lu b gy ma mb l mc md">page_svm = wikipedia.page("Support vector machine")</span><span id="59c3" class="ly lz it lu b gy me mb l mc md">type(page_svm)<br/>wikipedia.wikipedia.WikipediaPage</span></pre><p id="3a4b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个对象保存了可以通过url方法访问的页面的URL。</p><pre class="kp kq kr ks gt lt lu lv lw aw lx bi"><span id="28e1" class="ly lz it lu b gy ma mb l mc md">page_svm.url</span><span id="10b7" class="ly lz it lu b gy me mb l mc md"><a class="ae le" href="https://en.wikipedia.org/wiki/Support_vector_machine" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Support_vector_machine</a></span></pre><p id="2872" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以用content方法访问页面的内容。</p><pre class="kp kq kr ks gt lt lu lv lw aw lx bi"><span id="b298" class="ly lz it lu b gy ma mb l mc md">svm_content = page_svm.content</span><span id="f743" class="ly lz it lu b gy me mb l mc md">type(svm_content)<br/>str</span></pre><p id="63f0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">内容以字符串形式返回。以下是svm_content字符串的前1000个字符。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/9638e601ef4161668772eeec184c042f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*PrFr4AM1cYGqR8MffdrrIw.png"/></div></figure><p id="c86d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">返回的内容是一个字符串，这不是分析的最佳格式。我们可以处理这个原始字符串来推断有意义的结果。有一些高效的自然语言处理(NLP)库可以处理文本数据，比如NLTK、BERT等等。</p><p id="91b7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们不会详细讨论NLP任务，但让我们做一个简单的操作。我们可以将内容字符串转换成python列表，该列表将单词作为单独的元素包含在内。然后我们可以计算一个特定单词出现的次数。</p><pre class="kp kq kr ks gt lt lu lv lw aw lx bi"><span id="3bdc" class="ly lz it lu b gy ma mb l mc md">content_lst = svm_content.split(" ")</span><span id="2937" class="ly lz it lu b gy me mb l mc md">len(content_lst)<br/>57779</span><span id="ccfb" class="ly lz it lu b gy me mb l mc md">content_lst.count("supervised")<br/>4</span></pre></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="7b6d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">title方法用于访问页面的标题。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/2344eec015807e802f1185d9f1390583.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*oQ5pldPx8xIGeX_f3jp9QQ.png"/></div></figure><p id="1e20" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">references方法返回页面上使用的引用列表。本页的前5个参考如下:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/b18c678cb485161179d584aeacda42d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*Zvio01KW8xn1hXe-St9hbg.png"/></div></figure><p id="c12c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">同样，我们也可以提取页面上图像的链接:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mp"><img src="../Images/b340280112aedcb636001bd154eb0936.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TbgXIC5f5DciVm9cN-2r3Q.png"/></div></div></figure></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="72f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们心里并不总是有一个确切的标题。假设我们正在寻找标题中包含“心理学”一词的页面。这可以通过搜索方法来完成。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/bb90daa24aa556b9bd0f38996bac2675.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*1c8ua5pidOuJ2J74bJ6LaA.png"/></div></figure><p id="21b6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在某些情况下，返回的列表太长，所以我们可能希望限制返回的项目。只需将所需的项目数传递给结果参数。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/0c16eab49d642d559d19a4e6550f965b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*4lmotwFuYIzuEP_W0kOyEA.png"/></div></figure></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><blockquote class="ms mt mu"><p id="3c84" class="jq jr mv js b jt ju jv jw jx jy jz ka mw kc kd ke mx kg kh ki my kk kl km kn im bi translated">注:除非另有说明，所有图片均由作者创作。</p></blockquote><p id="4ada" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">编辑</strong>:感谢<a class="mz na ep" href="https://medium.com/u/9d1f49b86f92?source=post_page-----62a646d201d5--------------------------------" rel="noopener" target="_blank">尼克·韦伯</a>指出这一点。Wikipedia API的创建者明确声明“这个库是为了易用性和简单性而设计的，而不是为了高级用途。如果您计划执行重要的抓取或自动请求，请使用Pywikipediabot(或其他更高级的Python MediaWiki API包装器之一)，它具有更大的API、速率限制和其他功能，因此我们可以考虑MediaWiki基础架构。”</p><h1 id="8e7b" class="nb lz it bd nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx bi translated"><strong class="ak">结论</strong></h1><p id="92c9" class="pw-post-body-paragraph jq jr it js b jt ny jv jw jx nz jz ka kb oa kd ke kf ob kh ki kj oc kl km kn im bi translated">维基百科是一个非常有价值的数据来源。它提供了对许多主题的结构化信息的访问，并作为机器学习和深度学习任务的数据源。例如，这些数据可以用来训练复杂的NLP模型。</p><p id="5986" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">维基百科API使得访问和使用这个巨大的数据源变得非常容易和简单。</p><p id="fd29" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>