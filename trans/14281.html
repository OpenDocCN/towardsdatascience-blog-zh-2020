<html>
<head>
<title>Adding Text on Image using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python在图像上添加文本</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/adding-text-on-image-using-python-2f5bf61bf448?source=collection_archive---------5-----------------------#2020-10-02">https://towardsdatascience.com/adding-text-on-image-using-python-2f5bf61bf448?source=collection_archive---------5-----------------------#2020-10-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="255e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用枕头库的简单机器学习项目</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5478cf652298a05f096a171f1ec0fd98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c3JgVdKwvKnMFvsl6u03Wg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">伊戈尔·米斯克在<a class="ae ky" href="https://unsplash.com/s/photos/computer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="21cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di">在这篇文章中，我将向你展示如何使用Python给你的图片添加文本。这将是一个非常简单的项目，我们将使用编程来做一些设计。在这篇文章之后，你将能够使用一些python技巧来设计你的下一张传单或名片。听起来是不是很酷？也许这不是设计的最佳方式，但这是可能的:)</span></p><p id="804c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一个喜欢设计和编程的人，我认为这将是一个伟大的项目，我可以结合我的两个兴趣。这实际上是编程的一大部分，你总能找到不同的领域来练习你的技能。在我之前的文章中，我展示了如何给你的视频添加文本，今天我们将在一张图片上做这件事。我们开始吧！</p><h2 id="94e9" class="me mf it bd mg mh mi dn mj mk ml dp mm li mn mo mp lm mq mr ms lq mt mu mv mw bi translated">目录</h2><ul class=""><li id="a325" class="mx my it lb b lc mz lf na li nb lm nc lq nd lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="ni">导入枕头库</em> </strong></li><li id="bcec" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="ni">选择一幅图像</em> </strong></li><li id="377a" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="ni">字体选择</em> </strong></li><li id="b750" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="ni">渲染正文</em> </strong></li><li id="180c" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="ni">导出结果</em> </strong></li><li id="254c" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="ni">视频演示</em> </strong></li></ul></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><div class="kj kk kl km gt nv"><a rel="noopener follow" target="_blank" href="/rendering-text-on-video-using-python-1c006519c0aa"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">使用Python渲染视频文本</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">使用moviePy库的动手机器学习项目</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">towardsdatascience.com</p></div></div><div class="oe l"><div class="of l og oh oi oe oj ks nv"/></div></div></a></div></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="c38d" class="ok mf it bd mg ol om on mj oo op oq mm jz or ka mp kc os kd ms kf ot kg mv ou bi translated">步骤1-导入枕头库</h1><p id="dabb" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li ov lk ll lm ow lo lp lq ox ls lt lu im bi translated">首先，让我们安装这个项目需要的库。安装完成后，我们可以导入库以在项目中使用它。安装这个库的最好方法是使用PIP，它是一个python包管理器工具。与大多数Python库完美配合。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="5855" class="me mf it oz b gy pd pe l pf pg">pip install pillow</span></pre><p id="43ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很好，现在我们可以将它导入到我们的代码中了。使用大型库时，与其导入整个库，不如练习导入将要使用的特定函数。这将在运行程序时节省存储空间和时间。对于我们的简单项目，我们只需要三个函数:Image、ImageFont和ImageDraw。</p><p id="191e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以在一行代码中导入这三个元素，如下所示:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="dd7d" class="me mf it oz b gy pd pe l pf pg">from PIL import Image, ImageFont, ImageDraw </span></pre></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="3992" class="ok mf it bd mg ol om on mj oo op oq mm jz or ka mp kc os kd ms kf ot kg mv ou bi translated">步骤2 —选择一幅图像</h1><p id="ad96" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li ov lk ll lm ow lo lp lq ox ls lt lu im bi translated">在这一步中，我们将选择并导入一个要添加文本的图像。我推荐使用<a class="ae ky" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>，这是一个很棒的股票图片网站，可以找到质量很好的图片。以下是我下载的图片，也与秋季相匹配:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/46f1b237ebb157236569453999df8ecf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ZC9Iox9duClR4rranWf6A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">诺亚·西利曼在<a class="ae ky" href="https://unsplash.com/s/photos/fall?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="8fb4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下载图像后，确保将它复制到代码所在的目录中。这将帮助您将其导入到程序中。让我们定义一个新的变量，并使用<em class="ni"> open </em>方法分配图像。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="acd5" class="me mf it oz b gy pd pe l pf pg">my_image = Image.open("nature.jpg")</span></pre></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="a0e8" class="ok mf it bd mg ol om on mj oo op oq mm jz or ka mp kc os kd ms kf ot kg mv ou bi translated">步骤3 —字体选择</h1><p id="7200" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li ov lk ll lm ow lo lp lq ox ls lt lu im bi translated">这个项目的好处是，你可以选择你的字体风格。定制字体会让我们在设计时更加灵活。</p><p id="b996" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们将下载我们想要选择的字体的TTF(TrueType字体)文件。将文件放在同一个目录中后，我们可以使用ImageFont函数将其导入到我们的程序中。这是我将使用的字体。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="ca47" class="me mf it oz b gy pd pe l pf pg">title_font = ImageFont.truetype('playfair/playfair-font.ttf', 200)</span></pre><p id="4fdf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们可以进入下一步，在这里我们将添加文本。</p></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="9c52" class="ok mf it bd mg ol om on mj oo op oq mm jz or ka mp kc os kd ms kf ot kg mv ou bi translated">步骤4 —呈现文本</h1><p id="79d8" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li ov lk ll lm ow lo lp lq ox ls lt lu im bi translated">这一步就是奇迹发生的地方。选好图片和字体后，就该决定写什么了。首先，我们将定义一个文本变量，并给它分配一个字符串。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="46d7" class="me mf it oz b gy pd pe l pf pg">title_text = "The Beauty of Nature"</span></pre><p id="3be7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其次，我们将使用ImageDraw函数将图像转换成可编辑的格式。多亏了枕头库，我们可以一行搞定。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="4088" class="me mf it oz b gy pd pe l pf pg">image_editable = ImageDraw.Draw(my_image)</span></pre><p id="d1ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第三，我们将做渲染。我们将向渲染函数传递四个参数。我将在代码下面与一些有用的资源分享每个参数的描述。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="17f6" class="me mf it oz b gy pd pe l pf pg">image_editable.text((15,15), title_text, (237, 230, 211), font=title_font)</span></pre><ul class=""><li id="cd41" class="mx my it lb b lc ld lf lg li ph lm pi lq pj lu ne nf ng nh bi translated"><strong class="lb iu">起始坐标:</strong>枕头库采用笛卡尔像素坐标系，左上角为(0，0)。</li><li id="b6c5" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated"><strong class="lb iu">文本:</strong>单引号或双引号之间的字符串</li><li id="b937" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated"><strong class="lb iu">RGB格式的文本颜色:</strong> Google Picker是寻找最佳颜色的绝佳资源。在谷歌上搜索“拾色器”，它就会出现。</li><li id="1116" class="mx my it lb b lc nj lf nk li nl lm nm lq nn lu ne nf ng nh bi translated"><strong class="lb iu">字体风格:</strong> <a class="ae ky" href="https://fonts.google.com/" rel="noopener ugc nofollow" target="_blank"> Google Fonts </a>是挑选你的字体风格的绝佳资源，你也可以下载字体家族的TTF(TrueType Font)文件。</li></ul></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><div class="kj kk kl km gt nv"><a rel="noopener follow" target="_blank" href="/building-a-color-recognizer-in-python-4783dfc72456"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">用Python构建颜色识别器</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">使用OpenCV的简单实用的机器学习应用程序</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">towardsdatascience.com</p></div></div><div class="oe l"><div class="pk l og oh oi oe oj ks nv"/></div></div></a></div></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="9132" class="ok mf it bd mg ol om on mj oo op oq mm jz or ka mp kc os kd ms kf ot kg mv ou bi translated">步骤5 —导出结果</h1><p id="4010" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li ov lk ll lm ow lo lp lq ox ls lt lu im bi translated">干得好！我们差不多完成了。这将是最短的步骤，只导出编辑过的图像。下面是使用<em class="ni">保存</em>方法导出的代码。</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="f15a" class="me mf it oz b gy pd pe l pf pg">my_image.save("result.jpg")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/35fdd4a3a23e77bbed2bb456718b6f7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3QJWqMZGtncZYtnalGV2LA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">result.jpg</p></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="a5da" class="ok mf it bd mg ol om on mj oo op oq mm jz or ka mp kc os kd ms kf ot kg mv ou bi translated">视频演示</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pl pm l"/></div></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><div class="kj kk kl km gt nv"><a href="https://lifexplorer.medium.com/subscribe" rel="noopener follow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">每当贝希克居文出版时收到电子邮件。</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">每当贝希克居文出版时收到电子邮件。注册后，如果您还没有，您将创建一个中型帐户…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">lifexplorer.medium.com</p></div></div><div class="oe l"><div class="pn l og oh oi oe oj ks nv"/></div></div></a></div><p id="6e32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">恭喜你。！您已经创建了一个使用Python在图像上呈现自定义文本的程序。这不是设计图像的最佳方式，但是通过编程来实现它的可能性是很酷的。希望你喜欢阅读这篇文章并参与这个项目。如果你今天学到了新东西，我会很高兴。从事像这样的动手编程项目是提高编码技能的最好方式。</p><p id="d5ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您在执行代码时有任何问题，请随时<a class="ae ky" href="https://sonsuzdesign.blog/" rel="noopener ugc nofollow" target="_blank">联系我</a>。</p><blockquote class="po pp pq"><p id="3a89" class="kz la ni lb b lc ld ju le lf lg jx lh pr lj lk ll ps ln lo lp pt lr ls lt lu im bi translated">关注我的<a class="ae ky" href="https://medium.com/@lifexplorer" rel="noopener">博客</a>和<a class="ae ky" href="https://www.youtube.com/channel/UCmo4tnTcj92DlzES5hvlWwQ" rel="noopener ugc nofollow" target="_blank"> youtube </a>频道，保持灵感。谢谢你，</p></blockquote></div></div>    
</body>
</html>