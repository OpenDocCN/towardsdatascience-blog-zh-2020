<html>
<head>
<title>Python Data Visualization with Matplotlib — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Matplotlib实现Python数据可视化—第2部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-data-visualization-with-matplotlib-part-2-66f1307d42fb?source=collection_archive---------4-----------------------#2020-10-31">https://towardsdatascience.com/python-data-visualization-with-matplotlib-part-2-66f1307d42fb?source=collection_archive---------4-----------------------#2020-10-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/a0b348bfa125b81c069ca3f30dc98c3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OAFEIg9w1XHyZk0xBud14A.png"/></div></div></figure><h2 id="e859" class="jc jd je bd b dl jf jg jh ji jj jk dk jl translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a>，Matplotlib简介</h2><div class=""/><div class=""><h2 id="38b6" class="pw-subtitle-paragraph kk jn je bd b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dk translated">完成了从基础到高级的Python绘图的Matplotlib教程，包含100多个示例</h2></div><p id="27c3" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi ly translated"><span class="l lz ma mb bm mc md me mf mg di"> T </span>他的故事是使用Matplotlib的<a class="ae mh" rel="noopener" target="_blank" href="/visualizations-with-matplotlib-part-1-c9651008b6b8?source=your_stories_page-------------------------------------"> Python数据可视化的下一部分——第1部分</a>。在第1部分中，我们学习了如何生成和定制散点图、折线图、直方图和条形图。本故事将继续研究使用Matplotlib进行Python绘图，包括生成和定制箱线图、小提琴图、饼图、极坐标图、地理投影、3D图和等高线图。</p><p id="9b55" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">和第1部分一样，我告诉您我已经在Matplotlib中定制了默认参数。这是我的绘图风格</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="7bbc" class="mr ms je mn b gy mt mu l mv mw">import numpy as np<br/>import matplotlib.pyplot as plt</span><span id="e5b2" class="mr ms je mn b gy mx mu l mv mw">plt.rcParams['text.usetex'] = True<br/>plt.rcParams['font.size'] = 15<br/>plt.rcParams['font.family'] = "serif"</span><span id="2f87" class="mr ms je mn b gy mx mu l mv mw">tdir = 'in'<br/>major = 5.0<br/>minor = 3.0<br/>plt.rcParams['xtick.direction'] = tdir<br/>plt.rcParams['ytick.direction'] = tdir</span><span id="1cf7" class="mr ms je mn b gy mx mu l mv mw">plt.rcParams['xtick.major.size'] = major<br/>plt.rcParams['xtick.minor.size'] = minor<br/>plt.rcParams['ytick.major.size'] = major<br/>plt.rcParams['ytick.minor.size'] = minor</span></pre><p id="6f7a" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我使用乳胶字体作为我的默认衬线系列字体。如果您在激活LaTeX字体时遇到错误，您需要阅读<a class="ae mh" rel="noopener" target="_blank" href="/5-powerful-tricks-to-visualize-your-data-with-matplotlib-16bc33747e05">这个故事</a>以找到解决方案。我还定制了xtick和ytick设置，将刻度方向从“向外”改为“向内”,并调整刻度的大小。可以看<a class="ae mh" rel="noopener" target="_blank" href="/matplotlib-styles-for-scientific-plotting-d023f74515b4">这个故事</a>了解一下。我们开始吧。</p><h2 id="4a4f" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">01.箱形图</h2><p id="a83c" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">你知道盒子情节吗？维基百科将箱线图定义为一种通过四分位数图形化描述数字数据组的方法。它用于描述性统计。您可以在图1中看到一个箱形图的例子。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nt"><img src="../Images/a83d834beb690d9d2359a88aa3d2bbfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*troP3VxGxCjstkcUQwbH7Q.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图一。方框图元素(图片由作者/ Rizky MN提供)。</p></figure><p id="7a33" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">一般来说，箱线图代表一个分布图。它由一个盒子、胡须和离群值构成。在图1中，没有异常值。在box元素中，您可以显示分布的中值或平均值。我们可以在图1中看到中间值。该框受Q1(第一个四分位数)和Q3(第三个四分位数)值的限制。Q1和Q3的差值称为四分位数(IQR)。默认情况下，触须显示分布的边界、最小值和最大值。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ny"><img src="../Images/1b4c1a1bc368f7fb357335cecad1a880.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PXRh2z2kf0NX8VR4vHCNNA.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图二。方框图元素(图片由作者/ Rizky MN提供)。</p></figure><p id="bef1" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">在图2中，您可以看到有一个异常值。箱线图如何检测异常值？当其值小于Q1-1.5倍IQR或大于Q3+1.5倍IQR时，在箱线图中检测到异常值。</p><p id="9e3b" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">在用Matplotlib创建一个方框图之前，我将使用下面的代码生成模拟数据</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="4f93" class="mr ms je mn b gy mt mu l mv mw">N = 50<br/>np.random.seed(100)<br/>box1 = np.random.randn(N) * 2 + 1</span></pre><p id="9b29" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要以方框图的形式显示变量box1，可以使用以下代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="18b8" class="mr ms je mn b gy mt mu l mv mw">plt.figure()<br/>plt.boxplot(box1)</span></pre><p id="eec9" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">当您运行上面的代码时，您可以在图3中看到结果</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nz"><img src="../Images/6335a468cf7052d0a19ea3b7a56153a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*orH2jDOQtk9wJUNUdMW5bA.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图3。Matplotlib中的默认盒图(图片由作者/ Rizky MN提供)。</p></figure><h2 id="3bbb" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">水平箱形图</h2><p id="5198" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">如果您想要水平更改盒状图的方向，您需要在plt.boxplot()代码中应用以下参数。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="de10" class="mr ms je mn b gy mt mu l mv mw">vert = False</span></pre><p id="5d80" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以在图4中看到水平方框图的结果。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oa"><img src="../Images/72ac34e68070f5d6dd78db7fb9766243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TcCGSrKO9v4etbtQa9UFEw.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图4。Matplotlib中的水平方框图(图片由作者/ Rizky MN提供)。</p></figure><p id="3376" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">在下一个例子中，我将通过改变种子数量来创建一个带有异常值的分布，如下面的代码所示</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="67ee" class="mr ms je mn b gy mt mu l mv mw">N = 50<br/>np.random.seed(140)<br/>box1 = np.random.randn(N) * 2 + 1</span><span id="b41f" class="mr ms je mn b gy mx mu l mv mw">plt.boxplot(box1, vert=False)</span></pre><p id="e1cf" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">如果您运行上面的代码，您将得到一个方框图，如图5所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ob"><img src="../Images/3052ca6ff29b62307604b7d7f9b9ba94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WaVfv95bNhAcc0xczTcH1Q.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图5。箱形图中的异常值(图片由作者/ Rizky MN提供)。</p></figure><p id="fd40" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我将向您展示Matplotlib如何通过计算Q1值(1.5倍IQR，Q3+1.5倍IQR)来检测异常值，并使用此代码对分布进行排序</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="2304" class="mr ms je mn b gy mt mu l mv mw">q1 = np.quantile(box1, .25)<br/>q3 = np.quantile(box1, .75)<br/>iqr = q3-q1<br/>lower_boundary = q1 - 1.5 * iqr<br/>upper_boundary = q3 + 1.5 * iqr<br/>sort = np.sort(box1)</span></pre><p id="715e" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">为了可视化我需要的值，我运行下面的代码</p><figure class="mi mj mk ml gt iv"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="612e" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">如果您运行上面的代码，它会显示一个图，如图6所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oe"><img src="../Images/3f9240b9c0bc89f1f036819468d85985.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IRd8U-HZvh9pRMpQwSrGIg.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图6。箱线图中异常值的解释(图片由作者/ Rizky MN提供)。</p></figure><p id="3c29" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">在图6中，你可以看到我用红点生成的随机数。下限(Q1-1.5 x IQR)等于-3.69，分布的最小值是-2.41。因此，图6中的左晶须极限处于最小值-2.41。上限(Q3 + 1.5 x IQR)为5.98，因此值为7.0的数据被定义为异常值。右须限制将在5.47中结束，在上限之前的最大值上。要将图例放在图的外部，您需要阅读<a class="ae mh" rel="noopener" target="_blank" href="/5-powerful-tricks-to-visualize-your-data-with-matplotlib-16bc33747e05">这个故事</a>。</p><p id="0d30" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">在下一个例子中，我将展示四个分布的平均值。我需要使用下面的代码为四个发行版创建模拟数据</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="a68f" class="mr ms je mn b gy mt mu l mv mw">np.random.seed(1214)<br/>data = [np.random.normal(0, std, 100) for std in range(10, 14)]</span></pre><h2 id="20f7" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">展示意味着价值</h2><p id="ec28" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">可变数据将生成mu为0的四个正态分布，每个分布具有不同的sigma值(10、11、12和13)。要在箱线图中显示平均值，您需要使用以下代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="316f" class="mr ms je mn b gy mt mu l mv mw">plt.boxplot(data, showmeans=True)</span></pre><p id="f502" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">如果您运行上面的代码，它将生成一个方框图，如图7所示。绿色三角形代表每个箱线图的平均值。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi of"><img src="../Images/1660cbcfd2b04c63c1277567a64dfb4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k1kGS6UGg4OyV2hRBk1-nA.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图7。Matplotlib中的自定义方框图(图片由作者/ Rizky MN提供)。</p></figure><p id="1192" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您还可以使用以下代码在水平方框图中显示它</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="dbde" class="mr ms je mn b gy mt mu l mv mw">plt.boxplot(data, showmeans=True, vert = False)</span></pre><p id="d8b8" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">上面的代码将生成一个图形，如图8所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ob"><img src="../Images/5d351499926c98823c768d44d2cf5395.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YskIgIvU4OXfSSljqAXNuQ.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图7。在水平方框图中显示平均值(图片由作者/ Rizky MN提供)。</p></figure><p id="b918" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以通过添加此参数来更改平均值的符号</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="ad51" class="mr ms je mn b gy mt mu l mv mw">meanline=True</span></pre><p id="b796" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">或者使用此参数隐藏方框形状</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="8bc2" class="mr ms je mn b gy mt mu l mv mw">showbox=False</span></pre><p id="0a4f" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">图8显示了方框图中的一些定制。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/5dd85a5f2d5a56bc505b77a85cfc26be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UNFbaHmKZ4FC0aCxIdcfkQ.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图8。在Matplotlib中自定义方框图(图片由作者/ Rizky MN提供)。</p></figure><p id="3bf0" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">你想改变盒子的颜色吗？你可以用这些设置来做。首先，您需要激活补丁艺术家，如下面的代码所示</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="46e0" class="mr ms je mn b gy mt mu l mv mw">patch_artist=True</span></pre><p id="6caf" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">然后，准备您的颜色，并使用此代码将其应用到方框图中</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="924e" class="mr ms je mn b gy mt mu l mv mw">colors = ['royalblue', 'lightblue', 'lightgreen', 'pink']<br/>for patch, color in zip(box['boxes'], colors):<br/>    patch.set_facecolor(color)</span></pre><p id="7c33" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">这是完整的代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="99c7" class="mr ms je mn b gy mt mu l mv mw">np.random.seed(123)<br/>all_data = [np.random.normal(0, std, 100) for std in range(10, 14)]</span><span id="5fcf" class="mr ms je mn b gy mx mu l mv mw">box = plt.boxplot(all_data, notch=False, patch_artist=True)</span><span id="7539" class="mr ms je mn b gy mx mu l mv mw">colors = ['royalblue', 'lightblue', 'lightgreen', 'pink']<br/>for patch, color in zip(box['boxes'], colors):<br/>    patch.set_facecolor(color)</span><span id="c75c" class="mr ms je mn b gy mx mu l mv mw">plt.ylim(-50, 50)</span></pre><p id="79d6" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">上面的代码将生成一个图形，如图9所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi of"><img src="../Images/a3436ff1aa8a443b9082d224383c73d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YQLAU4IN3dhmHeMVdBl4Yw.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图9。在Matplotlib中自定义方框图颜色(图片由作者/ Rizky MN提供)。</p></figure><h2 id="3e29" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">激活槽口</h2><p id="cfd0" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">您可以使用此参数在箱形图中显示凹口，如图10所示</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="80b0" class="mr ms je mn b gy mt mu l mv mw">notch=True</span></pre><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi of"><img src="../Images/668c1edcd129c9c793e79183374014ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*it922gRwNke7oTsPiDtgZw.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图10。在Matplotlib中嵌入凹口(图片由作者/ Rizky MN提供)。</p></figure><p id="046c" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以用这段代码重现图10</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="94e9" class="mr ms je mn b gy mt mu l mv mw">np.random.seed(123)<br/>all_data = [np.random.normal(0, std, 100) for std in range(10, 14)]</span><span id="b82a" class="mr ms je mn b gy mx mu l mv mw">box = plt.boxplot(all_data, notch=True, patch_artist=True)</span><span id="0924" class="mr ms je mn b gy mx mu l mv mw">colors = ['royalblue', 'lightblue', 'lightgreen', 'pink']<br/>for patch, color in zip(box['boxes'], colors):<br/>    patch.set_facecolor(color)</span><span id="5de9" class="mr ms je mn b gy mx mu l mv mw">plt.ylim(-50, 50)</span></pre><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/7c4630854a9e9fbfffee9f3d5eefe583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yu6JGe-1C4w8h1md6Kzq4w.png"/></div></div></figure><h2 id="67e4" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">02.小提琴情节</h2><p id="72c3" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">Violin图与box图非常相似，但没有定义异常值。分布中的所有数据都显示在一个内核函数中。为了创建一个小提琴情节，我使用了以下代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="0714" class="mr ms je mn b gy mt mu l mv mw">N = 50<br/>np.random.seed(140)<br/>viol = np.random.randn(N) * 2 + 1</span><span id="2a97" class="mr ms je mn b gy mx mu l mv mw">plt.figure()<br/>plt.violinplot(viol)</span></pre><p id="d2e7" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">该代码将向您展示一个小提琴图，如图11所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nz"><img src="../Images/a2f15ffa71eb69b9845a85aeac5db15f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KjwgSk9NIr1_5sUS7pq53g.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图11。Matplotlib中的默认小提琴情节(图片由作者/ Rizky MN提供)。</p></figure><p id="4cfb" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要水平显示它，您可以在方框图中使用相同的参数</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="1e50" class="mr ms je mn b gy mt mu l mv mw">vert=False</span></pre><p id="056a" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">默认情况下，violin图不显示中值和平均值。如果你想展示它，你需要插入这些参数</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="fc84" class="mr ms je mn b gy mt mu l mv mw">showmeans=True, showmedians=True</span></pre><p id="c36d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">如果我结合上面的参数并运行它，我将看到如图12所示的violin图。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oi"><img src="../Images/992c3a228f196b4ea91b619974f4f7e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wh2lfcsgnszWNqjpzdIoAQ.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图12。Matplotlib中带有中值和平均值的小提琴图(图片由作者/ Rizky MN提供)。</p></figure><p id="aff5" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">在图12中，我认为你不能区分哪里是中间值，哪里是平均值，因为它们有相似的颜色。要更改violin绘图中每个元素的颜色，如条形的颜色、中值、平均值、最小值和最大值，您需要将盒绘图代码定义为一个变量，如以下代码所示</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="2c75" class="mr ms je mn b gy mt mu l mv mw">violin_parts = plt.violinplot(data, showmedians=True, <br/>                              showmeans=True)</span></pre><p id="f7ee" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我生成四种不同的正态分布，定义为<strong class="le jo"> <em class="oj">数据</em> </strong>变量。</p><p id="9974" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要更改中值、平均值、条形图、最小值和最大值的颜色，可以使用以下代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="24a6" class="mr ms je mn b gy mt mu l mv mw">vmedian = violin_parts['cmedians']<br/>vmedian.set_edgecolor('r')</span><span id="6cee" class="mr ms je mn b gy mx mu l mv mw">vmean = violin_parts['cmeans']<br/>vmean.set_edgecolor('k')</span><span id="a7f0" class="mr ms je mn b gy mx mu l mv mw">vbars = violin_parts['cbars']<br/>vbars.set_edgecolor('k')</span><span id="247e" class="mr ms je mn b gy mx mu l mv mw">vmax = violin_parts['cmaxes']<br/>vmax.set_edgecolor('darkorange')</span><span id="3398" class="mr ms je mn b gy mx mu l mv mw">vmin = violin_parts['cmins']<br/>vmin.set_edgecolor('darkorange')</span></pre><p id="3b8b" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">定制的小提琴图如图13所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ok"><img src="../Images/21b28285fac04bdc3106eabbf616c4a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3i-dxS7KWecVG2skhYO-pQ.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图13。Matplotlib中定制的小提琴剧情(图片由作者提供)。</p></figure><p id="67c7" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">下面是生成图13的完整代码。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="ac72" class="mr ms je mn b gy mt mu l mv mw">np.random.seed(1214)<br/>data = [np.random.normal(0, std, 100) for std in range(10, 14)]</span><span id="5e46" class="mr ms je mn b gy mx mu l mv mw">plt.figure(figsize = (10, 6))<br/>violin_parts = plt.violinplot(data, showmedians=True, <br/>                              showmeans=True)</span><span id="7157" class="mr ms je mn b gy mx mu l mv mw">vbars = violin_parts['cbars']<br/>vbars.set_edgecolor('k')</span><span id="d29a" class="mr ms je mn b gy mx mu l mv mw">vmedian = violin_parts['cmedians']<br/>vmedian.set_edgecolor('r')</span><span id="feba" class="mr ms je mn b gy mx mu l mv mw">vmean = violin_parts['cmeans']<br/>vmean.set_edgecolor('k')</span><span id="980a" class="mr ms je mn b gy mx mu l mv mw">vmax = violin_parts['cmaxes']<br/>vmax.set_edgecolor('darkorange')</span><span id="6aa3" class="mr ms je mn b gy mx mu l mv mw">vmin = violin_parts['cmins']<br/>vmin.set_edgecolor('darkorange')</span></pre><p id="5203" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要改变身体(轮廓)的颜色，你需要使用这个代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="7a4c" class="mr ms je mn b gy mt mu l mv mw">for vp in violin_parts['bodies']:<br/>    vp.set_facecolor('orange')<br/>    vp.set_edgecolor('k')<br/>    vp.set_linewidth(3)</span></pre><p id="7a64" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">上面的代码将把主体颜色改为橙色，黑色作为边缘颜色，并将线条宽度调整为3，如图14所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ok"><img src="../Images/b6254ac7b7bfa9ce0f30d00e3c1af2c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tnDIexpLkr01-_79IQVURg.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图14。在Matplotlib中自定义小提琴情节的主体颜色(图片由作者/ Rizky MN提供)。</p></figure><p id="08dc" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">在图14中，我只显示了每个分布的中值。您可以用下面的代码重现图14</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="dda1" class="mr ms je mn b gy mt mu l mv mw">np.random.seed(1214)<br/>data = [np.random.normal(0, std, 100) for std in range(10, 14)]</span><span id="f08b" class="mr ms je mn b gy mx mu l mv mw">plt.figure(figsize = (10, 6))<br/>violin_parts = plt.violinplot(data, widths=0.9, showmedians=True)</span><span id="c727" class="mr ms je mn b gy mx mu l mv mw">for vp in violin_parts['bodies']:<br/>    vp.set_facecolor('orange')<br/>    vp.set_edgecolor('k')<br/>    vp.set_linewidth(3)</span></pre><p id="5c34" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我创建了一个完全定制的小提琴图，如图15所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ok"><img src="../Images/0f014d64c9581684ea22f179cd0f0129.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wwyqhR4pVWEdooNqFcJR5g.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图15。在Matplotlib中自定义小提琴剧情(图片由作者/ Rizky MN提供)。</p></figure><p id="d158" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以使用这段代码生成图15</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="f31a" class="mr ms je mn b gy mt mu l mv mw">np.random.seed(1214)<br/>data = [np.random.normal(0, std, 100) for std in range(10, 14)]</span><span id="55bf" class="mr ms je mn b gy mx mu l mv mw"># Create violin plot objects:<br/>plt.figure(figsize=(10, 6))<br/>violin_parts=plt.violinplot(data, showmedians=True, showmeans=True)</span><span id="aa3f" class="mr ms je mn b gy mx mu l mv mw"># Make the violin body blue with a red border:<br/>for vp in violin_parts['bodies']:<br/>    vp.set_facecolor('royalblue')<br/>    vp.set_edgecolor('k')<br/>    vp.set_linewidth(2)<br/>    vp.set_alpha(.8)</span><span id="31c1" class="mr ms je mn b gy mx mu l mv mw">colors = ['k', 'red', 'red', 'w', 'k']<br/>part = ['cbars','cmins','cmaxes','cmeans','cmedians']</span><span id="4a96" class="mr ms je mn b gy mx mu l mv mw">for i in range(len(part)):<br/>    vp = violin_parts[part[i]]<br/>    vp.set_edgecolor(colors[i])<br/>    vp.set_linewidth(2)</span></pre><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/7c4630854a9e9fbfffee9f3d5eefe583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yu6JGe-1C4w8h1md6Kzq4w.png"/></div></div></figure><h2 id="aaf3" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">03.圆形分格统计图表</h2><p id="76a1" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">在生成饼图之前，我使用这段代码创建了一些动物的数量数据</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="b253" class="mr ms je mn b gy mt mu l mv mw">labels = 'Frogs', 'Hogs', 'Dogs', 'Logs'<br/>numbers = [15, 30, 45, 10]</span></pre><p id="a301" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要在饼图中可视化它，您可以使用以下代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="b538" class="mr ms je mn b gy mt mu l mv mw">plt.pie(numbers)</span></pre><p id="528c" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">上面的代码将生成一个饼状图，如图16所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ol"><img src="../Images/b6ce57831b7a8932b12b8062afab9add.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b_AqunaGI0z7domkxZR1WA.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图16。Matplotlib中的默认饼图(图片由作者/ Rizky MN提供)。</p></figure><p id="a1e5" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">图16显示了一个简单的饼图。您可以使用此参数为每个动物数据指定标签</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="219f" class="mr ms je mn b gy mt mu l mv mw">labels = labels</span></pre><p id="0874" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">如果你想显示每种动物的数量，你需要插入这个参数</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="ae02" class="mr ms je mn b gy mt mu l mv mw">autopct='%1.1f%%'</span></pre><p id="f639" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以在图17中看到添加标签和数字后的饼图结果。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi om"><img src="../Images/d2bd0a37c6845885a30ac2a2e0ff72c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x_va9nAL-3cmWxYYZnRrJA.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图17。在Matplotlib中自定义饼图(图片由作者/ Rizky MN提供)。</p></figure><p id="4c00" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">下面是创建图17的完整代码。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="08b9" class="mr ms je mn b gy mt mu l mv mw">labels = 'Frogs', 'Hogs', 'Dogs', 'Logs'<br/>sizes = [15, 30, 45, 10]</span><span id="a195" class="mr ms je mn b gy mx mu l mv mw">plt.figure()</span><span id="c05f" class="mr ms je mn b gy mx mu l mv mw">plt.pie(sizes, labels = labels, autopct='%1.1f%%')</span></pre><p id="29c7" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以使用此参数更改饼图的起始角度</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="ebc6" class="mr ms je mn b gy mt mu l mv mw">startangle=90</span></pre><p id="8ed8" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">默认起始角度为0，应用于第一个数据(青蛙)。我在两个不同的角度自定义了起始角度，如图18所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi on"><img src="../Images/b57fc21807044f71da76292b321107ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4e7rctJE8ZaQw-AuRTaYBA.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图18。在Matplotlib中自定义饼图的起始角度(图片由作者/ Rizky MN提供)。</p></figure><p id="9939" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">下面是生成图18的代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="fbfb" class="mr ms je mn b gy mt mu l mv mw">labels = 'Frogs', 'Hogs', 'Dogs', 'Logs'<br/>sizes = [15, 30, 45, 10]<br/>explode1 = (0, 0.1, 0, 0)<br/>explode2 = (0, 0, 0.1, 0)</span><span id="7970" class="mr ms je mn b gy mx mu l mv mw">plt.figure(figsize=(10, 10))<br/>plt.subplot(121)<br/>plt.pie(sizes, labels=labels, autopct='%1.1f%%', startangle=90)<br/>plt.title('Startangle = 90$^\circ$')</span><span id="2346" class="mr ms je mn b gy mx mu l mv mw">plt.subplot(122)<br/>plt.pie(sizes, labels=labels, autopct='%1.1f%%', startangle=180)<br/>plt.title('Startangle = 180$^\circ$')</span></pre><p id="52be" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您还可以为特定的饼图留出空白，如图19所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oo"><img src="../Images/08edecec1c3456b24aaddf92d2f12822.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fv1VUXWjp26lKVBEPaUNYA.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图19。在Matplotlib中自定义饼图分解(图片由作者/ Rizky MN提供)。</p></figure><p id="c838" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以使用下面的代码重现图19</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="873a" class="mr ms je mn b gy mt mu l mv mw">labels = 'Frogs', 'Hogs', 'Dogs', 'Logs'<br/>sizes = [15, 30, 45, 10]<br/>explode1 = (0, 0.1, 0, 0)<br/>explode2 = (0, 0, 0.1, 0)</span><span id="9ca0" class="mr ms je mn b gy mx mu l mv mw">plt.figure(figsize=(10, 10))</span><span id="b0bf" class="mr ms je mn b gy mx mu l mv mw">plt.subplot(121)<br/>plt.pie(sizes, explode=explode1, labels=labels, <br/>        autopct='%1.1f%%', startangle=90)</span><span id="2f9a" class="mr ms je mn b gy mx mu l mv mw">plt.subplot(122)<br/>plt.pie(sizes, explode=explode2, labels=labels, <br/>        autopct='%1.1f%%', startangle=180)</span></pre><p id="f6bc" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以通过调整变量explode中的值来更改边距。</p><h2 id="8795" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">在饼图中应用不同的样式</h2><p id="415a" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">是否希望以不同的样式在饼图中显示数据？Yups，你可以看到图20。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi op"><img src="../Images/6b8e2a0d53347bbe2beca7edb41261df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cP5vFzw3-9TD5G2YUrPjTg.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图20。在饼图Matplotlib中应用不同的样式。</p></figure><p id="6b75" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">与之前的饼图不同的是，我将标签放在了图例中。要做到这一点，你需要使用这个论点</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="62fc" class="mr ms je mn b gy mt mu l mv mw">textprops={'color':"w"}</span></pre><p id="0c53" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">这个代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="9246" class="mr ms je mn b gy mt mu l mv mw">plt.legend(labels, bbox_to_anchor = (1., .95),  title="Labels Name")</span></pre><p id="8dbd" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以使用下面的代码重现图20</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="d70d" class="mr ms je mn b gy mt mu l mv mw">labels = 'Frogs', 'Hogs', 'Dogs', 'Logs'<br/>sizes = [15, 30, 45, 10]<br/>explode = (0, 0.05, 0, 0)</span><span id="0532" class="mr ms je mn b gy mx mu l mv mw">plt.figure(figsize=(7, 7))</span><span id="51d4" class="mr ms je mn b gy mx mu l mv mw">plt.pie(sizes, autopct='%1.1f%%', textprops={'color':"w"}, <br/>        explode = explode, startangle = 90)</span></pre><h2 id="98e4" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">饼图中的阴影</h2><p id="ce23" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">您可以使用此参数在饼图中添加阴影</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="9d3f" class="mr ms je mn b gy mt mu l mv mw">shadow=True</span></pre><p id="25b6" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">结果如图21所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi op"><img src="../Images/10569c6b46246d32c6559586d011a624.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bd2dkqCH8l473pWaxnt-Ig.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图21。在Matplotlib中的饼图中添加阴影(图片由作者/ Rizky MN提供)。</p></figure><p id="47f5" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我想我知道你在想什么:d .影子很丑吧？为此我尝试过很多替代方案；他们在这里</p><p id="431b" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">a.如果您正在使用Jupyter，您可以通过右键单击图形来手动保存您的饼图。然后，点击Save Image As，如图22所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oq"><img src="../Images/f07a4c9c344a2dd8636d3a61c0be9f18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dw2o0tU9DKD-9uAn4QuY4w.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图22。在Jupyter中手动保存图像(图片由作者/ Rizky MN提供)。</p></figure><p id="6a4e" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">保存的图像如图23所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div class="gh gi or"><img src="../Images/9368e5733e9d4acf39d824352b893a9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*wXysPki4JXfHkKYvybJYqw.png"/></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图23。Jupyter和Matplotlib中的备选保存图像(图片由作者/ Rizky MN提供)。</p></figure><p id="fd2a" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">b.另一种方法是添加白色笔画作为前景。要应用它，您需要使用以下代码从Matplotlib导入path_effects</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="2842" class="mr ms je mn b gy mt mu l mv mw">import matplotlib.patheffects as path_effects</span></pre><p id="05df" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">然后，定义饼图的变量名，如下面的代码所示</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="6eb5" class="mr ms je mn b gy mt mu l mv mw">patches, texts, autotexts = plt.pie(sizes, autopct='%1.1f%%', <br/>                                    textprops={'color':"w"}, <br/>                                    explode = explode, <br/>                                    startangle = 90, shadow=True)</span></pre><p id="539f" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">接下来，用下面的代码定制path_effects</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="5442" class="mr ms je mn b gy mt mu l mv mw">for patch in patches:<br/>    patch.set_path_effects([path_effects.Stroke(linewidth=2.5, <br/>                                                foreground = 'w')])</span></pre><p id="f146" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">这是完整的代码</p><figure class="mi mj mk ml gt iv"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="a364" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">如果您运行上面的代码，它将创建一个饼图，如图24所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi op"><img src="../Images/1a9e21a1f48bf168b0ad450c287ad88e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r6EHDKVxW9L1q4S_m2u38w.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图24。在饼图Matplotlib中添加前景笔划(图片由作者/ Rizky MN提供)。</p></figure><p id="2cc7" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">它并不完美，但我认为它比没有添加笔画更漂亮。您还可以将第一个和第二个选项结合起来，得到如图25所示的饼图。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div class="gh gi or"><img src="../Images/24e788a12fdc8087ab5a637ad2282b2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*RJ_CAde1lI2l1CWDAwxmZw.png"/></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图25。自定义饼图Matplotlib中的阴影。</p></figure><h2 id="a0f4" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">圆环图</h2><p id="3e7d" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">从Matplotlib中的饼图特性，您可以创建一个圆环图，如图26所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/1f7e3690c6c09717a517b0c20ca7b35f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6mhWpdlrzs4cMbpdOQmuwQ.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图26。Matplotlib中的简单圆环图(图片由作者/ Rizky MN提供)。</p></figure><p id="a737" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">下面是生成图26数据的代码。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="3611" class="mr ms je mn b gy mt mu l mv mw">size = 0.3<br/>vals = np.array([[60.], [37.], [29.]])</span><span id="a257" class="mr ms je mn b gy mx mu l mv mw">cmap = plt.get_cmap("tab20c")<br/>outer_colors = cmap(np.arange(3)*4)<br/>inner_colors = cmap(np.array([1, 2, 5, 6, 9, 10]))</span></pre><p id="df83" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">圆环图与饼图相似，但没有中心的完整半径。在图26中，我设置半径等于0.3。下面是生成图26的代码。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="7848" class="mr ms je mn b gy mt mu l mv mw">plt.figure(figsize=(10,10))</span><span id="f82b" class="mr ms je mn b gy mx mu l mv mw">plt.pie(vals.sum(axis=1), radius=1, colors=outer_colors,<br/>       wedgeprops=dict(width=size, edgecolor='w'))</span></pre><p id="17b8" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我还创建了两个不同的半径大小，如图27所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ot"><img src="../Images/e5ac67cdc0e96f46607aae72600d220a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bFF5jlwt23QHd-AFE7nPVg.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图27。圆环图Matplotlib中两种不同的半径大小(图片由作者/ Rizky MN提供)。</p></figure><p id="f593" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以用下面的代码重现图27。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="73ad" class="mr ms je mn b gy mt mu l mv mw">vals = np.array([[60.], [37.], [29.]])</span><span id="40f4" class="mr ms je mn b gy mx mu l mv mw">plt.figure(figsize=(10,10))</span><span id="3684" class="mr ms je mn b gy mx mu l mv mw">plt.subplot(121)<br/>plt.pie(vals.sum(axis=1), radius=1, colors=outer_colors,<br/>       wedgeprops=dict(width=.3, edgecolor='w'))<br/>plt.title('Size = 0.3')</span><span id="a83f" class="mr ms je mn b gy mx mu l mv mw">plt.subplot(122)<br/>plt.pie(vals.sum(axis=1), radius=1, colors=outer_colors,<br/>       wedgeprops=dict(width=.5, edgecolor='w'))<br/>plt.title('Size = 0.5')</span></pre><p id="edb9" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您还可以创建一个双圆环图，如图28所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/e484f3eadc656b66e09294be9a3ddfe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EcTGhTXGv1KB4f24BqdT2A.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图28。Matplotlib中的双圆环图(图片由作者/ Rizky MN提供)。</p></figure><p id="6292" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">下面是生成图28的代码。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="82f0" class="mr ms je mn b gy mt mu l mv mw">plt.figure(figsize=(10, 10))</span><span id="5852" class="mr ms je mn b gy mx mu l mv mw">size = 0.3<br/>vals = np.array([[60., 32.], [37., 40.], [29., 10.]])</span><span id="dc51" class="mr ms je mn b gy mx mu l mv mw">cmap = plt.get_cmap("tab20c")<br/>outer_colors = cmap(np.arange(3)*4)<br/>inner_colors = cmap(np.array([1, 2, 5, 6, 9, 10]))</span><span id="a244" class="mr ms je mn b gy mx mu l mv mw">plt.pie(vals.sum(axis=1), radius=1, colors=outer_colors,<br/>       wedgeprops=dict(width=size, edgecolor='w'))</span><span id="35d1" class="mr ms je mn b gy mx mu l mv mw">plt.pie(vals.flatten(), radius=1-size, colors=inner_colors,<br/>       wedgeprops=dict(width=size, edgecolor='w'))</span></pre><p id="574e" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">如果你阅读Matplotlib站点中的甜甜圈图文档，你会遇到一个漂亮的甜甜圈图，如图29所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ou"><img src="../Images/26da3ae174037bf90e9074757d9624f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hG64zUPegmHRc7Um5ncwGw.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图29。Matplotlib中一个漂亮的圆环图(图片由作者/ Rizky MN提供)。</p></figure><p id="4e57" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以使用这段代码创建图29。</p><figure class="mi mj mk ml gt iv"><div class="bz fp l di"><div class="oc od l"/></div></figure><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/7c4630854a9e9fbfffee9f3d5eefe583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yu6JGe-1C4w8h1md6Kzq4w.png"/></div></div></figure><h2 id="8039" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">04.极区图</h2><p id="aab9" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">在平面投影中，您将有一个x轴和y轴。在极轴投影中，你需要用半径和角度的形式来定义它，如图30所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ov"><img src="../Images/2cd8fd2aef4406f477350dc266316f23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V8V8hTMV1HPTFagR-jo0og.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图30。极射投影和平面投影的比较(图片由作者/ Rizky MN提供)。</p></figure><p id="4242" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">在极轴投影中，半径轴以圆半径的大小显示，角度以每个0度圆的角度为起点进行投影。要生成极轴投影，需要将投影类型定义为极轴，如以下参数所示。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="f36f" class="mr ms je mn b gy mt mu l mv mw">projection='polar'</span></pre><p id="f434" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">下面是生成图30的完整代码。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="23f3" class="mr ms je mn b gy mt mu l mv mw">r = np.linspace(0, 2, 100)<br/>theta = 2 * np.pi * r</span><span id="f090" class="mr ms je mn b gy mx mu l mv mw">fig = plt.figure(figsize=(13, 4))</span><span id="3ea3" class="mr ms je mn b gy mx mu l mv mw">ax1 = plt.subplot(121, projection='polar')<br/>ax1.scatter(theta, r, label = 'Polar Projection', s = 10)<br/>ax1.legend(bbox_to_anchor = (.85, 1.35))</span><span id="a4e5" class="mr ms je mn b gy mx mu l mv mw">ax2 = plt.subplot(122)<br/>ax2.scatter(theta, r, label = 'Planar Projection', s = 10)<br/>ax2.legend(bbox_to_anchor = (0.85, 1.35))<br/>ax2.set_xlabel('R')<br/>ax2.set_ylabel(r'$\theta$')</span></pre><p id="079c" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您还可以在极轴投影中以绘图线样式显示您的数据，如图31所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ov"><img src="../Images/043ff05ee3156dac9ebc9c00b1e29812.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r4i_X4Muykn92u1QnncOUg.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图31。在极投影中创建一条绘图线(图片由作者/ Rizky MN提供)。</p></figure><p id="0372" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以用这段代码重现图31</p><figure class="mi mj mk ml gt iv"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="61a0" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">接下来是在极坐标投影中创建一个条形图，如图32所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ow"><img src="../Images/9ad33282c4a9aeb373efc6d92fed43e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7OL-bBRvCw2AsmjFwscsCQ.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图32。极坐标投影中的条形图(图片由作者/ Rizky MN提供)。</p></figure><p id="f77a" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">当你看到图32时，也许你正在记起Matplotlib :D的徽标。为了创建图32，你需要使用以下代码生成数据</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="71d9" class="mr ms je mn b gy mt mu l mv mw">np.random.seed(10130)</span><span id="4b50" class="mr ms je mn b gy mx mu l mv mw">N = 20<br/>theta = np.linspace(0.0, 2 * np.pi, N, endpoint=False)<br/>radii = 10 * np.random.rand(N)<br/>width = np.random.rand(N) * .8 - .1<br/>colors = plt.cm.Spectral(radii / 10)</span></pre><p id="0c1d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要将其可视化，您可以使用以下代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="a73e" class="mr ms je mn b gy mt mu l mv mw">plt.figure(figsize=(7, 7))</span><span id="a3d6" class="mr ms je mn b gy mx mu l mv mw">ax = plt.subplot(111, projection='polar')<br/>ax.bar(theta, radii, width=width, bottom=0.0, <br/>       color=colors, alpha=0.5)</span></pre><p id="3c70" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">如果您对使用极坐标条形图生成Matplotlib徽标感兴趣，可以阅读此文档。</p><div class="is it gp gr iu ox"><a href="https://matplotlib.org/3.1.0/gallery/misc/logos2.html" rel="noopener  ugc nofollow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd jo gy z fp pc fr fs pd fu fw jn bi translated">Matplotlib徽标- Matplotlib 3.1.0文档</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">编辑描述</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">matplotlib.org</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl ja ox"/></div></div></a></div><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/7c4630854a9e9fbfffee9f3d5eefe583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yu6JGe-1C4w8h1md6Kzq4w.png"/></div></div></figure><h2 id="26d6" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">05.地理投影</h2><p id="7e35" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">要可视化您的地理数据，您可以使用Matplotlib提供的地理投影。有四种类型的投影:Aitoff、Hammer、Mollweide和Lambert投影。为了理解它，我将使用这段代码创建一个模拟数据</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="67a1" class="mr ms je mn b gy mt mu l mv mw">N = 100</span><span id="61d1" class="mr ms je mn b gy mx mu l mv mw">np.random.seed(157)<br/>long = np.random.random(N) * 360 - 180<br/>lat = np.random.random(N) * 180 - 90</span></pre><p id="3cdf" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要在Aitoff投影中将其可视化，可以使用以下代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="3135" class="mr ms je mn b gy mt mu l mv mw">plt.figure(figsize=(12, 7))<br/>plt.subplot(111, projection="aitoff")<br/>plt.scatter(long, lat, marker = '*', color = 'red', s = 40)<br/>plt.title("Aitoff")<br/>plt.grid(True)</span></pre><p id="2a6b" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">代码将向您显示一个图形，如图33所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pm"><img src="../Images/ec5ead10b0c9c077fbc0fbe2822b126d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DhV1cgTOkwz1-5I0749_8g.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图33。Matplotlib中的Aitoff投影(图片由作者/ Rizky MN提供)。</p></figure><p id="ec82" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">在艾托夫投影中，您需要确保您的数据以度为单位。</p><p id="08e6" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">接下来是锤子投影。您可以使用此代码在Hammer投影中显示您的数据</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="5914" class="mr ms je mn b gy mt mu l mv mw">plt.figure(figsize=(12, 7))<br/>plt.subplot(111, projection="hammer")<br/>plt.scatter(long, lat, marker = '*', color = 'red', s = 40)<br/>plt.title("Hammer")<br/>plt.grid(True)</span></pre><p id="25ee" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">锤子投影中显示的经度和纬度变量的单位是度。上面的代码将生成一个图形，如图34所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pm"><img src="../Images/7d8907d416b0ff4b69b3acd61254690f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eABrdeb1xLrho69VlmEjTQ.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图34。Matplotlib中的锤子投影(图片由作者/ Rizky MN提供)。</p></figure><p id="c9c6" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我不确定艾托夫投影和锤子投影有什么区别。如果你需要一些解释，你可以阅读这些链接。</p><div class="is it gp gr iu ox"><a href="https://en.wikipedia.org/wiki/Aitoff_projection" rel="noopener  ugc nofollow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd jo gy z fp pc fr fs pd fu fw jn bi translated">艾托夫投影</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">Aitoff投影是由David A. Aitoff于1889年提出的一种改进的方位地图投影。基于…</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">en.wikipedia.org</p></div></div><div class="pg l"><div class="pn l pi pj pk pg pl ja ox"/></div></div></a></div><div class="is it gp gr iu ox"><a href="https://en.wikipedia.org/wiki/Hammer_projection" rel="noopener  ugc nofollow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd jo gy z fp pc fr fs pd fu fw jn bi translated">锤子投影</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">哈默投影是恩斯特·哈默在1892年描述的一种等面积地图投影。使用相同的2:1椭圆…</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">en.wikipedia.org</p></div></div><div class="pg l"><div class="po l pi pj pk pg pl ja ox"/></div></div></a></div><p id="123d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">在Mollweide投影中，数据单位需要转换为弧度。下面是生成弧度数据的代码。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="d16c" class="mr ms je mn b gy mt mu l mv mw">N = 100</span><span id="e04d" class="mr ms je mn b gy mx mu l mv mw">np.random.seed(157)<br/>long = np.random.random(N) * 2 * np.pi  - np.pi<br/>lat = np.random.random(N) * np.pi - (np.pi / 2)</span></pre><p id="be13" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要在Mollweide投影中将其可视化，可以使用以下代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="58dc" class="mr ms je mn b gy mt mu l mv mw">plt.figure(figsize=(12, 7))<br/>plt.subplot(111, projection="mollweide")<br/>plt.scatter(long, lat, marker = '*', color = 'red', s = 40)<br/>plt.title("Mollweide")<br/>plt.grid(True)</span></pre><p id="e10d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">如果您运行上面的代码，它将创建一个图形，如图35所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pp"><img src="../Images/348fb55e93ddf606c606fc2e26f54919.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zymyPHavjuUrp_d1A60HtQ.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图35。Matplotlib中的Mollweide投影(图片由作者/ Rizky MN提供)。</p></figure><p id="173b" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">最后一个投影是Lambert投影，如图36所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pq"><img src="../Images/10f1759ab4ad20dec3ae8f9ec57b0dd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V1ptdhVdaP1_eWPM2hRicg.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图36。Matplotlib中的Lambert投影(图片由作者/ Rizky MN提供)。</p></figure><p id="5533" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">数据的单位是弧度。您可以使用这段代码重现图36。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="6c61" class="mr ms je mn b gy mt mu l mv mw">N = 100</span><span id="bd02" class="mr ms je mn b gy mx mu l mv mw">np.random.seed(157)<br/>long = np.random.random(N) * 2 * np.pi  - np.pi<br/>lat = np.random.random(N) * np.pi - (np.pi / 2)</span><span id="d686" class="mr ms je mn b gy mx mu l mv mw">plt.figure(figsize=(12, 12))<br/>plt.subplot(111, projection="lambert")<br/>plt.scatter(long, lat, marker = '*', color = 'red', s = 40)<br/>plt.title("Lambert")<br/>plt.grid(True)</span></pre><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/7c4630854a9e9fbfffee9f3d5eefe583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yu6JGe-1C4w8h1md6Kzq4w.png"/></div></div></figure><h2 id="bfe3" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">06.三维绘图</h2><p id="ba61" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">要创建3d绘图，需要将投影类型定义为3D，如以下参数所示</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="0ef0" class="mr ms je mn b gy mt mu l mv mw">projection = '3d'</span></pre><p id="a230" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">3D投影将给出如图37所示的结果。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pr"><img src="../Images/443ae0279117362b45f08a191149e989.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ISvKxqhxCZ6mvgZyD_5u_g.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图37。Matplotlib中的3D投影(图片由作者/ Rizky MN提供)。</p></figure><p id="5df4" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我用这段代码生成模拟数据。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="0443" class="mr ms je mn b gy mt mu l mv mw">N = 250</span><span id="ad40" class="mr ms je mn b gy mx mu l mv mw">np.random.seed(124)<br/>x = 15 * np.random.random(N)<br/>y = np.sin(x) + 0.25 * np.random.random(N)<br/>z = np.cos(x) + 0.25 * np.random.random(N)</span></pre><p id="6da0" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要可视化3D散点图中的数据，可以使用以下代码。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="00a5" class="mr ms je mn b gy mt mu l mv mw">plt.figure(figsize=(9, 6))<br/>ax = plt.axes(projection = '3d')<br/>ax.scatter3D(x, y, z, color = 'r')</span><span id="4679" class="mr ms je mn b gy mx mu l mv mw">ax.set_xlabel('x', fontsize = 20, labelpad = 20)<br/>ax.set_ylabel('y', fontsize = 20, labelpad = 20)<br/>ax.set_zlabel('z', fontsize = 20, labelpad = 20)</span></pre><p id="83ac" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">代码将生成一个3d绘图，如图38所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ps"><img src="../Images/b9c694021c3748281882c192167536ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DWmCUiVAVG_ZjH8jkU0Bzw.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图38。Matplotlib中的3D散点图(图片由作者/ Rizky MN提供)。</p></figure><p id="d7dc" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">据我所知，在最新的Matplotlib版本中，每个轴的纵横比总是相同的。要更改它，您可以使用以下代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="5239" class="mr ms je mn b gy mt mu l mv mw">ax.set_box_aspect((2., 1.5, 1.2))</span></pre><p id="db90" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我将x轴、y轴和z轴的纵横比更改为2:1.5:1.2。应用上面的代码后，您将有一个图，如图39所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pt"><img src="../Images/44d04bd29ba2ef94c4f21ac115230993.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*avvzIV1KPwuiX8V_DgZ9Hg.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图39。在Matplotlib中自定义3D散点图的特征。</p></figure><h2 id="90ff" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">三维绘图线</h2><p id="2939" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">您可以创建一个3D绘图线，如图40所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pu"><img src="../Images/cda6c9354dd6c137ec3125f14d505604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OqC4ZPSv5GcjBLJyHXXlIA.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图40。Matplotlib中的3D绘图线(图片由作者/ Rizky MN提供)。</p></figure><p id="1e6e" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以用这段代码重现图40。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="1506" class="mr ms je mn b gy mt mu l mv mw">N = 100</span><span id="8242" class="mr ms je mn b gy mx mu l mv mw">np.random.seed(124)<br/>xline = np.linspace(0, 15, N)<br/>yline = np.sin(xline) <br/>zline = np.cos(xline)</span><span id="24da" class="mr ms je mn b gy mx mu l mv mw">fig = plt.figure(figsize=(9, 6))<br/>ax = plt.axes(projection = '3d')<br/>ax.plot3D(xline, yline, zline)</span><span id="1242" class="mr ms je mn b gy mx mu l mv mw">ax.set_xlabel('x')<br/>ax.set_ylabel('y')<br/>ax.set_zlabel('z')</span><span id="41dd" class="mr ms je mn b gy mx mu l mv mw">ax.set_box_aspect((2, 1.5, 1.2))</span></pre><p id="7965" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">你可以用这个代码改变视角</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="50db" class="mr ms je mn b gy mt mu l mv mw">ax.view_init(10, 180)</span></pre><p id="a62b" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">view_init中的第一个参数是仰角，第二个参数是方位角。您可以看到不同角度的不同表示，如图41所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pv"><img src="../Images/4315cd9ca82da393545dc4482050515c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-tJ9QGPJEoOq0k6Zv-3VQw.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图41。在3D绘图中自定义视角(图片由作者/ Rizky MN提供)。</p></figure><h2 id="a0d6" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">三角形3D表面</h2><p id="26e5" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">要在Matplotlib中生成一个三角形的3D曲面，可以使用下面的代码。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="f29f" class="mr ms je mn b gy mt mu l mv mw">ax.plot_trisurf()</span></pre><p id="9a55" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我用这段代码生成了要在三角形3D表面中可视化的数据</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="cf50" class="mr ms je mn b gy mt mu l mv mw">N = 2000</span><span id="6331" class="mr ms je mn b gy mx mu l mv mw">np.random.seed(124)<br/>r = 2 * np.pi * np.random.random(N)<br/>theta = 20 * np.pi * np.random.random(N)</span><span id="c9ba" class="mr ms je mn b gy mx mu l mv mw">xdata = np.ravel(r * np.sin(theta))<br/>ydata = np.ravel(r * np.cos(theta))<br/>zdata = np.sin(xdata) + np.cos(ydata)</span></pre><p id="03d3" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以从上面图42中的数据看到三角形3D表面图。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pw"><img src="../Images/b77c76852dd0da8ebd63c9a0c8a4388a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iJd3jv0jAXEkADCkYq2_1w.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图42。Matplotlib中的三角形3D表面绘图(图片由作者/ Rizky MN提供)。</p></figure><p id="446c" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以用这段代码重现图42</p><figure class="mi mj mk ml gt iv"><div class="bz fp l di"><div class="oc od l"/></div></figure><h2 id="5a1f" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">3D等高线图</h2><p id="fed0" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">Matplotlib提供3D等高线图。您可以使用以下代码创建它</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="bd2f" class="mr ms je mn b gy mt mu l mv mw">ax.contour3D()</span></pre><p id="bd89" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我使用下面的代码生成模拟数据</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="d818" class="mr ms je mn b gy mt mu l mv mw">N = 100<br/>np.random.seed(3124)<br/>x = np.linspace(-2, 2, N) + np.random.random(N)<br/>y = np.linspace(-2, 2, N) + np.random.random(N)</span><span id="7b79" class="mr ms je mn b gy mx mu l mv mw">X, Y = np.meshgrid(x, y)<br/>Z = np.sin(X) + np.cos(Y)</span></pre><p id="6fba" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">为了形象化它，我运行以下代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="1928" class="mr ms je mn b gy mt mu l mv mw">fig = plt.figure(figsize=(9, 6))</span><span id="64af" class="mr ms je mn b gy mx mu l mv mw">ax = plt.axes(projection = '3d')<br/>ax.contour3D(X, Y, Z, cmap = 'Spectral')</span></pre><p id="5d01" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">定制之后，我的3D轮廓图如图43所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi px"><img src="../Images/bdaeac01fd1169f172f82487d98460c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tdHq8-4l8PmUxLRgM4-OXA.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图43。Matplotlib中的默认3D等高线图(图片由作者/ Rizky MN提供)。</p></figure><p id="7f9c" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以使用这段代码重现图43</p><figure class="mi mj mk ml gt iv"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="f071" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">默认情况下，Matplotlib在7个计数的等高线中生成3D等高线图。您可以通过在ax.contour3D()的第四个参数中写下您想要的计数来更改它，如下面的代码所示</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="9a1a" class="mr ms je mn b gy mt mu l mv mw">ax.contour3D(X, Y, Z, 256, cmap = 'Spectral')</span></pre><p id="152d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以在图44中看到不同的3D等高线图。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi py"><img src="../Images/afd1de0ad6902cf1109d557a4454a573.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F0wZgtm7Wsn7x9uveZ_UvQ.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图44。在Matplotlib中自定义3D等高线图(图片由作者/ Rizky MN提供)。</p></figure><p id="0f34" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">下面是生成图44的完整代码。</p><figure class="mi mj mk ml gt iv"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="91a9" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要显示颜色条，您可以使用以下代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="2f28" class="mr ms je mn b gy mt mu l mv mw">plt.colorbar()</span></pre><p id="c53c" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">需要的参数是您的3D等高线图。所以，如果你把你的图定义成一个变量，那是最好的。在我的代码中，它被定义为变量p。</p><p id="a293" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以使用前面图中应用的相同代码来改变视角，如图45所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pz"><img src="../Images/b674b033ab53e1f8901a9902b52c7bf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A3-ooe12vwDfoJqolsrBNA.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图45。在Matplotlib中使用颜色条自定义3D等高线图(图片由作者/ Rizky MN提供)。</p></figure><h2 id="ac08" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">3D等高线Matplotlib中的错误</h2><p id="caa8" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">我觉得Matplotlib 3D contour有bug，如图46所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pz"><img src="../Images/474f4b0b0765bfa78affcfc9d50b3026.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ORXkve5sbLQQgY06MOheZA.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图46。3D contour Matplotlib中的一个bug(图片作者/ Rizky MN)。</p></figure><p id="80ea" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要创建图46，您需要在前面的代码(创建图45的代码)中更改仰角和方位角的值。你明白我说的虫子是什么意思吗？如果你仔细分析图46，你会得到一个奇怪的特征。您可以在图47中看到它。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pz"><img src="../Images/f725bc290e8dcc76c0517ab91cb9dbc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uN1eutQJVkIKNZEa5V4TPA.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图47。3D contour Matplotlib中的一个bug(图片作者/ Rizky MN)。</p></figure><p id="aea4" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">蓝线覆盖的区域位置不对。我们看不到它，因为它被放在后面。我不确定是不是bug，但是我觉得需要Matplotlib来修复。</p><p id="146a" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">为了更详细地理解它，我在Matplotlib中引入了两种不同的轮廓表示，ax.contour()和ax.contourf()，如图48所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qa"><img src="../Images/ec820b369f8f7a4cc9d5287ad3715bef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bpr5H8IHS33p6P7I7hDHsQ.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图48。Matplotlib中3D等高线图的两种不同表示法(图片由作者/ Rizky MN提供)。</p></figure><p id="6148" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">contourf在ax.contourf中的意思是填充轮廓。因此，您可以在图48中看到ax.contour()和ax . contour()之间的区别。ax.contour具有与ax.contour3D()相似的默认轮廓计数，即7个计数。但是，ax.contourf()有不同的计数，它是8。您可以用这段代码重现图48</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="9576" class="mr ms je mn b gy mt mu l mv mw">N = 100<br/>np.random.seed(3124)<br/>x = np.linspace(-2, 2, N) + np.random.random(N)<br/>y = np.linspace(-2, 2, N) + np.random.random(N)</span><span id="0eee" class="mr ms je mn b gy mx mu l mv mw">X, Y = np.meshgrid(x, y)<br/>Z = np.sin(X) + np.cos(Y)</span><span id="a6e1" class="mr ms je mn b gy mx mu l mv mw">plt.figure(figsize=(14, 6))</span><span id="7fc0" class="mr ms je mn b gy mx mu l mv mw">ax1 = plt.subplot(121, projection = '3d')<br/>ax1.contour(X, Y, Z, cmap = 'Spectral')<br/>ax1.set_xlabel('x')<br/>ax1.set_ylabel('y')<br/>ax1.set_zlabel('z')</span><span id="5f9f" class="mr ms je mn b gy mx mu l mv mw">ax1.set_box_aspect((3, 3, 1))<br/>ax1.view_init(10, 100)<br/>ax1.set_title('Contour Default, elevation = 10, azimuth = 100')</span><span id="2b01" class="mr ms je mn b gy mx mu l mv mw">ax2 = plt.subplot(122, projection = '3d')<br/>ax2.contourf(X, Y, Z, cmap = 'Spectral')<br/>ax2.set_xlabel('x')<br/>ax2.set_ylabel('y')<br/>ax2.set_zlabel('z')</span><span id="43fa" class="mr ms je mn b gy mx mu l mv mw">ax2.set_box_aspect((3, 3, 1))<br/>ax2.view_init(10, 100)<br/>ax2.set_title('Contourf Default, elevation = 10, azimuth = 100')</span></pre><p id="b89d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以在图48的右图中仔细观察(contourf图)。我在3D轮廓中提到的错误没有被检测到。您可以在图49中看到更多细节。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qb"><img src="../Images/6048c23bc87e77b562da04ebc0efd511.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G0sEU62mKjy_0Yq1_1rn2Q.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图49。ax.contur()和ax.contourf()在检测Matplotlib的bug方面的比较(图片由作者/ Rizky MN提供)。</p></figure><p id="2109" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以看到，如果ax.contour()会给出相同的错误，但对于ax . contour()则不会。所以，如果你想在3D投影中可视化等高线图，我推荐你使用ax.contourf()。</p><h2 id="154c" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">线框绘图</h2><p id="a5c0" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">您可以使用以下代码在Matplotlib中生成一个线框绘图</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="fd7c" class="mr ms je mn b gy mt mu l mv mw">ax.plot_wireframe()</span></pre><p id="139c" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">下面是生成在线框图中可视化的模拟数据的代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="f649" class="mr ms je mn b gy mt mu l mv mw">N = 100<br/>np.random.seed(3124)<br/>x = np.linspace(-2, 2, N) + np.random.random(N)<br/>y = np.linspace(-2, 2, N) + np.random.random(N)</span><span id="501f" class="mr ms je mn b gy mx mu l mv mw">X, Y = np.meshgrid(x, y)<br/>Z = np.sin(X) + np.cos(Y)</span></pre><p id="b6ec" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">默认的线框图表如图50所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qc"><img src="../Images/79417196497acbdad786c4b5a68c2a33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8b3YF4lbjmxdLUPVd8Ma_w.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图50。Matplotlib中的默认线框绘图(图片由作者/ Rizky MN提供)。</p></figure><p id="8f26" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以用下面的代码重现图50</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="d4b1" class="mr ms je mn b gy mt mu l mv mw">N = 100<br/>np.random.seed(3124)<br/>x = np.linspace(-2, 2, N) + np.random.random(N)<br/>y = np.linspace(-2, 2, N) + np.random.random(N)</span><span id="5380" class="mr ms je mn b gy mx mu l mv mw">X, Y = np.meshgrid(x, y)<br/>Z = np.sin(X) + np.cos(Y)</span><span id="ccf2" class="mr ms je mn b gy mx mu l mv mw">fig = plt.figure(figsize=(10, 10))</span><span id="746a" class="mr ms je mn b gy mx mu l mv mw">ax = plt.axes(projection = '3d')<br/>ax.plot_wireframe(X, Y, Z, color = 'k', alpha = .2)</span></pre><p id="bb07" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">定制的线框图表如图51所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qd"><img src="../Images/22339650b551cfd6e93f113764f48a54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C37cuN9W4lTYm2nGXggN0Q.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图51。Matplotlib中的自定义线框绘图(图片由作者/ Rizky MN提供)。</p></figure><p id="5eb6" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我将线框层数改为5，将仰角设为60度，方位角设为100度。您可以使用这段代码生成图51。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="129b" class="mr ms je mn b gy mt mu l mv mw">N = 100<br/>np.random.seed(3124)<br/>x = np.linspace(-2, 2, N) + np.random.random(N)<br/>y = np.linspace(-2, 2, N) + np.random.random(N)</span><span id="0f89" class="mr ms je mn b gy mx mu l mv mw">X, Y = np.meshgrid(x, y)<br/>Z = np.sin(X) + np.cos(Y)</span><span id="67d2" class="mr ms je mn b gy mx mu l mv mw">fig = plt.figure(figsize=(9, 6))</span><span id="f1dc" class="mr ms je mn b gy mx mu l mv mw">ax = plt.axes(projection = '3d')# 3d contour plot<br/>ax.plot_wireframe(X, Y, Z, 5, color = 'k', alpha = .2)<br/>ax.set_xlabel('x')<br/>ax.set_ylabel('y')<br/>ax.set_zlabel('z')</span><span id="85b9" class="mr ms je mn b gy mx mu l mv mw">ax.set_box_aspect((2, 2, 1))<br/>ax.view_init(60, 100)</span><span id="4d12" class="mr ms je mn b gy mx mu l mv mw">ax.set_title('Wireframe counts = 5, elevation = 60, azimuth = 100')</span></pre><p id="3359" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">如果您想检查我们是否在ax.contour()和ax.contour3D()中遇到类似的错误，您可以将仰角更改为10度，将方位角更改为100度，如图52所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qd"><img src="../Images/f4f7f3c1b4b8f49978737cf2683d2da7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GCn8_sOfYOGkwlWMDKColQ.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图52。Matplotlib中的自定义线框绘图(图片由作者/ Rizky MN提供)。</p></figure><p id="4642" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我们没有遇到线框图中的错误。</p><h2 id="89f7" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">3D表面图</h2><p id="b69c" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">您可以使用此代码在Matplotlib中生成3D曲面图。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="01c9" class="mr ms je mn b gy mt mu l mv mw">ax.plot_surface()</span></pre><p id="55d1" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">定制的3D表面图如图53所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qe"><img src="../Images/17fef4888e0fc8d07fe9a8e337590f6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_iEPZU8KyDFxWi1FN0Fk8A.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图53。Matplotlib中的自定义3D表面图(图片由作者/ Rizky MN提供)。</p></figure><p id="514f" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以用这段代码重现图53</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="bfe1" class="mr ms je mn b gy mt mu l mv mw">N = 100<br/>np.random.seed(3124)<br/>x = np.linspace(-2, 2, N) + np.random.random(N)<br/>y = np.linspace(-2, 2, N) + np.random.random(N)</span><span id="ff20" class="mr ms je mn b gy mx mu l mv mw">X, Y = np.meshgrid(x, y)<br/>Z = np.sin(X) + np.cos(Y)</span><span id="119d" class="mr ms je mn b gy mx mu l mv mw">fig = plt.figure(figsize=(8, 8))</span><span id="9d42" class="mr ms je mn b gy mx mu l mv mw">ax = plt.axes(projection = '3d')# 3d contour plot<br/>ax.plot_surface(X, Y, Z, )<br/>ax.set_xlabel('x')<br/>ax.set_ylabel('y')<br/>ax.set_zlabel('z')</span><span id="5590" class="mr ms je mn b gy mx mu l mv mw">ax.set_box_aspect((2, 2, 1))<br/>ax.view_init(10, 100)</span><span id="b44c" class="mr ms je mn b gy mx mu l mv mw">ax.set_title('Plot surface Default, elevation = 10, azimuth = 100')</span></pre><p id="d4d6" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以使用此参数设置cstride和rstride的值</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="7835" class="mr ms je mn b gy mt mu l mv mw">rstride = 1, cstride = 1</span></pre><p id="cadb" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以在图54中看到默认cstride和rstride值与自定义值之间的差异。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qf"><img src="../Images/59456d5a569a9895446269da986a6afe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WofVpZqBlSO00A1PXHWjSw.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图54。Matplotlib中的自定义3D表面图(图片由作者/ Rizky MN提供)。</p></figure><p id="27dd" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要生成图54，您可以使用以下代码</p><figure class="mi mj mk ml gt iv"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="aa78" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">你不会遇到你在等高线图中遇到的bug，如图55所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qg"><img src="../Images/edf0e2c6cce820edb1dd612db7b7d211.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ILhLL6OSHF3xkyXYZ6BLxw.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图55。在Matplotlib中检查3D表面图中的bug(图片由作者/ Rizky MN提供)。</p></figure><h2 id="ea34" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">在Matplotlib中创建球</h2><p id="c0a4" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">您可以在Matplotlib中创建一个球，如图56所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qh"><img src="../Images/6abff12b2ec0f68275f3223b08a6ecf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fbp_pFTVhgUP8lABqbi4ww.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图56。在Matplotlib中创建球(图片由作者/ Rizky MN提供)。</p></figure><p id="f039" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以用下面的代码创建图56</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="4413" class="mr ms je mn b gy mt mu l mv mw">u = np.linspace(0, 2 * np.pi, 100)<br/>v = np.linspace(0, np.pi, 100)<br/>x = 10 * np.outer(np.cos(u), np.sin(v))<br/>y = 10 * np.outer(np.sin(u), np.sin(v))<br/>z = 10 * np.outer(np.ones(np.size(u)), np.cos(v))</span><span id="32aa" class="mr ms je mn b gy mx mu l mv mw">plt.figure(figsize=(10, 10))<br/>ax = plt.subplot(projection = '3d')<br/>ax.plot_surface(x, y, z, cmap = 'inferno')</span></pre><p id="a058" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以为它定制视角，如图57所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qi"><img src="../Images/2632b735d7b2474763fb043828774615.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kuysz-cnmGeYdfcvJqv-Pg.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图57。在Matplotlib中自定义球(图片作者/ Rizky MN)。</p></figure><p id="5d20" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以使用这段代码重现图57</p><figure class="mi mj mk ml gt iv"><div class="bz fp l di"><div class="oc od l"/></div></figure><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/7c4630854a9e9fbfffee9f3d5eefe583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yu6JGe-1C4w8h1md6Kzq4w.png"/></div></div></figure><h2 id="be38" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">07.2D等高线图</h2><p id="b91f" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">我要展示的最后一种绘图类型是2D等高线图。您可以使用此代码生成2D等高线图</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="c52a" class="mr ms je mn b gy mt mu l mv mw">plt.contour()</span></pre><p id="3f65" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">虽然名称是2D等高线图，但它显示的是3D数据。我使用这段代码创建模拟数据</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="e45f" class="mr ms je mn b gy mt mu l mv mw">N = 100<br/>np.random.seed(100)</span><span id="3577" class="mr ms je mn b gy mx mu l mv mw">x = np.linspace(-2, 2, N) + np.random.random(N)<br/>y = np.linspace(-2, 2, N) + np.random.random(N)</span><span id="30a2" class="mr ms je mn b gy mx mu l mv mw">X, Y = np.meshgrid(x, y)<br/>Z = np.sin(X) + np.cos(Y)</span></pre><p id="8947" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我将模拟数据呈现在等高线图中，如图58所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qj"><img src="../Images/71822d1fbbb4b1d6948d651845a309cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AtBZGpS-YBh4jiTkIHb59Q.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图58。Matplotlib中的默认2D等高线图(图片由作者/ Rizky MN提供)。</p></figure><p id="5101" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以用下面的代码重现图58</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="a529" class="mr ms je mn b gy mt mu l mv mw">N = 100<br/>np.random.seed(100)</span><span id="c124" class="mr ms je mn b gy mx mu l mv mw">x = np.linspace(-2, 2, N) + np.random.random(N)<br/>y = np.linspace(-2, 2, N) + np.random.random(N)</span><span id="2cff" class="mr ms je mn b gy mx mu l mv mw">X, Y = np.meshgrid(x, y)<br/>Z = np.sin(X) + np.cos(Y)</span><span id="fab3" class="mr ms je mn b gy mx mu l mv mw">plt.figure(figsize=(7, 5))<br/>plt.contour(X, Y, Z)<br/>plt.title('Contour 2D Default', pad = 10)</span></pre><p id="5595" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">我生成了两个定制的等高线图，如图59所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qk"><img src="../Images/02d71d71822f8ab94548ef2e313f6d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HkS1YnTDZmh-99MNiDpjDg.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图59。Matplotlib中的两个自定义2D等高线图(图片由作者/ Rizky MN提供)。</p></figure><p id="8de9" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">要创建图59，您可以使用以下代码</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="79ba" class="mr ms je mn b gy mt mu l mv mw">N = 100<br/>np.random.seed(100)</span><span id="610f" class="mr ms je mn b gy mx mu l mv mw">x = np.linspace(-2, 2, N) + np.random.random(N)<br/>y = np.linspace(-2, 2, N) + np.random.random(N)</span><span id="7b4c" class="mr ms je mn b gy mx mu l mv mw">X, Y = np.meshgrid(x, y)<br/>Z = np.sin(X) + np.cos(Y)</span><span id="34fb" class="mr ms je mn b gy mx mu l mv mw">plt.figure(figsize=(15, 5))</span><span id="5189" class="mr ms je mn b gy mx mu l mv mw">plt.subplot(121)<br/>plt.contour(X, Y, Z, 256)<br/>plt.title('Contour 2D counts = 256, cmap = viridis', pad = 10)<br/>plt.colorbar()</span><span id="a7c3" class="mr ms je mn b gy mx mu l mv mw">plt.subplot(122)<br/>plt.contour(X, Y, Z, 256, cmap = 'Spectral')<br/>plt.colorbar()<br/>plt.title('Contour 2D counts = 256, cmap = Spectral', pad = 10)</span></pre><p id="97ee" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">同样，你可以生成填充到2D投影中的等高线，如图60所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ql"><img src="../Images/28d883755a359b66aa742b9e4101abf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UHUSGW1WdP1itIt5WBlT-Q.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图60。Matplotlib中的默认轮廓图(图片由作者/ Rizky MN提供)。</p></figure><p id="62b9" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以用下面的代码生成图60</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="d3e3" class="mr ms je mn b gy mt mu l mv mw">N = 100<br/>np.random.seed(100)</span><span id="53b4" class="mr ms je mn b gy mx mu l mv mw">x = np.linspace(-2, 2, N) + np.random.random(N)<br/>y = np.linspace(-2, 2, N) + np.random.random(N)</span><span id="2efe" class="mr ms je mn b gy mx mu l mv mw">X, Y = np.meshgrid(x, y)<br/>Z = np.sin(X) + np.cos(Y)**3</span><span id="8ee4" class="mr ms je mn b gy mx mu l mv mw">plt.figure(figsize=(7, 5))<br/>plt.contourf(X, Y, Z, cmap = 'Spectral')<br/>plt.colorbar()</span><span id="cf0c" class="mr ms je mn b gy mx mu l mv mw">plt.title('Contourf 2D Default', pad = 10)</span></pre><p id="3f30" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">这里我生成了两个不同的contourf图，如图61所示。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qk"><img src="../Images/e538d135f3f44c0f3cffe7d23c0459fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*88-GGE1LULfz5p0bjT5TXg.png"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">图61。Matplotlib中两个自定义的confourf图(图片由作者/ Rizky MN提供)。</p></figure><p id="d4f7" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">您可以使用这段代码生成图61</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="602f" class="mr ms je mn b gy mt mu l mv mw">N = 100<br/>np.random.seed(100)</span><span id="5888" class="mr ms je mn b gy mx mu l mv mw">x = np.linspace(-2, 2, N) + np.random.random(N)<br/>y = np.linspace(-2, 2, N) + np.random.random(N)</span><span id="a472" class="mr ms je mn b gy mx mu l mv mw">X, Y = np.meshgrid(x, y)<br/>Z = np.sin(X) + np.cos(Y)**3</span><span id="c2df" class="mr ms je mn b gy mx mu l mv mw">plt.figure(figsize=(15, 5))</span><span id="8f1b" class="mr ms je mn b gy mx mu l mv mw">plt.subplot(121)<br/>plt.contourf(X, Y, Z, 50, cmap = 'inferno')<br/>plt.colorbar()</span><span id="0bc6" class="mr ms je mn b gy mx mu l mv mw">plt.title('Contourf 2D counts = 50', pad = 10)</span><span id="4153" class="mr ms je mn b gy mx mu l mv mw">plt.subplot(122)<br/>plt.contourf(X, Y, Z, 200, cmap = 'inferno')<br/>plt.colorbar()</span><span id="e07a" class="mr ms je mn b gy mx mu l mv mw">plt.title('Contourf 2D counts = 200', pad = 10)</span></pre><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/7c4630854a9e9fbfffee9f3d5eefe583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yu6JGe-1C4w8h1md6Kzq4w.png"/></div></div></figure><h2 id="f991" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">结论</h2><p id="10fb" class="pw-post-body-paragraph lc ld je le b lf no ko lh li np kr lk ll nq ln lo lp nr lr ls lt ns lv lw lx im bi translated">在技术时代，数据可视化对于从小数据或大数据中分析数据具有重要意义。我们需要它来全面了解我们的数据。可以与Matplotlib一起使用的各种类型的可视化。这只是python用Matplotlib绘图的一小部分。在这个Matplotlib指南系列(第1部分和第2部分)中，我生成了101个图形。如果你读完了所有的部分，你需要花你的48分钟:D，我希望这个故事可以帮助你把你的数据可视化成各种各样的情节类型。</p><h2 id="db8d" class="mr ms je bd my mz na dn nb nc nd dp ne ll nf ng nh lp ni nj nk lt nl nm nn jk bi translated">如果你喜欢这篇文章，这里有一些你可能喜欢的其他文章:</h2><div class="is it gp gr iu ox"><a rel="noopener follow" target="_blank" href="/5-powerful-tricks-to-visualize-your-data-with-matplotlib-16bc33747e05"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd jo gy z fp pc fr fs pd fu fw jn bi translated">使用Matplotlib可视化数据的5个强大技巧</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">如何使用LaTeX字体，创建缩放效果，发件箱图例，连续错误，以及调整框填充边距</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="qm l pi pj pk pg pl ja ox"/></div></div></a></div><div class="is it gp gr iu ox"><a rel="noopener follow" target="_blank" href="/matplotlib-styles-for-scientific-plotting-d023f74515b4"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd jo gy z fp pc fr fs pd fu fw jn bi translated">用于科学绘图的Matplotlib样式</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">为您的科学数据可视化定制Matplotlib</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="qn l pi pj pk pg pl ja ox"/></div></div></a></div><div class="is it gp gr iu ox"><a rel="noopener follow" target="_blank" href="/creating-colormaps-in-matplotlib-4d4de78a04b8"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd jo gy z fp pc fr fs pd fu fw jn bi translated">在Matplotlib中创建色彩映射表</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">从颜色列表中创建和定制自己的色彩映射表的指南</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="qo l pi pj pk pg pl ja ox"/></div></div></a></div><div class="is it gp gr iu ox"><a rel="noopener follow" target="_blank" href="/customizing-multiple-subplots-in-matplotlib-a3e1c2e099bc"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd jo gy z fp pc fr fs pd fu fw jn bi translated">在Matplotlib中自定义多个子情节</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">使用subplot、add_subplot和GridSpec在Matplotlib中创建复杂subplot的指南</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="qp l pi pj pk pg pl ja ox"/></div></div></a></div><div class="is it gp gr iu ox"><a rel="noopener follow" target="_blank" href="/introduction-to-big-data-a-simple-code-to-read-1-25-billion-rows-c02f3f166ec9"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd jo gy z fp pc fr fs pd fu fw jn bi translated">Vaex大数据简介—读取12.5亿行的简单代码</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">用Python高效读取和可视化12.5亿行星系模拟数据</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="qq l pi pj pk pg pl ja ox"/></div></div></a></div><p id="af5d" class="pw-post-body-paragraph lc ld je le b lf lg ko lh li lj kr lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">仅此而已。感谢您阅读这个故事。喜欢就评论分享。我还建议您关注我的帐户，以便在我发布新故事时收到通知。</p></div></div>    
</body>
</html>