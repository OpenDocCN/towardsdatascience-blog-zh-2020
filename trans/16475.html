<html>
<head>
<title>How Python Helped Select My New Home — Part 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python如何帮助我选择新家——第3部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-python-helped-select-my-new-home-part-3-220cd5af592b?source=collection_archive---------37-----------------------#2020-11-13">https://towardsdatascience.com/how-python-helped-select-my-new-home-part-3-220cd5af592b?source=collection_archive---------37-----------------------#2020-11-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ebca00b46bd0a98ed50692a0f5e68fe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZxaJnIwmG3NbFBcG"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@christianchen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">克里斯蒂安·陈</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="f42c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你是这个系列的新手，我建议你先看看《T4》第一部和第二部<a class="ae kc" rel="noopener" target="_blank" href="/how-python-helped-select-my-new-home-part-2-470e967553e1"/>。否则，欢迎回来！像每一集《网飞》一样，这里有一个对之前发生的事情的快速回顾。</p><blockquote class="lb"><p id="6325" class="lc ld iq bd le lf lg lh li lj lk la dk translated"><em class="ll">*提示闪回* </em></p></blockquote><blockquote class="lm ln lo"><p id="6c03" class="kd ke lp kf b kg lq ki kj kk lr km kn ls lt kq kr lu lv ku kv lw lx ky kz la ij bi translated">在我的按单生产(BTO)申请中，我想方设法得到了一个排队号来选择一个单元。在等待赴约的漫长过程中，我发现整个单位监控过程令人惊讶地<strong class="kf ir">疲惫</strong>和<strong class="kf ir">低效</strong>。因此，我创建了BTO巴迪，作为一个基本的电报机器人，它能为我自动进行搜集和监控。</p><p id="c37b" class="kd ke lp kf b kg kh ki kj kk kl km kn ls kp kq kr lu kt ku kv lw kx ky kz la ij bi translated">它很快在其他申请人中流行起来，这促使我开发了更多的功能，如识别受欢迎的单元、计算辍学率，甚至网站规划分析。</p><p id="64fd" class="kd ke lp kf b kg kh ki kj kk kl km kn ls kp kq kr lu kt ku kv lw kx ky kz la ij bi translated">BTO好友现在可以在<a class="ae kc" href="https://t.me/btobuddy_bot" rel="noopener ugc nofollow" target="_blank"> Telegram </a>和<a class="ae kc" href="https://btobuddy.com/" rel="noopener ugc nofollow" target="_blank"> Web </a>上找到。</p></blockquote><p id="64bd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">截至2020年11月11日，BTO Buddy已经拥有超过7，000名用户，日活跃用户(DAU)约为1，000名。🥳，我真心感谢迄今为止我所得到的所有支持！</p><p id="79de" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我将介绍我在开发预测约会日期的新功能时所面临的挑战之一。</p></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="f58d" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">背景故事</h1><blockquote class="lm ln lo"><p id="3206" class="kd ke lp kf b kg kh ki kj kk kl km kn ls kp kq kr lu kt ku kv lw kx ky kz la ij bi translated">“对于开发的每个功能，都必须有一些过去的痛苦”</p></blockquote><p id="f5c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦申请人成功收到一个排队号，他们必须等待的下一条信息就是他们的预约日期。他们的排队人数越多，等待的时间就越长。在这次约会中，他们将选择他们永远的家。</p><p id="38a3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">平均而言，申请人将在实际日期前两周收到预约日期。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/53aef404ff36008bb0ffab3910c4712d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*q-kvYAVJXJl6H7FFCbP1cg.jpeg"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated"><em class="ll"> BTO是一个等待的游戏——图片由</em> <a class="ae kc" href="https://imgflip.com/memegenerator" rel="noopener ugc nofollow" target="_blank"> <em class="ll"> imgflip </em> </a>提供</p></figure><p id="0bf3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在申请人收到他们的预约日期之前，没有官方途径了解现在发生了什么，也没有当前的排队号。因此，精明的申请人决定<strong class="kf ir">众包</strong>并在项目特定的电报组中分享他们的排队号和预约日期。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/4780d02f3bfc45b9eb8002dc3162937c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*vtGQJ95xAr580HlDMNIPhA.jpeg"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">众包预约日期和排队号示例—图片由<a class="ae kc" href="http://www.zhunhung.com" rel="noopener ugc nofollow" target="_blank">作者</a>提供</p></figure><p id="a567" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个巧妙的变通方法帮助许多其他人了解了每天的约会次数，并估计了他们可能收到约会日期的时间。然而，这种方法有两个问题<strong class="kf ir"/>:</p><ol class=""><li id="3f49" class="nj nk iq kf b kg kh kk kl ko nl ks nm kw nn la no np nq nr bi translated">不是每个人都愿意贡献，因为排队号是个人的事情。</li><li id="9593" class="nj nk iq kf b kg ns kk nt ko nu ks nv kw nw la no np nq nr bi translated">聊天会收到垃圾邮件，其中包含复制粘贴消息来“更新”列表。</li></ol><p id="e40e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lp">你也许能明白我的意思..</em></p></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="735f" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">构建问题</h1><p id="8795" class="pw-post-body-paragraph kd ke iq kf b kg nx ki kj kk ny km kn ko nz kq kr ks oa ku kv kw ob ky kz la ij bi translated">希望你现在能想象他们被蒙在鼓里有多不舒服。鉴于BTO好友的用户注册过程收集了两个主要数据点:<strong class="kf ir">队列号</strong>和<strong class="kf ir">预约日期</strong>，我们可以解决这个问题并将其打包成一个特性。</p><h2 id="3c2b" class="oc mg iq bd mh od oe dn ml of og dp mp ko oh oi mt ks oj ok mx kw ol om nb on bi translated">目标</h2><p id="f7f2" class="pw-post-body-paragraph kd ke iq kf b kg nx ki kj kk ny km kn ko nz kq kr ks oa ku kv kw ob ky kz la ij bi translated">#1 —提供可信、清晰的预约日期和排队号视图。</p><p id="62c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">#2 —给定一个没有预约日期的队列号，预测预约日期。</p><h2 id="ea29" class="oc mg iq bd mh od oe dn ml of og dp mp ko oh oi mt ks oj ok mx kw ol om nb on bi translated">考虑</h2><ul class=""><li id="db76" class="nj nk iq kf b kg nx kk ny ko oo ks op kw oq la or np nq nr bi translated">与众包方法不同，为了达到最佳效果，我们必须<strong class="kf ir">利用每个用户的数据</strong>，而不是在自愿的基础上。</li><li id="4ed0" class="nj nk iq kf b kg ns kk nt ko nu ks nv kw nw la or np nq nr bi translated">确保用户的<strong class="kf ir">匿名性</strong>,这样队列编号就不会识别用户。在众包方法中，用户必须复制并粘贴信息来添加他们的详细信息。鉴于电报鼓励匿名，这可能会暴露他们自己的身份。</li></ul></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="a339" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">挑战</h1><p id="5f63" class="pw-post-body-paragraph kd ke iq kf b kg nx ki kj kk ny km kn ko nz kq kr ks oa ku kv kw ob ky kz la ij bi translated">每当我们处理用户贡献的数据时，很可能会有<strong class="kf ir">噪音</strong>。在我们的例子中，用户在注册过程中提供了队列号和预约日期。因此，很容易出现<strong class="kf ir">恶作剧行为</strong>。</p><p id="9f2a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以下是它在日历视图中的突出显示:</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi os"><img src="../Images/57f0e451ea836f3ae7aabef5ba8a34a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KnjQJcj1YibfxPnAaAMw0g.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">BTO好友网站上的日历视图带有误导性数据—图片由<a class="ae kc" href="http://www.zhunhung.com" rel="noopener ugc nofollow" target="_blank">作者</a>提供</p></figure><p id="1a4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这阻碍了我们的两个目标，因为它不仅看起来不可靠，而且当我们试图预测约会日期时，它可能会扰乱我们的模型。因此，我们必须首先清理数据，使其可用。</p><h2 id="2ef8" class="oc mg iq bd mh od oe dn ml of og dp mp ko oh oi mt ks oj ok mx kw ol om nb on bi translated">建立联系</h2><p id="1720" class="pw-post-body-paragraph kd ke iq kf b kg nx ki kj kk ny km kn ko nz kq kr ks oa ku kv kw ob ky kz la ij bi translated">为了使数据可用，我们需要删除不符合增长趋势的数据。在我们的例子中，我们需要检测并删除队列号214和253。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi os"><img src="../Images/b3f2b86a521942d14e100ff62e12ee28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gFX4qw0zeWOICDiJiGrM4g.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">表格视图:移除不流动的数字—图片由<a class="ae kc" href="http://www.zhunhung.com" rel="noopener ugc nofollow" target="_blank">作者</a>提供</p></figure><p id="9871" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你曾经在诸如<a class="ae kc" href="https://www.hackerrank.com/" rel="noopener ugc nofollow" target="_blank">黑客排名</a>或<a class="ae kc" href="https://leetcode.com/" rel="noopener ugc nofollow" target="_blank"> Leetcode </a>的平台上练习算法问题(我很少这样做😬)，你可能会意识到这是现实生活中<a class="ae kc" href="https://en.wikipedia.org/wiki/Longest_increasing_subsequence" rel="noopener ugc nofollow" target="_blank">最长增长序列</a> (LIS)问题的一种表现🤯不知道是不是只有我，但当我知道这种联系时，我感到<strong class="kf ir">疯狂</strong> <strong class="kf ir">满足</strong>。我一直想知道在课堂上获得的理论知识如何应用到我们的日常生活中。</p><p id="f216" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您仍然看不到链接，这里有一个关于LIS问题如何很好地适合我的上下文的简单解释:</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/51189a35c89d3a936a7e8e55126e1255.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*bRqiFzd6WAlvVJ8oXt-Wjw.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">图片由<a class="ae kc" href="http://www.zhunhung.com" rel="noopener ugc nofollow" target="_blank">作者</a></p></figure><p id="44c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">给定用蓝色划分的16个队列号，我想识别出<strong class="kf ir">不属于增长趋势</strong>中的哪些队列号，并删除它们。在这种情况下，通过删除214和253，我的数据现在按顺序运行。这在假设大部分数据都正确输入的情况下效果很好。</p><p id="1c56" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">求解LIS的算法可以用<strong class="kf ir">动态规划来完成。</strong>为了保持这篇文章的简单，我将不讨论这个算法。如果你感兴趣，网上有很多解释和代码(例如<a class="ae kc" href="https://www.geeksforgeeks.org/longest-increasing-subsequence-dp-3/" rel="noopener ugc nofollow" target="_blank"> GeeksForGeeks </a>)。</p></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="7c8b" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated"><strong class="ak">预测</strong></h1><p id="f1b0" class="pw-post-body-paragraph kd ke iq kf b kg nx ki kj kk ny km kn ko nz kq kr ks oa ku kv kw ob ky kz la ij bi translated">利用我们新清理的数据，我们对数据进行转换，以使我们将<strong class="kf ir">队列号</strong>作为独立变量(我们想要用来预测的变量)，将<em class="lp"> X </em>和<strong class="kf ir">预约天数</strong>作为因变量(我们想要预测的变量)。</p><p id="1b75" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们使用当前日期作为基线。例如，如果我们在2020年10月15日进行预测，我们从<em class="lp">日期</em>字段中减去<em class="lp">2020–10–15</em>，以获得距约会还有N <strong class="kf ir">天，即剩余<em class="lp">天</em>。</strong></p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/d0bd7412cf3f7ae5cc4cb636724101bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:372/format:webp/1*_SPvi2skCzDKpyjASavI6w.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">图片作者<a class="ae kc" href="http://www.zhunhung.com" rel="noopener ugc nofollow" target="_blank">作者</a></p></figure><p id="ce97" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们剩下的就是将数据拟合到一个简单的线性回归模型中，并将预测的剩余天数添加到当前日期。</p><p id="fa43" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">BTO好友现在有了一个新功能✨</p></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="2b48" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">正在运行的功能</h1><h2 id="2a58" class="oc mg iq bd mh od oe dn ml of og dp mp ko oh oi mt ks oj ok mx kw ol om nb on bi translated">电报应用</h2><p id="b8ae" class="pw-post-body-paragraph kd ke iq kf b kg nx ki kj kk ny km kn ko nz kq kr ks oa ku kv kw ob ky kz la ij bi translated">用户可以点击“<em class="lp">Appt Dates”</em>按钮，查看与每天第一个和最后一个队列号配对的<strong class="kf ir">匿名</strong>预约日期列表。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/441b2d2f4eb0940b9619bc4f6a8a4edf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*ypEZLhSn0_Nm8WOe2bRjmg.jpeg"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">目标1的解决方案—图片由<a class="ae kc" href="http://www.zhunhung.com" rel="noopener ugc nofollow" target="_blank">作者</a>提供</p></figure><h2 id="c45a" class="oc mg iq bd mh od oe dn ml of og dp mp ko oh oi mt ks oj ok mx kw ol om nb on bi translated">Web应用程序</h2><p id="87a0" class="pw-post-body-paragraph kd ke iq kf b kg nx ki kj kk ny km kn ko nz kq kr ks oa ku kv kw ob ky kz la ij bi translated">没有预约日期的用户可以在BTO好友网站的日历界面上看到他们的计划预约日期。为了鼓励高级用户注册，这个特性只对高级用户可用😂</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ow"><img src="../Images/bb449cff0f1f4ceb65e5935ff0efb0af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lhSucte1fa7HMb2hheWAww.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">目标2的解决方案。(注:周六没有预约，因为HDB是休息日)——图片由<a class="ae kc" href="http://www.zhunhung.com" rel="noopener ugc nofollow" target="_blank">作者</a>提供</p></figure><p id="6b8a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的例子中，用户的队列号是300，模型预测约会是在2020年11月29日。听起来差不多！</p></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="168b" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">包扎</h1><p id="ec23" class="pw-post-body-paragraph kd ke iq kf b kg nx ki kj kk ny km kn ko nz kq kr ks oa ku kv kw ob ky kz la ij bi translated">您可能想知道预测是否准确，因为我使用的回归只有一个特征。令人惊讶的是，我收到了几个用户的反馈，说预计的日期是HDB安排的<strong class="kf ir">确切日期</strong>。由于数据很少，这可能是我能采用的最好的方法之一。毕竟简单是关键！</p><p id="1353" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我可以自豪地说，BTO巴迪是由计算机视觉和…</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ox"><img src="../Images/4d567288e9e758b5ede6d112bc500ffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KRozfCIVul8AIlw-.jpg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">线性回归仍然是一个ML算法好吧—<em class="ll">Image By</em><a class="ae kc" href="https://memegenerator.net/" rel="noopener ugc nofollow" target="_blank"><em class="ll">meme generator</em></a></p></figure><p id="7bce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于第4部分(可能是最后一部分)，我将探索预测单元被占用的顺序和理想地解释这些因素的主题。<br/>敬请期待！</p><p id="e08b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">免责声明</strong>:我基于上下文知识对预测结果做了进一步的后处理，以提高其可靠性。因此，如果你打算复制这项工作，它可能对你有用，也可能没用。</p><p id="4637" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lp">大喊到</em> <a class="ae kc" href="https://dennisang.com/" rel="noopener ugc nofollow" target="_blank"> <em class="lp">丹尼斯</em> </a> <em class="lp">为李斯提示！</em></p></div></div>    
</body>
</html>