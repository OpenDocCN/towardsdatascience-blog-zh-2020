<html>
<head>
<title>Simple data visualisations in Python that you will find useful</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中简单的数据可视化，你会发现很有用</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/simple-data-visualisations-in-python-that-you-will-find-useful-5e42c92df51e?source=collection_archive---------26-----------------------#2020-10-12">https://towardsdatascience.com/simple-data-visualisations-in-python-that-you-will-find-useful-5e42c92df51e?source=collection_archive---------26-----------------------#2020-10-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4143" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">将这些图用于您的数据科学项目</h2></div><p id="f9fd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">能够有效地使用数据可视化是数据科学家的一项重要技能。可视化数据有助于我们轻松地消化信息，并提取出难以提取的见解。在本帖中，我们将看看5种类型的图，分别是<em class="le"> Seaborn </em>和<em class="le"> Matplotlib </em>，以及它们在数据科学项目中的应用示例。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/ca8b87b577badd6fc680de8d1e807658.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZlhbeRt0GcQMZJEr"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">在<a class="ae lv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae lv" href="https://unsplash.com/@pawel_czerwinski?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">paweczerwiński</a>拍摄的照片</p></figure><p id="bd5d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2020年9月，Seaborn发布了一个主要版本:v0.11.0。在这篇文章中，我们将使用这个版本的一些新特性和增强功能。特别是，如果您使用的是早期版本，您会发现第3节和第4节中示例数据集的列名和分布图的功能是不同的。因此，请确保您的Seaborn版本已更新。你可以在这里找到<a class="ae lv" href="https://seaborn.pydata.org/whatsnew.html" rel="noopener ugc nofollow" target="_blank">发布的详细信息。</a></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="d0d1" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">0.资料组📦</h1><p id="edc7" class="pw-post-body-paragraph ki kj it kk b kl mv ju kn ko mw jx kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">让我们导入包并更新图表的默认设置，以节省调整单个图的时间，并为图表添加一点个人风格:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="9416" class="nf me it nb b gy ng nh l ni nj"># Import packages<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt</span><span id="3b2a" class="nf me it nb b gy nk nh l ni nj"># Update default settings<br/>sns.set(style='whitegrid', context='talk', <br/>        palette=['#62C370', '#FFD166', '#EF476F'])</span></pre><p id="d68c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想了解更多关于调整图表默认设置的信息，你可能会发现<a class="ae lv" rel="noopener" target="_blank" href="/6-simple-tips-for-prettier-and-customised-plots-in-seaborn-python-22f02ecc2393">这篇文章</a>很有用。我们将使用Seaborn内置的企鹅数据集:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="4170" class="nf me it nb b gy ng nh l ni nj"># Import dataset<br/>df = sns.load_dataset('penguins').rename(columns={'sex': 'gender'})<br/>df</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nl"><img src="../Images/85d21c809c8c2686331d46bb34eae649.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HUW7DIPHDf1s9KfdRYtbvQ.png"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="95d7" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">📍 1.热图:sns.heatmap():</h1><p id="630c" class="pw-post-body-paragraph ki kj it kk b kl mv ju kn ko mw jx kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">让我们从我最喜欢的一个有很多应用的情节开始。简单地说，热图是一个颜色编码的表格。热图可用于检查缺失值。它有助于了解缺失数据的数量和模式。</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="444b" class="nf me it nb b gy ng nh l ni nj">plt.figure(figsize=(10, 6))<br/>sns.heatmap(df.isnull(), yticklabels=False, cbar=False)<br/>plt.title("Missing values");</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/c694ccf8c5f7bfe6ea7c190d429f7b9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*kyNQU283dOEwVeT_VxcKIw.png"/></div></figure><p id="5873" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">缺失值在该图中显示为白色条带。我们可以立即看到<em class="le">性别</em>有更多的缺失值。跨列的连接水平白线(在图的顶部和底部)向我们展示了一种模式，即在一个数字列中有缺失值的记录在其他数字列和<em class="le">性别</em>中也有缺失值。</p><p id="ec28" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在检查变量之间的关系时，热图也很有用。例如，检查数值变量之间线性关系的相关矩阵可以如下所示:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="c616" class="nf me it nb b gy ng nh l ni nj">plt.figure(figsize=(8, 3))<br/>sns.heatmap(df.corr(), annot=True, cmap='seismic_r')<br/>plt.title("Correlation matrix");</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/3bc6cfdffd588ac0530a47dd061b68d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*QVGT-z6BMDzT-X2onIePgg.png"/></div></figure><p id="567f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从这个图我们可以看出<em class="le"> flipper_length_mm </em>与<em class="le"> body_mass_g有很强的正相关关系(r=0.87)。</em></p><p id="2a1b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">预测能力得分矩阵是检查任何类型关系强度的另一种技术。让我们想象一下预测能力得分矩阵:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="6911" class="nf me it nb b gy ng nh l ni nj"># Import package<br/>import ppscore as pps</span><span id="0210" class="nf me it nb b gy nk nh l ni nj"># Calculate pps<br/>pps_matrix = pps.matrix(df)</span><span id="c4b5" class="nf me it nb b gy nk nh l ni nj"># Prepare data to pivot table<br/>pps_pivot = pps_matrix.pivot('x', 'y', 'ppscore')<br/>pps_pivot.index.name, pps_pivot.columns.name = None, None</span><span id="24b1" class="nf me it nb b gy nk nh l ni nj"># Plot<br/>plt.figure(figsize=(10, 4))<br/>sns.heatmap(pps_pivot, annot=True, cmap='YlGn')<br/>plt.title("Predictive Power Score Matrix");</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/6158d9d3a4dfe30340fbadd1368fe4c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*HEWWad3jKPpE9jj77cBAFA.png"/></div></figure><p id="79c5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以从<a class="ae lv" rel="noopener" target="_blank" href="/rip-correlation-introducing-the-predictive-power-score-3d90808b9598">这里</a>了解更多关于预测力评分的信息。</p><p id="db30" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用监督分类模型时，查看混淆矩阵有助于评估模型性能。为了使它更容易理解，花点额外的精力来标记和格式化它是值得的。现在，让我们建立一个简单的模型来预测<em class="le">物种</em>。我们将把<em class="le">物种</em>作为这篇文章剩余部分的目标，除了下一部分关于柱状图的后半部分。这里有一个例子:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="ff93" class="nf me it nb b gy ng nh l ni nj"># Import packages<br/>import pandas as pd<br/>from sklearn.model_selection import train_test_split<br/>from sklearn.ensemble import RandomForestClassifier<br/>from sklearn.metrics import confusion_matrix</span><span id="10d9" class="nf me it nb b gy nk nh l ni nj"># Create list of numerical column names<br/>numerical = list(df.select_dtypes('number').columns)</span><span id="56c5" class="nf me it nb b gy nk nh l ni nj"># Partition data keeping only numerical non-missing columns<br/>X = df.dropna()[numerical]<br/>y = df.dropna()['species']<br/>X_train, X_test, y_train, y_test = train_test_split(X, y, <br/>                                                    test_size=.3, <br/>                                                    random_state=1)</span><span id="ced9" class="nf me it nb b gy nk nh l ni nj"># Fit simple model to the data<br/>model = RandomForestClassifier(random_state=123)<br/>model.fit(X_train, y_train)</span><span id="2e51" class="nf me it nb b gy nk nh l ni nj"># Predict<br/>y_test_pred = model.predict(X_test)</span><span id="786e" class="nf me it nb b gy nk nh l ni nj"># Prepare confusion matrix<br/>cm = confusion_matrix(y_test, y_test_pred)<br/>fig, ax = plt.subplots(figsize=(6, 3.5))<br/>sns.heatmap(cm, annot=True, cbar=False, cmap='BuGn', ax=ax)<br/>ax.set_title('Confusion matrix')<br/>ax.set_xlabel('Predicted')<br/>ax.set_xticklabels(model.classes_)<br/>ax.set_ylabel('Actual')<br/>ax.set_yticklabels(model.classes_, <br/>                   fontdict={'verticalalignment': 'center'});</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/4cd469e8a95b92b8792064b3a7738b81.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*xjiHN_H5Oll7ZXdZ4dzTDA.png"/></div></figure><p id="964e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如您从示例中看到的，热图非常有用和实用。这些是我在探索性分析或建模阶段使用热图的一些最喜欢的方式。如果你需要可视化表格(如数据透视表或交叉制表)并使其更容易阅读，热图是你的好朋友。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="c980" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">📍 2.条形图:sns.barplot()和sns.countplot()</h1><p id="4bd4" class="pw-post-body-paragraph ki kj it kk b kl mv ju kn ko mw jx kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">大多数人都熟悉条形图。在条形图中，一个轴告诉我们类别，而另一个轴告诉我们与该类别相关的数值。因此，这对于可视化分类变量很有用。当使用某些类型的机器学习算法时，查看模型的特征重要性可以让我们了解模型认为哪些特征更重要。让我们用它来看看我们在上一节中构建的简单随机森林模型的特性重要性:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="2626" class="nf me it nb b gy ng nh l ni nj"># Map feature importance to variable names<br/>importances = pd.DataFrame(model.feature_importances_, <br/>                           index=X_train.columns, <br/>                           columns=['importance'])<br/>importances.sort_values('importance', ascending=False, inplace=True)</span><span id="9798" class="nf me it nb b gy nk nh l ni nj"># Plot feature importance<br/>plt.figure(figsize=(10, 4))<br/>sns.barplot(data=importances, x=importances.index, y='importance')<br/>plt.title('Feature importance');</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/e30a16ebe3f3befa0f2de8d634b73408.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*LXJ6Exe8tz7ObsKhEoOizw.png"/></div></figure><p id="9bba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果有许多特征和/或特征的名称很长，使用这种格式会导致x轴上的特征名称重叠，使绘图难以阅读。一个简单的解决方案是交换x轴和y轴的映射:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="d375" class="nf me it nb b gy ng nh l ni nj">plt.figure(figsize=(8, 4))<br/>sns.barplot(data=importances, x='importance', y=importances.index)<br/>plt.title('Feature importance');</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/898b437a6c2110a5ccfa2e6a01c369ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*cr69JLMW8aiqtqt1RqPIAg.png"/></div></figure><p id="be92" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们的下一个例子中，我们将使用两个条形图来获得每个分类变量<em class="le">的不同见解。</em>第一个条形图将显示类别出现的频率。这有助于看到变量的总体分布，包括是否有任何主导或罕见的类别。为此，我们将使用<code class="fe ns nt nu nb b">sns.countplot()</code>,它是直方图的分类等价物。第二个条形图将显示变量中每个类别的目标平均值。这有助于检查某些类别是否更有可能或更不可能与目标变量中的特定类相关联。为了说明，我们将添加一个随机的二元目标，将<em class="le">物种</em>视为一个特征，并使用循环的<em class="le">为每个分类变量绘制两个条形图:</em></p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="2b58" class="nf me it nb b gy ng nh l ni nj"># Import package<br/>import numpy as np</span><span id="0ba7" class="nf me it nb b gy nk nh l ni nj"># Create random target<br/>np.random.seed(123)<br/>df['target'] = np.random.randint(0, 2, df.shape[0])</span><span id="804b" class="nf me it nb b gy nk nh l ni nj"># Create list of categorical column names<br/>categorical = list(df.select_dtypes(exclude='number').columns)</span><span id="fb2b" class="nf me it nb b gy nk nh l ni nj"># Plot counts for non-numerical variables<br/>for var in categorical:<br/>    fig, ax = plt.subplots(1, 2, figsize=(14, 3.5))    <br/>    sns.countplot(x=var, data=df, ax=ax[0])<br/>    ax[0].set_title(f"Counts of each category in {var}")<br/>    <br/>    sns.barplot(x=var, y='target', data=df, ax=ax[1])<br/>    ax[1].set_title(f"Mean target by each category in {var}");</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nv"><img src="../Images/b4e30eccc87d7cded379fd127cb8ea10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w4T1YWXsdPDDuFYPabomuw.png"/></div></div></figure><p id="912b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当在探索性分析期间第一次查看数据并试图判断哪些变量对模型可能更有用时，以这种方式可视化分类列非常有用。如果你有一个数字目标，右边的图表也可以。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="a0b4" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">📍 3.直方图:sns.histplot()和密度图:sns.kdeplot()</h1><p id="09e3" class="pw-post-body-paragraph ki kj it kk b kl mv ju kn ko mw jx kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">直方图和核密度图是检查数字列分布的好方法。直方图将数字数据划分为仓，并显示每个仓的频率计数。直方图可以被认为是一种特殊类型的条形图。另一方面，密度图使用核密度估计来显示密度。我们将再次使用循环的<em class="le">来绘制每个数值变量的直方图和密度图:</em></p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="0c52" class="nf me it nb b gy ng nh l ni nj">for var in numerical:<br/>    fig, ax = plt.subplots(1, 2, figsize=(15, 4))<br/>    sns.histplot(df, x=var, hue='species', bins=30, ax=ax[0])<br/>    ax[0].set_title(f"Histogram for {var}")<br/>    sns.kdeplot(data=df, x=var, hue='species', shade=True, <br/>                common_norm=False, ax=ax[1])  <br/>    ax[1].set_title(f"Density plot for {var}")</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nw"><img src="../Images/77e1f74271742e1139b2efabe1aa0e88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_us0GyTqoc9Pj12JljT6Qw.png"/></div></div></figure><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nx"><img src="../Images/3d32507a5507fee8c43005321b7ce60e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vY3OVDBCVFWJl9gnzM7ZxA.png"/></div></div></figure><p id="3673" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们使用<code class="fe ns nt nu nb b">hue</code>参数来绘制<em class="le">物种</em>的类别，以观察变量的分布在企鹅物种之间是否不同。因为每个物种的记录数量不同，这已经可以从直方图中看出，我们通过在<code class="fe ns nt nu nb b">sns.kdeplot()</code>中指定<code class="fe ns nt nu nb b">common_norm=False</code>来确保每个物种都有自己的标准化内核密度。这里有一个例子来说明我的意思:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="6239" class="nf me it nb b gy ng nh l ni nj">fig, ax = plt.subplots(1, 2, figsize=(15, 4))<br/>sns.kdeplot(data=df, x=numerical[0], hue='species', shade=True,<br/>            ax=ax[0])<br/>ax[0].set_title(f"common_norm=True")<br/>sns.kdeplot(data=df, x=numerical[0], hue='species', shade=True, <br/>            common_norm=False, ax=ax[1])  <br/>ax[1].set_title(f"common_norm=False");</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ny"><img src="../Images/580a0b15afef86b6c82b9446e70a9ab6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qfrSqLWl3WJj4ABv1NuaJQ.png"/></div></div></figure><p id="8680" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">曲线下的面积与第一个图中的物种频率成比例，因为<code class="fe ns nt nu nb b">common_norm=True</code>将每个人的密度标准化。另一方面，右边的图在物种内是归一化的，所以曲线下的面积在物种间是相等的(注意y轴极限的差异)。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="0b22" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">📍 4.散点图:sns .散点图和二元直方图:sns.histplot()</h1><p id="b3d3" class="pw-post-body-paragraph ki kj it kk b kl mv ju kn ko mw jx kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">另一个简单的图是散点图，它对于查看两个数值变量之间的关系很有用。</p><p id="5bd4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一般来说，直方图指的是单变量直方图，其中单变量只是<em class="le">one(uni)variate(变量)的一种花哨说法。</em>在本节中，我们将查看双变量直方图，以检查两个数值变量之间的关系。</p><p id="65d3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们为数字列对的所有组合绘制它们。值得注意的是，这些图中的图例被故意排除在外，因为物种的颜色编码与之前相同，会阻挡一些数据点:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="f8f2" class="nf me it nb b gy ng nh l ni nj">previous = []<br/>for i, var in enumerate(numerical):    <br/>    if i &gt; 0:<br/>        for p_var in previous:<br/>            fig, ax = plt.subplots(1, 2, figsize=(15,4))<br/>            sns.histplot(df, x=p_var, y=var, hue='species', <br/>                         alpha=0.6, ax=ax[0])<br/>            ax[0].get_legend().remove()<br/>            sns.scatterplot(data=df, x=p_var, y=var, hue='species',<br/>                            size='gender', alpha=0.6, ax=ax[1])<br/>            ax[1].get_legend().remove();<br/>    previous.append(var)</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nz"><img src="../Images/e8488a0086361629a7412a63ef8d2d39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_ltbLzVh3Fhi4y9rEu8L0g.png"/></div></div></figure><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oa"><img src="../Images/767d41d516f14638287bf57263ecbf26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UHOL_M4rUACeCphCtlKVZg.png"/></div></div></figure><p id="a533" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在左边，我们正在看由<em class="le">物种</em>进行颜色编码的二元直方图。在右边，我们正在看由<em class="le">物种</em>编码的散点图。我们还将<em class="le">性别</em>映射到散点图中点的大小。</p><p id="8ca1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">与上一节不同，这两个图显示了非常相似的见解。这意味着你可以选择你最喜欢的一个，而不是两个都用。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="931e" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">📍 5.配对图:sns.pairplot()</h1><p id="0770" class="pw-post-body-paragraph ki kj it kk b kl mv ju kn ko mw jx kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">在Seaborn中有一个很好的功能，可以用一行代码做出我们在第3节和第4节中看到的类似的图形:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="10da" class="nf me it nb b gy ng nh l ni nj">sns.pairplot(df.drop(columns='target'), hue='species');</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ob"><img src="../Images/7f6ba535924717ce2daeb437aa325ae4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MrpXMKGEx9kg9FuLO2xgOQ.png"/></div></div></figure><p id="e48c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用<code class="fe ns nt nu nb b">sns.pairplot()</code>很棒，然而，我确实发现当变量数量增加时，每个图开始变得很小，这使得很难检查。因此，最好将其用于列数较少的数据集。</p><p id="126e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">您想访问更多这样的内容吗？媒体会员可以无限制地访问媒体上的任何文章。如果您使用</em> <a class="ae lv" href="https://zluvsand.medium.com/membership" rel="noopener"> <em class="le">我的推荐链接</em></a><em class="le">成为会员，您的一部分会费将直接用于支持我。</em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="6e98" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">谢谢你看我的帖子。我希望你能在你的数据科学项目中使用这些可视化。</p><p id="5d97" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你感兴趣，这里有我的一些帖子的链接:</p><p id="b7fe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">◼️ <a class="ae lv" rel="noopener" target="_blank" href="/6-simple-tips-for-prettier-and-customised-plots-in-seaborn-python-22f02ecc2393">在Seaborn (Python) </a> <br/> ◼️ <a class="ae lv" rel="noopener" target="_blank" href="/exploratory-text-analysis-in-python-8cf42b758d9e">在Python中进行探索性文本分析</a> <br/> ◼️️ <a class="ae lv" rel="noopener" target="_blank" href="/5-tips-for-pandas-users-e73681d16d17">给pandas用户的5个提示</a> <br/> ◼️️ <a class="ae lv" rel="noopener" target="_blank" href="/writing-5-common-sql-queries-in-pandas-90b52f17ad76">在pandas中进行数据聚合的5个提示</a> <br/> ◼️️ <a class="ae lv" rel="noopener" target="_blank" href="/writing-5-common-sql-queries-in-pandas-90b52f17ad76">在pandas中编写5个常见的SQL查询</a> <br/> ◼️️ <a class="ae lv" rel="noopener" target="_blank" href="/writing-advanced-sql-queries-in-pandas-1dc494a17afe">在pandas中编写高级SQL查询</a></p><p id="6fe3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">再见🏃💨</p></div></div>    
</body>
</html>