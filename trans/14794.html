<html>
<head>
<title>Simple data visualisations in Python that you will find useful</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Pythonä¸­ç®€å•çš„æ•°æ®å¯è§†åŒ–ï¼Œä½ ä¼šå‘ç°å¾ˆæœ‰ç”¨</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/simple-data-visualisations-in-python-that-you-will-find-useful-5e42c92df51e?source=collection_archive---------26-----------------------#2020-10-12">https://towardsdatascience.com/simple-data-visualisations-in-python-that-you-will-find-useful-5e42c92df51e?source=collection_archive---------26-----------------------#2020-10-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4143" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">å°†è¿™äº›å›¾ç”¨äºæ‚¨çš„æ•°æ®ç§‘å­¦é¡¹ç›®</h2></div><p id="f9fd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">èƒ½å¤Ÿæœ‰æ•ˆåœ°ä½¿ç”¨æ•°æ®å¯è§†åŒ–æ˜¯æ•°æ®ç§‘å­¦å®¶çš„ä¸€é¡¹é‡è¦æŠ€èƒ½ã€‚å¯è§†åŒ–æ•°æ®æœ‰åŠ©äºæˆ‘ä»¬è½»æ¾åœ°æ¶ˆåŒ–ä¿¡æ¯ï¼Œå¹¶æå–å‡ºéš¾ä»¥æå–çš„è§è§£ã€‚åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹5ç§ç±»å‹çš„å›¾ï¼Œåˆ†åˆ«æ˜¯<em class="le"> Seaborn </em>å’Œ<em class="le"> Matplotlib </em>ï¼Œä»¥åŠå®ƒä»¬åœ¨æ•°æ®ç§‘å­¦é¡¹ç›®ä¸­çš„åº”ç”¨ç¤ºä¾‹ã€‚</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/ca8b87b577badd6fc680de8d1e807658.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZlhbeRt0GcQMZJEr"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">åœ¨<a class="ae lv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Š<a class="ae lv" href="https://unsplash.com/@pawel_czerwinski?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">paweczerwiÅ„ski</a>æ‹æ‘„çš„ç…§ç‰‡</p></figure><p id="bd5d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2020å¹´9æœˆï¼ŒSeabornå‘å¸ƒäº†ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬:v0.11.0ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬çš„ä¸€äº›æ–°ç‰¹æ€§å’Œå¢å¼ºåŠŸèƒ½ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯æ—©æœŸç‰ˆæœ¬ï¼Œæ‚¨ä¼šå‘ç°ç¬¬3èŠ‚å’Œç¬¬4èŠ‚ä¸­ç¤ºä¾‹æ•°æ®é›†çš„åˆ—åå’Œåˆ†å¸ƒå›¾çš„åŠŸèƒ½æ˜¯ä¸åŒçš„ã€‚å› æ­¤ï¼Œè¯·ç¡®ä¿æ‚¨çš„Seabornç‰ˆæœ¬å·²æ›´æ–°ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°<a class="ae lv" href="https://seaborn.pydata.org/whatsnew.html" rel="noopener ugc nofollow" target="_blank">å‘å¸ƒçš„è¯¦ç»†ä¿¡æ¯ã€‚</a></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="d0d1" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">0.èµ„æ–™ç»„ğŸ“¦</h1><p id="edc7" class="pw-post-body-paragraph ki kj it kk b kl mv ju kn ko mw jx kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">è®©æˆ‘ä»¬å¯¼å…¥åŒ…å¹¶æ›´æ–°å›¾è¡¨çš„é»˜è®¤è®¾ç½®ï¼Œä»¥èŠ‚çœè°ƒæ•´å•ä¸ªå›¾çš„æ—¶é—´ï¼Œå¹¶ä¸ºå›¾è¡¨æ·»åŠ ä¸€ç‚¹ä¸ªäººé£æ ¼:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="9416" class="nf me it nb b gy ng nh l ni nj"># Import packages<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt</span><span id="3b2a" class="nf me it nb b gy nk nh l ni nj"># Update default settings<br/>sns.set(style='whitegrid', context='talk', <br/>        palette=['#62C370', '#FFD166', '#EF476F'])</span></pre><p id="d68c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºè°ƒæ•´å›¾è¡¨é»˜è®¤è®¾ç½®çš„ä¿¡æ¯ï¼Œä½ å¯èƒ½ä¼šå‘ç°<a class="ae lv" rel="noopener" target="_blank" href="/6-simple-tips-for-prettier-and-customised-plots-in-seaborn-python-22f02ecc2393">è¿™ç¯‡æ–‡ç« </a>å¾ˆæœ‰ç”¨ã€‚æˆ‘ä»¬å°†ä½¿ç”¨Seabornå†…ç½®çš„ä¼é¹…æ•°æ®é›†:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="4170" class="nf me it nb b gy ng nh l ni nj"># Import dataset<br/>df = sns.load_dataset('penguins').rename(columns={'sex': 'gender'})<br/>df</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nl"><img src="../Images/85d21c809c8c2686331d46bb34eae649.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HUW7DIPHDf1s9KfdRYtbvQ.png"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="95d7" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">ğŸ“ 1.çƒ­å›¾:sns.heatmap():</h1><p id="630c" class="pw-post-body-paragraph ki kj it kk b kl mv ju kn ko mw jx kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">è®©æˆ‘ä»¬ä»æˆ‘æœ€å–œæ¬¢çš„ä¸€ä¸ªæœ‰å¾ˆå¤šåº”ç”¨çš„æƒ…èŠ‚å¼€å§‹ã€‚ç®€å•åœ°è¯´ï¼Œçƒ­å›¾æ˜¯ä¸€ä¸ªé¢œè‰²ç¼–ç çš„è¡¨æ ¼ã€‚çƒ­å›¾å¯ç”¨äºæ£€æŸ¥ç¼ºå¤±å€¼ã€‚å®ƒæœ‰åŠ©äºäº†è§£ç¼ºå¤±æ•°æ®çš„æ•°é‡å’Œæ¨¡å¼ã€‚</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="444b" class="nf me it nb b gy ng nh l ni nj">plt.figure(figsize=(10, 6))<br/>sns.heatmap(df.isnull(), yticklabels=False, cbar=False)<br/>plt.title("Missing values");</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/c694ccf8c5f7bfe6ea7c190d429f7b9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*kyNQU283dOEwVeT_VxcKIw.png"/></div></figure><p id="5873" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç¼ºå¤±å€¼åœ¨è¯¥å›¾ä¸­æ˜¾ç¤ºä¸ºç™½è‰²æ¡å¸¦ã€‚æˆ‘ä»¬å¯ä»¥ç«‹å³çœ‹åˆ°<em class="le">æ€§åˆ«</em>æœ‰æ›´å¤šçš„ç¼ºå¤±å€¼ã€‚è·¨åˆ—çš„è¿æ¥æ°´å¹³ç™½çº¿(åœ¨å›¾çš„é¡¶éƒ¨å’Œåº•éƒ¨)å‘æˆ‘ä»¬å±•ç¤ºäº†ä¸€ç§æ¨¡å¼ï¼Œå³åœ¨ä¸€ä¸ªæ•°å­—åˆ—ä¸­æœ‰ç¼ºå¤±å€¼çš„è®°å½•åœ¨å…¶ä»–æ•°å­—åˆ—å’Œ<em class="le">æ€§åˆ«</em>ä¸­ä¹Ÿæœ‰ç¼ºå¤±å€¼ã€‚</p><p id="ec28" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨æ£€æŸ¥å˜é‡ä¹‹é—´çš„å…³ç³»æ—¶ï¼Œçƒ­å›¾ä¹Ÿå¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œæ£€æŸ¥æ•°å€¼å˜é‡ä¹‹é—´çº¿æ€§å…³ç³»çš„ç›¸å…³çŸ©é˜µå¯ä»¥å¦‚ä¸‹æ‰€ç¤º:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="c616" class="nf me it nb b gy ng nh l ni nj">plt.figure(figsize=(8, 3))<br/>sns.heatmap(df.corr(), annot=True, cmap='seismic_r')<br/>plt.title("Correlation matrix");</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/3bc6cfdffd588ac0530a47dd061b68d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*QVGT-z6BMDzT-X2onIePgg.png"/></div></figure><p id="567f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä»è¿™ä¸ªå›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡º<em class="le"> flipper_length_mm </em>ä¸<em class="le"> body_mass_gæœ‰å¾ˆå¼ºçš„æ­£ç›¸å…³å…³ç³»(r=0.87)ã€‚</em></p><p id="2a1b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é¢„æµ‹èƒ½åŠ›å¾—åˆ†çŸ©é˜µæ˜¯æ£€æŸ¥ä»»ä½•ç±»å‹å…³ç³»å¼ºåº¦çš„å¦ä¸€ç§æŠ€æœ¯ã€‚è®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹é¢„æµ‹èƒ½åŠ›å¾—åˆ†çŸ©é˜µ:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="6911" class="nf me it nb b gy ng nh l ni nj"># Import package<br/>import ppscore as pps</span><span id="0210" class="nf me it nb b gy nk nh l ni nj"># Calculate pps<br/>pps_matrix = pps.matrix(df)</span><span id="c4b5" class="nf me it nb b gy nk nh l ni nj"># Prepare data to pivot table<br/>pps_pivot = pps_matrix.pivot('x', 'y', 'ppscore')<br/>pps_pivot.index.name, pps_pivot.columns.name = None, None</span><span id="24b1" class="nf me it nb b gy nk nh l ni nj"># Plot<br/>plt.figure(figsize=(10, 4))<br/>sns.heatmap(pps_pivot, annot=True, cmap='YlGn')<br/>plt.title("Predictive Power Score Matrix");</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/6158d9d3a4dfe30340fbadd1368fe4c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*HEWWad3jKPpE9jj77cBAFA.png"/></div></figure><p id="79c5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä½ å¯ä»¥ä»<a class="ae lv" rel="noopener" target="_blank" href="/rip-correlation-introducing-the-predictive-power-score-3d90808b9598">è¿™é‡Œ</a>äº†è§£æ›´å¤šå…³äºé¢„æµ‹åŠ›è¯„åˆ†çš„ä¿¡æ¯ã€‚</p><p id="db30" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä½¿ç”¨ç›‘ç£åˆ†ç±»æ¨¡å‹æ—¶ï¼ŒæŸ¥çœ‹æ··æ·†çŸ©é˜µæœ‰åŠ©äºè¯„ä¼°æ¨¡å‹æ€§èƒ½ã€‚ä¸ºäº†ä½¿å®ƒæ›´å®¹æ˜“ç†è§£ï¼ŒèŠ±ç‚¹é¢å¤–çš„ç²¾åŠ›æ¥æ ‡è®°å’Œæ ¼å¼åŒ–å®ƒæ˜¯å€¼å¾—çš„ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬å»ºç«‹ä¸€ä¸ªç®€å•çš„æ¨¡å‹æ¥é¢„æµ‹<em class="le">ç‰©ç§</em>ã€‚æˆ‘ä»¬å°†æŠŠ<em class="le">ç‰©ç§</em>ä½œä¸ºè¿™ç¯‡æ–‡ç« å‰©ä½™éƒ¨åˆ†çš„ç›®æ ‡ï¼Œé™¤äº†ä¸‹ä¸€éƒ¨åˆ†å…³äºæŸ±çŠ¶å›¾çš„ååŠéƒ¨åˆ†ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="ff93" class="nf me it nb b gy ng nh l ni nj"># Import packages<br/>import pandas as pd<br/>from sklearn.model_selection import train_test_split<br/>from sklearn.ensemble import RandomForestClassifier<br/>from sklearn.metrics import confusion_matrix</span><span id="10d9" class="nf me it nb b gy nk nh l ni nj"># Create list of numerical column names<br/>numerical = list(df.select_dtypes('number').columns)</span><span id="56c5" class="nf me it nb b gy nk nh l ni nj"># Partition data keeping only numerical non-missing columns<br/>X = df.dropna()[numerical]<br/>y = df.dropna()['species']<br/>X_train, X_test, y_train, y_test = train_test_split(X, y, <br/>                                                    test_size=.3, <br/>                                                    random_state=1)</span><span id="ced9" class="nf me it nb b gy nk nh l ni nj"># Fit simple model to the data<br/>model = RandomForestClassifier(random_state=123)<br/>model.fit(X_train, y_train)</span><span id="2e51" class="nf me it nb b gy nk nh l ni nj"># Predict<br/>y_test_pred = model.predict(X_test)</span><span id="786e" class="nf me it nb b gy nk nh l ni nj"># Prepare confusion matrix<br/>cm = confusion_matrix(y_test, y_test_pred)<br/>fig, ax = plt.subplots(figsize=(6, 3.5))<br/>sns.heatmap(cm, annot=True, cbar=False, cmap='BuGn', ax=ax)<br/>ax.set_title('Confusion matrix')<br/>ax.set_xlabel('Predicted')<br/>ax.set_xticklabels(model.classes_)<br/>ax.set_ylabel('Actual')<br/>ax.set_yticklabels(model.classes_, <br/>                   fontdict={'verticalalignment': 'center'});</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/4cd469e8a95b92b8792064b3a7738b81.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*xjiHN_H5Oll7ZXdZ4dzTDA.png"/></div></figure><p id="964e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ­£å¦‚æ‚¨ä»ç¤ºä¾‹ä¸­çœ‹åˆ°çš„ï¼Œçƒ­å›¾éå¸¸æœ‰ç”¨å’Œå®ç”¨ã€‚è¿™äº›æ˜¯æˆ‘åœ¨æ¢ç´¢æ€§åˆ†ææˆ–å»ºæ¨¡é˜¶æ®µä½¿ç”¨çƒ­å›¾çš„ä¸€äº›æœ€å–œæ¬¢çš„æ–¹å¼ã€‚å¦‚æœä½ éœ€è¦å¯è§†åŒ–è¡¨æ ¼(å¦‚æ•°æ®é€è§†è¡¨æˆ–äº¤å‰åˆ¶è¡¨)å¹¶ä½¿å…¶æ›´å®¹æ˜“é˜…è¯»ï¼Œçƒ­å›¾æ˜¯ä½ çš„å¥½æœ‹å‹ã€‚</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="c980" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">ğŸ“ 2.æ¡å½¢å›¾:sns.barplot()å’Œsns.countplot()</h1><p id="4bd4" class="pw-post-body-paragraph ki kj it kk b kl mv ju kn ko mw jx kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">å¤§å¤šæ•°äººéƒ½ç†Ÿæ‚‰æ¡å½¢å›¾ã€‚åœ¨æ¡å½¢å›¾ä¸­ï¼Œä¸€ä¸ªè½´å‘Šè¯‰æˆ‘ä»¬ç±»åˆ«ï¼Œè€Œå¦ä¸€ä¸ªè½´å‘Šè¯‰æˆ‘ä»¬ä¸è¯¥ç±»åˆ«ç›¸å…³çš„æ•°å€¼ã€‚å› æ­¤ï¼Œè¿™å¯¹äºå¯è§†åŒ–åˆ†ç±»å˜é‡å¾ˆæœ‰ç”¨ã€‚å½“ä½¿ç”¨æŸäº›ç±»å‹çš„æœºå™¨å­¦ä¹ ç®—æ³•æ—¶ï¼ŒæŸ¥çœ‹æ¨¡å‹çš„ç‰¹å¾é‡è¦æ€§å¯ä»¥è®©æˆ‘ä»¬äº†è§£æ¨¡å‹è®¤ä¸ºå“ªäº›ç‰¹å¾æ›´é‡è¦ã€‚è®©æˆ‘ä»¬ç”¨å®ƒæ¥çœ‹çœ‹æˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚ä¸­æ„å»ºçš„ç®€å•éšæœºæ£®æ—æ¨¡å‹çš„ç‰¹æ€§é‡è¦æ€§:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="2626" class="nf me it nb b gy ng nh l ni nj"># Map feature importance to variable names<br/>importances = pd.DataFrame(model.feature_importances_, <br/>                           index=X_train.columns, <br/>                           columns=['importance'])<br/>importances.sort_values('importance', ascending=False, inplace=True)</span><span id="9798" class="nf me it nb b gy nk nh l ni nj"># Plot feature importance<br/>plt.figure(figsize=(10, 4))<br/>sns.barplot(data=importances, x=importances.index, y='importance')<br/>plt.title('Feature importance');</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/e30a16ebe3f3befa0f2de8d634b73408.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*LXJ6Exe8tz7ObsKhEoOizw.png"/></div></figure><p id="9bba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¦‚æœæœ‰è®¸å¤šç‰¹å¾å’Œ/æˆ–ç‰¹å¾çš„åç§°å¾ˆé•¿ï¼Œä½¿ç”¨è¿™ç§æ ¼å¼ä¼šå¯¼è‡´xè½´ä¸Šçš„ç‰¹å¾åç§°é‡å ï¼Œä½¿ç»˜å›¾éš¾ä»¥é˜…è¯»ã€‚ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯äº¤æ¢xè½´å’Œyè½´çš„æ˜ å°„:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="d375" class="nf me it nb b gy ng nh l ni nj">plt.figure(figsize=(8, 4))<br/>sns.barplot(data=importances, x='importance', y=importances.index)<br/>plt.title('Feature importance');</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/898b437a6c2110a5ccfa2e6a01c369ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*cr69JLMW8aiqtqt1RqPIAg.png"/></div></figure><p id="be92" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨æˆ‘ä»¬çš„ä¸‹ä¸€ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸¤ä¸ªæ¡å½¢å›¾æ¥è·å¾—æ¯ä¸ªåˆ†ç±»å˜é‡<em class="le">çš„ä¸åŒè§è§£ã€‚</em>ç¬¬ä¸€ä¸ªæ¡å½¢å›¾å°†æ˜¾ç¤ºç±»åˆ«å‡ºç°çš„é¢‘ç‡ã€‚è¿™æœ‰åŠ©äºçœ‹åˆ°å˜é‡çš„æ€»ä½“åˆ†å¸ƒï¼ŒåŒ…æ‹¬æ˜¯å¦æœ‰ä»»ä½•ä¸»å¯¼æˆ–ç½•è§çš„ç±»åˆ«ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<code class="fe ns nt nu nb b">sns.countplot()</code>,å®ƒæ˜¯ç›´æ–¹å›¾çš„åˆ†ç±»ç­‰ä»·ç‰©ã€‚ç¬¬äºŒä¸ªæ¡å½¢å›¾å°†æ˜¾ç¤ºå˜é‡ä¸­æ¯ä¸ªç±»åˆ«çš„ç›®æ ‡å¹³å‡å€¼ã€‚è¿™æœ‰åŠ©äºæ£€æŸ¥æŸäº›ç±»åˆ«æ˜¯å¦æ›´æœ‰å¯èƒ½æˆ–æ›´ä¸å¯èƒ½ä¸ç›®æ ‡å˜é‡ä¸­çš„ç‰¹å®šç±»ç›¸å…³è”ã€‚ä¸ºäº†è¯´æ˜ï¼Œæˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ªéšæœºçš„äºŒå…ƒç›®æ ‡ï¼Œå°†<em class="le">ç‰©ç§</em>è§†ä¸ºä¸€ä¸ªç‰¹å¾ï¼Œå¹¶ä½¿ç”¨å¾ªç¯çš„<em class="le">ä¸ºæ¯ä¸ªåˆ†ç±»å˜é‡ç»˜åˆ¶ä¸¤ä¸ªæ¡å½¢å›¾:</em></p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="2b58" class="nf me it nb b gy ng nh l ni nj"># Import package<br/>import numpy as np</span><span id="0ba7" class="nf me it nb b gy nk nh l ni nj"># Create random target<br/>np.random.seed(123)<br/>df['target'] = np.random.randint(0, 2, df.shape[0])</span><span id="804b" class="nf me it nb b gy nk nh l ni nj"># Create list of categorical column names<br/>categorical = list(df.select_dtypes(exclude='number').columns)</span><span id="fb2b" class="nf me it nb b gy nk nh l ni nj"># Plot counts for non-numerical variables<br/>for var in categorical:<br/>    fig, ax = plt.subplots(1, 2, figsize=(14, 3.5))    <br/>    sns.countplot(x=var, data=df, ax=ax[0])<br/>    ax[0].set_title(f"Counts of each category in {var}")<br/>    <br/>    sns.barplot(x=var, y='target', data=df, ax=ax[1])<br/>    ax[1].set_title(f"Mean target by each category in {var}");</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nv"><img src="../Images/b4e30eccc87d7cded379fd127cb8ea10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w4T1YWXsdPDDuFYPabomuw.png"/></div></div></figure><p id="912b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å½“åœ¨æ¢ç´¢æ€§åˆ†ææœŸé—´ç¬¬ä¸€æ¬¡æŸ¥çœ‹æ•°æ®å¹¶è¯•å›¾åˆ¤æ–­å“ªäº›å˜é‡å¯¹æ¨¡å‹å¯èƒ½æ›´æœ‰ç”¨æ—¶ï¼Œä»¥è¿™ç§æ–¹å¼å¯è§†åŒ–åˆ†ç±»åˆ—éå¸¸æœ‰ç”¨ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ªæ•°å­—ç›®æ ‡ï¼Œå³è¾¹çš„å›¾è¡¨ä¹Ÿå¯ä»¥ã€‚</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="a0b4" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">ğŸ“ 3.ç›´æ–¹å›¾:sns.histplot()å’Œå¯†åº¦å›¾:sns.kdeplot()</h1><p id="09e3" class="pw-post-body-paragraph ki kj it kk b kl mv ju kn ko mw jx kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">ç›´æ–¹å›¾å’Œæ ¸å¯†åº¦å›¾æ˜¯æ£€æŸ¥æ•°å­—åˆ—åˆ†å¸ƒçš„å¥½æ–¹æ³•ã€‚ç›´æ–¹å›¾å°†æ•°å­—æ•°æ®åˆ’åˆ†ä¸ºä»“ï¼Œå¹¶æ˜¾ç¤ºæ¯ä¸ªä»“çš„é¢‘ç‡è®¡æ•°ã€‚ç›´æ–¹å›¾å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„æ¡å½¢å›¾ã€‚å¦ä¸€æ–¹é¢ï¼Œå¯†åº¦å›¾ä½¿ç”¨æ ¸å¯†åº¦ä¼°è®¡æ¥æ˜¾ç¤ºå¯†åº¦ã€‚æˆ‘ä»¬å°†å†æ¬¡ä½¿ç”¨å¾ªç¯çš„<em class="le">æ¥ç»˜åˆ¶æ¯ä¸ªæ•°å€¼å˜é‡çš„ç›´æ–¹å›¾å’Œå¯†åº¦å›¾:</em></p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="0c52" class="nf me it nb b gy ng nh l ni nj">for var in numerical:<br/>    fig, ax = plt.subplots(1, 2, figsize=(15, 4))<br/>    sns.histplot(df, x=var, hue='species', bins=30, ax=ax[0])<br/>    ax[0].set_title(f"Histogram for {var}")<br/>    sns.kdeplot(data=df, x=var, hue='species', shade=True, <br/>                common_norm=False, ax=ax[1])  <br/>    ax[1].set_title(f"Density plot for {var}")</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nw"><img src="../Images/77e1f74271742e1139b2efabe1aa0e88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_us0GyTqoc9Pj12JljT6Qw.png"/></div></div></figure><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nx"><img src="../Images/3d32507a5507fee8c43005321b7ce60e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vY3OVDBCVFWJl9gnzM7ZxA.png"/></div></div></figure><p id="3673" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬ä½¿ç”¨<code class="fe ns nt nu nb b">hue</code>å‚æ•°æ¥ç»˜åˆ¶<em class="le">ç‰©ç§</em>çš„ç±»åˆ«ï¼Œä»¥è§‚å¯Ÿå˜é‡çš„åˆ†å¸ƒåœ¨ä¼é¹…ç‰©ç§ä¹‹é—´æ˜¯å¦ä¸åŒã€‚å› ä¸ºæ¯ä¸ªç‰©ç§çš„è®°å½•æ•°é‡ä¸åŒï¼Œè¿™å·²ç»å¯ä»¥ä»ç›´æ–¹å›¾ä¸­çœ‹å‡ºï¼Œæˆ‘ä»¬é€šè¿‡åœ¨<code class="fe ns nt nu nb b">sns.kdeplot()</code>ä¸­æŒ‡å®š<code class="fe ns nt nu nb b">common_norm=False</code>æ¥ç¡®ä¿æ¯ä¸ªç‰©ç§éƒ½æœ‰è‡ªå·±çš„æ ‡å‡†åŒ–å†…æ ¸å¯†åº¦ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜æˆ‘çš„æ„æ€:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="6239" class="nf me it nb b gy ng nh l ni nj">fig, ax = plt.subplots(1, 2, figsize=(15, 4))<br/>sns.kdeplot(data=df, x=numerical[0], hue='species', shade=True,<br/>            ax=ax[0])<br/>ax[0].set_title(f"common_norm=True")<br/>sns.kdeplot(data=df, x=numerical[0], hue='species', shade=True, <br/>            common_norm=False, ax=ax[1])  <br/>ax[1].set_title(f"common_norm=False");</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ny"><img src="../Images/580a0b15afef86b6c82b9446e70a9ab6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qfrSqLWl3WJj4ABv1NuaJQ.png"/></div></div></figure><p id="8680" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ›²çº¿ä¸‹çš„é¢ç§¯ä¸ç¬¬ä¸€ä¸ªå›¾ä¸­çš„ç‰©ç§é¢‘ç‡æˆæ¯”ä¾‹ï¼Œå› ä¸º<code class="fe ns nt nu nb b">common_norm=True</code>å°†æ¯ä¸ªäººçš„å¯†åº¦æ ‡å‡†åŒ–ã€‚å¦ä¸€æ–¹é¢ï¼Œå³è¾¹çš„å›¾åœ¨ç‰©ç§å†…æ˜¯å½’ä¸€åŒ–çš„ï¼Œæ‰€ä»¥æ›²çº¿ä¸‹çš„é¢ç§¯åœ¨ç‰©ç§é—´æ˜¯ç›¸ç­‰çš„(æ³¨æ„yè½´æé™çš„å·®å¼‚)ã€‚</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="0b22" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">ğŸ“ 4.æ•£ç‚¹å›¾:sns .æ•£ç‚¹å›¾å’ŒäºŒå…ƒç›´æ–¹å›¾:sns.histplot()</h1><p id="b3d3" class="pw-post-body-paragraph ki kj it kk b kl mv ju kn ko mw jx kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">å¦ä¸€ä¸ªç®€å•çš„å›¾æ˜¯æ•£ç‚¹å›¾ï¼Œå®ƒå¯¹äºæŸ¥çœ‹ä¸¤ä¸ªæ•°å€¼å˜é‡ä¹‹é—´çš„å…³ç³»å¾ˆæœ‰ç”¨ã€‚</p><p id="5bd4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸€èˆ¬æ¥è¯´ï¼Œç›´æ–¹å›¾æŒ‡çš„æ˜¯å•å˜é‡ç›´æ–¹å›¾ï¼Œå…¶ä¸­å•å˜é‡åªæ˜¯<em class="le">one(uni)variate(å˜é‡)çš„ä¸€ç§èŠ±å“¨è¯´æ³•ã€‚</em>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æŸ¥çœ‹åŒå˜é‡ç›´æ–¹å›¾ï¼Œä»¥æ£€æŸ¥ä¸¤ä¸ªæ•°å€¼å˜é‡ä¹‹é—´çš„å…³ç³»ã€‚</p><p id="65d3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è®©æˆ‘ä»¬ä¸ºæ•°å­—åˆ—å¯¹çš„æ‰€æœ‰ç»„åˆç»˜åˆ¶å®ƒä»¬ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›å›¾ä¸­çš„å›¾ä¾‹è¢«æ•…æ„æ’é™¤åœ¨å¤–ï¼Œå› ä¸ºç‰©ç§çš„é¢œè‰²ç¼–ç ä¸ä¹‹å‰ç›¸åŒï¼Œä¼šé˜»æŒ¡ä¸€äº›æ•°æ®ç‚¹:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="f8f2" class="nf me it nb b gy ng nh l ni nj">previous = []<br/>for i, var in enumerate(numerical):    <br/>    if i &gt; 0:<br/>        for p_var in previous:<br/>            fig, ax = plt.subplots(1, 2, figsize=(15,4))<br/>            sns.histplot(df, x=p_var, y=var, hue='species', <br/>                         alpha=0.6, ax=ax[0])<br/>            ax[0].get_legend().remove()<br/>            sns.scatterplot(data=df, x=p_var, y=var, hue='species',<br/>                            size='gender', alpha=0.6, ax=ax[1])<br/>            ax[1].get_legend().remove();<br/>    previous.append(var)</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nz"><img src="../Images/e8488a0086361629a7412a63ef8d2d39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_ltbLzVh3Fhi4y9rEu8L0g.png"/></div></div></figure><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oa"><img src="../Images/767d41d516f14638287bf57263ecbf26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UHOL_M4rUACeCphCtlKVZg.png"/></div></div></figure><p id="a533" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨å·¦è¾¹ï¼Œæˆ‘ä»¬æ­£åœ¨çœ‹ç”±<em class="le">ç‰©ç§</em>è¿›è¡Œé¢œè‰²ç¼–ç çš„äºŒå…ƒç›´æ–¹å›¾ã€‚åœ¨å³è¾¹ï¼Œæˆ‘ä»¬æ­£åœ¨çœ‹ç”±<em class="le">ç‰©ç§</em>ç¼–ç çš„æ•£ç‚¹å›¾ã€‚æˆ‘ä»¬è¿˜å°†<em class="le">æ€§åˆ«</em>æ˜ å°„åˆ°æ•£ç‚¹å›¾ä¸­ç‚¹çš„å¤§å°ã€‚</p><p id="8ca1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸ä¸Šä¸€èŠ‚ä¸åŒï¼Œè¿™ä¸¤ä¸ªå›¾æ˜¾ç¤ºäº†éå¸¸ç›¸ä¼¼çš„è§è§£ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥é€‰æ‹©ä½ æœ€å–œæ¬¢çš„ä¸€ä¸ªï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªéƒ½ç”¨ã€‚</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="931e" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">ğŸ“ 5.é…å¯¹å›¾:sns.pairplot()</h1><p id="0770" class="pw-post-body-paragraph ki kj it kk b kl mv ju kn ko mw jx kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">åœ¨Seabornä¸­æœ‰ä¸€ä¸ªå¾ˆå¥½çš„åŠŸèƒ½ï¼Œå¯ä»¥ç”¨ä¸€è¡Œä»£ç åšå‡ºæˆ‘ä»¬åœ¨ç¬¬3èŠ‚å’Œç¬¬4èŠ‚ä¸­çœ‹åˆ°çš„ç±»ä¼¼çš„å›¾å½¢:</p><pre class="lg lh li lj gt na nb nc nd aw ne bi"><span id="10da" class="nf me it nb b gy ng nh l ni nj">sns.pairplot(df.drop(columns='target'), hue='species');</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ob"><img src="../Images/7f6ba535924717ce2daeb437aa325ae4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MrpXMKGEx9kg9FuLO2xgOQ.png"/></div></div></figure><p id="e48c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä½¿ç”¨<code class="fe ns nt nu nb b">sns.pairplot()</code>å¾ˆæ£’ï¼Œç„¶è€Œï¼Œæˆ‘ç¡®å®å‘ç°å½“å˜é‡æ•°é‡å¢åŠ æ—¶ï¼Œæ¯ä¸ªå›¾å¼€å§‹å˜å¾—å¾ˆå°ï¼Œè¿™ä½¿å¾—å¾ˆéš¾æ£€æŸ¥ã€‚å› æ­¤ï¼Œæœ€å¥½å°†å…¶ç”¨äºåˆ—æ•°è¾ƒå°‘çš„æ•°æ®é›†ã€‚</p><p id="126e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">æ‚¨æƒ³è®¿é—®æ›´å¤šè¿™æ ·çš„å†…å®¹å—ï¼Ÿåª’ä½“ä¼šå‘˜å¯ä»¥æ— é™åˆ¶åœ°è®¿é—®åª’ä½“ä¸Šçš„ä»»ä½•æ–‡ç« ã€‚å¦‚æœæ‚¨ä½¿ç”¨</em> <a class="ae lv" href="https://zluvsand.medium.com/membership" rel="noopener"> <em class="le">æˆ‘çš„æ¨èé“¾æ¥</em></a><em class="le">æˆä¸ºä¼šå‘˜ï¼Œæ‚¨çš„ä¸€éƒ¨åˆ†ä¼šè´¹å°†ç›´æ¥ç”¨äºæ”¯æŒæˆ‘ã€‚</em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="6e98" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è°¢è°¢ä½ çœ‹æˆ‘çš„å¸–å­ã€‚æˆ‘å¸Œæœ›ä½ èƒ½åœ¨ä½ çš„æ•°æ®ç§‘å­¦é¡¹ç›®ä¸­ä½¿ç”¨è¿™äº›å¯è§†åŒ–ã€‚</p><p id="5d97" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¦‚æœä½ æ„Ÿå…´è¶£ï¼Œè¿™é‡Œæœ‰æˆ‘çš„ä¸€äº›å¸–å­çš„é“¾æ¥:</p><p id="b7fe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">â—¼ï¸ <a class="ae lv" rel="noopener" target="_blank" href="/6-simple-tips-for-prettier-and-customised-plots-in-seaborn-python-22f02ecc2393">åœ¨Seaborn (Python) </a> <br/> â—¼ï¸ <a class="ae lv" rel="noopener" target="_blank" href="/exploratory-text-analysis-in-python-8cf42b758d9e">åœ¨Pythonä¸­è¿›è¡Œæ¢ç´¢æ€§æ–‡æœ¬åˆ†æ</a> <br/> â—¼ï¸ï¸ <a class="ae lv" rel="noopener" target="_blank" href="/5-tips-for-pandas-users-e73681d16d17">ç»™pandasç”¨æˆ·çš„5ä¸ªæç¤º</a> <br/> â—¼ï¸ï¸ <a class="ae lv" rel="noopener" target="_blank" href="/writing-5-common-sql-queries-in-pandas-90b52f17ad76">åœ¨pandasä¸­è¿›è¡Œæ•°æ®èšåˆçš„5ä¸ªæç¤º</a> <br/> â—¼ï¸ï¸ <a class="ae lv" rel="noopener" target="_blank" href="/writing-5-common-sql-queries-in-pandas-90b52f17ad76">åœ¨pandasä¸­ç¼–å†™5ä¸ªå¸¸è§çš„SQLæŸ¥è¯¢</a> <br/> â—¼ï¸ï¸ <a class="ae lv" rel="noopener" target="_blank" href="/writing-advanced-sql-queries-in-pandas-1dc494a17afe">åœ¨pandasä¸­ç¼–å†™é«˜çº§SQLæŸ¥è¯¢</a></p><p id="6fe3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å†è§ğŸƒğŸ’¨</p></div></div>    
</body>
</html>