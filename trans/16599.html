<html>
<head>
<title>10 Examples to Master *args and **kwargs in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">掌握Python中*args和**kwargs的10个例子</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/10-examples-to-master-args-and-kwargs-in-python-6f1e8cc30749?source=collection_archive---------0-----------------------#2020-11-16">https://towardsdatascience.com/10-examples-to-master-args-and-kwargs-in-python-6f1e8cc30749?source=collection_archive---------0-----------------------#2020-11-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a6a7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用和不使用它们</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7d424405e5d148b83daf3f3db2881779.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q6P0rUT6mUB8auSG4Cjqhw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">安德鲁·西曼在<a class="ae ky" href="https://unsplash.com/s/photos/many?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="a301" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">函数是Python中的构建块。它们接受零个或多个参数并返回值。就参数如何传递给函数而言，Python相当灵活。*args和**kwargs使处理参数变得更加容易和简洁。</p><p id="ba77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重要的部分是“*”和“**”。你可以用任何单词来代替args和kwargs，但是通常的做法是用args和kwargs。因此，没有必要进行不必要的冒险。</p><p id="1b54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我们将讨论10个例子，我认为这些例子将使*args和**kwargs的概念变得非常清楚。</p><h2 id="cf48" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">示例1</h2><p id="7876" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">考虑下面这个对两个数字求和的函数。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="521d" class="lv lw it mu b gy my mz l na nb">def addition(a, b):<br/>   return a + b</span><span id="1faf" class="lv lw it mu b gy nc mz l na nb">print(addition(3,4))<br/>7</span></pre><p id="7bdd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个函数只对两个数求和。如果我们想要一个三四个数相加的函数呢？我们甚至不想限制传递给函数的参数数量。</p><p id="5661" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，我们可以使用*args作为参数。</p><blockquote class="nd"><p id="b2a3" class="ne nf it bd ng nh ni nj nk nl nm lu dk translated">*args允许函数接受任意数量的位置参数。</p></blockquote><pre class="nn no np nq nr mt mu mv mw aw mx bi"><span id="1cc9" class="lv lw it mu b gy my mz l na nb">def addition(*args):<br/>   result = 0<br/>   for i in args:<br/>      result += i<br/>   return result</span></pre><p id="d8cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">传递给加法函数的参数存储在一个元组中。因此，我们可以迭代args变量。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="b326" class="lv lw it mu b gy my mz l na nb">print(addition())<br/>0</span><span id="2009" class="lv lw it mu b gy nc mz l na nb">print(addition(1,4))<br/>5</span><span id="b6a3" class="lv lw it mu b gy nc mz l na nb">print(addition(1,7,3))<br/>11</span></pre></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h2 id="fbc9" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">示例2</h2><p id="d588" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在第二个例子之前，最好解释一下位置论元和关键字论元的区别。</p><ul class=""><li id="e0dc" class="nz oa it lb b lc ld lf lg li ob lm oc lq od lu oe of og oh bi translated">位置参数仅由名称声明。</li><li id="bc20" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">关键字参数由名称和默认值声明。</li></ul><p id="b1e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">调用函数时，必须给出位置参数的值。否则，我们会得到一个错误。</p><p id="f7b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们没有为关键字参数指定值，它将采用默认值。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="0f3f" class="lv lw it mu b gy my mz l na nb">def addition(a, b=2): #a is positional, b is keyword argument<br/>   return a + b</span><span id="72e8" class="lv lw it mu b gy nc mz l na nb">print(addition(1))<br/>3</span><span id="bb64" class="lv lw it mu b gy nc mz l na nb">def addition(a, b): #a and b are positional arguments<br/>   return a + b</span><span id="99c9" class="lv lw it mu b gy nc mz l na nb">print(addition(1))<br/>TypeError: addition() missing 1 required positional argument: 'b'</span></pre><p id="7ed1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以做第二个例子。可以同时使用*args和命名变量。下面的函数相应地打印传递的参数。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="a6c0" class="lv lw it mu b gy my mz l na nb">def arg_printer(a, b, *args):<br/>   print(f'a is {a}')<br/>   print(f'b is {b}')<br/>   print(f'args are {args}')</span><span id="e66a" class="lv lw it mu b gy nc mz l na nb">arg_printer(3, 4, 5, 8, 3)<br/>a is 3<br/>b is 4<br/>args are (5, 8, 3)</span></pre><p id="097a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">前两个值给a和b，其余的值存储在args元组中。</p></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h2 id="f2b9" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">示例3</h2><p id="1def" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">Python希望我们把关键字参数放在位置参数之后。在调用函数时，我们需要记住这一点。</p><p id="f577" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑下面的例子:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="7a3a" class="lv lw it mu b gy my mz l na nb">arg_printer(a=4, 2, 4, 5)</span><span id="66a4" class="lv lw it mu b gy nc mz l na nb">SyntaxError: positional argument follows keyword argument</span></pre><p id="baba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们给位置参数赋值，它就变成了关键字参数。因为它后面是位置参数，所以我们得到一个语法错误。</p></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h2 id="f933" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">实例4</h2><p id="03ff" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在下面的函数中，选项是一个关键字参数(它有一个默认值)。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="2213" class="lv lw it mu b gy my mz l na nb">def addition(a, b, *args, option=True):<br/>   result = 0<br/>   if option:<br/>      for i in args:<br/>      result += i<br/>      return a + b + result<br/>   else:<br/>      return result</span></pre><p id="0407" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果选项为真，此函数执行加法运算。由于默认值为True，除非option parameter声明为False，否则该函数将返回参数的总和。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="6a30" class="lv lw it mu b gy my mz l na nb">print(addition(1,4,5,6,7))<br/>23</span><span id="e9c3" class="lv lw it mu b gy nc mz l na nb">print(addition(1,4,5,6,7, option=False))<br/>0</span></pre></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h2 id="b28c" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">实例5</h2><p id="c282" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">**kwargs收集所有没有明确定义的关键字参数。因此，除了关键字参数之外，它的操作与*args相同。</p><blockquote class="nd"><p id="3583" class="ne nf it bd ng nh ni nj nk nl nm lu dk translated">**kwargs允许函数接受任意数量的关键字参数。</p></blockquote><p id="1771" class="pw-post-body-paragraph kz la it lb b lc on ju le lf oo jx lh li op lk ll lm oq lo lp lq or ls lt lu im bi translated">默认情况下，**kwargs是一个空字典。每个未定义的关键字参数都作为键值对存储在**kwargs字典中。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="3c46" class="lv lw it mu b gy my mz l na nb">def arg_printer(a, b, option=True, **kwargs):<br/>   print(a, b)<br/>   print(option)<br/>   print(kwargs)</span><span id="3e93" class="lv lw it mu b gy nc mz l na nb">arg_printer(3, 4, param1=5, param2=6)<br/>3 4<br/>True<br/>{'param1': 5, 'param2': 6}</span></pre></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h2 id="2cf4" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">实例6</h2><p id="5556" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们可以在函数中同时使用*args和**kwargs，但是*args必须放在**kwargs之前。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="83df" class="lv lw it mu b gy my mz l na nb">def arg_printer(a, b, *args, option=True, **kwargs):<br/>   print(a, b)<br/>   print(args)<br/>   print(option)<br/>   print(kwargs)</span><span id="b487" class="lv lw it mu b gy nc mz l na nb">arg_printer(1, 4, 6, 5, param1=5, param2=6)<br/>1 4<br/>(6, 5)<br/>True<br/>{'param1': 5, 'param2': 6}</span></pre></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h2 id="72d6" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">例7</h2><p id="1315" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们可以使用*args和**kwargs打包和解包变量。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="56e7" class="lv lw it mu b gy my mz l na nb">def arg_printer(*args):<br/>   print(args)</span></pre><p id="ea9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们将一个列表传递给上面的函数，它将作为一个单独的元素存储在args tuple中。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="29f8" class="lv lw it mu b gy my mz l na nb">lst = [1,4,5]</span><span id="b606" class="lv lw it mu b gy nc mz l na nb">arg_printer(lst)<br/>([1, 4, 5],)</span></pre><p id="c82b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们在lst前加一个星号，那么列表中的值会被解包，单独存储在args tuple中。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="fa4d" class="lv lw it mu b gy my mz l na nb">lst = [1,4,5]</span><span id="0f0b" class="lv lw it mu b gy nc mz l na nb">arg_printer(*lst)<br/>(1, 4, 5)</span></pre></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h2 id="9e26" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">实施例8</h2><p id="65bf" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们可以将多个iterables与单个元素一起解包。所有值都将存储在args元组中。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="d9a1" class="lv lw it mu b gy my mz l na nb">lst = [1,4,5]<br/>tpl = ('a','b',4)</span><span id="7520" class="lv lw it mu b gy nc mz l na nb">arg_printer(*lst, *tpl, 5, 6)<br/>(1, 4, 5, 'a', 'b', 4, 5, 6)</span></pre></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h2 id="830e" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">示例9</h2><p id="c4e8" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们也可以用关键字参数进行打包和解包。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="35dd" class="lv lw it mu b gy my mz l na nb">def arg_printer(**kwargs):<br/>   print(kwargs)</span></pre><p id="9487" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是作为关键字参数传递的iterable必须是一个映射，比如字典。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="b4f8" class="lv lw it mu b gy my mz l na nb">dct = {'param1':5, 'param2':8}</span><span id="6bc4" class="lv lw it mu b gy nc mz l na nb">arg_printer(**dct)<br/>{'param1': 5, 'param2': 8}</span></pre></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h2 id="077a" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">实例10</h2><p id="97af" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">如果我们还将额外的关键字参数与字典一起传递，它们将被合并并存储在kwargs字典中。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="aec3" class="lv lw it mu b gy my mz l na nb">dct = {'param1':5, 'param2':8}<br/>arg_printer(param3=9, **dct)</span><span id="f05b" class="lv lw it mu b gy nc mz l na nb">{'param3': 9, 'param1': 5, 'param2': 8}</span></pre></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h2 id="6efc" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">结论</h2><p id="069b" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">总结一下我们所讲的内容:</p><ul class=""><li id="3335" class="nz oa it lb b lc ld lf lg li ob lm oc lq od lu oe of og oh bi translated">函数中有两种类型的参数，即位置参数(仅由名称声明)和关键字参数(由名称和默认值声明)。</li><li id="c65c" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">调用函数时，必须给出位置参数的值。关键字参数是可选的(如果没有指定，则采用默认值)。</li><li id="846d" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">*args收集未显式定义的位置参数，并将它们存储在元组中</li><li id="6929" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">* *除了关键字参数，kwargs与*args的作用相同。它们存储在字典中，因为关键字参数存储为名称-值对。</li><li id="6dc0" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">Python不允许位置参数跟在关键字参数后面。因此，我们首先声明位置参数，然后声明关键字参数。</li></ul><p id="a0fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><h2 id="0a6f" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">参考</h2><p id="d746" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated"><a class="ae ky" href="https://calmcode.io/args-kwargs/introduction.html" rel="noopener ugc nofollow" target="_blank">https://calmcode.io/args-kwargs/introduction.html</a></p></div></div>    
</body>
</html>