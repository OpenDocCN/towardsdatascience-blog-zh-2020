<html>
<head>
<title>Step By Step Guide: Proportional Sampling For Data Science With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分步指南:使用Python进行数据科学的比例采样</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/step-by-step-guide-proportional-sampling-for-data-science-with-python-8b2871159ae6?source=collection_archive---------14-----------------------#2020-10-22">https://towardsdatascience.com/step-by-step-guide-proportional-sampling-for-data-science-with-python-8b2871159ae6?source=collection_archive---------14-----------------------#2020-10-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="090e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从头开始使用python理解数据科学所需的比例采样的概念和实现</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/54767b89602baf13849fb073f266e674.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PPIpPAISYWg6F2VJ0ETH6g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://pixabay.com/users/jakob5200-10067216/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5078866" rel="noopener ugc nofollow" target="_blank"> jakob5200 </a>来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5078866" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="8c8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">骰子的形象让我想起了我小时候玩的游戏，比如蛇和梯子或者鲁道。</p><p id="fb22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">掷骰子时，在任何时间间隔可能出现的数字的可能性是1-6。六个通常是最好的结果，而一个在大多数情况下可能不是很好。</p><p id="019e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，如果你能比其他数字更多次地掷出数字6，这不是很棒吗？</p><p id="8089" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个技巧正是比例采样所实现的，我们将在下一节中进一步研究其逐步实现的细节。但首先，让我们理解这些概念的必要性。</p><p id="22be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数学在数据科学和机器学习中扮演着重要的角色。</p><p id="081a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">概率统计就是这样一个基本要求。概率涉及预测未来事件发生的可能性，而统计学涉及对过去事件发生频率的分析。我们利用这些概念来处理机器学习和数据科学问题的一个重要方面叫做<strong class="lb iu">采样</strong>。</p><p id="7557" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在统计学、质量保证和调查方法学中，<strong class="lb iu">抽样</strong>是从统计总体中选择个体子集，以估计总体特征。统计学家试图用样本来代表所讨论的人口。</p><p id="5a4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基本上，<strong class="lb iu">抽样</strong>是统计分析中使用的一个过程，其中从一个较大的总体中抽取预定数量的观察值。</p><p id="0feb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与测量整个人口相比，抽样的两个主要优点是成本更低和数据收集更快。</p><p id="771d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有许多抽样方法，如随机抽样、均匀抽样等。在本文中，我们将主要分析比例抽样的逐步方法。</p><p id="952e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">比例抽样是一种按重量比例选取元素的方法，即对象的重量越大，被选中的机会就越大。</p><p id="bb3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参考前面所述的骰子示例，像五或六这样的较大数字比像一或二这样的较小数字更有可能被选中。</p><p id="acc2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们通过一些一步一步的程序实现和一些python代码来理解这一点。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mc"><img src="../Images/7e85d71f050d9a6e080b8be7f254d985.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*exOeH2awyQSjCItQ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">林赛·亨伍德在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="8427" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">比例取样的逐步方法；</h1><p id="fbab" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">执行比例采样所需导入的唯一附加库是python中的random模块。该模块可以按如下方式导入:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="2c34" class="nf me it nb b gy ng nh l ni nj">import random</span></pre><p id="b24a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个模块是唯一的额外要求。剩下的步骤可以用简单的python代码来执行。</p><p id="e6e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们继续之前，让我们定义我们的输入。作为一个例子，我将使用一个从1到6的数字列表来表示骰子。你可以随意选择你的问题的任意输入。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="d911" class="nf me it nb b gy ng nh l ni nj">A = [1,2,3,4,5,6]</span></pre><h2 id="c8a8" class="nf me it bd mf nk nl dn mj nm nn dp mn li no np mp lm nq nr mr lq ns nt mt nu bi translated">第一步:</h2><blockquote class="nv nw nx"><p id="df3c" class="kz la ny lb b lc ld ju le lf lg jx lh nz lj lk ll oa ln lo lp ob lr ls lt lu im bi translated">计算输入的所有元素的总和。</p><p id="ed2d" class="kz la ny lb b lc ld ju le lf lg jx lh nz lj lk ll oa ln lo lp ob lr ls lt lu im bi translated">Sum = A[0] + A[1] + ……。+ A[n] <br/>其中，n =已定义输入的最后一个元素的索引</p></blockquote><h2 id="daad" class="nf me it bd mf nk nl dn mj nm nn dp mn li no np mp lm nq nr mr lq ns nt mt nu bi translated">代码:</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="445e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码块中，我们将输入列表存储在变量“a”中。我们将继续计算列表中所有元素的总和。我已经使用了上面提到的简单方法，但是如果你觉得舒服的话，你也可以使用一个具有高级功能的更紧凑的方法。</p><h2 id="3451" class="nf me it bd mf nk nl dn mj nm nn dp mn li no np mp lm nq nr mr lq ns nt mt nu bi translated">第二步:</h2><blockquote class="nv nw nx"><p id="4a03" class="kz la ny lb b lc ld ju le lf lg jx lh nz lj lk ll oa ln lo lp ob lr ls lt lu im bi translated">计算输入列表中每个元素的归一化总和。</p><p id="151f" class="kz la ny lb b lc ld ju le lf lg jx lh nz lj lk ll oa ln lo lp ob lr ls lt lu im bi translated">A0 ' = A[0]/Sum；a1 ' = A[1]/Sum；………..<br/>其中，A’表示每个元素的归一化和</p></blockquote><h2 id="198d" class="nf me it bd mf nk nl dn mj nm nn dp mn li no np mp lm nq nr mr lq ns nt mt nu bi translated">代码:</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="102e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一个代码块计算分配给输入的每个元素的归一化和。我使用了一个字典变量“C”来相应地存储这些值。</p><h2 id="8e60" class="nf me it bd mf nk nl dn mj nm nn dp mn li no np mp lm nq nr mr lq ns nt mt nu bi translated">第三步:</h2><blockquote class="nv nw nx"><p id="83ce" class="kz la ny lb b lc ld ju le lf lg jx lh nz lj lk ll oa ln lo lp ob lr ls lt lu im bi translated">使用所有标准化值计算每个元素的累积和。</p><p id="f9d6" class="kz la ny lb b lc ld ju le lf lg jx lh nz lj lk ll oa ln lo lp ob lr ls lt lu im bi translated">A0 ~ = A0’；A1 ~ = A0 ~+A1 '；…….<br/>其中，A~代表每个元素的累积和</p></blockquote><h2 id="27a5" class="nf me it bd mf nk nl dn mj nm nn dp mn li no np mp lm nq nr mr lq ns nt mt nu bi translated">代码:</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="ad54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码块使用我们在上一步中找到的标准化值来计算每个元素的累积和。我使用了另一个字典变量‘D ’,它将存储所有需要的累积值。</p><h2 id="14b6" class="nf me it bd mf nk nl dn mj nm nn dp mn li no np mp lm nq nr mr lq ns nt mt nu bi translated">第四步:</h2><blockquote class="nv nw nx"><p id="55cd" class="kz la ny lb b lc ld ju le lf lg jx lh nz lj lk ll oa ln lo lp ob lr ls lt lu im bi translated">在(0，1)范围内选择一个随机值。</p><p id="e1c4" class="kz la ny lb b lc ld ju le lf lg jx lh nz lj lk ll oa ln lo lp ob lr ls lt lu im bi translated">r =随机均匀(0.0，1.0)</p><p id="755e" class="kz la ny lb b lc ld ju le lf lg jx lh nz lj lk ll oa ln lo lp ob lr ls lt lu im bi translated">如果r≤ A0~ =返回choice-1；<br/> else如果r≤ A1~ =返回choice-2；<br/> ………..依此类推，直到覆盖所有元素。</p></blockquote><h2 id="baed" class="nf me it bd mf nk nl dn mj nm nn dp mn li no np mp lm nq nr mr lq ns nt mt nu bi translated">代码:</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="c108" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下一个代码块中，我使用了我们在程序开始时导入的随机模块。使用0-1范围内的随机数，我们可以计算加权和出现的概率。</p><p id="67e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">观察代码，尝试直观地理解我们在上面的代码块中试图实现的内容。与较小的数字相比，较大的数字有更大的机会被选中，因为它们之间的桥梁在范围内出现得更高。</p><p id="ee8e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你对这一步感到困惑，我强烈建议你试着把它写在纸上，并解决这个计算是如何工作的。</p><p id="61b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们进入最后一个代码块，并理解最后一步。</p><h2 id="7fef" class="nf me it bd mf nk nl dn mj nm nn dp mn li no np mp lm nq nr mr lq ns nt mt nu bi translated">第五步:</h2><blockquote class="nv nw nx"><p id="53ce" class="kz la ny lb b lc ld ju le lf lg jx lh nz lj lk ll oa ln lo lp ob lr ls lt lu im bi translated">最终实现。</p></blockquote><h2 id="2f30" class="nf me it bd mf nk nl dn mj nm nn dp mn li no np mp lm nq nr mr lq ns nt mt nu bi translated">代码:</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="42c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面显示的最后一个代码块用于随机数生成和计数。上面的函数用于运行第一个定义的函数99次，并检查每个发生可能性的计数。</p><p id="2fff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">期望的输出对于数字6具有最高的计数，对于数字5具有第二高的计数，依此类推，直到我们对于数字1具有最少的计数。</p><p id="9aa4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一次运行的一个输出示例如下所示。</p><blockquote class="nv nw nx"><p id="c823" class="kz la ny lb b lc ld ju le lf lg jx lh nz lj lk ll oa ln lo lp ob lr ls lt lu im bi translated">注意:由于我们使用的是随机函数，每次输出都会不同。所以如果你得不到和我一样的输出也不用担心。要考虑的重要事情是哪个数字的计数最大。</p></blockquote><h2 id="46d0" class="nf me it bd mf nk nl dn mj nm nn dp mn li no np mp lm nq nr mr lq ns nt mt nu bi translated">输出:</h2><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="086e" class="nf me it nb b gy ng nh l ni nj">[6, 5, 4, 3, 2, 1]<br/>count of 6 is 30<br/>count of 5 is 24<br/>count of 4 is 20<br/>count of 3 is 11<br/>count of 2 is 10<br/>count of 1 is 4</span></pre><p id="8190" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每次运行程序时，输出可能会有所不同。不要求您获得如上所示的相同输出。出现这种情况的原因是因为我们使用了随机模块。需要注意的要点是，与其他数字相比，最大的重量数字具有更高的计数。</p><p id="5c0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样，我们成功地实现了比例抽样。这个概念在数据科学的许多方面都非常重要，在这些方面，需要给予较大的权重更高的优先级。</p><p id="c4b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">骰子的引用就是一个很好的例子。如果我有这个骰子，那么我赢得游戏的机会会高得多！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/7b4c0d1680b2815a518ff6e7acd01070.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NEW5HoX3mWJGySdZ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Sebastien Gabriel 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="f7e3" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论:</h1><p id="5284" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">至此，我们已经到了文章的结尾。我们理解数学对于数据科学的重要性，特别是在使用骰子的例子所需的概率和统计方面。</p><p id="f2eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们进一步讨论了采样的主题及其在数据科学领域的优势。然后，我们具体探讨了比例抽样技术，一步一步的指南和完整的代码。</p><p id="48f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你对我们今天在这篇文章中提到的比例抽样有任何疑问，请在评论区联系我。</p><p id="1312" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看看我的其他一些文章，你可能会喜欢读！</p><div class="of og gp gr oh oi"><a rel="noopener follow" target="_blank" href="/10-most-popular-programming-languages-for-2020-and-beyond-67c512eeea73"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">2020年及以后最受欢迎的10种编程语言</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">讨论当今10种最流行的编程语言的范围、优缺点</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow ks oi"/></div></div></a></div><div class="of og gp gr oh oi"><a rel="noopener follow" target="_blank" href="/must-use-built-in-tool-for-debugging-your-python-code-d5f69fecbdbe"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">必须使用内置工具来调试你的Python代码！</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">python调试器模块指南，包含有用的代码和命令。有效且高效地利用这一工具…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="ox l ot ou ov or ow ks oi"/></div></div></a></div><div class="of og gp gr oh oi"><a rel="noopener follow" target="_blank" href="/5-best-python-project-ideas-with-full-code-snippets-and-useful-links-d9dc2846a0c5"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">带有完整代码片段和有用链接的5个最佳Python项目创意！</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">为Python和机器学习创建一份令人敬畏的简历的5个最佳项目想法的代码片段和示例！</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="oy l ot ou ov or ow ks oi"/></div></div></a></div><div class="of og gp gr oh oi"><a rel="noopener follow" target="_blank" href="/opencv-complete-beginners-guide-to-master-the-basics-of-computer-vision-with-code-4a1cd0c687f9"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">OpenCV:用代码掌握计算机视觉基础的完全初学者指南！</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">包含代码的教程，用于掌握计算机视觉的所有重要概念，以及如何使用OpenCV实现它们</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="oz l ot ou ov or ow ks oi"/></div></div></a></div><p id="5b1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢谢你们坚持到最后。我希望你们都喜欢这篇文章。祝大家有美好的一天！</p></div></div>    
</body>
</html>