<html>
<head>
<title>A Beginner’s Guide to Data Analysis in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python数据分析初学者指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-beginners-guide-to-data-analysis-in-python-188706df5447?source=collection_archive---------2-----------------------#2020-10-15">https://towardsdatascience.com/a-beginners-guide-to-data-analysis-in-python-188706df5447?source=collection_archive---------2-----------------------#2020-10-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1d68" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Python数据分析入门分步指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0cbc7f3a3fc2fd1817be2275557161cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NHSuUIWAF95oZhFBvF_IKQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">克里斯·利维拉尼在<a class="ae ky" href="https://unsplash.com/s/photos/data-analysis?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="ed10" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">数据分析师的角色</h1><p id="3afb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">数据分析师使用编程工具来挖掘大量复杂的数据，并从这些数据中找到相关信息。</p><p id="190c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">简而言之，分析师是从杂乱的数据中获取意义的人。为了在工作场所发挥作用，数据分析师需要具备以下方面的技能:</p><ul class=""><li id="edfb" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated"><strong class="lt iu">领域专业知识</strong>——为了挖掘数据并提出与其工作场所相关的见解，分析师需要具备领域专业知识。</li><li id="de78" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">编程技能</strong>—作为一名数据分析师，你需要知道使用什么样的库来清理数据、挖掘数据并从中获得洞察力。</li><li id="af2c" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">统计</strong> —分析师可能需要使用一些统计工具来从数据中获取意义。</li><li id="10b3" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">可视化技能</strong> —数据分析师需要具备出色的数据可视化技能，以便汇总数据并呈现给第三方。</li><li id="24ea" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">讲故事— </strong>最后，分析师需要向利益相关者或客户传达他们的发现。这意味着他们需要创建一个数据故事，并有能力讲述它。</li></ul><p id="3fd3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在本文中，我将带您完成使用Python的端到端数据分析过程。</p><h2 id="0d8e" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">如果您遵循本教程并按照我的方式编写代码，那么您可以将这些代码和工具用于未来的数据分析项目。</h2><p id="bc0d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们将从下载和清理数据集开始，然后继续分析和可视化。最后，我们将围绕我们的数据发现讲述一个故事。</p><p id="7c81" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我将使用来自Kaggle的一个名为<a class="ae ky" href="https://www.kaggle.com/uciml/pima-indians-diabetes-database" rel="noopener ugc nofollow" target="_blank">Pima Indian Diabetes Database</a>的数据集，您可以下载该数据集来执行分析。</p><h1 id="a428" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">先决条件</h1><p id="f5ad" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在整个分析过程中，我将使用Jupyter笔记本。你可以使用任何你喜欢的Python IDE。</p><p id="df39" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您将需要沿途安装库，我将提供链接，引导您完成安装过程。</p><h1 id="ef17" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">分析</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/400bf6882d5a6146059be8375a05d185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mpyrgqwMjfclV2oN1U2VIA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卢克·切瑟在<a class="ae ky" href="https://unsplash.com/s/photos/data-analysis?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="d2a6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下载完数据集后，你需要阅读<em class="nt">。csv </em>文件作为Python中的数据帧。你可以使用熊猫图书馆来做到这一点。</p><p id="8bb5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果您还没有安装它，您可以在您的终端中使用一个简单的“<em class="nt">pip install pandas”</em>来完成。如果你在安装时遇到任何困难，或者只是想了解更多关于熊猫库的知识，你可以在这里查看他们的文档。</p><h2 id="58e0" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">读取数据</h2><p id="3c95" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">要将数据框读入Python，首先需要导入Pandas。然后，您可以读取该文件并使用以下代码行创建数据框:</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="ff7b" class="ng la it nv b gy nz oa l ob oc">import pandas as pd<br/>df = pd.read_csv('diabetes.csv')</span></pre><p id="3315" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">要检查数据帧的头部，请运行:</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="bb7f" class="ng la it nv b gy nz oa l ob oc">df.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/0c429d27419b7649b3f841d69f9243f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RJPj5uZJUyfsBCQq.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5c3c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从上面的截图中，您可以看到与患者健康相关的9个不同变量。</p><p id="2467" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">作为一名分析师，您需要对这些变量有一个基本的了解:</p><ul class=""><li id="56e9" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated"><strong class="lt iu">怀孕</strong>:患者怀孕的次数</li><li id="8c6d" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">葡萄糖</strong>:患者的葡萄糖水平</li><li id="c3e8" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">血压</strong></li><li id="1859" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">皮肤厚度</strong>:患者皮肤的厚度，单位为毫米</li><li id="4d28" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">胰岛素</strong>:患者的胰岛素水平</li><li id="cfba" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">身体质量指数</strong>:患者体重指数</li><li id="d25c" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">糖尿病糖尿病功能</strong>:亲属有糖尿病史</li><li id="b045" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">年龄</strong></li><li id="0a11" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><strong class="lt iu">结果</strong>:患者是否患有糖尿病</li></ul><p id="5d1b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">作为一名分析师，您需要了解这些变量类型(数值型和分类型)之间的区别。</p><p id="b86d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">数值变量</strong>是一种测量变量，具有某种数值意义。除了“<em class="nt">结果</em>之外，该数据集中的所有变量都是数字。</p><p id="62d5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">分类变量</strong>也叫名义变量，有两个或两个以上可以分类的类别。</p><p id="ac80" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">变量“<em class="nt">结果</em>”是分类的——0代表没有糖尿病，1代表有糖尿病。</p></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><h2 id="d078" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">快速笔记</h2><p id="8f75" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在继续分析之前，我想简单说明一下:</p><p id="e5f4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">分析师也是人，我们经常会对我们期望在数据中看到的东西有先入为主的想法。 </p><p id="73ae" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="nt">例如，你会认为老年人更有可能患糖尿病。您可能希望在数据中看到这种相关性，但情况可能并不总是如此。</em>T3】</strong></p><p id="84df" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在分析过程中保持开放的心态，不要让你的偏见影响决策。 </p></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><h2 id="4f9d" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">熊猫简介</h2><p id="ab73" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这是一个非常有用的工具，可供分析师使用。它生成数据框的分析报告，并帮助您更好地理解变量之间的相关性。</p><p id="0cf0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">要生成Pandas分析报告，请运行以下代码行:</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="cb52" class="ng la it nv b gy nz oa l ob oc">import pandas_profiling as pp<br/>pp.ProfileReport(df)</span></pre><p id="7a81" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">该报告将为您提供数据集的一些总体统计信息，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/6f0834389fc76aa8a43f1786aacb4625.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HKeT57wYUVLWkTRn.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="a828" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">通过浏览数据集统计数据，我们可以看到数据框中没有缺失或重复的像元。</p><p id="66f9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">上面提供的信息通常需要我们运行几行代码来查找，但是使用Pandas Profiling生成这些信息要容易得多。</p><p id="d866" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">Pandas Profiling还提供了每个变量的更多信息。我给你看一个例子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/82093cc6859a7d7f574fed234de338eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nncGqrWOTh86ph1X.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="8b5e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这是为变量“怀孕”生成的信息</p><p id="3dda" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">作为一名分析师，<strong class="lt iu">这份报告节省了大量时间</strong>，因为我们不必检查每个变量，也不必运行太多行代码。</p><p id="2a17" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从这里，我们可以看出:</p><ul class=""><li id="bf7b" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">变量“<em class="nt">怀孕”</em>有17个不同的值。</li><li id="d053" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">一个人怀孕的次数最少是0次，最多是17次。</li><li id="66d6" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">这一列中零值的数量非常少(只有14.5%)。这意味着数据集中80%以上的患者都怀孕了。</li></ul><p id="c112" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在报告中，为每个变量提供了这样的信息。这对我们理解数据集和其中的所有列很有帮助。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/13ff55030578a9e738a56ce40726c33b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9lcVt7ZxDiHgm1LW.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="7eab" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">上面的图是一个相关矩阵。它帮助我们更好地理解数据集中变量之间的相关性。</p><p id="d27b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">变量“<em class="nt">年龄</em>”和“<em class="nt">皮肤厚度</em>”之间存在轻微的正相关关系，这可以在分析的可视化部分进一步研究。</p><p id="659b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">由于如上所示，数据帧中没有<strong class="lt iu">丢失或重复的行</strong>，我们不需要做任何额外的数据清理。</p><h2 id="1157" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">数据可视化</h2><p id="a36b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在我们对每个变量都有了基本的了解，我们可以试着找出它们之间的关系。</p><p id="ad96" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">最简单快捷的方法是生成可视化效果。</p><p id="655d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在本教程中，我们将使用三个库来完成这项工作——Matplotlib、Seaborn和Plotly。</p><p id="f6aa" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果你是Python的完全初学者，我建议开始熟悉Matplotlib和Seaborn。</p><p id="291b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这里的是Matplotlib的文档，这里的<a class="ae ky" href="https://seaborn.pydata.org/" rel="noopener ugc nofollow" target="_blank">是Seaborn的文档。我强烈建议花一些时间阅读文档，并使用这两个库做教程，以提高您的可视化技能。</a></p><p id="4b5d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">Plotly是一个允许您创建交互式图表的库，需要稍微熟悉Python才能掌握。你可以在这里找到安装指南和要求<a class="ae ky" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="615f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果你完全按照这个教程，你将能够用这三个库制作漂亮的图表。然后，您可以将我的代码用作将来任何分析或可视化任务的模板。</p><h2 id="2d7e" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">可视化结果变量</h2><p id="bbde" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">首先，运行下面几行代码，在安装后导入Matplotlib、Seaborn、Numpy和Plotly:</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="f6e7" class="ng la it nv b gy nz oa l ob oc"># Visualization Imports</span><span id="2947" class="ng la it nv b gy oo oa l ob oc">import matplotlib.pyplot as plt<br/>import seaborn as sns<br/>color = sns.color_palette()<br/>get_ipython().run_line_magic('matplotlib', 'inline')<br/>import plotly.offline as py<br/>py.init_notebook_mode(connected=True)<br/>import plotly.graph_objs as go<br/>import plotly.tools as tls<br/>import plotly.express as px<br/>import numpy as np</span></pre><p id="0919" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">接下来，运行以下代码行来创建一个饼图，可视化结果变量:</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="d214" class="ng la it nv b gy nz oa l ob oc">dist = df['Outcome'].value_counts()<br/>colors = ['mediumturquoise', 'darkorange']<br/>trace = go.Pie(values=(np.array(dist)),labels=dist.index)<br/>layout = go.Layout(title='Diabetes Outcome')<br/>data = [trace]<br/>fig = go.Figure(trace,layout)<br/>fig.update_traces(marker=dict(colors=colors, line=dict(color='#000000', width=2)))<br/>fig.show()</span></pre><p id="24b5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这是用Plotly库完成的，你会得到一个交互式图表，看起来像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/cafd3308fc528b34d6a0d926d27103ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lrAa2Vfno2qNFsNFn0IxLQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="61f4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您可以摆弄图表，选择更改颜色、标签和图例。</p><p id="326b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然而，从上面的图表中，我们可以看到数据集中的大多数患者都不是糖尿病患者。其中不到一半的结果为1(患有糖尿病)。</p><h2 id="f3ee" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">Plotly相关矩阵</h2><p id="6919" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">类似于在Pandas Profiling中生成的相关矩阵，我们可以使用Plotly创建一个:</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="83ed" class="ng la it nv b gy nz oa l ob oc">def df_to_plotly(df):<br/>    return {'z': df.values.tolist(),<br/>            'x': df.columns.tolist(),<br/>            'y': df.index.tolist() }</span><span id="7989" class="ng la it nv b gy oo oa l ob oc">import plotly.graph_objects as go<br/>dfNew = df.corr()<br/>fig = go.Figure(data=go.Heatmap(df_to_plotly(dfNew)))<br/>fig.show()</span></pre><p id="2068" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">上面的代码将生成一个类似于上面的相关矩阵:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/84397931ac3302f80fa42546ef55a4b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*87ULSSzBLCNDR6Mp0HPBaQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="994e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">同样，与上面生成的矩阵类似，可以观察到变量之间的正相关关系:</p><ul class=""><li id="1383" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">年龄和怀孕</li><li id="47eb" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">葡萄糖和结果</li><li id="2439" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">皮肤厚度和胰岛素</li></ul><p id="f295" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了进一步了解变量之间的相关性，我们将创建一些图表:</p><h2 id="792b" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">可视化葡萄糖水平和胰岛素</h2><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="6a95" class="ng la it nv b gy nz oa l ob oc">fig = px.scatter(df, x='Glucose', y='Insulin')<br/>fig.update_traces(marker_color="turquoise",marker_line_color='rgb(8,48,107)',<br/>                  marker_line_width=1.5)<br/>fig.update_layout(title_text='Glucose and Insulin')<br/>fig.show()</span></pre><p id="9307" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">运行上面的代码应该会得到如下图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/fea89fa01ada34dd7c6a41445dd8472f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XYnjmUKgfeESls6kNNWzbw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="d275" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">变量葡萄糖和胰岛素之间存在正相关。这是有道理的，因为血糖水平较高的人应该摄入更多的胰岛素。</p><h2 id="36a1" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">想象结果和年龄</h2><p id="354e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在，我们将可视化变量结果和年龄。为此，我们将使用下面的代码创建一个箱线图:</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="605b" class="ng la it nv b gy nz oa l ob oc">fig = px.box(df, x='Outcome', y='Age')<br/>fig.update_traces(marker_color="midnightblue",marker_line_color='rgb(8,48,107)',<br/>                  marker_line_width=1.5)<br/>fig.update_layout(title_text='Age and Outcome')<br/>fig.show()</span></pre><p id="7002" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">结果图看起来有点像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/73bf92ae3730ab52dfc80566548f7e15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u4TcHjeRY_8tRtxda3GHYA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="8564" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从上面的图中，你可以看到老年人更容易患糖尿病。患有糖尿病的成年人的平均年龄在35岁左右，而没有糖尿病的人的平均年龄要低得多。</p><p id="2302" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然而，有很多异常值。</p><p id="9054" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">有一些没有糖尿病的老年人(一个甚至超过80岁)，这可以在箱线图中观察到。</p><h2 id="fdcf" class="ng la it bd lb nh ni dn lf nj nk dp lj ma nl nm ll me nn no ln mi np nq lp nr bi translated">想象身体质量指数和结果</h2><p id="957a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最后，我们将把变量“<em class="nt">身体质量指数</em>”和“<em class="nt">结果</em>”可视化，看看这两个变量之间是否有关联。</p><p id="c788" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为此，我们将使用Seaborn库:</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="19a5" class="ng la it nv b gy nz oa l ob oc">plot = sns.boxplot(x='Outcome',y="BMI",data=df)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/97209a19047b54009355c61a369a9598.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*0zHUS7nquA21rUKRQvCR1w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="90e4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这里创建的箱线图类似于上面使用Plotly创建的箱线图。然而，Plotly更擅长创建交互式的可视化效果，与Seaborn制作的图表相比，这些图表看起来更漂亮。</p><p id="3e81" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从上面的方框图中，我们可以看到较高的身体质量指数与积极的结果相关。患有糖尿病的人比没有糖尿病的人更容易患身体质量指数氏症。</p></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><p id="02e0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您可以通过简单地更改变量名并运行相同的代码行来制作更多类似上面的可视化效果。</p><p id="b0df" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我将把它作为一个练习留给你去做，让你更好地掌握Python的可视化技巧。</p></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><h1 id="992c" class="kz la it bd lb lc or le lf lg os li lj jz ot ka ll kc ou kd ln kf ov kg lp lq bi translated">数据叙事</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fcdc8fd12109b645a5b17fbb9a712477.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kAMWqf6ohzvtbav0kKuP3A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@blazphoto?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Blaz Photo </a>在<a class="ae ky" href="https://unsplash.com/s/photos/book?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="256d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">最后，我们可以围绕我们已经分析和可视化的数据讲一个故事。我们的发现可以细分如下:</p><p id="5a8a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">糖尿病患者比非糖尿病患者更容易衰老。他们也更有可能有较高的身体质量指数氏症，或患有肥胖症。他们的血液中也更可能有较高的葡萄糖水平。血糖水平较高的人也倾向于服用更多的胰岛素，这种正相关性表明糖尿病患者也可能具有较高的胰岛素水平(<em class="nt">这种相关性可以通过创建散点图</em>来检查)。</p></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><p id="0bd4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">本文到此为止！我希望本教程对您有所帮助，并且可以作为您需要创建的项目的未来参考。祝您在数据科学之旅中好运，并祝您学习愉快！</p><blockquote class="ow ox oy"><p id="64c7" class="lr ls nt lt b lu mn ju lw lx mo jx lz oz mp mc md pa mq mg mh pb mr mk ml mm im bi translated">随时随地向任何人学习你所能学到的一切；总有一天你会感激你所做的——莎拉·考德威尔。</p></blockquote></div></div>    
</body>
</html>