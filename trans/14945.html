<html>
<head>
<title>Data Science — Building a Network Graph using Microsoft Power BI for SQL Relational Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学—使用Microsoft Power BI为SQL关系数据构建网络图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-science-building-a-network-graph-in-power-bi-using-sql-server-a1b4c9b7610a?source=collection_archive---------23-----------------------#2020-10-14">https://towardsdatascience.com/data-science-building-a-network-graph-in-power-bi-using-sql-server-a1b4c9b7610a?source=collection_archive---------23-----------------------#2020-10-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="30a4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">讨论如何为存储在SQL Server中的销售数据构建网络图，以可视化销售模式。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e92e425b03719b8d26ff8828e700c93b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kavW59UHx7EnbZhlTdVpSQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="d8ee" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">网络理论是一种最先进的理论，用于表示实体之间的复杂关系。一些有趣的应用是疫情扩散分析(如COVID19)、社会网络分析(如脸书网络)、世界贸易分析等..网络图建立在网络理论的基础上，可以为讲故事提供动态的、有时令人兴奋的图表。</p><p id="d421" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">本文将讨论如何为存储在SQL Server中的SQL关系数据构建网络图。想要从事一些数据科学项目的人(例如软件工程师、数据工程师、数据库管理员)可能会对它感兴趣。</p><p id="a888" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以上是自行车相关产品销售数据的最终网络图。注意，为了简单起见，我没有使用所有的数据，为了演示的目的，我没有使用更清晰的视图。</p><h2 id="099d" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">从这个图表中，很容易回答公司高管的常见问题:</h2><ul class=""><li id="e59b" class="mn mo it la b lb mp le mq lh mr ll ms lp mt lt mu mv mw mx bi translated">卖什么产品？<br/> <em class="my">图中所有的绿色节点，包括旅行车、公路车、山地车、自行车架。</em></li><li id="9b71" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">产品销售到哪里？<br/> <em class="my">图中的所有灰色节点，包括加利福尼亚州、新英格兰州、新墨西哥州、科罗拉多州、内华达州和犹他州。</em></li><li id="a3b1" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">卖多少产品或者产品卖多少钱？<br/> <em class="my">大部分到加州和新英格兰，部分到新墨西哥州和科罗拉多州，少量到犹他州和内华达州。</em></li><li id="9745" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">产品和客户的地理位置之间有什么关联吗？<br/> <em class="my">是的！例如，销售到新英格兰的公路自行车比自行车架多得多，公路自行车的链接更粗就说明了这一点。</em></li><li id="973a" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">对于一个全新的产品，它应该在哪里营销和销售？<br/> <em class="my">例如，一辆旅行自行车可以行销到加利福尼亚、新英格兰、新墨西哥和科罗拉多！</em></li></ul><h2 id="9d5f" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">现在，我们如何在微软Power BI中构建这样的东西呢？</h2><p id="6f33" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh ne lj lk ll nf ln lo lp ng lr ls lt im bi translated"><strong class="la iu">先决条件</strong></p><ul class=""><li id="0515" class="mn mo it la b lb lc le lf lh nh ll ni lp nj lt mu mv mw mx bi translated">Microsoft帐户。可以免费注册。</li><li id="9544" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">超级商务智能台式机。你可以从这个<a class="ae nk" href="https://powerbi.microsoft.com/en-us/downloads/" rel="noopener ugc nofollow" target="_blank">微软链接</a>免费下载。</li><li id="c44c" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">SQL Server。你可以从这个<a class="ae nk" href="https://www.microsoft.com/en-ca/sql-server/sql-server-downloads" rel="noopener ugc nofollow" target="_blank">微软链接</a>免费下载。</li><li id="178d" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">Microsoft示例数据库“AdventureWorksLT2016”</li></ul><p id="d72b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">示例Adventure Works数据库中有什么？</strong></p><ul class=""><li id="fcb3" class="mn mo it la b lb lc le lf lh nh ll ni lp nj lt mu mv mw mx bi translated">销售系统的虚假CMS数据</li><li id="3822" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">产品和产品类别</li><li id="0ee8" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">客户及其地址</li><li id="3fec" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">销售订单</li></ul><p id="253a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">步骤1 —打开Power BI Desktop并创建一个新工作簿。</strong>在可视化面板中，点击三个点并选择“获取更多视觉效果”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/4f13ce63f5ec9e5d93d0dae0424d3c29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*94-QQ0gVk3e9TTZTdPXS9g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="aebc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">步骤2 —搜索“网络”,安装网络导航图，这是微软提供的自定义可视化工具。</strong>安装后，网络导航器应显示在可视化列表中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/d55726f75bef0fc810310f6eaecce3ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mcFzvimk5EUR8jHLt47FLw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/b3909a6cea25a556e544143a075f9b55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nn8O0UvkWE-Y0tM7tHMYrw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="ef3b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">步骤3 —现在让我们通过将工作簿连接到SQL Server上的AdventureWorks数据库来获取示例数据。</strong>注意，当要求我们选择表格时，我们只需要数据库中的几个表格。如果将来需要，您可以添加更多表格。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/2bfcd170a6d39941f1822a050487fdc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fqDETsbLlbxYROiu_q7R2A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/8160867a27107f041251281663365f9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TnXx0FY5DTBy0INEQU6oSA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/3a3be022adaca9a63111994169c648e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E5FdXq3Rnd3IHJWh-yzo6g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/61504fc698ccb547c6275ad523241fa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6l7wtwWc0ZCa467B4BLeCg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="ab85" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">单击左侧边栏上的模型图图标，确认数据模型。请注意，Power BI将识别外键和表之间的关系。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/55c5aeff91527e48653c6107a655e5f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yrmt6Koy_zKUXaDc5OADBg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="22fc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">第4步—(可选)为用户界面添加一个新列。</strong>在左侧栏中，导航到数据图标，然后选择客户表，并单击新列。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/ad604ebc169b8ca5761fba3b6d194119.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oe7HFzhs0565UaagszqjOQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="869c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在编辑栏中，输入以下文本，为所有记录设置列名和常数值。</p><p id="e0d7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">PowerBiNodeColor = "#01B1AA "</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/a616fc0ca770d503749237dbce74688c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MExdI14cIDzzctQhFlKr1w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="f2b5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">步骤5——点击网络导航图标，创建网络图。在我们填写所需属性之前，它将为空。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/6f20021756d2d0eaf240a74cdabd83e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1tKobcHjkF8NwVCIjB5Ytg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="887d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">第6步—添加我们想要探索的数据字段。</strong>在本次演示中，我们将使用:</p><ul class=""><li id="2bb5" class="mn mo it la b lb lc le lf lh nh ll ni lp nj lt mu mv mw mx bi translated">列产品类别。作为源节点的名称</li><li id="d187" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">列地址。StateProvince作为目标节点</li><li id="8379" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">SalesOrderDetail列OrderQty作为边权重，它确定边/链接的厚度。</li><li id="80fa" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">SalesOrderDetail列OrderQty作为目标节点权重，它决定了状态节点的大小。</li><li id="c642" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">列PowerBiNodeColor作为源节点颜色，这是我们在上一步中创建的绿色。</li></ul><p id="fbd1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第六步——在“画笔”部分给网络图一些爱和格式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/9e1cdffdc236c44ffa3ef22229e232a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J3G7coWOLUzc9InIiPGXSg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="0483" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是我为此演示更新的设置列表:</p><ul class=""><li id="adc2" class="mn mo it la b lb lc le lf lh nh ll ni lp nj lt mu mv mw mx bi translated">在“布局”面板中将“最大节点大小”设置为30，以便节点/气泡不会变得太大</li><li id="66e0" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">打开布局面板中的标签。</li><li id="649e" class="mn mo it la b lb mz le na lh nb ll nc lp nd lt mu mv mw mx bi translated">将标题值设置为“Adventure Works”。</li></ul><p id="d000" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">恭喜恭喜！</strong>现在，您有了一个全新的网络图来展示如何以一种非常吸引人的格式可视化SQL关系数据！</p><p id="23ab" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">本文中使用的Power BI工作簿发布在这个<a class="ae nk" href="https://github.com/ShawnShiSS/data-science-network-graph" rel="noopener ugc nofollow" target="_blank"> GitHub链接</a>上。请随意使用它作为您下一个数据科学项目的开始！</p><p id="5fef" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">感谢您的阅读！</strong></p></div></div>    
</body>
</html>