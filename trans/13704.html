<html>
<head>
<title>Machine Learning jobs don’t run faster because you stare at them</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习作业不会因为你盯着它们而跑得更快</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/machine-learning-jobs-dont-run-faster-because-you-stare-at-them-ef8b8fe07349?source=collection_archive---------31-----------------------#2020-09-20">https://towardsdatascience.com/machine-learning-jobs-dont-run-faster-because-you-stare-at-them-ef8b8fe07349?source=collection_archive---------31-----------------------#2020-09-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9633" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在您做更多令人兴奋的事情时，让您的python脚本文本状态更新和警告消息。</h2></div><figure class="ki kj kk kl gt km"><div class="bz fp l di"><div class="kn ko l"/></div></figure><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi kp"><img src="../Images/66843f384385359c9728d0ee7e2fc453.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OpW65_bT8NHXJQM85h75vA.jpeg"/></div></div><p class="kw kx gj gh gi ky kz bd b be z dk translated">图片由<a class="ae la" href="https://pixabay.com/photos/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1149544" rel="noopener ugc nofollow" target="_blank"> Free-Photos </a>来自<a class="ae la" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1149544" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="25c1" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">尽管很吸引人，但我没有时间坐下来看长时间运行的数据管道时钟、模型训练和python脚本来处理我的任务。通常，我们希望确保没有需要关注的失败。这个问题的一个解决方案是发送一封电子邮件或文本来获取你想要的任何状态更新。你可以放心地去做其他的事情。</p><p id="3516" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">关于如何从python脚本发送<a class="ae la" href="https://realpython.com/python-send-email/" rel="noopener ugc nofollow" target="_blank">电子邮件</a>和<a class="ae la" href="https://www.twilio.com/docs/sms/send-messages#send-an-sms-with-twilios-api" rel="noopener ugc nofollow" target="_blank">文本</a>有几个很好的教程。根据您是在组织内工作还是在项目中工作，设置会有所不同。对于本例，我将设置一个Twilio电话号码，并在python脚本运行期间使用该帐户向自己发送文本更新。</p><p id="0744" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">设置Twilio帐户后，您可以访问您的帐户id和API令牌。要通过API发送文本，您需要请求一个Twilio电话号码。整个过程大约需要2分钟。非常快！</p><p id="0f21" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">下面的脚本是典型的机器学习类型的脚本。在这种情况下，autoML脚本使用<a class="ae la" href="https://github.com/mljar/mljar-supervised" rel="noopener ugc nofollow" target="_blank"> mljar包</a>运行。我不仅想知道脚本何时完成运行，还想在出现故障时得到提醒。</p><pre class="ki kj kk kl gt lx ly lz ma aw mb bi"><span id="dd8d" class="mc md it ly b gy me mf l mg mh"># Example of sending text status updates while running an autoML script.</span><span id="af0d" class="mc md it ly b gy mi mf l mg mh">import pandas as pd <br/># scikit learn utilites<br/>from sklearn.metrics import accuracy_score<br/>from sklearn.model_selection import train_test_split</span><span id="a4e6" class="mc md it ly b gy mi mf l mg mh"># mljar-supervised package<br/>from supervised.automl import AutoML</span><span id="0cbb" class="mc md it ly b gy mi mf l mg mh">######################################################<br/># <a class="ae la" href="https://www.twilio.com/docs/python/install" rel="noopener ugc nofollow" target="_blank">https://www.twilio.com/docs/python/install</a><br/>from twilio.rest import Client</span><span id="b103" class="mc md it ly b gy mi mf l mg mh"># Your Account Sid and Auth Token from twilio.com/console<br/># DANGER! This is insecure. See <a class="ae la" href="http://twil.io/secure" rel="noopener ugc nofollow" target="_blank">http://twil.io/secure</a><br/>account_sid = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'<br/>auth_token = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'<br/>client = Client(account_sid, auth_token)<br/>#######################################################</span><span id="0def" class="mc md it ly b gy mi mf l mg mh">try:<br/>    input_df  = pd.read_csv('train.csv')<br/>    input_df.fillna(0)<br/>    print('Input file columns: ' + str(input_df.columns))</span><span id="3f8b" class="mc md it ly b gy mi mf l mg mh">train_data  = input_df[['id', 'keyword', 'location', 'text']]</span><span id="9c59" class="mc md it ly b gy mi mf l mg mh">train_label = input_df[['target']]</span><span id="d802" class="mc md it ly b gy mi mf l mg mh">print('train data : ' + str(train_data.head(1)))<br/>    print('train label: ' + str(train_label.head(1)))</span><span id="5f1a" class="mc md it ly b gy mi mf l mg mh">X_train, X_test, y_train, y_test = train_test_split(<br/>        pd.DataFrame(train_data), train_label, stratify=train_label, test_size=0.25,<br/>        random_state=27<br/>        )<br/>except:<br/>    message = client.messages.create(<br/>                              body='mljar data load and split failed',<br/>                              from_='+1xxxxxxxxxx', #twilio #<br/>                              to='+1xxxxxxxxx'<br/>                          )<br/>    print(message.sid)</span><span id="bc58" class="mc md it ly b gy mi mf l mg mh">try:<br/>    automl = AutoML(mode="Explain")<br/>    automl.fit(X_train, y_train)<br/>    message = client.messages.create(<br/>                              body='mljar Explain completed',<br/>                              from_='+xxxxxxxxxx',<br/>                              to='+1xxxxxxxx'<br/>                          )<br/>except:<br/>    except:<br/>    message = client.messages.create(<br/>                              body='mljar Explain failed',<br/>                              from_='+xxxxxxxxx',<br/>                              to='+1xxxxxxxxxx'</span><span id="a0b2" class="mc md it ly b gy mi mf l mg mh">Nothing is more disappointing than logging onto your computer after waiting hours for a model to train and finding that it failed hours ago! Prevent this by setting up text or email alerts. It’s simple, fast, and is satisfying when you get the ‘successful completion’ text.</span></pre><p id="472f" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">没有什么比提交一个脚本运行后登录到您的计算机上，发现它几个小时前就失败了更令人失望的了！通过设置文本或电子邮件提醒来防止这种情况。当你收到“成功完成”的信息时，这是简单、快速和令人满意的。</p></div></div>    
</body>
</html>