<html>
<head>
<title>Learn to create a Chatbot in 5 minutes: Google’s DialogFlow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学会在5分钟内创建一个聊天机器人:谷歌的对话流</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/learn-to-create-a-chatbot-in-5-minutes-googles-dialogflow-4064b4fa336a?source=collection_archive---------23-----------------------#2020-09-22">https://towardsdatascience.com/learn-to-create-a-chatbot-in-5-minutes-googles-dialogflow-4064b4fa336a?source=collection_archive---------23-----------------------#2020-09-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="729f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我看到Google的DialogFlow之前，我从未意识到构建一个聊天机器人会如此简单。这就像巫师有一根魔杖，聊天机器人不知从哪里冒出来一根鞭子。不管怎样，让我们为自己是这里的巫师而自豪，我们的魔杖就是对话流。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/5bdfc2a7c3a35577faf5a0065ed3ecea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WrkTRRF_1XyvIgI3QTWHLw.jpeg"/></div></div><p class="lb lc gj gh gi ld le bd b be z dk translated">由<a class="ae lf" href="https://unsplash.com/@flucas?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">卢卡斯·佛罗伦廷</a>在<a class="ae lf" href="https://unsplash.com/s/photos/wand-cartoon?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="054f" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated"><strong class="ak">对话框流中的组件</strong></h1><p id="f284" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">现在让我们进入构建模块，这些模块必须被安排以获得一个功能性的机器人。</p><p id="3fb2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">代理:</strong>代理可以实现为客户支持超级明星，直接与用户打交道，以获得令人敬畏的体验。类似地，在DialogFlow中，我们的聊天机器人在高层被称为代理。</p><p id="5fe8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">意图:</strong>代理通过意图和意图连接到用户，一般来说，对用户试图做出的对话请求进行分类。例如，如果一个用户想要查看他的帐户详细信息，那么该请求将被定向到<em class="ko"> AccountenquiryIntent。</em>因此，意图是将问题类型重定向到特定类别的守门人</p><p id="afe5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">实体:</strong>实体处理数据提取部分。它们有助于识别特定的关键词，这些关键词对于引导回复的特定意图至关重要</p><p id="c583" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">语境:</strong>语境就像自然语言理解在哪里回应当前的对话我们需要获取之前对话的语境。因此，它们有助于将每个对话块连接在一起，以便聊天机器人的回复有意义</p><p id="8933" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">满足感:这是谈话的支柱。它使用API连接到后端数据库，以存储对话或检索数据库的信息</p><p id="7c14" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">集成:</strong>这些是可以连接到dialogflow的外部应用程序，这样我们的聊天机器人就可以在外部世界茁壮成长。一些应用程序包括，slack，脸书信使，Twilio，Telegram</p><h1 id="1128" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated"><strong class="ak">让我们深入:做部分</strong></h1><p id="3233" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">现在让我们通过实际实现一些很酷的东西来弄脏我们的手</p><p id="d6b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了访问Dialogflow，我们需要一个Google帐户。所以一定要有一个，并使用<a class="ae lf" href="https://dialogflow.cloud.google.com/#/login" rel="noopener ugc nofollow" target="_blank">链接</a>进入对话流页面和<em class="ko">登录谷歌</em>。接受谷歌的<em class="ko">条款和条件</em>并设置您的国家。你将被带到对话流控制台</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/1a5434980bdf91a73b06fa8b94036147.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*u16rC4HJpBcB1HAU2dacoA.png"/></div><p class="lb lc gj gh gi ld le bd b be z dk translated">图1:对话流控制台。作者提供的图片来源</p></figure><h1 id="5d17" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">1.创建代理:</h1><p id="a98d" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">第一步是创建一个代理，这就是我们实际的聊天机器人。因此，点击页面左上角的<strong class="js iu">创建代理</strong>按钮或中间的按钮。给你的聊天机器人起个名字，设置语言和它工作的时区。完成后，点击<strong class="js iu">创建</strong>。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/1c71aa2bb00a1008105b71dbed1d5da0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*z79EFWNWgp3LF3BkZFs_jQ.png"/></div><p class="lb lc gj gh gi ld le bd b be z dk translated">图2:代理设置页面。作者提供的图片来源</p></figure><h1 id="a00c" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">2.设置意图:</h1><p id="a9d0" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">在屏幕的左上角，我们可能会找到一个名为<strong class="js iu"> Intent的选项卡。</strong>默认情况下，DialogFlow为我们提供默认的回退意图和欢迎消息意图。如果您点击任何一个意向，您可能会发现:</p><ul class=""><li id="cd84" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated"><strong class="js iu">训练短语:</strong>这些是用户在与聊天机器人交互时可能提供的合适对话。我们不需要提供所有可能的对话，相反，我们只提供几个样本。对话流后端的机器学习算法将使用所有合适的短语进行训练</li><li id="9347" class="mk ml it js b jt mt jx mu kb mv kf mw kj mx kn mp mq mr ms bi translated"><strong class="js iu">响应:</strong>这些是聊天机器人在识别合适的训练对话之一时提供的响应。如果聊天机器人不能识别输入对话，则向用户给出回退问题，以提供更清晰的输入信息</li></ul><p id="c13b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是一个屏幕截图，显示了培训短语和回答，以及测试对话</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/204e36e808d40914517bb5ef7874ddae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*XOFO4qCaowLXdIESFTr56Q.gif"/></div><p class="lb lc gj gh gi ld le bd b be z dk translated">图3: Bot训练和响应。作者提供的图片来源</p></figure><h1 id="68dd" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">3.自定义意图:</h1><p id="8dd0" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">要创建自定义意图，请单击创建意图。例如，如果我们计划创建一个帮助预订电影票的聊天机器人，我们可以创建一个名为<em class="ko">ordermovieinent的自定义意图。</em>在<em class="ko">训练短语</em>中，您可以设置接受屏幕类型和电影名称的对话，并相应地创建响应</p><h1 id="8c32" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">4.实体:</h1><p id="6ceb" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">实体帮助提取数据的特定部分，以便聊天机器人做出相应的响应。例如，如果对话中有<em class="ko">我想今天订票，</em>，系统会自动将<em class="ko">今天</em>理解为<em class="ko">日期时间字段</em>，并帮助聊天机器人做出响应。我们也可以创建自定义实体。在电影票预订示例中，我们可以创建<em class="ko"> tickettype、Moviename </em>等。作为自定义实体。要创建它，单击左上角选项卡上的实体，并给实体命名。指定变量和同义词。这里有一个例子</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi my"><img src="../Images/0a972a8580d16765006e22d16f4106a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qfWm_BxighV2-GsQla1jJA.jpeg"/></div></div><p class="lb lc gj gh gi ld le bd b be z dk translated">图4:实体设置页面。作者提供的图片来源</p></figure><h1 id="7e9e" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">5.在意图中使用自定义实体:</h1><p id="99e1" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">我们可以将实体创建为对话中的强制部分，以便用户向机器人提供所有需要的信息。为此，打开已经创建的<em class="ko">意图</em>，在<em class="ko">动作和参数</em>部分添加创建的实体名称和回退响应(如果用户没有提供)。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/4526b65c475147e51f01227a25f5ed10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*xdhtXv_Gu97_4Cexy3Oa7Q.png"/></div><p class="lb lc gj gh gi ld le bd b be z dk translated">图5:意向设置页面。作者提供的图片来源</p></figure><p id="6972" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦它被添加，包括一些训练阶段的例子，包括添加的实体，并点击<em class="ko">保存</em>，后面的ML模型将训练所有可能的组合</p><h1 id="4048" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">6.背景:</h1><p id="a3a0" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">在每一次谈话中，谈话的背景都很重要。这意味着，如果机器人必须迅速回答问题，它应该理解用户以前回答过什么。为了创建这种对话流，我们可以将sub <em class="ko"> Intent </em>添加到已经存在的Intent中。</p><p id="13c0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为此，转到<em class="ko">意向</em>页面，点击<strong class="js iu">添加跟进意向</strong></p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/208b4bbc69e79e8c3e236e7a5ad52cd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*I2AKQGjFAX_YHyRzxpqQfQ.png"/></div><p class="lb lc gj gh gi ld le bd b be z dk translated">图6:跟进意向设置页面。作者提供的图片来源</p></figure><p id="38dc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">选择建立对话所需的意图，例如，如果用户肯定回答，我们可以使用<em class="ko"> Yes </em>跟进意图，这可能会提示他们在电影预订机器人的情况下提供联系方式/其他详细信息。一些流行的跟进意图包括</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi my"><img src="../Images/5bcf00cac2786dadfff3cde09d39a387.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ctZPlhpITZ8hkOUXWJkOfw.jpeg"/></div></div><p class="lb lc gj gh gi ld le bd b be z dk translated">图7:流行的跟进意图。作者提供的图片来源</p></figure><h1 id="77e7" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">7.履行:</h1><p id="a1df" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">来自用户的响应可以存储到后端使用履行功能的数据库。默认情况下，DialogFlow为连接到后端提供了两个API选项— 1。Webhook 2。内嵌编辑器。“履行”选项卡位于屏幕的左侧</p><h1 id="abcd" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">8.集成:</h1><p id="6a21" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">我们可以将我们的聊天机器人与多个可用的外部应用程序集成，如脸书信使、Slack、Twilio、我们自己的网站和许多其他地方。为此，我们只需进入集成，打开我们想要集成的应用程序。</p><p id="382a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">荣誉🙌您已经创建了功能齐全的聊天机器人。DialogFlow提供了许多更高级的功能，可以很好地进行试验:)</p><p id="d703" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">再见！祝学习愉快</p></div></div>    
</body>
</html>