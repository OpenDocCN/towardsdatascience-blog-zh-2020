<html>
<head>
<title>Central Limit Theorem: a real-life application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">中心极限定理:现实生活中的应用</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/central-limit-theorem-a-real-life-application-f638657686e1?source=collection_archive---------6-----------------------#2020-10-15">https://towardsdatascience.com/central-limit-theorem-a-real-life-application-f638657686e1?source=collection_archive---------6-----------------------#2020-10-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/ec1eb6525729e78e19c8895b0e519643.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wwpmp_1bOTRaeqa4wehwrw.png"/></div></div></figure><div class=""/><p id="fe65" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">中心极限定理(CLT)是统计学中最流行的定理之一，在现实世界的问题中非常有用。在这篇文章中，我们将看到为什么中心极限定理是如此有用，以及如何应用它。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="5302" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在许多使用统计的情况下，最终目标是识别<em class="ld">人口的特征。</em></p><p id="8250" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">中心极限定理是一个近似值，当你研究的群体如此之大，需要很长时间来收集每个个体的数据时，你可以使用它。</p><h1 id="1e29" class="le lf jb bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">人口</h1><p id="01b4" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">群体是你正在研究的一组个体。尽管他们被称为个体，但构成群体的元素不一定是人。</p><p id="c97b" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你是一家连锁杂货店的区域经理，你正努力提高效率，每周为每个商店的苏打水部分重新进货，这样你就能卖出尽可能多的苏打水，并避免最终出现大量未售出的存货，在那个特定的商店中售出的所有<em class="ld"/><em class="ld">箱</em>苏打水代表了总人数。</p><p id="fbcf" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你是一个家禽饲养者，想订购鸡饲料，你需要知道你的母鸡通常吃多少磅谷物。所以在这里，<em class="ld">鸡</em>就是你的种群。</p><h1 id="c328" class="le lf jb bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">研究人口是困难的</h1><p id="7bda" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">根据您正在解决的问题，收集整个群体的数据将会非常困难。</p><p id="0419" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果像可口可乐这样的公司想知道他们的美国消费者是否会喜欢他们正在开发的新产品，他们不可能派一大批研究人员去和美国的每一个人交谈。嗯，他们也许可以，但是那会非常昂贵，而且需要很长时间来收集所有的数据😀</p><p id="a68a" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这就是为什么公司要对代表产品受众的几组人进行用户研究，这样他们就可以收集数据并确定是否值得继续进行产品开发。所有这些，都没有和所有人谈过。</p><p id="76c9" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，从统计学的角度来说，你将从你的人口中收集<em class="ld">个样本</em>，通过结合样本中的信息，你可以得出关于你的人口的结论。</p><figure class="mi mj mk ml gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mh"><img src="../Images/96cc2726f4284fa23e5c75b708583236.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*flygtytqskTRvhFNQw4o2Q.png"/></div></div><p class="mm mn gj gh gi mo mp bd b be z dk translated"><em class="mq">从总体中抽取两个样本。</em></p></figure><p id="ea2f" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好的样品必须是:</p><ul class=""><li id="ddd3" class="mr ms jb ka b kb kc kf kg kj mt kn mu kr mv kv mw mx my mz bi translated">人口的代表，</li><li id="de63" class="mr ms jb ka b kb na kf nb kj nc kn nd kr ne kv mw mx my mz bi translated">大到足以从中得出结论，在统计学中样本量大于或等于30。</li><li id="d46c" class="mr ms jb ka b kb na kf nb kj nc kn nd kr ne kv mw mx my mz bi translated">随机挑选的，所以你不会偏向人群中的某些特征。</li></ul><h2 id="54ea" class="nf lf jb bd lg ng nh dn lk ni nj dp lo kj nk nl ls kn nm nn lw kr no np ma nq bi translated">代表性样品</h2><p id="fa03" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">一个有代表性的样本必须显示出人口的所有不同特征。</p><p id="6c73" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您想知道谁更有可能赢得超级碗，并决定对美国人口进行民意调查，即从美国人口中抽取样本，您需要确保与以下人群进行交谈:</p><ul class=""><li id="1bb0" class="mr ms jb ka b kb kc kf kg kj mt kn mu kr mv kv mw mx my mz bi translated">所有不同的州都认为谁会赢，</li><li id="4fd8" class="mr ms jb ka b kb na kf nb kj nc kn nd kr ne kv mw mx my mz bi translated">不同的年龄组和不同的性别，</li></ul><p id="cc17" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在你的研究中，只包括那些对运动或运动本身感兴趣的人，否则，他们不会是对你的研究感兴趣的人群的一部分。</p><h1 id="b5c0" class="le lf jb bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">萨尔茨的箱子</h1><p id="a0f5" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">你是一家杂货连锁店的区域经理，负责该地区的350家商店，下一个项目是优化萨尔茨矿泉水的每周补货。</p><p id="55a6" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您想知道每个商店每周订购多少箱苏打水，这样您就可以最大限度地减少商店货架上的闲置库存。</p><p id="eccc" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你知道必须有一个更好的方法来得到一个合理的答案，而不需要访问你所在地区的每一家商店并获得他们每周的销售数字。</p><p id="14f7" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">既然你上过几堂统计学课，中心极限定理就会浮现在脑海里。你知道，应用于现实世界的问题，中心极限定理可以帮助你平衡收集所有数据所需的时间和成本，从而得出关于总体的结论。</p><p id="e140" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你还记得样本均值中心极限定理的定义[1]:</p><blockquote class="nr ns nt"><p id="154c" class="jy jz ld ka b kb kc kd ke kf kg kh ki nu kk kl km nv ko kp kq nw ks kt ku kv ij bi translated">当我们从具有均值μ和标准差σ的总体中收集足够大的<em class="jb"> n </em>个独立观测值的样本时，样本均值的抽样分布将接近正态分布，均值= μ，标准差= σ/ √n</p></blockquote><figure class="mi mj mk ml gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nx"><img src="../Images/3136e147b68cf81ee16f4a1c91b97c25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wC3G_7URkxl_7OziRVlQpA.png"/></div></div><p class="mm mn gj gh gi mo mp bd b be z dk translated">中心极限定理的可视化。从总体中抽取样本，获取它们的平均值，并创建样本均值分布。</p></figure><p id="e1e7" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">中心极限定理告诉你，我们不必访问该地区的每一家商店，获得他们一周的苏打水销售数字，就可以知道下一个订单要放多少箱。你可以做的是从你的商店(总体)的每周销售中收集许多样本，计算它们的平均值(销售的苏打水的平均数量)并建立样本平均值的分布。这种分布也称为抽样分布。</p><p id="22ad" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果这些样本满足中心极限定理的标准，您可以假设样本均值的分布可以近似为<a class="ae ny" href="https://en.wikipedia.org/wiki/Normal_distribution" rel="noopener ugc nofollow" target="_blank">正态分布</a>。所以现在你可以使用正态分布提供的所有统计工具。</p><p id="c019" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从这一点开始，由于您知道了手头的分布，您可以计算概率和置信区间，并执行统计测试。</p><h2 id="cd07" class="nf lf jb bd lg ng nh dn lk ni nj dp lo kj nk nl ls kn nm nn lw kr no np ma nq bi translated">中心极限定理的总体抽样准则</h2><p id="efc4" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">但是在使用中心极限定理和使用正态分布近似之前，您的样本必须满足一组特定的标准，这些标准扩展了好样本的特征。</p><p id="8007" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您的样品应该是:</p><ul class=""><li id="362c" class="mr ms jb ka b kb kc kf kg kj mt kn mu kr mv kv mw mx my mz bi translated"><em class="ld">随机选取</em>，这样你就不会偏向于群体中的某些特征，并且保证样本中的每个观察值都独立于所有其他观察值。这也有助于确保样本中的每个观察都是独立的。</li><li id="f772" class="mr ms jb ka b kb na kf nb kj nc kn nd kr ne kv mw mx my mz bi translated"><em class="ld">人口的代表</em>。</li><li id="c09d" class="mr ms jb ka b kb na kf nb kj nc kn nd kr ne kv mw mx my mz bi translated"><em class="ld">大到足以得出结论的</em>，在统计学上指样本量大于或等于30。</li><li id="e6aa" class="mr ms jb ka b kb na kf nb kj nc kn nd kr ne kv mw mx my mz bi translated"><em class="ld">包括不到10%的人口</em>，如果你抽样<em class="ld">没有</em>替换的话。由于总体中的观察值并不都是相互独立的，如果您收集的样本太大，您可能最终会收集到相互不独立的观察值。即使这些观察是随机选取的。</li></ul><h1 id="99db" class="le lf jb bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">你不需要知道人口分布——中心极限定理的超级威力</h1><p id="3383" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">如果你想使用任何一种<a class="ae ny" href="https://en.wikipedia.org/wiki/Statistical_inference" rel="noopener ugc nofollow" target="_blank">推断统计方法</a>，即了解你的数据的概率分布特征，你需要知道你的数据遵循的分布。否则，你可能会在工作中使用错误的工具。</p><p id="a5fe" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以想到的一个问题是<em class="ld">我需要知道我的人口分布才能使用中心极限定理吗？</em></p><p id="0deb" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">简短的回答是<em class="ld">否</em>😁</p><p id="f707" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">中心极限定理真正强大的地方在于，你不需要事先知道你的人口分布。你所需要做的就是收集足够多的符合标准的样本，你就可以确定样本均值的分布将遵循正态分布。</p><h1 id="0d19" class="le lf jb bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">你每周需要补充多少箱苏打水？</h1><p id="391c" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">为了回答这个问题，让我们生成一个随机数据集来代表总体，其中每个数据点都是你所监管区域的每个商店每周售出的苏打水的总数。</p><figure class="mi mj mk ml gt is gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/240f246e404f59897b6ddb54f3a75b0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:406/format:webp/1*psSKdazwfIMBK_4WXgZpIw.jpeg"/></div><p class="mm mn gj gh gi mo mp bd b be z dk translated">随机生成的萨尔茨啤酒销售数据集中的片段。</p></figure><pre class="mi mj mk ml gt oa ob oc od aw oe bi"><span id="53f9" class="nf lf jb ob b gy of og l oh oi">import pandas as pd<br/>import random<br/>import glob</span><span id="fe71" class="nf lf jb ob b gy oj og l oh oi">def create_dataset(dataset_size):<br/>    <em class="ld">""" Creating the population dataset """<br/>    </em>dataset = []<br/>    <br/>    while dataset_size &gt; 0:<br/>      dataset.append(random.randrange(3, 100))<br/>      dataset_size -= 1</span><span id="e2df" class="nf lf jb ob b gy oj og l oh oi">    return dataset</span><span id="2584" class="nf lf jb ob b gy oj og l oh oi"># Initializing the random number generator<br/>random.seed(1234)</span><span id="eedd" class="nf lf jb ob b gy oj og l oh oi"># Reading the output directory in case we've already generated the population dataset<br/>dataset_file_list = glob.glob("output/sales_dataset.csv")</span><span id="fd9a" class="nf lf jb ob b gy oj og l oh oi">sales_data = None</span><span id="a57f" class="nf lf jb ob b gy oj og l oh oi"># Creating the population dataset and saving it to avoid always recreating the dataset<br/>if len(dataset_file_list) == 0:    <br/>    sales_data = pd.DataFrame(data=create_dataset(4200))<br/>    sales_data.columns = ['sales']<br/>    sales_data.to_csv("output/sales_dataset.csv", index=False)<br/>else:<br/>    sales_data = pd.read_csv('output/sales_dataset.csv')</span></pre><p id="b7eb" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后你可以取不同数量的样本，所有样本的大小都相同，然后绘制销售数据，看看看起来怎么样。</p><p id="79a3" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">样本数据本身的分布不一定具有正态分布的形状。还有，中心极限定理不需要你知道人口的分布。</p><figure class="mi mj mk ml gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ok"><img src="../Images/e6d6edadaa321a3b488df0ca15fdd572.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wYDpA7hwSAqvelITVnDQRQ.jpeg"/></div></div><p class="mm mn gj gh gi mo mp bd b be z dk translated">从总体中抽取不同数量样本的分布，每个样本有30个数据点。</p></figure><p id="5d63" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这个例子中，每个图表都有不同数量的样本，所有样本的大小都是30，没有一个分布看起来像经典的<em class="ld">钟形曲线</em>。差远了。</p><p id="a7cd" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当你取另一组样本时，这不会有太大变化，这次每个样本有100个数据点。</p><figure class="mi mj mk ml gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ok"><img src="../Images/42277997c63b6774296c719d73129249.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RNX7hJDCPAB4_0s1KosawQ.jpeg"/></div></div><p class="mm mn gj gh gi mo mp bd b be z dk translated">从总体中抽取不同数量样本的分布，每个样本有100个数据点。</p></figure><pre class="mi mj mk ml gt oa ob oc od aw oe bi"><span id="b953" class="nf lf jb ob b gy of og l oh oi">import numpy as np<br/>import matplotlib.pyplot as plt</span><span id="d80d" class="nf lf jb ob b gy oj og l oh oi">def picking_n_samples(population, number_samples, sample_size):<br/>    <em class="ld">""" Sampling without replacement with fixed size<br/>        Returning the array of sample and array with their respective mean<br/>    """<br/>    </em>results = []<br/>    sample_mean = []<br/>    <br/>    while number_samples &gt; 0:<br/>        new_sample = random.sample(population, sample_size)<br/>        results += new_sample<br/>        sample_mean += [np.mean(new_sample)]<br/>        number_samples -= 1</span><span id="2dfd" class="nf lf jb ob b gy oj og l oh oi">    return [results, sample_mean]</span><span id="0731" class="nf lf jb ob b gy oj og l oh oi">def generate_sample_sets(dataset, number_samples, sample_size):<br/>    <em class="ld">""" Generate multiple sets samples with fixed size<br/>        Returns all sample sets and their corresponding set of means    <br/>    """</em></span><span id="7b21" class="nf lf jb ob b gy oj og l oh oi">    samples_array = []<br/>    sample_means_array = []</span><span id="fbda" class="nf lf jb ob b gy oj og l oh oi">    for sample_count in number_samples:<br/>        new_sample, sample_mean = picking_n_samples(dataset, sample_count, sample_size)<br/>        samples_array.append(new_sample)<br/>        sample_means_array.append(sample_mean)</span><span id="5c8b" class="nf lf jb ob b gy oj og l oh oi">    return [samples_array, sample_means_array]<br/></span><span id="064f" class="nf lf jb ob b gy oj og l oh oi">def plot_samples(sample_array, number_samples, default_size, plot_color='#6689F2', title='', x_axis_title='', filename='plot'):</span><span id="1eb9" class="nf lf jb ob b gy oj og l oh oi">    fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(2, 2, figsize=(12, 7), constrained_layout=True)<br/>    fig.suptitle(title, fontsize=16)</span><span id="874a" class="nf lf jb ob b gy oj og l oh oi">    ax1.hist(sample_array[0], color=plot_color)<br/>    ax1.set_title("Taking " + str(number_samples[0]) + " samples of size=" + str(default_size), fontsize=10)<br/>    ax1.set_xlabel(x_axis_title)</span><span id="a0d9" class="nf lf jb ob b gy oj og l oh oi">    ax3.hist(sample_array[2], color=plot_color)<br/>    ax3.set_title("Taking " + str(number_samples[2]) + " samples of size=" + str(default_size), fontsize=10)<br/>    ax3.set_xlabel(x_axis_title)</span><span id="5eb0" class="nf lf jb ob b gy oj og l oh oi">    ax2.hist(sample_array[1], color=plot_color)<br/>    ax2.set_title("Taking " + str(number_samples[1]) + " samples of size=" + str(default_size), fontsize=10)<br/>    ax2.set_xlabel(x_axis_title)</span><span id="8c76" class="nf lf jb ob b gy oj og l oh oi">    ax4.hist(sample_array[3], color=plot_color)<br/>    ax4.set_title("Taking " + str(number_samples[3]) + " samples of size=" + str(default_size), fontsize=10)<br/>    ax4.set_xlabel(x_axis_title)<br/>    <br/>    fig.savefig("output/" + filename)<br/></span><span id="8b4c" class="nf lf jb ob b gy oj og l oh oi">######################</span><span id="440b" class="nf lf jb ob b gy oj og l oh oi">### Example 1</span><span id="14f3" class="nf lf jb ob b gy oj og l oh oi">######################</span><span id="822c" class="nf lf jb ob b gy oj og l oh oi"># Setting the defaults for this example<br/>example1_number_of_samples_array = [5, 50, 100, 1000, 10000]<br/>example1_default_sample_size = 30</span><span id="200f" class="nf lf jb ob b gy oj og l oh oi"># Picking multiple samples of size 30<br/>example_1_samples, example_1_means = generate_sample_sets(list(sales_data['sales'].values), example1_number_of_samples_array, example1_default_sample_size)</span><span id="dbcf" class="nf lf jb ob b gy oj og l oh oi"># Plot the different sets of samples<br/>plot_title = 'Distribution of sales from different samples of size ' + str(example1_default_sample_size)</span><span id="2e4c" class="nf lf jb ob b gy oj og l oh oi">plot_samples(example_1_samples, example1_number_of_samples_array, example1_default_sample_size, title=plot_title, filename="example_1_samples_distribution")</span><span id="34a3" class="nf lf jb ob b gy oj og l oh oi">#######################</span><span id="4c28" class="nf lf jb ob b gy oj og l oh oi">### Example 2</span><span id="3f91" class="nf lf jb ob b gy oj og l oh oi">#######################</span><span id="0c37" class="nf lf jb ob b gy oj og l oh oi"># Setting the defaults for this example<br/>example_2_number_of_samples_array = [5, 50, 100, 1000, 10000]<br/>example_2_default_sample_size = 100</span><span id="d7df" class="nf lf jb ob b gy oj og l oh oi">example_2_samples, example_2_means = generate_sample_sets(list(sales_data['sales'].values), example_2_number_of_samples_array, example_2_default_sample_size)</span><span id="fcc0" class="nf lf jb ob b gy oj og l oh oi"># Plot the different sets of samples<br/>plot_title = 'Distribution of sales from different samples of size ' + str(example_2_default_sample_size)</span><span id="11e3" class="nf lf jb ob b gy oj og l oh oi">plot_samples(example_2_samples, example_2_number_of_samples_array, example_2_default_sample_size, title=plot_title, filename="example_2_samples_distribution", plot_color="#96D2D9")</span></pre><p id="9307" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因为关键是取样并计算平均值！</p><p id="ad43" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">看一下前面例子中样本均值的分布就清楚了。随着样本数量的增加，你就越接近正态分布的形状。</p><figure class="mi mj mk ml gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ol"><img src="../Images/e6db2b05cc9d324a818be05e65ef3b9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*738l62j0D3KVul21EEFnCA.png"/></div></div><p class="mm mn gj gh gi mo mp bd b be z dk translated">从总体中抽取不同样本的抽样分布，每个样本有30个数据点(左)和100个数据点(右)。</p></figure><p id="34b6" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">较高数量的样本还会降低采样分布的可变性。</p><p id="3841" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你观察有5个和50个样本的分布，你会注意到后者有一个较小的标准差。</p><p id="ed0c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您收集的样本越大，获得极值的机会就越少，因此您的值会更加集中在一起。因此，标准偏差或与平均值的距离会更小。</p><p id="be58" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从公式的角度来看，回顾中心极限定理的定义，采样分布的标准偏差(也称为标准误差)等于σ/ √n。因此，随着样本量的增加，分母也会增加，从而使总体标准值变小。</p><div class="mi mj mk ml gt ab cb"><figure class="om is on oo op oq or paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><img src="../Images/60b462f44ba5f759fd60a9bfda8908d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*ofKIDzmD78BD9_NrTFQaLA.jpeg"/></div></figure><figure class="om is os oo op oq or paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><img src="../Images/013078e8f0b747142919e97abe5c4b68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*dvVxNj8hpJ50IOBt5v72JQ.jpeg"/></div><p class="mm mn gj gh gi mo mp bd b be z dk ot di ou ov translated">具有(顶部)5个大小为30的样本和(底部)50个大小为30的样本的抽样分布的汇总统计。</p></figure></div><pre class="mi mj mk ml gt oa ob oc od aw oe bi"><span id="4ff0" class="nf lf jb ob b gy of og l oh oi">example_1_sampling_distribution_5_samples = pd.Series(example_1_means[0])</span><span id="87c6" class="nf lf jb ob b gy oj og l oh oi">print("Example 1: Summary statistics for sampling distribution with " + str(len(example_1_sampling_distribution_5_samples)) + " samples taken (size= " + str(example1_default_sample_size) + ")")<br/>print(example_1_sampling_distribution_5_samples.describe())<br/></span><span id="2a95" class="nf lf jb ob b gy oj og l oh oi">example_1_sampling_distribution_5_samples = pd.Series(example_1_means[1])</span><span id="003b" class="nf lf jb ob b gy oj og l oh oi">print("Example 1: Summary statistics for sampling distribution with " + str(len(example_1_sampling_distribution_5_samples)) + " samples taken (size= " + str(example1_default_sample_size) + ")")<br/>print(example_1_sampling_distribution_5_samples.describe())</span></pre><p id="e509" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您从随机生成的销售数据集中抽取10，000个大小为100的样本，您将得到一个类似于正态分布的<em class="ld">钟形曲线</em>特征的采样分布。</p><figure class="mi mj mk ml gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ow"><img src="../Images/2de551c45551b9113a7d5199c0b2ce34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9XyLeQvvoZnDCOLFsszq0A.jpeg"/></div></div></figure><pre class="mi mj mk ml gt oa ob oc od aw oe bi"><span id="c066" class="nf lf jb ob b gy of og l oh oi">def plot_sample_means(sample_means_array, plot_color='#A9CBD9', title='', filename='plot'):<br/>    fig, ax = plt.subplots(figsize=(12, 7))<br/>    fig.suptitle(title, fontsize=16)<br/>    ax.hist(sample_means_array, color=plot_color) <br/>    <br/>    # removing to and right border<br/>    ax.spines['top'].set_visible(False)<br/>    ax.spines['left'].set_visible(False)<br/>    ax.spines['right'].set_visible(False)</span><span id="671a" class="nf lf jb ob b gy oj og l oh oi">    # adding major gridlines<br/>    ax.grid(color='grey', linestyle='-', linewidth=0.25, alpha=0.5)</span><span id="d452" class="nf lf jb ob b gy oj og l oh oi">    ax.set_xlabel("Average number of seltzer cases sold")<br/>    fig.savefig("output/" + filename)</span><span id="12cf" class="nf lf jb ob b gy oj og l oh oi">plot_title = 'Sampling distribution from taking 10,000 samples of size 30 ' + str(example1_default_sample_size)</span><span id="633e" class="nf lf jb ob b gy oj og l oh oi">plot_sample_means(example_1_means[4], title=plot_title, filename="example_1_sampling_dist_10ksamples")</span></pre></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="6a0d" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">回到原文，如果你想知道<strong class="ka jc">每周需要重新备货多少箱苏打水</strong>，看看这个最后抽样分布的汇总统计，一万个样本的那个。</p><p id="5b6a" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">抽样分布的平均值是51，所以你需要每周每家商店平均51箱的<em class="ld"/>。</p><figure class="mi mj mk ml gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ox"><img src="../Images/29f322e0d23112f0d719539d97bb614e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*USNMJDC4_f9FR2VAd08iig.png"/></div></div><p class="mm mn gj gh gi mo mp bd b be z dk translated">具有10，000个大小为100的样本的抽样分布的汇总统计数据。</p></figure><pre class="mi mj mk ml gt oa ob oc od aw oe bi"><span id="3cfc" class="nf lf jb ob b gy of og l oh oi">example_2_sampling_distribution = pd.Series(example_2_means[4])</span><span id="53bf" class="nf lf jb ob b gy oj og l oh oi">print("Summary statistics for sampling distribution with " + str(example_2_number_of_samples_array[4]) + " samples taken (size= "+ str(example_2_default_sample_size) + ")")</span><span id="ef37" class="nf lf jb ob b gy oj og l oh oi">print(example_2_sampling_distribution.describe())</span></pre><p id="885f" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是您所在地区所有商店的平均值。如果您想要每个商店的更精确的数字，您必须为每个商店做这个过程。每家商店都成为总体，你只从那家商店中抽取样本。</p><h1 id="d6e3" class="le lf jb bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">你离人口平均数有多近？</h1><p id="3d07" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">既然您生成了销售数据集，您可以做另一个有趣的检查。看看抽样分布的均值离<em class="ld">真实</em>总体均值有多远。</p><p id="881e" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">人口平均51！</strong></p><figure class="mi mj mk ml gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ox"><img src="../Images/b61213840e0bc0e0be59e5865a8048d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pLKxxlOyN_A0xHOMjYzW3Q.jpeg"/></div></div><p class="mm mn gj gh gi mo mp bd b be z dk translated">人口统计摘要。</p></figure><pre class="mi mj mk ml gt oa ob oc od aw oe bi"><span id="9b74" class="nf lf jb ob b gy of og l oh oi"># Population summary statistics</span><span id="860f" class="nf lf jb ob b gy oj og l oh oi">print("Summary statistics for the population (sales dataset)")<br/>print(sales_data['sales'].describe())</span></pre><h1 id="9af8" class="le lf jb bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="6306" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">我们刚刚体验了中心极限定理的威力！</p><p id="c6af" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用随机生成的集合，并且不知道原始分布的任何细节(您只在最后检查😀)你:</p><ol class=""><li id="9df8" class="mr ms jb ka b kb kc kf kg kj mt kn mu kr mv kv oy mx my mz bi translated">取了越来越多的样本，发现样本的分布越来越接近正态分布。</li><li id="a9e2" class="mr ms jb ka b kb na kf nb kj nc kn nd kr ne kv oy mx my mz bi translated">证实抽样分布的平均值非常接近总体分布，误差很小。</li><li id="ced0" class="mr ms jb ka b kb na kf nb kj nc kn nd kr ne kv oy mx my mz bi translated">用中心极限定理解决现实生活中的问题。</li></ol><p id="d372" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ld">希望你喜欢这篇文章，感谢阅读！</em></p><h1 id="adcc" class="le lf jb bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">参考</h1><p id="4c00" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">[1] <a class="ae ny" href="https://open.umn.edu/opentextbooks/textbooks/60" rel="noopener ugc nofollow" target="_blank">开放简介统计—第四版(2019) </a></p></div></div>    
</body>
</html>