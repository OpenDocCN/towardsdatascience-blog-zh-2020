<html>
<head>
<title>Sentiment Analysis: Aspect-Based Opinion Mining</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">情感分析:基于方面的观点挖掘</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/%EF%B8%8F-sentiment-analysis-aspect-based-opinion-mining-72a75e8c8a6d?source=collection_archive---------7-----------------------#2020-10-27">https://towardsdatascience.com/%EF%B8%8F-sentiment-analysis-aspect-based-opinion-mining-72a75e8c8a6d?source=collection_archive---------7-----------------------#2020-10-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="9986" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/getting-started" rel="noopener" target="_blank">入门</a></h2><div class=""/><div class=""><h2 id="bfc8" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">情感分析和主题建模技术的研究。</h2></div><h1 id="dc61" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">介绍</h1><p id="fed4" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">当发展一个成功的企业时，最关键的因素之一是你与客户的沟通和关系。然而，随着用户群的增长，一个主要的挑战是产生大量的数据，通常是以自然语言的形式。这些数据可以来自客户反馈，甚至可以来自社交媒体平台，客户可以在这些平台上表达他们对使用您的服务或产品的体验的想法和意见。</p><p id="69d3" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">真正的挑战是自动解析和组织这些数据，使之成为更易理解和可操作的洞察。应用于这种数据的最流行的自然语言处理技术之一是情感分析。情感分析旨在自动提取和分类文本中表达的情感(观点的主观部分)和/或情绪(感觉的投射或显示)。</p><p id="671f" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">意见可以被定义为四个因素(实体、持有人、主张和情感)的组合，其中意见持有人可能相信关于实体的主张，并且在许多情况下，将情感与该信念相关联。与提取一段文本中表达的一般情感相反，基于方面的情感分析旨在提取文本中描述的实体(在这种情况下，是产品或服务的属性或组件)以及对这些实体表达的情感。</p><p id="5116" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">通过探索客户对您的服务或产品的特定部分的反应所获得的优势可以帮助支持业务用例，包括产品开发和质量控制、通信、客户支持和决策过程。在这种情况下，这篇文章研究了将传统的主题建模技术与情感分析相结合来提取文本方面，以及对它们表达的情感。</p><h1 id="a2bd" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">数据预处理</h1><p id="5242" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">这篇文章中使用的数据集是由<a class="ae mk" href="http://jmcauley.ucsd.edu/data/amazon/links.html" rel="noopener ugc nofollow" target="_blank">朱利安·麦考利</a>提供的。它包含亚马逊的产品评论和元数据，包括1996年5月至2014年7月期间的1.428亿条评论。该数据集包括评论(评级、文本、有用性投票)、产品元数据(描述、类别信息、价格、品牌和图像特征)和链接(也查看过/也购买过的图表)。在这里，我们将使用手机和配件的评论。该数据集中的评论总数是194，439。</p><p id="1dd8" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">我们将遵循一些自然语言处理任务中使用的标准预处理技术。这些技术包括:</p><ul class=""><li id="11ad" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp me mq mr ms mt bi translated">将文本转换为小写。</li><li id="d56c" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my me mq mr ms mt bi translated">删除标点符号和额外的空格。</li><li id="5b98" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my me mq mr ms mt bi translated">象征化。</li><li id="a832" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my me mq mr ms mt bi translated">删除停用词。</li><li id="9da6" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my me mq mr ms mt bi translated">引理满足。</li></ul><p id="a315" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">在我们研究应用主题建模技术之前，最后一个预处理步骤是对评论进行矢量化，即我们需要将数据表示为数字形式，以便模型可以处理它们。您可以使用几种表示方法，最流行的方法是单词的TF-IDF得分或它们的频率计数(单词袋方法)。在这里，我们将坚持单词袋表示法。我们将使用Sklearn的特征提取模块中的<code class="fe mz na nb nc b">CounterVectorizer</code>函数。该函数将文本集合转换为字数矩阵。</p><figure class="nd ne nf ng gt nh"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="604b" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">主题建模</h1><p id="7a75" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">主题建模是一种无监督的机器学习方法，用于将文本分配到最能表征此类文档的组中。这个概念也可以用来提取文本方面。</p><p id="06a8" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">Sklearn包括一个潜在的狄利克雷分配(LDA)算法版本。对于这个概念，我们想提炼五个方面。一旦设置了参数，我们就可以使LDA适合文本的矢量化版本。</p><p id="3073" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">为了使输出更容易阅读，我们可以将为每个主题生成的相关性分数作为一列附加到每个评论中，并通过取具有最高相关性分数的主题来计算主导主题。</p><figure class="nd ne nf ng gt nh"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="26ec" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">现在我们可以看到评论属于哪个主题(根据其编号)。但是LDA从这样的评论中提取了什么关键词呢？我们可以通过调用矢量器的<code class="fe mz na nb nc b">get_feature_names()</code>来查看它们，并使用LDA的<code class="fe mz na nb nc b">components_</code>函数来查看它们与该方面的相关性分数:</p><figure class="nd ne nf ng gt nh"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="bcb5" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">我们通过在五个方面中取其最高相关性分数来确定一个关键词属于哪个方面。然后，对于每个方面，我们可以按降序排列我们的数据框架，并选择得分最高的关键字。</p><p id="2de0" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">这五个方面是:</p><ul class=""><li id="4220" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp me mq mr ms mt bi translated">蓄电池充电器</li><li id="febd" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my me mq mr ms mt bi translated">电池组</li><li id="15c6" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my me mq mr ms mt bi translated">汽车充电器</li><li id="19c7" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my me mq mr ms mt bi translated">手机</li><li id="4097" class="ml mm it ll b lm mu lp mv ls mw lw mx ma my me mq mr ms mt bi translated">屏幕保护器</li></ul><figure class="nd ne nf ng gt nh"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="55ac" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">情感分析</h1><p id="1358" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">已经开发了各种技术和方法来解决自动识别文本中表达的情感。在这篇文章中，我将使用Python情感分析库VADER来分类评论是积极的、消极的还是中立的。</p><p id="aad9" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">一种非常简单的情感分析方法是使用一个单词列表，这些单词已经根据它们的语义取向进行了标记。例如，我们可以假设单词“好”有一个正价，而单词“坏”有一个负价。VADER使用这种技术，并提供了一个百分比分数，它代表了属于每个情感类别的歌词的比例。它还提供了一个复合得分，计算方法是将每个单词的效价得分相加，然后将得分归一化到-1(最大负值)和+1(最大正值)之间。</p><p id="cdc6" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">VADER的好处在于我们不需要以任何方式对文本进行预处理。我们可以将原始产品评论输入到VADER的情感函数中，并检索每个产品的综合得分。</p><p id="640b" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">首先，我们将从VADER的Python库中导入<code class="fe mz na nb nc b">SentimentIntensityAnalyzer</code>函数。我将初始化VADER的情绪分析器，然后迭代数据框架中的评论。然后，我将计算复合情绪得分是高于还是低于阈值，这样我们就可以给它们贴上积极、消极或中性的标签。</p><figure class="nd ne nf ng gt nh"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="7eb1" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">从结果中获得的见解</h1><p id="b2ce" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">一旦我们获得了每个评论的复合分数，我们就可以对这五个方面中的每一个绘制并计算正面、负面和中性评论的数量。</p><figure class="nd ne nf ng gt nh gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/d27389ba73dc75b4f5dc78dc667792c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*1YXPgB4Vvt0Vox5-v4AcRA.png"/></div><p class="nn no gj gh gi np nq bd b be z dk translated">每个方面的正面、负面和中性评论的总数。</p></figure><p id="e0b4" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">该图表显示，每个方面的大多数评价都是积极的。特别是，超过83，000条评论的<em class="nr">屏幕保护者</em>获得了49，572条正面评论。对于一个企业来说，超过50%的评论表达了积极的情绪，这是一个很好的迹象，表明你的客户对产品感到满意。</p><p id="3c63" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">我们还能收集到哪些潜在的见解？让我们更深入地了解一下客户在说什么。对于这个概念，我们将使用对<em class="nr">屏幕保护的评论。</em></p><p id="843a" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">用于支持情感分析的主要特征之一包括明确传达主观偏见的个体情感词(例如，好、坏)。情感词汇可以从专业词典中找到，在那里它们被映射到自己的情感上。</p><p id="8c65" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">这些词通常是形容词(如好的，坏的)，副词(如愉快地，古怪地)，名词(如祝福，垃圾)，动词(如爱，恨)。情感也可以通过使用比较词来表达(例如，更好，更差)。为了识别文本中的形容词、副词、名词和动词，我们可以应用词性标注。词性标注是根据单词的定义和上下文，将文本中的单词标记为对应于特定词类(名词、动词、形容词、副词、代词、介词、连词、感叹词、数词、冠词或限定词)的过程。</p><p id="3e6f" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">这里，我们使用NLTK POS tagger来标识POS标签。由于我们已经有了一个相当大的数据集，我们希望尽可能地自动缩小情感词的范围。在这种情况下，我们能够识别英语和正确拼写的单词，并将它们映射到<a class="ae mk" href="https://github.com/aesuli/SentiWordNet" rel="noopener ugc nofollow" target="_blank"> SentiWordNet </a>，这是一个用于观点挖掘的词汇资源。SentiWordNet给单词分配三个情感分数:积极、消极和客观。</p><p id="c516" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">客观性可以定义为在考虑和陈述事实时不受个人感觉或观点的影响。因此，主观性是客观性的对比。在评分方面，我们要识别客观性评分低的词。但并不是所有的主观词都是感情词。</p><p id="ef2e" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">为了从主观词汇中捕获情感词汇，我们使用了另一种词汇资源<a class="ae mk" href="https://wndomains.fbk.eu/wnaffect.html" rel="noopener ugc nofollow" target="_blank"> WordNet-Affect </a>，它以分层结构表示与情感词汇相关的情感概念。一旦我们检查了主观词汇是否在WordNet-Affect中，我们就可以很有把握地认为这些是情感词汇。基于他们的SentiWordNet正面和负面得分，我们还可以将他们分成单独的集合，并计算他们在整个数据集中出现的次数。</p><figure class="nd ne nf ng gt nh"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="0bf6" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">我们将在单词云中展示结果，单词云是一种简单的数据可视化方式，根据单词在数据中出现的频率，单词以不同的大小显示。单词的大小显示了它在评论中出现的频率。</p><figure class="nd ne nf ng gt nh gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/9aebda4c6e4e31570b2e7860aee68a7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PCpHDIspCLVmLWKwk-aWOg.png"/></div></div><p class="nn no gj gh gi np nq bd b be z dk translated">正情词云</p></figure><figure class="nd ne nf ng gt nh gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/778fcf48ace4faf68c5ffa68ce194783.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XXeKCMorstwCTFEeSrjgPA.png"/></div></div><p class="nn no gj gh gi np nq bd b be z dk translated">负面情绪词云</p></figure><p id="c128" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">基于这两个词云，很明显，评论中最常见的正面和负面情绪词分别是<em class="nr">快乐</em>和<em class="nr">担忧</em>T6。对于一个企业来说，同样，把<em class="nr">快乐</em>作为最流行的积极情绪词是令人放心的！</p><blockquote class="nx ny nz"><p id="3ac9" class="lj lk nr ll b lm mf kd lo lp mg kg lr oa mh lu lv ob mi ly lz oc mj mc md me im bi translated">“我爱这个案子！太漂亮了。我喜欢这款保护套的触感，因为它有橡胶。很开心！”</p></blockquote><p id="d2e4" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">但是负面情绪的话可能会令人担心。在浏览了包含<em class="nr">担心</em>的评论后，我们可以注意到，它们出现的大多数是在否定词“<em class="nr">没担心”</em>或“<em class="nr">别担心”</em>之后。否定在情感分析中起着重要的作用，因为它可以逆转情感词的极性。否定词如“not”或“never”通常被认为是停用词，它们在预处理过程中被移除，并影响情感词的极性。这是未来需要考虑的一个重要问题。</p><p id="2dbc" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">下面的评论举例说明了一个例子，其中出现了评论中第二常见的负面情绪词<em class="nr">仇恨:</em></p><blockquote class="nx ny nz"><p id="2c3a" class="lj lk nr ll b lm mf kd lo lp mg kg lr oa mh lu lv ob mi ly lz oc mj mc md me im bi translated">“我讨厌屏幕保护器。讨厌它们，因而很少使用它们。它们要么很难安装，要么让显示器看起来像垃圾，要么两者兼而有之。”</p></blockquote><p id="90bc" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">估计这个人不喜欢屏幕保护…</p><h1 id="aaa1" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">结论</h1><p id="4d51" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">那么，我从这个分析中学到了什么？</p><p id="6459" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">传统的主题建模技术可以用来成功地从文本中提取方面。像许多数据科学问题一样，问题的核心任务之一是数据的预处理。这对于情感分析结果具有特别的影响，其中移除特定的停用词可能会影响否定的识别，从而影响所表达的真实情感。</p><p id="9e20" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">对于完整的笔记本，请查看下面我的GitHub repo:</p><p id="d47e" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated"><a class="ae mk" href="https://github.com/LowriWilliams/Aspect_Sentiment_Analysis" rel="noopener ugc nofollow" target="_blank">https://github.com/LowriWilliams/Aspect_Sentiment_Analysis</a></p><p id="a761" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">如果你对更多的主题建模帖子感兴趣，我最近写了关于确定给定主题的更有意义的标题。你可以在这里阅读:</p><p id="9be9" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">🗣️ <a class="ae mk" rel="noopener" target="_blank" href="/️-topic-modelling-going-beyond-token-outputs-5b48df212e06">主题建模:超越令牌输出</a></p></div></div>    
</body>
</html>