<html>
<head>
<title>Aesthetic Map: Bivariate Choropleth for Association Context on Spatial Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">美学地图:用于空间数据关联上下文的二元图谱</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/aesthetic-map-bivariate-choropleth-for-association-context-on-spatial-data-45572aba60da?source=collection_archive---------28-----------------------#2020-11-05">https://towardsdatascience.com/aesthetic-map-bivariate-choropleth-for-association-context-on-spatial-data-45572aba60da?source=collection_archive---------28-----------------------#2020-11-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="c034" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><div class=""><h2 id="e584" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">你如何观察这两个变量之间的关系？非空间数据的散点图，空间数据的二元线图。</h2></div><h1 id="c42d" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">介绍</h1><p id="8c7c" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">新冠肺炎病例与城市密度相关吗？人口密度与经济总量相关吗？GDRP和污染有什么关系？城市比农村更有生产力吗？</p><p id="df02" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">这些问题可以通过分析两个空间数据集来回答。一个简单的散点图可能会很快回答这个问题。但在这篇文章中，我想把重点放在空间方面。这是因为这些问题依赖于要素的地理方面。用散点图截断方面可能会隐藏关于数据实际性质的战略性或有影响力的洞察力。正如托布勒的地理法则第一条所说:</p><blockquote class="mk"><p id="c687" class="ml mm it bd mn mo mp mq mr ms mt me dk translated">一切事物通常都与所有其他事物相关，但是那些彼此靠近的事物比那些离得远的事物更相关</p></blockquote><p id="4af2" class="pw-post-body-paragraph lj lk it ll b lm mu kd lo lp mv kg lr ls mw lu lv lw mx ly lz ma my mc md me im bi translated"><strong class="ll jd">本文介绍了使用地理空间可视化理解数据之间的关联</strong>；即理解两个变量与空间环境之间的相关性。如上所述，这是散点图之外的一个选项，我们将看到地理空间方法有何不同。使用<strong class="ll jd">双变量图谱</strong>进行描述性分析的方法。</p><p id="fe85" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">(<em class="mz">注:观察空间关系的方法有很多种，这个方法只是其中一种。我选择这种方法是因为它简单，容易理解，而且直观。</em> <strong class="ll jd"> <em class="mz">再加上，就做出了一张漂亮的地图！</em> </strong>)</p><h1 id="d7f4" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated"><strong class="ak">概括地说空间数据</strong></h1><p id="4777" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated"><strong class="ll jd">空间数据是具有空间维度的数据。</strong>简单来说，我们可以做一个数据图。与典型数据一样，<strong class="ll jd">空间数据可以用电子表格的形式表示。</strong>典型的电子表格数据和空间数据的区别在于，空间数据有一个存储几何信息的几何列。这种几何信息通常以<a class="ae na" href="https://www.ibm.com/support/producthub/iias/docs/content/SSHRBY/com.ibm.swg.im.dashdb.spatial.doc/doc/rsbp4120.html" rel="noopener ugc nofollow" target="_blank">众所周知的文本格式</a>表示(查看链接文章中的表1，或者查看这个<a class="ae na" href="https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry" rel="noopener ugc nofollow" target="_blank">链接</a>)。</p><p id="3fbf" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">例如，下图:雅加达市的行政边界和相应人口的表格。请注意，它有一个存储地理信息的“geometry”列。另外关于数据格式，请参考<a class="ae na" rel="noopener" target="_blank" href="/spatial-data-solution-for-city-planning-in-indonesia-understanding-the-geodataframe-f50d58e6c9f2?source=your_stories_page-------------------------------------">我的另一篇文章</a>。</p><figure class="nc nd ne nf gt ng gh gi paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="gh gi nb"><img src="../Images/f7186c72895b3e4d544cecb4310142e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fj6PWXfZ6vSdhYPDw2jrKQ.png"/></div></div></figure><h1 id="33fe" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">等值区域图</h1><p id="13a1" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">我相信你在生活中一定遇到过choropleth地图，只是你不知道它叫“choropleth地图”。这是一张这样的地图:</p><figure class="nc nd ne nf gt ng gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/74d1ac655a6883283e504b3f34a309ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*2_wyDSyDH6iRY5k0jNuodg.png"/></div><p class="no np gj gh gi nq nr bd b be z dk translated">雅加达人口分布图(来源:作者，2020；数据来源:印度尼西亚统计局，2020年)</p></figure><p id="030e" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">这是以前的电子表格数据的可视化。看起来很整洁，对吗？典型条形图的一个很好的替代品。空间关系是直观的，但提供了定量信息(人口数据)。</p><blockquote class="mk"><p id="c545" class="ml mm it bd mn mo mp mq mr ms mt me dk translated">"色彩图是阴影图，其中颜色的强度表示所讨论现象的强度。"— <a class="ae na" href="https://www.rgs.org/CMSPages/GetFile.aspx?nodeguid=0bfa0334-247d-477f-8982-09b02b307242&amp;lang=en-GB" rel="noopener ugc nofollow" target="_blank">皇家地理学会</a></p></blockquote><p id="e1b9" class="pw-post-body-paragraph lj lk it ll b lm mu kd lo lp mv kg lr ls mw lu lv lw mx ly lz ma my mc md me im bi translated">这种直方图依赖于将数据分类到几个箱中，就像直方图一样，并且将唯一的颜色分配给这些箱。分类方法确实会影响结果，从而产生不同的解释。更多关于分类的信息可以在<a class="ae na" href="https://gisgeography.com/choropleth-maps-data-classification/#Select_Your_Data_Classification_Method" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="d004" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">这让我想起分类和图表可能会误导信息(请参考下面的视频，这是批评图表/数据可视化的一个很好的指南)。<strong class="ll jd">所以，要注意仓的规模和choropleth的分类方法。</strong></p><figure class="nc nd ne nf gt ng"><div class="bz fp l di"><div class="ns nt l"/></div></figure><h2 id="c40b" class="nu ks it bd kt nv nw dn kx nx ny dp lb ls nz oa ld lw ob oc lf ma od oe lh iz bi translated">进一步扩展-二元颜色</h2><p id="4c7f" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">现在，上面的例子(地图)只解释了1个变量。我们可以再插入一个变量，这样它就变成了二元颜色。由两个变量组成的弦线图称为<strong class="ll jd">二元弦线图</strong>。</p><p id="126c" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">让我们看看这个例子，好吗？</p><h1 id="d2f3" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">二元染色体组</h1><p id="ccfc" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">这是我做的最新的双变量Choropleth地图。在这里，我想通过观察六边形镶嵌地图中人口总数和人口标准差之间的关系来确定城市化的程度。这张地图是我在Twitter上参加<a class="ae na" href="https://twitter.com/search?q=%2330DayMapChallenge" rel="noopener ugc nofollow" target="_blank"> #30DayMapChallenge </a>的作品。</p><figure class="nc nd ne nf gt ng gh gi paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="gh gi of"><img src="../Images/fc5e68d35b07390dc2014e50a076d7fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zp-ihosa4k6wom8B7yqykQ.png"/></div></div><p class="no np gj gh gi nq nr bd b be z dk translated">双变量choropeth(<em class="og">修订</em>)(来源:<a class="ae na" href="https://www.linkedin.com/posts/sutanmufti_30daymapchallenge-cartography-activity-6729689082269696000-C4A-" rel="noopener ugc nofollow" target="_blank">作者，2020 </a>)</p></figure><p id="d1cb" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">请注意，图例现在有两个变量:标准差和总体总和。六边形包含各个六边形内人口的聚集值；因此，六边形以诸如平均值、中值等统计属性的形式截断。现在，关系由每个变量的颜色组合来表示。混合这些颜色会产生代表变量之间关系的独特颜色组合。此外，六边形地图将数据的空间背景可视化。<strong class="ll jd">有了地图，可以直观的看到</strong>(地理空间)<strong class="ll jd">聚类。</strong></p><p id="4472" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">现在，让我们看看散点图是如何可视化这种关系的。我们来做一些对比。</p><h2 id="46a8" class="nu ks it bd kt nv nw dn kx nx ny dp lb ls nz oa ld lw ob oc lf ma od oe lh iz bi translated">散点图</h2><p id="3422" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">好的，这是散点图(颜色和地图一样)。</p><figure class="nc nd ne nf gt ng gh gi paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="gh gi oh"><img src="../Images/1b4bc18a7a898239852692a42204a0b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9OZR7dAD7cK3lDvf--ctyw.png"/></div></div><p class="no np gj gh gi nq nr bd b be z dk translated">散点图分析(来源:作者，2020)</p></figure><p id="6529" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">我不知道你怎么想，但是在看了二元图之后，我发现散点图非常奇怪。"<em class="mz">我不能简单地说这种关系是线性的，因为数据中存在聚类，而且这种聚类必须加以说明。这使得数据在空间上是相关的，而不是独立的。这是因为散点图不代表数据的地理性质；您无法观察到空间聚类。简单地进行回归分析是错误的，除非该分析是地理加权的。(<a class="ae na" href="https://ibis.geog.ubc.ca/courses/geob479/notes/spatial_analysis/spatial_autocorrelation.htm" rel="noopener ugc nofollow" target="_blank"> <em class="mz">聚类)会导致空间自相关，这给假设残差独立</em> </a>的统计方法带来问题。</em></p><h1 id="7971" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">结束语</h1><p id="bb75" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">在我看来，简单的散点图不适合非空间数据，即不依赖于空间元素的数据。绘制散点图会隐藏数据的空间元素和关系，如聚类(空间自相关)。解决这个问题的一个方法是制作一个双变量choropleth图；两个变量的choropleth图。图表的绘图代表地理信息，而颜色代表变量值的强度。使用双变量choropleth，数据的空间感也被捕获和呈现。</p><p id="69f6" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">(<em class="mz">个人注:还有，地图变美了，至少对我来说！它给人一种微妙的美感，这种美感随着情感而颤动，尤其是一些精心的设计选择。在这种情况下，我认为制图是一种艺术形式，而不仅仅是数据可视化。</em>)</p></div></div>    
</body>
</html>