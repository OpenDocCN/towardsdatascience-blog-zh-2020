<html>
<head>
<title>Data Visualisation with Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Matplotlib实现数据可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-visualisation-with-matplotlib-13aaf4787b30?source=collection_archive---------18-----------------------#2020-09-20">https://towardsdatascience.com/data-visualisation-with-matplotlib-13aaf4787b30?source=collection_archive---------18-----------------------#2020-09-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2ce3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何在5分钟内掌握Matplotlib的基本关键特性</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6cf40e1bf7659afc21fa6401d4559a54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pv2AJGKWmqbFC9NjAWXuCg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@isaacmsmith?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Isaac Smith </a>在<a class="ae ky" href="https://unsplash.com/s/photos/graph?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="be19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Matplotlib 是Python中著名的可视化数据库之一。在本文中，我将介绍这些我认为有用且重要的关键函数，以便那些Matplotlib新手能够快速掌握。</p><ul class=""><li id="88cb" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">基本制图</li><li id="7f97" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在标题和标签中生成数学表达式</li><li id="150c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">用文本和箭头给图表添加注释</li><li id="7637" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">突出显示您的图表</li></ul><h1 id="b778" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">入门指南</h1><p id="1d16" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">像往常一样，如果我们没有matplotlib包，我们需要安装它。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="2faa" class="nl mk it nh b gy nm nn l no np">pip install matplotlib</span></pre><p id="d6e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们导入我们在本教程中需要的包。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><h1 id="15a7" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">基本制图</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/e2aa06f2d75d74ac8742743cb9ed16c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*3grxpOXWd2OMwScxsvOHew.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">figure1.png</p></figure><p id="0ce2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从Matplotlib中的基本图表功能开始。</p><p id="048f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nt nu nv nh b">plt.title</code>将为您的图表创建一个标题。它接受普通的字符串和Tex标记。如果您希望使用Tex标记来生成数学表达式，您必须使用<code class="fe nt nu nv nh b">$</code>来包含您的文本字符串。我更喜欢用这个，因为它看起来比<code class="fe nt nu nv nh b">sin(x/2)</code>好多了！下面是一些我们可以在Matplotlib中使用的其他数学表达式的例子。更多例子你可以参考<a class="ae ky" href="https://matplotlib.org/tutorials/text/mathtext.html" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/de03ae8d74fe768433e5fb2febced6f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*sZ9bZFmOmThKVtW2V2439w.png"/></div></figure><p id="8abe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nt nu nv nh b">plt.plot</code>将用给定的数据点生成一个图，<code class="fe nt nu nv nh b">x</code>和<code class="fe nt nu nv nh b">np.sin(x)</code>是我们在这种情况下输入的数据点。默认情况下，<code class="fe nt nu nv nh b">plt.plot</code>会返回一个实线样式(<code class="fe nt nu nv nh b">-</code>)。您可以选择其他线型，如虚线或点线。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/3b5f6a6f0b46d29243244bcedbf46ea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*9UwBy6WC8iFt4ZwyCldKEw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">线条样式</p></figure><p id="883f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以用<code class="fe nt nu nv nh b">color</code>参数定制绘图的颜色。你可以传递颜色字符串或颜色代码。和标题一样，你也可以把数学表达式传递给剧情的<code class="fe nt nu nv nh b">label</code>。<code class="fe nt nu nv nh b">plt.legend</code>将根据您在<code class="fe nt nu nv nh b">plot</code>中传递的属性为图表创建图例。</p><p id="dc2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nt nu nv nh b">plt.grid</code>将在图表上创建一个网格。与<code class="fe nt nu nv nh b">plot</code>类似，可以定义不同的线条样式。<code class="fe nt nu nv nh b">alpha</code>是网格的不透明度。</p><p id="0d5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nt nu nv nh b">plt.xlabel</code>和<code class="fe nt nu nv nh b">plt.ylabel</code>用于标注x轴和y轴。</p><p id="7874" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想将此图表保存为图像，请使用<code class="fe nt nu nv nh b">plt.savefig</code>。如果您从未指定完整路径，默认情况下，图像将保存在脚本的同一文件夹中。</p><p id="770b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nt nu nv nh b">plt.show</code>用于在使用终端或脚本时显示图表。这在一些IDE和Jupyter笔记本中是不必要的。</p><h1 id="6d4e" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">注释您的图表</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/d206a4befc8ed0109099f9ee07bb336a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8IH7sHbP4NxUvqG2t0UVEA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">figure2.png</p></figure><p id="cc68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我已经用<code class="fe nt nu nv nh b">plt.figure(figsize=(10,10))</code>放大了图表的尺寸，这样我们可以更清楚地看到注释。您可以将宽度和高度传递给<code class="fe nt nu nv nh b">figsize</code>以获得您想要的图表大小。</p><p id="e565" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nt nu nv nh b">plt.annotate</code>用于标注两条直线的交点。<code class="fe nt nu nv nh b">xy</code>是注释点的位置，而<code class="fe nt nu nv nh b">xytext</code>是注释文本的位置。我已经展示了3种不同颜色和尺寸的箭头，你可以参考<a class="ae ky" href="https://matplotlib.org/3.3.1/tutorials/text/annotations.html#plotting-guide-annotation" rel="noopener ugc nofollow" target="_blank">文档</a>以获得更多选项。</p><h1 id="a9d5" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">突出显示您的图表</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/cb40bb91af423ef06e8e59c7fcc63d2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*QeecPIcmwMiSLJ9zre0UHQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">figure3.png</p></figure><p id="14a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nt nu nv nh b">plt.axvspan</code>用于沿x轴高亮显示，而<code class="fe nt nu nv nh b">plt.axhspan</code>用于沿y轴高亮显示。我们可以用<code class="fe nt nu nv nh b">facecolor</code>参数定义不同的颜色，用<code class="fe nt nu nv nh b">alpha</code>定义不同的不透明度。</p><h1 id="695b" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">自定义条形图中的xtick</h1><p id="4b21" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">条形图也是另一个在可视化中常用的图表，让我们也来看看。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/068390f1a377c160edd91aea22ccd5ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*tg1S-CaacgrgEtpwCCBDCQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">figure4.png</p></figure><p id="5fea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nt nu nv nh b">plt.bar</code>取一个数组为你的横条坐标。如果你想创建一个多条形图，你必须传递两个条形图的坐标。<code class="fe nt nu nv nh b">x — width/2</code>和<code class="fe nt nu nv nh b">x + width/2</code>被传入其中以创建一个多条形图。</p><p id="9eb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nt nu nv nh b">plt.xtick</code>用于将标签更新为天数(<code class="fe nt nu nv nh b">['Mon','Tue','Wed','Thu','Fri']</code>)，因为默认为<code class="fe nt nu nv nh b">[0,1,2,3,4]</code>。如果文本太长，我们也可以给这个标签添加旋转。在这种情况下，刻度会旋转30度。</p><p id="890c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你已经学会了如何用Matplotlib 定制你的图表<strong class="lb iu">，我希望这篇文章能帮助你掌握Matplotlib的基础知识，并轻松熟悉Matplotlib的其他功能。如果我犯了任何错误或错别字，请给我留言。</strong></p><p id="a140" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在我的<a class="ae ky" href="https://github.com/chingjunetao/medium-article/tree/master/visualisation-with-matplotlib" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Github </strong> </a>中查看完整的Jupyter笔记本。干杯！</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><p id="0608" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">如果你喜欢读这篇文章，你可能也会喜欢这些:</strong></p><div class="og oh gp gr oi oj"><a rel="noopener follow" target="_blank" href="/how-to-rewrite-your-sql-queries-in-python-with-pandas-8d5b01ab8e31"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd iu gy z fp oo fr fs op fu fw is bi translated">如何用熊猫用Python重写SQL查询</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">在Python中再现相同的SQL查询结果</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">towardsdatascience.com</p></div></div><div class="os l"><div class="ot l ou ov ow os ox ks oj"/></div></div></a></div><div class="og oh gp gr oi oj"><a rel="noopener follow" target="_blank" href="/how-to-master-python-command-line-arguments-5d5ad4bcf985"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd iu gy z fp oo fr fs op fu fw is bi translated">如何掌握Python命令行参数</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">使用命令行参数创建自己的Python脚本的简单指南</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">towardsdatascience.com</p></div></div><div class="os l"><div class="oy l ou ov ow os ox ks oj"/></div></div></a></div><p id="5ba5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">你可以在Medium上找到我其他作品的链接，关注我</strong> <a class="ae ky" href="https://medium.com/@chingjunetao" rel="noopener"> <strong class="lb iu">这里</strong> </a> <strong class="lb iu">。感谢阅读！</strong></p></div></div>    
</body>
</html>