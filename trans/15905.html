<html>
<head>
<title>Step-by-step Tutorial to Deploy Kubernetes to Your GCP Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Kubernetes部署到您的GCP云的分步指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/step-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2?source=collection_archive---------18-----------------------#2020-11-02">https://towardsdatascience.com/step-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2?source=collection_archive---------18-----------------------#2020-11-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="8afb" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><div class=""><h2 id="5e41" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">用动手练习揭开Kubernetes的神秘面纱！</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/917e9a2c5696d5ab7a2c78626255d91c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h4TLlisFk7XvtREAsS7C7Q.jpeg"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">由<a class="ae le" href="https://unsplash.com/@cgower?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">克里斯托弗·高尔</a>在<a class="ae le" href="https://unsplash.com/s/photos/portable?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="2cfb" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">介绍</h1><p id="5261" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">作为一名在实践中的数据科学家，我感受到了将数据处理、模型训练和推理的传统例行程序推入具有(<a class="ae le" href="https://docs.gitlab.com/ee/ci/" rel="noopener ugc nofollow" target="_blank"> CI/CD </a>)持续集成/持续部署的集成管道的趋势，其概念是从DevOps借用的。至少从我的角度来看，有两个主要原因。一个是建模正在走出原型阶段，进入生产中模型的大规模采用，无论是作为一个附件还是应用程序。另一个原因是将整个建模体验带到云中的需求增加，以及模型开发的增强编排。</p><p id="88e4" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">在这种需求的驱使下，我开始了我的技能提升之旅，使用了适合建模转型的工具，比如Kubernetes。它现在很受欢迎，并获得了易于扩展、可移植性和可扩展性的声誉。<a class="ae le" href="https://stackoverflow.blog/2020/05/29/why-kubernetes-getting-so-popular/" rel="noopener ugc nofollow" target="_blank">这篇博客</a>在这里特别展示了它提供的组件。然而，当我开始我的研究并得到它的时候，我感到<em class="my">被所有这些概念和“官方指南”淹没了，因为我不是一个训练有素的软件开发人员。我一点一点地咀嚼所有这些材料，并开始获得更完整的图片，即使我没有丰富的DevOps背景。我的笔记和理解都在这个教程中，我希望这对于那些也需要在Kubernetes中提升自己的人来说是一个简单而成功的开始。</em></p><h2 id="733b" class="mz lg iq bd lh na nb dn ll nc nd dp lp mg ne nf lr mk ng nh lt mo ni nj lv iw bi translated">一言以蔽之的库伯内特</h2><p id="0d74" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">Kubernetes将自己定义为一个生产级的开源平台，在计算机集群内部和之间协调应用程序容器的执行。简而言之，Kubernetes是一个为你组装几台计算机来执行应用程序的管理者。它是执行您分配给它的任务的指挥中心:安排应用程序、定期维护、扩展容量和推出更新。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nk"><img src="../Images/6fbcfba69ffcdb06d7b503549d35e4d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FoF_Sn1LMAaG1U_Pv9SMAA.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">来自<a class="ae le" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/create-cluster/cluster-intro/" rel="noopener ugc nofollow" target="_blank"> Kubernetes </a>的聚类图</p></figure><p id="02b0" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">Kubernetes集群最基本的组件是主节点和节点。主服务器是管理器，是集群的中心。节点是虚拟机或物理计算机。每个节点都有一个Kubelet来管理它并与主节点通信。由于节点是一个虚拟机，我们还应该有Docker/Container作为工具来执行我们的应用程序。</p><h2 id="e1b6" class="mz lg iq bd lh na nb dn ll nc nd dp lp mg ne nf lr mk ng nh lt mo ni nj lv iw bi translated">Kubernetes应用程序</h2><p id="b9bd" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">现在我们知道了Kubernetes的基本知识，我们可能会开始想从数据科学家的角度来看它能做什么。以我的观点和经验，我确实发现Kubernetes的概念非常吸引人，尤其是当你认为建模最终应该作为应用程序/服务产品化的时候。当我们想让最终用户访问模型时，它阻碍许多产品设计者的问题，如可伸缩性和可扩展性也将是考虑的一部分。</p><p id="d051" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">谷歌提供了一份他们内部解决方案的应用程序列表。但是我们在这里想要实现的是根据我们的需求和目的来使用和定制Kubernetes。因此，本教程将自下而上，从基础开始设置GCP，一直到在Kubernetes集群上部署应用程序。</p><h1 id="a680" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">步骤0。GCP设置</h1><p id="192c" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">在本教程中，我们将使用<a class="ae le" href="https://cloud.google.com/kubernetes-engine/" rel="noopener ugc nofollow" target="_blank"> Google Kubernetes引擎</a>来建立一个Kubernetes集群。但是在开始之前，请确保满足以下先决条件:</p><ol class=""><li id="7459" class="nl nm iq lz b ma mt md mu mg nn mk no mo np ms nq nr ns nt bi translated">在<a class="ae le" href="https://cloud.google.com/" rel="noopener ugc nofollow" target="_blank"> GCP </a>获得一个账号，登录<a class="ae le" href="https://console.cloud.google.com/" rel="noopener ugc nofollow" target="_blank">控制台</a>。</li><li id="aaf8" class="nl nm iq lz b ma nu md nv mg nw mk nx mo ny ms nq nr ns nt bi translated">在控制台中，启用<a class="ae le" href="https://console.cloud.google.com/apis/api/container.googleapis.com/overview" rel="noopener ugc nofollow" target="_blank"> Kubernetes Engine AP </a> I .你可以在API库中找到一个库API，只需搜索名称即可。</li></ol><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nz"><img src="../Images/c99995d835234e06f56406855e529816.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WGmqK2ixVd_lwgcu4RTxew.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">API库(图片由作者提供)</p></figure><p id="c723" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">3.安装<a class="ae le" href="https://cloud.google.com/sdk/docs/install" rel="noopener ugc nofollow" target="_blank"> gcloud </a>。您可以使用基于网络的终端或您自己的计算机终端。要在GCP控制台中找到基于web的终端:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oa"><img src="../Images/ba7c9f1962a5226218332f0a0809fc00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YhoXLtvKU4antBGNRiMapg.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">单击红色框中的图标(图片由作者提供)</p></figure><p id="6e88" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">建议按照<a class="ae le" href="https://cloud.google.com/sdk/docs/install" rel="noopener ugc nofollow" target="_blank">官方指南</a>安装gcloud，但为了方便起见，您也可以使用以下命令:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="27ad" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">4.安装kubectl。这一步很简单:设置gcloud后，输入命令:</p><pre class="kp kq kr ks gt od oe of og aw oh bi"><span id="3208" class="mz lg iq oe b gy oi oj l ok ol">gcloud components install kubectl</span></pre><h1 id="fcc8" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">第一步。Kubernetes设置</h1><p id="c35a" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">一旦我们完成了前面的所有步骤，项目现在可以使用Google Cloud SDK来创建一个托管的Kubernetes集群。</p><ol class=""><li id="e87c" class="nl nm iq lz b ma mt md mu mg nn mk no mo np ms nq nr ns nt bi translated">要使用gcloud创建容器集群:</li></ol><pre class="kp kq kr ks gt od oe of og aw oh bi"><span id="f66a" class="mz lg iq oe b gy oi oj l ok ol">gcloud container clusters create \<br/>--machine-type n1-standard-2 \<br/>--num-nodes 3\<br/>--zone &lt;compute zone from the list linked below&gt; \<br/>--cluster-version latest \<br/>&lt;CLUSTERNAME&gt;</span></pre><ul class=""><li id="8fe6" class="nl nm iq lz b ma mt md mu mg nn mk no mo np ms om nr ns nt bi translated"><a class="ae le" href="https://cloud.google.com/sdk/gcloud/reference/container/clusters/create#--machine-type" rel="noopener ugc nofollow" target="_blank">机器类型</a>:用于节点的机器类型。</li><li id="2d64" class="nl nm iq lz b ma nu md nv mg nw mk nx mo ny ms om nr ns nt bi translated"><a class="ae le" href="https://cloud.google.com/sdk/gcloud/reference/container/clusters/create#--num-nodes" rel="noopener ugc nofollow" target="_blank"> num-nodes </a>:要在每个集群区域中创建的节点数量。您可以将其设置为1来创建一个单节点集群，但是构建一个Kubernetes集群至少需要3个节点。稍后可以使用<a class="ae le" href="https://cloud.google.com/kubernetes-engine/docs/how-to/resizing-a-cluster" rel="noopener ugc nofollow" target="_blank"> gcloud命令</a>调整大小。</li><li id="5358" class="nl nm iq lz b ma nu md nv mg nw mk nx mo ny ms om nr ns nt bi translated"><a class="ae le" href="https://cloud.google.com/sdk/gcloud/reference/container/clusters/create#--zone" rel="noopener ugc nofollow" target="_blank"> zone </a>:计算集群的<a class="ae le" href="https://cloud.google.com/compute/docs/regions-zones/#available" rel="noopener ugc nofollow" target="_blank"> zone </a>(例如us-central1-a)。</li></ul><p id="6cb3" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">如果集群创建正确，它将显示如下信息:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi on"><img src="../Images/9bf9393376596e6455a7bd5f40fe4029.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FmXsCD7CxhJnfI0PU25peg.png"/></div></div></figure><p id="0dd8" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">2.为了测试新设置的集群，我们可以使用kubectl:</p><pre class="kp kq kr ks gt od oe of og aw oh bi"><span id="3789" class="mz lg iq oe b gy oi oj l ok ol">kubectl get node</span></pre><p id="5144" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">3.接下来，我们将<a class="ae le" href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/#kubectl-create-clusterrolebinding" rel="noopener ugc nofollow" target="_blank">授予用户执行管理操作的权限</a>。</p><pre class="kp kq kr ks gt od oe of og aw oh bi"><span id="e072" class="mz lg iq oe b gy oi oj l ok ol">kubectl create clusterrolebinding cluster-admin-binding \<br/>  --clusterrole<strong class="oe ja">=</strong>cluster-admin \<br/>  --user<strong class="oe ja">=</strong>&lt;GOOGLE-EMAIL-ACCOUNT&gt;</span></pre><p id="9433" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">4.安装<a class="ae le" href="https://helm.sh/docs/intro/install/" rel="noopener ugc nofollow" target="_blank">舵</a>。Helm是Kubernetes应用程序的包管理器。您可以使用<a class="ae le" href="https://artifacthub.io/" rel="noopener ugc nofollow" target="_blank">导航图</a>来搜索要部署到Kubernetes的应用程序/包。Helm Chart是预设的抽象概念，用来描述如何将包安装到Kubernetes</p><pre class="kp kq kr ks gt od oe of og aw oh bi"><span id="8135" class="mz lg iq oe b gy oi oj l ok ol">curl https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 | bash</span></pre><p id="e5c1" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">安装Helm后，我们可以通过调用以下命令来检查集群中安装了什么:</p><pre class="kp kq kr ks gt od oe of og aw oh bi"><span id="b726" class="mz lg iq oe b gy oi oj l ok ol">helm list</span></pre><p id="0f86" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">现在你的Kubernetes已经准备好了！祝贺🤓</p><h1 id="3fe0" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">第二步。Kubernetes的应用</h1><h2 id="2425" class="mz lg iq bd lh na nb dn ll nc nd dp lp mg ne nf lr mk ng nh lt mo ni nj lv iw bi translated">以JupyerHub为例</h2><p id="b84d" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">在开始安装过程之前，从较高的层次进行检查并了解它的样子总是有帮助的。在前面的步骤中，我们已经完成了安装Helm的Kubernetes集群的设置。现在，我们想为它部署一个应用程序，并开始使用它。对于这里的例子，我将使用可以服务多个用户的JupyterHub。下面是这个练习的结构，以便于参考。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oo"><img src="../Images/5a40deb89eac6d74a79e540f0a7eb9ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PPElrIfuxbEOLsMZtOqOZQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">安装结构(图片由作者使用LucidChart提供)</p></figure><ol class=""><li id="9262" class="nl nm iq lz b ma mt md mu mg nn mk no mo np ms nq nr ns nt bi translated">安全设置</li></ol><ul class=""><li id="e50b" class="nl nm iq lz b ma mt md mu mg nn mk no mo np ms om nr ns nt bi translated">生成代理安全令牌。出于安全考虑，强烈建议不要在没有SSL加密的情况下运行JupyerHub。用<code class="fe op oq or oe b">openssl rand -hex 32</code>简单生成。将生成的令牌保存在记事本中以备后用。</li><li id="16a4" class="nl nm iq lz b ma nu md nv mg nw mk nx mo ny ms om nr ns nt bi translated">向您的<a class="ae le" href="http://penssl rand -hex 32" rel="noopener ugc nofollow" target="_blank">代理</a>添加令牌。它可以在配置文件中设置，也可以使用或存储为环境变量。然而，由于我们已经安装了Helm，我们可以使用<code class="fe op oq or oe b">helm</code>来模板化<code class="fe op oq or oe b">yaml</code>文件以添加SSL令牌。下面是您用上一步生成的令牌提供给<code class="fe op oq or oe b">yaml</code>的格式。我们稍后将把它添加到配置文件中。</li></ul><pre class="kp kq kr ks gt od oe of og aw oh bi"><span id="ca50" class="mz lg iq oe b gy oi oj l ok ol"><strong class="oe ja">proxy:</strong><br/>  <strong class="oe ja">secretToken:</strong> "&lt;SSL_Token&gt;"</span></pre><p id="b63d" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">2.添加配置</p><p id="5c5a" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">JupyterHub就如何设置配置提供了非常全面的<a class="ae le" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/customization.html" rel="noopener ugc nofollow" target="_blank">指南</a>。我正在添加一些有用的自定义数据科学的目的。您也可以参考指南来设置您的定制或使用参考<a class="ae le" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/resources/reference.html#singleuser-memory" rel="noopener ugc nofollow" target="_blank">此处的</a>来导航您的需求。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ob oc l"/></div></figure><ul class=""><li id="795d" class="nl nm iq lz b ma mt md mu mg nn mk no mo np ms om nr ns nt bi translated"><a class="ae le" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/resources/reference.html#singleuser-image" rel="noopener ugc nofollow" target="_blank">图片</a>:我们可以从<a class="ae le" href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html" rel="noopener ugc nofollow" target="_blank">这里</a>提供的综合列表中添加<a class="ae le" href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-datascience-notebook" rel="noopener ugc nofollow" target="_blank">数据科学笔记本</a>图片。还有，记得用标签代替<code class="fe op oq or oe b">latest</code>。你的图片标签可以在DockerHub中找到，数据科学笔记本的标签信息可以在<a class="ae le" href="https://hub.docker.com/r/jupyter/pyspark-notebook/tags/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</li><li id="c288" class="nl nm iq lz b ma nu md nv mg nw mk nx mo ny ms om nr ns nt bi translated"><a class="ae le" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/resources/reference.html#singleuser-memory" rel="noopener ugc nofollow" target="_blank">内存</a>:我们为你的用户指定存储限制。这将向Kubernetes API发送请求。</li></ul><p id="cb06" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">如果您只想遵循示例，只需复制并粘贴上面的内容，并替换必要的凭证。使用<code class="fe op oq or oe b">nano config.yaml</code>或<code class="fe op oq or oe b">vim config.yaml</code>创建<code class="fe op oq or oe b">yaml</code>文件并替换内容。</p><p id="f198" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">3.用舵安装。以下脚本将使用<code class="fe op oq or oe b">helm upgrade</code>安装JupyterHub。有关该命令的详细信息，请查看此处的<a class="ae le" href="https://helm.sh/docs/helm/helm_upgrade/" rel="noopener ugc nofollow" target="_blank">以供参考。</a></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="de3b" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">对于将来使用<code class="fe op oq or oe b">helm</code>的升级，我们不需要创建名称空间。</p><p id="16c3" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">JupyterHub的<a class="ae le" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/installation.html" rel="noopener ugc nofollow" target="_blank">指南</a>对这一部分做了非常透彻的解释，我个人认为阅读起来非常有帮助。<code class="fe op oq or oe b">RELEASE</code>指定您希望如何从<code class="fe op oq or oe b">helm</code>命令调用，<code class="fe op oq or oe b">NAMESPACE</code>是您希望与<code class="fe op oq or oe b">kubectl</code>一致的内容。</p><p id="c50c" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">在helm开始安装的时候休息一下，一旦安装完成，你将会看到JupyterHub的结束信息。如果您需要对该步骤中的任何问题进行故障诊断，请参考<a class="ae le" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/installation.html" rel="noopener ugc nofollow" target="_blank">指南</a>或使用<code class="fe op oq or oe b">kubectl get events</code>检索日志并自己找出发生了什么。</p><p id="7930" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">4.检查状态并测试您的JupyterHub。正确设置后，我们应该通过调用以下命令看到集线器准备就绪:</p><pre class="kp kq kr ks gt od oe of og aw oh bi"><span id="6b5c" class="mz lg iq oe b gy oi oj l ok ol">kubectl —-namespace=jhub get pod</span></pre><p id="cc45" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">要通过集群访问集线器，请调用以下命令来获取IP地址:</p><pre class="kp kq kr ks gt od oe of og aw oh bi"><span id="3a83" class="mz lg iq oe b gy oi oj l ok ol">kubectl --namespace=jhub get svc proxy-public</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi os"><img src="../Images/80d566e545f5de95e21709ee5ad1e4d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ustPnjSAiMp7qThbO8vN2Q.png"/></div></div></figure><p id="de58" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">将您的外部IP复制并粘贴到一个新的浏览器，它应该会将您导航到JupyerHub登录页面。您可以将自己的JupyterHub用于Kubernetes集群。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ot"><img src="../Images/0635d3accbffda2d49c4335fb694d3d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aMtmH7BzRORzbyNovD4TAQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">JupyterHub界面(图片由作者提供)</p></figure><p id="b04c" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">请注意，我们没有为用户设置任何身份验证，所以我们只需输入随机的用户名和密码即可开始。但是，如果您正在寻找更多的安全性来保护您的集群，请检查<a class="ae le" href="https://jupyterhub.readthedocs.io/en/stable/getting-started/authenticators-users-basics.html" rel="noopener ugc nofollow" target="_blank">此链接</a>来设置您的JupyerHub身份验证。</p><h2 id="eb20" class="mz lg iq bd lh na nb dn ll nc nd dp lp mg ne nf lr mk ng nh lt mo ni nj lv iw bi translated">打扫卫生。&amp;最终想法</h2><p id="8ab0" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">如果你什么都不做就让云闲置，那它就不便宜。所以如果你不再需要你的集群，建议将<a class="ae le" href="https://cloud.google.com/kubernetes-engine/docs/how-to/deleting-a-cluster#deleting_a_cluster" rel="noopener ugc nofollow" target="_blank">删除</a>它。</p><pre class="kp kq kr ks gt od oe of og aw oh bi"><span id="8fec" class="mz lg iq oe b gy oi oj l ok ol"># Retrieve the cluster </span><span id="960a" class="mz lg iq oe b gy ou oj l ok ol"><strong class="oe ja">gcloud container clusters list</strong></span><span id="c1fb" class="mz lg iq oe b gy ou oj l ok ol"># Delete the cluster</span><span id="9085" class="mz lg iq oe b gy ou oj l ok ol"><strong class="oe ja">gcloud container clusters delete &lt;CLUSTER-NAME&gt;</strong></span></pre><p id="7150" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">我从这个例子的实现中学到了很多，希望你也有同感。Kubernetes并不完全是神秘的，作为一名数据科学家，即使没有事先培训，也可以理解基本原理并获得实际应用。我将继续用Kubernetes写我的研究、想法和应用，并用简单明了的语言揭开的神秘面纱。和平！🤗</p></div></div>    
</body>
</html>