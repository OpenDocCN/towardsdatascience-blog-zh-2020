<html>
<head>
<title>Simple Edge Detection Model using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python的简单边缘检测模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/simple-edge-detection-model-using-python-91bf6cf00864?source=collection_archive---------9-----------------------#2020-10-30">https://towardsdatascience.com/simple-edge-detection-model-using-python-91bf6cf00864?source=collection_archive---------9-----------------------#2020-10-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a0d1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">机器使用边缘检测来更好地理解现实世界</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/07f8edfade830866917fbb036f55934f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*avg75U3BnMVHVG7APwfEbw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://www.pexels.com/photo/woman-in-white-sweater-thinking-4091205/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">佩克斯</a>的<a class="ae ky" href="https://www.pexels.com/@anastasia-shuraeva?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">阿纳斯塔西娅·舒拉耶娃</a>的照片</p></figure><p id="0682" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将向你展示如何检测图像的边缘。写一个边缘检测程序会让你对计算机视觉和自动驾驶汽车有所了解。边缘检测通常用于理解图像中的对象。这也有助于机器做出更好的预测。编写边缘检测程序是理解机器如何看待外部世界的一个很好的方式。这将使我们在计算机视觉方面有更好的视角。</p><p id="64bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我在以前的文章中介绍了一些计算机视觉概念:人脸检测、人脸识别和文本识别。今天，我们将使用python进行边缘检测。</p><h1 id="dd24" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">目录</h1><ul class=""><li id="49eb" class="mn mo it lb b lc mp lf mq li mr lm ms lq mt lu mu mv mw mx bi translated"><strong class="lb iu"> <em class="my">入门</em> </strong></li><li id="ef84" class="mn mo it lb b lc mz lf na li nb lm nc lq nd lu mu mv mw mx bi translated"><strong class="lb iu"> <em class="my">导入库</em> </strong></li><li id="7026" class="mn mo it lb b lc mz lf na li nb lm nc lq nd lu mu mv mw mx bi translated"><strong class="lb iu"> <em class="my">边缘检测功能</em> </strong></li><li id="7c7d" class="mn mo it lb b lc mz lf na li nb lm nc lq nd lu mu mv mw mx bi translated"><strong class="lb iu"> <em class="my">选择一幅图像</em> </strong></li><li id="191d" class="mn mo it lb b lc mz lf na li nb lm nc lq nd lu mu mv mw mx bi translated"><strong class="lb iu"> <em class="my">运行程序</em> </strong></li></ul></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="7878" class="lv lw it bd lx ly nl ma mb mc nm me mf jz nn ka mh kc no kd mj kf np kg ml mm bi translated">入门指南</h1><p id="981e" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">我们将为这个项目使用两个主要模块:Numpy、Matplotlib和OpenCV。Matplotlib是一个完整的库，用于在Python中生成静态、动画和交互式可视化。OpenCV是一个高度优化的库，专注于实时应用。</p><h2 id="0c1a" class="nt lw it bd lx nu nv dn mb nw nx dp mf li ny nz mh lm oa ob mj lq oc od ml oe bi translated">OpenCV</h2><blockquote class="of og oh"><p id="efab" class="kz la my lb b lc ld ju le lf lg jx lh oi lj lk ll oj ln lo lp ok lr ls lt lu im bi translated">OpenCV(开源计算机视觉库)是一个开源的计算机视觉和机器学习软件库。OpenCV旨在为计算机视觉应用提供一个通用的基础设施，并加速商业产品中的机器感知。作为一个BSD许可的产品，OpenCV使得企业利用和修改代码变得很容易。</p><p id="b577" class="kz la my lb b lc ld ju le lf lg jx lh oi lj lk ll oj ln lo lp ok lr ls lt lu im bi translated">参考:<a class="ae ky" href="https://opencv.org/" rel="noopener ugc nofollow" target="_blank"><em class="it">https://opencv.org</em></a></p></blockquote><p id="b950" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从安装库开始。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="1d7e" class="lv lw it bd lx ly nl ma mb mc nm me mf jz nn ka mh kc no kd mj kf np kg ml mm bi translated">图书馆</h1><p id="a01a" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">我们必须安装这些库，这样我们的程序才能正常工作。如前所述，我们只需要两个库。</p><p id="2bd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用PIP库管理器在一行中安装它们:</p><pre class="kj kk kl km gt ol om on oo aw op bi"><span id="6b05" class="nt lw it om b gy oq or l os ot">pip install numpy matplotlib opencv-python</span></pre><p id="bbfa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装过程完成后，我们可以将它们导入到代码中。您可以在Jupiter笔记本或Atom等常规文本编辑器上工作。我将使用这个项目的原子文本编辑器。</p><pre class="kj kk kl km gt ol om on oo aw op bi"><span id="77b2" class="nt lw it om b gy oq or l os ot">import cv2 <br/>import numpy as np <br/>import matplotlib.pyplot as plt</span></pre></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="b5e3" class="lv lw it bd lx ly nl ma mb mc nm me mf jz nn ka mh kc no kd mj kf np kg ml mm bi translated">边缘检测功能</h1><p id="f0e9" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">现在，我们可以转到有趣的部分，在这里我们将编写边缘检测函数。你会惊讶于使用OpenCV包是多么简单。这个OpenCV检测模型也被称为Canny边缘检测模型。我们的功能由三部分组成:边缘检测，可视化，最后，保存结果。</p><h2 id="597c" class="nt lw it bd lx nu nv dn mb nw nx dp mf li ny nz mh lm oa ob mj lq oc od ml oe bi translated">边缘检测</h2><pre class="kj kk kl km gt ol om on oo aw op bi"><span id="1046" class="nt lw it om b gy oq or l os ot">def simple_edge_detection(image): <br/>   edges_detected = cv2.Canny(image , 100, 200) <br/>   images = [image , edges_detected]</span></pre><p id="7184" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">理解代码:</p><ul class=""><li id="325e" class="mn mo it lb b lc ld lf lg li ou lm ov lq ow lu mu mv mw mx bi translated">Canny是我们调用的使用OpenCV进行边缘检测的方法。</li><li id="2612" class="mn mo it lb b lc mz lf na li nb lm nc lq nd lu mu mv mw mx bi translated">Image是函数的一个参数，这意味着我们在调用函数时会传递图像。这样，你可以很容易地用不同的图像测试你的程序。</li><li id="a0b4" class="mn mo it lb b lc mz lf na li nb lm nc lq nd lu mu mv mw mx bi translated">100和200是滞后阈值的最小值和最大值。</li><li id="4369" class="mn mo it lb b lc mz lf na li nb lm nc lq nd lu mu mv mw mx bi translated">如果想了解更多关于Canny边缘检测的知识:(<a class="ae ky" href="https://docs.opencv.org/master/da/d22/tutorial_py_canny.html" rel="noopener ugc nofollow" target="_blank">官方文档</a>)。</li></ul><h2 id="18eb" class="nt lw it bd lx nu nv dn mb nw nx dp mf li ny nz mh lm oa ob mj lq oc od ml oe bi translated">形象化</h2><pre class="kj kk kl km gt ol om on oo aw op bi"><span id="270a" class="nt lw it om b gy oq or l os ot">location = [121, 122] <br/>for loc, edge_image in zip(location, images): <br/>   plt.subplot(loc) <br/>   plt.imshow(edge_image, cmap='gray')</span></pre><p id="ef1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">理解代码:</p><ul class=""><li id="0d40" class="mn mo it lb b lc ld lf lg li ou lm ov lq ow lu mu mv mw mx bi translated">绘图部分需要位置数组。</li><li id="1188" class="mn mo it lb b lc mz lf na li nb lm nc lq nd lu mu mv mw mx bi translated">然后，我们可视化原始图像和边缘检测图像。</li><li id="3d56" class="mn mo it lb b lc mz lf na li nb lm nc lq nd lu mu mv mw mx bi translated">cmap参数用于改变图像的颜色。在我们的例子中，我们将它们转换成灰色。</li></ul><h2 id="57ae" class="nt lw it bd lx nu nv dn mb nw nx dp mf li ny nz mh lm oa ob mj lq oc od ml oe bi translated">保存结果</h2><p id="c71b" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">该功能的最后一部分将保存边缘检测图像和比较图。感谢OpenCv和Matplotlib包；<em class="my"> imwrite </em>和<em class="my"> savefig </em>函数为我们做了保存。在最后一行中，<em class="my"> show </em>函数将向我们展示创建的图表。</p><pre class="kj kk kl km gt ol om on oo aw op bi"><span id="bfeb" class="nt lw it om b gy oq or l os ot">cv2.imwrite('edge_detected.png', edges_detected) plt.savefig('edge_plot.png') plt.show()</span></pre></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="3948" class="lv lw it bd lx ly nl ma mb mc nm me mf jz nn ka mh kc no kd mj kf np kg ml mm bi translated">选择图像</h1><p id="ffb9" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">这将是一个简单的图像。我们将找到一个图像，我们想测试我们的canny边缘检测程序。我将使用免费的库存摄影页面来找到一些好的图片。这里是他们网站的链接。</p><p id="20d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下载图像后，确保将它们放在与项目相同的文件夹中。这将有助于轻松地将它们导入程序。让我们定义一个图像变量并导入图像。以下是如何使用OpenCV读取图像:</p><pre class="kj kk kl km gt ol om on oo aw op bi"><span id="16ee" class="nt lw it om b gy oq or l os ot">img = cv2.imread('test_image.jpg', 0)</span></pre><h2 id="6245" class="nt lw it bd lx nu nv dn mb nw nx dp mf li ny nz mh lm oa ob mj lq oc od ml oe bi translated">这是我将测试模型的示例图像:</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/ba6839abe2e9ad61b3691eebd41716c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*CF0ELaNIHwy1Qe8H"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="oy">来自Pexels的joo vítor Heinrichs的照片</em></p></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="f643" class="lv lw it bd lx ly nl ma mb mc nm me mf jz nn ka mh kc no kd mj kf np kg ml mm bi translated">运行程序</h1><p id="e525" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">最好也是最后一步，是时候运行程序了。到目前为止，没有任何东西触发该功能。我们必须调用函数，这样奇迹才会发生。哦，别忘了把你的图片作为参数传递。让我们调用这个函数:</p><pre class="kj kk kl km gt ol om on oo aw op bi"><span id="e354" class="nt lw it om b gy oq or l os ot">simple_edge_detection(img)</span></pre><h2 id="f2ab" class="nt lw it bd lx nu nv dn mb nw nx dp mf li ny nz mh lm oa ob mj lq oc od ml oe bi translated">以下是一些结果:</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/7dbe943bedf6041f53289abd7ab9cec2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*onwKCh4JH8qtn10x7y_dtQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/f4d0059513882f4a9f60d191ba491c3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*2QMJBORW_zfbIL8AeyDGAw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/fde428a47763277d52ccb1e7da9b30ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*4xZbIU1HfdxDEt0chv0ngw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片</p></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="0998" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">干得好！您已经使用Python创建了一个边缘检测模型。Python是一种非常引人注目的语言，使用python可以创造无限的东西。现在，你也知道如何在实际项目中使用计算机视觉。从事像这样的动手编程项目是提高编码技能的最好方式。</p><p id="1f08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我很高兴你今天学到了新东西。如果您在执行代码时有任何问题，请随时<a class="ae ky" href="https://sonsuzdesign.blog/" rel="noopener ugc nofollow" target="_blank">联系我</a>。😊</p><blockquote class="of og oh"><p id="c063" class="kz la my lb b lc ld ju le lf lg jx lh oi lj lk ll oj ln lo lp ok lr ls lt lu im bi translated"><em class="it">关注我的</em> <a class="ae ky" href="https://medium.com/@lifexplorer" rel="noopener"> <em class="it">博客</em> </a> <em class="it">和</em><a class="ae ky" href="https://www.youtube.com/behicguven" rel="noopener ugc nofollow" target="_blank"><em class="it">YouTube</em></a><em class="it">频道留下灵感。谢谢，</em></p></blockquote><h1 id="8d46" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">更多计算机视觉项目</h1><div class="pc pd gp gr pe pf"><a rel="noopener follow" target="_blank" href="/rendering-text-on-video-using-python-1c006519c0aa"><div class="pg ab fo"><div class="ph ab pi cl cj pj"><h2 class="bd iu gy z fp pk fr fs pl fu fw is bi translated">使用Python渲染视频文本</h2><div class="pm l"><h3 class="bd b gy z fp pk fr fs pl fu fw dk translated">使用moviePy库的动手机器学习项目</h3></div><div class="pn l"><p class="bd b dl z fp pk fr fs pl fu fw dk translated">towardsdatascience.com</p></div></div><div class="po l"><div class="pp l pq pr ps po pt ks pf"/></div></div></a></div><div class="pc pd gp gr pe pf"><a rel="noopener follow" target="_blank" href="/building-a-barcode-qr-code-reader-using-python-360e22dfb6e5"><div class="pg ab fo"><div class="ph ab pi cl cj pj"><h2 class="bd iu gy z fp pk fr fs pl fu fw is bi translated">使用Python构建条形码/QR码阅读器</h2><div class="pm l"><h3 class="bd b gy z fp pk fr fs pl fu fw dk translated">使用Pyzbar库的简单且可实际操作的机器学习项目</h3></div><div class="pn l"><p class="bd b dl z fp pk fr fs pl fu fw dk translated">towardsdatascience.com</p></div></div><div class="po l"><div class="pu l pq pr ps po pt ks pf"/></div></div></a></div></div></div>    
</body>
</html>