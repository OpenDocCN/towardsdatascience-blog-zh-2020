<html>
<head>
<title>Generate Hex Maps from your existing Spatial Data in less than 3 steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从现有空间数据生成十六进制地图只需不到3个步骤</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/generate-hex-maps-from-your-existing-spatial-data-in-less-than-3-steps-a6f39d778d84?source=collection_archive---------20-----------------------#2020-10-24">https://towardsdatascience.com/generate-hex-maps-from-your-existing-spatial-data-in-less-than-3-steps-a6f39d778d84?source=collection_archive---------20-----------------------#2020-10-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5a33" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">空间可视化——结合使用<a class="ae ki" href="https://turfjs.org/" rel="noopener ugc nofollow" target="_blank"> Turf </a>和<a class="ae ki" href="https://github.com/datagovsg/hextile" rel="noopener ugc nofollow" target="_blank"> Hextile </a> JavaScript库来生成十六进制地图</h2></div><p id="84a5" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">看过许多文章后，我注意到许多人试图为他们当前的空间数据集生成十六进制地图，要么是为了美观(例如仪表板可视化)，要么是为了最大限度地减少重叠几何特征造成的空间失真。嗯，我有好消息告诉这些人，因为我最近发现结合使用两个JavaScript库可以让用户立即呈现所需的输出，消除了在Tableau中添加任何额外计算字段的麻烦。为了方便用户和将来的使用，这个新功能已经被部署到我在https://tableau-data-utility.onrender.com/<a class="ae ki" href="https://tableau-data-utility.onrender.com/" rel="noopener ugc nofollow" target="_blank">的网络应用上。因此，下面是数据转换和结果可视化的快速预览:</a></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/07648d6c04792a2f5057aad48ef8cb1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5E_S69SNwk5sZxrMj6Iiog.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图片作者| ( <strong class="bd lv">左</strong>)美国各州多边形地图| ( <strong class="bd lv">右</strong>)美国各州十六进制地图</p></figure><p id="d354" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">上图<strong class="kl iu">不涉及Tableau </strong>中的任何计算。方法是简单地将GeoJSON格式的文件预处理成另一个GeoJSON文件，该文件渲染六边形而不是多边形。</p><p id="f9f2" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">只需导航至<a class="ae ki" href="https://tableau-data-utility.onrender.com/" rel="noopener ugc nofollow" target="_blank">https://tableau-data-utility.onrender.com/</a>并将您的空间数据输入web应用程序:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lw"><img src="../Images/cd2d84210f9fcd9cb8945d7b54f2b9ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U4uiqvcYR51-KOUstay73A.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片| US_States.geojson文件已成功上传至浏览器工具</p></figure><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lx"><img src="../Images/3585e4a810bd0ad35817242ea252bde4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HQxDm2dxxPPsuKQC5DStpg.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">按作者分类的图像|如果您的空间数据集采用其他格式，如SHP或KML，则在同一页面上还有一个实用工具可用于将您的空间数据输出为所需的GeoJSON格式</p></figure><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ly"><img src="../Images/1b04988e219b6f8587b81de589acf642.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5DOVcf78VDX77JMHs5f60g.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图片作者|最后，上传GeoJSON数据后，选择可用的形状选项-正方形、菱形、六边形和反六边形|继续调整宽度(以米为单位),然后选择“导出GeoJSON十六进制地图输出”</p></figure><p id="871f" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">作为参考，US_States.geojson的文件可以在我的<a class="ae ki" href="https://gist.github.com/incubated-geek-cc/5da3adbb2a1602abd8cf18d91016d451/raw/acaf26c65998bd5f53d6172dc6616c448584b19c/US_States.geojson" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到，带有上述参数的输出文件—倒六边形+宽度(500，000m)也可以在我的<a class="ae ki" href="https://gist.github.com/incubated-geek-cc/d6a8571fe6b5ba433f5b431bab630c21/raw/8bb5201e3b091ce125d6233e4dc38dc02fbb59f5/US_States_hexagon_90_500000_hexmap.geojson" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。只需保存文件，并在Tableau或Leafletjs(无论你喜欢哪个GeoJSON平台)中渲染它，这就是你得到十六进制地图可视化所要做的一切！</p><p id="068b" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">基本上，浏览器工具使用库<a class="ae ki" href="https://turfjs.org/" rel="noopener ugc nofollow" target="_blank"> Turf </a>和<a class="ae ki" href="https://github.com/datagovsg/hextile" rel="noopener ugc nofollow" target="_blank"> Hextile </a>在后端完成所有繁重的工作，生成十六进制格式的数据。需要注意的是，要确定没有映射到地图任何特定部分的六边形:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lz"><img src="../Images/6c005a1a0c7c76bf5dcf3507635a2a9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zmqQQIAlpE-AoRCD4nwmoA.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">按作者分类的图像|空值是指未映射到原始空间文件任何部分的六边形</p></figure><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ma"><img src="../Images/5d06e264c0bc8caaf3476a05d7634bba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mgRuUcJUD0Z81lCUagTn7w.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">图片作者|因此，隐藏空值以最大限度地减少生成的地图中的冗余六边形是明智的做法|通常，空值的出现是因为计算出的六边形的质心都不在原始空间数据的任何多边形内</p></figure><p id="4654" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">请访问<a class="ae ki" href="https://tableau-data-utility.onrender.com/" rel="noopener ugc nofollow" target="_blank">https://tableau-data-utility.onrender.com/</a>随意尝试其他国家省或州的其他数据集——请注意，目前web应用程序的标题上有几个选项卡:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mb"><img src="../Images/302306849c8efcff638b4c1682aa1e4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MNNX0GiP1oDH3U5FxXChiQ.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片|选择“空间数据到十六进制地图”以访问正确的工具</p></figure><p id="97ce" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">请随意使用其他Tableau数据实用工具——我发布的另一个<a class="ae ki" rel="noopener" target="_blank" href="/leverage-on-d3-js-v4-to-build-a-network-graph-for-tableau-with-ease-cc274cba69ce">教程</a>中的网络图到CSV，以及本<a class="ae ki" rel="noopener" target="_blank" href="/underrated-combined-functionalities-of-tableau-point-linestring-polygon-mapping-b4c0568a4de2">教程</a>中的空间数据到CSV。</p><p id="d941" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">希望这有助于简化和减少Tableau数据处理中的麻烦！</p><p id="583d" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">感谢您的阅读。</p><div class="mc md gp gr me mf"><a href="https://geek-cc.medium.com/membership" rel="noopener follow" target="_blank"><div class="mg ab fo"><div class="mh ab mi cl cj mj"><h2 class="bd iu gy z fp mk fr fs ml fu fw is bi translated">通过我的推荐链接加入灵媒——李思欣·崔</h2><div class="mm l"><h3 class="bd b gy z fp mk fr fs ml fu fw dk translated">获得李思欣·崔和其他作家在媒体上的所有帖子！😃您的会员费直接…</h3></div><div class="mn l"><p class="bd b dl z fp mk fr fs ml fu fw dk translated">geek-cc.medium.com</p></div></div><div class="mo l"><div class="mp l mq mr ms mo mt lp mf"/></div></div></a></div></div></div>    
</body>
</html>