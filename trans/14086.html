<html>
<head>
<title>10 Pandas Tricks to Make My Data Analyzing Process More Efficient: Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我的数据分析过程更高效的10个熊猫窍门:第1部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/10-pandas-tricks-to-make-my-data-analyzing-process-more-efficient-part-1-78a0cc1636f3?source=collection_archive---------26-----------------------#2020-09-28">https://towardsdatascience.com/10-pandas-tricks-to-make-my-data-analyzing-process-more-efficient-part-1-78a0cc1636f3?source=collection_archive---------26-----------------------#2020-09-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e6ff" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我希望我早点知道的技巧</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/023ca0a65771855579e079980f6d3503.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SRtpLdtozsjsrG37"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@max_duz?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Max Duzij </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="2c4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas 可能是Python中最重要的数据分析库，它就像Python中的Excel。在这篇文章中，我想分享10个熊猫的技巧，我希望我作为一个初学者能早点知道。</p><p id="72c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将用我以前的文章作为例子，它讨论了新冠肺炎期间的空中交通。数据集包含7个独立的cvs文件，包含7个月的飞行数据。每个文件大约有200万行数据。你可以在这里查看原始数据集<a class="ae ky" href="https://traffic-viz.github.io/scenarios/covid19.html" rel="noopener ugc nofollow" target="_blank"/>。</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/visualization-of-air-traffic-during-covid-19-pandemic-c5941b049401"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">新冠肺炎疫情期间空中交通的可视化</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">2020年全球航班数据的探索性数据分析</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><h1 id="ca3c" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">read_csv()</h1><p id="2a78" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated"><code class="fe nk nl nm nn b">read_csv</code>可能是Pandas中最常用的函数，它用于读取csv文件并创建数据帧。</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="061f" class="ns mo it nn b gy nt nu l nv nw">df=pd.read_csv(path_data/'1.csv')</span></pre><p id="6cfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果文件很大，可能需要一段时间来读取，所以你可以考虑先读取一小部分，用<code class="fe nk nl nm nn b">nrows</code>快速浏览，然后用<code class="fe nk nl nm nn b">df.info()</code>检查数据帧</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/b8aeac1dafbb03b506532f9d0ee0d5ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*44HdaYb0yNdeZWb6qX7DyQ.png"/></div></div></figure><p id="712f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，日期时间列作为对象加载。我们可以用<code class="fe nk nl nm nn b">parse_dates</code>正确读出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/d23171e45e7958eb8a3dc64b305e9a99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*36nUf0jPOPxBSNuXI64hlQ.png"/></div></div></figure><p id="baa0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您已经知道您需要哪些列来进行分析，您可以使用<code class="fe nk nl nm nn b">usecols</code>来只读取您需要的列。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/888b5d409201a3ccdfa0d3cc1e0a11ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tX14bOI-EAHMM69VnvVmXA.png"/></div></div></figure><p id="0917" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以使用<code class="fe nk nl nm nn b">dtype</code>自行指定数据类型。</p><h1 id="030e" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">selectt_dtypes()</h1><p id="678b" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">有时您需要选择具有相同数据类型的列进行分析。可以用<code class="fe nk nl nm nn b">selectt_dtypes</code>。例如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/9ec4668aa26d604de736c96dd6300d72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L5EBtZ31bN1Kdk5Jh6fR7A.png"/></div></div></figure><h1 id="2a6e" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">复制()</h1><p id="b82b" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated"><code class="fe nk nl nm nn b">copy()</code>在熊猫的数据分析中很重要。</p><p id="16ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们有一个数据帧<code class="fe nk nl nm nn b">df1</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/e1e3f1d266fb712d85c8b16401e1d5f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8XrSijRpIGlKQeJk1dOrqw.png"/></div></div></figure><p id="225d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们分配一个新的数据帧<code class="fe nk nl nm nn b">df2 = df1</code>，然后做一些计算</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/ba7ac95163116bba10e4d565311bba3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fpEMviXi26ocmpcIA650Xg.png"/></div></div></figure><p id="53bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你也会发现<code class="fe nk nl nm nn b">df1</code>的变化。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/ddee27552421136e14b546045f80eeab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*encE3KJI1pK90Xf0ooBg4w.png"/></div></div></figure><p id="256f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果不想要，可以用<code class="fe nk nl nm nn b">copy()</code>避免。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/3fc89b705f5b2d42d1e25e8eb854270a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0AD-wI05W0Sg38ARDRpKUA.png"/></div></div></figure><h1 id="7b93" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">concat()</h1><p id="bce7" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">如果你有多个数据帧，你想把它们放在一起，你可以使用<code class="fe nk nl nm nn b">concat()</code>，例如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/218491188b3327472bae28ba41058474.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zqK5bLQA2yaLucRA2QW2bw.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/00d8934d6537a7c5f7277299f492edc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pQL18AEofin55qiCcHeKdA.png"/></div></div></figure><p id="6173" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有多个大文件要处理，你也可以将<code class="fe nk nl nm nn b">pd.concat</code>和<code class="fe nk nl nm nn b">pd.read_csv</code>合并</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/207a72324bf3d092aebe9338c6b14d09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QtSjcGALSRTnTtiT1DjDLQ.png"/></div></div></figure><p id="d672" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它比编写循环来读取和连接多个文件更方便、更快。</p><h1 id="5d22" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">值计数</h1><p id="6ca9" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated"><code class="fe nk nl nm nn b">value_counts()</code>用于计算唯一值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/d2f40fddb8dd7a1be0e2f6205fd9e537.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CKFzYFsy2oSKMhgzEUBqJA.png"/></div></div></figure><p id="4d33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以通过设置<code class="fe nk nl nm nn b">normalize=True</code>对其进行规范化</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/bf856457c81ec16d60c521f0f789c6b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AbOktW9teFmC7WKa61OuVw.png"/></div></div></figure><p id="52f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以使用<code class="fe nk nl nm nn b">bins</code>将连续数据转换成离散区间，从而将其用于连续数据</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/fdddd47ebd91a2e7cb25e94052ba0ed2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fjqVcIYbokJhH4NPEjGyng.png"/></div></div></figure></div><div class="ab cl ol om hx on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="im in io ip iq"><p id="8a36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读，我将在第2部分文章中继续其他5个技巧。</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/10-pandas-tricks-to-make-my-data-analyzing-process-more-efficient-part-2-b72ea43a0bb5"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">让我的数据分析过程更高效的10个熊猫窍门:第二部分</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">我希望我早点知道的技巧</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="os l mj mk ml mh mm ks ly"/></div></div></a></div></div><div class="ab cl ol om hx on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="im in io ip iq"><p id="c5b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有兴趣也可以看看我之前关于Python和Numpy的文章。</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/7-python-tricks-to-make-my-code-better-and-smarter-60dfde0b6c49"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">让我的代码更好更聪明的7个Python技巧。</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">我希望我能早点知道的技巧。</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="ot l mj mk ml mh mm ks ly"/></div></div></a></div><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/7-numpy-tricks-to-make-my-code-better-and-smarter-9e8a4ccf43d1"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">让我的代码更好更聪明的7个小技巧</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">我希望我早点知道的技巧</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="ou l mj mk ml mh mm ks ly"/></div></div></a></div></div></div>    
</body>
</html>