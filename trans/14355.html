<html>
<head>
<title>Choropleth Maps - 101 using Plotly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Plotly的Choropleth Maps - 101</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/choropleth-maps-101-using-plotly-5daf85e7275d?source=collection_archive---------13-----------------------#2020-10-03">https://towardsdatascience.com/choropleth-maps-101-using-plotly-5daf85e7275d?source=collection_archive---------13-----------------------#2020-10-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f178" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Plotly图形库绘制Choropleth图的介绍。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7e6c6e87c5e1f4e4f34eb655d93d45af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RLWp7iZMIBDvfMXK"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">谢栋豪在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="417e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我已经做了将近5年的数据分析师，但是在这段时间里，我主要使用商业智能软件来完成我所有的数据可视化任务。所以我在可视化方面的经验仅限于知道何时绘制条形图，何时绘制折线图。为了纠正这一点，我最近开始学习matplotlib和其他绘图和图形库。这是朝着那个方向的尝试。你可以用它来指导choropleth地图，或者plotly，或者两者都有。希望这有所帮助。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/6fde4cb07b0512fad41ffcaccf49a520.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*ZlJ_s0bc0k6wAeRgBbwVzA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://ourworldindata.org/" rel="noopener ugc nofollow" target="_blank">绘制的地图我们的数据世界</a></p></figure><p id="7df9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Choropleth地图是一种专题地图，其中的区域按照统计变量的比例进行阴影化或图案化(来自维基百科)。例如，这张地图显示了2016年肥胖成年人的比例。</p><p id="3eb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Plotly </strong>是一家总部位于加拿大的公司，开发分析和数据可视化工具。他们为Python创建了一个开源的科学图形库，我正在这里使用它。</p><p id="03cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了这个任务，我正在寻找美国宗教信徒的数据(来源:<a class="ae ky" href="https://www.thearda.com/" rel="noopener ugc nofollow" target="_blank">theARDA.com</a>)。该数据包含1980年、1990年、2000年和2010年不同宗教团体的县级信息。它还包括该年各县的人口，以及其他一些信息。</p><p id="2621" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，让我们首先加载我们将需要的数据和库。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="a388" class="mb mc it lx b gy md me l mf mg"><strong class="lx iu"><em class="mh">#import libraries</em><br/></strong>%matplotlib notebook<br/>import pandas as pd<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>import plotly.express as px<br/>import plotly.graph_objects as go<br/>from plotly.subplots import make_subplots</span><span id="8df9" class="mb mc it lx b gy mi me l mf mg"><strong class="lx iu"><em class="mh">#import raw data</em><br/></strong>df = pd.read_excel(‘RCMSMGCY.xlsx’, dtype={“FIPSMERG”: str})<br/>df.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/30261d5e546c12556b5d54ab53c71497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ZTBM8rLMJBQc8HoGR776Q.png"/></div></div></figure><p id="73b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，接下来的3个步骤涉及清理、过滤和汇总数据以供分析，因此如果您愿意，可以跳过这一步，直接进入Choropleth图。</p><h2 id="2634" class="mb mc it bd mk ml mm dn mn mo mp dp mq li mr ms mt lm mu mv mw lq mx my mz na bi translated"><strong class="ak">数据清理</strong></h2><p id="430d" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">为了绘制美国县数据，我将使用FIPS代码，存储在FIPSMERG列中。FIPS代码是唯一的5位数字代码，用于标识美国的县。从上面的数据快照可以看出，在前5行中，FIPSMERG只有4位数。这意味着前导零丢失了。让我们用lambda函数添加它。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="8128" class="mb mc it lx b gy md me l mf mg"><strong class="lx iu"><em class="mh">#adding 0 to FIPS code</em></strong><br/>df[‘FIPSMERG’] = df[‘FIPSMERG’].apply(lambda x: str(0)+str(x) if len(str(x))&lt;5 else x)</span></pre><p id="ce30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，每个宗教团体都被归类到一个宗教传统和家庭中，由RELTRAD &amp; FAMILY列表示。我添加了这些类别的名称和州名，以使数据更容易理解。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="4514" class="mb mc it lx b gy md me l mf mg"><strong class="lx iu"><em class="mh">#religious family name mapping (FAMILY)</em></strong><br/>rel_fam = pd.read_csv(‘religious_family.csv’)<br/><strong class="lx iu"><em class="mh">#religious tradition name mapping (RELTRAD)</em></strong><br/>rel_trad = pd.read_csv(‘religious_tradition.csv’)<br/><strong class="lx iu"><em class="mh">#merging the 2 dataframes on group Code to get the corresponding religious family name &amp; religious tradition catgeory<br/></em></strong>df = pd.merge(pd.merge(df, rel_fam, left_on=’FAMILY’, right_on=’FAMILY’, how=’left’), rel_trad, left_on=’RELTRAD’, right_on=’RELTRAD’, how=’left’)<br/>print(‘Shape: ‘+str(df.shape))</span><span id="6f48" class="mb mc it lx b gy mi me l mf mg"><strong class="lx iu"><em class="mh">#state names mapping (STATEAB)</em></strong><br/>state_code = pd.read_csv(‘us_state_code_data.csv’)<br/><strong class="lx iu"><em class="mh">#merging the dataframes</em></strong><br/>df = (pd.merge(df, state_code, left_on=’STATEAB’, right_on=’Postal <br/>Code’, how=’inner’)).drop([‘Postal Code’], axis = 1)</span></pre><h2 id="efa5" class="mb mc it bd mk ml mm dn mn mo mp dp mq li mr ms mt lm mu mv mw lq mx my mz na bi translated"><strong class="ak">过滤数据</strong></h2><p id="9d38" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">对于分析的第一部分，我想看看2010年州和县一级信徒的百分比。为此，我需要人口和信徒的数量。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="1f6d" class="mb mc it lx b gy md me l mf mg"><strong class="lx iu"><em class="mh">#filtering data for only 2010 </em></strong><br/>df_2010 = df[df['YEAR']==2010]</span><span id="4f6b" class="mb mc it lx b gy mi me l mf mg"><strong class="lx iu"><em class="mh">#population at county level (year wise)</em></strong><br/>pop_county = df[[‘YEAR’,’FIPSMERG’,’STATEAB’, ‘State Name’, ‘CNTYNM’, ‘TOTPOP’]].drop_duplicates().reset_index(drop=True)</span><span id="c57f" class="mb mc it lx b gy mi me l mf mg"><strong class="lx iu"><em class="mh">#population at state level (year wise)</em></strong><br/>pop_state = pop_county.groupby(by=[‘YEAR’,’STATEAB’, ‘State Name’]).agg({‘TOTPOP’:sum}).reset_index()</span></pre><h2 id="3410" class="mb mc it bd mk ml mm dn mn mo mp dp mq li mr ms mt lm mu mv mw lq mx my mz na bi translated"><strong class="ak">汇总数据</strong></h2><p id="c417" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">下一步是计算州和县一级信徒的百分比。使用pandas groupby函数和人口估计值，我创建了两个数据框架，一个汇总了州一级的数据，另一个汇总了县一级的数据。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="7c0a" class="mb mc it lx b gy md me l mf mg"><strong class="lx iu"><em class="mh">#creating state level data for %of adherents</em></strong><br/>adh_state = df_2010.groupby(by=['STATEAB','State Name']).agg({'ADHERENT':sum}).reset_index()<br/>adh_state = pd.merge(adh_state, pop_state[['YEAR','STATEAB', 'TOTPOP']], left_on='STATEAB', right_on='STATEAB', how='inner')<br/>adh_state['PER_ADH'] = np.round(adh_state['ADHERENT']/adh_state['TOTPOP']*100,decimals=1)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/b0bd709b7a8d22d627064f496ccc01f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/format:webp/1*qXAcSEo_61Wor9eU_NOo3Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">州级汇总</p></figure><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="b454" class="mb mc it lx b gy md me l mf mg"><strong class="lx iu"><em class="mh">#creating county level data for %of adherents</em></strong><br/>adh_county = df_2010.groupby(by=[‘FIPSMERG’, ‘CNTYNM’, ‘STATEAB’]).agg({‘ADHERENT’:sum}).reset_index()<br/>adh_county = pd.merge(adh_county, pop_county[[‘FIPSMERG’, ‘TOTPOP’]], left_on=’FIPSMERG’, right_on=’FIPSMERG’, how=’inner’)<br/>adh_county[‘PER_ADH’] = np.round(adh_county[‘ADHERENT’]/adh_county[‘TOTPOP’]*100,decimals=1)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/f5b2408de9edeecd3885694c7ae4dcb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*LjzVfZG2H6BkZY0BN3409Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">县级汇总</p></figure><h2 id="65a2" class="mb mc it bd mk ml mm dn mn mo mp dp mq li mr ms mt lm mu mv mw lq mx my mz na bi translated">Choropleth地图</h2><p id="b19d" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">现在，我们已经准备好了州和县一级的数据框架，我们可以绘制Choropleth图。我正在使用来自plotly.express的函数<a class="ae ky" href="https://plotly.github.io/plotly.py-docs/generated/plotly.express.choropleth.html" rel="noopener ugc nofollow" target="_blank"> choropleth </a></p><p id="d3e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">choropleth函数的locations参数与locationmode参数协同工作。对于美国州数据，locationmode = "USA-states "和location参数将采用州代码(AL、CA等)。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="8377" class="mb mc it lx b gy md me l mf mg"><strong class="lx iu"><em class="mh">#shows %adherents at state level for the year 2010</em></strong><br/>fig1 = px.choropleth(adh_state, locations=adh_state[‘STATEAB’], locationmode=”USA-states”,<br/> color=’PER_ADH’,color_continuous_scale=”inferno”,<br/> range_color=(0, 100),scope=”usa”,labels={‘PER_ADH’:’%Adherents’},hover_name=’State Name’,<br/> hover_data={‘STATEAB’:False,’State Name’:False,’ADHERENT’:False,’TOTPOP’:False,’PER_ADH’:True})</span><span id="4a6b" class="mb mc it lx b gy mi me l mf mg">fig1.update_layout(margin={“r”:0,”t”:0,”l”:0,”b”:0})<br/>fig1.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/ac1c20af17685395704ad38b1100bcd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wjTWIiwcGei0YIHkspBcqA.png"/></div></div></figure><p id="58f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要绘制各县的数据，请使用参数geojson，该参数采用面的要素集合。你可以在这里  <em class="mh">找到我们这些县<a class="ae ky" href="https://raw.githubusercontent.com/plotly/datasets/master/geojson-counties-fips.json" rel="noopener ugc nofollow" target="_blank"> <em class="mh">的收藏。</em>同样，将位置参数设置为FIPS代码。</a></em></p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="10fd" class="mb mc it lx b gy md me l mf mg">with urlopen(‘<a class="ae ky" href="https://raw.githubusercontent.com/plotly/datasets/master/geojson-counties-fips.json'" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/plotly/datasets/master/geojson-counties-fips.json'</a>) as response:<br/> counties = json.load(response)</span><span id="20b5" class="mb mc it lx b gy mi me l mf mg"><strong class="lx iu"><em class="mh">#plot %adherents at county level for the year 2010</em></strong><br/>fig1 = px.choropleth(adh_county, geojson=counties, locations=’FIPSMERG’, color=’PER_ADH’,color_continuous_scale=”inferno”,<br/> range_color=(0, 100),scope=”usa”,labels={‘PER_ADH’:’%Adherents’},hover_name=’CNTYNM’,<br/> hover_data={‘FIPSMERG’:False,’CNTYNM’:False,’STATEAB’:False,’ADHERENT’:False,<br/> ‘TOTPOP’:False,’PER_ADH’:True})<br/>fig1.update_layout(margin={“r”:0,”t”:0,”l”:0,”b”:0})<br/>fig1.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/e50e1a6f6091b8b3e8d186f4dcf87c07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sTOnccx-vLXkUMsXU9qG-A.png"/></div></div></figure><p id="8e5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们知道了如何创建Choropleth地图，让我们试着给它们添加更多的功能。对于分析的第二部分，我想看看各州最大的宗教传统团体在1980年至2010年间是如何变化的。我将在我的choropleth地图上添加一个滑块，并使用它来改变年份。</p><p id="ce95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我需要确定每个州每年最大的传统群体。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="79e3" class="mb mc it lx b gy md me l mf mg">df_ = df.copy()</span><span id="8cee" class="mb mc it lx b gy mi me l mf mg">reltrad = df_.groupby([‘YEAR’,’STATEAB’,’State Name’,’RELTRADNM’]).agg({‘ADHERENT’:sum}).reset_index()<br/>reltrad = pd.merge(reltrad, pop_state, left_on=[‘YEAR’,’STATEAB’,’State Name’], right_on=[‘YEAR’,’STATEAB’,’State Name’], how=’inner’) <br/>reltrad[‘PER_ADH’] = (reltrad[‘ADHERENT’]/reltrad[‘TOTPOP’])*100</span><span id="50a6" class="mb mc it lx b gy mi me l mf mg"><strong class="lx iu">#adding Ranks and filtering Rank = 1</strong><br/>reltrad[‘RANK’] = reltrad.groupby([‘YEAR’,’STATEAB’])[‘PER_ADH’].rank(ascending=False,method=’first’)<br/>reltrad_top = reltrad[reltrad[‘RANK’]==1].reset_index(drop=True)</span></pre><p id="0355" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要添加滑块，请使用函数choropleth的参数animation_frame。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="4a7b" class="mb mc it lx b gy md me l mf mg">n = [‘Evangelical Protestant ‘,’Mainline Protestant ‘,’Black Protestant ‘,’Catholic ‘,’Orthodox ‘,’Other ‘]<br/>cdm = dict(zip(n, [‘#003f5c’,’#444e86',’#955196',’#dd5182',’#ff6e54',’#ffa600']))</span><span id="e9f8" class="mb mc it lx b gy mi me l mf mg">figz = px.choropleth(reltrad_top, locations = ‘STATEAB’, locationmode = “USA-states”, scope = “usa”,<br/> color = ‘RELTRADNM’, hover_name = ‘State Name’, <br/> color_discrete_map = cdm,<br/> hover_data = {‘YEAR’:False,’STATEAB’:False,’State Name’:True,’RELTRADNM’:False,<br/> ‘ADHERENT’:False,’TOTPOP’:False,’PER_ADH’:False,’RANK’:False}, <br/> animation_frame=’YEAR’)</span><span id="1711" class="mb mc it lx b gy mi me l mf mg">figz.update_layout(margin={“r”:0,”t”:0,”l”:0,”b”:0})<br/>figz[“layout”].pop(“updatemenus”)<br/>figz.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/53f04c62de76a90eb6a810a231f2d4cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zAGm_cyZSWXTADtmj06LGA.png"/></div></div></figure><p id="9159" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我认为滑块在这里没有达到预期的目的。当你不得不在几年之间不停地移动时，比较这些州是很麻烦的。所以，我认为支线剧情会更好。</p><p id="25e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，因为一个choropleth没有参考笛卡尔坐标系，我们不能在子情节中使用plotly.express' Choropleth函数。所以我将在这里使用plotly.graph_objects中的<a class="ae ky" href="https://plotly.github.io/plotly.py-docs/generated/plotly.graph_objects.Choropleth.html" rel="noopener ugc nofollow" target="_blank"> choropleth </a>函数。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="bf60" class="mb mc it lx b gy md me l mf mg">ndf = reltrad_top[[‘YEAR’,’STATEAB’,’RELTRADNM’,’State Name’]]<br/>ndf = pd.merge(ndf, df_[[‘RELTRADNM’,’RELTRAD’]].drop_duplicates(), left_on=’RELTRADNM’, right_on=’RELTRADNM’, how=’left’)<br/>ndf[‘text’] = ‘State: ‘ + ndf[‘State Name’] + ‘&lt;br&gt;’ + ‘Tradition: ‘+ ndf[‘RELTRADNM’]</span><span id="5f7c" class="mb mc it lx b gy mi me l mf mg">years = (ndf[‘YEAR’].sort_values(ascending=True).unique()).tolist()</span><span id="6409" class="mb mc it lx b gy mi me l mf mg">cscale = [‘#003f5c’,’#444e86',’#dd5182',’#ffa600',’#ff6e54',’#955196']<br/>rows = 2<br/>cols = 2<br/>fig = make_subplots(rows=rows, cols=cols, <br/> specs = [[{‘type’: ‘choropleth’} for c in np.arange(cols)] for r in np.arange(rows)],<br/> subplot_titles = years, vertical_spacing=0.1, horizontal_spacing=0)</span><span id="0e46" class="mb mc it lx b gy mi me l mf mg">for i, y in enumerate(years):<br/> fig.add_trace(go.Choropleth(locations=ndf.STATEAB[ndf[‘YEAR’]==y],z = ndf.RELTRAD[ndf[‘YEAR’]==y],<br/> locationmode = ‘USA-states’, zmin=1, zmax=6, colorscale=cscale,hoverinfo=’text’,<br/> hovertext=ndf.text[ndf[‘YEAR’]==y]), row = i//cols+1, col = i%cols+1)</span><span id="1387" class="mb mc it lx b gy mi me l mf mg">fig.update_layout(title={‘text’:’Religious Tradition by Year’, ‘xanchor’: ‘center’,’x’:0.5},<br/> **{‘geo’ + str(i) + ‘_scope’: ‘usa’ for i in [‘’] + np.arange(2,rows*cols+1).tolist()},<br/> coloraxis_showscale=False, margin={“r”:10,”t”:70,”l”:10,”b”:0},<br/> hoverlabel=dict(bgcolor=’#e6e6e6', font_size=12, font_family=”Rockwell”))</span><span id="cb64" class="mb mc it lx b gy mi me l mf mg">fig.update_traces(showscale=False)<br/>fig.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/74e0c2a508f347611870f0a452950e14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bt03iamUzfQrPY4fm6W-bg.png"/></div></div></figure><p id="d8e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们有了。希望这个指南能在某些方面帮助你。你可以在这里找到数据和完整的源代码。你也可以跳到Neptune.ai的Plotly Python教程<a class="ae ky" href="https://bit.ly/2Ssg2YF" rel="noopener ugc nofollow" target="_blank">这里</a>获得更多的提示和技巧。</p></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><p id="cf39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mh"> PS:仅将此用作Plotly和Choropleth地图的指南。不要把数据看得太重。数据来源基于ARDA进行的调查，因此可能遗漏了较小的宗教团体，尤其是在1980年和1990年。</em></p><p id="9378" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mh"> PPS:第一次写作，所以请原谅我的错误。欢迎建设性的反馈。提前感谢。</em></p></div></div>    
</body>
</html>