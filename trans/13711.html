<html>
<head>
<title>Clearing the confusion once and for all: fig, ax = plt.subplots()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一劳永逸地澄清困惑:fig，ax = plt.subplots()</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/clearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca?source=collection_archive---------1-----------------------#2020-09-21">https://towardsdatascience.com/clearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca?source=collection_archive---------1-----------------------#2020-09-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bc11" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解Matplotlib中的图形和轴对象</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0efc2973eb3b7eadf0bce2c79a946bcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SYqfa1MMf4XvaKUfugco0A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://www.pexels.com/photo/person-holding-pencil-on-white-canvas-1076339/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">像素</a>的<a class="ae ky" href="https://www.pexels.com/@stockphotoartist?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">只需说出</a>的名字</p></figure><h2 id="0cd0" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">介绍</h2><p id="c00f" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">通过阅读本文，您将了解Maptlolib绘图中的两个核心对象:图形和轴。你终于会明白简单剧情(<code class="fe mo mp mq mr b">plt.plot</code>)和用<code class="fe mo mp mq mr b">plt.subplots()</code>创造支线剧情的区别了。</p><p id="4ee0" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">当你开始进入数据科学的旅程时，你会被介绍到<a class="ae ky" href="https://matplotlib.org/tutorials/index.html" rel="noopener ugc nofollow" target="_blank"> Matplotlib </a>作为你的第一个数据可视化库。大多数初学者教程对学生开了一个残酷的玩笑，首先向他们介绍“初学者友好的”<code class="fe mo mp mq mr b">pyplot &gt; plt</code>界面。当这些穷学生冒险进入现实世界时，他们会发现StackOverflow上的花花公子和大多数其他人使用更灵活的面向对象方式。他们会感到困惑，很可能会转移到Seaborn和Plotly。或者更糟，到<a class="ae ky" href="https://www.tableau.com/" rel="noopener ugc nofollow" target="_blank"> Tableau </a>的无代码接口，就像我差点做的那样。(由于这种混乱，我特别记得自己浏览Quora和StackOverflow线程，想知道人们是否使用Tableau而不是Matplotlib)</p><p id="c5a2" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">本文将向您介绍Matplotlib中的图形和轴对象，以及它们相对于其他方法的优势。</p><div class="mx my gp gr mz na"><a href="https://ibexorigin.medium.com/membership" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">通过我的推荐链接加入Medium-BEXGBoost</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">获得独家访问我的所有⚡premium⚡内容和所有媒体没有限制。支持我的工作，给我买一个…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">ibexorigin.medium.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no ks na"/></div></div></a></div><p id="e89b" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">获得由强大的AI-Alpha信号选择和总结的最佳和最新的ML和AI论文:</p><div class="mx my gp gr mz na"><a href="https://alphasignal.ai/?referrer=Bex" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">阿尔法信号|机器学习的极品。艾总结的。</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">留在循环中，不用花无数时间浏览下一个突破；我们的算法识别…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">alphasignal.ai</p></div></div><div class="nj l"><div class="np l nl nm nn nj no ks na"/></div></div></a></div></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><h2 id="7985" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">概观</h2><pre class="kj kk kl km gt nx mr ny nz aw oa bi"><span id="b811" class="kz la it mr b gy ob oc l od oe">   I. Introduction</span><span id="a622" class="kz la it mr b gy of oc l od oe">  II. Setup</span><span id="bf31" class="kz la it mr b gy of oc l od oe"> III. plt.subplots(), preliminary understanding</span><span id="c518" class="kz la it mr b gy of oc l od oe">  IV. Axes methods vs. pyplot, understanding further</span><span id="a3b4" class="kz la it mr b gy of oc l od oe">   V. plt.subplots() grid system</span><span id="968a" class="kz la it mr b gy of oc l od oe">  VI. Doubling axis</span><span id="45a0" class="kz la it mr b gy of oc l od oe"> VII. Sharing a commong axis between subplots</span><span id="24b4" class="kz la it mr b gy of oc l od oe">VIII. Working with figure object</span><span id="93c2" class="kz la it mr b gy of oc l od oe">  IX. Conclusion</span></pre><blockquote class="og oh oi"><p id="bf94" class="lv lw oj lx b ly ms ju ma mb mt jx md ok mu mf mg ol mv mi mj om mw ml mm mn im bi translated">示例数据和文章的笔记本可在<a class="ae ky" href="https://github.com/BexTuychiev/medium_stories/tree/master/working_with_ax_fig_objects" rel="noopener ugc nofollow" target="_blank"> this </a> GitHub repo中获得。</p></blockquote><h2 id="b572" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">设置</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/0d2f8fd22cadffed45950bc0019f7491.png" data-original-src="https://miro.medium.com/v2/format:webp/1*5F7DslHGRRifDQ_dNTsxeQ.png"/></div></figure><pre class="kj kk kl km gt nx mr ny nz aw oa bi"><span id="1c9e" class="kz la it mr b gy ob oc l od oe">&gt;&gt;&gt; climate_change.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/ad25b42b68506285395c0d98ce0e69c5.png" data-original-src="https://miro.medium.com/v2/format:webp/1*3dmdx1-pWeqT8Z-bnekPjA.png"/></div></figure></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><h2 id="c829" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">plt.subplots()，初步了解</h2><p id="4143" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">这一切都从调用<code class="fe mo mp mq mr b">.subplots()</code>命令开始:</p><pre class="kj kk kl km gt nx mr ny nz aw oa bi"><span id="1396" class="kz la it mr b gy ob oc l od oe">&gt;&gt;&gt; plt.subplots()</span><span id="45ff" class="kz la it mr b gy of oc l od oe">(&lt;Figure size 432x288 with 1 Axes&gt;, &lt;AxesSubplot:&gt;)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/e06a7761a75735cd31435c5a4e5f124e.png" data-original-src="https://miro.medium.com/v2/format:webp/1*vsQq1mu-LJAZXZYrqQsAZQ.png"/></div></figure><p id="bfa2" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">如果您注意的话，除了空白图之外，该函数还返回了一个由两个值组成的元组:</p><p id="4140" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated"><strong class="lx iu">:</strong>(&lt;图尺寸432x288带1轴&gt;，&lt;轴Subplot: &gt;)</p><p id="8db7" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">每次我们调用<code class="fe mo mp mq mr b">subplots()</code>函数时，它都会返回这些类型的元组，这些元组总是有两个值。在Python中，有一种技术叫做元组解包。让我给你看一个简单的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="9229" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">如果我们打印上面三个的值:</p><pre class="kj kk kl km gt nx mr ny nz aw oa bi"><span id="e025" class="kz la it mr b gy ob oc l od oe">&gt;&gt;&gt; print(ten)<br/>10<br/>&gt;&gt;&gt; print(eleven)<br/>11<br/>&gt;&gt;&gt; print(twelve)<br/>12</span></pre><p id="7248" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">很好，我们把一个大小为3的元组分解成三个不同的变量。所以，现在你会更好地理解这段代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/e06a7761a75735cd31435c5a4e5f124e.png" data-original-src="https://miro.medium.com/v2/format:webp/1*vsQq1mu-LJAZXZYrqQsAZQ.png"/></div></figure><blockquote class="og oh oi"><p id="a3ff" class="lv lw oj lx b ly ms ju ma mb mt jx md ok mu mf mg ol mv mi mj om mw ml mm mn im bi translated">我们创建了两个变量，<code class="fe mo mp mq mr b">fig</code>和<code class="fe mo mp mq mr b">ax</code>。请记住，这些是随意的名字，但却是一个标准，我们是好人之一，所以我们将遵循惯例。</p></blockquote><p id="53e2" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">这两个变量现在包含用于所有类型的绘图操作的两个核心对象。第一个对象<code class="fe mo mp mq mr b">fig</code>，简称<code class="fe mo mp mq mr b">figure</code>，把它想象成你剧情的框架。您可以调整框架的大小和形状，但不能在框架上绘图。在单个笔记本或脚本上，可以有多个图形。每个人物可以有多个支线剧情。在这里，支线剧情与轴线同义。第二个对象，<code class="fe mo mp mq mr b">ax</code>，axes的缩写，是你在上面画画的画布。或者换句话说，它是一张你可以绘制和保存数据的空白纸。一个轴对象只能属于一个图形。</p></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><h2 id="0750" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">轴方法与pyplot，进一步了解</h2><p id="08ba" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">在帖子的开头，我说过<code class="fe mo mp mq mr b">pyplot</code>是一个更加初学者友好的与Matplotlib交互的方法。的确，与axes方法相比，<code class="fe mo mp mq mr b">pyplot</code>提供了一种更快、更简洁的绘图方法。它将有更少的局部变量和语法。但是为什么大多数人更喜欢面向对象的方式呢？</p><p id="40fb" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">我们来看看<code class="fe mo mp mq mr b">pyplot</code>的简洁方式:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/31d8525e6199ef553a993eadb212b2bb.png" data-original-src="https://miro.medium.com/v2/format:webp/1*sWc6E21gH4YthIARzj9L4w.png"/></div></figure><p id="6240" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">嗯，这很简单。我们只用了三句台词。现在让我们看看，如果我们试图在它旁边绘制(完全不相关的)气候变化数据，会发生什么:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="e9ec" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">在这种情况下，我们得到一个<code class="fe mo mp mq mr b">TypeError</code>。<code class="fe mo mp mq mr b">pyplot</code>本身不能创建新轴或新图形，也不能智能地绘制新数据。当我们进行更复杂的绘图时，我们需要一个更灵活的方法。</p><p id="8953" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">Mpl有这个概念叫<code class="fe mo mp mq mr b">current figure</code>。默认情况下，<code class="fe mo mp mq mr b">pyplot</code>本身会创建一个<code class="fe mo mp mq mr b">current figure</code>轴并在其上绘图。例如，如果我们想要聚焦在那个<code class="fe mo mp mq mr b">current figure</code>上，并在其上绘制额外的数据，正如我们在上一个例子中所尝试的，<code class="fe mo mp mq mr b">pyplot</code>在给出新的绘制命令后，立即将<code class="fe mo mp mq mr b">current figure</code>移动到一个新的。</p><p id="e1b7" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">为了避免这种情况，让我们看看我们完全控制每个图形和轴的方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/dd8be45d6b4141dbf18126e25b4df07c.png" data-original-src="https://miro.medium.com/v2/format:webp/1*P7ZCRot785gu_KZCw3ZDhg.png"/></div></figure><p id="d7db" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">我们特别指出我们正在处理这个<code class="fe mo mp mq mr b">fig</code>对象。这意味着我们编写的任何绘图命令都将应用于属于<code class="fe mo mp mq mr b">fig</code>的axes ( <code class="fe mo mp mq mr b">ax</code>)对象。除非我们用<code class="fe mo mp mq mr b">plt.subplots()</code>命令定义一个新图形，否则当前的<code class="fe mo mp mq mr b">figure</code>将是变量<code class="fe mo mp mq mr b">fig</code>。这种方式非常好，因为现在我们可以在一个图形中创建尽可能多的轴或支线剧情，并使用它们。</p><blockquote class="og oh oi"><p id="417d" class="lv lw oj lx b ly ms ju ma mb mt jx md ok mu mf mg ol mv mi mj om mw ml mm mn im bi translated">从现在开始，我将交替使用支线剧情和轴线术语，因为它们是同义词。</p></blockquote></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><h2 id="33b0" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">plt.subplots()网格系统</h2><p id="5dda" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">我们看到了一个创建支线剧情的例子。让我们看看如何在单个图形中创建更多:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/4df6df56b4636befb953c40dfeae2208.png" data-original-src="https://miro.medium.com/v2/format:webp/1*bNDlbXKgz0chD4gZ7b31pQ.png"/></div></figure><p id="8e10" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">在其他参数中，<code class="fe mo mp mq mr b">.subplots()</code>有两个参数指定网格尺寸。<code class="fe mo mp mq mr b">nrows</code>和<code class="fe mo mp mq mr b">ncols</code>分别用来指出我们需要的行数和列数。如果你注意的话，现在我们的第二个变量包含不是一个而是两个轴。而且现在给的是一个<code class="fe mo mp mq mr b">numpy.ndarray</code>。因此，我们必须解包或索引该数组，以使用我们的绘图命令:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/2c6fe689d1bde20abeed3a58620fad15.png" data-original-src="https://miro.medium.com/v2/format:webp/1*xJ27U41OzCVrZzUELtQGaw.png"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/2c6fe689d1bde20abeed3a58620fad15.png" data-original-src="https://miro.medium.com/v2/format:webp/1*xJ27U41OzCVrZzUELtQGaw.png"/></div></figure><blockquote class="og oh oi"><p id="f844" class="lv lw oj lx b ly ms ju ma mb mt jx md ok mu mf mg ol mv mi mj om mw ml mm mn im bi translated"><strong class="lx iu">专业提示</strong>:注意<code class="fe mo mp mq mr b">padding</code>设置为3的<code class="fe mo mp mq mr b">fig.tight_layout()</code>功能。这会给支线剧情一点喘息的机会。</p></blockquote><p id="c940" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">这两种方法完全相似，由您选择一种。让我们再看一个例子，但稍微难一点:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/8ff7b50166173c0db8fbecc3ba7e9fd2.png" data-original-src="https://miro.medium.com/v2/format:webp/1*CZi8oOvwch3ws58rbj_RFA.png"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/8ff7b50166173c0db8fbecc3ba7e9fd2.png" data-original-src="https://miro.medium.com/v2/format:webp/1*CZi8oOvwch3ws58rbj_RFA.png"/></div></figure><blockquote class="og oh oi"><p id="0c11" class="lv lw oj lx b ly ms ju ma mb mt jx md ok mu mf mg ol mv mi mj om mw ml mm mn im bi translated"><strong class="lx iu">专业提示</strong>:正确设置<code class="fe mo mp mq mr b">figsize=(width, height)</code>参数。会让你的剧情更加鲜明。</p></blockquote><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/81084fd293e95f258fd167236873bb76.png" data-original-src="https://miro.medium.com/v2/format:webp/1*CdvSOQ0DroiaJ24rKzQHWA.png"/></div></figure><p id="ec64" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">这篇文章不是特别关于绘图，而是给你对图形和轴对象的直觉。但是，让我简要地向您介绍一下axes对象的其他一些常用方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/45a319c12a29b056d56344a013b9a5ac.png" data-original-src="https://miro.medium.com/v2/format:webp/1*d3Hiu48U3__VHJ3ewjcgIQ.png"/></div></figure><p id="7c5b" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">所有在<code class="fe mo mp mq mr b">pyplot</code> API中可用的方法在<code class="fe mo mp mq mr b">ax.set_</code>中都有等价的方法。如果你使用一个通用的，<code class="fe mo mp mq mr b">ax.set()</code>方法，当你有多个支线剧情时，你会避免重复。但是，如果您需要为绘图的特定部分指定附加参数，请使用<code class="fe mo mp mq mr b">ax.set_</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/17b8fa3f6a4cb2d7522059eb74b57aa3.png" data-original-src="https://miro.medium.com/v2/format:webp/1*KmBTquHUZ6XOAbyQqS83rQ.png"/></div></figure></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><h2 id="b478" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">双重轴</h2><p id="d4a9" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">有时候，我们希望一个支线剧情有不止一个<code class="fe mo mp mq mr b">XAxis</code>或者<code class="fe mo mp mq mr b">YAxis</code>。虽然用普通的<code class="fe mo mp mq mr b">pyplot</code>接口是不可能的，但用顶级的<code class="fe mo mp mq mr b">figure</code>面向对象的API是非常容易的。假设我们想要在一个单独的绘图中绘制<code class="fe mo mp mq mr b">climate_change</code>的<code class="fe mo mp mq mr b">relative_temp</code>和<code class="fe mo mp mq mr b">co2</code>列。我们希望它们共享一个<code class="fe mo mp mq mr b">XAxis</code>,因为数据是同一时间段的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/5bc4c159b725d66cba9bf33a0b29127e.png" data-original-src="https://miro.medium.com/v2/format:webp/1*0aSTNIrS1rntomin-hh3-Q.png"/></div></figure><p id="2f96" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">我们希望有一个公共的<code class="fe mo mp mq mr b">XAxis</code>，即<code class="fe mo mp mq mr b">date</code>列，所以我们使用<code class="fe mo mp mq mr b">ax.twinx()</code>创建了另一个轴。如果在某些情况下你想要一个通用的<code class="fe mo mp mq mr b">YAxis</code>，等效的功能是<code class="fe mo mp mq mr b">ax.twiny()</code>。</p></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><h2 id="4b4e" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">在支线剧情之间共享一个公共轴</h2><p id="83e2" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">假设我们想比较八十年代和九十年代的二氧化碳排放量。理想情况下，我们会希望在一边绘制80年代，在另一边绘制90年代。因此，让我们对这两个时间段的数据进行分组:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><blockquote class="og oh oi"><p id="2851" class="lv lw oj lx b ly ms ju ma mb mt jx md ok mu mf mg ol mv mi mj om mw ml mm mn im bi translated"><strong class="lx iu">专业提示</strong>:如果您正在处理时间序列数据，请将日期列设置为数据帧的索引。使用<code class="fe mo mp mq mr b">.set_index()</code>方法或使用<code class="fe mo mp mq mr b">pd.read_csv()</code>功能中的<code class="fe mo mp mq mr b">index_col</code>参数。这将使时间段的子集设置更加容易。</p></blockquote><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/5bc893bf6d2c99395a15fb38f1cf5358.png" data-original-src="https://miro.medium.com/v2/format:webp/1*4p7gUc2CqBmp8-DWfXR6Qg.png"/></div></figure><p id="9bdb" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">很好，我们有两个并排的图，但是如果我们仔细看，我们的图是误导的。看起来两个时间段的二氧化碳排放量没有太大的差别。其原因是两个图具有不同的<code class="fe mo mp mq mr b">YAxis</code>范围。为了更好的理解，让我们来纠正它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl op"><img src="../Images/7c6f4ee93c826c0dfbab98c1a2e5cdcc.png" data-original-src="https://miro.medium.com/v2/format:webp/1*zDPo_Md-5kYXpwRA-DLX-A.png"/></div></figure><p id="80e6" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">现在，很明显，随着时间的推移，二氧化碳排放量持续增加(比现在高得多)。我们使用<code class="fe mo mp mq mr b">sharey=True</code>来指定我们想要相同的<code class="fe mo mp mq mr b">YAxis</code>给所有的支线剧情。</p></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><h2 id="f074" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">使用体形对象</h2><p id="5ea1" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">我想你已经注意到，一旦你使用<code class="fe mo mp mq mr b">.subplots()</code>命令或其他方法创建了一个图形对象，几乎所有的事情都会发生在axes对象上。<code class="fe mo mp mq mr b">figure</code>对象的一个常用方法是<code class="fe mo mp mq mr b">savefig()</code>方法。所以，让我们开始探索吧。我们将回到二氧化碳的双轴图。让我们将它保存到本地内存:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="ae7d" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">我们传递了一个文件名作为要保存的字符串。这将在根目录中保存一个同名的图像。可以使用的图像格式:</p><ol class=""><li id="a082" class="oq or it lx b ly ms mb mt li os lm ot lq ou mn ov ow ox oy bi translated"><code class="fe mo mp mq mr b">.png</code> -如果你想要高质量的图片并且不在乎磁盘空间，使用<code class="fe mo mp mq mr b">png</code>。这种格式允许无损压缩。</li><li id="3ee2" class="oq or it lx b ly oz mb pa li pb lm pc lq pd mn ov ow ox oy bi translated"><code class="fe mo mp mq mr b">.jpg</code> -有损压缩。<code class="fe mo mp mq mr b">jpg</code>图像将比<code class="fe mo mp mq mr b">png</code>的尺寸小，质量也低。如果您希望以后将图像上传到网站或任何其他类似的方式，建议使用这种格式。</li><li id="c871" class="oq or it lx b ly oz mb pa li pb lm pc lq pd mn ov ow ox oy bi translated"><code class="fe mo mp mq mr b">.svg</code> -支持动画和图像编辑。如果您想使用编辑软件(如Adobe Illustrator)修改图形，请使用这种格式。</li></ol><p id="9c36" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated"><code class="fe mo mp mq mr b">.savefig()</code>的其他参数允许控制您的图形质量:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><h2 id="0c64" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论</h2><p id="2daf" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">我希望您现在对图形和轴对象有了清晰的理解。我们只介绍了<a class="ae ky" href="https://matplotlib.org/tutorials/index.html" rel="noopener ugc nofollow" target="_blank"> Matplotlib </a>中的一种绘图方法。如果你想进一步探索，图书馆可以深入到你想要的深度。你可以在Matplotlib的官方<a class="ae ky" href="https://matplotlib.org/tutorials/index.html" rel="noopener ugc nofollow" target="_blank">文档</a>中了解更多关于图形和轴对象的方法。我强烈建议您尝试其他功能并进行实践！(顺便说一句，那是很多GitHub gists！)</p></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><p id="339f" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated"><strong class="lx iu">看看我在Medium上的其他作品:</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://towardsdatascience.com/tricky-way-of-using-dimensionality-reduction-for-outlier-detection-in-python-4ee7665cdf99?source=your_stories_page-------------------------------------"><div class="gh gi pe"><img src="../Images/8ef3b78d7af2cae5d137b6703bb15f87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lGbgfHVIScIt2T6lZDzN_Q.png"/></div></a></figure><div class="mx my gp gr mz na"><a rel="noopener follow" target="_blank" href="/mastering-catplot-in-seaborn-categorical-data-visualization-guide-abab7b2067af"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">掌握Seaborn中的catplot():分类数据可视化指南。</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">如果你能在锡伯恩做到，那就在锡伯恩做吧，#2</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">towardsdatascience.com</p></div></div><div class="nj l"><div class="pf l nl nm nn nj no ks na"/></div></div></a></div><div class="mx my gp gr mz na"><a rel="noopener follow" target="_blank" href="/master-a-third-of-seaborn-statistical-plotting-with-relplot-df8642718f0f"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">掌握Seaborn的三分之一:用relplot()统计绘图</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">如果你能在锡伯恩做到，就在锡伯恩做吧</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">towardsdatascience.com</p></div></div><div class="nj l"><div class="pg l nl nm nn nj no ks na"/></div></div></a></div></div></div>    
</body>
</html>