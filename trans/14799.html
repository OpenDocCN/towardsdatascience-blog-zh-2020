<html>
<head>
<title>Numba: JIT Compilation, But For Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Numba: JIT编译，但是用于Python</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/numba-jit-compilation-but-for-python-373fc2f848d6?source=collection_archive---------31-----------------------#2020-10-12">https://towardsdatascience.com/numba-jit-compilation-but-for-python-373fc2f848d6?source=collection_archive---------31-----------------------#2020-10-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bd2a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">快速浏览一下2020年让Python变得更好的神奇工具。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6163b37de9b0f152f1d6abce5857d7ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jkav9qrxhUN1XxMJ0lUo-g.jpeg"/></div></div></figure><h1 id="d0aa" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">介绍</h1><p id="e0ec" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi mi translated">对于程序员和计算机科学家来说，统计计算一直是一个非常困难的学科。程序员不仅在统计编程语言中寻找某些属性和特征，在通用编程语言中也是如此。随着机器学习和数据科学应用的普及，统计计算的兴起也加剧了“完美语言”发展中的这些关键问题。</p><p id="cfea" class="pw-post-body-paragraph lm ln it lo b lp mr ju lr ls ms jx lu lv mt lx ly lz mu mb mc md mv mf mg mh im bi translated">回到十年前，没有人能预料到Python中机器学习的兴起会是什么样子。大多数科学家使用R编程语言进行统计分析和类似的事情。MATLAB当然也是统计计算领域非常流行的选择，Scala也是如此。Python最近在这方面变得非常流行，因为它具有强大的统计能力</p><p id="4f6c" class="pw-post-body-paragraph lm ln it lo b lp mr ju lr ls ms jx lu lv mt lx ly lz mu mb mc md mv mf mg mh im bi translated">当然，Python是用c解释的，这意味着Python没有它的竞争对手那么快，也不适合大数据解决方案。Python本质上并不是一种为满足现代科学计算需求而构建的编译器语言。虽然Python对于大多数统计应用程序来说是一个很好的应用程序，但Python的主要缺点通常是在处理大量数据和递归训练机器学习模型时的速度。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="aa50" class="ku kv it bd kw kx nd kz la lb ne ld le jz nf ka lg kc ng kd li kf nh kg lk ll bi translated">为什么要用Python？</h1><p id="cf71" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">如果Python在处理大量数据方面有问题，并且本质上是一种解释型的高级语言，那么为什么今天许多科学家喜欢这种语言呢？答案很简单，目前，Python是最好的解决方案。虽然Python与许多其他语言相比相对较慢，但与其他语言相比，它也是非常高级的语言，并且在过去几年中一直在变得更快和更优化。</p><p id="08f9" class="pw-post-body-paragraph lm ln it lo b lp mr ju lr ls ms jx lu lv mt lx ly lz mu mb mc md mv mf mg mh im bi translated">除此之外，Python拥有当今最强大的统计计算生态系统之一。这些包中的大部分也是用C语言编写的，这使得Python经常成为非常快速的代码的简单接口。然而，无论生态系统有多强大，它都无法帮助处理海量数据和编写Pythonic算法来清理和编辑数据。</p><h1 id="c28d" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">吉特舞乐</h1><p id="3a54" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">除非你一直生活在编程的龟壳下，否则你可能熟悉——或者至少听说过一个叫做JIT的编译器概念。JIT或即时编译是一种编译器特性，它允许在运行时而不是在执行时解释和编译语言。这意味着JIT编译器在编译代码之前执行逻辑，而不是准备所有的代码来工作，决定代码要做什么，然后再去做。</p><p id="4276" class="pw-post-body-paragraph lm ln it lo b lp mr ju lr ls ms jx lu lv mt lx ly lz mu mb mc md mv mf mg mh im bi translated">这种编译器的好处当然是速度。花费在初始编译上的时间更少意味着代码可以更快地被解释。打个比方，假设你有一份晚餐要做的东西的清单。你可以采取一种多任务的方法，在同一时间做多件事情，而不是单独做所有的事情。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="1742" class="ku kv it bd kw kx nd kz la lb ne ld le jz nf ka lg kc ng kd li kf nh kg lk ll bi translated">数字概述</h1><p id="5755" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">Numba JIT编译器类似于Julia JIT编译器，使用标准的LLVM编译器库。虽然它在这方面确实有一些缺点，因为LLVM的重点不一定是JIT，但它确实意味着编译器非常快和精确。Numba编译的Pythonic算法可以达到c等低级语言中常见的速度。</p><p id="8cbb" class="pw-post-body-paragraph lm ln it lo b lp mr ju lr ls ms jx lu lv mt lx ly lz mu mb mc md mv mf mg mh im bi translated">这听起来可能很复杂，确实如此——但这并不意味着Numba很难使用。事实上，Numba非常容易使用！为了试用它，你当然需要用Python的包管理器PIP来添加它。</p><pre class="kj kk kl km gt ni nj nk nl aw nm bi"><span id="306e" class="nn kv it nj b gy no np l nq nr">sudo pip3 install numba</span></pre><p id="6b1b" class="pw-post-body-paragraph lm ln it lo b lp mr ju lr ls ms jx lu lv mt lx ly lz mu mb mc md mv mf mg mh im bi translated">安装Numba后，您可以通过jit函数访问它:</p><pre class="kj kk kl km gt ni nj nk nl aw nm bi"><span id="fe45" class="nn kv it nj b gy no np l nq nr">from numba import jit<br/>import random<br/><br/>@jit(nopython=True)<br/>def monte_carlo_pi(nsamples):<br/>    acc = 0<br/>    for i in range(nsamples):<br/>        x = random.random()<br/>        y = random.random()<br/>        if (x ** 2 + y ** 2) &lt; 1.0:<br/>            acc += 1<br/>    return 4.0 * acc / nsamples</span></pre><p id="e834" class="pw-post-body-paragraph lm ln it lo b lp mr ju lr ls ms jx lu lv mt lx ly lz mu mb mc md mv mf mg mh im bi translated">对于大多数代码，Numba在优化Python代码方面做得非常出色。然而，正如Julia开发者在JuliaCon上讨论的那样，在当前版本中，Numba仍有很长的路要走，并存在[某些代码的问题。一些问题无法通过简单的Python调用来解决，尽管Numba在创建可以轻松导入的Python优化编译器方面做得很好，但仍有一些改进需要做。</p><h1 id="460a" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">结论</h1><p id="bdaa" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">不管Python是否会一直成为科学目的和统计计算的首选编程语言，很明显Python现在肯定是这样。虽然Python不是最快的编程语言，并且在科学计算方面也有一些小问题，但对于那些希望进行统计或机器学习的人来说，它仍然是一个很好的选择。这主要是由于它的生态系统和整体受欢迎程度。</p><p id="b2e7" class="pw-post-body-paragraph lm ln it lo b lp mr ju lr ls ms jx lu lv mt lx ly lz mu mb mc md mv mf mg mh im bi translated">幸运的是，Python的许多缺陷正被有才华、有干劲的开发人员直接瞄准。随着时间的推移，这项技术很有可能会发展到当使用Python进行数据科学时，这些问题中的许多可能都不会再被感觉到。</p><p id="6226" class="pw-post-body-paragraph lm ln it lo b lp mr ju lr ls ms jx lu lv mt lx ly lz mu mb mc md mv mf mg mh im bi translated">Python最大的问题之一是速度。Numba是一系列令人敬畏的工具之一，有助于解决这个问题，并使Python达到对抗其他统计语言的标准，特别是像Julia这样的新语言。Numba令人兴奋的地方在于它使用起来非常简单，就像一个电灯开关，可以让你的代码运行得更快。反过来，这可以用来为应用程序注入新的活力，否则这些应用程序甚至可能无法运行。</p></div></div>    
</body>
</html>