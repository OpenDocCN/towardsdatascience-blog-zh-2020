<html>
<head>
<title>5 Smooth Syntactical Tricks For Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python的5个流畅语法技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-smooth-syntactical-tricks-for-python-61cd69663cc9?source=collection_archive---------16-----------------------#2020-09-24">https://towardsdatascience.com/5-smooth-syntactical-tricks-for-python-61cd69663cc9?source=collection_archive---------16-----------------------#2020-09-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8de3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过使用这些极其简单的技巧，让你的代码更加简洁和快速</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d96ab4a583d67f6a463bc500e4f4ab7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SBDG_Rbx6yEhPdtqiVjjww.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><h1 id="824b" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">介绍</h1><p id="a91c" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi mm translated">众所周知，编程可能非常复杂。伴随这种复杂性而来的还有语法的复杂性。虽然有时很容易避免在条件语句上堆叠循环，但在某些情况下，在条件语句上堆叠循环可能是您试图解决的问题的唯一解决方案。记住这一点，不管代码的大小或范围如何，都有一些简单的技巧可以让你的操作更加简洁、易读，有时甚至更快！</p><blockquote class="mv"><p id="73b5" class="mw mx it bd my mz na nb nc nd ne ml dk translated">重要提示:</p></blockquote><p id="3c77" class="pw-post-body-paragraph lq lr it ls b lt nf ju lv lw ng jx ly lz nh mb mc md ni mf mg mh nj mj mk ml im bi translated">我不喜欢强调在开发阶段编写“干净”代码的想法。关于这些技巧，要说的重要一点是，虽然它们方便简洁，但相反的往往是<strong class="ls iu">而不是错误的</strong>做事方式。换句话说，不遵循这些指导方针不会让你成为一个更差的程序员，但是会让你的代码更难看。也就是说，在调试过程中，很难用您所做的每一个测试或打印语句来编写简洁而完美的代码，所以我的建议是——不要！使用干净且格式化的代码的一个很好的方法是在代码完成并工作后<strong class="ls iu">让它干净并格式化。</strong></p></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><h1 id="26fb" class="ky kz it bd la lb nr ld le lf ns lh li jz nt ka lk kc nu kd lm kf nv kg lo lp bi translated">№1:不是</h1><p id="929a" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">Python编程语言中一个我认为经常被忽视的伟大特性就是它的英语式语法是多么的直观。如何表达这一点的一个很好的例子是not的用法。要完全否定一个布尔值，就像写出一个英文负数一样简单。这当然也适用于条件语句，比如:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="fc2c" class="ob kz it nx b gy oc od l oe of">if number not in list:</span></pre><p id="1a8c" class="pw-post-body-paragraph lq lr it ls b lt og ju lv lw oh jx ly lz oi mb mc md oj mf mg mh ok mj mk ml im bi translated">当然，如果给定的数字不在列表中，这个条件将返回true。这是一种非常简单明了的方法，使得解决这样的问题变得轻而易举。考虑下面的例子:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="e6d7" class="ob kz it nx b gy oc od l oe of">def toggle_switch(self):<br/>    if self.toggled == false:<br/>        self.toggled = true<br/>    else:<br/>        self.toggled = false</span></pre><p id="4891" class="pw-post-body-paragraph lq lr it ls b lt og ju lv lw oh jx ly lz oi mb mc md oj mf mg mh ok mj mk ml im bi translated">这段代码当然可以很好地切换开关，但是坦白地说，这是浪费代码行。我们可以用not简单地否定布尔值，而不是首先做一个条件语句。</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="5484" class="ob kz it nx b gy oc od l oe of">def toggle_switch(self):<br/>    self.toggled = not self.toggled</span></pre><h1 id="d65b" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">№2:加/减断言</h1><p id="740f" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我不喜欢在代码中看到的一件事是:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="60ea" class="ob kz it nx b gy oc od l oe of">newvar = newvar - 5</span></pre><p id="ccb6" class="pw-post-body-paragraph lq lr it ls b lt og ju lv lw oh jx ly lz oi mb mc md oj mf mg mh ok mj mk ml im bi translated">这当然是正确的。它将从我们的变量中减去5，并将我们的别名设置为等于差值。然而，我们可以让它看起来更整洁，特别是当它被更多的代码包围时，只需使用-=操作符。</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="20e0" class="ob kz it nx b gy oc od l oe of">newvar -= 5</span></pre><p id="b18d" class="pw-post-body-paragraph lq lr it ls b lt og ju lv lw oh jx ly lz oi mb mc md oj mf mg mh ok mj mk ml im bi translated">与后者相比，我更喜欢后者，因为查看单个操作数更容易理解发生了什么，而不是查看两个操作数的组合并辨别回报是什么。当然，这只是个人偏好，但我确实认为很难争论它是否看起来更好。</p><h1 id="732a" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">№3:反转列表</h1><p id="0a9c" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">你曾经需要改变你的生活吗？事情没有按照你的清单进行，而你希望事情是相反的吗？幸运的是，Python的列表类型有一个默认函数reverse()，它允许您这样做。</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="8886" class="ob kz it nx b gy oc od l oe of">arr = [5,10,15]<br/>revarr = arr.reverse()<br/>print(revarr)</span><span id="7c5d" class="ob kz it nx b gy ol od l oe of">[15,10,5]</span></pre><h1 id="e89c" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">№4:转置矩阵</h1><p id="8e68" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在处理线性代数和大型矩阵时，你可能会遇到的一个问题就是转置这些矩阵。当然，您总是可以通过对矩阵使用Numpy来实现这一点，但是也可以尝试使用zip()方法！</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="dc51" class="ob kz it nx b gy oc od l oe of">x = [[37,22],<br/>[48 ,29],<br/>[18 ,12]]</span><span id="8137" class="ob kz it nx b gy ol od l oe of">print (zip(*x))</span><span id="a0d9" class="ob kz it nx b gy ol od l oe of">[(37, 48, 18), (22, 29, 12)]</span></pre><h1 id="d377" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">№5:系列变量</h1><p id="3815" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">通常，在Pythonic代码中，您可以命名几个变量来执行算术运算，如下所示:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="e903" class="ob kz it nx b gy oc od l oe of">a = 5<br/>b = 8<br/>c = 9</span></pre><p id="f77b" class="pw-post-body-paragraph lq lr it ls b lt og ju lv lw oh jx ly lz oi mb mc md oj mf mg mh ok mj mk ml im bi translated">当然，像许多其他人一样，这当然是正确的！如您所料，这会将a分配给5，b分配给8，c分配给9。然而，我们可以将这三行断言压缩成一行，如下所示:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="8030" class="ob kz it nx b gy oc od l oe of">a, b, c = 5, 8, 9</span></pre><p id="29d7" class="pw-post-body-paragraph lq lr it ls b lt og ju lv lw oh jx ly lz oi mb mc md oj mf mg mh ok mj mk ml im bi translated">这当然会产生相同的结果。在我看来，这看起来比后者好得多。当然这不是必须的，是喜好问题。然而在我看来，它一定会让你的作品看起来漂亮很多！</p><h1 id="b61e" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">№6:(奖金)计数器</h1><p id="8ad7" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在数据科学中，很有可能会遇到这样的情况，他们可能希望从列表中抽取计数。这可能是为了检查样本中某些属性的表示，或者只是为了查看给定特性中的所有选项。获取列表中计数的最佳方式是使用集合模块中的计数器，如下所示:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="166e" class="ob kz it nx b gy oc od l oe of">from collections import Counter<br/>lst = [4, 3, 3, 2, 4, 3]<br/>print(Counter(lst))<br/>Counter({3: 3, 4: 2, 2: 1})</span></pre><p id="a15d" class="pw-post-body-paragraph lq lr it ls b lt og ju lv lw oh jx ly lz oi mb mc md oj mf mg mh ok mj mk ml im bi translated">这将返回一个字典，其中包含列表中每个唯一观察值的键和它们各自的计数。</p></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><h1 id="e329" class="ky kz it bd la lb nr ld le lf ns lh li jz nt ka lk kc nu kd lm kf nv kg lo lp bi translated">结论</h1><p id="da31" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">代码肯定会很快变得糟糕透顶。对Python程序员来说幸运的是，Python有很多相当简单的方法来解决和防止难看的代码。从简单的关键字，如不否定布尔和改变条件，到非常简单的方法来创建交叉列表和转置矩阵。虽然这些技巧中只有一部分可能会让您的代码工作得更好一点，或者运行得更快一点，但所有这些技巧肯定会让您的代码看起来更好。归根结底，可读性是非常重要的，尤其是对你可能与之共事的其他人而言。因此，记住这一点，考虑本文中提出的要点，整理您的代码！</p></div></div>    
</body>
</html>