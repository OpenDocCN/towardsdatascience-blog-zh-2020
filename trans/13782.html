<html>
<head>
<title>How to Create User-Defined Functions in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python中创建用户定义的函数</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-create-user-defined-functions-in-python-e5a529386534?source=collection_archive---------2-----------------------#2020-09-22">https://towardsdatascience.com/how-to-create-user-defined-functions-in-python-e5a529386534?source=collection_archive---------2-----------------------#2020-09-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="336c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过定义您自己的函数来提升您的Python游戏</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/85d20f3c1b280da3830340547b4b0945.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HV_vlIGK3ecUQyV25yiNkw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ky kz ep" href="https://medium.com/u/4d32c78bd7f8?source=post_page-----e5a529386534--------------------------------" rel="noopener" target="_blank">拉杆脚轮</a></p></figure><p id="4224" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">你有没有想过，“我希望Python有一个做________的函数。”填空。如果是这样，我有个好消息！Python让您能够创建自己的自定义函数。有几件事你需要明白，但这并不难做到。所以让我们开始吧。</p><p id="627f" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">自定义函数是很好地打包可重用代码块的好方法。在最基本的层面上，自定义函数只需要五个组件:</p><ol class=""><li id="ff96" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">使用<em class="mf"> def </em>关键字开始函数定义。</li><li id="2b56" class="lw lx it lc b ld mg lg mh lj mi ln mj lr mk lv mb mc md me bi translated">说出你的函数。</li><li id="3539" class="lw lx it lc b ld mg lg mh lj mi ln mj lr mk lv mb mc md me bi translated">提供一个或多个参数。<em class="mf">实际上参数是可选的，但是括号不是。</em>后跟冒号。</li><li id="c09e" class="lw lx it lc b ld mg lg mh lj mi ln mj lr mk lv mb mc md me bi translated">输入代码行，让你的函数做任何事情。输入代码，此处的<em class="mf"> #逻辑</em>如下面的示例代码所示。</li><li id="edf0" class="lw lx it lc b ld mg lg mh lj mi ln mj lr mk lv mb mc md me bi translated">在函数末尾使用return关键字返回输出。这也是可选的。如果省略，该函数将返回None。</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="98b2" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如您所见，函数的基本框架很简单。让我们停止玩理论思维，创建一个实际的功能。</p><h1 id="ce67" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">函数名</h1><p id="42e5" class="pw-post-body-paragraph la lb it lc b ld nf ju lf lg ng jx li lj nh ll lm ln ni lp lq lr nj lt lu lv im bi translated">每个函数都需要一个名字。否则，当您需要使用它时，就无法在代码中引用它。给你的函数起一个直观的名字。如果您的函数的目的是对您通过参数列表发送给它的所有数字求和，请将其命名为<em class="mf"> add_nums() </em>或<em class="mf"> sum_the_numbers() </em>。不要将其命名为<em class="mf"> s() </em>或<em class="mf"> function1()。最后两个是糟糕的选择。记住，代码是由人类阅读的。</em></p><p id="ccfa" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">此外，函数名后面必须跟一组括号。如果你不需要任何参数，括号将是空的，但它们必须存在。然后用冒号结束定义行。冒号表示该行下面的任何缩进行都是函数的一部分。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="7e86" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">因素</h1><p id="8c55" class="pw-post-body-paragraph la lb it lc b ld nf ju lf lg ng jx li lj nh ll lm ln ni lp lq lr nj lt lu lv im bi translated">一旦命名了函数，就要决定所需的参数。参数或自变量用于将相关数据传递给函数。这个函数能把多少个数字加在一起？如果没有提供参数，将使用默认值吗？论点的顺序是什么？</p><p id="3306" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">参数被插入到函数名后面的括号中。它们由逗号分隔。同样，使用直观的名称，这样您可以很容易地回忆起每个参数的用途。</p><p id="9853" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果我们的函数只将两个数相加，我们可以创建两个参数，<em class="mf"> num1 </em>和<em class="mf"> num2 </em>。如果我们改变函数来添加三个数字，我们可以添加第三个参数，<em class="mf"> num3 </em>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="b0fd" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果您选择为参数分配默认值，只需将当前参数名称替换为<em class="mf"> num1=0 </em>和<em class="mf"> num2=0 </em>。0应该替换为您想要分配的任何默认值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="aff5" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">通常，当你执行一个函数时，你会使用一行类似于<em class="mf"> sum_the_numbers (5，3) </em>的代码来调用它。通过提供默认值，您可以从代码的执行行中省略一个或多个参数，函数仍然会运行，只使用默认值。</p><h1 id="3bc5" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">逻辑</h1><p id="7c83" class="pw-post-body-paragraph la lb it lc b ld nf ju lf lg ng jx li lj nh ll lm ln ni lp lq lr nj lt lu lv im bi translated">现在让我们给函数添加一些逻辑。这就是函数将数字相加的原因。如果您正在执行一个简单的任务，例如将两个数字相加，这一部分可能会很短。或者，对于更复杂的任务，这一部分可能有数百行代码。记住，作为函数一部分的所有代码行都必须像下面的<em class="mf"> total = num1 + num2 </em>行一样缩进。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="ce0d" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">返回值</h1><p id="bf74" class="pw-post-body-paragraph la lb it lc b ld nf ju lf lg ng jx li lj nh ll lm ln ni lp lq lr nj lt lu lv im bi translated">既然您的代码已经完成了规定的工作，您可能需要也可能不需要向调用您的函数的进程返回值。如果不需要返回值，可以省略<em class="mf"> return </em>语句。然而，在这个示例函数中，我们需要返回总和。该行是<em class="mf">返回总计</em>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="836f" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">return语句将存储在total中的值发送回执行该函数的代码段。通常会有一个变量来存储返回值。例如，<em class="mf">求和= sum_the_numbers (5，3) </em>。该函数返回的值将存储在<em class="mf">求和</em>变量中。现在我们已经拥有了成功实现函数的所有必要组件，让我们看看如何在代码段中执行它。</p><h1 id="5c31" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">执行功能</h1><p id="3428" class="pw-post-body-paragraph la lb it lc b ld nf ju lf lg ng jx li lj nh ll lm ln ni lp lq lr nj lt lu lv im bi translated">每当我们执行一个用户定义的函数时，我们使用带有任何必需参数的函数名。如果函数返回值，我们通常会对它的输出做一些事情。我们可以把它打印出来，存储在一个变量中，或者发送到另一个函数中。假设我们要将输出存储在一个变量中，我们的函数执行可能类似于下面的代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="87b2" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果我们选择将返回值直接打印到屏幕上，我们可以使用下面的代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="98f7" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">请记住，当您调用您的函数时，参数必须按照您在函数定义中列出的顺序提供，<em class="mf"> num1 </em>后跟<em class="mf"> num2 </em>。但是，如果您忘记了顺序，只要在执行函数时指定参数关键字，就可以更改顺序。当使用参数关键字时，该命令将类似于<em class="mf"> sum_the_numbers (num2=5，num1=10) </em>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="f4b7" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">不确定数量的参数</h1><p id="fbbe" class="pw-post-body-paragraph la lb it lc b ld nf ju lf lg ng jx li lj nh ll lm ln ni lp lq lr nj lt lu lv im bi translated">我相信你已经看出我们设计的问题了。每次我们希望添加更多的数字时，我们都需要添加另一个参数。但是有一种方法可以处理函数中无限多的参数。使用*args技术，而不是在函数定义的括号中列出每个参数名。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="b010" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">当一个*跟在一个参数名后面时，它表示可以向该函数传递任意数量的参数。这将创建一个参数值列表。您只需在函数中解包args列表。我们功能上的这一小小变化使它变得更加灵活。</p><h1 id="ce41" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">把所有的放在一起</h1><p id="f422" class="pw-post-body-paragraph la lb it lc b ld nf ju lf lg ng jx li lj nh ll lm ln ni lp lq lr nj lt lu lv im bi translated">通常，用户定义的函数和执行它的代码在同一个Python脚本中。在我们的例子中，整个脚本看起来像这样。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="6d4c" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">标准的用户定义函数使用起来很简单，但是对于开发人员来说是一个非常强大的工具。当然，用户定义的函数不会因为这种标准方法而停止。如果你在网上或者从深夜的电视购物节目中买东西，你会期望花19.95美元得到更多。用户定义的函数也是如此。</p><h1 id="7e29" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">匿名函数</h1><p id="57dc" class="pw-post-body-paragraph la lb it lc b ld nf ju lf lg ng jx li lj nh ll lm ln ni lp lq lr nj lt lu lv im bi translated">如果你喜欢标准的用户定义函数，你会喜欢匿名的用户定义函数。这些函数是在您需要的地方内联编写的，没有名称，也没有适当的定义语法。这些函数也被称为理解函数或λ函数。</p><p id="39a4" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">对于这个例子，假设我们的场景和上面一样。我们需要一个能将两个数相加的函数。我们可以使用lambda函数来代替sum_the_numbers 函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="0d17" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">Lambda是用来定义这些函数的Python关键字，而不是<em class="mf"> def </em>。因此，它们通常被称为<em class="mf">λ</em>函数。</p><p id="7642" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在这个lambda函数的例子中，我们将变量answers定义为函数本身。然后，当我们引用变量名时，我们只需传入所需的参数。结果是一个伪装成动态变量的匿名函数。</p><p id="0e7f" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">简而言之，匿名函数的语法是<em class="mf">lambda argument _ list:expression</em>。</p><p id="7677" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">让我们的例子更进一步，假设这个场景从一个数字列表开始。我们需要通过平方第一个列表中的每个数字来创建一个新的数字列表。我们可以像上面那样创建一个标准的用户定义函数来完成这个任务。但是，我们决定使用匿名函数。</p><p id="60b3" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">为了遍历列表，我们使用Python的map函数。map函数有两个参数。第一个是函数。在这种情况下，它将是一个匿名函数。第二个参数是一些可迭代的数据，比如我们要平方的数字列表。map函数将获取iterable中的每一项，通过指定的函数运行它，并将输出附加到一个新的iterable数据结构中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="00fd" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这段代码中的<em class="mf"> list() </em>函数将map函数的默认可迭代输出(map对象)转换为Python列表。列表在我们代码的其余部分更容易使用。</p><p id="52ab" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">同样，你可以看到，与下面使用的标准方法相比，我们的lambda代码相对较短。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="4be1" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">结论</h1><p id="950d" class="pw-post-body-paragraph la lb it lc b ld nf ju lf lg ng jx li lj nh ll lm ln ni lp lq lr nj lt lu lv im bi translated">投入必要的时间来学习如何用Python实现用户定义的函数。他们很强大。他们创建可重用的代码块。他们帮助组织你的代码。如果您开始使用面向对象编程技术，它们是绝对必要的。用户自定义函数是现代开发人员必备的工具。</p></div></div>    
</body>
</html>