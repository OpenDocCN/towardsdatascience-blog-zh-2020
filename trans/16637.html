<html>
<head>
<title>How to Take Your Programming Skills to The Next Level</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何让你的编程技能更上一层楼</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/take-your-programming-skills-to-the-next-level-bad506a1031c?source=collection_archive---------38-----------------------#2020-11-16">https://towardsdatascience.com/take-your-programming-skills-to-the-next-level-bad506a1031c?source=collection_archive---------38-----------------------#2020-11-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="9755" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">编程技能</h2><div class=""/><div class=""><h2 id="e3b8" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">遵循简单干净的代码原则，开发简单、可扩展、易读、易维护的程序。</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/7c222a2bfe18aa0433ecdeed88a6fd65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6lKdekqxnPBZQzp0"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">尼古拉斯·酷(Nicolas Cool)在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="7c5f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">你曾经访问过你最近写的函数吗？也许你需要更新一个功能。但是，由于代码相当复杂，您通过使用“如果它有效，就不要碰它”的原则，让代码保持原样？</p><p id="8370" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果你现在打开你的遗留代码，你能马上理解它们吗？或者也许你需要花至少几分钟来记住代码是关于什么的？</p><p id="4929" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果你需要花更多的时间浏览，那么这篇文章很可能适合你。这里我们谈谈<strong class="lh ja">在不浪费时间的情况下理解遗产代码的方法</strong> <strong class="lh ja">。</strong></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/77d2815547fbb6922f5cdb7bbdc77149.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*URLGjKDvVmRN67xmL7arVQ.jpeg"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">图片来源:<a class="ae le" href="https://www.quora.com/profile/Nick-Pappas-2" rel="noopener ugc nofollow" target="_blank">尼克·帕帕斯</a>上<a class="ae le" href="https://www.quora.com/What-do-people-not-tell-you-about-being-a-software-engineer" rel="noopener ugc nofollow" target="_blank"> Quora </a></p></figure><p id="9caf" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果你遵循我们在这篇文章中描述的原则，你可能不需要浪费更多的时间去理解你的遗留代码，因为它们永远不会过时。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mc"><img src="../Images/71bee3f67601bdf4d9ec3eb22ee93a16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q8g83XYRxovYxsjk"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://unsplash.com/@californong?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">农旺</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="c1b3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">最近，我开始创建一个图书馆。久而久之，库已经超过了几千行。有趣的是，随着库变得更先进，一些意想不到的问题开始出现。</p><blockquote class="md me mf"><p id="c2cb" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">随着代码规模的增长，实现新的功能需要更多的时间。</p></blockquote><p id="6068" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">由于该库处于开发阶段，它可能会有一些功能部件表现不佳。</p><p id="db37" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">例如，一个函数可能会因为单元测试中没有考虑到的极端输入值而失败。</p><p id="5584" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这就是为什么每当我实现使用库的其他部分的新功能时，首先，我需要花一些时间来理解相关的函数。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mk"><img src="../Images/859876302565b63c3e2c7739888f9942.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0Okkulm4iB0T4SH5"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">乔治·帕甘三世在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b905" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在检查了一个新功能并处理了失败的部分之后，随着时间的推移，同一个功能的其他部分会被破坏。</p><p id="d571" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当我回到最近重构的函数时，我发现自己几乎什么都不记得了。我不得不重新检查相同的功能。</p><p id="86fb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这个问题导致我来回地去理解一些代码片段大部分时间在做什么。</p><p id="d4c2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在某种程度上，我已经停下来，并开始寻找什么是错的。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ml"><img src="../Images/b538454059a1317f8b465a67e62b9427.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*D8VSic4_mKjsnRNq"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">尼古拉斯·酷在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="222b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当我在寻找解决方案时，我发现了一个“干净代码”视频课程[1]，它是由《干净代码》一书的作者Robert C.Martin准备的。</p><p id="5557" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">最后，在干净代码视频课程的帮助下，我已经解决了我所有的问题。不再有导致我浪费时间的糟糕的实现代码。</p><h1 id="2976" class="mm mn iq bd mo mp mq mr ms mt mu mv mw kf mx kg my ki mz kj na kl nb km nc nd bi translated">解决方案是干净的代码</h1><p id="0d1b" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">在这里，我整理了《干净的代码》系列中的一些关键规则，即使过了几个星期，我仍然记得。通过应用干净代码原则，我所有的问题都解决了。</p><blockquote class="nj"><p id="04b6" class="nk nl iq bd nm nn no np nq nr ns ma dk translated">永远不要浪费时间借助干净的代码来理解一个函数的行为。</p></blockquote><figure class="nu nv nw nx ny kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nt"><img src="../Images/8379bd8c3aa7f9c928e222344047ab81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Bp2T6545-UVLuHTx"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@dollargill?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">美元吉尔</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><h1 id="04ef" class="mm mn iq bd mo mp mq mr ms mt mu mv mw kf mx kg my ki mz kj na kl nb km nc nd bi translated">1 —命名</h1><blockquote class="md me mf"><p id="77c2" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">每个变量、类和函数名都应该描述自己。[1]</p></blockquote><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nt"><img src="../Images/7fbf3a334c6f17651495267e7a1dddca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G_8f7xymNHTb1g01"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://unsplash.com/@guillaume_t?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Guillaume TECHER </a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="9517" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们从回顾下面这段代码开始，这段代码是我在参加Clean Code视频课程之前写的。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nz oa l"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">示例1:在重构命名之前</p></figure><p id="a74b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在这里，我们可以看到我们有一个网飞数据集，它提供了一种在数据集文件中加载电影的方法。</p><p id="893b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当我们深入研究这个函数的实现时，乍一看很难理解它到底在做什么。</p><p id="3a88" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在让我们看下面的代码片段，例1.1，它做的事情和例1完全一样。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nz oa l"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">示例1.1-重构命名后</p></figure><p id="af27" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在代码示例1.1中，我们再次有一个加载电影的网飞数据集。但是，这一次，当我们查看load movies函数时，我们可以详细了解代码在做什么。</p><blockquote class="nj"><p id="3708" class="nk nl iq bd nm nn no np nq nr ns ma dk translated">看代码就像一个英文脚本。</p></blockquote><p id="70e2" class="pw-post-body-paragraph lf lg iq lh b li ob ka lk ll oc kd ln lo od lq lr ls oe lu lv lw of ly lz ma ij bi translated">你甚至不需要阅读除了前7行之外的任何代码来理解代码在做什么，这与示例1相反，在示例1中，我们需要阅读所有的12行，并且还要弄清楚代码在做什么。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nt"><img src="../Images/5de525deb30b84da2dc1652d296309fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fUY0lHLd9OnJWFLa"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">詹姆斯·巴尼特在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="e60e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在例1.1中，我们看到我们已经命名了很长时间的助手函数，这些函数只打算被load_movies函数使用。</p><p id="2105" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因为没有其他函数会调用这些辅助函数，所以我们可以随心所欲地命名它们，对吗？</p><p id="e289" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">一天结束时，没有人再调用它们，我们只是在这里调用它们来给出有意义的函数名，并使代码本身更具描述性，而不需要任何注释。</p><p id="746a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">此外，程序员通常需要理解load_movies函数在做什么，而不是理解它的实现细节，比如如何转换格式以及如何准确地从输入文件中读取数据。</p><p id="37bd" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果一个程序员想弄清楚它们，那么他总是可以访问各自的私有函数，这些私有函数只由load_movies函数使用。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi og"><img src="../Images/00a4848021d4243084024d88c04d5d71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q9rrO9Iz_sqBa2Cy"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@dtravisphd?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">大卫·特拉维斯</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="da98" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">简而言之，我们应该有<strong class="lh ja">长的描述性名字，带有私有函数</strong>，这些函数会被调用一两次。</p><p id="6b5c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">此外，我们应该有简短明了的公共函数，因为不同的程序员会多次调用它们。</p><blockquote class="md me mf"><p id="eb2f" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">最后，<strong class="lh ja">函数应该有不超过2到3个参数</strong>以增加可读性。</p></blockquote><h1 id="ad47" class="mm mn iq bd mo mp mq mr ms mt mu mv mw kf mx kg my ki mz kj na kl nb km nc nd bi translated">2 —注释</h1><blockquote class="md me mf"><p id="d2bf" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">注释意味着不能写出干净的代码。如果任何注释存在于公共API之外，接受你的失败。[1]</p><p id="b74e" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">如果有任何评论，那么知道是很重要的。[1]</p></blockquote><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oh"><img src="../Images/d26ae0d5233a5248bd96a559ffdc58ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r42Kf4jEKUeY-7F7"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://unsplash.com/@tfcardoso?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">蒂亚戈·卡多佐</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="9903" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们回顾一下下面的代码，例2。同样，你根本不需要理解它。仅仅通过查看代码，我们就可以看到存在相当多的注释来使代码更容易理解。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nz oa l"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">示例2:重构之前</p></figure><p id="285b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在示例2中，我们看到数据有一个时间约束，可以是时间框约束或最大限制约束。</p><p id="0ab1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为了理解代码，我们需要阅读代码的每一行，包括注释。即使全部看完，你可能还是对这个时间约束的目的细节不太满意。</p><p id="41b1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在让我们来看看下面的代码，它是我在应用干净代码原则后写的。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nz oa l"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">示例2.1:重构后(重要部分)</p></figure><p id="6927" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在这里，我们看到存在两种取决于间隔的时间约束。如果间隔有效并且属于预期类型，则满足约束，否则不满足约束。</p><blockquote class="md me mf"><p id="0218" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">"在这里，我所做的唯一一件事就是试图删除评论."</p></blockquote><p id="f6f2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如您所见，没有注释和复杂代码的17行代码传达了与旧版本的58行代码相同的信息。</p><p id="5001" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">以下代码片段是示例2.1的其余代码。</p><p id="7ad7" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因为我们的目的是理解TimeConstraint类在做什么，我们甚至不需要回顾这段代码。因为，从它的名字区间来看，很清楚这个类是干什么的。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nz oa l"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">示例2.2:重构后(剩余部分)</p></figure><h1 id="dd9d" class="mm mn iq bd mo mp mq mr ms mt mu mv mw kf mx kg my ki mz kj na kl nb km nc nd bi translated">3 —功能长度</h1><blockquote class="md me mf"><p id="9465" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">尽可能减少函数长度，直到不能。[1]</p><p id="cb07" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">最佳函数长度为4到10行。[1]</p></blockquote><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mc"><img src="../Images/d8658c81663dee15e4b059e2d778b17a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JeiXniNDhzZu3bet"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">沙哈达特·拉赫曼在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ed12" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们回顾一下示例3，它加载了网飞数据集的用户电影评级数据。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nz oa l"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">示例3:重构之前</p></figure><p id="d92a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这里我们看到49行长load_ratings函数。这个函数到底是如何实现其功能的还不太清楚。我们需要阅读每一行代码来彻底理解它。</p><p id="9c63" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在让我们来看看代码的新版本，例3.1，它遵循干净代码规则。</p><p id="a8bd" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这里我们看到</p><p id="7a05" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们有7行长负载额定值函数。load_ratings函数本身很好地描述了它所做的事情，没有任何注释。我们甚至不需要阅读其他私有函数来理解代码。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nz oa l"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">示例3.1:重构后</p></figure><h1 id="d7a6" class="mm mn iq bd mo mp mq mr ms mt mu mv mw kf mx kg my ki mz kj na kl nb km nc nd bi translated">4-文件长度</h1><blockquote class="md me mf"><p id="55b4" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">文件应该平均50-100行，最多500行。[1]</p></blockquote><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oi"><img src="../Images/52b19cc22edf81ae0b6f10e105fc702e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FEDBO4UGU3xQ0jSF"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@qwitka?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Maksym Kaharlytskyi </a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="d1b6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">最后但同样重要的是，现在让我们回顾一下来自推荐系统库的一个代码文件<a class="ae le" href="https://github.com/NicolasHug/Surprise" rel="noopener ugc nofollow" target="_blank">惊喜</a>。</p><p id="2991" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在示例4中，我们可以看到代码片段超过700行！</p><p id="8319" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">尝试阅读代码片段，您很可能会被冗长的注释卡住。</p><ul class=""><li id="52be" class="oj ok iq lh b li lj ll lm lo ol ls om lw on ma oo op oq or bi translated">它包括对库文档的不可理解的格式注释。</li></ul><p id="25f3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">即使从这个库的设计者的角度来看，将文档放在代码内部可能很容易，但这确实使代码难以阅读，并且还会产生很大很长的文件。</p><blockquote class="md me mf"><p id="8fcc" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">永远不要在评论中放HTML或者任何格式的文本。这使得注释和代码难以阅读。</p></blockquote><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nz oa l"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">实例4</p></figure><h1 id="a5b4" class="mm mn iq bd mo mp mq mr ms mt mu mv mw kf mx kg my ki mz kj na kl nb km nc nd bi translated">应用干净代码原则后的变化</h1><p id="bb9d" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">在接下来的几周里，在应用干净代码原则后，我的代码中开始出现以下症状:</p><ul class=""><li id="71d2" class="oj ok iq lh b li lj ll lm lo ol ls om lw on ma oo op oq or bi translated">代码是任何人都完全可读的，不仅仅是程序员。</li><li id="3d35" class="oj ok iq lh b li os ll ot lo ou ls ov lw ow ma oo op oq or bi translated">除了他们想理解的函数，没有人需要阅读更多的代码。</li><li id="2d06" class="oj ok iq lh b li os ll ot lo ou ls ov lw ow ma oo op oq or bi translated">代码看起来简单、漂亮、简短。</li><li id="60be" class="oj ok iq lh b li os ll ot lo ou ls ov lw ow ma oo op oq or bi translated">没有一个代码文件看起来令人生畏，难以理解。</li><li id="48e5" class="oj ok iq lh b li os ll ot lo ou ls ov lw ow ma oo op oq or bi translated">任何功能都比以往任何时候都更容易构建。</li><li id="9c7a" class="oj ok iq lh b li os ll ot lo ou ls ov lw ow ma oo op oq or bi translated">缩放也相当容易。</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ox"><img src="../Images/6500befd43e09d0387ed976f32cdace4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3-HEkx5-DclHqzLK"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@lephunghia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Nghia Le </a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="46fa" class="mm mn iq bd mo mp mq mr ms mt mu mv mw kf mx kg my ki mz kj na kl nb km nc nd bi translated">干净代码原则有用吗？</h1><p id="fec4" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">从我的角度来看，只要阅读17行代码就能理解这58行庞大的代码在做什么。</p><p id="c905" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这些原则使得代码更易维护、更干净、更简单，并且成本更低，因为没有程序员会浪费时间去理解它。</p><p id="6326" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在使用干净代码原则之前，每当我回到一个无法理解的代码片段时，我会浪费相当多的时间去理解代码，而在这段时间里，我本可以为项目设计和实现新的特性。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oy"><img src="../Images/6009ca0ee55c0f65177f9d5e58ee319d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QEwdepEIY0k5iEMV"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@paulamx22?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">玛利亚·宝拉·孔特雷拉斯</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><h1 id="b751" class="mm mn iq bd mo mp mq mr ms mt mu mv mw kf mx kg my ki mz kj na kl nb km nc nd bi translated">干净代码原则</h1><p id="bc46" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">总而言之，我可以说，只要习惯了我在下面总结的干净代码原则，你就可以创造出更专业的代码。</p><p id="ea82" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">生成的代码简单、可伸缩、易读，并且易于维护。</p><blockquote class="md me mf"><p id="7ef9" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">1-每个变量、类、函数名都应该描述自己。</p><p id="77ea" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">2-函数最多应该有2到3个参数来增加可读性。</p><p id="6a6d" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">3-如果有任何评论，那么知道是很重要的。</p><p id="aec1" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">4-注释意味着不能写出干净的代码。如果任何注释存在于公共API之外，接受你的失败。</p><p id="0d91" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">5-尽可能缩短函数长度，直到你做不到为止。</p><p id="241c" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">6-最佳功能长度为4到10行。</p><p id="7bcc" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">7-文件应该平均50-100行，最多500行。</p><p id="4c7c" class="lf lg mg lh b li lj ka lk ll lm kd ln mh lp lq lr mi lt lu lv mj lx ly lz ma ij bi translated">永远不要在评论中放HTML或者任何格式的文本。这使得注释和代码难以阅读。</p></blockquote><p id="d15b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">从我数百次不同的Github代码检查中，我意识到几乎没有一个程序员遵循所有的干净代码原则。</p><p id="df0b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在您的代码中尽可能多地尝试它们，看看我得到的症状是否也会出现在您的代码中。</p><p id="91b7" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这些原则绝不是提高编程技能的全面清单。这些只是干净代码系列中所有技术的一小部分。还有很多其他的技巧可以让你更加进步。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oz"><img src="../Images/9a434df8c7948229ad00dcf5463cb2bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IpRKhxK_JWvwmsUM"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">克里斯托夫·杰施克在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="7e39" class="mm mn iq bd mo mp mq mr ms mt mu mv mw kf mx kg my ki mz kj na kl nb km nc nd bi translated">接近尾声</h1><p id="dc20" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">我希望您现在有动力开始学习干净代码原则，并在很大程度上提高您的编程技能。</p><p id="4550" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">尝试应用八个干净代码原则，并随意分享你对它们的感受。</p><p id="e4c7" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">想象一下，如果您可以通过使用Clean代码中定义的一些令人惊讶的有趣技术来学习如何确保一切都遵循这些规则。</p><p id="65b8" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">你可以通过参加视频课程或阅读我们在下面提供的参考书籍，发现如何具体实施这些原则。</p><h2 id="a320" class="pa mn iq bd mo pb pc dn ms pd pe dp mw lo pf pg my ls ph pi na lw pj pk nc iw bi translated">进一步研究</h2><div class="pl pm gp gr pn po"><a href="https://medium.com/cyber-explorer/growing-professional-programming-skills-577b7cc76187" rel="noopener follow" target="_blank"><div class="pp ab fo"><div class="pq ab pr cl cj ps"><h2 class="bd ja gy z fp pt fr fs pu fu fw iz bi translated">不断增长的专业编程技能</h2><div class="pv l"><h3 class="bd b gy z fp pt fr fs pu fu fw dk translated">将您的编程能力从中级过渡到专业。</h3></div><div class="pw l"><p class="bd b dl z fp pt fr fs pu fu fw dk translated">medium.com</p></div></div><div class="px l"><div class="py l pz qa qb px qc ky po"/></div></div></a></div><p id="cd18" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">[1]罗伯特·C·马丁，干净代码视频系列(2016)</p><p id="427c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">[2] Robert C.Martin，干净的架构:软件结构和设计的工匠指南</p></div></div>    
</body>
</html>