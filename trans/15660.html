<html>
<head>
<title>Sentiment Analysis &amp; Entity Extraction with AWS Comprehend</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS理解的情感分析和实体提取</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/sentiment-analysis-entity-extraction-with-aws-comprehend-618a7bec60b8?source=collection_archive---------17-----------------------#2020-10-28">https://towardsdatascience.com/sentiment-analysis-entity-extraction-with-aws-comprehend-618a7bec60b8?source=collection_archive---------17-----------------------#2020-10-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3558" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在Python中使用AWS Lambda、Boto3和understand执行高级NLP任务的快速概述</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e37f30d730064dce5e57577a957ed412.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oMQun4oLQWF6w-6XH617tw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://unsplash.com/photos/oyXis2kALVg" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><h1 id="5606" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="410a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">亚马逊网络服务(AWS)一直在不断扩展其在各个领域的机器学习服务。<strong class="lt iu"> AWS领悟</strong>是自然语言处理的AWS发电站(<strong class="lt iu"> NLP </strong>)。NLP中常见的两个项目有<strong class="lt iu">情感分析</strong>和<strong class="lt iu">实体提取</strong>。我们经常使用NLTK、Spacy、Transformers等库从头开始构建定制模型<strong class="lt iu">。虽然定制模型肯定有它们的用途，并且当你对你要解决的问题有领域知识时表现得特别好，但是从头开始构建它们也是非常耗时的。这就是AWS intensive的用武之地，它为情感分析和其他NLP任务提供高级服务。对于本文，我们将使用理解进行情感分析和实体检测。为了通过AWS understand访问这些服务，我们使用了另一个名为<strong class="lt iu"> AWS Lambda </strong>的AWS服务。Lambda是一个无服务器的计算平台，允许你通过<strong class="lt iu"> Boto3 </strong>、Python<strong class="lt iu">T21的AWS SDK调用这些服务。我将提供一个我们将要使用的服务列表，并在此广告之后提供更深入的定义，但是如果您已经熟悉这些服务，可以随意跳到情感分析&amp;实体提取的代码演示。</strong></strong></p><h1 id="25f0" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">目录</h1><ol class=""><li id="9197" class="mn mo it lt b lu lv lx ly ma mp me mq mi mr mm ms mt mu mv bi translated">AWS服务</li><li id="ff2a" class="mn mo it lt b lu mw lx mx ma my me mz mi na mm ms mt mu mv bi translated">带有AWS理解的情感分析</li><li id="e848" class="mn mo it lt b lu mw lx mx ma my me mz mi na mm ms mt mu mv bi translated">AWS综合实体检测</li><li id="388c" class="mn mo it lt b lu mw lx mx ma my me mz mi na mm ms mt mu mv bi translated">代码和结论</li></ol><h1 id="f65c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">AWS服务</h1><p id="a372" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu"> AWS领悟</strong> : AWS NLP服务，使用ML来执行诸如情感分析、实体提取、主题建模等任务。对于这个例子，我们只探索其中的两个任务。</p><div class="nb nc gp gr nd ne"><a href="https://aws.amazon.com/comprehend/" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd iu gy z fp nj fr fs nk fu fw is bi translated">亚马逊理解-自然语言处理(NLP)和机器学习(ML)</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">发现文本中的见解和关系亚马逊理解是一种自然语言处理(NLP)服务，使用…</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">aws.amazon.com</p></div></div><div class="nn l"><div class="no l np nq nr nn ns ks ne"/></div></div></a></div><p id="0878" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">AWS Lambda:一种无服务器计算服务，允许开发人员在不管理或供应服务器的情况下运行代码。</p><div class="nb nc gp gr nd ne"><a href="https://aws.amazon.com/lambda/" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd iu gy z fp nj fr fs nk fu fw is bi translated">AWS Lambda -无服务器计算-亚马逊网络服务</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">运行代码时不考虑服务器。只为您消耗的计算时间付费。AWS Lambda让你运行代码…</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">aws.amazon.com</p></div></div><div class="nn l"><div class="ny l np nq nr nn ns ks ne"/></div></div></a></div><p id="4cde" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated"><strong class="lt iu"> Boto3 </strong>:针对Python开发者的AWS软件开发工具包(SDK)，可以在你的Lambda函数中使用这个来调用领悟API及其特定服务。</p><div class="nb nc gp gr nd ne"><a href="https://boto3.amazonaws.com/v1/documentation/api/latest/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd iu gy z fp nj fr fs nk fu fw is bi translated">Boto3文档- Boto3文档1.16.6文档</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">Boto是Python的Amazon Web Services (AWS) SDK。它使Python开发人员能够创建、配置和管理AWS…</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">boto3.amazonaws.com</p></div></div></div></a></div><p id="4359" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">AWS SageMaker :允许构建、培训和部署定制的ML模型。还包括各种预训练的AWS模型，可用于特定任务。</p><div class="nb nc gp gr nd ne"><a href="https://aws.amazon.com/sagemaker/" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd iu gy z fp nj fr fs nk fu fw is bi translated">亚马逊SageMaker</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">Amazon SageMaker是一个完全托管的服务，为每个开发人员和数据科学家提供构建…</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">aws.amazon.com</p></div></div><div class="nn l"><div class="nz l np nq nr nn ns ks ne"/></div></div></a></div><h1 id="a526" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">带有AWS理解的情感分析</h1><h2 id="dbe2" class="oa la it bd lb ob oc dn lf od oe dp lj ma of og ll me oh oi ln mi oj ok lp ol bi translated">数据</h2><p id="b098" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您可以通过多种方式在AWS中访问数据。<strong class="lt iu"> S3 </strong>是大多数开发人员最受欢迎的数据<strong class="lt iu">存储</strong>选择，它最常用于实时项目或大型数据集。然而，由于我们所拥有的只是一个基本的例子，我们将使用几个<strong class="lt iu"> JSON </strong>格式的文本句子供我们的AWS Lambda函数访问。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">例如数据</p></figure><h2 id="7b30" class="oa la it bd lb ob oc dn lf od oe dp lj ma of og ll me oh oi ln mi oj ok lp ol bi translated">情感分析的代码和解释</h2><p id="673e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">一旦您通过JSON、S3或您正在使用的任何存储格式提取了数据，就该见识一下understand的魔力了。在将近5行代码中，定制模型构建和调优中所做的脏工作被处理掉了。您必须输入的两个参数<strong class="lt iu">是您正在分析的<strong class="lt iu">文本</strong>和您的文本所在的<strong class="lt iu">语言</strong>。正如您在下面的结果中看到的，返回了一个总体情绪<strong class="lt iu">正面、负面或中性</strong>，以及这些情绪各自的百分比<strong class="lt iu"/>。</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从JSON和情感分析中提取数据</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/4e893e00b6d295ca1a1395c9ffe51713.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*j4XwX4v5gAUJ6JB8u_oKXw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">情感分析呼叫的结果(作者截图)。</p></figure><p id="e5ea" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">使用<strong class="lt iu">detect _情操</strong>调用需要注意的一个关键点是文本字符串<strong class="lt iu">不能大于UTF-8编码字符的5000字节</strong>。当处理较大的文档或字符串时，可以使用<strong class="lt iu">batch _ detect _ perspection</strong>调用来解决这个问题，这允许<strong class="lt iu">最多25个字符串/文档</strong>都以5000字节为上限。批处理调用中的过程也非常相似，但是根据您的具体用例，您可以弄清楚如何为批处理调用预处理/分割数据。</p><h1 id="f9ce" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">基于AWS理解的实体提取</h1><p id="74c1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">与情感分析调用类似，detect_entities调用接受文本输入和文本语言中的两个参数。定制模型还有第三个参数<strong class="lt iu">，使用端点ARN来访问您为实体提取创建的模型，而不是默认的理解模型。正如您在下面的结果中看到的，调用返回了它在检测中的<strong class="lt iu">置信度</strong>、实体的<strong class="lt iu">类型</strong>、被识别为实体的<strong class="lt iu">文本</strong>以及文本的<strong class="lt iu">位置</strong>。例如，我们在实体的位置类型中看到纽约和弗吉尼亚。</strong></p><h2 id="753b" class="oa la it bd lb ob oc dn lf od oe dp lj ma of og ll me oh oi ln mi oj ok lp ol bi translated">代码和解释实体提取</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">实体检测代码</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/681bb6ddcf211cb42b80aac52472c3b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tZ94YYbCtLA-qki1WBBsgQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">实体检测调用的结果(作者截图)。</p></figure><p id="f248" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">与detect _ opposition类似，detect_entities不能接受大于5000字节的UTF-8编码字符的字符串。幸运的是，我们还有一个<strong class="lt iu"> batch_detect_entities </strong>调用，它也允许<strong class="lt iu">最多25个字符串/文档</strong>都限制在5000字节。</p><h1 id="8045" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">整个代码和结论</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div></figure><div class="nb nc gp gr nd ne"><a href="https://github.com/RamVegiraju/ComprehendDemo" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd iu gy z fp nj fr fs nk fu fw is bi translated">RamVegiraju/comprehende demo</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">使用AWS理解进行情感分析和实体提取的代码演示GitHub拥有超过5000万…</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">github.com</p></div></div><div class="nn l"><div class="oq l np nq nr nn ns ks ne"/></div></div></a></div><p id="1dd8" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">Boto3与AWS intensive配合使用，可以让非ML工程师或数据科学家轻松完成许多通常需要几个小时的任务。当然，如果给定领域知识和分析问题的时间，定制模型将执行得更准确，但是understand消除了预处理、清理、构建和训练您自己的模型所花费的大量时间。对于那些对在NLP或ML的任何其他领域中构建<strong class="lt iu">定制模型</strong>感兴趣的人来说，<strong class="lt iu"> AWS SageMaker </strong>允许您在Jupyter笔记本环境和更加传统的ML工作流中构建、训练和部署您自己的模型。</p><p id="1fad" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">我希望这篇文章对试图使用AWS服务和NLP的人有用。如果您对ML &amp;数据科学感兴趣，请随时在评论中留下任何反馈或通过<a class="ae ky" href="https://www.linkedin.com/in/ram-vegiraju-81272b162/" rel="noopener ugc nofollow" target="_blank"> Linkedln </a>与我联系。感谢您的阅读！</p></div></div>    
</body>
</html>