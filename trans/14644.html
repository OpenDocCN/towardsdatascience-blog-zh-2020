<html>
<head>
<title>Pandas Series &amp; DataFrame Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫系列&amp;数据框讲解</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pandas-series-dataframe-explained-a178f9748d46?source=collection_archive---------19-----------------------#2020-10-09">https://towardsdatascience.com/pandas-series-dataframe-explained-a178f9748d46?source=collection_archive---------19-----------------------#2020-10-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a543" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">理解Pandas系列和DataFrame数据结构的综合指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/40d8311d67f8202304c1b6dd89ad3116.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nJYWP3a4iND_5rX2"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@eleonoralbasi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">埃莉诺拉·阿尔巴希</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="45df" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="5136" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">作为一名成功的数据科学家，需要不断学习和提高我们使用各种工具的技能。如今，与数据科学同义的一个工具是<a class="ae ky" href="https://pandas.pydata.org/pandas-docs/stable/index.html" rel="noopener ugc nofollow" target="_blank">熊猫</a>。Pandas是一个非常强大的开源库，用Python编写。它提供了一套多样化的工具，我们作为数据科学家可以用来清理、操作和分析数据。今天我们从基础开始，学习熊猫中最常见的两种数据结构系列和数据框架。</p><h1 id="a527" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">入门指南</h1><h2 id="7581" class="mn la it bd lb mo mp dn lf mq mr dp lj ma ms mt ll me mu mv ln mi mw mx lp my bi translated">安装熊猫&amp; Numpy</h2><p id="648f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Pandas和<a class="ae ky" href="https://numpy.org/" rel="noopener ugc nofollow" target="_blank"> Numpy </a>是用Python编写的开源库，你可以在你的Python脚本中使用它们。有几种方法可以安装这些软件包。默认情况下，如果您使用的是<a class="ae ky" href="https://docs.anaconda.com/" rel="noopener ugc nofollow" target="_blank"> Anaconda </a>，这些包已经安装好了。如果您没有使用Anaconda，那么最简单的安装选项是使用<code class="fe mz na nb nc b">pip</code>，这是Python推荐的安装包。您可以在PyPA的<a class="ae ky" href="https://numpy.org/" rel="noopener ugc nofollow" target="_blank">文档</a>中找到<code class="fe mz na nb nc b">pip</code>的详细安装说明。</p><p id="f0ca" class="pw-post-body-paragraph lr ls it lt b lu nd ju lw lx ne jx lz ma nf mc md me ng mg mh mi nh mk ml mm im bi translated">一旦<code class="fe mz na nb nc b">pip</code>完成安装，您可以在终端上运行以下命令来安装Pandas和Numpy <code class="fe mz na nb nc b">pip install pandas</code> <code class="fe mz na nb nc b">pip install numpy</code>。安装后，您可以使用下面的语法将Pandas和Numpy库导入到您的脚本中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">上面的Python片段显示了导入Pandas和Numpy包的语法。</p></figure><h1 id="86b6" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">熊猫系列</h1><p id="9d5a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Pandas系列数据结构是一个一维标签数组。它是数据帧的主要构造块，构成数据帧的行和列。您可以查看以下系列的构造函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">上面的Python片段显示了熊猫系列的构造函数。</p></figure><p id="5ed5" class="pw-post-body-paragraph lr ls it lt b lu nd ju lw lx ne jx lz ma nf mc md me ng mg mh mi nh mk ml mm im bi translated"><code class="fe mz na nb nc b">data</code>参数可以接受几种不同的数据类型，如<a class="ae ky" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html" rel="noopener ugc nofollow" target="_blank">n数组</a>、<a class="ae ky" href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" rel="noopener ugc nofollow" target="_blank">字典</a>和<a class="ae ky" href="https://numpy.org/doc/stable/reference/arrays.scalars.html" rel="noopener ugc nofollow" target="_blank">标量</a>值。<code class="fe mz na nb nc b">index</code>参数接受类似数组的对象，这将允许您标记索引轴。如果您没有向<code class="fe mz na nb nc b">index</code>参数传递一个条目，而向<code class="fe mz na nb nc b">data</code>参数传递一个字典，那么Pandas将使用字典键作为索引标签。您可以通过设置<code class="fe mz na nb nc b">dtype</code>参数来设置系列的数据类型。如果一个数据类型没有被指定，那么Pandas将会对数据类型进行推断。<code class="fe mz na nb nc b">name</code>参数如其所暗示的那样，允许您命名您已经创建的系列。</p><h2 id="5c79" class="mn la it bd lb mo mp dn lf mq mr dp lj ma ms mt ll me mu mv ln mi mw mx lp my bi translated">使用字典创建系列</h2><p id="3216" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">下面我们提供了一个示例Python片段，您可以使用它来创建一个系列。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">上面的Python片段演示了如何使用字典创建和命名一个系列。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/8174369a6e13698654fe5bb42fda0271.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*Ujh1l-1tn6K415u8fVnpdQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">上图显示了执行Python代码片段创建系列的结果。</p></figure><p id="0fc6" class="pw-post-body-paragraph lr ls it lt b lu nd ju lw lx ne jx lz ma nf mc md me ng mg mh mi nh mk ml mm im bi translated">从上面的控制台输出中，我们可以看到该系列使用了字典键作为索引，该系列被命名为<code class="fe mz na nb nc b">series_from_dict</code>，Pandas推断出一个数据类型为<code class="fe mz na nb nc b">float64</code>。</p><h2 id="f9e2" class="mn la it bd lb mo mp dn lf mq mr dp lj ma ms mt ll me mu mv ln mi mw mx lp my bi translated">从ndarray创建系列</h2><p id="827a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">生成测试序列的最快方法之一是使用NumPy的<code class="fe mz na nb nc b">random.randint()</code>,它产生一个填充了随机整数的ndarray。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">上面的Python片段演示了如何使用ndarray创建和命名一个系列。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/964677de289086010352d64e3f2c659d.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/1*CIyyvysogXUHacoYwyvlrg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">上图显示了执行Python代码片段的结果。</p></figure><h2 id="25db" class="mn la it bd lb mo mp dn lf mq mr dp lj ma ms mt ll me mu mv ln mi mw mx lp my bi translated">从标量值创建序列</h2><p id="ec21" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们今天要看的最后一个方法是使用标量值创建一个序列。在这里，您可以为<code class="fe mz na nb nc b">data</code>分配一个值，并在索引长度内重复该值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">上面的Python片段展示了如何通过传递标量值来创建序列。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/899d3ea52644db4f1331deb41959c0bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*qU7FG40cw6TGZne0p9Q8mA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">上图显示了执行Python代码片段的结果。</p></figure><h1 id="c783" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">熊猫数据框</h1><p id="d248" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Pandas DataFrame是由列和行组成的二维数据结构。您可以将DataFrame视为类似于CSV或关系数据库表。下面你可以看到创建数据帧的构造函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">上面的Python片段显示了熊猫数据帧的构造函数。</p></figure><p id="41bc" class="pw-post-body-paragraph lr ls it lt b lu nd ju lw lx ne jx lz ma nf mc md me ng mg mh mi nh mk ml mm im bi translated">与Series类似的<code class="fe mz na nb nc b">data</code>参数可以接受广泛的数据类型，例如Series、Series字典、结构化数组和NumPy数组。除了能够将索引标签传递给<code class="fe mz na nb nc b">index</code>，DataFrame构造函数还可以通过<code class="fe mz na nb nc b">columns</code>接受列名。</p><h2 id="e4c2" class="mn la it bd lb mo mp dn lf mq mr dp lj ma ms mt ll me mu mv ln mi mw mx lp my bi translated">为系列词典创建数据框架</h2><p id="1c1b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">生成数据帧最简单的方法之一是创建一个包含Series的字典。字典键将成为数据帧的列标签，而系列索引将成为数据帧的行标签。下面是一个Python片段，您可以用它来生成您的第一个数据帧。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">上面的Python片段展示了如何使用系列字典创建DataFrame。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/3d2c6299ec79580185aece713177f2aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/format:webp/1*j8MmC4-QpQ3IohAtc-4VrA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">上图显示了执行Python脚本的结果。</p></figure><p id="7feb" class="pw-post-body-paragraph lr ls it lt b lu nd ju lw lx ne jx lz ma nf mc md me ng mg mh mi nh mk ml mm im bi translated">上面的控制台输出清楚地展示了DataFrame数据结构。字典关键字<code class="fe mz na nb nc b">column_a</code>、<code class="fe mz na nb nc b">column_b</code>和<code class="fe mz na nb nc b">column_c</code>现在形成了带标签的列，序列索引<code class="fe mz na nb nc b">a</code>、<code class="fe mz na nb nc b">b</code>、<code class="fe mz na nb nc b">c</code>、<code class="fe mz na nb nc b">d</code>和<code class="fe mz na nb nc b">e</code>是数据帧行标签。</p><h2 id="ef1f" class="mn la it bd lb mo mp dn lf mq mr dp lj ma ms mt ll me mu mv ln mi mw mx lp my bi translated">为列表字典创建数据框架</h2><p id="6242" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Pandas DataFrame构造函数也可以接收一个列表字典。下面我们为您提供了一个Python片段，您可以使用它来实现这一点。这里，我们通过DataFrame构造函数中的<code class="fe mz na nb nc b">index</code>参数分配了行标签。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">上面的Python片段展示了如何从列表字典创建DataFrame。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/d95092b206ad4a844783a85ea693a80a.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*L-TDWJxckXaYZbpL1NIpag.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">上图显示了从列表字典创建DataFrame的结果。</p></figure><h1 id="518d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">接下来去哪里？</h1><p id="2a2c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">既然您已经介绍了Pandas的基本构件，您的下一步应该是学习如何通过<a class="ae ky" rel="noopener" target="_blank" href="/python-pandas-iterating-a-dataframe-eb7ce7db62f8">迭代数据帧</a>或使用<a class="ae ky" rel="noopener" target="_blank" href="/learning-pandas-profiling-fc533336edc7"> Pandas Profiling </a>进行分析来导航数据帧。</p><p id="d53e" class="pw-post-body-paragraph lr ls it lt b lu nd ju lw lx ne jx lz ma nf mc md me ng mg mh mi nh mk ml mm im bi translated">再次感谢您花时间阅读我们的故事，我们希望您发现它有价值！</p></div></div>    
</body>
</html>