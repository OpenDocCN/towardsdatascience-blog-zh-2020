<html>
<head>
<title>Dictionaries in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的字典</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/dictionaries-in-python-84b05bb95629?source=collection_archive---------8-----------------------#2020-09-22">https://towardsdatascience.com/dictionaries-in-python-84b05bb95629?source=collection_archive---------8-----------------------#2020-09-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/a4a9c2ca4369e763568b323c53b18c31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*THs9hIl6XzKSeJHo"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">由<a class="ae jg" href="https://unsplash.com/@mathilde_34?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">玛蒂尔德·德库尔塞尔</a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class=""/><div class=""><h2 id="ac3d" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">Python中最重要的数据结构之一</h2></div><p id="4fa8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这篇文章中，我将谈论<strong class="la jk">字典</strong>。这是“Python中的数据结构”系列的第二篇文章。这个系列的第一部分是关于列表的。</p><p id="11ef" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">字典是Python中使用<strong class="la jk">键</strong>进行索引的重要数据结构。它们是一个无序的项目序列(键值对)，这意味着顺序没有被保留。密钥是不可变的。就像列表一样，字典的值可以保存<strong class="la jk">异构数据</strong>即整数、浮点、字符串、NaN、布尔、列表、数组，甚至嵌套字典。</p><p id="1f99" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这篇文章将为您提供清晰的理解，并使您能够熟练地使用<strong class="la jk"> Python字典</strong>。</p><p id="8771" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">本文涵盖了以下主题:</p><ul class=""><li id="8673" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><strong class="la jk">创建字典并添加元素</strong></li><li id="eb19" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><strong class="la jk">访问字典元素</strong></li><li id="d810" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><strong class="la jk">删除字典元素</strong></li><li id="98c1" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><strong class="la jk">添加/插入新元素</strong></li><li id="fadd" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><strong class="la jk">合并/连接字典</strong></li><li id="925c" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><strong class="la jk">修改字典</strong></li><li id="68d5" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><strong class="la jk">整理字典</strong></li><li id="73fd" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><strong class="la jk">字典理解</strong></li><li id="3bd3" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><strong class="la jk">创建词典的替代方法</strong></li><li id="0d60" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><strong class="la jk">抄字典</strong></li><li id="f022" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><strong class="la jk">重命名现有密钥</strong></li><li id="f846" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><strong class="la jk">嵌套字典</strong></li><li id="ce71" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><strong class="la jk">检查字典中是否存在关键字</strong></li></ul></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="e97e" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">1)创建字典并添加元素</h1><p id="a8aa" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">像列表用方括号([ ])初始化，字典用花括号({ })初始化。当然，空字典的长度为零。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="fa6b" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {} # An empty dictionary</span><span id="6b45" class="nv mq jj nr b gy oa nx l ny nz">type(dic_a)<br/>&gt;&gt;&gt; dict</span><span id="e1c2" class="nv mq jj nr b gy oa nx l ny nz">len(dic_a)<br/>&gt;&gt;&gt; 0</span></pre><p id="9914" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个字典有两个典型特征:<strong class="la jk">键</strong>和<strong class="la jk">值</strong>。<strong class="la jk">每个键都有相应的值。</strong>键和值都可以是字符串、浮点、整数、NaN等类型。向字典中添加元素意味着添加一个键值对。<strong class="la jk">字典由一个或多个键值对组成。</strong></p><p id="3887" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们给我们的空字典添加一些元素。下面是这样做的一种方法。这里，<code class="fe ob oc od nr b">'A'</code>是键，<code class="fe ob oc od nr b">'Apple'</code>是它的值。您可以添加任意多的元素。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="0bf9" class="nv mq jj nr b gy nw nx l ny nz"># Adding the first element<br/>dic_a['A'] = 'Apple'</span><span id="2192" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Apple'}</span><span id="194a" class="nv mq jj nr b gy oa nx l ny nz"># Adding the second element<br/>dic_a['B'] = 'Ball'</span><span id="2372" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball'}</span></pre><p id="a5af" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">注意:</strong> Python区分大小写，<code class="fe ob oc od nr b">'A'</code>和<code class="fe ob oc od nr b">'a'</code>充当两个不同的键。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="7732" class="nv mq jj nr b gy nw nx l ny nz">dic_a['a'] = 'apple'</span><span id="53e7" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'a': 'apple'}</span></pre><h2 id="f0d4" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">一次初始化字典</h2><p id="1030" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">如果您发现上述逐个添加元素的方法令人厌烦，您还可以通过指定所有的键-值对来立即初始化字典。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="d9aa" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span></pre><h2 id="f1d6" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">异质词典</h2><p id="6560" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">到目前为止，您的字典将字符串作为键和值。字典也可以存储混合类型的数据。以下是有效的Python字典。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="2291" class="nv mq jj nr b gy nw nx l ny nz">dic_b = {1: 'Ace', 'B': 123, np.nan: 99.9, 'D': np.nan, 'E': np.inf}</span></pre><p id="303d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不过，您应该为关键字使用有意义的名称，因为它们表示字典的索引。特别要避免使用floats和<strong class="la jk"> np.nan </strong>作为键。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="5170" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">2)访问字典元素</h1><p id="3307" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">创建了字典之后，让我们看看如何访问它们的元素。</p><h2 id="a63b" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">访问键和值</h2><p id="7150" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">您可以分别使用功能<code class="fe ob oc od nr b">dict.keys()</code>和<code class="fe ob oc od nr b">dict.values()</code>访问键和值。您还可以使用<code class="fe ob oc od nr b">items()</code>函数以元组的形式访问键和值。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="d19e" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span><span id="7e1d" class="nv mq jj nr b gy oa nx l ny nz">dic_a.keys()<br/>&gt;&gt;&gt; dict_keys(['A', 'B', 'C'])</span><span id="bc54" class="nv mq jj nr b gy oa nx l ny nz">dic_a.values()<br/>&gt;&gt;&gt; dict_values(['Apple', 'Ball', 'Cat'])</span><span id="3c12" class="nv mq jj nr b gy oa nx l ny nz">dic_a.items()<br/>&gt;&gt;&gt; dict_items([('A', 'Apple'), ('B', 'Ball'), ('C', 'Cat')])</span></pre><p id="ec5c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">或者，您也可以使用“for”循环一次访问/打印一个。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="3fc9" class="nv mq jj nr b gy nw nx l ny nz"># Printing keys<br/>for key in dic_a.keys():<br/>    print (key, end=' ')<br/>&gt;&gt;&gt; A B C</span><span id="1c46" class="nv mq jj nr b gy oa nx l ny nz">#############################</span><span id="fd04" class="nv mq jj nr b gy oa nx l ny nz"># Printing values<br/>for key in dic_a.values():<br/>    print (key, end=' ')<br/>&gt;&gt;&gt; Apple Ball Cat</span></pre><p id="b1a8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以避免两个“for”循环，并使用<code class="fe ob oc od nr b">items()</code>访问键和值。“for”循环将遍历由<code class="fe ob oc od nr b">items()</code>返回的键值对。这里，<code class="fe ob oc od nr b">key</code>和<code class="fe ob oc od nr b">value</code>是任意的变量名。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="07c2" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span><span id="1864" class="nv mq jj nr b gy oa nx l ny nz">for key, value in dic_a.items():<br/>    print (key, value)<br/>&gt;&gt;&gt; A Apple<br/>    B Ball<br/>    C Cat</span></pre><h2 id="5332" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">访问单个元素</h2><p id="c3aa" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">无法使用列表式索引来访问词典条目。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="d9fe" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span><span id="1a82" class="nv mq jj nr b gy oa nx l ny nz">dic_a[0]<br/>&gt;&gt;&gt; <strong class="nr jk">----&gt; </strong>1 dic_a[<strong class="nr jk">0</strong>]</span><span id="d397" class="nv mq jj nr b gy oa nx l ny nz">    <strong class="nr jk">KeyError</strong>: 0</span></pre><p id="ce9e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您需要使用键从字典中访问相应的值。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="3da4" class="nv mq jj nr b gy nw nx l ny nz"># Accessing the value "Apple"<br/>dic_a['A']<br/>&gt;&gt;&gt; 'Apple'</span><span id="3b90" class="nv mq jj nr b gy oa nx l ny nz"># Accessing the value "Cat"<br/>dic_a['C']<br/>&gt;&gt;&gt; 'Cat'</span></pre><p id="f8f1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果字典中不存在该键，您将得到一个错误。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="5a2f" class="nv mq jj nr b gy nw nx l ny nz">dic_a['Z']</span><span id="c273" class="nv mq jj nr b gy oa nx l ny nz"><strong class="nr jk">&gt;&gt;&gt; KeyError</strong> Traceback (most recent call last)<br/><strong class="nr jk">----&gt; 1 </strong>dic_a<strong class="nr jk">['Z']</strong></span><span id="343c" class="nv mq jj nr b gy oa nx l ny nz"><strong class="nr jk">KeyError</strong>: 'Z'</span></pre><p id="6df0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您想在不存在键的情况下避免这样的键错误，您可以使用<code class="fe ob oc od nr b">get()</code>功能。当键不存在时，返回<code class="fe ob oc od nr b">None</code>。您也可以使用自定义消息来返回。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="d0b3" class="nv mq jj nr b gy nw nx l ny nz">print (dic_a.get('Z'))<br/>&gt;&gt;&gt; None</span><span id="0d17" class="nv mq jj nr b gy oa nx l ny nz"># Custom return message<br/>print (dic_a.get('Z', 'Key does not exist'))<br/>&gt;&gt;&gt; Key does not exist</span></pre><h2 id="02c1" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">像在列表中一样访问字典元素</h2><p id="2983" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">如果您想使用索引来访问字典元素(键或值)，您需要首先将它们转换成列表。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="0923" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span><span id="3496" class="nv mq jj nr b gy oa nx l ny nz">list(dic_a.keys())[0]<br/>&gt;&gt;&gt; 'A'</span><span id="ef03" class="nv mq jj nr b gy oa nx l ny nz">list(dic_a.keys())[-1]<br/>&gt;&gt;&gt; 'C'</span><span id="3c1e" class="nv mq jj nr b gy oa nx l ny nz">list(dic_a.values())[0]<br/>&gt;&gt;&gt; 'Apple'</span><span id="04cf" class="nv mq jj nr b gy oa nx l ny nz">list(dic_a.values())[-1]<br/>&gt;&gt;&gt; 'Cat'</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="6e11" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">3)删除字典元素</h1><p id="e277" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">从字典中删除元素意味着一起删除一个键值对。</p><h2 id="46c8" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">使用del</h2><p id="bce3" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">您可以使用<code class="fe ob oc od nr b">del</code>关键字和您想要删除其值的键来删除字典元素。<strong class="la jk">删除是原位的</strong>，这意味着您不需要在删除后重新分配字典的值。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="9e48" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span><span id="88fc" class="nv mq jj nr b gy oa nx l ny nz"># Deleting the key-value pair of 'A': 'Apple'<br/>del dic_a['A']</span><span id="ff01" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'B': 'Ball', 'C': 'Cat'}</span><span id="0e93" class="nv mq jj nr b gy oa nx l ny nz"># Deleting the key-value pair of 'C': 'Cat'<br/>del dic_a['C']</span><span id="8882" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'B': 'Ball'}</span></pre><h2 id="ec76" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">使用pop()</h2><p id="1f5a" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">您还可以使用“pop()”函数来删除元素。它返回被弹出(删除)的值，字典被就地<strong class="la jk">修改</strong>。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="4b33" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span><span id="4917" class="nv mq jj nr b gy oa nx l ny nz">dic_a.pop('A')<br/>&gt;&gt;&gt; 'Apple' </span><span id="ebb0" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/># {'B': 'Ball', 'C': 'Cat'}</span></pre><p id="960a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上述两种方法中，如果要删除的键在字典中不存在，您将得到一个KeyError。在“pop()”的情况下，如果键不存在，您可以指定要显示的错误消息。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="14f4" class="nv mq jj nr b gy nw nx l ny nz">key_to_delete = 'E'<br/>dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span><span id="1f3f" class="nv mq jj nr b gy oa nx l ny nz">dic_a.pop(key_to_delete, f'Key {key_to_delete} does not exist.')<br/>&gt;&gt;&gt; 'Key E does not exist.'</span></pre><h2 id="c97d" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">删除多个元素</h2><p id="64cd" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">没有直接的方法，但是你可以使用如下所示的“for”循环。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="febb" class="nv mq jj nr b gy nw nx l ny nz">to_delete = ['A', 'C']<br/>dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span><span id="8f22" class="nv mq jj nr b gy oa nx l ny nz">for key in to_delete:<br/>    del dic_a[key]<br/>    <br/>print (dic_a)<br/>&gt;&gt;&gt; {'B': 'Ball'}</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="783c" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">4)添加/插入新元素</h1><p id="de8f" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">您可以一次添加一个元素到一个已经存在的字典中，如下所示。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="2c76" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span><span id="6629" class="nv mq jj nr b gy oa nx l ny nz">dic_a['D'] = 'Dog'</span><span id="9980" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat', 'D': 'Dog'}</span><span id="48f6" class="nv mq jj nr b gy oa nx l ny nz">dic_a['E'] = 'Egg'</span><span id="feac" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat', 'D': 'Dog', 'E': 'Egg'}</span></pre><p id="5be3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您添加的密钥已经存在，现有值将被覆盖<strong class="la jk">。</strong></p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="7936" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span><span id="ec60" class="nv mq jj nr b gy oa nx l ny nz">dic_a['A'] = 'Adam' # key 'A' already exists with the value 'Apple'</span><span id="a977" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Adam', 'B': 'Ball', 'C': 'Cat'}</span></pre><h2 id="f6c3" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">使用更新( )</h2><p id="3f11" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">您还可以使用<code class="fe ob oc od nr b">update()</code>函数添加一个新的键-值对，方法是将该对作为参数传递。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="22cf" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}<br/>dic_a.update({'D': 'Dog'})</span><span id="f53a" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat', 'D': 'Dog'}</span></pre><p id="7664" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe ob oc od nr b">update()</code>函数还允许您同时向现有字典添加多个键值对。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="abdd" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}<br/>dic_b = {'D':'Dog', 'E':'Egg'}</span><span id="84fc" class="nv mq jj nr b gy oa nx l ny nz">dic_a.update(dic_b)</span><span id="425a" class="nv mq jj nr b gy oa nx l ny nz">print(dic_a)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat', 'D': 'Dog', 'E': 'Egg'}</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="a34c" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">5)合并/连接字典</h1><p id="3bed" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">从Python 3.5开始，可以使用解包操作符(<code class="fe ob oc od nr b">**</code>)合并两个或多个字典。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="a8c9" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball'}<br/>dic_b = {'C': 'Cat', 'D': 'Dog'}</span><span id="1c90" class="nv mq jj nr b gy oa nx l ny nz">dic_merged = {**dic_a, **dic_b}</span><span id="94e3" class="nv mq jj nr b gy oa nx l ny nz">print (dic_merged)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat', 'D': 'Dog'}</span></pre><p id="4659" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您不想创建一个新的字典，而只想将<code class="fe ob oc od nr b">dic_b</code>添加到现有的<code class="fe ob oc od nr b">dic_a</code>中，您可以简单地更新第一个字典，如前面所示。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="93d6" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball'}<br/>dic_b = {'C': 'Cat', 'D': 'Dog'}</span><span id="5b96" class="nv mq jj nr b gy oa nx l ny nz">dic_a.update(dic_b)</span><span id="8217" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat', 'D': 'Dog'}</span></pre><h2 id="9170" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">串联时如何处理重复键？</h2><p id="b2f9" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">Python字典的一个特点是<strong class="la jk">它们不能有重复的键</strong>，也就是说，一个键不能出现两次。那么，如果你把两个或更多有一个或多个公共关键字的字典连接起来，会发生什么呢？</p><p id="1d23" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">答案是最后合并的字典中的键值对(按合并的顺序)会存活下来。在下面的例子中，键<code class="fe ob oc od nr b">'A'</code>存在于所有三个字典中，因此，最终的字典采用最后一个合并的字典的值(<code class="fe ob oc od nr b">dic_c</code>)。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="c7e0" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball'}<br/>dic_b = {'C': 'Cat', 'A': 'Apricot'}<br/>dic_c = {'A': 'Adam', 'E': 'Egg'}</span><span id="ec08" class="nv mq jj nr b gy oa nx l ny nz">dic_merged = {**dic_a, **dic_b, **dic_c}</span><span id="eb6a" class="nv mq jj nr b gy oa nx l ny nz">print (dic_merged)<br/>&gt;&gt;&gt; {'A': 'Adam', 'B': 'Ball', 'C': 'Cat', 'E': 'Egg'}</span></pre><h2 id="acb0" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">一句警告</h2><p id="e2c9" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">我刚刚说过字典不能有重复的键。严格地说，您可以定义一个具有重复键的字典，但是，当您打印它时，将只打印最后一个重复键。如下所示，只返回唯一的键，对于重复的键(此处为“A”)，只返回最后一个值。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="2738" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'A': 'Apricot', 'A': 'Assault'}</span><span id="443f" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Assault', 'B': 'Ball'}</span></pre><h2 id="8108" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">Python 3.9+中更简单的方法</h2><p id="c0a6" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">从Python 3.9开始，可以使用<code class="fe ob oc od nr b">|</code>操作符连接两个或更多的字典。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="a7b1" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball'}<br/>dic_b = {'C': 'Cat', 'D': 'Dog'}</span><span id="5d15" class="nv mq jj nr b gy oa nx l ny nz">dic_c = dic_a | dic_b<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat', 'D': 'Dog'}</span><span id="f8ac" class="nv mq jj nr b gy oa nx l ny nz"># Concatenating more than 2 dictionaries<br/>dic_d = dic_a | dic_b | dic_c</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="6dea" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">6)修改字典</h1><p id="7a68" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">如果想把<code class="fe ob oc od nr b">'A'</code>的值从<code class="fe ob oc od nr b">'Apple'</code>改成<code class="fe ob oc od nr b">'Apricot'</code>，可以用一个简单的赋值。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="aa82" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span><span id="915f" class="nv mq jj nr b gy oa nx l ny nz">dic_a['A'] = 'Apricot'</span><span id="296a" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Apricot', 'B': 'Ball', 'C': 'Cat', 'D': 'Dog'}</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="2d7d" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">7)整理字典</h1><p id="95a2" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">字典中不维护顺序。使用<code class="fe ob oc od nr b">sorted()</code>功能，您可以使用关键字或值对字典进行排序。</p><h2 id="4c94" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">使用关键字排序</h2><p id="0938" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">如果键是字符串(字母)，它们将按字母顺序排序。在字典中，我们有两个主要元素:键和值。因此，在根据键进行排序时，我们使用第一个元素，即键，因此，lambda函数中使用的索引是“[0]”。你可以阅读<a class="ae jg" href="https://docs.python.org/3/tutorial/controlflow.html#lambda-expressions" rel="noopener ugc nofollow" target="_blank">这篇文章</a>了解更多关于lambda函数的信息。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="7a78" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'B': 100, 'C': 10, 'D': 90, 'A': 40}</span><span id="e118" class="nv mq jj nr b gy oa nx l ny nz">sorted(dic_a.items(), key=lambda x: x[0])<br/>&gt;&gt;&gt; [('A', 40), ('B', 100), ('C', 10), ('D', 90)]</span></pre><p id="d89c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">分类不到位。如下所示，如果您现在打印字典，它仍然是无序的，和最初初始化时一样。排序后，您必须重新分配它。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="371d" class="nv mq jj nr b gy nw nx l ny nz"># The dictionary remains unordered if you print it<br/>print (dic_a)<br/>&gt;&gt;&gt; {'B': 100, 'C': 10, 'D': 90, 'A': 40}</span></pre><p id="8161" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您想以相反的顺序排序，请指定关键字<code class="fe ob oc od nr b">reverse=True</code>。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="3e82" class="nv mq jj nr b gy nw nx l ny nz">sorted(dic_a.items(), key=lambda x: x[0], reverse=True)<br/>&gt;&gt;&gt; [('D', 90), ('C', 10), ('B', 100), ('A', 40)]</span></pre><h2 id="fdf8" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">使用值排序</h2><p id="45c7" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">要根据字典的值对其进行排序，需要在lambda函数中使用索引“[1]”。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="71d6" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'B': 100, 'C': 10, 'D': 90, 'A': 40}</span><span id="a808" class="nv mq jj nr b gy oa nx l ny nz">sorted(dic_a.items(), key=lambda x: x[1])<br/>&gt;&gt;&gt; [('C', 10), ('A', 40), ('D', 90), ('B', 100)]</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="7c5a" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">8)词典理解</h1><p id="51c3" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">这是动态创建字典<strong class="la jk">的一个非常有用的方法</strong>。假设您想要创建一个字典，其中键是一个整数，值是它的平方。字典的理解应该是这样的。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="33b0" class="nv mq jj nr b gy nw nx l ny nz">dic_c = {i: i**2 for i in range(5)}</span><span id="951a" class="nv mq jj nr b gy oa nx l ny nz">print (dic_c)<br/>&gt;&gt;&gt; {0: 0, 1: 1, 2: 4, 3: 9, 4: 16}</span></pre><p id="5175" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你希望你的键是字符串，你可以使用“f-strings”。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="de1d" class="nv mq jj nr b gy nw nx l ny nz">dic_c = {f'{i}': i**2 for i in range(5)}</span><span id="8ae2" class="nv mq jj nr b gy oa nx l ny nz">print (dic_c)<br/>&gt;&gt;&gt; {'0': 0, '1': 1, '2': 4, '3': 9, '4': 16}</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="fe6a" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">9)创建词典的替代方法</h1><h2 id="e316" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">从列表创建字典</h2><p id="4e2e" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">假设你有两个列表，你想用它们创建一个字典。最简单的方法是使用<code class="fe ob oc od nr b">dict()</code>构造函数。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="9a74" class="nv mq jj nr b gy nw nx l ny nz">names = ['Sam', 'Adam', 'Tom', 'Harry']<br/>marks = [90, 85, 55, 70]</span><span id="d962" class="nv mq jj nr b gy oa nx l ny nz">dic_grades = dict(zip(names, marks))</span><span id="d91c" class="nv mq jj nr b gy oa nx l ny nz">print (dic_grades)<br/>&gt;&gt;&gt; {'Sam': 90, 'Adam': 85, 'Tom': 55, 'Harry': 70}</span></pre><p id="e65e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您还可以将这两个列表压缩在一起，并使用前面所示的“字典理解”创建字典。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="8f52" class="nv mq jj nr b gy nw nx l ny nz">dic_grades = {k:v for k, v in zip(names, marks)}</span><span id="4bff" class="nv mq jj nr b gy oa nx l ny nz">print (dic_grades)<br/>&gt;&gt;&gt; {'Sam': 90, 'Adam': 85, 'Tom': 55, 'Harry': 70}</span></pre><h2 id="e561" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">传递键值对</h2><p id="8605" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">您还可以将逗号分隔的键值对列表传递给<code class="fe ob oc od nr b">dict()</code>构造，它将返回一个字典。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="5efd" class="nv mq jj nr b gy nw nx l ny nz">dic_a = dict([('A', 'Apple'), ('B', 'Ball'), ('C', 'Cat')])</span><span id="f456" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span></pre><p id="d338" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您的键是字符串，您甚至可以使用更简单的初始化，只使用变量作为键。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="5a4d" class="nv mq jj nr b gy nw nx l ny nz">dic_a = dict(A='Apple', B='Ball', C='Cat')</span><span id="aadb" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="30ab" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">10)复制字典</h1><p id="ad4d" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">我将用一个简单的例子来解释这一点。字典的复制机制涉及到更多的微妙之处，我建议读者参考<a class="ae jg" href="https://stackoverflow.com/q/3975376/4932316" rel="noopener ugc nofollow" target="_blank">这篇</a>堆栈溢出帖子，了解详细的解释。</p><h2 id="becf" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">参考分配</h2><p id="fc86" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">当您简单地将一个现有字典(父字典)重新分配给一个新字典时，两者都指向同一个对象(<strong class="la jk">“引用分配】</strong>)。</p><p id="b2a8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">考虑下面的例子，您将<code class="fe ob oc od nr b">dic_a</code>重新分配给<code class="fe ob oc od nr b">dic_b</code>。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="6b6f" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span><span id="dbe8" class="nv mq jj nr b gy oa nx l ny nz">dic_b = dic_a # Simple reassignment <strong class="nr jk">(Reference assignment)</strong></span></pre><p id="c27c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，如果您修改<code class="fe ob oc od nr b">dic_b</code>(例如添加一个新元素)，您会注意到这一变化也会反映在<code class="fe ob oc od nr b">dic_a</code>中。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="ac34" class="nv mq jj nr b gy nw nx l ny nz">dic_b['D'] = 'Dog'</span><span id="a9c4" class="nv mq jj nr b gy oa nx l ny nz">print (dic_b)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat', 'D': 'Dog'}</span><span id="e7ee" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat', 'D': 'Dog'}</span></pre><h2 id="0236" class="nv mq jj bd mr oe of dn mv og oh dp mz lh oi oj nb ll ok ol nd lp om on nf oo bi translated">浅拷贝</h2><p id="c064" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">使用<code class="fe ob oc od nr b">copy()</code>函数创建一个浅层副本。在浅层拷贝中，两个字典作为两个独立的对象，它们的内容仍然共享相同的引用。如果在新字典(浅层拷贝)中添加一个新的键值对，它将不会出现在父字典中。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="a09a" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}<br/>dic_b = dic_a.copy()</span><span id="6920" class="nv mq jj nr b gy oa nx l ny nz">dic_b['D'] = 'Dog'</span><span id="07dd" class="nv mq jj nr b gy oa nx l ny nz"># New, shallow copy, has the new key-value pair<br/>print (dic_b)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat', 'D': 'Dog'}</span><span id="ce1b" class="nv mq jj nr b gy oa nx l ny nz"># The parent dictionary does not have the new key-value pair<br/>print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span></pre><p id="21f8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，父字典(" dic_a ")中的内容是否会改变取决于值的类型。例如，在下面的例子中，内容是简单的不可变的字符串。因此，改变“dic_b”中给定键的值(本例中为<code class="fe ob oc od nr b">'A'</code>)不会改变“dic_a”中键<code class="fe ob oc od nr b">'A'</code>的值。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="2083" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}<br/>dic_b = dic_a.copy()</span><span id="3a23" class="nv mq jj nr b gy oa nx l ny nz"># Replace an existing key with a new value in the shallow copy<br/>dic_b['A'] = 'Adam'</span><span id="7911" class="nv mq jj nr b gy oa nx l ny nz">print (dic_b)<br/>&gt;&gt;&gt; {'A': 'Adam', 'B': 'Ball', 'C': 'Cat'}</span><span id="f3b8" class="nv mq jj nr b gy oa nx l ny nz"># Strings are immutable so 'Apple' doesn't change to 'Adam' in dic_a<br/>print (dic_a)<br/>&gt;&gt;&gt; {'A': 'Apple', 'B': 'Ball', 'C': 'Cat'}</span></pre><p id="c603" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，如果“dic_a”中关键字<code class="fe ob oc od nr b">'A'</code>的值是一个列表，那么在“dic_b”中改变它的值将反映“dic_a”(父字典)中的变化，因为列表是可变的。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="e4d9" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': ['Apple'], 'B': 'Ball', 'C': 'Cat'}</span><span id="4236" class="nv mq jj nr b gy oa nx l ny nz"># Make a shallow copy<br/>dic_b = dic_a.copy()</span><span id="ad29" class="nv mq jj nr b gy oa nx l ny nz">dic_b['A'][0] = 'Adam'</span><span id="487e" class="nv mq jj nr b gy oa nx l ny nz">print (dic_b)<br/>&gt;&gt;&gt; {'A': ['Adam'], 'B': 'Ball', 'C': 'Coal'}</span><span id="0b91" class="nv mq jj nr b gy oa nx l ny nz"># Lists are mutable so the changes get reflected in dic_a too<br/>print (dic_a)<br/>&gt;&gt;&gt; {'A': ['Adam'], 'B': 'Ball', 'C': 'Cat'}</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="11a5" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">11)重命名现有密钥</h1><p id="5dd1" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">假设您想将键“Adam”替换为“Alex”。您可以使用<code class="fe ob oc od nr b">pop</code>函数，因为它删除传递的键(这里是“亚当”)并返回删除的值(这里是85)。所以你一箭双雕。使用返回的(已删除的)值将该值分配给新键(此处为“Alex”)。可能有更复杂的情况，其中键是一个元组。这种情况超出了本文的范围。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="7e25" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'Sam': 90, 'Adam': 85, 'Tom': 55, 'Harry': 70}</span><span id="e5a1" class="nv mq jj nr b gy oa nx l ny nz">dic_a['Alex'] = dic_a.pop('Adam')</span><span id="9c6c" class="nv mq jj nr b gy oa nx l ny nz">print (dic_a)<br/>&gt;&gt;&gt; {'Sam': 90, 'Tom': 55, 'Harry': 70, 'Alex': 85}</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="578d" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">12)嵌套字典</h1><p id="e26d" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">嵌套字典在一个字典中有一个或多个字典。下面是具有两层嵌套的嵌套字典的最简单的例子。这里，外部字典(第1层)只有一个键值对。然而，该值现在是字典本身。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="03ea" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': {'B': 'Ball'}}</span><span id="d6b4" class="nv mq jj nr b gy oa nx l ny nz">dic_a['A']<br/>&gt;&gt;&gt; {'B': 'Ball'}</span><span id="601b" class="nv mq jj nr b gy oa nx l ny nz">type(dic_a['A'])<br/>&gt;&gt;&gt; dict</span></pre><p id="0363" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果想要进一步访问内部字典(第2层)的键-值对，现在需要使用<code class="fe ob oc od nr b">dic_a['A']</code>作为字典。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="9b66" class="nv mq jj nr b gy nw nx l ny nz">dic_a['A']['B']<br/>&gt;&gt;&gt; 'Ball'</span></pre><h1 id="0647" class="mp mq jj bd mr ms op mu mv mw oq my mz kp or kq nb ks os kt nd kv ot kw nf ng bi translated">三层字典</h1><p id="163d" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">让我们添加一个额外的嵌套字典层。现在，<code class="fe ob oc od nr b">dic_a['A']</code>本身就是一个嵌套字典，不像上面最简单的嵌套字典。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="cdf4" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': {'B': {'C': 'Cat'}}}</span><span id="37fb" class="nv mq jj nr b gy oa nx l ny nz"># Layer 1<br/>dic_a['A']<br/>&gt;&gt;&gt; {'B': {'C': 'Cat'}}</span><span id="e125" class="nv mq jj nr b gy oa nx l ny nz"># Layer 2<br/>dic_a['A']['B']<br/>&gt;&gt;&gt; {'C': 'Cat'}</span><span id="af1d" class="nv mq jj nr b gy oa nx l ny nz"># Layer 3<br/>dic_a['A']['B']['C']<br/>&gt;&gt;&gt; 'Cat'</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="78de" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">13)检查字典中是否存在关键字</h1><p id="2e11" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">您可以使用<code class="fe ob oc od nr b">in</code>操作符来查找特定的键是否存在于字典中。</p><pre class="nm nn no np gt nq nr ns nt aw nu bi"><span id="f054" class="nv mq jj nr b gy nw nx l ny nz">dic_a = {'A': 'Apple', 'B': 'Ball', 'C': 'Cat', 'D': 'Dog'}</span><span id="6bbb" class="nv mq jj nr b gy oa nx l ny nz">'A' in dic_a<br/># True</span><span id="b109" class="nv mq jj nr b gy oa nx l ny nz">'E' in dic_a<br/># False</span></pre><p id="d1d4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的代码中，不需要使用“in dic_a.keys()”，因为“in dic_a”已经在键中查找了。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><p id="070f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这让我想到了这篇文章的结尾。您可以在这里访问本系列的第一部分“Python中的数据结构”<a class="ae jg" rel="noopener" target="_blank" href="/data-structures-in-python-da813beb2a0d">。</a></p></div></div>    
</body>
</html>