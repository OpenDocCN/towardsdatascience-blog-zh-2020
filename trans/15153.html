<html>
<head>
<title>Analysing Company Earning Calls with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python分析公司收入呼叫</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/analysing-company-earning-calls-with-python-9420b603d928?source=collection_archive---------32-----------------------#2020-10-18">https://towardsdatascience.com/analysing-company-earning-calls-with-python-9420b603d928?source=collection_archive---------32-----------------------#2020-10-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9392" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">构建一个<strong class="ak"> Python脚本来分析公司盈利呼叫</strong>。</h2></div><p id="7b3c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本帖中，我们将<strong class="kh ir">摘录管理层在最近的收入电话会议中陈述的关于<strong class="kh ir">公司</strong>近期和未来<strong class="kh ir">业绩</strong>的主要要点。</strong></p><p id="f351" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">代码将非常简单。我们将通过我们感兴趣的任何公司的股票，结果将是一个令人惊讶的收益电话会议的简短总结。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/908de4ed0a8b0a4f99bb4b9c75e25c25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tm2fbLdudjJzIZ0C"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">卡罗琳娜·格拉博斯卡在<a class="ae lr" href="https://www.pexels.com/photo/american-dollar-banknotes-rolled-and-tightened-with-red-band-4386477/" rel="noopener ugc nofollow" target="_blank">Pexels.com</a>拍摄的照片</p></figure><h1 id="1a98" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为什么要分析公司盈利电话</h1><p id="f7c2" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">公司盈利电话是了解企业经营状况和下一季度预期的主要信息来源之一。</p><p id="74ac" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">公司盈利电话是公开的。通常，我们可以访问该公司的网站，并拨入电话，听取管理层的意见。收益电话会议通常安排在公司收益公开发布的同一天。电话会议的结构很简单，管理层概述了上个季度的运营情况和未来的指导。此外，记者可以向最高管理层询问有关业务的问题。</p><p id="8607" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他们听起来很有见地。但是，浏览整个电话可能会很耗时，尤其是当我们对多家公司感兴趣时。</p><p id="c540" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，在这篇文章中，我们要做的是使用Python 自动分析公司盈利呼叫。</p><h1 id="232c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Python如何帮助分析公司盈利电话？</h1><p id="c04c" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">使用Python，我们不仅能够执行定量分析，正如我们在我以前的帖子中所学的那样。其中，我们可以，例如，使用<a class="ae lr" href="https://en.wikipedia.org/wiki/Natural_language_processing" rel="noopener ugc nofollow" target="_blank">自然语言</a>处理来分析语言结构或执行<a class="ae lr" href="https://www.kaggle.com/ngyptr/python-nltk-sentiment-analysis" rel="noopener ugc nofollow" target="_blank">情感分析</a>。</p><p id="c92b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本帖中，我们将重点传递公司收入电话的完整记录作为输入。然后，我们将提取关键点，这将有助于我们了解一家公司的发展方向以及最近的表现如何。以下是我们将回答的一些问题:</p><ul class=""><li id="6bf9" class="mp mq iq kh b ki kj kl km ko mr ks ms kw mt la mu mv mw mx bi translated">公司上个季度表现如何？</li><li id="6fb0" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">销售额的预期增长是多少？</li><li id="6997" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">哪条线的产品表现更好？</li><li id="f730" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">公司有望增加净利润吗？</li><li id="2280" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">还有更多</li></ul><h1 id="e4f8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Python脚本分析公司盈利电话</h1><p id="6d7f" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">我们通过向<a class="ae lr" href="https://financialmodelingprep.com/developer/docs/#Earning-Call-Transcript" rel="noopener ugc nofollow" target="_blank"> financialmodelingprep </a>发出<em class="nd"> get </em>请求来开始我们的代码，以便检索最新收益的副本。</p><p id="5858" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本帖中，我们将分析<em class="nd">苹果</em>，但是可以随意更改公司名称来分析任何其他公司。此外，取消对变量<em class="nd"> demo </em>的注释，并传递您的API密钥(注册后您可以在<a class="ae lr" href="https://financialmodelingprep.com/developer/docs/pricing/codingAndFun/" rel="noopener ugc nofollow" target="_blank"> financialmodelingprep </a>中免费获得一个)，以便对API的请求能够工作。</p><p id="53d0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们将从API获得的完整字符串存储在变量<em class="nd">的副本</em>中。接下来，我们可以使用Python <a class="ae lr" href="https://www.w3schools.com/python/ref_string_split.asp" rel="noopener ugc nofollow" target="_blank"> split </a>方法。该方法将创建一个Python列表，其中包含由每个新行(即/n字符)分割的脚本，如下面的结果所示。</p><pre class="lc ld le lf gt ne nf ng nh aw ni bi"><span id="4953" class="nj lt iq nf b gy nk nl l nm nn">import requests<br/>import pandas as pd<br/><br/>#demo= 'your api key'<br/><br/>company = 'AAPL'<br/><br/>transcript = requests.get(f'https://financialmodelingprep.com/api/v3/earning_call_transcript/{company}?quarter=3&amp;year=2020&amp;apikey={demo}').json()<br/><br/>transcript = transcript[0]['content'].split('\n')<br/>print(transcript)<br/><br/>#outcome<br/>["Operator: Good day, everyone. Welcome to the Apple Incorporated Third Quarter Fiscal Yea</span></pre><p id="dac8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们有了一个Python列表，其中包含了最新的苹果公司的每一句话，我们将把它传递给熊猫数据帧。我们将用熊猫来分析收益记录。我们将搜索单词“expect”以保留包含单词<em class="nd"> expect </em>的所有句子。</p><pre class="lc ld le lf gt ne nf ng nh aw ni bi"><span id="6461" class="nj lt iq nf b gy nk nl l nm nn">earnings_call = pd.DataFrame(transcript,columns=['content'])<br/>word_to_analyze = 'expect'<br/><br/>analysis = earnings_call[earnings_call['content'].str.contains(word_to_analyze)]<br/>text_earnings = analysis['content'].values</span></pre><p id="4c54" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，在分析变量中，我们使用<em class="nd"> str.contains </em>方法过滤掉所有含有<em class="nd">except</em>单词的句子。你可以随意改变这个词来分析公司的任何其他方面，比如收入、利润。</p><p id="9c0b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们从熊猫系列中提取值，以得到如下所示的句子。只保留带<em class="nd">期待</em>字样的句子。</p><pre class="lc ld le lf gt ne nf ng nh aw ni bi"><span id="f9b1" class="nj lt iq nf b gy nk nl l nm nn">print(text_earnings)<br/>#outcome<br/>array(["Tim Cook: Thanks, Tejas. Good afternoon, everyone. Thanks for joining the call today. Be...</span></pre><p id="0c3f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你进一步研究变量text _ incomes，你会发现有些句子还是太长了。我们将循环遍历它们，以便在每次遇到“.”时将它们分开。然后，我们将只打印包含单词<em class="nd">和</em>的句子:</p><pre class="lc ld le lf gt ne nf ng nh aw ni bi"><span id="11b7" class="nj lt iq nf b gy nk nl l nm nn">for text in text_earnings:<br/>  for phrase in text.split('. '):<br/>    if word_to_analyze in phrase:<br/>      print(phrase)<br/>      print()<br/><br/>#outcome<br/>Due to the uncertain and ongoing impacts of COVID-19, we did not provide our typical guidance when we reported our results last quarter, but we did provide some color on how we expected the June quarter to play out<br/><br/>In April, we expected year-over-year performance to worsen, but we saw better-than-expected demand in May and June<br/><br/>We expected iPad and Mac growth to accelerate and we saw very strong double-digit growth for these devices this quarter<br/><br/>Wearables growth decelerated as we expected, but still grew by strong double-digits and set a revenue record for a non-holiday quarter<br/><br/>First, results for advertising and AppleCare were impacted by the reduced level of economic activity and store closures to a degree that was in line with our expectations<br/><br/>However, we will provide some additional insight on our expectations for the September quarter for our product categories<br/><br/>On iPhone, we expect to see recent performance continue for our current product lineup, including the strong customer response for iPhone SE<br/><br/>We expect the rest of our product categories to have strong year-over-year performance<br/><br/>For services, we expect the September quarter to have the same trends that we have observed during the June quarter except for AppleCare where during the September quarter a year ago we expanded our distribution significantly<br/><br/>As a consequence, we expect a difficult comp for AppleCare also considering the COVID related point of sale closures this year<br/><br/>For OpEx, we expect to be between $9.8 billion and $9.9 billion<br/><br/>We expect the tax rate to be about 16.5% and OI&amp;E to be $50 million<br/><br/>First one, Tim, when you look at the services business and in terms of your TV+ content production have the movement restrictions impacted the content production efforts? And along the same path four years ago your premonition on services being a $50 billion business in 2020 came sooner than expected, I don't know if you want to make any such forecast four years out and how you think services revenue is going to be<br/><br/>With the strong sales in Mac given the shelter-in-place, do you think the back-to-school season got pulled in by a quarter or do you expect the momentum to still continue? Thank you very much.<br/><br/>Luca Maestri: As I said, when I was talking about providing some commentary for the September quarter, we expect all the non-iPhone product categories to have a very strong year-over-year performance<br/><br/>So we expect the performance that we've seen for Mac in the June quarter to continue.<br/><br/>And then, can you talk a little bit more about the decision to bring Mac Silicon in-house, then the benefits that you</span></pre><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="no np l"/></div></figure><h1 id="edc3" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">包扎</h1><p id="4a86" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">最后，我们总结了收益电话会议，以提取关键信息供我们分析。从上面的例子中，我们可以快速而容易地看出:</p><ul class=""><li id="6701" class="mp mq iq kh b ki kj kl km ko mr ks ms kw mt la mu mv mw mx bi translated">苹果在5月和6月的需求好于预期</li><li id="3c81" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">苹果实现了非常强劲的收入增长，并创造了新的非假日季度记录</li><li id="fafe" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">在今年余下的时间里，预计会有强劲的同比表现</li><li id="9339" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">运营支出约为99亿美元</li><li id="6b85" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">产品类别绩效</li></ul><p id="65cc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个脚本很酷的一点是，你可以将<em class="nd"> expect </em>替换为要分析的单词(例如<em class="nd"> profits </em>)，你将得到你感兴趣的任何公司的简短摘要。</p><p id="0915" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在以后的文章中，我们将继续分析盈利电话记录，执行Python NLTK情绪分析。</p><p id="ad2a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">与此同时，你可以继续阅读我在<a class="ae lr" href="https://codingandfun.com/category/python-for-finance-data-science/" rel="noopener ugc nofollow" target="_blank"> Python for Finance上的其他帖子。</a></p></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><p id="77b3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="nd">原载于2020年10月18日</em><a class="ae lr" href="https://codingandfun.com/analysing-company-earning-calls-with-python/" rel="noopener ugc nofollow" target="_blank"><em class="nd">【https://codingandfun.com】</em></a><em class="nd">。</em></p></div></div>    
</body>
</html>