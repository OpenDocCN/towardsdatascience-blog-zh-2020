<html>
<head>
<title>Python Dictionaries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python词典</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-dictionaries-651acb069f94?source=collection_archive---------9-----------------------#2020-11-15">https://towardsdatascience.com/python-dictionaries-651acb069f94?source=collection_archive---------9-----------------------#2020-11-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="992c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">像专家一样使用Python字典</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/194941276cc01a044fcecd1c4e9d2c15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Y0ztP6StLzlL3Yln"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@freestocks?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">自由股票</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="cf2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Python </strong>编程语言在数据科学项目中被开发者广泛使用。要完成这样的项目，理解数据结构起着重要的作用。Python有几个内置的数据结构，如<strong class="lb iu">列表</strong>、<strong class="lb iu">集合、元组</strong>和<strong class="lb iu">字典</strong>，以支持开发者使用现成的数据结构。</p><p id="901c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将尝试解释为什么以及何时使用<strong class="lb iu"> Python字典</strong>，同时给你一些关于正确使用字典方法的提示。</p><p id="995b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们通过一步一步的解释和例子来详细理解Python字典。</p><h2 id="03ef" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">什么是Python字典？</h2><p id="d466" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">简而言之，一个<strong class="lb iu">字典</strong>可以被定义为存储在<strong class="lb iu">键/值</strong>对中的数据集合。<strong class="lb iu">键</strong>必须是不可变的数据类型(如字符串、整数或元组)，而字典中的<strong class="lb iu">值</strong>可以是任何Python数据类型。</p><p id="e6ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不允许出现重复的<strong class="lb iu">键</strong>。如果同一个<strong class="lb iu">键</strong>在同一个字典中使用了两次，那么最后一次出现的将覆盖第一次出现的。</p><p id="3fd3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">存储在字典中的数据可以被修改，所以它们被称为可变对象。它们是无序的，这意味着我们没有保持指定项目的顺序。(从3.7版本开始订购)</p><p id="5506" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为它们是动态的，它们可以在需要的时候收缩。</p><h2 id="b215" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">什么时候使用Python字典？</h2><p id="dde6" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">既然您现在已经知道了什么是Python字典，那么是时候探索何时在您的代码中使用它们了。</p><p id="c62d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个帮助你理解何时使用Python字典的列表。</p><ul class=""><li id="ab33" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated">当数据具有可以与值相关联的唯一引用时。</li><li id="6392" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">当快速访问数据项很重要时。字典被设计成让我们立即找到一个值，而不需要搜索整个集合。</li><li id="83fb" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">当数据顺序不重要时。</li><li id="6fdd" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">因为字典是可变的，所以使用字典来存储不应该被修改的数据并不是一个好主意。</li><li id="9d71" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">当内存考虑不是应用程序的重要因素时。与列表和元组相比，字典占用更多的内存空间。</li></ul><h2 id="1696" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">如何创建Python字典？</h2><p id="1638" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">有许多创建和初始化字典的方法。如下面的代码片段所示，创建字典最简单的方法是直接使用<strong class="lb iu">花括号</strong>或<strong class="lb iu"> dict() </strong>方法；</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="c44b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有两个可迭代的对象(例如列表对象)，你可以使用<strong class="lb iu"> zip() </strong>函数来创建一个字典。参见下面的例子；</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="944a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">fromkeys() 方法是另一种创建字典的方法。它接受一个iterable对象并创建一个具有指定值的字典，如下面的代码片段所示；</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="c5f6" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">什么是Python词典释义？</h2><p id="c1f6" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">Python <strong class="lb iu">字典理解</strong>提供了一种创建字典的优雅方式。它们使你的代码更容易阅读，更有Pythonic风格。它们缩短了字典初始化所需的代码，并可用于用<strong class="lb iu">代替</strong>循环。</p><p id="99ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">字典理解的一般语法是:</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="f7f6" class="lv lw it nk b gy no np l nq nr">dictionary = {key:value for (key, value) in iterable}</span></pre><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="5f71" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">将条件句添加到词典理解中</h2><p id="c341" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">你可以用<strong class="lb iu">条件语句</strong>扩展字典理解的使用。你可以在下面看到多个<strong class="lb iu">‘if’</strong>条件句、<strong class="lb iu">‘else-if’</strong>条件句在字典理解中的用法；</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="20c1" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated"><strong class="ak">字典操作的时间复杂度</strong></h2><p id="63ad" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated"><strong class="lb iu">获取</strong>、<strong class="lb iu">设置</strong>和<strong class="lb iu">删除</strong>字典中的一个条目具有<strong class="lb iu"> O(1) </strong>的时间复杂度，这意味着无论你的字典有多大，访问一个条目所花费的时间都是恒定的。</p><p id="67b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">在一个字典上迭代</strong>具有<strong class="lb iu"> O(n) </strong>的时间复杂度意味着执行这个任务所花费的时间与字典中包含的条目数量成线性比例。</p><h2 id="2a53" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">如何访问字典中的值</h2><p id="0605" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">如果你试图用一个字典中不存在的<strong class="lb iu">键</strong>访问一个元素，你会得到一个<strong class="lb iu"> KeyError </strong>。了解访问字典中元素的正确方法对于在运行时不出现<strong class="lb iu"> KeyErrors </strong>非常重要。</p><p id="c048" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了避免<strong class="lb iu"> KeyError，</strong>用<strong class="lb iu"> get() </strong>方法访问字典的元素。或者，您可以使用'关键字中的' T45 '来检查该键是否存在。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="b5e8" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">如何将一个条目插入词典？</h2><p id="2bbf" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">没有<code class="fe ns nt nu nk b">add()</code>、<code class="fe ns nt nu nk b">insert()</code>或<code class="fe ns nt nu nk b">append()</code>方法可以用来将条目添加到字典中。相反，您必须创建一个新的键来存储字典中的值。如果字典中已经存在该键，则该值将被覆盖。</p><p id="ed5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码片段展示了许多向字典中添加条目的例子；</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="e3de" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">字典方法有哪些？</h2><p id="0aba" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">Python字典中包含许多<strong class="lb iu">方法</strong>，帮助您在字典对象上执行不同的任务。我在下面列出了它们的简短定义；</p><ul class=""><li id="c1dd" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated"><strong class="lb iu"> popitem() </strong>:从字典中删除最后一项</li><li id="4ab6" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated"><strong class="lb iu"> pop( <em class="nv"> key，defaultvalue </em> ) </strong>:从字典中移除并返回给定键的元素</li><li id="9512" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">keys(): 返回键</li><li id="309b" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated"><strong class="lb iu"> values(): </strong>返回数值</li><li id="84bd" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated"><strong class="lb iu"> items(): </strong>返回字典的键值对</li><li id="7d97" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated"><strong class="lb iu"> get( <em class="nv"> key[，value] </em> ): </strong>如果指定键在字典中，则返回该键的值</li><li id="ab57" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated"><strong class="lb iu"> fromkeys( <em class="nv"> keys，value </em> ): </strong>返回具有指定键和指定值的字典</li><li id="fbcb" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated"><strong class="lb iu"> setdefault( <em class="nv"> key，value </em> ) </strong>:返回具有指定键的项目的值。如果键不存在，则插入具有指定值的键</li><li id="114c" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated"><strong class="lb iu">update(<em class="nv">iterable</em>)</strong>:如果关键字不在字典中，则将指定的项目插入字典，否则更新值</li><li id="9f46" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated"><strong class="lb iu"> copy(): </strong>返回字典的浅层副本</li><li id="2f42" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated"><strong class="lb iu"> clear(): </strong>从字典中删除所有项目</li></ul><h2 id="642e" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">如何从字典中删除一个条目？</h2><p id="b80f" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">要从dictionary对象中删除一个条目，可以使用<strong class="lb iu"> 'del' </strong>关键字或<strong class="lb iu"> pop() </strong>方法。此外，您可以使用<strong class="lb iu">字典理解</strong>删除字典中的条目。请查看下面的代码片段，了解这些方法的实现示例；</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="a054" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">如何抄字典？</h2><p id="ce9e" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">您可以使用<strong class="lb iu"> copy() </strong>方法获得一个现有字典的<strong class="lb iu">浅层副本</strong>。<strong class="lb iu">浅拷贝</strong>意味着一个新的字典将用对现有字典中对象的引用来填充。</p><p id="528f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要创建深层副本，应使用<strong class="lb iu"> 'copy.deepcopy(dict)' </strong>方法。它用原始字典的所有元素创建一个完全独立的副本。</p><p id="efb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参见下文，了解如何在字典对象上实现<strong class="lb iu">浅拷贝</strong>和<strong class="lb iu">深拷贝</strong>方法；</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="289a" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">如何合并字典？</h2><p id="5392" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">您可以使用包含<strong class="lb iu"> dict.copy() </strong>和<strong class="lb iu"> dict.update() </strong>方法的自定义函数来合并字典。</p><p id="d155" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Python 3.5及更高版本中，您可以使用'<strong class="lb iu"> **' </strong>操作符通过解包来合并字典。</p><p id="f5ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">合并字典最简单、最容易的方法是使用Python 3.9+中可用的合并操作符<strong class="lb iu"> '|' </strong></p><p id="94fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码片段通过示例展示了上述所有方法的实现；</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="2ecb" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">如何对字典中的条目进行排序？</h2><p id="b367" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">Python字典在3.7版之前是无序的，所以即使对(键，值)对进行排序，也不能通过保留顺序将它们存储在字典中。为了保持排序，我们可以将排序后的字典存储在一个<code class="fe ns nt nu nk b"><a class="ae ky" href="http://docs.python.org/library/collections.html#collections.OrderedDict" rel="noopener ugc nofollow" target="_blank">OrderedDict</a></code>中</p><p id="c89e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参见下文，了解如何通过<strong class="lb iu">键</strong>和<strong class="lb iu">值对字典进行排序；</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="a8d2" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">如何在字典中循环？</h2><p id="6405" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">Python字典方法；<strong class="lb iu"> values()、keys()、</strong>和<strong class="lb iu"> items() </strong>提供了对字典中包含的元素的访问。您可以在<strong class="lb iu"> for循环</strong>中使用它们来遍历字典。</p><p id="85fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另外，<strong class="lb iu">字典理解</strong>也可以用于迭代，如下所示；</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h1 id="c3a7" class="nw lw it bd lx nx ny nz ma oa ob oc md jz od ka mg kc oe kd mj kf of kg mm og bi translated">结论和关键要点</h1><p id="c7bd" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">因为数据结构是我们程序的基础部分，所以对Python字典有一个坚实的理解对于创建高效的程序是非常重要的。</p><p id="7d98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我解释了为什么以及什么时候使用字典，下面列出了一些要点；</p><ul class=""><li id="5c38" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated">当数据具有可以与<strong class="lb iu">值</strong>关联的<strong class="lb iu">唯一引用</strong>时，可以使用Python字典。</li><li id="6752" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">由于<strong class="lb iu">字典</strong>是<strong class="lb iu">可变的</strong>，使用字典来存储那些一开始就不应该被修改的数据并不是一个好主意。</li><li id="5735" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">Python字典在3.7版本之前是无序的，所以即使你对(键，值)对进行了排序，你也不能通过保留顺序来将它们存储在字典中。</li><li id="2a99" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">Python <strong class="lb iu">字典理解</strong>提供了一种创建字典的优雅方式。它们使你的代码更容易阅读，更有Pythonic风格。</li></ul><p id="3154" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读！</p></div></div>    
</body>
</html>