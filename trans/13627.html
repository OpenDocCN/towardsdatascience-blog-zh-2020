<html>
<head>
<title>Creating an iPhone App-Like Only With Your Data Science Skills: One-Tap Life Logger Linked to Google Sheets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">只用你的数据科学技能创建一个类似iPhone的应用程序:一键生活日志链接到Google Sheets</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-an-iphone-app-like-with-only-your-data-science-skills-one-tap-life-logger-ac691698d3b3?source=collection_archive---------45-----------------------#2020-09-18">https://towardsdatascience.com/creating-an-iphone-app-like-with-only-your-data-science-skills-one-tap-life-logger-ac691698d3b3?source=collection_archive---------45-----------------------#2020-09-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6303" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你用的都是Python和GCP云函数或者Heroku。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3d7d7912dfbb54c47b7bd410800c0fd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gsaS6Xy25HCcRI_BBGdnkQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="0d7b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我没有把自己培养成一名移动应用程序开发人员，因此在我的iPhone上拥有自己的应用程序超出了我的梦想。但是，一些简单的功能，如我将在本文中演示的功能，可以在没有任何软件开发技能和流程的情况下实现，如Swift编程和app store review。</p><p id="2b24" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里，我想创建一个简单的功能，比如当你点击一个图标时，它会记录你点击它的时间。</p><p id="eb84" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你点击的以下生活日志怎么样，其中没有一个是你想为此建立一个电子表格的？</p><ul class=""><li id="b5c9" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><em class="md">到达办公室时</em>:你一到办公室就查看邮件，所以你忘了写下你到达办公室的时间，对吗？(远程工作人员的情况并非如此)</li><li id="a803" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt lz ma mb mc bi translated"><em class="md">离职时</em>:你平时都在跑步，所以忘了写时间，对吧？(远程工作人员的情况并非如此)</li><li id="c577" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt lz ma mb mc bi translated"><em class="md">喂宝宝的时候</em>:你忘了写下来，因为你平时都是在收拾烂摊子，对吧？(每个人都是这样)</li><li id="f65b" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt lz ma mb mc bi translated"><em class="md">当宝宝醒来</em>:战争开始了！我没时间做笔记！(每个人都是这样)</li></ul><p id="ca2a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们停止把它存储在本地设备上，把它放到云中。这就是我们现在所做的一切。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/e02940b1b8b1138efb038d4cde23665b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hdqqymo8nHEAHq7f"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">德里克·欧文斯在<a class="ae mk" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="d0a8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我就是这样想出这个主意的:<strong class="la iu">当你在你的iPhone(或任何其他智能手机)上点击图标时，它会自动记住时间，并记录在Google Sheets中</strong>。</p><p id="d615" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这篇文章中，我将写下我是如何做到这一点的，不需要真正构建移动应用程序，甚至只需要数据科学技能！</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="cee9" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">目录</h1><ul class=""><li id="0775" class="lu lv it la b lb nk le nl lh nm ll nn lp no lt lz ma mb mc bi translated">规划解决方案</li><li id="6026" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt lz ma mb mc bi translated">API解决方案演示1——谷歌云功能</li><li id="62b7" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt lz ma mb mc bi translated">API解决方案演示2—Heroku</li><li id="56b2" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt lz ma mb mc bi translated">结尾注释</li></ul></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="4d31" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">规划解决方案</h1><p id="94f7" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">现在这里是我如何规划背景架构。</p><p id="efd6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们想要的是iPhone主屏幕上的图标。轻触其中一个图标会触发某种东西，并以某种方式在谷歌表单中记录下来。不使用特殊的编程技巧，怎么做呢？？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/a5cf0c7f83295563f46b63315e51c3c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QbYrDrI0ZWRgvDd4jTKRUQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">没有CS技能，如何连接你的iphone图标和Google Sheets？(图片由作者提供)</p></figure><p id="2c4b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是我是如何作弊的:<strong class="la iu">图标不是app，是一个特定HTTP请求的Safari快捷方式</strong>。中间出现一个API，接收HTTP调用，最后把记录推送到Google Sheets。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/96ff79a2d4aa55a19415c7d560e42393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VdI6CX3JOP-O49w_Ze9dKg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击图标-&gt; HTTP请求-&gt; API触发器-&gt;推送到Google工作表。(图片由作者提供)</p></figure><p id="827a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个技巧已经解决了大部分技术问题，但是仍然有一个问题:谁以及如何托管API。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/ed8bb378c153546c7cc8182f2130fc69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LxWg2IxfbVhsfsZUewBPWQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">谁将主持API？(图片由作者提供)</p></figure><p id="a3e4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有许多可能的API解决方案，但是每一个都有优点和缺点。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/93c877190743d8fee6c61ea24c473511.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*McoQYpasboLxuwnU_alRew.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">每个API解决方案的优缺点</p></figure><p id="7951" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过使用<strong class="la iu">个人服务器</strong>，你不得不准备许多，但在配置上有更多的自由作为回报。保持机器一直运行以等待HTTP请求的维护成本很高，因此这次对于像我们这样的小应用程序来说是大材小用。</p><p id="80c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> PaaS(比如Heroku) </strong>是一个可行的选择，可以让你的应用一直保持托管和服务状态。正如我们将在后面看到的那样，设置起来相当容易。实际上，我认为这是所有解决方案中最公平的一个；唯一值得注意的是，Heroku免费帐户有每月使用限制——所有应用程序每月使用1000小时。这相当于41.7天，因此对于一个应用程序来说足够了，但当你已经有另一个应用程序在Heroku上运行时，这可能就很重要了。</p><p id="e3bf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">像AWS上的Lambda或GCP上的Cloud Functions这样的云端无服务器服务</strong>是另一个可能的选择。虽然它是最容易部署的，因为几乎每个基础设施都是托管的，并且您只需要运行Python代码，但是每个无服务器服务在配置上都有其不可改变的限制:当您使用外部库(包括Pandas！);而云函数每个函数只接收来自一个URL的HTTP请求，这意味着当我们有多个生活事件想要记录时，我们必须复制Python代码并反复编辑几行。</p><p id="caee" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我演示了使用云函数和Heroku的情况。从代码的角度来看，本地服务器案例与Heroku案例非常相似。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="5d8f" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">API解决方案演示1——谷歌云功能</h1><p id="2f1a" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">要让Google Cloud函数接收HTTP请求并将记录推送到Google Sheets，请执行以下步骤:</p><h2 id="f8b7" class="nw mt it bd mu nx ny dn my nz oa dp nc lh ob oc ne ll od oe ng lp of og ni oh bi translated">步骤1 —创建一个新的GCP项目</h2><p id="a60f" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">最好创建一个新项目，以便与您已经拥有的其他项目隔离开来。我新建了一个，名字叫“记录iPhone点击”。</p><h2 id="4e7b" class="nw mt it bd mu nx ny dn my nz oa dp nc lh ob oc ne ll od oe ng lp of og ni oh bi translated">第二步——首先配置Google Sheets来接收来自云功能的数据推送</h2><p id="420c" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">首先设置Google Sheets端，因为我们需要云函数代码的认证信息。</p><p id="2731" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本页的描述之后，</p><ol class=""><li id="aa28" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt oi ma mb mc bi translated">启用“Google Drive API”。</li><li id="49d5" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt oi ma mb mc bi translated">启用“谷歌工作表API”。</li><li id="7f3c" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt oi ma mb mc bi translated">转到“APIs &amp;服务&gt;凭据”并选择“创建凭据&gt;服务帐户密钥”。</li><li id="6ec6" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt oi ma mb mc bi translated">填写表格</li><li id="8347" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt oi ma mb mc bi translated">点击“创建密钥”</li><li id="e674" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt oi ma mb mc bi translated">选择“JSON”并点击“创建”。JSON文件的下载会自动进行。</li><li id="ca22" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt oi ma mb mc bi translated">请注意JSON文件中“client_email”的地址。</li><li id="99e2" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt oi ma mb mc bi translated">将JSON文件保存到云函数可以访问的地方。</li><li id="e397" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt oi ma mb mc bi translated">在Google Sheets中创建电子表格。在单元格A1中写入“事件”,在单元格B1中写入“时间”,作为最终日志记录的标题。</li><li id="7cb5" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt oi ma mb mc bi translated">在工作表文件中，按下右上角的“Share”按钮，将您在上面第7步中获得的client_email添加为授权用户。</li></ol><p id="8002" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这就是全部！</p><h2 id="f9a7" class="nw mt it bd mu nx ny dn my nz oa dp nc lh ob oc ne ll od oe ng lp of og ni oh bi translated">步骤3—在云功能中配置新功能</h2><p id="7d5f" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">转到“云函数”并创建函数。使用触发器类型作为“HTTP”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/e13be6d9e632b2f96f67b0fef2631081.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sfQJna2dUwl9BDo56HSOlw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">新云功能的配置(作者截图)</p></figure><h2 id="8eb4" class="nw mt it bd mu nx ny dn my nz oa dp nc lh ob oc ne ll od oe ng lp of og ni oh bi translated">步骤4—将代码输入main.py和requirements.txt</h2><p id="20ab" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">点击左下角的下一步，进入代码输入页面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/2238e86b775b0c7b35a861569c6de02b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VJWARHoVEK5B3hekVaA00Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">新云功能代码</p></figure><p id="0b5b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是我实际使用的代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">main.py</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">requirements.txt</p></figure><p id="8f69" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请记住，服务帐户JSON文件需要下载到本地文件夹中，当您想要在云功能中执行此操作时，您必须将文件保存在<code class="fe on oo op oq b">/tmp/</code>子文件夹中。否则，云功能拒绝构建您的应用程序。</p><h2 id="4db5" class="nw mt it bd mu nx ny dn my nz oa dp nc lh ob oc ne ll od oe ng lp of og ni oh bi translated">步骤5 —部署功能</h2><p id="ecae" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">点击“部署”按钮，等待成功部署。可能需要几分钟。</p><h2 id="0aab" class="nw mt it bd mu nx ny dn my nz oa dp nc lh ob oc ne ll od oe ng lp of og ni oh bi translated">第六步——找到网址并检查它是否有效</h2><p id="dcd0" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">URL可以在函数的详细信息中找到。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/96d6da0a5c055ff6b77b0c1d849a29f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P29otPLs5zRS8RnvdNnvcQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">你可以在那里找到网址。</p></figure><p id="a238" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您测试单击它，您将看到类似下面的消息，这意味着代码已成功部署。如果您看到内部错误、服务器错误或任何其他错误，一定是出了问题。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/58f930bbda23f591319232ac08519408.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*RpZatPBiRp76-vcoLl0aOw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">成功消息。</p></figure><p id="7a1d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里，您还应该在您创建的工作表中看到一条新记录。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/7146c7dabb5d3ac9f932a8e05fd93aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*XykO93ZbNcUWCClXicuXtQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">工作表中新插入的记录。</p></figure><h2 id="3206" class="nw mt it bd mu nx ny dn my nz oa dp nc lh ob oc ne ll od oe ng lp of og ni oh bi translated">第7步——将网址发送到你的iPhone，并在主屏幕上创建一个Safari链接</h2><p id="b0e5" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">在iPhone上打开您的URL，并将快捷方式添加到主屏幕。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/2c1c8cf631b8ad45d8df924b0de4060d.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*Tnr0zLz9WBMv77bMBPvF7A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将您的链接添加到主屏幕</p></figure><p id="a155" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，您可以在iPhone主屏幕上看到新图标。</p><p id="07fa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">搞定了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/9a4c0002a7b7ec9f6d54089de781a0b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*oy4ZqfuoCAZP-_UfyDsUUA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们最终得到了什么</p></figure><h2 id="2725" class="nw mt it bd mu nx ny dn my nz oa dp nc lh ob oc ne ll od oe ng lp of og ni oh bi translated">第八步——为你的其他生活日志制作URL链接，一次又一次地复制函数，设置事件名称，并将每个快捷方式添加到你的主屏幕。</h2><p id="af2e" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">这是这个选项最不方便的地方:云函数的代码只能链接到一个HTTP请求URL。因此，如果你需要一个以上的生活日志(像“喂宝宝”、“宝宝醒来”、“到达办公室”等。)，你唯一能做的就是一次又一次地创建函数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/5ae16c714aeab7ba98686ad0a66878dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r-cRB_bGZFVXICV2YL16ug.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">为每个事件设置单独的功能。</p></figure><p id="8cb7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当您对API设置有更多的控制时，这个过程可以大大减少，就像使用Heroku的下一个选项一样！</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="c80e" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">API解决方案演示2—Heroku</h1><p id="1267" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated"><a class="ae mk" rel="noopener" target="_blank" href="/need-to-prepare-a-demo-site-for-your-analysis-on-python-think-of-heroku-flask-dash-f8680a859105">在我的另一篇文章</a>中，我已经讨论了很多关于Heroku的好处以及如何建立的问题。因此，我将只讨论提交到与Heroku同步的GitHub存储库的代码。设置完成后，Heroku可以自动从GitHub下载你的应用并进行部署。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/22df2eb40f253c50aac2e29c68bd1e7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0NATIDUgJAmCfZPpaEG8Pg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Heroku与GitHub存储库同步，全天候提供最新的应用程序。(图片由作者提供)</p></figure><h2 id="9f26" class="nw mt it bd mu nx ny dn my nz oa dp nc lh ob oc ne ll od oe ng lp of og ni oh bi translated">步骤1 —准备要与Heroku同步的GitHub存储库</h2><p id="784d" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">这是我的GitHub库:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/4a9e9d5bcf63f040492b8c4f6b41ccbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aGmPsWPUHWDtJ1gqyLQgDQ.png"/></div></div></figure><p id="feae" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">requirements.txt和上面带云函数的Demo 1一模一样。</p><p id="ed26" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是另外两个文件中的内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Procfile</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">app.py</p></figure><p id="ee90" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如你在代码中看到的，在Heroku代码中，你需要编写一些额外的代码来通过Flask设置app。另一方面，我们可以设置多个URL，子目录链接到你想要设置的每个生活日志(像<code class="fe on oo op oq b"><em class="md">main domain/feed-baby</em></code>)，而不需要为它们准备多个app，不像上面的云功能案例。</p><h2 id="4ed9" class="nw mt it bd mu nx ny dn my nz oa dp nc lh ob oc ne ll od oe ng lp of og ni oh bi translated">步骤2 —配置Heroku与GitHub存储库同步</h2><p id="c606" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">这一步欠很多<a class="ae mk" rel="noopener" target="_blank" href="/need-to-prepare-a-demo-site-for-your-analysis-on-python-think-of-heroku-flask-dash-f8680a859105">我在这里的另一个帖子</a>告诉你怎么做。只要你选择了我们刚刚建立的正确的GitHub库，没有什么不同。</p><h2 id="4c0c" class="nw mt it bd mu nx ny dn my nz oa dp nc lh ob oc ne ll od oe ng lp of og ni oh bi translated">第三步——找到网址并检查它是否有效</h2><p id="26c0" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">从Heroku设置中找到根URL，为生活日志添加子目录，如<code class="fe on oo op oq b"><a class="ae mk" href="https://record-iphone-click.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">https://&lt;your subdomain of Heroku app&gt;.herokuapp.com/</a>arrive-at-office/</code>。检查你的浏览器和工作表的API是否正常工作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/5af22a00b7156b7fbba6e2804d6bb4bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*iewQXHqqD9HPi5mauXWcZw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">检查你的浏览器</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/c5af5041ed93b1dabfd9362e858fd746.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*AzSHn9UdyrRG1V-UhOGHyA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">检查你的工作表</p></figure><h2 id="0697" class="nw mt it bd mu nx ny dn my nz oa dp nc lh ob oc ne ll od oe ng lp of og ni oh bi translated">第四步——将网址发送到你的iPhone，并在主屏幕上创建一个Safari链接</h2><p id="4b6e" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">这一步和上面云函数的情况完全一样。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/9a4c0002a7b7ec9f6d54089de781a0b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*oy4ZqfuoCAZP-_UfyDsUUA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们最终得到了什么</p></figure></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="95a0" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">结尾注释</h1><p id="d777" class="pw-post-body-paragraph ky kz it la b lb nk ju ld le nl jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">在这篇文章中，我展示了一个例子，结合数据科学家已经知道的技能，可以达到比我们通常预期的更进一步的应用。</p><p id="cdf6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">iPhone(或任何智能手机)可以发出HTTP请求，当我们可以正确设置工作流时，通过HTTP请求&gt;启动代码&gt;给出结果，任何事情都可以完成。这篇文章演示了一个非常简单的例子，通过点击iPhone图标将生活日志记录到Google Sheets，但是任何进一步的高级应用程序都可以生成，这取决于您的想象力！</p></div></div>    
</body>
</html>