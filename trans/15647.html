<html>
<head>
<title>How To Build and Deploy a Machine Learning Model with FastAPI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用FastAPI构建和部署机器学习模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857?source=collection_archive---------4-----------------------#2020-10-28">https://towardsdatascience.com/how-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857?source=collection_archive---------4-----------------------#2020-10-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b04c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">保证在10分钟内部署您的第一个模型</h2></div><p id="e557" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">建立机器学习模型只是其中的一部分。要在现实世界中发挥作用，用户和开发人员必须能够访问它。部署机器学习模型的最简单和最广泛使用的方法是将它们包装在REST API中。这正是我们今天要做的，用一个趋势库— <em class="le"> FastAPI </em>。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/4f4bd54706d32df37415f828a38e7e9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AvQcb875kutMJhSn2bKULQ.jpeg"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">在<a class="ae lv" href="https://unsplash.com/s/photos/server?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae lv" href="https://unsplash.com/@scienceinhd?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">科普高清</a>照片</p></figure><p id="8252" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">那么，FastAPI是什么？</em>根据<a class="ae lv" href="https://fastapi.tiangolo.com/" rel="noopener ugc nofollow" target="_blank">官方文档</a>，它是一个用Python 3.6+构建API的现代快速web框架。就性能而言，它与<em class="le"> NodeJS </em>和<em class="le"> Go </em>在一起，这说明了一些问题。它也很容易学习，并带有自动交互文档，稍后会有更多介绍。</p><p id="a254" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本文旨在涵盖足够多的库，以便从模型部署的角度帮助您入门。这不是一个明确的指南，因为这需要关于更高级主题的多篇文章，比如异步编程。阅读后，您将知道如何部署机器学习模型，并使用它从Python、命令行或其他编程语言进行预测。</p><p id="5f20" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这篇文章的结构如下:</p><ul class=""><li id="90f4" class="lw lx it kk b kl km ko kp kr ly kv lz kz ma ld mb mc md me bi translated">FastAPI安装和构建第一个API</li><li id="4573" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld mb mc md me bi translated">交互式文档探索</li><li id="2c54" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld mb mc md me bi translated">训练机器学习模型</li><li id="756e" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld mb mc md me bi translated">构建完整的REST API</li><li id="d414" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld mb mc md me bi translated">测试</li><li id="9dfa" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld mb mc md me bi translated">结论</li></ul><h1 id="ab45" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">FastAPI安装和构建第一个API</h1><p id="ab08" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">首先，你必须安装这个库和一个ASGI服务器——uvicon和Hypercorn都可以。从终端执行这一行可以达到目的:</p><pre class="lg lh li lj gt nh ni nj nk aw nl bi"><span id="64ff" class="nm ml it ni b gy nn no l np nq">pip install fastapi uvicorn</span></pre><p id="715b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，您可以为API创建一个文件夹，并在您喜欢的代码编辑器中打开它。要继续，创建一个名为<code class="fe nr ns nt ni b">app.py</code>的Python脚本。您可以随意给自己的文件起不同的名字，但是在整篇文章中我将把这个文件称为<code class="fe nr ns nt ni b">app.py</code>。</p><p id="e15b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是为了创建一个具有两个端点的简单API而必须做的事情的列表:</p><ol class=""><li id="65d8" class="lw lx it kk b kl km ko kp kr ly kv lz kz ma ld nu mc md me bi translated">导入库——包括<em class="le"> FastAPI </em>和<em class="le">uvicon</em></li><li id="76b2" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld nu mc md me bi translated">创建FastAPI类的实例</li><li id="ecd2" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld nu mc md me bi translated">声明第一个路由—在索引页面上返回一个简单的JSON对象(http://127.0.0.1:8000 —这是在步骤5中配置的)</li><li id="fb79" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld nu mc md me bi translated">声明第二条路线——返回一个包含个性化消息的简单JSON对象。name参数直接来自URL(例如<a class="ae lv" href="http://127.0.0.1:8000/John" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8000/John</a></li><li id="3ba9" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld nu mc md me bi translated">用<em class="le">uv icon</em>运行API</li></ol><p id="7d9f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下代码片段演示了如何实现这五个步骤:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="a9e1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就是这样！现在让我们运行我们的API。为此，在<code class="fe nr ns nt ni b">app.py</code>所在的位置打开一个终端窗口。现在键入以下内容:</p><pre class="lg lh li lj gt nh ni nj nk aw nl bi"><span id="f52f" class="nm ml it ni b gy nn no l np nq">uvicorn app:app --reload</span></pre><p id="f052" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">并点击<em class="le">进入</em>。在继续之前，让我们揭开这个说法的神秘面纱。第一个<em class="le"> app </em>指的是你的Python文件的名字，不带扩展名。第二个<em class="le">应用</em>必须与您命名FastAPI实例的方式相同(参见上面列表中的步骤2或代码片段中的注释2)。- <em class="le"> reload </em>表示您希望API在您保存文件时自动刷新，而无需重新启动整个文件。</p><p id="73e4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在打开您选择的浏览器并转到<a class="ae lv" href="http://127.0.0.1:8000" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8000</a>—您应该会看到以下输出:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/042629666b6f77ad049c85a7ac9a040a.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/0*Ih9SY8w1OMq7iSTE.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="8a4a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一个端点按照广告的方式工作。现在让我们检查另一个。转到以下URL:<a class="ae lv" href="http://127.0.0.1:8000/John" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8000/John</a>—应该会出现以下消息:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/6b86524bd5678013903c568685ac334c.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/0*U0Qq_U1hfW588fSV.png"/></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="ddb9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以输入任何一个名字来代替约翰，一切仍然可以工作。</p><p id="eeda" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在你知道如何用FastAPI创建一个简单的API了——在进入机器学习之前，让我们看看还包括什么。暂时不要关闭终端窗口。</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h1 id="7656" class="mk ml it bd mm mn og mp mq mr oh mt mu jz oi ka mw kc oj kd my kf ok kg na nb bi translated">交互式文档探索</h1><p id="5214" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">下面是使FastAPI成为API库之王的一个(或两个)特性——内置的交互式文档。我的意思是。打开下面的URL:<a class="ae lv" href="http://127.0.0.1:8000/docs" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8000/docs</a>—您会立即看到您的API的文档页面！它应该是这样的:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ol"><img src="../Images/e1db7b633089541a16e42d7e3ddf9d90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AvllfK1Tfdou-Etq.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="94fc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以单击任何一个端点来进一步探索它，甚至执行实时的浏览器内测试。方法如下:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi om"><img src="../Images/8450103dbf5a5fc9027408391181f4b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MJ7i1Dq4g8becx1n.gif"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="a281" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这不是很神奇吗？您也可以使用这个文档页面来记录您的API端点。这是通过将文档字符串放在函数声明的正下方来实现的。以下代码片段演示了如何操作:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="82a4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您的API文档现在看起来像这样:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi om"><img src="../Images/a273075d7fea0bddecc70a25bf6f160a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wVehZn9vyivzoDG8.gif"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="21cb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你不喜欢<em class="le"> Swagger UI </em>(到目前为止你所看到的)的外观和感觉，还有另一个内置选项。要进行探索，请打开以下URL:<a class="ae lv" href="http://127.0.0.1:8000/redoc" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8000/redoc</a>—将会出现此页面:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi on"><img src="../Images/b3281b2405a601bb71910c6c8c1e44d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RHsreOsbZhfTsjkj.gif"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="bece" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在您知道了如何构建和研究API文档。接下来让我们关注一个机器学习API。</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h1 id="e498" class="mk ml it bd mm mn og mp mq mr oh mt mu jz oi ka mw kc oj kd my kf ok kg na nb bi translated">训练机器学习模型</h1><p id="72b0" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">这篇文章越来越长，所以我们不要在这部分浪费时间。我们将训练一个简单的模型，不需要任何数据准备和探索。这些不是今天主题的核心，也与模型部署无关。基于Iris数据集部署模型的过程与基于神经网络的过程相同。</p><p id="58f9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们就这么做——下载<a class="ae lv" href="https://raw.githubusercontent.com/uiuc-cse/data-fa14/gh-pages/data/iris.csv" rel="noopener ugc nofollow" target="_blank">虹膜数据集</a>并训练模型。嗯，没那么容易。首先，创建名为<code class="fe nr ns nt ni b">Model.py</code>的文件。在其中，您将执行以下步骤:</p><ol class=""><li id="73b5" class="lw lx it kk b kl km ko kp kr ly kv lz kz ma ld nu mc md me bi translated">imports——您需要<code class="fe nr ns nt ni b">pandas</code>、<code class="fe nr ns nt ni b">scikit-learn</code>中的<code class="fe nr ns nt ni b">RandomForecastClassifier</code>、<code class="fe nr ns nt ni b">pydantic</code>中的<code class="fe nr ns nt ni b">BaseModel</code>(您将在下一步中看到原因)，以及【T6——用于保存和加载模型</li><li id="fa3d" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld nu mc md me bi translated">声明一个继承自<code class="fe nr ns nt ni b">BaseModel</code>的类<code class="fe nr ns nt ni b">IrisSpecies</code>。该类仅包含用于预测单一花卉种类的字段(下一节将详细介绍)</li><li id="9bfa" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld nu mc md me bi translated">声明一个类<code class="fe nr ns nt ni b">IrisModel</code>-用于模型训练和进行预测</li><li id="8db8" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld nu mc md me bi translated">在<code class="fe nr ns nt ni b">IrisModel</code>内部，声明一个名为<code class="fe nr ns nt ni b">_train_model</code>的方法。它用于通过随机森林算法执行模型训练。该方法返回训练好的模型</li><li id="5a3c" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld nu mc md me bi translated">在<code class="fe nr ns nt ni b">IrisModel</code>内部，声明一个名为<code class="fe nr ns nt ni b">predict_species</code>的方法。它用于根据4个输入参数(花朵测量)进行预测。该方法返回预测值(花卉种类)和预测概率</li><li id="d217" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld nu mc md me bi translated">在<code class="fe nr ns nt ni b">IrisModel</code>内部，修改构造函数，这样它会加载Iris数据集，如果文件夹中不存在该数据集，则会训练该模型。这解决了每次训练新模型的问题。<code class="fe nr ns nt ni b">joblib</code>库用于保存和加载模型。</li></ol><p id="1c47" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是完整的代码:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="a856" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这需要编写相当多的代码，但是我希望上面的列表和注释能让它容易理解。现在让我们基于这个模型创建一个REST API，并公开它的预测功能。</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h1 id="c017" class="mk ml it bd mm mn og mp mq mr oh mt mu jz oi ka mw kc oj kd my kf ok kg na nb bi translated">构建完整的REST API</h1><p id="69eb" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">让我们回到<code class="fe nr ns nt ni b">app.py</code>文件并删除所有内容。我们应该从一个空白文件重新开始，尽管样板文件将或多或少与您之前的文件相同。</p><p id="d447" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这一次，您将只声明一个端点，用于预测花卉种类。这个端点通过调用前面部分声明的<code class="fe nr ns nt ni b">IrisModel.predict_species()</code>方法来执行预测。另一个显著的变化是请求类型。POST是机器学习API所需要的，因为用JSON而不是URL发送参数被认为是更好的做法。</p><p id="975d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你是一名数据科学家，上面这段话可能听起来像是胡言乱语，但没关系。构建和部署模型不需要精通REST APIs和HTTP请求。</p><p id="fc82" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe nr ns nt ni b">app.py</code>的待办事项列表很短:</p><ol class=""><li id="420b" class="lw lx it kk b kl km ko kp kr ly kv lz kz ma ld nu mc md me bi translated">导入——您将需要前面编写的<code class="fe nr ns nt ni b">Model.py</code>文件中的<code class="fe nr ns nt ni b">uvicorn</code>、<code class="fe nr ns nt ni b">FastAPI</code>、<code class="fe nr ns nt ni b">IrisModel</code>和<code class="fe nr ns nt ni b">IrisSpecies</code></li><li id="fbd7" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld nu mc md me bi translated">制作<code class="fe nr ns nt ni b">FastAPI</code>和<code class="fe nr ns nt ni b">IrisModel</code>的实例</li><li id="534d" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld nu mc md me bi translated">声明一个用于进行预测的函数，位于<code class="fe nr ns nt ni b">http://127.0.0.1:8000/predict</code>。该函数接受一个类型为<code class="fe nr ns nt ni b">IrisSpecies</code>的对象，将其转换为一个字典，并将其传递给<code class="fe nr ns nt ni b">IrisModel.predict_species()</code>方法。返回预测类别和预测概率</li><li id="2417" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld nu mc md me bi translated">使用<code class="fe nr ns nt ni b">uvicorn</code>运行API</li></ol><p id="6b99" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，这里是这个文件的完整代码和注释:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="3ba5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是你要做的。让我们在下一节测试API。</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h1 id="4a09" class="mk ml it bd mm mn og mp mq mr oh mt mu jz oi ka mw kc oj kd my kf ok kg na nb bi translated">测试</h1><p id="0959" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">要运行API，再次在终端中输入以下文本:</p><pre class="lg lh li lj gt nh ni nj nk aw nl bi"><span id="dcf1" class="nm ml it ni b gy nn no l np nq">uvicorn app:app --reload</span></pre><p id="bb3a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">文档页面如下所示:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oo"><img src="../Images/4b7f74c80af290c64eff2a99924df0b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*F4hUgxsijBCTm_hQ.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="dfbe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，我们可以直接在浏览器中测试API:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi on"><img src="../Images/6e53b662df3a9e6f9f2a70940caeaee3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*c2oPiSS-lx-gYRuO.gif"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="7c54" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这难道不会使测试变得容易吗？您可以从终端执行同样的操作:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi op"><img src="../Images/6faf8f26eada2afd330f3b5d7eec9f88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*S6kd0AzrEXB115Gn.gif"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="ec76" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者甚至通过任何编程语言(Python示例):</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="aa86" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">今天到此为止。让我们在下一部分总结一下。</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h1 id="985c" class="mk ml it bd mm mn og mp mq mr oh mt mu jz oi ka mw kc oj kd my kf ok kg na nb bi translated">离别赠言</h1><p id="c766" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">今天，您已经通过一个玩具API示例和一个玩具机器学习示例了解了什么是FastAPI以及如何使用它。此外，您还学习了如何为您的API编写和研究文档，以及如何测试它。对于一篇文章来说，这已经很多了，所以如果需要几篇阅读才能完全消化，不要沮丧。</p><p id="733e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">FastAPI还有更多的内容要介绍，比如它的异步功能，但这是另一天的主题。</p><p id="078b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">你对FastAPI有什么看法？比起烧瓶你更喜欢它吗，为什么？</em>在评论区告诉我。</p><p id="f167" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae lv" href="https://mailchi.mp/46a3d2989d9b/bdssubscribe" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu">加入我的私人邮件列表，获取更多有用的见解。</strong> </a></p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><p id="2b5c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">喜欢这篇文章吗？成为</em> <a class="ae lv" href="https://medium.com/@radecicdario/membership" rel="noopener"> <em class="le">中等会员</em> </a> <em class="le">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><div class="oq or gp gr os ot"><a href="https://medium.com/@radecicdario/membership" rel="noopener follow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd iu gy z fp oy fr fs oz fu fw is bi translated">通过我的推荐链接加入Medium-Dario rade ci</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">medium.com</p></div></div><div class="pc l"><div class="pd l pe pf pg pc ph lp ot"/></div></div></a></div></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><p id="a93b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">原载于2020年10月28日https://betterdatascience.com</em><a class="ae lv" href="https://betterdatascience.com/deploy-a-machine-learning-model-with-fastapi/" rel="noopener ugc nofollow" target="_blank"><em class="le"/></a><em class="le">。</em></p></div></div>    
</body>
</html>