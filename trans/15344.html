<html>
<head>
<title>Ratlab: a toolkit for studying spatially selective neurons with Slow Feature Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Ratlab:一个用于研究空间选择性神经元的慢特征分析工具包</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/ratlab-a-toolkit-for-studying-spatially-selective-neurons-with-slow-feature-analysis-fbc45f65a0c3?source=collection_archive---------52-----------------------#2020-10-21">https://towardsdatascience.com/ratlab-a-toolkit-for-studying-spatially-selective-neurons-with-slow-feature-analysis-fbc45f65a0c3?source=collection_archive---------52-----------------------#2020-10-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d8b2483821a7cfbf4920de9db248142e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kz1hsYSEsxy6tBr99wL54Q.jpeg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">图片由<strong class="bd kc"> </strong> <a class="ae kd" href="https://unsplash.com/@vaun0815" rel="noopener ugc nofollow" target="_blank"> vaun0815 </a>上的<a class="ae kd" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="22ff" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">我最近开始在德国波鸿鲁尔大学攻读神经科学博士学位。我的导师是Laurenz Wiskott教授，他在计算神经科学和机器学习之间的广泛领域开展工作。该小组使用的主要方法之一是慢特征分析(SFA)，这是一种从时态数据中提取慢变化特征的无监督技术。使用该算法获得的一个显著结果是，它能够生成与哺乳动物大脑中发现的神经元的空间编码相匹配的放电模式。rat lab(Fabian schn feld 2016—<a class="ae kd" href="https://gitlab.com/fabschon/ratlab" rel="noopener ugc nofollow" target="_blank">https://gitlab.com/fabschon/ratlab</a>)是一款通过模拟大鼠的探索行为，并用分层SFA网络处理感官输入来探索这一特性的软件。我最近把这个软件从Python 2升级到Python 3:<a class="ae kd" href="https://github.com/wiskott-lab/Ratlabv3" rel="noopener ugc nofollow" target="_blank">https://github.com/wiskott-lab/Ratlabv3</a></p><p id="249b" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">我很喜欢使用这个软件，我相信它是理解SFA的一个有价值的工具，特别是在空间导航的应用中。此外，该软件不需要彻底的编程经验，这使得它成为神经科学领域工作人员非常容易使用的工具。在介绍Ratlab及其主要模块之前，我先对SFA做一个(简短的)概述，最后展示一些使用该软件可以获得的不同结果。我强烈建议您自己安装Ratlab，并在阅读时和我一起探索它。我希望你喜欢学习这个有趣和多才多艺的工具包！</p><h1 id="f1ed" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">内容</h1><ol class=""><li id="c331" class="ma mb iq kg b kh mc kl md kp me kt mf kx mg lb mh mi mj mk bi translated">SFA简介</li><li id="cf1d" class="ma mb iq kg b kh ml kl mm kp mn kt mo kx mp lb mh mi mj mk bi translated">Ratlab简介</li><li id="2c7e" class="ma mb iq kg b kh ml kl mm kp mn kt mo kx mp lb mh mi mj mk bi translated">模拟</li><li id="4559" class="ma mb iq kg b kh ml kl mm kp mn kt mo kx mp lb mh mi mj mk bi translated">培养</li><li id="9635" class="ma mb iq kg b kh ml kl mm kp mn kt mo kx mp lb mh mi mj mk bi translated">抽样</li><li id="ff26" class="ma mb iq kg b kh ml kl mm kp mn kt mo kx mp lb mh mi mj mk bi translated">把这一切联系在一起</li></ol></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h1 id="9f9b" class="lc ld iq bd le lf mx lh li lj my ll lm ln mz lp lq lr na lt lu lv nb lx ly lz bi translated">SFA简介</h1><p id="6214" class="pw-post-body-paragraph ke kf iq kg b kh mc kj kk kl md kn ko kp nc kr ks kt nd kv kw kx ne kz la lb ij bi translated">SFA的动机是慢度原则。这表明，在多维时间相关信号<strong class="kg ir"> x </strong> (t)中，该信号中更有意义的特征通常比不太有意义的特征在更慢的时间尺度上变化。作为一个例子，考虑这样一个事实，我们的视觉系统已经进化，以便为我们提供关于外部世界的行为相关信息。这些信息可以采取多种形式，包括我们周围的物体或其他动物的位置，以及它们的相对运动。典型地，这样的环境特征在秒的时间尺度上变化。然而，对于组成这种信息流的单个组件来说，情况就不一样了，例如视网膜中的单个受体(或者等效地，计算机视觉系统中的单个像素)接收的信号。后一种类型的信息在时间尺度上的变化比任何与动物相关的特征都要快得多。SFA利用了这一观察结果，并试图通过仅考虑那些缓慢变化的特征来从<strong class="kg ir"> x </strong> (t)中提取有意义的信息。</p><p id="beee" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">关于SFA如何做到这一点的详细和数学描述，请参见我的同事Hlynur David Hlynsson写的这篇帖子(<a class="ae kd" href="https://www.ini.rub.de/research/blog/a_brief_introduction_to_slow_feature_analysis/" rel="noopener ugc nofollow" target="_blank">https://www . ini . rub . de/research/blog/a _ brief _ introduction _ to _ slow _ feature _ analysis/</a>)。或者，对于那些对神经科学中SFA的更广泛范围感兴趣的读者来说，Scholarpedia将它已经获得的各种结果进行了分类(<a class="ae kd" href="http://www.scholarpedia.org/article/Slow_feature_analysis" rel="noopener ugc nofollow" target="_blank">http://www.scholarpedia.org/article/Slow_feature_analysis</a>)</p><p id="fe41" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">分级SFA (HSFA)网络具有避免SFA非线性扩展可能遇到的“维数灾难”的优点。这种形式的网络已经应用于虚拟老鼠的原始视觉输入。al 2007) 。有趣的是，这个网络产生的慢速特征类似于在哺乳动物大脑中发现的几个空间选择性神经元的放电模式。根据虚拟大鼠的运动统计，这些慢特征采取位置细胞、头部方向细胞、空间视图细胞的形式，并且还再现了网格细胞的一些特性。</p><p id="1229" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">Ratlab允许我们通过在虚拟大鼠上进行我们自己的模拟实验来探索其中的一些结果。在这个软件中，各种实验设置和控制参数都是可能的，这大大增加了它的范围。该软件使用由3层组成的前馈分层SFA网络，在虚拟大鼠探索时处理其视觉输入。在每一层中，过滤器接收来自前一层的输入，并对该输入执行SFA算法。这些滤波器的感受野大小随着网络的每一层而增加，使得第三SFA层仅是单个节点，并且具有覆盖虚拟rat的整个视觉输入的有效感受野大小。Ratlab能够研究位置细胞和头部方向细胞的放电。因为在本文中已经表明，独立分量分析(ICA)对于将原始SFA输出转换成现场点火是必要的。al 2007 )，Ratlab也提供了包括这一点的选项。Ratlab的网络架构草图如下所示。</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/56b6f3c2f13d78b34a5206b661c0ec4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s-Gm5W-sMwN7vuOV9xxyMA.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Ratlab使用的网络架构—图片来自<a class="ae kd" href="https://www.frontiersin.org/articles/10.3389/fncom.2013.00104/full" rel="noopener ugc nofollow" target="_blank">schn feld&amp;Wiskott(2013)</a></p></figure></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h1 id="423e" class="lc ld iq bd le lf mx lh li lj my ll lm ln mz lp lq lr na lt lu lv nb lx ly lz bi translated">Ratlab简介</h1><p id="0a62" class="pw-post-body-paragraph ke kf iq kg b kh mc kj kk kl md kn ko kp nc kr ks kt nd kv kw kx ne kz la lb ij bi translated">Ratlab软件是用Python写的，最新版本用的是Python 3(【https://github.com/wiskott-lab/Ratlabv3】T4)。在这篇文章中，我将尝试概述该软件的更广泛的范围，并展示其作为理解神经系统空间编码的工具的用途。</p><p id="2671" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">如果有兴趣，读者可以看看该软件早期版本的Gitlab页面(<a class="ae kd" href="https://gitlab.com/fabschon/ratlab" rel="noopener ugc nofollow" target="_blank">https://gitlab.com/fabschon/ratlab</a>)，其中也给出了一些软件语法和功能的例子。此外，<a class="ae kd" href="https://www.frontiersin.org/articles/10.3389/fncom.2013.00104/full" rel="noopener ugc nofollow" target="_blank">schn feld&amp;Wiskott(2013</a>)在本文中正式引入了Ratlab。</p><p id="185b" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">Ratlab工具包由四个核心模块组成:</p><pre class="ng nh ni nj gt nk nl nm nn aw no bi"><span id="f9ee" class="np ld iq nl b gy nq nr l ns nt">ratlab.py, convert.py, train.py, sample.py</span></pre><p id="59d6" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">这两个模块中的第一个处理实验的模拟阶段，并且生成随后可由第三模块<strong class="kg ir"> train.py </strong>用于训练HSFA网络的数据。最后，最后一个模块采用训练阶段生成的慢速要素，并在整个环境中对其进行采样，以便您可以评估所实现的任何空间选择性。在任何这些模块之后输入<strong class="kg ir"> help </strong>命令，提供了它们角色的详细描述以及它们需要的任何相关参数。</p><p id="0856" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">此外，该软件有自己的GUI来设置实验和选择模拟参数，如果想快速了解该软件的范围，这是一个很好的起点。从Ratlab主目录开始，通过运行以下命令打开GUI:</p><pre class="ng nh ni nj gt nk nl nm nn aw no bi"><span id="b8f7" class="np ld iq nl b gy nq nr l ns nt">python RatLabGUI.py </span></pre><p id="ba64" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">这会产生以下窗口:</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/e4d5eb001e21adb7539d8b8ca42bee72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*se5RqX2cY-owV8sL"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Ratlab的GUI——使用<a class="ae kd" href="https://github.com/wiskott-lab/Ratlabv3" rel="noopener ugc nofollow" target="_blank"> RatLabv3 </a>生成的图像</p></figure><p id="d3e8" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">左上角是可用的不同环境几何图形，以及用于输入相应尺寸和模拟记录限制的字段。在底部是用于指定人造大鼠的运动统计的其他字段。这两类信息在右侧的<strong class="kg ir"> ratlab.py. </strong>中使用，训练参数在<strong class="kg ir"> train.py </strong>中指定使用。</p><p id="db4e" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">完成这些字段后，您可以点击“脚本！”在目录中生成一个bash脚本，这样就可以使用以下命令从头到尾运行实验:</p><pre class="ng nh ni nj gt nk nl nm nn aw no bi"><span id="cc6f" class="np ld iq nl b gy nq nr l ns nt">./RatLabScript</span></pre><p id="14df" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">一旦您开始实验，将会创建一个<em class="nv"> /current_experiment </em>文件夹，该文件夹将存储您的实验的所有相关文件。</p><p id="c527" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">虽然GUI对于开始熟悉实验如何运行是有用的，但是Ratlab作为命令行工具工作得最好。在下面几节中，我将概述以这种方式运行Ratlab时可以使用的不同设置和计算。我鼓励读者在阅读时利用每个模块的<strong class="kg ir">帮助</strong>菜单。</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h1 id="38b4" class="lc ld iq bd le lf mx lh li lj my ll lm ln mz lp lq lr na lt lu lv nb lx ly lz bi translated">模拟</h1><p id="74d3" class="pw-post-body-paragraph ke kf iq kg b kh mc kj kk kl md kn ko kp nc kr ks kt nd kv kw kx ne kz la lb ij bi translated"><strong class="kg ir">环境</strong></p><p id="f169" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">我真正喜欢这个软件的一点是它在设计环境时提供的灵活性。<strong class="kg ir"> ratlab.py </strong>模块带有4种预定义的几何图形:<strong class="kg ir">矩形、星形迷宫、T形迷宫和圆形</strong>。<strong class="kg ir">长方形</strong>和<strong class="kg ir">丁字迷宫</strong>如其名。<strong class="kg ir">星形迷宫</strong>由几条远离中心区域的走廊构成(走廊数量由用户指定)。<strong class="kg ir">圆形迷宫</strong>只是近似圆形，并且采用正N边多边形的形状(N由用户固定)。</p><p id="6400" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">此外，<strong class="kg ir"> custom_maze </strong>选项允许您通过在文本文件中指定每面墙的纹理以及交叉点来手动设计您自己的迷宫(已经包括了一个自定义迷宫示例:<em class="nv">工具/custom_example_world </em>)。要使用它，必须先将其移动到<em class="nv">当前实验</em>文件夹中)</p><p id="84d7" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">下面您可以看到每个环境设置的示例，以及生成它们的相应脚本。在每幅图像中，上面显示了鸟瞰图(白点= rat以前的位置，红色箭头=当前航向)，下面显示了rat的当前视图。图(a)显示了默认情况下激活的矩形几何图形(当没有调用其他参数时，其尺寸为60(长)x40(宽)x10(高))。</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nw"><img src="../Images/f872e20b3c5f600324cea3ec39387887.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rfMCUsjdhr00J8DpeIivIg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Ratlab中允许的不同环境类型:矩形、星形迷宫、t形迷宫、圆形迷宫和自定义——使用<a class="ae kd" href="https://github.com/wiskott-lab/Ratlabv3" rel="noopener ugc nofollow" target="_blank"> Ratlabv3 </a>生成的图像</p></figure><p id="b166" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">除了环境几何体，Ratlab还允许你使用<strong class="kg ir"> box </strong>和<strong class="kg ir"> dbox </strong>命令将障碍物插入到环境中。</p><p id="ab3e" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir">运动参数</strong></p><p id="a430" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">一旦你选择了你的环境，你就可以决定(I)固定虚拟老鼠的导航点，或者(ii)让老鼠探索固定的移动统计数据。</p><p id="1e61" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir">(一)定点</strong></p><p id="a69c" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">此选项的一个好处是，您可以保证虚拟rat将探索环境的某些区域。它利用了<strong class="kg ir">路径</strong>命令，该命令要求。txt文件来定义虚拟rat必须导航到的点。例如，尝试运行<em class="nv"> /tools </em>文件夹中的<strong class="kg ir"> radial_points.py </strong>文件，并将输出保存为<em class="nv"> /current_experiment </em>文件夹中的‘path . txt’。这是为具有适当臂尺寸的五臂径向迷宫设计的路径。为了在所有这些都指定的情况下运行模拟，只需输入:</p><pre class="ng nh ni nj gt nk nl nm nn aw no bi"><span id="a648" class="np ld iq nl b gy nq nr l ns nt">python ratlab.py star_maze 5 12 40 8 path path.txt</span></pre><p id="862f" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">这将导致大鼠在返回迷宫中心之前依次探索每条手臂，如下图(a)所示:</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/fe542728a113cc9e2eb6136d8cf256b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*29UjL8fEx5kqUSI2Bg_NcA.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">使用<strong class="bd kc"> ratlab.py </strong>中的“路径”命令——用<a class="ae kd" href="https://github.com/wiskott-lab/Ratlabv3" rel="noopener ugc nofollow" target="_blank"> Ratlabv3 </a>生成的图像</p></figure><p id="ee70" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">重要的是，路径要尊重环境的几何形状，否则老鼠会在实验室的墙壁间游荡！作为一个例子，如果你像以前一样调用相同的模拟，但使用较短的臂的星形迷宫，你会得到类似上面的图像(b)。</p><p id="dc5f" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">最后，额外的<strong class="kg ir">循环</strong>命令决定了虚拟rat到达最终节点时应该做什么。如果调用<strong class="kg ir">循环</strong>，它将使用结束和开始节点之间的最短路径导航，否则它将在到达最终节点后立即出现在第一个节点(如果您选择调用<strong class="kg ir">循环</strong>，请注意这也考虑到了环境几何)。否则，可能会出现如上图(c)所示的情况。</p><p id="b264" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir">(二)自由探索</strong></p><p id="9ec3" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">相反，如果你希望让老鼠自由探索，Ratlab提供了各种控制参数来确定虚拟老鼠的运动统计数据。在这里，我简要概述了其中最重要的几个。</p><p id="c7aa" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir">弧线</strong>:为了提供不规则的轨迹，虚拟大鼠的旋转是使用以大鼠当前航向为中心的高斯白噪声项生成的。由于较小的旋转(即&lt; 20度)比较大的旋转(即&gt; 90度)更有可能，因此这捕捉到了真实的探索。然而，由于我们不想产生完全随机的旋转，我们可能会进一步限制允许的角度范围。这个参数就是这样做的，并设置旋转的决定弧。默认值为320。下图说明了弧线。</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ny"><img src="../Images/8dc34f4930629be7c0a7d16f0ce8bc16.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*JM7r6CEHrhBzkiiGi0KbPg.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated"><strong class="bd kc"> ratlab.py </strong>中“arc”参数的示意图—图片由作者提供</p></figure><p id="8c40" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> mom: </strong>这个术语描述了大鼠的有效动量。对于较大的值，可以将虚拟rat视为一个大质量粒子，其前进方向对噪声有很强的抵抗力。在这种情况下，生成的路径是平滑的。对于较低的值，由于噪波，老鼠的前进方向波动更大，产生的路径更加锯齿状。默认值为0.55</p><p id="da25" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">(注意:一些极端值，如<strong class="kg ir"> arc </strong> =0或<strong class="kg ir"> mom </strong> =1，会导致老鼠在撞墙时被卡住，所以要小心这一点！)</p><p id="dd24" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir">偏差:</strong>如果你想让虚拟老鼠有各向异性的运动统计，这是一个有用的参数。通过在2D空间中指定一个特殊的方向，老鼠在这个方向上的移动速度会比在正交方向上快。这种偏差的大小需要具体说明。</p><p id="5127" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir">实验参数</strong></p><p id="341a" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">现在你已经选择了你的环境和运动参数，你差不多准备好开始你的实验了！但是，在你这样做之前，你需要决定一些最终的细节。</p><p id="14e3" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> limit: </strong>这控制了您希望实验持续多长时间，以及最终您希望在多少数据上训练SFA网络。显然，较大的数据集可以提供更好的收敛性，但代价是计算时间。另一方面，太小的数据集可能会在SFA展开中产生奇异的协方差矩阵。我建议从几千个时间步开始。</p><p id="9166" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir">图像颜色:</strong>默认情况下，训练图像以彩色保存，但Ratlab也允许你以灰度或两种颜色方案同时保存。</p><p id="6634" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">一旦你决定了这些，你可以通过加入最后的命令:<strong class="kg ir">记录</strong>来开始你所选择的选项的实验。我建议在你这样做之前清空<em class="nv"> current_experiment </em>文件夹，这样新的训练图像就不会与之前实验的图像混淆<em class="nv">。</em>一个包括迄今为止所讨论的选项组合的示例可能是这样的:</p><pre class="ng nh ni nj gt nk nl nm nn aw no bi"><span id="07f8" class="np ld iq nl b gy nq nr l ns nt">python ratlab.py star_maze 5 12 40 8 mom 0.5 grey limit 5000 record</span></pre><p id="ad88" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">生成的训练数据将被保存在文件夹:<em class="nv">current _ experiment/sequence中。如果你想检查它是否被正确保存，看看这个文件夹，你会看到一堆。当老鼠在环境中移动时，从老鼠的视野中拍摄的png图像。图像数量应与参数<strong class="kg ir">的限制相同。</strong>此外，文件<em class="nv"> exp_finish.png </em>将在模拟结束时保存，并让您看到虚拟大鼠的总轨迹。</em></p><p id="ccba" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">最后一步，我们需要重新格式化数据，以便它可以被网络训练。我们通过以下方式实现这一点:</p><pre class="ng nh ni nj gt nk nl nm nn aw no bi"><span id="17af" class="np ld iq nl b gy nq nr l ns nt">python convert.py</span></pre><p id="683a" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">该步骤没有参数，训练数据编译到文件<em class="nv">current _ experiment/sequence _ data</em>中不会花费太长时间。</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h1 id="a372" class="lc ld iq bd le lf mx lh li lj my ll lm ln mz lp lq lr na lt lu lv nb lx ly lz bi translated">培养</h1><p id="862b" class="pw-post-body-paragraph ke kf iq kg b kh mc kj kk kl md kn ko kp nc kr ks kt nd kv kw kx ne kz la lb ij bi translated">现在你已经准备好训练你的网络，重要的是考虑你希望从这个具体的实验中获得什么。正如介绍中所解释的，Ratlab能够研究位置细胞和头部方向细胞的放电频率。在放置单元格(即位置选择性)的情况下，需要额外的ICA节点，调用时使用:</p><pre class="ng nh ni nj gt nk nl nm nn aw no bi"><span id="4e87" class="np ld iq nl b gy nq nr l ns nt">python train.py ICA</span></pre><p id="1a77" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">在没有ICA的情况下，SFA已经对磁头方向部分敏感，但是包括它增加了这种选择性的精度。在任何一种情况下，Ratlab都允许您使用<strong class="kg ir"> add_ICA </strong>命令追溯添加ICA节点，而无需再次训练整个网络，因此您还可以查看两者并比较结果(我强烈推荐)。</p><p id="8d5a" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">训练阶段的另一个有用选项是使用参数<strong class="kg ir"> noise </strong>将噪声引入网络。如前一节所述，在小数据集上训练会导致协方差矩阵中的冗余。虽然解决这个问题的一个办法是使用更大的数据集，但也可以尝试在网络中加入噪声，以减少冗余。</p><p id="2f31" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">Ratlab将一层一层地更新你的训练过程，完成后将训练好的网络作为. tsn文件保存在<em class="nv"> current_experiment </em>文件夹中。</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h1 id="2d04" class="lc ld iq bd le lf mx lh li lj my ll lm ln mz lp lq lr na lt lu lv nb lx ly lz bi translated">抽样</h1><p id="5c5a" class="pw-post-body-paragraph ke kf iq kg b kh mc kj kk kl md kn ko kp nc kr ks kt nd kv kw kx ne kz la lb ij bi translated">一旦你的网络被训练，你终于准备好想象它已经学会的慢特征。这是通过在环境中的多个位置和方向上对大鼠的视野进行采样，并记录网络的响应来实现的。与培训阶段一样，你在这里的选择应该反映出你想学什么。Ratlab可以做的采样有两种:<em class="nv">空间采样</em>和<em class="nv">方向采样。</em>如你所料，前者适用于研究空间选择性(位置细胞)，后者适用于方向选择性(头部方向细胞)。在这两种情况下，都必须指定要采样的慢速特征的数量。在Ratlab中，这被限制为32，选择一个较小的数字可以大大减少计算时间。</p><p id="f23e" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir">空间采样:</strong>这种方法的工作原理是将虚拟鼠定位在环境中的周期性位置(形成网格)。用户可以使用<strong class="kg ir">周期</strong>参数指定这些采样点出现的频率。最后，也是最重要的一点，在不同的实验中对环境进行采样，每次老鼠都面向不同的方向。有8个方向(北，东北，东，东南等。)并且用户可以选择特定的选项或者使用所有选项。Ratlab还会通过对用户选择的所有方向进行平均，自动产生一组额外的输出。通过比较各个方向和平均输出，我们可以检查网络输出是否依赖于方向。因为这应该<em class="nv">而不是</em>是place字段的情况，所以它充当了解释结果的有用的诊断工具。下图显示了空间采样输出的示例。这些发射模式在空间上是局部的，不同的方向与平均发射几乎没有差别，表明方向选择性很小。在这种情况下，Ratlab生成了描述环境不同区域的place字段！</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/2d769ec0a0c25c4bdd46e54185b13693.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*DQptUHoXq7Fcb9JvDz3Mgg.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">矩形迷宫上的空间采样慢速特征—使用<a class="ae kd" href="https://github.com/wiskott-lab/Ratlabv3" rel="noopener ugc nofollow" target="_blank"> Ratlabv3 </a>生成的图像</p></figure><p id="b848" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir">定向采样:</strong>第二种类型的采样工作方式是固定虚拟rat的头部方向，并在对这些位置进行平均之前，在环境中的位置网格上对网络进行采样。这是针对所有360°整数角度进行的，结果图允许您可视化网络慢速功能的方向选择性。下面是取自<a class="ae kd" href="https://www.frontiersin.org/articles/10.3389/fncom.2013.00104/full" rel="noopener ugc nofollow" target="_blank">schn feld&amp;Wiskott 2013</a>的图像，显示了使用定向采样的10个慢速特征的响应。在这种情况下，包括了额外的ICA层，并且结果显示了对某些方向的明显偏好(尽管一些低水平响应仍然出现在其他角度)。</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/d96fa49fabcc1892440373e3184e0714.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mICWDSvgfr0uunLazLwonw.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">Ratlab生成的定向样本图示例—摘自<a class="ae kd" href="https://www.frontiersin.org/articles/10.3389/fncom.2013.00104/full" rel="noopener ugc nofollow" target="_blank">schn feld&amp;Wiskott(2013</a>)</p></figure><h1 id="e988" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">把这一切联系在一起</h1><p id="f6c6" class="pw-post-body-paragraph ke kf iq kg b kh mc kj kk kl md kn ko kp nc kr ks kt nd kv kw kx ne kz la lb ij bi translated">现在您已经熟悉了Ratlab的每个主要模块，您可以开始根据您的特定兴趣设计实验了。为了最大限度地利用该软件，很有必要在不同的环境和参数下进行大量的模拟，以便您首先对实验范围有一个大致的了解，并且能够更全面地了解SFA在不同场景下的表现。</p><p id="c9fe" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">一个很好的例子是<strong class="kg ir">弧</strong>和<strong class="kg ir">矩</strong>参数，它们分别控制老鼠运动的直线度和平滑度。如果您尝试在将这些参数设置为默认值的情况下运行模拟，您将会看到rat转动了很多，并且具有相当锯齿状的路径。因为SFA提取缓慢变化的特征，所以对于这些参数值，头部方向图显示几乎没有方向选择性就不足为奇了。或者，通过减少<strong class="kg ir">弧</strong>和/或增加<strong class="kg ir">力矩</strong>，可以减少每个时间步长的旋转大小，这意味着在轨迹过程中头部方向变化较慢。因此，如你所料，如果我们像以前一样运行相同的模拟，但做了这些更改，头部方向图现在显示出更好的方向选择性。下面描述了这两种情况，其中显示了两种参数规格下最慢SFA特征的rat轨迹(左)和头部方向图(右)。</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/e80380dc8cce6f6afb2ca6133d02f005.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PFIh_oN3eBe5KxAzgkOViQ.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">“arc”和“mom”参数对头部方向选择性影响的比较——使用<a class="ae kd" href="https://github.com/wiskott-lab/Ratlabv3" rel="noopener ugc nofollow" target="_blank"> Ratlabv3 </a>生成的图像</p></figure><p id="0860" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir">偏差</strong>参数也会对结果产生明显的影响，特别是对于空间采样。直觉上，人们会认为定向运动偏差会降低任何位置场发射模式的对称性。这正是发生的情况，如下图所示。在这个实验中，大鼠探索了一个默认大小的矩形环境，并且除了<strong class="kg ir">偏差</strong>之外的所有参数都设置为默认值。我输入的偏移方向为0±1(即环境中的垂直轴)，缩放因子为1，这意味着该方向的移动速度是水平轴的两倍。下图显示了生成的前8个慢速特征。垂直轴和水平轴之间的不对称清晰可见。在这种情况下，由于水平位置的变化比垂直位置慢，所产生的SFA输出对水平位置更敏感，即水平位置更局部化。</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oc"><img src="../Images/9a21ce16a9eba5f36b3235d57bc1c2c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RLRQJEEjkGHJS1ERi5HlGw.png"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">使用<strong class="bd kc"> ratlab.py </strong>中的“偏置”参数生成的不对称位置细胞触发—使用<a class="ae kd" href="https://github.com/wiskott-lab/Ratlabv3" rel="noopener ugc nofollow" target="_blank"> Ratlabv3 </a>生成的图像</p></figure><p id="0687" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">到目前为止，所有显示的结果都是在最终SFA层之后包括可选ICA节点的网络中获得的。将这些与没有ICA节点的网络进行比较，在空间采样的情况下会产生有趣的结果。这可以在下图中看到，在矩形环境中对16个慢速要素进行了采样(同样使用默认尺寸)。这些输出与在<a class="ae kd" href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.0030166" rel="noopener ugc nofollow" target="_blank"> Franzius et中发现的没有ICA的输出相匹配。al 2007 </a>，具有部分类似于内嗅皮层网格细胞放电的周期性放电模式。在这篇早期的论文中，作者用理论论据解释了这一结果，证明了SFA发现的慢特征形成了傅立叶基础，每个特征的慢度与其频率相关。这确实可以在下面的结果中看到，它清楚地描绘了频率增加的谐波函数。</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div class="gh gi od"><img src="../Images/a69f840c633f45ef09e426481571a56a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*hbJ2U4pGVlNQBanTWPTfwA.png"/></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">前16个输出是在没有ICA的矩形环境中使用默认运动统计生成的。输出按慢度排序，并显示递增的频率——用<a class="ae kd" href="https://github.com/wiskott-lab/Ratlabv3" rel="noopener ugc nofollow" target="_blank"> Ratlabv3 </a>生成的图像</p></figure><p id="b150" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">由于要花很长时间才能完全说明您可以使用Ratlab做的所有事情，我鼓励您深入研究该软件，并尝试自己的设置和参数选择。</p><p id="f7e5" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">我希望你喜欢这个Ratlab的介绍，并希望你在自己的研究中使用这个软件。万事如意！</p><p id="a4c1" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir">参考和链接</strong></p><ol class=""><li id="7b8e" class="ma mb iq kg b kh ki kl km kp oe kt of kx og lb mh mi mj mk bi translated">franzius m .和Wiskott l .(2007年)。缓慢和稀疏导致位置、方向和空间视图单元。PLoS Comput。生物。3:e166。doi: 10.1371/journal.pcbi</li><li id="f4ef" class="ma mb iq kg b kh ml kl mm kp mn kt mo kx mp lb mh mi mj mk bi translated">Schö nfeld和l . Wiskott(2013年)。Ratlab:一个易于使用的位置代码模拟工具。前面。计算机。神经科学。7:104.doi: 10.3389/fncom</li><li id="df71" class="ma mb iq kg b kh ml kl mm kp mn kt mo kx mp lb mh mi mj mk bi translated">Schö nfeld和l . Wiskott(2015年)。用分层慢特征分析模拟场所现场活动。前面。计算机。神经科学。9:51.doi: 10.3389/fncom.2015.00051</li><li id="ecca" class="ma mb iq kg b kh ml kl mm kp mn kt mo kx mp lb mh mi mj mk bi translated"><a class="ae kd" href="http://www.scholarpedia.org/article/Slow_feature_analysis" rel="noopener ugc nofollow" target="_blank">http://www.scholarpedia.org/article/Slow_feature_analysis</a></li><li id="1bda" class="ma mb iq kg b kh ml kl mm kp mn kt mo kx mp lb mh mi mj mk bi translated">我的课题组网页:<a class="ae kd" href="https://www.ini.rub.de/research/groups/theory_of_neural_systems/" rel="noopener ugc nofollow" target="_blank">https://www . ini . rub . de/research/groups/theory _ of _ neural _ systems/</a></li></ol></div></div>    
</body>
</html>