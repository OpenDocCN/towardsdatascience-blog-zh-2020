<html>
<head>
<title>How to Create a Weather Alert System in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python创建天气警报系统</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-create-a-weather-alert-system-in-python-5fab4b42e49a?source=collection_archive---------15-----------------------#2020-09-25">https://towardsdatascience.com/how-to-create-a-weather-alert-system-in-python-5fab4b42e49a?source=collection_archive---------15-----------------------#2020-09-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ebb3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">根据预测的天气数据发送电子邮件通知</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1f7396737b9db57f93aab1fa3bdafb37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5sviSa7AcjZQnfgdOW_2lQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Johannes Plenio 在<a class="ae ky" href="https://unsplash.com/s/photos/weather-forecast?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="5b0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过阅读这篇文章，您将学会用Python创建一个天气警报系统，当它预测未来几小时内天空将下雨/下雪时，将向多个收件人发送电子邮件通知。电子邮件通知包含其他信息，如预测的温度和湿度。</p><p id="83bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本教程有4个部分:</p><ol class=""><li id="a226" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">设置</li><li id="de0d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">履行</li><li id="ce1a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">结果</li><li id="f154" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">结论</li></ol><p id="027a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们进行下一部分。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="590b" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">1.设置</h1><h2 id="c001" class="ni mr it bd ms nj nk dn mw nl nm dp na li nn no nc lm np nq ne lq nr ns ng nt bi translated">天气API</h2><p id="96f4" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">我将使用<strong class="lb iu"> ClimaCell的</strong> <a class="ae ky" href="https://www.climacell.co/weather-api/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">天气API </strong> </a>来获取天气预报数据。它提供了相当多的有用和准确的数据，取决于你的需要。</p><p id="59ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在撰写本文时，它涵盖了过去4周的历史气象站数据以及未来15天的每日预报数据。此外，您可以轻松地实现它，因为官方文档提供了4种不同计算机语言的参考:</p><ul class=""><li id="afbb" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu nz mb mc md bi translated">Java Script语言</li><li id="9d08" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated">红宝石</li><li id="248d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated">结节</li><li id="d794" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated">计算机编程语言</li></ul><p id="6c58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你注册了，你将被置于免费层，允许你每天打1000个电话，每小时100个。对于我们的用例来说，这应该足够了。</p><p id="7566" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">去注册一个新账户。完成后，您应该会看到下面的仪表板，其中概述了计划详情和您的通话活动。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/71d998b3f0f273f5a2838a1c38f0633e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HFzUqHX_u4HGkIJolv1pSg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="6544" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记下API键，因为我们将在后面的代码中使用它。</p><h2 id="5e20" class="ni mr it bd ms nj nk dn mw nl nm dp na li nn no nc lm np nq ne lq nr ns ng nt bi translated">电子邮件配置</h2><p id="4b3a" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">我将使用个人<code class="fe ob oc od oe b">Gmail</code>账户通过<code class="fe ob oc od oe b">SMTP</code>给自己发送电子邮件。为了使用它，您需要在帐户设置中更改配置，并打开<code class="fe ob oc od oe b">Less secure app access</code>。</p><p id="55af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">转到帐户设置，点击安全菜单。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/37328f2eddca8f7630739366f98841e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*2CZ-FELZg2nof6oUb_-sOA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="8bf0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">按如下方式打开<code class="fe ob oc od oe b">Less secure app access</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/528668e51409a38b4e474a8d462a8953.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wg0j1BOoR1kqQT8JpilWxw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5f64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，在项目的根目录下创建一个名为<code class="fe ob oc od oe b">config.ini</code>的新文件。它将被用作我们项目的配置文件。将以下代码追加到其中。</p><pre class="kj kk kl km gt oh oe oi oj aw ok bi"><span id="0d2f" class="ni mr it oe b gy ol om l on oo">[email]<br/>email=your_email@gmail.com<br/>host=smtp.gmail.com<br/>port=587<br/>password=your_password</span></pre><ul class=""><li id="34d0" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu nz mb mc md bi translated"><code class="fe ob oc od oe b">email</code> —您的电子邮件帐户名称</li><li id="f7dc" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated"><code class="fe ob oc od oe b">host</code>—SMTP服务器的主机名。根据电子邮件的smtp服务器对此进行修改</li><li id="7da5" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated"><code class="fe ob oc od oe b">port</code>—SMTP服务器的端口。根据电子邮件的smtp服务器对此进行修改</li><li id="949d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated"><code class="fe ob oc od oe b">password</code> —您的电子邮件帐户的密码。确保不要将此文件或信息透露给其他人。</li></ul><h2 id="df73" class="ni mr it bd ms nj nk dn mw nl nm dp na li nn no nc lm np nq ne lq nr ns ng nt bi translated">Python模块</h2><p id="daec" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">对于这个项目，强烈建议创建一个虚拟环境。在终端运行以下命令安装<code class="fe ob oc od oe b">configparser</code>模块。这对于从文件中加载配置设置非常有用。</p><pre class="kj kk kl km gt oh oe oi oj aw ok bi"><span id="992a" class="ni mr it oe b gy ol om l on oo">pip install configparser</span></pre><p id="9ef0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们转到小节部分，开始编写Python代码。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="afe2" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">2.履行</h1><p id="4f36" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">在与<code class="fe ob oc od oe b">config.ini</code>相同的目录下创建一个名为<code class="fe ob oc od oe b">weather_email.py</code>的新文件。这个文件作为我们应用程序的电子邮件模块。</p><h2 id="3477" class="ni mr it bd ms nj nk dn mw nl nm dp na li nn no nc lm np nq ne lq nr ns ng nt bi translated">导入</h2><p id="7b11" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">在文件顶部添加以下导入声明</p><pre class="kj kk kl km gt oh oe oi oj aw ok bi"><span id="a0e6" class="ni mr it oe b gy ol om l on oo">try:<br/>    import configparser<br/>except:<br/>    from six.moves import configparser</span><span id="9e2e" class="ni mr it oe b gy op om l on oo">import smtplib<br/>from email.mime.multipart import MIMEMultipart<br/>from email.mime.text import MIMEText<br/>import requests</span></pre><p id="e5ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，创建一个字典，代表下雨或下雪时我们将要发送的消息。您可以基于您的用例创建您自己的映射或定制消息。</p><pre class="kj kk kl km gt oh oe oi oj aw ok bi"><span id="391f" class="ni mr it oe b gy ol om l on oo">weather_dict = {'freezing_rain_heavy': 'Heavy rain and snow', 'freezing_rain': 'Rain and snow', 'freezing_rain_light': 'Light rain and snow', 'freezing_drizzle': 'Light drizzle and snow', 'ice_pellets_heavy': 'Heavy ice pellets', 'ice_pellets': 'Normal ice pellets', 'ice_pellets_light': 'Light ice pellets', 'snow_heavy': 'Heavy snow', 'snow': 'Normal snow', 'snow_light': 'Light snow', 'tstorm': 'Thunder storm', 'rain_heavy': 'Heavy rain', 'rain': 'Normal rain', 'rain_light': 'Light rain'}</span></pre><h2 id="77f9" class="ni mr it bd ms nj nk dn mw nl nm dp na li nn no nc lm np nq ne lq nr ns ng nt bi translated">天气API的设置</h2><p id="c765" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">初始化以下变量，这些变量是我们调用天气API时所需要的。</p><pre class="kj kk kl km gt oh oe oi oj aw ok bi"><span id="c11d" class="ni mr it oe b gy ol om l on oo">url = "<a class="ae ky" href="https://api.climacell.co/v3/weather/nowcast" rel="noopener ugc nofollow" target="_blank">https://api.climacell.co/v3/weather/nowcast</a>"</span><span id="244b" class="ni mr it oe b gy op om l on oo">querystring = {"lat":"1.29027","lon":"103.851959","unit_system":"si","timestep":"60","start_time":"now","fields":"temp,humidity,weather_code","apikey":"xxxx"}</span></pre><p id="95cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将调用<strong class="lb iu"> nowcast API </strong>，它有以下可以修改的参数:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/77166492d68a820743667a289629cb8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*NgVZ2hVvP04ybYw5BVpHeQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><ul class=""><li id="6786" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu nz mb mc md bi translated"><code class="fe ob oc od oe b">lat</code> —纬度，-87°至89°</li><li id="d9c8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated"><code class="fe ob oc od oe b">lot</code> —经度，-180°至180°</li><li id="d9d2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated"><code class="fe ob oc od oe b">unit_system</code> —单位制，“国际单位制”或“美国单位制”</li><li id="515e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated"><code class="fe ob oc od oe b">timestep</code> —以分钟为单位的时间步长，1到60。将<code class="fe ob oc od oe b">start_time</code>设置为now，将<code class="fe ob oc od oe b">timestep</code>设置为60将返回7个数据点。(现在，60分钟后，120分钟后，…)</li><li id="f946" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated"><code class="fe ob oc od oe b">start_time </code> —您可以设置自己的时间或将其初始化为现在</li><li id="c605" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated"><code class="fe ob oc od oe b">end_time</code> —限制结束时间的可选参数。默认情况下，它将返回自当前时间戳起6小时内的数据。</li><li id="6424" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated"><code class="fe ob oc od oe b">fields</code> —从提供的数据层中选择的字段(如“降水”或“阵风”)。我在本教程中使用<code class="fe ob oc od oe b">temp</code>、<code class="fe ob oc od oe b">humidity</code>和<code class="fe ob oc od oe b">weather_code</code>。</li><li id="851c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated"><code class="fe ob oc od oe b">apikey</code> —来自<strong class="lb iu"> Climacell气象API </strong>仪表盘的API键。</li></ul><h2 id="fc24" class="ni mr it bd ms nj nk dn mw nl nm dp na li nn no nc lm np nq ne lq nr ns ng nt bi translated">EmailSender类</h2><p id="ee00" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">我们将创建一个名为<code class="fe ob oc od oe b">EmailSender</code>的新类，并将其初始化如下。我们利用<code class="fe ob oc od oe b">configparser </code>模块从<code class="fe ob oc od oe b">config.ini</code>读取数据，并将其分配给相应的变量。</p><pre class="kj kk kl km gt oh oe oi oj aw ok bi"><span id="d3aa" class="ni mr it oe b gy ol om l on oo">def __init__(self):<br/>    self.cf = configparser.ConfigParser()<br/>    self.cf.read('./config.ini')<br/>    self.sec = 'email'<br/>    self.email = self.cf.get(self.sec, 'email')<br/>    self.host = self.cf.get(self.sec, 'host')<br/>    self.port = self.cf.get(self.sec, 'port')<br/>    self.password = self.cf.get(self.sec, 'password')</span></pre><p id="e9db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在名为<code class="fe ob oc od oe b">SendEmail</code>的类中创建另一个函数，它接受一个接受者参数。它接受列表而不是字符串。这允许我们向多个电子邮件地址发送相同的电子邮件通知。</p><pre class="kj kk kl km gt oh oe oi oj aw ok bi"><span id="8019" class="ni mr it oe b gy ol om l on oo">def SendEmail(self, recipient):</span></pre><p id="7108" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在函数内部，用下面的代码初始化一个新的<code class="fe ob oc od oe b">MIMEMultipart</code>对象</p><pre class="kj kk kl km gt oh oe oi oj aw ok bi"><span id="f62a" class="ni mr it oe b gy ol om l on oo">title = "Home Sweet Home"</span><span id="3747" class="ni mr it oe b gy op om l on oo">msg = MIMEMultipart()<br/>msg['Subject'] = '[Weather Notification]'<br/>msg['From'] = self.email<br/>msg['To'] = ', '.join(recipient)</span></pre><h2 id="bc78" class="ni mr it bd ms nj nk dn mw nl nm dp na li nn no nc lm np nq ne lq nr ns ng nt bi translated">打电话给气象API</h2><p id="7598" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">下一步是通过请求模块调用API，该模块将以json的形式返回结果。</p><pre class="kj kk kl km gt oh oe oi oj aw ok bi"><span id="aae3" class="ni mr it oe b gy ol om l on oo">response = requests.request("GET", url, params=querystring)<br/>result = ""</span><span id="290a" class="ni mr it oe b gy op om l on oo">json_data = response.json()</span></pre><p id="0343" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以充分利用结果并将其映射到我们在上面指定的字典，以便创建所需的通知消息。然后，用它初始化一个<code class="fe ob oc od oe b">MIMEText</code>对象，并将它附加到<code class="fe ob oc od oe b">MIMEMultipart</code>对象上。最后，调用<code class="fe ob oc od oe b">smtplib.SMTP</code>上下文管理器发送电子邮件。</p><pre class="kj kk kl km gt oh oe oi oj aw ok bi"><span id="06f0" class="ni mr it oe b gy ol om l on oo">msgText = MIMEText('&lt;b&gt;%s&lt;/b&gt;&lt;p&gt;%s&lt;/p&gt;' % (title, result), 'html')<br/>msg.attach(msgText)</span><span id="9883" class="ni mr it oe b gy op om l on oo">with smtplib.SMTP(self.host, self.port) as smtpObj:<br/>    smtpObj.ehlo()<br/>    smtpObj.starttls()<br/>    smtpObj.login(self.email, self.password)<br/>    smtpObj.sendmail(self.email, recipient, msg.as_string())</span></pre><p id="2f10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看以下<a class="ae ky" href="https://gist.github.com/wfng92/f5af6144053aeab514e5ff330949b112" rel="noopener ugc nofollow" target="_blank">要点</a>获取完整代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="4534" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的根目录中应该有以下文件。</p><ul class=""><li id="c609" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu nz mb mc md bi translated">config.ini</li><li id="13a8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nz mb mc md bi translated">天气_电子邮件. py</li></ul><p id="6522" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在任何Python应用程序中轻松触发电子邮件提醒功能，只要这两个文件与您调用的Python文件位于同一个目录中。只需根据您的用例修改导入语句。以下示例概述了在未来6小时内下雨或下雪时向两个收件人发送电子邮件通知的代码。</p><pre class="kj kk kl km gt oh oe oi oj aw ok bi"><span id="babf" class="ni mr it oe b gy ol om l on oo">import weather_email</span><span id="c9a5" class="ni mr it oe b gy op om l on oo">email_obj = weather_email.EmailSender()<br/>email_obj.SendEmail(["email@gmail.com", "email2@gmail.com"])</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="27fa" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结果</h1><p id="5c30" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">让我们看看我运行测试时的结果。我收到一个通知，告诉我我家正在下小雨。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/ed3d0440aa0764f36a693f29ba997faf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R_3Ilgsnj_1WTTfXmgzA4A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="2c4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">雨一停，我就运行同样的代码，它预测6小时后还会下雨。也许我应该回去，在下雨之前把我所有的衣服从晾衣架上拿走。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/cdae90d9678f11a43c1af4e631b73e35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E4N5MTlYLc3-0wg2Lz5OXQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="26de" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="a497" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">让我们回顾一下今天所学的内容。</p><p id="2eff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们从注册获取访问天气数据的<code class="fe ob oc od oe b">apikey</code>开始，并更改<code class="fe ob oc od oe b">Gmail</code>中的安全设置以允许<code class="fe ob oc od oe b">Less secure app access</code>用于我们的教程。此外，我们还创建了一个简单的配置文件来存储电子邮件认证数据。</p><p id="4027" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们实现了一个Python模块，该模块将调用天气API，并在未来6个小时内无论何时有雪或雨时发送电子邮件通知。</p><p id="3202" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，您应该能够基于您拥有的用例创建自己的天气警报系统。感谢您阅读这篇文章，希望在下一篇文章中再次见到您！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2b3f" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">参考</h1><ol class=""><li id="ee7b" class="lv lw it lb b lc nu lf nv li ov lm ow lq ox lu ma mb mc md bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/how-to-create-a-weather-chatbot-b8ef1b1d6703">如何创建天气聊天机器人</a></li><li id="34db" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://medium.com/better-programming/tips-and-tricks-for-handling-configuration-files-in-python-a9d7429aa50b" rel="noopener">用Python处理配置文件的技巧和诀窍</a></li></ol></div></div>    
</body>
</html>