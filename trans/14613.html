<html>
<head>
<title>Optimal Stopping Algorithm with Google’s Colab</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于Google Colab的最优停止算法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/optimal-stopping-algorithm-with-googles-colab-5b7f9f217e51?source=collection_archive---------40-----------------------#2020-10-08">https://towardsdatascience.com/optimal-stopping-algorithm-with-googles-colab-5b7f9f217e51?source=collection_archive---------40-----------------------#2020-10-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3bb8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">将众所周知的问题移植到最新的云计算服务中</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7f449a83855886ab2e5892629a0ca4ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Ko0zSNVmLIrTxw66K5Ffg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片来源:unsplash.com</p></figure><p id="d0f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谷歌的Colab是一个强大的工具，就像你们中的许多人已经习惯了谷歌驱动、文档、表格一样。你可以在远程机器上运行python代码，甚至可以访问GPU/TPU。</p><p id="6131" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最近我对Brian Christian和Tom Griffiths的书《赖以生存的算法》非常感兴趣，他们讨论了最优停止算法(也称为秘书问题)。网上有许多很好的资源(下面的链接)描述了这个问题，但这里有一个总结:</p><h1 id="f084" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">问题总结</h1><p id="370b" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">假设你想从N个助手中雇佣一个助手。这些候选人是随机面试的，你必须在面试后马上做出决定——接受还是拒绝。一旦你拒绝了一个候选人，他们就不能被召回。</p><p id="d790" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，在你面试他们的时候，你知道这个候选人有多好，并且能够将他们与之前的候选人(你拒绝了并且无法回忆起来的候选人)进行比较。困难是双重的——你无法回忆起过去的候选人，也不了解未来的候选人。你所能做的就是将你面前的候选人与过去的候选人进行比较。</p><p id="e34c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你什么时候停下来接受一个候选人？</p><p id="1b3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你停下来的时候，你获得最佳候选人的概率是多少？</p><h1 id="2fd3" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">测试案例</h1><p id="3cca" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">让我们做几个测试案例。</p><p id="01cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> N = 1(只有一名候选人申请。)</strong></p><p id="7765" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这种情况下，你的最佳候选人也是你的最差候选人，所以你得到最佳候选人的概率是100%(或1.0)</p><p id="a3e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> N = 2(有两名候选人申请。)</strong></p><p id="1e52" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就像扔硬币一样。无论你停在第一个还是第二个候选人，你得到最佳候选人的概率是50% (0.5)</p><p id="80c6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">N = 3(三名候选人申请。)</p><p id="752a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是第一个必须应用策略的真实例子。排名候选人有6种不同的方式展示自己:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">候选人可以展示的6种不同方式(1 =最好，3 =最差)</p></figure><p id="9e7b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你停在第一个候选人，你得到最佳候选人的机会是1/3(见最后两个排列)。</p><p id="1791" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你停留在第二个候选人，并且只有在这个候选人比你面试的第一个候选人更好的情况下才选择候选人<strong class="ky ir">，那么你获得最佳候选人的几率是3/6(见下图)。</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在第一个候选者<strong class="ak">之后停止，如果</strong>这个候选者比第一个更好(否则继续)</p></figure><p id="d3e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你停在第三个候选人，你的选择是有限的，只有2/6的机会你得到最好的候选人。</p><p id="4389" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设你一直在寻找N个候选人，这是你最终应该收敛的(下面的代码将总结你应该选择多少，以及“得到最好的”的机会)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/34964455c5d3cb5babe33886c88058e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*Hl5qsmjuHzKmFK9PJ6yUrg.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来自:亨利·张伯伦来源:<a class="ae kv" href="https://comicsgrinder.com/2016/05/07/book-review-algorithms-to-live-by-the-computer-science-of-human-decisions/" rel="noopener ugc nofollow" target="_blank">comicsgrinder.com</a></p></figure><h1 id="5c9a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Google Colab</h1><p id="d306" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以用谷歌的Colab来表示这个算法:</p><p id="0ad6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先导入所需的包并设置样式。我在这里使用了seaborn-whitegrid。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="7099" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">设置申请人数并创建一个空数组:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="ea37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">循环多次重复(我在这里对每个N数重复了10，000次，并对结果取平均值)。通过更高的重复次数，您将获得更接近真实概率和最佳选择指数的数字:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="454d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，创造情节:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="3d64" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我鼓励你通读这些关于最优停止问题的参考资料，你会注意到这个概率收敛到37%左右。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/34f56c7c033f51f832cdfc2149a814db.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*Z-wIdz5aog1zQyIDTErqIg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="bfd5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请不要折磨自己试图复制上面的脚本，用我的:</p><h2 id="6a4a" class="mt lt iq bd lu mu mv dn ly mw mx dp mc lf my mz me lj na nb mg ln nc nd mi ne bi translated"><a class="ae kv" href="https://colab.research.google.com/drive/1RrQkibROjMDZP12pNvWzdlQywuw62H6J?usp=sharing" rel="noopener ugc nofollow" target="_blank">谷歌Colab脚本</a></h2><h1 id="a580" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">参考资料:</h1><p id="642b" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">[1]希尔，T. <a class="ae kv" href="https://www.americanscientist.org/article/knowing-when-to-stop" rel="noopener ugc nofollow" target="_blank">知道什么时候停止</a>。(2009)，美国科学家</p><p id="88a2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">[2]维基百科:<a class="ae kv" href="https://en.wikipedia.org/wiki/Optimal_stopping" rel="noopener ugc nofollow" target="_blank">最优停止</a>访问时间:2020年10月</p><p id="85fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">[3]斯旺森，A. <a class="ae kv" href="https://www.washingtonpost.com/news/wonk/wp/2016/02/16/when-to-stop-dating-and-settle-down-according-to-math/" rel="noopener ugc nofollow" target="_blank">根据《华盛顿邮报》math </a> (2016)</p></div></div>    
</body>
</html>