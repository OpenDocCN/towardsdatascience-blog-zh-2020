<html>
<head>
<title>Using Serverless and SAM to deploy a Scheduled Lambda</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用无服务器和SAM部署预定的Lambda</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-serverless-and-sam-to-deploy-a-scheduled-lambda-with-packages-ed7efdc73070?source=collection_archive---------15-----------------------#2020-10-10">https://towardsdatascience.com/using-serverless-and-sam-to-deploy-a-scheduled-lambda-with-packages-ed7efdc73070?source=collection_archive---------15-----------------------#2020-10-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="8229" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><div class=""><h2 id="6f19" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用AWS SAM和无服务器构建和部署计划的AWS Lambda以及外部平台相关包</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/121b1d0bdb178390f0b0b667eaac9d0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BWvxqYk6ZNSvurpVxSwFyQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片来源:来自<a class="ae lh" href="https://unsplash.com/photos/ErWSi1CA-vo" rel="noopener ugc nofollow" target="_blank"> unsplash </a>的古伊列梅·加西亚</p></figure><h1 id="1ab6" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">Lambda构建和部署</h1><p id="d28f" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">有几种方法可以部署Lambda函数，最常见的方法是在IDE中编写代码，测试，保存，然后部署。您可能还需要它在某个时间运行，同样，更多的点和Cloudwatch事件的点击。这不符合<strong class="mc jd">最佳实践</strong>、<strong class="mc jd">易于管理</strong>如撤销变更、<strong class="mc jd">版本控制</strong>和<strong class="mc jd">代码可重用性</strong>。</p><h2 id="8977" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">基础设施作为代码</h2><p id="77b1" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">然而，由于许多开源工具的可用性，管理和供应云资源已经变得容易得多，这些工具允许您通过使用人类可读的配置文件(如YAML)来定义和配置您的资源。其中，<strong class="mc jd"> AWS无服务器应用程序模型(SAM) </strong>和<strong class="mc jd">无服务器</strong>，是将Lambda部署为依赖项和IaC的最佳框架。</p><h2 id="7dd6" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">问题陈述:暂停笔记本资源</h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/ed466da0b90b65f29d81319efe38a927.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*H3zvAIUZUEE7dH-uUCvyyg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">Cron调度的Lambda的设计视图</p></figure><p id="6df9" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">与许多数据科学家一起工作，我们经常面临的问题之一是笔记本电脑在下班后不使用时仍在运行。在本文中，我将演示如何使用SAM和Serverless部署一个带有外部依赖的cron调度的Lambda，以挂起SageMaker笔记本。</p><p id="b670" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">我们将部署的Python代码如下:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nn no l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">注意:任何带有always_on: no标签的笔记本都将被暂停</p></figure><p id="f61c" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">和需求文件:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi np"><img src="../Images/9f95c6bfe19873424b200dbe5dd24351.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*tJT7IGkc2jsHWJTQHTmFKw.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">requirements.txt内容</p></figure><p id="7d0f" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><em class="nq">我们用熊猫做什么……没什么，我只是想展示一个引入外部依赖的例子。</em></p><h2 id="66a4" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated"><strong class="ak">设置AWS CLI </strong></h2><p id="ea59" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">确保您的计算机上安装了AWS CLI，并且您已经使用<code class="fe nr ns nt nu b">aws configure</code>设置了环境。</p><p id="42c4" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><em class="nq">最好练习</em> <strong class="mc jd"> <em class="nq"> </em> </strong> <em class="nq">使用临时凭证，或CI/CD环境进行部署。</em></p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="0605" class="li lj it bd lk ll oc ln lo lp od lr ls ki oe kj lu kl of km lw ko og kp ly lz bi translated">AWS无服务器应用程序模型(SAM)</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oh"><img src="../Images/80ad338575c1e446896306f674dfbe56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PixwJFfXHr63UnwD.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片来源:<a class="ae lh" href="https://aws.amazon.com/blogs/aws/new-aws-sam-local-beta-build-and-test-serverless-applications-locally/" rel="noopener ugc nofollow" target="_blank"> AWS </a></p></figure><h2 id="1810" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">SAM概述</h2><p id="1a5c" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">AWS SAM是一个<strong class="mc jd">开源框架</strong>，允许您将Lambda等无服务器应用程序部署到AWS。它支持配置管理、本地测试和调试，以及与DevOps流程的集成。SAM使用最佳实践方法将配置文件转换为Cloudformation脚本。</p><h2 id="399e" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">部署具有外部依赖性的SAM调度Lambda</h2><p id="d102" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated"><strong class="mc jd"> 5个简单步骤:</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oi"><img src="../Images/b0035a3427ca5dbb9319fd1fe1ec25c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kCIPWdVY0OISruSsvGke8g.png"/></div></div></figure><p id="c7fb" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><strong class="mc jd"> 1。安装SAM CLI </strong></p><p id="cb7a" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">按照此<a class="ae lh" href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-sam-cli-install.html" rel="noopener ugc nofollow" target="_blank">链接</a>安装SAM CLI，我们将使用它将SAM包部署到AWS上。SAM需要Docker和amazon映像来进行本地测试和构建部署，因为Lambda是基于Linux的环境。</p><p id="2296" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><code class="fe nr ns nt nu b">&gt; docker pull amazon/aws-sam-cli-build-image-python3.8</code></p><p id="54df" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><strong class="mc jd"> 2。创建您的SAM项目</strong></p><p id="73c2" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">运行以下命令创建您的项目:</p><pre class="ks kt ku kv gt oj nu ok ol aw om bi"><span id="bbff" class="mw lj it nu b gy on oo l op oq">&gt; sam init --runtime python3.8 <em class="nq">--app-template hello-world --name suspend_sm_notebook </em></span></pre><p id="c93d" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">您应该看到创建了以下文件夹和文件:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi or"><img src="../Images/56c3f4ed5cb4ecfeb5e41858d6b5ee3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/format:webp/1*C-TWV4g5jHQ0MnHiuoRngQ.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">注意:文件夹hello_world重命名为source，并添加了requirements.txt</p></figure><p id="3c5f" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">将Python代码复制到<code class="fe nr ns nt nu b">handler.py</code>中，然后就可以构建YAML文件来部署Lambda和基于时间的Cloudwatch事件了。</p><p id="26a2" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><strong class="mc jd"> 3。构建SAM模板</strong></p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nn no l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">完整模板</p></figure><p id="3387" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">使用SAM，您可以部署各种无服务器模型，但是因为我们想要部署Lambda，所以资源类型将是<code class="fe nr ns nt nu b">Function</code>。还增加了一项政策，允许其与SageMaker笔记本电脑进行交互。SAM <code class="fe nr ns nt nu b">Event</code>将通过Cron表达式经由<code class="fe nr ns nt nu b">Schedule</code>调用Lambda函数。</p><p id="e7a0" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><strong class="mc jd"> 4。建造你的萨姆</strong></p><p id="199c" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">一旦您完成了测试，您就可以构建您的部署，该部署会将您的代码与来自需求的任何依赖项打包在一起。由于<code class="fe nr ns nt nu b">pandas</code>的性质，它必须在类似lambda的容器中编译。</p><p id="6840" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><code class="fe nr ns nt nu b"><strong class="mc jd">&gt;</strong> sam build --use-container --manifest source/requirements.txt</code></p><p id="4f86" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><strong class="mc jd"> 5。部署您的SAM </strong></p><p id="ddb7" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">最后，您可以部署到您的AWS环境中。SAM将使用在您的设备上设置的AWS配置，只需确保它具有所需的访问权限和现有的S3存储桶。</p><p id="a938" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><code class="fe nr ns nt nu b"><strong class="mc jd">&gt;</strong> sam deploy --stack-name SuspendSMNotebookSAM --s3-bucket sam-lambda-deploy-apse2-jy --region ap-southeast-2 --capabilities CAPABILITY_IAM</code></p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="2e26" class="li lj it bd lk ll oc ln lo lp od lr ls ki oe kj lu kl of km lw ko og kp ly lz bi translated">无服务器应用框架</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi os"><img src="../Images/cf9eb755886148623708220d882eb114.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7P-kbDHI6_My6hwIf5dU1A.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片来源:<a class="ae lh" href="https://www.serverless.com/" rel="noopener ugc nofollow" target="_blank">无服务器</a></p></figure><h2 id="97f7" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">无服务器概述</h2><p id="9d67" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">Serverless是一个<strong class="mc jd">开源框架</strong>，它允许您将无服务器应用程序部署到云中。与SAM不同，它还允许您部署到其他云，如GCP和Azure，并有一个免费的托管仪表板来提供完整的应用程序生命周期管理视图。</p><h2 id="0181" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">部署具有外部依赖性的SAM调度Lambda</h2><p id="a306" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated"><strong class="mc jd"> 4个简单步骤:</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/212ede46c6b6cbfe3b0c616fce23ab4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*1OtT85eDeequdb1bb8m2fw.png"/></div></figure><p id="5c16" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><strong class="mc jd"> 1。安装无服务器CLI </strong></p><p id="f31e" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">按照此<a class="ae lh" href="https://www.serverless.com/framework/docs/getting-started/" rel="noopener ugc nofollow" target="_blank">链接</a>进行无服务器设置。对于那些已经安装了节点的用户，可以使用npm进行安装。无服务器允许您安装可用于部署的插件。在这种情况下，python-requirements插件用于允许无服务器将python与需求中的依赖项打包在一起。</p><p id="5107" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><code class="fe nr ns nt nu b"><strong class="mc jd">&gt;</strong> npm install -g serverless</code></p><p id="8fd4" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><code class="fe nr ns nt nu b"><strong class="mc jd">&gt;</strong> docker pull lambci/lambda:build-python3.8</code></p><p id="db39" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><code class="fe nr ns nt nu b"><strong class="mc jd">&gt;</strong> serverless plugin install -n serverless-python-requirements</code></p><p id="c709" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><strong class="mc jd"> 2。创建您的无服务器项目</strong></p><p id="4239" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">运行以下命令创建您的项目:</p><p id="fba3" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><code class="fe nr ns nt nu b"><strong class="mc jd">&gt;</strong> serverless create --template aws-python3 --path suspend_sm_notebook_serverless</code></p><p id="20bd" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">您应该会看到以下创建的文件:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/77b92519c6970a5c4eae9a410849d3df.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*O7aTg_V5_MPW30GwGfn5Pw.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">注意:添加一个requirements.txt</p></figure><p id="f9a3" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><strong class="mc jd"> 3。构建无服务器模板</strong></p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nn no l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">完整模板</p></figure><p id="b597" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">作为一个多云框架，必须将目标提供商定义为AWS和ap-southeast-2 region。添加Lambda的策略和角色是为了授予SageMaker访问权限，以及授予cron调度调用<code class="fe nr ns nt nu b">schedule</code>访问权限。</p><p id="6e3e" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><strong class="mc jd"> 4。部署您的无服务器</strong></p><p id="bb32" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">这一步很简单，只需运行下面的命令，它会在后台将您的无服务器模板转换为Cloudformation，在需求中打包依赖项，并为您的部署创建一个S3存储桶。</p><p id="eb59" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><code class="fe nr ns nt nu b">&gt; serverless deploy</code></p><p id="ba11" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><strong class="mc jd">回滚和删除部署(可选)</strong></p><p id="1d4a" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">无服务器允许您回滚到以前的部署:</p><p id="6f6a" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><code class="fe nr ns nt nu b">&gt; serverless deploy list</code></p><p id="e87c" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><code class="fe nr ns nt nu b">&gt; serverless rollback --timestamp &lt;timestamp&gt;</code></p><p id="dbc1" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">或者清理并从AWS中删除我们部署的堆栈。</p><p id="66fb" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated"><code class="fe nr ns nt nu b">&gt; serverless remove</code></p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="e949" class="li lj it bd lk ll oc ln lo lp od lr ls ki oe kj lu kl of km lw ko og kp ly lz bi translated">那么…我应该用哪一个呢？</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/5d8233461aceec5d986addb16e8792fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*tufk02ZVAYjcW3QpYagAvw.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片来源:作者</p></figure><p id="9960" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">正如您所看到的，AWS SAM和Serverless都实现了允许您使用外部平台相关包将cron调度的Lambda部署到AWS的目标。这些框架在配置格式和简单性方面本质上也是相似的。然而，它们也有各自的优点和缺点:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/2c0d292c96735b4fa274565d7cc57085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*1QD2p4TY8H8bvxFzH2A6Ag.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">无服务器和SAM的比较</p></figure><p id="afd9" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">在选择Serverless还是SAM时，一些因素应该基于您想要实现的目标、您的团队能力和专业知识以及强大的社区(开源)。</p><p id="53e5" class="pw-post-body-paragraph ma mb it mc b md ni kd mf mg nj kg mi mj nk ml mm mn nl mp mq mr nm mt mu mv im bi translated">作为一个建议，如果您在一个多云环境中工作，无服务器可能是一个更好的选择，但是如果本地测试和评估更重要，那么SAM可能更适合您的团队。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="4f5d" class="li lj it bd lk ll oc ln lo lp od lr ls ki oe kj lu kl of km lw ko og kp ly lz bi translated">关于我</h1><blockquote class="ox oy oz"><p id="62a3" class="ma mb nq mc b md ni kd mf mg nj kg mi pa nk ml mm pb nl mp mq pc nm mt mu mv im bi translated">我喜欢写媒体文章，并为知识共享社区做贡献。除了尝试新的食物配方，我还帮助企业构建云和数据解决方案。请随时与我联系并向我问好！</p><p id="4259" class="ma mb nq mc b md ni kd mf mg nj kg mi pa nk ml mm pb nl mp mq pc nm mt mu mv im bi translated">— <a class="ae lh" href="https://www.linkedin.com/in/cyamma/" rel="noopener ugc nofollow" target="_blank">李帝努·雅玛</a></p></blockquote></div></div>    
</body>
</html>