<html>
<head>
<title>Reproducible Environments by Azure Machine Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure机器学习的可复制环境</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/reproducible-environments-by-azure-machine-learning-34a74772c38b?source=collection_archive---------31-----------------------#2020-11-06">https://towardsdatascience.com/reproducible-environments-by-azure-machine-learning-34a74772c38b?source=collection_archive---------31-----------------------#2020-11-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a99d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">甚至不知道如何创建docker文件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f41342db4c51d0295ee065cdc7588e46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XiocpUxD6lxs9x_8eAuJcA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><h1 id="acff" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">码头工人</h1><p id="7dfc" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">几年前，Docker开始流行起来。每个人都声称这个工具为他们节省了大量的时间。要解决构建、部署和管理应用程序的混乱过程，您唯一需要的就是Docker。就像天堂一样。</p><p id="1b9a" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">但是…这样美好的事情可能是真的吗？事实证明一切都是真的。天堂的一小部分可能错误地落到了地球上？。可能是，也可能不是，但正因为如此，如今如果你被迫为可复制环境选择明星球员，你的答案肯定会以“D”开头，以“ocker”结尾。</p><h1 id="0357" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">机器学习的再现性</h1><p id="0b62" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">此外，你可能已经知道，在任何专业的机器学习项目中，可重复性都是必须的。问题是实现这一点并不总是一件容易的事情。</p><blockquote class="mr"><p id="c48f" class="ms mt it bd mu mv mw mx my mz na ml dk translated">数据科学家喜欢在他们的本地机器上工作，学习Docker可能会分散他们的主要任务:pip安装所有东西。</p></blockquote><p id="7fbd" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">如果你是其中之一，我在这里不只是批评你。我带来了一个解决方案。开发Azure机器学习的人知道，制造可复制的Python环境是捕捉数据科学家的金矿。他们提供了一种解决方案来处理Jupyter笔记本电脑中的环境。</p><h1 id="47af" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">Azure机器学习</h1><p id="c727" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">所以，万一你对Azure机器学习一无所知，我简单给你解释一下。Azure ML是一个旨在将与机器学习生命周期相关的每个步骤集中在一个地方的地方:安全的工作空间、存储、模型管理、计算、模型再现性等等。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/b83e53d459d790c401a24b56d2f66fd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5OOLJAxXHIJBEXSc10v0tQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从我的Azure ML工作区捕获。图片作者。</p></figure><p id="7cd7" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">在左侧栏中，您可以看到提供的各种选项。但这并不是对Azure ML的概述，所以我将直奔主题:可管理的环境。</p><p id="c20f" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">在高层次上，启动Azure机器学习工作空间后，可以创建一个<em class="nh">环境</em>对象。您可以使用不同的选项来配置您的环境。尽管如此，大多数commons启用Docker，分配Conda依赖项，以及您喜欢的PyPi包。</p><p id="8fce" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">正如您在下图中所看到的，您可以在您的工作空间中创建一个托管Docker环境，以满足您的包需求。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/b60a69cb334e530d640b0d90e48c877d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GkDDFsKmRS-QhBzUJjWf4Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="0fda" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">作为Azure机器学习提供的标准服务，可以注册。这使我们有可能在没有一堆没人能理解的文件的情况下对我们的环境进行版本化。</p><p id="08e3" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">有三种类型的环境可用:</p><ol class=""><li id="3aad" class="nj nk it ls b lt mm lw mn lz nl md nm mh nn ml no np nq nr bi translated"><strong class="ls iu">策划环境</strong>:这些是预安装包的<a class="ae ns" href="https://docs.microsoft.com/en-us/azure/machine-learning/resource-curated-environments" rel="noopener ugc nofollow" target="_blank">列表</a>。它们由缓存的Docker映像提供支持，减少了运行准备工作，实现了更快的部署。</li><li id="699c" class="nj nk it ls b lt nt lw nu lz nv md nw mh nx ml no np nq nr bi translated"><strong class="ls iu">系统管理的环境:</strong>是Azure采用的默认环境。在这里你可以让Conda来处理你的依赖关系。如果您想要个性化的产品包，并且希望避免自己管理环境，这是最佳选择。</li><li id="eb40" class="nj nk it ls b lt nt lw nu lz nv md nw mh nx ml no np nq nr bi translated"><strong class="ls iu">用户管理的环境</strong>:在这里，您负责安装代码运行所需的软件包。这里唯一的Azure要求是你必须在你的pip依赖项之间列出<em class="nh"> azureml-defaults </em>包。</li></ol><p id="dbfa" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">但是足够的概念，一点动手不会伤害你。</p><h1 id="b197" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">使用Azure ML</h1><p id="ef3e" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我们将会看到前两种环境类型的例子，因为它们对于没有太多知识的你来说更容易工作。</p><p id="9d06" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">为了今天的工作，你可以在你的Azure ML工作空间中的“计算”选项中创建一个实例，或者只是设置你的本地<a class="ae ns" href="https://docs.microsoft.com/en-us/azure/machine-learning/how-to-configure-environment" rel="noopener ugc nofollow" target="_blank">环境</a>。万一你选择了第一种，而你不知道怎么做，我最近在下面的链接里做了一个教程:</p><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/data-versioning-in-azure-machine-learning-service-acca44a3b3a1"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">Azure机器学习服务中的数据版本控制</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">读完这篇文章后，你会明白Azure ML是如何处理数据的，MLOps是如何关联的，并学习如何通过…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="ol l om on oo ok op ks ob"/></div></div></a></div><h1 id="8fb8" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated"><strong class="ak">策划环境</strong></h1><p id="d5c7" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">让我们先尝试一个策划的环境。您可以使用以下代码检查Azure给出的选项。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div></figure><blockquote class="os ot ou"><p id="ae11" class="lq lr nh ls b lt mm ju lv lw mn jx ly ov mo mb mc ow mp mf mg ox mq mj mk ml im bi translated"><strong class="ls iu">注意</strong>:如果你在本地使用它，确保有JSON配置文件。</p></blockquote><p id="650d" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">运行代码后，您将看到许多环境可能性，每一个都有自己的包和依赖项。因此，您可以选择满足您要求的任何一个。</p><p id="cb12" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">假设你喜欢这个环境<em class="nh">azure ml-Scikit-learn-0 . 20 . 3。</em>这里显示了代码和部分输出，只是为了让你检查包。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/1ee39d6f58cf01f2d3f30116f8ce61b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*--j69waN3-laa5js95SXXg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="e83d" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">如你所见，环境已经为你准备好了，只要叫它的名字就行了！你甚至可以在不了解pip和Conda的情况下使用它。</p><h1 id="b4db" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated"><strong class="ak">系统管理的环境</strong></h1><p id="abe5" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">假设您没有在任何最后的列表中找到您的特殊包。或者您的软件包在那里，但是您需要使用的组合不可用。</p><p id="ac9d" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">对于系统管理的环境来说，这是一个完美的场景。您可以在这里指定您想要的Conda和pip依赖项。</p><p id="82d5" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">首先，您应该为您的环境指定一个名称。然后，可以将python用户管理的依赖项设置为False，最后，让Docker创建可重用的可缓存映像。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="b68e" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">假设我们的项目需要scikit-learn 0.23.2版本。那么，我在哪里指定我的需求呢？嗯，上一个要点中引入的CondaDepdencies不仅仅是为了好玩。在那里你可以定义你的软件包的确切版本，并决定是Conda还是pip安装它们。</p><p id="bb40" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">另一个功能是您可以存储环境变量。如果你正确使用它们，它会帮你解决一些头疼的问题。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="7f69" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">设置好环境后，您可以将它注册到您的工作区，我们已经在最后一行代码中完成了。注册环境将使我们有机会检索我们想要的任何版本。现在想象一下，你忘了列出博鲁塔包裹。嗯，那没问题。您可以更新您的pip_packages列表并再次注册环境。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="05f9" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">厉害！但是假设您的代码上周投入生产，没有Boruta包，您需要知道环境是如何配置的。又来了！很简单。正如您将在输出标题中看到的，您的第一个版本与您注册的版本完全相同。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/754f7159223907deaa9227bbf4cfce49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u5v1tEgjJSzTnxMxdzAVcA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="b92d" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">难以置信！现在你的团队中的每个人都可以在不知道任何命令的情况下享受Docker获得的好处！</p><p id="d3eb" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">正如您所看到的，我们实际上并没有使用我们刚刚创建的环境。为什么？因为要理解如何训练我们的模型，我需要先解释一下什么是估计量。这已经足够复杂，可以再写一篇文章来解释估值器了。</p><h1 id="e767" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">后续步骤</h1><p id="7db4" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">如果你现在想训练你的模型，不要担心，下一篇文章很快就要来了，在那里你会明白估计器是如何工作的。</p><p id="df5a" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">我真的希望你喜欢或发现这篇文章有用！如果你喜欢这个内容让我知道！我们可以更详细地回顾Azure机器学习服务的其他组件。</p></div><div class="ab cl pa pb hx pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="im in io ip iq"><blockquote class="os ot ou"><p id="e4fd" class="lq lr nh ls b lt mm ju lv lw mn jx ly ov mo mb mc ow mp mf mg ox mq mj mk ml im bi translated">关于作者:我对数据科学、云基础设施、商业问题和写作充满热情。我最近获得了DP-100 Azure数据科学家助理认证，我喜欢一拿到就分享所有的知识。</p></blockquote><p id="a0bd" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">如果你喜欢，请在<a class="ae ns" href="https://medium.com/@maletelier" rel="noopener">媒体</a>和<a class="ae ns" href="http://www.linkedin.com/in/maletelier" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>上关注我。如果你想给我写信，我最近在推特上。我很乐意与你交谈！</p><p id="15f2" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">如果你想多读一点，看看我最近的一些帖子:</p><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/thinking-about-becoming-an-azure-data-scientist-associate-dp-100-lets-32f8766df21e"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">想成为Azure数据科学家助理(DP-100)吗？让我们</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">读完本文后，您将对云认证和DP-100有更深刻的理解</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="ph l om on oo ok op ks ob"/></div></div></a></div><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/clustering-with-more-than-two-features-try-this-to-explain-your-findings-b053007d680a"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">具有两个以上特征的聚类？尝试用这个来解释你的发现</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">使用Plotly的line_polar将向我们展示一种令人兴奋的聚类解释方法。此外，我们将看到…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="pi l om on oo ok op ks ob"/></div></div></a></div></div></div>    
</body>
</html>