<html>
<head>
<title>Progress bars for Python with tqdm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用tqdm的Python的进度条</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/progress-bars-for-python-with-tqdm-4dba0d4cb4c?source=collection_archive---------9-----------------------#2020-09-26">https://towardsdatascience.com/progress-bars-for-python-with-tqdm-4dba0d4cb4c?source=collection_archive---------9-----------------------#2020-09-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="feb8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用智能进度条跟踪Python迭代的执行</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/622a98725314048c1cb8f42d7acf3cab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LGA9ACTyM40FmakO"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@zmachacek?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">zdenk macha ek</a>拍摄的照片</p></figure><p id="e329" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我开始从事Python中的机器学习项目后不久，我遇到了需要很长时间才能运行的计算密集型任务。通常这与某种可重复的过程有关。我立即想到的两个例子是:( 1)在p、d和q订单上运行网格搜索，以在大型数据集上拟合ARIMA模型，以及(2)在训练机器学习算法时网格搜索超参数。在这两种情况下，您可能会花费数小时(或更长时间！)等待您的代码运行完毕。我迫切需要某种指标来显示这些任务的进展，于是我找到了<strong class="lb iu"> tqdm </strong>。</p><h2 id="b87e" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">什么是tqdm？</h2><p id="7fd2" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated"><a class="ae ky" href="https://tqdm.github.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> tqdm </strong> </a>是一个Python库，允许你通过环绕任何iterable来输出一个智能进度条。一个<strong class="lb iu"> tqdm </strong>进度条不仅显示了已经过去的时间，还显示了可迭代的估计剩余时间。</p><h2 id="4318" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated"><strong class="ak">安装和导入tqdm </strong></h2><p id="ef4b" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">由于<strong class="lb iu"> tqdm </strong>是Python包索引(<a class="ae ky" href="https://pypi.org/" rel="noopener ugc nofollow" target="_blank"> PyPI </a>)的一部分，因此可以使用<strong class="lb iu"> pip install tqdm </strong>命令进行安装。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="1b28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我倾向于经常在IPython/Jupyter笔记本上工作，而<strong class="lb iu"> tqdm </strong>为此提供了出色的支持。要开始在笔记本上玩<strong class="lb iu"> tqdm </strong>，您可以导入以下内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h2 id="060f" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">例子</h2><p id="747e" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">为了清楚起见，我不会在这篇文章中进行计算密集型的网格搜索——相反，我将使用几个简单的例子来演示<strong class="lb iu"> tqdm </strong>的用法。</p><p id="234d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> For-loop进度</strong></p><p id="7288" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们想在跟踪结果的同时模拟投掷一枚硬币100，000，000次，我们还想看看这些迭代在Python中运行需要多长时间。我们可以围绕iterable(范围(100000000))包装<strong class="lb iu"> tqdm </strong>函数，这将在for循环运行时生成一个进度条。我们也可以使用<strong class="lb iu"> desc </strong>关键字参数给进度条指定一个名称。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/eec79e9d8276bc8653181318265d195d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/1*vjYu3-Z9YQ0MIDoalkDoSA.png"/></div></figure><p id="69b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">产生的<strong class="lb iu"> tqdm </strong>进度条为我们提供信息，包括任务完成百分比、完成的迭代次数、经过的时间、估计的剩余时间以及每秒完成的迭代次数。</p><p id="7b47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，<strong class="lb iu"> tqdm </strong>允许通过使用<strong class="lb iu"> trange(100000000) </strong>代替<strong class="lb iu"> tqdm(范围(10000000))</strong>进行进一步优化。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/176ed4fc828c156718f1d3a18a835d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*9BTJuUnL-f4eN4n2ozD3TQ.png"/></div></figure><p id="6457" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">嵌套for循环进度</strong></p><p id="bca0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您遇到需要嵌套for循环的情况，<strong class="lb iu"> tqdm </strong>允许您在多个层次上跟踪这些循环的进度。例如，让我们以抛硬币为例，但这次我们想玩三个独立的10，000，000次抛硬币的“游戏”,同时跟踪结果。我们可以为“整体进度”创建一个<strong class="lb iu"> tqdm </strong>进度条，以及三个游戏中每一个的进度条。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/d4038619ce68403ee1bd514ada28fd19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*S17qlM4HZoKICpSq4aapMw.png"/></div></figure><h2 id="7c0d" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">熊猫集成</h2><p id="931e" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated"><strong class="lb iu"> tqdm </strong>的一个稍微不同的实现涉及到与<a class="ae ky" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">熊猫</strong> </a>的集成。<strong class="lb iu"> tqdm </strong>可以为<strong class="lb iu">提供额外的功能。应用()</strong>方法的一个<strong class="lb iu">熊猫</strong>数据帧。熊猫。必须首先使用下面的代码向<strong class="lb iu"> tqdm </strong>注册progress_apply() 方法。然后，是<strong class="lb iu">。使用progress_apply() </strong>方法代替传统的<strong class="lb iu">。apply() </strong>方法——不同之处在于，我们现在在方法的输出中包含了一个智能进度条。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><pre class="kj kk kl km gt my mz na nb aw nc bi"><span id="dd99" class="lv lw it mz b gy nd ne l nf ng">Processing Dataframe: 100%|██████████| 1000/1000 [00:02&lt;00:00, 336.21it/s]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/5a9bf97ff40509df280f8c69b21ee7c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dJwuLMr0iQMwWlc0YtsYwg.png"/></div></div></figure><h2 id="6839" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">其他tqdm集成</h2><p id="8861" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">除了与<strong class="lb iu"> IPython/Jupyter </strong>和<strong class="lb iu"> pandas </strong>，<strong class="lb iu"> tqdm </strong>提供与<a class="ae ky" href="https://keras.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Keras </strong> </a>和实验模块的集成，用于<a class="ae ky" href="https://docs.python.org/3/library/itertools.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> itertools </strong> </a>，<a class="ae ky" href="https://docs.python.org/3/library/concurrent.futures.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">并发</strong> </a>，<a class="ae ky" href="https://pythondiscord.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">不协调</strong> </a>和<a class="ae ky" href="https://github.com/python-telegram-bot/python-telegram-bot" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">电报</strong>这篇文章仅仅触及了<strong class="lb iu"> tqdm </strong>功能的表面，所以请务必查看</a><a class="ae ky" href="https://github.com/tqdm/tqdm/tree/f4b172f7ec7598d75df094eb713c5be5370033bc#ports-to-other-languages" rel="noopener ugc nofollow" target="_blank">文档</a>以了解更多关于如何在Python代码中包含智能进度条的信息！</p><h2 id="941b" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">参考</h2><div class="ni nj gp gr nk nl"><a href="https://github.com/tqdm/tqdm/tree/f4b172f7ec7598d75df094eb713c5be5370033bc#ports-to-other-languages" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">tqdm/tqdm</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">tqdm源自阿拉伯语taqaddum (تقدّم)，意思是“进步”，是“我如此爱你”的缩写</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">github.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz ks nl"/></div></div></a></div><div class="ni nj gp gr nk nl"><a href="https://tqdm.github.io/" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">tqdm文档</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">tqdm在阿拉伯语(塔卡杜姆，تقدّم)中是“进步”的意思，在西班牙语中是“我非常爱你”的缩写(特…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">tqdm.github.io</p></div></div></div></a></div></div></div>    
</body>
</html>