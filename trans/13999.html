<html>
<head>
<title>Building a Plotly Dash App from Google Sheets — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从Google Sheets构建一个精巧的Dash应用程序——第2部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-a-plotly-dash-app-from-google-sheets-part-3-666c496c8a71?source=collection_archive---------27-----------------------#2020-09-26">https://towardsdatascience.com/building-a-plotly-dash-app-from-google-sheets-part-3-666c496c8a71?source=collection_archive---------27-----------------------#2020-09-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="ba01" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">Plotly Dash应用程序</h2><div class=""/><div class=""><h2 id="6957" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">创建一个web应用程序来显示我们新数据存储中的一些可视化效果。</h2></div><p id="fc7f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">到目前为止，我们已经创建了一个免费的、用户友好的数据存储，并通过Google Python API连接到它。</p><p id="906a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">第1部分— <a class="ae ln" href="https://medium.com/p/d37dc41ece10" rel="noopener">使用Google和code.gs进行设计和ETL过程</a></p><p id="b318" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">接下来，我们将使用这些数据为现场营销团队构建仪表板，以跟踪他们的活动和奖金进度。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/25bed51e7633b827826e347af64f4d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*5OrJMuk88BHk_ZM_1SmzgQ.jpeg"/></div><p class="lw lx gj gh gi ly lz bd b be z dk translated">荒野中的自行车营销——作者图片</p></figure><h1 id="c6d6" class="ma mb it bd mc md me mf mg mh mi mj mk ki ml kj mm kl mn km mo ko mp kp mq mr bi translated">构建Plotly Dash应用程序</h1><p id="6faf" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">Dash是Plotly的一个开源工具，它让数据科学家和其他像我一样对前端无知的人有机会组装一个交互式web应用程序，用几行python代码展示他们的Plotly图表。</p><p id="fb58" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">Plotly Dash 上的<a class="ae ln" href="https://dash.plotly.com" rel="noopener ugc nofollow" target="_blank">文档非常棒，并且有很好的例子，直入主题。</a></p><h2 id="94b4" class="mx mb it bd mc my mz dn mg na nb dp mk la nc nd mm le ne nf mo li ng nh mq iz bi translated">仪表板基础</h2><p id="b219" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">打开一个终端，为我们的项目创建一个新的环境。</p><p id="90bb" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><code class="fe ni nj nk nl b">conda create -n &lt;yourEnvironmentName&gt;</code></p><p id="7dfa" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><code class="fe ni nj nk nl b">conda activate &lt;yourEnvironmentName&gt;</code></p><p id="9b6c" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><code class="fe ni nj nk nl b">conda install plotly dash pandas numpy flask</code></p><p id="c3fc" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">从第1部分开始，我们将需要Google API库:</p><p id="4d49" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><code class="fe ni nj nk nl b">conda install -c conda-forge google-api-python-client google-auth-httplib2 google-auth-oauthlib</code></p><p id="feb7" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">开始一个新的项目文件夹，并创建一个名为<code class="fe ni nj nk nl b">app.py</code>的文件。我们已经准备好构建我们的Dash应用程序了。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="nm nn l"/></div></figure><ol class=""><li id="2f51" class="no np it kt b ku kv kx ky la nq le nr li ns lm nt nu nv nw bi translated"><em class="nx">【第5行】</em>启动烧瓶</li><li id="4204" class="no np it kt b ku ny kx nz la oa le ob li oc lm nt nu nv nw bi translated"><em class="nx">[第7–8行</em> ]使用刚刚创建的服务器创建一个Dash对象</li><li id="f47f" class="no np it kt b ku ny kx nz la oa le ob li oc lm nt nu nv nw bi translated"><em class="nx">[第10–20行] </em>使用布局方法将组件和样式添加到该Dash对象。</li><li id="26d8" class="no np it kt b ku ny kx nz la oa le ob li oc lm nt nu nv nw bi translated"><em class="nx">【第23行】</em>运行服务器</li></ol><p id="1b2a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">就是这样。有了这4个核心部分，你现在就有了一个可以工作的应用程序。</p><p id="6ebc" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">Dash的核心是应用程序的所有可视化组件都是Python类。对于您可能使用的组件类型，有特定的库可以导入，例如用于div和image等基本HTML项目的<a class="ae ln" href="https://dash.plotly.com/dash-html-components" rel="noopener ugc nofollow" target="_blank"> HTML库</a>，用户友好的<a class="ae ln" href="https://dash.plotly.com/dash-core-components" rel="noopener ugc nofollow" target="_blank"> Dash Core Components </a>库，其中包含预构建的下拉列表、列表、按钮、<em class="nx">图形(！)</em>等许多典型的web组件，最后是<a class="ae ln" href="https://dash.plotly.com/datatable" rel="noopener ugc nofollow" target="_blank"> Dash数据表</a>库来显示和操作页面上的大型数据表。</p><p id="188b" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">从终端的工作目录运行<code class="fe ni nj nk nl b">python app.py</code>。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="oe of di og bf oh"><div class="gh gi od"><img src="../Images/719cf21bf09b51a8baf0c758d15910c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PoWoiZvsN3tv_idzlrE46Q.png"/></div></div></figure><p id="bedb" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果没有错误，您应该会看到上面的内容。这意味着您的电脑正在运行该应用程序。打开浏览器，进入<a class="ae ln" href="http://127.0.0.1:8050/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:8050/ </a>(或者上面给你的任何回复)。您将看到应用程序正在运行，并从您的布局中显示<code class="fe ni nj nk nl b">&lt;h2&gt;</code>消息。还要注意浏览器右下角的蓝色圆圈。这对于将来调试和跟踪回调非常方便。</p><h2 id="c683" class="mx mb it bd mc my mz dn mg na nb dp mk la nc nd mm le ne nf mo li ng nh mq iz bi translated">复试</h2><p id="7c33" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">理解我们的应用程序如何运行的另一个非常重要的步骤是回调。在我们启动Flask之后，创建一个Dash对象，并设计我们的应用程序可以响应更改的布局，例如在下拉列表中选择一个值，单击一个按钮或对一个表格进行排序。</p><p id="aa00" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">Dash中回调的基本结构如下所示:</p><pre class="lp lq lr ls gt oi nl oj ok aw ol bi"><span id="3e9e" class="mx mb it nl b gy om on l oo op">@ app.callback(<br/>    Output(component_id='graph', component_property='figure'),<br/>    [Input(component_id='dropdown', component_property='value')]<br/>)<br/>def build_graph(selection):</span><span id="2b52" class="mx mb it nl b gy oq on l oo op">    The first arguement in our function is the first item in the<br/>    list of Inputs above. Name it as you like</span><span id="b7ab" class="mx mb it nl b gy oq on l oo op">    Do something here with the input.<br/>    In this case it is the values from the dropdown.</span><span id="1422" class="mx mb it nl b gy oq on l oo op">    return the property needed for the output <br/>            (in this case it is a plotly figure object)</span></pre><p id="ad80" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">Dash现在将监听我们名为“dropdown”的组件中的任何变化。当事情发生变化时，它将运行连接到回调的函数。然后将函数的输出返回给列出的组件。因此，用我们的选择更新页面。</p><p id="6939" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kt jd">快进</strong></p><p id="23f2" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">Plotly为其Dash应用程序和可视化库提供了令人难以置信的文档。因此，我会让您找到您想要使用的特定工具，然后继续讨论我们将如何连接我们的Google Sheet以在仪表板中使用。</p><h2 id="8632" class="mx mb it bd mc my mz dn mg na nb dp mk la nc nd mm le ne nf mo li ng nh mq iz bi translated">我们的建筑</h2><p id="eced" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">首先，我们需要添加两个函数来从第1部分的<a class="ae ln" href="https://medium.com/@derrickjameslewis/building-a-plotly-dash-app-from-google-sheets-part-1-d37dc41ece10" rel="noopener">中获取Google数据到我们的<code class="fe ni nj nk nl b">app.py</code>脚本中。这将从我们的谷歌表获取数据，并将其转换成熊猫数据框架。</a></p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="nm nn l"/></div></figure><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="nm nn l"/></div></figure><h2 id="4816" class="mx mb it bd mc my mz dn mg na nb dp mk la nc nd mm le ne nf mo li ng nh mq iz bi translated">布局</h2><p id="7598" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">接下来，我们将构建Dash应用程序的布局。Dash的想法是，它是为那些对前端开发、React或Javacript知之甚少的人提供的工具。对于像我一样的初学者，我将在下面强调两点。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="nm nn l"/></div></figure><ol class=""><li id="5f73" class="no np it kt b ku kv kx ky la nq le nr li ns lm nt nu nv nw bi translated"><strong class="kt jd">仪表板自举组件</strong></li></ol><p id="a51b" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">Bootstrap是一个流行的CSS框架，用于在手机和其他屏幕上浏览响应站点。</p><p id="a5fe" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在开发我的前几个Dash应用时，我努力调整布局。简单的任务，比如将一段文字居中或者增加页边空白是很困难的，很少能得到我想要的结果。</p><p id="039f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">Dash Bootstrap Components是第三方库，用于将bootstrap CSS集成到Dash中。文档非常棒，我从他们的视觉效果中学到了很多布局的工作原理。看一看:</p><p id="1c5f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><a class="ae ln" href="https://dash-bootstrap-components.opensource.faculty.ai" rel="noopener ugc nofollow" target="_blank">https://dash-bootstrap-components . open source . faculty . ai</a></p><p id="af07" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">该库将容器、行和列的Python类添加到页面布局中。将这种结构与您的组件一起使用将允许站点更好地响应其他屏幕。对我来说，Python类使得调整大小和对齐变得简单</p><p id="96b3" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在您的环境中安装Dash引导组件:</p><p id="01cf" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><code class="fe ni nj nk nl b">conda install -c condo-forge dash-bootstrap-components</code></p><p id="39fd" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kt jd"> 2。数据表</strong></p><p id="8ce5" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">数据表是Dash的一个组件，用于查看、编辑和浏览大型数据集。表格允许我们的应用程序用户过滤、排序和选择可以直接输入到我们的可视化数据。</p><p id="c254" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">他们非常强大，但也很挑剔。构建表格、列和标题非常简单，但是理解每个样式设置如何与其他样式设置交互可能需要一些时间来理解并导致意外的布局。</p><p id="72fb" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我遇到了与下面的单元格匹配的固定行标题的问题，以及某些CSS设置切断了数据的最左边和最右边的像素。</p><p id="a1c1" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">第一个提示是理解所有样式设置的优先级顺序:</p><ol class=""><li id="d0ad" class="no np it kt b ku kv kx ky la nq le nr li ns lm nt nu nv nw bi translated">style <em class="nx"> _data_ </em>有条件</li><li id="a4f7" class="no np it kt b ku ny kx nz la oa le ob li oc lm nt nu nv nw bi translated">样式_数据</li><li id="7570" class="no np it kt b ku ny kx nz la oa le ob li oc lm nt nu nv nw bi translated">style <em class="nx"> _filter_ </em>有条件</li><li id="5f94" class="no np it kt b ku ny kx nz la oa le ob li oc lm nt nu nv nw bi translated">样式_过滤器</li><li id="b7a2" class="no np it kt b ku ny kx nz la oa le ob li oc lm nt nu nv nw bi translated">style <em class="nx"> _header_ </em>条件</li><li id="ae9f" class="no np it kt b ku ny kx nz la oa le ob li oc lm nt nu nv nw bi translated">样式_标题</li><li id="906f" class="no np it kt b ku ny kx nz la oa le ob li oc lm nt nu nv nw bi translated">样式<em class="nx">_单元格_ </em>条件</li><li id="c97c" class="no np it kt b ku ny kx nz la oa le ob li oc lm nt nu nv nw bi translated">样式_单元格</li></ol><p id="22d1" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这意味着将类似<code class="fe ni nj nk nl b">minWidth=60</code>的设置调整为“样式_数据”，将覆盖“样式_单元格”中<code class="fe ni nj nk nl b">maxWidth=50</code>的任何重叠设置。</p><p id="86fe" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我在使用Dash数据表时的下一个技巧是为所有的样式设置建立一个单独的文件。在我在网上找到的许多例子和教程中，每一列数据都是使用for循环添加的，甚至一些条件格式的列和数据也是如此。虽然这不是最有效的，但使用单独的文件并手动构建每一列使我能够快速轻松地调试、测试和调整数据。因此，在学习用表格构建Dash应用程序时，明确一点是个好主意。您可以测试并学习如何更改数据格式、颜色和列宽。下面是我在这个仪表板上使用的例子:</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="62ae" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">请注意，在第三个列表“bonus_data_cond”中，我可以设置一个条件样式来检查我们的员工是否超过了他们的奖金目标。然后脚本相应地设置背景颜色。</p><p id="2811" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我在我们的主脚本<code class="fe ni nj nk nl b">app.py</code>中导入所有这些变量，并在上面的表格布局中分配它们，如下所示:<code class="fe ni nj nk nl b">style_cell_conditional=bonus_cell_cond</code></p><h2 id="63ea" class="mx mb it bd mc my mz dn mg na nb dp mk la nc nd mm le ne nf mo li ng nh mq iz bi translated">复试</h2><p id="c37b" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">接下来，我们将为每个可视化和交互式组件添加回调。我们要建造:</p><ol class=""><li id="497c" class="no np it kt b ku kv kx ky la nq le nr li ns lm nt nu nv nw bi translated">响应摘要统计</li><li id="303a" class="no np it kt b ku ny kx nz la oa le ob li oc lm nt nu nv nw bi translated">交互式地图</li><li id="3518" class="no np it kt b ku ny kx nz la oa le ob li oc lm nt nu nv nw bi translated">一个数据表，带有对应于数据选择的条形图。</li></ol><h2 id="0f0d" class="mx mb it bd mc my mz dn mg na nb dp mk la nc nd mm le ne nf mo li ng nh mq iz bi translated">特殊的数据回调</h2><p id="e06d" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">我们将从一些我在许多教程中没有发现的有趣的东西开始。在测试应用程序时，加载页面时数据通常不会刷新。此外，我发现一些资料提到了创建回调的最佳实践，该回调将数据作为字符串存储到<code class="fe ni nj nk nl b">html.Div()</code>中，而不是让python脚本将数据作为每个函数都可以使用的全局变量存储在Pandas DataFrame中。对于这个数据存储库<code class="fe ni nj nk nl b">html.Div()</code>，我们将设置<code class="fe ni nj nk nl b">style={'display':'none'}</code></p><p id="30c3" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">但是为什么呢？</p><p id="64a7" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这为我们做了几件事。首先，它强制页面在每次加载时更新数据。其次，每个可视组件都将使用存储在这个隐藏组件中的数据来构建。API调用和一些计算量更大的数据转换将只发生一次。对可视化的改变发生得更快，因为数据已经是干净的，只需要被过滤。最后，我知道如果数据不打算被看到或读取，这种做法有一点安全隐患。</p><p id="843e" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">因此，在我们的第一个页面加载期间，这个函数将由隐藏的<code class="fe ni nj nk nl b">html.Div()</code>运行<em class="nx">。主数据转换将在这里发生，日期被转换，数字被存储为整数。然后2个响应回调将使用这些干净的数据进行过滤。所有数据都以字符串格式存储在<code class="fe ni nj nk nl b">.Div()</code>组件中，而不是存储在服务器的内存中。幸运的是，这个项目永远无法处理非常大的数据集。如果这是您的情况，您应该找到一个替代方案来保持较低的内存使用率。</em></p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="a38f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">实际上，我将设置两个数据收集回调。原因是允许仪表板在主地图和员工奖金表之间独立设置时间范围。</p><h2 id="56b0" class="mx mb it bd mc my mz dn mg na nb dp mk la nc nd mm le ne nf mo li ng nh mq iz bi translated">地图构建回调</h2><p id="1e7d" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">在这里，我们深入了解Plotly的一些核心可视化优势。我们从我们的隐藏数据组件输入数据，并将其从字符串转换回Pandas DF进行一些操作，然后我们返回一个散点图以在上面的应用程序布局中呈现。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="nm nn l"/></div></figure><h2 id="4173" class="mx mb it bd mc my mz dn mg na nb dp mk la nc nd mm le ne nf mo li ng nh mq iz bi translated">数据表回调</h2><p id="1bec" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">设置Dash数据表的大部分繁琐工作都是在布局和样式中完成的，这里我们使用Pandas对每个现场营销员工进行一些聚合，并返回一个字符串格式的数据供<a class="ae ln" href="https://dash.plotly.com/datatable" rel="noopener ugc nofollow" target="_blank"> dash_table读取。布局中的DataTable() </a>组件。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="nm nn l"/></div></figure><h2 id="0004" class="mx mb it bd mc my mz dn mg na nb dp mk la nc nd mm le ne nf mo li ng nh mq iz bi translated">条形图回调</h2><p id="f823" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">这是许多仪表板项目中我最喜欢的部分之一。数据表提供了选择行、突出显示、删除和过滤的灵活性。所有这些对表格的调整都可以作为结果可视化的输入发送(或者更好…机器学习预测！)</p><p id="d778" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">为什么这是我最喜欢的部分？因为我喜欢给仪表盘尽可能多的灵活性。用户可能想知道一个非常具体的问题的答案，“四月份在东部地区销售了多少个小部件？”一个好的仪表板设计给用户带来了灵活性，仪表板数据表本身就有这种功能。</p><p id="9061" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这里，我们将从上表中的选定行中获取输入，并构建4个条形图。</p><p id="a854" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这里需要强调的是，回调不仅可以接受多个输入，还可以将输出设置为一个列表并发送给多个组件。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="nm nn l"/></div></figure><h2 id="1b99" class="mx mb it bd mc my mz dn mg na nb dp mk la nc nd mm le ne nf mo li ng nh mq iz bi translated">汇总统计回调</h2><p id="3944" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">这个回调简单明了地报告了给定初始日期选择器组件中设置的时间范围的清晰指标。大多数商业用户希望快速认知。这个报告的关键数字，有很大的空间。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="nm nn l"/></div></figure><h1 id="e6c2" class="ma mb it bd mc md me mf mg mh mi mj mk ki ml kj mm kl mn km mo ko mp kp mq mr bi translated">把它们放在一起</h1><p id="e565" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">以上所有部分组合成一个Dash应用程序。</p><p id="5af6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">下面的Github库包含了上面的核心部分，以及一些额外的地图，附加的过滤器和一些图片。</p><div class="or os gp gr ot ou"><a href="https://github.com/lewi0332/google_dashboard" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd jd gy z fp oz fr fs pa fu fw jc bi translated">lewi 0332/谷歌仪表板</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">Plotly Dash应用程序连接到Google Sheets API。为lewi0332/google_dashboard开发做出贡献，创建一个…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">github.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi lu ou"/></div></div></a></div><h1 id="a0a6" class="ma mb it bd mc md me mf mg mh mi mj mk ki ml kj mm kl mn km mo ko mp kp mq mr bi translated">结论</h1><p id="8eab" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">这是一个很大的步骤，需要在设计中进行大量繁琐的尝试和错误，但这是你可以让你的项目脱颖而出并为用户增加很多价值的地方。</p><h2 id="acba" class="mx mb it bd mc my mz dn mg na nb dp mk la nc nd mm le ne nf mo li ng nh mq iz bi translated">第3部分—部署到Heroku</h2><p id="8fd3" class="pw-post-body-paragraph kr ks it kt b ku ms kd kw kx mt kg kz la mu lc ld le mv lg lh li mw lk ll lm im bi translated">[即将推出]</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="oe of di og bf oh"><div class="gh gi pj"><img src="../Images/4e15ab977f0314373e169f32351d310f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nikIWK47hhFAdQ_P8NfyQw.png"/></div></div><p class="lw lx gj gh gi ly lz bd b be z dk translated">我们潜在仪表板的屏幕截图—作者提供的图片</p></figure></div></div>    
</body>
</html>