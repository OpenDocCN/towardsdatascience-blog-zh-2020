<html>
<head>
<title>Time Series Models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">时间序列模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/time-series-models-d9266f8ac7b0?source=collection_archive---------1-----------------------#2020-09-22">https://towardsdatascience.com/time-series-models-d9266f8ac7b0?source=collection_archive---------1-----------------------#2020-09-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7025" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">AR，MA，ARMA，ARIMA</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2b2840e7dd421882dd258bb7f979958f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v9OkgcuwEBNo4vErn1fpFw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片由<a class="ae kv" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4852537" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>的Gerd Altmann 提供</p></figure><p id="d8d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">AR、MA、ARMA和ARIMA模型用于根据为同一观测记录的先前时间点的历史数据来预测(t+1)的观测。但是，有必要确保时间序列在观测超时期间的历史数据上是平稳的。如果时间序列不是平稳的，那么我们可以在记录上应用差异因子，看看时间序列的图形是否是平稳的超时周期。</p><h2 id="633b" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak"> ACF(自相关函数)</strong></h2><p id="b87e" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">自相关函数考虑了所有过去的观察值，而不考虑其对未来或当前时间段的影响。它计算t和(t-k)时间段之间的相关性。它包括t和(t-k)时间段之间的所有滞后或间隔。相关性总是使用皮尔逊相关公式来计算。</p><h2 id="6733" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak"> PACF(部分相关函数)</strong></h2><p id="5220" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">PACF确定时间段t和t-k之间的部分相关性。它没有考虑t和t-k之间的所有时滞。例如，让我们假设今天的股价可能取决于前3天的股价，但它可能没有考虑昨天的股价收盘。因此，我们通过忽略两个时隙t和t-k之间的不重要的时滞，只考虑对未来时间周期有直接影响的时滞</p><h2 id="e366" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">如何区分何时使用ACF和PACF？</strong></h2><p id="a71d" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">让我们以一个村庄一年的糖果销售和收入为例。假设村里每2个月有一个节日，我们取出12个月的糖果销售和收入的历史数据。如果我们把时间画成月份，那么我们可以观察到，在计算糖果销售额时，我们只对隔月感兴趣，因为糖果销售额每两个月增加一次。但如果我们要考虑下个月的收入，那么我们就必须考虑去年全年的收入。</p><p id="cec2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，在上述情况下，我们将使用ACF来找出未来产生的收入，但我们将使用PACF来找出下个月销售的糖果。</p><h2 id="3e6f" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak"> AR(自回归)模型</strong></h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/16ce0a29d8371d437e2a85ab95ab7505.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*oGSdSEXfjS_wJpzIeJEdHQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="318f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在t的时间周期受到在不同时隙t-1，t-2，t-3，…..先前时间点的影响由该特定时间段的系数因子决定。任何特定公司X的股票价格可能取决于时间序列中所有以前的股票价格。这种模型计算过去时间序列的回归，并计算序列中的当前或未来值，称为自回归(AR)模型。</p><p id="bd17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">yt = β₁*y-₁+β₂*yₜ-₂+β₃*yₜ-₃+…………+βₖ*yₜ-ₖ</strong></p><p id="8bcb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">考虑一个牛奶分销公司的例子，该公司每月在该国生产牛奶。考虑到去年生产的牛奶，我们想计算本月生产的牛奶量。我们首先计算当月所有12个滞后期的PACF值。如果任何特定月份的PACF值大于某个有效值，则只有这些值会被考虑用于模型分析。</p><p id="d1ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，在上图中，值1，2，3到12显示了在给定滞后t的情况下，当月牛奶产量的直接影响(PACF)。如果我们考虑两个高于阈值的显著值，则该模型将被称为AR(2)。</p><h2 id="449d" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">移动平均线模型</strong></h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/6fe3efa1c525bda02fcdcb3d6e5b8bcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*g7Uy0pWHNiwcwUAJRB_nkw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="ee34" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">t处的时间周期受到在各个时隙t-1、t-2、t-3、…的意外外部因素的影响..这些意想不到的影响被称为误差或残差。先前时间点的影响由该特定时间段的系数因子α决定。任何特定X公司的股票价格可能取决于一夜之间发生的公司合并，或者该公司因破产而关闭。这种模型计算过去时间序列的残差或误差，并计算序列的当前或未来值，称为移动平均(MA)模型。</p><p id="324f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">yt = α₁*ɛₜ-₁+α₂*ɛₜ-₂+α₃*ɛₜ-₃+…………+αₖ*ɛₜ-ₖ</strong></p><p id="e5ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">考虑一个在我生日时分发蛋糕的例子。假设你妈妈让你带糕点去派对。每年你都会错过判断参加聚会的邀请数量，并根据要求结束或多或少的蛋糕数量。实际和预期的差异导致了误差。因此，您希望避免今年的错误，因此我们对时间序列应用移动平均模型，并根据过去的总体错误计算今年所需的糕点数量。接下来，计算时间序列中所有滞后的ACF值。如果任何特定月份的ACF值大于一个重要值，则只有这些值将被考虑用于模型分析。</p><p id="ab4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，在上图中，值1、2、3到12显示了当前月份糕点计数的总误差(ACF ),考虑到时间t和当前月份之间的所有滞后，给出了滞后t。如果我们考虑高于阈值的两个重要值，那么该模型将被称为MA(2)。</p><h2 id="15d7" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak"> ARMA(自回归移动平均)模型</strong></h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/d0650d4b3e4948907ed6dfd861c50c49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*Ohzstmio1Vv9jkWLrl-SkA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="7875" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个由AR和MA模型组合而成的模型。在该模型中，预测时间序列的未来值时考虑了先前滞后和残差的影响。这里，β表示AR模型的系数，α表示MA模型的系数。</p><p id="1666" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">yt = β₁*yₜ-₁+α₁*ɛₜ-₁+β₂*yₜ-₂+α₂*ɛₜ-₂+β₃*yₜ-₃+α₃*﹍-̿+……+β﹍* y﹍+α﹍*﹍-̿</strong></p><p id="ae1e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">考虑上面的图表，其中MA和AR值标有各自的有效值。让我们假设我们只考虑来自AR模型的1个重要值和来自MA模型的1个重要值。因此，ARMA模型将从其他两个模型的组合值中获得，其数量级为ARMA(1，1)。</p><h2 id="f79e" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak"> ARIMA(自回归综合移动平均)模型</strong></h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/d718320cd979945f7ffbb7a921c319d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*fK8YjybKfHEU-4j44hGXJg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="0695" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们知道，为了应用各种模型，我们必须首先将序列转换成平稳时间序列。为了达到同样的目的，我们应用差分或积分方法，从时间序列的t值中减去t-1值。在应用第一差分之后，如果我们仍然不能获得平稳的时间序列，那么我们再次应用二阶差分。</p><p id="c3be" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ARIMA模型与ARMA模型非常相似，除了它包括一个称为积分(I)的因子，即在ARIMA模型中代表I的差分。因此，简而言之，ARIMA模型是已经应用于模型的许多差异的组合，以使其稳定，先前的滞后数以及残差，以预测未来值。</p><p id="e115" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">考虑上面的图表，其中MA和AR值标有各自的有效值。让我们假设我们只考虑来自AR模型的1个重要值和来自MA模型的1个重要值。此外，该图最初是不稳定的，我们必须执行一次差分操作，以便转换成稳定的集合。因此，将从其他两个模型的组合值以及积分算子获得的ARIMA模型可以显示为ARIMA(1，1，1)。</p><h2 id="6354" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">结论:</h2><p id="9738" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">所有这些模型都给了我们对任何特定时间序列的洞察力或至少足够接近的预测。此外，哪种型号完全满足用户的需求也取决于用户。如果与其他模型相比，任何一个模型的错误率都较小，那么我们最好选择给出最接近估计值的模型。</p><p id="2830" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望这篇文章能帮助你更好地理解事情！！</p></div></div>    
</body>
</html>