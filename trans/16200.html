<html>
<head>
<title>How to create stunning visualizations using python from scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用python从头开始创建令人惊叹的可视化效果</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-do-visualization-using-python-from-scratch-651304b5ee7a?source=collection_archive---------1-----------------------#2020-11-08">https://towardsdatascience.com/how-to-do-visualization-using-python-from-scratch-651304b5ee7a?source=collection_archive---------1-----------------------#2020-11-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="e97d" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/hands-on-tutorials" rel="noopener" target="_blank">实践教程</a></h2><div class=""/><div class=""><h2 id="d8f0" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用Matplotlib和Seaborn库的分步指南</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/400bf6882d5a6146059be8375a05d185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mpyrgqwMjfclV2oN1U2VIA.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com/@lukechesser?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">卢克·切瑟</a>在<a class="ae lh" href="https://unsplash.com/s/photos/dashboard?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="9e07" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">可视化是数据科学家的一项重要技能。良好的可视化有助于清晰地传达分析中确定的见解，也是更好地理解数据集的好方法。与基于阅读或其他方式提取细节相比，我们的大脑在某种程度上更容易从视觉数据中提取模式或趋势。</p><p id="3914" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在本文中，我将从使用python的基础开始讲述可视化概念。下面是从基础开始学习可视化的步骤，</p><ul class=""><li id="b870" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated"><strong class="lk jd">第一步:导入数据</strong></li><li id="2926" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated"><strong class="lk jd">步骤2:使用Matplotlib的基本可视化</strong></li><li id="ae51" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated"><strong class="lk jd">步骤3:更高级的可视化，仍然使用Matplotlib </strong></li><li id="3e19" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated"><strong class="lk jd">步骤4:使用Seaborn为数据分析构建快速可视化效果</strong></li><li id="009c" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated"><strong class="lk jd">第五步:构建互动图表</strong></li></ul><p id="f9f7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这个旅程结束时，你将具备构建可视化所需的一切。虽然我们不会涵盖可以构建的每一个可视化，但您将学习构建图表背后的概念，因此您可以轻松构建本文中没有涵盖的任何新图表。</p><p id="2e6f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">本文中使用的脚本和数据也可以在git资源库<a class="ae lh" href="https://github.com/rsharankumar/Learn_Data_Science_in_100Days" rel="noopener ugc nofollow" target="_blank">这里</a>中找到。本文中使用的所有数据都可以在上述git存储库中的“data”文件夹中找到，脚本可以在文件夹“Day23、Day 24和Day25”中找到。</p><h1 id="8678" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated">导入数据</h1><p id="f1ad" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">第一步是读取所需的数据集。我们可以用熊猫来读取数据。下面是一个简单的命令，可用于从CSV文件中读取数据</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="c5d7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在读取数据集时，重要的是对其进行转换，并使其适合我们将应用的可视化。例如，假设我们有客户级别的销售详细信息，如果我们想要构建一个图表来显示一天的销售趋势，则需要在一天的级别对数据进行分组和汇总，然后使用趋势图。</p><h1 id="5da3" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated">使用Matplotlib的基本可视化</h1><p id="7dc1" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">让我们从一些基本的可视化开始。最好使用代码' fig，ax=plt.subplots()'，其中' plt.subplots()'是一个函数，它将返回一个带有fig和axes对象的元组，并分别分配给变量' fig '和' ax '。如果不使用它，你也可以打印一个图表，但是通过使用它，你可以对figure进行修改，就像你可以根据它的外观重新调整图表的大小一样，还可以保存图表。类似地，这里的“ax”变量可以用来给轴提供标签。下面是一个简单的例子，我将数据作为数组传递，并直接打印成图表</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="bc30" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在上面的代码中，首先导入所需的库，然后使用' plt.subplots()'函数生成图形和轴对象，然后将数据作为数组直接传递给轴对象以打印图表。在第二个图表中，轴变量“ax”接受特定于x轴、y轴和标题的标签的输入。</p><h2 id="50df" class="nr mt it bd mu ns nt dn my nu nv dp nc lr nw nx ne lv ny nz ng lz oa ob ni iz bi translated">趋势图表</h2><p id="7369" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">现在，让我们开始使用一些真实的数据，并了解如何构建有趣的图表以及如何定制它们以使其更加直观。如前所述，在大多数真实的用例中，数据需要进行一些转换才能用于图表。下面是一个例子，我使用了网飞的数据，但对数据进行了转换，以合并每年的电影和电视节目数量。然后，我使用了“plt.subplots()”函数，但我也添加了一些额外的细节，使图表更加直观，不言自明。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="b094" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">还可以对上面的图表进行一些定制，比如创建一个双轴。在上面的例子中，电影和电视节目的数量之间没有太大的差异，因此数据看起来不错，如果它们之间有很大的差异，那么图表将不是很清楚。在这些情况下，我们可以利用双轴，以便具有较小值的属性也将与另一个属性一致。</p><h2 id="db2e" class="nr mt it bd mu ns nt dn my nu nv dp nc lr nw nx ne lv ny nz ng lz oa ob ni iz bi translated">散点图</h2><p id="6487" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">我们还可以利用散点图，显示我们正在绘制的变量之间的任何关系。该图有助于显示变量之间的相关性，例如当一个属性增加/减少时，另一个属性会发生什么。</p><h1 id="ed4e" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated"><strong class="ak">更高级的可视化，仍然使用Matplotlib </strong></h1><p id="7d9d" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">一旦你熟悉了我们到目前为止介绍的简单趋势图，你就可以开始使用稍微高级一点的图表和功能来更好地定制你的可视化</p><h2 id="d0da" class="nr mt it bd mu ns nt dn my nu nv dp nc lr nw nx ne lv ny nz ng lz oa ob ni iz bi translated">条形图</h2><p id="50d2" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">条形图通过并排绘制来帮助我们同时比较多个值。有不同种类的条形图，</p><ul class=""><li id="11fe" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">垂直条形图</li><li id="3b1b" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">水平条形图</li><li id="a094" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">堆积条形图</li></ul><p id="6e58" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下面是一个条形图的例子，有一些自定义添加到这个图。他们是，</p><ul class=""><li id="d805" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">添加了轴标签和标题</li><li id="a188" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">已提供字体大小</li><li id="0e2d" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">还提供了图形大小(默认的图表看起来会小得多，也很杂乱)</li><li id="eedf" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">使用一个函数来生成值并将其添加到每个条形的顶部，以帮助查看者获得实际的细节</li></ul><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="np nq l"/></div></figure><h2 id="9e01" class="nr mt it bd mu ns nt dn my nu nv dp nc lr nw nx ne lv ny nz ng lz oa ob ni iz bi translated">水平和堆积条形图</h2><p id="b6b0" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">垂直条形图是最常见的，但我们也可以使用水平条形图，特别是当数据标签有一个很长的名称，很难将它们打印在垂直条形图下方时。在堆积条形图的情况下，一个类别中的条形图将一个堆叠在另一个之上。下面是实现水平和堆叠条形图的示例。下面的代码还包括对图表颜色的定制。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="np nq l"/></div></figure><h2 id="bde3" class="nr mt it bd mu ns nt dn my nu nv dp nc lr nw nx ne lv ny nz ng lz oa ob ni iz bi translated">饼图和圆环图</h2><p id="c21c" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">饼图有助于显示数据中不同类别的比例，并且这些饼图可以很容易地修改为圆环图，方法是用一个圆覆盖饼图的中心部分，并重新对齐文本/值以适应圆环图。下面是一个简单的例子，我实现了饼图，后来又把它修改成了圆环图</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="np nq l"/></div></figure><h2 id="854c" class="nr mt it bd mu ns nt dn my nu nv dp nc lr nw nx ne lv ny nz ng lz oa ob ni iz bi translated">为什么学习Matplotlib很重要？</h2><p id="71a5" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">Matplotlib是python中非常重要的可视化库，因为python中的许多其他可视化库都依赖于matplotlib。学习matplotib的一些优势/好处是，</p><ul class=""><li id="1987" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">这很容易学</li><li id="4848" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">它是高效的</li><li id="c7bf" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">它允许大量的定制，因此可以构建几乎任何类型的视觉效果</li><li id="3e97" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">像Seaborn这样的库是建立在Matpotlib之上的</li></ul><p id="a51c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我只讲述了Matplotlib中最基本的可视化，但重要的是通过练习这些图表，你将获得构建更多可视化的知识。Matplotlib支持许多可视化功能<a class="ae lh" href="https://matplotlib.org/3.1.0/gallery/index.html" rel="noopener ugc nofollow" target="_blank">，这里的</a>是所有受支持图表图库的链接。</p><h1 id="cf9b" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated"><strong class="ak">使用Seaborn构建数据分析的快速可视化</strong></h1><p id="90b8" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">我们已经介绍了使用Matplotlib库的各种可视化。我不知道您是否注意到了，尽管matplotlib提供了高度的定制，但它涉及大量的编码，因此可能会非常耗时，尤其是当您正在进行探索性分析，并且想要快速绘制一些图表以更好地理解数据并更快地做出决策时。这正是seaborn库所提供的，下面是使用Seaborn库的一些好处，</p><ul class=""><li id="224e" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">默认主题仍然很有吸引力</li><li id="19b7" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">简单快速地构建可视化效果，尤其适用于数据分析</li><li id="81d5" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">它的声明式API允许我们只关注图表的关键元素</li></ul><p id="30d4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">也有一些缺点，比如它没有提供太多的定制，并且它可能会导致内存问题，特别是当我们处理大型数据集时。但仍然是利大于弊。</p><h2 id="a61f" class="nr mt it bd mu ns nt dn my nu nv dp nc lr nw nx ne lv ny nz ng lz oa ob ni iz bi translated">只有一行代码的可视化</h2><p id="b530" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">下面是一些使用seaborn库只用一段代码实现的简单可视化。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="21ce" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如上面的快照所示，可视化效果只用一行代码就创建好了，看起来也很不错。Seaborn库被广泛用于数据分析阶段，因为我们可以轻松快速地构建图表，并且对图表的可展示性影响最小/没有影响。可视化是数据分析的关键，因为它们有助于揭示数据中的模式，而seaborn库正好适合这一目的。</p><h2 id="1895" class="nr mt it bd mu ns nt dn my nu nv dp nc lr nw nx ne lv ny nz ng lz oa ob ni iz bi translated">热图</h2><p id="8018" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">热图是另一种有趣的可视化方式，广泛用于时间序列数据，以显示数据集中的季节性和其他模式。然而，要构建热图，我们需要将数据转换成特定的格式，以支持热图绘制。下面是一个示例代码，用于转换数据以适应热图和用于构建热图的seaborn库</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="np nq l"/></div></figure><h2 id="add0" class="nr mt it bd mu ns nt dn my nu nv dp nc lr nw nx ne lv ny nz ng lz oa ob ni iz bi translated">结对图——我最喜欢的Seaborn功能</h2><p id="f410" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">我认为结对图是seaborn库最好的特性之一。它有助于将数据集中的每个属性与其他每个属性通过可视化方式进行比较，同样也是在一行代码中。下面是构建配对图的示例代码。当我们正在处理的数据集包含大量列时，使用配对图可能不可行。在这些情况下，配对图可用于单独分析一组特定属性之间的关系。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="np nq l"/></div></figure><h1 id="c155" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated"><strong class="ak">构建互动图表</strong></h1><p id="efa7" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">在从事数据科学项目时，有时需要与业务团队共享一些可视化内容。仪表板工具广泛用于此目的，但是假设您在执行数据分析时注意到了一个有趣的模式，并希望与业务用户分享。如果将它们作为图像共享，业务用户可能没有太多可做的，但是如果将它们作为交互式图表共享，则业务用户可以通过放大或缩小或使用其他功能与图表交互来查看粒度细节。下面是一个例子，我们正在创建一个HTML文件作为输出，其中包括可视化，可以与任何其他用户共享，他们可以简单地在web浏览器中打开。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="5664" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你热衷于学习使用python可视化，请查看下面我的播放列表。它包括三个视频，总教程长度只有一个多小时。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oc nq l"/></div></figure><h1 id="998b" class="ms mt it bd mu mv mw mx my mz na nb nc ki nd kj ne kl nf km ng ko nh kp ni nj bi translated">关于我</h1><p id="3a3c" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">我是一名拥有超过10年经验的数据科学专业人员，我已经撰写了2本数据科学方面的书籍，它们在<a class="ae lh" href="https://www.amazon.com/Sharan-Kumar-Ravindran/e/B015SUYR2S/ref=dp_byline_cont_ebooks_1" rel="noopener ugc nofollow" target="_blank">这里</a>有售。我有一个YouTube频道，在那里我教授和谈论各种数据科学概念。如果有兴趣，可以订阅我下面的频道。</p><div class="od oe gp gr of og"><a href="https://www.youtube.com/c/DataSciencewithSharan" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd jd gy z fp ol fr fs om fu fw jc bi translated">莎兰的数据科学</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">我是一名数据科学专业人员，在高级分析和应用机器领域拥有十多年的经验…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">www.youtube.com</p></div></div><div class="op l"><div class="oq l or os ot op ou lb og"/></div></div></a></div></div></div>    
</body>
</html>