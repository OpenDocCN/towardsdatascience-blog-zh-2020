<html>
<head>
<title>Jupyter Notebook in an AWS EC2 Instance using Docker Image</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Docker映像的AWS EC2实例中的Jupyter笔记本</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/jupyter-notebook-in-a-docker-container-on-aws-ec2-instance-7efc51459d6f?source=collection_archive---------38-----------------------#2020-10-21">https://towardsdatascience.com/jupyter-notebook-in-a-docker-container-on-aws-ec2-instance-7efc51459d6f?source=collection_archive---------38-----------------------#2020-10-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="857e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">数据科学和机器学习专业人员的最佳可能世界</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/006cf82df518d388a8640ca27e30b6b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*i6c3E8tZUwoc8DyF"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@zeshalynkristine?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Zeshalyn Capindo </a>拍摄的照片</p></figure><p id="bdff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大多数数据科学和机器学习专业人士都喜欢Jupyter笔记本。除了少数异常情况，大多数数据科学和机器学习工作都发生在云中。所以别无选择，只能在云上使用Jupyter。</p><p id="4f8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的上一篇文章中，我解释了如何在AWS Linux实例上下载Jupyter笔记本，并使用Xming和X11转发在客户机上访问它。下面是那篇文章的链接</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/jupyter-notebook-on-aws-ec2-instance-f869f5aa4848"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">AWS EC2实例上的Jupyter笔记本</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">无处不在的云和Jupyter可用性的完美结合</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="9391" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将解释如何通过Docker映像直接访问AWS EC2实例中的Jupyter笔记本。不需要在AWS EC2实例中安装Anaconda或Jupyter。</p><p id="9a96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我假设你已经有了一个AWS EC2实例，并且知道如何通过<a class="ae ky" href="https://www.putty.org/" rel="noopener ugc nofollow" target="_blank"> Putty </a>访问它</p><p id="3883" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">必备工具</strong></p><p id="9ae8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确保您拥有最新版本的默认操作系统包。尤其是检查是否安装和配置了防火墙相关的软件包。我在AWS EC2上使用Redhat Linux实例。</p><p id="87dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先要确认的是iptables——安装了服务。如果没有，通过yum安装</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="4f65" class="ms mt it mo b gy mu mv l mw mx">sudo yum install iptables-services</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/798aa9927efd4be0eda54a4be0b7e5eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AUtVtXxECacMzx3gkuxnsA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h2 id="6b24" class="ms mt it bd mz na nb dn nc nd ne dp nf li ng nh ni lm nj nk nl lq nm nn no np bi translated">码头发动机安装</h2><p id="92ff" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">现在您已经准备好安装Docker引擎了。我按照下面链接的说明在我的Red Hat Linux实例上安装了Docker引擎。如果您的实例使用不同的操作系统，请查看下面链接中针对该操作系统的步骤。</p><div class="lv lw gp gr lx ly"><a href="https://docs.docker.com/engine/install/centos/" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">在CentOS上安装Docker引擎</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">要在CentOS上开始使用Docker引擎，请确保您满足先决条件，然后安装Docker。要安装…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">docs.docker.com</p></div></div><div class="mh l"><div class="nv l mj mk ml mh mm ks ly"/></div></div></a></div><p id="7422" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">a.先做第一件事；运行以下命令安装所有yum实用程序</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="db6b" class="ms mt it mo b gy mu mv l mw mx">sudo yum install -y yum-utils</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/494ab7fbf3f07232c3554c141c9b4886.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s_J4a4VZ0GMsR11x0zoUww.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="c439" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">b.获取最新的docker存储库</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="abde" class="ms mt it mo b gy mu mv l mw mx">sudo yum-config-manager --add-repo  <a class="ae ky" href="https://download.docker.com/linux/centos/docker-ce.repo" rel="noopener ugc nofollow" target="_blank">https://download.docker.com/linux/centos/docker-ce.repo</a></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/0f4c08004ceb871e3ae2334d826b753f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CIfbBmvMToImZ4ozDs3vBg.png"/></div></div></figure><p id="efd2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">c.现在安装最新版本的docker引擎和容器</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="14ab" class="ms mt it mo b gy mu mv l mw mx">sudo yum install docker-ce docker-ce-cli containerd.io</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/66df31749a191dacafdf363b534d7299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pKSYVxeGrn5t1NSTz2f3OA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="c611" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">d.启动docker服务。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="7521" class="ms mt it mo b gy mu mv l mw mx">sudo systemctl start docker.service</span></pre><p id="ae40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您没有收到任何错误消息，您的docker服务已经成功启动。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/0c652505b50637089f710d4287f46bdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*2SdTXaF7RpgAjRQKHbNehQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="1d86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">e.您还可以检查docker服务的状态。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="cfe1" class="ms mt it mo b gy mu mv l mw mx">sudo systemctl status docker.service</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/83f7ed4b18cad25e6521ecddaeb6b89f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3PUkFvb8lY2_ZWtuaAwb2w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="013f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">恭喜你！！您已经成功安装了docker引擎。现在，您已经准备好提取Jupyter笔记本图像。</p><h1 id="58df" class="ob mt it bd mz oc od oe nc of og oh nf jz oi ka ni kc oj kd nl kf ok kg no ol bi translated">Jupyter笔记本</h1><p id="6073" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">是时候拉Jupyter笔记本镜像了。</p><p id="1ef8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">a.运行下面的命令来提取docker映像并启动Jupyter notebook。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="0270" class="ms mt it mo b gy mu mv l mw mx">sudo docker run -p 8888:8888 jupyter/scipy-notebook</span></pre><p id="3143" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">等待映像下载和提取完成。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/231b51b58d21e0384ffd5774f3d64c1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lAP5q2CbCgDSlZsK9lyI-w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="7df4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将收到一条消息，表明Jupyter notebook正在运行，其中包含一个指向Jupyter notebook的链接。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/9755690e059c5252ace1597c1e572546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BRhlndC0aT6_lmq9pFq2BA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="10b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">b.复制链接并删除127.0.0.1和您实例的公共IP地址。您可以在EC2 Instance Connect选项卡中看到您的实例的公共IP地址。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/55312ec5eacfe7efb373f83d7dfe2026.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9EsvPslCEe3TaeGPrVPsDg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="b764" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">c.如果您收到超时消息或站点无法访问消息，您的实例可能不允许在端口8888连接。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/a12f6bc56e0efe5fca94ba0d780f140e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uKGBCZ281lNCUxlu8Ol5ug.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="07b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">d.转到AWS实例的security选项卡，单击安全组名称。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/1a8c6ffc20c0e4758f63d1ae718c3cb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S2OTj8Vpdsmb4TSwDbsC4Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="224c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">e.单击Edi入站规则按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/c73e2c5be04d448dd69b05c0fc52f117.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tevkNaklCKmcwD_CjOspiQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="6bba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">e.如下所示，为端口8888添加一个规则，并保存该规则。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/ef074db0f95a68bb9e68a7b2e8ed189a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dNIIRc_Xgxe9sy5KQmW-wA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="3680" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">f.现在刷新你的浏览器。朱庇特笔记本会出现。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/b2c062a523f157f7ebf661f735617b11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XCvUoJLQHNU92k8mb5-ZHg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="1761" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">恭喜你！！您的Jupyter笔记本正在等待您的下一次数据科学或机器学习冒险！</p><h2 id="11f7" class="ms mt it bd mz na nb dn nc nd ne dp nf li ng nh ni lm nj nk nl lq nm nn no np bi translated">结论</h2><p id="159b" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">云和Docker图像正在成为数据科学和机器学习专业人士生活中不可避免的一部分。Docker图像就像已经为您完成的工作。尽可能地使用它来减少你在项目中的周转时间。</p></div></div>    
</body>
</html>