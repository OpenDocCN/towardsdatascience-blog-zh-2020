<html>
<head>
<title>Twitter Sentiment Analysis in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的Twitter情感分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/twitter-sentiment-analysis-in-python-1bafebe0b566?source=collection_archive---------13-----------------------#2020-10-12">https://towardsdatascience.com/twitter-sentiment-analysis-in-python-1bafebe0b566?source=collection_archive---------13-----------------------#2020-10-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5b70" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">计算Twitter账户的主观性和极性得分</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/92e44535b1f4fe5ec6fec3efcf6f5af7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G0qOF1iQvGlpUxCV"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卢克·切瑟在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="34f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">情感分析是数据科学和人工智能中最常见的任务之一。在本文中，我们将使用Python、Tweepy和TextBlob，使用Twitter API和自然语言处理对选定的Twitter帐户进行情感分析。</p><h1 id="d7e8" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">介绍</h1><p id="d661" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我们将使用Twitter对书面文本进行情感分析。在这个例子中，我们将使用Twitter，但这也可以用于商业环境中，以分析不同的社交媒体账户、对贵公司的评论、对贵公司产品和服务的评论，分析支持票、电子邮件或来自调查的自由文本，从而了解在线参与贵公司业务的人们的情绪。</p><h1 id="42b9" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">你会学到什么？</h1><p id="c5e3" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">您将学习如何使用<strong class="lb iu"> TextBlob </strong>进行基本的情绪分析；用于<strong class="lb iu"> Python </strong>的强大的<strong class="lb iu">自然语言处理</strong>库。我们还将使用<strong class="lb iu"> WordCloud </strong>库来可视化我们的一些发现，我们还将使用<strong class="lb iu"> Twitter API </strong>。熟悉API对于数据科学家来说是一项有用的技能。这是从互联网上获取数据的一种非常常见的方法。</p><h1 id="5ab2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">问题定义</h1><p id="0072" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我们的任务是根据主观性<strong class="lb iu">和极性</strong>来分析个人推特账户的推文。我们会将每条推文区分为<strong class="lb iu">正面、负面和中性</strong>，并计算正面推文的百分比。我们将使用<strong class="lb iu"> WordCloud </strong>库来展示来自推文中最积极的词汇。</p><h1 id="ded4" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">逐步解决方案</h1><p id="5f2a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><strong class="lb iu">创建虚拟环境</strong></p><p id="fe63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们希望将特定于Twitter的Python库与我们计算机上的其他库分开。这就是为什么我们将为此项目创建一个虚拟环境。</p><p id="e550" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的计算机上应该有一个文件夹，用于存储所有虚拟环境。这个文件夹中应该没有其他东西，没有项目文件等。，只是虚拟环境不同。您可以将该文件夹称为“虚拟环境”。</p><p id="3b0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了该文件夹后，创建您的虚拟环境:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="aa3f" class="mx lw it mt b gy my mz l na nb">$ virtualenv twitter_venv</span></pre><p id="cf05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后激活它:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="420a" class="mx lw it mt b gy my mz l na nb">$ source twitter_venv/bin/activate</span></pre><p id="9caf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后安装<strong class="lb iu"> Tweepy </strong>等库:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="2810" class="mx lw it mt b gy my mz l na nb">(twitter_venv) $ conda install tweepy</span><span id="9be4" class="mx lw it mt b gy nc mz l na nb">(twitter_venv) $ conda install textblob</span><span id="7fed" class="mx lw it mt b gy nc mz l na nb">(twitter_venv) $ conda install wordcloud</span></pre><p id="49bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">成功安装库后，您可以停用它:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="998b" class="mx lw it mt b gy my mz l na nb">(twitter_venv) $ deactivate</span></pre><p id="0365" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，您需要将这个虚拟环境添加到您的jupyter笔记本电脑配置中:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="5fa7" class="mx lw it mt b gy my mz l na nb">$ python -m ipykernel install — user — name=twitter_venv</span></pre><p id="f9b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你完成了这一步，你就可以继续这个项目了。</p><p id="b29e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">创建项目文件夹</strong></p><p id="5197" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在你的电脑上为一个名为“推特-情绪-分析”的项目创建一个文件夹:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="76e8" class="mx lw it mt b gy my mz l na nb">$ mkdir “Twitter-Sentiment-Analysis”</span></pre><p id="d606" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">创建Twitter应用密钥</strong></p><p id="299b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这个项目，我们将使用<strong class="lb iu"> Twitter API </strong>从Twitter获取信息。为了做到这一点，我们需要一个Twitter开发者账户。</p><p id="f6c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Twitter为开发者引入了一些新的要求，完成这个过程需要几个步骤。</p><p id="bcd1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，你需要去developer.twitter.com。如果您没有标准的Twitter帐户，您需要创建一个并登录。</p><p id="87d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">标准Twitter账户将允许你登录，但不允许你做任何其他事情，你需要通过访问这个地址<a class="ae ky" href="http://developer.twitter.com/en/apply-for-access" rel="noopener ugc nofollow" target="_blank">developer.twitter.com/en/apply-for-access</a>并点击<strong class="lb iu">申请开发者账户</strong>来申请开发者访问。</p><p id="70a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你必须回答几个问题。出于使用Twitter开发者工具的原因，您可以选择<strong class="lb iu">探索API </strong>。</p><p id="f853" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你还需要回答几个关于如何使用Twitter API的问题。您可以解释说，您将学习数据科学，不打算使用API构建任何产品(主题:您只是出于本练习的目的创建一个Twitter开发人员帐户，如果您打算将Twitter开发人员帐户用于任何其他用途，您需要提供更多详细信息)。</p><p id="4cfa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，你必须同意开发商协议和政策，你可以提交你的申请。</p><p id="9e3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">提交申请后，您需要点击Twitter发送给您的链接来确认您的电子邮件地址。确认您的电子邮件地址后，您的Twitter开发人员帐户的访问权限应该会立即被授予。如果你从Twitter上收到一封邮件，询问关于你的申请的更多信息或澄清，你需要提供所有必要的信息。</p><p id="77e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你的访问权限被授予，进入这个网址<a class="ae ky" href="https://developer.twitter.com/en/apps" rel="noopener ugc nofollow" target="_blank">https://developer.twitter.com/en/apps</a>和<strong class="lb iu">创建一个应用</strong>。</p><p id="a6b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你必须提供一个名称，描述，网址和你创建应用程序的原因。</p><p id="c0bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦创建了您的应用程序，请转至<strong class="lb iu">密钥和令牌</strong>选项卡。这里已经创建了<strong class="lb iu"> API密钥</strong>和<strong class="lb iu"> API秘密密钥</strong>，您需要生成一个<strong class="lb iu">访问令牌</strong>和<strong class="lb iu">访问令牌秘密</strong>。点击<strong class="lb iu">生成</strong>按钮即可。你的Twitter情感分析项目需要这四个值。现在把它们都复制下来，放在文件中安全的地方。我们稍后会用到它们。</p><p id="10a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">开始新的笔记本</strong></p><p id="5196" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过在终端/命令提示符下键入命令，进入项目文件夹并启动Jupyter Notebook:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="d6d7" class="mx lw it mt b gy my mz l na nb">$ cd “Twitter-Sentiment-Analysis”</span></pre><p id="28af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="5b68" class="mx lw it mt b gy my mz l na nb">$ jupyter notebook</span></pre><p id="5f34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击右上角的新建，选择<strong class="lb iu"> twitter_venv </strong>虚拟环境。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/a222b343a98163ced331f925be20266b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/0*_k2hZHlboEIY25Vd"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="3989" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将在您的浏览器中打开一个新的jupyter笔记本。将未命名的<strong class="lb iu">项目名称重命名为您的项目名称，您就可以开始了。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/15b0a65c21e92f5e0be6bc2d365eb4e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8fgZ2dri9vfe8lqN"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="d13f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你正在使用<a class="ae ky" href="https://colab.research.google.com" rel="noopener ugc nofollow" target="_blank"> Google Colab </a>，打开一个新的笔记本。</p><p id="4a9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">装载库</strong></p><p id="1e9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正在导入Tweepy、TextBlob、WordCloud、Pandas、Numpy和Matplotlib。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="9961" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们加载配置文件(确保编辑配置文件并输入简介中描述的<strong class="lb iu"> Twitter API细节</strong>)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="7b75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">配置文件<strong class="lb iu"> config.csv </strong>的格式如下:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="0368" class="mx lw it mt b gy my mz l na nb">twitterApiKey,twitterApiSecret,twitterApiAccessToken,twitterApiAccessTokenSecret<br/>enter-your-value,enter-your-value,enter-your-value,enter-your-value</span></pre><p id="75b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在这里找到一个例子。</p><p id="f56c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们需要设置Tweepy认证所需的所有Twitter API配置值。这些值将从<strong class="lb iu"> config.csv </strong>文件读取到Python变量中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="da1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们正在使用<strong class="lb iu"> Tweepy </strong>进行身份验证调用，这样我们就可以调用一个函数来从指定的Twitter帐户中检索最新的tweets。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="9d41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用<strong class="lb iu"> elonmusk </strong> Twitter账户作为例子，但可以随意将Tweeter账户更改为不同的账户；甚至是你自己的推特账号。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="1cdb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们将从指定的Twitter账户中检索最后的<strong class="lb iu"> 50条推文&amp;回复</strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="ad2a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将从它创建<strong class="lb iu">熊猫数据帧</strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="3381" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们通过调用<em class="nh"> head() </em>函数来看看数据帧里有什么。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/2bac3e98e42a73c425878ff2dc959a12.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*wWP2Pu2jCamDOR4hnI1xRA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="2ddb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们开始情绪分析之前，最好先清理掉每条推文中不必要的数据。</p><p id="faa0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将创建一个<em class="nh">clean up weet</em>函数，它将:</p><ul class=""><li id="4f00" class="nj nk it lb b lc ld lf lg li nl lm nm lq nn lu no np nq nr bi translated">删除提及</li><li id="edc0" class="nj nk it lb b lc ns lf nt li nu lm nv lq nw lu no np nq nr bi translated">移除标签</li><li id="21e8" class="nj nk it lb b lc ns lf nt li nu lm nv lq nw lu no np nq nr bi translated">删除转发</li><li id="af71" class="nj nk it lb b lc ns lf nt li nu lm nv lq nw lu no np nq nr bi translated">删除URL</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="d119" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们将把它应用到熊猫数据框中的所有推文中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="3ea7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还将使用TextBlob构建几个函数来计算我们推文的主观性和极性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="8d09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们将这些函数应用到我们的数据框架中，并在数据框架中创建两个新特征<strong class="lb iu">主观性</strong>和<strong class="lb iu">极性</strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="e4ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们看看我们的数据框现在是什么样子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/d7f9215007e393c9d547fb6b6991ad0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*s9feWK3ZUKovNYbqG4zrCg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="9f40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们这里有一些空行，所以在进一步处理之前，让我们删除它们。</p><p id="744a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的命令将删除Tweet列等于""的所有行。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/89dccf2998c6e798025daa51e2f7eb60.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*14vfUVBhQQ8dB0D3V-MVAg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="1253" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到，我们已经为数据框架中的主观性和极性计算了分数。</p><p id="0dad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们建立一个函数，将我们的推文分为<strong class="lb iu">负面、中性和正面</strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="70b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">应用这个函数，在我们的数据框中创建另一个名为<strong class="lb iu"> Score </strong>的特征。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="58c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我们的数据框架，包含我们所有推文的主观性、极性和得分。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/1f2c5a384b7b8f41e4681cec08eff91f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*KJB4TJNqt1-bGPjvSx_j6w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="50b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们取所有正面推文，并计算我们的数据框架中所有推文中正面推文的百分比。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="e11e" class="mx lw it mt b gy my mz l na nb">57.446808510638306 % of positive tweets</span></pre><p id="b62e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以使用<strong class="lb iu"> Matplotlib </strong>可视化正面、负面和中性的推文。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/43e61614f7c976487ca670f00dce3ed2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ka5iza7PwuINyFP6adAMTA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="6ad2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到负面、中立和正面的推文是如何在这个账号上传播的。</p><p id="0e03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以通过在图表上显示主观性和极性的精确值来可视化相同的信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="1351" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以计算客观推文的百分比。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="b11b" class="mx lw it mt b gy my mz l na nb">27.659574468085108 % of objective tweets</span></pre><p id="aa14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们还可以生成一个词云来查看我们正在分析的推文中使用的主题和最常用的词。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/be829ab1a4ccfafaf1ae31b03c965d10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*zydzFxaMMOMTui42xzZp6A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="32cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对推文进行情感分析使我们能够计算主观性和极性的数值。</p><p id="8281" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这可以帮助我们更好地理解这个Twitter账户所使用的语言。</p><p id="4af8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从营销的角度来看，将这一点与关于喜欢和评论的额外信息结合起来非常有用，可以让我们发现主观性、极性和特定Twitter账户用户参与度之间的一些相关性。</p><p id="db45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们鼓励你对这个例子进行更多的实验，并想出更多关于如何在实践中使用它的想法。</p><p id="a9e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想了解更多并尝试Python和数据科学，你可以看看我的另一篇文章<a class="ae ky" rel="noopener" target="_blank" href="/analysing-pharmaceutical-sales-data-in-python-6ce74da818ab">用Python分析药品销售数据</a>、<a class="ae ky" href="https://medium.com/@pjarz/introduction-to-computer-vision-with-mnist-2d31c6f4d9a6" rel="noopener">用MNIST介绍计算机视觉</a>和<a class="ae ky" href="https://medium.com/an-idea/image-face-recognition-in-python-30b6b815f105" rel="noopener">用Python进行图像人脸识别</a>。</p><p id="c935" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了巩固您的知识，请考虑从头开始再次完成任务，不要查看代码示例，看看您会得到什么结果。这是巩固你的知识的一件极好的事情。</p><p id="fbc7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Jupyter笔记本的完整Python代码可在GitHub上获得:<br/><a class="ae ky" href="https://github.com/pjonline/Basic-Data-Science-Projects/tree/master/8-Twitter-Sentiment-Analysis" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/pj online/Basic-Data-Science-Projects/tree/master/8-Twitter-情操分析</a></p><p id="1dcf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">编码快乐！</p></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><p id="e1d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还没有订阅媒体？考虑<a class="ae ky" href="https://pjwebdev.medium.com/membership" rel="noopener">报名</a>成为中等会员。每月只需5美元，你就可以无限制地阅读媒体上的所有报道。<a class="ae ky" href="https://pjwebdev.medium.com/membership" rel="noopener">订阅Medium </a>支持我和其他作家在Medium上。</p></div></div>    
</body>
</html>