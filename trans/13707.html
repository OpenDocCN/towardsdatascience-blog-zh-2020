<html>
<head>
<title>Unlimited Flexibility of Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Matplotlib的无限灵活性</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/unlimited-flexibility-of-matplotlib-7c2a95f2e53e?source=collection_archive---------34-----------------------#2020-09-20">https://towardsdatascience.com/unlimited-flexibility-of-matplotlib-7c2a95f2e53e?source=collection_archive---------34-----------------------#2020-09-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0740" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你可以在你的土地上做任何事。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6ed1de364c65b96440de8f41a3b709f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WIOll5CE7Ti1fv2n79QgRg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">韦斯利·廷吉在<a class="ae ky" href="https://unsplash.com/s/photos/flexible?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ada8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Matplotlib是一个广泛使用的Python数据可视化库，它提供了大量的2D和3D绘图，对于数据分析和机器学习任务非常有用。</p><p id="f712" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个复杂情节的语法可能看起来吓人，但它提供了很大的灵活性。您几乎可以接触到图上的任何组件并对其进行定制。</p><p id="52de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将向你展示如何创建一个基本的情节，并通过各种方式定制它。我们将在脚本层工作，这是<strong class="lb iu"> matplotlib.pyplot </strong>接口。您最有可能在您的分析中使用这个界面。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="763b" class="ma mb it lw b gy mc md l me mf">import matplotlib.pyplot as plt<br/>%matplotlib inline #render plots in notebook</span></pre><p id="25fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一切都是从创建一个<strong class="lb iu">图形</strong>开始的，它是将所有东西结合在一起的主要艺术家对象。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="fcbb" class="ma mb it lw b gy mc md l me mf">plt.figure(figsize=(10,6))</span></pre><p id="bb63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们创建了一个大小为(10，6)的图形。让我们在这个图上画一个基本的柱状图。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="2fc1" class="ma mb it lw b gy mc md l me mf">plt.figure(figsize=(10,6))</span><span id="4127" class="ma mb it lw b gy mg md l me mf">plt.bar(x=[3,4,2,1], height=[3,5,1,6])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/78216313b2d009a147d5e391c63dbccd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*QgBob57MNrZNINodSnWN1w.png"/></div></div></figure><p id="b2a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">x轴上的刻度太多。如果只显示条形的刻度，效果会更好。此外，我想扩展y轴上的范围，以便最高的栏不会到达顶部。我们也可以在x记号上分配标签，我认为这比简单的数字更好看。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="356a" class="ma mb it lw b gy mc md l me mf">plt.figure(figsize=(10,6))</span><span id="2642" class="ma mb it lw b gy mg md l me mf">plt.bar(x=[3,4,2,1], height=[3,5,1,6])</span><span id="3205" class="ma mb it lw b gy mg md l me mf">plt.xticks(ticks=[1,2,3,4], <br/>labels=['Rome','Madrid','Istanbul','Houston'])</span><span id="c7d2" class="ma mb it lw b gy mg md l me mf">plt.yticks(ticks=np.arange(10))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/eb9074c9a5dbf04fa7c6871f7fdeeadf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*s0rbhKcjduTtkQHRtxEEjA.png"/></div></figure><p id="ab6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更高的punto标签看起来更好。让我们增加它，并使用<strong class="lb iu">旋转</strong>参数旋转标签。加个标题也不错。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7591" class="ma mb it lw b gy mc md l me mf">plt.figure(figsize=(10,6))</span><span id="270f" class="ma mb it lw b gy mg md l me mf">plt.title("Use Your Own Title", fontsize=15)</span><span id="e00c" class="ma mb it lw b gy mg md l me mf">plt.bar(x=[3,4,2,1], height=[3,5,1,6])</span><span id="8dab" class="ma mb it lw b gy mg md l me mf">plt.xticks(ticks=[1,2,3,4], labels=['Rome','Madrid','Istanbul','Houston'], rotation="45", fontsize=12)</span><span id="e02d" class="ma mb it lw b gy mg md l me mf">plt.yticks(ticks=np.arange(10), fontsize=12)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/8b093b3e45217de1785517d5fbcb508f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*W4my9Vu-35GUqlahos8vIg.png"/></div></figure><p id="92f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以用facecolor参数给Figure对象添加一个框架。xlabel和ylabel函数可用于添加轴标签。也可以使用条形功能的宽度参数来调整条形的宽度。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="b239" class="ma mb it lw b gy mc md l me mf">plt.figure(figsize=(10,6), facecolor="lightgreen")</span><span id="be87" class="ma mb it lw b gy mg md l me mf">plt.title("Use Your Own Title", fontsize=15)</span><span id="e5ca" class="ma mb it lw b gy mg md l me mf">plt.bar(x=[3,4,2,1], height=[3,5,1,6], width=0.5)</span><span id="b221" class="ma mb it lw b gy mg md l me mf">plt.xticks(ticks=[1,2,3,4], labels=['Rome','Madrid','Istanbul','Houston'], rotation="45", fontsize=12)</span><span id="edf5" class="ma mb it lw b gy mg md l me mf">plt.yticks(ticks=np.arange(10), fontsize=12)</span><span id="ef41" class="ma mb it lw b gy mg md l me mf">plt.xlabel("Cities", fontsize=14)</span><span id="de99" class="ma mb it lw b gy mg md l me mf">plt.ylabel("Measurement", fontsize=14)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/59b7b6d50c6e9e484284228d33f8e7d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*gzK-Tt4lPF80UJ92soUeQA.png"/></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="fba7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注释和文本可以用在绘图上，使它们更具信息性或传递信息。Matplotlib也允许添加它们。</p><p id="068a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将在图上使用Axes对象来添加文本和注释。为了在轴上定位这些附件，我们需要使用坐标。因此，添加网格线是有意义的，这可以通过plt.grid()函数来实现。</p><p id="9a77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们首先添加网格线和一个文本框。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="dda4" class="ma mb it lw b gy mc md l me mf">ax = plt.figure(figsize=(10,6), facecolor="lightgreen").add_subplot(111)</span><span id="f497" class="ma mb it lw b gy mg md l me mf">plt.title("Use Your Own Title", fontsize=15)</span><span id="08cc" class="ma mb it lw b gy mg md l me mf">plt.bar(x=[3,4,2,1], height=[3,5,1,6], width=0.5)</span><span id="932e" class="ma mb it lw b gy mg md l me mf">plt.xticks(ticks=[1,2,3,4], labels=['Rome','Madrid','Istanbul','Houston'], rotation="45", fontsize=12)</span><span id="767c" class="ma mb it lw b gy mg md l me mf">plt.yticks(ticks=np.arange(10), fontsize=12)</span><span id="b24c" class="ma mb it lw b gy mg md l me mf">plt.xlabel("Cities", fontsize=14)</span><span id="35f8" class="ma mb it lw b gy mg md l me mf">plt.ylabel("Measurement", fontsize=14)</span><span id="d584" class="ma mb it lw b gy mg md l me mf">plt.grid(which='both')</span><span id="3e25" class="ma mb it lw b gy mg md l me mf">ax.text(3.5, 8, 'Daily Average', style='italic', fontsize=12,<br/>        bbox={'facecolor': 'grey', 'alpha': 0.5, 'pad': 5})</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/784801c9e22be9065e3e28a47fc14fd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*5sldgZ_3cwcWC8UEiq33Rw.png"/></div></figure><p id="d058" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ax.text()函数的前两个参数分别是x和y坐标。指定文本和样式后，我们使用bbox参数在它周围添加一个框。</p><p id="91b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们也添加一个注释。我不想重复代码的相同部分，所以我只写注释部分。您可以将它添加到生成前一个图的代码中。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="3f40" class="ma mb it lw b gy mc md l me mf">ax.annotate('highest', xy=(1, 6), xytext=(1.5, 7), fontsize=13,   arrowprops=dict(facecolor='black', shrink=0.05))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/3f324970c8c949ab99a804bf1fc42938.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*28o-cwqXbyz1tYm3zsRV2g.png"/></div></figure><p id="78f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们添加了一个指向最高栏顶部的箭头。<strong class="lb iu"> xy </strong>参数包含箭头的坐标，<strong class="lb iu"> xytext </strong>参数指定文本的位置。<strong class="lb iu"> Arrowprops </strong>，顾名思义，是用来给箭头造型的。</p><p id="75f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你对你的绘图满意，你可以使用<strong class="lb iu"> plt.savefig() </strong>函数保存它。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="dc93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章的目的是向你展示Matplotlib的巨大灵活性。我们制作的情节可能一点用也没有，但它们传达了信息。语法可能看起来不必要的长，但这是灵活性的代价。</p><p id="54ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">值得一提的是，这只是你可以用Matplotlib创建的一部分。例如，支线剧情的结构是一个完全不同的话题。一旦您熟悉了Matplotlib，您可以创建的东西就没有限制了。</p><p id="7f55" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>