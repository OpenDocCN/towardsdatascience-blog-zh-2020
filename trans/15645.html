<html>
<head>
<title>Organise your Jupyter Notebook with these tips</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">根据以下建议整理你的Jupyter笔记本</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/organise-your-jupyter-notebook-with-these-tips-d164d5dcd51f?source=collection_archive---------2-----------------------#2020-10-28">https://towardsdatascience.com/organise-your-jupyter-notebook-with-these-tips-d164d5dcd51f?source=collection_archive---------2-----------------------#2020-10-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ca41" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">整理数据科学工作流程的实用技巧</h2></div><p id="b3bc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据科学家做大量的探索和实验。Jupyter Notebook(从这里开始的笔记本)是一个探索和实验的好工具。然而，当使用笔记本电脑时，事情会很快变得杂乱无章。保持你的工作流程干净、有条理和易于理解是一项重要的技能，它将在你的职业生涯中很好地为你服务。在这篇文章中，我将分享一些关于如何让你的笔记本和工作流程更有条理的小技巧。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/36a5d76781baee76492ba7d036050ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*siVvmyi0RoLujWVj"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated"><a class="ae lu" href="https://unsplash.com/@ayahya09?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">阿里·叶海亚</a>在<a class="ae lu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a12c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">📍提示1。对每个主要任务使用单独的笔记本</h1><p id="c789" class="pw-post-body-paragraph ki kj it kk b kl mu ju kn ko mv jx kq kr mw kt ku kv mx kx ky kz my lb lc ld im bi translated">不要把从探索性数据分析到建模的工作流程放在一个巨大的笔记本里，最好把它们分成几个逻辑部分，并描述性地给每个笔记本命名。让我们看一个例子:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/07e482653a722f7251ed195a39e5703d.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*Iepi-5BOes5PDcAICvpwwA.png"/></div></figure><p id="fd24" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">看看这个例子，我们有几个笔记本。从名字就能看出笔记本的顺序。例如，我们可以猜测<em class="na"> 3_base_models.ipynb </em>在<em class="na"> 4_gbm_model.ipynb </em>之前，而<em class="na"> 4_gbm_model.ipynb </em>和<em class="na"> 4_rfc_model.ipynb </em>可能正在并行探索两个选项。如果我们将这两个重命名为<em class="na"> 4A_gbm_model.ipynb </em>和<em class="na"> 4B_rfc_model.ipynb </em>，那么我们也可以用稍微不同的方式在名称中暗示顺序。</p><p id="c791" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以拥有比示例更多或更少的笔记本。也就是说，笔记本的确切数量并不重要。这里的关键思想是让逻辑上的主要任务(这取决于你如何定义它)分散开来，这样就更容易看到整个工作流和找到东西。例如，当编写用于部署的生产就绪代码时，我们只需参考<em class="na">5 _ final _ pipeline . ipynb .</em></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f221" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">📍技巧二。为表达性文档使用标记</h1><p id="c992" class="pw-post-body-paragraph ki kj it kk b kl mu ju kn ko mv jx kq kr mw kt ku kv mx kx ky kz my lb lc ld im bi translated">与代码注释相比，Notebook中的Markdown单元格使我们在记录工作流时更具表现力。我们可以使用不同字体大小的标题、有序或无序的项目列表、表格、数学公式、复选框、超链接、图像等等。下面是对Markdown常用语法的一分钟介绍:</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="dba7" class="ng md it nc b gy nh ni l nj nk">#### Headers<br/># Header 1 <br/>## Header 2<br/><br/>#### Styles<br/>*Italic*, **bold**, _underscore_, ~~strikethrough~~<br/><br/>#### Hyperlink<br/>[hyperlink](https://www.markdownguide.org/)<br/><br/>#### Table<br/>| Default | Left-aligned | Center-aligned | Right-aligned |<br/>|---------|:-------------|:--------------:|--------------:|<br/>| Default | Left | Center | Right |<br/><br/>#### Others<br/>* Bulleted item 1<br/>    * Bulleted subitem 1<br/>* Bulleted item 2<br/><br/>***<br/>1. Ordered item 1  <br/>    1.1. Ordered subitem 1  <br/>2. Ordered item 2<br/><br/>***<br/>- [ ] Unchecked box<br/>- [x] Checked box</span></pre><p id="27f4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是上述语法的输出结果:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="b8a1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以从<a class="ae lu" href="https://guides.github.com/features/mastering-markdown/" rel="noopener ugc nofollow" target="_blank">这里</a>和<a class="ae lu" href="https://github.com/fefong/markdown_readme" rel="noopener ugc nofollow" target="_blank">这里</a>了解更多关于降价的信息。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0c9b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">📍技巧三。用泡菜</h1><p id="14b4" class="pw-post-body-paragraph ki kj it kk b kl mu ju kn ko mv jx kq kr mw kt ku kv mx kx ky kz my lb lc ld im bi translated">Pickles不仅美味，而且当在Python的上下文中使用时，它允许我们将对象保存为。<em class="na"> pkl </em>文件。保存对象的过程称为酸洗。</p><p id="c928" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">酸洗在数据科学中的一个流行用途是将训练好的模型或机器学习管道保存到<em class="na">。pkl </em>文件。在下面的例子中，我们可以看到pickle中保存了几个模型:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/54c85ec4601b49d39b6ddc4d5ad87d0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*3-HHeLq7CPoyTgEZQYT44g.png"/></div></figure><p id="53dc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，这将允许我们将训练好的模型或管道加载到不同的笔记本中，以便对预测进行扩展分析。</p><p id="0c1f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">pickles的另一个好的用途是保存列表、字典之类的对象。例如，如果我们将分类特征的手动选择分配给一个笔记本中的列表，并计划在另一个笔记本中使用它，我们可以将该列表写入pickle文件并将其加载到其他笔记本中。这样，如果我们手动更改列表，那么我们只需要在一个地方做。这里有一个编写或加载pickle文件的示例代码，该文件名为<em class="na">categorial . pkl</em>，其中<em class="na">categorial</em>引用Python中的一个对象(例如list)。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="86a7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想了解更多关于泡菜的知识，请查阅<a class="ae lu" href="https://docs.python.org/2/library/pickle.html" rel="noopener ugc nofollow" target="_blank">这篇文档</a>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="07b7" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">📍技巧四。创建用户定义的函数并将其保存在模块中</h1><p id="94e2" class="pw-post-body-paragraph ki kj it kk b kl mu ju kn ko mv jx kq kr mw kt ku kv mx kx ky kz my lb lc ld im bi translated">你可能听说过干原则:不要重复自己。如果你以前没有听说过这个软件工程原则，它是关于“不要在一个系统内复制一个知识”。我对数据科学中这一原则的解释之一是创建函数来抽象出重复出现的任务，以减少复制粘贴。如果对您的情况有意义，您甚至可以使用类。</p><p id="8d28" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是这个技巧的建议步骤:</p><ol class=""><li id="51ef" class="no np it kk b kl km ko kp kr nq kv nr kz ns ld nt nu nv nw bi translated">创建一个函数</li><li id="952e" class="no np it kk b kl nx ko ny kr nz kv oa kz ob ld nt nu nv nw bi translated">确保函数有一个直观的名称</li><li id="059c" class="no np it kk b kl nx ko ny kr nz kv oa kz ob ld nt nu nv nw bi translated">用docstring记录函数</li><li id="0dac" class="no np it kk b kl nx ko ny kr nz kv oa kz ob ld nt nu nv nw bi translated">(理想的)单元测试功能</li><li id="3c48" class="no np it kk b kl nx ko ny kr nz kv oa kz ob ld nt nu nv nw bi translated">将函数保存在. py文件中(。py文件被称为模块)</li><li id="2dbb" class="no np it kk b kl nx ko ny kr nz kv oa kz ob ld nt nu nv nw bi translated">在笔记本中导入模块以访问该功能</li><li id="0223" class="no np it kk b kl nx ko ny kr nz kv oa kz ob ld nt nu nv nw bi translated">使用笔记本中的功能</li></ol><p id="c5af" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们试着用例子来描述这些步骤:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="96b8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有一个简单的方法来评估一个函数是否有一个直观的名字:如果你认为一个以前没有见过这个函数的同事仅仅通过看它的名字就能大致猜出这个函数是做什么的，那么你就对了。在记录这些函数时，我采用了一些对我来说更有意义的不同风格。虽然这些示例可作为数据科学的工作示例功能，但我强烈建议您查看以下官方指南，以了解命名和文档约定、样式指南和类型提示方面的最佳实践:</p><ul class=""><li id="2266" class="no np it kk b kl km ko kp kr nq kv nr kz ns ld oc nu nv nw bi translated">样式指南的<a class="ae lu" href="https://www.python.org/dev/peps/pep-0008/" rel="noopener ugc nofollow" target="_blank"> PEP 8 </a></li><li id="fd33" class="no np it kk b kl nx ko ny kr nz kv oa kz ob ld oc nu nv nw bi translated"><a class="ae lu" href="https://www.python.org/dev/peps/pep-0257/" rel="noopener ugc nofollow" target="_blank"> PEP257 </a>用于文档字符串约定</li><li id="164e" class="no np it kk b kl nx ko ny kr nz kv oa kz ob ld oc nu nv nw bi translated">用于类型提示的<a class="ae lu" href="https://www.python.org/dev/peps/pep-0484/" rel="noopener ugc nofollow" target="_blank"> PEP484 </a></li><li id="e53c" class="no np it kk b kl nx ko ny kr nz kv oa kz ob ld oc nu nv nw bi translated"><a class="ae lu" href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_numpy.html" rel="noopener ugc nofollow" target="_blank">示例Numpy风格的Python文档串</a></li><li id="5ed9" class="no np it kk b kl nx ko ny kr nz kv oa kz ob ld oc nu nv nw bi translated"><a class="ae lu" href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html" rel="noopener ugc nofollow" target="_blank">示例谷歌风格的Python文档字符串</a></li></ul><p id="2341" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你甚至可以浏览成熟软件包的Github库中的模块来获得灵感。</p><p id="d1a2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您将这些函数保存在一个<em class="na"> helpers.py </em>文件中，并导入了<em class="na"> helpers </em>模块(顺便说一下，Python模块只是指一个<em class="na">)。py </em> file)在我们带<code class="fe od oe of nc b">import helpers</code>的笔记本里，你可以通过写函数名后跟Shift + Tab来访问文档:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi og"><img src="../Images/6fecf719e7195f936ecf4bb405778d18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*wn6w8pH8YaJaKz1kmYtQzw.gif"/></div></figure><p id="6152" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你有很多功能，你甚至可以把它们分类放在不同的模块里。如果您采用这种方法，您甚至可能想要创建一个包含所有模块的文件夹。虽然将稳定的代码放入一个模块是有意义的，但我认为将实验性的功能放在笔记本中是没问题的。</p><p id="fb73" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你实现了这个建议，你很快就会发现你的笔记本看起来不那么杂乱，更有条理了。此外，使用函数会使你不容易犯愚蠢的复制粘贴错误。</p><p id="3774" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="na">单元测试没有在这篇文章中讨论，因为它应该有自己的章节。如果您想了解数据科学的单元测试，这个</em><a class="ae lu" href="https://www.youtube.com/watch?v=Da-FL_1i6ps" rel="noopener ugc nofollow" target="_blank"><em class="na">PyData talk</em></a><em class="na">可能是一个很好的起点。</em></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="70fe" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">📍技巧五。确保笔记本电脑自上而下运行</h1><p id="b31f" class="pw-post-body-paragraph ki kj it kk b kl mu ju kn ko mv jx kq kr mw kt ku kv mx kx ky kz my lb lc ld im bi translated">做实验时，在笔记本的任何地方调整部分代码并不罕见。然而，一旦你完成实验，清理它，重新启动内核，并确保你的笔记本中的细胞自上而下运行一次，这样你就不会有这样的无序细胞:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/2dfab8fb61190a3da10b0f6250ebd9aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:160/format:webp/1*ogNcxB-sUQ5mGov_X6XLeA.png"/></div></figure><p id="1512" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Voila❕:这些是我整理你的Jupyter笔记本工作流程的建议。✨</p><p id="2ed7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="na">您想访问更多这样的内容吗？媒体会员可以无限制地访问媒体上的任何文章。如果你使用</em> <a class="ae lu" href="https://zluvsand.medium.com/membership" rel="noopener"> <em class="na">我的推荐链接</em> </a>，<em class="na">成为会员，你的一部分会费会直接去支持我。</em></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="2130" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">谢谢你看我的帖子。我希望你能利用这些技巧来建立一个更有条理的工作流程。如果你感兴趣，这里有我的一些帖子的链接:</p><p id="b22a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">◼️<a class="ae lu" rel="noopener" target="_blank" href="/simple-data-visualisations-in-python-that-you-will-find-useful-5e42c92df51e">python中的简单数据可视化，你会发现有用的</a> <br/> ◼️ <a class="ae lu" rel="noopener" target="_blank" href="/6-simple-tips-for-prettier-and-customised-plots-in-seaborn-python-22f02ecc2393">在seaborn(python)</a><br/>◼️<a class="ae lu" rel="noopener" target="_blank" href="/exploratory-text-analysis-in-python-8cf42b758d9e">python中的探索性文本分析</a> <br/> ◼️️ <a class="ae lu" rel="noopener" target="_blank" href="/5-tips-for-pandas-users-e73681d16d17">给pandas用户的5个提示</a><br/>◼️️<a class="ae lu" rel="noopener" target="_blank" href="/writing-5-common-sql-queries-in-pandas-90b52f17ad76">pandas中数据聚合的5个提示</a> <br/> ◼️️ <a class="ae lu" rel="noopener" target="_blank" href="/writing-5-common-sql-queries-in-pandas-90b52f17ad76">在pandas中编写5个常见的SQL查询</a> <br/> ◼️️ <a class="ae lu" rel="noopener" target="_blank" href="/writing-advanced-sql-queries-in-pandas-1dc494a17afe">在pandas中编写高级SQL查询</a></p><p id="af56" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">再见🏃💨</p></div></div>    
</body>
</html>