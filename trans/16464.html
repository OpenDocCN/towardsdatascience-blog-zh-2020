<html>
<head>
<title>How to preprocess social media data and text messages</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何预处理社交媒体数据和短信</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-preprocess-social-media-data-and-text-messages-b011efacf74?source=collection_archive---------26-----------------------#2020-11-13">https://towardsdatascience.com/how-to-preprocess-social-media-data-and-text-messages-b011efacf74?source=collection_archive---------26-----------------------#2020-11-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a3cb" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">因为我觉得很多人只是这样写🤦🏻‍♂️ (╯ □ )╯︵ ┻━┻</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a918c6b2a2122e999c63d97bbc12bba7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1NhRFJ7m3t4UqaXw"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">约纳斯·勒普在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="fd9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在社交媒体数据和文本消息上执行NLP任务的最大挑战之一是网络英语与标准英语有很大不同。在Reddit帖子、tweets、WhatsApp消息等中，有俚语、首字母缩写词、缩写词、首字母缩写词、表情符号、标签、URL以及其他一些不以标准英语出现的拼写错误。在深度学习的乌托邦中，我们将收集尽可能多的数据，并从头开始训练我们的模型和标记器，以弄清楚这些俚语和首字母缩写词等的含义。然而，在现实生活中，我们可能希望利用现有的预训练模型(及其相关的标记器)，如BERT。由于这些模型和它们的标记器通常是在英语维基百科和图书语料库数据上预先训练的，我们将需要首先预处理我们的互联网英语数据。另一方面，如果我们决定使用非深度学习方法，那么数据预处理就更加重要，因为它对特征工程有着巨大的影响。在本文中，我们将介绍一些专门针对互联网英语数据的数据预处理步骤，或者需要特别注意的步骤。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="424f" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">常见的NLP数据预处理步骤</h1><p id="f258" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在本节中，我们将讨论一些最常见的NLP数据预处理步骤。它们是如此普遍，以至于我们可能会认为这是理所当然的，并且不假思索地执行这些步骤。对于互联网英语数据，我们很可能仍然需要这些数据预处理步骤，但是需要进行适当的修改。</p><h2 id="134d" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">将文本转换为小写</h2><p id="f6df" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">对于情感分析这样的任务，字母大小写有时是一个有用的特性。下列句子</p><ul class=""><li id="9fc6" class="ni nj iq ky b kz la lc ld lf nk lj nl ln nm lr nn no np nq bi translated">“我已经通过了驾驶考试”</li><li id="eb1c" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated">“我已经通过了驾驶考试”</li><li id="d52a" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated">“我已经通过了驾驶考试”</li></ul><p id="7b93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">表现出作者不同程度的兴奋。然而，一旦我们将文本转换成小写，它们将变得无法区分。</p><p id="c156" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nw">建议</em>:在我们将文本转换成小写字母之前，设计一些关于字母大小写的特性。</p><h2 id="dd53" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">删除标点符号</h2><p id="61af" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">标点符号和字母大小写一样，对于情感分析非常有用。一个简单的例子是使用连续的感叹号:</p><ul class=""><li id="fff3" class="ni nj iq ky b kz la lc ld lf nk lj nl ln nm lr nn no np nq bi translated">“我已经通过了驾驶考试”</li><li id="1c6c" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated">“我已经通过了驾驶考试！！！！！！！!"</li></ul><p id="e690" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">而且，在网络俚语中使用货币符号来表示贪婪和腐败也是相当常见的，比如“<a class="ae kv" href="https://www.urbandictionary.com/define.php?term=Micro%24oft" rel="noopener ugc nofollow" target="_blank"> micro$oft </a>”。</p><p id="661f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">标点符号还能够通过表情符号传达不同的感情，例如:-)和(&gt; _ </p><p id="57dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nw">建议</em>:对不同标点符号的外观进行特征工程，尤其是连续的外观。对于表情符号，我们可以设计新的功能，或者通过使用字典用英语单词替换它们。比如我们可以把:-)换成“笑脸”。最后，互联网俚语将在下面的章节中讨论。</p><p id="b4cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，在对标签、URL等进行预处理之后，也需要删除标点符号。</p><h2 id="ecfc" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">删除号码</h2><p id="782b" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">数字在NLP中有一个非常有趣的作用。对于像回答问题这样的任务，数字是绝对重要的。对于命名实体识别，数字并不重要，除非它们是实体名称的一部分(例如NBA的<a class="ae kv" href="https://en.wikipedia.org/wiki/Philadelphia_76ers" rel="noopener ugc nofollow" target="_blank">76人</a>，电子竞技的<a class="ae kv" href="https://en.wikipedia.org/wiki/Cloud9" rel="noopener ugc nofollow" target="_blank"> C9 </a>和<a class="ae kv" href="https://en.wikipedia.org/wiki/G2_Esports" rel="noopener ugc nofollow" target="_blank"> G2 </a>)。对于情感分析，数字通常是无关紧要的。</p><p id="8555" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">说了这么多，总有例外需要我们注意。<a class="ae kv" href="https://en.wikipedia.org/wiki/Nineteen_Eighty-Four" rel="noopener ugc nofollow" target="_blank"> 1984 </a>出现在politics subreddit中的不仅仅是一个数字，<a class="ae kv" href="https://en.wikipedia.org/wiki/Brazil_v_Germany_(2014_FIFA_World_Cup)" rel="noopener ugc nofollow" target="_blank">1–7</a>”传达了巴西球迷的负面情绪。</p><p id="6911" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">到目前为止，我们讨论的内容适用于网络英语和标准英语，但网络英语在俚语中的数字用法上有一个额外的复杂性，如“10q”和“2mr”。</p><p id="ed35" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nw">建议</em>:数字的用法多种多样，如何预处理没有固定的规则。预处理步骤将在很大程度上取决于数据集的性质和探索性数据分析的结果。俚语将在下一节讨论。</p><h2 id="ab8f" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">扩展缩写、首字母缩写、首字母缩写和俚语</h2><p id="77c1" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">扩展很容易，因为它只需要查字典。困难的部分是关于维护这本词典。对于网络俚语，我们可以通过像城市词典这样的网站或者仅仅是谷歌来获得它们的意思。然而，许多网络俚语是含有脏话和身体部位的夸张短语的首字母缩写。我们可能想在资料片中缓和一下。比如“lmfao”简单扩展为“笑”。</p><p id="722e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nw">建议</em>:探索性数据分析时，收集所有非标准英语单词的高频术语。为扩展这些术语创建一个字典，如果需要的话，淡化扩展短语的夸张和/或攻击性。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="5e5b" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">网络英语的数据预处理步骤</h1><p id="24c0" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在这一节中，我们将介绍专为网络英语定制的新的数据预处理步骤。他们中的大多数人也为其他语言的网络版本工作。</p><h2 id="4ef4" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">URL、用户提及和标签</h2><p id="794e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">对于大多数任务，URL是不相关的，可以简单地删除。然而，对于主题模型和主题分类，理解URL是关于什么的是至关重要的。合并这些信息的一个简单方法是用标题替换URL。这可以通过首先执行HTTP GET，然后解析HTML响应来完成。</p><p id="02aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样的想法也适用于用户提及和标签。尽管如此，决定我们应该用什么文本来替换要困难得多，而且这个过程将需要大量的人工检查。以Twitter中的“@ManCity”为例。它的用户名是“Manchester City ”,但是为了更好地说明这个用户名称的性质，我们可能希望使用“Manchester City Football Club”。</p><h2 id="f9ec" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">表情符号</h2><p id="55ba" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">表情符号的预处理步骤与表情符号基本相同。例如，我们可以替换😀用“狞笑脸”。不同表情符号的含义可以在<a class="ae kv" href="https://emojipedia.org/" rel="noopener ugc nofollow" target="_blank">表情百科</a>中找到</p><p id="c92a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，有时表情符号被用来代替英文字符。在这种情况下，表情符号的含义可以添加到句子的末尾。作为一个例子，“g⚽al”被转换为“目标足球”。</p><h2 id="915f" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">拼写错误</h2><p id="ea9e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">有不同类型的拼写错误，每一种都需要不同的预处理方法。</p><ul class=""><li id="fd6c" class="ni nj iq ky b kz la lc ld lf nk lj nl ln nm lr nn no np nq bi translated"><strong class="ky ir">错别字</strong>:这是最简单的一个，因为我们只需要通过拼写检查库运行我们的文本。话虽如此，请记住，没有一个拼写检查库是完美的，我们应该随时准备添加额外的逻辑。</li><li id="0fa6" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><strong class="ky ir">重复字符</strong>:像“goaaallllllllll”这样的重复字符对于情感分析很有用，值得进行一些特征工程。对于拼写纠正部分，请注意大多数拼写检查库利用了Levenshtein距离。因此，重复字符会影响拼写校正的性能。为了解决这个问题，我们可以首先使用正则表达式将重复字符的数量减少到2(因为标准英语单词最多包含双字符)。然后我们可以应用我们的拼写检查库。</li><li id="05af" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><strong class="ky ir">其他</strong>:用户有无数种方法可以用拼写错误写出有意义的消息，从“哈哈哈哈哈哈哈哈哈”到“G O A L”。一个切实可行的办法是通过探索性的数据分析，找出数据集中最常见的模式，只关注它们。</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="29a5" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">进一步阅读</h1><ol class=""><li id="7fd8" class="ni nj iq ky b kz mr lc ms lf nx lj ny ln nz lr oa no np nq bi translated">[1]采用深度学习方法处理互联网俚语。它在城市词典的内容上训练了一组单词嵌入，初步的评估结果看起来很有希望。</li><li id="ceba" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr oa no np nq bi translated">tokenizer [2]上的HuggingFace transformers文档很好地介绍了这个主题。特别是，它为不同类型的标记器提供了许多示例和参考。如果我们想使用像BERT这样的预训练模型，我们必须了解如何预处理我们的数据，以便它能很好地与BERT记号化器一起工作。</li></ol></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b055" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">参考</h1><ol class=""><li id="26ac" class="ni nj iq ky b kz mr lc ms lf nx lj ny ln nz lr oa no np nq bi translated">南Wilson，W. Magdy，B. McGillivray，K. Garimella和G. Tyson。俚语自然语言处理应用的城市词典嵌入 (2020年)，LREC 2020年</li><li id="dfee" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr oa no np nq bi translated"><a class="ae kv" href="https://huggingface.co/transformers/tokenizer_summary.html" rel="noopener ugc nofollow" target="_blank">分词器摘要</a></li></ol></div></div>    
</body>
</html>