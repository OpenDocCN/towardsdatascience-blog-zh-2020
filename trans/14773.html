<html>
<head>
<title>Customizing Multiple Subplots in Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Matplotlib中自定义多个子情节</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/customizing-multiple-subplots-in-matplotlib-a3e1c2e099bc?source=collection_archive---------5-----------------------#2020-10-12">https://towardsdatascience.com/customizing-multiple-subplots-in-matplotlib-a3e1c2e099bc?source=collection_archive---------5-----------------------#2020-10-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/e94a907798942d26dc6f9b563ce5072b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3rzLnMeg8eusW5V3"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae jg" href="https://unsplash.com/@aronvisuals?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Aron视觉</a>拍摄的照片</p></figure><h2 id="0b35" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/getting-started" rel="noopener" target="_blank">入门</a></h2><div class=""/><div class=""><h2 id="9bb9" class="pw-subtitle-paragraph kp js jj bd b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dk translated">使用subplot、add_subplot和GridSpec在Matplotlib中创建复杂subplot的指南</h2></div><p id="21ce" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi md translated">在某些时候，我们需要将我们的数据可视化成复杂的图形，因为我们应该这样做或者制作一个伟大的图形。例如，您想在绘图中制作一个<a class="ae jg" rel="noopener" target="_blank" href="/5-powerful-tricks-to-visualize-your-data-with-matplotlib-16bc33747e05">缩放效果</a>，如图1所示。为了呈现它，你需要建立一个复杂的次要情节。图1由三个不同的轴构成:轴1、轴2和轴3。Axes1在左上角的面板上，用绿色的绘图线显示数据，axes2在右上角的面板上，用橙色的线显示数据，最大的axes3位于底部的面板上。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mm"><img src="../Images/a403663ba1d447ade58610a31112bd25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ygABUR2MsxWKeb43fqhVBw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图一。</strong>Matplotlib中的缩放效果(<a class="ae jg" rel="noopener" target="_blank" href="/5-powerful-tricks-to-visualize-your-data-with-matplotlib-16bc33747e05">图片作者</a>)。</p></figure><p id="3198" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在创建复杂的图之前，你需要知道Matplotlib中的术语<strong class="lj jt">图</strong>和<strong class="lj jt">轴</strong>之间的区别。为此，您可以了解Matplotlib中定义的图形的结构，如图2所示。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ms"><img src="../Images/48fb20cfcf3ca5c438b1d86eb580fdc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YeTGvroavmV6m5UkPaD-zA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图二。</strong>Matplotlib中图形和轴的区别(图片由作者提供)。</p></figure><p id="f832" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">图</strong>被定义为所有元素的主容器，如轴、图例、标题等。一个图形可以包含一些轴(我们将更深入地了解它)。在图1中，我们只有一个图形，它包含三个轴。如果您想在Maptlotlib中创建缩放效果，请访问此链接。</p><div class="is it gp gr iu mt"><a rel="noopener follow" target="_blank" href="/5-powerful-tricks-to-visualize-your-data-with-matplotlib-16bc33747e05"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd jt gy z fp my fr fs mz fu fw js bi translated">使用Matplotlib可视化数据的5个强大技巧</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">如何使用LaTeX字体，创建缩放效果，发件箱图例，连续错误，以及调整框填充边距</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">towardsdatascience.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh ja mt"/></div></div></a></div><h2 id="fc85" class="ni nj jj bd nk nl nm dn nn no np dp nq lq nr ns nt lu nu nv nw ly nx ny nz jp bi translated">使用子情节在图形中创建简单的轴</h2><p id="0310" class="pw-post-body-paragraph lh li jj lj b lk oa kt lm ln ob kw lp lq oc ls lt lu od lw lx ly oe ma mb mc im bi translated">在这一节中，我们将学习Matplotlib中子情节的基本原理。我将展示给你的一些例子不是现实的情节，但它将成为理解支线剧情的好例子。</p><p id="9fa5" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要创建轴，至少可以使用两种不同的方法。第一种可以使用语法<strong class="lj jt"> <em class="of">支线剧情</em> </strong>，第二种是使用<strong class="lj jt"> <em class="of"> gridspec。</em> </strong>在开始学习<strong class="lj jt"> <em class="of">支线剧情</em> </strong>的时候，我会给你看一个简单的支线剧情，如图3。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/cdff13cfe5d5c926829d641bdbca9cef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*68p7EkWWm8jLsKCISfdC2w.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图3。</strong>Matplotlib中的一个简单支线剧情(图片由作者提供)。</p></figure><p id="8a35" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以使用以下代码生成图3</p><pre class="mn mo mp mq gt oh oi oj ok aw ol bi"><span id="8e52" class="ni nj jj oi b gy om on l oo op">import matplotlib.pyplot as plt</span><span id="d1b0" class="ni nj jj oi b gy oq on l oo op">fig = plt.figure()<br/>coord = 111<br/>plt.subplot(coord)<br/>plt.annotate('subplot ' + str(coord), xy = (0.5, 0.5), va = 'center', ha = 'center')</span></pre><p id="dca2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">理解Matplotlib中子绘图的一件重要事情是定义轴的坐标。上面代码中的变量<strong class="lj jt"> <em class="of"> coord </em> </strong>是111。它由代表行数、列数和轴序列的三个数字组成。<strong class="lj jt"> <em class="of"> coord </em> </strong> 111的意思是，你生成一个由一行一列组成的图形，你在第一个序列轴中插入子情节。因为你只有一行一列(这意味着你只有一个单元格)，你的轴是主要的图形。您也可以在没有<strong class="lj jt">子图</strong>语法的情况下生成图3，因为您在一个图形中只生成一个轴。</p><p id="81f8" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下一步是在图形中创建两个水平轴，如图4所示。您可以使用这段代码来生成它</p><pre class="mn mo mp mq gt oh oi oj ok aw ol bi"><span id="7bfc" class="ni nj jj oi b gy om on l oo op">fig = plt.figure(figsize=(12, 4))<br/>coord1 = 121<br/>coord2 = 122</span><span id="5b5a" class="ni nj jj oi b gy oq on l oo op">plt.subplot(coord1)<br/>plt.annotate('subplot ' + str(coord1), xy = (0.5, 0.5), va = 'center', ha = 'center')</span><span id="a772" class="ni nj jj oi b gy oq on l oo op">plt.subplot(coord2)<br/>plt.annotate('subplot ' + str(coord2), xy = (0.5, 0.5), va = 'center', ha = 'center')</span></pre><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi or"><img src="../Images/a280efd435549f80526dac846665914e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PC5wdFzuvOHdtaK-TctNQA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图4。</strong>图中两个横轴(图片由作者提供)。</p></figure><p id="f403" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您需要定义图形大小来创建一个漂亮的两个水平轴。如果你不这样做，你会得到一个类似数字5的数字。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/ed82bda00db4e6539cd3994364bea7bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XLlv53fkHFHB93r5v7v0fg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图5。</strong>一个图形中的两个横轴，没有定义图形大小(图片由作者提供)。</p></figure><p id="93fa" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果要创建两个垂直轴，只需更改坐标1和坐标2，如以下代码所示</p><pre class="mn mo mp mq gt oh oi oj ok aw ol bi"><span id="38b8" class="ni nj jj oi b gy om on l oo op">fig = plt.figure(figsize=(6, 7))<br/>coord1 = 211<br/>coord2 = 212</span><span id="295a" class="ni nj jj oi b gy oq on l oo op">plt.subplot(coord1)<br/>plt.annotate('subplot ' + str(coord1), xy = (0.5, 0.5), va = 'center', ha = 'center')</span><span id="304a" class="ni nj jj oi b gy oq on l oo op">plt.subplot(coord2)<br/>plt.annotate('subplot ' + str(coord2), xy = (0.5, 0.5), va = 'center', ha = 'center')</span></pre><p id="2dc5" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">现在，我将尝试使用循环在一个图形中创建更多的支线剧情。我将创建2x4轴，如图6所示。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/3c968c136347c3daff7d8a2e98a7e5ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zQ4zR_TPhCla2ji166Rbmg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图6。</strong>在Matplotlib中使用循环创建一个简单的子情节(图片由作者提供)。</p></figure><p id="8420" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以使用这段代码重现图6</p><pre class="mn mo mp mq gt oh oi oj ok aw ol bi"><span id="f271" class="ni nj jj oi b gy om on l oo op">fig = plt.figure(figsize=(16, 6))</span><span id="6d09" class="ni nj jj oi b gy oq on l oo op">coord = []</span><span id="5cdc" class="ni nj jj oi b gy oq on l oo op"># create coord array from 241, 242, 243, ..., 248 <br/>for i in range(1, 9): # in python, 9 is not included<br/>    row = 2<br/>    column = 4<br/>    coord.append(str(row)+str(column)+str(i))<br/>    <br/># create subplot 241, 242, 243, ..., 248<br/>for i in range(len(coord)):<br/>    plt.subplot(coord[i])<br/>    plt.annotate('subplot ' + str(coord[i]), xy = (0.5, 0.5), va = 'center', ha = 'center')</span></pre><p id="119a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">因为你要创建8个轴(2行4列)，所以你需要做一个从241到248的数组。之后，使用与前面代码相同的过程创建子情节，但是将它放在循环语法中。</p><h2 id="ba66" class="ni nj jj bd nk nl nm dn nn no np dp nq lq nr ns nt lu nu nv nw ly nx ny nz jp bi translated">用gridspec在图形中创建简单轴</h2><p id="5d7f" class="pw-post-body-paragraph lh li jj lj b lk oa kt lm ln ob kw lp lq oc ls lt lu od lw lx ly oe ma mb mc im bi translated">正如我之前提到的，除了使用subplot在图形中创建一些轴，还可以使用gridspec。例如，如果您想用gridspec创建图6(两行4列),您可以使用下面的代码</p><pre class="mn mo mp mq gt oh oi oj ok aw ol bi"><span id="40f0" class="ni nj jj oi b gy om on l oo op">import matplotlib.pyplot as plt</span><span id="c03b" class="ni nj jj oi b gy oq on l oo op">fig = plt.figure(figsize=(16, 6))</span><span id="6074" class="ni nj jj oi b gy oq on l oo op">rows = 2<br/>columns = 4</span><span id="2551" class="ni nj jj oi b gy oq on l oo op">grid = plt.GridSpec(rows, columns, wspace = .25, hspace = .25)</span><span id="95ec" class="ni nj jj oi b gy oq on l oo op">for i in range(rows*columns):<br/>    exec (f"plt.subplot(grid{[i]})")<br/>    plt.annotate('subplot 24_grid[' + str(i) + ']', xy = (0.5, 0.5), va = 'center', ha = 'center')</span></pre><p id="e129" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要使用gridspec创建简单的子情节，首先要定义行数和列数。要将支线剧情嵌入到图中，你只需调用支线剧情的编号。在gridspec中，子情节的数量从0开始，而不是从1开始。所以，如果要使用gridspec在一个图中嵌入8列，需要从0到7调用它们，使用<strong class="lj jt"><em class="of">PLT . subplot(grid[0])</em></strong>直到<strong class="lj jt"><em class="of">PLT . subplot(grid[7])</em></strong>。在循环中，你会遇到一个问题，因为你想用[]调用网格号。要处理它，可以使用语法<strong class="lj jt"><em class="of">exec(f "…{[I]} "</em></strong>。</p><p id="f19e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">图7是使用gridspec创建8个轴的结果</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/fc112f7990113b056202910a3f954cc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PnqT49RZIPBD4YkYD3PI0A.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图7。</strong>在Matplotlib中使用gridspec + looping创建一个简单的子情节(图片由作者提供)。</p></figure><p id="a771" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">使用<strong class="lj jt"> <em class="of"> gridspec </em> </strong>的一个好处是你可以用比只使用支线剧情更简单的方式创造更多支线剧情。例如，如果您想在一个图形中创建10个以上的支线剧情，您将定义最后一个坐标。子情节仅由三个数字组成，例如111、428、439等。一个支线剧情无法促成第四个。例如，您想在一个图形中创建18个轴(3行6列)。如果只使用支线剧情，需要定义361，362，263，…，3616。当你嵌入一个3610的支线剧情时，你将面临错误。要解决它，可以使用gridspec。图8展示了使用gridspec创建18个轴。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ot"><img src="../Images/269e2ff7cbc8ea7b8745c1d4cd3f1f1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qA3bkyjpun2ZE6yUrei7EQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图8。</strong>在Matplotlib中使用gridspec + looping创建简单的18个支线剧情(图片由作者提供)。</p></figure><p id="9a96" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您可以用这段代码创建图8</p><pre class="mn mo mp mq gt oh oi oj ok aw ol bi"><span id="3e69" class="ni nj jj oi b gy om on l oo op">fig = plt.figure(figsize=(22, 8))</span><span id="f3c4" class="ni nj jj oi b gy oq on l oo op">rows = 3<br/>columns = 6</span><span id="758c" class="ni nj jj oi b gy oq on l oo op">grid = plt.GridSpec(rows, columns, wspace = .25, hspace = .25)</span><span id="b3af" class="ni nj jj oi b gy oq on l oo op">for i in range(rows*columns):<br/>    exec (f"plt.subplot(grid{[i]})")<br/>    plt.annotate('subplot 36_grid[' + str(i) + ']', xy = (0.5, 0.5), va = 'center', ha = 'center')</span></pre><p id="ca19" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了做一个更真实的例子，我将在图8中为每个轴插入一个图。所以，我需要为每个轴做18个不同的函数。它是由<strong class="lj jt"><em class="of">【sin(x^(i/9】)</em></strong>的函数编译而成，其中<strong class="lj jt"> <em class="of"> i </em> </strong>是从0到17的网格数。您可以在图9中看到该图。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ou"><img src="../Images/d679be5dcb23f70377e4fc926c7fb3cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ajgj0RllUWcqrjBDAOX8cg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图九。</strong>Matplotlib中更现实的支线剧情(图片由作者提供)。</p></figure><p id="3ab0" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要创建图9，您可以使用下面的代码</p><pre class="mn mo mp mq gt oh oi oj ok aw ol bi"><span id="234e" class="ni nj jj oi b gy om on l oo op">fig = plt.figure(figsize=(25, 10))</span><span id="b852" class="ni nj jj oi b gy oq on l oo op">color = ['#00429d', '#2754a6', '#3a67ae', '#487bb7', '#548fc0', <br/>         '#5ea3c9', '#66b8d3', '#6acedd', '#68e5e9', '#ffe2ca', <br/>         '#ffc4b4', '#ffa59e', '#f98689', '#ed6976', '#dd4c65', <br/>         '#ca2f55', '#b11346', '#93003a']</span><span id="ba49" class="ni nj jj oi b gy oq on l oo op">rows = 3<br/>columns = 6</span><span id="26ab" class="ni nj jj oi b gy oq on l oo op">grid = plt.GridSpec(rows, columns, wspace = .25, hspace = .25)</span><span id="cd7f" class="ni nj jj oi b gy oq on l oo op">for i in range(rows*columns):<br/>    np.random.seed(100)<br/>    x = np.linspace(0., 5., 100)<br/>    y = np.sin(x**(i / 9)) + np.random.random() * i<br/>    <br/>    exec (f"plt.subplot(grid{[i]})")<br/>    <br/>    plt.plot(x, y, color = color[i])</span></pre><p id="8a52" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要用不同的颜色呈现，还需要定义18种不同的颜色。您可以使用这个<a class="ae jg" href="https://gka.github.io/palettes/#" rel="noopener ugc nofollow" target="_blank">链接</a>来生成它。我已经在下面的链接中解释了如何使用它。</p><div class="is it gp gr iu mt"><a rel="noopener follow" target="_blank" href="/matplotlib-styles-for-scientific-plotting-d023f74515b4"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd jt gy z fp my fr fs mz fu fw js bi translated">用于科学绘图的Matplotlib样式</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">为您的科学数据可视化定制Matplotlib</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">towardsdatascience.com</p></div></div><div class="nc l"><div class="ov l ne nf ng nc nh ja mt"/></div></div></a></div></div><div class="ab cl ow ox hx oy" role="separator"><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb"/></div><div class="im in io ip iq"><h2 id="761e" class="ni nj jj bd nk nl nm dn nn no np dp nq lq nr ns nt lu nu nv nw ly nx ny nz jp bi translated">用add_subplot在图形中创建复杂轴</h2><p id="db8d" class="pw-post-body-paragraph lh li jj lj b lk oa kt lm ln ob kw lp lq oc ls lt lu od lw lx ly oe ma mb mc im bi translated">在本节中，我们将学习如何使用<strong class="lj jt"> <em class="of"> add_subplot </em> </strong>和<strong class="lj jt"> <em class="of"> GridSpec </em> </strong>定制复杂的轴。我提到的复杂轴如图10所示。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pd"><img src="../Images/afd58263434b817456b7f6febecc2363.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OjQk429OnhamZiWLNPIvcw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图10。</strong>Matplotlib中复杂的轴(图片由作者提供)。</p></figure><h2 id="ec36" class="ni nj jj bd nk nl nm dn nn no np dp nq lq nr ns nt lu nu nv nw ly nx ny nz jp bi translated">示例1使用add_subplot</h2><p id="43c0" class="pw-post-body-paragraph lh li jj lj b lk oa kt lm ln ob kw lp lq oc ls lt lu od lw lx ly oe ma mb mc im bi translated">我们将使用<strong class="lj jt"> <em class="of"> add_subplot </em> </strong>语法创建3个轴(顶部2个，底部1个),如图1所示。您可以使用这段代码来创建它。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="1ca3" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果你分析代码，你会得到一个与<strong class="lj jt">子情节</strong>语法概念类似的概念。您需要定义三个坐标，例如(2，2，1)或(2，2，(3，4))。<strong class="lj jt"> <em class="of"> sub1 </em> </strong>轴位于2行2列图形的第一个轴(1)上。<strong class="lj jt"> <em class="of"> sub2 </em> </strong>与<strong class="lj jt"> <em class="of"> sub1 </em> </strong>有类似的方案。其中重要的是轴3和轴4的组合<strong class="lj jt"> <em class="of"> sub3、</em> </strong>。所以<strong class="lj jt"> <em class="of"> sub3 </em> </strong>的坐标是(2，2，(3，4))。如果您运行上面的代码，您将得到一个结果，如图11所示。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pg"><img src="../Images/ae0fe55052fc91d47d76789ef6cde611.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eyIHh6LSvvcgsBRlL4I9-A.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图11。</strong>Matplotlib中第一个使用add_subplot的复杂轴的例子(图片由作者提供)。</p></figure><p id="b209" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果要为每个轴添加绘图，可以在定义sub1、sub2和sub3之后添加此代码。</p><pre class="mn mo mp mq gt oh oi oj ok aw ol bi"><span id="c30c" class="ni nj jj oi b gy om on l oo op">sub1.plot(x, y)<br/>sub2.plot(x, y)<br/>sub3.plot(x, y)</span></pre><p id="2af1" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">完整的代码在这里。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="pe pf l"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">全部</p></figure><p id="1122" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您将得到一个结果，如图12所示。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ph"><img src="../Images/2e128a6bffa51e686d8b114d33d164a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oaOsVHf4Xhp0ltqUHH9SUg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图12。</strong>Matplotlib中第一个使用gridspec的复杂轴的例子(图片由作者提供)。</p></figure><h2 id="f70b" class="ni nj jj bd nk nl nm dn nn no np dp nq lq nr ns nt lu nu nv nw ly nx ny nz jp bi translated">示例1使用gridspec</h2><p id="9023" class="pw-post-body-paragraph lh li jj lj b lk oa kt lm ln ob kw lp lq oc ls lt lu od lw lx ly oe ma mb mc im bi translated">作为替代，您也可以使用gridspec语法创建图12。下面是您可以用来创建它的代码。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="b116" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">该代码创建了2行2列。<strong class="lj jt"> <em class="of"> sub1 </em> </strong>和<strong class="lj jt"> <em class="of"> sub2 </em> </strong>放在第一行第0列第1列(记住gridspec是从0索引开始的)。<strong class="lj jt"> <em class="of"> sub3 </em> </strong>放在第二行，取所有列，用<strong class="lj jt"> <em class="of"> : </em> </strong>表示。如果您运行上面的代码，您将得到相同的图，如图12所示。</p><h2 id="2e21" class="ni nj jj bd nk nl nm dn nn no np dp nq lq nr ns nt lu nu nv nw ly nx ny nz jp bi translated">示例2使用add_subplot</h2><p id="06fd" class="pw-post-body-paragraph lh li jj lj b lk oa kt lm ln ob kw lp lq oc ls lt lu od lw lx ly oe ma mb mc im bi translated">复杂轴的第二个例子如图13所示。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pi"><img src="../Images/2ebb3be6802063245622729d0e745488.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vIXspHw-0Kn430tkzzdVdg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图十三。</strong>Matplotlib中使用gridspec的复杂轴的第二个例子(图片由作者提供)。</p></figure><p id="86ae" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您将在图形中生成4个轴:sub1、sub2、sub3和sub4，共2行4列。<strong class="lj jt"> <em class="of"> sub1 </em> </strong>取第一行的所有列。<strong class="lj jt"> <em class="of"> sub2、sub3和sub4 </em> </strong>放置在第二行的每一列上。要生成图12，您可以使用以下代码。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="pe pf l"/></div></figure><h2 id="7508" class="ni nj jj bd nk nl nm dn nn no np dp nq lq nr ns nt lu nu nv nw ly nx ny nz jp bi translated">示例2使用gridspec</h2><p id="e37e" class="pw-post-body-paragraph lh li jj lj b lk oa kt lm ln ob kw lp lq oc ls lt lu od lw lx ly oe ma mb mc im bi translated">要使用gridspec创建图12，可以使用下面的代码。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="a4d9" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我觉得上面的代码已经足够清晰易懂了:d .代码会生成一个情节，如图14所示。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pj"><img src="../Images/acce38cdb8ec5348299e34f0761e3082.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3nPVTB4lvccWdPuWTFJNJw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图14。</strong>Matplotlib中使用gridspec的复杂轴的第二个例子(图片由作者提供)。</p></figure><h2 id="839c" class="ni nj jj bd nk nl nm dn nn no np dp nq lq nr ns nt lu nu nv nw ly nx ny nz jp bi translated">示例3使用add_subplot</h2><p id="26a6" class="pw-post-body-paragraph lh li jj lj b lk oa kt lm ln ob kw lp lq oc ls lt lu od lw lx ly oe ma mb mc im bi translated">第三个例子如图15所示。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pg"><img src="../Images/2ab910e1f7ee6b4a402c50e563093232.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mk1qiaY3T0o7qUmkh-jt9A.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图15。</strong>Matplotlib中复杂轴使用add_subplot的第三个例子(图片由作者提供)。</p></figure><p id="f915" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要创建图15，您可以使用以下代码。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="pe pf l"/></div></figure><h2 id="c9e9" class="ni nj jj bd nk nl nm dn nn no np dp nq lq nr ns nt lu nu nv nw ly nx ny nz jp bi translated">示例3使用gridspec</h2><p id="8330" class="pw-post-body-paragraph lh li jj lj b lk oa kt lm ln ob kw lp lq oc ls lt lu od lw lx ly oe ma mb mc im bi translated">要使用gridspec创建图15，可以使用下面的代码。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="b382" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">结果如图16所示。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pk"><img src="../Images/5020d5535d6b268b06f7926366882ac0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YN6Lul2ODDvF_ceMwYYHBw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图16。</strong>Matplotlib中使用gridspec的复杂轴的第三个例子(图片由作者提供)。</p></figure><h2 id="019d" class="ni nj jj bd nk nl nm dn nn no np dp nq lq nr ns nt lu nu nv nw ly nx ny nz jp bi translated">示例4使用add_subplot</h2><p id="ff8d" class="pw-post-body-paragraph lh li jj lj b lk oa kt lm ln ob kw lp lq oc ls lt lu od lw lx ly oe ma mb mc im bi translated">在最后一个示例中，将指导您在图形中创建6个轴，行数为4，列数为2。如图17所示。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pg"><img src="../Images/430ab8f7d278bde180eb32b3a4cb3e42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kmTbTvm9xF_NYe_2fJEw1A.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图17。</strong>Matplotlib中复杂轴使用add_subplot的第四个例子(图片由作者提供)。</p></figure><p id="529f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要用add_subplot创建它，可以使用下面的代码。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="pe pf l"/></div></figure><h2 id="381b" class="ni nj jj bd nk nl nm dn nn no np dp nq lq nr ns nt lu nu nv nw ly nx ny nz jp bi translated">示例4使用gridspec</h2><p id="9986" class="pw-post-body-paragraph lh li jj lj b lk oa kt lm ln ob kw lp lq oc ls lt lu od lw lx ly oe ma mb mc im bi translated">要用gridspec创建图17，可以使用下面的代码。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="ab83" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">你需要注意<strong class="lj jt"> <em class="of"> sub4 </em> </strong>，放在1:3行1列。行1:3意味着<strong class="lj jt"> <em class="of"> sub4 </em> </strong>将采用行号1和2。请记住，不包括第3行。代码将生成一个图，如图17所示。</p><figure class="mn mo mp mq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pl"><img src="../Images/d57bab78f0a572292573e1ecdaf78983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xJo2KiNjqOBXrXdpqnK42g.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated"><strong class="bd mr">图18。</strong>Matplotlib中使用gridspec的复杂轴的第四个例子(图片由作者提供)。</p></figure><h2 id="1085" class="ni nj jj bd nk nl nm dn nn no np dp nq lq nr ns nt lu nu nv nw ly nx ny nz jp bi translated">结论</h2><p id="970d" class="pw-post-body-paragraph lh li jj lj b lk oa kt lm ln ob kw lp lq oc ls lt lu od lw lx ly oe ma mb mc im bi translated">处理复杂数据时，需要创建一个复杂的绘图来可视化数据。我希望这个故事可以帮助你从不同的角度来可视化你的数据。如果你需要用Matplotlib创建科学发表图，可以访问这个<a class="ae jg" rel="noopener" target="_blank" href="/create-professional-plots-using-matplotlib-63a6863b7363">链接</a>。</p><h2 id="7414" class="ni nj jj bd nk nl nm dn nn no np dp nq lq nr ns nt lu nu nv nw ly nx ny nz jp bi translated">如果你喜欢这篇文章，这里有一些你可能喜欢的其他文章:</h2><div class="is it gp gr iu mt"><a rel="noopener follow" target="_blank" href="/5-powerful-tricks-to-visualize-your-data-with-matplotlib-16bc33747e05"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd jt gy z fp my fr fs mz fu fw js bi translated">使用Matplotlib可视化数据的5个强大技巧</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">如何使用LaTeX字体，创建缩放效果，发件箱图例，连续错误，以及调整框填充边距</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">towardsdatascience.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh ja mt"/></div></div></a></div><div class="is it gp gr iu mt"><a rel="noopener follow" target="_blank" href="/matplotlib-styles-for-scientific-plotting-d023f74515b4"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd jt gy z fp my fr fs mz fu fw js bi translated">用于科学绘图的Matplotlib样式</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">为您的科学数据可视化定制Matplotlib</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">towardsdatascience.com</p></div></div><div class="nc l"><div class="ov l ne nf ng nc nh ja mt"/></div></div></a></div><div class="is it gp gr iu mt"><a rel="noopener follow" target="_blank" href="/creating-colormaps-in-matplotlib-4d4de78a04b8"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd jt gy z fp my fr fs mz fu fw js bi translated">在Matplotlib中创建色彩映射表</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">从颜色列表中创建和定制自己的色彩映射表的指南</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">towardsdatascience.com</p></div></div><div class="nc l"><div class="pm l ne nf ng nc nh ja mt"/></div></div></a></div><div class="is it gp gr iu mt"><a rel="noopener follow" target="_blank" href="/visualizations-with-matplotlib-part-1-c9651008b6b8"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd jt gy z fp my fr fs mz fu fw js bi translated">使用Matplotlib实现Python数据可视化—第1部分</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">完成了从基础到高级的Python绘图的Matplotlib教程，包含90多个示例</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">towardsdatascience.com</p></div></div><div class="nc l"><div class="pn l ne nf ng nc nh ja mt"/></div></div></a></div><div class="is it gp gr iu mt"><a rel="noopener follow" target="_blank" href="/introduction-to-big-data-a-simple-code-to-read-1-25-billion-rows-c02f3f166ec9"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd jt gy z fp my fr fs mz fu fw js bi translated">Vaex大数据简介—读取12.5亿行的简单代码</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">用Python高效读取和可视化12.5亿行星系模拟数据</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">towardsdatascience.com</p></div></div><div class="nc l"><div class="po l ne nf ng nc nh ja mt"/></div></div></a></div><p id="af5d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">仅此而已。感谢您阅读这个故事。喜欢就评论分享。我还建议您关注我的帐户，以便在我发布新故事时收到通知。</p></div></div>    
</body>
</html>